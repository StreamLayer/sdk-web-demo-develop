var xK=Object.defineProperty;var AC=t=>{throw TypeError(t)};var VK=(t,e,n)=>e in t?xK(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var da=(t,e,n)=>VK(t,typeof e!="symbol"?e+"":e,n),SC=(t,e,n)=>e.has(t)||AC("Cannot "+n);var Ue=(t,e,n)=>(SC(t,e,"read from private field"),n?n.call(t):e.get(t)),Wn=(t,e,n)=>e.has(t)?AC("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),yn=(t,e,n,i)=>(SC(t,e,"write to private field"),i?i.call(t,n):e.set(t,n),n);function NK(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();var Ph=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function SS(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xL={exports:{}},p2={},VL={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ap=Symbol.for("react.element"),_K=Symbol.for("react.portal"),kK=Symbol.for("react.fragment"),FK=Symbol.for("react.strict_mode"),LK=Symbol.for("react.profiler"),UK=Symbol.for("react.provider"),BK=Symbol.for("react.context"),WK=Symbol.for("react.forward_ref"),GK=Symbol.for("react.suspense"),ZK=Symbol.for("react.memo"),DK=Symbol.for("react.lazy"),TC=Symbol.iterator;function OK(t){return t===null||typeof t!="object"?null:(t=TC&&t[TC]||t["@@iterator"],typeof t=="function"?t:null)}var NL={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_L=Object.assign,kL={};function Gd(t,e,n){this.props=t,this.context=e,this.refs=kL,this.updater=n||NL}Gd.prototype.isReactComponent={};Gd.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gd.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function FL(){}FL.prototype=Gd.prototype;function TS(t,e,n){this.props=t,this.context=e,this.refs=kL,this.updater=n||NL}var RS=TS.prototype=new FL;RS.constructor=TS;_L(RS,Gd.prototype);RS.isPureReactComponent=!0;var RC=Array.isArray,LL=Object.prototype.hasOwnProperty,CS={current:null},UL={key:!0,ref:!0,__self:!0,__source:!0};function BL(t,e,n){var i,r={},s=null,a=null;if(e!=null)for(i in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)LL.call(e,i)&&!UL.hasOwnProperty(i)&&(r[i]=e[i]);var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];r.children=l}if(t&&t.defaultProps)for(i in o=t.defaultProps,o)r[i]===void 0&&(r[i]=o[i]);return{$$typeof:Ap,type:t,key:s,ref:a,props:r,_owner:CS.current}}function XK(t,e){return{$$typeof:Ap,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function IS(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ap}function MK(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var CC=/\/+/g;function zy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?MK(""+t.key):e.toString(36)}function U1(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ap:case _K:a=!0}}if(a)return a=t,r=r(a),t=i===""?"."+zy(a,0):i,RC(r)?(n="",t!=null&&(n=t.replace(CC,"$&/")+"/"),U1(r,e,n,"",function(c){return c})):r!=null&&(IS(r)&&(r=XK(r,n+(!r.key||a&&a.key===r.key?"":(""+r.key).replace(CC,"$&/")+"/")+t)),e.push(r)),1;if(a=0,i=i===""?".":i+":",RC(t))for(var o=0;o<t.length;o++){s=t[o];var l=i+zy(s,o);a+=U1(s,e,n,l,r)}else if(l=OK(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=i+zy(s,o++),a+=U1(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function N0(t,e,n){if(t==null)return t;var i=[],r=0;return U1(t,i,"","",function(s){return e.call(n,s,r++)}),i}function PK(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Di={current:null},B1={transition:null},YK={ReactCurrentDispatcher:Di,ReactCurrentBatchConfig:B1,ReactCurrentOwner:CS};function WL(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:N0,forEach:function(t,e,n){N0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return N0(t,function(){e++}),e},toArray:function(t){return N0(t,function(e){return e})||[]},only:function(t){if(!IS(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ft.Component=Gd;ft.Fragment=kK;ft.Profiler=LK;ft.PureComponent=TS;ft.StrictMode=FK;ft.Suspense=GK;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=YK;ft.act=WL;ft.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=_L({},t.props),r=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=CS.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)LL.call(e,l)&&!UL.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];i.children=o}return{$$typeof:Ap,type:t.type,key:r,ref:s,props:i,_owner:a}};ft.createContext=function(t){return t={$$typeof:BK,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:UK,_context:t},t.Consumer=t};ft.createElement=BL;ft.createFactory=function(t){var e=BL.bind(null,t);return e.type=t,e};ft.createRef=function(){return{current:null}};ft.forwardRef=function(t){return{$$typeof:WK,render:t}};ft.isValidElement=IS;ft.lazy=function(t){return{$$typeof:DK,_payload:{_status:-1,_result:t},_init:PK}};ft.memo=function(t,e){return{$$typeof:ZK,type:t,compare:e===void 0?null:e}};ft.startTransition=function(t){var e=B1.transition;B1.transition={};try{t()}finally{B1.transition=e}};ft.unstable_act=WL;ft.useCallback=function(t,e){return Di.current.useCallback(t,e)};ft.useContext=function(t){return Di.current.useContext(t)};ft.useDebugValue=function(){};ft.useDeferredValue=function(t){return Di.current.useDeferredValue(t)};ft.useEffect=function(t,e){return Di.current.useEffect(t,e)};ft.useId=function(){return Di.current.useId()};ft.useImperativeHandle=function(t,e,n){return Di.current.useImperativeHandle(t,e,n)};ft.useInsertionEffect=function(t,e){return Di.current.useInsertionEffect(t,e)};ft.useLayoutEffect=function(t,e){return Di.current.useLayoutEffect(t,e)};ft.useMemo=function(t,e){return Di.current.useMemo(t,e)};ft.useReducer=function(t,e,n){return Di.current.useReducer(t,e,n)};ft.useRef=function(t){return Di.current.useRef(t)};ft.useState=function(t){return Di.current.useState(t)};ft.useSyncExternalStore=function(t,e,n){return Di.current.useSyncExternalStore(t,e,n)};ft.useTransition=function(){return Di.current.useTransition()};ft.version="18.3.1";VL.exports=ft;var V=VL.exports;const Hn=SS(V),IC=NK({__proto__:null,default:Hn},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $K=V,jK=Symbol.for("react.element"),KK=Symbol.for("react.fragment"),zK=Object.prototype.hasOwnProperty,JK=$K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HK={key:!0,ref:!0,__self:!0,__source:!0};function GL(t,e,n){var i,r={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(i in e)zK.call(e,i)&&!HK.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:jK,type:t,key:s,ref:a,props:r,_owner:JK.current}}p2.Fragment=KK;p2.jsx=GL;p2.jsxs=GL;xL.exports=p2;var b=xL.exports,kE={},ZL={exports:{}},Ar={},DL={exports:{}},OL={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(me,Q){var q=me.length;me.push(Q);e:for(;0<q;){var Re=q-1>>>1,D=me[Re];if(0<r(D,Q))me[Re]=Q,me[q]=D,q=Re;else break e}}function n(me){return me.length===0?null:me[0]}function i(me){if(me.length===0)return null;var Q=me[0],q=me.pop();if(q!==Q){me[0]=q;e:for(var Re=0,D=me.length,H=D>>>1;Re<H;){var ie=2*(Re+1)-1,ne=me[ie],Se=ie+1,ke=me[Se];if(0>r(ne,q))Se<D&&0>r(ke,ne)?(me[Re]=ke,me[Se]=q,Re=Se):(me[Re]=ne,me[ie]=q,Re=ie);else if(Se<D&&0>r(ke,q))me[Re]=ke,me[Se]=q,Re=Se;else break e}}return Q}function r(me,Q){var q=me.sortIndex-Q.sortIndex;return q!==0?q:me.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,f=3,h=!1,m=!1,p=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(me){for(var Q=n(c);Q!==null;){if(Q.callback===null)i(c);else if(Q.startTime<=me)i(c),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(c)}}function I(me){if(p=!1,S(me),!m)if(n(l)!==null)m=!0,be(w);else{var Q=n(c);Q!==null&&_e(I,Q.startTime-me)}}function w(me,Q){m=!1,p&&(p=!1,y(W),W=-1),h=!0;var q=f;try{for(S(Q),d=n(l);d!==null&&(!(d.expirationTime>Q)||me&&!K());){var Re=d.callback;if(typeof Re=="function"){d.callback=null,f=d.priorityLevel;var D=Re(d.expirationTime<=Q);Q=t.unstable_now(),typeof D=="function"?d.callback=D:d===n(l)&&i(l),S(Q)}else i(l);d=n(l)}if(d!==null)var H=!0;else{var ie=n(c);ie!==null&&_e(I,ie.startTime-Q),H=!1}return H}finally{d=null,f=q,h=!1}}var N=!1,F=null,W=-1,Z=5,O=-1;function K(){return!(t.unstable_now()-O<Z)}function fe(){if(F!==null){var me=t.unstable_now();O=me;var Q=!0;try{Q=F(!0,me)}finally{Q?z():(N=!1,F=null)}}else N=!1}var z;if(typeof E=="function")z=function(){E(fe)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,de=pe.port2;pe.port1.onmessage=fe,z=function(){de.postMessage(null)}}else z=function(){v(fe,0)};function be(me){F=me,N||(N=!0,z())}function _e(me,Q){W=v(function(){me(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(me){me.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,be(w))},t.unstable_forceFrameRate=function(me){0>me||125<me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<me?Math.floor(1e3/me):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(me){switch(f){case 1:case 2:case 3:var Q=3;break;default:Q=f}var q=f;f=Q;try{return me()}finally{f=q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(me,Q){switch(me){case 1:case 2:case 3:case 4:case 5:break;default:me=3}var q=f;f=me;try{return Q()}finally{f=q}},t.unstable_scheduleCallback=function(me,Q,q){var Re=t.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?Re+q:Re):q=Re,me){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=q+D,me={id:u++,callback:Q,priorityLevel:me,startTime:q,expirationTime:D,sortIndex:-1},q>Re?(me.sortIndex=q,e(c,me),n(l)===null&&me===n(c)&&(p?(y(W),W=-1):p=!0,_e(I,q-Re))):(me.sortIndex=D,e(l,me),m||h||(m=!0,be(w))),me},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(me){var Q=f;return function(){var q=f;f=Q;try{return me.apply(this,arguments)}finally{f=q}}}})(OL);DL.exports=OL;var QK=DL.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qK=V,br=QK;function Le(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var XL=new Set,Nf={};function mc(t,e){ed(t,e),ed(t+"Capture",e)}function ed(t,e){for(Nf[t]=e,t=0;t<e.length;t++)XL.add(e[t])}var Ka=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),FE=Object.prototype.hasOwnProperty,ez=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,wC={},xC={};function tz(t){return FE.call(xC,t)?!0:FE.call(wC,t)?!1:ez.test(t)?xC[t]=!0:(wC[t]=!0,!1)}function nz(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iz(t,e,n,i){if(e===null||typeof e>"u"||nz(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Oi(t,e,n,i,r,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var fi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){fi[t]=new Oi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];fi[e]=new Oi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){fi[t]=new Oi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){fi[t]=new Oi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){fi[t]=new Oi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){fi[t]=new Oi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){fi[t]=new Oi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){fi[t]=new Oi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){fi[t]=new Oi(t,5,!1,t.toLowerCase(),null,!1,!1)});var wS=/[\-:]([a-z])/g;function xS(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(wS,xS);fi[e]=new Oi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(wS,xS);fi[e]=new Oi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(wS,xS);fi[e]=new Oi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){fi[t]=new Oi(t,1,!1,t.toLowerCase(),null,!1,!1)});fi.xlinkHref=new Oi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){fi[t]=new Oi(t,1,!1,t.toLowerCase(),null,!0,!0)});function VS(t,e,n,i){var r=fi.hasOwnProperty(e)?fi[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iz(e,n,r,i)&&(n=null),i||r===null?tz(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var so=qK.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_0=Symbol.for("react.element"),iu=Symbol.for("react.portal"),ru=Symbol.for("react.fragment"),NS=Symbol.for("react.strict_mode"),LE=Symbol.for("react.profiler"),ML=Symbol.for("react.provider"),PL=Symbol.for("react.context"),_S=Symbol.for("react.forward_ref"),UE=Symbol.for("react.suspense"),BE=Symbol.for("react.suspense_list"),kS=Symbol.for("react.memo"),wo=Symbol.for("react.lazy"),YL=Symbol.for("react.offscreen"),VC=Symbol.iterator;function vh(t){return t===null||typeof t!="object"?null:(t=VC&&t[VC]||t["@@iterator"],typeof t=="function"?t:null)}var pn=Object.assign,Jy;function Yh(t){if(Jy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jy=e&&e[1]||""}return`
`+Jy+t}var Hy=!1;function Qy(t,e){if(!t||Hy)return"";Hy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),a=r.length-1,o=s.length-1;1<=a&&0<=o&&r[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(r[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||r[a]!==s[o]){var l=`
`+r[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Hy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Yh(t):""}function rz(t){switch(t.tag){case 5:return Yh(t.type);case 16:return Yh("Lazy");case 13:return Yh("Suspense");case 19:return Yh("SuspenseList");case 0:case 2:case 15:return t=Qy(t.type,!1),t;case 11:return t=Qy(t.type.render,!1),t;case 1:return t=Qy(t.type,!0),t;default:return""}}function WE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ru:return"Fragment";case iu:return"Portal";case LE:return"Profiler";case NS:return"StrictMode";case UE:return"Suspense";case BE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case PL:return(t.displayName||"Context")+".Consumer";case ML:return(t._context.displayName||"Context")+".Provider";case _S:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kS:return e=t.displayName||null,e!==null?e:WE(t.type)||"Memo";case wo:e=t._payload,t=t._init;try{return WE(t(e))}catch{}}return null}function sz(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return WE(e);case 8:return e===NS?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ho(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function $L(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function az(t){var e=$L(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(a){i=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(a){i=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function k0(t){t._valueTracker||(t._valueTracker=az(t))}function jL(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=$L(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function xm(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function GE(t,e){var n=e.checked;return pn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function NC(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Ho(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function KL(t,e){e=e.checked,e!=null&&VS(t,"checked",e,!1)}function ZE(t,e){KL(t,e);var n=Ho(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?DE(t,e.type,n):e.hasOwnProperty("defaultValue")&&DE(t,e.type,Ho(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _C(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function DE(t,e,n){(e!=="number"||xm(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var $h=Array.isArray;function Tu(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Ho(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function OE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Le(91));return pn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kC(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Le(92));if($h(n)){if(1<n.length)throw Error(Le(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ho(n)}}function zL(t,e){var n=Ho(e.value),i=Ho(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function FC(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function JL(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function XE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?JL(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var F0,HL=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(F0=F0||document.createElement("div"),F0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=F0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function _f(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var of={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oz=["Webkit","ms","Moz","O"];Object.keys(of).forEach(function(t){oz.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),of[e]=of[t]})});function QL(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||of.hasOwnProperty(t)&&of[t]?(""+e).trim():e+"px"}function qL(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=QL(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var lz=pn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ME(t,e){if(e){if(lz[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Le(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Le(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Le(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Le(62))}}function PE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var YE=null;function FS(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $E=null,Ru=null,Cu=null;function LC(t){if(t=Rp(t)){if(typeof $E!="function")throw Error(Le(280));var e=t.stateNode;e&&(e=v2(e),$E(t.stateNode,t.type,e))}}function eU(t){Ru?Cu?Cu.push(t):Cu=[t]:Ru=t}function tU(){if(Ru){var t=Ru,e=Cu;if(Cu=Ru=null,LC(t),e)for(t=0;t<e.length;t++)LC(e[t])}}function nU(t,e){return t(e)}function iU(){}var qy=!1;function rU(t,e,n){if(qy)return t(e,n);qy=!0;try{return nU(t,e,n)}finally{qy=!1,(Ru!==null||Cu!==null)&&(iU(),tU())}}function kf(t,e){var n=t.stateNode;if(n===null)return null;var i=v2(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Le(231,e,typeof n));return n}var jE=!1;if(Ka)try{var Eh={};Object.defineProperty(Eh,"passive",{get:function(){jE=!0}}),window.addEventListener("test",Eh,Eh),window.removeEventListener("test",Eh,Eh)}catch{jE=!1}function cz(t,e,n,i,r,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var lf=!1,Vm=null,Nm=!1,KE=null,uz={onError:function(t){lf=!0,Vm=t}};function dz(t,e,n,i,r,s,a,o,l){lf=!1,Vm=null,cz.apply(uz,arguments)}function hz(t,e,n,i,r,s,a,o,l){if(dz.apply(this,arguments),lf){if(lf){var c=Vm;lf=!1,Vm=null}else throw Error(Le(198));Nm||(Nm=!0,KE=c)}}function gc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sU(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function UC(t){if(gc(t)!==t)throw Error(Le(188))}function fz(t){var e=t.alternate;if(!e){if(e=gc(t),e===null)throw Error(Le(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return UC(r),t;if(s===i)return UC(r),e;s=s.sibling}throw Error(Le(188))}if(n.return!==i.return)n=r,i=s;else{for(var a=!1,o=r.child;o;){if(o===n){a=!0,n=r,i=s;break}if(o===i){a=!0,i=r,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,i=r;break}if(o===i){a=!0,i=s,n=r;break}o=o.sibling}if(!a)throw Error(Le(189))}}if(n.alternate!==i)throw Error(Le(190))}if(n.tag!==3)throw Error(Le(188));return n.stateNode.current===n?t:e}function aU(t){return t=fz(t),t!==null?oU(t):null}function oU(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=oU(t);if(e!==null)return e;t=t.sibling}return null}var lU=br.unstable_scheduleCallback,BC=br.unstable_cancelCallback,pz=br.unstable_shouldYield,mz=br.unstable_requestPaint,Cn=br.unstable_now,gz=br.unstable_getCurrentPriorityLevel,LS=br.unstable_ImmediatePriority,cU=br.unstable_UserBlockingPriority,_m=br.unstable_NormalPriority,yz=br.unstable_LowPriority,uU=br.unstable_IdlePriority,m2=null,Js=null;function bz(t){if(Js&&typeof Js.onCommitFiberRoot=="function")try{Js.onCommitFiberRoot(m2,t,void 0,(t.current.flags&128)===128)}catch{}}var us=Math.clz32?Math.clz32:Az,vz=Math.log,Ez=Math.LN2;function Az(t){return t>>>=0,t===0?32:31-(vz(t)/Ez|0)|0}var L0=64,U0=4194304;function jh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function km(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~r;o!==0?i=jh(o):(s&=a,s!==0&&(i=jh(s)))}else a=n&~r,a!==0?i=jh(a):s!==0&&(i=jh(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-us(e),r=1<<n,i|=t[n],e&=~r;return i}function Sz(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Tz(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-us(s),o=1<<a,l=r[a];l===-1?(!(o&n)||o&i)&&(r[a]=Sz(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function zE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dU(){var t=L0;return L0<<=1,!(L0&4194240)&&(L0=64),t}function e3(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Sp(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-us(e),t[e]=n}function Rz(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-us(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function US(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-us(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var Ft=0;function hU(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fU,BS,pU,mU,gU,JE=!1,B0=[],Oo=null,Xo=null,Mo=null,Ff=new Map,Lf=new Map,ko=[],Cz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WC(t,e){switch(t){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":Xo=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":Ff.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lf.delete(e.pointerId)}}function Ah(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Rp(e),e!==null&&BS(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function Iz(t,e,n,i,r){switch(e){case"focusin":return Oo=Ah(Oo,t,e,n,i,r),!0;case"dragenter":return Xo=Ah(Xo,t,e,n,i,r),!0;case"mouseover":return Mo=Ah(Mo,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return Ff.set(s,Ah(Ff.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Lf.set(s,Ah(Lf.get(s)||null,t,e,n,i,r)),!0}return!1}function yU(t){var e=Nl(t.target);if(e!==null){var n=gc(e);if(n!==null){if(e=n.tag,e===13){if(e=sU(n),e!==null){t.blockedOn=e,gU(t.priority,function(){pU(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function W1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=HE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);YE=i,n.target.dispatchEvent(i),YE=null}else return e=Rp(n),e!==null&&BS(e),t.blockedOn=n,!1;e.shift()}return!0}function GC(t,e,n){W1(t)&&n.delete(e)}function wz(){JE=!1,Oo!==null&&W1(Oo)&&(Oo=null),Xo!==null&&W1(Xo)&&(Xo=null),Mo!==null&&W1(Mo)&&(Mo=null),Ff.forEach(GC),Lf.forEach(GC)}function Sh(t,e){t.blockedOn===e&&(t.blockedOn=null,JE||(JE=!0,br.unstable_scheduleCallback(br.unstable_NormalPriority,wz)))}function Uf(t){function e(r){return Sh(r,t)}if(0<B0.length){Sh(B0[0],t);for(var n=1;n<B0.length;n++){var i=B0[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Oo!==null&&Sh(Oo,t),Xo!==null&&Sh(Xo,t),Mo!==null&&Sh(Mo,t),Ff.forEach(e),Lf.forEach(e),n=0;n<ko.length;n++)i=ko[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<ko.length&&(n=ko[0],n.blockedOn===null);)yU(n),n.blockedOn===null&&ko.shift()}var Iu=so.ReactCurrentBatchConfig,Fm=!0;function xz(t,e,n,i){var r=Ft,s=Iu.transition;Iu.transition=null;try{Ft=1,WS(t,e,n,i)}finally{Ft=r,Iu.transition=s}}function Vz(t,e,n,i){var r=Ft,s=Iu.transition;Iu.transition=null;try{Ft=4,WS(t,e,n,i)}finally{Ft=r,Iu.transition=s}}function WS(t,e,n,i){if(Fm){var r=HE(t,e,n,i);if(r===null)u3(t,e,i,Lm,n),WC(t,i);else if(Iz(r,t,e,n,i))i.stopPropagation();else if(WC(t,i),e&4&&-1<Cz.indexOf(t)){for(;r!==null;){var s=Rp(r);if(s!==null&&fU(s),s=HE(t,e,n,i),s===null&&u3(t,e,i,Lm,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else u3(t,e,i,null,n)}}var Lm=null;function HE(t,e,n,i){if(Lm=null,t=FS(i),t=Nl(t),t!==null)if(e=gc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sU(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Lm=t,null}function bU(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gz()){case LS:return 1;case cU:return 4;case _m:case yz:return 16;case uU:return 536870912;default:return 16}default:return 16}}var Lo=null,GS=null,G1=null;function vU(){if(G1)return G1;var t,e=GS,n=e.length,i,r="value"in Lo?Lo.value:Lo.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var a=n-t;for(i=1;i<=a&&e[n-i]===r[s-i];i++);return G1=r.slice(t,1<i?1-i:void 0)}function Z1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function W0(){return!0}function ZC(){return!1}function Sr(t){function e(n,i,r,s,a){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?W0:ZC,this.isPropagationStopped=ZC,this}return pn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=W0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=W0)},persist:function(){},isPersistent:W0}),e}var Zd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ZS=Sr(Zd),Tp=pn({},Zd,{view:0,detail:0}),Nz=Sr(Tp),t3,n3,Th,g2=pn({},Tp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:DS,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Th&&(Th&&t.type==="mousemove"?(t3=t.screenX-Th.screenX,n3=t.screenY-Th.screenY):n3=t3=0,Th=t),t3)},movementY:function(t){return"movementY"in t?t.movementY:n3}}),DC=Sr(g2),_z=pn({},g2,{dataTransfer:0}),kz=Sr(_z),Fz=pn({},Tp,{relatedTarget:0}),i3=Sr(Fz),Lz=pn({},Zd,{animationName:0,elapsedTime:0,pseudoElement:0}),Uz=Sr(Lz),Bz=pn({},Zd,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wz=Sr(Bz),Gz=pn({},Zd,{data:0}),OC=Sr(Gz),Zz={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dz={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oz={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xz(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Oz[t])?!!e[t]:!1}function DS(){return Xz}var Mz=pn({},Tp,{key:function(t){if(t.key){var e=Zz[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Z1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dz[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:DS,charCode:function(t){return t.type==="keypress"?Z1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Z1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pz=Sr(Mz),Yz=pn({},g2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XC=Sr(Yz),$z=pn({},Tp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:DS}),jz=Sr($z),Kz=pn({},Zd,{propertyName:0,elapsedTime:0,pseudoElement:0}),zz=Sr(Kz),Jz=pn({},g2,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hz=Sr(Jz),Qz=[9,13,27,32],OS=Ka&&"CompositionEvent"in window,cf=null;Ka&&"documentMode"in document&&(cf=document.documentMode);var qz=Ka&&"TextEvent"in window&&!cf,EU=Ka&&(!OS||cf&&8<cf&&11>=cf),MC=" ",PC=!1;function AU(t,e){switch(t){case"keyup":return Qz.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function SU(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var su=!1;function eJ(t,e){switch(t){case"compositionend":return SU(e);case"keypress":return e.which!==32?null:(PC=!0,MC);case"textInput":return t=e.data,t===MC&&PC?null:t;default:return null}}function tJ(t,e){if(su)return t==="compositionend"||!OS&&AU(t,e)?(t=vU(),G1=GS=Lo=null,su=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return EU&&e.locale!=="ko"?null:e.data;default:return null}}var nJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function YC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nJ[t.type]:e==="textarea"}function TU(t,e,n,i){eU(i),e=Um(e,"onChange"),0<e.length&&(n=new ZS("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var uf=null,Bf=null;function iJ(t){LU(t,0)}function y2(t){var e=lu(t);if(jL(e))return t}function rJ(t,e){if(t==="change")return e}var RU=!1;if(Ka){var r3;if(Ka){var s3="oninput"in document;if(!s3){var $C=document.createElement("div");$C.setAttribute("oninput","return;"),s3=typeof $C.oninput=="function"}r3=s3}else r3=!1;RU=r3&&(!document.documentMode||9<document.documentMode)}function jC(){uf&&(uf.detachEvent("onpropertychange",CU),Bf=uf=null)}function CU(t){if(t.propertyName==="value"&&y2(Bf)){var e=[];TU(e,Bf,t,FS(t)),rU(iJ,e)}}function sJ(t,e,n){t==="focusin"?(jC(),uf=e,Bf=n,uf.attachEvent("onpropertychange",CU)):t==="focusout"&&jC()}function aJ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return y2(Bf)}function oJ(t,e){if(t==="click")return y2(e)}function lJ(t,e){if(t==="input"||t==="change")return y2(e)}function cJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ms=typeof Object.is=="function"?Object.is:cJ;function Wf(t,e){if(ms(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!FE.call(e,r)||!ms(t[r],e[r]))return!1}return!0}function KC(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zC(t,e){var n=KC(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=KC(n)}}function IU(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?IU(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wU(){for(var t=window,e=xm();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=xm(t.document)}return e}function XS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uJ(t){var e=wU(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&IU(n.ownerDocument.documentElement,n)){if(i!==null&&XS(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=zC(n,s);var a=zC(n,i);r&&a&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dJ=Ka&&"documentMode"in document&&11>=document.documentMode,au=null,QE=null,df=null,qE=!1;function JC(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;qE||au==null||au!==xm(i)||(i=au,"selectionStart"in i&&XS(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),df&&Wf(df,i)||(df=i,i=Um(QE,"onSelect"),0<i.length&&(e=new ZS("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=au)))}function G0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ou={animationend:G0("Animation","AnimationEnd"),animationiteration:G0("Animation","AnimationIteration"),animationstart:G0("Animation","AnimationStart"),transitionend:G0("Transition","TransitionEnd")},a3={},xU={};Ka&&(xU=document.createElement("div").style,"AnimationEvent"in window||(delete ou.animationend.animation,delete ou.animationiteration.animation,delete ou.animationstart.animation),"TransitionEvent"in window||delete ou.transitionend.transition);function b2(t){if(a3[t])return a3[t];if(!ou[t])return t;var e=ou[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in xU)return a3[t]=e[n];return t}var VU=b2("animationend"),NU=b2("animationiteration"),_U=b2("animationstart"),kU=b2("transitionend"),FU=new Map,HC="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nl(t,e){FU.set(t,e),mc(e,[t])}for(var o3=0;o3<HC.length;o3++){var l3=HC[o3],hJ=l3.toLowerCase(),fJ=l3[0].toUpperCase()+l3.slice(1);nl(hJ,"on"+fJ)}nl(VU,"onAnimationEnd");nl(NU,"onAnimationIteration");nl(_U,"onAnimationStart");nl("dblclick","onDoubleClick");nl("focusin","onFocus");nl("focusout","onBlur");nl(kU,"onTransitionEnd");ed("onMouseEnter",["mouseout","mouseover"]);ed("onMouseLeave",["mouseout","mouseover"]);ed("onPointerEnter",["pointerout","pointerover"]);ed("onPointerLeave",["pointerout","pointerover"]);mc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));mc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));mc("onBeforeInput",["compositionend","keypress","textInput","paste"]);mc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));mc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));mc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kh));function QC(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,hz(i,e,void 0,t),t.currentTarget=null}function LU(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var a=i.length-1;0<=a;a--){var o=i[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&r.isPropagationStopped())break e;QC(r,o,c),s=l}else for(a=0;a<i.length;a++){if(o=i[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&r.isPropagationStopped())break e;QC(r,o,c),s=l}}}if(Nm)throw t=KE,Nm=!1,KE=null,t}function Ht(t,e){var n=e[rA];n===void 0&&(n=e[rA]=new Set);var i=t+"__bubble";n.has(i)||(UU(e,t,2,!1),n.add(i))}function c3(t,e,n){var i=0;e&&(i|=4),UU(n,t,i,e)}var Z0="_reactListening"+Math.random().toString(36).slice(2);function Gf(t){if(!t[Z0]){t[Z0]=!0,XL.forEach(function(n){n!=="selectionchange"&&(pJ.has(n)||c3(n,!1,t),c3(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Z0]||(e[Z0]=!0,c3("selectionchange",!1,e))}}function UU(t,e,n,i){switch(bU(e)){case 1:var r=xz;break;case 4:r=Vz;break;default:r=WS}n=r.bind(null,e,n,t),r=void 0,!jE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function u3(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var a=i.tag;if(a===3||a===4){var o=i.stateNode.containerInfo;if(o===r||o.nodeType===8&&o.parentNode===r)break;if(a===4)for(a=i.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;a=a.return}for(;o!==null;){if(a=Nl(o),a===null)return;if(l=a.tag,l===5||l===6){i=s=a;continue e}o=o.parentNode}}i=i.return}rU(function(){var c=s,u=FS(n),d=[];e:{var f=FU.get(t);if(f!==void 0){var h=ZS,m=t;switch(t){case"keypress":if(Z1(n)===0)break e;case"keydown":case"keyup":h=Pz;break;case"focusin":m="focus",h=i3;break;case"focusout":m="blur",h=i3;break;case"beforeblur":case"afterblur":h=i3;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=DC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=kz;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=jz;break;case VU:case NU:case _U:h=Uz;break;case kU:h=zz;break;case"scroll":h=Nz;break;case"wheel":h=Hz;break;case"copy":case"cut":case"paste":h=Wz;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=XC}var p=(e&4)!==0,v=!p&&t==="scroll",y=p?f!==null?f+"Capture":null:f;p=[];for(var E=c,S;E!==null;){S=E;var I=S.stateNode;if(S.tag===5&&I!==null&&(S=I,y!==null&&(I=kf(E,y),I!=null&&p.push(Zf(E,I,S)))),v)break;E=E.return}0<p.length&&(f=new h(f,m,null,n,u),d.push({event:f,listeners:p}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==YE&&(m=n.relatedTarget||n.fromElement)&&(Nl(m)||m[za]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=c,m=m?Nl(m):null,m!==null&&(v=gc(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(p=DC,I="onMouseLeave",y="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(p=XC,I="onPointerLeave",y="onPointerEnter",E="pointer"),v=h==null?f:lu(h),S=m==null?f:lu(m),f=new p(I,E+"leave",h,n,u),f.target=v,f.relatedTarget=S,I=null,Nl(u)===c&&(p=new p(y,E+"enter",m,n,u),p.target=S,p.relatedTarget=v,I=p),v=I,h&&m)t:{for(p=h,y=m,E=0,S=p;S;S=xc(S))E++;for(S=0,I=y;I;I=xc(I))S++;for(;0<E-S;)p=xc(p),E--;for(;0<S-E;)y=xc(y),S--;for(;E--;){if(p===y||y!==null&&p===y.alternate)break t;p=xc(p),y=xc(y)}p=null}else p=null;h!==null&&qC(d,f,h,p,!1),m!==null&&v!==null&&qC(d,v,m,p,!0)}}e:{if(f=c?lu(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var w=rJ;else if(YC(f))if(RU)w=lJ;else{w=aJ;var N=sJ}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=oJ);if(w&&(w=w(t,c))){TU(d,w,n,u);break e}N&&N(t,f,c),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&DE(f,"number",f.value)}switch(N=c?lu(c):window,t){case"focusin":(YC(N)||N.contentEditable==="true")&&(au=N,QE=c,df=null);break;case"focusout":df=QE=au=null;break;case"mousedown":qE=!0;break;case"contextmenu":case"mouseup":case"dragend":qE=!1,JC(d,n,u);break;case"selectionchange":if(dJ)break;case"keydown":case"keyup":JC(d,n,u)}var F;if(OS)e:{switch(t){case"compositionstart":var W="onCompositionStart";break e;case"compositionend":W="onCompositionEnd";break e;case"compositionupdate":W="onCompositionUpdate";break e}W=void 0}else su?AU(t,n)&&(W="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(W="onCompositionStart");W&&(EU&&n.locale!=="ko"&&(su||W!=="onCompositionStart"?W==="onCompositionEnd"&&su&&(F=vU()):(Lo=u,GS="value"in Lo?Lo.value:Lo.textContent,su=!0)),N=Um(c,W),0<N.length&&(W=new OC(W,t,null,n,u),d.push({event:W,listeners:N}),F?W.data=F:(F=SU(n),F!==null&&(W.data=F)))),(F=qz?eJ(t,n):tJ(t,n))&&(c=Um(c,"onBeforeInput"),0<c.length&&(u=new OC("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=F))}LU(d,e)})}function Zf(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Um(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=kf(t,n),s!=null&&i.unshift(Zf(t,s,r)),s=kf(t,e),s!=null&&i.push(Zf(t,s,r))),t=t.return}return i}function xc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function qC(t,e,n,i,r){for(var s=e._reactName,a=[];n!==null&&n!==i;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===i)break;o.tag===5&&c!==null&&(o=c,r?(l=kf(n,s),l!=null&&a.unshift(Zf(n,l,o))):r||(l=kf(n,s),l!=null&&a.push(Zf(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var mJ=/\r\n?/g,gJ=/\u0000|\uFFFD/g;function e6(t){return(typeof t=="string"?t:""+t).replace(mJ,`
`).replace(gJ,"")}function D0(t,e,n){if(e=e6(e),e6(t)!==e&&n)throw Error(Le(425))}function Bm(){}var eA=null,tA=null;function nA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var iA=typeof setTimeout=="function"?setTimeout:void 0,yJ=typeof clearTimeout=="function"?clearTimeout:void 0,t6=typeof Promise=="function"?Promise:void 0,bJ=typeof queueMicrotask=="function"?queueMicrotask:typeof t6<"u"?function(t){return t6.resolve(null).then(t).catch(vJ)}:iA;function vJ(t){setTimeout(function(){throw t})}function d3(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),Uf(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);Uf(e)}function Po(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function n6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Dd=Math.random().toString(36).slice(2),Xs="__reactFiber$"+Dd,Df="__reactProps$"+Dd,za="__reactContainer$"+Dd,rA="__reactEvents$"+Dd,EJ="__reactListeners$"+Dd,AJ="__reactHandles$"+Dd;function Nl(t){var e=t[Xs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[za]||n[Xs]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=n6(t);t!==null;){if(n=t[Xs])return n;t=n6(t)}return e}t=n,n=t.parentNode}return null}function Rp(t){return t=t[Xs]||t[za],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function lu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Le(33))}function v2(t){return t[Df]||null}var sA=[],cu=-1;function il(t){return{current:t}}function qt(t){0>cu||(t.current=sA[cu],sA[cu]=null,cu--)}function $t(t,e){cu++,sA[cu]=t.current,t.current=e}var Qo={},Ci=il(Qo),Qi=il(!1),ic=Qo;function td(t,e){var n=t.type.contextTypes;if(!n)return Qo;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function qi(t){return t=t.childContextTypes,t!=null}function Wm(){qt(Qi),qt(Ci)}function i6(t,e,n){if(Ci.current!==Qo)throw Error(Le(168));$t(Ci,e),$t(Qi,n)}function BU(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(Le(108,sz(t)||"Unknown",r));return pn({},n,i)}function Gm(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qo,ic=Ci.current,$t(Ci,t),$t(Qi,Qi.current),!0}function r6(t,e,n){var i=t.stateNode;if(!i)throw Error(Le(169));n?(t=BU(t,e,ic),i.__reactInternalMemoizedMergedChildContext=t,qt(Qi),qt(Ci),$t(Ci,t)):qt(Qi),$t(Qi,n)}var Ca=null,E2=!1,h3=!1;function WU(t){Ca===null?Ca=[t]:Ca.push(t)}function SJ(t){E2=!0,WU(t)}function rl(){if(!h3&&Ca!==null){h3=!0;var t=0,e=Ft;try{var n=Ca;for(Ft=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Ca=null,E2=!1}catch(r){throw Ca!==null&&(Ca=Ca.slice(t+1)),lU(LS,rl),r}finally{Ft=e,h3=!1}}return null}var uu=[],du=0,Zm=null,Dm=0,Nr=[],_r=0,rc=null,La=1,Ua="";function Al(t,e){uu[du++]=Dm,uu[du++]=Zm,Zm=t,Dm=e}function GU(t,e,n){Nr[_r++]=La,Nr[_r++]=Ua,Nr[_r++]=rc,rc=t;var i=La;t=Ua;var r=32-us(i)-1;i&=~(1<<r),n+=1;var s=32-us(e)+r;if(30<s){var a=r-r%5;s=(i&(1<<a)-1).toString(32),i>>=a,r-=a,La=1<<32-us(e)+r|n<<r|i,Ua=s+t}else La=1<<s|n<<r|i,Ua=t}function MS(t){t.return!==null&&(Al(t,1),GU(t,1,0))}function PS(t){for(;t===Zm;)Zm=uu[--du],uu[du]=null,Dm=uu[--du],uu[du]=null;for(;t===rc;)rc=Nr[--_r],Nr[_r]=null,Ua=Nr[--_r],Nr[_r]=null,La=Nr[--_r],Nr[_r]=null}var mr=null,fr=null,an=!1,ss=null;function ZU(t,e){var n=Lr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function s6(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mr=t,fr=Po(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mr=t,fr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=rc!==null?{id:La,overflow:Ua}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Lr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mr=t,fr=null,!0):!1;default:return!1}}function aA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function oA(t){if(an){var e=fr;if(e){var n=e;if(!s6(t,e)){if(aA(t))throw Error(Le(418));e=Po(n.nextSibling);var i=mr;e&&s6(t,e)?ZU(i,n):(t.flags=t.flags&-4097|2,an=!1,mr=t)}}else{if(aA(t))throw Error(Le(418));t.flags=t.flags&-4097|2,an=!1,mr=t}}}function a6(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mr=t}function O0(t){if(t!==mr)return!1;if(!an)return a6(t),an=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!nA(t.type,t.memoizedProps)),e&&(e=fr)){if(aA(t))throw DU(),Error(Le(418));for(;e;)ZU(t,e),e=Po(e.nextSibling)}if(a6(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Le(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){fr=Po(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}fr=null}}else fr=mr?Po(t.stateNode.nextSibling):null;return!0}function DU(){for(var t=fr;t;)t=Po(t.nextSibling)}function nd(){fr=mr=null,an=!1}function YS(t){ss===null?ss=[t]:ss.push(t)}var TJ=so.ReactCurrentBatchConfig;function Rh(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Le(309));var i=n.stateNode}if(!i)throw Error(Le(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=r.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Le(284));if(!n._owner)throw Error(Le(290,t))}return t}function X0(t,e){throw t=Object.prototype.toString.call(e),Error(Le(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function o6(t){var e=t._init;return e(t._payload)}function OU(t){function e(y,E){if(t){var S=y.deletions;S===null?(y.deletions=[E],y.flags|=16):S.push(E)}}function n(y,E){if(!t)return null;for(;E!==null;)e(y,E),E=E.sibling;return null}function i(y,E){for(y=new Map;E!==null;)E.key!==null?y.set(E.key,E):y.set(E.index,E),E=E.sibling;return y}function r(y,E){return y=Ko(y,E),y.index=0,y.sibling=null,y}function s(y,E,S){return y.index=S,t?(S=y.alternate,S!==null?(S=S.index,S<E?(y.flags|=2,E):S):(y.flags|=2,E)):(y.flags|=1048576,E)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,E,S,I){return E===null||E.tag!==6?(E=v3(S,y.mode,I),E.return=y,E):(E=r(E,S),E.return=y,E)}function l(y,E,S,I){var w=S.type;return w===ru?u(y,E,S.props.children,I,S.key):E!==null&&(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===wo&&o6(w)===E.type)?(I=r(E,S.props),I.ref=Rh(y,E,S),I.return=y,I):(I=$1(S.type,S.key,S.props,null,y.mode,I),I.ref=Rh(y,E,S),I.return=y,I)}function c(y,E,S,I){return E===null||E.tag!==4||E.stateNode.containerInfo!==S.containerInfo||E.stateNode.implementation!==S.implementation?(E=E3(S,y.mode,I),E.return=y,E):(E=r(E,S.children||[]),E.return=y,E)}function u(y,E,S,I,w){return E===null||E.tag!==7?(E=$l(S,y.mode,I,w),E.return=y,E):(E=r(E,S),E.return=y,E)}function d(y,E,S){if(typeof E=="string"&&E!==""||typeof E=="number")return E=v3(""+E,y.mode,S),E.return=y,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case _0:return S=$1(E.type,E.key,E.props,null,y.mode,S),S.ref=Rh(y,null,E),S.return=y,S;case iu:return E=E3(E,y.mode,S),E.return=y,E;case wo:var I=E._init;return d(y,I(E._payload),S)}if($h(E)||vh(E))return E=$l(E,y.mode,S,null),E.return=y,E;X0(y,E)}return null}function f(y,E,S,I){var w=E!==null?E.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return w!==null?null:o(y,E,""+S,I);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _0:return S.key===w?l(y,E,S,I):null;case iu:return S.key===w?c(y,E,S,I):null;case wo:return w=S._init,f(y,E,w(S._payload),I)}if($h(S)||vh(S))return w!==null?null:u(y,E,S,I,null);X0(y,S)}return null}function h(y,E,S,I,w){if(typeof I=="string"&&I!==""||typeof I=="number")return y=y.get(S)||null,o(E,y,""+I,w);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case _0:return y=y.get(I.key===null?S:I.key)||null,l(E,y,I,w);case iu:return y=y.get(I.key===null?S:I.key)||null,c(E,y,I,w);case wo:var N=I._init;return h(y,E,S,N(I._payload),w)}if($h(I)||vh(I))return y=y.get(S)||null,u(E,y,I,w,null);X0(E,I)}return null}function m(y,E,S,I){for(var w=null,N=null,F=E,W=E=0,Z=null;F!==null&&W<S.length;W++){F.index>W?(Z=F,F=null):Z=F.sibling;var O=f(y,F,S[W],I);if(O===null){F===null&&(F=Z);break}t&&F&&O.alternate===null&&e(y,F),E=s(O,E,W),N===null?w=O:N.sibling=O,N=O,F=Z}if(W===S.length)return n(y,F),an&&Al(y,W),w;if(F===null){for(;W<S.length;W++)F=d(y,S[W],I),F!==null&&(E=s(F,E,W),N===null?w=F:N.sibling=F,N=F);return an&&Al(y,W),w}for(F=i(y,F);W<S.length;W++)Z=h(F,y,W,S[W],I),Z!==null&&(t&&Z.alternate!==null&&F.delete(Z.key===null?W:Z.key),E=s(Z,E,W),N===null?w=Z:N.sibling=Z,N=Z);return t&&F.forEach(function(K){return e(y,K)}),an&&Al(y,W),w}function p(y,E,S,I){var w=vh(S);if(typeof w!="function")throw Error(Le(150));if(S=w.call(S),S==null)throw Error(Le(151));for(var N=w=null,F=E,W=E=0,Z=null,O=S.next();F!==null&&!O.done;W++,O=S.next()){F.index>W?(Z=F,F=null):Z=F.sibling;var K=f(y,F,O.value,I);if(K===null){F===null&&(F=Z);break}t&&F&&K.alternate===null&&e(y,F),E=s(K,E,W),N===null?w=K:N.sibling=K,N=K,F=Z}if(O.done)return n(y,F),an&&Al(y,W),w;if(F===null){for(;!O.done;W++,O=S.next())O=d(y,O.value,I),O!==null&&(E=s(O,E,W),N===null?w=O:N.sibling=O,N=O);return an&&Al(y,W),w}for(F=i(y,F);!O.done;W++,O=S.next())O=h(F,y,W,O.value,I),O!==null&&(t&&O.alternate!==null&&F.delete(O.key===null?W:O.key),E=s(O,E,W),N===null?w=O:N.sibling=O,N=O);return t&&F.forEach(function(fe){return e(y,fe)}),an&&Al(y,W),w}function v(y,E,S,I){if(typeof S=="object"&&S!==null&&S.type===ru&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case _0:e:{for(var w=S.key,N=E;N!==null;){if(N.key===w){if(w=S.type,w===ru){if(N.tag===7){n(y,N.sibling),E=r(N,S.props.children),E.return=y,y=E;break e}}else if(N.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===wo&&o6(w)===N.type){n(y,N.sibling),E=r(N,S.props),E.ref=Rh(y,N,S),E.return=y,y=E;break e}n(y,N);break}else e(y,N);N=N.sibling}S.type===ru?(E=$l(S.props.children,y.mode,I,S.key),E.return=y,y=E):(I=$1(S.type,S.key,S.props,null,y.mode,I),I.ref=Rh(y,E,S),I.return=y,y=I)}return a(y);case iu:e:{for(N=S.key;E!==null;){if(E.key===N)if(E.tag===4&&E.stateNode.containerInfo===S.containerInfo&&E.stateNode.implementation===S.implementation){n(y,E.sibling),E=r(E,S.children||[]),E.return=y,y=E;break e}else{n(y,E);break}else e(y,E);E=E.sibling}E=E3(S,y.mode,I),E.return=y,y=E}return a(y);case wo:return N=S._init,v(y,E,N(S._payload),I)}if($h(S))return m(y,E,S,I);if(vh(S))return p(y,E,S,I);X0(y,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,E!==null&&E.tag===6?(n(y,E.sibling),E=r(E,S),E.return=y,y=E):(n(y,E),E=v3(S,y.mode,I),E.return=y,y=E),a(y)):n(y,E)}return v}var id=OU(!0),XU=OU(!1),Om=il(null),Xm=null,hu=null,$S=null;function jS(){$S=hu=Xm=null}function KS(t){var e=Om.current;qt(Om),t._currentValue=e}function lA(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function wu(t,e){Xm=t,$S=hu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Hi=!0),t.firstContext=null)}function Dr(t){var e=t._currentValue;if($S!==t)if(t={context:t,memoizedValue:e,next:null},hu===null){if(Xm===null)throw Error(Le(308));hu=t,Xm.dependencies={lanes:0,firstContext:t}}else hu=hu.next=t;return e}var _l=null;function zS(t){_l===null?_l=[t]:_l.push(t)}function MU(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,zS(e)):(n.next=r.next,r.next=n),e.interleaved=n,Ja(t,i)}function Ja(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var xo=!1;function JS(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PU(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pa(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Yo(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,bt&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Ja(t,n)}return r=i.interleaved,r===null?(e.next=e,zS(i)):(e.next=r.next,r.next=e),i.interleaved=e,Ja(t,n)}function D1(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,US(t,n)}}function l6(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Mm(t,e,n,i){var r=t.updateQueue;xo=!1;var s=r.firstBaseUpdate,a=r.lastBaseUpdate,o=r.shared.pending;if(o!==null){r.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;a=0,u=c=l=null,o=s;do{var f=o.lane,h=o.eventTime;if((i&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,p=o;switch(f=e,h=n,p.tag){case 1:if(m=p.payload,typeof m=="function"){d=m.call(h,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,f=typeof m=="function"?m.call(h,d,f):m,f==null)break e;d=pn({},d,f);break e;case 2:xo=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,a|=f;if(o=o.next,o===null){if(o=r.shared.pending,o===null)break;f=o,o=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(u===null&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,e=r.shared.interleaved,e!==null){r=e;do a|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);ac|=a,t.lanes=a,t.memoizedState=d}}function c6(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(Le(191,r));r.call(i)}}}var Cp={},Hs=il(Cp),Of=il(Cp),Xf=il(Cp);function kl(t){if(t===Cp)throw Error(Le(174));return t}function HS(t,e){switch($t(Xf,e),$t(Of,t),$t(Hs,Cp),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:XE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=XE(e,t)}qt(Hs),$t(Hs,e)}function rd(){qt(Hs),qt(Of),qt(Xf)}function YU(t){kl(Xf.current);var e=kl(Hs.current),n=XE(e,t.type);e!==n&&($t(Of,t),$t(Hs,n))}function QS(t){Of.current===t&&(qt(Hs),qt(Of))}var dn=il(0);function Pm(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var f3=[];function qS(){for(var t=0;t<f3.length;t++)f3[t]._workInProgressVersionPrimary=null;f3.length=0}var O1=so.ReactCurrentDispatcher,p3=so.ReactCurrentBatchConfig,sc=0,fn=null,Zn=null,jn=null,Ym=!1,hf=!1,Mf=0,RJ=0;function pi(){throw Error(Le(321))}function e9(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ms(t[n],e[n]))return!1;return!0}function t9(t,e,n,i,r,s){if(sc=s,fn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,O1.current=t===null||t.memoizedState===null?xJ:VJ,t=n(i,r),hf){s=0;do{if(hf=!1,Mf=0,25<=s)throw Error(Le(301));s+=1,jn=Zn=null,e.updateQueue=null,O1.current=NJ,t=n(i,r)}while(hf)}if(O1.current=$m,e=Zn!==null&&Zn.next!==null,sc=0,jn=Zn=fn=null,Ym=!1,e)throw Error(Le(300));return t}function n9(){var t=Mf!==0;return Mf=0,t}function Rs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jn===null?fn.memoizedState=jn=t:jn=jn.next=t,jn}function Or(){if(Zn===null){var t=fn.alternate;t=t!==null?t.memoizedState:null}else t=Zn.next;var e=jn===null?fn.memoizedState:jn.next;if(e!==null)jn=e,Zn=t;else{if(t===null)throw Error(Le(310));Zn=t,t={memoizedState:Zn.memoizedState,baseState:Zn.baseState,baseQueue:Zn.baseQueue,queue:Zn.queue,next:null},jn===null?fn.memoizedState=jn=t:jn=jn.next=t}return jn}function Pf(t,e){return typeof e=="function"?e(t):e}function m3(t){var e=Or(),n=e.queue;if(n===null)throw Error(Le(311));n.lastRenderedReducer=t;var i=Zn,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var a=r.next;r.next=s.next,s.next=a}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((sc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=i):l=l.next=d,fn.lanes|=u,ac|=u}c=c.next}while(c!==null&&c!==s);l===null?a=i:l.next=o,ms(i,e.memoizedState)||(Hi=!0),e.memoizedState=i,e.baseState=a,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,fn.lanes|=s,ac|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function g3(t){var e=Or(),n=e.queue;if(n===null)throw Error(Le(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var a=r=r.next;do s=t(s,a.action),a=a.next;while(a!==r);ms(s,e.memoizedState)||(Hi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function $U(){}function jU(t,e){var n=fn,i=Or(),r=e(),s=!ms(i.memoizedState,r);if(s&&(i.memoizedState=r,Hi=!0),i=i.queue,i9(JU.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||jn!==null&&jn.memoizedState.tag&1){if(n.flags|=2048,Yf(9,zU.bind(null,n,i,r,e),void 0,null),qn===null)throw Error(Le(349));sc&30||KU(n,e,r)}return r}function KU(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function zU(t,e,n,i){e.value=n,e.getSnapshot=i,HU(e)&&QU(t)}function JU(t,e,n){return n(function(){HU(e)&&QU(t)})}function HU(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ms(t,n)}catch{return!0}}function QU(t){var e=Ja(t,1);e!==null&&ds(e,t,1,-1)}function u6(t){var e=Rs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pf,lastRenderedState:t},e.queue=t,t=t.dispatch=wJ.bind(null,fn,t),[e.memoizedState,t]}function Yf(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=fn.updateQueue,e===null?(e={lastEffect:null,stores:null},fn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function qU(){return Or().memoizedState}function X1(t,e,n,i){var r=Rs();fn.flags|=t,r.memoizedState=Yf(1|e,n,void 0,i===void 0?null:i)}function A2(t,e,n,i){var r=Or();i=i===void 0?null:i;var s=void 0;if(Zn!==null){var a=Zn.memoizedState;if(s=a.destroy,i!==null&&e9(i,a.deps)){r.memoizedState=Yf(e,n,s,i);return}}fn.flags|=t,r.memoizedState=Yf(1|e,n,s,i)}function d6(t,e){return X1(8390656,8,t,e)}function i9(t,e){return A2(2048,8,t,e)}function eB(t,e){return A2(4,2,t,e)}function tB(t,e){return A2(4,4,t,e)}function nB(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iB(t,e,n){return n=n!=null?n.concat([t]):null,A2(4,4,nB.bind(null,e,t),n)}function r9(){}function rB(t,e){var n=Or();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&e9(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function sB(t,e){var n=Or();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&e9(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function aB(t,e,n){return sc&21?(ms(n,e)||(n=dU(),fn.lanes|=n,ac|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Hi=!0),t.memoizedState=n)}function CJ(t,e){var n=Ft;Ft=n!==0&&4>n?n:4,t(!0);var i=p3.transition;p3.transition={};try{t(!1),e()}finally{Ft=n,p3.transition=i}}function oB(){return Or().memoizedState}function IJ(t,e,n){var i=jo(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},lB(t))cB(e,n);else if(n=MU(t,e,n,i),n!==null){var r=Zi();ds(n,t,i,r),uB(n,e,i)}}function wJ(t,e,n){var i=jo(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(lB(t))cB(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(r.hasEagerState=!0,r.eagerState=o,ms(o,a)){var l=e.interleaved;l===null?(r.next=r,zS(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=MU(t,e,r,i),n!==null&&(r=Zi(),ds(n,t,i,r),uB(n,e,i))}}function lB(t){var e=t.alternate;return t===fn||e!==null&&e===fn}function cB(t,e){hf=Ym=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function uB(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,US(t,n)}}var $m={readContext:Dr,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},xJ={readContext:Dr,useCallback:function(t,e){return Rs().memoizedState=[t,e===void 0?null:e],t},useContext:Dr,useEffect:d6,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,X1(4194308,4,nB.bind(null,e,t),n)},useLayoutEffect:function(t,e){return X1(4194308,4,t,e)},useInsertionEffect:function(t,e){return X1(4,2,t,e)},useMemo:function(t,e){var n=Rs();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Rs();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=IJ.bind(null,fn,t),[i.memoizedState,t]},useRef:function(t){var e=Rs();return t={current:t},e.memoizedState=t},useState:u6,useDebugValue:r9,useDeferredValue:function(t){return Rs().memoizedState=t},useTransition:function(){var t=u6(!1),e=t[0];return t=CJ.bind(null,t[1]),Rs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=fn,r=Rs();if(an){if(n===void 0)throw Error(Le(407));n=n()}else{if(n=e(),qn===null)throw Error(Le(349));sc&30||KU(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,d6(JU.bind(null,i,s,t),[t]),i.flags|=2048,Yf(9,zU.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=Rs(),e=qn.identifierPrefix;if(an){var n=Ua,i=La;n=(i&~(1<<32-us(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mf++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=RJ++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},VJ={readContext:Dr,useCallback:rB,useContext:Dr,useEffect:i9,useImperativeHandle:iB,useInsertionEffect:eB,useLayoutEffect:tB,useMemo:sB,useReducer:m3,useRef:qU,useState:function(){return m3(Pf)},useDebugValue:r9,useDeferredValue:function(t){var e=Or();return aB(e,Zn.memoizedState,t)},useTransition:function(){var t=m3(Pf)[0],e=Or().memoizedState;return[t,e]},useMutableSource:$U,useSyncExternalStore:jU,useId:oB,unstable_isNewReconciler:!1},NJ={readContext:Dr,useCallback:rB,useContext:Dr,useEffect:i9,useImperativeHandle:iB,useInsertionEffect:eB,useLayoutEffect:tB,useMemo:sB,useReducer:g3,useRef:qU,useState:function(){return g3(Pf)},useDebugValue:r9,useDeferredValue:function(t){var e=Or();return Zn===null?e.memoizedState=t:aB(e,Zn.memoizedState,t)},useTransition:function(){var t=g3(Pf)[0],e=Or().memoizedState;return[t,e]},useMutableSource:$U,useSyncExternalStore:jU,useId:oB,unstable_isNewReconciler:!1};function ns(t,e){if(t&&t.defaultProps){e=pn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function cA(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:pn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var S2={isMounted:function(t){return(t=t._reactInternals)?gc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Zi(),r=jo(t),s=Pa(i,r);s.payload=e,n!=null&&(s.callback=n),e=Yo(t,s,r),e!==null&&(ds(e,t,r,i),D1(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Zi(),r=jo(t),s=Pa(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Yo(t,s,r),e!==null&&(ds(e,t,r,i),D1(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zi(),i=jo(t),r=Pa(n,i);r.tag=2,e!=null&&(r.callback=e),e=Yo(t,r,i),e!==null&&(ds(e,t,i,n),D1(e,t,i))}};function h6(t,e,n,i,r,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,a):e.prototype&&e.prototype.isPureReactComponent?!Wf(n,i)||!Wf(r,s):!0}function dB(t,e,n){var i=!1,r=Qo,s=e.contextType;return typeof s=="object"&&s!==null?s=Dr(s):(r=qi(e)?ic:Ci.current,i=e.contextTypes,s=(i=i!=null)?td(t,r):Qo),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=S2,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function f6(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&S2.enqueueReplaceState(e,e.state,null)}function uA(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},JS(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=Dr(s):(s=qi(e)?ic:Ci.current,r.context=td(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(cA(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&S2.enqueueReplaceState(r,r.state,null),Mm(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function sd(t,e){try{var n="",i=e;do n+=rz(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function y3(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function dA(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var _J=typeof WeakMap=="function"?WeakMap:Map;function hB(t,e,n){n=Pa(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Km||(Km=!0,AA=i),dA(t,e)},n}function fB(t,e,n){n=Pa(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){dA(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){dA(t,e),typeof i!="function"&&($o===null?$o=new Set([this]):$o.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function p6(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new _J;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=YJ.bind(null,t,e,n),e.then(t,t))}function m6(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function g6(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pa(-1,1),e.tag=2,Yo(n,e,1))),n.lanes|=1),t)}var kJ=so.ReactCurrentOwner,Hi=!1;function Fi(t,e,n,i){e.child=t===null?XU(e,null,n,i):id(e,t.child,n,i)}function y6(t,e,n,i,r){n=n.render;var s=e.ref;return wu(e,r),i=t9(t,e,n,i,s,r),n=n9(),t!==null&&!Hi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ha(t,e,r)):(an&&n&&MS(e),e.flags|=1,Fi(t,e,i,r),e.child)}function b6(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!h9(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,pB(t,e,s,i,r)):(t=$1(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Wf,n(a,i)&&t.ref===e.ref)return Ha(t,e,r)}return e.flags|=1,t=Ko(s,i),t.ref=e.ref,t.return=e,e.child=t}function pB(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Wf(s,i)&&t.ref===e.ref)if(Hi=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Hi=!0);else return e.lanes=t.lanes,Ha(t,e,r)}return hA(t,e,n,i,r)}function mB(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$t(pu,dr),dr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$t(pu,dr),dr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,$t(pu,dr),dr|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,$t(pu,dr),dr|=i;return Fi(t,e,r,n),e.child}function gB(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function hA(t,e,n,i,r){var s=qi(n)?ic:Ci.current;return s=td(e,s),wu(e,r),n=t9(t,e,n,i,s,r),i=n9(),t!==null&&!Hi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Ha(t,e,r)):(an&&i&&MS(e),e.flags|=1,Fi(t,e,n,r),e.child)}function v6(t,e,n,i,r){if(qi(n)){var s=!0;Gm(e)}else s=!1;if(wu(e,r),e.stateNode===null)M1(t,e),dB(e,n,i),uA(e,n,i,r),i=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Dr(c):(c=qi(n)?ic:Ci.current,c=td(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==i||l!==c)&&f6(e,a,i,c),xo=!1;var f=e.memoizedState;a.state=f,Mm(e,i,a,r),l=e.memoizedState,o!==i||f!==l||Qi.current||xo?(typeof u=="function"&&(cA(e,n,u,i),l=e.memoizedState),(o=xo||h6(e,n,o,i,f,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),a.props=i,a.state=l,a.context=c,i=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{a=e.stateNode,PU(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:ns(e.type,o),a.props=c,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Dr(l):(l=qi(n)?ic:Ci.current,l=td(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&f6(e,a,i,l),xo=!1,f=e.memoizedState,a.state=f,Mm(e,i,a,r);var m=e.memoizedState;o!==d||f!==m||Qi.current||xo?(typeof h=="function"&&(cA(e,n,h,i),m=e.memoizedState),(c=xo||h6(e,n,c,i,f,m,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(i,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(i,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=m),a.props=i,a.state=m,a.context=l,i=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return fA(t,e,n,i,s,r)}function fA(t,e,n,i,r,s){gB(t,e);var a=(e.flags&128)!==0;if(!i&&!a)return r&&r6(e,n,!1),Ha(t,e,s);i=e.stateNode,kJ.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&a?(e.child=id(e,t.child,null,s),e.child=id(e,null,o,s)):Fi(t,e,o,s),e.memoizedState=i.state,r&&r6(e,n,!0),e.child}function yB(t){var e=t.stateNode;e.pendingContext?i6(t,e.pendingContext,e.pendingContext!==e.context):e.context&&i6(t,e.context,!1),HS(t,e.containerInfo)}function E6(t,e,n,i,r){return nd(),YS(r),e.flags|=256,Fi(t,e,n,i),e.child}var pA={dehydrated:null,treeContext:null,retryLane:0};function mA(t){return{baseLanes:t,cachePool:null,transitions:null}}function bB(t,e,n){var i=e.pendingProps,r=dn.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(r&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),$t(dn,r&1),t===null)return oA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=i.children,t=i.fallback,s?(i=e.mode,s=e.child,a={mode:"hidden",children:a},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=C2(a,i,0,null),t=$l(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=mA(n),e.memoizedState=pA,t):s9(e,a));if(r=t.memoizedState,r!==null&&(o=r.dehydrated,o!==null))return FJ(t,e,a,i,o,r,n);if(s){s=i.fallback,a=e.mode,r=t.child,o=r.sibling;var l={mode:"hidden",children:i.children};return!(a&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ko(r,l),i.subtreeFlags=r.subtreeFlags&14680064),o!==null?s=Ko(o,s):(s=$l(s,a,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,a=t.child.memoizedState,a=a===null?mA(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=pA,i}return s=t.child,t=s.sibling,i=Ko(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function s9(t,e){return e=C2({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function M0(t,e,n,i){return i!==null&&YS(i),id(e,t.child,null,n),t=s9(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FJ(t,e,n,i,r,s,a){if(n)return e.flags&256?(e.flags&=-257,i=y3(Error(Le(422))),M0(t,e,a,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=C2({mode:"visible",children:i.children},r,0,null),s=$l(s,r,a,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&id(e,t.child,null,a),e.child.memoizedState=mA(a),e.memoizedState=pA,s);if(!(e.mode&1))return M0(t,e,a,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var o=i.dgst;return i=o,s=Error(Le(419)),i=y3(s,i,void 0),M0(t,e,a,i)}if(o=(a&t.childLanes)!==0,Hi||o){if(i=qn,i!==null){switch(a&-a){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|a)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Ja(t,r),ds(i,t,r,-1))}return d9(),i=y3(Error(Le(421))),M0(t,e,a,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=$J.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,fr=Po(r.nextSibling),mr=e,an=!0,ss=null,t!==null&&(Nr[_r++]=La,Nr[_r++]=Ua,Nr[_r++]=rc,La=t.id,Ua=t.overflow,rc=e),e=s9(e,i.children),e.flags|=4096,e)}function A6(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),lA(t.return,e,n)}function b3(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function vB(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Fi(t,e,i.children,n),i=dn.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A6(t,n,e);else if(t.tag===19)A6(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if($t(dn,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Pm(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),b3(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Pm(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}b3(e,!0,n,null,s);break;case"together":b3(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function M1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ha(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ac|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Le(153));if(e.child!==null){for(t=e.child,n=Ko(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ko(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function LJ(t,e,n){switch(e.tag){case 3:yB(e),nd();break;case 5:YU(e);break;case 1:qi(e.type)&&Gm(e);break;case 4:HS(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;$t(Om,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?($t(dn,dn.current&1),e.flags|=128,null):n&e.child.childLanes?bB(t,e,n):($t(dn,dn.current&1),t=Ha(t,e,n),t!==null?t.sibling:null);$t(dn,dn.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return vB(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),$t(dn,dn.current),i)break;return null;case 22:case 23:return e.lanes=0,mB(t,e,n)}return Ha(t,e,n)}var EB,gA,AB,SB;EB=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};gA=function(){};AB=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,kl(Hs.current);var s=null;switch(n){case"input":r=GE(t,r),i=GE(t,i),s=[];break;case"select":r=pn({},r,{value:void 0}),i=pn({},i,{value:void 0}),s=[];break;case"textarea":r=OE(t,r),i=OE(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Bm)}ME(n,i);var a;n=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var o=r[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Nf.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var l=i[c];if(o=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Nf.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ht("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};SB=function(t,e,n,i){n!==i&&(e.flags|=4)};function Ch(t,e){if(!an)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function mi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function UJ(t,e,n){var i=e.pendingProps;switch(PS(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mi(e),null;case 1:return qi(e.type)&&Wm(),mi(e),null;case 3:return i=e.stateNode,rd(),qt(Qi),qt(Ci),qS(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(O0(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ss!==null&&(RA(ss),ss=null))),gA(t,e),mi(e),null;case 5:QS(e);var r=kl(Xf.current);if(n=e.type,t!==null&&e.stateNode!=null)AB(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(Le(166));return mi(e),null}if(t=kl(Hs.current),O0(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Xs]=e,i[Df]=s,t=(e.mode&1)!==0,n){case"dialog":Ht("cancel",i),Ht("close",i);break;case"iframe":case"object":case"embed":Ht("load",i);break;case"video":case"audio":for(r=0;r<Kh.length;r++)Ht(Kh[r],i);break;case"source":Ht("error",i);break;case"img":case"image":case"link":Ht("error",i),Ht("load",i);break;case"details":Ht("toggle",i);break;case"input":NC(i,s),Ht("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Ht("invalid",i);break;case"textarea":kC(i,s),Ht("invalid",i)}ME(n,s),r=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?i.textContent!==o&&(s.suppressHydrationWarning!==!0&&D0(i.textContent,o,t),r=["children",o]):typeof o=="number"&&i.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&D0(i.textContent,o,t),r=["children",""+o]):Nf.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Ht("scroll",i)}switch(n){case"input":k0(i),_C(i,s,!0);break;case"textarea":k0(i),FC(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Bm)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{a=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=JL(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=a.createElement(n,{is:i.is}):(t=a.createElement(n),n==="select"&&(a=t,i.multiple?a.multiple=!0:i.size&&(a.size=i.size))):t=a.createElementNS(t,n),t[Xs]=e,t[Df]=i,EB(t,e,!1,!1),e.stateNode=t;e:{switch(a=PE(n,i),n){case"dialog":Ht("cancel",t),Ht("close",t),r=i;break;case"iframe":case"object":case"embed":Ht("load",t),r=i;break;case"video":case"audio":for(r=0;r<Kh.length;r++)Ht(Kh[r],t);r=i;break;case"source":Ht("error",t),r=i;break;case"img":case"image":case"link":Ht("error",t),Ht("load",t),r=i;break;case"details":Ht("toggle",t),r=i;break;case"input":NC(t,i),r=GE(t,i),Ht("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=pn({},i,{value:void 0}),Ht("invalid",t);break;case"textarea":kC(t,i),r=OE(t,i),Ht("invalid",t);break;default:r=i}ME(n,r),o=r;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?qL(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&HL(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&_f(t,l):typeof l=="number"&&_f(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Nf.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ht("scroll",t):l!=null&&VS(t,s,l,a))}switch(n){case"input":k0(t),_C(t,i,!1);break;case"textarea":k0(t),FC(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Ho(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?Tu(t,!!i.multiple,s,!1):i.defaultValue!=null&&Tu(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Bm)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mi(e),null;case 6:if(t&&e.stateNode!=null)SB(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(Le(166));if(n=kl(Xf.current),kl(Hs.current),O0(e)){if(i=e.stateNode,n=e.memoizedProps,i[Xs]=e,(s=i.nodeValue!==n)&&(t=mr,t!==null))switch(t.tag){case 3:D0(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&D0(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Xs]=e,e.stateNode=i}return mi(e),null;case 13:if(qt(dn),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(an&&fr!==null&&e.mode&1&&!(e.flags&128))DU(),nd(),e.flags|=98560,s=!1;else if(s=O0(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(Le(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Le(317));s[Xs]=e}else nd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mi(e),s=!1}else ss!==null&&(RA(ss),ss=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||dn.current&1?Dn===0&&(Dn=3):d9())),e.updateQueue!==null&&(e.flags|=4),mi(e),null);case 4:return rd(),gA(t,e),t===null&&Gf(e.stateNode.containerInfo),mi(e),null;case 10:return KS(e.type._context),mi(e),null;case 17:return qi(e.type)&&Wm(),mi(e),null;case 19:if(qt(dn),s=e.memoizedState,s===null)return mi(e),null;if(i=(e.flags&128)!==0,a=s.rendering,a===null)if(i)Ch(s,!1);else{if(Dn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Pm(t),a!==null){for(e.flags|=128,Ch(s,!1),i=a.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $t(dn,dn.current&1|2),e.child}t=t.sibling}s.tail!==null&&Cn()>ad&&(e.flags|=128,i=!0,Ch(s,!1),e.lanes=4194304)}else{if(!i)if(t=Pm(a),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ch(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!an)return mi(e),null}else 2*Cn()-s.renderingStartTime>ad&&n!==1073741824&&(e.flags|=128,i=!0,Ch(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Cn(),e.sibling=null,n=dn.current,$t(dn,i?n&1|2:n&1),e):(mi(e),null);case 22:case 23:return u9(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?dr&1073741824&&(mi(e),e.subtreeFlags&6&&(e.flags|=8192)):mi(e),null;case 24:return null;case 25:return null}throw Error(Le(156,e.tag))}function BJ(t,e){switch(PS(e),e.tag){case 1:return qi(e.type)&&Wm(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rd(),qt(Qi),qt(Ci),qS(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return QS(e),null;case 13:if(qt(dn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Le(340));nd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return qt(dn),null;case 4:return rd(),null;case 10:return KS(e.type._context),null;case 22:case 23:return u9(),null;case 24:return null;default:return null}}var P0=!1,vi=!1,WJ=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function fu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){vn(t,e,i)}else n.current=null}function yA(t,e,n){try{n()}catch(i){vn(t,e,i)}}var S6=!1;function GJ(t,e){if(eA=Fm,t=wU(),XS(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||r!==0&&d.nodeType!==3||(o=a+r),d!==s||i!==0&&d.nodeType!==3||(l=a+i),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===r&&(o=a),f===s&&++u===i&&(l=a),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(tA={focusedElem:t,selectionRange:n},Fm=!1,Xe=e;Xe!==null;)if(e=Xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Xe=t;else for(;Xe!==null;){e=Xe;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,v=m.memoizedState,y=e.stateNode,E=y.getSnapshotBeforeUpdate(e.elementType===e.type?p:ns(e.type,p),v);y.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Le(163))}}catch(I){vn(e,e.return,I)}if(t=e.sibling,t!==null){t.return=e.return,Xe=t;break}Xe=e.return}return m=S6,S6=!1,m}function ff(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&yA(e,n,s)}r=r.next}while(r!==i)}}function T2(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function bA(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TB(t){var e=t.alternate;e!==null&&(t.alternate=null,TB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xs],delete e[Df],delete e[rA],delete e[EJ],delete e[AJ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function RB(t){return t.tag===5||t.tag===3||t.tag===4}function T6(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||RB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vA(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bm));else if(i!==4&&(t=t.child,t!==null))for(vA(t,e,n),t=t.sibling;t!==null;)vA(t,e,n),t=t.sibling}function EA(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(EA(t,e,n),t=t.sibling;t!==null;)EA(t,e,n),t=t.sibling}var si=null,rs=!1;function mo(t,e,n){for(n=n.child;n!==null;)CB(t,e,n),n=n.sibling}function CB(t,e,n){if(Js&&typeof Js.onCommitFiberUnmount=="function")try{Js.onCommitFiberUnmount(m2,n)}catch{}switch(n.tag){case 5:vi||fu(n,e);case 6:var i=si,r=rs;si=null,mo(t,e,n),si=i,rs=r,si!==null&&(rs?(t=si,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):si.removeChild(n.stateNode));break;case 18:si!==null&&(rs?(t=si,n=n.stateNode,t.nodeType===8?d3(t.parentNode,n):t.nodeType===1&&d3(t,n),Uf(t)):d3(si,n.stateNode));break;case 4:i=si,r=rs,si=n.stateNode.containerInfo,rs=!0,mo(t,e,n),si=i,rs=r;break;case 0:case 11:case 14:case 15:if(!vi&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&yA(n,e,a),r=r.next}while(r!==i)}mo(t,e,n);break;case 1:if(!vi&&(fu(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(o){vn(n,e,o)}mo(t,e,n);break;case 21:mo(t,e,n);break;case 22:n.mode&1?(vi=(i=vi)||n.memoizedState!==null,mo(t,e,n),vi=i):mo(t,e,n);break;default:mo(t,e,n)}}function R6(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new WJ),e.forEach(function(i){var r=jJ.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function Jr(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:si=o.stateNode,rs=!1;break e;case 3:si=o.stateNode.containerInfo,rs=!0;break e;case 4:si=o.stateNode.containerInfo,rs=!0;break e}o=o.return}if(si===null)throw Error(Le(160));CB(s,a,r),si=null,rs=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(c){vn(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)IB(e,t),e=e.sibling}function IB(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jr(e,t),As(t),i&4){try{ff(3,t,t.return),T2(3,t)}catch(p){vn(t,t.return,p)}try{ff(5,t,t.return)}catch(p){vn(t,t.return,p)}}break;case 1:Jr(e,t),As(t),i&512&&n!==null&&fu(n,n.return);break;case 5:if(Jr(e,t),As(t),i&512&&n!==null&&fu(n,n.return),t.flags&32){var r=t.stateNode;try{_f(r,"")}catch(p){vn(t,t.return,p)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&KL(r,s),PE(o,a);var c=PE(o,s);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?qL(r,d):u==="dangerouslySetInnerHTML"?HL(r,d):u==="children"?_f(r,d):VS(r,u,d,c)}switch(o){case"input":ZE(r,s);break;case"textarea":zL(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?Tu(r,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?Tu(r,!!s.multiple,s.defaultValue,!0):Tu(r,!!s.multiple,s.multiple?[]:"",!1))}r[Df]=s}catch(p){vn(t,t.return,p)}}break;case 6:if(Jr(e,t),As(t),i&4){if(t.stateNode===null)throw Error(Le(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(p){vn(t,t.return,p)}}break;case 3:if(Jr(e,t),As(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{Uf(e.containerInfo)}catch(p){vn(t,t.return,p)}break;case 4:Jr(e,t),As(t);break;case 13:Jr(e,t),As(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(l9=Cn())),i&4&&R6(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(vi=(c=vi)||u,Jr(e,t),vi=c):Jr(e,t),As(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Xe=t,u=t.child;u!==null;){for(d=Xe=u;Xe!==null;){switch(f=Xe,h=f.child,f.tag){case 0:case 11:case 14:case 15:ff(4,f,f.return);break;case 1:fu(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(p){vn(i,n,p)}}break;case 5:fu(f,f.return);break;case 22:if(f.memoizedState!==null){I6(d);continue}}h!==null?(h.return=f,Xe=h):I6(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=QL("display",a))}catch(p){vn(t,t.return,p)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(p){vn(t,t.return,p)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Jr(e,t),As(t),i&4&&R6(t);break;case 21:break;default:Jr(e,t),As(t)}}function As(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(RB(n)){var i=n;break e}n=n.return}throw Error(Le(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(_f(r,""),i.flags&=-33);var s=T6(t);EA(t,s,r);break;case 3:case 4:var a=i.stateNode.containerInfo,o=T6(t);vA(t,o,a);break;default:throw Error(Le(161))}}catch(l){vn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ZJ(t,e,n){Xe=t,wB(t)}function wB(t,e,n){for(var i=(t.mode&1)!==0;Xe!==null;){var r=Xe,s=r.child;if(r.tag===22&&i){var a=r.memoizedState!==null||P0;if(!a){var o=r.alternate,l=o!==null&&o.memoizedState!==null||vi;o=P0;var c=vi;if(P0=a,(vi=l)&&!c)for(Xe=r;Xe!==null;)a=Xe,l=a.child,a.tag===22&&a.memoizedState!==null?w6(r):l!==null?(l.return=a,Xe=l):w6(r);for(;s!==null;)Xe=s,wB(s),s=s.sibling;Xe=r,P0=o,vi=c}C6(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Xe=s):C6(t)}}function C6(t){for(;Xe!==null;){var e=Xe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:vi||T2(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!vi)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:ns(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&c6(e,s,i);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}c6(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Uf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Le(163))}vi||e.flags&512&&bA(e)}catch(f){vn(e,e.return,f)}}if(e===t){Xe=null;break}if(n=e.sibling,n!==null){n.return=e.return,Xe=n;break}Xe=e.return}}function I6(t){for(;Xe!==null;){var e=Xe;if(e===t){Xe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Xe=n;break}Xe=e.return}}function w6(t){for(;Xe!==null;){var e=Xe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{T2(4,e)}catch(l){vn(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){vn(e,r,l)}}var s=e.return;try{bA(e)}catch(l){vn(e,s,l)}break;case 5:var a=e.return;try{bA(e)}catch(l){vn(e,a,l)}}}catch(l){vn(e,e.return,l)}if(e===t){Xe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Xe=o;break}Xe=e.return}}var DJ=Math.ceil,jm=so.ReactCurrentDispatcher,a9=so.ReactCurrentOwner,Ur=so.ReactCurrentBatchConfig,bt=0,qn=null,Un=null,hi=0,dr=0,pu=il(0),Dn=0,$f=null,ac=0,R2=0,o9=0,pf=null,$i=null,l9=0,ad=1/0,ma=null,Km=!1,AA=null,$o=null,Y0=!1,Uo=null,zm=0,mf=0,SA=null,P1=-1,Y1=0;function Zi(){return bt&6?Cn():P1!==-1?P1:P1=Cn()}function jo(t){return t.mode&1?bt&2&&hi!==0?hi&-hi:TJ.transition!==null?(Y1===0&&(Y1=dU()),Y1):(t=Ft,t!==0||(t=window.event,t=t===void 0?16:bU(t.type)),t):1}function ds(t,e,n,i){if(50<mf)throw mf=0,SA=null,Error(Le(185));Sp(t,n,i),(!(bt&2)||t!==qn)&&(t===qn&&(!(bt&2)&&(R2|=n),Dn===4&&Fo(t,hi)),er(t,i),n===1&&bt===0&&!(e.mode&1)&&(ad=Cn()+500,E2&&rl()))}function er(t,e){var n=t.callbackNode;Tz(t,e);var i=km(t,t===qn?hi:0);if(i===0)n!==null&&BC(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&BC(n),e===1)t.tag===0?SJ(x6.bind(null,t)):WU(x6.bind(null,t)),bJ(function(){!(bt&6)&&rl()}),n=null;else{switch(hU(i)){case 1:n=LS;break;case 4:n=cU;break;case 16:n=_m;break;case 536870912:n=uU;break;default:n=_m}n=UB(n,xB.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xB(t,e){if(P1=-1,Y1=0,bt&6)throw Error(Le(327));var n=t.callbackNode;if(xu()&&t.callbackNode!==n)return null;var i=km(t,t===qn?hi:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Jm(t,i);else{e=i;var r=bt;bt|=2;var s=NB();(qn!==t||hi!==e)&&(ma=null,ad=Cn()+500,Yl(t,e));do try{MJ();break}catch(o){VB(t,o)}while(!0);jS(),jm.current=s,bt=r,Un!==null?e=0:(qn=null,hi=0,e=Dn)}if(e!==0){if(e===2&&(r=zE(t),r!==0&&(i=r,e=TA(t,r))),e===1)throw n=$f,Yl(t,0),Fo(t,i),er(t,Cn()),n;if(e===6)Fo(t,i);else{if(r=t.current.alternate,!(i&30)&&!OJ(r)&&(e=Jm(t,i),e===2&&(s=zE(t),s!==0&&(i=s,e=TA(t,s))),e===1))throw n=$f,Yl(t,0),Fo(t,i),er(t,Cn()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(Le(345));case 2:Sl(t,$i,ma);break;case 3:if(Fo(t,i),(i&130023424)===i&&(e=l9+500-Cn(),10<e)){if(km(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Zi(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=iA(Sl.bind(null,t,$i,ma),e);break}Sl(t,$i,ma);break;case 4:if(Fo(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var a=31-us(i);s=1<<a,a=e[a],a>r&&(r=a),i&=~s}if(i=r,i=Cn()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*DJ(i/1960))-i,10<i){t.timeoutHandle=iA(Sl.bind(null,t,$i,ma),i);break}Sl(t,$i,ma);break;case 5:Sl(t,$i,ma);break;default:throw Error(Le(329))}}}return er(t,Cn()),t.callbackNode===n?xB.bind(null,t):null}function TA(t,e){var n=pf;return t.current.memoizedState.isDehydrated&&(Yl(t,e).flags|=256),t=Jm(t,e),t!==2&&(e=$i,$i=n,e!==null&&RA(e)),t}function RA(t){$i===null?$i=t:$i.push.apply($i,t)}function OJ(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!ms(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fo(t,e){for(e&=~o9,e&=~R2,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-us(e),i=1<<n;t[n]=-1,e&=~i}}function x6(t){if(bt&6)throw Error(Le(327));xu();var e=km(t,0);if(!(e&1))return er(t,Cn()),null;var n=Jm(t,e);if(t.tag!==0&&n===2){var i=zE(t);i!==0&&(e=i,n=TA(t,i))}if(n===1)throw n=$f,Yl(t,0),Fo(t,e),er(t,Cn()),n;if(n===6)throw Error(Le(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Sl(t,$i,ma),er(t,Cn()),null}function c9(t,e){var n=bt;bt|=1;try{return t(e)}finally{bt=n,bt===0&&(ad=Cn()+500,E2&&rl())}}function oc(t){Uo!==null&&Uo.tag===0&&!(bt&6)&&xu();var e=bt;bt|=1;var n=Ur.transition,i=Ft;try{if(Ur.transition=null,Ft=1,t)return t()}finally{Ft=i,Ur.transition=n,bt=e,!(bt&6)&&rl()}}function u9(){dr=pu.current,qt(pu)}function Yl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yJ(n)),Un!==null)for(n=Un.return;n!==null;){var i=n;switch(PS(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Wm();break;case 3:rd(),qt(Qi),qt(Ci),qS();break;case 5:QS(i);break;case 4:rd();break;case 13:qt(dn);break;case 19:qt(dn);break;case 10:KS(i.type._context);break;case 22:case 23:u9()}n=n.return}if(qn=t,Un=t=Ko(t.current,null),hi=dr=e,Dn=0,$f=null,o9=R2=ac=0,$i=pf=null,_l!==null){for(e=0;e<_l.length;e++)if(n=_l[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var a=s.next;s.next=r,i.next=a}n.pending=i}_l=null}return t}function VB(t,e){do{var n=Un;try{if(jS(),O1.current=$m,Ym){for(var i=fn.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Ym=!1}if(sc=0,jn=Zn=fn=null,hf=!1,Mf=0,a9.current=null,n===null||n.return===null){Dn=1,$f=e,Un=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=hi,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=m6(a);if(h!==null){h.flags&=-257,g6(h,a,o,s,e),h.mode&1&&p6(s,c,e),e=h,l=c;var m=e.updateQueue;if(m===null){var p=new Set;p.add(l),e.updateQueue=p}else m.add(l);break e}else{if(!(e&1)){p6(s,c,e),d9();break e}l=Error(Le(426))}}else if(an&&o.mode&1){var v=m6(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),g6(v,a,o,s,e),YS(sd(l,o));break e}}s=l=sd(l,o),Dn!==4&&(Dn=2),pf===null?pf=[s]:pf.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=hB(s,l,e);l6(s,y);break e;case 1:o=l;var E=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&($o===null||!$o.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var I=fB(s,o,e);l6(s,I);break e}}s=s.return}while(s!==null)}kB(n)}catch(w){e=w,Un===n&&n!==null&&(Un=n=n.return);continue}break}while(!0)}function NB(){var t=jm.current;return jm.current=$m,t===null?$m:t}function d9(){(Dn===0||Dn===3||Dn===2)&&(Dn=4),qn===null||!(ac&268435455)&&!(R2&268435455)||Fo(qn,hi)}function Jm(t,e){var n=bt;bt|=2;var i=NB();(qn!==t||hi!==e)&&(ma=null,Yl(t,e));do try{XJ();break}catch(r){VB(t,r)}while(!0);if(jS(),bt=n,jm.current=i,Un!==null)throw Error(Le(261));return qn=null,hi=0,Dn}function XJ(){for(;Un!==null;)_B(Un)}function MJ(){for(;Un!==null&&!pz();)_B(Un)}function _B(t){var e=LB(t.alternate,t,dr);t.memoizedProps=t.pendingProps,e===null?kB(t):Un=e,a9.current=null}function kB(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=BJ(n,e),n!==null){n.flags&=32767,Un=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dn=6,Un=null;return}}else if(n=UJ(n,e,dr),n!==null){Un=n;return}if(e=e.sibling,e!==null){Un=e;return}Un=e=t}while(e!==null);Dn===0&&(Dn=5)}function Sl(t,e,n){var i=Ft,r=Ur.transition;try{Ur.transition=null,Ft=1,PJ(t,e,n,i)}finally{Ur.transition=r,Ft=i}return null}function PJ(t,e,n,i){do xu();while(Uo!==null);if(bt&6)throw Error(Le(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Le(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Rz(t,s),t===qn&&(Un=qn=null,hi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Y0||(Y0=!0,UB(_m,function(){return xu(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ur.transition,Ur.transition=null;var a=Ft;Ft=1;var o=bt;bt|=4,a9.current=null,GJ(t,n),IB(n,t),uJ(tA),Fm=!!eA,tA=eA=null,t.current=n,ZJ(n),mz(),bt=o,Ft=a,Ur.transition=s}else t.current=n;if(Y0&&(Y0=!1,Uo=t,zm=r),s=t.pendingLanes,s===0&&($o=null),bz(n.stateNode),er(t,Cn()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Km)throw Km=!1,t=AA,AA=null,t;return zm&1&&t.tag!==0&&xu(),s=t.pendingLanes,s&1?t===SA?mf++:(mf=0,SA=t):mf=0,rl(),null}function xu(){if(Uo!==null){var t=hU(zm),e=Ur.transition,n=Ft;try{if(Ur.transition=null,Ft=16>t?16:t,Uo===null)var i=!1;else{if(t=Uo,Uo=null,zm=0,bt&6)throw Error(Le(331));var r=bt;for(bt|=4,Xe=t.current;Xe!==null;){var s=Xe,a=s.child;if(Xe.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Xe=c;Xe!==null;){var u=Xe;switch(u.tag){case 0:case 11:case 15:ff(8,u,s)}var d=u.child;if(d!==null)d.return=u,Xe=d;else for(;Xe!==null;){u=Xe;var f=u.sibling,h=u.return;if(TB(u),u===c){Xe=null;break}if(f!==null){f.return=h,Xe=f;break}Xe=h}}}var m=s.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var v=p.sibling;p.sibling=null,p=v}while(p!==null)}}Xe=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Xe=a;else e:for(;Xe!==null;){if(s=Xe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ff(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Xe=y;break e}Xe=s.return}}var E=t.current;for(Xe=E;Xe!==null;){a=Xe;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,Xe=S;else e:for(a=E;Xe!==null;){if(o=Xe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:T2(9,o)}}catch(w){vn(o,o.return,w)}if(o===a){Xe=null;break e}var I=o.sibling;if(I!==null){I.return=o.return,Xe=I;break e}Xe=o.return}}if(bt=r,rl(),Js&&typeof Js.onPostCommitFiberRoot=="function")try{Js.onPostCommitFiberRoot(m2,t)}catch{}i=!0}return i}finally{Ft=n,Ur.transition=e}}return!1}function V6(t,e,n){e=sd(n,e),e=hB(t,e,1),t=Yo(t,e,1),e=Zi(),t!==null&&(Sp(t,1,e),er(t,e))}function vn(t,e,n){if(t.tag===3)V6(t,t,n);else for(;e!==null;){if(e.tag===3){V6(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&($o===null||!$o.has(i))){t=sd(n,t),t=fB(e,t,1),e=Yo(e,t,1),t=Zi(),e!==null&&(Sp(e,1,t),er(e,t));break}}e=e.return}}function YJ(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Zi(),t.pingedLanes|=t.suspendedLanes&n,qn===t&&(hi&n)===n&&(Dn===4||Dn===3&&(hi&130023424)===hi&&500>Cn()-l9?Yl(t,0):o9|=n),er(t,e)}function FB(t,e){e===0&&(t.mode&1?(e=U0,U0<<=1,!(U0&130023424)&&(U0=4194304)):e=1);var n=Zi();t=Ja(t,e),t!==null&&(Sp(t,e,n),er(t,n))}function $J(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),FB(t,n)}function jJ(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(Le(314))}i!==null&&i.delete(e),FB(t,n)}var LB;LB=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qi.current)Hi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Hi=!1,LJ(t,e,n);Hi=!!(t.flags&131072)}else Hi=!1,an&&e.flags&1048576&&GU(e,Dm,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;M1(t,e),t=e.pendingProps;var r=td(e,Ci.current);wu(e,n),r=t9(null,e,i,t,r,n);var s=n9();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,qi(i)?(s=!0,Gm(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,JS(e),r.updater=S2,e.stateNode=r,r._reactInternals=e,uA(e,i,t,n),e=fA(null,e,i,!0,s,n)):(e.tag=0,an&&s&&MS(e),Fi(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch(M1(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=zJ(i),t=ns(i,t),r){case 0:e=hA(null,e,i,t,n);break e;case 1:e=v6(null,e,i,t,n);break e;case 11:e=y6(null,e,i,t,n);break e;case 14:e=b6(null,e,i,ns(i.type,t),n);break e}throw Error(Le(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ns(i,r),hA(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ns(i,r),v6(t,e,i,r,n);case 3:e:{if(yB(e),t===null)throw Error(Le(387));i=e.pendingProps,s=e.memoizedState,r=s.element,PU(t,e),Mm(e,i,null,n);var a=e.memoizedState;if(i=a.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=sd(Error(Le(423)),e),e=E6(t,e,i,n,r);break e}else if(i!==r){r=sd(Error(Le(424)),e),e=E6(t,e,i,n,r);break e}else for(fr=Po(e.stateNode.containerInfo.firstChild),mr=e,an=!0,ss=null,n=XU(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(nd(),i===r){e=Ha(t,e,n);break e}Fi(t,e,i,n)}e=e.child}return e;case 5:return YU(e),t===null&&oA(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,a=r.children,nA(i,r)?a=null:s!==null&&nA(i,s)&&(e.flags|=32),gB(t,e),Fi(t,e,a,n),e.child;case 6:return t===null&&oA(e),null;case 13:return bB(t,e,n);case 4:return HS(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=id(e,null,i,n):Fi(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ns(i,r),y6(t,e,i,r,n);case 7:return Fi(t,e,e.pendingProps,n),e.child;case 8:return Fi(t,e,e.pendingProps.children,n),e.child;case 12:return Fi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,a=r.value,$t(Om,i._currentValue),i._currentValue=a,s!==null)if(ms(s.value,a)){if(s.children===r.children&&!Qi.current){e=Ha(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Pa(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),lA(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Le(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),lA(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Fi(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,wu(e,n),r=Dr(r),i=i(r),e.flags|=1,Fi(t,e,i,n),e.child;case 14:return i=e.type,r=ns(i,e.pendingProps),r=ns(i.type,r),b6(t,e,i,r,n);case 15:return pB(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ns(i,r),M1(t,e),e.tag=1,qi(i)?(t=!0,Gm(e)):t=!1,wu(e,n),dB(e,i,r),uA(e,i,r,n),fA(null,e,i,!0,t,n);case 19:return vB(t,e,n);case 22:return mB(t,e,n)}throw Error(Le(156,e.tag))};function UB(t,e){return lU(t,e)}function KJ(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(t,e,n,i){return new KJ(t,e,n,i)}function h9(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zJ(t){if(typeof t=="function")return h9(t)?1:0;if(t!=null){if(t=t.$$typeof,t===_S)return 11;if(t===kS)return 14}return 2}function Ko(t,e){var n=t.alternate;return n===null?(n=Lr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $1(t,e,n,i,r,s){var a=2;if(i=t,typeof t=="function")h9(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ru:return $l(n.children,r,s,e);case NS:a=8,r|=8;break;case LE:return t=Lr(12,n,e,r|2),t.elementType=LE,t.lanes=s,t;case UE:return t=Lr(13,n,e,r),t.elementType=UE,t.lanes=s,t;case BE:return t=Lr(19,n,e,r),t.elementType=BE,t.lanes=s,t;case YL:return C2(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ML:a=10;break e;case PL:a=9;break e;case _S:a=11;break e;case kS:a=14;break e;case wo:a=16,i=null;break e}throw Error(Le(130,t==null?t:typeof t,""))}return e=Lr(a,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function $l(t,e,n,i){return t=Lr(7,t,i,e),t.lanes=n,t}function C2(t,e,n,i){return t=Lr(22,t,i,e),t.elementType=YL,t.lanes=n,t.stateNode={isHidden:!1},t}function v3(t,e,n){return t=Lr(6,t,null,e),t.lanes=n,t}function E3(t,e,n){return e=Lr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JJ(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=e3(0),this.expirationTimes=e3(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=e3(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function f9(t,e,n,i,r,s,a,o,l){return t=new JJ(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Lr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},JS(s),t}function HJ(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:iu,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function BB(t){if(!t)return Qo;t=t._reactInternals;e:{if(gc(t)!==t||t.tag!==1)throw Error(Le(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(qi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Le(171))}if(t.tag===1){var n=t.type;if(qi(n))return BU(t,n,e)}return e}function WB(t,e,n,i,r,s,a,o,l){return t=f9(n,i,!0,t,r,s,a,o,l),t.context=BB(null),n=t.current,i=Zi(),r=jo(n),s=Pa(i,r),s.callback=e??null,Yo(n,s,r),t.current.lanes=r,Sp(t,r,i),er(t,i),t}function I2(t,e,n,i){var r=e.current,s=Zi(),a=jo(r);return n=BB(n),e.context===null?e.context=n:e.pendingContext=n,e=Pa(s,a),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Yo(r,e,a),t!==null&&(ds(t,r,a,s),D1(t,r,a)),a}function Hm(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function N6(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function p9(t,e){N6(t,e),(t=t.alternate)&&N6(t,e)}function QJ(){return null}var GB=typeof reportError=="function"?reportError:function(t){console.error(t)};function m9(t){this._internalRoot=t}w2.prototype.render=m9.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Le(409));I2(t,e,null,null)};w2.prototype.unmount=m9.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oc(function(){I2(null,t,null,null)}),e[za]=null}};function w2(t){this._internalRoot=t}w2.prototype.unstable_scheduleHydration=function(t){if(t){var e=mU();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ko.length&&e!==0&&e<ko[n].priority;n++);ko.splice(n,0,t),n===0&&yU(t)}};function g9(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function x2(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _6(){}function qJ(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Hm(a);s.call(c)}}var a=WB(e,i,t,0,null,!1,!1,"",_6);return t._reactRootContainer=a,t[za]=a.current,Gf(t.nodeType===8?t.parentNode:t),oc(),a}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var o=i;i=function(){var c=Hm(l);o.call(c)}}var l=f9(t,0,!1,null,null,!1,!1,"",_6);return t._reactRootContainer=l,t[za]=l.current,Gf(t.nodeType===8?t.parentNode:t),oc(function(){I2(e,l,n,i)}),l}function V2(t,e,n,i,r){var s=n._reactRootContainer;if(s){var a=s;if(typeof r=="function"){var o=r;r=function(){var l=Hm(a);o.call(l)}}I2(e,a,t,r)}else a=qJ(n,e,t,r,i);return Hm(a)}fU=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=jh(e.pendingLanes);n!==0&&(US(e,n|1),er(e,Cn()),!(bt&6)&&(ad=Cn()+500,rl()))}break;case 13:oc(function(){var i=Ja(t,1);if(i!==null){var r=Zi();ds(i,t,1,r)}}),p9(t,1)}};BS=function(t){if(t.tag===13){var e=Ja(t,134217728);if(e!==null){var n=Zi();ds(e,t,134217728,n)}p9(t,134217728)}};pU=function(t){if(t.tag===13){var e=jo(t),n=Ja(t,e);if(n!==null){var i=Zi();ds(n,t,e,i)}p9(t,e)}};mU=function(){return Ft};gU=function(t,e){var n=Ft;try{return Ft=t,e()}finally{Ft=n}};$E=function(t,e,n){switch(e){case"input":if(ZE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=v2(i);if(!r)throw Error(Le(90));jL(i),ZE(i,r)}}}break;case"textarea":zL(t,n);break;case"select":e=n.value,e!=null&&Tu(t,!!n.multiple,e,!1)}};nU=c9;iU=oc;var eH={usingClientEntryPoint:!1,Events:[Rp,lu,v2,eU,tU,c9]},Ih={findFiberByHostInstance:Nl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tH={bundleType:Ih.bundleType,version:Ih.version,rendererPackageName:Ih.rendererPackageName,rendererConfig:Ih.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:so.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=aU(t),t===null?null:t.stateNode},findFiberByHostInstance:Ih.findFiberByHostInstance||QJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$0.isDisabled&&$0.supportsFiber)try{m2=$0.inject(tH),Js=$0}catch{}}Ar.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eH;Ar.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g9(e))throw Error(Le(200));return HJ(t,e,null,n)};Ar.createRoot=function(t,e){if(!g9(t))throw Error(Le(299));var n=!1,i="",r=GB;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=f9(t,1,!1,null,null,n,!1,i,r),t[za]=e.current,Gf(t.nodeType===8?t.parentNode:t),new m9(e)};Ar.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Le(188)):(t=Object.keys(t).join(","),Error(Le(268,t)));return t=aU(e),t=t===null?null:t.stateNode,t};Ar.flushSync=function(t){return oc(t)};Ar.hydrate=function(t,e,n){if(!x2(e))throw Error(Le(200));return V2(null,t,e,!0,n)};Ar.hydrateRoot=function(t,e,n){if(!g9(t))throw Error(Le(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",a=GB;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=WB(e,null,t,1,n??null,r,!1,s,a),t[za]=e.current,Gf(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new w2(e)};Ar.render=function(t,e,n){if(!x2(e))throw Error(Le(200));return V2(null,t,e,!1,n)};Ar.unmountComponentAtNode=function(t){if(!x2(t))throw Error(Le(40));return t._reactRootContainer?(oc(function(){V2(null,null,t,!1,function(){t._reactRootContainer=null,t[za]=null})}),!0):!1};Ar.unstable_batchedUpdates=c9;Ar.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!x2(n))throw Error(Le(200));if(t==null||t._reactInternals===void 0)throw Error(Le(38));return V2(t,e,n,!1,i)};Ar.version="18.3.1-next-f1338f8080-20240426";function ZB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZB)}catch(t){console.error(t)}}ZB(),ZL.exports=Ar;var jf=ZL.exports,k6=jf;kE.createRoot=k6.createRoot,kE.hydrateRoot=k6.hydrateRoot;var y9={exports:{}};function nH(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var iH=rH;function rH(t,e,n){var i=n&&n.stringify||nH,r=1;if(typeof t=="object"&&t!==null){var s=e.length+r;if(s===1)return t;var a=new Array(s);a[0]=i(t);for(var o=1;o<s;o++)a[o]=i(e[o]);return a.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var c="",u=1-r,d=-1,f=t&&t.length||0,h=0;h<f;){if(t.charCodeAt(h)===37&&h+1<f){switch(d=d>-1?d:0,t.charCodeAt(h+1)){case 100:case 102:if(u>=l||e[u]==null)break;d<h&&(c+=t.slice(d,h)),c+=Number(e[u]),d=h+2,h++;break;case 105:if(u>=l||e[u]==null)break;d<h&&(c+=t.slice(d,h)),c+=Math.floor(Number(e[u])),d=h+2,h++;break;case 79:case 111:case 106:if(u>=l||e[u]===void 0)break;d<h&&(c+=t.slice(d,h));var m=typeof e[u];if(m==="string"){c+="'"+e[u]+"'",d=h+2,h++;break}if(m==="function"){c+=e[u].name||"<anonymous>",d=h+2,h++;break}c+=i(e[u]),d=h+2,h++;break;case 115:if(u>=l)break;d<h&&(c+=t.slice(d,h)),c+=String(e[u]),d=h+2,h++;break;case 37:d<h&&(c+=t.slice(d,h)),c+="%",d=h+2,h++,u--;break}++u}++h}return d===-1?t:(d<f&&(c+=t.slice(d)),c)}const F6=iH;y9.exports=Qa;const Kf=vH().console||{},sH={mapHttpRequest:j0,mapHttpResponse:j0,wrapRequestSerializer:A3,wrapResponseSerializer:A3,wrapErrorSerializer:A3,req:j0,res:j0,err:U6,errWithCause:U6};function Bo(t,e){return t==="silent"?1/0:e.levels.values[t]}const b9=Symbol("pino.logFuncs"),CA=Symbol("pino.hierarchy"),aH={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function L6(t,e){const n={logger:e,parent:t[CA]};e[CA]=n}function oH(t,e,n){const i={};e.forEach(r=>{i[r]=n[r]?n[r]:Kf[r]||Kf[aH[r]||"log"]||Vu}),t[b9]=i}function lH(t,e){return Array.isArray(t)?t.filter(function(i){return i!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function Qa(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||Kf;t.browser.write&&(t.browser.asObject=!0);const i=t.serializers||{},r=lH(t.browser.serialize,i);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const a=Object.keys(t.customLevels||{}),o=["error","fatal","warn","info","debug","trace"].concat(a);typeof n=="function"&&o.forEach(function(p){n[p]=n}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");const l=t.level||"info",c=Object.create(n);c.log||(c.log=Vu),oH(c,o,n),L6({},c),Object.defineProperty(c,"levelVal",{get:d}),Object.defineProperty(c,"level",{get:f,set:h});const u={transmit:e,serialize:r,asObject:t.browser.asObject,asObjectBindingsOnly:t.browser.asObjectBindingsOnly,formatters:t.browser.formatters,reportCaller:t.browser.reportCaller,levels:o,timestamp:gH(t),messageKey:t.messageKey||"msg",onChild:t.onChild||Vu};c.levels=cH(t),c.level=l,c.isLevelEnabled=function(p){return this.levels.values[p]?this.levels.values[p]>=this.levels.values[this.level]:!1},c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=Vu,c.serializers=i,c._serialize=r,c._stdErrSerialize=s,c.child=function(...p){return m.call(this,u,...p)},e&&(c._logEvent=IA());function d(){return Bo(this.level,this)}function f(){return this._level}function h(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,fl(this,u,c,"error"),fl(this,u,c,"fatal"),fl(this,u,c,"warn"),fl(this,u,c,"info"),fl(this,u,c,"debug"),fl(this,u,c,"trace"),a.forEach(v=>{fl(this,u,c,v)})}function m(p,v,y){if(!v)throw new Error("missing bindings for child Pino");y=y||{},r&&v.serializers&&(y.serializers=v.serializers);const E=y.serializers;if(r&&E){var S=Object.assign({},i,E),I=t.browser.serialize===!0?Object.keys(S):r;delete v.serializers,v9([v],I,S,this._stdErrSerialize)}function w(F){this._childLevel=(F._childLevel|0)+1,this.bindings=v,S&&(this.serializers=S,this._serialize=I),e&&(this._logEvent=IA([].concat(F._logEvent.bindings,v)))}w.prototype=this;const N=new w(this);return L6(this,N),N.child=function(...F){return m.call(this,p,...F)},N.level=y.level||this.level,p.onChild(N),N}return c}function cH(t){const e=t.customLevels||{},n=Object.assign({},Qa.levels.values,e),i=Object.assign({},Qa.levels.labels,uH(e));return{values:n,labels:i}}function uH(t){const e={};return Object.keys(t).forEach(function(n){e[t[n]]=n}),e}Qa.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};Qa.stdSerializers=sH;Qa.stdTimeFunctions=Object.assign({},{nullTime:DB,epochTime:OB,unixTime:yH,isoTime:bH});function dH(t){const e=[];t.bindings&&e.push(t.bindings);let n=t[CA];for(;n.parent;)n=n.parent,n.logger.bindings&&e.push(n.logger.bindings);return e.reverse()}function fl(t,e,n,i){if(Object.defineProperty(t,i,{value:Bo(t.level,n)>Bo(i,n)?Vu:n[b9][i],writable:!0,enumerable:!0,configurable:!0}),t[i]===Vu){if(!e.transmit)return;const s=e.transmit.level||t.level,a=Bo(s,n);if(Bo(i,n)<a)return}t[i]=fH(t,e,n,i);const r=dH(t);r.length!==0&&(t[i]=hH(r,t[i]))}function hH(t,e){return function(){return e.apply(this,[...t,...arguments])}}function fH(t,e,n,i){return function(r){return function(){const a=e.timestamp(),o=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Kf?Kf:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];var u=!1;if(e.serialize&&(v9(o,this._serialize,this.serializers,this._stdErrSerialize),u=!0),e.asObject||e.formatters){const d=pH(this,i,o,a,e);if(e.reportCaller&&d&&d.length>0&&d[0]&&typeof d[0]=="object")try{const f=B6();f&&(d[0].caller=f)}catch{}r.call(l,...d)}else{if(e.reportCaller)try{const d=B6();d&&o.push(d)}catch{}r.apply(l,o)}if(e.transmit){const d=e.transmit.level||t._level,f=Bo(d,n),h=Bo(i,n);if(h<f)return;mH(this,{ts:a,methodLevel:i,methodValue:h,transmitValue:n.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:Bo(t._level,n)},o,u)}}}(t[b9][i])}function pH(t,e,n,i,r){const{level:s,log:a=d=>d}=r.formatters||{},o=n.slice();let l=o[0];const c={};let u=(t._childLevel|0)+1;if(u<1&&(u=1),i&&(c.time=i),s){const d=s(e,t.levels.values[e]);Object.assign(c,d)}else c.level=t.levels.values[e];if(r.asObjectBindingsOnly){if(l!==null&&typeof l=="object")for(;u--&&typeof o[0]=="object";)Object.assign(c,o.shift());return[a(c),...o]}else{if(l!==null&&typeof l=="object"){for(;u--&&typeof o[0]=="object";)Object.assign(c,o.shift());l=o.length?F6(o.shift(),o):void 0}else typeof l=="string"&&(l=F6(o.shift(),o));return l!==void 0&&(c[r.messageKey]=l),[a(c)]}}function v9(t,e,n,i){for(const r in t)if(i&&t[r]instanceof Error)t[r]=Qa.stdSerializers.err(t[r]);else if(typeof t[r]=="object"&&!Array.isArray(t[r])&&e)for(const s in t[r])e.indexOf(s)>-1&&s in n&&(t[r][s]=n[s](t[r][s]))}function mH(t,e,n,i=!1){const r=e.send,s=e.ts,a=e.methodLevel,o=e.methodValue,l=e.val,c=t._logEvent.bindings;i||v9(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=n.filter(function(u){return c.indexOf(u)===-1}),t._logEvent.level.label=a,t._logEvent.level.value=o,r(a,t._logEvent,l),t._logEvent=IA(c)}function IA(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function U6(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function gH(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?DB:OB}function j0(){return{}}function A3(t){return t}function Vu(){}function DB(){return!1}function OB(){return Date.now()}function yH(){return Math.round(Date.now()/1e3)}function bH(){return new Date(Date.now()).toISOString()}function vH(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}y9.exports.default=Qa;var XB=y9.exports.pino=Qa;function B6(){const t=new Error().stack;if(!t)return null;const e=t.split(`
`);for(let n=1;n<e.length;n++){const i=e[n].trim();if(/(^at\s+)?(createWrap|LOG|set\s*\(|asObject|Object\.apply|Function\.apply)/.test(i)||i.indexOf("browser.js")!==-1||i.indexOf("node:internal")!==-1||i.indexOf("node_modules")!==-1)continue;let r=i.match(/\((.*?):(\d+):(\d+)\)/);if(r||(r=i.match(/at\s+(.*?):(\d+):(\d+)/)),r){const s=r[1],a=r[2],o=r[3];return s+":"+a+":"+o}}return null}let S3=0,W6=[];function EH(){return S3+=1,()=>{if(S3-=1,S3===0){let t=W6;W6=[];for(let e of t)e()}}}let Hr=[],go=0;const K0=4;let j1=0;const qa=t=>{let e=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},lc:0,listen(i){return n.lc=e.push(i),()=>{for(let s=go+K0;s<Hr.length;)Hr[s]===i?Hr.splice(s,K0):s+=K0;let r=e.indexOf(i);~r&&(e.splice(r,1),--n.lc||n.off())}},notify(i,r){j1++;let s=!Hr.length;for(let a of e)Hr.push(a,n.value,i,r);if(s){for(go=0;go<Hr.length;go+=K0)Hr[go](Hr[go+1],Hr[go+2],Hr[go+3]);Hr.length=0}},off(){},set(i){let r=n.value;r!==i&&(n.value=i,n.notify(r))},subscribe(i){let r=n.listen(i);return i(n.value),r},value:t};return n},AH=0,SH=1,TH=5,z0=6,J0=10;let E9=(t,e,n,i)=>(t.events=t.events||{},t.events[n+J0]||(t.events[n+J0]=i(r=>{t.events[n].reduceRight((s,a)=>(a(s),s),{shared:{},...r})})),t.events[n]=t.events[n]||[],t.events[n].push(e),()=>{let r=t.events[n],s=r.indexOf(e);r.splice(s,1),r.length||(delete t.events[n],t.events[n+J0](),delete t.events[n+J0])}),MB=(t,e)=>E9(t,e,AH,n=>{let i=t.listen;return t.listen=r=>(!t.lc&&!t.starting&&(t.starting=!0,n(),delete t.starting),i(r)),()=>{t.listen=i}}),G6=(t,e)=>E9(t,e,SH,n=>{let i=t.off;return t.off=()=>{n(),i()},()=>{t.off=i}}),RH=1e3,N2=(t,e)=>E9(t,i=>{let r=e(i);r&&t.events[z0].push(r)},TH,i=>{let r=t.listen;t.listen=(...a)=>(!t.lc&&!t.active&&(t.active=!0,i()),r(...a));let s=t.off;return t.events[z0]=[],t.off=()=>{s(),setTimeout(()=>{if(t.active&&!t.lc){t.active=!1;for(let a of t.events[z0])a();t.events[z0]=[]}},RH)},()=>{t.listen=r,t.off=s}}),PB=(t,e,n)=>{Array.isArray(t)||(t=[t]);let i,r,s=()=>{if(r===j1)return;r=j1;let u=t.map(d=>d.get());if(!i||u.some((d,f)=>d!==i[f])){i=u;let d=e(...u);d&&d.then&&d.t?d.then(f=>{i===u&&a.set(f)}):(a.set(d),r=j1)}},a=qa(void 0),o=a.get;a.get=()=>(s(),o());let l,c=n?()=>{clearTimeout(l),l=setTimeout(s)}:s;return N2(a,()=>{let u=t.map(d=>d.listen(c));return s(),()=>{for(let d of u)d()}}),a};const CH=(t,e)=>PB(t,e),wA=(t,e)=>PB(t,e,!0);function IH(t,e,n){let i=new Set(e).add(void 0);return t.listen((r,s,a)=>{i.has(a)&&n(r,s,a)})}const xA=(t={})=>{let e=qa(t);return e.setKey=function(n,i){let r=e.value;typeof i>"u"&&n in e.value?(e.value={...e.value},delete e.value[n],e.notify(r,n)):e.value[n]!==i&&(e.value={...e.value,[n]:i},e.notify(r,n))},e},wH=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function YB(t){return typeof t=="string"&&wH.test(t)}function Z6(t){if(!YB(t))throw TypeError("Invalid UUID");let e;return Uint8Array.of((e=parseInt(t.slice(0,8),16))>>>24,e>>>16&255,e>>>8&255,e&255,(e=parseInt(t.slice(9,13),16))>>>8,e&255,(e=parseInt(t.slice(14,18),16))>>>8,e&255,(e=parseInt(t.slice(19,23),16))>>>8,e&255,(e=parseInt(t.slice(24,36),16))/1099511627776&255,e/4294967296&255,e>>>24&255,e>>>16&255,e>>>8&255,e&255)}const ri=[];for(let t=0;t<256;++t)ri.push((t+256).toString(16).slice(1));function $B(t,e=0){return(ri[t[e+0]]+ri[t[e+1]]+ri[t[e+2]]+ri[t[e+3]]+"-"+ri[t[e+4]]+ri[t[e+5]]+"-"+ri[t[e+6]]+ri[t[e+7]]+"-"+ri[t[e+8]]+ri[t[e+9]]+"-"+ri[t[e+10]]+ri[t[e+11]]+ri[t[e+12]]+ri[t[e+13]]+ri[t[e+14]]+ri[t[e+15]]).toLowerCase()}let T3;const xH=new Uint8Array(16);function VH(){if(!T3){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");T3=crypto.getRandomValues.bind(crypto)}return T3(xH)}function NH(t){t=unescape(encodeURIComponent(t));const e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n);return e}const _H="6ba7b810-9dad-11d1-80b4-00c04fd430c8",kH="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function FH(t,e,n,i,r,s){const a=typeof n=="string"?NH(n):n,o=typeof i=="string"?Z6(i):i;if(typeof i=="string"&&(i=Z6(i)),(i==null?void 0:i.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+a.length);if(l.set(o),l.set(a,o.length),l=e(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,r){s=s||0;for(let c=0;c<16;++c)r[s+c]=l[c];return r}return $B(l)}const LH=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),D6={randomUUID:LH};function UH(t,e,n){var r;t=t||{};const i=t.random??((r=t.rng)==null?void 0:r.call(t))??VH();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,$B(i)}function Wo(t,e,n){return D6.randomUUID?D6.randomUUID():UH(t)}function BH(t,e,n,i){switch(t){case 0:return e&n^~e&i;case 1:return e^n^i;case 2:return e&n^e&i^n&i;case 3:return e^n^i}}function R3(t,e){return t<<e|t>>>32-e}function WH(t){const e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520],i=new Uint8Array(t.length+1);i.set(t),i[t.length]=128,t=i;const r=t.length/4+2,s=Math.ceil(r/16),a=new Array(s);for(let o=0;o<s;++o){const l=new Uint32Array(16);for(let c=0;c<16;++c)l[c]=t[o*64+c*4]<<24|t[o*64+c*4+1]<<16|t[o*64+c*4+2]<<8|t[o*64+c*4+3];a[o]=l}a[s-1][14]=(t.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(t.length-1)*8&4294967295;for(let o=0;o<s;++o){const l=new Uint32Array(80);for(let m=0;m<16;++m)l[m]=a[o][m];for(let m=16;m<80;++m)l[m]=R3(l[m-3]^l[m-8]^l[m-14]^l[m-16],1);let c=n[0],u=n[1],d=n[2],f=n[3],h=n[4];for(let m=0;m<80;++m){const p=Math.floor(m/20),v=R3(c,5)+BH(p,u,d,f)+h+e[p]+l[m]>>>0;h=f,f=d,d=R3(u,30)>>>0,u=c,c=v}n[0]=n[0]+c>>>0,n[1]=n[1]+u>>>0,n[2]=n[2]+d>>>0,n[3]=n[3]+f>>>0,n[4]=n[4]+h>>>0}return Uint8Array.of(n[0]>>24,n[0]>>16,n[0]>>8,n[0],n[1]>>24,n[1]>>16,n[1]>>8,n[1],n[2]>>24,n[2]>>16,n[2]>>8,n[2],n[3]>>24,n[3]>>16,n[3]>>8,n[3],n[4]>>24,n[4]>>16,n[4]>>8,n[4])}function Qm(t,e,n,i){return FH(80,WH,t,e,n,i)}Qm.DNS=_H;Qm.URL=kH;let GH=()=>({emit(t,...e){for(let n=this.events[t]||[],i=0,r=n.length;i<r;i++)n[i](...e)},events:{},on(t,e){var n;return((n=this.events)[t]||(n[t]=[])).push(e),()=>{var i;this.events[t]=(i=this.events[t])==null?void 0:i.filter(r=>e!==r)}}});function ZH({retryCount:t}){return~~((Math.random()+.5)*(1<<(t<8?t:8)))*2e3}const DH=([t,e,n])=>{const i=({cache:y=new Map,fetcher:E,...S}={})=>{const I=GH();let w=!0;e(()=>{w=t(),w&&I.emit(o)}),n(()=>I.emit(l));const N=new Map,F=new Map,W=new Map;let Z={};const O=Q=>{const q=y.get(Q);return q?(q.expires||0)>h()?[q.data,q.error]:[]:[]},K=async([Q,q],Re,D)=>{var ce,ge;if(!w)return;const H=we=>{Re.key===Q&&(Re.set(we),I.emit(d,Q,we,!0))},ie=we=>{H({...we===void 0?{}:{data:we},...p,promise:W.get(Q)})};let{dedupeTime:ne=4e3,cacheLifetime:Se=1/0,fetcher:ke,onErrorRetry:We=ZH}={...D,...Z};Se<ne&&(Se=ne);const Pe=h();if(W.has(Q)){Re.value.loading||ie(O(Q)[0]);return}let $e,ae;const Y=y.get(Q);if(((Y==null?void 0:Y.data)!==void 0||Y!=null&&Y.error)&&([$e,ae]=O(Q),(Y.created||0)+ne>Pe)){(Re.value.data!=$e||Re.value.error!=ae)&&H({...v,data:$e,error:ae});return}const te=EH();try{clearTimeout(F.get(Q));const we=ke(...q);W.set(Q,we),ie($e);const Be=await we;y.set(Q,{data:Be,created:h(),expires:h()+Se}),H({data:Be,...v})}catch(we){(ce=D.onError)==null||ce.call(D,we);const Be=(((ge=y.get(Q))==null?void 0:ge.retryCount)||0)+1;if(y.set(Q,{error:we,created:h(),expires:h()+Se,retryCount:Be}),We){const Ge=We({error:we,key:Q,retryCount:Be});Ge&&F.set(Q,setTimeout(()=>{pe(Q),y.set(Q,{retryCount:Be})},Ge))}H({data:Re.value.data,error:we,...v})}finally{te(),W.delete(Q)}},fe=(Q,{fetcher:q=E,...Re}={})=>{const D=xA({...v}),H={...S,...Re,fetcher:q};D._=m,D.invalidate=()=>{const{key:Y}=D;Y&&pe(Y)},D.revalidate=()=>{const{key:Y}=D;Y&&de(Y)},D.mutate=Y=>{const{key:te}=D;te&&be(te,Y)},D.fetch=async()=>{let Y;const te=new Promise(ge=>Y=ge),ce=D.listen(({error:ge,data:we})=>{ge!==void 0&&Y({error:ge}),we!==void 0&&Y({data:we})});return te.finally(ce)};let ie,ne,Se,ke,We,Pe=[];MB(D,()=>{const Y=!ie;[We,ie]=s(Q),ke=We.subscribe(le=>{if(le){const[De,ot]=le;D.key=De,K([De,ot],D,H),ne=De,Se=ot}else D.key=ne=Se=void 0,D.set({...v})});const te=We.get();te&&([ne,Se]=te,Y&&$e());const{revalidateInterval:ce=0,revalidateOnFocus:ge,revalidateOnReconnect:we}=H,Be=()=>{ne&&K([ne,Se],D,H)};ce>0&&N.set(Q,setInterval(Be,ce)),ge&&Pe.push(I.on(o,Be)),we&&Pe.push(I.on(l,Be));const Ge=le=>{ne&&f(ne,le)&&K([ne,Se],D,H)};Pe.push(I.on(c,Ge),I.on(u,Ge),I.on(d,(le,De,ot)=>{ne&&f(ne,le)&&D.value!==De&&D.value.data!==De&&D.set(ot?De:{data:De,...v})}))});const $e=()=>{ne&&Se&&K([ne,Se],D,H)},ae=D.listen;return D.listen=Y=>{const te=ae(Y);return Y(D.value),$e(),te},G6(D,()=>{D.value={...v},ie==null||ie(),Pe.forEach(Y=>Y()),Pe=[],ke==null||ke(),clearInterval(N.get(Q))}),D},z=(Q,q)=>{for(const Re of y.keys())f(Re,Q)&&q(Re)},pe=Q=>{z(Q,q=>{y.delete(q)}),I.emit(c,Q)},de=Q=>{z(Q,q=>{const Re=y.get(q);Re&&y.set(q,{...Re,created:-1/0})}),I.emit(u,Q)},be=(Q,q)=>{z(Q,Re=>{q===void 0?y.delete(Re):y.set(Re,{data:q,created:h(),expires:h()+(S.cacheLifetime??8e3)})}),I.emit(d,Q,q)};function _e(Q,q){const{throttleCalls:Re,onError:D}=q??{throttleCalls:!0,onError:S==null?void 0:S.onError},H=async ne=>{var $e;if(Re&&(($e=ie.value)!=null&&$e.loading))return;const Se=Z.fetcher??Q,ke=[],We=[],Pe=(ae,Y)=>{ie.lc&&ie.setKey(ae,Y)};try{ie.set({error:void 0,data:void 0,mutate:H,...p});const ae=await Se({data:ne,invalidate:Y=>{ke.push(Y)},revalidate:Y=>{We.push(Y)},getCacheUpdater:(Y,te=!0)=>{var ce;return[ge=>{be(Y,ge),te&&We.push(Y)},(ce=y.get(Y))==null?void 0:ce.data]}});return Pe("data",ae),ae}catch(ae){D==null||D(ae),Pe("error",ae),ie.setKey("error",ae)}finally{Pe("loading",!1),ke.forEach(pe),We.forEach(de)}},ie=xA({mutate:H,...v});return G6(ie,()=>ie.set({mutate:H,...v})),ie.mutate=H,ie}return[fe,_e,{__unsafeOverruleSettings:Q=>{console.warn("You should only use __unsafeOverruleSettings in test environment"),Z=Q},invalidateKeys:pe,revalidateKeys:de,mutateCache:be}]};function r(y){return typeof y=="string"||typeof y=="number"||y===!0}const s=y=>{if(r(y))return[qa([""+y,[y]]),()=>{}];const E=[],S=qa(null),I=new Map,w=()=>{E.some(W=>W==null||W===!1)?S.set(null):S.set([E.join(""),E])};for(let W=0;W<y.length;W++){const Z=y[W];r(Z)?E.push(Z):(E.push(null),I.set(Z,W))}const N=[...I.keys()],F=wA(N,(...W)=>{for(let Z=0;Z<W.length;Z++){const O=N[Z],K=I.get(O);E[K]=O._===m?O.value&&"data"in O.value?O.key:null:W[Z]}w()});return w(),[S,F.subscribe(a)]};function a(){}const o=1,l=2,c=3,u=4,d=5,f=(y,E)=>Array.isArray(E)?E.includes(y):typeof E=="function"?E(y):y===E,h=()=>new Date().getTime(),m=Symbol(),p={loading:!0},v={loading:!1};return i},O6=(t,e)=>{typeof window>"u"||addEventListener(t,e)},OH=[()=>!document.hidden,t=>O6("visibilitychange",t),t=>O6("online",t)],X6=DH(OH);var XH=Object.defineProperty,MH=(t,e,n)=>e in t?XH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,M=(t,e,n)=>MH(t,typeof e!="symbol"?e+"":e,n);const lc=globalThis||void 0||self;function zf(t){let e=!1;const n=[];for(let i=0;i<t.length;i++){let r=t.charAt(i);switch(r){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(r),e=!1;break;default:e&&(e=!1,r=r.toUpperCase()),n.push(r);break}}return n.join("")}const PH=new Set(["constructor","toString","toJSON","valueOf"]);function Jf(t){return PH.has(t)?t+"$":t}function YH(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var jB={exports:{}},Vn=jB.exports={},Is,ws;function VA(){throw new Error("setTimeout has not been defined")}function NA(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Is=setTimeout:Is=VA}catch{Is=VA}try{typeof clearTimeout=="function"?ws=clearTimeout:ws=NA}catch{ws=NA}})();function KB(t){if(Is===setTimeout)return setTimeout(t,0);if((Is===VA||!Is)&&setTimeout)return Is=setTimeout,setTimeout(t,0);try{return Is(t,0)}catch{try{return Is.call(null,t,0)}catch{return Is.call(this,t,0)}}}function $H(t){if(ws===clearTimeout)return clearTimeout(t);if((ws===NA||!ws)&&clearTimeout)return ws=clearTimeout,clearTimeout(t);try{return ws(t)}catch{try{return ws.call(null,t)}catch{return ws.call(this,t)}}}var Ba=[],Nu=!1,Fl,K1=-1;function jH(){!Nu||!Fl||(Nu=!1,Fl.length?Ba=Fl.concat(Ba):K1=-1,Ba.length&&zB())}function zB(){if(!Nu){var t=KB(jH);Nu=!0;for(var e=Ba.length;e;){for(Fl=Ba,Ba=[];++K1<e;)Fl&&Fl[K1].run();K1=-1,e=Ba.length}Fl=null,Nu=!1,$H(t)}}Vn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Ba.push(new JB(t,e)),Ba.length===1&&!Nu&&KB(zB)};function JB(t,e){this.fun=t,this.array=e}JB.prototype.run=function(){this.fun.apply(null,this.array)};Vn.title="browser";Vn.browser=!0;Vn.env={};Vn.argv=[];Vn.version="";Vn.versions={};function ao(){}Vn.on=ao;Vn.addListener=ao;Vn.once=ao;Vn.off=ao;Vn.removeListener=ao;Vn.removeAllListeners=ao;Vn.emit=ao;Vn.prependListener=ao;Vn.prependOnceListener=ao;Vn.listeners=function(t){return[]};Vn.binding=function(t){throw new Error("process.binding is not supported")};Vn.cwd=function(){return"/"};Vn.chdir=function(t){throw new Error("process.chdir is not supported")};Vn.umask=function(){return 0};var KH=jB.exports;const M6=YH(KH);function zH(){let t=0,e=0;for(let i=0;i<28;i+=7){let r=this.buf[this.pos++];if(t|=(r&127)<<i,!(r&128))return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,!(n&128))return this.assertBounds(),[t,e];for(let i=3;i<=31;i+=7){let r=this.buf[this.pos++];if(e|=(r&127)<<i,!(r&128))return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function C3(t,e,n){for(let s=0;s<28;s=s+7){const a=t>>>s,o=!(!(a>>>7)&&e==0),l=(o?a|128:a)&255;if(n.push(l),!o)return}const i=t>>>28&15|(e&7)<<4,r=!!(e>>3);if(n.push((r?i|128:i)&255),!!r){for(let s=3;s<31;s=s+7){const a=e>>>s,o=!!(a>>>7),l=(o?a|128:a)&255;if(n.push(l),!o)return}n.push(e>>>31&1)}}const z1=4294967296;function P6(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let i=0,r=0;function s(a,o){const l=Number(t.slice(a,o));r*=n,i=i*n+l,i>=z1&&(r=r+(i/z1|0),i=i%z1)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),e?QB(i,r):A9(i,r)}function JH(t,e){let n=A9(t,e);const i=n.hi&2147483648;i&&(n=QB(n.lo,n.hi));const r=HB(n.lo,n.hi);return i?"-"+r:r}function HB(t,e){if({lo:t,hi:e}=HH(t,e),e<=2097151)return String(z1*e+t);const n=t&16777215,i=(t>>>24|e<<8)&16777215,r=e>>16&65535;let s=n+i*6777216+r*6710656,a=i+r*8147497,o=r*2;const l=1e7;return s>=l&&(a+=Math.floor(s/l),s%=l),a>=l&&(o+=Math.floor(a/l),a%=l),o.toString()+Y6(a)+Y6(s)}function HH(t,e){return{lo:t>>>0,hi:e>>>0}}function A9(t,e){return{lo:t|0,hi:e|0}}function QB(t,e){return e=~e,t?t=~t+1:e+=1,A9(t,e)}const Y6=t=>{const e=String(t);return"0000000".slice(e.length)+e};function $6(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let n=0;n<9;n++)e.push(t&127|128),t=t>>7;e.push(1)}}function QH(){let t=this.buf[this.pos++],e=t&127;if(!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,!(t&128))return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;t&128&&n<10;n++)t=this.buf[this.pos++];if(t&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}const on=qH();function qH(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof M6!="object"||typeof M6.env!="object")){const e=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),i=BigInt("0"),r=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(s){const a=typeof s=="bigint"?s:BigInt(s);if(a>n||a<e)throw new Error(`invalid int64: ${s}`);return a},uParse(s){const a=typeof s=="bigint"?s:BigInt(s);if(a>r||a<i)throw new Error(`invalid uint64: ${s}`);return a},enc(s){return t.setBigInt64(0,this.parse(s),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(s){return t.setBigInt64(0,this.uParse(s),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(s,a){return t.setInt32(0,s,!0),t.setInt32(4,a,!0),t.getBigInt64(0,!0)},uDec(s,a){return t.setInt32(0,s,!0),t.setInt32(4,a,!0),t.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(e){return typeof e!="string"&&(e=e.toString()),j6(e),e},uParse(e){return typeof e!="string"&&(e=e.toString()),K6(e),e},enc(e){return typeof e!="string"&&(e=e.toString()),j6(e),P6(e)},uEnc(e){return typeof e!="string"&&(e=e.toString()),K6(e),P6(e)},dec(e,n){return JH(e,n)},uDec(e,n){return HB(e,n)}}}function j6(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}function K6(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}var oe;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(oe||(oe={}));function cc(t,e){switch(t){case oe.STRING:return"";case oe.BOOL:return!1;default:return 0;case oe.DOUBLE:case oe.FLOAT:return 0;case oe.INT64:case oe.UINT64:case oe.SFIXED64:case oe.FIXED64:case oe.SINT64:return e?"0":on.zero;case oe.BYTES:return new Uint8Array(0)}}function eQ(t,e){switch(t){case oe.BOOL:return e===!1;case oe.STRING:return e==="";case oe.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}const qB=2,Wa=Symbol.for("reflect unsafe local");function eW(t,e){const n=t[e.localName].case;return n===void 0?n:e.fields.find(i=>i.localName===n)}function tQ(t,e){const n=e.localName;if(e.oneof)return t[e.oneof.localName].case===n;if(e.presence!=qB)return t[n]!==void 0&&Object.prototype.hasOwnProperty.call(t,n);switch(e.fieldKind){case"list":return t[n].length>0;case"map":return Object.keys(t[n]).length>0;case"scalar":return!eQ(e.scalar,t[n]);case"enum":return t[n]!==e.enum.values[0].number}throw new Error("message field with implicit presence")}function Hf(t,e){return Object.prototype.hasOwnProperty.call(t,e)&&t[e]!==void 0}function tW(t,e){if(e.oneof){const n=t[e.oneof.localName];return n.case===e.localName?n.value:void 0}return t[e.localName]}function nW(t,e,n){e.oneof?t[e.oneof.localName]={case:e.localName,value:n}:t[e.localName]=n}function nQ(t,e){const n=e.localName;if(e.oneof){const i=e.oneof.localName;t[i].case===n&&(t[i]={case:void 0})}else if(e.presence!=qB)delete t[n];else switch(e.fieldKind){case"map":t[n]={};break;case"list":t[n]=[];break;case"enum":t[n]=e.enum.values[0].number;break;case"scalar":t[n]=cc(e.scalar,e.longAsString);break}}function S9(t){for(const e of t.field)Hf(e,"jsonName")||(e.jsonName=zf(e.name));t.nestedType.forEach(S9)}function iQ(t,e){const n=t.values.find(i=>i.name===e);if(!n)throw new Error(`cannot parse ${t} default value: ${e}`);return n.number}function rQ(t,e){switch(t){case oe.STRING:return e;case oe.BYTES:{const n=sQ(e);if(n===!1)throw new Error(`cannot parse ${oe[t]} default value: ${e}`);return n}case oe.INT64:case oe.SFIXED64:case oe.SINT64:return on.parse(e);case oe.UINT64:case oe.FIXED64:return on.uParse(e);case oe.DOUBLE:case oe.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case oe.BOOL:return e==="true";case oe.INT32:case oe.UINT32:case oe.SINT32:case oe.FIXED32:case oe.SFIXED32:return parseInt(e,10)}}function sQ(t){const e=[],n={tail:t,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(i){if(this.tail.length>=i){const r=this.tail.substring(0,i);return this.tail=this.tail.substring(i),r}return!1}};for(;n.next();)switch(n.c){case"\\":if(n.next())switch(n.c){case"\\":e.push(n.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const i=n.c,r=n.take(2);if(r===!1)return!1;const s=parseInt(i+r,8);if(isNaN(s))return!1;e.push(s);break}case"x":{const i=n.c,r=n.take(2);if(r===!1)return!1;const s=parseInt(i+r,16);if(isNaN(s))return!1;e.push(s);break}case"u":{const i=n.c,r=n.take(4);if(r===!1)return!1;const s=parseInt(i+r,16);if(isNaN(s))return!1;const a=new Uint8Array(4);new DataView(a.buffer).setInt32(0,s,!0),e.push(a[0],a[1],a[2],a[3]);break}case"U":{const i=n.c,r=n.take(8);if(r===!1)return!1;const s=on.uEnc(i+r),a=new Uint8Array(8),o=new DataView(a.buffer);o.setInt32(0,s.lo,!0),o.setInt32(4,s.hi,!0),e.push(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]);break}}break;default:e.push(n.c.charCodeAt(0))}return new Uint8Array(e)}function*_A(t){switch(t.kind){case"file":for(const e of t.messages)yield e,yield*_A(e);yield*t.enums,yield*t.services,yield*t.extensions;break;case"message":for(const e of t.nestedMessages)yield e,yield*_A(e);yield*t.nestedEnums,yield*t.nestedExtensions;break}}function iW(...t){const e=aQ();if(!t.length)return e;if("$typeName"in t[0]&&t[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const n of t[0].file)H6(n,e);return e}if("$typeName"in t[0]){let n=function(a){const o=[];for(const l of a.dependency){if(e.getFile(l)!=null||s.has(l))continue;const c=r(l);if(!c)throw new Error(`Unable to resolve ${l}, imported by ${a.name}`);"kind"in c?e.addFile(c,!1,!0):(s.add(c.name),o.push(c))}return o.concat(...o.map(n))};const i=t[0],r=t[1],s=new Set;for(const a of[i,...n(i)].reverse())H6(a,e)}else for(const n of t)for(const i of n.files)e.addFile(i);return e}function aQ(){const t=new Map,e=new Map,n=new Map;return{kind:"registry",types:t,extendees:e,[Symbol.iterator](){return t.values()},get files(){return n.values()},addFile(i,r,s){if(n.set(i.proto.name,i),!r)for(const a of _A(i))this.add(a);if(s)for(const a of i.dependencies)this.addFile(a,r,s)},add(i){if(i.kind=="extension"){let r=e.get(i.extendee.typeName);r||e.set(i.extendee.typeName,r=new Map),r.set(i.number,i)}t.set(i.typeName,i)},get(i){return t.get(i)},getFile(i){return n.get(i)},getMessage(i){const r=t.get(i);return(r==null?void 0:r.kind)=="message"?r:void 0},getEnum(i){const r=t.get(i);return(r==null?void 0:r.kind)=="enum"?r:void 0},getExtension(i){const r=t.get(i);return(r==null?void 0:r.kind)=="extension"?r:void 0},getExtensionFor(i,r){var s;return(s=e.get(i.typeName))===null||s===void 0?void 0:s.get(r)},getService(i){const r=t.get(i);return(r==null?void 0:r.kind)=="service"?r:void 0}}}const oQ=998,lQ=999,cQ=9,qm=10,gf=11,uQ=12,z6=14,T9=3,dQ=2,J6=1,hQ=0,fQ=1,pQ=2,mQ=3,gQ=1,yQ=2,bQ=1,rW={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2}};function H6(t,e){var n,i;const r={kind:"file",proto:t,deprecated:(i=(n=t.options)===null||n===void 0?void 0:n.deprecated)!==null&&i!==void 0?i:!1,edition:SQ(t),name:t.name.replace(/\.proto$/,""),dependencies:TQ(t,e),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${t.name}`}},s=new Map,a={get(o){return s.get(o)},add(o){var l;as(((l=o.proto.options)===null||l===void 0?void 0:l.mapEntry)===!0),s.set(o.typeName,o)}};for(const o of t.enumType)sW(o,r,void 0,e);for(const o of t.messageType)aW(o,r,void 0,e,a);for(const o of t.service)vQ(o,r,e);kA(r,e);for(const o of s.values())FA(o,e,a);for(const o of r.messages)FA(o,e,a),kA(o,e);e.addFile(r,!0)}function kA(t,e){switch(t.kind){case"file":for(const n of t.proto.extension){const i=LA(n,t,e);t.extensions.push(i),e.add(i)}break;case"message":for(const n of t.proto.extension){const i=LA(n,t,e);t.nestedExtensions.push(i),e.add(i)}for(const n of t.nestedMessages)kA(n,e);break}}function FA(t,e,n){const i=t.proto.oneofDecl.map(s=>AQ(s,t)),r=new Set;for(const s of t.proto.field){const a=IQ(s,i),o=LA(s,t,e,a,n);t.fields.push(o),t.field[o.localName]=o,a===void 0?t.members.push(o):(a.fields.push(o),r.has(a)||(r.add(a),t.members.push(a)))}for(const s of i.filter(a=>r.has(a)))t.oneofs.push(s);for(const s of t.nestedMessages)FA(s,e,n)}function sW(t,e,n,i){var r,s,a;const o=RQ(t.name,t.value),l={kind:"enum",proto:t,deprecated:(s=(r=t.options)===null||r===void 0?void 0:r.deprecated)!==null&&s!==void 0?s:!1,file:e,parent:n,open:!0,name:t.name,typeName:_2(t,n,e),value:{},values:[],sharedPrefix:o,toString(){return`enum ${this.typeName}`}};l.open=NQ(l),i.add(l),t.value.forEach(c=>{var u,d;const f=c.name;l.values.push(l.value[c.number]={kind:"enum_value",proto:c,deprecated:(d=(u=c.options)===null||u===void 0?void 0:u.deprecated)!==null&&d!==void 0?d:!1,parent:l,name:f,localName:Jf(o==null?f:f.substring(o.length)),number:c.number,toString(){return`enum value ${l.typeName}.${f}`}})}),((a=n==null?void 0:n.nestedEnums)!==null&&a!==void 0?a:e.enums).push(l)}function aW(t,e,n,i,r){var s,a,o,l;const c={kind:"message",proto:t,deprecated:(a=(s=t.options)===null||s===void 0?void 0:s.deprecated)!==null&&a!==void 0?a:!1,file:e,parent:n,name:t.name,typeName:_2(t,n,e),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((o=t.options)===null||o===void 0?void 0:o.mapEntry)===!0?r.add(c):(((l=n==null?void 0:n.nestedMessages)!==null&&l!==void 0?l:e.messages).push(c),i.add(c));for(const u of t.enumType)sW(u,e,c,i);for(const u of t.nestedType)aW(u,e,c,i,r)}function vQ(t,e,n){var i,r;const s={kind:"service",proto:t,deprecated:(r=(i=t.options)===null||i===void 0?void 0:i.deprecated)!==null&&r!==void 0?r:!1,file:e,name:t.name,typeName:_2(t,void 0,e),methods:[],method:{},toString(){return`service ${this.typeName}`}};e.services.push(s),n.add(s);for(const a of t.method){const o=EQ(a,s,n);s.methods.push(o),s.method[o.localName]=o}}function EQ(t,e,n){var i,r,s,a;let o;t.clientStreaming&&t.serverStreaming?o="bidi_streaming":t.clientStreaming?o="client_streaming":t.serverStreaming?o="server_streaming":o="unary";const l=n.getMessage(ga(t.inputType)),c=n.getMessage(ga(t.outputType));as(l,`invalid MethodDescriptorProto: input_type ${t.inputType} not found`),as(c,`invalid MethodDescriptorProto: output_type ${t.inputType} not found`);const u=t.name;return{kind:"rpc",proto:t,deprecated:(r=(i=t.options)===null||i===void 0?void 0:i.deprecated)!==null&&r!==void 0?r:!1,parent:e,name:u,localName:Jf(u.length?Jf(u[0].toLowerCase()+u.substring(1)):u),methodKind:o,input:l,output:c,idempotency:(a=(s=t.options)===null||s===void 0?void 0:s.idempotencyLevel)!==null&&a!==void 0?a:hQ,toString(){return`rpc ${e.typeName}.${u}`}}}function AQ(t,e){return{kind:"oneof",proto:t,deprecated:!1,parent:e,fields:[],name:t.name,localName:Jf(zf(t.name)),toString(){return`oneof ${e.typeName}.${this.name}`}}}function LA(t,e,n,i,r){var s,a,o;const l=r===void 0,c={kind:"field",proto:t,deprecated:(a=(s=t.options)===null||s===void 0?void 0:s.deprecated)!==null&&a!==void 0?a:!1,name:t.name,number:t.number,scalar:void 0,message:void 0,enum:void 0,presence:wQ(t,i,l,e),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(l){const h=e.kind=="file"?e:e.file,m=e.kind=="file"?void 0:e,p=_2(t,m,h);c.kind="extension",c.file=h,c.parent=m,c.oneof=void 0,c.typeName=p,c.jsonName=`[${p}]`,c.toString=()=>`extension ${p}`;const v=n.getMessage(ga(t.extendee));as(v,`invalid FieldDescriptorProto: extendee ${t.extendee} not found`),c.extendee=v}else{const h=e;as(h.kind=="message"),c.parent=h,c.oneof=i,c.localName=i?zf(t.name):Jf(zf(t.name)),c.jsonName=t.jsonName,c.toString=()=>`field ${h.typeName}.${t.name}`}const u=t.label,d=t.type,f=(o=t.options)===null||o===void 0?void 0:o.jstype;if(u===T9){const h=d==gf?r==null?void 0:r.get(ga(t.typeName)):void 0;if(h){c.fieldKind="map";const{key:m,value:p}=VQ(h);return c.mapKey=m.scalar,c.mapKind=p.fieldKind,c.message=p.message,c.delimitedEncoding=!1,c.enum=p.enum,c.scalar=p.scalar,c}switch(c.fieldKind="list",d){case gf:case qm:c.listKind="message",c.message=n.getMessage(ga(t.typeName)),as(c.message),c.delimitedEncoding=Q6(t,e);break;case z6:c.listKind="enum",c.enum=n.getEnum(ga(t.typeName)),as(c.enum);break;default:c.listKind="scalar",c.scalar=d,c.longAsString=f==J6;break}return c.packed=xQ(t,e),c}switch(d){case gf:case qm:c.fieldKind="message",c.message=n.getMessage(ga(t.typeName)),as(c.message,`invalid FieldDescriptorProto: type_name ${t.typeName} not found`),c.delimitedEncoding=Q6(t,e),c.getDefaultValue=()=>{};break;case z6:{const h=n.getEnum(ga(t.typeName));as(h!==void 0,`invalid FieldDescriptorProto: type_name ${t.typeName} not found`),c.fieldKind="enum",c.enum=n.getEnum(ga(t.typeName)),c.getDefaultValue=()=>Hf(t,"defaultValue")?iQ(h,t.defaultValue):void 0;break}default:{c.fieldKind="scalar",c.scalar=d,c.longAsString=f==J6,c.getDefaultValue=()=>Hf(t,"defaultValue")?rQ(d,t.defaultValue):void 0;break}}return c}function SQ(t){switch(t.syntax){case"":case"proto2":return oQ;case"proto3":return lQ;case"editions":if(t.edition in rW)return t.edition;throw new Error(`${t.name}: unsupported edition`);default:throw new Error(`${t.name}: unsupported syntax "${t.syntax}"`)}}function TQ(t,e){return t.dependency.map(n=>{const i=e.getFile(n);if(!i)throw new Error(`Cannot find ${n}, imported by ${t.name}`);return i})}function RQ(t,e){const n=CQ(t)+"_";for(const i of e){if(!i.name.toLowerCase().startsWith(n))return;const r=i.name.substring(n.length);if(r.length==0||/^\d/.test(r))return}return n}function CQ(t){return(t.substring(0,1)+t.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function _2(t,e,n){let i;return e?i=`${e.typeName}.${t.name}`:n.proto.package.length>0?i=`${n.proto.package}.${t.name}`:i=`${t.name}`,i}function ga(t){return t.startsWith(".")?t.substring(1):t}function IQ(t,e){if(!Hf(t,"oneofIndex")||t.proto3Optional)return;const n=e[t.oneofIndex];return as(n,`invalid FieldDescriptorProto: oneof #${t.oneofIndex} for field #${t.number} not found`),n}function wQ(t,e,n,i){return t.label==dQ?mQ:t.label==T9?pQ:e||t.proto3Optional||t.type==gf||n?fQ:od("fieldPresence",{proto:t,parent:i})}function xQ(t,e){if(t.label!=T9)return!1;switch(t.type){case cQ:case uQ:case qm:case gf:return!1}const n=t.options;return n&&Hf(n,"packed")?n.packed:gQ==od("repeatedFieldEncoding",{proto:t,parent:e})}function VQ(t){const e=t.fields.find(i=>i.number===1),n=t.fields.find(i=>i.number===2);return as(e&&e.fieldKind=="scalar"&&e.scalar!=oe.BYTES&&e.scalar!=oe.FLOAT&&e.scalar!=oe.DOUBLE&&n&&n.fieldKind!="list"&&n.fieldKind!="map"),{key:e,value:n}}function NQ(t){var e;return bQ==od("enumType",{proto:t.proto,parent:(e=t.parent)!==null&&e!==void 0?e:t.file})}function Q6(t,e){return t.type==qm?!0:yQ==od("messageEncoding",{proto:t,parent:e})}function od(t,e){var n,i;const r=(n=e.proto.options)===null||n===void 0?void 0:n.features;if(r){const s=r[t];if(s!=0)return s}if("kind"in e){if(e.kind=="message")return od(t,(i=e.parent)!==null&&i!==void 0?i:e.file);const s=rW[e.edition];if(!s)throw new Error(`feature default for edition ${e.edition} not found`);return s[t]}return od(t,e.parent)}function as(t,e){if(!t)throw new Error(e)}function _Q(t){const e=kQ(t);return e.messageType.forEach(S9),iW(e,()=>{}).getFile(e.name)}function kQ(t){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],service:[],extension:[]},t),{messageType:t.messageType.map(oW),enumType:t.enumType.map(lW)}))}function oW(t){var e,n,i,r,s,a,o,l;return{$typeName:"google.protobuf.DescriptorProto",name:t.name,field:(n=(e=t.field)===null||e===void 0?void 0:e.map(FQ))!==null&&n!==void 0?n:[],extension:[],nestedType:(r=(i=t.nestedType)===null||i===void 0?void 0:i.map(oW))!==null&&r!==void 0?r:[],enumType:(a=(s=t.enumType)===null||s===void 0?void 0:s.map(lW))!==null&&a!==void 0?a:[],extensionRange:(l=(o=t.extensionRange)===null||o===void 0?void 0:o.map(c=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},c)))!==null&&l!==void 0?l:[],oneofDecl:[],reservedRange:[],reservedName:[]}}function FQ(t){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},t),{options:t.options?LQ(t.options):void 0}))}function LQ(t){var e,n,i;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},t),{targets:(e=t.targets)!==null&&e!==void 0?e:[],editionDefaults:(i=(n=t.editionDefaults)===null||n===void 0?void 0:n.map(r=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},r)))!==null&&i!==void 0?i:[],uninterpretedOption:[]}))}function lW(t){return{$typeName:"google.protobuf.EnumDescriptorProto",name:t.name,reservedName:[],reservedRange:[],value:t.value.map(e=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},e))}}function R9(t){const e=BQ();let n=t.length*3/4;t[t.length-2]=="="?n-=2:t[t.length-1]=="="&&(n-=1);let i=new Uint8Array(n),r=0,s=0,a,o=0;for(let l=0;l<t.length;l++){if(a=e[t.charCodeAt(l)],a===void 0)switch(t[l]){case"=":s=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(s){case 0:o=a,s=1;break;case 1:i[r++]=o<<2|(a&48)>>4,o=a,s=2;break;case 2:i[r++]=(o&15)<<4|(a&60)>>2,o=a,s=3;break;case 3:i[r++]=(o&3)<<6|a,s=0;break}}if(s==1)throw Error("invalid base64 string");return i.subarray(0,r)}function UQ(t,e="std"){const n=cW(e),i=e=="std";let r="",s=0,a,o=0;for(let l=0;l<t.length;l++)switch(a=t[l],s){case 0:r+=n[a>>2],o=(a&3)<<4,s=1;break;case 1:r+=n[o|a>>4],o=(a&15)<<2,s=2;break;case 2:r+=n[o|a>>6],r+=n[a&63],s=0;break}return s&&(r+=n[o],i&&(r+="=",s==1&&(r+="="))),r}let H0,q6,Vc;function cW(t){return H0||(H0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),q6=H0.slice(0,-2).concat("-","_")),t=="url"?q6:H0}function BQ(){if(!Vc){Vc=[];const t=cW("std");for(let e=0;e<t.length;e++)Vc[t[e].charCodeAt(0)]=e;Vc[45]=t.indexOf("+"),Vc[95]=t.indexOf("/")}return Vc}function C9(t,e){return t!==null&&typeof t=="object"&&"$typeName"in t&&typeof t.$typeName=="string"?e===void 0?!0:e.typeName===t.$typeName:!1}const WQ=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];let tr=class extends Error{constructor(e,n,i="FieldValueInvalidError"){super(n),this.name=i,this.field=()=>e}};function GQ(t){return t instanceof Error&&WQ.includes(t.name)&&"field"in t&&typeof t.field=="function"}function qo(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function I9(t,e){var n,i,r,s;if(qo(t)&&Wa in t&&"add"in t&&"field"in t&&typeof t.field=="function"){if(e!==void 0){const a=e,o=t.field();return a.listKind==o.listKind&&a.scalar===o.scalar&&((n=a.message)===null||n===void 0?void 0:n.typeName)===((i=o.message)===null||i===void 0?void 0:i.typeName)&&((r=a.enum)===null||r===void 0?void 0:r.typeName)===((s=o.enum)===null||s===void 0?void 0:s.typeName)}return!0}return!1}function w9(t,e){var n,i,r,s;if(qo(t)&&Wa in t&&"has"in t&&"field"in t&&typeof t.field=="function"){if(e!==void 0){const a=e,o=t.field();return a.mapKey===o.mapKey&&a.mapKind==o.mapKind&&a.scalar===o.scalar&&((n=a.message)===null||n===void 0?void 0:n.typeName)===((i=o.message)===null||i===void 0?void 0:i.typeName)&&((r=a.enum)===null||r===void 0?void 0:r.typeName)===((s=o.enum)===null||s===void 0?void 0:s.typeName)}return!0}return!1}function x9(t,e){return qo(t)&&Wa in t&&"desc"in t&&qo(t.desc)&&t.desc.kind==="message"&&(e===void 0||t.desc.typeName==e.typeName)}const I3=Symbol.for("@bufbuild/protobuf/text-encoding");function V9(){if(globalThis[I3]==null){const t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[I3]={encodeUtf8(n){return t.encode(n)},decodeUtf8(n){return e.decode(n)},checkUtf8(n){try{return encodeURIComponent(n),!0}catch{return!1}}}}return globalThis[I3]}var In;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(In||(In={}));const uW=34028234663852886e22,dW=-34028234663852886e22,hW=4294967295,fW=2147483647,pW=-2147483648;let mW=class{constructor(e=V9().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let r=0;r<this.chunks.length;r++)e+=this.chunks[r].length;let n=new Uint8Array(e),i=0;for(let r=0;r<this.chunks.length;r++)n.set(this.chunks[r],i),i+=this.chunks[r].length;return this.chunks=[],n}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),n=this.stack.pop();if(!n)throw new Error("invalid state, fork stack empty");return this.chunks=n.chunks,this.buf=n.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,n){return this.uint32((e<<3|n)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(eI(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return w3(e),$6(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let n=this.encodeUtf8(e);return this.uint32(n.byteLength),this.raw(n)}float(e){ZQ(e);let n=new Uint8Array(4);return new DataView(n.buffer).setFloat32(0,e,!0),this.raw(n)}double(e){let n=new Uint8Array(8);return new DataView(n.buffer).setFloat64(0,e,!0),this.raw(n)}fixed32(e){eI(e);let n=new Uint8Array(4);return new DataView(n.buffer).setUint32(0,e,!0),this.raw(n)}sfixed32(e){w3(e);let n=new Uint8Array(4);return new DataView(n.buffer).setInt32(0,e,!0),this.raw(n)}sint32(e){return w3(e),e=(e<<1^e>>31)>>>0,$6(e,this.buf),this}sfixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),r=on.enc(e);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}fixed64(e){let n=new Uint8Array(8),i=new DataView(n.buffer),r=on.uEnc(e);return i.setInt32(0,r.lo,!0),i.setInt32(4,r.hi,!0),this.raw(n)}int64(e){let n=on.enc(e);return C3(n.lo,n.hi,this.buf),this}sint64(e){let n=on.enc(e),i=n.hi>>31,r=n.lo<<1^i,s=(n.hi<<1|n.lo>>>31)^i;return C3(r,s,this.buf),this}uint64(e){let n=on.uEnc(e);return C3(n.lo,n.hi,this.buf),this}},N9=class{constructor(e,n=V9().decodeUtf8){this.decodeUtf8=n,this.varint64=zH,this.uint32=QH,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),n=e>>>3,i=e&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(e,n){let i=this.pos;switch(e){case In.Varint:for(;this.buf[this.pos++]&128;);break;case In.Bit64:this.pos+=4;case In.Bit32:this.pos+=4;break;case In.LengthDelimited:let r=this.uint32();this.pos+=r;break;case In.StartGroup:for(;;){const[s,a]=this.tag();if(a===In.EndGroup){if(n!==void 0&&s!==n)throw new Error("invalid end group tag");break}this.skip(a,s)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return on.dec(...this.varint64())}uint64(){return on.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),i=-(e&1);return e=(e>>>1|(n&1)<<31)^i,n=n>>>1^i,on.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return on.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return on.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.decodeUtf8(this.bytes())}};function w3(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid int32: "+typeof t);if(!Number.isInteger(t)||t>fW||t<pW)throw new Error("invalid int32: "+t)}function eI(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid uint32: "+typeof t);if(!Number.isInteger(t)||t>hW||t<0)throw new Error("invalid uint32: "+t)}function ZQ(t){if(typeof t=="string"){const e=t;if(t=Number(t),isNaN(t)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof t!="number")throw new Error("invalid float32: "+typeof t);if(Number.isFinite(t)&&(t>uW||t<dW))throw new Error("invalid float32: "+t)}function Tl(t,e){const n=t.fieldKind=="list"?I9(e,t):t.fieldKind=="map"?w9(e,t):_9(t,e);if(n===!0)return;let i;switch(t.fieldKind){case"list":i=`expected ${bW(t)}, got ${ei(e)}`;break;case"map":i=`expected ${vW(t)}, got ${ei(e)}`;break;default:i=eg(t,e,n)}return new tr(t,i)}function tI(t,e,n){const i=_9(t,n);if(i!==!0)return new tr(t,`list item #${e+1}: ${eg(t,n,i)}`)}function DQ(t,e,n){const i=gW(e,t.mapKey);if(i!==!0)return new tr(t,`invalid map key: ${eg({scalar:t.mapKey},e,i)}`);const r=_9(t,n);if(r!==!0)return new tr(t,`map entry ${ei(e)}: ${eg(t,n,r)}`)}function _9(t,e){return t.scalar!==void 0?gW(e,t.scalar):t.enum!==void 0?t.enum.open?Number.isInteger(e):t.enum.values.some(n=>n.number===e):x9(e,t.message)}function gW(t,e){switch(e){case oe.DOUBLE:return typeof t=="number";case oe.FLOAT:return typeof t!="number"?!1:Number.isNaN(t)||!Number.isFinite(t)?!0:t>uW||t<dW?`${t.toFixed()} out of range`:!0;case oe.INT32:case oe.SFIXED32:case oe.SINT32:return typeof t!="number"||!Number.isInteger(t)?!1:t>fW||t<pW?`${t.toFixed()} out of range`:!0;case oe.FIXED32:case oe.UINT32:return typeof t!="number"||!Number.isInteger(t)?!1:t>hW||t<0?`${t.toFixed()} out of range`:!0;case oe.BOOL:return typeof t=="boolean";case oe.STRING:return typeof t!="string"?!1:V9().checkUtf8(t)||"invalid UTF8";case oe.BYTES:return t instanceof Uint8Array;case oe.INT64:case oe.SFIXED64:case oe.SINT64:if(typeof t=="bigint"||typeof t=="number"||typeof t=="string"&&t.length>0)try{return on.parse(t),!0}catch{return`${t} out of range`}return!1;case oe.FIXED64:case oe.UINT64:if(typeof t=="bigint"||typeof t=="number"||typeof t=="string"&&t.length>0)try{return on.uParse(t),!0}catch{return`${t} out of range`}return!1}}function eg(t,e,n){return n=typeof n=="string"?`: ${n}`:`, got ${ei(e)}`,t.scalar!==void 0?`expected ${OQ(t.scalar)}`+n:t.enum!==void 0?`expected ${t.enum.toString()}`+n:`expected ${yW(t.message)}`+n}function ei(t){switch(typeof t){case"object":return t===null?"null":t instanceof Uint8Array?`Uint8Array(${t.length})`:Array.isArray(t)?`Array(${t.length})`:I9(t)?bW(t.field()):w9(t)?vW(t.field()):x9(t)?yW(t.desc):C9(t)?`message ${t.$typeName}`:"object";case"string":return t.length>30?"string":`"${t.split('"').join('\\"')}"`;case"boolean":return String(t);case"number":return String(t);case"bigint":return String(t)+"n";default:return typeof t}}function yW(t){return`ReflectMessage (${t.typeName})`}function bW(t){switch(t.listKind){case"message":return`ReflectList (${t.message.toString()})`;case"enum":return`ReflectList (${t.enum.toString()})`;case"scalar":return`ReflectList (${oe[t.scalar]})`}}function vW(t){switch(t.mapKind){case"message":return`ReflectMap (${oe[t.mapKey]}, ${t.message.toString()})`;case"enum":return`ReflectMap (${oe[t.mapKey]}, ${t.enum.toString()})`;case"scalar":return`ReflectMap (${oe[t.mapKey]}, ${oe[t.scalar]})`}}function OQ(t){switch(t){case oe.STRING:return"string";case oe.BOOL:return"boolean";case oe.INT64:case oe.SINT64:case oe.SFIXED64:return"bigint (int64)";case oe.UINT64:case oe.FIXED64:return"bigint (uint64)";case oe.BYTES:return"Uint8Array";case oe.DOUBLE:return"number (float64)";case oe.FLOAT:return"number (float32)";case oe.FIXED32:case oe.UINT32:return"number (uint32)";case oe.INT32:case oe.SFIXED32:case oe.SINT32:return"number (int32)"}}function XQ(t){return EW(t.$typeName)}function Ip(t){const e=t.fields[0];return EW(t.typeName)&&e!==void 0&&e.fieldKind=="scalar"&&e.name=="value"&&e.number==1}function EW(t){return t.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(t.substring(16))}const MQ=999,PQ=998,J1=2;function gs(t,e){if(C9(e,t))return e;const n=zQ(t);return e!==void 0&&YQ(t,n,e),n}function YQ(t,e,n){for(const i of t.members){let r=n[i.localName];if(r==null)continue;let s;if(i.kind=="oneof"){const a=eW(n,i);if(!a)continue;s=a,r=tW(n,a)}else s=i;switch(s.fieldKind){case"message":r=k9(s,r);break;case"scalar":r=AW(s,r);break;case"list":r=jQ(s,r);break;case"map":r=$Q(s,r);break}nW(e,s,r)}return e}function AW(t,e){return t.scalar==oe.BYTES?F9(e):e}function $Q(t,e){if(qo(e)){if(t.scalar==oe.BYTES)return nI(e,F9);if(t.mapKind=="message")return nI(e,n=>k9(t,n))}return e}function jQ(t,e){if(Array.isArray(e)){if(t.scalar==oe.BYTES)return e.map(F9);if(t.listKind=="message")return e.map(n=>k9(t,n))}return e}function k9(t,e){if(t.fieldKind=="message"&&!t.oneof&&Ip(t.message))return AW(t.message.fields[0],e);if(qo(e)){if(t.message.typeName=="google.protobuf.Struct"&&t.parent.typeName!=="google.protobuf.Value")return e;if(!C9(e,t.message))return gs(t.message,e)}return e}function F9(t){return Array.isArray(t)?new Uint8Array(t):t}function nI(t,e){const n={};for(const i of Object.entries(t))n[i[0]]=e(i[1]);return n}const KQ=Symbol(),iI=new WeakMap;function zQ(t){let e;if(JQ(t)){const n=iI.get(t);let i,r;if(n)({prototype:i,members:r}=n);else{i={},r=new Set;for(const s of t.members)s.kind!="oneof"&&(s.fieldKind!="scalar"&&s.fieldKind!="enum"||s.presence!=J1&&(r.add(s),i[s.localName]=x3(s)));iI.set(t,{prototype:i,members:r})}e=Object.create(i),e.$typeName=t.typeName;for(const s of t.members)r.has(s)||s.kind=="field"&&(s.fieldKind=="message"||(s.fieldKind=="scalar"||s.fieldKind=="enum")&&s.presence!=J1)||(e[s.localName]=x3(s))}else{e={$typeName:t.typeName};for(const n of t.members)(n.kind=="oneof"||n.presence==J1)&&(e[n.localName]=x3(n))}return e}function JQ(t){switch(t.file.edition){case MQ:return!1;case PQ:return!0;default:return t.fields.some(e=>e.presence!=J1&&e.fieldKind!="message"&&!e.oneof)}}function x3(t){if(t.kind=="oneof")return{case:void 0};if(t.fieldKind=="list")return[];if(t.fieldKind=="map")return{};if(t.fieldKind=="message")return KQ;const e=t.getDefaultValue();return e!==void 0?t.fieldKind=="scalar"&&t.longAsString?e.toString():e:t.fieldKind=="scalar"?cc(t.scalar,t.longAsString):t.enum.values[0].number}function Yr(t,e,n=!0){return new SW(t,e,n)}let SW=class{get sortedFields(){var e;return(e=this._sortedFields)!==null&&e!==void 0?e:this._sortedFields=this.desc.fields.concat().sort((n,i)=>n.number-i.number)}constructor(e,n,i=!0){this.lists=new Map,this.maps=new Map,this.check=i,this.desc=e,this.message=this[Wa]=n??gs(e),this.fields=e.fields,this.oneofs=e.oneofs,this.members=e.members}findNumber(e){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(n=>[n.number,n]))),this._fieldsByNumber.get(e)}oneofCase(e){return wh(this.message,e),eW(this.message,e)}isSet(e){return wh(this.message,e),tQ(this.message,e)}clear(e){wh(this.message,e),nQ(this.message,e)}get(e){wh(this.message,e);const n=tW(this.message,e);switch(e.fieldKind){case"list":let i=this.lists.get(e);return(!i||i[Wa]!==n)&&this.lists.set(e,i=new HQ(e,n,this.check)),i;case"map":let r=this.maps.get(e);return(!r||r[Wa]!==n)&&this.maps.set(e,r=new QQ(e,n,this.check)),r;case"message":return U9(e,n,this.check);case"scalar":return n===void 0?cc(e.scalar,!1):B9(e,n);case"enum":return n??e.enum.values[0].number}}set(e,n){if(wh(this.message,e),this.check){const r=Tl(e,n);if(r)throw r}let i;e.fieldKind=="message"?i=L9(e,n):w9(n)||I9(n)?i=n[Wa]:i=W9(e,n),nW(this.message,e,i)}getUnknown(){return this.message.$unknown}setUnknown(e){this.message.$unknown=e}};function wh(t,e){if(e.parent.typeName!==t.$typeName)throw new tr(e,`cannot use ${e.toString()} with message ${t.$typeName}`,"ForeignFieldError")}let HQ=class{field(){return this._field}get size(){return this._arr.length}constructor(e,n,i){this._field=e,this._arr=this[Wa]=n,this.check=i}get(e){const n=this._arr[e];return n===void 0?void 0:V3(this._field,n,this.check)}set(e,n){if(e<0||e>=this._arr.length)throw new tr(this._field,`list item #${e+1}: out of range`);if(this.check){const i=tI(this._field,e,n);if(i)throw i}this._arr[e]=rI(this._field,n)}add(e){if(this.check){const n=tI(this._field,this._arr.length,e);if(n)throw n}this._arr.push(rI(this._field,e))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const e of this._arr)yield V3(this._field,e,this.check)}*entries(){for(let e=0;e<this._arr.length;e++)yield[e,V3(this._field,this._arr[e],this.check)]}},QQ=class{constructor(e,n,i=!0){this.obj=this[Wa]=n??{},this.check=i,this._field=e}field(){return this._field}set(e,n){if(this.check){const i=DQ(this._field,e,n);if(i)throw i}return this.obj[Q0(e)]=qQ(this._field,n),this}delete(e){const n=Q0(e),i=Object.prototype.hasOwnProperty.call(this.obj,n);return i&&delete this.obj[n],i}clear(){for(const e of Object.keys(this.obj))delete this.obj[e]}get(e){let n=this.obj[Q0(e)];return n!==void 0&&(n=N3(this._field,n,this.check)),n}has(e){return Object.prototype.hasOwnProperty.call(this.obj,Q0(e))}*keys(){for(const e of Object.keys(this.obj))yield sI(e,this._field.mapKey)}*entries(){for(const e of Object.entries(this.obj))yield[sI(e[0],this._field.mapKey),N3(this._field,e[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const e of Object.values(this.obj))yield N3(this._field,e,this.check)}forEach(e,n){for(const i of this.entries())e.call(n,i[1],i[0],this)}};function L9(t,e){return x9(e)?XQ(e.message)&&!t.oneof&&t.fieldKind=="message"?e.message.value:e.desc.typeName=="google.protobuf.Struct"&&t.parent.typeName!="google.protobuf.Value"?RW(e.message):e.message:e}function U9(t,e,n){return e!==void 0&&(Ip(t.message)&&!t.oneof&&t.fieldKind=="message"?e={$typeName:t.message.typeName,value:B9(t.message.fields[0],e)}:t.message.typeName=="google.protobuf.Struct"&&t.parent.typeName!="google.protobuf.Value"&&qo(e)&&(e=TW(e))),new SW(t.message,e,n)}function rI(t,e){return t.listKind=="message"?L9(t,e):W9(t,e)}function V3(t,e,n){return t.listKind=="message"?U9(t,e,n):B9(t,e)}function qQ(t,e){return t.mapKind=="message"?L9(t,e):W9(t,e)}function N3(t,e,n){return t.mapKind=="message"?U9(t,e,n):e}function Q0(t){return typeof t=="string"||typeof t=="number"?t:String(t)}function sI(t,e){switch(e){case oe.STRING:return t;case oe.INT32:case oe.FIXED32:case oe.UINT32:case oe.SFIXED32:case oe.SINT32:{const n=Number.parseInt(t);if(Number.isFinite(n))return n;break}case oe.BOOL:switch(t){case"true":return!0;case"false":return!1}break;case oe.UINT64:case oe.FIXED64:try{return on.uParse(t)}catch{}break;default:try{return on.parse(t)}catch{}break}return t}function B9(t,e){switch(t.scalar){case oe.INT64:case oe.SFIXED64:case oe.SINT64:"longAsString"in t&&t.longAsString&&typeof e=="string"&&(e=on.parse(e));break;case oe.FIXED64:case oe.UINT64:"longAsString"in t&&t.longAsString&&typeof e=="string"&&(e=on.uParse(e));break}return e}function W9(t,e){switch(t.scalar){case oe.INT64:case oe.SFIXED64:case oe.SINT64:"longAsString"in t&&t.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=on.parse(e));break;case oe.FIXED64:case oe.UINT64:"longAsString"in t&&t.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=on.uParse(e));break}return e}function TW(t){const e={$typeName:"google.protobuf.Struct",fields:{}};if(qo(t))for(const[n,i]of Object.entries(t))e.fields[n]=IW(i);return e}function RW(t){const e={};for(const[n,i]of Object.entries(t.fields))e[n]=CW(i);return e}function CW(t){switch(t.kind.case){case"structValue":return RW(t.kind.value);case"listValue":return t.kind.value.values.map(CW);case"nullValue":case void 0:return null;default:return t.kind.value}}function IW(t){const e={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof t){case"number":e.kind={case:"numberValue",value:t};break;case"string":e.kind={case:"stringValue",value:t};break;case"boolean":e.kind={case:"boolValue",value:t};break;case"object":if(t===null)e.kind={case:"nullValue",value:0};else if(Array.isArray(t)){const n={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(t))for(const i of t)n.values.push(IW(i));e.kind={case:"listValue",value:n}}else e.kind={case:"structValue",value:TW(t)};break}return e}const eq=3,aI={writeUnknownFields:!0};function tq(t){return t?Object.assign(Object.assign({},aI),t):aI}function wW(t,e,n){return tg(new mW,tq(n),Yr(t,e)).finish()}function tg(t,e,n){var i;for(const r of n.sortedFields){if(!n.isSet(r)){if(r.presence==eq)throw new Error(`cannot encode field ${n.desc.typeName}.${r.name} to binary: required field not set`);continue}xW(t,e,n,r)}if(e.writeUnknownFields)for(const{no:r,wireType:s,data:a}of(i=n.getUnknown())!==null&&i!==void 0?i:[])t.tag(r,s).raw(a);return t}function xW(t,e,n,i){var r;switch(i.fieldKind){case"scalar":case"enum":ng(t,n.desc.typeName,i.name,(r=i.scalar)!==null&&r!==void 0?r:oe.INT32,i.number,n.get(i));break;case"list":nq(t,e,i,n.get(i));break;case"message":VW(t,e,i,n.get(i));break;case"map":for(const[s,a]of n.get(i))iq(t,e,i,s,a);break}}function ng(t,e,n,i,r,s){NW(t.tag(r,rq(i)),e,n,i,s)}function VW(t,e,n,i){n.delimitedEncoding?tg(t.tag(n.number,In.StartGroup),e,i).tag(n.number,In.EndGroup):tg(t.tag(n.number,In.LengthDelimited).fork(),e,i).join()}function nq(t,e,n,i){var r;if(n.listKind=="message"){for(const a of i)VW(t,e,n,a);return}const s=(r=n.scalar)!==null&&r!==void 0?r:oe.INT32;if(n.packed){if(!i.size)return;t.tag(n.number,In.LengthDelimited).fork();for(const a of i)NW(t,n.parent.typeName,n.name,s,a);t.join();return}for(const a of i)ng(t,n.parent.typeName,n.name,s,n.number,a)}function iq(t,e,n,i,r){var s;switch(t.tag(n.number,In.LengthDelimited).fork(),ng(t,n.parent.typeName,n.name,n.mapKey,1,i),n.mapKind){case"scalar":case"enum":ng(t,n.parent.typeName,n.name,(s=n.scalar)!==null&&s!==void 0?s:oe.INT32,2,r);break;case"message":tg(t.tag(2,In.LengthDelimited).fork(),e,r).join();break}t.join()}function NW(t,e,n,i,r){try{switch(i){case oe.STRING:t.string(r);break;case oe.BOOL:t.bool(r);break;case oe.DOUBLE:t.double(r);break;case oe.FLOAT:t.float(r);break;case oe.INT32:t.int32(r);break;case oe.INT64:t.int64(r);break;case oe.UINT64:t.uint64(r);break;case oe.FIXED64:t.fixed64(r);break;case oe.BYTES:t.bytes(r);break;case oe.FIXED32:t.fixed32(r);break;case oe.SFIXED32:t.sfixed32(r);break;case oe.SFIXED64:t.sfixed64(r);break;case oe.SINT64:t.sint64(r);break;case oe.UINT32:t.uint32(r);break;case oe.SINT32:t.sint32(r);break}}catch(s){throw s instanceof Error?new Error(`cannot encode field ${e}.${n} to binary: ${s.message}`):s}}function rq(t){switch(t){case oe.BYTES:case oe.STRING:return In.LengthDelimited;case oe.DOUBLE:case oe.FIXED64:case oe.SFIXED64:return In.Bit64;case oe.FIXED32:case oe.SFIXED32:case oe.FLOAT:return In.Bit32;default:return In.Varint}}function Od(t,e,...n){return n.reduce((i,r)=>i.nestedMessages[r],t.messages[e])}function vt(t,e,...n){if(n.length==0)return t.enums[e];const i=n.pop();return n.reduce((r,s)=>r.nestedMessages[s],t.messages[e]).nestedEnums[i]}function Et(t){const e={};for(const n of t.values)e[n.localName]=n.number,e[n.number]=n.localName;return e}const _W=_Q({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false"},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]}]}),sq=Od(_W,1);var oI;(function(t){t[t.DECLARATION=0]="DECLARATION",t[t.UNVERIFIED=1]="UNVERIFIED"})(oI||(oI={}));var lI;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.GROUP=10]="GROUP",t[t.MESSAGE=11]="MESSAGE",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.ENUM=14]="ENUM",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(lI||(lI={}));var cI;(function(t){t[t.OPTIONAL=1]="OPTIONAL",t[t.REPEATED=3]="REPEATED",t[t.REQUIRED=2]="REQUIRED"})(cI||(cI={}));var uI;(function(t){t[t.SPEED=1]="SPEED",t[t.CODE_SIZE=2]="CODE_SIZE",t[t.LITE_RUNTIME=3]="LITE_RUNTIME"})(uI||(uI={}));var dI;(function(t){t[t.STRING=0]="STRING",t[t.CORD=1]="CORD",t[t.STRING_PIECE=2]="STRING_PIECE"})(dI||(dI={}));var hI;(function(t){t[t.JS_NORMAL=0]="JS_NORMAL",t[t.JS_STRING=1]="JS_STRING",t[t.JS_NUMBER=2]="JS_NUMBER"})(hI||(hI={}));var fI;(function(t){t[t.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",t[t.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",t[t.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(fI||(fI={}));var pI;(function(t){t[t.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",t[t.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",t[t.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",t[t.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",t[t.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",t[t.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",t[t.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",t[t.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",t[t.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",t[t.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(pI||(pI={}));var mI;(function(t){t[t.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",t[t.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",t[t.IDEMPOTENT=2]="IDEMPOTENT"})(mI||(mI={}));var gI;(function(t){t[t.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",t[t.EXPLICIT=1]="EXPLICIT",t[t.IMPLICIT=2]="IMPLICIT",t[t.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(gI||(gI={}));var yI;(function(t){t[t.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",t[t.OPEN=1]="OPEN",t[t.CLOSED=2]="CLOSED"})(yI||(yI={}));var bI;(function(t){t[t.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",t[t.PACKED=1]="PACKED",t[t.EXPANDED=2]="EXPANDED"})(bI||(bI={}));var vI;(function(t){t[t.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",t[t.VERIFY=2]="VERIFY",t[t.NONE=3]="NONE"})(vI||(vI={}));var EI;(function(t){t[t.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",t[t.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",t[t.DELIMITED=2]="DELIMITED"})(EI||(EI={}));var AI;(function(t){t[t.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",t[t.ALLOW=1]="ALLOW",t[t.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(AI||(AI={}));var SI;(function(t){t[t.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",t[t.STYLE2024=1]="STYLE2024",t[t.STYLE_LEGACY=2]="STYLE_LEGACY"})(SI||(SI={}));var TI;(function(t){t[t.NONE=0]="NONE",t[t.SET=1]="SET",t[t.ALIAS=2]="ALIAS"})(TI||(TI={}));var RI;(function(t){t[t.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",t[t.EDITION_LEGACY=900]="EDITION_LEGACY",t[t.EDITION_PROTO2=998]="EDITION_PROTO2",t[t.EDITION_PROTO3=999]="EDITION_PROTO3",t[t.EDITION_2023=1e3]="EDITION_2023",t[t.EDITION_2024=1001]="EDITION_2024",t[t.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",t[t.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",t[t.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",t[t.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",t[t.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",t[t.EDITION_MAX=2147483647]="EDITION_MAX"})(RI||(RI={}));const CI={readUnknownFields:!0};function aq(t){return t?Object.assign(Object.assign({},CI),t):CI}function wp(t,e,n){const i=Yr(t,void 0,!1);return kW(i,new N9(e),aq(n),!1,e.byteLength),i.message}function kW(t,e,n,i,r){var s;const a=i?e.len:e.pos+r;let o,l;const c=(s=t.getUnknown())!==null&&s!==void 0?s:[];for(;e.pos<a&&([o,l]=e.tag(),!(i&&l==In.EndGroup));){const u=t.findNumber(o);if(!u){const d=e.skip(l,o);n.readUnknownFields&&c.push({no:o,wireType:l,data:d});continue}FW(t,e,u,l,n)}if(i&&(l!=In.EndGroup||o!==r))throw new Error("invalid end group tag");c.length>0&&t.setUnknown(c)}function FW(t,e,n,i,r){switch(n.fieldKind){case"scalar":t.set(n,ld(e,n.scalar));break;case"enum":t.set(n,ld(e,oe.INT32));break;case"message":t.set(n,G9(e,r,n,t.get(n)));break;case"list":lq(e,i,t.get(n),r);break;case"map":oq(e,t.get(n),r);break}}function oq(t,e,n){const i=e.field();let r,s;const a=t.pos+t.uint32();for(;t.pos<a;){const[o]=t.tag();switch(o){case 1:r=ld(t,i.mapKey);break;case 2:switch(i.mapKind){case"scalar":s=ld(t,i.scalar);break;case"enum":s=t.int32();break;case"message":s=G9(t,n,i);break}break}}if(r===void 0&&(r=cc(i.mapKey,!1)),s===void 0)switch(i.mapKind){case"scalar":s=cc(i.scalar,!1);break;case"enum":s=i.enum.values[0].number;break;case"message":s=Yr(i.message,void 0,!1);break}e.set(r,s)}function lq(t,e,n,i){var r;const s=n.field();if(s.listKind==="message"){n.add(G9(t,i,s));return}const a=(r=s.scalar)!==null&&r!==void 0?r:oe.INT32;if(!(e==In.LengthDelimited&&a!=oe.STRING&&a!=oe.BYTES)){n.add(ld(t,a));return}const o=t.uint32()+t.pos;for(;t.pos<o;)n.add(ld(t,a))}function G9(t,e,n,i){const r=n.delimitedEncoding,s=i??Yr(n.message,void 0,!1);return kW(s,t,e,r,r?n.number:t.uint32()),s}function ld(t,e){switch(e){case oe.STRING:return t.string();case oe.BOOL:return t.bool();case oe.DOUBLE:return t.double();case oe.FLOAT:return t.float();case oe.INT32:return t.int32();case oe.INT64:return t.int64();case oe.UINT64:return t.uint64();case oe.FIXED64:return t.fixed64();case oe.BYTES:return t.bytes();case oe.FIXED32:return t.fixed32();case oe.SFIXED32:return t.sfixed32();case oe.SFIXED64:return t.sfixed64();case oe.SINT64:return t.sint64();case oe.UINT32:return t.uint32();case oe.SINT32:return t.sint32()}}function Ut(t,e){var n;const i=wp(sq,R9(t));return i.messageType.forEach(S9),i.dependency=(n=e==null?void 0:e.map(r=>r.proto.name))!==null&&n!==void 0?n:[],iW(i,r=>e==null?void 0:e.find(s=>s.proto.name===r)).getFile(i.name)}function yc(t,e,...n){if(n.length>0)throw new Error;return t.services[e]}const bc=Ut("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),LW=Ut("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),cq=Od(LW,0);function uq(t,e,n){let i=!1;return n||(n=gs(cq),i=!0),n.value=wW(t,e),n.typeUrl=fq(e.$typeName),i?n:void 0}function dq(t,e){if(t.typeUrl==="")return!1;const n=typeof e=="string"?e:e.typeName,i=UW(t.typeUrl);return n===i}function hq(t,e){if(t.typeUrl==="")return;const n=e.kind=="message"?e:e.getMessage(UW(t.typeUrl));if(!(!n||!dq(t,n)))return wp(n,t.value)}function fq(t){return`type.googleapis.com/${t}`}function UW(t){const e=t.lastIndexOf("/"),n=e>=0?t.substring(e+1):t;if(!n.length)throw new Error(`invalid type url: ${t}`);return n}const Z9=Ut("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),pq=Od(Z9,0),BW=Od(Z9,1),mq=Od(Z9,2);var UA;(function(t){t[t.NULL_VALUE=0]="NULL_VALUE"})(UA||(UA={}));const Tr=Ut("CjZzdHJlYW1sYXllci9hbmFseXRpY3MvdjEvY29tbW9uL2FuYWx5dGljcy5jb21tb24ucHJvdG8SH3N0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24iWgoGUGVyaW9kEigKBGZyb20YASABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEiYKAnRvGAIgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCpWCgxSZXN1bHRTdGF0dXMSFwoTUkVTVUxUX1NUQVRVU19VTlNFVBAAEhQKEFJFU1VMVF9TVEFUVVNfT0sQARIXChNSRVNVTFRfU1RBVFVTX0VSUk9SEAIqwQsKBEtpbmQSDgoKS0lORF9VTlNFVBAAEhAKDEtJTkRfVklFV0VSUxABEhUKEUtJTkRfRVZFTlRfT1BFTkVEEAISIQodS0lORF9BVVRIRU5USUNBVElPTl9BVFRFTVBURUQQAxIhCh1LSU5EX0FVVEhFTlRJQ0FUSU9OX0NPTVBMRVRFRBAEEhYKEktJTkRfTEFVTkNIX0JVVFRPThAFEhwKGEtJTkRfUEVSTUlTU0lPTl9QUk9WSURFRBAGEiAKHEtJTkRfUEVSTUlTU0lPTl9OT1RfUFJPVklERUQQBxIVChFLSU5EX0lOVEVSQUNUSU9OUxAIEh0KGUtJTkRfQ09OVkVSU0FUSU9OX0NSRUFURUQQCRIcChhLSU5EX0NPTlZFUlNBVElPTl9KT0lORUQQChIdChlLSU5EX0NPTlZFUlNBVElPTl9ERUxFVEVEEAsSEQoNS0lORF9ORVdfQ0FMTBAMEhQKEEtJTkRfQ0FMTF9KT0lORUQQDRIWChJLSU5EX0NBTExfRklOSVNIRUQQDhIYChRLSU5EX0lOVklUQVRJT05fU0VOVBAPEhwKGEtJTkRfSU5WSVRBVElPTl9BQ0NFUFRFRBAQEhMKD0tJTkRfV0FWRVNfU0VOVBAREhYKEktJTkRfV0FWRVNfUkVQTElFUxASEh4KGktJTkRfTk9USUZJQ0FUSU9OX1JFQ0VJVkVEEBMSHAoYS0lORF9OT1RJRklDQVRJT05fT1BFTkVEEBQSGgoWS0lORF9TRVNTSU9OX0hFQVJUQkVBVBAVEhwKGEtJTkRfQ09OVkVSU0FUSU9OX09QRU5FRBAWEiIKHktJTkRfR1JPVVBfQ09OVkVSU0FUSU9OX09QRU5FRBAXEhoKFktJTkRfR1JPVVBfQ0FMTF9KT0lORUQQGBITCg9LSU5EX1BPTExTX1ZPVEUQGRIXChNLSU5EX1BPTExTX1JFQ0VJVkVEEBoSFQoRS0lORF9QT0xMU19PUEVORUQQGxIVChFLSU5EX0dBTUVTX0pPSU5FRBAcEhsKF0tJTkRfQlVUVE9OX0lOSVRJQUxJWkVEEB0SGAoUS0lORF9QT0xMU19OQVZJR0FURUQQHhIYChRLSU5EX0FEX1ZJREVPX1BMQVlFRBAfEigKJEtJTkRfQURfSU5URVJBQ1RJT05fQlVUVE9OX05BVklHQVRFRBAgEigKJEtJTkRfQURfSU5URVJBQ1RJT05fQkFOTkVSX05BVklHQVRFRBAhEhIKDktJTkRfQUxMX1ZJRVdTECISGAoUS0lORF9BRF9CQU5ORVJfU0hPV04QIxIVChFLSU5EX0FEX1ZJREVPX1EyNRAkEhUKEUtJTkRfQURfVklERU9fUTUwECUSFQoRS0lORF9BRF9WSURFT19RNzUQJhIaChZLSU5EX0FEX1ZJREVPX0NPTVBMRVRFECcSGgoWS0lORF9BRF9WSURFT19SRU5ERVJFRBAoEhkKFUtJTkRfQURfVklERU9fU0tJUFBFRBApEhoKFktJTkRfQURfVklERU9fUkVQTEFZRUQQKhIXChNLSU5EX0FEX1ZJREVPX01VVEVEECsSGQoVS0lORF9BRF9WSURFT19VTk1VVEVEECwSHgoaS0lORF9BRF9JTlRFUkFDVElPTl9DVVNUT00QLRIWChJLSU5EX1BPTExTX0FEX1ZPVEUQLhIYChRLSU5EX1BPTExTX0FEX09QRU5FRBAvEhYKEktJTkRfU1RSRUFNX1BBVVNFRBAwEhcKE0tJTkRfU1RSRUFNX1JFU1VNRUQQMRIeChpLSU5EX0VYVEVSTkFMX0FEX1JFUVVFU1RFRBAyEhsKF0tJTkRfRVhURVJOQUxfQURfTE9BREVEEDMSHQoZS0lORF9FWFRFUk5BTF9BRF9SRU5ERVJFRBA0EhsKF0tJTkRfRVhURVJOQUxfQURfQ0xPU0VEEDUqgwcKCENhdGVnb3J5EhIKDkNBVEVHT1JZX1VOU0VUEAASFwoTQ0FURUdPUllfU1RBVFNfSE9NRRABEhIKDkNBVEVHT1JZX1NUQVRTEAISGQoVQ0FURUdPUllfVFdJVFRFUl9IT01FEAMSFAoQQ0FURUdPUllfVFdJVFRFUhAEEhsKF0NBVEVHT1JZX01FU1NBR0lOR19IT01FEAUSFgoSQ0FURUdPUllfTUVTU0FHSU5HEAYSGQoVQ0FURUdPUllfQ0FMTElOR19IT01FEAcSFAoQQ0FURUdPUllfQ0FMTElORxAIEhkKFUNBVEVHT1JZX1BST0ZJTEVfSE9NRRAJEhQKEENBVEVHT1JZX1BST0ZJTEUQChIaChZDQVRFR09SWV9XSE9JU1dBVENISU5HEAsSHwobQ0FURUdPUllfV0hPSVNXQVRDSElOR19IT01FEAwSGQoVQ0FURUdPUllfSU5URVJTVElUSUFMEA0SFAoQQ0FURUdPUllfQkVUVElORxAOEhkKFUNBVEVHT1JZX0JFVFRJTkdfSE9NRRAPEhMKD0NBVEVHT1JZX0lOUExBWRAQEhgKFENBVEVHT1JZX0lOUExBWV9IT01FEBESGAoUQ0FURUdPUllfTUVSQ0hBTkRJU0UQEhIdChlDQVRFR09SWV9NRVJDSEFORElTRV9IT01FEBMSFQoRQ0FURUdPUllfQ09OVEVTVFMQFBIaChZDQVRFR09SWV9DT05URVNUU19IT01FEBUSFAoQQ0FURUdPUllfVElDS0VUUxAWEhkKFUNBVEVHT1JZX1RJQ0tFVFNfSE9NRRAXEhcKE0NBVEVHT1JZX0lOVklUQVRJT04QGBIcChhDQVRFR09SWV9JTlZJVEFUSU9OX0hPTUUQGRISCg5DQVRFR09SWV9QT0xMUxAaEhcKE0NBVEVHT1JZX1BPTExTX0hPTUUQGxIUChBDQVRFR09SWV9GQU5UQVNZEBwSDwoLQ0FURUdPUllfV1AQHRIcChhDQVRFR09SWV9ISUdITElHSFRTX0hPTUUQHhIXChNDQVRFR09SWV9ISUdITElHSFRTEB8SHQoZQ0FURUdPUllfUFVCTElDX0NIQVRfSE9NRRAgEhgKFENBVEVHT1JZX1BVQkxJQ19DSEFUECESHgoaQ0FURUdPUllfRVhQT1NFRF9QQVVTRURfQUQQIip0ChFTY3JlZW5PcmllbnRhdGlvbhIcChhTQ1JFRU5fT1JJRU5UQVRJT05fVU5TRVQQABIfChtTQ1JFRU5fT1JJRU5UQVRJT05fUE9SVFJBSVQQARIgChxTQ1JFRU5fT1JJRU5UQVRJT05fTEFORFNDQVBFEAIqmQMKCVRvcGljVHlwZRIUChBUT1BJQ19UWVBFX1VOU0VUEAASEwoPVE9QSUNfVFlQRV9DQUxMEAESEwoPVE9QSUNfVFlQRV9DSEFUEAISFgoSVE9QSUNfVFlQRV9GQU5UQVNZEAMSFAoQVE9QSUNfVFlQRV9QT0xMUxAEEhkKFVRPUElDX1RZUEVfUE9MTFNfUE9MTBAFEhsKF1RPUElDX1RZUEVfUE9MTFNfVFJJVklBEAYSHwobVE9QSUNfVFlQRV9QT0xMU19QUkVESUNUSU9OEAcSHAoYVE9QSUNfVFlQRV9QT0xMU19JTlNJR0hUEAgSHAoYVE9QSUNfVFlQRV9QT0xMU19UV0lUVEVSEAkSEwoPVE9QSUNfVFlQRV9MSU5LEAoSFgoSVE9QSUNfVFlQRV9NRVNTQUdFEAsSHgoaVE9QSUNfVFlQRV9QT0xMU19QUk9NT1RJT04QDBIaChZUT1BJQ19UWVBFX1BVQkxJQ19DSEFUEA0SIAocVE9QSUNfVFlQRV9FWFBPU0VEX1BBVVNFRF9BRBAOKs4HCgxUb3BpY1N1YlR5cGUSGAoUVE9QSUNfU1VCX1RZUEVfVU5TRVQQABIpCiVUT1BJQ19TVUJfVFlQRV9QUk9NT1RJT05fSU5HQU1FX0lBQjIxEAESKQolVE9QSUNfU1VCX1RZUEVfUFJPTU9USU9OX0lOR0FNRV9JQUIxMRACEikKJVRPUElDX1NVQl9UWVBFX1BST01PVElPTl9JTkdBTUVfSUFCNjEQAxIuCipUT1BJQ19TVUJfVFlQRV9QUk9NT1RJT05fSU5HQU1FX0lBQjIxX0xCQVIQBBIuCipUT1BJQ19TVUJfVFlQRV9QUk9NT1RJT05fSU5HQU1FX0lBQjExX0xCQVIQBRI5CjVUT1BJQ19TVUJfVFlQRV9QUk9NT1RJT05fSU5HQU1FX0lBQjIxX0xCQVJfQURESVRJT05BTBAGEjkKNVRPUElDX1NVQl9UWVBFX1BST01PVElPTl9JTkdBTUVfSUFCMTFfTEJBUl9BRERJVElPTkFMEAcSIAocVE9QSUNfU1VCX1RZUEVfUFJPTU9USU9OX0dBTRAIEi8KK1RPUElDX1NVQl9UWVBFX1BST01PVElPTl9WSURFT19TSURFX0JZX1NJREUQCRIvCitUT1BJQ19TVUJfVFlQRV9QUk9NT1RJT05fUElDVFVSRV9JTl9QSUNUVVJFEAoSJgoiVE9QSUNfU1VCX1RZUEVfUFJPTU9USU9OX1NIT1BfTEJBUhALEikKJVRPUElDX1NVQl9UWVBFX1BST01PVElPTl9TSE9QX09WRVJMQVkQDBIpCiVUT1BJQ19TVUJfVFlQRV9QUk9NT1RJT05fU0hPUF9TSURFQkFSEA0SKgomVE9QSUNfU1VCX1RZUEVfUFJPTU9USU9OX05GTF9TSE9QX0xCQVIQDhItCilUT1BJQ19TVUJfVFlQRV9QUk9NT1RJT05fTkZMX1NIT1BfT1ZFUkxBWRAPEi0KKVRPUElDX1NVQl9UWVBFX1BST01PVElPTl9ORkxfU0hPUF9TSURFQkFSEBASMQotVE9QSUNfU1VCX1RZUEVfUFJPTU9USU9OX0lOR0FNRV9JQUIyMV9TSURFQkFSEBESMQotVE9QSUNfU1VCX1RZUEVfUFJPTU9USU9OX0lOR0FNRV9JQUIxMV9TSURFQkFSEBISMQotVE9QSUNfU1VCX1RZUEVfUFJPTU9USU9OX0lOR0FNRV9JQUI2MV9TSURFQkFSEBMSKAokVE9QSUNfU1VCX1RZUEVfUFJPTU9USU9OX0xPV0VSX1RISVJEEBQqgQIKDlBvbGxPcGVuZWRGcm9tEhoKFlBPTExfT1BFTkVEX0ZST01fVU5TRVQQABIbChdQT0xMX09QRU5FRF9GUk9NX0lOX0FQUBABEiAKGFBPTExfT1BFTkVEX0ZST01fSElTVE9SWRACGgIIARIhCh1QT0xMX09QRU5FRF9GUk9NX1BJQ0tfSElTVE9SWRADEiQKIFBPTExfT1BFTkVEX0ZST01fSU5TSUdIVF9ISVNUT1JZEAQSIwofUE9MTF9PUEVORURfRlJPTV9UV0VFVFNfSElTVE9SWRAFEiYKIlBPTExfT1BFTkVEX0ZST01fUFJPTU9USU9OX0hJU1RPUlkQBipGCgpFbnRpdHlUeXBlEgkKBVVOU0VUEAASCQoFRVZFTlQQARIICgRVU0VSEAISCgoGREVWSUNFEAMSDAoIUVVFU1RJT04QBEK1AQojY29tLnN0cmVhbWxheWVyLmFuYWx5dGljcy5jb21tb24udjFCH1N0cmVhbUxheWVyQW5hbHl0aWNzQ29tbW9uUHJvdG9QAVpiZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9hbmFseXRpY3MvdjEvY29tbW9uO3NsX2FuYWx5dGljc19jb21tb26iAgZTTF9BUEliBnByb3RvMw",[bc]),gq=vt(Tr,1),yt=Et(gq),yq=vt(Tr,2),Yn=Et(yq),bq=vt(Tr,3),II=Et(bq),vq=vt(Tr,4),Ct=Et(vq),Eq=vt(Tr,5),nn=Et(Eq),Aq=vt(Tr,6),cn=Et(Aq),oo=Ut("CitzdHJlYW1sYXllci9jb21tb24vc3RyZWFtbGF5ZXJfY29tbW9uLnByb3RvEhJzdHJlYW1sYXllci5jb21tb24iJgoIS2V5VmFsdWUSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJKroBChNQcm9wYWdhdGlvblN0cmF0ZWd5EiAKHFBST1BBR0FUSU9OX1NUUkFURUdZX0lOVkFMSUQQABIeChpQUk9QQUdBVElPTl9TVFJBVEVHWV9VTlNFVBABEh8KG1BST1BBR0FUSU9OX1NUUkFURUdZX0lHTk9SRRACEh4KGlBST1BBR0FUSU9OX1NUUkFURUdZX0FXQUlUEAMSIAocUFJPUEFHQVRJT05fU1RSQVRFR1lfUFVCTElTSBAEKqYBChBGYWlsb3ZlclN0cmF0ZWd5Eh0KGUZBSUxPVkVSX1NUUkFURUdZX0lOVkFMSUQQABIbChdGQUlMT1ZFUl9TVFJBVEVHWV9VTlNFVBABEhwKGEZBSUxPVkVSX1NUUkFURUdZX0lHTk9SRRACEhsKF0ZBSUxPVkVSX1NUUkFURUdZX0VBUkxZEAMSGwoXRkFJTE9WRVJfU1RSQVRFR1lfR1JBQ0UQBCqsAQoWQXV0aGVudGljYXRpb25TdHJhdGVneRIjCh9BVVRIRU5USUNBVElPTl9TVFJBVEVHWV9JTlZBTElEEAASIQodQVVUSEVOVElDQVRJT05fU1RSQVRFR1lfVU5TRVQQARIkCiBBVVRIRU5USUNBVElPTl9TVFJBVEVHWV9SRVFVSVJFRBACEiQKIEFVVEhFTlRJQ0FUSU9OX1NUUkFURUdZX09QVElPTkFMEAMq2AEKC0FjY2Vzc0xldmVsEhYKEkFDQ0VTU19MRVZFTF9VTlNFVBAAEhYKEkFDQ0VTU19MRVZFTF9PV05FUhABEhcKE0FDQ0VTU19MRVZFTF9DTElFTlQQAhIbChZBQ0NFU1NfTEVWRUxfTU9ERVJBVE9SENQWEhgKE0FDQ0VTU19MRVZFTF9WSUVXRVIQuBcSGAoTQUNDRVNTX0xFVkVMX01FTUJFUhCgHxIXChJBQ0NFU1NfTEVWRUxfQURNSU4QiCcSFgoRQUNDRVNTX0xFVkVMX1JPT1QQkE4qTQoRT3JnYW5pemF0aW9uU2NvcGUSHAoYT1JHQU5JWkFUSU9OX1NDT1BFX1VOU0VUEAASGgoWT1JHQU5JWkFUSU9OX1NDT1BFX1NFVBABOkMKC3JvdXRlUHJlZml4Eh8uZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zGNGGAyABKAlSC3JvdXRlUHJlZml4OjgKBmFjdGlvbhIeLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zGOHUAyABKAlSBmFjdGlvbjp7ChNwcm9wYWdhdGlvblN0cmF0ZWd5Eh4uZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMY4tQDIAEoDjInLnN0cmVhbWxheWVyLmNvbW1vbi5Qcm9wYWdhdGlvblN0cmF0ZWd5UhNwcm9wYWdhdGlvblN0cmF0ZWd5OnIKEGZhaWxvdmVyU3RyYXRlZ3kSHi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucxjj1AMgASgOMiQuc3RyZWFtbGF5ZXIuY29tbW9uLkZhaWxvdmVyU3RyYXRlZ3lSEGZhaWxvdmVyU3RyYXRlZ3k6hAEKFmF1dGhlbnRpY2F0aW9uU3RyYXRlZ3kSHi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucxjk1AMgASgOMiouc3RyZWFtbGF5ZXIuY29tbW9uLkF1dGhlbnRpY2F0aW9uU3RyYXRlZ3lSFmF1dGhlbnRpY2F0aW9uU3RyYXRlZ3k6YwoLYWNjZXNzTGV2ZWwSHi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucxjl1AMgASgOMh8uc3RyZWFtbGF5ZXIuY29tbW9uLkFjY2Vzc0xldmVsUgthY2Nlc3NMZXZlbDp1ChFvcmdhbml6YXRpb25TY29wZRIeLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zGObUAyABKA4yJS5zdHJlYW1sYXllci5jb21tb24uT3JnYW5pemF0aW9uU2NvcGVSEW9yZ2FuaXphdGlvblNjb3BlQogBChZjb20uc3RyZWFtbGF5ZXIuY29tbW9uQhZTdHJlYW1MYXllckNvbW1vblByb3RvUAFaS2dpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvY29tbW9uO3NsX2NvbW1vbqICBlNMX0FQSWIGcHJvdG8z",[_W]),WW=Ut("CiBzdHJlYW1sYXllci9zb2NpYWwvdHdpdHRlci5wcm90bxISc3RyZWFtbGF5ZXIuc29jaWFsIi4KDVR3ZWV0SGFzaHRhZ3MSDAoEdGV4dBgBIAEoCRIPCgdpbmRpY2VzGAIgAygFIlQKCVR3ZWV0VXJscxILCgN1cmwYASABKAkSEwoLZGlzcGxheV91cmwYAiABKAkSFAoMZXhwYW5kZWRfdXJsGAMgASgJEg8KB2luZGljZXMYBCADKAUiywIKClR3ZWV0TWVkaWESCgoCaWQYASABKAMSDgoGaWRfc3RyGAIgASgJEgwKBHR5cGUYAyABKAkSCwoDdXJsGAQgASgJEhEKCW1lZGlhX3VybBgFIAEoCRITCgtkaXNwbGF5X3VybBgGIAEoCRIUCgxleHBhbmRlZF91cmwYByABKAkSFwoPbWVkaWFfdXJsX2h0dHBzGAggASgJEhYKDnNvdXJjZV91c2VyX2lkGAkgASgDEhoKEnNvdXJjZV91c2VyX2lkX3N0chgKIAEoCRIYChBzb3VyY2Vfc3RhdHVzX2lkGAsgASgDEhwKFHNvdXJjZV9zdGF0dXNfaWRfc3RyGAwgASgJEjIKBXNpemVzGA0gASgLMiMuc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0TWVkaWFTaXplcxIPCgdpbmRpY2VzGA4gAygFIu0DChJUd2VldEV4dGVuZGVkTWVkaWESCgoCaWQYASABKAMSDgoGaWRfc3RyGAIgASgJEgwKBHR5cGUYAyABKAkSCwoDdXJsGAQgASgJEhEKCW1lZGlhX3VybBgFIAEoCRITCgtkaXNwbGF5X3VybBgGIAEoCRIUCgxleHBhbmRlZF91cmwYByABKAkSFwoPbWVkaWFfdXJsX2h0dHBzGAggASgJEjIKBXNpemVzGAkgASgLMiMuc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0TWVkaWFTaXplcxIPCgdpbmRpY2VzGAogAygFEjsKCnZpZGVvX2luZm8YCyABKAsyJy5zdHJlYW1sYXllci5zb2NpYWwuVHdlZXRNZWRpYVZpZGVvSW5mbxJeChVhZGRpdGlvbmFsX21lZGlhX2luZm8YDCABKAsyPy5zdHJlYW1sYXllci5zb2NpYWwuVHdlZXRFeHRlbmRlZE1lZGlhLlR3ZWV0QWRkaXRpb25hbE1lZGlhSW5mbxpnChhUd2VldEFkZGl0aW9uYWxNZWRpYUluZm8SDQoFdGl0bGUYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSEgoKZW1iZWRkYWJsZRgDIAEoCBITCgttb25ldGl6YWJsZRgEIAEoCCLcAQoTVHdlZXRNZWRpYVZpZGVvSW5mbxIUCgxhc3BlY3RfcmF0aW8YASADKAUSFwoPZHVyYXRpb25fbWlsbGlzGAIgASgFEkwKCHZhcmlhbnRzGAMgAygLMjouc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0TWVkaWFWaWRlb0luZm8uVHdlZXRWaWRlb1ZhcmlhbnRzGkgKElR3ZWV0VmlkZW9WYXJpYW50cxIPCgdiaXRyYXRlGAEgASgFEhQKDGNvbnRlbnRfdHlwZRgCIAEoCRILCgN1cmwYAyABKAki3gEKD1R3ZWV0TWVkaWFTaXplcxIxCgV0aHVtYhgBIAEoCzIiLnN0cmVhbWxheWVyLnNvY2lhbC5Ud2VldE1lZGlhU2l6ZRIxCgVsYXJnZRgCIAEoCzIiLnN0cmVhbWxheWVyLnNvY2lhbC5Ud2VldE1lZGlhU2l6ZRIyCgZtZWRpdW0YAyABKAsyIi5zdHJlYW1sYXllci5zb2NpYWwuVHdlZXRNZWRpYVNpemUSMQoFc21hbGwYBCABKAsyIi5zdHJlYW1sYXllci5zb2NpYWwuVHdlZXRNZWRpYVNpemUiNgoOVHdlZXRNZWRpYVNpemUSCQoBdxgBIAEoBRIJCgFoGAIgASgFEg4KBnJlc2l6ZRgDIAEoCSJjChFUd2VldFVzZXJNZW50aW9ucxIKCgJpZBgBIAEoAxIOCgZpZF9zdHIYAiABKAkSDAoEbmFtZRgDIAEoCRITCgtzY3JlZW5fbmFtZRgEIAEoCRIPCgdpbmRpY2VzGAUgAygFIiwKC1R3ZWV0U3ltYm9sEgwKBHRleHQYASABKAkSDwoHaW5kaWNlcxgCIAMoBSKuAQoJVHdlZXRQb2xsEhgKEGR1cmF0aW9uX21pbnV0ZXMYASABKAkSFAoMZW5kX2RhdGV0aW1lGAIgASgJEj4KB29wdGlvbnMYAyADKAsyLS5zdHJlYW1sYXllci5zb2NpYWwuVHdlZXRQb2xsLlR3ZWV0UG9sbE9wdGlvbhoxCg9Ud2VldFBvbGxPcHRpb24SEAoIcG9zaXRpb24YASABKAUSDAoEdGV4dBgCIAEoCSKXBgoNVHdlZXRNZXRhZGF0YRIOCgZpZF9zdHIYASABKAkSDwoHYWNjb3VudBgCIAEoCRISCgphY2NvdW50X2lkGAMgASgJEhUKDWFjY291bnRfaW1hZ2UYBCABKAkSFAoMYWNjb3VudF9uYW1lGAggASgJEhgKEGFjY291bnRfdmVyaWZpZWQYCSABKAgSMwoQcmV0d2VldGVkX3N0YXR1cxgFIAEoCzIZLnN0cmVhbWxheWVyLnNvY2lhbC5Ud2VldBJBCghlbnRpdGllcxgGIAEoCzIvLnN0cmVhbWxheWVyLnNvY2lhbC5Ud2VldE1ldGFkYXRhLlR3ZWV0RW50aXRpZXMSUgoRZXh0ZW5kZWRfZW50aXRpZXMYByABKAsyNy5zdHJlYW1sYXllci5zb2NpYWwuVHdlZXRNZXRhZGF0YS5Ud2VldEV4dGVuZGVkRW50aXRpZXMSFQoNcmV0d2VldF9jb3VudBgKIAEoBBIWCg5mYXZvcml0ZV9jb3VudBgLIAEoBBq+AgoNVHdlZXRFbnRpdGllcxIrCgR1cmxzGAEgAygLMh0uc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0VXJscxIzCghoYXNodGFncxgCIAMoCzIhLnN0cmVhbWxheWVyLnNvY2lhbC5Ud2VldEhhc2h0YWdzEi0KBW1lZGlhGAMgAygLMh4uc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0TWVkaWESPAoNdXNlcl9tZW50aW9ucxgEIAMoCzIlLnN0cmVhbWxheWVyLnNvY2lhbC5Ud2VldFVzZXJNZW50aW9ucxIwCgdzeW1ib2xzGAUgAygLMh8uc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0U3ltYm9sEiwKBXBvbGxzGAYgAygLMh0uc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0UG9sbBpOChVUd2VldEV4dGVuZGVkRW50aXRpZXMSNQoFbWVkaWEYASADKAsyJi5zdHJlYW1sYXllci5zb2NpYWwuVHdlZXRFeHRlbmRlZE1lZGlhImAKBVR3ZWV0EgoKAmlkGAEgASgJEgwKBGRhdGUYAiABKAkSDAoEdGV4dBgDIAEoCRIvCgRtZXRhGAQgASgLMiEuc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0TWV0YWRhdGEiJgoTU3Vic2NyaXB0aW9uUmVxdWVzdBIPCgdhY2NvdW50GAEgAygJIl8KFFN1YnNjcmlwdGlvblJlc3BvbnNlEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSLQoKYXR0cmlidXRlcxgDIAEoCzIZLnN0cmVhbWxheWVyLnNvY2lhbC5Ud2VldCLtAQoLU3luY1JlcXVlc3QSQQoGZmlsdGVyGAEgASgLMjEuc3RyZWFtbGF5ZXIuc29jaWFsLlN5bmNSZXF1ZXN0LlN5bmNSZXF1ZXN0RmlsdGVyGpoBChFTeW5jUmVxdWVzdEZpbHRlchIPCgdhY2NvdW50GAEgASgJEhAKCG1lbnRpb25zGAIgAygJEhAKCGhhc2h0YWdzGAMgAygJEgwKBHBhZ2UYBCABKAUSEQoJcGFnZV9zaXplGAUgASgFEg4KBmN1cnNvchgGIAEoCRINCgVvcmRlchgHIAEoCRIQCghhY2NvdW50cxgJIAMoCSK4AgoMU3luY1Jlc3BvbnNlEkMKBG1ldGEYASABKAsyNS5zdHJlYW1sYXllci5zb2NpYWwuU3luY1Jlc3BvbnNlLlN5bmNSZXNwb25zZU1ldGFkYXRhEj8KBGRhdGEYAiADKAsyMS5zdHJlYW1sYXllci5zb2NpYWwuU3luY1Jlc3BvbnNlLlN5bmNSZXNwb25zZURhdGEaRQoUU3luY1Jlc3BvbnNlTWV0YWRhdGESDQoFY291bnQYASABKAUSDgoGYmVmb3JlGAIgASgJEg4KBmN1cnNvchgDIAEoCRpbChBTeW5jUmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSLQoKYXR0cmlidXRlcxgDIAEoCzIZLnN0cmVhbWxheWVyLnNvY2lhbC5Ud2VldCIjCg9HZXRUd2VldFJlcXVlc3QSEAoIdHdlZXRfaWQYASABKAkivAEKEEdldFR3ZWV0UmVzcG9uc2USRwoEZGF0YRgBIAEoCzI5LnN0cmVhbWxheWVyLnNvY2lhbC5HZXRUd2VldFJlc3BvbnNlLkdldFR3ZWV0UmVzcG9uc2VEYXRhGl8KFEdldFR3ZWV0UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSLQoKYXR0cmlidXRlcxgDIAEoCzIZLnN0cmVhbWxheWVyLnNvY2lhbC5Ud2VldCIkChBTeW5jVHdlZXRSZXF1ZXN0EhAKCHR3ZWV0X2lkGAEgASgJIsABChFTeW5jVHdlZXRSZXNwb25zZRJJCgRkYXRhGAEgASgLMjsuc3RyZWFtbGF5ZXIuc29jaWFsLlN5bmNUd2VldFJlc3BvbnNlLlN5bmNUd2VldFJlc3BvbnNlRGF0YRpgChVTeW5jVHdlZXRSZXNwb25zZURhdGESCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRItCgphdHRyaWJ1dGVzGAMgASgLMhkuc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0Ms8DCgdUd2l0dGVyEoUBCgxTdWJzY3JpcHRpb24SJy5zdHJlYW1sYXllci5zb2NpYWwuU3Vic2NyaXB0aW9uUmVxdWVzdBooLnN0cmVhbWxheWVyLnNvY2lhbC5TdWJzY3JpcHRpb25SZXNwb25zZSIgiqYdFHR3aXR0ZXIuc3Vic2NyaXB0aW9ukKYdApimHQIwARJYCgRTeW5jEh8uc3RyZWFtbGF5ZXIuc29jaWFsLlN5bmNSZXF1ZXN0GiAuc3RyZWFtbGF5ZXIuc29jaWFsLlN5bmNSZXNwb25zZSINiqYdCWZlZWQucmVhZBJkCghHZXRUd2VldBIjLnN0cmVhbWxheWVyLnNvY2lhbC5HZXRUd2VldFJlcXVlc3QaJC5zdHJlYW1sYXllci5zb2NpYWwuR2V0VHdlZXRSZXNwb25zZSINiqYdCXR3ZWV0LmdldBJwCglTeW5jVHdlZXQSJC5zdHJlYW1sYXllci5zb2NpYWwuU3luY1R3ZWV0UmVxdWVzdBolLnN0cmVhbWxheWVyLnNvY2lhbC5TeW5jVHdlZXRSZXNwb25zZSIWiqYdCnR3ZWV0LnN5bmOgph0CqKYdARoKirUYBnNvY2lhbEKSAQoWY29tLnN0cmVhbWxheWVyLnNvY2lhbEIXU3RyZWFtTGF5ZXJUd2l0dGVyUHJvdG9QAVpUZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9zb2NpYWwvdHdpdHRlcjtzbF90d2l0dGVyogIGU0xfQVBJYgZwcm90bzM",[oo]),gn=Ut("CjBzdHJlYW1sYXllci9pbnRlcmFjdGl2ZS9pbnRlcmFjdGl2ZS5jb21tb24ucHJvdG8SF3N0cmVhbWxheWVyLmludGVyYWN0aXZlIlQKCkNsb3NlVGltZXISNQoEYXV0bxgBIAEoDjInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkNsb3NlVGltZXJBdXRvEg8KB3NlY29uZHMYAiABKAUijAIKElF1ZXN0aW9uQXBwZWFyYW5jZRI3CgZsYXlvdXQYASABKA4yJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbkxheW91dBI3CgZpbWFnZXMYAiABKA4yJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbkltYWdlcxIVCg1wcmltYXJ5X2NvbG9yGAMgASgJEkQKCHBvc2l0aW9uGAQgASgOMikuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25Qb3NpdGlvbkICGAFIAIgBARIaChJhdXRvX2hpZGVfaW50ZXJ2YWwYBSABKARCCwoJX3Bvc2l0aW9uIs4CCgtTcG9uc29yc2hpcBIMCgRsb2dvGAEgASgJEhEKBG5hbWUYAiABKAlIAIgBARIZCgxjbGFzc2ljX2xvZ28YAyABKAlIAYgBARIYCgtjZW50ZXJfbG9nbxgEIAEoCUgCiAEBElAKDWxvZ29fcG9zaXRpb24YBSABKA4yNC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Ob3RpZmljYXRpb25TcG9uc29yTG9nb01vZGVIA4gBARJGChB1c2VfZ2VuZXJhbF9sb2dvGAYgASgOMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuVXNlR2VuZXJhbExvZ29IBIgBAUIHCgVfbmFtZUIPCg1fY2xhc3NpY19sb2dvQg4KDF9jZW50ZXJfbG9nb0IQCg5fbG9nb19wb3NpdGlvbkITChFfdXNlX2dlbmVyYWxfbG9nbyLNAgoVUHJvbW90aW9uTm90aWZpY2F0aW9uEhQKDHNwb25zb3JfbG9nbxgBIAEoCRJPChFzcG9uc29yX2xvZ29fbW9kZRgCIAEoDjI0LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLk5vdGlmaWNhdGlvblNwb25zb3JMb2dvTW9kZRI2CgpjdGFfYnV0dG9uGAMgASgLMiIuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQ1RBQnV0dG9uElMKDmltYWdlX3Bvc2l0aW9uGAQgASgOMjsuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuTm90aWZpY2F0aW9uUHJvbW90aW9uSW1hZ2VQb3NpdGlvbhJACgRtb2RlGAUgASgOMjIuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuTm90aWZpY2F0aW9uUHJvbW90aW9uTW9kZSL8AwoUUXVlc3Rpb25Ob3RpZmljYXRpb24SDQoFdGl0bGUYASABKAkSDQoFaW1hZ2UYAiABKAkSFwoPaW5kaWNhdG9yX2NvbG9yGAMgASgJEj4KDmltYWdlX3Bvc2l0aW9uGAQgASgOMiYuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuSW1hZ2VQb3NpdGlvbhIMCgRib2R5GAUgASgJEjsKCmltYWdlX21vZGUYBiABKA4yJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbkltYWdlcxJBCglwcm9tb3Rpb24YByABKAsyLi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Qcm9tb3Rpb25Ob3RpZmljYXRpb24SPQoHZW5hYmxlZBgIIAEoDjIsLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLk5vdGlmaWNhdGlvbkVuYWJsZWQSTwoRdXNlX2NvbnRlbnRfbWVkaWEYCSABKA4yNC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Ob3RpZmljYXRpb25Vc2VDb250ZW50TWVkaWESTwoRdXNlX2NvbnRlbnRfdGV4dHMYCiABKA4yNC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Ob3RpZmljYXRpb25Vc2VDb250ZW50VGV4dHMiWQoOUXVlc3Rpb25BbnN3ZXISCgoCaWQYASABKAkSDAoEdGV4dBgCIAEoCRIMCgRpY29uGAMgASgJEg8KB2NvcnJlY3QYBCABKAgSDgoGcG9pbnRzGAUgASgNIr8BChZFeHRlbmRlZFF1ZXN0aW9uQW5zd2VyEgoKAmlkGAEgASgJEgwKBHRleHQYAiABKAkSDAoEaWNvbhgDIAEoCRIPCgdjb3JyZWN0GAQgASgIEg4KBnBvaW50cxgFIAEoDRIWCgpwZXJjZW50YWdlGAYgASgNQgIYARIRCgl5b3Vfdm90ZWQYByABKAgSGgoScGVyY2VudGFnZV9kZWNpbWFsGAggASgBEhUKDXBvaW50c19lYXJuZWQYCSABKA0iNAoOQW5zd2VyRmVlZGJhY2sSDQoFdGl0bGUYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkiOgoIRmlsZUxpbmsSCgoCaWQYASABKAkSCwoDdXJsGAIgASgJEhUKDXRodW1ibmFpbF91cmwYAyABKAkiJQoHV2ViTGluaxINCgVsYWJlbBgBIAEoCRILCgN1cmwYAiABKAkioAEKCUNUQUJ1dHRvbhINCgVsYWJlbBgBIAEoCRINCgVjb2xvchgCIAEoCRIXCgp0ZXh0X2NvbG9yGAMgASgJSACIAQESEAoIY3RhX2ljb24YBCABKAkSOwoNY3RhX2ljb25fbW9kZRgFIAEoDjIkLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkN0YUljb25Nb2RlQg0KC190ZXh0X2NvbG9yIqoECgZCYW5uZXISEQoJaW1hZ2VfdXJsGAEgASgJEgsKA3VybBgCIAEoCRI2CgpjdGFfYnV0dG9uGAMgASgLMiIuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQ1RBQnV0dG9uEjAKBXZpZGVvGAQgASgLMiEuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuRmlsZUxpbmsSEQoEYm9keRgFIAEoCUgAiAEBElQKGGFuYWx5dGljc190b3BpY19zdWJfdHlwZRgGIAEoDjItLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uVG9waWNTdWJUeXBlSAGIAQESEgoFdGl0bGUYByABKAlIAogBARIWCglzdWJfdGl0bGUYCCABKAlIA4gBARJYCg5pbWFnZV9wb3NpdGlvbhgJIAEoDjI7LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLk5vdGlmaWNhdGlvblByb21vdGlvbkltYWdlUG9zaXRpb25IBIgBARJFCgxtZWRpYV9mb3JtYXQYCiABKA4yKi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5CYW5uZXJNZWRpYUZvcm1hdEgFiAEBQgcKBV9ib2R5QhsKGV9hbmFseXRpY3NfdG9waWNfc3ViX3R5cGVCCAoGX3RpdGxlQgwKCl9zdWJfdGl0bGVCEQoPX2ltYWdlX3Bvc2l0aW9uQg8KDV9tZWRpYV9mb3JtYXQiLAoGQWRMb29wEhUKCGludGVydmFsGAEgASgFSACIAQFCCwoJX2ludGVydmFsImQKBVByaWNlEg0KBXByaWNlGAEgASgJEjgKDHNhbGVfZW5hYmxlZBgCIAEoDjIiLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlNhbGVQcmljZRISCgpzYWxlX3ByaWNlGAMgASgJIiQKBFNpemUSDQoFbGFiZWwYASABKAkSDQoFdmFsdWUYAiABKAkiagoHUHJvZHVjdBIKCgJpZBgBIAEoCRIRCglpbWFnZV91cmwYAiABKAkSDQoFdGl0bGUYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkSDQoFY29sb3IYBSABKAkSDQoFYnJhbmQYBiABKAkirQQKEkdlbmVyYWxUYWJNZXRhZGF0YRIcCg9hZHZlcnRpc2VyX2xvZ28YASABKAlIAIgBARIXCg9hZHZlcnRpc2VyX25hbWUYAiABKAkSGgoNY2FtcGFpZ25fbmFtZRgDIAEoCUgBiAEBEjcKCGFkX2dyb3VwGAQgASgLMiAuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQWRHcm91cEgCiAEBEj8KDHRyaWdnZXJfdHlwZRgFIAEoDjIkLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlRyaWdnZXJUeXBlSAOIAQESGgoOZ2VvX3RhcmdldGluZ3MYBiADKAlCAhgBEh8KE2F1ZGllbmNlX3RhcmdldGluZ3MYByADKAlCAhgBEkcKEWRldmljZV90YXJnZXRpbmdzGAggAygOMiguc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuRGV2aWNlVGFyZ2V0aW5nQgIYARIMCgR0YWdzGAkgAygJEigKG2FkdmVydGlzZXJfdHJhbnNwYXJlbnRfbG9nbxgKIAEoCUgEiAEBEhgKC2FkX2dyb3VwX2lkGAsgASgFSAWIAQFCEgoQX2FkdmVydGlzZXJfbG9nb0IQCg5fY2FtcGFpZ25fbmFtZUILCglfYWRfZ3JvdXBCDwoNX3RyaWdnZXJfdHlwZUIeChxfYWR2ZXJ0aXNlcl90cmFuc3BhcmVudF9sb2dvQg4KDF9hZF9ncm91cF9pZCLBAQoHQWRHcm91cBIMCgRuYW1lGAEgASgJEjoKDmdlb190YXJnZXRpbmdzGAIgAygLMiIuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuR2VvVGFyZ2V0EhsKE2F1ZGllbmNlX3RhcmdldGluZ3MYAyADKAkSQwoRZGV2aWNlX3RhcmdldGluZ3MYBCADKA4yKC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5EZXZpY2VUYXJnZXRpbmcSCgoCaWQYBSABKAUiJwoJR2VvVGFyZ2V0EgwKBGNvZGUYASABKAkSDAoEbmFtZRgCIAEoCSLTAgoJUHJvbW90aW9uEkEKBmZvcm1hdBgBIAEoDjIoLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlByb21vdGlvbkZvcm1hdEICGAFIAIgBARIvCgZiYW5uZXIYAiABKAsyHy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5CYW5uZXISSQoUZ2VuZXJhbF90YWJfbWV0YWRhdGEYAyABKAsyKy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5HZW5lcmFsVGFiTWV0YWRhdGESOQoHYWRfdW5pdBgEIAEoDjIfLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkFkVW5pdEICGAFIAYgBARI1CgdzcG9uc29yGAUgASgLMiQuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuU3BvbnNvcnNoaXBCCQoHX2Zvcm1hdEIKCghfYWRfdW5pdCI+Cg9CYWNrZ3JvdW5kSW1hZ2USFQoNbGFuZHNjYXBlX3VybBgBIAEoCRIUCgxwb3J0cmFpdF91cmwYAiABKAkitAIKCk5GTFByb2R1Y3QSCgoCaWQYASABKAkSDQoFdGl0bGUYAiABKAkSEgoKc2FsZV9wcmljZRgDIAEoARINCgVwcmljZRgEIAEoARIMCgRsaW5rGAUgASgJEhIKCmltYWdlX2xpbmsYBiABKAkSDAoEZ3RpbhgHIAEoCRIfChdnb29nbGVfcHJvZHVjdF9jYXRlZ29yeRgIIAEoCRIOCgZnZW5kZXIYCSABKAkSEwoLZGVzY3JpcHRpb24YCiABKAkSEQoJY29uZGl0aW9uGAsgASgJEg0KBWNvbG9yGAwgASgJEg0KBWJyYW5kGA0gASgJEhQKDGF2YWlsYWJpbGl0eRgOIAEoCRIOCgZsZWFndWUYDyABKAkSDAoEdGVhbRgQIAEoCRINCgVzaXplcxgRIAMoCSKjPgoPUXVlc3Rpb25PcHRpb25zEkQKBHBvbGwYASABKAsyNC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuUG9sbE9wdGlvbnNIABJICgZ0cml2aWEYAiABKAsyNi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuVHJpdmlhT3B0aW9uc0gAElAKCnByZWRpY3Rpb24YAyABKAsyOi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuUHJlZGljdGlvbk9wdGlvbnNIABJKCgdmYWN0b2lkGAQgASgLMjcuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25PcHRpb25zLkZhY3RvaWRPcHRpb25zSAASRgoFdHdlZXQYBSABKAsyNS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuVHdlZXRPcHRpb25zSAASTgoJcHJvbW90aW9uGAYgASgLMjkuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25PcHRpb25zLlByb21vdGlvbk9wdGlvbnNIABoNCgtQb2xsT3B0aW9ucxq8AQoNVHJpdmlhT3B0aW9ucxJBChBjb3JyZWN0X2ZlZWRiYWNrGAEgASgLMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQW5zd2VyRmVlZGJhY2sSQwoSaW5jb3JyZWN0X2ZlZWRiYWNrGAIgASgLMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQW5zd2VyRmVlZGJhY2sSDgoGcG9pbnRzGAMgASgEEhMKC2V4cGxhbmF0aW9uGAQgASgJGpsBChFQcmVkaWN0aW9uT3B0aW9ucxJBChBjb3JyZWN0X2ZlZWRiYWNrGAEgASgLMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQW5zd2VyRmVlZGJhY2sSQwoSaW5jb3JyZWN0X2ZlZWRiYWNrGAIgASgLMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQW5zd2VyRmVlZGJhY2sa2AQKDkZhY3RvaWRPcHRpb25zEg0KBWltYWdlGAEgASgJEgwKBGJvZHkYAiABKAkSMAoFdmlkZW8YAyABKAsyIS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5GaWxlTGluaxIyCgh3ZWJfbGluaxgEIAEoCzIgLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLldlYkxpbmsSOwoKaW1hZ2VfbW9kZRgFIAEoDjInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uSW1hZ2VzEkcKE3VzZV9hc19ub3RpZmljYXRpb24YBiABKA4yKi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Vc2VBc05vdGlmaWNhdGlvbhI9CgtjbG9zZV90aW1lchgHIAEoCzIjLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkNsb3NlVGltZXJIAIgBARJECg9hdXRvX3BsYXlfdmlkZW8YCCABKA4yJi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5BdXRvUGxheVZpZGVvSAGIAQESNwoEbW9kZRgJIAEoDjIpLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkZhY3RvaWRNZWRpYU1vZGUSRgoQcGxheV92aWRlb19tdXRlZBgKIAEoDjInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlBsYXlWaWRlb011dGVkSAKIAQFCDgoMX2Nsb3NlX3RpbWVyQhIKEF9hdXRvX3BsYXlfdmlkZW9CEwoRX3BsYXlfdmlkZW9fbXV0ZWQanAIKDFR3ZWV0T3B0aW9ucxIRCgl0d2VldF91cmwYASABKAkSEAoIdHdlZXRfaWQYAiABKAkSVwoKdHdlZXRfbWV0YRgDIAEoCzJDLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uT3B0aW9ucy5Ud2VldE9wdGlvbnMuVHdlZXRNZXRhZGF0YRqNAQoNVHdlZXRNZXRhZGF0YRIPCgdhY2NvdW50GAEgASgJEhgKEGFjY291bnRfdmVyaWZpZWQYAiABKAgSEQoJaGFzX21lZGlhGAMgASgIEigKBXR3ZWV0GAQgASgLMhkuc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0EhQKDGFjY291bnRfbmFtZRgFIAEoCRreEwoKR2FtT3B0aW9ucxIQCgNlbnYYASABKAlIAIgBARIVCghnZGZwX3JlcRgCIAEoCUgBiAEBEg8KAml1GAMgASgJSAKIAQESEwoGb3V0cHV0GAQgASgJSAOIAQESDwoCc3oYBSABKAlIBIgBARIkChd1bnZpZXdlZF9wb3NpdGlvbl9zdGFydBgGIAEoCUgFiAEBEg8KB2NpdV9zenMYByADKAkSEAoDdXJsGAggASgJSAaIAQESHAoPZGVzY3JpcHRpb25fdXJsGAkgASgJSAeIAQESFwoKY29ycmVsYXRvchgKIAEoCUgIiAEBElgKC2N1c3RfcGFyYW1zGAsgAygLMkMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25PcHRpb25zLkdhbU9wdGlvbnMuQ3VzdFBhcmFtc0VudHJ5EhIKBXBsY210GAwgASgJSAmIAQESEAoDdnBhGA0gASgJSAqIAQESEwoGdnBtdXRlGA4gASgJSAuIAQESEAoDd3RhGA8gASgJSAyIAQESEgoFYWNvbnAYECABKAlIDYgBARIUCgdhZF9ydWxlGBEgASgJSA6IAQESFAoHYWRfdHlwZRgSIAEoCUgPiAEBEg8KAmhsGBMgASgJSBCIAQESEAoDZHRoGBQgASgJSBGIAQESEQoEZ2RwchgVIAEoCUgSiAEBEhkKDGdkcHJfY29uc2VudBgWIAEoCUgTiAEBEhQKB2lhYmV4Y2wYFyABKAlIFIgBARIQCgNsaXAYGCABKAhIFYgBARIQCgNsdGQYGSABKAlIFogBARIRCgRub2ZiGBogASgJSBeIAQESEAoDbnBhGBsgASgJSBiIAQESEwoGb21pZF9wGBwgASgJSBmIAQESEAoDcHB0GB0gASgJSBqIAQESEQoEcHBvcxgeIAEoCUgbiAEBEhEKBHBwaWQYHyABKAlIHIgBARIRCgRzY29yGCAgASgJSB2IAQESFQoIc2RrX2FwaXMYISABKAlIHogBARIRCgRzc3NzGCIgASgJSB+IAQESEgoFc2RtYXgYIyABKAlIIIgBARIQCgNzaWQYJCABKAlIIYgBARIQCgNyZHAYJSABKAlIIogBARIaCg1hZGR0bF9jb25zZW50GCYgASgJSCOIAQESEgoFYWZ2c3oYJyABKAlIJIgBARIUCgdhbGxjdWVzGCggASgJSCWIAQESEgoFY21zaWQYKSABKAlIJogBARIQCgN2aWQYKiABKAlIJ4gBARIVCghleGNsX2NhdBgrIAEoCUgoiAEBEhAKA2lwZBgsIAEoCUgpiAEBEhAKA2lwZRgtIAEoCUgqiAEBEhwKD21heF9hZF9kdXJhdGlvbhguIAEoCUgriAEBEhwKD21pbl9hZF9kdXJhdGlvbhgvIAEoCUgsiAEBEhIKBW1yaWR4GDAgASgJSC2IAQESEQoEbXNpZBgxIAEoCUguiAEBEg8KAmFuGDIgASgJSC+IAQESEQoEcG1hZBgzIAEoCUgwiAEBEhEKBHBtbmQYNCABKAlIMYgBARIRCgRwbXhkGDUgASgJSDKIAQESEAoDcG9kGDYgASgJSDOIAQESDwoCcHAYNyABKAlINIgBARIRCgRwcHNqGDggASgJSDWIAQESEQoEcHRwbBg5IAEoCUg2iAEBEhIKBXB0cGxuGDogASgJSDeIAQESEQoEcHViZhg7IAEoCUg4iAEBEhEKBHB2dGYYPCABKAlIOYgBARIRCgRwdmlkGD0gASgJSDqIAQESEwoGcHZpZF9zGD4gASgJSDuIAQESEQoEcmRpZBg/IAEoCUg8iAEBEhMKBmlkdHlwZRhAIAEoCUg9iAEBEhMKBmlzX2xhdBhBIAEoCUg+iAEBEhEKBHRmY2QYQiABKAlIP4gBARIQCgN0cnQYQyABKAlIQIgBARIVCgh2YWRfdHlwZRhEIAEoCUhBiAEBEhIKBXZpZF9kGEUgASgJSEKIAQESEgoFdmNvbnAYRiABKAlIQ4gBARIQCgN2cGkYRyABKAlIRIgBARIRCgR2cG9zGEggASgJSEWIAQESEQoEaW1wbBhJIAEoCUhGiAEBEhcKCnZhZF9mb3JtYXQYSiABKAlIR4gBARITCgZjbGllbnQYSyABKAlISIgBARIgChN2aWRlb2FkX3N0YXJ0X2RlbGF5GEwgASgJSEmIAQESGQoMZ2FtX2Jhc2VfdXJsGE0gASgJSEqIAQEaMQoPQ3VzdFBhcmFtc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCBgoEX2VudkILCglfZ2RmcF9yZXFCBQoDX2l1QgkKB19vdXRwdXRCBQoDX3N6QhoKGF91bnZpZXdlZF9wb3NpdGlvbl9zdGFydEIGCgRfdXJsQhIKEF9kZXNjcmlwdGlvbl91cmxCDQoLX2NvcnJlbGF0b3JCCAoGX3BsY210QgYKBF92cGFCCQoHX3ZwbXV0ZUIGCgRfd3RhQggKBl9hY29ucEIKCghfYWRfcnVsZUIKCghfYWRfdHlwZUIFCgNfaGxCBgoEX2R0aEIHCgVfZ2RwckIPCg1fZ2Rwcl9jb25zZW50QgoKCF9pYWJleGNsQgYKBF9saXBCBgoEX2x0ZEIHCgVfbm9mYkIGCgRfbnBhQgkKB19vbWlkX3BCBgoEX3BwdEIHCgVfcHBvc0IHCgVfcHBpZEIHCgVfc2NvckILCglfc2RrX2FwaXNCBwoFX3Nzc3NCCAoGX3NkbWF4QgYKBF9zaWRCBgoEX3JkcEIQCg5fYWRkdGxfY29uc2VudEIICgZfYWZ2c3pCCgoIX2FsbGN1ZXNCCAoGX2Ntc2lkQgYKBF92aWRCCwoJX2V4Y2xfY2F0QgYKBF9pcGRCBgoEX2lwZUISChBfbWF4X2FkX2R1cmF0aW9uQhIKEF9taW5fYWRfZHVyYXRpb25CCAoGX21yaWR4QgcKBV9tc2lkQgUKA19hbkIHCgVfcG1hZEIHCgVfcG1uZEIHCgVfcG14ZEIGCgRfcG9kQgUKA19wcEIHCgVfcHBzakIHCgVfcHRwbEIICgZfcHRwbG5CBwoFX3B1YmZCBwoFX3B2dGZCBwoFX3B2aWRCCQoHX3B2aWRfc0IHCgVfcmRpZEIJCgdfaWR0eXBlQgkKB19pc19sYXRCBwoFX3RmY2RCBgoEX3RydEILCglfdmFkX3R5cGVCCAoGX3ZpZF9kQggKBl92Y29ucEIGCgRfdnBpQgcKBV92cG9zQgcKBV9pbXBsQg0KC192YWRfZm9ybWF0QgkKB19jbGllbnRCFgoUX3ZpZGVvYWRfc3RhcnRfZGVsYXlCDwoNX2dhbV9iYXNlX3VybBqQBQoLQWRDYW1wYWlnbnMSUQoLZ2FtX29wdGlvbnMYASABKAsyMy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuR2FtT3B0aW9uc0ICGAFIAIgBARIdCgxnYW1fYmFzZV91cmwYAiABKAlCAhgBSAGIAQESMAoHYWRfbG9vcBgDIAEoCzIfLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkFkTG9vcBJOCgxpb3Nfc2V0dGluZ3MYBCABKAsyMy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuR2FtT3B0aW9uc0gCiAEBElIKEGFuZHJvaWRfc2V0dGluZ3MYBSABKAsyMy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuR2FtT3B0aW9uc0gDiAEBElYKFGRlc2t0b3Bfd2ViX3NldHRpbmdzGAYgASgLMjMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25PcHRpb25zLkdhbU9wdGlvbnNIBIgBARJOCgxjdHZfc2V0dGluZ3MYByABKAsyMy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuR2FtT3B0aW9uc0gFiAEBEhQKB2FkX25hbWUYCCABKAlIBogBAUIOCgxfZ2FtX29wdGlvbnNCDwoNX2dhbV9iYXNlX3VybEIPCg1faW9zX3NldHRpbmdzQhMKEV9hbmRyb2lkX3NldHRpbmdzQhcKFV9kZXNrdG9wX3dlYl9zZXR0aW5nc0IPCg1fY3R2X3NldHRpbmdzQgoKCF9hZF9uYW1lGu8BCgtTaG9wT3B0aW9ucxIxCgdwcm9kdWN0GAEgASgLMiAuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUHJvZHVjdBItCgVwcmljZRgCIAEoCzIeLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlByaWNlEjYKD2F2YWlsYWJsZV9zaXplcxgDIAMoCzIdLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlNpemUSMwoGZ2VuZGVyGAQgASgOMiMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuU2hvcEdlbmRlchIRCglzdG9yZV91cmwYBSABKAkalAQKDk5GTFNob3BPcHRpb25zEhIKCnByb2R1Y3RfaWQYASABKAkSOQoHcHJvZHVjdBgCIAEoCzIjLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLk5GTFByb2R1Y3RIAIgBARJdCgxub3RpZmljYXRpb24YAyABKAsyRy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuTkZMU2hvcE9wdGlvbnMuTkZMTm90aWZpY2F0aW9uGscCCg9ORkxOb3RpZmljYXRpb24SSwoObXVsdGljb21wb25lbnQYASABKA4yMy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Ob3RpZmljYXRpb25NdWx0aWNvbXBvbmVudBJvCgtnYW1lX21vbWVudBgCIAEoCzJVLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uT3B0aW9ucy5ORkxTaG9wT3B0aW9ucy5ORkxOb3RpZmljYXRpb24uTkZMR2FtZU1vbWVudEgAiAEBEg0KBXRpdGxlGAMgASgJEhMKC2Rlc2NyaXB0aW9uGAQgASgJGkIKDU5GTEdhbWVNb21lbnQSDQoFdGl0bGUYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSDQoFbWVkaWEYAyABKAlCDgoMX2dhbWVfbW9tZW50QgoKCF9wcm9kdWN0GpECCg5QYXVzZUFkT3B0aW9ucxIwCgdxcl9jb2RlGAEgASgOMh8uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUVJDb2RlEhoKDXFyX2NvZGVfbGFiZWwYAiABKAlIAIgBARIYCgtxcl9jb2RlX3VybBgDIAEoCUgBiAEBEjYKBmxheW91dBgEIAEoDjImLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlBhdXNlQWRMYXlvdXQSPQoKc3RhdHNfdHlwZRgFIAEoDjIpLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlBhdXNlQWRTdGF0c1R5cGVCEAoOX3FyX2NvZGVfbGFiZWxCDgoMX3FyX2NvZGVfdXJsGscPChBQcm9tb3Rpb25PcHRpb25zEjQKBHR5cGUYASABKA4yJi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Qcm9tb3Rpb25UeXBlEjUKB3Nwb25zb3IYAiABKAsyJC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5TcG9uc29yc2hpcBIvCgZiYW5uZXIYAyABKAsyHy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5CYW5uZXISQwoNZW5hYmxlX3dhbGxldBgEIAEoDjIoLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlByb21vdGlvbldhbGxldEICGAESOgoRYWRkaXRpb25hbF9iYW5uZXIYBSABKAsyHy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5CYW5uZXISEgoGY291cG9uGAYgASgJQgIYARI9Cglsb2dvX21vZGUYByABKA4yKi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Qcm9tb3Rpb25Mb2dvTW9kZRIWCgpjb3Vwb25femlwGAggASgJQgIYARIeChJjb3Vwb25fYmFyY29kZV91cmwYCSABKAlCAhgBEkYKC2J1dHRvbl90eXBlGAogASgOMiwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUHJvbW90aW9uQnV0dG9uVHlwZUgBiAEBEk8KDGFkX2NhbXBhaWducxgLIAEoCzI0LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uT3B0aW9ucy5BZENhbXBhaWduc0gCiAEBEj0KC2Nsb3NlX3RpbWVyGAwgASgLMiMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQ2xvc2VUaW1lckgDiAEBEkQKD2F1dG9fcGxheV92aWRlbxgNIAEoDjImLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkF1dG9QbGF5VmlkZW9IBIgBARIvCh5iYWNrZ3JvdW5kX2ltYWdlX2xhbmRzY2FwZV91cmwYDiABKAlCAhgBSAWIAQESLgodYmFja2dyb3VuZF9pbWFnZV9wb3J0cmFpdF91cmwYDyABKAlCAhgBSAaIAQESbQoVYWRkX3RvX3dhbGxldF9vcHRpb25zGBAgASgLMkwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25PcHRpb25zLlByb21vdGlvbk9wdGlvbnMuQWRkVG9XYWxsZXRPcHRpb25zSAASawoUc2VuZF90b191c2VyX29wdGlvbnMYESABKAsySy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuUHJvbW90aW9uT3B0aW9ucy5TZW5kVG9Vc2VyT3B0aW9uc0gAEk8KDHNob3Bfb3B0aW9ucxgSIAEoCzI0LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uT3B0aW9ucy5TaG9wT3B0aW9uc0gHiAEBElYKEG5mbF9zaG9wX29wdGlvbnMYEyABKAsyNy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuTkZMU2hvcE9wdGlvbnNICIgBARJGChBwbGF5X3ZpZGVvX211dGVkGBQgASgOMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUGxheVZpZGVvTXV0ZWRICYgBARJWChBwYXVzZV9hZF9vcHRpb25zGBUgASgLMjcuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25PcHRpb25zLlBhdXNlQWRPcHRpb25zSAqIAQESQQoGZm9ybWF0GBYgASgOMiguc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUHJvbW90aW9uRm9ybWF0QgIYAUgLiAEBGlQKEkFkZFRvV2FsbGV0T3B0aW9ucxIOCgZjb3Vwb24YASABKAkSEgoKY291cG9uX3ppcBgCIAEoCRIaChJjb3Vwb25fYmFyY29kZV91cmwYAyABKAka1AEKEVNlbmRUb1VzZXJPcHRpb25zEkMKEXVzZXJfYWNjb3VudF9pbmZvGAEgASgOMiguc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuVXNlckFjY291bnRJbmZvEiMKFnNlY29uZGFyeV9idXR0b25fbGFiZWwYAiABKAlIAIgBARIhChRzZWNvbmRhcnlfYnV0dG9uX3VybBgDIAEoCUgBiAEBQhkKF19zZWNvbmRhcnlfYnV0dG9uX2xhYmVsQhcKFV9zZWNvbmRhcnlfYnV0dG9uX3VybEIQCg5idXR0b25fb3B0aW9uc0IOCgxfYnV0dG9uX3R5cGVCDwoNX2FkX2NhbXBhaWduc0IOCgxfY2xvc2VfdGltZXJCEgoQX2F1dG9fcGxheV92aWRlb0IhCh9fYmFja2dyb3VuZF9pbWFnZV9sYW5kc2NhcGVfdXJsQiAKHl9iYWNrZ3JvdW5kX2ltYWdlX3BvcnRyYWl0X3VybEIPCg1fc2hvcF9vcHRpb25zQhMKEV9uZmxfc2hvcF9vcHRpb25zQhMKEV9wbGF5X3ZpZGVvX211dGVkQhMKEV9wYXVzZV9hZF9vcHRpb25zQgkKB19mb3JtYXRCCQoHb3B0aW9ucyI4CgNUYWcSCgoCaWQYASABKAkSDQoFbGFiZWwYAiABKAkSFgoObGFzdF91c2VkX3RpbWUYAyABKAQiHgoKUXVlc3Rpb25BaRIQCgh2ZXJpZmllZBgBIAEoCCKSDgoIUXVlc3Rpb24SCgoCaWQYASABKAkSMwoEdHlwZRgCIAEoDjIlLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uVHlwZRIUCgdzdWJqZWN0GAMgASgJSACIAQESOQoHb3B0aW9ucxgEIAEoCzIoLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uT3B0aW9ucxI/CgphcHBlYXJhbmNlGAUgASgLMisuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25BcHBlYXJhbmNlEjkKC3Nwb25zb3JzaGlwGAYgASgLMiQuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuU3BvbnNvcnNoaXASQwoMbm90aWZpY2F0aW9uGAcgASgLMi0uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25Ob3RpZmljYXRpb24SOAoHYW5zd2VycxgIIAMoCzInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uQW5zd2VyEjcKBnN0YXR1cxgJIAEoDjInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uU3RhdHVzEhUKCHBvc2l0aW9uGAogASgNSAGIAQESFQoNbWFya2V0X2Nsb3NlZBgLIAEoCBIUCgxhY3RpdmF0ZWRfYXQYDCABKAkSFQoNYW5zd2VyX3NldF9hdBgNIAEoCRJDCglvdmVycmlkZXMYDiADKAsyMC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbi5PdmVycmlkZXNFbnRyeRIQCghldmVudF9pZBgPIAEoCRI0ChBzdHJlYW1fdGltZXN0YW1wGBAgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBIqCgR0YWdzGBEgAygLMhwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuVGFnEkoKFGJ5cGFzc19ub3RpZmljYXRpb25zGBIgASgLMiwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQnlwYXNzTm90aWZpY2F0aW9ucxIRCglpbXBvcnRfaWQYEyABKAkSJQoYYWN0aXZhdGlvbl90cmlnZ2VyX2NvdW50GBQgASgNSAKIAQESNwoGc291cmNlGBUgASgOMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25Tb3VyY2USLwoCYWkYFiABKAsyIy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbkFpEhkKDGhhc190cmlnZ2VycxgXIAEoCEgDiAEBEhIKCmNyZWF0ZWRfYXQYGCABKAkSEQoEbmFtZRgZIAEoCUgEiAEBEjUKCXByb21vdGlvbhgaIAEoCzIiLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlByb21vdGlvbhJCChBiYWNrZ3JvdW5kX2ltYWdlGBsgASgLMiguc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQmFja2dyb3VuZEltYWdlEhwKD3N0YXR1c19wb3NpdGlvbhgcIAEoDUgFiAEBEj8KDGFjdGl2YXRlZF9ieRgdIAEoDjIkLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkFjdGl2YXRlZEJ5SAaIAQESJAoXYWN0aXZhdGVkX2J5X3RyaWdnZXJfaWQYHiABKAlIB4gBARImChlhY3RpdmF0ZWRfYnlfdHJpZ2dlcl9uYW1lGB8gASgJSAiIAQESGAoLdGVtcGxhdGVfaWQYICABKAlICYgBARIwCgdhZF91bml0GCEgASgOMh8uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQWRVbml0EhYKCW1vZHVsZV9pZBgiIAEoCUgKiAEBEiEKFGlzX21vZHVsZV9vdmVycmlkZGVuGCMgASgISAuIAQESMwoGZm9ybWF0GCQgASgOMiMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQ2FyZEZvcm1hdBowCg5PdmVycmlkZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAg6AjgBQgoKCF9zdWJqZWN0QgsKCV9wb3NpdGlvbkIbChlfYWN0aXZhdGlvbl90cmlnZ2VyX2NvdW50Qg8KDV9oYXNfdHJpZ2dlcnNCBwoFX25hbWVCEgoQX3N0YXR1c19wb3NpdGlvbkIPCg1fYWN0aXZhdGVkX2J5QhoKGF9hY3RpdmF0ZWRfYnlfdHJpZ2dlcl9pZEIcChpfYWN0aXZhdGVkX2J5X3RyaWdnZXJfbmFtZUIOCgxfdGVtcGxhdGVfaWRCDAoKX21vZHVsZV9pZEIXChVfaXNfbW9kdWxlX292ZXJyaWRkZW4i5gYKEEV4dGVuZGVkUXVlc3Rpb24SCgoCaWQYASABKAkSMwoEdHlwZRgCIAEoDjIlLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uVHlwZRIPCgdzdWJqZWN0GAMgASgJEjkKB29wdGlvbnMYBCABKAsyKC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMSPwoKYXBwZWFyYW5jZRgFIAEoCzIrLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uQXBwZWFyYW5jZRI5CgtzcG9uc29yc2hpcBgGIAEoCzIkLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlNwb25zb3JzaGlwEkMKDG5vdGlmaWNhdGlvbhgHIAEoCzItLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uTm90aWZpY2F0aW9uEkAKB2Fuc3dlcnMYCCADKAsyLy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5FeHRlbmRlZFF1ZXN0aW9uQW5zd2VyEjcKBnN0YXR1cxgJIAEoDjInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uU3RhdHVzEhAKCHBvc2l0aW9uGAogASgNEhUKDW1hcmtldF9jbG9zZWQYCyABKAgSFAoMYWN0aXZhdGVkX2F0GAwgASgJEhUKDWFuc3dlcl9zZXRfYXQYDSABKAkSEAoIZXZlbnRfaWQYDiABKAkSSgoUYnlwYXNzX25vdGlmaWNhdGlvbnMYDyABKAsyLC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5CeXBhc3NOb3RpZmljYXRpb25zEjUKCXByb21vdGlvbhgQIAEoCzIiLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlByb21vdGlvbhJCChBiYWNrZ3JvdW5kX2ltYWdlGBEgASgLMiguc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQmFja2dyb3VuZEltYWdlEhgKC3RlbXBsYXRlX2lkGBIgASgJSACIAQESMAoHYWRfdW5pdBgTIAEoDjIfLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkFkVW5pdEIOCgxfdGVtcGxhdGVfaWQirwMKEFF1ZXN0aW9uVGltZWxpbmUSCgoCaWQYASABKAkSMwoEdHlwZRgCIAEoDjIlLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uVHlwZRIPCgdzdWJqZWN0GAMgASgJEhQKDGFjdGl2YXRlZF9hdBgEIAEoCRI3CgZzdGF0dXMYBSABKA4yJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblN0YXR1cxI5CgdvcHRpb25zGAYgASgLMiguc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25PcHRpb25zEkMKDG5vdGlmaWNhdGlvbhgHIAEoCzItLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uTm90aWZpY2F0aW9uEjoKCXByb21vdGlvbhgIIAEoCzIiLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlByb21vdGlvbkgAiAEBEjAKB2FkX3VuaXQYCSABKA4yHy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5BZFVuaXRCDAoKX3Byb21vdGlvbiLjCwoPRXZlbnRNb2RlcmF0aW9uEgoKAmlkGAEgASgJEhAKCGV2ZW50X2lkGAIgASgJEj0KC3Nwb25zb3JzaGlwGAMgASgLMiQuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuU3BvbnNvcnNoaXBCAhgBEhoKEm9uYm9hcmRpbmdfZW5hYmxlZBgEIAEoCBJLCghxdWVzdGlvbhgFIAEoCzI5LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkV2ZW50TW9kZXJhdGlvbi5RdWVzdGlvblNldHRpbmdzEk4KCHNwb25zb3JzGAYgASgLMjwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuRXZlbnRNb2RlcmF0aW9uLlNwb25zb3JzaGlwU2V0dGluZ3MSUwoMbm90aWZpY2F0aW9uGAcgASgLMj0uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuRXZlbnRNb2RlcmF0aW9uLk5vdGlmaWNhdGlvblNldHRpbmdzEjAKDGFjdGl2YXRlZF9hdBgIIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASMgoOZGVhY3RpdmF0ZWRfYXQYCSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEkUKEnF1ZXN0aW9uX2F1dG9fcG9zdBgKIAEoCzIpLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uQXV0b1Bvc3QSSgoUYnlwYXNzX25vdGlmaWNhdGlvbnMYCyABKAsyLC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5CeXBhc3NOb3RpZmljYXRpb25zEk4KFmltcG9ydGVyX2NvbGxhYm9yYXRpb24YDCABKAsyLi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5JbXBvcnRlckNvbGxhYm9yYXRpb24SFwoPb3JnYW5pemF0aW9uX2lkGA0gASgJGvUDChBRdWVzdGlvblNldHRpbmdzEj8KCmFwcGVhcmFuY2UYASABKAsyKy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbkFwcGVhcmFuY2USXAoGdHJpdmlhGAIgASgLMkwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuRXZlbnRNb2RlcmF0aW9uLlF1ZXN0aW9uU2V0dGluZ3MuVHJpdmlhQ2FyZFNldHRpbmdzEmQKCnByZWRpY3Rpb24YAyABKAsyUC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5FdmVudE1vZGVyYXRpb24uUXVlc3Rpb25TZXR0aW5ncy5QcmVkaWN0aW9uQ2FyZFNldHRpbmdzEkIKEWNvcnJlY3RfZmVlZGJhY2tzGAQgAygLMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQW5zd2VyRmVlZGJhY2sSRAoTaW5jb3JyZWN0X2ZlZWRiYWNrcxgFIAMoCzInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkFuc3dlckZlZWRiYWNrGiQKElRyaXZpYUNhcmRTZXR0aW5ncxIOCgZwb2ludHMYASABKA0aLAoWUHJlZGljdGlvbkNhcmRTZXR0aW5ncxISCgptYXhfcG9pbnRzGAEgASgNGk0KE1Nwb25zb3JzaGlwU2V0dGluZ3MSNgoIc3BvbnNvcnMYASADKAsyJC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5TcG9uc29yc2hpcBq7AQoUTm90aWZpY2F0aW9uU2V0dGluZ3MSDQoFaW1hZ2UYASABKAkSFwoPaW5kaWNhdG9yX2NvbG9yGAIgASgJEj4KDmltYWdlX3Bvc2l0aW9uGAMgASgOMiYuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuSW1hZ2VQb3NpdGlvbhI7CgppbWFnZV9tb2RlGAQgASgOMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25JbWFnZXMiqQIKEFF1ZXN0aW9uQXV0b1Bvc3QSPQoFc3RhdGUYASABKA4yLi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbkF1dG9Qb3N0U3RhdGUSEAoIaW50ZXJ2YWwYAiABKA0SMgoObmV4dF9wb3N0X3RpbWUYAyABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEkIKCnN0YXJ0X21vZGUYBCABKA4yLi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbkF1dG9Qb3N0U3RhcnQSTAoNc3RhcnRfb3B0aW9ucxgFIAEoCzI1LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uQXV0b1Bvc3RTdGFydE9wdGlvbnMiqgEKHFF1ZXN0aW9uQXV0b1Bvc3RTdGFydE9wdGlvbnMSWQoIc2NoZWR1bGUYASABKAsyRS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbkF1dG9Qb3N0U3RhcnRPcHRpb25zLlNjaGVkdWxlT3B0aW9uc0gAGiQKD1NjaGVkdWxlT3B0aW9ucxIRCgl0aW1lc3RhbXAYASABKARCCQoHb3B0aW9ucyIzCgpBbnN3ZXJEYXRhEhEKCWFuc3dlcl9pZBgBIAEoCRISCgpwZXJjZW50YWdlGAIgASgNIj0KClBhZ2luYXRpb24SDAoEcGFnZRgBIAEoBRIRCglwYWdlX3NpemUYAiABKAUSDgoGY3Vyc29yGAMgASgJIiQKBFNvcnQSDQoFZmllbGQYASABKAkSDQoFb3JkZXIYAiABKAki6gEKDVF1ZXN0aW9uU3RhdHMSCgoCaWQYASABKAkSRQoIcXVlc3Rpb24YAiABKAsyMy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblN0YXRzLlF1ZXN0aW9uRGF0YRI9CgpzdGF0aXN0aWNzGAMgAygLMikuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQW5zd2VyVm90ZXNTdGF0cxpHCgxRdWVzdGlvbkRhdGESNwoGc3RhdHVzGAEgASgOMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25TdGF0dXMipQEKEEFuc3dlclZvdGVzU3RhdHMSEQoJYW5zd2VyX2lkGAEgASgJEkgKBXZvdGVzGAIgASgLMjkuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQW5zd2VyVm90ZXNTdGF0cy5BbnN3ZXJWb3Rlc0RhdGEaNAoPQW5zd2VyVm90ZXNEYXRhEg0KBWNvdW50GAEgASgNEhIKCnBlcmNlbnRhZ2UYAiABKA0iQQoZU2VydmVyTm90aWZpY2F0aW9uT3B0aW9ucxIPCgdzaWxlbmNlGAEgASgIEhMKC3NraXBfdXBkYXRlGAIgASgIIlYKE0J5cGFzc05vdGlmaWNhdGlvbnMSPwoOaW5fYXBwX3NpbGVuY2UYASABKA4yJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5TaWxlbmNlU2V0dGluZyIuCgtJbXBvcnRFcnJvchIOCgZyb3dfaWQYASABKAkSDwoHbWVzc2FnZRgCIAEoCSLCAQoOSW1wb3J0UHJvZ3Jlc3MSEQoJaW1wb3J0X2lkGAEgASgJEjUKBnN0YXR1cxgCIAEoDjIlLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkltcG9ydFN0YXR1cxI0CgZlcnJvcnMYAyADKAsyJC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5JbXBvcnRFcnJvchIwCgxsYXN0X3VwZGF0ZWQYBCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wIr4BChVJbXBvcnRlckNvbGxhYm9yYXRpb24STAoHaW1wb3J0cxgBIAMoCzI7LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkltcG9ydGVyQ29sbGFib3JhdGlvbi5JbXBvcnRzRW50cnkaVwoMSW1wb3J0c0VudHJ5EgsKA2tleRgBIAEoCRI2CgV2YWx1ZRgCIAEoCzInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkltcG9ydFByb2dyZXNzOgI4ASK1CAoIVGVtcGxhdGUSCgoCaWQYASABKAkSMwoEdHlwZRgCIAEoDjIlLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uVHlwZRIUCgdzdWJqZWN0GAMgASgJSACIAQESOQoHb3B0aW9ucxgEIAEoCzIoLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uT3B0aW9ucxI/CgphcHBlYXJhbmNlGAUgASgLMisuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25BcHBlYXJhbmNlEjkKC3Nwb25zb3JzaGlwGAYgASgLMiQuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuU3BvbnNvcnNoaXASQwoMbm90aWZpY2F0aW9uGAcgASgLMi0uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25Ob3RpZmljYXRpb24SOAoHYW5zd2VycxgIIAMoCzInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uQW5zd2VyEkMKCW92ZXJyaWRlcxgJIAMoCzIwLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlRlbXBsYXRlLk92ZXJyaWRlc0VudHJ5EioKBHRhZ3MYCiADKAsyHC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5UYWcSSgoUYnlwYXNzX25vdGlmaWNhdGlvbnMYCyABKAsyLC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5CeXBhc3NOb3RpZmljYXRpb25zEi8KAmFpGAwgASgLMiMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25BaRIZCgxoYXNfdHJpZ2dlcnMYDSABKAhIAYgBARISCgpjcmVhdGVkX2F0GA4gASgJEhEKBG5hbWUYDyABKAlIAogBARI1Cglwcm9tb3Rpb24YECABKAsyIi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Qcm9tb3Rpb24SQgoQYmFja2dyb3VuZF9pbWFnZRgRIAEoCzIoLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkJhY2tncm91bmRJbWFnZRIwCgdhZF91bml0GBIgASgOMh8uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQWRVbml0EhsKDnF1ZXN0aW9uX2NvdW50GBMgASgFSAOIAQESEQoJZXZlbnRfaWRzGBQgAygJEhYKCW1vZHVsZV9pZBgVIAEoCUgEiAEBGjAKDk92ZXJyaWRlc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCDoCOAFCCgoIX3N1YmplY3RCDwoNX2hhc190cmlnZ2Vyc0IHCgVfbmFtZUIRCg9fcXVlc3Rpb25fY291bnRCDAoKX21vZHVsZV9pZCJ9CgpNb2R1bGVDYXJkEhsKE2xpbmtlZF9ldmVudHNfY291bnQYASABKA0SHQoVdXBjb21pbmdfZXZlbnRzX2NvdW50GAIgASgNEhkKEWluX3BsYXlfYWRzX2NvdW50GAMgASgNEhgKEHBhdXNlZF9hZHNfY291bnQYBCABKA0iYwoQTW9kdWxlQWR2ZXJ0aXNlchIMCgRuYW1lGAEgASgJEgwKBGxvZ28YAiABKAkSGQoRaW5fcGxheV9hZHNfY291bnQYAyABKA0SGAoQcGF1c2VkX2Fkc19jb3VudBgEIAEoDSK8AgoGTW9kdWxlEgoKAmlkGAEgASgJEgwKBG5hbWUYAiABKAkSDAoEdHlwZRgDIAEoCRIOCgZsZWFndWUYBCABKAkSEwoLY3VzdG9tX2xvZ28YBSABKAkSEgoKY3JlYXRlZF9hdBgGIAEoCRISCgp1cGRhdGVkX2F0GAcgASgJEjEKBGNhcmQYCCABKAsyIy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Nb2R1bGVDYXJkEkoKGGRlZmF1bHRfYmFja2dyb3VuZF9pbWFnZRgJIAEoCzIoLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkJhY2tncm91bmRJbWFnZRI+CgthZHZlcnRpc2VycxgKIAMoCzIpLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLk1vZHVsZUFkdmVydGlzZXIq+wEKC0FjdGl2YXRlZEJ5EhYKEkFDVElWQVRFRF9CWV9VTlNFVBAAEhUKEUFDVElWQVRFRF9CWV9VU0VSEAESGgoWQUNUSVZBVEVEX0JZX0FVVE9fUE9TVBACEiQKIEFDVElWQVRFRF9CWV9UUklHR0VSX1RZUEVfTUFOVUFMEAMSKQolQUNUSVZBVEVEX0JZX1RSSUdHRVJfVFlQRV9FVkVOVF9CQVNFRBAEEiUKIUFDVElWQVRFRF9CWV9UUklHR0VSX1RZUEVfU0NURV8zNRAFEikKJUFDVElWQVRFRF9CWV9UUklHR0VSX1RZUEVfVkFTVF9TSUdOQUwQBirIAQoMUXVlc3Rpb25UeXBlEhcKE1FVRVNUSU9OX1RZUEVfVU5TRVQQABIWChJRVUVTVElPTl9UWVBFX1BPTEwQARIYChRRVUVTVElPTl9UWVBFX1RSSVZJQRACEhwKGFFVRVNUSU9OX1RZUEVfUFJFRElDVElPThADEhkKFVFVRVNUSU9OX1RZUEVfRkFDVE9JRBAEEhcKE1FVRVNUSU9OX1RZUEVfVFdFRVQQBRIbChdRVUVTVElPTl9UWVBFX1BST01PVElPThAGKmMKDlF1ZXN0aW9uU291cmNlEhkKFVFVRVNUSU9OX1NPVVJDRV9VTlNFVBAAEhYKElFVRVNUSU9OX1NPVVJDRV9BSRABEh4KGlFVRVNUSU9OX1NPVVJDRV9DU1ZfSU1QT1JUEAIq4gEKDlF1ZXN0aW9uU3RhdHVzEhkKFVFVRVNUSU9OX1NUQVRVU19VTlNFVBAAEiEKHVFVRVNUSU9OX1NUQVRVU19OT1RfU0NIRURVTEVEEAESHQoZUVVFU1RJT05fU1RBVFVTX1NDSEVEVUxFRBACEhoKFlFVRVNUSU9OX1NUQVRVU19BQ1RJVkUQAxIcChhRVUVTVElPTl9TVEFUVVNfUkVTT0xWRUQQBBIbChdRVUVTVElPTl9TVEFUVVNfRU5BQkxFRBAFEhwKGFFVRVNUSU9OX1NUQVRVU19ESVNBQkxFRBAGKu4BChBRdWVzdGlvblBvc2l0aW9uEhsKF1FVRVNUSU9OX1BPU0lUSU9OX1VOU0VUEAASHQoZUVVFU1RJT05fUE9TSVRJT05fREVGQVVMVBABEiIKHlFVRVNUSU9OX1BPU0lUSU9OX0ZJWEVEX0JPVFRPTRACEhoKFlFVRVNUSU9OX1BPU0lUSU9OX0xCQVIQAxIdChlRVUVTVElPTl9QT1NJVElPTl9PVkVSTEFZEAQSHQoZUVVFU1RJT05fUE9TSVRJT05fU0lERUJBUhAFEiAKHFFVRVNUSU9OX1BPU0lUSU9OX0ZVTExfQkxFRUQQBippCg5RdWVzdGlvbkxheW91dBIZChVRVUVTVElPTl9MQVlPVVRfVU5TRVQQABIdChlRVUVTVElPTl9MQVlPVVRfTElTVF9WSUVXEAESHQoZUVVFU1RJT05fTEFZT1VUX0dSSURfVklFVxACKrwBCg5RdWVzdGlvbkltYWdlcxIZChVRVUVTVElPTl9JTUFHRVNfVU5TRVQQABIYChRRVUVTVElPTl9JTUFHRVNfTk9ORRABEhsKF1FVRVNUSU9OX0lNQUdFU19ST1VOREVEEAISHwobUVVFU1RJT05fSU1BR0VTX1RSQU5TUEFSRU5UEAMSHAoYUVVFU1RJT05fSU1BR0VTX0NFTlRFUkVEEAQSGQoVUVVFU1RJT05fSU1BR0VTX1NPTElEEAUq9AEKGU5vdGlmaWNhdGlvblByb21vdGlvbk1vZGUSJQohTk9USUZJQ0FUSU9OX1BST01PVElPTl9NT0RFX1VOU0VUEAASJwojTk9USUZJQ0FUSU9OX1BST01PVElPTl9NT0RFX0NMQVNTSUMQARIrCidOT1RJRklDQVRJT05fUFJPTU9USU9OX01PREVfTE9XRVJfVEhJUkQQAhIxCi1OT1RJRklDQVRJT05fUFJPTU9USU9OX01PREVfUklDSF9OT1RJRklDQVRJT04QAxInCiNOT1RJRklDQVRJT05fUFJPTU9USU9OX01PREVfU0lERUJBUhAEKs0CCiJOb3RpZmljYXRpb25Qcm9tb3Rpb25JbWFnZVBvc2l0aW9uEi8KK05PVElGSUNBVElPTl9QUk9NT1RJT05fSU1BR0VfUE9TSVRJT05fVU5TRVQQABItCilOT1RJRklDQVRJT05fUFJPTU9USU9OX0lNQUdFX1BPU0lUSU9OX0ZJVBABEjIKLk5PVElGSUNBVElPTl9QUk9NT1RJT05fSU1BR0VfUE9TSVRJT05fQ0VOVEVSRUQQAhIwCixOT1RJRklDQVRJT05fUFJPTU9USU9OX0lNQUdFX1BPU0lUSU9OX0JPVFRPTRADEi8KK05PVElGSUNBVElPTl9QUk9NT1RJT05fSU1BR0VfUE9TSVRJT05fU09MSUQQBBIwCixOT1RJRklDQVRJT05fUFJPTU9USU9OX0lNQUdFX1BPU0lUSU9OX01JRERMRRAFKpEBChtOb3RpZmljYXRpb25TcG9uc29yTG9nb01vZGUSIwofTk9USUZJQ0FUSU9OX1NQT05TT1JfTE9HT19VTlNFVBAAEiIKHk5PVElGSUNBVElPTl9TUE9OU09SX0xPR09fTk9ORRABEikKJU5PVElGSUNBVElPTl9TUE9OU09SX0xPR09fVFJBTlNQQVJFTlQQAipOCgtDdGFJY29uTW9kZRISCg5DVEFfSUNPTl9VTlNFVBAAEhEKDUNUQV9JQ09OX05PTkUQARIYChRDVEFfSUNPTl9UUkFOU1BBUkVOVBACKlwKDUltYWdlUG9zaXRpb24SGAoUSU1BR0VfUE9TSVRJT05fVU5TRVQQABIXChNJTUFHRV9QT1NJVElPTl9MRUZUEAESGAoUSU1BR0VfUE9TSVRJT05fUklHSFQQAirSBgoNUHJvbW90aW9uVHlwZRIYChRQUk9NT1RJT05fVFlQRV9VTlNFVBAAEiMKG1BST01PVElPTl9UWVBFX0lOR0FNRV9JQUIyMRABGgIIARIjChtQUk9NT1RJT05fVFlQRV9JTkdBTUVfSUFCMTEQAhoCCAESIwobUFJPTU9USU9OX1RZUEVfSU5HQU1FX0lBQjYxEAMaAggBEigKIFBST01PVElPTl9UWVBFX0lOR0FNRV9JQUIxMV9MQkFSEAQaAggBEigKIFBST01PVElPTl9UWVBFX0lOR0FNRV9JQUIyMV9MQkFSEAUaAggBEh4KGlBST01PVElPTl9UWVBFX0VYVEVSTkFMX0FEEAYSJQohUFJPTU9USU9OX1RZUEVfVklERU9fU0lERV9CWV9TSURFEAcSJQohUFJPTU9USU9OX1RZUEVfUElDVFVSRV9JTl9QSUNUVVJFEAgSIAoYUFJPTU9USU9OX1RZUEVfU0hPUF9MQkFSEAkaAggBEiMKG1BST01PVElPTl9UWVBFX1NIT1BfT1ZFUkxBWRAKGgIIARIjChtQUk9NT1RJT05fVFlQRV9TSE9QX1NJREVCQVIQCxoCCAESHgoaUFJPTU9USU9OX1RZUEVfTE9XRVJfVEhJUkQQDBIkChxQUk9NT1RJT05fVFlQRV9ORkxfU0hPUF9MQkFSEA0aAggBEicKH1BST01PVElPTl9UWVBFX05GTF9TSE9QX09WRVJMQVkQDhoCCAESJwofUFJPTU9USU9OX1RZUEVfTkZMX1NIT1BfU0lERUJBUhAPGgIIARIrCiNQUk9NT1RJT05fVFlQRV9JTkdBTUVfSUFCMjFfU0lERUJBUhAQGgIIARIrCiNQUk9NT1RJT05fVFlQRV9JTkdBTUVfSUFCMTFfU0lERUJBUhARGgIIARIrCiNQUk9NT1RJT05fVFlQRV9JTkdBTUVfSUFCNjFfU0lERUJBUhASGgIIARIYChRQUk9NT1RJT05fVFlQRV9TVEFUUxATEhsKF1BST01PVElPTl9UWVBFX1NUQU5EQVJEEBQSFwoTUFJPTU9USU9OX1RZUEVfU0hPUBAVEhsKF1BST01PVElPTl9UWVBFX05GTF9TSE9QEBYqpQEKD1Byb21vdGlvbkZvcm1hdBIaChZQUk9NT1RJT05fRk9STUFUX1VOU0VUEAASGQoVUFJPTU9USU9OX0ZPUk1BVF9MQkFSEAESHAoYUFJPTU9USU9OX0ZPUk1BVF9PVkVSTEFZEAISHAoYUFJPTU9USU9OX0ZPUk1BVF9TSURFQkFSEAMSHwobUFJPTU9USU9OX0ZPUk1BVF9GVUxMX0JMRUVEEAQqagoPUHJvbW90aW9uV2FsbGV0EhoKFlBST01PVElPTl9XQUxMRVRfVU5TRVQQABIcChhQUk9NT1RJT05fV0FMTEVUX0VOQUJMRUQQARIdChlQUk9NT1RJT05fV0FMTEVUX0RJU0FCTEVEEAIqRgoGUVJDb2RlEhEKDVFSX0NPREVfVU5TRVQQABITCg9RUl9DT0RFX0VOQUJMRUQQARIUChBRUl9DT0RFX0RJU0FCTEVEEAIqewoNUGF1c2VBZExheW91dBIZChVQQVVTRV9BRF9MQVlPVVRfVU5TRVQQABIYChRQQVVTRV9BRF9MQVlPVVRfTEVGVBABEhoKFlBBVVNFX0FEX0xBWU9VVF9DRU5URVIQAhIZChVQQVVTRV9BRF9MQVlPVVRfSU1BR0UQAyp8ChBQYXVzZUFkU3RhdHNUeXBlEh0KGVBBVVNFX0FEX1NUQVRTX1RZUEVfVU5TRVQQABIfChtQQVVTRV9BRF9TVEFUU19UWVBFX01BVENIVVAQARIoCiRQQVVTRV9BRF9TVEFUU19UWVBFX0xFQUdVRV9TVEFORElOR1MQAir4AQoTUHJvbW90aW9uQnV0dG9uVHlwZRIfChtQUk9NT1RJT05fQlVUVE9OX1RZUEVfVU5TRVQQABIfChtQUk9NT1RJT05fQlVUVE9OX1RZUEVfQkFTSUMQARInCiNQUk9NT1RJT05fQlVUVE9OX1RZUEVfQUREX1RPX1dBTExFVBADEikKJVBST01PVElPTl9CVVRUT05fVFlQRV9SRVRVUk5fVE9fVklERU8QBBIjCh9QUk9NT1RJT05fQlVUVE9OX1RZUEVfTk9fQlVUVE9OEAUSJgoiUFJPTU9USU9OX0JVVFRPTl9UWVBFX1NFTkRfVE9fVVNFUhAGKmgKD1VzZXJBY2NvdW50SW5mbxIbChdVU0VSX0FDQ09VTlRfSU5GT19VTlNFVBAAEhsKF1VTRVJfQUNDT1VOVF9JTkZPX0VNQUlMEAESGwoXVVNFUl9BQ0NPVU5UX0lORk9fUEhPTkUQAiqQAQoRUHJvbW90aW9uTG9nb01vZGUSHQoZUFJPTU9USU9OX0xPR09fTU9ERV9VTlNFVBAAEhwKGFBST01PVElPTl9MT0dPX01PREVfTEVGVBABEh4KGlBST01PVElPTl9MT0dPX01PREVfQ0VOVEVSEAISHgoaUFJPTU9USU9OX0xPR09fTU9ERV9NSU5NQUwQAyp1ChFVc2VBc05vdGlmaWNhdGlvbhIdChlVU0VfQVNfTk9USUZJQ0FUSU9OX1VOU0VUEAASHwobVVNFX0FTX05PVElGSUNBVElPTl9FTkFCTEVEEAESIAocVVNFX0FTX05PVElGSUNBVElPTl9ESVNBQkxFRBACKmoKE05vdGlmaWNhdGlvbkVuYWJsZWQSHgoaTk9USUZJQ0FUSU9OX0VOQUJMRURfVU5TRVQQABIYChROT1RJRklDQVRJT05fRU5BQkxFRBABEhkKFU5PVElGSUNBVElPTl9ESVNBQkxFRBACKqABChtOb3RpZmljYXRpb25Vc2VDb250ZW50TWVkaWESKAokTk9USUZJQ0FUSU9OX1VTRV9DT05URU5UX01FRElBX1VOU0VUEAASKgomTk9USUZJQ0FUSU9OX1VTRV9DT05URU5UX01FRElBX0VOQUJMRUQQARIrCidOT1RJRklDQVRJT05fVVNFX0NPTlRFTlRfTUVESUFfRElTQUJMRUQQAiqgAQobTm90aWZpY2F0aW9uVXNlQ29udGVudFRleHRzEigKJE5PVElGSUNBVElPTl9VU0VfQ09OVEVOVF9URVhUU19VTlNFVBAAEioKJk5PVElGSUNBVElPTl9VU0VfQ09OVEVOVF9URVhUU19FTkFCTEVEEAESKwonTk9USUZJQ0FUSU9OX1VTRV9DT05URU5UX1RFWFRTX0RJU0FCTEVEEAIqaQoOQ2xvc2VUaW1lckF1dG8SGgoWQ0xPU0VfVElNRVJfQVVUT19VTlNFVBAAEhwKGENMT1NFX1RJTUVSX0FVVE9fRU5BQkxFRBABEh0KGUNMT1NFX1RJTUVSX0FVVE9fRElTQUJMRUQQAiplCg1BdXRvUGxheVZpZGVvEhkKFUFVVE9fUExBWV9WSURFT19VTlNFVBAAEhsKF0FVVE9fUExBWV9WSURFT19FTkFCTEVEEAESHAoYQVVUT19QTEFZX1ZJREVPX0RJU0FCTEVEEAIqaQoOUGxheVZpZGVvTXV0ZWQSGgoWUExBWV9WSURFT19NVVRFRF9VTlNFVBAAEhwKGFBMQVlfVklERU9fTVVURURfRU5BQkxFRBABEh0KGVBMQVlfVklERU9fTVVURURfRElTQUJMRUQQAiqqAQoGQWRUeXBlEhEKDUFEX1RZUEVfVU5TRVQQABIQCgxBRF9UWVBFX0xCQVIQARITCg9BRF9UWVBFX1NJREVCQVIQAhITCg9BRF9UWVBFX09WRVJMQVkQAxIXChNBRF9UWVBFX0xPV0VSX1RISVJEEAQSGAoUQURfVFlQRV9TSURFX0JZX1NJREUQBRIeChpBRF9UWVBFX1BJQ1RVUkVfSU5fUElDVFVSRRAGKtQKCg5RdWVzdGlvblVJVHlwZRIaChZRVUVTVElPTl9VSV9UWVBFX1VOU0VUEAASHgoaUVVFU1RJT05fVUlfVFlQRV9HT09HTEVfQUQQARIgChxRVUVTVElPTl9VSV9UWVBFX1NUQU5EQVJEX0FEEAISIAocUVVFU1RJT05fVUlfVFlQRV9MT1dFUl9USElSRBADEiEKHVFVRVNUSU9OX1VJX1RZUEVfU0lERV9CWV9TSURFEAQSJwojUVVFU1RJT05fVUlfVFlQRV9QSUNUVVJFX0lOX1BJQ1RVUkUQBRIlCiFRVUVTVElPTl9VSV9UWVBFX05GTF9TSE9QUEFCTEVfQUQQBhIfChtRVUVTVElPTl9VSV9UWVBFX0lOU0lHSFRfQUQQBxIcChhRVUVTVElPTl9VSV9UWVBFX1BPTExfQUQQCBIeChpRVUVTVElPTl9VSV9UWVBFX1RSSVZJQV9BRBAJEiIKHlFVRVNUSU9OX1VJX1RZUEVfUFJFRElDVElPTl9BRBAKEiEKHVFVRVNUSU9OX1VJX1RZUEVfU0hPUFBBQkxFX0FEEAsSJgoiUVVFU1RJT05fVUlfVFlQRV9BSV9BU1NJU1RBTlRfQkVUQRAMEhkKFVFVRVNUSU9OX1VJX1RZUEVfUE9MTBANEhsKF1FVRVNUSU9OX1VJX1RZUEVfVFJJVklBEA4SHwobUVVFU1RJT05fVUlfVFlQRV9QUkVESUNUSU9OEA8SHAoYUVVFU1RJT05fVUlfVFlQRV9JTlNJR0hUEBASGwoXUVVFU1RJT05fVUlfVFlQRV9YX1BPU1QQERIaChZRVUVTVElPTl9VSV9UWVBFX1NUQVRTEBISJQohUEFVU0VEX1FVRVNUSU9OX1VJX1RZUEVfR09PR0xFX0FEEGUSJwojUEFVU0VEX1FVRVNUSU9OX1VJX1RZUEVfU1RBTkRBUkRfQUQQZhInCiNQQVVTRURfUVVFU1RJT05fVUlfVFlQRV9MT1dFUl9USElSRBBnEigKJFBBVVNFRF9RVUVTVElPTl9VSV9UWVBFX1NJREVfQllfU0lERRBoEi4KKlBBVVNFRF9RVUVTVElPTl9VSV9UWVBFX1BJQ1RVUkVfSU5fUElDVFVSRRBpEiwKKFBBVVNFRF9RVUVTVElPTl9VSV9UWVBFX05GTF9TSE9QUEFCTEVfQUQQahImCiJQQVVTRURfUVVFU1RJT05fVUlfVFlQRV9JTlNJR0hUX0FEEGsSIwofUEFVU0VEX1FVRVNUSU9OX1VJX1RZUEVfUE9MTF9BRBBsEiUKIVBBVVNFRF9RVUVTVElPTl9VSV9UWVBFX1RSSVZJQV9BRBBtEikKJVBBVVNFRF9RVUVTVElPTl9VSV9UWVBFX1BSRURJQ1RJT05fQUQQZBIoCiRQQVVTRURfUVVFU1RJT05fVUlfVFlQRV9TSE9QUEFCTEVfQUQQbxItCilQQVVTRURfUVVFU1RJT05fVUlfVFlQRV9BSV9BU1NJU1RBTlRfQkVUQRBwEiAKHFBBVVNFRF9RVUVTVElPTl9VSV9UWVBFX1BPTEwQcRIiCh5QQVVTRURfUVVFU1RJT05fVUlfVFlQRV9UUklWSUEQchImCiJQQVVTRURfUVVFU1RJT05fVUlfVFlQRV9QUkVESUNUSU9OEHMSIwofUEFVU0VEX1FVRVNUSU9OX1VJX1RZUEVfSU5TSUdIVBB0EiIKHlBBVVNFRF9RVUVTVElPTl9VSV9UWVBFX1hfUE9TVBB1EiEKHVBBVVNFRF9RVUVTVElPTl9VSV9UWVBFX1NUQVRTEHYqaQoOVXNlR2VuZXJhbExvZ28SGgoWVVNFX0dFTkVSQUxfTE9HT19VTlNFVBAAEhwKGFVTRV9HRU5FUkFMX0xPR09fRU5BQkxFRBABEh0KGVVTRV9HRU5FUkFMX0xPR09fRElTQUJMRUQQAipqChFCYW5uZXJNZWRpYUZvcm1hdBIdChlCQU5ORVJfTUVESUFfRk9STUFUX1VOU0VUEAASGgoWQkFOTkVSX01FRElBX0ZPUk1BVF8xMRABEhoKFkJBTk5FUl9NRURJQV9GT1JNQVRfMjEQAippCgpTaG9wR2VuZGVyEhUKEVNIT1BfR0VOREVSX1VOU0VUEAASFAoQU0hPUF9HRU5ERVJfTUFMRRABEhYKElNIT1BfR0VOREVSX0ZFTUFMRRACEhYKElNIT1BfR0VOREVSX1VOSVNFWBADKlIKCVNhbGVQcmljZRIUChBTQUxFX1BSSUNFX1VOU0VUEAASFgoSU0FMRV9QUklDRV9FTkFCTEVEEAESFwoTU0FMRV9QUklDRV9ESVNBQkxFRBACKpQBCgtUcmlnZ2VyVHlwZRIWChJUUklHR0VSX1RZUEVfVU5TRVQQABIXChNUUklHR0VSX1RZUEVfTUFOVUFMEAESHAoYVFJJR0dFUl9UWVBFX0VWRU5UX0JBU0VEEAISGAoUVFJJR0dFUl9UWVBFX1NDVEVfMzUQAxIcChhUUklHR0VSX1RZUEVfVkFTVF9TSUdOQUwQBCp+Cg9EZXZpY2VUYXJnZXRpbmcSGgoWREVWSUNFX1RBUkdFVElOR19VTlNFVBAAEhsKF0RFVklDRV9UQVJHRVRJTkdfTU9CSUxFEAESGAoUREVWSUNFX1RBUkdFVElOR19DVFYQAhIYChRERVZJQ0VfVEFSR0VUSU5HX1dFQhADKkUKBkFkVW5pdBIRCg1BRF9VTklUX1VOU0VUEAASFAoQQURfVU5JVF9TVEFOREFSVBABEhIKDkFEX1VOSVRfUEFVU0VEEAIqlgEKGk5vdGlmaWNhdGlvbk11bHRpY29tcG9uZW50EiUKIU5PVElGSUNBVElPTl9NVUxUSUNPTVBPTkVOVF9VTlNFVBAAEicKI05PVElGSUNBVElPTl9NVUxUSUNPTVBPTkVOVF9FTkFCTEVEEAESKAokTk9USUZJQ0FUSU9OX01VTFRJQ09NUE9ORU5UX0RJU0FCTEVEEAIqqAEKEEZhY3RvaWRNZWRpYU1vZGUSHAoYRkFDVE9JRF9NRURJQV9NT0RFX1VOU0VUEAASHAoYRkFDVE9JRF9NRURJQV9NT0RFX0lNQUdFEAESHAoYRkFDVE9JRF9NRURJQV9NT0RFX1ZJREVPEAISHQoZRkFDVE9JRF9NRURJQV9NT0RFX0NJUkNMRRADEhsKF0ZBQ1RPSURfTUVESUFfTU9ERV9OT05FEAQqhwEKCkNhcmRGb3JtYXQSFQoRQ0FSRF9GT1JNQVRfVU5TRVQQABIXChNDQVJEX0ZPUk1BVF9PVkVSTEFZEAESFwoTQ0FSRF9GT1JNQVRfU0lERUJBUhACEhQKEENBUkRfRk9STUFUX0xCQVIQAxIaChZDQVJEX0ZPUk1BVF9GVUxMX0JMRUVEEAQq6gEKFVF1ZXN0aW9uQXV0b1Bvc3RTdGF0ZRIiCh5RVUVTVElPTl9BVVRPX1BPU1RfU1RBVEVfVU5TRVQQABIfChtRVUVTVElPTl9BVVRPX1BPU1RfU1RBVEVfT04QARIgChxRVUVTVElPTl9BVVRPX1BPU1RfU1RBVEVfT0ZGEAISIwofUVVFU1RJT05fQVVUT19QT1NUX1NUQVRFX1BBVVNFRBADEiEKHVFVRVNUSU9OX0FVVE9fUE9TVF9TVEFURV9JRExFEAQSIgoeUVVFU1RJT05fQVVUT19QT1NUX1NUQVRFX1JFU0VUEAUqhAEKFVF1ZXN0aW9uQXV0b1Bvc3RTdGFydBIiCh5RVUVTVElPTl9BVVRPX1BPU1RfU1RBUlRfVU5TRVQQABIlCiFRVUVTVElPTl9BVVRPX1BPU1RfU1RBUlRfU0NIRURVTEUQARIgChxRVUVTVElPTl9BVVRPX1BPU1RfU1RBUlRfTk9XEAIqVgoSUXVlc3Rpb25Ta2lwUmVhc29uEh4KGlFVRVNUSU9OX1NLSVBfUkVBU09OX1VOU0VUEAASIAocUVVFU1RJT05fU0tJUF9SRUFTT05fT1ZFUkRVRRABKlwKDlNpbGVuY2VTZXR0aW5nEhkKFVNJTEVOQ0VfU0VUVElOR19VTlNFVBAAEhYKElNJTEVOQ0VfU0VUVElOR19PThABEhcKE1NJTEVOQ0VfU0VUVElOR19PRkYQAiqUAQoMSW1wb3J0U3RhdHVzEhcKE0lNUE9SVF9TVEFUVVNfVU5TRVQQABIZChVJTVBPUlRfU1RBVFVTX1BMQU5ORUQQARIZChVJTVBPUlRfU1RBVFVTX1JVTk5JTkcQAhIbChdJTVBPUlRfU1RBVFVTX0NPTVBMRVRFRBADEhgKFElNUE9SVF9TVEFUVVNfRkFJTEVEEARCtwEKImNvbS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5jb21tb25CIVN0cmVhbUxheWVySW50ZXJhY3RpdmVDb21tb25Qcm90b1ABWmNnaXRodWIuY29tL3N0cmVhbWxheWVyL3NsLXByb3RvZmlsZXMvLmJ1aWxkL2dvL3N0cmVhbWxheWVyL2ludGVyYWN0aXZlL2NvbW1vbjtzbF9pbnRlcmFjdGl2ZV9jb21tb26iAgZTTF9BUEliBnByb3RvMw",[bc,Tr,WW]),Sq=vt(gn,1),Te=Et(Sq),Tq=vt(gn,3),Qt=Et(Tq),Rq=vt(gn,6),Wt=Et(Rq),Cq=vt(gn,7),GW=Et(Cq),Iq=vt(gn,8),kr=Et(Iq),wq=vt(gn,9),ZW=Et(wq),xq=vt(gn,10),BA=Et(xq),Vq=vt(gn,12),rt=Et(Vq),Nq=vt(gn,18),_q=Et(Nq),kq=vt(gn,20),zh=Et(kq),Fq=vt(gn,21),Lq=Et(Fq),Uq=vt(gn,22),ig=Et(Uq),Bq=vt(gn,23),WA=Et(Bq),Wq=vt(gn,24),wI=Et(Wq),Gq=vt(gn,25),Zq=Et(Gq),Dq=vt(gn,26),rg=Et(Dq),Oq=vt(gn,27),DW=Et(Oq),Xq=vt(gn,36),oi=Et(Xq),Mq=vt(gn,38),Pq=Et(Mq),Yq=vt(gn,43),$q=Et(Yq),OW=Ut("CjNzdHJlYW1sYXllci9pbnRlcmFjdGl2ZS9mZWVkL2ludGVyYWN0aXZlLmZlZWQucHJvdG8SHHN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQihQIKDEZlZWRRdWVzdGlvbhIzCghxdWVzdGlvbhgBIAEoCzIhLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uEkcKDG5vdGlmaWNhdGlvbhgCIAEoCzItLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uTm90aWZpY2F0aW9uQgIYARI8Cgptb2RlcmF0aW9uGAMgASgLMiguc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuRXZlbnRNb2RlcmF0aW9uEjkKCWZlZWRfaXRlbRgEIAEoCzImLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuRmVlZEl0ZW0iOAoTU3Vic2NyaXB0aW9uUmVxdWVzdBIQCghldmVudF9pZBgBIAEoCRIPCgdmZWVkX2lkGAIgASgJIucBChRTdWJzY3JpcHRpb25SZXNwb25zZRJZCgRkYXRhGAEgASgLMksuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5TdWJzY3JpcHRpb25SZXNwb25zZS5TdWJzY3JpcHRpb25SZXNwb25zZURhdGEadAoYU3Vic2NyaXB0aW9uUmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSPgoKYXR0cmlidXRlcxgDIAEoCzIqLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuRmVlZFF1ZXN0aW9uIkEKGVZvdGluZ1N1YnNjcmlwdGlvblJlcXVlc3QSDwoHZmVlZF9pZBgBIAEoCRITCgtxdWVzdGlvbl9pZBgCIAEoCSKNAgoaVm90aW5nU3Vic2NyaXB0aW9uUmVzcG9uc2USZQoEZGF0YRgBIAEoCzJXLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuVm90aW5nU3Vic2NyaXB0aW9uUmVzcG9uc2UuVm90aW5nU3Vic2NyaXB0aW9uUmVzcG9uc2VEYXRhGocBCh5Wb3RpbmdTdWJzY3JpcHRpb25SZXNwb25zZURhdGESEwoLcXVlc3Rpb25faWQYASABKAkSDAoEdHlwZRgCIAEoCRJCCgphdHRyaWJ1dGVzGAMgAygLMi4uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5BbnN3ZXJWb3RlUmVzdWx0IlMKFFF1ZXN0aW9uU3Vic2NyaXB0aW9uEjsKCHF1ZXN0aW9uGAEgASgLMikuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuRXh0ZW5kZWRRdWVzdGlvbiIyChtRdWVzdGlvblN1YnNjcmlwdGlvblJlcXVlc3QSEwoLcXVlc3Rpb25faWQYASABKAkimQIKHFF1ZXN0aW9uU3Vic2NyaXB0aW9uUmVzcG9uc2USaQoEZGF0YRgBIAEoCzJbLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuUXVlc3Rpb25TdWJzY3JpcHRpb25SZXNwb25zZS5RdWVzdGlvblN1YnNjcmlwdGlvblJlc3BvbnNlRGF0YRqNAQogUXVlc3Rpb25TdWJzY3JpcHRpb25SZXNwb25zZURhdGESEwoLcXVlc3Rpb25faWQYASABKAkSDAoEdHlwZRgCIAEoCRJGCgphdHRyaWJ1dGVzGAMgASgLMjIuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5RdWVzdGlvblN1YnNjcmlwdGlvbiJNCg5RdWVzdGlvbkJ5VXNlchI7CghxdWVzdGlvbhgBIAEoCzIpLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkV4dGVuZGVkUXVlc3Rpb24iLAoVUXVlc3Rpb25CeVVzZXJSZXF1ZXN0EhMKC3F1ZXN0aW9uX2lkGAEgASgJIvsBChZRdWVzdGlvbkJ5VXNlclJlc3BvbnNlEl0KBGRhdGEYASABKAsyTy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlF1ZXN0aW9uQnlVc2VyUmVzcG9uc2UuUXVlc3Rpb25CeVVzZXJSZXNwb25zZURhdGEagQEKGlF1ZXN0aW9uQnlVc2VyUmVzcG9uc2VEYXRhEhMKC3F1ZXN0aW9uX2lkGAEgASgJEgwKBHR5cGUYAiABKAkSQAoKYXR0cmlidXRlcxgDIAEoCzIsLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuUXVlc3Rpb25CeVVzZXIi1wEKE1N5bmNRdWVzdGlvblJlcXVlc3QSWwoGZmlsdGVyGAEgASgLMksuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5TeW5jUXVlc3Rpb25SZXF1ZXN0LlN5bmNRdWVzdGlvblJlcXVlc3RGaWx0ZXIaYwoZU3luY1F1ZXN0aW9uUmVxdWVzdEZpbHRlchIQCghldmVudF9pZBgBIAEoCRI0CgV0eXBlcxgCIAMoDjIlLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uVHlwZSLnAQoUU3luY1F1ZXN0aW9uUmVzcG9uc2USWQoEZGF0YRgBIAEoCzJLLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuU3luY1F1ZXN0aW9uUmVzcG9uc2UuU3luY1F1ZXN0aW9uUmVzcG9uc2VEYXRhGnQKGFN5bmNRdWVzdGlvblJlc3BvbnNlRGF0YRIKCgJpZBgBIAEoCRIMCgR0eXBlGAIgASgJEj4KCmF0dHJpYnV0ZXMYAyABKAsyKi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLkZlZWRRdWVzdGlvbiIgChJHZXRRdWVzdGlvblJlcXVlc3QSCgoCaWQYASABKAki2gEKE0dldFF1ZXN0aW9uUmVzcG9uc2USVwoEZGF0YRgBIAEoCzJJLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuR2V0UXVlc3Rpb25SZXNwb25zZS5HZXRRdWVzdGlvblJlc3BvbnNlRGF0YRpqChdHZXRRdWVzdGlvblJlc3BvbnNlRGF0YRIKCgJpZBgBIAEoCRIMCgR0eXBlGAIgASgJEjUKCmF0dHJpYnV0ZXMYAyABKAsyIS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbiIjChVRdWVzdGlvbkRldGFpbFJlcXVlc3QSCgoCaWQYASABKAki7gEKFlF1ZXN0aW9uRGV0YWlsUmVzcG9uc2USXQoEZGF0YRgBIAEoCzJPLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuUXVlc3Rpb25EZXRhaWxSZXNwb25zZS5RdWVzdGlvbkRldGFpbFJlc3BvbnNlRGF0YRp1ChpRdWVzdGlvbkRldGFpbFJlc3BvbnNlRGF0YRIKCgJpZBgBIAEoCRIMCgR0eXBlGAIgASgJEj0KCmF0dHJpYnV0ZXMYAyABKAsyKS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5FeHRlbmRlZFF1ZXN0aW9uIlkKEEFuc3dlclZvdGVSZXN1bHQSEQoJYW5zd2VyX2lkGAEgASgJEhIKCnBlcmNlbnRhZ2UYAiABKA0SDQoFdm90ZWQYAyABKAgSDwoHY29ycmVjdBgEIAEoCCKlAQoTU3VibWl0QW5zd2VyUmVxdWVzdBJRCgRkYXRhGAEgASgLMkMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5TdWJtaXRBbnN3ZXJSZXF1ZXN0LlN1Ym1pdFJlcXVlc3REYXRhGjsKEVN1Ym1pdFJlcXVlc3REYXRhEhMKC3F1ZXN0aW9uX2lkGAEgASgJEhEKCWFuc3dlcl9pZBgCIAEoCSL5AQoUU3VibWl0QW5zd2VyUmVzcG9uc2USWQoEZGF0YRgBIAEoCzJLLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuU3VibWl0QW5zd2VyUmVzcG9uc2UuU3VibWl0QW5zd2VyUmVzcG9uc2VEYXRhGoUBChhTdWJtaXRBbnN3ZXJSZXNwb25zZURhdGESEwoLcXVlc3Rpb25faWQYASABKAkSDAoEdHlwZRgCIAEoCRJGCgphdHRyaWJ1dGVzGAMgAygLMi4uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5BbnN3ZXJWb3RlUmVzdWx0QgIYASKPAQoTU3VibWl0SW5wbGF5UmVxdWVzdBJRCgRkYXRhGAEgASgLMkMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5TdWJtaXRJbnBsYXlSZXF1ZXN0LlN1Ym1pdFJlcXVlc3REYXRhGiUKEVN1Ym1pdFJlcXVlc3REYXRhEhAKCGV2ZW50X2lkGAEgASgNIhYKFFN1Ym1pdElucGxheVJlc3BvbnNlItIBChNTa2lwUXVlc3Rpb25SZXF1ZXN0ElcKBGRhdGEYASABKAsySS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlNraXBRdWVzdGlvblJlcXVlc3QuU2tpcFF1ZXN0aW9uUmVxdWVzdERhdGEaYgoXU2tpcFF1ZXN0aW9uUmVxdWVzdERhdGESCgoCaWQYASABKAkSOwoGcmVhc29uGAIgASgOMisuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25Ta2lwUmVhc29uIusBChRTa2lwUXVlc3Rpb25SZXNwb25zZRJZCgRkYXRhGAEgASgLMksuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5Ta2lwUXVlc3Rpb25SZXNwb25zZS5Ta2lwUXVlc3Rpb25SZXNwb25zZURhdGEaeAoYU2tpcFF1ZXN0aW9uUmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSQgoKYXR0cmlidXRlcxgDIAMoCzIuLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuQW5zd2VyVm90ZVJlc3VsdCKdAQoSUGlja0hpc3RvcnlSZXF1ZXN0EjwKDXF1ZXN0aW9uX3R5cGUYASADKA4yJS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblR5cGUSEAoIZXZlbnRfaWQYAyABKAkSNwoKcGFnaW5hdGlvbhgCIAEoCzIjLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlBhZ2luYXRpb24irgIKC1BpY2tIaXN0b3J5EhMKC3F1ZXN0aW9uX2lkGAEgASgJEhEKCWFuc3dlcl9pZBgCIAEoCRI/CgZzdGF0dXMYAyABKA4yLy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlBpY2tIaXN0b3J5U3RhdHVzEjwKDXF1ZXN0aW9uX3R5cGUYBCABKA4yJS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblR5cGUSDwoHc3ViamVjdBgFIAEoCRIMCgR0ZXh0GAYgASgJEhcKD29wZW5fZm9yX3ZvdGluZxgHIAEoCBJACg9xdWVzdGlvbl9zdGF0dXMYCCABKA4yJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblN0YXR1cyL0AgoTUGlja0hpc3RvcnlSZXNwb25zZRJXCgRkYXRhGAEgAygLMkkuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5QaWNrSGlzdG9yeVJlc3BvbnNlLlBpY2tIaXN0b3J5UmVzcG9uc2VEYXRhElsKBG1ldGEYAiABKAsyTS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlBpY2tIaXN0b3J5UmVzcG9uc2UuUGlja0hpc3RvcnlSZXNwb25zZU1ldGFkYXRhGlgKF1BpY2tIaXN0b3J5UmVzcG9uc2VEYXRhEj0KCmF0dHJpYnV0ZXMYASABKAsyKS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlBpY2tIaXN0b3J5Gk0KG1BpY2tIaXN0b3J5UmVzcG9uc2VNZXRhZGF0YRINCgV0b3RhbBgBIAEoBRIMCgRwYWdlGAIgASgFEhEKCXBhZ2Vfc2l6ZRgDIAEoBSIpChVJbnNpZ2h0SGlzdG9yeVJlcXVlc3QSEAoIZXZlbnRfaWQYASABKAkiswQKC0luc3RhbnRWaWV3EhQKB2hlYWRpbmcYASABKAlIAIgBARIRCgRib2R5GAIgASgJSAGIAQESEgoFaW1hZ2UYAyABKAlIAogBARI1CgV2aWRlbxgEIAEoCzIhLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkZpbGVMaW5rSAOIAQESNwoId2ViX2xpbmsYBSABKAsyIC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5XZWJMaW5rSASIAQESOwoKaW1hZ2VfbW9kZRgGIAEoDjInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uSW1hZ2VzEj0KC2Nsb3NlX3RpbWVyGAcgASgLMiMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQ2xvc2VUaW1lckgFiAEBEkQKD2F1dG9fcGxheV92aWRlbxgIIAEoDjImLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkF1dG9QbGF5VmlkZW9IBogBARJGChBwbGF5X3ZpZGVvX211dGVkGAkgASgOMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUGxheVZpZGVvTXV0ZWRIB4gBAUIKCghfaGVhZGluZ0IHCgVfYm9keUIICgZfaW1hZ2VCCAoGX3ZpZGVvQgsKCV93ZWJfbGlua0IOCgxfY2xvc2VfdGltZXJCEgoQX2F1dG9fcGxheV92aWRlb0ITChFfcGxheV92aWRlb19tdXRlZCJ/ChNJbnNpZ2h0Tm90aWZpY2F0aW9uEhIKBXRpdGxlGAEgASgJSACIAQESEQoEYm9keRgCIAEoCUgBiAEBEhsKDmltYWdlX3Bvc2l0aW9uGAMgASgFSAKIAQFCCAoGX3RpdGxlQgcKBV9ib2R5QhEKD19pbWFnZV9wb3NpdGlvbiL/AgoOSW5zaWdodEhpc3RvcnkSEwoLcXVlc3Rpb25faWQYASABKAkSDQoFdGl0bGUYAiABKAkSDQoFaW1hZ2UYAyABKAkSOwoKaW1hZ2VfbW9kZRgEIAEoDjInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uSW1hZ2VzEkQKDGluc3RhbnRfdmlldxgFIAEoCzIpLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuSW5zdGFudFZpZXdIAIgBARJMCgxub3RpZmljYXRpb24YBiABKAsyMS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLkluc2lnaHROb3RpZmljYXRpb25IAYgBARJHChN1c2VfYXNfbm90aWZpY2F0aW9uGAcgASgOMiouc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuVXNlQXNOb3RpZmljYXRpb25CDwoNX2luc3RhbnRfdmlld0IPCg1fbm90aWZpY2F0aW9uIvEBChZJbnNpZ2h0SGlzdG9yeVJlc3BvbnNlEl0KBGRhdGEYASADKAsyTy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLkluc2lnaHRIaXN0b3J5UmVzcG9uc2UuSW5zaWdodEhpc3RvcnlSZXNwb25zZURhdGEaeAoaSW5zaWdodEhpc3RvcnlSZXNwb25zZURhdGESCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRJACgphdHRyaWJ1dGVzGAMgASgLMiwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5JbnNpZ2h0SGlzdG9yeSInChNUd2VldEhpc3RvcnlSZXF1ZXN0EhAKCGV2ZW50X2lkGAEgASgJIqEBCgxUd2VldEhpc3RvcnkSEAoIdHdlZXRfaWQYASABKAkSDQoFdGl0bGUYAiABKAkSDQoFaW1hZ2UYAyABKAkSDAoEYm9keRgEIAEoCRIPCgdhY2NvdW50GAUgASgJEhgKEGFjY291bnRfdmVyaWZpZWQYBiABKAgSKAoFdHdlZXQYByABKAsyGS5zdHJlYW1sYXllci5zb2NpYWwuVHdlZXQi5wEKFFR3ZWV0SGlzdG9yeVJlc3BvbnNlElkKBGRhdGEYASADKAsySy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlR3ZWV0SGlzdG9yeVJlc3BvbnNlLlR3ZWV0SGlzdG9yeVJlc3BvbnNlRGF0YRp0ChhUd2VldEhpc3RvcnlSZXNwb25zZURhdGESCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRI+CgphdHRyaWJ1dGVzGAMgASgLMiouc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5Ud2VldEhpc3RvcnkilwEKD0ludGVyYWN0aXZlRmVlZBIKCgJpZBgBIAEoCRI6CgdvcHRpb25zGAIgASgLMikuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5GZWVkT3B0aW9ucxI8Cgptb2RlcmF0aW9uGAMgASgLMiguc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuRXZlbnRNb2RlcmF0aW9uIikKC0ZlZWRPcHRpb25zEhoKEm9uYm9hcmRpbmdfZW5hYmxlZBgBIAEoCCIeCgpHZXRSZXF1ZXN0EhAKCGV2ZW50X2lkGAEgASgJIsYBCgtHZXRSZXNwb25zZRJHCgRkYXRhGAEgASgLMjkuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5HZXRSZXNwb25zZS5HZXRSZXNwb25zZURhdGEabgoPR2V0UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSQQoKYXR0cmlidXRlcxgDIAEoCzItLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuSW50ZXJhY3RpdmVGZWVkIisKF1Byb21vdGlvbkhpc3RvcnlSZXF1ZXN0EhAKCGV2ZW50X2lkGAEgASgJIjwKEFByb21vdGlvbkhpc3RvcnkSCgoCaWQYASABKAkSDQoFdGl0bGUYAiABKAkSDQoFaW1hZ2UYAyABKAki+wEKGFByb21vdGlvbkhpc3RvcnlSZXNwb25zZRJhCgRkYXRhGAEgAygLMlMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5Qcm9tb3Rpb25IaXN0b3J5UmVzcG9uc2UuUHJvbW90aW9uSGlzdG9yeVJlc3BvbnNlRGF0YRp8ChxQcm9tb3Rpb25IaXN0b3J5UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSQgoKYXR0cmlidXRlcxgDIAEoCzIuLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuUHJvbW90aW9uSGlzdG9yeSKPBQoSRmVlZEl0ZW1BdHRyaWJ1dGVzEgoKAmlkGAEgASgJEjMKBHR5cGUYAiABKA4yJS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblR5cGUSNwoGc3RhdHVzGAMgASgOMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25TdGF0dXMSDwoHY3JlYXRlZBgIIAEoCRIwCgdhZF91bml0GAogASgOMh8uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQWRVbml0Ej0KCHF1ZXN0aW9uGAQgASgLMikuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5QaWNrSGlzdG9yeUgAEjsKBXR3ZWV0GAUgASgLMiouc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5Ud2VldEhpc3RvcnlIABI/CgdpbnNpZ2h0GAYgASgLMiwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5JbnNpZ2h0SGlzdG9yeUgAEkMKCXByb21vdGlvbhgHIAEoCzIuLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuUHJvbW90aW9uSGlzdG9yeUgAEj0KDGFkX3Byb21vdGlvbhgJIAEoCzIiLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlByb21vdGlvbkgBiAEBEkcKEGJhY2tncm91bmRfaW1hZ2UYCyABKAsyKC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5CYWNrZ3JvdW5kSW1hZ2VIAogBAUIMCgphdHRyaWJ1dGVzQg8KDV9hZF9wcm9tb3Rpb25CEwoRX2JhY2tncm91bmRfaW1hZ2UiagoIRmVlZEl0ZW0SCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRJECgphdHRyaWJ1dGVzGAMgASgLMjAuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5GZWVkSXRlbUF0dHJpYnV0ZXMi4QIKD0ZlZWRMaXN0UmVxdWVzdBIQCghldmVudF9pZBgBIAEoCRJMCgZmaWx0ZXIYAiABKAsyPC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLkZlZWRMaXN0UmVxdWVzdC5GZWVkTGlzdEZpbHRlchI3CgpwYWdpbmF0aW9uGAMgASgLMiMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUGFnaW5hdGlvbhq0AQoORmVlZExpc3RGaWx0ZXISNAoFdHlwZXMYASADKA4yJS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblR5cGUSOQoIc3RhdHVzZXMYAiADKA4yJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblN0YXR1cxIxCghhZF91bml0cxgDIAMoDjIfLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkFkVW5pdCLrAQoQRmVlZExpc3RSZXNwb25zZRI0CgRkYXRhGAEgAygLMiYuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5GZWVkSXRlbRJVCgRtZXRhGAIgASgLMkcuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5GZWVkTGlzdFJlc3BvbnNlLkZlZWRMaXN0UmVzcG9uc2VNZXRhZGF0YRpKChhGZWVkTGlzdFJlc3BvbnNlTWV0YWRhdGESDQoFdG90YWwYASABKAUSDAoEcGFnZRgCIAEoBRIRCglwYWdlX3NpemUYAyABKAUiKgoWUGF1c2VBZExpc3RMaXN0UmVxdWVzdBIQCghldmVudF9pZBgBIAEoCSJGChNQYXVzZUFkTGlzdFJlc3BvbnNlEi8KBGRhdGEYASADKAsyIS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbiIdCg9GZWVkSXRlbVJlcXVlc3QSCgoCaWQYASABKAkiSAoQRmVlZEl0ZW1SZXNwb25zZRI0CgRkYXRhGAEgASgLMiYuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5GZWVkSXRlbSIrChdGZWVkU3Vic2NyaXB0aW9uUmVxdWVzdBIQCghldmVudF9pZBgBIAEoCSL/AQoYRmVlZFN1YnNjcmlwdGlvblJlc3BvbnNlEjQKBGRhdGEYASABKAsyJi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLkZlZWRJdGVtElkKBG1ldGEYAiABKAsySy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLkZlZWRTdWJzY3JpcHRpb25SZXNwb25zZS5GZWVkU3Vic2NyaXB0aW9uTWV0YRpSChRGZWVkU3Vic2NyaXB0aW9uTWV0YRI6CgR0eXBlGAEgASgOMiwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5GZWVkVXBkYXRlVHlwZSLsAQoOQmV0UGFja1JlcXVlc3QSEAoIZXZlbnRfaWQYASABKAkSNAoFdHlwZXMYAiADKA4yJS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblR5cGUSOQoIc3RhdHVzZXMYAyADKA4yJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblN0YXR1cxISCgVsaW1pdBgEIAEoBUgAiAEBEjAKBHNvcnQYBSABKAsyHS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Tb3J0SAGIAQFCCAoGX2xpbWl0QgcKBV9zb3J0IsUBCg9CZXRQYWNrUmVzcG9uc2USRwoEZGF0YRgBIAMoCzI5LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuQmV0UGFja1Jlc3BvbnNlLkJldFBhY2tJdGVtGmkKC0JldFBhY2tJdGVtEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSQAoKYXR0cmlidXRlcxgDIAEoCzIsLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuUXVlc3Rpb25CeVVzZXIiNAodU2ltdWxhdGVRdWVzdGlvblVwZGF0ZVJlcXVlc3QSEwoLcXVlc3Rpb25faWQYASABKAkiIAoeU2ltdWxhdGVRdWVzdGlvblVwZGF0ZVJlc3BvbnNlKooBChFQaWNrSGlzdG9yeVN0YXR1cxIdChlQSUNLX0hJU1RPUllfU1RBVFVTX1VOU0VUEAASGwoXUElDS19ISVNUT1JZX1NUQVRVU19XT04QARIcChhQSUNLX0hJU1RPUllfU1RBVFVTX0xPU1QQAhIbChdQSUNLX0hJU1RPUllfU1RBVFVTX0ROUBADKpkBCg5GZWVkVXBkYXRlVHlwZRIVChFVUERBVEVfVFlQRV9VTlNFVBAAEiEKHVVQREFURV9UWVBFX1FVRVNUSU9OX0FDVElWQVRFEAESKwonVVBEQVRFX1RZUEVfUVVFU1RJT05fU0VUX0NPUlJFQ1RfQU5TV0VSEAISIAocVVBEQVRFX1RZUEVfUVVFU1RJT05fUkVTT0xWRRADMo0YCgRGZWVkEmcKA0dldBIoLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuR2V0UmVxdWVzdBopLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuR2V0UmVzcG9uc2UiC4qmHQNnZXSoph0CEpoBCgxTdWJzY3JpcHRpb24SMS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlN1YnNjcmlwdGlvblJlcXVlc3QaMi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlN1YnNjcmlwdGlvblJlc3BvbnNlIiGKph0VcXVlc3Rpb24uc3Vic2NyaXB0aW9ukKYdApimHQIwARKqAQoSVm90aW5nU3Vic2NyaXB0aW9uEjcuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5Wb3RpbmdTdWJzY3JpcHRpb25SZXF1ZXN0Gjguc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5Wb3RpbmdTdWJzY3JpcHRpb25SZXNwb25zZSIfiqYdE3ZvdGluZy5zdWJzY3JpcHRpb26Qph0CmKYdAjABErkBChRRdWVzdGlvblN1YnNjcmlwdGlvbhI5LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuUXVlc3Rpb25TdWJzY3JpcHRpb25SZXF1ZXN0Gjouc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5RdWVzdGlvblN1YnNjcmlwdGlvblJlc3BvbnNlIiiKph0ccXVlc3Rpb24uZGV0YWlsLnN1YnNjcmlwdGlvbpCmHQKYph0CMAESkgEKDlF1ZXN0aW9uQnlVc2VyEjMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5RdWVzdGlvbkJ5VXNlclJlcXVlc3QaNC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlF1ZXN0aW9uQnlVc2VyUmVzcG9uc2UiFYqmHQ1xdWVzdGlvbi51c2VyqKYdAhKMAQoMU3luY1F1ZXN0aW9uEjEuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5TeW5jUXVlc3Rpb25SZXF1ZXN0GjIuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5TeW5jUXVlc3Rpb25SZXNwb25zZSIViqYdDXF1ZXN0aW9uLnJlYWSoph0CEogBCgtHZXRRdWVzdGlvbhIwLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuR2V0UXVlc3Rpb25SZXF1ZXN0GjEuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5HZXRRdWVzdGlvblJlc3BvbnNlIhSKph0McXVlc3Rpb24uZ2V0qKYdAhKUAQoOUXVlc3Rpb25EZXRhaWwSMy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlF1ZXN0aW9uRGV0YWlsUmVxdWVzdBo0LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuUXVlc3Rpb25EZXRhaWxSZXNwb25zZSIXiqYdD3F1ZXN0aW9uLmRldGFpbKimHQISjAEKDFN1Ym1pdEFuc3dlchIxLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuU3VibWl0QW5zd2VyUmVxdWVzdBoyLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuU3VibWl0QW5zd2VyUmVzcG9uc2UiFYqmHQ1hbnN3ZXIuc3VibWl0qKYdAhKMAQoMU3VibWl0SW5wbGF5EjEuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5TdWJtaXRJbnBsYXlSZXF1ZXN0GjIuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5TdWJtaXRJbnBsYXlSZXNwb25zZSIViqYdDWlucGxheS5zdWJtaXSoph0CEowBCgxTa2lwUXVlc3Rpb24SMS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlNraXBRdWVzdGlvblJlcXVlc3QaMi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlNraXBRdWVzdGlvblJlc3BvbnNlIhWKph0NcXVlc3Rpb24uc2tpcKimHQISgwEKC1BpY2tIaXN0b3J5EjAuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5QaWNrSGlzdG9yeVJlcXVlc3QaMS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlBpY2tIaXN0b3J5UmVzcG9uc2UiD4qmHQdoaXN0b3J5qKYdAhKUAQoOSW5zaWdodEhpc3RvcnkSMy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLkluc2lnaHRIaXN0b3J5UmVxdWVzdBo0LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuSW5zaWdodEhpc3RvcnlSZXNwb25zZSIXiqYdD2hpc3RvcnkuaW5zaWdodKimHQISjAEKDFR3ZWV0SGlzdG9yeRIxLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuVHdlZXRIaXN0b3J5UmVxdWVzdBoyLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuVHdlZXRIaXN0b3J5UmVzcG9uc2UiFYqmHQ1oaXN0b3J5LnR3ZWV0qKYdAhKcAQoQUHJvbW90aW9uSGlzdG9yeRI1LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuUHJvbW90aW9uSGlzdG9yeVJlcXVlc3QaNi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlByb21vdGlvbkhpc3RvcnlSZXNwb25zZSIZiqYdEWhpc3RvcnkucHJvbW90aW9uqKYdAhJzCgRMaXN0Ei0uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5GZWVkTGlzdFJlcXVlc3QaLi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLkZlZWRMaXN0UmVzcG9uc2UiDIqmHQRsaXN0qKYdAhKMAQoLUGF1c2VBZExpc3QSNC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlBhdXNlQWRMaXN0TGlzdFJlcXVlc3QaMS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlBhdXNlQWRMaXN0UmVzcG9uc2UiFIqmHQxwYXVzZUFkLmxpc3Soph0CEnMKBEl0ZW0SLS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLkZlZWRJdGVtUmVxdWVzdBouLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuRmVlZEl0ZW1SZXNwb25zZSIMiqYdBGl0ZW2oph0CEp0BChBGZWVkU3Vic2NyaXB0aW9uEjUuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5GZWVkU3Vic2NyaXB0aW9uUmVxdWVzdBo2LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuRmVlZFN1YnNjcmlwdGlvblJlc3BvbnNlIhiKph0Mc3Vic2NyaXB0aW9ukKYdApimHQIwARJ3CgdCZXRQYWNrEiwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5CZXRQYWNrUmVxdWVzdBotLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuQmV0UGFja1Jlc3BvbnNlIg+Kph0HYmV0UGFja6imHQISrwEKFlNpbXVsYXRlUXVlc3Rpb25VcGRhdGUSOy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlNpbXVsYXRlUXVlc3Rpb25VcGRhdGVSZXF1ZXN0Gjwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5TaW11bGF0ZVF1ZXN0aW9uVXBkYXRlUmVzcG9uc2UiGIqmHRRjYWxsLnF1ZXN0aW9uLnVwZGF0ZTABGhSKtRgQaW50ZXJhY3RpdmUuZmVlZEKvAQogY29tLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWRCH1N0cmVhbUxheWVySW50ZXJhY3RpdmVGZWVkUHJvdG9QAVpfZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9pbnRlcmFjdGl2ZS9mZWVkO3NsX2ludGVyYWN0aXZlX2ZlZWSiAgZTTF9BUEliBnByb3RvMw",[oo,gn,WW]),jq=vt(OW,0),Go=Et(jq),Rr=yc(OW,0),Kq=Ut("CjVzdHJlYW1sYXllci9zZGtTZXR0aW5ncy9nYW1lL2NvbW1vbi9nYW1lX2NvbW1vbi5wcm90bxIjc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuZ2FtZS5jb21tb24iVgoOR2FtZUFwcGVhcmFuY2USFQoNcHJpbWFyeV9jb2xvchgBIAEoCRIXCg9zZWNvbmRhcnlfY29sb3IYAiABKAkSFAoMYWNjZW50X2NvbG9yGAMgASgJIjQKCUdhbWVNZWRpYRIRCglnYW1lX2ljb24YASABKAkSFAoMc3BvbnNvcl9sb2dvGAIgASgJIikKCUdhbWVQcml6ZRINCgV0aXRsZRgBIAEoCRINCgVpbWFnZRgCIAEoCSK1AgoMR2FtZU92ZXJ2aWV3Eg0KBXRpdGxlGAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhUKDWF1dG9fYWN0aXZhdGUYAyABKAgSDwoHc2NvcmluZxgEIAEoCBI9CgVtZWRpYRgFIAEoCzIuLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmdhbWUuY29tbW9uLkdhbWVNZWRpYRJHCgphcHBlYXJhbmNlGAYgASgLMjMuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuZ2FtZS5jb21tb24uR2FtZUFwcGVhcmFuY2USPgoGcHJpemVzGAcgAygLMi4uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuZ2FtZS5jb21tb24uR2FtZVByaXplEhEKCWNvbXBsZXRlZBgIIAEoCCI0Cg5UaXRsZUNhcmRNZWRpYRIMCgRpY29uGAEgASgJEhQKDHNwb25zb3JfbG9nbxgCIAEoCSImChNUaXRsZUNhcmRBcHBlYXJhbmNlEg8KB2dyYXBoaWMYASABKAkihgIKDUdhbWVUaXRsZUNhcmQSDwoHdmlzaWJsZRgBIAEoCBIOCgZvcHRfaW4YAiABKAgSDQoFdGl0bGUYAyABKAkSEAoIc3VidGl0bGUYBCABKAkSDgoGaGVhZGVyGAUgASgJEkIKBW1lZGlhGAYgASgLMjMuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuZ2FtZS5jb21tb24uVGl0bGVDYXJkTWVkaWESTAoKYXBwZWFyYW5jZRgHIAEoCzI4LnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmdhbWUuY29tbW9uLlRpdGxlQ2FyZEFwcGVhcmFuY2USEQoJY29tcGxldGVkGAggASgIIkEKDk9uYm9hcmRpbmdTdGVwEhAKCGhlYWRsaW5lGAEgASgJEgwKBGJvZHkYAiABKAkSDwoHZ3JhcGhpYxgDIAEoCSJnCg5HYW1lT25ib2FyZGluZxJCCgVzdGVwcxgBIAMoCzIzLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmdhbWUuY29tbW9uLk9uYm9hcmRpbmdTdGVwEhEKCWNvbXBsZXRlZBgCIAEoCCKfAQoJR2FtZVJ1bGVzEg8KB2hlYWRpbmcYASABKAkSEAoIdHlwZWZhY2UYAiABKAkSFAoMYnV0dG9uX2xhYmVsGAMgASgJEhUKDW51bWJlcnNfY29sb3IYBCABKAkSDQoFcnVsZXMYBSADKAkSEQoJY29tcGxldGVkGAYgASgIEg0KBXRlcm1zGAcgASgJEhEKCXRlcm1zX3VybBgIIAEoCSKUAQoOR2FtZUludml0ZUNhcmQSDwoHaGVhZGluZxgBIAEoCRIQCgh0eXBlZmFjZRgCIAEoCRIPCgdzdWJ0ZXh0GAMgASgJEhQKDGJ1dHRvbl9sYWJlbBgEIAEoCRISCgppY29uX2NvbG9yGAUgASgJEhEKBXRlcm1zGAYgASgJQgIYARIRCgljb21wbGV0ZWQYByABKAgikAMKDEdhbWVTZXR0aW5ncxJDCghvdmVydmlldxgBIAEoCzIxLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmdhbWUuY29tbW9uLkdhbWVPdmVydmlldxJGCgp0aXRsZV9jYXJkGAIgASgLMjIuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuZ2FtZS5jb21tb24uR2FtZVRpdGxlQ2FyZBJHCgpvbmJvYXJkaW5nGAMgASgLMjMuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuZ2FtZS5jb21tb24uR2FtZU9uYm9hcmRpbmcSPQoFcnVsZXMYBCABKAsyLi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5nYW1lLmNvbW1vbi5HYW1lUnVsZXMSSAoLaW52aXRlX2NhcmQYBSABKAsyMy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5nYW1lLmNvbW1vbi5HYW1lSW52aXRlQ2FyZBIRCgljb21wbGV0ZWQYBiABKAgSDgoGZW5hYmxlGAcgASgIQsoBCidjb20uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuZ2FtZS5jb21tb25CJVN0cmVhbUxheWVyU2RrU2V0dGluZ3NHYW1lQ29tbW9uUHJvdG9QAVptZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9zZGtTZXR0aW5ncy9nYW1lLmNvbW1vbjtzbF9zZGtTZXR0aW5nc19nYW1lX2NvbW1vbqICBlNMX0FQSWIGcHJvdG8z"),zq=Ut("CkFzdHJlYW1sYXllci9zZGtTZXR0aW5ncy9tb2RlcmF0aW9uL2NvbW1vbi9tb2RlcmF0aW9uX2NvbW1vbi5wcm90bxIpc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MubW9kZXJhdGlvbi5jb21tb24ioAIKEU1vZGVyYXRpb25HZW5lcmFsEhUKDWRlZmF1bHRfY29sb3IYASABKAkSDgoGcG9pbnRzGAIgASgNEhoKEmF1dG9faGlkZV9pbnRlcnZhbBgDIAEoBBIgChhpbnNpZ2h0c19oaXN0b3J5X2VuYWJsZWQYBCABKAgSHAoUcGlja19oaXN0b3J5X2VuYWJsZWQYBSABKAgSQgoRY29ycmVjdF9mZWVkYmFja3MYBiADKAsyJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5BbnN3ZXJGZWVkYmFjaxJEChNpbmNvcnJlY3RfZmVlZGJhY2tzGAcgAygLMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQW5zd2VyRmVlZGJhY2sibQoXTW9kZXJhdGlvbk5vdGlmaWNhdGlvbnMSFQoNZGVmYXVsdF9pbWFnZRgBIAEoCRI7CgppbWFnZV9tb2RlGAIgASgOMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25JbWFnZXMidAoWTW9kZXJhdGlvblNwb25zb3JzaGlwcxIOCgZyb3RhdGUYASABKAgSEgoKbm9fc3BvbnNvchgCIAEoCBI2CghzcG9uc29ycxgDIAMoCzIkLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlNwb25zb3JzaGlwIpcCChJNb2RlcmF0aW9uU2V0dGluZ3MSTQoHZ2VuZXJhbBgBIAEoCzI8LnN0cmVhbWxheWVyLnNka1NldHRpbmdzLm1vZGVyYXRpb24uY29tbW9uLk1vZGVyYXRpb25HZW5lcmFsElkKDW5vdGlmaWNhdGlvbnMYAiABKAsyQi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5tb2RlcmF0aW9uLmNvbW1vbi5Nb2RlcmF0aW9uTm90aWZpY2F0aW9ucxJXCgxzcG9uc29yc2hpcHMYAyABKAsyQS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5tb2RlcmF0aW9uLmNvbW1vbi5Nb2RlcmF0aW9uU3BvbnNvcnNoaXBzQuIBCi1jb20uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MubW9kZXJhdGlvbi5jb21tb25CK1N0cmVhbUxheWVyU2RrU2V0dGluZ3NNb2RlcmF0aW9uQ29tbW9uUHJvdG9QAVp5Z2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9zZGtTZXR0aW5ncy9tb2RlcmF0aW9uLmNvbW1vbjtzbF9zZGtTZXR0aW5nc19tb2RlcmF0aW9uX2NvbW1vbqICBlNMX0FQSWIGcHJvdG8z",[gn]),XW=Ut("CjBzdHJlYW1sYXllci9zZGtTZXR0aW5ncy9zZGtTZXR0aW5ncy5jb21tb24ucHJvdG8SF3N0cmVhbWxheWVyLnNka1NldHRpbmdzIioKFlR3aXR0ZXJPdmVybGF5U2V0dGluZ3MSEAoIYWNjb3VudHMYASADKAkieQoPQmV0dGluZ0Zhdm9yaXRlEgoKAmlkGAEgASgEEgwKBGljb24YAiABKAkSDAoEbmFtZRgDIAEoCRI6CgR0eXBlGAQgASgOMiwuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQmV0dGluZ0Zhdm9yaXRlVHlwZToCGAEiJQoIQ3RhSW1hZ2USCwoDdXJsGAEgASgJEgwKBG5hbWUYAiABKAkiqgEKDUJyYW5kRGVmYXVsdHMSRQoKYXBwZWFyYW5jZRgBIAEoCzIxLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkJyYW5kRGVmYXVsdHMuQXBwZWFyYW5jZRpSCgpBcHBlYXJhbmNlEhUKDXByaW1hcnlfY29sb3IYASABKAkSFwoPc2Vjb25kYXJ5X2NvbG9yGAIgASgJEhQKDGFjY2VudF9jb2xvchgDIAEoCSLdAgoWQmV0dGluZ092ZXJsYXlTZXR0aW5ncxI/CglmYXZvcml0ZXMYASADKAsyKC5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5CZXR0aW5nRmF2b3JpdGVCAhgBEhUKDXByaW1hcnlfY29sb3IYAiABKAkSFwoLYnV0dG9uX2ljb24YAyABKAlCAhgBEkUKCnRleHRfY29sb3IYBCABKA4yMS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5CZXR0aW5nU2V0dGluZ3NUZXh0Q29sb3ISGgoSYXBwX2luc3RhbGxlZF90ZXh0GAUgASgJEh4KFmFwcF9ub3RfaW5zdGFsbGVkX3RleHQYBiABKAkSGQoRdGV4dF9jb2xvcl9jdXN0b20YByABKAkSNAoJY3RhX2ltYWdlGAggASgLMiEuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQ3RhSW1hZ2UivwEKF0dldFN0cmVhbVNldHRpbmdzQ2xpZW50EjoKB2VuYWJsZWQYASABKA4yKS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZXRTdHJlYW1FbmFibGVkEgsKA2tleRgCIAEoCRIOCgZhcHBfaWQYAyABKAkSSwoUZGVmYXVsdF9jaGFubmVsX3R5cGUYBSABKA4yLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZXRTdHJlYW1DaGFubmVsVHlwZSLcAQoQR2V0U3RyZWFtQ2hhbm5lbBIXCg9vcmdhbml6YXRpb25faWQYASABKAkSEAoIZXZlbnRfaWQYAiABKAkSEgoKY2hhbm5lbF9pZBgDIAEoCRJDCgxjaGFubmVsX3R5cGUYBCABKA4yLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZXRTdHJlYW1DaGFubmVsVHlwZRJECgppc19kZWZhdWx0GAUgASgOMjAuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuR2V0U3RyZWFtQ2hhbm5lbERlZmF1bHQiugIKEUdldFN0cmVhbUNoYW5uZWxzEjoKB2VuYWJsZWQYASABKA4yKS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZXRTdHJlYW1FbmFibGVkEgsKA2tleRgCIAEoCRIOCgZhcHBfaWQYAyABKAkSSwoUZGVmYXVsdF9jaGFubmVsX3R5cGUYBCABKA4yLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZXRTdHJlYW1DaGFubmVsVHlwZRJCCg9kZWZhdWx0X2NoYW5uZWwYBSABKAsyKS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZXRTdHJlYW1DaGFubmVsEjsKCGNoYW5uZWxzGAYgAygLMikuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuR2V0U3RyZWFtQ2hhbm5lbCL/AgoOU3RyZWFtU2V0dGluZ3MSNQoIb3ZlcmxheXMYASADKAsyIy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5TZGtPdmVybGF5Eg4KBmN1c3RvbRgCIAEoCBITCgtidXR0b25faWNvbhgDIAEoCRIZCg1wcmltYXJ5X2NvbG9yGAQgASgJQgIYARIbCg9zZWNvbmRhcnlfY29sb3IYBSABKAlCAhgBEiQKGG1vZGVyYXRpb25fcHJpbWFyeV9jb2xvchgGIAEoCUICGAESFwoPbGlua19zaGFyZV9pY29uGAcgASgJEhcKD2xpbmtfc2hhcmVfdGV4dBgIIAEoCRI+Cg5icmFuZF9kZWZhdWx0cxgJIAEoCzImLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkJyYW5kRGVmYXVsdHMSQQoJZ2V0c3RyZWFtGAogASgLMiouc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuR2V0U3RyZWFtQ2hhbm5lbHNCAhgBIuMECgNKV0sSEAoDYWxnGAEgASgJSACIAQESEAoDY3J2GAIgASgJSAGIAQESDgoBZBgDIAEoCUgCiAEBEg8KAmRwGAQgASgJSAOIAQESDwoCZHEYBSABKAlIBIgBARIOCgFlGAYgASgJSAWIAQESEAoDZXh0GAcgASgISAaIAQESDgoBaxgIIAEoCUgHiAEBEg8KB2tleV9vcHMYCSADKAkSEAoDa2lkGAogASgJSAiIAQESEAoDa3R5GAsgASgJSAmIAQESDgoBbhgMIAEoCUgKiAEBEi0KA290aBgNIAMoCzIgLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkpXSy5PVEgSDgoBcBgOIAEoCUgLiAEBEg4KAXEYDyABKAlIDIgBARIPCgJxaRgQIAEoCUgNiAEBEhAKA3VzZRgRIAEoCUgOiAEBEg4KAXgYEiABKAlID4gBARIOCgF5GBMgASgJSBCIAQESCwoDeDVjGBQgAygJEhAKA3g1dBgVIAEoCUgRiAEBEhAKA3g1dRgWIAEoCUgSiAEBGkcKA09USBIOCgFkGAEgASgJSACIAQESDgoBchgCIAEoCUgBiAEBEg4KAXQYAyABKAlIAogBAUIECgJfZEIECgJfckIECgJfdEIGCgRfYWxnQgYKBF9jcnZCBAoCX2RCBQoDX2RwQgUKA19kcUIECgJfZUIGCgRfZXh0QgQKAl9rQgYKBF9raWRCBgoEX2t0eUIECgJfbkIECgJfcEIECgJfcUIFCgNfcWlCBgoEX3VzZUIECgJfeEIECgJfeUIGCgRfeDV0QgYKBF94NXUi6QQKFE9yZ2FuaXphdGlvblNldHRpbmdzEjUKCG92ZXJsYXlzGAEgAygLMiMuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuU2RrT3ZlcmxheRITCgtidXR0b25faWNvbhgCIAEoCRITCgt0aW5vZGVfaG9zdBgDIAEoCRIQCghhdWRpZW5jZRgEIAEoCRIMCgRuYW1lGAUgASgJEhAKCHByb3ZpZGVyGAYgASgJEhkKDXByaW1hcnlfY29sb3IYByABKAlCAhgBEhsKD3NlY29uZGFyeV9jb2xvchgIIAEoCUICGAESJAoYbW9kZXJhdGlvbl9wcmltYXJ5X2NvbG9yGAkgASgJQgIYARIXCg9saW5rX3NoYXJlX2ljb24YCiABKAkSFwoPbGlua19zaGFyZV90ZXh0GAsgASgJEj4KDmJyYW5kX2RlZmF1bHRzGAwgASgLMiYuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQnJhbmREZWZhdWx0cxIpCgNwdWIYDSABKAsyHC5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5KV0sSQwoJZ2V0c3RyZWFtGA4gASgLMjAuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuR2V0U3RyZWFtU2V0dGluZ3NDbGllbnQSOAoLcHVibGljX25hbWUYDyABKA4yIy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5QdWJsaWNOYW1lEkQKEWFuYWx5dGljc192ZXJzaW9uGBAgASgOMikuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQW5hbHl0aWNzVmVyc2lvbiKUAgoUR2FtZXNPdmVybGF5U2V0dGluZ3MSRgoLaW5wbGF5X2dhbWUYASABKAsyMS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5nYW1lLmNvbW1vbi5HYW1lU2V0dGluZ3MSUQoKbW9kZXJhdGlvbhgCIAEoCzI9LnN0cmVhbWxheWVyLnNka1NldHRpbmdzLm1vZGVyYXRpb24uY29tbW9uLk1vZGVyYXRpb25TZXR0aW5ncxIdChVwaW5uZWRfbGVhZGVyYm9hcmRfaWQYAyABKAkSQgoQbGVhZGVyYm9hcmRfa2luZBgEIAEoDjIoLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkxlYWRlcmJvYXJkS2luZCKbAQoYR2V0U3RyZWFtT3ZlcmxheVNldHRpbmdzEkIKD2RlZmF1bHRfY2hhbm5lbBgBIAEoCzIpLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkdldFN0cmVhbUNoYW5uZWwSOwoIY2hhbm5lbHMYAiADKAsyKS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZXRTdHJlYW1DaGFubmVsIs0DChJTZGtPdmVybGF5U2V0dGluZ3MSQgoHdHdpdHRlchgEIAEoCzIvLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlR3aXR0ZXJPdmVybGF5U2V0dGluZ3NIABJCCgdiZXR0aW5nGAUgASgLMi8uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQmV0dGluZ092ZXJsYXlTZXR0aW5nc0gAEkUKBmlucGxheRgGIAEoCzIvLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkJldHRpbmdPdmVybGF5U2V0dGluZ3NCAhgBSAASPgoFZ2FtZXMYByABKAsyLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HYW1lc092ZXJsYXlTZXR0aW5nc0gAEkoKCWdldHN0cmVhbRgIIAEoCzIxLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkdldFN0cmVhbU92ZXJsYXlTZXR0aW5nc0ICGAFIABJICgtwdWJsaWNfY2hhdBgJIAEoCzIxLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkdldFN0cmVhbU92ZXJsYXlTZXR0aW5nc0gAQhIKEG92ZXJsYXlfc2V0dGluZ3MikQIKDlNka092ZXJsYXlNZXRhEkEKDG9yZ2FuaXphdGlvbhgBIAEoCzIrLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlNka092ZXJsYXlTZXR0aW5ncxJCCg1nbG9iYWxfcHJlc2V0GAIgASgLMisuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuU2RrT3ZlcmxheVNldHRpbmdzEjsKBnByZXNldBgDIAEoCzIrLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlNka092ZXJsYXlTZXR0aW5ncxI7CgZzdHJlYW0YBCABKAsyKy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5TZGtPdmVybGF5U2V0dGluZ3MilgMKClNka092ZXJsYXkSNQoEdHlwZRgBIAEoDjInLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlNka092ZXJsYXlUeXBlEhAKCHBvc2l0aW9uGAMgASgFEhEKCW92ZXJ3cml0ZRgEIAEoCBI9CghzZXR0aW5ncxgFIAEoCzIrLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlNka092ZXJsYXlTZXR0aW5ncxI1CgRtZXRhGAYgASgLMicuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuU2RrT3ZlcmxheU1ldGESDgoGZW5hYmxlGAcgASgIEhIKCnNka19lbmFibGUYCCABKAgSDAoEbmFtZRgJIAEoCRIMCgRpY29uGAogASgJEhAKCHN2Z19pY29uGAsgASgJEhoKEGVuYWJsZV9vdmVyd3JpdGUYDCABKAlIABIbChFkaXNhYmxlX292ZXJ3cml0ZRgNIAEoCUgAEhkKEWVuYWJsZV9zZGtfYnV0dG9uGA4gASgIQhAKDm92ZXJ3cml0ZV9mbGFnIsYCChRTZGtPdmVybGF5VXBkYXRlRGF0YRI1CgR0eXBlGAEgASgOMicuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuU2RrT3ZlcmxheVR5cGUSEAoIcG9zaXRpb24YAyABKAUSFQoJb3ZlcndyaXRlGAQgASgIQgIYARI9CghzZXR0aW5ncxgFIAEoCzIrLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlNka092ZXJsYXlTZXR0aW5ncxIWCgpzZGtfZW5hYmxlGAggASgIQgIYARIMCgRuYW1lGAkgASgJEgwKBGljb24YCiABKAkSEAoIc3ZnX2ljb24YCyABKAkSGgoQZW5hYmxlX292ZXJ3cml0ZRgMIAEoCUgAEhsKEWRpc2FibGVfb3ZlcndyaXRlGA0gASgJSABCEAoOb3ZlcndyaXRlX2ZsYWciFQoTT3ZlcmxheXNMaXN0UmVxdWVzdCLPAQoUT3ZlcmxheXNMaXN0UmVzcG9uc2USVAoEZGF0YRgBIAEoCzJGLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLk92ZXJsYXlzTGlzdFJlc3BvbnNlLk92ZXJsYXlzTGlzdFJlc3BvbnNlRGF0YRphChhPdmVybGF5c0xpc3RSZXNwb25zZURhdGESDAoEdHlwZRgBIAEoCRI3CgphdHRyaWJ1dGVzGAIgAygLMiMuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuU2RrT3ZlcmxheSIwChVHZW5lcmF0ZVNka0tleVJlcXVlc3QSFwoPb3JnYW5pemF0aW9uX2lkGAEgASgJIr4BChZHZW5lcmF0ZVNka0tleVJlc3BvbnNlElgKBGRhdGEYASABKAsySi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZW5lcmF0ZVNka0tleVJlc3BvbnNlLkdlbmVyYXRlU2RrS2V5UmVzcG9uc2VEYXRhGkoKGkdlbmVyYXRlU2RrS2V5UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSEgoKYXR0cmlidXRlcxgDIAEoCSI7ChNSZW1vdmVTZGtLZXlSZXF1ZXN0EhcKD29yZ2FuaXphdGlvbl9pZBgBIAEoCRILCgNrZXkYAiABKAkitgEKFFJlbW92ZVNka0tleVJlc3BvbnNlElQKBGRhdGEYASABKAsyRi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5SZW1vdmVTZGtLZXlSZXNwb25zZS5SZW1vdmVTZGtLZXlSZXNwb25zZURhdGEaSAoYUmVtb3ZlU2RrS2V5UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSEgoKYXR0cmlidXRlcxgDIAMoCSIsChFMaXN0U2RrS2V5UmVxdWVzdBIXCg9vcmdhbml6YXRpb25faWQYASABKAkirgEKEkxpc3RTZGtLZXlSZXNwb25zZRJQCgRkYXRhGAEgASgLMkIuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuTGlzdFNka0tleVJlc3BvbnNlLkxpc3RTZGtLZXlSZXNwb25zZURhdGEaRgoWTGlzdFNka0tleVJlc3BvbnNlRGF0YRIKCgJpZBgBIAEoCRIMCgR0eXBlGAIgASgJEhIKCmF0dHJpYnV0ZXMYAyADKAkiVQoWUmVnaXN0ZXJUd2l0dGVyUmVxdWVzdBIXCg9vcmdhbml6YXRpb25faWQYASABKAkSEQoJc3RyZWFtX2lkGAIgASgJEg8KB2FjY291bnQYAyABKAkiGQoXUmVnaXN0ZXJUd2l0dGVyUmVzcG9uc2UiggEKBlByZXNldBIKCgJpZBgBIAEoCRIxCgRydWxlGAIgASgLMiMuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuUHJlc2V0UnVsZRI5CghzZXR0aW5ncxgDIAEoCzInLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlByZXNldFNldHRpbmdzIoIBCg5QcmVzZXRTZXR0aW5ncxI1CghvdmVybGF5cxgBIAMoCzIjLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlNka092ZXJsYXkSOQoLYWR2ZXJ0aXNpbmcYAiABKAsyJC5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5BZHZlcnRpc2luZyJQCgpQcmVzZXRSdWxlEjMKA2tleRgBIAEoDjImLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlByZXNldFJ1bGVLZXkSDQoFdmFsdWUYAiABKAkimAEKFkFkdmVydGlzaW5nQ29uc3RyYWludHMSPgoGaW1hZ2VzGAEgASgLMi4uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQWR2ZXJ0aXNpbmdDb25zdHJhaW50Ej4KBnZpZGVvcxgCIAEoCzIuLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkFkdmVydGlzaW5nQ29uc3RyYWludCJbChVBZHZlcnRpc2luZ0NvbnN0cmFpbnQSDQoFd2lkdGgYASABKAUSDgoGaGVpZ2h0GAIgASgFEhUKDW1heF9maWxlX3NpemUYAyABKAESDAoEbWltZRgEIAEoCSLoAQoTQWR2ZXJ0aXNpbmdUZW1wbGF0ZRIKCgJpZBgBIAEoCRIMCgRuYW1lGAIgASgJElIKC2NvbnN0cmFpbnRzGAMgAygLMj0uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQWR2ZXJ0aXNpbmdUZW1wbGF0ZS5Db25zdHJhaW50c0VudHJ5GmMKEENvbnN0cmFpbnRzRW50cnkSCwoDa2V5GAEgASgJEj4KBXZhbHVlGAIgASgLMi8uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQWR2ZXJ0aXNpbmdDb25zdHJhaW50czoCOAEiVwoUQWR2ZXJ0aXNpbmdUZW1wbGF0ZXMSPwoJdGVtcGxhdGVzGAEgAygLMiwuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQWR2ZXJ0aXNpbmdUZW1wbGF0ZSKJAQoQQWR2ZXJ0aXNpbmdJbWFnZRIMCgRuYW1lGAEgASgJEhMKC3ByZXZpZXdfdXJsGAIgASgJEhAKCGZpbGVfdXJsGAMgASgJEkAKCXBsYWNlbWVudBgEIAEoDjItLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkFkdmVydGlzaW5nUGxhY2VtZW50ImEKEEFkdmVydGlzaW5nVmlkZW8SDAoEbmFtZRgBIAEoCRITCgtwcmV2aWV3X3VybBgCIAEoCRIQCghmaWxlX3VybBgDIAEoCRIYChBiYWNrZ3JvdW5kX2NvbG9yGAQgASgJIp4BChNBZHZlcnRpc2luZ1NldHRpbmdzEhEKCWZyZXF1ZW5jeRgBIAEoBRI5CgZpbWFnZXMYAiADKAsyKS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5BZHZlcnRpc2luZ0ltYWdlEjkKBnZpZGVvcxgDIAMoCzIpLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkFkdmVydGlzaW5nVmlkZW8i3gIKGkFkdmVydGlzaW5nT3ZlcmxheVNldHRpbmdzEj0KDG92ZXJsYXlfdHlwZRgBIAEoDjInLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlNka092ZXJsYXlUeXBlElMKCHNldHRpbmdzGAIgAygLMkEuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQWR2ZXJ0aXNpbmdPdmVybGF5U2V0dGluZ3MuU2V0dGluZ3NFbnRyeRIPCgdlbmFibGVkGAMgASgIEhQKDG92ZXJsYXlfbmFtZRgEIAEoCRIXCgp1c2VfY3VzdG9tGAUgASgISACIAQEaXQoNU2V0dGluZ3NFbnRyeRILCgNrZXkYASABKAkSOwoFdmFsdWUYAiABKAsyLC5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5BZHZlcnRpc2luZ1NldHRpbmdzOgI4AUINCgtfdXNlX2N1c3RvbSLkAQoLQWR2ZXJ0aXNpbmcSEwoLdGVtcGxhdGVfaWQYASABKAkSUwoQb3ZlcmxheV9zZXR0aW5ncxgCIAMoCzI5LnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkFkdmVydGlzaW5nLk92ZXJsYXlTZXR0aW5nc0VudHJ5GmsKFE92ZXJsYXlTZXR0aW5nc0VudHJ5EgsKA2tleRgBIAEoCRJCCgV2YWx1ZRgCIAEoCzIzLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkFkdmVydGlzaW5nT3ZlcmxheVNldHRpbmdzOgI4ASIwChVHZW5lcmF0ZUFwaUtleVJlcXVlc3QSFwoPb3JnYW5pemF0aW9uX2lkGAEgASgJIr4BChZHZW5lcmF0ZUFwaUtleVJlc3BvbnNlElgKBGRhdGEYASABKAsySi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZW5lcmF0ZUFwaUtleVJlc3BvbnNlLkdlbmVyYXRlQXBpS2V5UmVzcG9uc2VEYXRhGkoKGkdlbmVyYXRlQXBpS2V5UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSEgoKYXR0cmlidXRlcxgDIAEoCSI9ChNSZW1vdmVBcGlLZXlSZXF1ZXN0EhcKD29yZ2FuaXphdGlvbl9pZBgBIAEoCRINCgV0b2tlbhgCIAEoCSK2AQoUUmVtb3ZlQXBpS2V5UmVzcG9uc2USVAoEZGF0YRgBIAEoCzJGLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlJlbW92ZUFwaUtleVJlc3BvbnNlLlJlbW92ZUFwaUtleVJlc3BvbnNlRGF0YRpIChhSZW1vdmVBcGlLZXlSZXNwb25zZURhdGESCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRISCgphdHRyaWJ1dGVzGAMgAygJIisKEEdldEFwaUtleVJlcXVlc3QSFwoPb3JnYW5pemF0aW9uX2lkGAEgASgJIqoBChFHZXRBcGlLZXlSZXNwb25zZRJOCgRkYXRhGAEgASgLMkAuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuR2V0QXBpS2V5UmVzcG9uc2UuR2V0QXBpS2V5UmVzcG9uc2VEYXRhGkUKFUdldEFwaUtleVJlc3BvbnNlRGF0YRIKCgJpZBgBIAEoCRIMCgR0eXBlGAIgASgJEhIKCmF0dHJpYnV0ZXMYAyABKAkiMQoWR2V0QXBpS2V5U3R1ZGlvUmVxdWVzdBIXCg9vcmdhbml6YXRpb25faWQYASABKAkiwgEKF0dldEFwaUtleVN0dWRpb1Jlc3BvbnNlEloKBGRhdGEYASABKAsyTC5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZXRBcGlLZXlTdHVkaW9SZXNwb25zZS5HZXRBcGlLZXlTdHVkaW9SZXNwb25zZURhdGEaSwobR2V0QXBpS2V5U3R1ZGlvUmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSEgoKYXR0cmlidXRlcxgDIAEoCSqOBAoOU2RrT3ZlcmxheVR5cGUSGgoWU0RLX09WRVJMQVlfVFlQRV9VTlNFVBAAEhsKF1NES19PVkVSTEFZX1RZUEVfSU5QTEFZEAESHgoaU0RLX09WRVJMQVlfVFlQRV9NRVNTQUdJTkcQAhIfChtTREtfT1ZFUkxBWV9UWVBFX1NUQVRJU1RJQ1MQAxIcChhTREtfT1ZFUkxBWV9UWVBFX0JFVFRJTkcQBBIcChhTREtfT1ZFUkxBWV9UWVBFX1RXSVRURVIQBRIgChxTREtfT1ZFUkxBWV9UWVBFX01FUkNIQU5ESVNFEAYSHQoZU0RLX09WRVJMQVlfVFlQRV9DT05URVNUUxAHEh8KG1NES19PVkVSTEFZX1RZUEVfVk9JQ0VfQ0hBVBAIEhwKGFNES19PVkVSTEFZX1RZUEVfVElDS0VUUxAJEiMKH1NES19PVkVSTEFZX1RZUEVfV0hPSVNfV0FUQ0hJTkcQChIcChhTREtfT1ZFUkxBWV9UWVBFX1BST0ZJTEUQCxIaChZTREtfT1ZFUkxBWV9UWVBFX0dBTUVTEAwSJAogU0RLX09WRVJMQVlfVFlQRV9HT0xGX1NUQVRJU1RJQ1MQDRIfChtTREtfT1ZFUkxBWV9UWVBFX0hJR0hMSUdIVFMQDhIgChxTREtfT1ZFUkxBWV9UWVBFX1BVQkxJQ19DSEFUEA8qfAoTQmV0dGluZ0Zhdm9yaXRlVHlwZRIfChtCRVRUSU5HX0ZBVk9SSVRFX1RZUEVfVU5TRVQQABIgChxCRVRUSU5HX0ZBVk9SSVRFX1RZUEVfTEVBR1VFEAESHgoaQkVUVElOR19GQVZPUklURV9UWVBFX1RFQU0QAhoCGAEquAEKGEJldHRpbmdTZXR0aW5nc1RleHRDb2xvchIlCiFCRVRUSU5HX1NFVFRJTkdTX1RFWFRfQ09MT1JfVU5TRVQQABInCiNCRVRUSU5HX1NFVFRJTkdTX1RFWFRfQ09MT1JfUFJJTUFSWRABEiQKIEJFVFRJTkdfU0VUVElOR1NfVEVYVF9DT0xPUl9HUkVZEAISJgoiQkVUVElOR19TRVRUSU5HU19URVhUX0NPTE9SX0NVU1RPTRADKpECChRHZXRTdHJlYW1DaGFubmVsVHlwZRIgChxHRVRTVFJFQU1fQ0hBTk5FTF9UWVBFX1VOU0VUEAASJQohR0VUU1RSRUFNX0NIQU5ORUxfVFlQRV9MSVZFU1RSRUFNEAESJAogR0VUU1RSRUFNX0NIQU5ORUxfVFlQRV9NRVNTQUdJTkcQAhIfChtHRVRTVFJFQU1fQ0hBTk5FTF9UWVBFX1RFQU0QAxIjCh9HRVRTVFJFQU1fQ0hBTk5FTF9UWVBFX0NPTU1FUkNFEAQSIQodR0VUU1RSRUFNX0NIQU5ORUxfVFlQRV9HQU1JTkcQBRIhCh1HRVRTVFJFQU1fQ0hBTk5FTF9UWVBFX0NVU1RPTRAGKocBChdHZXRTdHJlYW1DaGFubmVsRGVmYXVsdBIjCh9HRVRTVFJFQU1fQ0hBTk5FTF9ERUZBVUxUX1VOU0VUEAASIgoeR0VUU1RSRUFNX0NIQU5ORUxfREVGQVVMVF9UUlVFEAESIwofR0VUU1RSRUFNX0NIQU5ORUxfREVGQVVMVF9GQUxTRRACKmgKEEdldFN0cmVhbUVuYWJsZWQSGwoXR0VUU1RSRUFNX0VOQUJMRURfVU5TRVQQABIaChZHRVRTVFJFQU1fRU5BQkxFRF9UUlVFEAESGwoXR0VUU1RSRUFNX0VOQUJMRURfRkFMU0UQAipWCgpQdWJsaWNOYW1lEhUKEVBVQkxJQ19OQU1FX1VOU0VUEAASFwoTUFVCTElDX05BTUVfRU5BQkxFRBABEhgKFFBVQkxJQ19OQU1FX0RJU0FCTEVEEAIqYwoQQW5hbHl0aWNzVmVyc2lvbhIbChdBTkFMWVRJQ1NfVkVSU0lPTl9VTlNFVBAAEhgKFEFOQUxZVElDU19WRVJTSU9OX1YxEAESGAoUQU5BTFlUSUNTX1ZFUlNJT05fVjIQAipoCg9MZWFkZXJib2FyZEtpbmQSGgoWTEVBREVSQk9BUkRfS0lORF9VTlNFVBAAEhsKF0xFQURFUkJPQVJEX0tJTkRfR0xPQkFMEAESHAoYTEVBREVSQk9BUkRfS0lORF9GUklFTkRTEAIqfAoNUHJlc2V0UnVsZUtleRIZChVQUkVTRVRfUlVMRV9LRVlfVU5TRVQQABIZChVQUkVTRVRfUlVMRV9LRVlfU1BPUlQQARIaChZQUkVTRVRfUlVMRV9LRVlfTEVBR1VFEAISGQoVUFJFU0VUX1JVTEVfS0VZX1RFQU1TEAMq5AEKFEFkdmVydGlzaW5nUGxhY2VtZW50Eh8KG0FEVkVSVElTSU5HX1BMQUNFTUVOVF9VTlNFVBAAEiEKHUFEVkVSVElTSU5HX1BMQUNFTUVOVF9ERUZBVUxUEAESLQopQURWRVJUSVNJTkdfUExBQ0VNRU5UX1dBVENIUEFSVFlfRlVMTFNJWkUQAhIvCitBRFZFUlRJU0lOR19QTEFDRU1FTlRfV0FUQ0hQQVJUWV9WSURFT1BBTkVMEAMSKAokQURWRVJUSVNJTkdfUExBQ0VNRU5UX09WRVJMQVlfTkFWQkFSEAQqjgEKD0FkdmVydGlzaW5nVHlwZRIaChZBRFZFUlRJU0lOR19UWVBFX1VOU0VUEAASHQoZQURWRVJUSVNJTkdfVFlQRV9TUE9OU09SUxABEiIKHkFEVkVSVElTSU5HX1RZUEVfSU5URVJTVElUSUFMUxACEhwKGEFEVkVSVElTSU5HX1RZUEVfQkFOTkVSUxADMoALCgZDb21tb24SggEKDE92ZXJsYXlzTGlzdBIsLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLk92ZXJsYXlzTGlzdFJlcXVlc3QaLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5PdmVybGF5c0xpc3RSZXNwb25zZSIViqYdDW92ZXJsYXlzLmxpc3Sgph0CEo8BCg5HZW5lcmF0ZVNka0tleRIuLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkdlbmVyYXRlU2RrS2V5UmVxdWVzdBovLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkdlbmVyYXRlU2RrS2V5UmVzcG9uc2UiHIqmHRBzZGsta2V5LmdlbmVyYXRloKYdAqimHQEShwEKDFJlbW92ZVNka0tleRIsLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlJlbW92ZVNka0tleVJlcXVlc3QaLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5SZW1vdmVTZGtLZXlSZXNwb25zZSIaiqYdDnNkay1rZXkucmVtb3ZloKYdAqimHQESfwoKTGlzdFNka0tleRIqLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkxpc3RTZGtLZXlSZXF1ZXN0Gisuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuTGlzdFNka0tleVJlc3BvbnNlIhiKph0Mc2RrLWtleS5saXN0oKYdAqimHQEShAEKDkxpc3RTZGtLZXlSb290Eiouc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuTGlzdFNka0tleVJlcXVlc3QaKy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5MaXN0U2RrS2V5UmVzcG9uc2UiGYqmHQxzZGsta2V5Lmxpc3Sgph0CqKYdkE4SjgEKDkdlbmVyYXRlQXBpS2V5Ei4uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuR2VuZXJhdGVBcGlLZXlSZXF1ZXN0Gi8uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuR2VuZXJhdGVBcGlLZXlSZXNwb25zZSIbiqYdDnRva2VuLmdlbmVyYXRloKYdAqimHZBOEoYBCgxSZW1vdmVBcGlLZXkSLC5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5SZW1vdmVBcGlLZXlSZXF1ZXN0Gi0uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuUmVtb3ZlQXBpS2V5UmVzcG9uc2UiGYqmHQx0b2tlbi5yZW1vdmWgph0CqKYdkE4SfgoNR2V0QXBpS2V5Um9vdBIpLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkdldEFwaUtleVJlcXVlc3QaKi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZXRBcGlLZXlSZXNwb25zZSIWiqYdCXRva2VuLmdldKCmHQKoph2QThKLAQoPR2V0QXBpS2V5U3R1ZGlvEi8uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuR2V0QXBpS2V5U3R1ZGlvUmVxdWVzdBowLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkdldEFwaUtleVN0dWRpb1Jlc3BvbnNlIhWKph0JdG9rZW4uZ2V0oKYdAqimHQESkgEKD1JlZ2lzdGVyVHdpdHRlchIvLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlJlZ2lzdGVyVHdpdHRlclJlcXVlc3QaMC5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5SZWdpc3RlclR3aXR0ZXJSZXNwb25zZSIciqYdEHJlZ2lzdGVyLnR3aXR0ZXKgph0CqKYdARoQirUYDHNkay1zZXR0aW5nc0K3AQoiY29tLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNvbW1vbkIhU3RyZWFtTGF5ZXJTZGtTZXR0aW5nc0NvbW1vblByb3RvUAFaY2dpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvc2RrU2V0dGluZ3MvY29tbW9uO3NsX3Nka1NldHRpbmdzX2NvbW1vbqICBlNMX0FQSWIGcHJvdG8z",[oo,Kq,zq]),Jq=vt(XW,0),st=Et(Jq),D9=Ut("CjZzdHJlYW1sYXllci9hbmFseXRpY3MvdjEvaW52aXRhdGlvbnMvaW52aXRhdGlvbnMucHJvdG8SJHN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnZpdGF0aW9ucyLhAgoXVG90YWxJbnZpdGF0aW9uc1JlcXVlc3QSYAoGZmlsdGVyGAEgASgLMlAuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmludml0YXRpb25zLlRvdGFsSW52aXRhdGlvbnNSZXF1ZXN0LlRvdGFsUmVxdWVzdEZpbHRlchrjAQoSVG90YWxSZXF1ZXN0RmlsdGVyEjcKBnBlcmlvZBgBIAEoCzInLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uUGVyaW9kEhEKCWV2ZW50X2lkcxgCIAMoBBJMCgpjYXRlZ29yaWVzGAMgAygOMjguc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmludml0YXRpb25zLkludml0YXRpb25DYXRlZ29yeRIzCgRraW5kGAQgASgOMiUuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5LaW5kIrABChhUb3RhbEludml0YXRpb25zUmVzcG9uc2USXgoEZGF0YRgBIAMoCzJQLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnZpdGF0aW9ucy5Ub3RhbEludml0YXRpb25zUmVzcG9uc2UuVG90YWxSZXNwb25zZURhdGEaNAoRVG90YWxSZXNwb25zZURhdGESEAoIZXZlbnRfaWQYASABKAQSDQoFY291bnQYAiABKAQiqQIKJVRvdGFsSW52aXRhdGlvbnNTZW50QnlUaW1lbGluZVJlcXVlc3QScQoGZmlsdGVyGAEgASgLMmEuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmludml0YXRpb25zLlRvdGFsSW52aXRhdGlvbnNTZW50QnlUaW1lbGluZVJlcXVlc3QuVG90YWxCeVRpbWVMaW5lRmlsdGVyGowBChVUb3RhbEJ5VGltZUxpbmVGaWx0ZXISNwoGcGVyaW9kGAEgASgLMicuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5QZXJpb2QSEAoIZXZlbnRfaWQYAiABKAQSEQoJZXZlbnRfaWRzGAMgAygEEhUKDXN1bW1hcnlfY291bnQYBCABKAgikgIKJlRvdGFsSW52aXRhdGlvbnNTZW50QnlUaW1lbGluZVJlc3BvbnNlEhAKCGV2ZW50X2lkGAEgASgEEm4KBGRhdGEYAiADKAsyYC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW52aXRhdGlvbnMuVG90YWxJbnZpdGF0aW9uc1NlbnRCeVRpbWVsaW5lUmVzcG9uc2UuVG90YWxCeVRpbWVMaW5lRGF0YRIRCglldmVudF9pZHMYAyADKAQaUwoTVG90YWxCeVRpbWVMaW5lRGF0YRItCgl0aW1lX2xpbmUYASABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEg0KBWNvdW50GAIgASgEIrECCilUb3RhbEludml0YXRpb25zQWNjZXB0ZWRCeVRpbWVsaW5lUmVxdWVzdBJ1CgZmaWx0ZXIYASABKAsyZS5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW52aXRhdGlvbnMuVG90YWxJbnZpdGF0aW9uc0FjY2VwdGVkQnlUaW1lbGluZVJlcXVlc3QuVG90YWxCeVRpbWVMaW5lRmlsdGVyGowBChVUb3RhbEJ5VGltZUxpbmVGaWx0ZXISNwoGcGVyaW9kGAEgASgLMicuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5QZXJpb2QSEAoIZXZlbnRfaWQYAiABKAQSEQoJZXZlbnRfaWRzGAMgAygEEhUKDXN1bW1hcnlfY291bnQYBCABKAgimgIKKlRvdGFsSW52aXRhdGlvbnNBY2NlcHRlZEJ5VGltZWxpbmVSZXNwb25zZRIQCghldmVudF9pZBgBIAEoBBIRCglldmVudF9pZHMYAyADKAQScgoEZGF0YRgCIAMoCzJkLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnZpdGF0aW9ucy5Ub3RhbEludml0YXRpb25zQWNjZXB0ZWRCeVRpbWVsaW5lUmVzcG9uc2UuVG90YWxCeVRpbWVMaW5lRGF0YRpTChNUb3RhbEJ5VGltZUxpbmVEYXRhEi0KCXRpbWVfbGluZRgBIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASDQoFY291bnQYAiABKAQi7gUKFlNlbmRJbnZpdGF0aW9uc1JlcXVlc3QSXAoEZGF0YRgBIAMoCzJOLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnZpdGF0aW9ucy5TZW5kSW52aXRhdGlvbnNSZXF1ZXN0LkNyZWF0ZVJlcXVlc3REYXRhGvUEChFDcmVhdGVSZXF1ZXN0RGF0YRIQCghldmVudF9pZBgBIAEoBBIPCgd1c2VyX2lkGAIgASgEEkoKCGNhdGVnb3J5GAMgASgOMjguc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmludml0YXRpb25zLkludml0YXRpb25DYXRlZ29yeRIzCgRraW5kGAQgASgOMiUuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5LaW5kEjMKD3RyYWNrX3RpbWVzdGFtcBgFIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASEQoJcm91dGVfbWFwGAYgASgJEhEKCWRldmljZV9pZBgHIAEoCRIKCgJvcxgIIAEoCRISCgp1c2VyX2FnZW50GAkgASgJEhYKDnNsX3Nka192ZXJzaW9uGAogASgJEhIKCnNlc3Npb25faWQYCyABKAkSGgoSb3ZlcmxheV9zZXNzaW9uX2lkGAwgASgJEhAKCHRvcGljX2lkGA0gASgJEhMKC3VzZXJfaWRfc3RyGA4gASgJEk4KEnNjcmVlbl9vcmllbnRhdGlvbhgPIAEoDjIyLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uU2NyZWVuT3JpZW50YXRpb24SPgoKdG9waWNfdHlwZRgQIAEoDjIqLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uVG9waWNUeXBlEkIKBGZyb20YESABKA4yNC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW52aXRhdGlvbnMuSW52aXRhdGlvbkZyb20izgEKF1NlbmRJbnZpdGF0aW9uc1Jlc3BvbnNlEl4KBGRhdGEYASABKAsyUC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW52aXRhdGlvbnMuU2VuZEludml0YXRpb25zUmVzcG9uc2UuQ3JlYXRlUmVzcG9uc2VEYXRhGlMKEkNyZWF0ZVJlc3BvbnNlRGF0YRI9CgZyZXN1bHQYASABKA4yLS5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLlJlc3VsdFN0YXR1cyq4AQoSSW52aXRhdGlvbkNhdGVnb3J5Eh0KGUlOVklUQVRJT05fQ0FURUdPUllfVU5TRVQQABIgChxJTlZJVEFUSU9OX0NBVEVHT1JZX1dBVENISU5HEAESIQodSU5WSVRBVElPTl9DQVRFR09SWV9NRVNTQUdJTkcQAhIfChtJTlZJVEFUSU9OX0NBVEVHT1JZX1ZPSUNJTkcQAxIdChlJTlZJVEFUSU9OX0NBVEVHT1JZX0dBTUVTEAQqZQoOSW52aXRhdGlvbkZyb20SGQoVSU5WSVRBVElPTl9GUk9NX1VOU0VUEAASHgoaSU5WSVRBVElPTl9GUk9NX1RJVExFX0NBUkQQARIYChRJTlZJVEFUSU9OX0ZST01fTUVOVRACQrYBCihjb20uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLmludml0YXRpb25zLnYxQhtTdHJlYW1MYXllckludml0YXRpb25zUHJvdG9QAVpiZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9hbmFseXRpY3MvdjEvaW52aXRhdGlvbnM7c2xfaW52aXRhdGlvbnOiAgZTTF9BUEliBnByb3RvMw",[Tr,bc]),Hq=vt(D9,0),xI=Et(Hq),Qq=vt(D9,1),sg=Et(Qq);var Qe;(function(t){t[t.Canceled=1]="Canceled",t[t.Unknown=2]="Unknown",t[t.InvalidArgument=3]="InvalidArgument",t[t.DeadlineExceeded=4]="DeadlineExceeded",t[t.NotFound=5]="NotFound",t[t.AlreadyExists=6]="AlreadyExists",t[t.PermissionDenied=7]="PermissionDenied",t[t.ResourceExhausted=8]="ResourceExhausted",t[t.FailedPrecondition=9]="FailedPrecondition",t[t.Aborted=10]="Aborted",t[t.OutOfRange=11]="OutOfRange",t[t.Unimplemented=12]="Unimplemented",t[t.Internal=13]="Internal",t[t.Unavailable=14]="Unavailable",t[t.DataLoss=15]="DataLoss",t[t.Unauthenticated=16]="Unauthenticated"})(Qe||(Qe={}));function qq(t,e){MW(e,t);const n=tee(t.$unknown,e),[i,r,s]=k2(e);for(const a of n)FW(i,new N9(a.data),r,a.wireType,{readUnknownFields:!0});return s()}function eee(t,e,n){var i;MW(e,t);const r=((i=t.$unknown)!==null&&i!==void 0?i:[]).filter(c=>c.no!==e.number),[s,a]=k2(e,n),o=new mW;xW(o,{writeUnknownFields:!0},s,a);const l=new N9(o.finish());for(;l.pos<l.len;){const[c,u]=l.tag(),d=l.skip(u,c);r.push({no:c,wireType:u,data:d})}t.$unknown=r}function tee(t,e){if(t===void 0)return[];if(e.fieldKind==="enum"||e.fieldKind==="scalar"){for(let n=t.length-1;n>=0;--n)if(t[n].no==e.number)return[t[n]];return[]}return t.filter(n=>n.no===e.number)}function k2(t,e){const n=t.typeName,i=Object.assign(Object.assign({},t),{kind:"field",parent:t.extendee,localName:n}),r=Object.assign(Object.assign({},t.extendee),{fields:[i],members:[i],oneofs:[]}),s=gs(r,e!==void 0?{[n]:e}:void 0);return[Yr(r,s),i,()=>{const a=s[n];if(a===void 0){const o=t.message;return Ip(o)?cc(o.fields[0].scalar,o.fields[0].longAsString):gs(o)}return a}]}function MW(t,e){if(t.extendee.typeName!=e.$typeName)throw new Error(`extension ${t.typeName} can only be applied to message ${t.extendee.typeName}`)}const nee=3,iee=2,VI={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function ree(t){return t?Object.assign(Object.assign({},VI),t):VI}function see(t,e,n){return xp(Yr(t,e),ree(n))}function aee(t,e,n){var i;const r=see(t,e,n);return JSON.stringify(r,null,(i=n==null?void 0:n.prettySpaces)!==null&&i!==void 0?i:0)}function xp(t,e){var n;const i=uee(t,e);if(i!==void 0)return i;const r={};for(const s of t.sortedFields){if(!t.isSet(s)){if(s.presence==nee)throw new Error(`cannot encode field ${t.desc.typeName}.${s.name} to JSON: required field not set`);if(!e.alwaysEmitImplicit||s.presence!==iee)continue}const a=NI(s,t.get(s),e);a!==void 0&&(r[cee(s,e)]=a)}if(e.registry){const s=new Set;for(const a of(n=t.getUnknown())!==null&&n!==void 0?n:[]){if(s.has(a.no))continue;const o=e.registry.getExtensionFor(t.desc,a.no);if(!o)continue;const l=qq(t.message,o),[c,u]=k2(o,l),d=NI(u,c.get(u),e);d!==void 0&&(r[o.jsonName]=d)}}return r}function NI(t,e,n){switch(t.fieldKind){case"scalar":return F2(t,e);case"message":return xp(e,n);case"enum":return O9(t.enum,e,n.enumAsInteger);case"list":return lee(e,n);case"map":return oee(e,n)}}function oee(t,e){const n=t.field(),i={};switch(n.mapKind){case"scalar":for(const[r,s]of t)i[r]=F2(n,s);break;case"message":for(const[r,s]of t)i[r]=xp(s,e);break;case"enum":for(const[r,s]of t)i[r]=O9(n.enum,s,e.enumAsInteger);break}return e.alwaysEmitImplicit||t.size>0?i:void 0}function lee(t,e){const n=t.field(),i=[];switch(n.listKind){case"scalar":for(const r of t)i.push(F2(n,r));break;case"enum":for(const r of t)i.push(O9(n.enum,r,e.enumAsInteger));break;case"message":for(const r of t)i.push(xp(r,e));break}return e.alwaysEmitImplicit||i.length>0?i:void 0}function O9(t,e,n){var i;if(typeof e!="number")throw new Error(`cannot encode ${t} to JSON: expected number, got ${ei(e)}`);if(t.typeName=="google.protobuf.NullValue")return null;if(n)return e;const r=t.value[e];return(i=r==null?void 0:r.name)!==null&&i!==void 0?i:e}function F2(t,e){var n,i,r,s,a,o;switch(t.scalar){case oe.INT32:case oe.SFIXED32:case oe.SINT32:case oe.FIXED32:case oe.UINT32:if(typeof e!="number")throw new Error(`cannot encode ${t} to JSON: ${(n=Tl(t,e))===null||n===void 0?void 0:n.message}`);return e;case oe.FLOAT:case oe.DOUBLE:if(typeof e!="number")throw new Error(`cannot encode ${t} to JSON: ${(i=Tl(t,e))===null||i===void 0?void 0:i.message}`);return isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case oe.STRING:if(typeof e!="string")throw new Error(`cannot encode ${t} to JSON: ${(r=Tl(t,e))===null||r===void 0?void 0:r.message}`);return e;case oe.BOOL:if(typeof e!="boolean")throw new Error(`cannot encode ${t} to JSON: ${(s=Tl(t,e))===null||s===void 0?void 0:s.message}`);return e;case oe.UINT64:case oe.FIXED64:case oe.INT64:case oe.SFIXED64:case oe.SINT64:if(typeof e!="bigint"&&typeof e!="string")throw new Error(`cannot encode ${t} to JSON: ${(a=Tl(t,e))===null||a===void 0?void 0:a.message}`);return e.toString();case oe.BYTES:if(e instanceof Uint8Array)return UQ(e);throw new Error(`cannot encode ${t} to JSON: ${(o=Tl(t,e))===null||o===void 0?void 0:o.message}`)}}function cee(t,e){return e.useProtoFieldName?t.name:t.jsonName}function uee(t,e){if(t.desc.typeName.startsWith("google.protobuf."))switch(t.desc.typeName){case"google.protobuf.Any":return dee(t.message,e);case"google.protobuf.Timestamp":return pee(t.message);case"google.protobuf.Duration":return hee(t.message);case"google.protobuf.FieldMask":return fee(t.message);case"google.protobuf.Struct":return PW(t.message);case"google.protobuf.Value":return X9(t.message);case"google.protobuf.ListValue":return YW(t.message);default:if(Ip(t.desc)){const n=t.desc.fields[0];return F2(n,t.get(n))}return}}function dee(t,e){if(t.typeUrl==="")return{};const{registry:n}=e;let i,r;if(n&&(i=hq(t,n),i&&(r=n.getMessage(i.$typeName))),!r||!i)throw new Error(`cannot encode message ${t.$typeName} to JSON: "${t.typeUrl}" is not in the type registry`);let s=xp(Yr(r,i),e);return(r.typeName.startsWith("google.protobuf.")||s===null||Array.isArray(s)||typeof s!="object")&&(s={value:s}),s["@type"]=t.typeUrl,s}function hee(t){if(Number(t.seconds)>315576e6||Number(t.seconds)<-315576e6)throw new Error(`cannot encode message ${t.$typeName} to JSON: value out of range`);let e=t.seconds.toString();if(t.nanos!==0){let n=Math.abs(t.nanos).toString();n="0".repeat(9-n.length)+n,n.substring(3)==="000000"?n=n.substring(0,3):n.substring(6)==="000"&&(n=n.substring(0,6)),e+="."+n,t.nanos<0&&Number(t.seconds)==0&&(e="-"+e)}return e+"s"}function fee(t){return t.paths.map(e=>{if(e.match(/_[0-9]?_/g)||e.match(/[A-Z]/g))throw new Error(`cannot encode message ${t.$typeName} to JSON: lowerCamelCase of path name "`+e+'" is irreversible');return zf(e)}).join(",")}function PW(t){const e={};for(const[n,i]of Object.entries(t.fields))e[n]=X9(i);return e}function X9(t){switch(t.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(t.kind.value))throw new Error(`${t.$typeName} cannot be NaN or Infinity`);return t.kind.value;case"boolValue":return t.kind.value;case"stringValue":return t.kind.value;case"structValue":return PW(t.kind.value);case"listValue":return YW(t.kind.value);default:throw new Error(`${t.$typeName} must have a value`)}}function YW(t){return t.values.map(X9)}function pee(t){const e=Number(t.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${t.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(t.nanos<0)throw new Error(`cannot encode message ${t.$typeName} to JSON: nanos must not be negative`);let n="Z";if(t.nanos>0){const i=(t.nanos+1e9).toString().substring(1);i.substring(3)==="000000"?n="."+i.substring(0,3)+"Z":i.substring(6)==="000"?n="."+i.substring(0,6)+"Z":n="."+i+"Z"}return new Date(e).toISOString().replace(".000Z",n)}const _I={ignoreUnknownFields:!1};function mee(t){return t?Object.assign(Object.assign({},_I),t):_I}function gee(t,e,n){return yee(t,Ree(e,t.typeName),n)}function yee(t,e,n){const i=Yr(t);try{cd(i,e,mee(n))}catch(r){throw GQ(r)?new Error(`cannot decode ${r.field()} from JSON: ${r.message}`,{cause:r}):r}return i.message}function cd(t,e,n){var i;if(Cee(t,e,n))return;if(e==null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode ${t.desc} from JSON: ${ei(e)}`);const r=new Map,s=new Map;for(const a of t.desc.fields)s.set(a.name,a).set(a.jsonName,a);for(const[a,o]of Object.entries(e)){const l=s.get(a);if(l){if(l.oneof){if(o===null&&l.fieldKind=="scalar")continue;const c=r.get(l.oneof);if(c!==void 0)throw new tr(l.oneof,`oneof set multiple times by ${c.name} and ${l.name}`);r.set(l.oneof,l)}kI(t,l,o,n)}else{let c;if(a.startsWith("[")&&a.endsWith("]")&&(c=(i=n.registry)===null||i===void 0?void 0:i.getExtension(a.substring(1,a.length-1)))&&c.extendee.typeName===t.desc.typeName){const[u,d,f]=k2(c);kI(u,d,o,n),eee(t.message,c,f())}if(!c&&!n.ignoreUnknownFields)throw new Error(`cannot decode ${t.desc} from JSON: key "${a}" is unknown`)}}}function kI(t,e,n,i){switch(e.fieldKind){case"scalar":See(t,e,n);break;case"enum":Aee(t,e,n,i);break;case"message":Eee(t,e,n,i);break;case"list":vee(t.get(e),n,i);break;case"map":bee(t.get(e),n,i);break}}function bee(t,e,n){if(e===null)return;const i=t.field();if(typeof e!="object"||Array.isArray(e))throw new tr(i,"expected object, got "+ei(e));for(const[r,s]of Object.entries(e)){if(s===null)throw new tr(i,"map value must not be null");let a;switch(i.mapKind){case"message":const l=Yr(i.message);cd(l,s,n),a=l;break;case"enum":if(a=M9(i.enum,s,n.ignoreUnknownFields,!0),a===L2)return;break;case"scalar":a=B2(i,s,!0);break}const o=Tee(i.mapKey,r);t.set(o,a)}}function vee(t,e,n){if(e===null)return;const i=t.field();if(!Array.isArray(e))throw new tr(i,"expected Array, got "+ei(e));for(const r of e){if(r===null)throw new tr(i,"list item must not be null");switch(i.listKind){case"message":const s=Yr(i.message);cd(s,r,n),t.add(s);break;case"enum":const a=M9(i.enum,r,n.ignoreUnknownFields,!0);a!==L2&&t.add(a);break;case"scalar":t.add(B2(i,r,!0));break}}}function Eee(t,e,n,i){if(n===null&&e.message.typeName!="google.protobuf.Value"){t.clear(e);return}const r=t.isSet(e)?t.get(e):Yr(e.message);cd(r,n,i),t.set(e,r)}function Aee(t,e,n,i){const r=M9(e.enum,n,i.ignoreUnknownFields,!1);r===U2?t.clear(e):r!==L2&&t.set(e,r)}function See(t,e,n){const i=B2(e,n,!1);i===U2?t.clear(e):t.set(e,i)}const L2=Symbol();function M9(t,e,n,i){if(e===null)return t.typeName=="google.protobuf.NullValue"?0:i?t.values[0].number:U2;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const r=t.values.find(s=>s.name===e);if(r!==void 0)return r.number;if(n)return L2;break}throw new Error(`cannot decode ${t} from JSON: ${ei(e)}`)}const U2=Symbol();function B2(t,e,n){if(e===null)return n?cc(t.scalar,!1):U2;switch(t.scalar){case oe.DOUBLE:case oe.FLOAT:if(e==="NaN")return NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof e=="number"){if(isNaN(e))throw new tr(t,"unexpected NaN number");if(!isFinite(e))throw new tr(t,"unexpected infinite number");break}if(typeof e=="string"){if(e===""||e.trim().length!==e.length)break;const i=Number(e);if(!isFinite(i))break;return i}break;case oe.INT32:case oe.FIXED32:case oe.SFIXED32:case oe.SINT32:case oe.UINT32:return $W(e);case oe.BYTES:if(typeof e=="string"){if(e==="")return new Uint8Array(0);try{return R9(e)}catch(i){const r=i instanceof Error?i.message:String(i);throw new tr(t,r)}}break}return e}function Tee(t,e){switch(t){case oe.BOOL:switch(e){case"true":return!0;case"false":return!1}return e;case oe.INT32:case oe.FIXED32:case oe.UINT32:case oe.SFIXED32:case oe.SINT32:return $W(e);default:return e}}function $W(t){if(typeof t=="string"){if(t===""||t.trim().length!==t.length)return t;const e=Number(t);return Number.isNaN(e)?t:e}return t}function Ree(t,e){try{return JSON.parse(t)}catch(n){const i=n instanceof Error?n.message:String(n);throw new Error(`cannot decode message ${e} from JSON: ${i}`,{cause:n})}}function Cee(t,e,n){if(!t.desc.typeName.startsWith("google.protobuf."))return!1;switch(t.desc.typeName){case"google.protobuf.Any":return Iee(t.message,e,n),!0;case"google.protobuf.Timestamp":return wee(t.message,e),!0;case"google.protobuf.Duration":return xee(t.message,e),!0;case"google.protobuf.FieldMask":return Vee(t.message,e),!0;case"google.protobuf.Struct":return jW(t.message,e),!0;case"google.protobuf.Value":return P9(t.message,e),!0;case"google.protobuf.ListValue":return KW(t.message,e),!0;default:if(Ip(t.desc)){const i=t.desc.fields[0];return e===null?t.clear(i):t.set(i,B2(i,e,!0)),!0}return!1}}function Iee(t,e,n){var i;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message ${t.$typeName} from JSON: expected object but got ${ei(e)}`);if(Object.keys(e).length==0)return;const r=e["@type"];if(typeof r!="string"||r=="")throw new Error(`cannot decode message ${t.$typeName} from JSON: "@type" is empty`);const s=r.includes("/")?r.substring(r.lastIndexOf("/")+1):r;if(!s.length)throw new Error(`cannot decode message ${t.$typeName} from JSON: "@type" is invalid`);const a=(i=n.registry)===null||i===void 0?void 0:i.getMessage(s);if(!a)throw new Error(`cannot decode message ${t.$typeName} from JSON: ${r} is not in the type registry`);const o=Yr(a);if(s.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value")){const l=e.value;cd(o,l,n)}else{const l=Object.assign({},e);delete l["@type"],cd(o,l,n)}uq(o.desc,o.message,t)}function wee(t,e){if(typeof e!="string")throw new Error(`cannot decode message ${t.$typeName} from JSON: ${ei(e)}`);const n=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!n)throw new Error(`cannot decode message ${t.$typeName} from JSON: invalid RFC 3339 string`);const i=Date.parse(n[1]+"-"+n[2]+"-"+n[3]+"T"+n[4]+":"+n[5]+":"+n[6]+(n[8]?n[8]:"Z"));if(Number.isNaN(i))throw new Error(`cannot decode message ${t.$typeName} from JSON: invalid RFC 3339 string`);if(i<Date.parse("0001-01-01T00:00:00Z")||i>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${t.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);t.seconds=on.parse(i/1e3),t.nanos=0,n[7]&&(t.nanos=parseInt("1"+n[7]+"0".repeat(9-n[7].length))-1e9)}function xee(t,e){if(typeof e!="string")throw new Error(`cannot decode message ${t.$typeName} from JSON: ${ei(e)}`);const n=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(n===null)throw new Error(`cannot decode message ${t.$typeName} from JSON: ${ei(e)}`);const i=Number(n[1]);if(i>315576e6||i<-315576e6)throw new Error(`cannot decode message ${t.$typeName} from JSON: ${ei(e)}`);if(t.seconds=on.parse(i),typeof n[2]!="string")return;const r=n[2]+"0".repeat(9-n[2].length);t.nanos=parseInt(r),(i<0||Object.is(i,-0))&&(t.nanos=-t.nanos)}function Vee(t,e){if(typeof e!="string")throw new Error(`cannot decode message ${t.$typeName} from JSON: ${ei(e)}`);if(e==="")return;function n(i){if(i.includes("_"))throw new Error(`cannot decode message ${t.$typeName} from JSON: path names must be lowerCamelCase`);const r=i.replace(/[A-Z]/g,s=>"_"+s.toLowerCase());return r[0]==="_"?r.substring(1):r}t.paths=e.split(",").map(n)}function jW(t,e){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error(`cannot decode message ${t.$typeName} from JSON ${ei(e)}`);for(const[n,i]of Object.entries(e)){const r=gs(BW);P9(r,i),t.fields[n]=r}}function P9(t,e){switch(typeof e){case"number":t.kind={case:"numberValue",value:e};break;case"string":t.kind={case:"stringValue",value:e};break;case"boolean":t.kind={case:"boolValue",value:e};break;case"object":if(e===null)t.kind={case:"nullValue",value:UA.NULL_VALUE};else if(Array.isArray(e)){const n=gs(mq);KW(n,e),t.kind={case:"listValue",value:n}}else{const n=gs(pq);jW(n,e),t.kind={case:"structValue",value:n}}break;default:throw new Error(`cannot decode message ${t.$typeName} from JSON ${ei(e)}`)}return t}function KW(t,e){if(!Array.isArray(e))throw new Error(`cannot decode message ${t.$typeName} from JSON ${ei(e)}`);for(const n of e){const i=gs(BW);P9(i,n),t.values.push(i)}}function FI(t){const e=Qe[t];return typeof e!="string"?t.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,n=>"_"+n.toLowerCase())}let ln=class Qc extends Error{constructor(e,n=Qe.Unknown,i,r,s){super(Nee(e,n)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=n,this.metadata=new Headers(i??{}),this.details=r??[],this.cause=s}static from(e,n=Qe.Unknown){return e instanceof Qc?e:e instanceof Error?e.name=="AbortError"?new Qc(e.message,Qe.Canceled):new Qc(e.message,n,void 0,void 0,e):new Qc(String(e),n,void 0,void 0,e)}static[Symbol.hasInstance](e){return e instanceof Error?Object.getPrototypeOf(e)===Qc.prototype?!0:e.name==="ConnectError"&&"code"in e&&typeof e.code=="number"&&"metadata"in e&&"details"in e&&Array.isArray(e.details)&&"rawMessage"in e&&typeof e.rawMessage=="string"&&"cause"in e:!1}findDetails(e){const n=e.kind==="message"?{getMessage:r=>r===e.typeName?e:void 0}:e,i=[];for(const r of this.details){if("desc"in r){n.getMessage(r.desc.typeName)&&i.push(gs(r.desc,r.value));continue}const s=n.getMessage(r.type);if(s)try{i.push(wp(s,r.value))}catch{}}return i}};function Nee(t,e){return t.length?`[${FI(e)}] ${t}`:`[${FI(e)}]`}function _ee(t,e,n){try{const i=R9(t);return e?wp(e,i,n):i}catch(i){throw ln.from(i,Qe.DataLoss)}}function kee(t,e){const n={};for(const i of t.methods){const r=e(i);r!=null&&(n[i.localName]=r)}return n}const LI=1;function UI(t){let e,n=new Uint8Array(0);function i(r){const s=new Uint8Array(n.length+r.length);s.set(n),s.set(r,n.length),n=s}return new ReadableStream({start(){e=t.getReader()},async pull(r){let s;for(;;){if(s===void 0&&n.byteLength>=5){let l=0;for(let c=1;c<5;c++)l=(l<<8)+n[c];s={flags:n[0],length:l}}if(s!==void 0&&n.byteLength>=s.length+5)break;const o=await e.read();if(o.done)break;i(o.value)}if(s===void 0){if(n.byteLength==0){r.close();return}r.error(new ln("premature end of stream",Qe.DataLoss));return}const a=n.subarray(5,5+s.length);n=n.subarray(5+s.length),r.enqueue({flags:s.flags,data:a})}})}function BI(t,e){const n=new Uint8Array(e.length+5);n.set(e,5);const i=new DataView(n.buffer,n.byteOffset,n.byteLength);return i.setUint8(0,t),i.setUint32(1,e.length),n}var Fee=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),r(o,l,a.done,a.value)})}}function r(s,a,o,l){Promise.resolve(l).then(function(c){s({value:c,done:o})},a)}},Qf=function(t){return this instanceof Qf?(this.v=t,this):new Qf(t)},Lee=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(h){return function(m){return Promise.resolve(m).then(h,d)}}function o(h,m){i[h]&&(r[h]=function(p){return new Promise(function(v,y){s.push([h,p,v,y])>1||l(h,p)})},m&&(r[h]=m(r[h])))}function l(h,m){try{c(i[h](m))}catch(p){f(s[0][3],p)}}function c(h){h.value instanceof Qf?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,m){h(m),s.shift(),s.length&&l(s[0][0],s[0][1])}},Uee=function(t){var e,n;return e={},i("next"),i("throw",function(r){throw r}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(r,s){e[r]=t[r]?function(a){return(n=!n)?{value:Qf(t[r](a)),done:!1}:s?s(a):a}:s}};function Bee(t){return Lee(this,arguments,function*(){yield Qf(yield*Uee(Fee(t)))})}var zW=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n);function i(s){n[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),r(o,l,a.done,a.value)})}}function r(s,a,o,l){Promise.resolve(l).then(function(c){s({value:c,done:o})},a)}},ud=function(t){return this instanceof ud?(this.v=t,this):new ud(t)},Wee=function(t){var e,n;return e={},i("next"),i("throw",function(r){throw r}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(r,s){e[r]=t[r]?function(a){return(n=!n)?{value:ud(t[r](a)),done:!1}:s?s(a):a}:s}},Gee=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(h){return function(m){return Promise.resolve(m).then(h,d)}}function o(h,m){i[h]&&(r[h]=function(p){return new Promise(function(v,y){s.push([h,p,v,y])>1||l(h,p)})},m&&(r[h]=m(r[h])))}function l(h,m){try{c(i[h](m))}catch(p){f(s[0][3],p)}}function c(h){h.value instanceof ud?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,m){h(m),s.shift(),s.length&&l(s[0][0],s[0][1])}};function WI(t,e){return kee(t,n=>{switch(n.methodKind){case"unary":return Zee(e,n);case"server_streaming":return Dee(e,n);case"client_streaming":return Oee(e,n);case"bidi_streaming":return Xee(e,n);default:return null}})}function Zee(t,e){return async function(n,i){var r,s;const a=await t.unary(e,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,n,i==null?void 0:i.contextValues);return(r=i==null?void 0:i.onHeader)===null||r===void 0||r.call(i,a.header),(s=i==null?void 0:i.onTrailer)===null||s===void 0||s.call(i,a.trailer),a.message}}function Dee(t,e){return function(n,i){return JW(t.stream(e,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,Bee([n]),i==null?void 0:i.contextValues),i)}}function Oee(t,e){return async function(n,i){var r,s,a,o,l,c;const u=await t.stream(e,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,n,i==null?void 0:i.contextValues);(l=i==null?void 0:i.onHeader)===null||l===void 0||l.call(i,u.header);let d,f=0;try{for(var h=!0,m=zW(u.message),p;p=await m.next(),r=p.done,!r;h=!0)o=p.value,h=!1,d=o,f++}catch(v){s={error:v}}finally{try{!h&&!r&&(a=m.return)&&await a.call(m)}finally{if(s)throw s.error}}if(!d)throw new ln("protocol error: missing response message",Qe.Unimplemented);if(f>1)throw new ln("protocol error: received extra messages for client streaming method",Qe.Unimplemented);return(c=i==null?void 0:i.onTrailer)===null||c===void 0||c.call(i,u.trailer),d}}function Xee(t,e){return function(n,i){return JW(t.stream(e,i==null?void 0:i.signal,i==null?void 0:i.timeoutMs,i==null?void 0:i.headers,n,i==null?void 0:i.contextValues),i)}}function JW(t,e){const n=function(){return Gee(this,arguments,function*(){var i,r;const s=yield ud(t);(i=e==null?void 0:e.onHeader)===null||i===void 0||i.call(e,s.header),yield ud(yield*Wee(zW(s.message))),(r=e==null?void 0:e.onTrailer)===null||r===void 0||r.call(e,s.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>n.next()})}}function Mee(...t){const e=new AbortController,n=t.filter(r=>r!==void 0).concat(e.signal);for(const r of n){if(r.aborted){i.apply(r);break}r.addEventListener("abort",i)}function i(){e.signal.aborted||e.abort(HW(this));for(const r of n)r.removeEventListener("abort",i)}return e}function Pee(t){const e=new AbortController,n=()=>{e.abort(new ln("the operation timed out",Qe.DeadlineExceeded))};let i;return t!==void 0&&(t<=0?n():i=setTimeout(n,t)),{signal:e.signal,cleanup:()=>clearTimeout(i)}}function HW(t){if(!t.aborted)return;if(t.reason!==void 0)return t.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function GA(){return{get(t){return t.id in this?this[t.id]:t.defaultValue},set(t,e){return this[t.id]=e,this},delete(t){return delete this[t.id],this}}}function ag(t,e){return{id:Symbol(e==null?void 0:e.description),defaultValue:t}}const _3=128;function GI(t){const e=new Headers,n=new TextDecoder().decode(t).split(`\r
`);for(const i of n){if(i==="")continue;const r=i.indexOf(":");if(r>0){const s=i.substring(0,r).trim(),a=i.substring(r+1).trim();e.append(s,a)}}return e}const Yee="Content-Type",$ee="Grpc-Timeout",dd="Grpc-Status",QW="Grpc-Message",jee="Grpc-Status-Details-Bin",ZI="User-Agent",k3="X-User-Agent",Kee="X-Grpc-Web",zee="application/grpc-web+proto",Jee="application/grpc-web+json",Hee=Ut("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[LW]),Qee=Od(Hee,0),qee="0";function qW(t){var e;const n=t.get(jee);if(n!=null){const r=_ee(n,Qee);if(r.code==0)return;const s=new ln(r.message,r.code,t);return s.details=r.details.map(a=>({type:a.typeUrl.substring(a.typeUrl.lastIndexOf("/")+1),value:a.value})),s}const i=t.get(dd);if(i!=null){if(i===qee)return;const r=parseInt(i,10);return r in Qe?new ln(decodeURIComponent((e=t.get(QW))!==null&&e!==void 0?e:""),r,t):new ln(`invalid grpc-status: ${i}`,Qe.Internal,t)}}function DI(t,e){return t.toString().replace(/\/?$/,`/${e.parent.typeName}/${e.name}`)}function eG(t,e){return gs(t,e)}function ete(t,e){function n(i){return i.done===!0?i:{done:i.done,value:eG(t,i.value)}}return{[Symbol.asyncIterator](){const i=e[Symbol.asyncIterator](),r={next:()=>i.next().then(n)};return i.throw!==void 0&&(r.throw=s=>i.throw(s).then(n)),i.return!==void 0&&(r.return=s=>i.return(s).then(n)),r}}}function tG(t,e){var n;return(n=e==null?void 0:e.concat().reverse().reduce((i,r)=>r(i),t))!==null&&n!==void 0?n:t}function tte(t){var e;const n=Object.assign({},t);return(e=n.ignoreUnknownFields)!==null&&e!==void 0||(n.ignoreUnknownFields=!0),n}function OI(t,e,n,i){const r=e?XI(t.input,i):MI(t.input,n);return{parse:(e?XI(t.output,i):MI(t.output,n)).parse,serialize:r.serialize}}function XI(t,e){return{parse(n){try{return wp(t,n,e)}catch(i){const r=i instanceof Error?i.message:String(i);throw new ln(`parse binary: ${r}`,Qe.Internal)}},serialize(n){try{return wW(t,n,e)}catch(i){const r=i instanceof Error?i.message:String(i);throw new ln(`serialize binary: ${r}`,Qe.Internal)}}}}function MI(t,e){var n,i;const r=(n=e==null?void 0:e.textEncoder)!==null&&n!==void 0?n:new TextEncoder,s=(i=e==null?void 0:e.textDecoder)!==null&&i!==void 0?i:new TextDecoder,a=tte(e);return{parse(o){try{const l=s.decode(o);return gee(t,l,a)}catch(l){throw ln.from(l,Qe.InvalidArgument)}},serialize(o){try{const l=aee(t,o,a);return r.encode(l)}catch(l){throw ln.from(l,Qe.Internal)}}}}function nte(t){const e=tG(t.next,t.interceptors),[n,i,r]=nG(t),s=Object.assign(Object.assign({},t.req),{message:eG(t.req.method.input,t.req.message),signal:n});return e(s).then(a=>(r(),a),i)}function ite(t){const e=tG(t.next,t.interceptors),[n,i,r]=nG(t),s=Object.assign(Object.assign({},t.req),{message:ete(t.req.method.input,t.req.message),signal:n});let a=!1;return n.addEventListener("abort",function(){var o,l;const c=t.req.message[Symbol.asyncIterator]();a||(o=c.throw)===null||o===void 0||o.call(c,this.reason).catch(()=>{}),(l=c.return)===null||l===void 0||l.call(c).catch(()=>{})}),e(s).then(o=>Object.assign(Object.assign({},o),{message:{[Symbol.asyncIterator](){const l=o.message[Symbol.asyncIterator]();return{next(){return l.next().then(c=>(c.done==!0&&(a=!0,r()),c),i)}}}}}),i)}function nG(t){const{signal:e,cleanup:n}=Pee(t.timeoutMs),i=Mee(t.signal,e);return[i.signal,function(r){const s=ln.from(e.aborted?HW(e):r);return i.abort(s),n(),Promise.reject(s)},function(){n(),i.abort()}]}function rte(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function PI(t,e){const n=qW(t);if(n)throw e.forEach((i,r)=>{n.metadata.append(r,i)}),n;if(!e.has(dd)&&!t.has(dd))throw new ln("protocol error: missing status",Qe.Internal)}function YI(t,e,n,i){const r=new Headers(n??{});r.set(Yee,t?zee:Jee),r.set(Kee,"1");let s="connect-es/2.0.2";return s=r.has(ZI)?r.get(ZI):r.has(k3)?r.get(k3):s,r.set(k3,s),e!==void 0&&r.set($ee,`${e}m`),r}function ste(t){switch(t){case 400:return Qe.Internal;case 401:return Qe.Unauthenticated;case 403:return Qe.PermissionDenied;case 404:return Qe.Unimplemented;case 429:return Qe.Unavailable;case 502:return Qe.Unavailable;case 503:return Qe.Unavailable;case 504:return Qe.Unavailable;default:return Qe.Unknown}}function $I(t,e){var n;if(t>=200&&t<300)return{foundStatus:e.has(dd),headerError:qW(e)};throw new ln(decodeURIComponent((n=e.get(QW))!==null&&n!==void 0?n:`HTTP ${t}`),ste(t),e)}var Ll=function(t){return this instanceof Ll?(this.v=t,this):new Ll(t)},ate=function(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=n.apply(t,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(h){return function(m){return Promise.resolve(m).then(h,d)}}function o(h,m){i[h]&&(r[h]=function(p){return new Promise(function(v,y){s.push([h,p,v,y])>1||l(h,p)})},m&&(r[h]=m(r[h])))}function l(h,m){try{c(i[h](m))}catch(p){f(s[0][3],p)}}function c(h){h.value instanceof Ll?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,m){h(m),s.shift(),s.length&&l(s[0][0],s[0][1])}};const jI={redirect:"error"};function KI(t){var e;rte();const n=(e=t.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(i,r,s,a,o,l){const{serialize:c,parse:u}=OI(i,n,t.jsonOptions,t.binaryOptions);return s=s===void 0?t.defaultTimeoutMs:s<=0?void 0:s,await nte({interceptors:t.interceptors,signal:r,timeoutMs:s,req:{stream:!1,service:i.parent,method:i,requestMethod:"POST",url:DI(t.baseUrl,i),header:YI(n,s,a),contextValues:l??GA(),message:o},next:async d=>{var f;const h=await((f=t.fetch)!==null&&f!==void 0?f:globalThis.fetch)(d.url,Object.assign(Object.assign({},jI),{method:d.requestMethod,headers:d.header,signal:d.signal,body:BI(0,c(d.message))})),{headerError:m}=$I(h.status,h.headers);if(!h.body)throw m!==void 0?m:"missing response body";const p=UI(h.body).getReader();let v,y;for(;;){const E=await p.read();if(E.done)break;const{flags:S,data:I}=E.value;if((S&LI)===LI)throw new ln("protocol error: received unsupported compressed output",Qe.Internal);if(S===_3){if(v!==void 0)throw"extra trailer";v=GI(I);continue}if(y!==void 0)throw new ln("extra message",Qe.Unimplemented);y=u(I)}if(v===void 0)throw m!==void 0?m:new ln("missing trailer",h.headers.has(dd)?Qe.Unimplemented:Qe.Unknown);if(PI(v,h.headers),y===void 0)throw new ln("missing message",v.has(dd)?Qe.Unimplemented:Qe.Unknown);return{stream:!1,service:i.parent,method:i,header:h.headers,message:y,trailer:v}}})},async stream(i,r,s,a,o,l){const{serialize:c,parse:u}=OI(i,n,t.jsonOptions,t.binaryOptions);function d(h,m,p,v,y){return ate(this,arguments,function*(){const E=UI(h).getReader();if(m){if(!(yield Ll(E.read())).done)throw"extra data for trailers-only";return yield Ll(void 0)}let S=!1;for(;;){const I=yield Ll(E.read());if(I.done)break;const{flags:w,data:N}=I.value;if((w&_3)===_3){if(S)throw"extra trailer";S=!0;const F=GI(N);PI(F,v),F.forEach((W,Z)=>p.set(Z,W));continue}if(S)throw"extra message";yield yield Ll(u(N))}if("throwIfAborted"in y&&y.throwIfAborted(),!S)throw"missing trailer"})}async function f(h){if(i.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const m=await h[Symbol.asyncIterator]().next();if(m.done==!0)throw"missing request message";return BI(0,c(m.value))}return s=s===void 0?t.defaultTimeoutMs:s<=0?void 0:s,ite({interceptors:t.interceptors,signal:r,timeoutMs:s,req:{stream:!0,service:i.parent,method:i,requestMethod:"POST",url:DI(t.baseUrl,i),header:YI(n,s,a),contextValues:l??GA(),message:o},next:async h=>{var m;const p=await((m=t.fetch)!==null&&m!==void 0?m:globalThis.fetch)(h.url,Object.assign(Object.assign({},jI),{method:h.requestMethod,headers:h.header,signal:h.signal,body:await f(h.message)})),{foundStatus:v,headerError:y}=$I(p.status,p.headers);if(y!=null)throw y;if(!p.body)throw"missing response body";const E=new Headers;return Object.assign(Object.assign({},h),{header:p.headers,trailer:E,message:d(p.body,v,E,p.headers,h.signal)})}})}}}const Vp=Ut("CiZzdHJlYW1sYXllci9zcG9ydHMvc3BvcnRzX2NvbW1vbi5wcm90bxISc3RyZWFtbGF5ZXIuc3BvcnRzIi0KClBhZ2luYXRpb24SDAoEcGFnZRgBIAEoBRIRCglwYWdlX3NpemUYAiABKAUiJAoEU29ydBINCgVmaWVsZBgBIAEoCRINCgVvcmRlchgCIAEoCSI2CgRNZXRhEg0KBWNvdW50GAEgASgFEgwKBHBhZ2UYAiABKAUSEQoJcGFnZV9zaXplGAMgASgFIjcKBVZlbnVlEgwKBGNpdHkYASABKAkSDwoHY291bnRyeRgCIAEoCRIPCgdzdGFkaXVtGAMgASgJInAKBFRlYW0SCgoCaWQYASABKAQSFQoNY3VzdG9tX2ZpZWxkcxgCIAEoCRIMCgRuYW1lGAMgASgJEg0KBWFsaWFzGAQgASgJEigKBXZlbnVlGAUgASgLMhkuc3RyZWFtbGF5ZXIuc3BvcnRzLlZlbnVlIioKCUV2ZW50VGltZRINCgVjbG9jaxgBIAEoCRIOCgZwZXJpb2QYAiABKAUiRQoLRXZlbnRQZXJpb2QSDgoGbnVtYmVyGAEgASgFEhIKCnNjb3JlX2hvbWUYAiABKAUSEgoKc2NvcmVfYXdheRgDIAEoBSLoAwoFRXZlbnQSCgoCaWQYASABKAQSFQoNY3VzdG9tX2ZpZWxkcxgCIAEoCRIRCglsZWFndWVfaWQYAyABKAQSEQoJc2Vhc29uX2lkGAQgASgEEhQKDGhvbWVfdGVhbV9pZBgFIAEoBBIUCgxhd2F5X3RlYW1faWQYBiABKAQSFgoOd2lubmVyX3RlYW1faWQYByABKAQSEQoJc2NoZWR1bGVkGAggASgJEhIKCnNjb3JlX2hvbWUYCSABKAUSEgoKc2NvcmVfYXdheRgKIAEoBRIoCgV2ZW51ZRgLIAEoCzIZLnN0cmVhbWxheWVyLnNwb3J0cy5WZW51ZRIxCgpldmVudF90aW1lGAwgASgLMh0uc3RyZWFtbGF5ZXIuc3BvcnRzLkV2ZW50VGltZRIvCgZzdGF0dXMYDSABKA4yHy5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRTdGF0dXMSMAoHcGVyaW9kcxgOIAMoCzIfLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudFBlcmlvZBISCgpzdGFydF90aW1lGA8gASgJEhAKCGVuZF90aW1lGBAgASgJEjEKB2VuZGxlc3MYESABKA4yIC5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRFbmRsZXNzIi0KB0NvdW50cnkSDAoEbmFtZRgBIAEoCRIUCgxhYmJyZXZpYXRpb24YAiABKAki+wMKEFBsYXllckF0dHJpYnV0ZXMSEgoKZGlzcGxheV9pZBgBIAEoBRISCgpmdWxsX2ZpcnN0GAMgASgJEhEKCWZ1bGxfbGFzdBgEIAEoCRIPCgd1bmlmb3JtGAUgASgJEjsKBmhlaWdodBgGIAEoCzIrLnN0cmVhbWxheWVyLnNwb3J0cy5QbGF5ZXJBdHRyaWJ1dGVzLkhlaWdodBI7CgZ3ZWlnaHQYByABKAsyKy5zdHJlYW1sYXllci5zcG9ydHMuUGxheWVyQXR0cmlidXRlcy5XZWlnaHQSOQoFYmlydGgYCCABKAsyKi5zdHJlYW1sYXllci5zcG9ydHMuUGxheWVyQXR0cmlidXRlcy5CaXJ0aBotCgZIZWlnaHQSEwoLY2VudGltZXRlcnMYASABKAUSDgoGaW5jaGVzGAIgASgFGisKBldlaWdodBIRCglraWxvZ3JhbXMYASABKAUSDgoGcG91bmRzGAIgASgFGokBCgVCaXJ0aBIMCgRjaXR5GAEgASgJEiwKB2NvdW50cnkYAiABKAsyGy5zdHJlYW1sYXllci5zcG9ydHMuQ291bnRyeRpECglCaXJ0aERhdGUSDAoEeWVhchgBIAEoBRINCgVtb250aBgCIAEoBRIMCgRkYXRlGAMgASgFEgwKBGZ1bGwYBCABKAkiRgoKUGxheWVyVGVhbRIPCgd0ZWFtX2lkGAEgASgEEhAKCHBvc2l0aW9uGAIgASgJEhUKDWplcnNleV9udW1iZXIYAyABKAUilwIKBlBsYXllchIKCgJpZBgBIAEoBBIVCg1jdXN0b21fZmllbGRzGAggASgJEhIKCmZpcnN0X25hbWUYCSABKAkSEQoJbGFzdF9uYW1lGAogASgJEhQKDGRpc3BsYXlfbmFtZRgOIAEoCRISCgpiaXJ0aF9kYXRlGAsgASgJEjAKC25hdGlvbmFsaXR5GAwgASgLMhsuc3RyZWFtbGF5ZXIuc3BvcnRzLkNvdW50cnkSOAoKYXR0cmlidXRlcxgNIAEoCzIkLnN0cmVhbWxheWVyLnNwb3J0cy5QbGF5ZXJBdHRyaWJ1dGVzEi0KBXRlYW1zGA8gAygLMh4uc3RyZWFtbGF5ZXIuc3BvcnRzLlBsYXllclRlYW0iKgoKVGVhbVJlY29yZBIMCgR3aW5zGAEgASgFEg4KBmxvc3NlcxgCIAEoBSJRCgZTZWFzb24SCgoCaWQYASABKAQSDAoEbmFtZRgEIAEoCRIMCgR0eXBlGAUgASgJEgwKBHllYXIYBiABKAUSEQoJbGVhZ3VlX2lkGAcgASgEIooBCg9TeW5jU3RhdHVzU3RhZ2USDQoFc3RhZ2UYASABKAkSEQoJdGltZXN0YW1wGAIgASgEEhAKCGRhdGV0aW1lGAMgASgJEg0KBWVycm9yGAQgASgJEjQKBnN0YXR1cxgFIAEoDjIkLnN0cmVhbWxheWVyLnNwb3J0cy5MZWFndWVTeW5jU3RhdHVzIpUCCgpTeW5jU3RhdHVzEjIKBXRlYW1zGAEgASgLMiMuc3RyZWFtbGF5ZXIuc3BvcnRzLlN5bmNTdGF0dXNTdGFnZRIyCgVldmVudBgCIAEoCzIjLnN0cmVhbWxheWVyLnNwb3J0cy5TeW5jU3RhdHVzU3RhZ2USMwoGZXZlbnRzGAMgASgLMiMuc3RyZWFtbGF5ZXIuc3BvcnRzLlN5bmNTdGF0dXNTdGFnZRI0CgdwbGF5ZXJzGAQgASgLMiMuc3RyZWFtbGF5ZXIuc3BvcnRzLlN5bmNTdGF0dXNTdGFnZRI0CgdsZWFndWVzGAUgASgLMiMuc3RyZWFtbGF5ZXIuc3BvcnRzLlN5bmNTdGF0dXNTdGFnZSJWChJTeW5jU3RhdHVzUHJvdmlkZXISEAoIcHJvdmlkZXIYASABKAkSLgoGc3RhdHVzGAIgASgLMh4uc3RyZWFtbGF5ZXIuc3BvcnRzLlN5bmNTdGF0dXMitgEKBkxlYWd1ZRIKCgJpZBgBIAEoBBIVCg1jdXN0b21fZmllbGRzGAggASgJEg8KB2NvdW50cnkYCSABKAkSDAoEbmFtZRgKIAEoCRINCgVhbGlhcxgLIAEoCRIMCgRzeW5jGA0gASgIEhAKCHNwb3J0X2lkGA4gASgEEjsKC3N5bmNfc3RhdHVzGAwgAygLMiYuc3RyZWFtbGF5ZXIuc3BvcnRzLlN5bmNTdGF0dXNQcm92aWRlciJpCgVTcG9ydBIKCgJpZBgBIAEoBBIPCgdjcmVhdGVkGAIgASgJEg8KB3VwZGF0ZWQYAyABKAkSFQoNY3VzdG9tX2ZpZWxkcxgIIAEoCRIMCgRuYW1lGAogASgJEg0KBWFsaWFzGAsgASgJIloKEk5mbEV2ZW50U3RhdGlzdGljcxIOCgZwYXNzZXMYASABKAUSDgoGcnVzaGVzGAIgASgFEhEKCXBlbmFsdGllcxgDIAEoBRIRCgl0dXJub3ZlcnMYBCABKAUilwIKFVNvY2NlckV2ZW50U3RhdGlzdGljcxIXCg9iYWxsX3Bvc3Nlc3Npb24YASABKAUSEQoJdGhyb3dfaW5zGAIgASgFEg0KBWZvdWxzGAMgASgFEhIKCmdvYWxfa2lja3MYBCABKAUSEgoKZnJlZV9raWNrcxgFIAEoBRIXCg9zaG90c19vbl90YXJnZXQYBiABKAUSFAoMY29ybmVyX2tpY2tzGAcgASgFEhgKEHNob3RzX29mZl90YXJnZXQYCCABKAUSEwoLc2hvdHNfc2F2ZWQYCSABKAUSEAoIb2Zmc2lkZXMYCiABKAUSFQoNc2hvdHNfYmxvY2tlZBgLIAEoBRIUCgx5ZWxsb3dfY2FyZHMYDCABKAUinAEKE0V2ZW50VGVhbVN0YXRpc3RpY3MSOgoIZm9vdGJhbGwYASABKAsyJi5zdHJlYW1sYXllci5zcG9ydHMuTmZsRXZlbnRTdGF0aXN0aWNzSAASOwoGc29jY2VyGAIgASgLMikuc3RyZWFtbGF5ZXIuc3BvcnRzLlNvY2NlckV2ZW50U3RhdGlzdGljc0gAQgwKCnN0YXRpc3RpY3MiZQoJRXZlbnRUZWFtEgoKAmlkGAEgASgEEgwKBG5hbWUYAiABKAkSDQoFYWxpYXMYAyABKAkSDAoEbG9nbxgEIAEoCRIOCgZjb2xvcnMYBSADKAkSEQoJaXNfd2lubmVyGAYgASgIIt0BChFFdmVudEN1c3RvbUZpZWxkcxIPCgdwcmV2aWV3GAEgASgJEg4KBnN0cmVhbRgCIAEoCRIMCgRuYW1lGAMgASgJEgwKBGxvZ28YBCABKAkSEQoJZXZlbnRfaWRzGAUgAygJEhAKCHN1YnRpdGxlGAYgASgJEhIKCnByb21vdGl0bGUYByABKAkSDQoFc2xhdGUYCCABKAkSGgoSaG9yaXpvbnRhbF9wcmV2aWV3GAkgASgJEhIKCnNtYWxsX2xvZ28YCiABKAkSEwoLZGVzY3JpcHRpb24YCyABKAkikAEKDEV2ZW50UHJvZ3JhbRIPCgJpZBgBIAEoCUgAiAEBEg0KBXRpdGxlGAIgASgJEhIKCnN0YXJ0X3RpbWUYAyABKAkSEAoIZW5kX3RpbWUYBCABKAkSFQoNdGh1bWJuYWlsX3VybBgFIAEoCRIcChRzcXVhcmVfdGh1bWJuYWlsX3VybBgGIAEoCUIFCgNfaWQi3gMKCUV2ZW50RGF0YRIKCgJpZBgBIAEoBBINCgVzcG9ydBgCIAEoCRIOCgZsZWFndWUYAyABKAkSEQoJc2NoZWR1bGVkGAQgASgJEisKBGhvbWUYBSABKAsyHS5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRUZWFtEisKBGF3YXkYBiABKAsyHS5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRUZWFtEi8KBnN0YXR1cxgHIAEoDjIfLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudFN0YXR1cxI8Cg1jdXN0b21fZmllbGRzGAggASgLMiUuc3RyZWFtbGF5ZXIuc3BvcnRzLkV2ZW50Q3VzdG9tRmllbGRzEhIKCnN0YXJ0X3RpbWUYCSABKAkSEAoIZW5kX3RpbWUYCiABKAkSKAoFdmVudWUYCyABKAsyGS5zdHJlYW1sYXllci5zcG9ydHMuVmVudWUSMgoIc2NoZWR1bGUYDCADKAsyIC5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRQcm9ncmFtEjEKB2VuZGxlc3MYDSABKA4yIC5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRFbmRsZXNzEhMKC3Byb3ZpZGVyX2lkGA4gASgJIoAECgxFdmVudFN1bW1hcnkSCgoCaWQYASABKAQSEQoJc2NoZWR1bGVkGAIgASgJEhIKCnNjb3JlX2hvbWUYAyABKAUSEgoKc2NvcmVfYXdheRgEIAEoBRIoCgV2ZW51ZRgFIAEoCzIZLnN0cmVhbWxheWVyLnNwb3J0cy5WZW51ZRIxCgpldmVudF90aW1lGAYgASgLMh0uc3RyZWFtbGF5ZXIuc3BvcnRzLkV2ZW50VGltZRIwCglob21lX3RlYW0YByABKAsyHS5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRUZWFtEjAKCWF3YXlfdGVhbRgIIAEoCzIdLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudFRlYW0SLwoGc3RhdHVzGAkgASgOMh8uc3RyZWFtbGF5ZXIuc3BvcnRzLkV2ZW50U3RhdHVzEjAKB3BlcmlvZHMYCiADKAsyHy5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRQZXJpb2QSDgoGbGVhZ3VlGAsgASgJEhIKCnN0YXJ0X3RpbWUYDCABKAkSEAoIZW5kX3RpbWUYDSABKAkSDAoEbmFtZRgOIAEoCRIMCgRsb2dvGA8gASgJEg4KBnN0cmVhbRgQIAEoCRINCgVzcG9ydBgRIAEoCRIUCgxwYXVzZV9hZF91cmwYEiADKAkiKQoLUXVlcnlPcHRpb24SCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJIi4KEEFycmF5UXVlcnlPcHRpb24SCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgAygJIr8CCgVRdWVyeRIQCghwcm92aWRlchgBIAEoCRIuCgVtYXRjaBgCIAMoCzIfLnN0cmVhbWxheWVyLnNwb3J0cy5RdWVyeU9wdGlvbhIrCgJuZRgDIAMoCzIfLnN0cmVhbWxheWVyLnNwb3J0cy5RdWVyeU9wdGlvbhIrCgJlcRgEIAMoCzIfLnN0cmVhbWxheWVyLnNwb3J0cy5RdWVyeU9wdGlvbhI1CgdiZXR3ZWVuGAUgAygLMiQuc3RyZWFtbGF5ZXIuc3BvcnRzLkFycmF5UXVlcnlPcHRpb24SNgoIaW5jbHVkZXMYBiADKAsyJC5zdHJlYW1sYXllci5zcG9ydHMuQXJyYXlRdWVyeU9wdGlvbhIrCgJpcxgHIAMoCzIfLnN0cmVhbWxheWVyLnNwb3J0cy5RdWVyeU9wdGlvbiqzAQoQTGVhZ3VlU3luY1N0YXR1cxIcChhMRUFHVUVfU1lOQ19TVEFUVVNfVU5TRVQQABIgChxMRUFHVUVfU1lOQ19TVEFUVVNfU0NIRURVTEVEEAESIgoeTEVBR1VFX1NZTkNfU1RBVFVTX0lOX1BST0dSRVNTEAISHQoZTEVBR1VFX1NZTkNfU1RBVFVTX1NZTkNFRBADEhwKGExFQUdVRV9TWU5DX1NUQVRVU19FUlJPUhAEKt4BCgtFdmVudFN0YXR1cxIWChJFVkVOVF9TVEFUVVNfVU5TRVQQABIYChRFVkVOVF9TVEFUVVNfUFJFR0FNRRABEhcKE0VWRU5UX1NUQVRVU19BQ1RJVkUQAhIWChJFVkVOVF9TVEFUVVNfQlJFQUsQAxIZChVFVkVOVF9TVEFUVVNfT1ZFUlRJTUUQBBIaChZFVkVOVF9TVEFUVVNfU0hPT1RPVVRTEAUSGQoVRVZFTlRfU1RBVFVTX1BPU1RHQU1FEAYSGgoWRVZFTlRfU1RBVFVTX0NBTkNFTExFRBAHKl4KDEV2ZW50RW5kbGVzcxIXChNFVkVOVF9FTkRMRVNTX1VOU0VUEAASGQoVRVZFTlRfRU5ETEVTU19FTkFCTEVEEAESGgoWRVZFTlRfRU5ETEVTU19ESVNBQkxFRBACQqoBCh1jb20uc3RyZWFtbGF5ZXIuc3BvcnRzLmNvbW1vbkIcU3RyZWFtTGF5ZXJTcG9ydHNDb21tb25Qcm90b1ABWmBnaXRodWIuY29tL3N0cmVhbWxheWVyL3NsLXByb3RvZmlsZXMvLmJ1aWxkL2dvL3N0cmVhbWxheWVyL3Nwb3J0cy9ldmVudHMvY29tbW9uO3NsX2V2ZW50c19jb21tb26iAgZTTF9BUEliBnByb3RvMw"),ote=Ut("CipzdHJlYW1sYXllci9zcG9ydHMvYmFzZWJhbGwvYmFzZWJhbGwucHJvdG8SG3N0cmVhbWxheWVyLnNwb3J0cy5iYXNlYmFsbCKsAQoOUGl0Y2hlclN1bW1hcnkSOQoKc3RhdGlzdGljcxgBIAEoCzIlLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNlYmFsbC5QaXRjaGluZxI6CgZzdGF0dXMYAiABKA4yKi5zdHJlYW1sYXllci5zcG9ydHMuYmFzZWJhbGwuUGl0Y2hlclN0YXR1cxIQCgh3aW5fcmF0ZRgDIAEoBRIRCglsb3NzX3JhdGUYBCABKAUiNAoGUnVubmVyEhMKC3BsYXllcl9uYW1lGAEgASgJEhUKDWplcnNleV9udW1iZXIYAiABKAkigwEKDFJ1bm5lck9uQmFzZRI+CgtiYXNlX251bWJlchgBIAEoDjIpLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNlYmFsbC5CYXNlYmFsbEJhc2USMwoGcGxheWVyGAIgASgLMiMuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLlJ1bm5lciKBAQoHSGl0dGluZxITCgtwbGF5ZXJfbmFtZRgBIAEoCRIUCgxoaXRzX3Blcl9iYXQYAiABKAkSDAoEcnVucxgDIAEoCRIVCg1ydW5fYmF0dGVkX2luGAQgASgJEg0KBXdhbGtzGAUgASgJEhcKD2JhdHRpbmdfYXZlcmFnZRgGIAEoCSJjCgdCYXR0aW5nEhMKC3BsYXllcl9uYW1lGAEgASgJEg4KBmF0X2JhdBgCIAEoCRIMCgRydW5zGAMgASgJEgwKBGhpdHMYBCABKAkSFwoPYmF0dGluZ19hdmVyYWdlGAUgASgJIocBCghQaXRjaGluZxITCgtwbGF5ZXJfbmFtZRgBIAEoCRIXCg9pbm5pbmdzX3BpdGNoZWQYAiABKAkSFQoNaGl0c19ieV9waXRjaBgDIAEoCRITCgtlYXJuZWRfcnVucxgEIAEoCRINCgV3YWxrcxgFIAEoCRISCgpzdHJpa2VvdXRzGAYgASgJIrwBChNCYXNlYmFsbFRlYW1TdW1tYXJ5EjUKB2hpdHRpbmcYASADKAsyJC5zdHJlYW1sYXllci5zcG9ydHMuYmFzZWJhbGwuSGl0dGluZxI1CgdiYXR0aW5nGAIgAygLMiQuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLkJhdHRpbmcSNwoIcGl0Y2hpbmcYAyADKAsyJS5zdHJlYW1sYXllci5zcG9ydHMuYmFzZWJhbGwuUGl0Y2hpbmcirQIKD0Jhc2ViYWxsU3VtbWFyeRJBCgxob21lX3BpdGNoZXIYASABKAsyKy5zdHJlYW1sYXllci5zcG9ydHMuYmFzZWJhbGwuUGl0Y2hlclN1bW1hcnkSQQoMYXdheV9waXRjaGVyGAIgASgLMisuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLlBpdGNoZXJTdW1tYXJ5EkkKD2hvbWVfc3RhdGlzdGljcxgDIAEoCzIwLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNlYmFsbC5CYXNlYmFsbFRlYW1TdW1tYXJ5EkkKD2F3YXlfc3RhdGlzdGljcxgEIAEoCzIwLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNlYmFsbC5CYXNlYmFsbFRlYW1TdW1tYXJ5IowDChxCYXNlYmFsbFBsYXlCeVBsYXlTdGF0aXN0aWNzEisKBHRlYW0YASABKAsyHS5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRUZWFtEg4KBmlubmluZxgCIAEoCRIRCglwbGF5X3RleHQYAyABKAkSbAoGZGV0YWlsGAQgAygLMlwuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLkJhc2ViYWxsUGxheUJ5UGxheVN0YXRpc3RpY3MuQmFzZWJhbGxQbGF5QnlQbGF5RGV0YWlsU3RhdGlzdGljcxIMCgRydW5zGAUgASgFEgwKBGhpdHMYBiABKAUSDgoGZXJyb3JzGAcgASgFGoEBCiJCYXNlYmFsbFBsYXlCeVBsYXlEZXRhaWxTdGF0aXN0aWNzEhIKCnNjb3JlX2hvbWUYASABKAUSEgoKc2NvcmVfYXdheRgCIAEoBRIRCglwbGF5X3RleHQYAyABKAkSDwoHc2NvcmluZxgEIAEoCBIPCgdwbGF5X2lkGAcgASgFIr4CCgpFdmVudFNjb3JlEgwKBG91dHMYASABKAUSDgoGaW5uaW5nGAIgASgFEhcKD2lubmluZ19kaXZpc2lvbhgDIAEoCRISCgppc19kZWxheWVkGAQgASgIEhgKEHJlYXNvbl9mb3JfZGVsYXkYBSABKAkSQgoPcnVubmVyc19vbl9iYXNlGAYgAygLMikuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLlJ1bm5lck9uQmFzZRITCgt0YWtlbl9iYXNlcxgHIAEoBRI4ChBob21lX3RlYW1fcmVjb3JkGAggASgLMh4uc3RyZWFtbGF5ZXIuc3BvcnRzLlRlYW1SZWNvcmQSOAoQYXdheV90ZWFtX3JlY29yZBgJIAEoCzIeLnN0cmVhbWxheWVyLnNwb3J0cy5UZWFtUmVjb3JkIlsKClBsYXlCeVBsYXkSTQoKc3RhdGlzdGljcxgBIAMoCzI5LnN0cmVhbWxheWVyLnNwb3J0cy5iYXNlYmFsbC5CYXNlYmFsbFBsYXlCeVBsYXlTdGF0aXN0aWNzIlAKDEV2ZW50U3VtbWFyeRJACgpzdGF0aXN0aWNzGAEgASgLMiwuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLkJhc2ViYWxsU3VtbWFyeSKSAwoMVGVhbVN0YW5kaW5nEgoKAmlkGAEgASgEEgwKBG5hbWUYAiABKAkSDQoFYWxpYXMYAyABKAkSDAoEbG9nbxgEIAEoCRIOCgZjb2xvcnMYBSADKAkSDAoEd2lucxgGIAEoBRIOCgZsb3NzZXMYByABKAUSCwoDcGN0GAggASgBEhQKDGdhbWVzX2JlaGluZBgJIAEoBRJACgZzdHJlYWsYCiABKAsyMC5zdHJlYW1sYXllci5zcG9ydHMuYmFzZWJhbGwuVGVhbVN0YW5kaW5nLlN0cmVhaxI8CgRyYW5rGAsgASgLMi4uc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLlRlYW1TdGFuZGluZy5SYW5rEhAKCGRpdmlzaW9uGAwgASgJEhIKCmNvbmZlcmVuY2UYDSABKAkaJgoGU3RyZWFrEg4KBmxvc3NlcxgBIAEoBRIMCgR3aW5zGAIgASgFGiwKBFJhbmsSEAoIZGl2aXNpb24YASABKAUSEgoKY29uZmVyZW5jZRgCIAEoBSJJCglTdGFuZGluZ3MSPAoJc3RhbmRpbmdzGAEgAygLMikuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLlRlYW1TdGFuZGluZypaCg1QaXRjaGVyU3RhdHVzEhgKFFBJVENIRVJfU1RBVFVTX1VOU0VUEAASFgoSUElUQ0hFUl9TVEFUVVNfV0lOEAESFwoTUElUQ0hFUl9TVEFUVVNfTE9TUxACKnMKDEJhc2ViYWxsQmFzZRIXChNCQVNFQkFMTF9CQVNFX1VOU0VUEAASFwoTQkFTRUJBTExfQkFTRV9GSVJTVBABEhgKFEJBU0VCQUxMX0JBU0VfU0VDT05EEAISFwoTQkFTRUJBTExfQkFTRV9USElSRBADQrIBCh9jb20uc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsQh5TdHJlYW1MYXllclNwb3J0c0Jhc2ViYWxsUHJvdG9QAVpkZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9zcG9ydHMvZXZlbnRzL2Jhc2ViYWxsO3NsX2V2ZW50c19iYXNlYmFsbKICBlNMX0FQSWIGcHJvdG8z",[Vp]),lte=Ut("Ci5zdHJlYW1sYXllci9zcG9ydHMvYmFza2V0YmFsbC9iYXNrZXRiYWxsLnByb3RvEh1zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbCKAAQoKRXZlbnRTY29yZRI4ChBob21lX3RlYW1fcmVjb3JkGAggASgLMh4uc3RyZWFtbGF5ZXIuc3BvcnRzLlRlYW1SZWNvcmQSOAoQYXdheV90ZWFtX3JlY29yZBgJIAEoCzIeLnN0cmVhbWxheWVyLnNwb3J0cy5UZWFtUmVjb3JkIpYBChVCYXNrZXRiYWxsVGVhbVN1bW1hcnkSHQoVZmllbGRfZ29hbF9wZXJjZW50YWdlGAEgASgBEhwKFHRocmVlX3B0c19wZXJjZW50YWdlGAIgASgBEh0KFWZyZWVfdGhyb3dfcGVyY2VudGFnZRgDIAEoARIPCgdhc3Npc3RzGAQgASgFEhAKCHJlYm91bmRzGAUgASgFIkEKE0Jhc2tldGJhbGxQZXJmb3JtZXISDAoEbmFtZRgBIAEoCRINCgVwaG90bxgCIAEoCRINCgVzY29yZRgDIAEoCSL2AQoUQmFza2V0YmFsbFBlcmZvcm1lcnMSTAoIY2F0ZWdvcnkYASABKA4yOi5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5CYXNrZXRiYWxsUGVyZm9ybWVyQ2F0ZWdvcnkSRwoLaG9tZV9wbGF5ZXIYAiABKAsyMi5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5CYXNrZXRiYWxsUGVyZm9ybWVyEkcKC2F3YXlfcGxheWVyGAMgASgLMjIuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2tldGJhbGwuQmFza2V0YmFsbFBlcmZvcm1lciKxAQoRQmFza2V0YmFsbFN1bW1hcnkSTQoPaG9tZV9zdGF0aXN0aWNzGAEgASgLMjQuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2tldGJhbGwuQmFza2V0YmFsbFRlYW1TdW1tYXJ5Ek0KD2F3YXlfc3RhdGlzdGljcxgCIAEoCzI0LnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLkJhc2tldGJhbGxUZWFtU3VtbWFyeSLpAQoMRXZlbnRTdW1tYXJ5EkQKCnN0YXRpc3RpY3MYASABKAsyMC5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5CYXNrZXRiYWxsU3VtbWFyeRJLCg50b3BfcGVyZm9ybWVycxgCIAMoCzIzLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLkJhc2tldGJhbGxQZXJmb3JtZXJzEkYKCmxhc3RfZ2FtZXMYAyABKAsyMi5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5CYXNrZXRiYWxsTGFzdEdhbWVzIt0BCh5CYXNrZXRiYWxsUGxheUJ5UGxheVN0YXRpc3RpY3MSKwoEdGVhbRgBIAEoCzIdLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudFRlYW0SMQoKZXZlbnRfdGltZRgCIAEoCzIdLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudFRpbWUSEgoKc2NvcmVfaG9tZRgDIAEoBRISCgpzY29yZV9hd2F5GAQgASgFEhEKCXBsYXlfdGV4dBgFIAEoCRIPCgdzY29yaW5nGAYgASgIEg8KB3BsYXlfaWQYByABKAUiXwoKUGxheUJ5UGxheRJRCgpzdGF0aXN0aWNzGAEgAygLMj0uc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2tldGJhbGwuQmFza2V0YmFsbFBsYXlCeVBsYXlTdGF0aXN0aWNzIoYBCgxQbGF5ZXJTY29yZXMSDgoGamVyc2V5GAEgASgFEhEKCWZ1bGxfbmFtZRgCIAEoCRIOCgZwb2ludHMYAyABKAUSDwoHYXNzaXN0cxgEIAEoBRIQCghyZWJvdW5kcxgFIAEoBRIPCgdtaW51dGVzGAYgASgBEg8KB3N0YXJ0ZXIYByABKAgikAEKCEJveHNjb3JlEkEKDGhvbWVfcGxheWVycxgBIAMoCzIrLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLlBsYXllclNjb3JlcxJBCgxhd2F5X3BsYXllcnMYAiADKAsyKy5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5QbGF5ZXJTY29yZXMilgMKDFRlYW1TdGFuZGluZxIKCgJpZBgBIAEoBBIMCgRuYW1lGAIgASgJEg0KBWFsaWFzGAMgASgJEgwKBGxvZ28YBCABKAkSDgoGY29sb3JzGAUgAygJEgwKBHdpbnMYBiABKAUSDgoGbG9zc2VzGAcgASgFEgsKA3BjdBgIIAEoARIUCgxnYW1lc19iZWhpbmQYCSABKAUSQgoGc3RyZWFrGAogASgLMjIuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2tldGJhbGwuVGVhbVN0YW5kaW5nLlN0cmVhaxI+CgRyYW5rGAsgASgLMjAuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2tldGJhbGwuVGVhbVN0YW5kaW5nLlJhbmsSEAoIZGl2aXNpb24YDCABKAkSEgoKY29uZmVyZW5jZRgNIAEoCRomCgZTdHJlYWsSDAoEa2luZBgBIAEoCRIOCgZsZW5ndGgYAiABKAUaLAoEUmFuaxIQCghkaXZpc2lvbhgBIAEoBRISCgpjb25mZXJlbmNlGAIgASgFIksKCVN0YW5kaW5ncxI+CglzdGFuZGluZ3MYASADKAsyKy5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5UZWFtU3RhbmRpbmcihQEKFUJhc2tldGJhbGxNYXRjaFBsYXllchISCgpmaXJzdF9uYW1lGAEgASgJEhEKCWxhc3RfbmFtZRgCIAEoCRIUCgxkaXNwbGF5X25hbWUYAyABKAkSDQoFcGhvdG8YBCABKAkSEAoIcG9zaXRpb24YBSABKAkSDgoGamVyc2V5GAYgASgFIq8BChVCYXNrZXRiYWxsTWF0Y2hMaW5ldXASSwoNc3RhcnRfcGxheWVycxgDIAMoCzI0LnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLkJhc2tldGJhbGxNYXRjaFBsYXllchJJCgtzdWJzdGl0dXRlcxgEIAMoCzI0LnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLkJhc2tldGJhbGxNYXRjaFBsYXllciKqAQoWQmFza2V0YmFsbE1hdGNoTGluZXVwcxJHCglob21lX3RlYW0YASABKAsyNC5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5CYXNrZXRiYWxsTWF0Y2hMaW5ldXASRwoJYXdheV90ZWFtGAIgASgLMjQuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2tldGJhbGwuQmFza2V0YmFsbE1hdGNoTGluZXVwIpECChJCYXNrZXRiYWxsTGFzdEdhbWUSCgoCaWQYASABKAQSYgoKYXR0cmlidXRlcxgCIAEoCzJOLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLkJhc2tldGJhbGxMYXN0R2FtZS5CYXNrZXRiYWxsTGFzdEdhbWVBdHRyaWJ1dGVzGooBChxCYXNrZXRiYWxsTGFzdEdhbWVBdHRyaWJ1dGVzEg4KBmxlYWd1ZRgBIAEoCRIRCglob21lX3RlYW0YAiABKAkSEQoJYXdheV90ZWFtGAMgASgJEhIKCmhvbWVfc2NvcmUYBSABKAUSEgoKYXdheV9zY29yZRgGIAEoBRIMCgRkYXRlGAcgASgJIuABChNCYXNrZXRiYWxsTGFzdEdhbWVzEj8KBGhvbWUYASADKAsyMS5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5CYXNrZXRiYWxsTGFzdEdhbWUSPwoEYXdheRgCIAMoCzIxLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLkJhc2tldGJhbGxMYXN0R2FtZRJHCgxoZWFkX3RvX2hlYWQYAyADKAsyMS5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5CYXNrZXRiYWxsTGFzdEdhbWUqxwEKG0Jhc2tldGJhbGxQZXJmb3JtZXJDYXRlZ29yeRInCiNCQVNLRVRCQUxMX1BFUkZPUk1FUl9DQVRFR09SWV9VTlNFVBAAEigKJEJBU0tFVEJBTExfUEVSRk9STUVSX0NBVEVHT1JZX1BPSU5UUxABEioKJkJBU0tFVEJBTExfUEVSRk9STUVSX0NBVEVHT1JZX1JFQk9VTkRTEAISKQolQkFTS0VUQkFMTF9QRVJGT1JNRVJfQ0FURUdPUllfQVNTSVNUUxADQroBCiFjb20uc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2tldGJhbGxCIFN0cmVhbUxheWVyU3BvcnRzQmFza2V0YmFsbFByb3RvUAFaaGdpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvc3BvcnRzL2V2ZW50cy9iYXNrZXRiYWxsO3NsX2V2ZW50c19iYXNrZXRiYWxsogIGU0xfQVBJYgZwcm90bzM",[Vp]),cte=Ut("CiZzdHJlYW1sYXllci9zcG9ydHMvaG9ja2V5L2hvY2tleS5wcm90bxIZc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleSKAAQoKRXZlbnRTY29yZRI4ChBob21lX3RlYW1fcmVjb3JkGAggASgLMh4uc3RyZWFtbGF5ZXIuc3BvcnRzLlRlYW1SZWNvcmQSOAoQYXdheV90ZWFtX3JlY29yZBgJIAEoCzIeLnN0cmVhbWxheWVyLnNwb3J0cy5UZWFtUmVjb3JkIj0KD0hvY2tleVBlcmZvcm1lchIMCgRuYW1lGAEgASgJEg0KBXBob3RvGAIgASgJEg0KBXNjb3JlGAMgASgFItoBChBIb2NrZXlQZXJmb3JtZXJzEkQKCGNhdGVnb3J5GAEgASgOMjIuc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5Ib2NrZXlQZXJmb3JtZXJDYXRlZ29yeRI/Cgtob21lX3BsYXllchgCIAMoCzIqLnN0cmVhbWxheWVyLnNwb3J0cy5ob2NrZXkuSG9ja2V5UGVyZm9ybWVyEj8KC2F3YXlfcGxheWVyGAMgAygLMiouc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5Ib2NrZXlQZXJmb3JtZXIiqwEKEUhvY2tleVRlYW1TdW1tYXJ5EhUKDXNob3RzX29uX2dvYWwYASABKAUSDwoHZmFjZW9mZhgCIAEoARIRCglwb3dlcnBsYXkYAyABKAUSFwoPcGVuYWx0eV9taW51dGVzGAQgASgFEgwKBGhpdHMYBSABKAUSDgoGYmxvY2tzGAYgASgFEhEKCWdpdmVhd2F5cxgHIAEoBRIRCgl0YWtlYXdheXMYCCABKAUinQEKDUhvY2tleVN1bW1hcnkSRQoPaG9tZV9zdGF0aXN0aWNzGAEgASgLMiwuc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5Ib2NrZXlUZWFtU3VtbWFyeRJFCg9hd2F5X3N0YXRpc3RpY3MYAiABKAsyLC5zdHJlYW1sYXllci5zcG9ydHMuaG9ja2V5LkhvY2tleVRlYW1TdW1tYXJ5IpEBCgxFdmVudFN1bW1hcnkSPAoKc3RhdGlzdGljcxgBIAEoCzIoLnN0cmVhbWxheWVyLnNwb3J0cy5ob2NrZXkuSG9ja2V5U3VtbWFyeRJDCg50b3BfcGVyZm9ybWVycxgCIAMoCzIrLnN0cmVhbWxheWVyLnNwb3J0cy5ob2NrZXkuSG9ja2V5UGVyZm9ybWVycyLZAQoaSG9ja2V5UGxheUJ5UGxheVN0YXRpc3RpY3MSKwoEdGVhbRgBIAEoCzIdLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudFRlYW0SMQoKZXZlbnRfdGltZRgCIAEoCzIdLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudFRpbWUSEgoKc2NvcmVfaG9tZRgDIAEoBRISCgpzY29yZV9hd2F5GAQgASgFEhEKCXBsYXlfdGV4dBgFIAEoCRIPCgdzY29yaW5nGAYgASgIEg8KB3BsYXlfaWQYByABKAUiVwoKUGxheUJ5UGxheRJJCgpzdGF0aXN0aWNzGAEgAygLMjUuc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5Ib2NrZXlQbGF5QnlQbGF5U3RhdGlzdGljcyLMAQoLUGxheWVyU2NvcmUSDgoGamVyc2V5GAEgASgFEhEKCWZ1bGxfbmFtZRgCIAEoCRINCgVnb2FscxgDIAEoBRIPCgdhc3Npc3RzGAQgASgFEg0KBXNob3RzGAUgASgFEhcKD3BlbmFsdHlfbWludXRlcxgGIAEoARIPCgdtaW51dGVzGAcgASgJEkEKCHBvc2l0aW9uGAggASgOMi8uc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5Ib2NrZXlQbGF5ZXJQb3NpdGlvbiLYAQoPR29hbHRlbmRlclNjb3JlEg4KBmplcnNleRgBIAEoBRIRCglmdWxsX25hbWUYAiABKAkSFQoNc2hvdHNfYWdhaW50cxgDIAEoBRIVCg1nb2Fsc19hZ2FpbnRzGAQgASgFEg0KBXNhdmVzGAUgASgFEhEKCXNhdmVzX3BjdBgGIAEoBRIPCgdtaW51dGVzGAcgASgJEkEKCHBvc2l0aW9uGAggASgOMi8uc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5Ib2NrZXlQbGF5ZXJQb3NpdGlvbiK+AgoMUGxheWVyU2NvcmVzEjcKB3NrYXRlcnMYASADKAsyJi5zdHJlYW1sYXllci5zcG9ydHMuaG9ja2V5LlBsYXllclNjb3JlEj4KCmdvYWx0ZW5kZXIYAiABKAsyKi5zdHJlYW1sYXllci5zcG9ydHMuaG9ja2V5LkdvYWx0ZW5kZXJTY29yZRI4Cghmb3J3YXJkcxgDIAMoCzImLnN0cmVhbWxheWVyLnNwb3J0cy5ob2NrZXkuUGxheWVyU2NvcmUSOgoKZGVmZW5zZW1lbhgEIAMoCzImLnN0cmVhbWxheWVyLnNwb3J0cy5ob2NrZXkuUGxheWVyU2NvcmUSPwoLZ29hbHRlbmRlcnMYBSADKAsyKi5zdHJlYW1sYXllci5zcG9ydHMuaG9ja2V5LkdvYWx0ZW5kZXJTY29yZSKIAQoIQm94c2NvcmUSPQoMaG9tZV9wbGF5ZXJzGAEgASgLMicuc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5QbGF5ZXJTY29yZXMSPQoMYXdheV9wbGF5ZXJzGAIgASgLMicuc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5QbGF5ZXJTY29yZXMijgMKDFRlYW1TdGFuZGluZxIKCgJpZBgBIAEoBBIMCgRuYW1lGAIgASgJEg0KBWFsaWFzGAMgASgJEgwKBGxvZ28YBCABKAkSDgoGY29sb3JzGAUgAygJEgwKBHdpbnMYBiABKAUSDgoGbG9zc2VzGAcgASgFEgsKA3BjdBgIIAEoARIUCgxnYW1lc19iZWhpbmQYCSABKAUSPgoGc3RyZWFrGAogASgLMi4uc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5UZWFtU3RhbmRpbmcuU3RyZWFrEjoKBHJhbmsYCyABKAsyLC5zdHJlYW1sYXllci5zcG9ydHMuaG9ja2V5LlRlYW1TdGFuZGluZy5SYW5rEhAKCGRpdmlzaW9uGAwgASgJEhIKCmNvbmZlcmVuY2UYDSABKAkaJgoGU3RyZWFrEgwKBGtpbmQYASABKAkSDgoGbGVuZ3RoGAIgASgFGiwKBFJhbmsSEAoIZGl2aXNpb24YASABKAUSEgoKY29uZmVyZW5jZRgCIAEoBSJHCglTdGFuZGluZ3MSOgoJc3RhbmRpbmdzGAEgAygLMicuc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5UZWFtU3RhbmRpbmcq0QEKF0hvY2tleVBlcmZvcm1lckNhdGVnb3J5EiMKH0hPQ0tFWV9QRVJGT1JNRVJfQ0FURUdPUllfVU5TRVQQABIjCh9IT0NLRVlfUEVSRk9STUVSX0NBVEVHT1JZX0dPQUxTEAESIwofSE9DS0VZX1BFUkZPUk1FUl9DQVRFR09SWV9TSE9UUxACEiIKHkhPQ0tFWV9QRVJGT1JNRVJfQ0FURUdPUllfSElUUxADEiMKH0hPQ0tFWV9QRVJGT1JNRVJfQ0FURUdPUllfU0FWRVMQBCrzAQoUSG9ja2V5UGxheWVyUG9zaXRpb24SIAocSE9DS0VZX1BMQVlFUl9QT1NJVElPTl9VTlNFVBAAEiEKHUhPQ0tFWV9QTEFZRVJfUE9TSVRJT05fQ0VOVEVSEAESJAogSE9DS0VZX1BMQVlFUl9QT1NJVElPTl9MRUZUX1dJTkQQAhIlCiFIT0NLRVlfUExBWUVSX1BPU0lUSU9OX1JJR0hUX1dJTkcQAxIiCh5IT0NLRVlfUExBWUVSX1BPU0lUSU9OX0RFRkVOU0UQBBIlCiFIT0NLRVlfUExBWUVSX1BPU0lUSU9OX0dPQUxURU5ERVIQBUKqAQodY29tLnN0cmVhbWxheWVyLnNwb3J0cy5ob2NrZXlCHFN0cmVhbUxheWVyU3BvcnRzSG9ja2V5UHJvdG9QAVpgZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9zcG9ydHMvZXZlbnRzL2hvY2tleTtzbF9ldmVudHNfaG9ja2V5ogIGU0xfQVBJYgZwcm90bzM",[Vp]),ute=Ut("CiZzdHJlYW1sYXllci9zcG9ydHMvc29jY2VyL3NvY2Nlci5wcm90bxIZc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2NlciKAAQoKRXZlbnRTY29yZRI4ChBob21lX3RlYW1fcmVjb3JkGAggASgLMh4uc3RyZWFtbGF5ZXIuc3BvcnRzLlRlYW1SZWNvcmQSOAoQYXdheV90ZWFtX3JlY29yZBgJIAEoCzIeLnN0cmVhbWxheWVyLnNwb3J0cy5UZWFtUmVjb3JkIj0KD1NvY2NlclBlcmZvcm1lchIMCgRuYW1lGAEgASgJEg0KBXBob3RvGAIgASgJEg0KBXNjb3JlGAMgASgFIqEBChRTb2NjZXJBdHRhY2tQZXJmb21lchI8CghwZXJmb21lchgBIAEoCzIqLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyUGVyZm9ybWVyEksKDGF0dGFja19zdGF0cxgCIAEoCzI1LnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyUGxheWVyQXR0YWNraW5nU3RhdHMipQEKF1NvY2Nlck1pZGZpZWxkUGVyZm9ybWVyEjwKCHBlcmZvbWVyGAEgASgLMiouc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJQZXJmb3JtZXISTAoObWlkZmllbGRfc3RhdHMYAiABKAsyNC5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2NlclBsYXllck1pZGZpZWxkU3RhdHMioQEKFVNvY2NlckRlZmVuc2VQZXJmb21lchI8CghwZXJmb21lchgBIAEoCzIqLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyUGVyZm9ybWVyEkoKDWRlZmVuc2Vfc3RhdHMYAiABKAsyMy5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2NlclBsYXllckRlZmVuc2VTdGF0cyLAAgoQU29jY2VyUGVyZm9ybWVycxJECghjYXRlZ29yeRgBIAEoDjIyLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyUGVyZm9ybWVyQ2F0ZWdvcnkSSQoQYXR0YWNrX3BlcmZvcm1lchgCIAEoCzIvLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyQXR0YWNrUGVyZm9tZXISTgoSbWlkZmllbGRfcGVyZm9ybWVyGAMgASgLMjIuc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJNaWRmaWVsZFBlcmZvcm1lchJLChFkZWZlbnNlX3BlcmZvcm1lchgEIAEoCzIwLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyRGVmZW5zZVBlcmZvbWVyIsoBChdTb2NjZXJUZWFtVG9wTWF0Y2hTdGF0cxISCgpwb3NzZXNzaW9uGAEgASgBEg0KBXNob3RzGAIgASgFEhcKD3Nob3RzX29uX3RhcmdldBgDIAEoBRIOCgZwYXNzZXMYBCABKAUSEAoIb2Zmc2lkZXMYBSABKAUSFAoMeWVsbG93X2NhcmRzGAYgASgFEhQKDGNvcm5lcl9raWNrcxgHIAEoBRISCgpmcmVlX2tpY2tzGAggASgFEhEKCXJlZF9jYXJkcxgJIAEoBSJ9ChhTb2NjZXJUZWFtQXR0YWNraW5nU3RhdHMSEgoKcG9zc2Vzc2lvbhgBIAEoARIYChBwYXNzaW5nX2FjY3VyYWN5GAIgASgBEhcKD2NoYW5jZXNfY3JlYXRlZBgDIAEoBRIaChJzdWNjZXNzZnVsX2Nyb3NzZXMYBCABKAEigwEKFlNvY2NlclRlYW1EZWZlbnNlU3RhdHMSFAoMdGFja2xlc19tYWRlGAEgASgFEhUKDWludGVyY2VwdGlvbnMYAiABKAUSFQoNYmxvY2tlZF9zaG90cxgDIAEoBRISCgpjbGVhcmFuY2VzGAQgASgFEhEKCWR1ZWxzX3dvbhgFIAEoBSL4AQoRU29jY2VyVGVhbVN1bW1hcnkSSwoPdG9wX21hdGNoX3N0YXRzGAEgASgLMjIuc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJUZWFtVG9wTWF0Y2hTdGF0cxJMCg9hdHRhY2tpbmdfc3RhdHMYAiABKAsyMy5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2NlclRlYW1BdHRhY2tpbmdTdGF0cxJICg1kZWZlbnNlX3N0YXRzGAMgASgLMjEuc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJUZWFtRGVmZW5zZVN0YXRzIt0BCg1Tb2NjZXJTdW1tYXJ5EkUKD2hvbWVfc3RhdGlzdGljcxgBIAEoCzIsLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyVGVhbVN1bW1hcnkSRQoPYXdheV9zdGF0aXN0aWNzGAIgASgLMiwuc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJUZWFtU3VtbWFyeRI+CglwZXJmb21lcnMYAyABKAsyKy5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2NlclBlcmZvcm1lcnMijAEKDEV2ZW50U3VtbWFyeRI8CgpzdGF0aXN0aWNzGAEgASgLMiguc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJTdW1tYXJ5Ej4KCmxhc3RfZ2FtZXMYAiABKAsyKi5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2Nlckxhc3RHYW1lcyJ+ChpTb2NjZXJQbGF5ZXJBdHRhY2tpbmdTdGF0cxINCgVnb2FscxgBIAEoBRIPCgdhc3Npc3RzGAIgASgFEg0KBXNob3RzGAMgASgFEhUKDXNob3RzX29uX2dvYWwYBCABKAUSGgoScGVuYWx0eV9raWNrX2dvYWxzGAUgASgFInEKGVNvY2NlclBsYXllck1pZGZpZWxkU3RhdHMSDQoFZ29hbHMYASABKAUSDwoHYXNzaXN0cxgCIAEoBRISCgprZXlfcGFzc2VzGAMgASgFEg8KB2Nyb3NzZXMYBCABKAUSDwoHY29ybmVycxgFIAEoBSJ+ChhTb2NjZXJQbGF5ZXJEZWZlbnNlU3RhdHMSDQoFZ29hbHMYASABKAUSDwoHYXNzaXN0cxgCIAEoBRIUCgx0YWNrbGVzX21hZGUYAyABKAUSFQoNaW50ZXJjZXB0aW9ucxgEIAEoBRIVCg1ibG9ja2VkX3Nob3RzGAUgASgFIk0KD1NvY2Nlck1hdGNoT2RkcxIVCg1ob21lX3RlYW1fd2luGAEgASgBEgwKBGRyYXcYAiABKAESFQoNYXdheV90ZWFtX3dpbhgDIAEoASJdCiBTb2NjZXJNYXRjaEZvcm1hdGlvbk1hdHJpeFBsYXllchIVCg1qZXJzZXlfbnVtYmVyGAEgASgFEhMKC3BsYXllcl9uYW1lGAIgASgJEg0KBXBob3RvGAMgASgJIm4KGlNvY2Nlck1hdGNoRm9ybWF0aW9uTWF0cml4ElAKC3Jvd19wbGF5ZXJzGAEgAygLMjsuc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJNYXRjaEZvcm1hdGlvbk1hdHJpeFBsYXllciKBAQoRU29jY2VyTWF0Y2hQbGF5ZXISEgoKZmlyc3RfbmFtZRgBIAEoCRIRCglsYXN0X25hbWUYAiABKAkSFAoMZGlzcGxheV9uYW1lGAMgASgJEg0KBXBob3RvGAQgASgJEhAKCHBvc2l0aW9uGAUgASgJEg4KBmplcnNleRgGIAEoBSKGAgoRU29jY2VyTWF0Y2hMaW5ldXASGAoQZm9ybWF0aW9uX3N0cmluZxgBIAEoCRJPChBmb3JtYXRpb25fbWF0cml4GAIgAygLMjUuc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJNYXRjaEZvcm1hdGlvbk1hdHJpeBJDCg1zdGFydF9wbGF5ZXJzGAMgAygLMiwuc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJNYXRjaFBsYXllchJBCgtzdWJzdGl0dXRlcxgEIAMoCzIsLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyTWF0Y2hQbGF5ZXIilgEKElNvY2Nlck1hdGNoTGluZXVwcxI/Cglob21lX3RlYW0YASABKAsyLC5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2Nlck1hdGNoTGluZXVwEj8KCWF3YXlfdGVhbRgCIAEoCzIsLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyTWF0Y2hMaW5ldXAiUgoQU29jY2VyTWF0Y2hTY29yZRIQCghldmVudF9pZBgBIAEoBBILCgNtaWwYAiABKAESDQoFcm91bmQYAyABKAkSEAoIbGl2ZV91cmwYBCABKAkimwIKGlNvY2NlclBsYXlCeVBsYXlTdGF0aXN0aWNzEisKBHRlYW0YASABKAsyHS5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRUZWFtEjEKCmV2ZW50X3RpbWUYAiABKAsyHS5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRUaW1lEhIKCnNjb3JlX2hvbWUYAyABKAUSEgoKc2NvcmVfYXdheRgEIAEoBRIRCglwbGF5X3RleHQYBSABKAkSDwoHc2NvcmluZxgGIAEoCBIPCgdwbGF5X2lkGAcgASgFEkAKBHR5cGUYCCABKA4yMi5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2Nlck1hdGNoQWN0aXZpdHlUeXBlIlcKClBsYXlCeVBsYXkSSQoKc3RhdGlzdGljcxgBIAMoCzI1LnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyUGxheUJ5UGxheVN0YXRpc3RpY3Mi/wEKDFRlYW1TdGFuZGluZxIKCgJpZBgBIAEoBBIMCgRuYW1lGAIgASgJEg0KBWFsaWFzGAMgASgJEgwKBGxvZ28YBCABKAkSDgoGY29sb3JzGAUgAygJEgwKBHdpbnMYBiABKAUSDgoGbG9zc2VzGAcgASgFEg0KBWRyYXdzGAggASgFEhQKDGdhbWVzX2JlaGluZBgJIAEoBRIQCghkaXZpc2lvbhgMIAEoCRIOCgZwb2ludHMYDSABKAUSEAoIcG9zaXRpb24YDiABKAUSEwoLdG90YWxfZ29hbHMYDyABKAUSHAoUdG90YWxfZ29hbHNfcmVjZWl2ZWQYECABKAUiRwoJU3RhbmRpbmdzEjoKCXN0YW5kaW5ncxgBIAMoCzInLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuVGVhbVN0YW5kaW5nIv0BCg5Tb2NjZXJMYXN0R2FtZRIKCgJpZBgBIAEoBBJWCgphdHRyaWJ1dGVzGAIgASgLMkIuc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJMYXN0R2FtZS5Tb2NjZXJMYXN0R2FtZUF0dHJpYnV0ZXMahgEKGFNvY2Nlckxhc3RHYW1lQXR0cmlidXRlcxIOCgZsZWFndWUYASABKAkSEQoJaG9tZV90ZWFtGAIgASgJEhEKCWF3YXlfdGVhbRgDIAEoCRISCgpob21lX3Njb3JlGAUgASgFEhIKCmF3YXlfc2NvcmUYBiABKAUSDAoEZGF0ZRgHIAEoCSLEAQoPU29jY2VyTGFzdEdhbWVzEjcKBGhvbWUYASADKAsyKS5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2Nlckxhc3RHYW1lEjcKBGF3YXkYAiADKAsyKS5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2Nlckxhc3RHYW1lEj8KDGhlYWRfdG9faGVhZBgDIAMoCzIpLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyTGFzdEdhbWUqswEKF1NvY2NlclBlcmZvcm1lckNhdGVnb3J5EiMKH1NPQ0NFUl9QRVJGT1JNRVJfQ0FURUdPUllfVU5TRVQQABIkCiBTT0NDRVJfUEVSRk9STUVSX0NBVEVHT1JZX0FUVEFDSxABEiYKIlNPQ0NFUl9QRVJGT1JNRVJfQ0FURUdPUllfTUlERklFTEQQAhIlCiFTT0NDRVJfUEVSRk9STUVSX0NBVEVHT1JZX0RFRkVOU0UQAyqXAgoXU29jY2VyTWF0Y2hBY3Rpdml0eVR5cGUSHwobU09DQ0VSX01BVENIX0FDVElWSVRZX1VOU0VUEAASHgoaU09DQ0VSX01BVENIX0FDVElWSVRZX0dPQUwQARIlCiFTT0NDRVJfTUFUQ0hfQUNUSVZJVFlfWUVMTE9XX0NBUkQQAhIiCh5TT0NDRVJfTUFUQ0hfQUNUSVZJVFlfUkVEX0NBUkQQAxImCiJTT0NDRVJfTUFUQ0hfQUNUSVZJVFlfU1VCU1RJVFVUSU9OEAQSIwofU09DQ0VSX01BVENIX0FDVElWSVRZX0hBTEZfVElNRRAFEiMKH1NPQ0NFUl9NQVRDSF9BQ1RJVklUWV9GVUxMX1RJTUUQBkKqAQodY29tLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXJCHFN0cmVhbUxheWVyU3BvcnRzU29jY2VyUHJvdG9QAVpgZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9zcG9ydHMvZXZlbnRzL3NvY2NlcjtzbF9ldmVudHNfc29jY2VyogIGU0xfQVBJYgZwcm90bzM",[Vp]),dte=Ut("CiZzdHJlYW1sYXllci9zcG9ydHMvZXZlbnRzL2V2ZW50cy5wcm90bxIZc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cyLAAgoSU2NoZWR1bGVBdHRyaWJ1dGVzEjEKB3N1bW1hcnkYASABKAsyIC5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRTdW1tYXJ5EjsKCGJhc2ViYWxsGAIgASgLMicuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLkV2ZW50U2NvcmVIABI/CgpiYXNrZXRiYWxsGAMgASgLMikuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2tldGJhbGwuRXZlbnRTY29yZUgAEjcKBmhvY2tleRgEIAEoCzIlLnN0cmVhbWxheWVyLnNwb3J0cy5ob2NrZXkuRXZlbnRTY29yZUgAEjcKBnNvY2NlchgFIAEoCzIlLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuRXZlbnRTY29yZUgAQgcKBXNwb3J0IpkBChRTY2hlZHVsZVJlc3BvbnNlRGF0YRIKCgJpZBgBIAEoBBIyCgR0eXBlGAIgASgOMiQuc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5FdmVudFR5cGUSQQoKYXR0cmlidXRlcxgDIAEoCzItLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuU2NoZWR1bGVBdHRyaWJ1dGVzIkcKFkxpc3RSZXNwb25zZUF0dHJpYnV0ZXMSLQoGY29tbW9uGAEgASgLMh0uc3RyZWFtbGF5ZXIuc3BvcnRzLkV2ZW50RGF0YSJlChBMaXN0UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgEEkUKCmF0dHJpYnV0ZXMYAiABKAsyMS5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkxpc3RSZXNwb25zZUF0dHJpYnV0ZXMi9wIKC0xpc3RSZXF1ZXN0Ej0KBmZpbHRlchgBIAEoCzItLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuTGlzdFJlcXVlc3QuRmlsdGVyEjIKCnBhZ2luYXRpb24YAiABKAsyHi5zdHJlYW1sYXllci5zcG9ydHMuUGFnaW5hdGlvbhImCgRzb3J0GAMgASgLMhguc3RyZWFtbGF5ZXIuc3BvcnRzLlNvcnQSCwoDaWRzGAQgAygEEhcKD29yZ2FuaXphdGlvbl9pZBgFIAEoCRqmAQoGRmlsdGVyEgwKBGRhdGUYASABKAkSDgoGbGVhZ3VlGAIgASgJEhcKD3N0YXJ0X2RhdGVfdGltZRgDIAEoCRIVCg1lbmRfZGF0ZV90aW1lGAQgASgJEg0KBXNwb3J0GAUgASgJEgwKBG5hbWUYBiABKAkSMQoHZW5kbGVzcxgHIAEoDjIgLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudEVuZGxlc3Mi2AEKD0RlbW9MaXN0UmVxdWVzdBJBCgZmaWx0ZXIYASABKAsyMS5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkRlbW9MaXN0UmVxdWVzdC5GaWx0ZXISMgoKcGFnaW5hdGlvbhgCIAEoCzIeLnN0cmVhbWxheWVyLnNwb3J0cy5QYWdpbmF0aW9uEiYKBHNvcnQYAyABKAsyGC5zdHJlYW1sYXllci5zcG9ydHMuU29ydBomCgZGaWx0ZXISDAoEZGF0ZRgBIAEoCRIOCgZsZWFndWUYAiABKAkidQoQRGVtb0xpc3RSZXNwb25zZRImCgRtZXRhGAEgASgLMhguc3RyZWFtbGF5ZXIuc3BvcnRzLk1ldGESOQoEZGF0YRgCIAMoCzIrLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuTGlzdFJlc3BvbnNlRGF0YSJxCgxMaXN0UmVzcG9uc2USJgoEbWV0YRgBIAEoCzIYLnN0cmVhbWxheWVyLnNwb3J0cy5NZXRhEjkKBGRhdGEYAiADKAsyKy5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkxpc3RSZXNwb25zZURhdGEiNQoOU3VtbWFyeVJlcXVlc3QSCgoCaWQYASABKAQSFwoPb3JnYW5pemF0aW9uX2lkGAIgASgJIuMECg9TdW1tYXJ5UmVzcG9uc2USRQoEZGF0YRgBIAEoCzI3LnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuU3VtbWFyeVJlc3BvbnNlLlJlc3BvbnNlRGF0YRqIBAoMUmVzcG9uc2VEYXRhEgoKAmlkGAEgASgEEjIKBHR5cGUYAiABKA4yJC5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkV2ZW50VHlwZRJlCgphdHRyaWJ1dGVzGAMgASgLMlEuc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5TdW1tYXJ5UmVzcG9uc2UuUmVzcG9uc2VEYXRhLlN1bW1hcnlSZXNwb25zZUF0dHJpYnV0ZXMa0AIKGVN1bW1hcnlSZXNwb25zZUF0dHJpYnV0ZXMSMQoHc3VtbWFyeRgBIAEoCzIgLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudFN1bW1hcnkSPQoIYmFzZWJhbGwYAiABKAsyKS5zdHJlYW1sYXllci5zcG9ydHMuYmFzZWJhbGwuRXZlbnRTdW1tYXJ5SAASQQoKYmFza2V0YmFsbBgDIAEoCzIrLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLkV2ZW50U3VtbWFyeUgAEjkKBmhvY2tleRgEIAEoCzInLnN0cmVhbWxheWVyLnNwb3J0cy5ob2NrZXkuRXZlbnRTdW1tYXJ5SAASOQoGc29jY2VyGAUgASgLMicuc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5FdmVudFN1bW1hcnlIAEIICgZzcG9ydHMiOgoTQWRtaW5TdW1tYXJ5UmVxdWVzdBIKCgJpZBgBIAEoBBIXCg9vcmdhbml6YXRpb25faWQYAiABKAki0wQKFEFkbWluU3VtbWFyeVJlc3BvbnNlEkoKBGRhdGEYASABKAsyPC5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkFkbWluU3VtbWFyeVJlc3BvbnNlLlJlc3BvbnNlRGF0YRruAwoMUmVzcG9uc2VEYXRhEgoKAmlkGAEgASgEEmoKCmF0dHJpYnV0ZXMYAiABKAsyVi5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkFkbWluU3VtbWFyeVJlc3BvbnNlLlJlc3BvbnNlRGF0YS5TdW1tYXJ5UmVzcG9uc2VBdHRyaWJ1dGVzGuUCChlTdW1tYXJ5UmVzcG9uc2VBdHRyaWJ1dGVzEjEKB3N1bW1hcnkYASABKAsyIC5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRTdW1tYXJ5EhMKC3Byb3ZpZGVyX2lkGAIgASgJEj0KCGJhc2ViYWxsGAMgASgLMikuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLkV2ZW50U3VtbWFyeUgAEkEKCmJhc2tldGJhbGwYBCABKAsyKy5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5FdmVudFN1bW1hcnlIABI5CgZob2NrZXkYBSABKAsyJy5zdHJlYW1sYXllci5zcG9ydHMuaG9ja2V5LkV2ZW50U3VtbWFyeUgAEjkKBnNvY2NlchgGIAEoCzInLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuRXZlbnRTdW1tYXJ5SABCCAoGc3BvcnRzImIKEVBsYXlCeVBsYXlSZXF1ZXN0EgoKAmlkGAEgASgEEjIKCnBhZ2luYXRpb24YAiABKAsyHi5zdHJlYW1sYXllci5zcG9ydHMuUGFnaW5hdGlvbhINCgVvcmRlchgDIAEoCSKSBQoSUGxheUJ5UGxheVJlc3BvbnNlEkgKBGRhdGEYASABKAsyOi5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlBsYXlCeVBsYXlSZXNwb25zZS5SZXNwb25zZURhdGESJgoEbWV0YRgCIAEoCzIYLnN0cmVhbWxheWVyLnNwb3J0cy5NZXRhGokECgxSZXNwb25zZURhdGESCgoCaWQYASABKAQSMgoEdHlwZRgCIAEoDjIkLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuRXZlbnRUeXBlEmsKCmF0dHJpYnV0ZXMYAyABKAsyVy5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlBsYXlCeVBsYXlSZXNwb25zZS5SZXNwb25zZURhdGEuUGxheUJ5UGxheVJlc3BvbnNlQXR0cmlidXRlcxrLAgocUGxheUJ5UGxheVJlc3BvbnNlQXR0cmlidXRlcxIxCgdzdW1tYXJ5GAEgASgLMiAuc3RyZWFtbGF5ZXIuc3BvcnRzLkV2ZW50U3VtbWFyeRI7CghiYXNlYmFsbBgCIAEoCzInLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNlYmFsbC5QbGF5QnlQbGF5SAASPwoKYmFza2V0YmFsbBgDIAEoCzIpLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLlBsYXlCeVBsYXlIABI3CgZob2NrZXkYBCABKAsyJS5zdHJlYW1sYXllci5zcG9ydHMuaG9ja2V5LlBsYXlCeVBsYXlIABI3CgZzb2NjZXIYBSABKAsyJS5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlBsYXlCeVBsYXlIAEIICgZzcG9ydHMisAEKD1NjaGVkdWxlUmVxdWVzdBJBCgZmaWx0ZXIYASABKAsyMS5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlNjaGVkdWxlUmVxdWVzdC5GaWx0ZXISMgoKcGFnaW5hdGlvbhgCIAEoCzIeLnN0cmVhbWxheWVyLnNwb3J0cy5QYWdpbmF0aW9uGiYKBkZpbHRlchIMCgRkYXRlGAEgASgJEg4KBmxlYWd1ZRgCIAEoCSJ5ChBTY2hlZHVsZVJlc3BvbnNlEj0KBGRhdGEYASADKAsyLy5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlNjaGVkdWxlUmVzcG9uc2VEYXRhEiYKBG1ldGEYAiABKAsyGC5zdHJlYW1sYXllci5zcG9ydHMuTWV0YSJ4ChRTY2hlZHVsZURhdGVzUmVxdWVzdBJGCgZmaWx0ZXIYASABKAsyNi5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlNjaGVkdWxlRGF0ZXNSZXF1ZXN0LkZpbHRlchoYCgZGaWx0ZXISDgoGbGVhZ3VlGAIgASgJIiUKFVNjaGVkdWxlRGF0ZXNSZXNwb25zZRIMCgRkYXRhGAEgAygJIh0KD0JveHNjb3JlUmVxdWVzdBIKCgJpZBgBIAEoBCLmAwoQQm94c2NvcmVSZXNwb25zZRJGCgRkYXRhGAEgASgLMjguc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5Cb3hzY29yZVJlc3BvbnNlLlJlc3BvbnNlRGF0YRqJAwoMUmVzcG9uc2VEYXRhEgoKAmlkGAEgASgEEjIKBHR5cGUYAiABKA4yJC5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkV2ZW50VHlwZRJnCgphdHRyaWJ1dGVzGAMgASgLMlMuc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5Cb3hzY29yZVJlc3BvbnNlLlJlc3BvbnNlRGF0YS5Cb3hzY29yZVJlc3BvbnNlQXR0cmlidXRlcxrPAQoaQm94c2NvcmVSZXNwb25zZUF0dHJpYnV0ZXMSMQoHc3VtbWFyeRgBIAEoCzIgLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudFN1bW1hcnkSPQoKYmFza2V0YmFsbBgCIAEoCzInLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLkJveHNjb3JlSAASNQoGaG9ja2V5GAMgASgLMiMuc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5Cb3hzY29yZUgAQggKBnNwb3J0cyIiChBTdGFuZGluZ3NSZXF1ZXN0Eg4KBmxlYWd1ZRgBIAEoCSKiBAoRU3RhbmRpbmdzUmVzcG9uc2USRwoEZGF0YRgBIAEoCzI5LnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuU3RhbmRpbmdzUmVzcG9uc2UuUmVzcG9uc2VEYXRhGsMDCgxSZXNwb25zZURhdGESMgoEdHlwZRgBIAEoDjIkLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuRXZlbnRUeXBlEmkKCmF0dHJpYnV0ZXMYAiABKAsyVS5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlN0YW5kaW5nc1Jlc3BvbnNlLlJlc3BvbnNlRGF0YS5TdGFuZGluZ3NSZXNwb25zZUF0dHJpYnV0ZXMakwIKG1N0YW5kaW5nc1Jlc3BvbnNlQXR0cmlidXRlcxI+CgpiYXNrZXRiYWxsGAIgASgLMiguc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2tldGJhbGwuU3RhbmRpbmdzSAASNgoGaG9ja2V5GAMgASgLMiQuc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5TdGFuZGluZ3NIABI6CghiYXNlYmFsbBgEIAEoCzImLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNlYmFsbC5TdGFuZGluZ3NIABI2CgZzb2NjZXIYBSABKAsyJC5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlN0YW5kaW5nc0gAQggKBnNwb3J0cyIbCg1MaW5ldXBSZXF1ZXN0EgoKAmlkGAEgASgEIvQDCg5MaW5ldXBSZXNwb25zZRJECgRkYXRhGAEgASgLMjYuc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5MaW5ldXBSZXNwb25zZS5SZXNwb25zZURhdGEamwMKDFJlc3BvbnNlRGF0YRIKCgJpZBgBIAEoBBIyCgR0eXBlGAIgASgOMiQuc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5FdmVudFR5cGUSYwoKYXR0cmlidXRlcxgDIAEoCzJPLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuTGluZXVwUmVzcG9uc2UuUmVzcG9uc2VEYXRhLkxpbmV1cFJlc3BvbnNlQXR0cmlidXRlcxrlAQoYTGluZXVwUmVzcG9uc2VBdHRyaWJ1dGVzEjEKB3N1bW1hcnkYASABKAsyIC5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRTdW1tYXJ5Ej8KBnNvY2NlchgCIAEoCzItLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyTWF0Y2hMaW5ldXBzSAASSwoKYmFza2V0YmFsbBgDIAEoCzI1LnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLkJhc2tldGJhbGxNYXRjaExpbmV1cHNIAEIICgZzcG9ydHMiHgoQTGFzdEdhbWVzUmVxdWVzdBIKCgJpZBgBIAEoBCL9AwoRTGFzdEdhbWVzUmVzcG9uc2USRwoEZGF0YRgBIAEoCzI5LnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuTGFzdEdhbWVzUmVzcG9uc2UuUmVzcG9uc2VEYXRhGp4DCgxSZXNwb25zZURhdGESCgoCaWQYASABKAQSMgoEdHlwZRgCIAEoDjIkLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuRXZlbnRUeXBlEmkKCmF0dHJpYnV0ZXMYAyABKAsyVS5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkxhc3RHYW1lc1Jlc3BvbnNlLlJlc3BvbnNlRGF0YS5MYXN0R2FtZXNSZXNwb25zZUF0dHJpYnV0ZXMa4gEKG0xhc3RHYW1lc1Jlc3BvbnNlQXR0cmlidXRlcxIxCgdzdW1tYXJ5GAEgASgLMiAuc3RyZWFtbGF5ZXIuc3BvcnRzLkV2ZW50U3VtbWFyeRI8CgZzb2NjZXIYAiABKAsyKi5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2Nlckxhc3RHYW1lc0gAEkgKCmJhc2tldGJhbGwYAyABKAsyMi5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5CYXNrZXRiYWxsTGFzdEdhbWVzSABCCAoGc3BvcnRzIiQKFlJldHJpZXZlRXZlbnRJZFJlcXVlc3QSCgoCaWQYASABKAkiogEKF1JldHJpZXZlRXZlbnRJZFJlc3BvbnNlElwKBGRhdGEYASABKAsyTi5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlJldHJpZXZlRXZlbnRJZFJlc3BvbnNlLlJldHJpZXZlRXZlbnRJZFJlc3BvbnNlRGF0YRopChtSZXRyaWV2ZUV2ZW50SWRSZXNwb25zZURhdGESCgoCaWQYASABKAQqmAEKCUV2ZW50VHlwZRIUChBFVkVOVF9UWVBFX1VOU0VUEAASFwoTRVZFTlRfVFlQRV9CQVNFQkFMTBABEhkKFUVWRU5UX1RZUEVfQkFTS0VUQkFMTBACEhUKEUVWRU5UX1RZUEVfSE9DS0VZEAMSFQoRRVZFTlRfVFlQRV9TT0NDRVIQBBITCg9FVkVOVF9UWVBFX0dPTEYQBTLzDAoGRXZlbnRzEmkKBExpc3QSJi5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkxpc3RSZXF1ZXN0Gicuc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5MaXN0UmVzcG9uc2UiEIqmHQRsaXN0oKYdAqimHQEScQoIRGVtb0xpc3QSKi5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkRlbW9MaXN0UmVxdWVzdBorLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuRGVtb0xpc3RSZXNwb25zZSIMiqYdBGxpc3Soph0CEnEKB1N1bW1hcnkSKS5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlN1bW1hcnlSZXF1ZXN0Giouc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5TdW1tYXJ5UmVzcG9uc2UiD4qmHQdzdW1tYXJ5qKYdAhKEAQoMQWRtaW5TdW1tYXJ5Ei4uc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5BZG1pblN1bW1hcnlSZXF1ZXN0Gi8uc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5BZG1pblN1bW1hcnlSZXNwb25zZSITiqYdB3N1bW1hcnmgph0CqKYdARJ1CghCb3hzY29yZRIqLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuQm94c2NvcmVSZXF1ZXN0Gisuc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5Cb3hzY29yZVJlc3BvbnNlIhCKph0IYm94c2NvcmWoph0CEnkKCVN0YW5kaW5ncxIrLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuU3RhbmRpbmdzUmVxdWVzdBosLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuU3RhbmRpbmdzUmVzcG9uc2UiEYqmHQlzdGFuZGluZ3Ooph0CEn0KClBsYXlCeVBsYXkSLC5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlBsYXlCeVBsYXlSZXF1ZXN0Gi0uc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5QbGF5QnlQbGF5UmVzcG9uc2UiEoqmHQpwbGF5QnlQbGF5qKYdAhJ1CghTY2hlZHVsZRIqLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuU2NoZWR1bGVSZXF1ZXN0Gisuc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5TY2hlZHVsZVJlc3BvbnNlIhCKph0Ic2NoZWR1bGWoph0CEokBCg1TY2hlZHVsZURhdGVzEi8uc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5TY2hlZHVsZURhdGVzUmVxdWVzdBowLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuU2NoZWR1bGVEYXRlc1Jlc3BvbnNlIhWKph0Nc2NoZWR1bGVEYXRlc6imHQISbQoGTGluZXVwEiguc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5MaW5ldXBSZXF1ZXN0Gikuc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5MaW5ldXBSZXNwb25zZSIOiqYdBmxpbmV1cKimHQISjAEKD1JldHJpZXZlRXZlbnRJZBIxLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuUmV0cmlldmVFdmVudElkUmVxdWVzdBoyLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuUmV0cmlldmVFdmVudElkUmVzcG9uc2UiEoqmHQpyZXRyaWV2ZUlkqKYdAhJ5CglMYXN0R2FtZXMSKy5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkxhc3RHYW1lc1JlcXVlc3QaLC5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkxhc3RHYW1lc1Jlc3BvbnNlIhGKph0JbGFzdEdhbWVzqKYdAhKQAQoTU3VtbWFyeVN1YnNjcmlwdGlvbhIpLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuU3VtbWFyeVJlcXVlc3QaKi5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlN1bW1hcnlSZXNwb25zZSIgiqYdFHN1YnNjcmlwdGlvbi5zdW1tYXJ5kKYdApimHQIwARoRirUYDXNwb3J0cy5ldmVudHNCnAEKHWNvbS5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzQhxTdHJlYW1MYXllclNwb3J0c0V2ZW50c1Byb3RvUAFaUmdpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvc3BvcnRzL2V2ZW50cztzbF9ldmVudHOiAgZTTF9BUEliBnByb3RvMw",[oo,Vp,ote,lte,cte,ute]),iG=yc(dte,0),hte=Ut("CitzdHJlYW1sYXllci9zZGtTZXR0aW5ncy9jbGllbnQvY2xpZW50LnByb3RvEh5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQiTgoOTm90aWZ5U2V0dGluZ3MSPAoFYWxsb3cYASABKA4yLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuU2V0dGluZ3NBbGxvdyJNCg1Tb3VuZFNldHRpbmdzEjwKBWFsbG93GAEgASgOMi0uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LlNldHRpbmdzQWxsb3cimwEKG0NsaWVudFNldHRpbmdzTm90aWZpY2F0aW9ucxI+CgZub3RpZnkYASABKAsyLi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuTm90aWZ5U2V0dGluZ3MSPAoFc291bmQYAiABKAsyLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuU291bmRTZXR0aW5ncyLHBgoOQ2xpZW50U2V0dGluZ3MSRQoOdmlzaWJsZV9zdGF0dXMYASABKA4yLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuVmlzaWJsZVN0YXR1cxJHCg9tZXNzYWdlc19ub3RpZnkYAiABKA4yLi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuTWVzc2FnZXNOb3RpZnkSRQoOZnJpZW5kc19ub3RpZnkYAyABKA4yLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuRnJpZW5kc05vdGlmeRI/CgtjYWxsc19zb3VuZBgEIAEoDjIqLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5DYWxsc1NvdW5kEkUKDm1lc3NhZ2VzX3NvdW5kGAUgASgOMi0uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50Lk1lc3NhZ2VzU291bmQSQwoNZnJpZW5kc19zb3VuZBgGIAEoDjIsLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5GcmllbmRzU291bmQSRQoOdHdpdHRlcl9ub3RpZnkYByABKA4yLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuVHdpdHRlck5vdGlmeRJDCg10d2l0dGVyX3NvdW5kGAggASgOMiwuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LlR3aXR0ZXJTb3VuZBJRCgxnYW1pZmljYXRpb24YCSABKAsyOy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuQ2xpZW50U2V0dGluZ3NOb3RpZmljYXRpb25zElsKFndhdGNoX3BhcnR5X2ludml0YXRpb24YCiABKAsyOy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuQ2xpZW50U2V0dGluZ3NOb3RpZmljYXRpb25zElUKEHR3aXR0ZXJfcXVlc3Rpb24YCyABKAsyOy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuQ2xpZW50U2V0dGluZ3NOb3RpZmljYXRpb25zIgwKCkdldFJlcXVlc3QiyQEKC0dldFJlc3BvbnNlEkkKBGRhdGEYASABKAsyOy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuR2V0UmVzcG9uc2UuR2V0UmVzcG9uc2VEYXRhGm8KD0dldFJlc3BvbnNlRGF0YRIKCgJpZBgBIAEoCRIMCgR0eXBlGAIgASgJEkIKCmF0dHJpYnV0ZXMYAyABKAsyLi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuQ2xpZW50U2V0dGluZ3MiUQoNVXBkYXRlUmVxdWVzdBJACghzZXR0aW5ncxgCIAEoCzIuLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5DbGllbnRTZXR0aW5ncyLVAQoOVXBkYXRlUmVzcG9uc2USTwoEZGF0YRgBIAEoCzJBLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5VcGRhdGVSZXNwb25zZS5VcGRhdGVSZXNwb25zZURhdGEacgoSVXBkYXRlUmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSQgoKYXR0cmlidXRlcxgDIAEoCzIuLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5DbGllbnRTZXR0aW5ncyIeChBHZXRTdHJlYW1SZXF1ZXN0EgoKAmlkGAEgASgJIs4BChFHZXRTdHJlYW1SZXNwb25zZRJPCgRkYXRhGAEgASgLMkEuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LkdldFN0cmVhbVJlc3BvbnNlLkdldFJlc3BvbnNlRGF0YRpoCg9HZXRSZXNwb25zZURhdGESCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRI7CgphdHRyaWJ1dGVzGAMgASgLMicuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuU3RyZWFtU2V0dGluZ3MiGAoWR2V0T3JnYW5pemF0aW9uUmVxdWVzdCLgAQoXR2V0T3JnYW5pemF0aW9uUmVzcG9uc2USVQoEZGF0YRgBIAEoCzJHLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5HZXRPcmdhbml6YXRpb25SZXNwb25zZS5HZXRSZXNwb25zZURhdGEabgoPR2V0UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSQQoKYXR0cmlidXRlcxgDIAEoCzItLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLk9yZ2FuaXphdGlvblNldHRpbmdzIkcKIUdldE9yZ2FuaXphdGlvbkFkdmVydGlzaW5nUmVxdWVzdBIVCghldmVudF9pZBgBIAEoCUgAiAEBQgsKCV9ldmVudF9pZCKbAgoiR2V0T3JnYW5pemF0aW9uQWR2ZXJ0aXNpbmdSZXNwb25zZRJ3CgRkYXRhGAEgASgLMmkuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LkdldE9yZ2FuaXphdGlvbkFkdmVydGlzaW5nUmVzcG9uc2UuR2V0T3JnYW5pemF0aW9uQWR2ZXJ0aXNpbmdSZXNwb25zZURhdGEafAomR2V0T3JnYW5pemF0aW9uQWR2ZXJ0aXNpbmdSZXNwb25zZURhdGESCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRI4CgphdHRyaWJ1dGVzGAMgASgLMiQuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQWR2ZXJ0aXNpbmcigAEKDE1hbmFnZWRHcm91cBIQCghncm91cF9pZBgBIAEoCRIYChBmYW50YXN5X2dyb3VwX2lkGAIgASgJEkQKCmdyb3VwX3R5cGUYAyABKA4yMC5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuTWFuYWdlZEdyb3VwVHlwZSKCAgoMRGVlcExpbmtEYXRhEhAKCGdyb3VwX2lkGAEgASgJEhAKCGV2ZW50X2lkGAIgASgJEhQKDGdhbWlmaWNhdGlvbhgDIAEoCBJDCg1tYW5hZ2VkX2dyb3VwGAQgASgLMiwuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50Lk1hbmFnZWRHcm91cBIZChFleHRlcm5hbF9ldmVudF9pZBgFIAEoCRIZChFleHRlcm5hbF9ncm91cF9pZBgGIAEoCRI9Cgpncm91cF90eXBlGAcgASgOMikuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50Lkdyb3VwVHlwZSJVChdHZW5lcmF0ZURlZXBMaW5rUmVxdWVzdBI6CgRkYXRhGAEgASgLMiwuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LkRlZXBMaW5rRGF0YSIoCghEZWVwTGluaxILCgN1cmwYASABKAkSDwoHbGlua19pZBgCIAEoCSLdAQoYR2VuZXJhdGVEZWVwTGlua1Jlc3BvbnNlEmMKBGRhdGEYASABKAsyVS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuR2VuZXJhdGVEZWVwTGlua1Jlc3BvbnNlLkdlbmVyYXRlRGVlcExpbmtSZXNwb25zZURhdGEaXAocR2VuZXJhdGVEZWVwTGlua1Jlc3BvbnNlRGF0YRI8CgphdHRyaWJ1dGVzGAEgASgLMiguc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LkRlZXBMaW5rIiYKF1JldHJlaXZlRGVlcExpbmtSZXF1ZXN0EgsKA3VybBgBIAEoCSLhAQoYUmV0cmVpdmVEZWVwTGlua1Jlc3BvbnNlEmMKBGRhdGEYASABKAsyVS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuUmV0cmVpdmVEZWVwTGlua1Jlc3BvbnNlLlJldHJlaXZlRGVlcExpbmtSZXNwb25zZURhdGEaYAocUmV0cmVpdmVEZWVwTGlua1Jlc3BvbnNlRGF0YRJACgphdHRyaWJ1dGVzGAEgASgLMiwuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LkRlZXBMaW5rRGF0YSInChlTdHJlYW1TdWJzY3JpcHRpb25SZXF1ZXN0EgoKAmlkGAEgASgJIiEKH09yZ2FuaXphdGlvblN1YnNjcmlwdGlvblJlcXVlc3Qi2gEKGlN0cmVhbVN1YnNjcmlwdGlvblJlc3BvbnNlElUKBGRhdGEYASABKAsyRy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuU3RyZWFtU3Vic2NyaXB0aW9uUmVzcG9uc2UuUmVzcG9uc2VEYXRhGmUKDFJlc3BvbnNlRGF0YRIKCgJpZBgBIAEoCRIMCgR0eXBlGAIgASgJEjsKCmF0dHJpYnV0ZXMYAyABKAsyJy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5TdHJlYW1TZXR0aW5ncyLsAQogT3JnYW5pemF0aW9uU3Vic2NyaXB0aW9uUmVzcG9uc2USWwoEZGF0YRgBIAEoCzJNLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5Pcmdhbml6YXRpb25TdWJzY3JpcHRpb25SZXNwb25zZS5SZXNwb25zZURhdGEaawoMUmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSQQoKYXR0cmlidXRlcxgDIAEoCzItLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLk9yZ2FuaXphdGlvblNldHRpbmdzKmMKDVZpc2libGVTdGF0dXMSGAoUVklTSUJMRV9TVEFUVVNfVU5TRVQQABIcChhWSVNJQkxFX1NUQVRVU19JTkNPR05JVE8QARIaChZWSVNJQkxFX1NUQVRVU19WSVNJQkxFEAIqZAoOTWVzc2FnZXNOb3RpZnkSGQoVTUVTU0FHRVNfTk9USUZZX1VOU0VUEAASHAoYTUVTU0FHRVNfTk9USUZZX0RJU0FMTE9XEAESGQoVTUVTU0FHRVNfTk9USUZZX0FMTE9XEAIqYAoNRnJpZW5kc05vdGlmeRIYChRGUklFTkRTX05PVElGWV9VTlNFVBAAEhsKF0ZSSUVORFNfTk9USUZZX0RJU0FMTE9XEAESGAoURlJJRU5EU19OT1RJRllfQUxMT1cQAipgCg1Ud2l0dGVyTm90aWZ5EhgKFFRXSVRURVJfTk9USUZZX1VOU0VUEAASGwoXVFdJVFRFUl9OT1RJRllfRElTQUxMT1cQARIYChRUV0lUVEVSX05PVElGWV9BTExPVxACKlQKCkNhbGxzU291bmQSFQoRQ0FMTFNfU09VTkRfVU5TRVQQABIYChRDQUxMU19TT1VORF9ESVNBTExPVxABEhUKEUNBTExTX1NPVU5EX0FMTE9XEAIqYAoNTWVzc2FnZXNTb3VuZBIYChRNRVNTQUdFU19TT1VORF9VTlNFVBAAEhsKF01FU1NBR0VTX1NPVU5EX0RJU0FMTE9XEAESGAoUTUVTU0FHRVNfU09VTkRfQUxMT1cQAipcCgxGcmllbmRzU291bmQSFwoTRlJJRU5EU19TT1VORF9VTlNFVBAAEhoKFkZSSUVORFNfU09VTkRfRElTQUxMT1cQARIXChNGUklFTkRTX1NPVU5EX0FMTE9XEAIqXAoMVHdpdHRlclNvdW5kEhcKE1RXSVRURVJfU09VTkRfVU5TRVQQABIaChZUV0lUVEVSX1NPVU5EX0RJU0FMTE9XEAESFwoTVFdJVFRFUl9TT1VORF9BTExPVxACKmAKDVNldHRpbmdzQWxsb3cSGAoUU0VUVElOR1NfQUxMT1dfVU5TRVQQABIbChdTRVRUSU5HU19BTExPV19ESVNBTExPVxABEhgKFFNFVFRJTkdTX0FMTE9XX0FMTE9XEAIqaAoQTWFuYWdlZEdyb3VwVHlwZRIcChhNQU5BR0VEX0dST1VQX1RZUEVfVU5TRVQQABIbChdNQU5BR0VEX0dST1VQX1RZUEVfQ0hBVBABEhkKFU1BTkFHRURfR1JPVVBfVFlQRV9XUBACKkkKCUdyb3VwVHlwZRIUChBHUk9VUF9UWVBFX1VOU0VUEAASEwoPR1JPVVBfVFlQRV9DSEFUEAESEQoNR1JPVVBfVFlQRV9XUBACMr0KCgZDbGllbnQSdgoDR2V0Eiouc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LkdldFJlcXVlc3QaKy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuR2V0UmVzcG9uc2UiFoqmHQpjbGllbnQuZ2V0oKYdAqimHQISggEKBlVwZGF0ZRItLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5VcGRhdGVSZXF1ZXN0Gi4uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LlVwZGF0ZVJlc3BvbnNlIhmKph0NY2xpZW50LnVwZGF0ZaCmHQKoph0CEoQBCglHZXRTdHJlYW0SMC5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuR2V0U3RyZWFtUmVxdWVzdBoxLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5HZXRTdHJlYW1SZXNwb25zZSISiqYdCnN0cmVhbS5nZXSoph0CEpwBCg9HZXRPcmdhbml6YXRpb24SNi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuR2V0T3JnYW5pemF0aW9uUmVxdWVzdBo3LnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5HZXRPcmdhbml6YXRpb25SZXNwb25zZSIYiqYdEG9yZ2FuaXphdGlvbi5nZXSoph0CEskBChpHZXRPcmdhbml6YXRpb25BZHZlcnRpc2luZxJBLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5HZXRPcmdhbml6YXRpb25BZHZlcnRpc2luZ1JlcXVlc3QaQi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuR2V0T3JnYW5pemF0aW9uQWR2ZXJ0aXNpbmdSZXNwb25zZSIkiqYdHG9yZ2FuaXphdGlvbi5hZHZlcnRpc2luZy5nZXSoph0CErcBChBHZW5lcmF0ZURlZXBMaW5rEjcuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LkdlbmVyYXRlRGVlcExpbmtSZXF1ZXN0Gjguc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LkdlbmVyYXRlRGVlcExpbmtSZXNwb25zZSIwiqYdJG9yZ2FuaXphdGlvbi5icmFuY2guZ2VuZXJhdGVEZWVwTGlua6CmHQKoph0CEq4BChJTdHJlYW1TdWJzY3JpcHRpb24SOS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuU3RyZWFtU3Vic2NyaXB0aW9uUmVxdWVzdBo6LnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5TdHJlYW1TdWJzY3JpcHRpb25SZXNwb25zZSIfiqYdE3N0cmVhbS5zdWJzY3JpcHRpb26Qph0CmKYdAjABEsYBChhPcmdhbml6YXRpb25TdWJzY3JpcHRpb24SPy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuT3JnYW5pemF0aW9uU3Vic2NyaXB0aW9uUmVxdWVzdBpALnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5Pcmdhbml6YXRpb25TdWJzY3JpcHRpb25SZXNwb25zZSIliqYdGW9yZ2FuaXphdGlvbi5zdWJzY3JpcHRpb26Qph0CmKYdAjABGhCKtRgMc2RrLXNldHRpbmdzQrcBCiJjb20uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50QiFTdHJlYW1MYXllclNka1NldHRpbmdzQ2xpZW50UHJvdG9QAVpjZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9zZGtTZXR0aW5ncy9jbGllbnQ7c2xfc2RrU2V0dGluZ3NfY2xpZW50ogIGU0xfQVBJYgZwcm90bzM",[oo,XW]),Np=yc(hte,0),fte=Ut("CiRzdHJlYW1sYXllci91c2Vycy91c2Vyc19jb21tb24ucHJvdG8SEXN0cmVhbWxheWVyLnVzZXJzIh4KDlB1YmxpY0NoYXRVc2VyEgwKBG5hbWUYASABKAkioAEKDlVzZXJBdHRyaWJ1dGVzEhAKCHVzZXJuYW1lGAEgASgJEgwKBG5hbWUYAiABKAkSDQoFYWxpYXMYAyABKAkSDgoGYXZhdGFyGAUgASgJEjoKC3B1YmxpY19jaGF0GAYgASgLMiEuc3RyZWFtbGF5ZXIudXNlcnMuUHVibGljQ2hhdFVzZXJCAhgBEhMKC3B1YmxpY19uYW1lGAcgASgJIjMKEFVzZXJPcmdhbml6YXRpb24SCgoCaWQYASABKAkSEwoLcGVybWlzc2lvbnMYAiADKAki/wEKDFVzZXJNZXRhZGF0YRIOCgZhdmF0YXIYAiABKAkSIAoYYXZhdGFyX2JhY2tncm91bmRfY29sb3VyGAMgASgJEhAKCHRpbWV6b25lGAQgASgJEk4KF25vdGlmaWNhdGlvbl9wcmVmZXJlbmNlGAUgASgOMi0uc3RyZWFtbGF5ZXIudXNlcnMuVXNlck5vdGlmaWNhdGlvblByZWZlcmVuY2USDgoGYWN0aXZlGAYgASgIEhIKCmZpcnN0X25hbWUYByABKAkSEQoJbGFzdF9uYW1lGAggASgJEg0KBXJvbGVzGAkgAygJEhUKDWF1ZGllbmNlX3RhZ3MYCiADKAkiegoWRXh0ZW5kZWRVc2VyQXR0cmlidXRlcxIQCgh1c2VybmFtZRgBIAEoCRIMCgRuYW1lGAIgASgJEg0KBWFsaWFzGAMgASgJEjEKCG1ldGFkYXRhGAQgASgLMh8uc3RyZWFtbGF5ZXIudXNlcnMuVXNlck1ldGFkYXRhIlcKBFVzZXISCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRI1CgphdHRyaWJ1dGVzGAMgASgLMiEuc3RyZWFtbGF5ZXIudXNlcnMuVXNlckF0dHJpYnV0ZXMiZwoMRXh0ZW5kZWRVc2VyEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSPQoKYXR0cmlidXRlcxgDIAEoCzIpLnN0cmVhbWxheWVyLnVzZXJzLkV4dGVuZGVkVXNlckF0dHJpYnV0ZXMq5gEKGlVzZXJOb3RpZmljYXRpb25QcmVmZXJlbmNlEiYKIlVTRVJfTk9USUZJQ0FUSU9OX1BSRUZFUkVOQ0VfVU5TRVQQABIrCidVU0VSX05PVElGSUNBVElPTl9QUkVGRVJFTkNFX0FMTF9FVkVOVFMQARI2CjJVU0VSX05PVElGSUNBVElPTl9QUkVGRVJFTkNFX0lNUE9SVEFOVF9FVkVOVFNfT05MWRACEjsKN1VTRVJfTk9USUZJQ0FUSU9OX1BSRUZFUkVOQ0VfREFJTFlfU1VNTUFSWV9BTkRfTUVOVElPTlMQA0KKAQoVY29tLnN0cmVhbWxheWVyLnVzZXJzQhtTdHJlYW1MYXllclVzZXJzQ29tbW9uUHJvdG9QAVpJZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci91c2VycztzbF91c2Vyc6ICBlNMX0FQSWIGcHJvdG8z"),pte=Ut("Ch1zdHJlYW1sYXllci91c2Vycy91c2Vycy5wcm90bxIRc3RyZWFtbGF5ZXIudXNlcnMiLAoMTG9naW5SZXF1ZXN0EgoKAmlkGAEgASgJEhAKCHBhc3N3b3JkGAIgASgJIsMBCgxBdXRoUmVzcG9uc2USQgoEbWV0YRgBIAEoCzI0LnN0cmVhbWxheWVyLnVzZXJzLkF1dGhSZXNwb25zZS5BdXRoUmVzcG9uc2VNZXRhZGF0YRIlCgRkYXRhGAIgASgLMhcuc3RyZWFtbGF5ZXIudXNlcnMuVXNlchpIChRBdXRoUmVzcG9uc2VNZXRhZGF0YRILCgNqd3QYASABKAkSEQoJZ2V0c3RyZWFtGAMgASgJSgQIAhADUgp2b3hpbXBsYW50Ih0KD1JlZ2lzdGVyUmVxdWVzdBIKCgJpZBgBIAEoCSI7CghSZWZlcnJhbBIKCgJpZBgBIAEoCRIMCgRuYW1lGAIgASgJEhUKDXdhdGNoaW5nX2dhbWUYAyABKAkiagoQUmVnaXN0ZXJSZXNwb25zZRIKCgJpZBgBIAEoCRIbChNyZXF1aXJlc19hY3RpdmF0aW9uGAIgASgIEi0KCHJlZmVycmFsGAMgASgLMhsuc3RyZWFtbGF5ZXIudXNlcnMuUmVmZXJyYWwiJAoWUmVxdWVzdFBhc3N3b3JkUmVxdWVzdBIKCgJpZBgBIAEoCSI5ChdSZXF1ZXN0UGFzc3dvcmRSZXNwb25zZRIRCglyZXF1ZXN0ZWQYASABKAgSCwoDdWlkGAIgASgJIgsKCU1lUmVxdWVzdCIzCgpNZVJlc3BvbnNlEiUKBGRhdGEYASABKAsyFy5zdHJlYW1sYXllci51c2Vycy5Vc2VyIkcKFVVwZGF0ZU1ldGFkYXRhUmVxdWVzdBISCghzZXRfbmFtZRgBIAEoCUgAEhIKCGRlbF9uYW1lGAIgASgJSABCBgoEbmFtZSJdChNVcGRhdGVBdmF0YXJSZXF1ZXN0EhAKCHVzZXJuYW1lGAEgASgJEhQKCnNldF9hdmF0YXIYAiABKAlIABIUCgpkZWxfYXZhdGFyGAMgASgJSABCCAoGYXZhdGFyIhYKFFVwZGF0ZUF2YXRhclJlc3BvbnNlIl8KG1VwZGF0ZVB1YmxpY0NoYXROYW1lUmVxdWVzdBIQCgh1c2VybmFtZRgBIAEoCRISCghzZXRfbmFtZRgCIAEoCUgAEhIKCGRlbF9uYW1lGAMgASgJSABCBgoEbmFtZSIeChxVcGRhdGVQdWJsaWNDaGF0TmFtZVJlc3BvbnNlIlsKF1VwZGF0ZVB1YmxpY05hbWVSZXF1ZXN0EhAKCHVzZXJuYW1lGAEgASgJEhIKCHNldF9uYW1lGAIgASgJSAASEgoIZGVsX25hbWUYAyABKAlIAEIGCgRuYW1lIhoKGFVwZGF0ZVB1YmxpY05hbWVSZXNwb25zZSIYChZVcGRhdGVNZXRhZGF0YVJlc3BvbnNlIocBCg1JbnZpdGVSZXF1ZXN0EgoKAmlkGAEgASgJEkEKCHJlZmVycmFsGAIgASgLMi8uc3RyZWFtbGF5ZXIudXNlcnMuSW52aXRlUmVxdWVzdC5JbnZpdGVSZWZlcnJhbBonCg5JbnZpdGVSZWZlcnJhbBIVCg13YXRjaGluZ19nYW1lGAEgASgJIhAKDkludml0ZVJlc3BvbnNlIm0KEUJ5cGFzc0F1dGhSZXF1ZXN0EhAKCHVzZXJfa2V5GAEgASgJEg4KBnNjaGVtYRgCIAEoCRIMCgRpbml0GAMgASgIEhgKC2ludml0ZXJfa2V5GAQgASgJSACIAQFCDgoMX2ludml0ZXJfa2V5IrMCChJCeXBhc3NBdXRoUmVzcG9uc2USSAoEbWV0YRgBIAEoCzI6LnN0cmVhbWxheWVyLnVzZXJzLkJ5cGFzc0F1dGhSZXNwb25zZS5BdXRoUmVzcG9uc2VNZXRhZGF0YRIqCgRkYXRhGAIgASgLMhcuc3RyZWFtbGF5ZXIudXNlcnMuVXNlckgAiAEBGp0BChRBdXRoUmVzcG9uc2VNZXRhZGF0YRIQCgNqd3QYASABKAlIAIgBARISCgV0b2tlbhgDIAEoCUgBiAEBEhEKCWdldHN0cmVhbRgEIAEoCRIYCgtpbnZpdGVyX2tleRgFIAEoCUgCiAEBQgYKBF9qd3RCCAoGX3Rva2VuQg4KDF9pbnZpdGVyX2tleUoECAIQA1IKdm94aW1wbGFudEIHCgVfZGF0YSJjChFHZXRGcmllbmRzUmVxdWVzdBIcCg9sYXN0X2NyZWF0ZWRfYXQYASABKAlIAIgBARISCgVsaW1pdBgCIAEoBUgBiAEBQhIKEF9sYXN0X2NyZWF0ZWRfYXRCCAoGX2xpbWl0IoECChJHZXRGcmllbmRzUmVzcG9uc2USPgoEZGF0YRgBIAMoCzIwLnN0cmVhbWxheWVyLnVzZXJzLkdldEZyaWVuZHNSZXNwb25zZS5GcmllbmREYXRhEkQKCG1ldGFkYXRhGAIgASgLMjIuc3RyZWFtbGF5ZXIudXNlcnMuR2V0RnJpZW5kc1Jlc3BvbnNlLlJlc3BvbnNlTWV0YRonCgxSZXNwb25zZU1ldGESFwoPbGFzdF9jcmVhdGVkX2F0GAEgASgJGjwKCkZyaWVuZERhdGESDAoEbmFtZRgBIAEoCRIRCgl0aW5vZGVfaWQYAiABKAkSDQoFc2xfaWQYAyABKAkiFwoVR2VuZXJhdGVNZmFLZXlSZXF1ZXN0IigKFkdlbmVyYXRlTWZhS2V5UmVzcG9uc2USDgoGc2VjcmV0GAEgASgJIjQKEEF0dGFjaE1mYVJlcXVlc3QSEAoIdXNlcm5hbWUYASABKAkSDgoGc2VjcmV0GAIgASgJIiQKEUF0dGFjaE1mYVJlc3BvbnNlEg8KB2VuYWJsZWQYASABKAgiMgoQRGV0YWNoTWZhUmVxdWVzdBIQCgh1c2VybmFtZRgBIAEoCRIMCgR0b3RwGAIgASgJIiQKEURldGFjaE1mYVJlc3BvbnNlEg8KB2VuYWJsZWQYASABKAgiMgoQVmVyaWZ5TWZhUmVxdWVzdBIQCgh1c2VybmFtZRgBIAEoCRIMCgR0b3RwGAIgASgJIiIKEVZlcmlmeU1mYVJlc3BvbnNlEg0KBXZhbGlkGAEgASgIMo8NCgVVc2VycxJJCgVMb2dpbhIfLnN0cmVhbWxheWVyLnVzZXJzLkxvZ2luUmVxdWVzdBofLnN0cmVhbWxheWVyLnVzZXJzLkF1dGhSZXNwb25zZRJTCghSZWdpc3RlchIiLnN0cmVhbWxheWVyLnVzZXJzLlJlZ2lzdGVyUmVxdWVzdBojLnN0cmVhbWxheWVyLnVzZXJzLlJlZ2lzdGVyUmVzcG9uc2USgQEKD1JlcXVlc3RQYXNzd29yZBIpLnN0cmVhbWxheWVyLnVzZXJzLlJlcXVlc3RQYXNzd29yZFJlcXVlc3QaKi5zdHJlYW1sYXllci51c2Vycy5SZXF1ZXN0UGFzc3dvcmRSZXNwb25zZSIXiqYdE2Rpc3Bvc2FibGUtcGFzc3dvcmQSSwoCTWUSHC5zdHJlYW1sYXllci51c2Vycy5NZVJlcXVlc3QaHS5zdHJlYW1sYXllci51c2Vycy5NZVJlc3BvbnNlIgiQph0CoKYdAhJfCgZJbnZpdGUSIC5zdHJlYW1sYXllci51c2Vycy5JbnZpdGVSZXF1ZXN0GiEuc3RyZWFtbGF5ZXIudXNlcnMuSW52aXRlUmVzcG9uc2UiEIqmHQhyZWZlcnJhbKCmHQISagoKQnlwYXNzQXV0aBIkLnN0cmVhbWxheWVyLnVzZXJzLkJ5cGFzc0F1dGhSZXF1ZXN0GiUuc3RyZWFtbGF5ZXIudXNlcnMuQnlwYXNzQXV0aFJlc3BvbnNlIg+Kph0LYXV0aC1ieXBhc3MSfQoOVXBkYXRlTWV0YWRhdGESKC5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVNZXRhZGF0YVJlcXVlc3QaKS5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVNZXRhZGF0YVJlc3BvbnNlIhaKph0OdXBkYXRlTWV0YWRhdGGgph0CEncKDFVwZGF0ZUF2YXRhchImLnN0cmVhbWxheWVyLnVzZXJzLlVwZGF0ZUF2YXRhclJlcXVlc3QaJy5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVBdmF0YXJSZXNwb25zZSIWiqYdDnVwZGF0ZU1ldGFkYXRhoKYdAhKPAQoUVXBkYXRlUHVibGljQ2hhdE5hbWUSLi5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVQdWJsaWNDaGF0TmFtZVJlcXVlc3QaLy5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVQdWJsaWNDaGF0TmFtZVJlc3BvbnNlIhaKph0OdXBkYXRlTWV0YWRhdGGgph0CEoMBChBVcGRhdGVQdWJsaWNOYW1lEiouc3RyZWFtbGF5ZXIudXNlcnMuVXBkYXRlUHVibGljTmFtZVJlcXVlc3QaKy5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVQdWJsaWNOYW1lUmVzcG9uc2UiFoqmHQ51cGRhdGVNZXRhZGF0YaCmHQISbQoKR2V0RnJpZW5kcxIkLnN0cmVhbWxheWVyLnVzZXJzLkdldEZyaWVuZHNSZXF1ZXN0GiUuc3RyZWFtbGF5ZXIudXNlcnMuR2V0RnJpZW5kc1Jlc3BvbnNlIhKKph0KZ2V0RnJpZW5kc6CmHQISfQoOR2VuZXJhdGVNZmFLZXkSKC5zdHJlYW1sYXllci51c2Vycy5HZW5lcmF0ZU1mYUtleVJlcXVlc3QaKS5zdHJlYW1sYXllci51c2Vycy5HZW5lcmF0ZU1mYUtleVJlc3BvbnNlIhaKph0OZ2VuZXJhdGVNZmFLZXmgph0CEmkKCUF0dGFjaE1mYRIjLnN0cmVhbWxheWVyLnVzZXJzLkF0dGFjaE1mYVJlcXVlc3QaJC5zdHJlYW1sYXllci51c2Vycy5BdHRhY2hNZmFSZXNwb25zZSIRiqYdCWF0dGFjaE1mYaCmHQISaQoJRGV0YWNoTWZhEiMuc3RyZWFtbGF5ZXIudXNlcnMuRGV0YWNoTWZhUmVxdWVzdBokLnN0cmVhbWxheWVyLnVzZXJzLkRldGFjaE1mYVJlc3BvbnNlIhGKph0JZGV0YWNoTWZhoKYdAhJpCglWZXJpZnlNZmESIy5zdHJlYW1sYXllci51c2Vycy5WZXJpZnlNZmFSZXF1ZXN0GiQuc3RyZWFtbGF5ZXIudXNlcnMuVmVyaWZ5TWZhUmVzcG9uc2UiEYqmHQl2ZXJpZnlNZmGgph0CGgmKtRgFdXNlcnNChAEKFWNvbS5zdHJlYW1sYXllci51c2Vyc0IVU3RyZWFtTGF5ZXJVc2Vyc1Byb3RvUAFaSWdpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvdXNlcnM7c2xfdXNlcnOiAgZTTF9BUEliBnByb3RvMw",[oo,fte]),Y9=yc(pte,0),mte=Ut("CkFzdHJlYW1sYXllci9pbnRlcmFjdGl2ZS9sZWFkZXJib2FyZC9pbnRlcmFjdGl2ZS5sZWFkZXJib2FyZC5wcm90bxIjc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmQi4gEKD0xlYWRlcmJvYXJkRGF0YRIKCgJpZBgBIAEoCRJCCgR0eXBlGAIgASgOMjQuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmQuTGVhZGVyYm9hcmRUeXBlEgwKBG5hbWUYAyABKAkSEQoJZXZlbnRfaWRzGAQgAygDEkoKDGxlYWRlcmJvYXJkcxgFIAMoCzI0LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmxlYWRlcmJvYXJkLkxlYWRlcmJvYXJkRGF0YRISCgpjcmVhdGVkX2F0GAYgASgDIuUBCg9MZWFkZXJib2FyZEl0ZW0SDgoGc3RyZWFrGAEgASgFEg8KB2NvcnJlY3QYAiABKAUSEQoJaW5jb3JyZWN0GAMgASgFEg4KBnBvaW50cxgEIAEoBRIMCgRyYW5rGAUgASgFEgwKBG5hbWUYBiABKAkSDgoGYXZhdGFyGAcgASgJEg8KB3VzZXJfaWQYCCABKAkSFgoOcmVjZW50X2NvcnJlY3QYCSABKAUSEwoLc3RyZWFrX2xvc3MYCiABKAUSFAoMZnJpZW5kc19yYW5rGAsgASgFEg4KBmluX3RvcBgMIAEoBSL5AQoWTGVhZGVyYm9hcmRTdW1tYXJ5SXRlbRJFCgdzdW1tYXJ5GAEgASgLMjQuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmQuTGVhZGVyYm9hcmRJdGVtEmEKCnBlcmNlbnRhZ2UYAiABKAsyTS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5sZWFkZXJib2FyZC5MZWFkZXJib2FyZFN1bW1hcnlJdGVtLlN1bW1hcnlQZXJjZW50YWdlGjUKEVN1bW1hcnlQZXJjZW50YWdlEg8KB2NvcnJlY3QYASABKAUSDwoHYXZlcmFnZRgCIAEoBSKDAQoLTGlzdFJlcXVlc3QSNwoKcGFnaW5hdGlvbhgBIAEoCzIjLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlBhZ2luYXRpb24SEQoJdXNlcnNfaWRzGAIgAygJEhAKCGV2ZW50X2lkGAMgASgEEhYKDmxlYWRlcmJvYXJkX2lkGAQgASgJIu4CCgxMaXN0UmVzcG9uc2USUAoEZGF0YRgBIAMoCzJCLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmxlYWRlcmJvYXJkLkxpc3RSZXNwb25zZS5MaXN0UmVzcG9uc2VEYXRhElAKBG1ldGEYAiABKAsyQi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5sZWFkZXJib2FyZC5MaXN0UmVzcG9uc2UuTGlzdFJlc3BvbnNlTWV0YRp2ChBMaXN0UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSSAoKYXR0cmlidXRlcxgDIAEoCzI0LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmxlYWRlcmJvYXJkLkxlYWRlcmJvYXJkSXRlbRpCChBMaXN0UmVzcG9uc2VNZXRhEg0KBWNvdW50GAEgASgFEgwKBHBhZ2UYAiABKAUSEQoJcGFnZV9zaXplGAMgASgFIl4KDlN1bW1hcnlSZXF1ZXN0EhAKCGV2ZW50X2lkGAEgASgEEg8KB3VzZXJfaWQYAiABKAkSFgoObGVhZGVyYm9hcmRfaWQYAyABKAkSEQoJdXNlcnNfaWRzGAQgAygJIuwBCg9TdW1tYXJ5UmVzcG9uc2USVgoEZGF0YRgBIAEoCzJILnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmxlYWRlcmJvYXJkLlN1bW1hcnlSZXNwb25zZS5TdW1tYXJ5UmVzcG9uc2VEYXRhGoABChNTdW1tYXJ5UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSTwoKYXR0cmlidXRlcxgDIAEoCzI7LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmxlYWRlcmJvYXJkLkxlYWRlcmJvYXJkU3VtbWFyeUl0ZW0iRQoYRXZlbnRMZWFkZXJib2FyZHNSZXF1ZXN0EhcKD29yZ2FuaXphdGlvbl9pZBgBIAEoCRIQCghldmVudF9pZBgCIAEoCSKNAgoZRXZlbnRMZWFkZXJib2FyZHNSZXNwb25zZRJqCgRkYXRhGAIgASgLMlwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmQuRXZlbnRMZWFkZXJib2FyZHNSZXNwb25zZS5FdmVudExlYWRlcmJvYXJkc1Jlc3BvbnNlRGF0YRqDAQodRXZlbnRMZWFkZXJib2FyZHNSZXNwb25zZURhdGESCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRJICgphdHRyaWJ1dGVzGAMgASgLMjQuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmQuTGVhZGVyYm9hcmREYXRhIqQBChdFdmVudExlYWRlcmJvYXJkUmVxdWVzdBIKCgJpZBgBIAEoCRIXCg9vcmdhbml6YXRpb25faWQYAiABKAkSNwoKcGFnaW5hdGlvbhgDIAEoCzIjLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlBhZ2luYXRpb24SKwoEc29ydBgEIAEoCzIdLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlNvcnQikgMKGEV2ZW50TGVhZGVyYm9hcmRSZXNwb25zZRJcCgRkYXRhGAEgAygLMk4uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmQuRXZlbnRMZWFkZXJib2FyZFJlc3BvbnNlLkxpc3RSZXNwb25zZURhdGESXAoEbWV0YRgCIAEoCzJOLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmxlYWRlcmJvYXJkLkV2ZW50TGVhZGVyYm9hcmRSZXNwb25zZS5MaXN0UmVzcG9uc2VNZXRhGnYKEExpc3RSZXNwb25zZURhdGESCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRJICgphdHRyaWJ1dGVzGAMgASgLMjQuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmQuTGVhZGVyYm9hcmRJdGVtGkIKEExpc3RSZXNwb25zZU1ldGESDQoFY291bnQYASABKAUSDAoEcGFnZRgCIAEoBRIRCglwYWdlX3NpemUYAyABKAUqagoPTGVhZGVyYm9hcmRUeXBlEhoKFkxFQURFUkJPQVJEX1RZUEVfVU5TRVQQABIfChtMRUFERVJCT0FSRF9UWVBFX1RPVVJOQU1FTlQQARIaChZMRUFERVJCT0FSRF9UWVBFX0VWRU5UEAIywgUKC0xlYWRlcmJvYXJkEokBCgRMaXN0EjAuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmQuTGlzdFJlcXVlc3QaMS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5sZWFkZXJib2FyZC5MaXN0UmVzcG9uc2UiHIqmHRBsZWFkZXJib2FyZC5saXN0oKYdAqimHQISlQEKB1N1bW1hcnkSMy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5sZWFkZXJib2FyZC5TdW1tYXJ5UmVxdWVzdBo0LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmxlYWRlcmJvYXJkLlN1bW1hcnlSZXNwb25zZSIfiqYdE2xlYWRlcmJvYXJkLnN1bW1hcnmgph0CqKYdAhK9AQoRRXZlbnRMZWFkZXJib2FyZHMSPS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5sZWFkZXJib2FyZC5FdmVudExlYWRlcmJvYXJkc1JlcXVlc3QaPi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5sZWFkZXJib2FyZC5FdmVudExlYWRlcmJvYXJkc1Jlc3BvbnNlIimKph0dc3R1ZGlvLmxlYWRlcmJvYXJkLmV2ZW50Lmxpc3Sgph0CqKYdARK9AQoQRXZlbnRMZWFkZXJib2FyZBI8LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmxlYWRlcmJvYXJkLkV2ZW50TGVhZGVyYm9hcmRSZXF1ZXN0Gj0uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmQuRXZlbnRMZWFkZXJib2FyZFJlc3BvbnNlIiyKph0gc3R1ZGlvLmxlYWRlcmJvYXJkLmV2ZW50LnN1bW1hcnmgph0CqKYdARoPirUYC2ludGVyYWN0aXZlQssBCidjb20uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmRCJlN0cmVhbUxheWVySW50ZXJhY3RpdmVMZWFkZXJib2FyZFByb3RvUAFabWdpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvaW50ZXJhY3RpdmUvbGVhZGVyYm9hcmQ7c2xfaW50ZXJhY3RpdmVfbGVhZGVyYm9hcmSiAgZTTF9BUEliBnByb3RvMw",[oo,gn]),rG=yc(mte,0),gte=Ut("CihzdHJlYW1sYXllci9zaG9ydExpbmtzL2xpbmtzQ2xpZW50LnByb3RvEhZzdHJlYW1sYXllci5zaG9ydExpbmtzIi4KD0dlbmVyYXRlUmVxdWVzdBILCgN3ZWIYASABKAkSDgoGbW9iaWxlGAIgASgJIoUBChBHZW5lcmF0ZVJlc3BvbnNlEksKBGRhdGEYASABKAsyPS5zdHJlYW1sYXllci5zaG9ydExpbmtzLkdlbmVyYXRlUmVzcG9uc2UuR2VuZXJhdGVSZXNwb25zZURhdGEaJAoUR2VuZXJhdGVSZXNwb25zZURhdGESDAoEbGluaxgBIAEoCTKTAQoLTGlua3NDbGllbnQScwoIR2VuZXJhdGUSJy5zdHJlYW1sYXllci5zaG9ydExpbmtzLkdlbmVyYXRlUmVxdWVzdBooLnN0cmVhbWxheWVyLnNob3J0TGlua3MuR2VuZXJhdGVSZXNwb25zZSIUiqYdCGdlbmVyYXRloKYdAqimHQIaD4q1GAtzaG9ydC1saW5rc0LCAQomY29tLnN0cmVhbWxheWVyLnNob3J0TGlua3MubGlua3NDbGllbnRCIFN0cmVhbUxheWVyU2hvcnRMaW5rc0NsaWVudFByb3RvUAFaa2dpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvc2hvcnRMaW5rcy9saW5rc0NsaWVudDtzbF9zaG9ydExpbmtzX2xpbmtzQ2xpZW50ogIGU0xfQVBJYgZwcm90bzM",[oo]),yte=yc(gte,0),sG=Ut("CjhzdHJlYW1sYXllci9hbmFseXRpY3MvdjEvaW50ZXJhY3Rpb25zL2ludGVyYWN0aW9ucy5wcm90bxIlc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmludGVyYWN0aW9ucyKjAwoYVG90YWxJbnRlcmFjdGlvbnNSZXF1ZXN0EmIKBmZpbHRlchgBIAEoCzJSLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuVG90YWxJbnRlcmFjdGlvbnNSZXF1ZXN0LlRvdGFsUmVxdWVzdEZpbHRlchIXCg9vcmdhbml6YXRpb25faWQYAiABKAkaiQIKElRvdGFsUmVxdWVzdEZpbHRlchI3CgZwZXJpb2QYASABKAsyJy5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLlBlcmlvZBIRCglldmVudF9pZHMYAiADKAQSPQoKY2F0ZWdvcmllcxgDIAMoDjIpLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uQ2F0ZWdvcnkSUgoMYWN0aW9uX3R5cGVzGAQgAygOMjwuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmludGVyYWN0aW9ucy5JbnRlcmFjdGlvbkFjdGlvblR5cGUSFAoMY291bnRfdW5pcXVlGAUgASgIIvABChlUb3RhbEludGVyYWN0aW9uc1Jlc3BvbnNlEmAKBGRhdGEYASADKAsyUi5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLlRvdGFsSW50ZXJhY3Rpb25zUmVzcG9uc2UuVG90YWxSZXNwb25zZURhdGEacQoRVG90YWxSZXNwb25zZURhdGESEAoIZXZlbnRfaWQYASABKAQSDQoFY291bnQYAiABKAQSOwoIY2F0ZWdvcnkYAyABKA4yKS5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLkNhdGVnb3J5IvIBChVUb3RhbENoYXRVc2Vyc1JlcXVlc3QSXwoGZmlsdGVyGAEgASgLMk8uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmludGVyYWN0aW9ucy5Ub3RhbENoYXRVc2Vyc1JlcXVlc3QuVG90YWxSZXF1ZXN0RmlsdGVyEhcKD29yZ2FuaXphdGlvbl9pZBgCIAEoCRpfChJUb3RhbFJlcXVlc3RGaWx0ZXISNwoGcGVyaW9kGAEgASgLMicuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5QZXJpb2QSEAoIZXZlbnRfaWQYAiABKAQirQEKFlRvdGFsQ2hhdFVzZXJzUmVzcG9uc2USXQoEZGF0YRgBIAMoCzJPLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuVG90YWxDaGF0VXNlcnNSZXNwb25zZS5Ub3RhbFJlc3BvbnNlRGF0YRo0ChFUb3RhbFJlc3BvbnNlRGF0YRIQCghldmVudF9pZBgBIAEoBBINCgVjb3VudBgCIAEoBCL0AQoWVG90YWxWb2ljZVVzZXJzUmVxdWVzdBJgCgZmaWx0ZXIYASABKAsyUC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLlRvdGFsVm9pY2VVc2Vyc1JlcXVlc3QuVG90YWxSZXF1ZXN0RmlsdGVyEhcKD29yZ2FuaXphdGlvbl9pZBgCIAEoCRpfChJUb3RhbFJlcXVlc3RGaWx0ZXISNwoGcGVyaW9kGAEgASgLMicuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5QZXJpb2QSEAoIZXZlbnRfaWQYAiABKAQirwEKF1RvdGFsVm9pY2VVc2Vyc1Jlc3BvbnNlEl4KBGRhdGEYASADKAsyUC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLlRvdGFsVm9pY2VVc2Vyc1Jlc3BvbnNlLlRvdGFsUmVzcG9uc2VEYXRhGjQKEVRvdGFsUmVzcG9uc2VEYXRhEhAKCGV2ZW50X2lkGAEgASgEEg0KBWNvdW50GAIgASgEIr0CCiJUb3RhbEludGVyYWN0aW9uc0J5VGltZUxpbmVSZXF1ZXN0Em8KBmZpbHRlchgBIAEoCzJfLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuVG90YWxJbnRlcmFjdGlvbnNCeVRpbWVMaW5lUmVxdWVzdC5Ub3RhbEJ5VGltZUxpbmVGaWx0ZXISFwoPb3JnYW5pemF0aW9uX2lkGAIgASgJGowBChVUb3RhbEJ5VGltZUxpbmVGaWx0ZXISNwoGcGVyaW9kGAEgASgLMicuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5QZXJpb2QSEAoIZXZlbnRfaWQYAiABKAQSEQoJZXZlbnRfaWRzGAMgAygEEhUKDXN1bW1hcnlfY291bnQYBCABKAgijQIKI1RvdGFsSW50ZXJhY3Rpb25zQnlUaW1lTGluZVJlc3BvbnNlEhAKCGV2ZW50X2lkGAEgASgEEmwKBGRhdGEYAiADKAsyXi5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLlRvdGFsSW50ZXJhY3Rpb25zQnlUaW1lTGluZVJlc3BvbnNlLlRvdGFsQnlUaW1lTGluZURhdGESEQoJZXZlbnRfaWRzGAMgAygEGlMKE1RvdGFsQnlUaW1lTGluZURhdGESLQoJdGltZV9saW5lGAEgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBINCgVjb3VudBgCIAEoBCK1AgoeVG90YWxNZXNzYWdlc0J5VGltZWxpbmVSZXF1ZXN0EmsKBmZpbHRlchgBIAEoCzJbLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuVG90YWxNZXNzYWdlc0J5VGltZWxpbmVSZXF1ZXN0LlRvdGFsQnlUaW1lTGluZUZpbHRlchIXCg9vcmdhbml6YXRpb25faWQYAiABKAkajAEKFVRvdGFsQnlUaW1lTGluZUZpbHRlchI3CgZwZXJpb2QYASABKAsyJy5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLlBlcmlvZBIQCghldmVudF9pZBgCIAEoBBIRCglldmVudF9pZHMYAyADKAQSFQoNc3VtbWFyeV9jb3VudBgEIAEoCCKFAgofVG90YWxNZXNzYWdlc0J5VGltZWxpbmVSZXNwb25zZRIQCghldmVudF9pZBgBIAEoBBJoCgRkYXRhGAIgAygLMlouc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmludGVyYWN0aW9ucy5Ub3RhbE1lc3NhZ2VzQnlUaW1lbGluZVJlc3BvbnNlLlRvdGFsQnlUaW1lTGluZURhdGESEQoJZXZlbnRfaWRzGAMgAygEGlMKE1RvdGFsQnlUaW1lTGluZURhdGESLQoJdGltZV9saW5lGAEgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBINCgVjb3VudBgCIAEoBCKxAgocVG90YWxWb2ljZXNCeVRpbWVsaW5lUmVxdWVzdBJpCgZmaWx0ZXIYASABKAsyWS5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLlRvdGFsVm9pY2VzQnlUaW1lbGluZVJlcXVlc3QuVG90YWxCeVRpbWVMaW5lRmlsdGVyEhcKD29yZ2FuaXphdGlvbl9pZBgCIAEoCRqMAQoVVG90YWxCeVRpbWVMaW5lRmlsdGVyEjcKBnBlcmlvZBgBIAEoCzInLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uUGVyaW9kEhAKCGV2ZW50X2lkGAIgASgEEhEKCWV2ZW50X2lkcxgDIAMoBBIVCg1zdW1tYXJ5X2NvdW50GAQgASgIIoECCh1Ub3RhbFZvaWNlc0J5VGltZWxpbmVSZXNwb25zZRIQCghldmVudF9pZBgBIAEoBBJmCgRkYXRhGAIgAygLMlguc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmludGVyYWN0aW9ucy5Ub3RhbFZvaWNlc0J5VGltZWxpbmVSZXNwb25zZS5Ub3RhbEJ5VGltZUxpbmVEYXRhEhEKCWV2ZW50X2lkcxgDIAMoBBpTChNUb3RhbEJ5VGltZUxpbmVEYXRhEi0KCXRpbWVfbGluZRgBIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASDQoFY291bnQYAiABKAQirwIKG1RvdGFsU3RhdHNCeVRpbWVsaW5lUmVxdWVzdBJoCgZmaWx0ZXIYASABKAsyWC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLlRvdGFsU3RhdHNCeVRpbWVsaW5lUmVxdWVzdC5Ub3RhbEJ5VGltZUxpbmVGaWx0ZXISFwoPb3JnYW5pemF0aW9uX2lkGAIgASgJGowBChVUb3RhbEJ5VGltZUxpbmVGaWx0ZXISNwoGcGVyaW9kGAEgASgLMicuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5QZXJpb2QSEAoIZXZlbnRfaWQYAiABKAQSEQoJZXZlbnRfaWRzGAMgAygEEhUKDXN1bW1hcnlfY291bnQYBCABKAgi/wEKHFRvdGFsU3RhdHNCeVRpbWVsaW5lUmVzcG9uc2USEAoIZXZlbnRfaWQYASABKAQSZQoEZGF0YRgCIAMoCzJXLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuVG90YWxTdGF0c0J5VGltZWxpbmVSZXNwb25zZS5Ub3RhbEJ5VGltZUxpbmVEYXRhEhEKCWV2ZW50X2lkcxgDIAMoBBpTChNUb3RhbEJ5VGltZUxpbmVEYXRhEi0KCXRpbWVfbGluZRgBIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASDQoFY291bnQYAiABKAQiswIKHVRvdGFsVHdpdHRlckJ5VGltZWxpbmVSZXF1ZXN0EmoKBmZpbHRlchgBIAEoCzJaLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuVG90YWxUd2l0dGVyQnlUaW1lbGluZVJlcXVlc3QuVG90YWxCeVRpbWVMaW5lRmlsdGVyEhcKD29yZ2FuaXphdGlvbl9pZBgCIAEoCRqMAQoVVG90YWxCeVRpbWVMaW5lRmlsdGVyEjcKBnBlcmlvZBgBIAEoCzInLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uUGVyaW9kEhAKCGV2ZW50X2lkGAIgASgEEhEKCWV2ZW50X2lkcxgDIAMoBBIVCg1zdW1tYXJ5X2NvdW50GAQgASgIIoMCCh5Ub3RhbFR3aXR0ZXJCeVRpbWVsaW5lUmVzcG9uc2USEAoIZXZlbnRfaWQYASABKAQSZwoEZGF0YRgCIAMoCzJZLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuVG90YWxUd2l0dGVyQnlUaW1lbGluZVJlc3BvbnNlLlRvdGFsQnlUaW1lTGluZURhdGESEQoJZXZlbnRfaWRzGAMgAygEGlMKE1RvdGFsQnlUaW1lTGluZURhdGESLQoJdGltZV9saW5lGAEgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBINCgVjb3VudBgCIAEoBCK4BgoXU2VuZEludGVyYWN0aW9uc1JlcXVlc3QSXgoEZGF0YRgBIAMoCzJQLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuU2VuZEludGVyYWN0aW9uc1JlcXVlc3QuQ3JlYXRlUmVxdWVzdERhdGEavAUKEUNyZWF0ZVJlcXVlc3REYXRhEhAKCGV2ZW50X2lkGAEgASgEEg8KB3VzZXJfaWQYAiABKAQSUQoLYWN0aW9uX3R5cGUYAyABKA4yPC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLkludGVyYWN0aW9uQWN0aW9uVHlwZRI7CghjYXRlZ29yeRgEIAEoDjIpLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uQ2F0ZWdvcnkSMwoPdHJhY2tfdGltZXN0YW1wGAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBIRCglyb3V0ZV9tYXAYBiABKAkSEQoJZGV2aWNlX2lkGAcgASgJEgoKAm9zGAggASgJEhIKCnVzZXJfYWdlbnQYCSABKAkSFgoOc2xfc2RrX3ZlcnNpb24YCiABKAkSEgoKc2Vzc2lvbl9pZBgLIAEoCRIaChJvdmVybGF5X3Nlc3Npb25faWQYDCABKAkSEAoIdG9waWNfaWQYDSABKAkSEwoLdXNlcl9pZF9zdHIYDiABKAkSTgoSc2NyZWVuX29yaWVudGF0aW9uGA8gASgOMjIuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5TY3JlZW5PcmllbnRhdGlvbhI+Cgp0b3BpY190eXBlGBAgASgOMiouc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5Ub3BpY1R5cGUSFwoPcGFyZW50X3RvcGljX2lkGBEgASgJEkUKEXBhcmVudF90b3BpY190eXBlGBIgASgOMiouc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5Ub3BpY1R5cGUSGgoScGFydGljaXBhbnRzX2NvdW50GBMgASgNItEBChhTZW5kSW50ZXJhY3Rpb25zUmVzcG9uc2USYAoEZGF0YRgBIAEoCzJSLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuU2VuZEludGVyYWN0aW9uc1Jlc3BvbnNlLkNyZWF0ZVJlc3BvbnNlRGF0YRpTChJDcmVhdGVSZXNwb25zZURhdGESPQoGcmVzdWx0GAEgASgOMi0uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5SZXN1bHRTdGF0dXMizgIKGFRvdGFsQnlDYXRlZ29yaWVzUmVxdWVzdBJiCgZmaWx0ZXIYASABKAsyUi5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLlRvdGFsQnlDYXRlZ29yaWVzUmVxdWVzdC5Ub3RhbFJlcXVlc3RGaWx0ZXISFwoPb3JnYW5pemF0aW9uX2lkGAIgASgJGrQBChJUb3RhbFJlcXVlc3RGaWx0ZXISNwoGcGVyaW9kGAEgASgLMicuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5QZXJpb2QSEAoIZXZlbnRfaWQYAiABKAQSPQoKY2F0ZWdvcmllcxgDIAMoDjIpLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uQ2F0ZWdvcnkSFAoMY291bnRfdW5pcXVlGAQgASgIIrMBChlUb3RhbEJ5Q2F0ZWdvcmllc1Jlc3BvbnNlEmAKBGRhdGEYASADKAsyUi5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLlRvdGFsQnlDYXRlZ29yaWVzUmVzcG9uc2UuVG90YWxSZXNwb25zZURhdGEaNAoRVG90YWxSZXNwb25zZURhdGESEAoIZXZlbnRfaWQYASABKAQSDQoFY291bnQYAiABKAQixQEKF1Nlc3Npb25EdXJhdGlvbnNSZXF1ZXN0EmUKBmZpbHRlchgBIAEoCzJVLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuU2Vzc2lvbkR1cmF0aW9uc1JlcXVlc3QuU2Vzc2lvbkR1cmF0aW9uc0ZpbHRlchIXCg9vcmdhbml6YXRpb25faWQYAiABKAkaKgoWU2Vzc2lvbkR1cmF0aW9uc0ZpbHRlchIQCghldmVudF9pZBgBIAEoBCK2AQoYU2Vzc2lvbkR1cmF0aW9uc1Jlc3BvbnNlEmIKBGRhdGEYASADKAsyVC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLlNlc3Npb25EdXJhdGlvbnNSZXNwb25zZS5TZXNzaW9uRHVyYXRpb25zRGF0YRo2ChRTZXNzaW9uRHVyYXRpb25zRGF0YRINCgV1c2VycxgBIAEoBBIPCgdtaW51dGVzGAIgASgEIowCChlTZXNzaW9uRHVyYXRpb25BdmdSZXF1ZXN0EmkKBmZpbHRlchgBIAEoCzJZLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuU2Vzc2lvbkR1cmF0aW9uQXZnUmVxdWVzdC5TZXNzaW9uRHVyYXRpb25BdmdGaWx0ZXISFwoPb3JnYW5pemF0aW9uX2lkGAIgASgJGmsKGFNlc3Npb25EdXJhdGlvbkF2Z0ZpbHRlchIQCghldmVudF9pZBgBIAEoBBI9CgpjYXRlZ29yaWVzGAIgAygOMikuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5DYXRlZ29yeSLCAQoaU2Vzc2lvbkR1cmF0aW9uQXZnUmVzcG9uc2USZgoEZGF0YRgBIAEoCzJYLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuU2Vzc2lvbkR1cmF0aW9uQXZnUmVzcG9uc2UuU2Vzc2lvbkR1cmF0aW9uQXZnRGF0YRo8ChZTZXNzaW9uRHVyYXRpb25BdmdEYXRhEhAKCGV2ZW50X2lkGAEgASgEEhAKCGF2Z190aW1lGAIgASgEKsYBChVJbnRlcmFjdGlvbkFjdGlvblR5cGUSIQodSU5URVJBQ1RJT05fQUNUSU9OX1RZUEVfVU5TRVQQABIfChtJTlRFUkFDVElPTl9BQ1RJT05fVFlQRV9UQVAQARIgChxJTlRFUkFDVElPTl9BQ1RJT05fVFlQRV9DQUxMEAISIwofSU5URVJBQ1RJT05fQUNUSU9OX1RZUEVfTUVTU0FHRRADEiIKHklOVEVSQUNUSU9OX0FDVElPTl9UWVBFX1NDUk9MTBAEQroBCiljb20uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLmludGVyYWN0aW9ucy52MUIcU3RyZWFtTGF5ZXJJbnRlcmFjdGlvbnNQcm90b1ABWmRnaXRodWIuY29tL3N0cmVhbWxheWVyL3NsLXByb3RvZmlsZXMvLmJ1aWxkL2dvL3N0cmVhbWxheWVyL2FuYWx5dGljcy92MS9pbnRlcmFjdGlvbnM7c2xfaW50ZXJhY3Rpb25zogIGU0xfQVBJYgZwcm90bzM",[Tr,bc]),bte=vt(sG,0),zI=Et(bte),$9=Ut("CjpzdHJlYW1sYXllci9hbmFseXRpY3MvdjEvbm90aWZpY2F0aW9ucy9ub3RpZmljYXRpb25zLnByb3RvEiZzdHJlYW1sYXllci5hbmFseXRpY3MudjEubm90aWZpY2F0aW9ucyKaBAoZVG90YWxOb3RpZmljYXRpb25zUmVxdWVzdBJkCgZmaWx0ZXIYASABKAsyVC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEubm90aWZpY2F0aW9ucy5Ub3RhbE5vdGlmaWNhdGlvbnNSZXF1ZXN0LlRvdGFsUmVxdWVzdEZpbHRlchqWAwoSVG90YWxSZXF1ZXN0RmlsdGVyEjcKBnBlcmlvZBgBIAEoCzInLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uUGVyaW9kEhEKCWV2ZW50X2lkcxgCIAMoBBI9CgpjYXRlZ29yaWVzGAMgAygOMikuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5DYXRlZ29yeRJUChJub3RpZmljYXRpb25fa2luZHMYBCADKA4yOC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEubm90aWZpY2F0aW9ucy5Ob3RpZmljYXRpb25LaW5kElQKEm5vdGlmaWNhdGlvbl90eXBlcxgFIAMoDjI4LnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5ub3RpZmljYXRpb25zLk5vdGlmaWNhdGlvblR5cGUSMwoEa2luZBgGIAEoDjIlLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uS2luZBIUCgxjb3VudF91bmlxdWUYByABKAgitgEKGlRvdGFsTm90aWZpY2F0aW9uc1Jlc3BvbnNlEmIKBGRhdGEYASADKAsyVC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEubm90aWZpY2F0aW9ucy5Ub3RhbE5vdGlmaWNhdGlvbnNSZXNwb25zZS5Ub3RhbFJlc3BvbnNlRGF0YRo0ChFUb3RhbFJlc3BvbnNlRGF0YRIQCghldmVudF9pZBgBIAEoBBINCgVjb3VudBgCIAEoBCK2BgoXU2VuZE5vdGlmaWNhdGlvblJlcXVlc3QSXwoEZGF0YRgBIAMoCzJRLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5ub3RpZmljYXRpb25zLlNlbmROb3RpZmljYXRpb25SZXF1ZXN0LkNyZWF0ZVJlcXVlc3REYXRhGrkFChFDcmVhdGVSZXF1ZXN0RGF0YRIQCghldmVudF9pZBgBIAEoBBIPCgd1c2VyX2lkGAIgASgEEjsKCGNhdGVnb3J5GAMgASgOMikuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5DYXRlZ29yeRJTChFub3RpZmljYXRpb25fa2luZBgEIAEoDjI4LnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5ub3RpZmljYXRpb25zLk5vdGlmaWNhdGlvbktpbmQSUwoRbm90aWZpY2F0aW9uX3R5cGUYBSABKA4yOC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEubm90aWZpY2F0aW9ucy5Ob3RpZmljYXRpb25UeXBlEjMKBGtpbmQYBiABKA4yJS5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLktpbmQSMwoPdHJhY2tfdGltZXN0YW1wGAcgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBIRCglkZXZpY2VfaWQYCCABKAkSCgoCb3MYCSABKAkSEgoKdXNlcl9hZ2VudBgKIAEoCRIWCg5zbF9zZGtfdmVyc2lvbhgLIAEoCRISCgpzZXNzaW9uX2lkGAwgASgJEhoKEm92ZXJsYXlfc2Vzc2lvbl9pZBgNIAEoCRIQCgh0b3BpY19pZBgOIAEoCRI+Cgp0b3BpY190eXBlGBUgASgOMiouc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5Ub3BpY1R5cGUSEwoLdXNlcl9pZF9zdHIYEyABKAkSTgoSc2NyZWVuX29yaWVudGF0aW9uGBQgASgOMjIuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5TY3JlZW5PcmllbnRhdGlvbiLSAQoYU2VuZE5vdGlmaWNhdGlvblJlc3BvbnNlEmEKBGRhdGEYASABKAsyUy5zdHJlYW1sYXllci5hbmFseXRpY3MudjEubm90aWZpY2F0aW9ucy5TZW5kTm90aWZpY2F0aW9uUmVzcG9uc2UuQ3JlYXRlUmVzcG9uc2VEYXRhGlMKEkNyZWF0ZVJlc3BvbnNlRGF0YRI9CgZyZXN1bHQYASABKA4yLS5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLlJlc3VsdFN0YXR1cyKYAwolVG90YWxOb3RpZmljYXRpb25zQnlDYXRlZ29yaWVzUmVxdWVzdBJwCgZmaWx0ZXIYASABKAsyYC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEubm90aWZpY2F0aW9ucy5Ub3RhbE5vdGlmaWNhdGlvbnNCeUNhdGVnb3JpZXNSZXF1ZXN0LlRvdGFsUmVxdWVzdEZpbHRlchr8AQoSVG90YWxSZXF1ZXN0RmlsdGVyEjcKBnBlcmlvZBgBIAEoCzInLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uUGVyaW9kEhAKCGV2ZW50X2lkGAIgASgEEjMKBGtpbmQYAyABKA4yJS5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLktpbmQSPQoKY2F0ZWdvcmllcxgEIAMoDjIpLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uQ2F0ZWdvcnkSEQoJcm91dGVfbWFwGAUgASgJEhQKDGNvdW50X3VuaXF1ZRgGIAEoCCLOAQomVG90YWxOb3RpZmljYXRpb25zQnlDYXRlZ29yaWVzUmVzcG9uc2USbgoEZGF0YRgBIAMoCzJgLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5ub3RpZmljYXRpb25zLlRvdGFsTm90aWZpY2F0aW9uc0J5Q2F0ZWdvcmllc1Jlc3BvbnNlLlRvdGFsUmVzcG9uc2VEYXRhGjQKEVRvdGFsUmVzcG9uc2VEYXRhEhAKCGV2ZW50X2lkGAEgASgEEg0KBWNvdW50GAIgASgEKvECChBOb3RpZmljYXRpb25LaW5kEhsKF05PVElGSUNBVElPTl9LSU5EX1VOU0VUEAASHQoZTk9USUZJQ0FUSU9OX0tJTkRfTUVTU0FHRRABEhoKFk5PVElGSUNBVElPTl9LSU5EX0NBTEwQAhIdChlOT1RJRklDQVRJT05fS0lORF9UV0lUVEVSEAMSGgoWTk9USUZJQ0FUSU9OX0tJTkRfV0FWRRAEEhwKGE5PVElGSUNBVElPTl9LSU5EX0lOUExBWRAFEiAKHE5PVElGSUNBVElPTl9LSU5EX0dST1VQX0NBTEwQBhIhCh1OT1RJRklDQVRJT05fS0lORF9NSVNTRURfQ0FMTBAHEicKI05PVElGSUNBVElPTl9LSU5EX01JU1NFRF9HUk9VUF9DQUxMEAgSIQodTk9USUZJQ0FUSU9OX0tJTkRfV0FUQ0hfUEFSVFkQCRIbChdOT1RJRklDQVRJT05fS0lORF9QT0xMUxAKKmkKEE5vdGlmaWNhdGlvblR5cGUSGwoXTk9USUZJQ0FUSU9OX1RZUEVfVU5TRVQQABIcChhOT1RJRklDQVRJT05fVFlQRV9JTl9BUFAQARIaChZOT1RJRklDQVRJT05fVFlQRV9QVVNIEAJCvgEKKmNvbS5zdHJlYW1sYXllci5hbmFseXRpY3Mubm90aWZpY2F0aW9ucy52MUIdU3RyZWFtTGF5ZXJOb3RpZmljYXRpb25zUHJvdG9QAVpmZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9hbmFseXRpY3MvdjEvbm90aWZpY2F0aW9ucztzbF9ub3RpZmljYXRpb25zogIGU0xfQVBJYgZwcm90bzM",[Tr,bc]),vte=vt($9,0),ya=Et(vte),Ete=vt($9,1),JI=Et(Ete),Ate=Ut("CjZzdHJlYW1sYXllci9hbmFseXRpY3MvdjEvcGVybWlzc2lvbnMvcGVybWlzc2lvbnMucHJvdG8SJHN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5wZXJtaXNzaW9ucyLeAgoXVG90YWxQZXJtaXNzaW9uc1JlcXVlc3QSYAoGZmlsdGVyGAEgASgLMlAuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLnBlcm1pc3Npb25zLlRvdGFsUGVybWlzc2lvbnNSZXF1ZXN0LlRvdGFsUmVxdWVzdEZpbHRlchrgAQoSVG90YWxSZXF1ZXN0RmlsdGVyEjcKBnBlcmlvZBgBIAEoCzInLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uUGVyaW9kEhEKCWV2ZW50X2lkcxgCIAMoBBJJCgtwZXJtaXNzaW9ucxgDIAMoDjI0LnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5wZXJtaXNzaW9ucy5QZXJtaXNzaW9uVHlwZRIzCgRraW5kGAQgASgOMiUuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5LaW5kIrABChhUb3RhbFBlcm1pc3Npb25zUmVzcG9uc2USXgoEZGF0YRgBIAMoCzJQLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5wZXJtaXNzaW9ucy5Ub3RhbFBlcm1pc3Npb25zUmVzcG9uc2UuVG90YWxSZXNwb25zZURhdGEaNAoRVG90YWxSZXNwb25zZURhdGESEAoIZXZlbnRfaWQYASABKAQSDQoFY291bnQYAiABKAQiqAUKFlNlbmRQZXJtaXNzaW9uc1JlcXVlc3QSXAoEZGF0YRgBIAMoCzJOLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5wZXJtaXNzaW9ucy5TZW5kUGVybWlzc2lvbnNSZXF1ZXN0LkNyZWF0ZVJlcXVlc3REYXRhGq8EChFDcmVhdGVSZXF1ZXN0RGF0YRIQCghldmVudF9pZBgBIAEoBBIPCgd1c2VyX2lkGAIgASgEEkgKCnBlcm1pc3Npb24YAyABKA4yNC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEucGVybWlzc2lvbnMuUGVybWlzc2lvblR5cGUSMwoEa2luZBgEIAEoDjIlLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uS2luZBIzCg90cmFja190aW1lc3RhbXAYBSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEhEKCXJvdXRlX21hcBgGIAEoCRIRCglkZXZpY2VfaWQYByABKAkSCgoCb3MYCCABKAkSEgoKdXNlcl9hZ2VudBgJIAEoCRIWCg5zbF9zZGtfdmVyc2lvbhgKIAEoCRISCgpzZXNzaW9uX2lkGAsgASgJEhoKEm92ZXJsYXlfc2Vzc2lvbl9pZBgMIAEoCRIQCgh0b3BpY19pZBgNIAEoCRI+Cgp0b3BpY190eXBlGBAgASgOMiouc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5Ub3BpY1R5cGUSEwoLdXNlcl9pZF9zdHIYDiABKAkSTgoSc2NyZWVuX29yaWVudGF0aW9uGA8gASgOMjIuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5TY3JlZW5PcmllbnRhdGlvbiLOAQoXU2VuZFBlcm1pc3Npb25zUmVzcG9uc2USXgoEZGF0YRgBIAEoCzJQLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5wZXJtaXNzaW9ucy5TZW5kUGVybWlzc2lvbnNSZXNwb25zZS5DcmVhdGVSZXNwb25zZURhdGEaUwoSQ3JlYXRlUmVzcG9uc2VEYXRhEj0KBnJlc3VsdBgBIAEoDjItLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uUmVzdWx0U3RhdHVzKoYBCg5QZXJtaXNzaW9uVHlwZRIZChVQRVJNSVNTSU9OX1RZUEVfVU5TRVQQABIgChxQRVJNSVNTSU9OX1RZUEVfQUREUkVTU19CT09LEAESGwoXUEVSTUlTU0lPTl9UWVBFX0NBTExJTkcQAhIaChZQRVJNSVNTSU9OX1RZUEVfQ0FNRVJBEANCtgEKKGNvbS5zdHJlYW1sYXllci5hbmFseXRpY3MucGVybWlzc2lvbnMudjFCG1N0cmVhbUxheWVyUGVybWlzc2lvbnNQcm90b1ABWmJnaXRodWIuY29tL3N0cmVhbWxheWVyL3NsLXByb3RvZmlsZXMvLmJ1aWxkL2dvL3N0cmVhbWxheWVyL2FuYWx5dGljcy92MS9wZXJtaXNzaW9ucztzbF9wZXJtaXNzaW9uc6ICBlNMX0FQSWIGcHJvdG8z",[Tr,bc]),Ste=Ut("CipzdHJlYW1sYXllci9hbmFseXRpY3MvdjEvd2F2ZXMvd2F2ZXMucHJvdG8SHnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS53YXZlcyLDAgoRVG90YWxXYXZlc1JlcXVlc3QSVAoGZmlsdGVyGAEgASgLMkQuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLndhdmVzLlRvdGFsV2F2ZXNSZXF1ZXN0LlRvdGFsUmVxdWVzdEZpbHRlchrXAQoSVG90YWxSZXF1ZXN0RmlsdGVyEjcKBnBlcmlvZBgBIAEoCzInLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uUGVyaW9kEhEKCWV2ZW50X2lkcxgCIAMoBBJACgpjYXRlZ29yaWVzGAMgAygOMiwuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLndhdmVzLldhdmVDYXRlZ29yeRIzCgRraW5kGAQgASgOMiUuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5LaW5kIp4BChJUb3RhbFdhdmVzUmVzcG9uc2USUgoEZGF0YRgBIAMoCzJELnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS53YXZlcy5Ub3RhbFdhdmVzUmVzcG9uc2UuVG90YWxSZXNwb25zZURhdGEaNAoRVG90YWxSZXNwb25zZURhdGESEAoIZXZlbnRfaWQYASABKAQSDQoFY291bnQYAiABKAQijAIKF1RvdGFsV2F2ZXNCeUtpbmRSZXF1ZXN0EloKBmZpbHRlchgBIAEoCzJKLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS53YXZlcy5Ub3RhbFdhdmVzQnlLaW5kUmVxdWVzdC5Ub3RhbFJlcXVlc3RGaWx0ZXIalAEKElRvdGFsUmVxdWVzdEZpbHRlchI3CgZwZXJpb2QYASABKAsyJy5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLlBlcmlvZBIzCgRraW5kGAIgASgOMiUuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5LaW5kEhAKCGV2ZW50X2lkGAMgASgEIqoBChhUb3RhbFdhdmVzQnlLaW5kUmVzcG9uc2USWAoEZGF0YRgBIAMoCzJKLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS53YXZlcy5Ub3RhbFdhdmVzQnlLaW5kUmVzcG9uc2UuVG90YWxSZXNwb25zZURhdGEaNAoRVG90YWxSZXNwb25zZURhdGESEAoIZXZlbnRfaWQYASABKAQSDQoFY291bnQYAiABKAQijAUKEFNlbmRXYXZlc1JlcXVlc3QSUAoEZGF0YRgBIAMoCzJCLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS53YXZlcy5TZW5kV2F2ZXNSZXF1ZXN0LkNyZWF0ZVJlcXVlc3REYXRhGqUEChFDcmVhdGVSZXF1ZXN0RGF0YRIQCghldmVudF9pZBgBIAEoBBIPCgd1c2VyX2lkGAIgASgEEj4KCGNhdGVnb3J5GAMgASgOMiwuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLndhdmVzLldhdmVDYXRlZ29yeRIzCgRraW5kGAQgASgOMiUuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5LaW5kEjMKD3RyYWNrX3RpbWVzdGFtcBgFIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASEQoJcm91dGVfbWFwGAYgASgJEhEKCWRldmljZV9pZBgHIAEoCRIKCgJvcxgIIAEoCRISCgp1c2VyX2FnZW50GAkgASgJEhYKDnNsX3Nka192ZXJzaW9uGAogASgJEhIKCnNlc3Npb25faWQYCyABKAkSGgoSb3ZlcmxheV9zZXNzaW9uX2lkGAwgASgJEhAKCHRvcGljX2lkGA0gASgJEhMKC3VzZXJfaWRfc3RyGA4gASgJEj4KCnRvcGljX3R5cGUYECABKA4yKi5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLlRvcGljVHlwZRJOChJzY3JlZW5fb3JpZW50YXRpb24YDyABKA4yMi5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLlNjcmVlbk9yaWVudGF0aW9uIrwBChFTZW5kV2F2ZXNSZXNwb25zZRJSCgRkYXRhGAEgASgLMkQuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLndhdmVzLlNlbmRXYXZlc1Jlc3BvbnNlLkNyZWF0ZVJlc3BvbnNlRGF0YRpTChJDcmVhdGVSZXNwb25zZURhdGESPQoGcmVzdWx0GAEgASgOMi0uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5SZXN1bHRTdGF0dXMqewoMV2F2ZUNhdGVnb3J5EhcKE1dBVkVfQ0FURUdPUllfVU5TRVQQABIaChZXQVZFX0NBVEVHT1JZX1dBVENISU5HEAESGwoXV0FWRV9DQVRFR09SWV9NRVNTQUdJTkcQAhIZChVXQVZFX0NBVEVHT1JZX1ZPSUNJTkcQA0KeAQoiY29tLnN0cmVhbWxheWVyLmFuYWx5dGljcy53YXZlcy52MUIVU3RyZWFtTGF5ZXJXYXZlc1Byb3RvUAFaVmdpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvYW5hbHl0aWNzL3YxL3dhdmVzO3NsX3dhdmVzogIGU0xfQVBJYgZwcm90bzM",[Tr,bc]),Tte=Ut("CjJzdHJlYW1sYXllci9hbmFseXRpY3MvdjIvc3RyZWFtaW5nL3N0cmVhbWluZy5wcm90bxIic3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZyJNCgxTZW5kUmVzcG9uc2USPQoGcmVzdWx0GAEgASgOMi0uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5SZXN1bHRTdGF0dXMiCwoJU2VuZEV4dHJhIqsHCgpDb21tb25EYXRhEhUKCGV2ZW50X2lkGAEgASgESACIAQESQAoIY2F0ZWdvcnkYAiABKA4yKS5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLkNhdGVnb3J5SAGIAQESOAoEa2luZBgDIAEoDjIlLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uS2luZEgCiAEBElMKEnNjcmVlbl9vcmllbnRhdGlvbhgEIAEoDjIyLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uU2NyZWVuT3JpZW50YXRpb25IA4gBARIXCgpzZXNzaW9uX2lkGAUgASgJSASIAQESHwoSb3ZlcmxheV9zZXNzaW9uX2lkGAYgASgJSAWIAQESFQoIdG9waWNfaWQYByABKAlIBogBARJDCgp0b3BpY190eXBlGAggASgOMiouc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5Ub3BpY1R5cGVIB4gBARIcCg9wYXJlbnRfdG9waWNfaWQYCSABKAlICIgBARJKChFwYXJlbnRfdG9waWNfdHlwZRgKIAEoDjIqLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uVG9waWNUeXBlSAmIAQESHwoScGFydGljaXBhbnRzX2NvdW50GAsgASgNSAqIAQESFgoJcm91dGVfbWFwGAwgASgJSAuIAQESHAoPdHJhY2tfdGltZXN0YW1wGA0gASgESAyIAQESSgoOdG9waWNfc3ViX3R5cGUYDiABKA4yLS5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLlRvcGljU3ViVHlwZUgNiAEBEhQKB2NvdW50cnkYDyABKAlIDogBAUILCglfZXZlbnRfaWRCCwoJX2NhdGVnb3J5QgcKBV9raW5kQhUKE19zY3JlZW5fb3JpZW50YXRpb25CDQoLX3Nlc3Npb25faWRCFQoTX292ZXJsYXlfc2Vzc2lvbl9pZEILCglfdG9waWNfaWRCDQoLX3RvcGljX3R5cGVCEgoQX3BhcmVudF90b3BpY19pZEIUChJfcGFyZW50X3RvcGljX3R5cGVCFQoTX3BhcnRpY2lwYW50c19jb3VudEIMCgpfcm91dGVfbWFwQhIKEF90cmFja190aW1lc3RhbXBCEQoPX3RvcGljX3N1Yl90eXBlQgoKCF9jb3VudHJ5IlwKGlNlbmRBdXRoZW50aWNhdGlvbnNNZXNzYWdlEj4KBmNvbW1vbhgBIAEoCzIuLnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuQ29tbW9uRGF0YSJSChBTZW5kQ2FsbHNNZXNzYWdlEj4KBmNvbW1vbhgBIAEoCzIuLnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuQ29tbW9uRGF0YSJaChhTZW5kQ29udmVyc2F0aW9uc01lc3NhZ2USPgoGY29tbW9uGAEgASgLMi4uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZy5Db21tb25EYXRhIqwBChdTZW5kSW50ZXJhY3Rpb25zTWVzc2FnZRI+CgZjb21tb24YASABKAsyLi5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLkNvbW1vbkRhdGESUQoLYWN0aW9uX3R5cGUYAiABKA4yPC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLkludGVyYWN0aW9uQWN0aW9uVHlwZSJUChJFdmVudE9wZW5lZE1lc3NhZ2USPgoGY29tbW9uGAEgASgLMi4uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZy5Db21tb25EYXRhIugBChZTZW5kSW52aXRhdGlvbnNNZXNzYWdlEj4KBmNvbW1vbhgBIAEoCzIuLnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuQ29tbW9uRGF0YRJKCghjYXRlZ29yeRgCIAEoDjI4LnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnZpdGF0aW9ucy5JbnZpdGF0aW9uQ2F0ZWdvcnkSQgoEZnJvbRgDIAEoDjI0LnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnZpdGF0aW9ucy5JbnZpdGF0aW9uRnJvbSJVChNMYXVuY2hCdXR0b25NZXNzYWdlEj4KBmNvbW1vbhgBIAEoCzIuLnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuQ29tbW9uRGF0YSL/AQoTTm90aWZpY2F0aW9uTWVzc2FnZRI+CgZjb21tb24YASABKAsyLi5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLkNvbW1vbkRhdGESUwoRbm90aWZpY2F0aW9uX2tpbmQYAiABKA4yOC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEubm90aWZpY2F0aW9ucy5Ob3RpZmljYXRpb25LaW5kElMKEW5vdGlmaWNhdGlvbl90eXBlGAMgASgOMjguc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLm5vdGlmaWNhdGlvbnMuTm90aWZpY2F0aW9uVHlwZSKdAQoRUGVybWlzc2lvbk1lc3NhZ2USPgoGY29tbW9uGAEgASgLMi4uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZy5Db21tb25EYXRhEkgKCnBlcm1pc3Npb24YAiABKA4yNC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEucGVybWlzc2lvbnMuUGVybWlzc2lvblR5cGUiWgoYQnV0dG9uSW5pdGlhbGl6ZWRNZXNzYWdlEj4KBmNvbW1vbhgBIAEoCzIuLnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuQ29tbW9uRGF0YSKOAQoMV2F2ZXNNZXNzYWdlEj4KBmNvbW1vbhgBIAEoCzIuLnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuQ29tbW9uRGF0YRI+CghjYXRlZ29yeRgCIAEoDjIsLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS53YXZlcy5XYXZlQ2F0ZWdvcnkiUgoQSGVhcnRiZWF0TWVzc2FnZRI+CgZjb21tb24YASABKAsyLi5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLkNvbW1vbkRhdGEimQEKDEdhbWVzTWVzc2FnZRI+CgZjb21tb24YASABKAsyLi5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLkNvbW1vbkRhdGESSQoQcG9sbF9vcGVuZWRfZnJvbRgCIAEoDjIvLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uUG9sbE9wZW5lZEZyb20iVgoFTG9naW4SPgoGY29tbW9uGAEgASgLMi4uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZy5Db21tb25EYXRhEg0KBXRva2VuGAIgASgJIkgKBkxvZ291dBI+CgZjb21tb24YASABKAsyLi5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLkNvbW1vbkRhdGEiygkKC1NlbmRSZXF1ZXN0Ek4KBGF1dGgYASABKAsyPi5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLlNlbmRBdXRoZW50aWNhdGlvbnNNZXNzYWdlSAASRAoEY2FsbBgCIAEoCzI0LnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuU2VuZENhbGxzTWVzc2FnZUgAElUKDWNvbnZlcnNhdGlvbnMYAyABKAsyPC5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLlNlbmRDb252ZXJzYXRpb25zTWVzc2FnZUgAElMKDGludGVyYWN0aW9ucxgEIAEoCzI7LnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuU2VuZEludGVyYWN0aW9uc01lc3NhZ2VIABJOCgxldmVudF9vcGVuZWQYBSABKAsyNi5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLkV2ZW50T3BlbmVkTWVzc2FnZUgAElAKCmludml0YXRpb24YBiABKAsyOi5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLlNlbmRJbnZpdGF0aW9uc01lc3NhZ2VIABJQCg1sYXVuY2hfYnV0dG9uGAcgASgLMjcuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZy5MYXVuY2hCdXR0b25NZXNzYWdlSAASTwoMbm90aWZpY2F0aW9uGAggASgLMjcuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZy5Ob3RpZmljYXRpb25NZXNzYWdlSAASSwoKcGVybWlzc2lvbhgJIAEoCzI1LnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuUGVybWlzc2lvbk1lc3NhZ2VIABJTCgtidXR0b25faW5pdBgKIAEoCzI8LnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuQnV0dG9uSW5pdGlhbGl6ZWRNZXNzYWdlSAASQQoFd2F2ZXMYCyABKAsyMC5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLldhdmVzTWVzc2FnZUgAEkkKCWhlYXJ0YmVhdBgMIAEoCzI0LnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuSGVhcnRiZWF0TWVzc2FnZUgAEkEKBWdhbWVzGA0gASgLMjAuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZy5HYW1lc01lc3NhZ2VIABI6CgVsb2dpbhgOIAEoCzIpLnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuTG9naW5IABI8CgZsb2dvdXQYDyABKAsyKi5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLkxvZ291dEgAEjwKBWV4dHJhGGQgASgLMi0uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZy5TZW5kRXh0cmFCCQoHbWVzc2FnZTKyAgoQQW5hbHl0aWNzU2VydmljZRKFAQoEU2VuZBIvLnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuU2VuZFJlcXVlc3QaMC5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLlNlbmRSZXNwb25zZSIYiqYdDGNvbnN1bWUtZGF0YaimHQKwph0BKAEShAEKBVVuYXJ5Ei8uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZy5TZW5kUmVxdWVzdBowLnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuU2VuZFJlc3BvbnNlIhiKph0MY29uc3VtZS1kYXRhqKYdArCmHQEaD4q1GAtjaC1jb25zdW1lckKuAQomY29tLnN0cmVhbWxheWVyLmFuYWx5dGljcy5zdHJlYW1pbmcudjFCGVN0cmVhbUxheWVyU3RyZWFtaW5nUHJvdG9QAVpeZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9hbmFseXRpY3MvdjEvc3RyZWFtaW5nO3NsX3N0cmVhbWluZ6ICBlNMX0FQSWIGcHJvdG8z",[oo,Tr,sG,D9,$9,Ate,Ste]),aG=yc(Tte,0);function Rte(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var oG={exports:{}},Nn=oG.exports={},xs,Vs;function ZA(){throw new Error("setTimeout has not been defined")}function DA(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?xs=setTimeout:xs=ZA}catch{xs=ZA}try{typeof clearTimeout=="function"?Vs=clearTimeout:Vs=DA}catch{Vs=DA}})();function lG(t){if(xs===setTimeout)return setTimeout(t,0);if((xs===ZA||!xs)&&setTimeout)return xs=setTimeout,setTimeout(t,0);try{return xs(t,0)}catch{try{return xs.call(null,t,0)}catch{return xs.call(this,t,0)}}}function Cte(t){if(Vs===clearTimeout)return clearTimeout(t);if((Vs===DA||!Vs)&&clearTimeout)return Vs=clearTimeout,clearTimeout(t);try{return Vs(t)}catch{try{return Vs.call(null,t)}catch{return Vs.call(this,t)}}}var Ga=[],_u=!1,Ul,H1=-1;function Ite(){!_u||!Ul||(_u=!1,Ul.length?Ga=Ul.concat(Ga):H1=-1,Ga.length&&cG())}function cG(){if(!_u){var t=lG(Ite);_u=!0;for(var e=Ga.length;e;){for(Ul=Ga,Ga=[];++H1<e;)Ul&&Ul[H1].run();H1=-1,e=Ga.length}Ul=null,_u=!1,Cte(t)}}Nn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Ga.push(new uG(t,e)),Ga.length===1&&!_u&&lG(cG)};function uG(t,e){this.fun=t,this.array=e}uG.prototype.run=function(){this.fun.apply(null,this.array)};Nn.title="browser";Nn.browser=!0;Nn.env={};Nn.argv=[];Nn.version="";Nn.versions={};function lo(){}Nn.on=lo;Nn.addListener=lo;Nn.once=lo;Nn.off=lo;Nn.removeListener=lo;Nn.removeAllListeners=lo;Nn.emit=lo;Nn.prependListener=lo;Nn.prependOnceListener=lo;Nn.listeners=function(t){return[]};Nn.binding=function(t){throw new Error("process.binding is not supported")};Nn.cwd=function(){return"/"};Nn.chdir=function(t){throw new Error("process.chdir is not supported")};Nn.umask=function(){return 0};var wte=oG.exports;const ut=Rte(wte),xte=XB({level:"trace",enabled:typeof window<"u"&&!!window.localStorage.getItem("SL_DEBUG"),browser:{write:t=>{console.log(t)}}}),aa=(t,e)=>xte.child({name:t},e);class Vte extends Event{constructor(e,n){super(e),M(this,"slEventBus"),this.slEventBus=n}}const Nte=aa("event-bus");class _te{constructor(e="sl-event-bus"){M(this,"name"),M(this,"listeners"),M(this,"emit",(n,i)=>{const r=new Vte(this.name,{...i,type:n});Nte.debug(r,"Emitting event"),window.dispatchEvent(r)}),M(this,"destroy",()=>{this.listeners.forEach(n=>{window.removeEventListener(this.name,n),this.listeners.delete(n)}),this.listeners.clear()}),this.name=e,this.listeners=new Set}listen(e){return window.addEventListener(this.name,e),this.listeners.add(e),()=>{this.off(e)}}off(e){window.removeEventListener(this.name,e),this.listeners.delete(e)}}class kte{}var Za;(function(t){t[t.ONBOARDING=1]="ONBOARDING",t[t.QUESTION=2]="QUESTION",t[t.QUESTION_RESOLVED=3]="QUESTION_RESOLVED"})(Za||(Za={}));window.slStore=Object.create(null);let W2=class{constructor(e,n){M(this,"store"),M(this,"name"),this.store=e,this.name=n}getStore(){return this.store}};const Fte=t=>{const e=Object.keys(t);return CH(e.map(n=>t[n].getStore()),(...n)=>Object.fromEntries(e.map((i,r)=>[i,n[r]])))};let jl=class extends W2{constructor(){super(...arguments),M(this,"getValues",()=>this.getStore().get()),M(this,"getValue",e=>this.getStore().get()[e]),M(this,"setValue",(e,n)=>this.getStore().setKey(e,n)),M(this,"subscribe",(...e)=>this.getStore().subscribe(...e)),M(this,"unsubscribe",()=>this.getStore().off())}};const gr=t=>xA(t);var xa;(function(t){t.ORGANIZATION="ORGANIZATION",t.STREAM="STREAM"})(xa||(xa={}));const Lte={[st.BETTING]:"betting",[st.GAMES]:"games",[st.PUBLIC_CHAT]:"publicChat",[st.TWITTER]:"twitter"};var yf;(function(t){t.Ready="ready",t.Suspended="suspended"})(yf||(yf={}));const Ute=new Set(["equals","clone","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","getType"]);let dG=class{constructor({settings:e,...n},i){M(this,"status"),M(this,"source"),M(this,"config"),M(this,"settings"),M(this,"listeners",new Set),M(this,"settingsKey"),M(this,"enable",()=>{this.status.set(yf.Ready)}),M(this,"disable",()=>{this.status.set(yf.Suspended)}),M(this,"setFeatureConfig",({settings:r,...s})=>{var a;let o;for(o in s)this.config.setValue(o,s[o]);if(((a=r==null?void 0:r.overlaySettings)==null?void 0:a.case)!==void 0&&(r==null?void 0:r.overlaySettings.case)===this.settingsKey){const l=r.overlaySettings.value;if(l!==void 0){let c;for(c in l)!Ute.has(c)&&l[c]&&this.settings.setValue(c,l[c])}}}),M(this,"update",(r,s)=>{this.source===xa.STREAM&&s===xa.ORGANIZATION||(this.setFeatureConfig(r),this.source=s)}),this.settingsKey=Lte[n.type],this.status=qa(yf.Suspended),this.config=new jl(gr(n),`feature:config:${this.settingsKey}`),this.settingsKey!==void 0&&(e==null?void 0:e.overlaySettings.case)===this.settingsKey?this.settings=new jl(gr(e.overlaySettings.value),`feature:settings:${this.settingsKey}`):this.settings=new jl(gr({}),`feature:settings:${this.settingsKey}`),this.source=i}get featureConfig(){return this.config.getStore()}get featureSettings(){return this.settings.getStore()}registerEventListener(e){this.listeners.add(e)}fireEvent(e){for(const n of this.listeners.values())try{n.onEvent(e)}catch(i){console.error(i)}}},Br=class extends W2{constructor(){super(...arguments),M(this,"getValue",()=>this.getStore().get()),M(this,"setValue",e=>this.getStore().set(e)),M(this,"subscribe",e=>this.getStore().subscribe(e)),M(this,"unsubscribe",()=>this.getStore().off())}getValues(){throw new Error("not implemented")}listen(e){return this.getStore().listen(e)}get(){return this.getStore().get()}};const On=t=>qa(t);let hs=class extends W2{constructor(e,n,i){super(e,`api:${n}`),M(this,"atomStore"),M(this,"getAtomStore",()=>this.atomStore),M(this,"getValue",async()=>{const r=this.getStore();if(r.value===void 0)throw new Error("no store");return await r.value.promise,r.get().data}),M(this,"getValues",()=>this.getStore().get()),M(this,"setValue",r=>this.getStore().set({loading:!1,data:r==null?void 0:r.data})),M(this,"subscribe",r=>this.getStore().subscribe(r)),M(this,"unsubscribe",()=>{throw new Error("not implemented")}),M(this,"invalidate",()=>{this.store.invalidate()}),M(this,"listen",r=>this.getStore().listen(r)),M(this,"key",()=>this.getStore().key),M(this,"off",()=>this.getStore().off()),this.atomStore=qa(),i&&e.subscribe(r=>{const s=this.atomStore.get(),a=i(r,s);s!==a&&this.atomStore.set(a)})}get(){throw new Error("not implemented")}};const Yt=new _te;async function*Bte(t,e){for await(const n of e){t.response.message=n,t.received_at=Date.now(),t.id=Date.now();const i={type:"__GRPC_DEVTOOLS_EXTENSION__",data:t};window.postMessage(i),yield n}}const Wte=()=>t=>async e=>{const n={id:Date.now(),name:e.url,stream:e.stream,sent_at:Date.now(),request:{header:Object.fromEntries(e.header.entries()),message:e.message},response:{}};try{window.postMessage({type:"__GRPC_DEVTOOLS_EXTENSION__",data:n})}catch(i){console.log("devtools error",i)}try{const i=await t(e);if(n.received_at=Date.now(),n.response.header=Object.fromEntries(i.header.entries()),n.response.trailer=Object.fromEntries(i.trailer.entries()),e.stream){const r={type:"__GRPC_DEVTOOLS_EXTENSION__",data:{...n,stream:!0}};try{window.postMessage(r)}catch(s){console.log("devtools error",s)}return{...i,message:Bte(n,i.message)}}else{n.response.message=i.message,n.latency=n.received_at-n.sent_at;const r={type:"__GRPC_DEVTOOLS_EXTENSION__",data:n};try{window.postMessage(r)}catch(s){console.log("devtools error",s)}}return i}catch(i){n.received_at=Date.now(),n.response.trailer={"grpc-status":i.code,"grpc-message":i.rawMessage},n.response.message=i.rawMessage,n.latency=n.received_at-n.sent_at;const r={type:"__GRPC_DEVTOOLS_EXTENSION__",data:n};try{window.postMessage(r)}catch(s){console.log("devtools error",s)}throw i}};window.dispatchEvent(new CustomEvent("grpc_devtools_loaded"));function hG(t){return t instanceof DOMException&&(t.code===22||t.code===1014||t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED")}let Xd=class{constructor(e="main",n=window.localStorage){M(this,"delimiter",":"),M(this,"prefix"),M(this,"storage"),M(this,"clear",()=>{for(const i in window.localStorage)i.startsWith(this.prefix)&&this.storage.removeItem(i)}),M(this,"generateKey",i=>`${this.prefix}${this.delimiter}${i.join(this.delimiter)}`),M(this,"write",(...i)=>{const r=i.pop()||"",s=this.generateKey(i);try{this.storage.setItem(s,r)}catch(a){hG(a)&&this.storage===window.sessionStorage&&(window.sessionStorage.removeItem("slstreamlogs"),this.storage.setItem(s,r))}}),M(this,"read",(...i)=>{const r=this.storage.getItem(this.generateKey(i));return r===null?void 0:r}),M(this,"remove",(...i)=>{this.storage.removeItem(this.generateKey(i))}),this.prefix=`sl-sdk${this.delimiter}${e}`,this.storage=n}};var es;(function(t){t.Init="init",t.Ready="ready",t.Connecting="connecting",t.Connected="connected",t.Disconnected="disconnected",t.Failed="failed",t.Reconnect="reconnect",t.Reconnecting="reconnecting"})(es||(es={}));const HI=aa("grpc:stream");class Gte{constructor(e,n,i,r){M(this,"params"),M(this,"streamCancel"),M(this,"method"),M(this,"options"),M(this,"headers"),M(this,"listeners"),M(this,"state"),M(this,"store"),M(this,"paramsListener"),M(this,"reconnectTimeout"),M(this,"attempt",0),M(this,"updateState",a=>{this.state.setValue("status",a),this.state.setValue("ts",new Date),this.addStateLog(`status => ${a}`)}),M(this,"addStateLog",a=>{const o=this.state.getStore().get().log,l=`${this.options.name} ${new Date().toISOString()}: ${a}`;if(o.push(l),this.state.setValue("log",o),localStorage.getItem("SL_DEBUG")){a.startsWith("received data")?HI.trace({name:this.options.name,attempt:this.attempt},"received data"):HI.trace({name:this.options.name,attempt:this.attempt},a);try{window.sessionStorage.setItem("slstreamlogs",window.sessionStorage.getItem("slstreamlogs")+`
`+l)}catch(c){hG(c)&&window.sessionStorage.removeItem("slstreamlogs"),window.sessionStorage.setItem("slstreamlogs",l)}}}),M(this,"addListener",(a,o)=>this.listeners.has(a)?(this.addStateLog(`listener '${a}' not added, already exists`),()=>{}):(this.listeners.set(a,o),this.addStateLog(`listener '${a}' added`),()=>this.removeListener(a))),M(this,"removeListener",a=>{this.listeners.delete(a),this.addStateLog(`listener '${a}' removed`)}),M(this,"connect",()=>{this.updateState(es.Connecting),this.streamCancel&&(this.addStateLog("disconnect prev connection"),this.streamCancel.abort(),this.streamCancel=void 0);const a="get"in this.params&&typeof this.params.get=="function"?this.params.get():this.params;(async()=>{this.streamCancel=new AbortController;try{const o={headers:this.headers.getValues(),signal:this.streamCancel.signal},l=this.method(a,o);for await(const c of l)this.attempt=0,this.onData(c)}catch(o){o instanceof ln&&o.code!=Qe.Canceled&&this.onStreamError(o)}})(),this.updateState(es.Connected)}),M(this,"disconnect",()=>{var a;this.streamCancel&&this.streamCancel.abort(),this.listeners.clear(),(a=this.paramsListener)==null||a.call(this),clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0,this.updateState(es.Disconnected)}),M(this,"reconnect",()=>{if(this.reconnectTimeout)this.addStateLog("already reconnecting");else if(this.attempt<this.options.reconnectMaxAttempts){this.updateState(es.Reconnect);const a=Math.min(this.options.reconnectMaxDelay,Math.pow(2,this.attempt)*this.options.reconnectDelay),o=Math.round(a*(1+Math.random())/2);this.reconnectTimeout=setTimeout(()=>{this.attempt++,this.updateState(es.Reconnecting),this.addStateLog(`reconnect attempt ${this.attempt} after ${o}ms`),this.connect(),this.reconnectTimeout=void 0},o)}else this.addStateLog("max reconnect attempts reached"),this.disconnect()}),M(this,"getStore",()=>{var a;return(a=this.store)==null?void 0:a.getStore()}),M(this,"onData",a=>{try{this.addStateLog(`received data => ${JSON.stringify(a)}`),this.store&&this.store.setValue(a);for(const[,o]of this.listeners)o(a);this.addStateLog(`data routed to ${this.listeners.size} listeners`)}catch(o){this.addStateLog(`error process data => ${o}`)}}),M(this,"onStreamError",a=>{if(this.addStateLog(`error => ${a?JSON.stringify(a):"undefined"}}`),a!==void 0){if(a instanceof ln&&a.code!==Qe.Canceled){this.updateState(es.Failed),this.state.setValue("error",a),a.code===Qe.Unknown&&a.cause==="missing trailer"&&(this.attempt=0),this.reconnect();return}this.disconnect()}});const s={status:es.Init,ts:new Date,log:[]};this.state=new jl(gr(s),`subscription:${r.name}:state`),this.options={...r,reconnectDelay:r.reconnectDelay??1e3,reconnectMaxDelay:r.reconnectMaxDelay??3e4,reconnectMaxAttempts:r.reconnectMaxAttempts??10,withStore:r.withStore??!1},this.headers=e,this.listeners=new Map,this.params=i,this.method=n,r.withStore&&(this.store=new Br(On(null),`subscription:${r.name}:store`)),"subscribe"in i&&typeof i.subscribe=="function"&&(this.paramsListener=i.subscribe(a=>{this.state.getValue("status")===es.Connected&&(this.addStateLog(`params updated, reconnect => ${JSON.stringify(a)}`),this.reconnect())})),this.updateState(es.Ready)}}const Zte=new Set([Qe.Unknown,Qe.Internal,Qe.DeadlineExceeded,Qe.ResourceExhausted,Qe.FailedPrecondition,Qe.Unavailable,Qe.DataLoss]),QI=aa("grpc:retry"),Dte=t=>async e=>{const n=e.contextValues.get(OA.retryAttempts),i=300,r=e.contextValues.get(OA.retryDelay);if(e.stream||n===0)return t(e);QI.trace({url:e.url,attempts:n,maxDelay:r},"retry options");for(let s=0;;s++)try{return await t(e)}catch(a){QI.trace({attempt:s,error:a,url:e.url},"retry attempt");const o=ln.from(a);if(s>=n||!(o instanceof ln)||!Zte.has(o.code))throw a;const l=Math.min(r,Math.pow(2,s)*i),c=Math.round(l*(1+Math.random())/2);await new Promise(u=>setTimeout(u,c))}},OA={retryAttempts:ag(10,{description:"Number of attempts to retry"}),retryDelay:ag(3e4,{description:"Max delay between retries in milliseconds"})},Ote=()=>{const t=localStorage.getItem("sl-device-id");if(t)return t;const e=Wo();return localStorage.setItem("sl-device-id",e),e},Xte=()=>{var t;return((t=navigator.userAgentData)==null?void 0:t.platform)||navigator.platform},Mte=t=>t?"webOS":navigator.userAgentData&&navigator.userAgentData.mobile||"ontouchstart"in window||navigator.maxTouchPoints>0?"mobile-web":"desktop-web";let qI=class{constructor(e,n){M(this,"toJsonOptions",{emitDefaultValues:!1,enumAsInteger:!0,useProtoFieldName:!1}),M(this,"transport"),M(this,"streamTransport"),M(this,"nanoquery"),M(this,"host"),M(this,"$headers"),M(this,"storeCache"),M(this,"interceptors",[]),M(this,"clients"),M(this,"streamClients"),M(this,"subscriptions"),M(this,"opts"),M(this,"addSubscription",(a,o,l)=>{const c=this.subscriptions.get(o);if(c)return c;const u=new Gte(this.$headers,a,o,l);return this.subscriptions.set(o,u),u}),M(this,"removeSubscription",a=>{a.disconnect(),this.subscriptions.delete(a.params)}),M(this,"disconnect",()=>{var a,o;for(const[d,f]of this.subscriptions)f.disconnect(),this.subscriptions.delete(d);this.clients.clear(),this.streamClients.clear(),this.subscriptions.clear();const[l,c,u]=X6({dedupeTime:(a=this.opts)==null?void 0:a.dedupeTime,refetchInterval:(o=this.opts)==null?void 0:o.refetchInterval});this.nanoquery={createFetcherStore:l,createMutatorStore:c,utils:u}}),M(this,"registerInterceptor",a=>{this.interceptors.push(a)}),M(this,"removeInterceptor",a=>{this.interceptors=this.interceptors.filter(o=>o!==a)}),M(this,"getClient",a=>{const o=a.typeName;if(this.clients.has(o))return this.clients.get(o);const l=WI(a,this.transport);return this.clients.set(o,l),l}),M(this,"getStreamClient",a=>{const o=`stream-${a.typeName}`;if(this.clients.has(o))return this.clients.get(o);const l=WI(a,this.streamTransport);return this.clients.set(o,l),l}),M(this,"createPromiseClient",(a,{params:o=[],method:l})=>{const c=this.getClient(a),u=l.toString(),d=[a.typeName,u.charAt(0).toLowerCase()+u.slice(1),...Array.isArray(o)?o:[o]],f=[a.typeName,u.charAt(0).toLowerCase()+u.slice(1)];return{client:c,createRequestOptions:h=>{const m=GA();for(const p in h){const v=OA[p];m.set(v,h[p])}return m},queryKey:d,queryKeyStr:f.join("")}}),M(this,"createStreamClient",a=>({client:this.getStreamClient(a)})),M(this,"setSdkKey",a=>{this.$headers.setValue("sdk",a)}),M(this,"setAuth",(a,o)=>{this.$headers.setValue("authorization",a),this.$headers.setValue("sl-user-id",o)}),M(this,"setHeader",(a,o)=>this.$headers.setValue(a,o)),M(this,"getHeader",a=>this.$headers.getValue(a)),M(this,"getHeaders",()=>this.$headers.getValues()),M(this,"initInterceptors",()=>{var a;if(this.interceptors.length!==0)return;const o=l=>c=>{const u=this.$headers.getValues();for(const d in u)c.header.set(d,u[d]);return l(c)};this.interceptors.push(o),window.localStorage.getItem("SL_GRPC_DEVTOOLS")==="true"?this.interceptors.push(Wte()):console.warn("SL GRPC DevTools is disabled. To enable, set SL_GRPC_DEVTOOLS to true in localStorage."),(a=this.opts)!=null&&a.retryable&&this.interceptors.push(Dte)}),this.host=e,this.opts=n,this.$headers=new jl(gr({"sl-device-id":Ote(),"sl-device-os":Xte(),"sl-platform":Mte(n==null?void 0:n.webOS)}),"transport:headers"),this.initInterceptors(),this.clients=new Map,this.streamClients=new Map,this.subscriptions=new Map,this.storeCache=new Map;const[i,r,s]=X6({dedupeTime:n==null?void 0:n.dedupeTime,refetchInterval:n==null?void 0:n.refetchInterval});this.nanoquery={createFetcherStore:i,createMutatorStore:r,utils:s},this.transport=KI({baseUrl:e,defaultTimeoutMs:1e4,interceptors:this.interceptors}),this.streamTransport=KI({baseUrl:e,interceptors:this.interceptors})}};const Pte=(t,e)=>{const{client:n,queryKey:i}=e.createPromiseClient(iG,{method:"retrieveEventId",params:[t]});return e.nanoquery.createFetcherStore(i,{fetcher:async(r,s,a)=>{var o;if(!a||typeof a!="string")return"";try{return((o=(await n.retrieveEventId({id:a})).data)==null?void 0:o.id)||""}catch{return""}}})},Yte=(t,e)=>{const{client:n,queryKey:i}=e.createPromiseClient(Np,{method:"getStream",params:[t]});return e.nanoquery.createFetcherStore(i,{fetcher:async(r,s,a)=>{var o;return a?(o=(await n.getStream({id:a})).data)==null?void 0:o.attributes:void 0}})},$te=(t,e)=>{const{client:n,queryKey:i}=e.createPromiseClient(iG,{method:"summary",params:[t]});return e.nanoquery.createFetcherStore(i,{fetcher:async(r,s,a)=>{var o;return a?(o=(await n.summary({id:a})).data)==null?void 0:o.attributes:void 0}})},jte=(t,e)=>{const{queryKey:n,client:i}=e.createPromiseClient(Y9,{method:"me",params:[t]});return e.nanoquery.createFetcherStore(n,{fetcher:async()=>{if(!e.getHeader("authorization"))return{data:void 0};const{data:r}=await i.me({});return{data:r}}})},Kte=t=>{const{client:e,createRequestOptions:n}=t.createPromiseClient(Y9,{method:"bypassAuth"}),i=n({retryAttempts:0});return({userKey:r,schema:s,init:a,inviterKey:o})=>e.bypassAuth({userKey:r,schema:s,init:a,inviterKey:o},{contextValues:i})},zte=(t,e)=>{const{client:n,queryKey:i}=e.createPromiseClient(Np,{method:"get",params:[t]});return e.nanoquery.createFetcherStore(i,{fetcher:async()=>{var r;return(r=(await n.get({})).data)==null?void 0:r.attributes}})},Jte=(t,e)=>{const{client:n,queryKey:i}=e.createPromiseClient(Np,{method:"getOrganization",params:[t]});return e.nanoquery.createFetcherStore(i,{fetcher:async()=>{const r=await n.getOrganization({});return r.data?{...r.data.attributes,id:r.data.id}:void 0}})},Hte=(t,e)=>{const{client:n,queryKey:i}=e.createPromiseClient(Np,{method:"getOrganizationAdvertising",params:[t]});return e.nanoquery.createFetcherStore(i,{fetcher:async()=>{var r;return(r=(await n.getOrganizationAdvertising({})).data)==null?void 0:r.attributes}})},Qte=(t,e,n)=>{t.transport=new qI(e.host,{dedupeTime:1e3*60*5,refetchInterval:1e3*60*5,retryable:!0,webOS:e.webOS}),t.analyticsTransport=new qI(e.analyticsHost),t.sdk.host=t.transport.host,t.transport.setSdkKey(e.sdkKey),t.transport.setHeader("sl-sdk-version",e.version||"-"),t.transport.$headers.subscribe(i=>{t.analyticsTransport.$headers.getStore().set(i)}),t.sdk.onMount({name:"transport"},()=>()=>{t.transport.disconnect(),t.analyticsTransport.disconnect()}),n()};var ba;(function(t){t.SCHEMA="schema",t.EXTERNAL_TOKEN="eToken",t.TOKEN="token"})(ba||(ba={}));let mu=class extends Xd{constructor(){super("user"),M(this,"setSchema",e=>{this.write(ba.SCHEMA,e)}),M(this,"getSchema",()=>this.read(ba.SCHEMA)),M(this,"setToken",e=>{this.write(ba.TOKEN,e)}),M(this,"getToken",()=>this.read(ba.TOKEN)),M(this,"setExternalToken",e=>{this.write(ba.EXTERNAL_TOKEN,e)}),M(this,"getExternalToken",()=>this.read(ba.EXTERNAL_TOKEN)),M(this,"removeToken",()=>{this.remove(ba.TOKEN)})}};var Va;(function(t){t.DISABLED="disabled",t.INITIALIZATION="initialization",t.READY="ready",t.FAILED="failed",t.SUSPENDED="suspended"})(Va||(Va={}));const qte=t=>{const e=new mu,n=new Br(On(e.getExternalToken()),"userKey"),i=new Br(On(e.getToken()),"userToken"),r=new hs(jte(i.getStore(),t),"user",({data:a,error:o,loading:l},c)=>{var u;if(!o)return(u=a==null?void 0:a.data)!=null&&u.id?a.data.id:l===!1?void 0:c}),s=new hs(zte(i.getStore(),t),"userSettings");return{userKey:n,userToken:i,user:r,userSettings:s}},ene=t=>{const e=new Br(On(void 0),"providerStreamId"),n=new hs(Pte(e.getStore(),t),"slStreamId",s=>s==null?void 0:s.data),i=new hs(Yte(n.getAtomStore(),t),"streamSettings"),r=new hs($te(n.getAtomStore(),t),"streamSettings");return n.getAtomStore().listen(s=>{(s===""||s===void 0)&&(i.getStore().mutate(void 0),r.getStore().mutate(void 0))}),{providerStreamId:e,slStreamId:n,streamSettings:i,streamSummary:r}},tne=t=>{const e=new Br(On(void 0),"enabled"),n=new Br(On(Va.DISABLED),"status"),i=new hs(Jte(e.getStore(),t),"organizationSettings",o=>{var l;return(l=o==null?void 0:o.data)==null?void 0:l.id}),r=new hs(Hte(i.getAtomStore(),t),"organizationAdvertising"),s=qte(t),a=ene(t);return{enabled:e,status:n,providerStreamId:a.providerStreamId,slStreamId:a.slStreamId,streamSettings:a.streamSettings,streamSummary:a.streamSummary,user:s.user,userKey:s.userKey,userToken:s.userToken,userSettings:s.userSettings,organizationSettings:i,organizationAdvertising:r}};let nne=class extends W2{constructor(e){const n=tne(e),i=Fte(n);super(i,"core"),M(this,"stores"),M(this,"subscribe",r=>{let s;for(s in this.stores){const a=r[s];s in r&&a!==void 0&&this.stores[s].subscribe(r[s])}}),M(this,"unsubscribe",()=>this.getStore().off()),this.stores=n}getValue(){throw new Error("Not implemented")}getValues(){return this.stores}setValue(){throw new Error("Not implemented")}};const ine=(t,e,n)=>{t.store=new nne(t.transport),t.stores=t.store.getValues(),t.sdk.enabled=t.stores.enabled.getStore(),t.sdk.status=t.stores.status.getStore(),t.sdk.sdkStore=Object.fromEntries(Object.entries(t.stores).map(([i,r])=>[i,r.getStore()])),t.sdk.organizationStore=()=>t.stores.organizationSettings.getStore(),t.sdk.streamStore=()=>t.stores.streamSettings.getStore(),t.sdk.streamSummary=()=>t.stores.streamSummary.getStore(),t.storeUnsubscribe=()=>{t.store.unsubscribe()},n()},rne=t=>{const{client:e}=t.createPromiseClient(rG,{method:"list"});return n=>e.list(n)},fG=t=>{const{client:e}=t.createPromiseClient(rG,{method:"summary"});return n=>e.summary(n)},sne=(t,e)=>{const{client:n,queryKey:i}=e.createPromiseClient(Y9,{method:"getFriends",params:[t]});return e.nanoquery.createFetcherStore(i,{fetcher:async(r,s,a)=>{if(!a)return[];try{return(await n.getFriends({})).data}catch{return[]}}})},ane=(t,e)=>{const{client:n,queryKey:i}=e.createPromiseClient(Rr,{method:"get",params:[t]});return e.nanoquery.createFetcherStore(i,{fetcher:async(r,s,a)=>{var o;return(o=(await n.get({eventId:a})).data)==null?void 0:o.attributes},refetchInterval:1/0,dedupeTime:1e3*60*60})},one=(t,e,n)=>{const{client:i,queryKey:r}=n.createPromiseClient(Rr,{method:"syncQuestion",params:[t,e?"true":""]});return n.nanoquery.createFetcherStore(r,{fetcher:async(s,a,o,l)=>{var c,u,d,f;if(!o||l)return;const h=await i.syncQuestion({filter:{eventId:o}});if(((d=(u=(c=h.data)==null?void 0:c.attributes)==null?void 0:u.question)==null?void 0:d.type)!==Te.PROMOTION)return(f=h.data)==null?void 0:f.attributes},dedupeTime:1e3*60*10,refetchInterval:1/0})},lne=async(t,e)=>{const{client:n}=e.createPromiseClient(Rr,{method:"item",params:[t]});return(await n.item({id:t})).data},cne=(t,e)=>{const{client:n}=e.createStreamClient(Rr),i=qa({eventId:t.get()||"",feedId:""});return t.subscribe((r="")=>{i.set({eventId:r,feedId:""})}),e.addSubscription(n.subscription,i,{name:"feedSubscription"})},une=(t,e)=>{const{client:n}=e.createStreamClient(Rr);return e.addSubscription(n.questionSubscription,{questionId:t},{name:"questionSubscription"})},pG=async(t,e)=>{var n,i;const{client:r}=e.createPromiseClient(Rr,{method:"questionByUser",params:[t]});return(i=(n=(await r.questionByUser({questionId:t})).data)==null?void 0:n.attributes)==null?void 0:i.question},Q1=(t,e)=>{const{client:n,queryKey:i,queryKeyStr:r}=e.createPromiseClient(Rr,{method:"questionByUser",params:[t]});let s=r;if(typeof t!="object"?s+=t:s+="atom",e.storeCache.has(s))return e.storeCache.get(s);{const a=e.nanoquery.createFetcherStore(i,{fetcher:async(o,l,c)=>{var u,d;return(d=(u=(await n.questionByUser({questionId:c})).data)==null?void 0:u.attributes)==null?void 0:d.question},dedupeTime:1/0,refetchInterval:1/0});return e.storeCache.set(s,a),a}},mG=async(t,e)=>{var n;if(!t)return;const{client:i}=e.createPromiseClient(Rr,{method:"getQuestion",params:[t]}),r=await i.getQuestion({id:t});if(!((n=r.data)!=null&&n.attributes))return;const{options:s,notification:a,...o}=r.data.attributes,l=(s==null?void 0:s.options.case)==="promotion"?s==null?void 0:s.options.value:void 0;return{id:o.id,question:o,promotion:l,notification:a}},dne=(t,e,n,i,r,s,a)=>{const{client:o,queryKey:l}=a.createPromiseClient(Rr,{method:"list",params:[t,e,s?"true":""]});return a.nanoquery.createFetcherStore(l,{fetcher:async(c,u,d,f,h)=>{var m,p;if(!d||h)return[];const v=await o.list({eventId:d,filter:{types:f===Zo.ALLOWED?[]:[Te.FACTOID,Te.PROMOTION,Te.TWEET],statuses:[Qt.ACTIVE,Qt.RESOLVED]}}),y={eventId:d,userId:n.get(),organizationId:i.get()};for(const E of v.data)r.isQuestionReceived(y,E.id)||(Yt.emit("poll",{action:"received",payload:{isAd:((m=E.attributes)==null?void 0:m.adUnit)==oi.UNSET,questionId:E.id,questionType:(p=E.attributes)==null?void 0:p.type}}),r.saveQuestionReceived(y,E.id));return v.data},dedupeTime:1/0,refetchInterval:1/0})},hne=(t,e)=>{const{client:n,queryKey:i}=e.createPromiseClient(Rr,{method:"list",params:[t]});return e.nanoquery.createFetcherStore(i,{fetcher:async(r,s,a)=>{var o;if(!a)return;const l=(o=(await n.list({eventId:a,filter:{types:[Te.PROMOTION],statuses:[Qt.ACTIVE]},pagination:{page:0,pageSize:1}})).data)==null?void 0:o[0];if(l.type==="promotion")return mG(l.id,e)},dedupeTime:1/0,refetchInterval:1/0})},fne=(t,e,n,i,r)=>{const{client:s,queryKey:a}=r.createPromiseClient(Rr,{method:"betPack",params:[t,e,n]});return r.nanoquery.createFetcherStore(a,{fetcher:async(o,l,c,u,d)=>{var f;if(!c||!u||!d)return{timestamp:Date.now(),data:null};const h=await s.betPack({eventId:c,types:[Te.PREDICTION],statuses:[Qt.ACTIVE,Qt.RESOLVED],limit:5,sort:{field:"activated_at",order:"asc"}});return!h.data||!h.data.length?{timestamp:Date.now(),data:null}:{timestamp:Date.now(),data:(f=h.data)==null?void 0:f.reduce((m,p)=>{var v;const y=(v=p==null?void 0:p.attributes)==null?void 0:v.question;if(!(y!=null&&y.id))return m;const E={eventId:c,userId:u,organizationId:d};return i.isQuestionReceived(E,y.id)||(Yt.emit("poll",{action:"received",payload:{isAd:(y==null?void 0:y.adUnit)==oi.UNSET,questionId:y.id,questionType:y.type}}),i.saveQuestionReceived(E,y.id)),y.answers=y.answers.sort((S,I)=>S.id>I.id?1:-1),{...m,[y.id]:y}},{})}},dedupeTime:1/0,refetchInterval:1/0})},pne=(t,e,n)=>{const i=wA([e,n],()=>{var a,o;const l=e.get();if(!l)return;const c=(a=n.get().data)==null?void 0:a.find(d=>d.id===(l==null?void 0:l.questionId)),u=(o=l==null?void 0:l.question)==null?void 0:o.openedFrom;return c?(c.openedFrom=u,c):l.question}),r=wA(i,a=>a&&a.type==="question"?a.id:void 0),s=Q1(r,t);return{$store:i,$extendedStore:s,updateExtendedQuestion:a=>{const o=s.get().data,l=(c,u)=>{if(!c||!u)return(c||u||[]).sort((m,p)=>m.id>p.id?1:-1);const d=c.sort((m,p)=>m.id>p.id?1:-1),f=u.sort((m,p)=>m.id>p.id?1:-1),h=[];for(let m=0;m<d.length;m++)h.push({...d[m],...f[m],correct:d[m].correct,youVoted:d[m].youVoted,pointsEarned:d[m].pointsEarned});return h};s.mutate({...a,options:o==null?void 0:o.options,subject:o==null?void 0:o.subject,appearance:o==null?void 0:o.appearance,answers:l(o==null?void 0:o.answers,a==null?void 0:a.answers)})}}};var gu;(function(t){t.SHOWED="showed",t.EVENT="ev"})(gu||(gu={}));let mne=class extends Xd{constructor(){super("advertisement"),M(this,"setShowed",e=>{this.write(gu.SHOWED,e,"true")}),M(this,"isViewed",e=>this.read(gu.SHOWED,e)),M(this,"fireEvent",(e,n)=>{this.write(gu.EVENT,n,e,"true")}),M(this,"isEventFired",(e,n)=>this.read(gu.EVENT,n,e)==="true")}};const gne=t=>{var e,n,i,r,s;const a=(n=(e=t.data)==null?void 0:e.attributes)==null?void 0:n.question;if((((s=(r=(i=t.data)==null?void 0:i.attributes)==null?void 0:r.feedItem)==null?void 0:s.type)==="promotion"?t.data.attributes.feedItem:void 0)===void 0||!a)return;const{options:o,notification:l,...c}=a,u=(o==null?void 0:o.options.case)==="promotion"?o.options.value:void 0;return{id:c.id,question:c,notification:l,promotion:u}},q0=t=>t.startsWith("http://")||t.startsWith("https://")?new URL(t).toString():t,yne=({gamOptions:t,gamBaseUrl:e})=>{const n=`${e}?`,i=[];for(const r in t){const s=r.replace(/([a-zA-Z])(?=[A-Z])/g,"$1_").toLowerCase(),a=t[r];if(a)if(typeof a=="string")i.push(`${s}=${q0(a)}`);else if(Array.isArray(a))i.push(`${s}=${a.map(q0).join(",")}`);else{const o=Object.entries(a).map(([l,c])=>Array.isArray(c)?`${l}=${c.map(q0).join(",")}`:typeof c=="string"?`${l}=${q0(c)}`:`${l}=${c}`).join("&").replaceAll("=","%3D").replaceAll("&","%26").replaceAll(",","%2C");i.push(`${s}=${o}`)}}return n+i.join("&")},Nc=t=>{var e,n,i;return(((e=t==null?void 0:t.promotion)==null?void 0:e.type)===rt.INGAME_IAB11_LBAR||((n=t==null?void 0:t.promotion)==null?void 0:n.type)===rt.INGAME_IAB21_LBAR)&&!!((i=t.promotion.additionalBanner)!=null&&i.imageUrl)},bne=(t,e,n)=>{let i=!1;const r=n.transport,s=aa("advertisement"),a=new mne,o=(y,E)=>{a.fireEvent(y,E)},l=(y,E)=>a.isEventFired(y,E),c=gr({}),u=hne(t,r),d=y=>{var E,S,I,w;const N=c.get(),F=(E=N.data)==null?void 0:E.question.id,W=(I=(S=N.data)==null?void 0:S.promotion)==null?void 0:I.type;F&&((w=c.get())!=null&&w.isOpened||(c.setKey("isOpened",!0),Yt.emit("advertisement",{action:"opened",payload:{id:F,type:W,hasBanner:Nc(N.data),openedFrom:y!=null&&y.fromNotification?"notification":"auto"}})),y!=null&&y.fromNotification&&(c.setKey("hasNotification",!1),Yt.emit("advertisement",{action:"notification-opened",payload:{id:F,type:W,hasBanner:Nc(N.data)}})))},f=()=>{var y,E,S,I;const w=c.get(),N=(y=w.data)==null?void 0:y.question.id,F=(S=(E=w.data)==null?void 0:E.promotion)==null?void 0:S.type,W=(I=c.get())==null?void 0:I.isOpened;N&&!W&&(s.debug({id:N},"markAsViewed: %o"),a.setShowed(N),c.setKey("isOpened",!0),Yt.emit("advertisement",{action:"viewed",payload:{id:N,type:F,hasBanner:Nc(w.data)}}))},h=(y,E)=>{var S;E?c.set({loading:!1,error:void 0,data:E,hasNotification:((S=E==null?void 0:E.notification)==null?void 0:S.enabled)===ig.NOTIFICATION_ENABLED,close:()=>m(E.question.id),togglePause:I=>p(E.question.id,I),toggleMute:I=>v(E.question.id,I),isViewed:!!a.isViewed(E.question.id),fireEvent:I=>o(y,I),isEventFired:I=>l(y,I)}):(c.setKey("loading",!0),mG(y,r).then(I=>{var w;return c.set({loading:!1,error:void 0,data:I,hasNotification:((w=I==null?void 0:I.notification)==null?void 0:w.enabled)===ig.NOTIFICATION_ENABLED,close:()=>m(I==null?void 0:I.question.id),togglePause:N=>p(I==null?void 0:I.question.id,N),toggleMute:N=>v(I==null?void 0:I.question.id,N),isViewed:I&&!!a.isViewed(I.question.id),fireEvent:N=>o(y,N),isEventFired:N=>l(y,N)})}).catch(I=>c.set({loading:!1,error:I,data:void 0,fireEvent:()=>{},isEventFired:()=>!1})))};c.subscribe((y,E)=>{var S,I,w,N,F,W,Z,O,K;if(!(((S=y.data)==null?void 0:S.id)===((I=E==null?void 0:E.data)==null?void 0:I.id)&&y.isPaused!==(E==null?void 0:E.isPaused))){if(((N=(w=y.data)==null?void 0:w.promotion)==null?void 0:N.type)===rt.EXTERNAL_AD&&!(y!=null&&y.externalAd)&&(F=y.data.promotion.adCampaigns)!=null&&F.desktopWebSettings){const fe=yne(y.data.promotion.adCampaigns.desktopWebSettings);c.setKey("externalAd",{type:"gam",url:fe})}(W=y.data)!=null&&W.promotion&&!y.isOpened&&(Yt.emit("advertisement",{action:"received",payload:{id:y.data.question.id,type:y.data.promotion.type,hasNotification:!!y.hasNotification,hasBanner:Nc(y.data),isViewed:!!a.isViewed(y.data.question.id)},skipAnalytics:y.data.question.id===((Z=E==null?void 0:E.data)==null?void 0:Z.question.id)}),y.data.question.id!==((O=E==null?void 0:E.data)==null?void 0:O.question.id)&&!a.isViewed(y.data.question.id)&&Yt.emit("advertisement",{action:"notification-received",payload:{id:y.data.question.id,type:y.data.promotion.type,hasNotification:!0,hasBanner:Nc(y.data),isViewed:!1}})),!(y!=null&&y.data)&&E!=null&&E.data&&Yt.emit("advertisement",{action:"closed",payload:{id:E.data.question.id,type:(K=E.data.promotion)==null?void 0:K.type,hasNotification:!!E.hasNotification,hasBanner:Nc(E.data),isViewed:!!a.isViewed(E.data.question.id)}})}});const m=y=>{var E,S;(!y||((S=(E=c.get())==null?void 0:E.data)==null?void 0:S.question.id)===y)&&c.set({})},p=(y,E)=>{var S,I;((I=(S=c.get())==null?void 0:S.data)==null?void 0:I.question.id)===y&&c.setKey("isPaused",E)},v=(y,E)=>{var S,I;((I=(S=c.get())==null?void 0:S.data)==null?void 0:I.question.id)===y&&c.setKey("isMuted",E)};return{connect:()=>{i||(i=!0,u.subscribe((y,E)=>{y.data&&(!(E!=null&&E.data)||y.data.id!==E.data.id)&&h(y.data.question.id,y.data)}),e.addListener("promotion",y=>{const E=gne(y);if(E){if(E.question.status===Qt.RESOLVED){m(E.question.id),s.debug({promotion:E},"resolved: %o");return}if(E.question.status===Qt.ACTIVE){s.debug({promotion:E},"active: %o"),h(E.question.id,E);return}s.debug({promotion:E},"skip: %o")}}))},hide:m,show:h,open:d,markAsViewed:f,$store:c}};var Cs;(function(t){t.ONBOARDING="onboarding",t.ONBOARDING_IO="onboarding_io",t.QUESTION_RECEIVED="q-received",t.QUESTION_OPENED="q-opened"})(Cs||(Cs={}));let vne=class extends Xd{constructor(){super("gamification-session",window.sessionStorage),M(this,"writeValue",(e,n)=>{this.write(...e,n)}),M(this,"readValue",e=>this.read(...e))}},Ene=class extends Xd{constructor(){super("gamification"),M(this,"sessionStorage"),M(this,"saveQuestionReceived",({userId:e,eventId:n,organizationId:i},r)=>{this.write(Cs.QUESTION_RECEIVED,i,e,n,r,"1")}),M(this,"isQuestionReceived",({userId:e,eventId:n,organizationId:i},r)=>!!this.read(Cs.QUESTION_RECEIVED,i,e,n,r)),M(this,"saveQuestionOpened",({userId:e,eventId:n,organizationId:i},r)=>{this.write(Cs.QUESTION_OPENED,i,e,n,r,"1")}),M(this,"isQuestionOpened",({userId:e,eventId:n,organizationId:i},r)=>!!this.read(Cs.QUESTION_OPENED,i,e,n,r)),M(this,"saveOnboardingStatus",({userId:e,eventId:n,organizationId:i},r)=>{this.write(Cs.ONBOARDING,i,e,n,r)}),M(this,"getOnboardingStatus",({userId:e,eventId:n,organizationId:i})=>this.read(Cs.ONBOARDING,i,e,n)),M(this,"setOnboardingInstantOpen",({userId:e,eventId:n,organizationId:i})=>{this.sessionStorage.writeValue([Cs.ONBOARDING_IO,i,e,n],"1")}),M(this,"getOnboardingInstantOpen",({userId:e,eventId:n,organizationId:i})=>this.sessionStorage.readValue([Cs.ONBOARDING_IO,i,e,n])),this.sessionStorage=new vne}};var Zo;(function(t){t.ALLOWED="allowed",t.DISALLOWED="disallowed"})(Zo||(Zo={}));let Ane=class{constructor(e){M(this,"slStreamId"),M(this,"organizationId"),M(this,"userId"),M(this,"interactiveAllowed"),M(this,"openedQuestionId"),M(this,"openedQuestion"),M(this,"activeQuestionId"),M(this,"feedList"),M(this,"betPack"),M(this,"moderationId"),M(this,"moderation"),M(this,"feedSubscription"),M(this,"questionSubscription"),M(this,"advertisement"),M(this,"storage"),M(this,"notifications"),M(this,"log"),M(this,"transport"),M(this,"cancels",new Set),M(this,"getCurrentSessionId",i=>{const r=i.eventId||this.slStreamId.get()||"",s=i.userId||this.userId.get()||"",a=i.organizationId||this.organizationId.get()||"",o=i.entity||"",l=i.prefix||"";return[a,r,s,l,o].join(":")}),M(this,"disconnect",()=>{var i;(i=this.feedSubscription)==null||i.disconnect(),this.questionSubscription!==void 0&&(this.transport.removeSubscription(this.questionSubscription),this.questionSubscription=void 0)}),M(this,"openQuestion",(i,r)=>{this.openedQuestionId.set({questionId:i,question:r}),this.notifications.markAsViewed(this.getCurrentSessionId({prefix:"notification",entity:i}))}),M(this,"closeQuestion",i=>{this.openedQuestionId.set(void 0),i&&this.notifications.markAsViewed(this.getCurrentSessionId({prefix:"notification",entity:i}))}),this.transport=e.transport,this.log=aa("gamification-background"),this.storage=new Ene,this.slStreamId=e.stores.slStreamId.getAtomStore(),this.organizationId=e.stores.organizationSettings.getAtomStore(),this.userId=e.stores.user.getAtomStore(),this.moderationId=new Br(On(void 0),"moderationId").getStore(),this.interactiveAllowed=new Br(On(Zo.DISALLOWED),"interactiveAllowed").getStore(),this.openedQuestionId=new Br(On(void 0),"openedQuestionId").getStore(),this.notifications=e.notifications,this.moderation=new hs(ane(this.slStreamId,e.transport),"gamification:moderation");const n=!!e.sdk.options.get().betPack;this.feedList=new hs(dne(this.slStreamId,this.interactiveAllowed,this.userId,this.organizationId,this.storage,n,e.transport),"gamification:feedList"),this.betPack=new hs(fne(this.slStreamId,this.userId,this.organizationId,this.storage,e.transport),"gamification:betPack"),this.activeQuestionId=one(this.slStreamId,n,e.transport),this.openedQuestion=pne(e.transport,this.openedQuestionId,this.feedList.getStore()),this.cancels.add(this.openedQuestionId.listen(i=>{this.log.debug({item:i},"received question"),i!=null&&i.questionId?(this.log.info("cleanup on close question"),this.questionSubscription!==void 0&&(e.transport.removeSubscription(this.questionSubscription),this.questionSubscription=void 0),this.questionSubscription=une(i.questionId,e.transport),this.questionSubscription.addListener("feed-subscription-opened-question",r=>{var s,a,o;const l=(a=(s=r.data)==null?void 0:s.attributes)==null?void 0:a.question;if(this.openedQuestion.updateExtendedQuestion(l),this.betPack&&(l==null?void 0:l.type)===Te.PREDICTION&&(l.status===Qt.ACTIVE||l.status===Qt.RESOLVED)){const c=((o=this.betPack.getValues().data)==null?void 0:o.data)||{},u=c==null?void 0:c[l.id];if(u){const d=[],f=u.answers.sort((m,p)=>m.id>p.id?1:-1),h=l.answers.sort((m,p)=>m.id>p.id?1:-1);for(let m=0;m<f.length;m++)d.push({...f[m],...h[m],correct:f[m].correct,youVoted:f[m].youVoted,pointsEarned:f[m].pointsEarned});this.betPack.getStore().mutate({timestamp:Date.now(),data:{...c,[l.id]:{...u,status:l.status,marketClosed:l.marketClosed,activatedAt:l.activatedAt,answerSetAt:l.answerSetAt,answers:d}}})}}}),this.questionSubscription.connect()):(this.log.info("cleanup on close question"),this.questionSubscription!==void 0&&(e.transport.removeSubscription(this.questionSubscription),this.questionSubscription=void 0))})),this.feedSubscription=cne(this.slStreamId,e.transport),this.cancels.add(this.feedSubscription.addListener("bet-pack-update",async i=>{var r,s,a;const o=(s=(r=i.data)==null?void 0:r.attributes)==null?void 0:s.question;if(this.betPack&&(o==null?void 0:o.type)===Te.PREDICTION&&(o.status===Qt.ACTIVE||o.status===Qt.RESOLVED)){const l=((a=this.betPack.getValues().data)==null?void 0:a.data)||{},c=l==null?void 0:l[o.id];if(c)this.betPack.getStore().mutate({timestamp:Date.now(),data:{...l,[o.id]:{...c,status:o.status,marketClosed:o.marketClosed,activatedAt:o.activatedAt,answerSetAt:o.answerSetAt}}});else if(!c&&Object.keys(l).length<5){const u=await pG(o.id,this.transport);this.betPack.getStore().mutate({timestamp:Date.now(),data:{...l,[o.id]:u}})}}})),this.cancels.add(this.feedSubscription.addListener("feed-subscription-active-question",i=>{var r,s,a,o;const l=(s=(r=this.activeQuestionId.get().data)==null?void 0:r.question)==null?void 0:s.id,c=(o=(a=i.data)==null?void 0:a.attributes)==null?void 0:o.question;if(!(!c||c.type===Te.PROMOTION)){if(c.status===Qt.RESOLVED){l===c.id&&this.activeQuestionId.mutate(void 0);return}window.requestAnimationFrame(()=>{var u;this.activeQuestionId.mutate((u=i.data)==null?void 0:u.attributes)})}})),this.cancels.add(this.feedSubscription.addListener("moderation update",i=>{window.requestAnimationFrame(()=>{var r,s,a,o;((s=(r=i.data)==null?void 0:r.attributes)==null?void 0:s.question)===void 0&&(o=(a=i.data)==null?void 0:a.attributes)!=null&&o.moderation&&this.moderation.invalidate()})})),this.cancels.add(this.activeQuestionId.subscribe((i,r)=>{var s,a,o,l,c,u,d;(s=i.data)!=null&&s.feedItem&&((o=(a=i.data)==null?void 0:a.feedItem)==null?void 0:o.id)!==((c=(l=r==null?void 0:r.data)==null?void 0:l.feedItem)==null?void 0:c.id)&&e.onQuestionActivate({stage:"activate",id:i.data.feedItem.id,isViewed:!!this.notifications.isViewed(this.getCurrentSessionId({prefix:"notification",entity:i.data.feedItem.id})),hasNotification:!0,type:i.data.feedItem.type}),!((u=i.data)!=null&&u.feedItem)&&(d=r==null?void 0:r.data)!=null&&d.feedItem&&e.onQuestionActivate({stage:"deactivate",id:r.data.feedItem.id,isViewed:!!this.notifications.isViewed(this.getCurrentSessionId({prefix:"notification",entity:r.data.feedItem.id})),hasNotification:!0,type:r.data.feedItem.type})})),this.feedSubscription.connect(),this.cancels.add(this.interactiveAllowed.listen(()=>{window.requestAnimationFrame(()=>{this.activeQuestionId.invalidate()})})),e.sdk.onMount({name:"gamification-background"},()=>()=>{this.activeQuestionId.off();for(const i of this.cancels)i(),this.cancels.delete(i)}),n||(this.advertisement=bne(this.slStreamId,this.feedSubscription,e))}},Sne=class{constructor(e){M(this,"notificationsList"),M(this,"store"),M(this,"timeouts"),M(this,"waitingQueue"),M(this,"activeQueue"),M(this,"options"),M(this,"logger"),M(this,"addToQueue",n=>{var i;if(this.store.has(n.id)){this.logger.debug({notification:n},"skip existed notification: %o");return}const r=n.close,s=n.action;if(this.store.set(n.id,{...n,close:(...a)=>{r&&r(...a),this.closeNotification(n.id)},action:(...a)=>{s&&s(...a),this.closeNotification(n.id,{animateHiding:!1})}}),this.waitingQueue.add(n.id),this.activeQueue.size===this.options.concurrency){const[a]=this.activeQueue;if(((i=this.store.get(a))==null?void 0:i.persistent)!==!0)this.closeNotification(a);else{const[o]=this.waitingQueue;this.waitingQueue.size>1&&this.closeNotification(o),this.tickWaitingQueue()}}else this.tickWaitingQueue()}),M(this,"tickWaitingQueue",()=>{if(this.activeQueue.size<this.options.concurrency){const[n]=this.waitingQueue;if(!n)return;this.activeQueue.add(n),this.waitingQueue.delete(n),this.logger.debug({job:n},"waiting queue tick"),this.tickActiveQueue(n)}else this.logger.debug({queueSize:this.activeQueue.size,concurrency:this.options.concurrency},"waiting queue tick skipped")}),M(this,"tickActiveQueue",n=>{if(!n)return;const i=this.store.get(n);if(!i){this.logger.debug({notificationId:n},"active queue tick skipped, notification not exist");return}Yt.emit("notification",{action:"received",payload:{type:i.type,questionId:i.data.questionId,questionType:i.data.questionType}});const r=setTimeout(()=>{const s=n,a=new Map(this.notificationsList.get());a.set(i.id,i),this.notificationsList.set(a);const o=setTimeout(()=>{this.logger.debug({notificationId:s,delay:i.autoHideDuration||5e3},"notification hiding by autoHideDuration"),this.closeNotification(s)},i.autoHideDuration||5e3);this.timeouts.set(s,o),this.logger.debug({notificationId:s,queue:[...a.values()]},"notification displayed")},i.delay||0);this.timeouts.set(n,r),this.logger.debug({notificationId:n},"active queue tick completed"),this.tickWaitingQueue()}),M(this,"closeNotification",(n,{animateHiding:i=!0}={})=>{const r=new Map(this.notificationsList.get()),s=r.get(n);if(s){const a=!(this.waitingQueue.size>=this.options.concurrency)&&i;s.hiding=a,this.notificationsList.set(r);const o=()=>{const l=new Map(this.notificationsList.get());l.delete(n),this.notificationsList.set(l);const c=this.timeouts.get(n);c!==void 0&&(clearTimeout(c),this.timeouts.delete(n)),this.logger.debug({notificationId:n},"notification hidden"),s.hiding&&Yt.emit("notification",{action:"closed",payload:{type:s.type,questionId:s.data.questionId,questionType:s.data.questionType}})};if(a){const l=setTimeout(o,this.options.animationDelay||0);this.timeouts.set(n,l)}else o()}return this.store.delete(n),this.activeQueue.delete(n),this.waitingQueue.delete(n),this.tickWaitingQueue(),this.logger.debug({notificationId:n},"notification hiding"),s}),M(this,"drain",()=>{this.store.clear(),this.timeouts.clear(),this.waitingQueue.clear(),this.activeQueue.clear(),this.notificationsList.off(),this.notificationsList.set(new Map)}),this.options=e,this.logger=aa("notifications"),this.store=new Map,this.timeouts=new Map,this.waitingQueue=new Set,this.activeQueue=new Set,this.notificationsList=On(new Map)}};var og;(function(t){t.OPENED="opened"})(og||(og={}));let Tne=class extends Xd{constructor(){super("notification"),M(this,"setOpened",e=>{this.write(og.OPENED,e,"true")}),M(this,"isOpened",e=>this.read(og.OPENED,e)),M(this,"clearNotification",()=>{this.clear()})}},Rne=class{constructor(e={}){M(this,"queue"),M(this,"storage"),M(this,"isViewed",n=>this.storage.isOpened(n)),M(this,"add",n=>{if(!this.isViewed(n.id)){if(n.data&&n.emitEvent){const i=n.action;n.action=(...r)=>{i&&i(...r),Yt.emit("notification",{action:"opened",payload:{questionId:n.data.questionId,questionType:n.data.questionType}})}}this.queue.addToQueue(n)}}),M(this,"close",(n,{markAsViewed:i=!0,animateHiding:r}={})=>{this.queue.closeNotification(n,{animateHiding:r}),i&&this.markAsViewed(n)}),M(this,"update",(n,i)=>{var r;const s=(r=this.queue.notificationsList.get())==null?void 0:r.get(n);i(s)}),M(this,"getActiveNotification",()=>{const n=this.queue.notificationsList.get();if(!(n!=null&&n.size))return null;for(const i of n.values())if(i.type===Za.ONBOARDING)return i;return n.values().next().value}),M(this,"getQueueStore",()=>this.queue.notificationsList),M(this,"markAsViewed",n=>{this.storage.setOpened(n)}),this.storage=new Tne,this.queue=new Sne({concurrency:1,animationDelay:1600,...e})}};const Cne=(t,e,n)=>{t.notifications=new Rne(void 0),t.addNotification=t.notifications.add,t.sdk.getNotificationsStore=()=>t.notifications.getQueueStore(),t.sdk.getActiveNotification=()=>t.notifications.getActiveNotification(),t.sdk.onMount({name:"notifications"},()=>()=>{t.notifications.queue.drain()}),n()};var hd;(function(t){t.UNKNOWN="unknown",t.ALREADY_VOTED="already_voted"})(hd||(hd={}));const e7=async(t,e)=>{var n;const{client:i,createRequestOptions:r}=t.createPromiseClient(Rr,{method:"submitAnswer"}),s=r({retryAttempts:0});try{return await i.submitAnswer({data:e},{contextValues:s})}catch(a){throw((n=ln.from(a))==null?void 0:n.code)===Qe.AlreadyExists?new Error(hd.ALREADY_VOTED):new Error(hd.UNKNOWN)}},gG=(t,e)=>{const{client:n,createRequestOptions:i}=t.createPromiseClient(Rr,{method:"submitInplay"}),r=i({retryAttempts:0});return n.submitInplay({data:{eventId:+e}},{contextValues:r})},Ine={pageSize:10},wne=(t,e,n,i,r)=>{let s=0;const a=On({pageSize:Ine.pageSize,page:0}),o=gr({data:[],key:Date.now(),hasMore:!0,loading:void 0,error:void 0}),l=rne(t),c=async()=>{var f;const h=e.get(),m=((f=i==null?void 0:i.getStore().get().data)==null?void 0:f.map(p=>p.slId))||[];if(h&&m!=null&&m.length){const p=n.get();p&&m.push(p),o.setKey("loading",!0),o.setKey("data",[]);const v=await l({eventId:h,usersIds:m,leaderboardId:""});o.set({data:v.data.map((y,E)=>({...y.attributes,friendsRank:E+1})),hasMore:!1,key:Date.now(),loading:!1}),v.meta&&(s=Math.round(v.meta.count/v.meta.pageSize))}},u=()=>{c()},d=f=>{const h=a.get(),m=f||h.page+1;m<=s&&a.set({...h,page:m})};return N2(o,()=>{const f=e.listen(c),h=i==null?void 0:i.listen(c);return()=>{f(),h==null||h()}}),{$store:o,fetchMore:d,invalidate:u}};let xne=class extends Xd{constructor(){super("deep-link-context",window.sessionStorage),M(this,"get",this.read),M(this,"set",this.write),M(this,"del",this.remove)}};const t7="sldl",G2="sldl_uid",yG="sldl_eid",bG="sldl_e_eid",Vne=new Set([G2,yG,bG]),n7=t=>{const e={},n={};for(const[i,r]of t)Vne.has(i)?e[i]=r:n[i]=r;return{result:e,remain:n}},Nne=({hash:t,search:e})=>{if(t&&t.includes(t7)){const n=new URLSearchParams(t.substr(1));return{hash:n7(n)}}if(e&&e.includes(t7)){const n=new URLSearchParams(e);return{search:n7(n)}}return null},i7=aa("deep_link"),Ws={debug:(...t)=>{i7.debug(...t),localStorage.getItem("SL_DEBUG")&&console.log(...t)},trace:(...t)=>{i7.trace(...t),localStorage.getItem("SL_DEBUG")&&console.log(...t)}},_ne=(t,e)=>{const{hash:n,search:i}=window.location;if(Ws.debug({hash:n,search:i},"get deep link data from"),n||i){const r=Nne({hash:n,search:i});if(Ws.debug(r,"parse deep link result"),r){const{hash:s,search:a}=r,{result:o,remain:l}=s||a;if(Object.keys(o).length!==0){t.setValue("data",o);const c=Object.keys(l).length!==0;if(s){let u="";c&&(u=`#${new URLSearchParams(l).toString()}`,Ws.debug({updatedHash:u},"update hash")),window.history.replaceState(null,"",window.location.pathname+window.location.search+u)}if(a){let u="";c&&(u=`?${new URLSearchParams(l).toString()}`,Ws.debug({updatedSearch:u},"update search")),window.history.replaceState(null,"",window.location.pathname+u+window.location.hash)}e(o)}}}t.setValue("parsed",!0)},kne=(t,e,n)=>{const i=new xne,r=i.get("sl-deep-link-store");let s={};if(r)try{s=JSON.parse(r)}catch(o){Ws.debug(o)}t.deepLink={$store:new jl(gr(s),"deep-link-context"),getDeepLinkData:()=>{const{data:o,used:l}=t.deepLink.$store.getValues();return{data:o,used:l}},deepLinkUsed:o=>{Ws.debug(`logged in with inviterId: ${o}`),t.deepLink.$store.setValue("used",!0)},onDeepLinkHandlers:new Set},t.sdk.getInviter=()=>{const{data:o,used:l}=t.deepLink.getDeepLinkData();return l?o==null?void 0:o[G2]:void 0},t.sdk.inviteDisplayed=()=>{t.deepLink.$store.getStore().set({}),t.deepLink.$store.getStore().off(),i.del("sl-deep-link-store")},t.deepLink.$store.subscribe(o=>i.set("sl-deep-link-store",JSON.stringify(o))),t.sdk.addDeepLinkHandler=o=>{localStorage.getItem("SL_DEBUG")&&Ws.trace("adding deep link handler"),t.deepLink.onDeepLinkHandlers.add(o)},e.onDeepLinkHandled&&t.sdk.addDeepLinkHandler(e.onDeepLinkHandled),t.sdk.removeDeepLinkHandler=o=>{Ws.trace("removing deep link handler"),t.deepLink.onDeepLinkHandlers.delete(o)};const a=o=>{t.deepLink.$store.setValue("handled",!0),Ws.trace({size:t.deepLink.onDeepLinkHandlers.size},"deep link handled, call callbacks");for(const l of t.deepLink.onDeepLinkHandlers)try{Ws.trace("called handler"),l(o)}catch(c){console.error(c)}};_ne(t.deepLink.$store,a),n()},Fne=aa("bypass");let Lne=class extends kte{constructor(e,n,i){super(),M(this,"$coreStore"),M(this,"deepLink"),M(this,"transport"),M(this,"bypassLogin"),M(this,"me",async()=>{var r;return this.$coreStore.getValues().user.invalidate(),(r=await this.$coreStore.getValues().user.getValue())==null?void 0:r.data}),M(this,"login",async(r,s)=>{var a,o,l;this.$coreStore.getValues().userKey.setValue(s);const{used:c,data:u}=this.deepLink.getDeepLinkData(),d=c?"":u==null?void 0:u[G2];Fne.debug({inviterKey:d},"login with inviterKey");const f=await this.bypassLogin({schema:r,userKey:s,inviterKey:d,init:!1}),h=(a=f.meta)==null?void 0:a.jwt,m=(o=f.data)==null?void 0:o.id;if(!h||!m)throw new Error("internal: token missing");return(l=f.meta)!=null&&l.inviterKey&&this.deepLink.deepLinkUsed(f.meta.inviterKey),this.$coreStore.getValues().user.getStore().mutate({data:f.data}),this.saveUser(h,m),h}),M(this,"isAuthenticated",()=>this.me()),M(this,"logout",()=>{this.$coreStore.getValues().user.setValue(),this.$coreStore.getValues().userKey.setValue(),this.$coreStore.getValues().userToken.setValue(),this.transport.setAuth("",""),new mu().clear()}),M(this,"softLogout",()=>{const r=new mu;this.transport.setAuth("",""),r.setToken(""),this.reLogin()}),M(this,"reLogin",({skipLogin:r}={skipLogin:!1})=>{const s=new mu,a=s.getToken(),o=s.getExternalToken();if(this.$coreStore.getValues().userKey.setValue(o),a)return this.saveUser(a,""),this.me().then(l=>{if(l!=null&&l.id){const c=l.id;this.saveUser(a,c)}return l});if(o&&!a&&!r){const l=s.getSchema();l&&o&&this.login(l,o).catch(()=>{this.logout()})}}),M(this,"saveUser",(r,s)=>{this.transport.setAuth(r,s),this.$coreStore.getValues().userToken.setValue(r),new mu().setToken(r)}),M(this,"connect",()=>{this.transport.registerInterceptor(r=>async s=>{try{return await r(s)}catch(a){throw a.code&&(a.code===7||a.code===16)&&this.transport.getHeader("authorization")&&this.softLogout(),a}})}),this.$coreStore=e,this.deepLink=i,this.transport=n,this.bypassLogin=Kte(this.transport),this.connect()}};const xh=new mu,Une=(t,e,n)=>{t.auth=new Lne(t.store,t.transport,t.deepLink),t.stores.status.listen(i=>{i===Va.READY&&t.auth.reLogin()}),t.sdk.userId=t.stores.user.getAtomStore,t.sdk.authorizationBypass=async(i,r)=>{if(!(xh.getSchema()===i&&xh.getExternalToken()===r&&t.transport.getHeader("authorization")))try{await t.auth.login(i,r),xh.setSchema(i),xh.setExternalToken(r)}catch{t.sdk.logout()}},t.sdk.logout=()=>{t.auth.logout(),xh.clear()},t.sdk.getUserStore=()=>t.stores.user.getStore(),t.sdk.isUserAuthorized=()=>t.auth.isAuthenticated(),n()},r7=aa("video_player"),e1={debug:(...t)=>{r7.debug(...t),localStorage.getItem("SL_DEBUG")&&console.log(...t)},trace:(...t)=>{r7.trace(...t),localStorage.getItem("SL_DEBUG")&&console.log(...t)}},Bne=(t,e,n)=>{t.videoPlayer={controllers:new Set},t.sdk.addVideoPlayerController=i=>{e1.trace("adding video player controller"),t.videoPlayer.controllers.add(i)},e.videoPlayerController&&t.sdk.addVideoPlayerController(e.videoPlayerController),t.sdk.removeVideoPlayerController=i=>{e1.trace("removing video player controller"),t.videoPlayer.controllers.delete(i)},t.sdk.controlVideoPlayer=i=>{e1.trace("controlling video player");for(const r of t.videoPlayer.controllers){e1.trace("calling video player controller");try{r(i)}catch(s){console.error(s)}}},n()},Wne={[Te.FACTOID]:"insight",[Te.POLL]:"poll",[Te.TRIVIA]:"trivia",[Te.PREDICTION]:"prediction",[Te.TWEET]:"tweet"},_c=t=>t===rt.INGAME_IAB11||t===rt.INGAME_IAB21||t===rt.NFL_SHOP_OVERLAY||t===rt.SHOP_OVERLAY,Gne=(t,e,n)=>{t.sdk.uiState=gr({}),t.ui={enableAppNotification:function(){t.sdk.uiState.setKey("appNotification",!0)},disableAppNotification:function(){t.sdk.uiState.get().app||t.sdk.uiState.setKey("appNotification",!1)},enableOnboardingNotification:function(){t.sdk.uiState.setKey("onboardingNotification",!0)},disableOnboardingNotification:function(){t.sdk.uiState.setKey("onboardingNotification",!1)},enableApp:function(){t.sdk.uiState.set({app:!0,appNotification:!0})},disableApp:function(){t.sdk.uiState.set({...t.sdk.uiState.get(),onboardingNotification:!1,appBanner:!1,appSidebar:!1,appNotification:!1,app:!1})},enableExposedPauseAd:function(){t.sdk.uiState.set({...t.sdk.uiState.get(),exposedPauseAd:!0})},disableExposedPauseAd:function(){t.sdk.uiState.set({...t.sdk.uiState.get(),exposedPauseAd:!1})}},e.onContentActivate&&(t.ui.onContentActivate=e.onContentActivate);const i=r=>{t.ui.onContentActivate&&t.ui.onContentActivate({...r,type:"advertisement"})};t.onQuestionActivate=({questionType:r,...s})=>{if(t.ui.enableAppNotification(),t.ui.onContentActivate){const a=s.type||r&&Wne[r]||"question";t.ui.onContentActivate({...s,type:a})}},t.sdk.onMount({name:"ui"},()=>{const r=o=>{var l,c,u,d,f;if(((l=o.slEventBus)==null?void 0:l.type)==="exposedPauseAd")switch(o.slEventBus.action){case"enabled":t.ui.enableExposedPauseAd();break;case"disabled":t.ui.disableExposedPauseAd();break}if(((c=o.slEventBus)==null?void 0:c.type)==="app")switch(o.slEventBus.action){case"open":t.ui.enableApp();break;case"close":t.ui.disableApp();break}if(((u=o.slEventBus)==null?void 0:u.type)==="poll"){const h=o.slEventBus.action,{hasBanner:m}=o.slEventBus.payload;switch(h){case"onboardingOpen":t.sdk.uiState.set({app:!0});break;case"opened":t.sdk.uiState.set({...t.sdk.uiState.get(),appBanner:m,appSidebar:!0});break;case"closed":t.sdk.uiState.set({...t.sdk.uiState.get(),appBanner:!1,appSidebar:!1});break}}if(((d=o.slEventBus)==null?void 0:d.type)==="notification"){const h=o.slEventBus.action;if(o.slEventBus.payload.type===Za.ONBOARDING)switch(h){case"received":t.ui.enableOnboardingNotification();break;case"closed":t.ui.disableOnboardingNotification();break}else switch(h){case"received":t.ui.enableAppNotification();break;case"closed":t.ui.disableAppNotification();break}}if(((f=o.slEventBus)==null?void 0:f.type)==="advertisement"&&e.withAd){const h=o.slEventBus,{hasNotification:m,hasBanner:p,id:v,isViewed:y,type:E}=h.payload;switch(h.action){case"notification-opened":t.sdk.uiState.set({promotionExternalAd:E===rt.EXTERNAL_AD,promotionBanner:p,promotionNotification:!1,promotionOverlay:_c(E),promotionSidebar:!_c(E)});break;case"received":if(t.sdk.closeFeature(),i({stage:"activate",id:v,hasNotification:m,hasBanner:p,isViewed:y}),!e.withAdNotification){t.sdk.uiState.set({promotionBanner:p,onboardingNotification:t.sdk.uiState.get().onboardingNotification,promotionOverlay:_c(E),promotionSidebar:!_c(E),promotionExternalAd:E===rt.EXTERNAL_AD});break}m?t.sdk.uiState.set({onboardingNotification:t.sdk.uiState.get().onboardingNotification,promotionNotification:!0}):t.sdk.uiState.set({onboardingNotification:t.sdk.uiState.get().onboardingNotification,promotionBanner:p,promotionOverlay:_c(E),promotionSidebar:!_c(E),promotionExternalAd:E===rt.EXTERNAL_AD});break;case"closed":t.sdk.uiState.set({...t.sdk.uiState.get(),promotionNotification:!1,promotionBanner:!1,promotionOverlay:!1,promotionExternalAd:!1,promotionSidebar:!1}),i({stage:"deactivate",id:v,hasNotification:m,hasBanner:p,isViewed:y});break}}},s=Yt.listen(r),a=t.activeFeature.subscribe(o=>{o||t.ui.disableApp()});return()=>{s(),a()}}),n()},Zne=(t,e,n)=>{const i={onMountedFired:!1},r=new Map,s=new Map;t.sdk=Object.create(null),t.sdk.options=gr(e),t.sdk.withAuth=!1,t.sdk.onMount=({name:a,clear:o},l)=>{var c,u;if(r.has(a)){const d=s.get(a);d&&d(),r.delete(a),s.delete(a)}r.set(a,{cb:l,clear:o}),((u=(c=t==null?void 0:t.stores)==null?void 0:c.enabled)==null?void 0:u.get())==="on"&&s.set(a,l())},t.ready=()=>{t.stores.enabled.subscribe(a=>{a==="on"&&i.onMountedFired===!1&&(r.forEach(({cb:o},l)=>s.set(l,o())),i.onMountedFired=!0),a!=="on"&&i.onMountedFired===!0&&(s.forEach(o=>o()),s.clear(),r.forEach(({clear:o},l)=>o&&r.delete(l)),i.onMountedFired=!1)})},t.sdk.initializeApp=async a=>{if(t.contextConfig=a,t.stores.enabled.get()==="on")return{enabled:!0};t.storeSubscribe(),t.stores.enabled.setValue("on"),t.stores.status.setValue(Va.INITIALIZATION);try{const o=await t.stores.organizationSettings.getValue();return o?(t.stores.status.setValue(Va.READY),{enabled:!!o}):(t.stores.status.setValue(Va.FAILED),{err:"failed"})}catch(o){return t.stores.enabled.setValue(),t.stores.status.setValue(Va.FAILED),{err:`${o}`}}},t.sdk.disableApp=()=>{t.stores.enabled.get()==="on"&&(t.stores.enabled.setValue(),t.stores.status.setValue(Va.DISABLED),t.stores.slStreamId.setValue(),t.stores.providerStreamId.setValue(),t.sdk.closeFeature(!0),t.storeUnsubscribe(),t.transport.disconnect())},t.sdk.createEventSession=(a,o)=>{o?t.stores.slStreamId.getStore().set({loading:!1,data:a}):t.stores.providerStreamId.setValue(a)},n()},Dne=(t,e)=>{const{client:n,queryKey:i}=t.createPromiseClient(Np,{method:"generateDeepLink",params:e});return t.nanoquery.createFetcherStore(i,{fetcher:async(r,s,a,o)=>{var l;if(!a)return{};try{return(l=(await n.generateDeepLink({data:{gamification:!0,externalEventId:o,eventId:a}})).data)==null?void 0:l.attributes}catch{return}},dedupeTime:1e3*60*60*24,refetchInterval:1/0})},One=(t,{web:e,mobile:n})=>{const{client:i}=t.createPromiseClient(yte,{method:"generate"});return i.generate({web:e,mobile:n})},s7=(t,e)=>{const n=new URLSearchParams(t);for(const[i,r]of Object.entries(e))n.append(i,r);return n.toString()},Xne=(t,e,n,i)=>{const r=gr({});return N2(r,()=>Dne(t,[e,n]).subscribe(async({data:s,loading:a})=>{var o;const l=s===void 0&&a===!1?"https://streamlayer.io":s==null?void 0:s.url,c=i.get()||"",u=e.get()||"",d=n.get()||"",f={[G2]:c,[yG]:u,[bG]:d};if(!a&&l){r.setKey("loading",!0);let h=window.location.search,m=window.location.hash;h&&m||m?h=`?${s7(h,f)}`:m=`#${s7("",f)}`;const p=window.location.origin+window.location.pathname+h+m;try{const v=await One(t,{web:p,mobile:l});r.set({data:(o=v.data)==null?void 0:o.link,loading:!1})}catch{r.set({loading:!1,error:"Failed to generate short link",data:void 0})}}else r.setKey("loading",!0)})),{$store:r,fetch}};var Rn;(function(t){t.Unset="unset",t.Required="required",t.Optional="optional",t.Completed="completed",t.Disabled="disabled",t.Unavailable="unavailable"})(Rn||(Rn={}));const Mne=(t,e,n,i)=>{const{inplayGame:r}=t.featureSettings.get(),s=e.getCurrentSessionId({prefix:"onboarding"});r&&n.add({type:Za.ONBOARDING,id:s,action:t.openFeature,close:()=>{t.onboardingProcessed.set(!0)},persistent:!0,autoHideDuration:1e6,data:{questionId:"onboarding",questionType:Te.UNSET,onboarding:{...r,instantOpen:!i.getOnboardingInstantOpen({userId:e.userId.get()||"",organizationId:e.organizationId.get()||"",eventId:e.slStreamId.get()||""}),markIstantOpen:()=>{i.setOnboardingInstantOpen({userId:e.userId.get()||"",organizationId:e.organizationId.get()||"",eventId:e.slStreamId.get()||""}),n.update(s,a=>{var o;(o=a==null?void 0:a.data)!=null&&o.onboarding&&(a.data.onboarding.instantOpen=!0)})}}}})},t1=(t,e,n,i,r,s,a,o)=>{var l,c,u;try{const d=e.userId.get(),f=e.organizationId.get(),h=e.slStreamId.get();if(!d||!f||!h)return;const m=r.getOnboardingStatus({userId:d,organizationId:f,eventId:h});if(m===Rn.Completed||o!=null&&o.skipOnboarding){t.set(Rn.Completed);for(const S of s)S();o!=null&&o.skipOnboarding&&m!==Rn.Completed&&(r.saveOnboardingStatus({organizationId:f,userId:d,eventId:h},Rn.Completed),gG(a,h));return}const p=(l=e.moderation.getStore().value)==null?void 0:l.data,v=n.featureSettings.get().inplayGame;if(p===void 0||v===void 0)return;const y=(c=p==null?void 0:p.options)==null?void 0:c.onboardingEnabled,E=(u=v==null?void 0:v.titleCard)==null?void 0:u.optIn;y?E?t.set(Rn.Required):t.set(Rn.Optional):(E?t.set(Rn.Unavailable):t.set(Rn.Disabled),i.close(e.getCurrentSessionId({prefix:"onboarding"}),{markAsViewed:!1}))}catch(d){console.error(d)}},a7=(t,e,n,i,r)=>{let s=!!(r!=null&&r.skipOnboarding);const a=e.storage,o=On(Rn.Unset);o.subscribe(c=>{c!==Rn.Unset&&(c===Rn.Optional||c===Rn.Required?s===!1&&(Mne(t,e,i,a),s=!0):t.onboardingProcessed.set(!0),c===Rn.Completed&&e.activeQuestionId.invalidate(),a.setOnboardingInstantOpen({userId:e.userId.get()||"",organizationId:e.organizationId.get()||"",eventId:e.slStreamId.get()||""}))});const l=[];return o.get()!==Rn.Completed&&(l.push(e.userId.listen(c=>{c&&t1(o,e,t,i,a,l,n,r)})),l.push(e.moderation.listen(c=>{c.data&&t1(o,e,t,i,a,l,n,r)})),l.push(t.featureSettings.listen(c=>{c&&t1(o,e,t,i,a,l,n,r)}))),t1(o,e,t,i,a,l,n,r),{$store:o,submitInplay:async()=>{const c=e.slStreamId.get();if(c){await gG(n,c),o.set(Rn.Completed),a.saveOnboardingStatus({organizationId:e.organizationId.get()||"",userId:e.userId.get()||"",eventId:c},Rn.Completed),Yt.emit("poll",{action:"onboardingPassed",payload:{}}),t.openFeature();const u=e.getCurrentSessionId({prefix:"onboarding"});i.close(u)}}}},Pne=(t,e,n,i)=>{const r=gr(void 0),s=fG(i),a=async()=>{var l,c;const u=t.get(),d=e.get(),f=n?(l=n.getStore().get().data)==null?void 0:l.map(p=>p.slId):[];if(!f||!u||!d)return;const h={eventId:u,userId:d,leaderboardId:"",usersIds:[...f,d]},m=await s(h);r.set((c=m.data)==null?void 0:c.attributes)},o=()=>{a()};return N2(r,()=>{o();const l=t.listen(a),c=n==null?void 0:n.listen(a),u=e.listen(a);return()=>{l(),c==null||c(),u()}}),{$store:r,invalidate:o}},Yne=async(t,e,n,i,r)=>{var s,a,o;const l=fG(r),c=t.get(),u=e.get(),d=((s=n==null?void 0:n.getStore().get().data)==null?void 0:s.map(h=>h.slId))||[],f={eventId:c,userId:i,leaderboardId:"",usersIds:[...d,u]};return(o=(a=(await l(f)).data)==null?void 0:a.attributes)==null?void 0:o.summary},o7=new Set([Te.POLL,Te.PREDICTION,Te.TRIVIA]);class $ne extends dG{constructor(e,n,i){if(super(e,n),M(this,"userSummary"),M(this,"feedList"),M(this,"betPack"),M(this,"friends"),M(this,"leaderboardId"),M(this,"leaderboardList"),M(this,"deepLink"),M(this,"onboardingStatus"),M(this,"openedQuestion"),M(this,"currentUserId"),M(this,"openedUser"),M(this,"closeFeature"),M(this,"openFeature"),M(this,"feedSubscription"),M(this,"activeQuestionId"),M(this,"openedQuestionId"),M(this,"advertisement"),M(this,"onboardingProcessed"),M(this,"friendsTabEnabled"),M(this,"skipOnboarding"),M(this,"notifications"),M(this,"transport"),M(this,"background"),M(this,"storage"),M(this,"submitAnswerTimeout"),M(this,"cancels",new Set),M(this,"onQuestionActivate"),M(this,"checkInteractiveFlag",()=>{var r,s,a,o,l;if(this.skipOnboarding)this.background.interactiveAllowed.set(Zo.ALLOWED);else{const c=this.onboardingStatus.$store.get(),u=(a=(s=(r=this.background.moderation.getStore().value)==null?void 0:r.data)==null?void 0:s.options)==null?void 0:a.onboardingEnabled,d=(l=(o=this.settings.getValues().inplayGame)==null?void 0:o.titleCard)==null?void 0:l.optIn,f=c===Rn.Completed,h=!u||f||d!==!0;this.background.interactiveAllowed.set(h?Zo.ALLOWED:Zo.DISALLOWED)}}),M(this,"connect",()=>{this.onboardingProcessed.subscribe(r=>{r&&this.advertisement&&this.advertisement.connect()}),this.cancels.add(this.background.feedSubscription.addListener("feed-subscription-prediction-close",async r=>{var s,a,o,l,c,u,d,f,h,m,p,v,y;if(!this.isInteractiveAllowed)return;const E=(a=(s=r.data)==null?void 0:s.attributes)==null?void 0:a.question,S=(l=(o=r.data)==null?void 0:o.attributes)==null?void 0:l.feedItem;if(!E||!(S!=null&&S.attributes))return;const{status:I,type:w,id:N,answers:F}=E;if(I===Qt.RESOLVED&&w===Te.PREDICTION){const W=this.background.getCurrentSessionId({prefix:`notification-id:${N}`}),Z=[...this.feedList.getValues().data||[]],O=Z.findIndex(Q=>Q.id===N),K=Z[O];let fe=(d=(u=(c=K==null?void 0:K.attributes)==null?void 0:c.attributes)==null?void 0:u.value)==null?void 0:d.answerId;const z=Q1(N,this.transport),pe=z.subscribe(()=>{});await z.get().promise;let de=z.get().data;de||(de=await pG(N,this.transport),z.mutate(de)),pe(),window.requestAnimationFrame(()=>{z.invalidate()}),fe||(fe=(f=de==null?void 0:de.answers.find(({youVoted:Q})=>Q))==null?void 0:f.id);const be=F.find(({correct:Q})=>Q),_e=fe?F.find(({id:Q})=>Q===fe):void 0,me=!!(_e!=null&&_e.correct);if(K&&((m=(h=Z[O])==null?void 0:h.attributes)==null?void 0:m.attributes.case)==="question"){try{Z[O].attributes.attributes.value.answerId=fe,Z[O].attributes.attributes.value.openForVoting=!1,fe&&(Z[O].attributes.attributes.value.status=me?Go.WON:Go.LOST)}catch{}this.feedList.getStore().mutate(Z)}if(!_e||!be)return;((p=this.openedQuestionId.get())==null?void 0:p.questionId)!==E.id&&this.notifications.add({type:Za.QUESTION_RESOLVED,action:()=>this.openQuestion(E.id,S),close:()=>this.closeQuestion(N),autoHideDuration:me?15e3:14e3,id:W,emitEvent:!1,data:{questionId:N,questionType:Te.PREDICTION,question:{title:me?`Congratulations! You answered correctly! You won ${be.points} pts!`:`Better luck next time! Correct: ${be==null?void 0:be.text}!`,votedAnswer:{title:_e==null?void 0:_e.text,points:_e==null?void 0:_e.points},correctAnswerTitle:be==null?void 0:be.text,correct:!!me,predictionResult:!0,questionTitle:E==null?void 0:E.subject},inApp:{notification:E.notification,appearance:E.appearance,sponsorship:E.sponsorship,adUnit:E==null?void 0:E.adUnit,sponsorLogo:(y=(v=E.promotion)==null?void 0:v.sponsor)==null?void 0:y.logo}}}),this.userSummary.invalidate()}})),MB(this.feedList.getStore(),()=>{this.cancels.add(this.feedList.subscribe(()=>{}))}),this.cancels.add(this.background.feedSubscription.addListener("feed-subscription-questions-list",r=>{var s,a,o,l,c,u,d;const f=[...((s=this.feedList.getStore().value)==null?void 0:s.data)||[]],h=(o=(a=r.data)==null?void 0:a.attributes)==null?void 0:o.feedItem,m=f.findIndex(p=>p.id===(h==null?void 0:h.id));if(h!=null&&h.attributes&&h.attributes.attributes.case!=="promotion"&&!(h.attributes.status!==Qt.ACTIVE&&h.attributes.status!==Qt.RESOLVED)&&!(!this.isInteractiveAllowed&&o7.has(h.attributes.type)&&((l=h==null?void 0:h.attributes)==null?void 0:l.adUnit)!==oi.STANDART)){if(m!==-1)if(h.attributes.attributes.case==="question"&&((c=f[m].attributes)==null?void 0:c.attributes.case)==="question"){const p=f[m];p.attributes&&(f[m]={...f[m],attributes:{...p.attributes,attributes:{...p.attributes.attributes,value:{...p.attributes.attributes.value,...h.attributes.attributes.value,answerId:p.attributes.attributes.value.answerId,status:p.attributes.attributes.value.status,openForVoting:p.attributes.attributes.value.openForVoting===!1?!1:h.attributes.attributes.value.openForVoting}}}})}else{const p=f[m];p.attributes&&h.attributes&&(f[m]={...f[m],attributes:{...p.attributes,attributes:{...p.attributes.attributes,value:{...p.attributes.attributes.value,...h.attributes.attributes.value}}}})}m===-1&&(f.unshift(h),Yt.emit("poll",{action:"received",payload:{isAd:((u=h.attributes)==null?void 0:u.adUnit)==oi.UNSET,questionId:h.id,questionType:(d=h.attributes)==null?void 0:d.type}})),this.feedList.getStore().mutate(f)}}))}),M(this,"disconnect",()=>{this.background.feedSubscription.removeListener("feed-subscription-prediction-close"),this.background.feedSubscription.removeListener("feed-subscription-questions-list")}),M(this,"betPackVote",async(r,s)=>{var a;if(!this.betPack)return;try{await e7(this.transport,{questionId:r,answerId:s})}catch(c){if(c.message===hd.ALREADY_VOTED){const u=Q1(r,this.transport),d=u.subscribe(()=>{});u.invalidate(),d()}throw c}const o={...(a=this.betPack.getValues().data)==null?void 0:a.data},l=o==null?void 0:o[r];l&&(Yt.emit("poll",{action:"voted",payload:{questionId:r,isAd:(l==null?void 0:l.adUnit)==oi.UNSET,questionType:l.type}}),l.answers=l.answers.map(c=>c.id===s?{...c,youVoted:!0}:c),this.betPack.getStore().mutate({data:o,timestamp:Date.now()}))}),M(this,"submitAnswer",async(r,s)=>{const a=Q1(r,this.transport),o=a.subscribe(()=>{}),l={...a.get().data||{}},c=()=>{var u,d;const f=this.feedList.getValues().data;if(!f)return;const h=f.findIndex(v=>v.id===r),m=f[h],p=((u=m==null?void 0:m.attributes)==null?void 0:u.attributes.case)==="question"&&m.attributes.attributes.value;if(p){Yt.emit("poll",{action:"voted",payload:{isAd:((d=m.attributes)==null?void 0:d.adUnit)==oi.UNSET,questionId:r,questionType:p.questionType}});const v=a.get().data;if(o(),v){const y=v.answers.find(w=>w.correct===!0),E=v.answers.findIndex(w=>w.id===s),S=v.answers[E],I=v.answers.every(({percentageDecimal:w},N)=>w===(l==null?void 0:l.answers[N].percentageDecimal));f[h].attributes.attributes.value.answerId=s,f[h].attributes.attributes.value.openForVoting=!1,f[h].attributes.attributes.value.text=(S==null?void 0:S.text)||"",y&&(f[h].attributes.attributes.value.status=y.id===s?Go.WON:Go.LOST),this.feedList.getStore().mutate([...f]),v.answers[E].correct=(y==null?void 0:y.id)===s,v.answers[E].youVoted=!0,I&&v.answers.forEach(w=>{w.percentageDecimal=0}),(y==null?void 0:y.id)===s&&(v.answers[E].pointsEarned=v.status===Qt.RESOLVED?0:y.points),a.mutate({...v})}this.submitAnswerTimeout&&clearTimeout(this.submitAnswerTimeout),this.submitAnswerTimeout=setTimeout(()=>{this.userSummary.invalidate()},1e3)}};try{await e7(this.transport,{questionId:r,answerId:s}),c()}catch(u){if(u.message===hd.ALREADY_VOTED){this.userSummary.invalidate();const d=a.subscribe(()=>{});a.invalidate(),d()}throw u}}),M(this,"openQuestion",(r,s)=>{var a,o,l,c,u,d,f,h,m,p,v;if(!r)return()=>{};const y=(s==null?void 0:s.openedFrom)==="bet-pack";this.notifications.close(this.background.getCurrentSessionId({prefix:"notification",entity:r}),{animateHiding:!1});let E=(a=s==null?void 0:s.attributes)==null?void 0:a.type,S=((o=s==null?void 0:s.attributes)==null?void 0:o.adUnit)===oi.STANDART&&!!((u=(c=(l=s==null?void 0:s.attributes)==null?void 0:l.adPromotion)==null?void 0:c.banner)!=null&&u.imageUrl);if(!E&&!y){const w=(f=(((d=this.feedList.getStore().value)==null?void 0:d.data)||[]).find(N=>N.id===r))==null?void 0:f.attributes;E=w==null?void 0:w.type,S=(w==null?void 0:w.adUnit)===oi.STANDART&&!!((m=(h=w==null?void 0:w.adPromotion)==null?void 0:h.banner)!=null&&m.imageUrl)}const I={eventId:this.background.slStreamId.get()||"",userId:this.background.userId.get()||"",organizationId:this.background.organizationId.get()||""};return Yt.emit("poll",{action:"opened",payload:{questionId:r,questionType:E,isAd:((p=s==null?void 0:s.attributes)==null?void 0:p.adUnit)==oi.UNSET,questionOpenedFrom:(s==null?void 0:s.openedFrom)==="bet-pack"?"list":s==null?void 0:s.openedFrom,hasBanner:S}}),this.storage.isQuestionOpened(I,r)||(Yt.emit("poll",{action:"viewed",payload:{questionId:r,questionType:E,isAd:((v=s==null?void 0:s.attributes)==null?void 0:v.adUnit)==oi.UNSET,questionOpenedFrom:(s==null?void 0:s.openedFrom)==="bet-pack"?"list":s==null?void 0:s.openedFrom}}),this.storage.saveQuestionOpened(I,r)),y||this.openFeature(),this.background.openQuestion(r,s?{...s,openedFrom:(s==null?void 0:s.openedFrom)==="bet-pack"?"list":s==null?void 0:s.openedFrom}:void 0)}),M(this,"getFeedItem",r=>lne(r,this.transport)),M(this,"isOpenedQuestion",r=>!!this.notifications.isViewed(r)),M(this,"closeQuestion",r=>(r&&(this.onQuestionActivate({stage:"deactivate",id:r,isViewed:!!this.notifications.isViewed(this.background.getCurrentSessionId({prefix:"notification",entity:r}))}),Yt.emit("poll",{action:"closed",payload:{questionId:r}})),this.background.closeQuestion(r))),M(this,"openUser",async r=>{var s,a,o,l,c,u;if(!this.leaderboardList)return;const d=(a=(s=this.leaderboardList)==null?void 0:s.$store.get().data)==null?void 0:a.find(h=>h.userId===r);if(!d){(o=this.openedUser)==null||o.set(d);return}if(d.summaryLoaded){(l=this.openedUser)==null||l.set(d);return}const f={...d};try{const h=await Yne(this.background.slStreamId,this.background.userId,this.friends,r,this.transport);(h==null?void 0:h.inTop)!==void 0&&((u=this.leaderboardList)==null||u.$store.setKey("data",(c=this.leaderboardList.$store.get().data)==null?void 0:c.map(m=>(m.userId===r&&(m.inTop=h.inTop),m))),f.inTop=h.inTop)}catch(h){console.error(h)}this.openedUser.set(f)}),M(this,"closeUser",()=>{var r;(r=this.openedUser)==null||r.set(void 0)}),M(this,"openOnboarding",()=>{this.openFeature(),Yt.emit("poll",{action:"onboardingOpen",payload:{}})}),M(this,"showInApp",r=>{var s,a,o,l,c,u,d,f,h,m,p,v,y,E,S,I,w,N,F,W,Z,O,K,fe,z,pe,de,be,_e,me,Q;const q=this.onboardingStatus.$store.get(),Re=((a=(s=r==null?void 0:r.data)==null?void 0:s.question)==null?void 0:a.adUnit)===oi.STANDART;if(r&&r.data&&(Re||q&&q!==Rn.Unset)&&((o=r.data.question)==null?void 0:o.id)!==void 0&&((c=(l=r.data.question)==null?void 0:l.bypassNotifications)==null?void 0:c.inAppSilence)!==$q.ON&&r.data.question.status===Qt.ACTIVE&&!r.data.question.marketClosed){if(o7.has(r.data.question.type))(this.isInteractiveAllowed||Re)&&r.data.question.notification!==void 0&&this.notifications.add({type:Za.QUESTION,action:()=>{var D,H,ie;return this.openQuestion((H=(D=r.data)==null?void 0:D.question)==null?void 0:H.id,(ie=r.data)==null?void 0:ie.feedItem)},close:()=>{var D,H;return this.closeQuestion((H=(D=r.data)==null?void 0:D.question)==null?void 0:H.id)},autoHideDuration:1e3*60,id:this.background.getCurrentSessionId({prefix:"notification",entity:r.data.question.id}),emitEvent:!0,data:{questionId:r.data.question.id,questionType:r.data.question.type,question:{title:r.data.question.notification.title},inApp:{notification:r.data.question.notification,appearance:r.data.question.appearance,sponsorship:r.data.question.sponsorship,adUnit:(u=r.data.question)==null?void 0:u.adUnit,sponsorLogo:(f=(d=r.data.question.promotion)==null?void 0:d.sponsor)==null?void 0:f.logo}}});else if(r.data.question.type===Te.FACTOID){const D=(h=r.data.question.options)==null?void 0:h.options.value,H=((m=r.data.question.notification)==null?void 0:m.useContentTexts)===wI.ENABLED?r.data.question.subject:((p=r.data.question.notification)==null?void 0:p.title)||"",ie=((v=r.data.question.notification)==null?void 0:v.useContentTexts)===wI.ENABLED?D.body:(y=r.data.question.notification)==null?void 0:y.body,ne={heading:H,body:ie,imageMode:D==null?void 0:D.imageMode,image:D==null?void 0:D.image,video:{id:((E=D==null?void 0:D.video)==null?void 0:E.id)||"",url:((S=D==null?void 0:D.video)==null?void 0:S.url)||"",thumbnailUrl:((I=D==null?void 0:D.video)==null?void 0:I.thumbnailUrl)||""},webLink:{label:"",url:""}};this.notifications.add({type:Za.QUESTION,action:()=>{var Se,ke,We;return this.openQuestion((ke=(Se=r==null?void 0:r.data)==null?void 0:Se.question)==null?void 0:ke.id,(We=r==null?void 0:r.data)==null?void 0:We.feedItem)},close:()=>{var Se,ke;return this.closeQuestion((ke=(Se=r==null?void 0:r.data)==null?void 0:Se.question)==null?void 0:ke.id)},autoHideDuration:1e3*120,emitEvent:!0,id:this.background.getCurrentSessionId({prefix:"notification",entity:r.data.question.id}),data:{questionId:r.data.question.id,questionType:r.data.question.type,insight:ne,inApp:{useMediaFromContent:(D==null?void 0:D.useAsNotification)===Lq.ENABLED,notification:r.data.question.notification,appearance:r.data.question.appearance,sponsorship:r.data.question.sponsorship,adUnit:(w=r.data.question)==null?void 0:w.adUnit,sponsorLogo:(F=(N=r.data.question.promotion)==null?void 0:N.sponsor)==null?void 0:F.logo,isVideo:(D==null?void 0:D.mode)===Pq.VIDEO}}})}else if(r.data.question.type===Te.TWEET&&r.data.question.notification!==void 0){const D=(W=r.data.question.options)==null?void 0:W.options.value,H={image:"",video:""};if((z=(fe=(K=(O=(Z=D.tweetMeta)==null?void 0:Z.tweet)==null?void 0:O.meta)==null?void 0:K.extendedEntities)==null?void 0:fe.media)!=null&&z[0]){const ne=D.tweetMeta.tweet.meta.extendedEntities.media;if(ne){const Se=ne.find(({type:ke})=>ke==="photo")||ne[0];H.image=Se.mediaUrlHttps,Se.type==="video"&&(H.video=Se.url)}}const ie={title:(pe=r.data.question.notification)==null?void 0:pe.title,body:(de=r.data.question.notification)==null?void 0:de.body,image:(be=r.data.question.notification)==null?void 0:be.image,account:((_e=D==null?void 0:D.tweetMeta)==null?void 0:_e.account)||"",accountVerified:!!((me=D==null?void 0:D.tweetMeta)!=null&&me.accountVerified),tweet:(Q=D==null?void 0:D.tweetMeta)==null?void 0:Q.tweet,tweetId:r.data.question.id,tweetMedia:H};this.notifications.add({type:Za.QUESTION,action:()=>{var ne,Se,ke;return this.openQuestion((Se=(ne=r.data)==null?void 0:ne.question)==null?void 0:Se.id,(ke=r.data)==null?void 0:ke.feedItem)},close:()=>{var ne,Se;return this.closeQuestion((Se=(ne=r.data)==null?void 0:ne.question)==null?void 0:Se.id)},autoHideDuration:1e3*120,emitEvent:!0,id:this.background.getCurrentSessionId({prefix:"notification",entity:r.data.question.id}),data:{questionId:r.data.question.id,questionType:r.data.question.type,tweet:ie,inApp:{notification:r.data.question.notification,appearance:r.data.question.appearance,sponsorship:r.data.question.sponsorship}}})}}}),this.background=new Ane(i),this.advertisement=this.background.advertisement,this.onQuestionActivate=i.onQuestionActivate,this.feedSubscription=this.background.feedSubscription,this.activeQuestionId=this.background.activeQuestionId,this.openedQuestionId=this.background.openedQuestionId,this.storage=this.background.storage,this.feedList=this.background.feedList,this.betPack=this.background.betPack,this.currentUserId=this.background.userId,this.onboardingProcessed=On(!i.sdk.withAuth),this.leaderboardId=new Br(On(this.settings.getValue("pinnedLeaderboardId")),"pinnedLeaderboardId").getStore(),this.notifications=i.notifications,this.transport=i.transport,this.closeFeature=(r=!0)=>i.sdk.closeFeature(r),this.openFeature=()=>i.sdk.openFeature(st.GAMES),this.openedQuestion=this.background.openedQuestion,this.deepLink=Xne(this.transport,this.background.slStreamId,i.stores.providerStreamId.getStore(),this.background.userId),this.userSummary=Pne(this.background.slStreamId,this.background.userId,this.friends,this.transport),!i.sdk.options.get().hideFriends){this.friends=new hs(sne(this.background.userId,i.transport),"gamification:friends"),this.openedUser=On(void 0);const r=this.leaderboardList=wne(this.transport,this.background.slStreamId,this.background.userId,this.friends);this.cancels.add(this.userSummary.$store.listen((s,a)=>{a!=null&&a.summary&&s!=null&&s.summary&&r.invalidate()}))}this.connect(),this.skipOnboarding=!!i.sdk.options.get().skipOnboarding,this.onboardingStatus=a7(this,this.background,i.transport,i.notifications,{skipOnboarding:i.sdk.options.get().skipOnboarding}),i.sdk.options.get().skipOnboarding||(this.onboardingStatus=a7(this,this.background,i.transport,i.notifications,{skipOnboarding:i.sdk.options.get().skipOnboarding})),this.cancels.add(this.onboardingStatus.$store.listen(this.checkInteractiveFlag)),this.cancels.add(this.background.moderation.getStore().listen(this.checkInteractiveFlag)),this.cancels.add(this.settings.subscribe(this.checkInteractiveFlag)),this.cancels.add(this.onboardingStatus.$store.listen((r,s)=>{(s===void 0||r!==Rn.Unset)&&this.background.activeQuestionId.invalidate()})),this.background.activeQuestionId.listen(this.showInApp),this.friendsTabEnabled=On(!1),this.cancels.add(i.sdk.options.subscribe(r=>{r.friendsTab==="disabled"?this.friendsTabEnabled.set(!1):r.friendsTab==="enabled"&&this.friendsTabEnabled.set(!0)})),this.cancels.add(this.settings.subscribe(r=>{var s,a;i.sdk.options.get().friendsTab==="activatedGame"&&this.friendsTabEnabled.set(!!((a=(s=r.inplayGame)==null?void 0:s.titleCard)!=null&&a.optIn))})),i.sdk.onMount({name:"gamification",clear:!0},()=>()=>{for(const r of this.cancels)r(),this.cancels.delete(r)})}get isInteractiveAllowed(){return this.background.interactiveAllowed.get()===Zo.ALLOWED}}const jne={[st.GAMES]:!0};class Kne extends dG{constructor(e,n){super(e,n)}}const zne=(t,e,n)=>t.type===st.GAMES?new $ne(t,e,n):new Kne(t,e),Jne=(t,e,n)=>{t.features=new Map,t.sdk.featuresList=new Br(On(new Set),"features-list"),t.activeFeature=new Br(On(st.UNSET),"activeFeature"),t.sdk.getFeatures=()=>t.features,t.sdk.getFeature=i=>t.features.get(i),t.sdk.getActiveFeature=()=>t.activeFeature.getStore(),t.sdk.openFeature=i=>{t.sdk.initializeApp().then(()=>{t.activeFeature.setValue(i)})},t.sdk.closeFeature=(i=!1)=>{const r=t.activeFeature.getValue();if(t.activeFeature.setValue(st.UNSET),i&&r){t.features.delete(r);const s=t.sdk.featuresList.getValue();s&&s.delete(r),t.sdk.featuresList.setValue(s)}},t.initFeature=(i,r=xa.ORGANIZATION)=>{if(i.type in jne&&!t.features.has(i.type)){const s=zne(i,r,t);t.features.set(i.type,s);let a=t.sdk.featuresList.getValue();a?a.add(i.type):a=new Set([i.type]),t.sdk.featuresList.setValue(new Set(a))}},t.updateFeature=(i,r)=>{var s;(s=t.features.get(i.type))==null||s.update(i,r)},t.destroyFeature=i=>{t.features.delete(i.type);const r=t.sdk.featuresList.getValue();r&&r.delete(i.type),t.sdk.featuresList.setValue(new Set(r))},t.reinitializeFeatures=async()=>{const i=await t.stores.organizationSettings.getValue();t.features.clear(),t.sdk.featuresList.setValue(new Set);for(const r of(i==null?void 0:i.overlays)||[])t.initFeature(r,xa.ORGANIZATION)},t.stores.providerStreamId.listen(i=>{i||t.reinitializeFeatures()}),t.storeSubscribe=()=>{const i=(s,a)=>{var o;if(a!=null&&a.overlays&&!((o=t.contextConfig)!=null&&o.skipOrganizationSettings&&s===xa.ORGANIZATION))for(const l of a.overlays)l.sdkEnable===!0&&(t.features.has(l.type)?t.updateFeature(l,s):t.initFeature(l,s))},r={organizationSettings:s=>{if(s.data)try{i(xa.ORGANIZATION,s.data)}catch(a){console.log(a)}},streamSettings:s=>{if(s.data)try{i(xa.STREAM,s.data)}catch(a){console.log(a)}}};t.store.subscribe(r)},n()};class Hne{constructor(e){M(this,"analytics"),M(this,"accepted",()=>{this.analytics.write("invitation",{common:{...this.analytics.commonStore.getValues(),kind:yt.INVITATION_ACCEPTED},category:xI.GAMES,from:sg.UNSET})}),M(this,"sent",({from:n})=>{this.analytics.write("invitation",{common:{...this.analytics.commonStore.getValues(),kind:yt.INVITATION_SENT},category:xI.GAMES,from:n||sg.UNSET})}),this.analytics=e,this.analytics.onConnect(()=>{const n=i=>{var r;if(((r=i.slEventBus)==null?void 0:r.type)==="invitation")switch(i.slEventBus.action){case"sent":this.sent(i.slEventBus.payload);break}};return Yt.listen(n)})}}class Qne{constructor(e){M(this,"analytics"),M(this,"tap",()=>{this.analytics.write("interactions",{common:{...this.analytics.commonStore.getValues(),kind:yt.INTERACTIONS},actionType:zI.TAP})}),M(this,"scroll",()=>{this.analytics.write("interactions",{common:{...this.analytics.commonStore.getValues(),kind:yt.INTERACTIONS},actionType:zI.SCROLL})}),this.analytics=e,this.analytics.onConnect(()=>{const n=i=>{var r;if(((r=i.slEventBus)==null?void 0:r.type)==="interactions")switch(i.slEventBus.action){case"tap":this.tap();break;case"scroll":this.scroll();break}};return Yt.listen(n)})}}const qne={[rt.UNSET]:nn.UNSET,[rt.INGAME_IAB21]:nn.PROMOTION_INGAME_IAB21,[rt.INGAME_IAB21_SIDEBAR]:nn.PROMOTION_INGAME_IAB21,[rt.INGAME_IAB11_LBAR]:nn.PROMOTION_INGAME_IAB11_LBAR,[rt.INGAME_IAB11]:nn.PROMOTION_INGAME_IAB11,[rt.INGAME_IAB11_SIDEBAR]:nn.PROMOTION_INGAME_IAB11,[rt.INGAME_IAB21_LBAR]:nn.PROMOTION_INGAME_IAB21_LBAR,[rt.INGAME_IAB61]:nn.PROMOTION_INGAME_IAB61,[rt.INGAME_IAB61_SIDEBAR]:nn.PROMOTION_INGAME_IAB61,[rt.EXTERNAL_AD]:nn.PROMOTION_GAM,[rt.VIDEO_SIDE_BY_SIDE]:nn.PROMOTION_VIDEO_SIDE_BY_SIDE,[rt.PICTURE_IN_PICTURE]:nn.PROMOTION_PICTURE_IN_PICTURE,[rt.LOWER_THIRD]:nn.PROMOTION_LOWER_THIRD,[rt.SHOP_LBAR]:nn.PROMOTION_SHOP_LBAR,[rt.SHOP_OVERLAY]:nn.PROMOTION_SHOP_OVERLAY,[rt.SHOP_SIDEBAR]:nn.PROMOTION_SHOP_SIDEBAR,[rt.NFL_SHOP_LBAR]:nn.PROMOTION_SHOP_LBAR,[rt.NFL_SHOP_OVERLAY]:nn.PROMOTION_SHOP_OVERLAY,[rt.NFL_SHOP_SIDEBAR]:nn.PROMOTION_SHOP_SIDEBAR,[rt.STATS]:nn.UNSET,[rt.STANDARD]:nn.UNSET,[rt.SHOP]:nn.UNSET,[rt.NFL_SHOP]:nn.UNSET},XA=t=>t?qne[t]:nn.UNSET,eie={25:yt.AD_VIDEO_Q25,50:yt.AD_VIDEO_Q50,75:yt.AD_VIDEO_Q75};class tie{constructor(e){M(this,"analytics"),M(this,"exposedPauseAdEnabled",({id:n})=>{const i=this.analytics.commonStore.getValues();this.analytics.write("games",{common:{...i,kind:yt.STREAM_PAUSED,topicId:n??i.topicId,topicType:Ct.EXPOSED_PAUSED_AD},pollOpenedFrom:cn.UNSET})}),M(this,"exposedPauseAdClosed",({id:n})=>{const i=this.analytics.commonStore.getValues();this.analytics.write("games",{common:{...i,kind:yt.EXTERNAL_AD_CLOSED,topicId:n??i.topicId,topicType:Ct.EXPOSED_PAUSED_AD},pollOpenedFrom:cn.UNSET})}),M(this,"exposedPauseAdDisabled",({id:n})=>{const i=this.analytics.commonStore.getValues();this.analytics.write("games",{common:{...i,kind:yt.STREAM_RESUMED,topicId:n??i.topicId,topicType:Ct.EXPOSED_PAUSED_AD},pollOpenedFrom:cn.UNSET})}),M(this,"exposedPauseAdOpened",({id:n})=>{const i=this.analytics.commonStore.getValues();this.analytics.write("games",{common:{...i,kind:yt.EXTERNAL_AD_RENDERED,topicId:n??i.topicId,topicType:Ct.EXPOSED_PAUSED_AD},pollOpenedFrom:cn.UNSET})}),M(this,"exposedPauseAdLoad",({id:n},i)=>{const r=this.analytics.commonStore.getValues();this.analytics.write("games",{common:{...r,kind:i?yt.EXTERNAL_AD_LOADED:yt.EXTERNAL_AD_REQUESTED,topicId:n??r.topicId,topicType:Ct.EXPOSED_PAUSED_AD},pollOpenedFrom:cn.UNSET})}),M(this,"received",({id:n},{topicSubType:i})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:yt.POLLS_RECEIVED,topicId:n,topicType:Ct.POLLS_PROMOTION,topicSubType:i},pollOpenedFrom:cn.UNSET})}),M(this,"opened",({id:n,openedFrom:i},{topicSubType:r})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:yt.POLLS_OPENED,topicId:n,topicType:Ct.POLLS_PROMOTION,topicSubType:r},pollOpenedFrom:i==="notification"?cn.IN_APP:cn.UNSET})}),M(this,"viewed",({id:n},{topicSubType:i})=>{}),M(this,"videoMuted",({id:n},{topicSubType:i,muted:r})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:n,kind:r?yt.AD_VIDEO_MUTED:yt.AD_VIDEO_UNMUTED,topicType:Ct.POLLS_PROMOTION,topicSubType:i},pollOpenedFrom:cn.UNSET})}),M(this,"quartileCompleted",({id:n,quartile:i},{topicSubType:r})=>{i&&this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:n,kind:eie[i],topicType:Ct.POLLS_PROMOTION,topicSubType:r},pollOpenedFrom:cn.UNSET})}),M(this,"videoReplayed",({id:n},{topicSubType:i})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:n,kind:yt.AD_VIDEO_REPLAYED,topicType:Ct.POLLS_PROMOTION,topicSubType:i},pollOpenedFrom:cn.UNSET})}),M(this,"videoPlay",({id:n},{topicSubType:i})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:n,kind:yt.AD_VIDEO_PLAYED,topicType:Ct.POLLS_PROMOTION,topicSubType:i},pollOpenedFrom:cn.UNSET})}),M(this,"videoEnd",({id:n},{topicSubType:i})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:n,kind:yt.AD_VIDEO_COMPLETE,topicType:Ct.POLLS_PROMOTION,topicSubType:i},pollOpenedFrom:cn.UNSET})}),M(this,"videoRendered",({id:n},{topicSubType:i})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:n,kind:yt.AD_VIDEO_RENDERED,topicType:Ct.POLLS_PROMOTION,topicSubType:i},pollOpenedFrom:cn.UNSET})}),M(this,"buttonSelect",({id:n},{topicSubType:i})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:n,kind:yt.AD_INTERACTION_BUTTON_NAVIGATED,topicType:Ct.POLLS_PROMOTION,topicSubType:i},pollOpenedFrom:cn.UNSET})}),M(this,"bannerSelect",({id:n},{topicSubType:i})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:n,kind:yt.AD_INTERACTION_BANNER_NAVIGATED,topicType:Ct.POLLS_PROMOTION,topicSubType:i},pollOpenedFrom:cn.UNSET})}),M(this,"bannerShown",({id:n},{topicSubType:i})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:n,kind:yt.AD_BANNER_SHOWN,topicType:Ct.POLLS_PROMOTION,topicSubType:i},pollOpenedFrom:cn.UNSET})}),this.analytics=e,this.analytics.onConnect(()=>{const n=i=>{var r,s,a;if(!((r=i.slEventBus)!=null&&r.skipAnalytics)){if(((s=i.slEventBus)==null?void 0:s.type)==="exposedPauseAd"){const o=i.slEventBus.payload;switch(i.slEventBus.action){case"enabled":this.exposedPauseAdEnabled(o);break;case"disabled":this.exposedPauseAdDisabled(o);break;case"closed":this.exposedPauseAdClosed(o);break;case"load":this.exposedPauseAdLoad(o,!1);break;case"loaded":this.exposedPauseAdLoad(o,!0);break;case"rendered":this.exposedPauseAdOpened(o);break}}if(((a=i.slEventBus)==null?void 0:a.type)==="advertisement"){const o=i.slEventBus.payload,l=XA(o.type);switch(i.slEventBus.action){case"videoPlay":this.videoPlay(o,{topicSubType:l});break;case"videoEnd":this.videoEnd(o,{topicSubType:l});break;case"videoRendered":this.videoRendered(o,{topicSubType:l});break;case"buttonSelect":this.buttonSelect(o,{topicSubType:l});break;case"bannerSelect":this.bannerSelect(o,{topicSubType:l});break;case"bannerShown":this.bannerShown(o,{topicSubType:l});break;case"received":this.received(o,{topicSubType:l});break;case"opened":this.opened(o,{topicSubType:l});break;case"viewed":this.viewed(o,{topicSubType:l});break;case"videoMuted":case"videoUnmuted":this.videoMuted(o,{topicSubType:l,muted:i.slEventBus.action==="videoMuted"});break;case"videoReplayed":this.videoReplayed(o,{topicSubType:l});break;case"quartileCompleted":this.quartileCompleted(o,{topicSubType:l});break}}}};return Yt.listen(n)})}}const bf={[Te.UNSET]:Ct.UNSET,[Te.FACTOID]:Ct.POLLS_INSIGHT,[Te.POLL]:Ct.POLLS_POLL,[Te.PREDICTION]:Ct.POLLS_PREDICTION,[Te.PROMOTION]:Ct.POLLS_PROMOTION,[Te.TRIVIA]:Ct.POLLS_TRIVIA,[Te.TWEET]:Ct.POLLS_TWITTER};Te.UNSET+"",ya.UNSET,Te.FACTOID+"",ya.POLLS,Te.POLL+"",ya.POLLS,Te.PREDICTION+"",ya.POLLS,Te.PROMOTION+"",ya.POLLS,Te.TRIVIA+"",ya.POLLS,Te.TWEET+"",ya.POLLS;const nie={[st.UNSET]:Yn.UNSET,[st.INPLAY]:Yn.INPLAY,[st.MESSAGING]:Yn.MESSAGING,[st.STATISTICS]:Yn.STATS,[st.BETTING]:Yn.BETTING,[st.TWITTER]:Yn.TWITTER,[st.MERCHANDISE]:Yn.MERCHANDISE,[st.CONTESTS]:Yn.CONTESTS,[st.VOICE_CHAT]:Yn.CALLING,[st.TICKETS]:Yn.TICKETS,[st.WHOIS_WATCHING]:Yn.WHOISWATCHING,[st.PROFILE]:Yn.PROFILE,[st.GAMES]:Yn.POLLS,[st.GOLF_STATISTICS]:Yn.STATS,[st.HIGHLIGHTS]:Yn.HIGHLIGHTS,[st.PUBLIC_CHAT]:Yn.PUBLIC_CHAT};class iie{constructor(e){M(this,"analytics"),M(this,"received",({questionId:n,questionType:i,topicSubType:r})=>{this.analytics.write("notification",{common:{...this.analytics.commonStore.getValues(),kind:yt.NOTIFICATION_RECEIVED,topicId:n,topicType:i?bf[i]:Ct.UNSET,topicSubType:r},notificationKind:ya.POLLS,notificationType:JI.IN_APP})}),M(this,"opened",({questionId:n,questionType:i,topicSubType:r})=>{this.analytics.write("notification",{common:{...this.analytics.commonStore.getValues(),kind:yt.NOTIFICATION_OPENED,topicId:n,topicType:i?bf[i]:Ct.UNSET,topicSubType:r},notificationKind:ya.POLLS,notificationType:JI.IN_APP})}),this.analytics=e,this.analytics.onConnect(()=>{const n=i=>{var r,s;if(((r=i.slEventBus)==null?void 0:r.type)==="notification")switch(i.slEventBus.action){case"rendered":this.received(i.slEventBus.payload);break;case"opened":this.opened(i.slEventBus.payload);break}if(((s=i.slEventBus)==null?void 0:s.type)==="advertisement")switch(i.slEventBus.action){case"notification-received":this.received({questionId:i.slEventBus.payload.id,questionType:Te.PROMOTION,topicSubType:XA(i.slEventBus.payload.type)});break;case"notification-opened":this.opened({questionId:i.slEventBus.payload.id,questionType:Te.PROMOTION,topicSubType:XA(i.slEventBus.payload.type)});break}};return Yt.listen(n)})}}class rie{constructor(e){M(this,"analytics"),M(this,"received",({questionId:n,questionType:i})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:yt.POLLS_RECEIVED,topicId:n,topicType:i?bf[i]:Ct.UNSET},pollOpenedFrom:cn.UNSET})}),M(this,"viewed",({questionId:n,questionType:i,questionOpenedFrom:r,isAd:s})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:s?yt.POLLS_AD_OPENED:yt.POLLS_OPENED,topicId:n,topicType:i?bf[i]:Ct.UNSET},pollOpenedFrom:r==="list"?cn.PICK_HISTORY:cn.IN_APP})}),M(this,"voted",({questionId:n,questionType:i,isAd:r})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:r?yt.POLLS_AD_VOTE:yt.POLLS_VOTE,topicId:n,topicType:i?bf[i]:Ct.UNSET},pollOpenedFrom:cn.UNSET})}),M(this,"onboardingPassed",()=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:yt.GAMES_JOINED},pollOpenedFrom:cn.UNSET})}),M(this,"navigated",()=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:yt.POLLS_NAVIGATED},pollOpenedFrom:cn.UNSET})}),this.analytics=e,this.analytics.onConnect(()=>{const n=i=>{var r;if(((r=i.slEventBus)==null?void 0:r.type)==="poll")switch(i.slEventBus.action){case"voted":this.voted(i.slEventBus.payload);break;case"navigated":this.navigated();break;case"onboardingPassed":this.onboardingPassed();break;case"received":this.received(i.slEventBus.payload);break;case"viewed":this.viewed(i.slEventBus.payload);break}};return Yt.listen(n)})}}const sie=({transport:t,$commonStore:e})=>{let n;const i=On(!1),r=3e4,{client:s,queryKey:a}=t.createPromiseClient(aG,{method:"send",params:[i]}),o=t.nanoquery.createFetcherStore(a,{fetcher:async()=>{const d=e.getStore().get();try{await s.unary({message:{case:"heartbeat",value:{common:{...d,kind:yt.SESSION_HEARTBEAT}}}})}catch(f){Na.error(f,"send heartbeat failed")}return Date.now()},refetchInterval:r}),l=()=>{Na.debug("mounted heartbeat"),n=o.subscribe(()=>{})},c=()=>{Na.debug("enabled heartbeat"),i.set(!0),o.lc===0&&l()},u=()=>{Na.debug("disabled heartbeat"),i.set(!1)};return{enable:c,disable:u,mount:l,unmount:()=>{Na.debug("unmounted heartbeat"),o.off(),n==null||n(),n=void 0,u()}}},Na=aa("analytics");class aie{constructor(e){M(this,"commonStore"),M(this,"notifications"),M(this,"polls"),M(this,"invitation"),M(this,"interactions"),M(this,"advertisement"),M(this,"heartbeat"),M(this,"analyticsClient"),M(this,"listeners"),M(this,"listenersCancels"),M(this,"connected",!1),M(this,"connect",()=>{this.writeCommon("sessionId",Wo()),this.heartbeat.enable(),this.listeners.forEach(i=>this.listenersCancels.add(i())),this.connected=!0,Na.debug("analytics connected")}),M(this,"disconnect",()=>{this.writeCommon("sessionId",""),this.writeCommon("overlaySessionId",""),this.heartbeat.unmount(),this.listenersCancels.forEach(i=>i()),this.connected=!1,Na.debug("analytics disconnected")}),M(this,"write",(i,r)=>{r&&this.analyticsClient.unary({message:{case:i,value:r}}).then(()=>{Na.trace("send analytics success",i,r)}).catch(s=>{Na.error(s,"send analytics failed")})}),M(this,"writeCommon",(i,r)=>{this.commonStore.setValue(i,r)}),M(this,"onConnect",i=>{this.listeners.add(i),this.connected&&this.listenersCancels.add(i())}),M(this,"connectToSDK",i=>{this.onConnect(()=>i.stores.slStreamId.getAtomStore().subscribe(r=>{this.writeCommon("eventId",r)})),this.onConnect(()=>i.sdk.getActiveFeature().subscribe(r=>{r&&this.writeCommon("category",nie[r]),r!==st.UNSET?this.writeCommon("overlaySessionId",Wo()):this.writeCommon("overlaySessionId","")})),this.onConnect(()=>{const r=s=>{var a,o,l;if(!s.slEventBus)return;const c=(a=s.slEventBus)==null?void 0:a.action;if(((o=s.slEventBus)==null?void 0:o.type)==="exposedPauseAd"){const u=s.slEventBus.payload;c==="disabled"&&setTimeout(()=>{this.writeCommon("overlaySessionId",""),this.writeCommon("topicId",""),this.writeCommon("topicType",Ct.UNSET),this.writeCommon("category",Yn.UNSET)},200),c==="enabled"&&(this.writeCommon("overlaySessionId",Wo()),this.writeCommon("category",Yn.EXPOSED_PAUSED_AD)),c==="loaded"&&u.id&&(this.writeCommon("topicId",u.id),this.writeCommon("topicType",Ct.UNSET))}((l=s.slEventBus)==null?void 0:l.type)==="advertisement"&&(c==="opened"&&this.writeCommon("overlaySessionId",Wo()),c==="closed"&&this.writeCommon("overlaySessionId",""))};return Yt.listen(r)}),this.onConnect(()=>{const r=window.matchMedia("(orientation: portrait)"),s=a=>{this.writeCommon("screenOrientation",a.matches?II.PORTRAIT:II.LANDSCAPE)};return r.addEventListener("change",s),()=>{r.removeEventListener("change",s)}}),this.onConnect(()=>i.deepLink.$store.subscribe(r=>{r!=null&&r.handled&&this.invitation.accepted()}))}),this.listeners=new Set,this.listenersCancels=new Set,this.commonStore=new jl(gr({}),"common-analytics"),this.connectToSDK(e),this.heartbeat=sie({transport:e.analyticsTransport,$commonStore:this.commonStore}),this.notifications=new iie(this),this.polls=new rie(this),this.invitation=new Hne(this),this.interactions=new Qne(this),this.advertisement=new tie(this);const{client:n}=e.analyticsTransport.createPromiseClient(aG,{method:"send"});this.analyticsClient=n}}const oie=(t,e,n)=>{t.analytics=new aie(t),t.sdk.onMount({name:"analytics"},()=>(t.analytics.connect(),t.sdk.writeOverlaySessionId=i=>{i===""?t.analytics.writeCommon("overlaySessionId",""):t.analytics.writeCommon("overlaySessionId",Wo())},()=>{t.analytics.disconnect()})),n()};var j9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof lc<"u"?lc:typeof self<"u"?self:{};function lie(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var K9={exports:{}},z9={exports:{}};function cie(t){var e=new t,n=e;function i(){var s=e;return s.next?e=s.next:(e=new t,n=e),s.next=null,s}function r(s){n.next=s,n=s}return{get:i,release:r}}var uie=cie,die=uie;function vG(t,e,n){if(typeof t=="function"&&(n=e,e=t,t=null),!(n>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var i=die(hie),r=null,s=null,a=0,o=null,l={push:p,drain:Vr,saturated:Vr,pause:u,paused:!1,get concurrency(){return n},set concurrency(w){if(!(w>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(n=w,!l.paused)for(;r&&a<n;)a++,y()},running:c,resume:h,idle:m,length:d,getQueue:f,unshift:v,empty:Vr,kill:E,killAndDrain:S,error:I};return l;function c(){return a}function u(){l.paused=!0}function d(){for(var w=r,N=0;w;)w=w.next,N++;return N}function f(){for(var w=r,N=[];w;)N.push(w.value),w=w.next;return N}function h(){if(l.paused){if(l.paused=!1,r===null){a++,y();return}for(;r&&a<n;)a++,y()}}function m(){return a===0&&l.length()===0}function p(w,N){var F=i.get();F.context=t,F.release=y,F.value=w,F.callback=N||Vr,F.errorHandler=o,a>=n||l.paused?s?(s.next=F,s=F):(r=F,s=F,l.saturated()):(a++,e.call(t,F.value,F.worked))}function v(w,N){var F=i.get();F.context=t,F.release=y,F.value=w,F.callback=N||Vr,F.errorHandler=o,a>=n||l.paused?r?(F.next=r,r=F):(r=F,s=F,l.saturated()):(a++,e.call(t,F.value,F.worked))}function y(w){w&&i.release(w);var N=r;N&&a<=n?l.paused?a--:(s===r&&(s=null),r=N.next,N.next=null,e.call(t,N.value,N.worked),s===null&&l.empty()):--a===0&&l.drain()}function E(){r=null,s=null,l.drain=Vr}function S(){r=null,s=null,l.drain(),l.drain=Vr}function I(w){o=w}}function Vr(){}function hie(){this.value=null,this.callback=Vr,this.next=null,this.release=Vr,this.context=null,this.errorHandler=null;var t=this;this.worked=function(e,n){var i=t.callback,r=t.errorHandler,s=t.value;t.value=null,t.callback=Vr,t.errorHandler&&r(e,s),i.call(t.context,e,n),t.release(t)}}function fie(t,e,n){typeof t=="function"&&(n=e,e=t,t=null);function i(u,d){e.call(this,u).then(function(f){d(null,f)},d)}var r=vG(t,i,n),s=r.push,a=r.unshift;return r.push=o,r.unshift=l,r.drained=c,r;function o(u){var d=new Promise(function(f,h){s(u,function(m,p){if(m){h(m);return}f(p)})});return d.catch(Vr),d}function l(u){var d=new Promise(function(f,h){a(u,function(m,p){if(m){h(m);return}f(p)})});return d.catch(Vr),d}function c(){if(r.idle())return new Promise(function(f){f()});var u=r.drain,d=new Promise(function(f){r.drain=function(){u(),f()}});return d}}z9.exports=vG;z9.exports.promise=fie;var EG=z9.exports,J9={exports:{}},ku=typeof Reflect=="object"?Reflect:null,l7=ku&&typeof ku.apply=="function"?ku.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)},q1;ku&&typeof ku.ownKeys=="function"?q1=ku.ownKeys:Object.getOwnPropertySymbols?q1=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:q1=function(t){return Object.getOwnPropertyNames(t)};function pie(t){console&&console.warn&&console.warn(t)}var AG=Number.isNaN||function(t){return t!==t};function Gt(){Gt.init.call(this)}J9.exports=Gt;J9.exports.once=bie;Gt.EventEmitter=Gt;Gt.prototype._events=void 0;Gt.prototype._eventsCount=0;Gt.prototype._maxListeners=void 0;var c7=10;function Z2(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Gt,"defaultMaxListeners",{enumerable:!0,get:function(){return c7},set:function(t){if(typeof t!="number"||t<0||AG(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c7=t}});Gt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Gt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||AG(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function SG(t){return t._maxListeners===void 0?Gt.defaultMaxListeners:t._maxListeners}Gt.prototype.getMaxListeners=function(){return SG(this)};Gt.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i=t==="error",r=this._events;if(r!==void 0)i=i&&r.error===void 0;else if(!i)return!1;if(i){var s;if(e.length>0&&(s=e[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var o=r[t];if(o===void 0)return!1;if(typeof o=="function")l7(o,this,e);else for(var l=o.length,c=wG(o,l),n=0;n<l;++n)l7(c[n],this,e);return!0};function TG(t,e,n,i){var r,s,a;if(Z2(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),a=s[e]),a===void 0)a=s[e]=n,++t._eventsCount;else if(typeof a=="function"?a=s[e]=i?[n,a]:[a,n]:i?a.unshift(n):a.push(n),r=SG(t),r>0&&a.length>r&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=a.length,pie(o)}return t}Gt.prototype.addListener=function(t,e){return TG(this,t,e,!1)};Gt.prototype.on=Gt.prototype.addListener;Gt.prototype.prependListener=function(t,e){return TG(this,t,e,!0)};function mie(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function RG(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=mie.bind(i);return r.listener=n,i.wrapFn=r,r}Gt.prototype.once=function(t,e){return Z2(e),this.on(t,RG(this,t,e)),this};Gt.prototype.prependOnceListener=function(t,e){return Z2(e),this.prependListener(t,RG(this,t,e)),this};Gt.prototype.removeListener=function(t,e){var n,i,r,s,a;if(Z2(e),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===e||n.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(r=-1,s=n.length-1;s>=0;s--)if(n[s]===e||n[s].listener===e){a=n[s].listener,r=s;break}if(r<0)return this;r===0?n.shift():gie(n,r),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||e)}return this};Gt.prototype.off=Gt.prototype.removeListener;Gt.prototype.removeAllListeners=function(t){var e,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var r=Object.keys(n),s;for(i=0;i<r.length;++i)s=r[i],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=n[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this};function CG(t,e,n){var i=t._events;if(i===void 0)return[];var r=i[e];return r===void 0?[]:typeof r=="function"?n?[r.listener||r]:[r]:n?yie(r):wG(r,r.length)}Gt.prototype.listeners=function(t){return CG(this,t,!0)};Gt.prototype.rawListeners=function(t){return CG(this,t,!1)};Gt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):IG.call(t,e)};Gt.prototype.listenerCount=IG;function IG(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}Gt.prototype.eventNames=function(){return this._eventsCount>0?q1(this._events):[]};function wG(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function gie(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function yie(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function bie(t,e){return new Promise(function(n,i){function r(a){t.removeListener(e,s),i(a)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",r),n([].slice.call(arguments))}xG(t,e,s,{once:!0}),e!=="error"&&vie(t,r,{once:!0})})}function vie(t,e,n){typeof t.on=="function"&&xG(t,"error",e,n)}function xG(t,e,n,i){if(typeof t.on=="function")i.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function r(s){i.once&&t.removeEventListener(e,r),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var VG=J9.exports,D2={},NG={},_G=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),n=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;t[e]=i;for(e in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var r=Object.getOwnPropertySymbols(t);if(r.length!==1||r[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,e);if(s.value!==i||s.enumerable!==!0)return!1}return!0},Eie=_G,O2=function(){return Eie()&&!!Symbol.toStringTag},Aie=Error,Sie=EvalError,Tie=RangeError,Rie=ReferenceError,kG=SyntaxError,X2=TypeError,Cie=URIError,u7=typeof Symbol<"u"&&Symbol,Iie=_G,wie=function(){return typeof u7!="function"||typeof Symbol!="function"||typeof u7("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Iie()},F3={__proto__:null,foo:{}},xie=Object,Vie=function(){return{__proto__:F3}.foo===F3.foo&&!(F3 instanceof xie)},Nie="Function.prototype.bind called on incompatible ",_ie=Object.prototype.toString,kie=Math.max,Fie="[object Function]",d7=function(t,e){for(var n=[],i=0;i<t.length;i+=1)n[i]=t[i];for(var r=0;r<e.length;r+=1)n[r+t.length]=e[r];return n},Lie=function(t,e){for(var n=[],i=e,r=0;i<t.length;i+=1,r+=1)n[r]=t[i];return n},Uie=function(t,e){for(var n="",i=0;i<t.length;i+=1)n+=t[i],i+1<t.length&&(n+=e);return n},Bie=function(t){var e=this;if(typeof e!="function"||_ie.apply(e)!==Fie)throw new TypeError(Nie+e);for(var n=Lie(arguments,1),i,r=function(){if(this instanceof i){var c=e.apply(this,d7(n,arguments));return Object(c)===c?c:this}return e.apply(t,d7(n,arguments))},s=kie(0,e.length-n.length),a=[],o=0;o<s;o++)a[o]="$"+o;if(i=Function("binder","return function ("+Uie(a,",")+"){ return binder.apply(this,arguments); }")(r),e.prototype){var l=function(){};l.prototype=e.prototype,i.prototype=new l,l.prototype=null}return i},Wie=Bie,H9=Function.prototype.bind||Wie,Gie=Function.prototype.call,Zie=Object.prototype.hasOwnProperty,Die=H9,Oie=Die.call(Gie,Zie),mt,Xie=Aie,Mie=Sie,Pie=Tie,Yie=Rie,fd=kG,Fu=X2,$ie=Cie,FG=Function,L3=function(t){try{return FG('"use strict"; return ('+t+").constructor;")()}catch{}},Kl=Object.getOwnPropertyDescriptor;if(Kl)try{Kl({},"")}catch{Kl=null}var U3=function(){throw new Fu},jie=Kl?function(){try{return arguments.callee,U3}catch{try{return Kl(arguments,"callee").get}catch{return U3}}}():U3,kc=wie(),Kie=Vie(),$n=Object.getPrototypeOf||(Kie?function(t){return t.__proto__}:null),qc={},zie=typeof Uint8Array>"u"||!$n?mt:$n(Uint8Array),zl={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?mt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?mt:ArrayBuffer,"%ArrayIteratorPrototype%":kc&&$n?$n([][Symbol.iterator]()):mt,"%AsyncFromSyncIteratorPrototype%":mt,"%AsyncFunction%":qc,"%AsyncGenerator%":qc,"%AsyncGeneratorFunction%":qc,"%AsyncIteratorPrototype%":qc,"%Atomics%":typeof Atomics>"u"?mt:Atomics,"%BigInt%":typeof BigInt>"u"?mt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?mt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?mt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?mt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Xie,"%eval%":eval,"%EvalError%":Mie,"%Float32Array%":typeof Float32Array>"u"?mt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?mt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?mt:FinalizationRegistry,"%Function%":FG,"%GeneratorFunction%":qc,"%Int8Array%":typeof Int8Array>"u"?mt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?mt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?mt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":kc&&$n?$n($n([][Symbol.iterator]())):mt,"%JSON%":typeof JSON=="object"?JSON:mt,"%Map%":typeof Map>"u"?mt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!kc||!$n?mt:$n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?mt:Promise,"%Proxy%":typeof Proxy>"u"?mt:Proxy,"%RangeError%":Pie,"%ReferenceError%":Yie,"%Reflect%":typeof Reflect>"u"?mt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?mt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!kc||!$n?mt:$n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?mt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":kc&&$n?$n(""[Symbol.iterator]()):mt,"%Symbol%":kc?Symbol:mt,"%SyntaxError%":fd,"%ThrowTypeError%":jie,"%TypedArray%":zie,"%TypeError%":Fu,"%Uint8Array%":typeof Uint8Array>"u"?mt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?mt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?mt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?mt:Uint32Array,"%URIError%":$ie,"%WeakMap%":typeof WeakMap>"u"?mt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?mt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?mt:WeakSet};if($n)try{null.error}catch(t){var Jie=$n($n(t));zl["%Error.prototype%"]=Jie}var Hie=function t(e){var n;if(e==="%AsyncFunction%")n=L3("async function () {}");else if(e==="%GeneratorFunction%")n=L3("function* () {}");else if(e==="%AsyncGeneratorFunction%")n=L3("async function* () {}");else if(e==="%AsyncGenerator%"){var i=t("%AsyncGeneratorFunction%");i&&(n=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var r=t("%AsyncGenerator%");r&&$n&&(n=$n(r.prototype))}return zl[e]=n,n},h7={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_p=H9,lg=Oie,Qie=_p.call(Function.call,Array.prototype.concat),qie=_p.call(Function.apply,Array.prototype.splice),f7=_p.call(Function.call,String.prototype.replace),cg=_p.call(Function.call,String.prototype.slice),ere=_p.call(Function.call,RegExp.prototype.exec),tre=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,nre=/\\(\\)?/g,ire=function(t){var e=cg(t,0,1),n=cg(t,-1);if(e==="%"&&n!=="%")throw new fd("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&e!=="%")throw new fd("invalid intrinsic syntax, expected opening `%`");var i=[];return f7(t,tre,function(r,s,a,o){i[i.length]=a?f7(o,nre,"$1"):s||r}),i},rre=function(t,e){var n=t,i;if(lg(h7,n)&&(i=h7[n],n="%"+i[0]+"%"),lg(zl,n)){var r=zl[n];if(r===qc&&(r=Hie(n)),typeof r>"u"&&!e)throw new Fu("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:r}}throw new fd("intrinsic "+t+" does not exist!")},kp=function(t,e){if(typeof t!="string"||t.length===0)throw new Fu("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new Fu('"allowMissing" argument must be a boolean');if(ere(/^%?[^%]*%?$/,t)===null)throw new fd("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=ire(t),i=n.length>0?n[0]:"",r=rre("%"+i+"%",e),s=r.name,a=r.value,o=!1,l=r.alias;l&&(i=l[0],qie(n,Qie([0,1],l)));for(var c=1,u=!0;c<n.length;c+=1){var d=n[c],f=cg(d,0,1),h=cg(d,-1);if((f==='"'||f==="'"||f==="`"||h==='"'||h==="'"||h==="`")&&f!==h)throw new fd("property names with quotes must have matching quotes");if((d==="constructor"||!u)&&(o=!0),i+="."+d,s="%"+i+"%",lg(zl,s))a=zl[s];else if(a!=null){if(!(d in a)){if(!e)throw new Fu("base intrinsic for "+t+" exists, but the property is not available.");return}if(Kl&&c+1>=n.length){var m=Kl(a,d);u=!!m,u&&"get"in m&&!("originalValue"in m.get)?a=m.get:a=a[d]}else u=lg(a,d),a=a[d];u&&!o&&(zl[s]=a)}}return a},LG={exports:{}},B3,p7;function Q9(){if(p7)return B3;p7=1;var t=kp,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return B3=e,B3}var sre=kp,em=sre("%Object.getOwnPropertyDescriptor%",!0);if(em)try{em([],"length")}catch{em=null}var M2=em,m7=Q9(),are=kG,Fc=X2,g7=M2,ore=function(t,e,n){if(!t||typeof t!="object"&&typeof t!="function")throw new Fc("`obj` must be an object or a function`");if(typeof e!="string"&&typeof e!="symbol")throw new Fc("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Fc("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Fc("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Fc("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Fc("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,r=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,o=!!g7&&g7(t,e);if(m7)m7(t,e,{configurable:s===null&&o?o.configurable:!s,enumerable:i===null&&o?o.enumerable:!i,value:n,writable:r===null&&o?o.writable:!r});else if(a||!i&&!r&&!s)t[e]=n;else throw new are("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},MA=Q9(),UG=function(){return!!MA};UG.hasArrayLengthDefineBug=function(){if(!MA)return null;try{return MA([],"length",{value:1}).length!==1}catch{return!0}};var lre=UG,cre=kp,y7=ore,ure=lre(),b7=M2,v7=X2,dre=cre("%Math.floor%"),hre=function(t,e){if(typeof t!="function")throw new v7("`fn` is not a function");if(typeof e!="number"||e<0||e>4294967295||dre(e)!==e)throw new v7("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,r=!0;if("length"in t&&b7){var s=b7(t,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(r=!1)}return(i||r||!n)&&(ure?y7(t,"length",e,!0,!0):y7(t,"length",e)),t};(function(t){var e=H9,n=kp,i=hre,r=X2,s=n("%Function.prototype.apply%"),a=n("%Function.prototype.call%"),o=n("%Reflect.apply%",!0)||e.call(a,s),l=Q9(),c=n("%Math.max%");t.exports=function(d){if(typeof d!="function")throw new r("a function is required");var f=o(e,a,arguments);return i(f,1+c(0,d.length-(arguments.length-1)),!0)};var u=function(){return o(e,s,arguments)};l?l(t.exports,"apply",{value:u}):t.exports.apply=u})(LG);var q9=LG.exports,BG=kp,WG=q9,fre=WG(BG("String.prototype.indexOf")),eT=function(t,e){var n=BG(t,!!e);return typeof n=="function"&&fre(t,".prototype.")>-1?WG(n):n},pre=O2(),mre=eT,PA=mre("Object.prototype.toString"),P2=function(t){return pre&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:PA(t)==="[object Arguments]"},GG=function(t){return P2(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&PA(t)!=="[object Array]"&&PA(t.callee)==="[object Function]"},gre=function(){return P2(arguments)}();P2.isLegacyArguments=GG;var yre=gre?P2:GG,bre=Object.prototype.toString,vre=Function.prototype.toString,Ere=/^\s*(?:function)?\*/,ZG=O2(),W3=Object.getPrototypeOf,Are=function(){if(!ZG)return!1;try{return Function("return function*() {}")()}catch{}},G3,Sre=function(t){if(typeof t!="function")return!1;if(Ere.test(vre.call(t)))return!0;if(!ZG){var e=bre.call(t);return e==="[object GeneratorFunction]"}if(!W3)return!1;if(typeof G3>"u"){var n=Are();G3=n?W3(n):!1}return W3(t)===G3},DG=Function.prototype.toString,yu=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,YA,tm;if(typeof yu=="function"&&typeof Object.defineProperty=="function")try{YA=Object.defineProperty({},"length",{get:function(){throw tm}}),tm={},yu(function(){throw 42},null,YA)}catch(t){t!==tm&&(yu=null)}else yu=null;var Tre=/^\s*class\b/,$A=function(t){try{var e=DG.call(t);return Tre.test(e)}catch{return!1}},Z3=function(t){try{return $A(t)?!1:(DG.call(t),!0)}catch{return!1}},nm=Object.prototype.toString,Rre="[object Object]",Cre="[object Function]",Ire="[object GeneratorFunction]",wre="[object HTMLAllCollection]",xre="[object HTML document.all class]",Vre="[object HTMLCollection]",Nre=typeof Symbol=="function"&&!!Symbol.toStringTag,_re=!(0 in[,]),jA=function(){return!1};if(typeof document=="object"){var kre=document.all;nm.call(kre)===nm.call(document.all)&&(jA=function(t){if((_re||!t)&&(typeof t>"u"||typeof t=="object"))try{var e=nm.call(t);return(e===wre||e===xre||e===Vre||e===Rre)&&t("")==null}catch{}return!1})}var Fre=yu?function(t){if(jA(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{yu(t,null,YA)}catch(e){if(e!==tm)return!1}return!$A(t)&&Z3(t)}:function(t){if(jA(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(Nre)return Z3(t);if($A(t))return!1;var e=nm.call(t);return e!==Cre&&e!==Ire&&!/^\[object HTML/.test(e)?!1:Z3(t)},Lre=Fre,Ure=Object.prototype.toString,OG=Object.prototype.hasOwnProperty,Bre=function(t,e,n){for(var i=0,r=t.length;i<r;i++)OG.call(t,i)&&(n==null?e(t[i],i,t):e.call(n,t[i],i,t))},Wre=function(t,e,n){for(var i=0,r=t.length;i<r;i++)n==null?e(t.charAt(i),i,t):e.call(n,t.charAt(i),i,t)},Gre=function(t,e,n){for(var i in t)OG.call(t,i)&&(n==null?e(t[i],i,t):e.call(n,t[i],i,t))},Zre=function(t,e,n){if(!Lre(e))throw new TypeError("iterator must be a function");var i;arguments.length>=3&&(i=n),Ure.call(t)==="[object Array]"?Bre(t,e,i):typeof t=="string"?Wre(t,e,i):Gre(t,e,i)},XG=Zre,Dre=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],D3=Dre,Ore=typeof globalThis>"u"?j9:globalThis,MG=function(){for(var t=[],e=0;e<D3.length;e++)typeof Ore[D3[e]]=="function"&&(t[t.length]=D3[e]);return t},ug=XG,Xre=MG,E7=q9,tT=eT,im=M2,Mre=tT("Object.prototype.toString"),PG=O2(),A7=typeof globalThis>"u"?j9:globalThis,KA=Xre(),nT=tT("String.prototype.slice"),O3=Object.getPrototypeOf,Pre=tT("Array.prototype.indexOf",!0)||function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return n;return-1},dg={__proto__:null};PG&&im&&O3?ug(KA,function(t){var e=new A7[t];if(Symbol.toStringTag in e){var n=O3(e),i=im(n,Symbol.toStringTag);if(!i){var r=O3(n);i=im(r,Symbol.toStringTag)}dg["$"+t]=E7(i.get)}}):ug(KA,function(t){var e=new A7[t],n=e.slice||e.set;n&&(dg["$"+t]=E7(n))});var Yre=function(t){var e=!1;return ug(dg,function(n,i){if(!e)try{"$"+n(t)===i&&(e=nT(i,1))}catch{}}),e},$re=function(t){var e=!1;return ug(dg,function(n,i){if(!e)try{n(t),e=nT(i,1)}catch{}}),e},jre=function(t){if(!t||typeof t!="object")return!1;if(!PG){var e=nT(Mre(t),8,-1);return Pre(KA,e)>-1?e:e!=="Object"?!1:$re(t)}return im?Yre(t):null},hg=XG,Kre=MG,S7=q9,iT=eT,rm=M2,zre=iT("Object.prototype.toString"),YG=O2(),T7=typeof globalThis>"u"?j9:globalThis,zA=Kre(),rT=iT("String.prototype.slice"),X3=Object.getPrototypeOf,Jre=iT("Array.prototype.indexOf",!0)||function(t,e){for(var n=0;n<t.length;n+=1)if(t[n]===e)return n;return-1},fg={__proto__:null};YG&&rm&&X3?hg(zA,function(t){var e=new T7[t];if(Symbol.toStringTag in e){var n=X3(e),i=rm(n,Symbol.toStringTag);if(!i){var r=X3(n);i=rm(r,Symbol.toStringTag)}fg["$"+t]=S7(i.get)}}):hg(zA,function(t){var e=new T7[t],n=e.slice||e.set;n&&(fg["$"+t]=S7(n))});var Hre=function(t){var e=!1;return hg(fg,function(n,i){if(!e)try{"$"+n(t)===i&&(e=rT(i,1))}catch{}}),e},Qre=function(t){var e=!1;return hg(fg,function(n,i){if(!e)try{n(t),e=rT(i,1)}catch{}}),e},qre=function(t){if(!t||typeof t!="object")return!1;if(!YG){var e=rT(zre(t),8,-1);return Jre(zA,e)>-1?e:e!=="Object"?!1:Qre(t)}return rm?Hre(t):null},ese=qre,tse=function(t){return!!ese(t)};(function(t){var e=yre,n=Sre,i=jre,r=tse;function s(le){return le.call.bind(le)}var a=typeof BigInt<"u",o=typeof Symbol<"u",l=s(Object.prototype.toString),c=s(Number.prototype.valueOf),u=s(String.prototype.valueOf),d=s(Boolean.prototype.valueOf);if(a)var f=s(BigInt.prototype.valueOf);if(o)var h=s(Symbol.prototype.valueOf);function m(le,De){if(typeof le!="object")return!1;try{return De(le),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=n,t.isTypedArray=r;function p(le){return typeof Promise<"u"&&le instanceof Promise||le!==null&&typeof le=="object"&&typeof le.then=="function"&&typeof le.catch=="function"}t.isPromise=p;function v(le){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(le):r(le)||H(le)}t.isArrayBufferView=v;function y(le){return i(le)==="Uint8Array"}t.isUint8Array=y;function E(le){return i(le)==="Uint8ClampedArray"}t.isUint8ClampedArray=E;function S(le){return i(le)==="Uint16Array"}t.isUint16Array=S;function I(le){return i(le)==="Uint32Array"}t.isUint32Array=I;function w(le){return i(le)==="Int8Array"}t.isInt8Array=w;function N(le){return i(le)==="Int16Array"}t.isInt16Array=N;function F(le){return i(le)==="Int32Array"}t.isInt32Array=F;function W(le){return i(le)==="Float32Array"}t.isFloat32Array=W;function Z(le){return i(le)==="Float64Array"}t.isFloat64Array=Z;function O(le){return i(le)==="BigInt64Array"}t.isBigInt64Array=O;function K(le){return i(le)==="BigUint64Array"}t.isBigUint64Array=K;function fe(le){return l(le)==="[object Map]"}fe.working=typeof Map<"u"&&fe(new Map);function z(le){return typeof Map>"u"?!1:fe.working?fe(le):le instanceof Map}t.isMap=z;function pe(le){return l(le)==="[object Set]"}pe.working=typeof Set<"u"&&pe(new Set);function de(le){return typeof Set>"u"?!1:pe.working?pe(le):le instanceof Set}t.isSet=de;function be(le){return l(le)==="[object WeakMap]"}be.working=typeof WeakMap<"u"&&be(new WeakMap);function _e(le){return typeof WeakMap>"u"?!1:be.working?be(le):le instanceof WeakMap}t.isWeakMap=_e;function me(le){return l(le)==="[object WeakSet]"}me.working=typeof WeakSet<"u"&&me(new WeakSet);function Q(le){return me(le)}t.isWeakSet=Q;function q(le){return l(le)==="[object ArrayBuffer]"}q.working=typeof ArrayBuffer<"u"&&q(new ArrayBuffer);function Re(le){return typeof ArrayBuffer>"u"?!1:q.working?q(le):le instanceof ArrayBuffer}t.isArrayBuffer=Re;function D(le){return l(le)==="[object DataView]"}D.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&D(new DataView(new ArrayBuffer(1),0,1));function H(le){return typeof DataView>"u"?!1:D.working?D(le):le instanceof DataView}t.isDataView=H;var ie=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ne(le){return l(le)==="[object SharedArrayBuffer]"}function Se(le){return typeof ie>"u"?!1:(typeof ne.working>"u"&&(ne.working=ne(new ie)),ne.working?ne(le):le instanceof ie)}t.isSharedArrayBuffer=Se;function ke(le){return l(le)==="[object AsyncFunction]"}t.isAsyncFunction=ke;function We(le){return l(le)==="[object Map Iterator]"}t.isMapIterator=We;function Pe(le){return l(le)==="[object Set Iterator]"}t.isSetIterator=Pe;function $e(le){return l(le)==="[object Generator]"}t.isGeneratorObject=$e;function ae(le){return l(le)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=ae;function Y(le){return m(le,c)}t.isNumberObject=Y;function te(le){return m(le,u)}t.isStringObject=te;function ce(le){return m(le,d)}t.isBooleanObject=ce;function ge(le){return a&&m(le,f)}t.isBigIntObject=ge;function we(le){return o&&m(le,h)}t.isSymbolObject=we;function Be(le){return Y(le)||te(le)||ce(le)||ge(le)||we(le)}t.isBoxedPrimitive=Be;function Ge(le){return typeof Uint8Array<"u"&&(Re(le)||Se(le))}t.isAnyArrayBuffer=Ge,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(le){Object.defineProperty(t,le,{enumerable:!1,value:function(){throw new Error(le+" is not supported in userland")}})})})(NG);var nse=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},JA={exports:{}};typeof Object.create=="function"?JA.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:JA.exports=function(t,e){if(e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}};var ise=JA.exports;(function(t){var e=Object.getOwnPropertyDescriptors||function(D){for(var H=Object.keys(D),ie={},ne=0;ne<H.length;ne++)ie[H[ne]]=Object.getOwnPropertyDescriptor(D,H[ne]);return ie},n=/%[sdj%]/g;t.format=function(D){if(!w(D)){for(var H=[],ie=0;ie<arguments.length;ie++)H.push(a(arguments[ie]));return H.join(" ")}for(var ie=1,ne=arguments,Se=ne.length,ke=String(D).replace(n,function($e){if($e==="%%")return"%";if(ie>=Se)return $e;switch($e){case"%s":return String(ne[ie++]);case"%d":return Number(ne[ie++]);case"%j":try{return JSON.stringify(ne[ie++])}catch{return"[Circular]"}default:return $e}}),We=ne[ie];ie<Se;We=ne[++ie])E(We)||!Z(We)?ke+=" "+We:ke+=" "+a(We);return ke},t.deprecate=function(D,H){if(typeof ut<"u"&&ut.noDeprecation===!0)return D;if(typeof ut>"u")return function(){return t.deprecate(D,H).apply(this,arguments)};var ie=!1;function ne(){if(!ie){if(ut.throwDeprecation)throw new Error(H);ut.traceDeprecation?console.trace(H):console.error(H),ie=!0}return D.apply(this,arguments)}return ne};var i={},r=/^$/;if(ut.env.NODE_DEBUG){var s=ut.env.NODE_DEBUG;s=s.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),r=new RegExp("^"+s+"$","i")}t.debuglog=function(D){if(D=D.toUpperCase(),!i[D])if(r.test(D)){var H=ut.pid;i[D]=function(){var ie=t.format.apply(t,arguments);console.error("%s %d: %s",D,H,ie)}}else i[D]=function(){};return i[D]};function a(D,H){var ie={seen:[],stylize:l};return arguments.length>=3&&(ie.depth=arguments[2]),arguments.length>=4&&(ie.colors=arguments[3]),y(H)?ie.showHidden=H:H&&t._extend(ie,H),F(ie.showHidden)&&(ie.showHidden=!1),F(ie.depth)&&(ie.depth=2),F(ie.colors)&&(ie.colors=!1),F(ie.customInspect)&&(ie.customInspect=!0),ie.colors&&(ie.stylize=o),u(ie,D,ie.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(D,H){var ie=a.styles[H];return ie?"\x1B["+a.colors[ie][0]+"m"+D+"\x1B["+a.colors[ie][1]+"m":D}function l(D,H){return D}function c(D){var H={};return D.forEach(function(ie,ne){H[ie]=!0}),H}function u(D,H,ie){if(D.customInspect&&H&&fe(H.inspect)&&H.inspect!==t.inspect&&!(H.constructor&&H.constructor.prototype===H)){var ne=H.inspect(ie,D);return w(ne)||(ne=u(D,ne,ie)),ne}var Se=d(D,H);if(Se)return Se;var ke=Object.keys(H),We=c(ke);if(D.showHidden&&(ke=Object.getOwnPropertyNames(H)),K(H)&&(ke.indexOf("message")>=0||ke.indexOf("description")>=0))return f(H);if(ke.length===0){if(fe(H)){var Pe=H.name?": "+H.name:"";return D.stylize("[Function"+Pe+"]","special")}if(W(H))return D.stylize(RegExp.prototype.toString.call(H),"regexp");if(O(H))return D.stylize(Date.prototype.toString.call(H),"date");if(K(H))return f(H)}var $e="",ae=!1,Y=["{","}"];if(v(H)&&(ae=!0,Y=["[","]"]),fe(H)){var te=H.name?": "+H.name:"";$e=" [Function"+te+"]"}if(W(H)&&($e=" "+RegExp.prototype.toString.call(H)),O(H)&&($e=" "+Date.prototype.toUTCString.call(H)),K(H)&&($e=" "+f(H)),ke.length===0&&(!ae||H.length==0))return Y[0]+$e+Y[1];if(ie<0)return W(H)?D.stylize(RegExp.prototype.toString.call(H),"regexp"):D.stylize("[Object]","special");D.seen.push(H);var ce;return ae?ce=h(D,H,ie,We,ke):ce=ke.map(function(ge){return m(D,H,ie,We,ge,ae)}),D.seen.pop(),p(ce,$e,Y)}function d(D,H){if(F(H))return D.stylize("undefined","undefined");if(w(H)){var ie="'"+JSON.stringify(H).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return D.stylize(ie,"string")}if(I(H))return D.stylize(""+H,"number");if(y(H))return D.stylize(""+H,"boolean");if(E(H))return D.stylize("null","null")}function f(D){return"["+Error.prototype.toString.call(D)+"]"}function h(D,H,ie,ne,Se){for(var ke=[],We=0,Pe=H.length;We<Pe;++We)me(H,String(We))?ke.push(m(D,H,ie,ne,String(We),!0)):ke.push("");return Se.forEach(function($e){$e.match(/^\d+$/)||ke.push(m(D,H,ie,ne,$e,!0))}),ke}function m(D,H,ie,ne,Se,ke){var We,Pe,$e;if($e=Object.getOwnPropertyDescriptor(H,Se)||{value:H[Se]},$e.get?$e.set?Pe=D.stylize("[Getter/Setter]","special"):Pe=D.stylize("[Getter]","special"):$e.set&&(Pe=D.stylize("[Setter]","special")),me(ne,Se)||(We="["+Se+"]"),Pe||(D.seen.indexOf($e.value)<0?(E(ie)?Pe=u(D,$e.value,null):Pe=u(D,$e.value,ie-1),Pe.indexOf(`
`)>-1&&(ke?Pe=Pe.split(`
`).map(function(ae){return"  "+ae}).join(`
`).slice(2):Pe=`
`+Pe.split(`
`).map(function(ae){return"   "+ae}).join(`
`))):Pe=D.stylize("[Circular]","special")),F(We)){if(ke&&Se.match(/^\d+$/))return Pe;We=JSON.stringify(""+Se),We.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(We=We.slice(1,-1),We=D.stylize(We,"name")):(We=We.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),We=D.stylize(We,"string"))}return We+": "+Pe}function p(D,H,ie){var ne=D.reduce(function(Se,ke){return ke.indexOf(`
`)>=0,Se+ke.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ne>60?ie[0]+(H===""?"":H+`
 `)+" "+D.join(`,
  `)+" "+ie[1]:ie[0]+H+" "+D.join(", ")+" "+ie[1]}t.types=NG;function v(D){return Array.isArray(D)}t.isArray=v;function y(D){return typeof D=="boolean"}t.isBoolean=y;function E(D){return D===null}t.isNull=E;function S(D){return D==null}t.isNullOrUndefined=S;function I(D){return typeof D=="number"}t.isNumber=I;function w(D){return typeof D=="string"}t.isString=w;function N(D){return typeof D=="symbol"}t.isSymbol=N;function F(D){return D===void 0}t.isUndefined=F;function W(D){return Z(D)&&pe(D)==="[object RegExp]"}t.isRegExp=W,t.types.isRegExp=W;function Z(D){return typeof D=="object"&&D!==null}t.isObject=Z;function O(D){return Z(D)&&pe(D)==="[object Date]"}t.isDate=O,t.types.isDate=O;function K(D){return Z(D)&&(pe(D)==="[object Error]"||D instanceof Error)}t.isError=K,t.types.isNativeError=K;function fe(D){return typeof D=="function"}t.isFunction=fe;function z(D){return D===null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||typeof D=="symbol"||typeof D>"u"}t.isPrimitive=z,t.isBuffer=nse;function pe(D){return Object.prototype.toString.call(D)}function de(D){return D<10?"0"+D.toString(10):D.toString(10)}var be=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function _e(){var D=new Date,H=[de(D.getHours()),de(D.getMinutes()),de(D.getSeconds())].join(":");return[D.getDate(),be[D.getMonth()],H].join(" ")}t.log=function(){console.log("%s - %s",_e(),t.format.apply(t,arguments))},t.inherits=ise,t._extend=function(D,H){if(!H||!Z(H))return D;for(var ie=Object.keys(H),ne=ie.length;ne--;)D[ie[ne]]=H[ie[ne]];return D};function me(D,H){return Object.prototype.hasOwnProperty.call(D,H)}var Q=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(D){if(typeof D!="function")throw new TypeError('The "original" argument must be of type Function');if(Q&&D[Q]){var H=D[Q];if(typeof H!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(H,Q,{value:H,enumerable:!1,writable:!1,configurable:!0}),H}function H(){for(var ie,ne,Se=new Promise(function(Pe,$e){ie=Pe,ne=$e}),ke=[],We=0;We<arguments.length;We++)ke.push(arguments[We]);ke.push(function(Pe,$e){Pe?ne(Pe):ie($e)});try{D.apply(this,ke)}catch(Pe){ne(Pe)}return Se}return Object.setPrototypeOf(H,Object.getPrototypeOf(D)),Q&&Object.defineProperty(H,Q,{value:H,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(H,e(D))},t.promisify.custom=Q;function q(D,H){if(!D){var ie=new Error("Promise was rejected with a falsy value");ie.reason=D,D=ie}return H(D)}function Re(D){if(typeof D!="function")throw new TypeError('The "original" argument must be of type Function');function H(){for(var ie=[],ne=0;ne<arguments.length;ne++)ie.push(arguments[ne]);var Se=ie.pop();if(typeof Se!="function")throw new TypeError("The last argument must be of type Function");var ke=this,We=function(){return Se.apply(ke,arguments)};D.apply(this,ie).then(function(Pe){ut.nextTick(We.bind(null,null,Pe))},function(Pe){ut.nextTick(q.bind(null,Pe,We))})}return Object.setPrototypeOf(H,Object.getPrototypeOf(D)),Object.defineProperties(H,e(D)),H}t.callbackify=Re})(D2);const{inherits:rse,format:M3}=D2;function Lc(t,e,n=Error){if(!t)throw new Error("Avvio error code must not be empty");if(!e)throw new Error("Avvio base error message must not be empty");function i(r,s,a){if(!new.target)return new i(r,s,a);Error.captureStackTrace(this,i),this.code=t,this.message=e,this.name="AvvioError",r&&s&&a?this.message=M3(e,r,s,a):r&&s?this.message=M3(e,r,s):r?this.message=M3(e,r):this.message=e}return i.prototype[Symbol.toStringTag]="Error",i.prototype.toString=function(){return`${this.name} [${this.code}]: ${this.message}`},rse(i,n),i}var $G={AVV_ERR_EXPOSE_ALREADY_DEFINED:Lc("AVV_ERR_EXPOSE_ALREADY_DEFINED","'%s' () is already defined, specify an expose option"),AVV_ERR_CALLBACK_NOT_FN:Lc("AVV_ERR_CALLBACK_NOT_FN","Callback for '%s' hook is not a function. Received: '%s'"),AVV_ERR_PLUGIN_NOT_VALID:Lc("AVV_ERR_PLUGIN_NOT_VALID","Plugin must be a function or a promise. Received: '%s'"),AVV_ERR_ROOT_PLG_BOOTED:Lc("AVV_ERR_PLUGIN_NOT_VALID","Root plugin has already booted"),AVV_ERR_PARENT_PLG_LOADED:Lc("AVV_ERR_PARENT_PLG_LOADED","Impossible to load '%s' plugin because the parent '%s' was already loaded"),AVV_ERR_READY_TIMEOUT:Lc("AVV_ERR_READY_TIMEOUT","Plugin did not start in time: '%s'. You may have forgotten to call 'done' function or to resolve a Promise")},sse=function t(e,n,i){n===void 0&&(n=""),i||(i={});var r=function(l){var c={"":"|","":"`","":"+","":"-","":"-"};return i.unicode===!1?c[l]:l};typeof e=="string"&&(e={label:e});var s=e.nodes||[],a=(e.label||"").split(`
`),o=`
`+n+(s.length?r(""):" ")+" ";return n+a.join(o)+`
`+s.map(function(l,c){var u=c===s.length-1,d=l.nodes&&l.nodes.length,f=n+(u?" ":r(""))+" ";return n+r(u?"":"")+r("")+r(d?"":"")+" "+t(l,f,i).slice(n.length+2)}).join("")};const ase=sse,R7=Symbol("avvio.TimeTree.untrackNode"),P3=Symbol("avvio.TimeTree.trackNode"),C7=Symbol("avvio.TimeTree.getParent"),I7=Symbol("avvio.TimeTree.getNode"),w7=Symbol("avvio.TimeTree.addNode");let ose=class{constructor(){this.root=null,this.tableId=new Map,this.tableLabel=new Map}[P3](t){this.tableId.set(t.id,t),this.tableLabel.has(t.label)?this.tableLabel.get(t.label).push(t):this.tableLabel.set(t.label,[t])}[R7](t){this.tableId.delete(t.id);const e=this.tableLabel.get(t.label);if(e.id){this.tableLabel.delete(t.label);return}e.pop(),e.length===0&&this.tableLabel.delete(t.label)}[C7](t){if(t===null)return this.root;const e=this.tableLabel.get(t);return e.id?e:e[e.length-1]}[I7](t){return this.tableId.get(t)}[w7](t,e,n){if(t===null)return this.root={id:"root",label:e,start:n,nodes:[]},this[P3](this.root),this.root.id;const i=this[C7](t),r=`${e}-${Math.random()}`,s={id:r,parent:t,start:n,label:e,nodes:[]};return i.nodes.push(s),this[P3](s),r}start(t,e,n=Date.now()){return this[w7](t,e,n)}stop(t,e=Date.now()){const n=this[I7](t);n&&(n.stop=e,n.diff=n.stop-n.start||0,this[R7](n))}toJSON(){return Object.assign({},this.root)}prittyPrint(){const t=n=>(n.label=`${n.label} ${n.diff} ms`,n.nodes.length>0&&(n.nodes=n.nodes.map(i=>t(i))),n),e=t(this.toJSON());return ase(e)}};var lse=ose,sT={exports:{}},HA={exports:{}},Y3,x7;function cse(){if(x7)return Y3;x7=1;var t=1e3,e=t*60,n=e*60,i=n*24,r=i*7,s=i*365.25;Y3=function(u,d){d=d||{};var f=typeof u;if(f==="string"&&u.length>0)return a(u);if(f==="number"&&isFinite(u))return d.long?l(u):o(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function a(u){if(u=String(u),!(u.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var f=parseFloat(d[1]),h=(d[2]||"ms").toLowerCase();switch(h){case"years":case"year":case"yrs":case"yr":case"y":return f*s;case"weeks":case"week":case"w":return f*r;case"days":case"day":case"d":return f*i;case"hours":case"hour":case"hrs":case"hr":case"h":return f*n;case"minutes":case"minute":case"mins":case"min":case"m":return f*e;case"seconds":case"second":case"secs":case"sec":case"s":return f*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return f;default:return}}}}function o(u){var d=Math.abs(u);return d>=i?Math.round(u/i)+"d":d>=n?Math.round(u/n)+"h":d>=e?Math.round(u/e)+"m":d>=t?Math.round(u/t)+"s":u+"ms"}function l(u){var d=Math.abs(u);return d>=i?c(u,d,i,"day"):d>=n?c(u,d,n,"hour"):d>=e?c(u,d,e,"minute"):d>=t?c(u,d,t,"second"):u+" ms"}function c(u,d,f,h){var m=d>=f*1.5;return Math.round(u/f)+" "+h+(m?"s":"")}return Y3}function use(t){n.debug=n,n.default=n,n.coerce=l,n.disable=s,n.enable=r,n.enabled=a,n.humanize=cse(),n.destroy=c,Object.keys(t).forEach(u=>{n[u]=t[u]}),n.names=[],n.skips=[],n.formatters={};function e(u){let d=0;for(let f=0;f<u.length;f++)d=(d<<5)-d+u.charCodeAt(f),d|=0;return n.colors[Math.abs(d)%n.colors.length]}n.selectColor=e;function n(u){let d,f=null,h,m;function p(...v){if(!p.enabled)return;const y=p,E=Number(new Date),S=E-(d||E);y.diff=S,y.prev=d,y.curr=E,d=E,v[0]=n.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let I=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(w,N)=>{if(w==="%%")return"%";I++;const F=n.formatters[N];if(typeof F=="function"){const W=v[I];w=F.call(y,W),v.splice(I,1),I--}return w}),n.formatArgs.call(y,v),(y.log||n.log).apply(y,v)}return p.namespace=u,p.useColors=n.useColors(),p.color=n.selectColor(u),p.extend=i,p.destroy=n.destroy,Object.defineProperty(p,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(h!==n.namespaces&&(h=n.namespaces,m=n.enabled(u)),m),set:v=>{f=v}}),typeof n.init=="function"&&n.init(p),p}function i(u,d){const f=n(this.namespace+(typeof d>"u"?":":d)+u);return f.log=this.log,f}function r(u){n.save(u),n.namespaces=u,n.names=[],n.skips=[];let d;const f=(typeof u=="string"?u:"").split(/[\s,]+/),h=f.length;for(d=0;d<h;d++)f[d]&&(u=f[d].replace(/\*/g,".*?"),u[0]==="-"?n.skips.push(new RegExp("^"+u.slice(1)+"$")):n.names.push(new RegExp("^"+u+"$")))}function s(){const u=[...n.names.map(o),...n.skips.map(o).map(d=>"-"+d)].join(",");return n.enable(""),u}function a(u){if(u[u.length-1]==="*")return!0;let d,f;for(d=0,f=n.skips.length;d<f;d++)if(n.skips[d].test(u))return!1;for(d=0,f=n.names.length;d<f;d++)if(n.names[d].test(u))return!0;return!1}function o(u){return u.toString().substring(2,u.toString().length-2).replace(/\.\*\?$/,"*")}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return n.enable(n.load()),n}var dse=use;(function(t,e){e.formatArgs=i,e.save=r,e.load=s,e.useColors=n,e.storage=a(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function n(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;l.splice(1,0,c,"color: inherit");let u=0,d=0;l[0].replace(/%[a-zA-Z%]/g,f=>{f!=="%%"&&(u++,f==="%c"&&(d=u))}),l.splice(d,0,c)}e.log=console.debug||console.log||(()=>{});function r(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function s(){let l;try{l=e.storage.getItem("debug")}catch{}return!l&&typeof ut<"u"&&"env"in ut&&(l=ut.env.DEBUG),l}function a(){try{return localStorage}catch{}}t.exports=dse(e);const{formatters:o}=t.exports;o.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(HA,HA.exports);var jG=HA.exports;const hse=EG,fse=VG.EventEmitter,pse=D2.inherits,ci=jG("avvio"),{AVV_ERR_READY_TIMEOUT:mse}=$G,$3=Symbol.for("plugin-meta");function gse(t,e){return t[$3]&&t[$3].name?t[$3].name:typeof e<"u"&&typeof e!="function"&&e.name?e.name:t.name?t.name:t.toString().split(`
`).slice(0,2).map(n=>n.trim()).join(" -- ")}function yse(){const t={};return t.promise=new Promise((e,n)=>{t.resolve=e,t.reject=n}),t}function Md(t,e,n,i,r){this.started=!1,this.func=e,this.opts=n,this.onFinish=null,this.parent=t,this.timeout=r===void 0?t._timeout:r,this.name=gse(e,n),this.isAfter=i,this.q=hse(t,bse,1),this.q.pause(),this._error=null,this.loaded=!1,this._promise=null}pse(Md,fse);Md.prototype.exec=function(t,e){const n=this.func;let i=!1;const r=this.name;if(this.parent._error&&!this.isAfter){ci("skipping loading of plugin as parent errored and it is not an after",r),ut.nextTick(e);return}if(this.isAfter)this.server=t;else try{this.server=this.parent.override(t,n,this.opts)}catch(l){return ci("override errored",r),e(l)}this.opts=typeof this.opts=="function"?this.opts(this.server):this.opts,ci("exec",r);let s;const a=l=>{if(i){ci("loading complete",r);return}this._error=l,ci(l?"exec errored":"exec completed",r),i=!0,s&&clearTimeout(s),e(l)};this.timeout>0&&(ci("setting up timeout",r,this.timeout),s=setTimeout(function(){ci("timed out",r),s=null;const l=new mse(r);l.fn=n,a(l)},this.timeout)),this.started=!0,this.emit("start",this.server?this.server.name:null,this.name,Date.now());const o=n(this.server,this.opts,a);o&&typeof o.then=="function"&&(ci("exec: resolving promise",r),o.then(()=>ut.nextTick(a),l=>ut.nextTick(a,l)))};Md.prototype.loadedSoFar=function(){if(this.loaded)return Promise.resolve();const t=()=>{this.server.after((n,i)=>{this._error=n,this.q.pause(),n?(ci("rejecting promise",this.name,n),this._promise.reject(n)):(ci("resolving promise",this.name),this._promise.resolve()),this._promise=null,ut.nextTick(i,n)}),this.q.resume()};let e;return this._promise?e=Promise.resolve():(this._promise=yse(),e=this._promise.promise,this.server?t():this.on("start",t)),e};Md.prototype.enqueue=function(t,e){ci("enqueue",this.name,t.name),this.emit("enqueue",this.server?this.server.name:null,this.name,Date.now()),this.q.push(t,e)};Md.prototype.finish=function(t,e){ci("finish",this.name,t);const n=()=>{this.loaded||(ci("loaded",this.name),this.emit("loaded",this.server?this.server.name:null,this.name,Date.now()),this.loaded=!0,e(t))};if(t){this._promise&&(this._promise.reject(t),this._promise=null),n();return}const i=()=>{if(ci("check",this.name,this.q.length(),this.q.running(),this._promise),this.q.length()===0&&this.q.running()===0)if(this._promise){const r=()=>{ci("wrap"),queueMicrotask(i)};this._promise.resolve(),this._promise.promise.then(r,r),this._promise=null}else n();else ci("delayed",this.name),this.q.drain=()=>{ci("drain",this.name),this.q.drain=vse,queueMicrotask(i)}};queueMicrotask(i),this.q.resume()};function bse(t,e){const n=this;ut.nextTick(aT.bind(n),t,e)}function aT(t,e){if(typeof t.func.then=="function"){t.func.then(i=>{typeof i.default=="function"&&(i=i.default),t.func=i,aT.call(this,t,e)},e);return}const n=this._current[0];this._current.unshift(t),t.exec(n&&n.server||this._server,i=>{t.finish(i,r=>{this._current.shift(),e(r)})})}function vse(){}sT.exports=Md;sT.exports.loadPlugin=aT;var Ese=sT.exports;const V7=EG,Ase=VG.EventEmitter,Sse=D2.inherits,{AVV_ERR_EXPOSE_ALREADY_DEFINED:j3,AVV_ERR_CALLBACK_NOT_FN:vf,AVV_ERR_PLUGIN_NOT_VALID:Tse,AVV_ERR_ROOT_PLG_BOOTED:Rse,AVV_ERR_READY_TIMEOUT:Cse}=$G,Ise=lse,QA=Ese,pd=jG("avvio"),pg=Symbol("kAvvio"),K3=Symbol("kThenifyDoNotWrap");function wse(t,e,n){const i=e.expose||{},r=i.use||"use",s=i.after||"after",a=i.ready||"ready",o=i.onClose||"onClose",l=i.close||"close";if(t[r])throw new j3(r);if(t[s])throw new j3(s);if(t[a])throw new j3(a);t[r]=function(c,u){return n.use(c,u),this},Object.defineProperty(t,"then",{get:KG.bind(n)}),t[pg]=!0,t[s]=function(c){return typeof c!="function"?n._loadRegistered():(n.after(z3(c,this)),this)},t[a]=function(c){if(c&&typeof c!="function")throw new vf(a,typeof c);return n.ready(c?z3(c,this):void 0)},t[o]=function(c){if(typeof c!="function")throw new vf(o,typeof c);return n.onClose(kse(c,this)),this},t[l]=function(c){if(c&&typeof c!="function")throw new vf(l,typeof c);return c?(n.close(z3(c,this)),this):n.close()}}function ti(t,e,n){if(typeof t=="function"&&arguments.length===1&&(n=t,e={},t=null),typeof e=="function"&&(n=e,e={}),e=e||{},!(this instanceof ti)){const i=new ti(t,e,n);return t&&wse(t,e,i),i}e.autostart!==!1&&(e.autostart=!0),t=t||this,this._timeout=Number(e.timeout)||0,this._server=t,this._current=[],this._error=null,this._isOnCloseHandlerKey=Symbol("isOnCloseHandler"),this._lastUsed=null,this.setMaxListeners(0),n&&this.once("start",n),this.started=!1,this.booted=!1,this.pluginTree=new Ise,this._readyQ=V7(this,zG,1),this._readyQ.pause(),this._readyQ.drain=()=>{this.emit("start"),this._readyQ.drain=N7},this._closeQ=V7(this,_se,1),this._closeQ.pause(),this._closeQ.drain=()=>{this.emit("close"),this._closeQ.drain=N7},this._doStart=null,this._root=new QA(this,xse.bind(this),e,!1,0),this._root.once("start",(i,r,s)=>{const a=this.pluginTree.start(null,r,s);this._root.once("loaded",(o,l,c)=>{this.pluginTree.stop(a,c)})}),QA.loadPlugin.call(this,this._root,i=>{pd("root plugin ready");try{this.emit("preReady"),this._root=null}catch(r){i=i||this._error||r}if(i){if(this._error=i,this._readyQ.length()===0)throw i}else this.booted=!0;this._readyQ.resume()})}function xse(t,e,n){this._doStart=n,e.autostart&&this.start()}Sse(ti,Ase);ti.prototype.start=function(){return this.started=!0,ut.nextTick(this._doStart),this};ti.prototype.override=function(t,e,n){return t};function Vse(t){if(t&&typeof t=="object"&&typeof t.default=="function"&&(t=t.default),!(t&&(typeof t=="function"||typeof t.then=="function")))throw new Tse(typeof t);return t}ti.prototype[pg]=!0;ti.prototype.use=function(t,e){return this._lastUsed=this._addPlugin(t,e,!1),this};ti.prototype._loadRegistered=function(){const t=this._current[0];return!this.started&&!this.booted&&ut.nextTick(()=>this._root.q.resume()),t?t.loadedSoFar():Promise.resolve()};Object.defineProperty(ti.prototype,"then",{get:KG});ti.prototype._addPlugin=function(t,e,n){if(t=Vse(t),e=e||{},this.booted)throw new Rse;const i=this._current[0],r=new QA(this,t,e,n);if(r.once("start",(s,a,o)=>{const l=this.pluginTree.start(i.name,a,o);r.once("loaded",(c,u,d)=>{this.pluginTree.stop(l,d)})}),i.loaded)throw new Error(r.name,i.name);return i.enqueue(r,s=>{s&&(this._error=s)}),r};ti.prototype.after=function(t){if(!t)return this._loadRegistered();this._addPlugin(e.bind(this),{},!0);function e(n,i,r){zG.call(this,t,r)}return this};ti.prototype.onClose=function(t){if(typeof t!="function")throw new Error("not a function");t[this._isOnCloseHandlerKey]=!0,this._closeQ.unshift(t,e.bind(this));function e(n){n&&(this._error=n)}return this};ti.prototype.close=function(t){let e;if(t){if(typeof t!="function")throw new vf("close",typeof t)}else e=new Promise(function(n,i){t=function(r){if(r)return i(r);n()}});return this.ready(()=>{this._error=null,this._closeQ.push(t),ut.nextTick(this._closeQ.resume.bind(this._closeQ))}),e};ti.prototype.ready=function(t){if(t){if(typeof t!="function")throw new vf("ready",typeof t);this._readyQ.push(t),queueMicrotask(this.start.bind(this));return}return new Promise((e,n)=>{this._readyQ.push(r),this.start();const i=this._current[0].server;function r(s,a,o){s?n(s):e(i),ut.nextTick(o)}})};ti.prototype.prettyPrint=function(){return this.pluginTree.prittyPrint()};ti.prototype.toJSON=function(){return this.pluginTree.toJSON()};function N7(){}function KG(){if(this.booted){pd("thenify returning null because we are already booted");return}if(this[K3]){this[K3]=!1;return}return pd("thenify"),(t,e)=>this._loadRegistered().then(()=>(this[K3]=!0,t(this._server)),e)}function zG(t,e){const n=this._server,i=this._error;let r;if(this._error=null,t.length===0)this._error=i,r=t(),r&&!r[pg]&&typeof r.then=="function"?r.then(()=>ut.nextTick(e),s=>ut.nextTick(e,s)):ut.nextTick(e);else if(t.length===1)r=t(i),r&&!r[pg]&&typeof r.then=="function"?r.then(()=>ut.nextTick(e),s=>ut.nextTick(e,s)):ut.nextTick(e);else if(this._timeout===0){const s=a=>{this._error=a,e(this._error)};t.length===2?t(i,s):t(i,n,s)}else Nse.call(this,t,i,n,e)}function Nse(t,e,n,i){const r=t.name;pd("setting up ready timeout",r,this._timeout);let s=setTimeout(()=>{pd("timed out",r),s=null;const o=new Cse(r);o.fn=t,this._error=o,i(o)},this._timeout);t.length===2?t(e,a.bind(this)):t(e,n,a.bind(this));function a(o){s&&(clearTimeout(s),this._error=o,i(this._error))}}function _se(t,e){const n=this._server,i=t[this._isOnCloseHandlerKey];if(t.length===0||t.length===1){let r;i?r=t(n):r=t(this._error),r&&typeof r.then=="function"?(pd("resolving close/onClose promise"),r.then(()=>ut.nextTick(e),s=>ut.nextTick(e,s))):ut.nextTick(e)}else t.length===2?t(i?n:this._error,e):i?t(n,e):t(this._error,n,e)}function kse(t,e){return n.bind(e);function n(i,r){let s;t.length===0?(s=t(),s&&s.then?s.then(function(){ut.nextTick(r)},r):ut.nextTick(r)):t.length===1?(s=t(this),s&&s.then?s.then(function(){ut.nextTick(r)},r):ut.nextTick(r)):t(this,r)}}function z3(t,e){return n.bind(e);function n(i,r){let s;t?t.length===0?(s=t(),s&&s.then?s.then(function(){ut.nextTick(r,i)},r):ut.nextTick(r,i)):t.length===1?(s=t(i),s&&s.then?s.then(function(){ut.nextTick(r)},r):ut.nextTick(r)):t.length===2?t(i,r):t(i,this,r):ut.nextTick(r)}}K9.exports=ti;K9.exports.express=function(t){return ti(t,{expose:{use:"load"}})};var Fse=K9.exports;const Lse=lie(Fse);(function(){if(window.requestAnimationFrame&&window.cancelAnimationFrame)return;const t=["webkit","moz","ms","o"];for(const e of t)window.requestAnimationFrame=window.requestAnimationFrame||window[`${e}RequestAnimationFrame`],window.cancelAnimationFrame=window.cancelAnimationFrame||window[`${e}CancelAnimationFrame`]||window[`${e}CancelRequestAnimationFrame`];if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){let e=0;const n=!!(window.performance&&window.performance.now);window.requestAnimationFrame=function(i){const r=n?window.performance.now():new Date().getTime(),s=Math.max(0,16-(r-e)),a=window.setTimeout(function(){i(r+s)},s);return e=r+s,a},window.cancelAnimationFrame=clearTimeout}})();function Use(t,e=!0,n=!0,i={friendsTab:"enabled"}){const r=e?"https://grpc-sdk.streamlayer.io:443":"https://grpc-sdk.next.streamlayer.io:443",s=e?"https://grpc.streamlayer.io:443":"https://grpc.next.streamlayer.io:443",a=Lse(Object.create({}),{autostart:!1});return a.use(Zne,{hideFriends:i.hideFriends,skipOnboarding:i.skipOnboarding,betPack:i.betPack,friendsTab:i.friendsTab,theme:i.theme,themeMode:i.themeMode}),a.use(kne,{onDeepLinkHandled:i==null?void 0:i.onDeepLinkHandled}),a.use(Bne,{videoPlayerController:i==null?void 0:i.videoPlayerController}),a.use(Gne,{onContentActivate:i==null?void 0:i.onContentActivate,withAd:i==null?void 0:i.withAd,withAdNotification:i==null?void 0:i.withAdNotification}),a.use(Qte,{sdkKey:t,host:r,analyticsHost:s,version:i==null?void 0:i.version,webOS:i==null?void 0:i.webOS}),a.use(ine),a.use(Une),a.use(Jne),a.use(Cne),a.use(oie),a.after((o,l,c)=>{if(o)throw o;l.ready(),c()}),n&&a.after(async(o,l,c)=>{if(o)throw o;await l.sdk.initializeApp(),c()}),a.onClose(()=>{console.log("close StreamLayer instance")}),a}function Bse(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JG={exports:{}},_n=JG.exports={},Ns,_s;function qA(){throw new Error("setTimeout has not been defined")}function e4(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Ns=setTimeout:Ns=qA}catch{Ns=qA}try{typeof clearTimeout=="function"?_s=clearTimeout:_s=e4}catch{_s=e4}})();function HG(t){if(Ns===setTimeout)return setTimeout(t,0);if((Ns===qA||!Ns)&&setTimeout)return Ns=setTimeout,setTimeout(t,0);try{return Ns(t,0)}catch{try{return Ns.call(null,t,0)}catch{return Ns.call(this,t,0)}}}function Wse(t){if(_s===clearTimeout)return clearTimeout(t);if((_s===e4||!_s)&&clearTimeout)return _s=clearTimeout,clearTimeout(t);try{return _s(t)}catch{try{return _s.call(null,t)}catch{return _s.call(this,t)}}}var Da=[],Lu=!1,Bl,sm=-1;function Gse(){!Lu||!Bl||(Lu=!1,Bl.length?Da=Bl.concat(Da):sm=-1,Da.length&&QG())}function QG(){if(!Lu){var t=HG(Gse);Lu=!0;for(var e=Da.length;e;){for(Bl=Da,Da=[];++sm<e;)Bl&&Bl[sm].run();sm=-1,e=Da.length}Bl=null,Lu=!1,Wse(t)}}_n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Da.push(new qG(t,e)),Da.length===1&&!Lu&&HG(QG)};function qG(t,e){this.fun=t,this.array=e}qG.prototype.run=function(){this.fun.apply(null,this.array)};_n.title="browser";_n.browser=!0;_n.env={};_n.argv=[];_n.version="";_n.versions={};function co(){}_n.on=co;_n.addListener=co;_n.once=co;_n.off=co;_n.removeListener=co;_n.removeAllListeners=co;_n.emit=co;_n.prependListener=co;_n.prependOnceListener=co;_n.listeners=function(t){return[]};_n.binding=function(t){throw new Error("process.binding is not supported")};_n.cwd=function(){return"/"};_n.chdir=function(t){throw new Error("process.chdir is not supported")};_n.umask=function(){return 0};var Zse=JG.exports;const Dse=Bse(Zse),Ose=({sdkKey:t,plugins:e,production:n,autoEnable:i,onDeepLinkHandled:r,videoPlayerController:s,onContentActivate:a,hideFriends:o,skipOnboarding:l,withAdNotification:c,withAd:u,friendsTab:d,betPack:f,webOS:h})=>{const[m,p]=V.useState(null);return V.useEffect(()=>{let v=!1;if(!t)return console.error("streamlayer sdk key should be provided"),p(E=>(E!==null&&typeof E.disableApp=="function"&&E.disableApp(),null)),()=>{v=!0};const y=Use(t,n,i,{version:Dse.env.APP_VERSION,onDeepLinkHandled:r,videoPlayerController:s,onContentActivate:a,skipOnboarding:l,withAdNotification:c,withAd:u,hideFriends:o,friendsTab:d,betPack:f,webOS:h});if(e)for(const E of e)y.use(E);return y.ready().then(E=>{v||(p(E.sdk),typeof window<"u")}).catch(E=>console.log(E)),()=>{v=!0,y.close(function(E){if(E)throw E})}},[t,n]),m},Io=({event:t,internal:e})=>{const n=vc(),i=Pse();return V.useEffect(()=>(n&&(t&&(n.createEventSession(t,e),i&&(i.current=t)),!t&&i!=null&&i.current&&(n.createEventSession("",e),i.current="")),()=>{n&&n.disableApp()}),[t,e,i,n]),null};var t4=(t=>(t[t.UNSET=0]="UNSET",t[t.CONNECTED=1]="CONNECTED",t[t.READY=2]="READY",t))(t4||{});const Xse={status:0,sdk:null},uc=V.createContext(Xse),Mse=({sdkKey:t,theme:e,themeMode:n,plugins:i,children:r,event:s,production:a=!0,autoEnable:o=!0,withAdNotification:l,withAd:c=!0,betPack:u=!1,hideFriends:d,skipOnboarding:f,friendsTab:h="enabled",onDeepLinkHandled:m,videoPlayerController:p,onContentActivate:v,containerId:y,webOS:E})=>{const S=Ose({sdkKey:t,plugins:i,production:a,autoEnable:o,onDeepLinkHandled:m,videoPlayerController:p,onContentActivate:v,hideFriends:d,skipOnboarding:f,withAdNotification:l,withAd:c,friendsTab:h,betPack:u,webOS:E}),I=V.useRef(""),w=V.useMemo(()=>S?{sdk:S,status:2,event:I}:{status:1,sdk:null,event:I},[S]);return V.useEffect(()=>{S&&(S.options.setKey("friendsTab",h),S.options.setKey("theme",e),S.options.setKey("themeMode",n),S.options.setKey("skipOnboarding",f),S.options.setKey("betPack",u),S.options.setKey("containerId",y))},[S,h,e,n,f,u,y]),V.useEffect(()=>()=>{m&&(S==null||S.removeDeepLinkHandler(m)),p&&(S==null||S.removeVideoPlayerController(p))},[S]),V.useEffect(()=>{localStorage.getItem("SL_DEBUG")&&console.log("StreamLayerProvider mounted with props:",{sdkKey:!!t,onDeepLinkHandled:!!m,videoPlayerController:!!p})},[t,m,p]),b.jsxs(uc.Provider,{value:w,children:[s!==void 0&&b.jsx(Io,{event:s}),r]})},vc=()=>{const{sdk:t}=V.useContext(uc);return t},Pse=()=>{const{event:t}=V.useContext(uc);return t},Fp=()=>{const{sdk:t}=V.useContext(uc),[e,n]=V.useState({});return V.useEffect(()=>{var i;return t!=null&&t.options?(i=t==null?void 0:t.options)==null?void 0:i.subscribe(r=>{n({theme:r.theme,themeMode:r.themeMode})}):()=>{}},[t==null?void 0:t.options]),e},Y2=()=>{const{sdk:t}=V.useContext(uc),[e,n]=V.useState({});return V.useEffect(()=>t!=null&&t.uiState?t==null?void 0:t.uiState.subscribe(i=>{n({...i})}):()=>{},[t==null?void 0:t.uiState]),e};var Yse=function(){const t=Array.prototype.slice.call(arguments).filter(Boolean),e={},n=[];t.forEach(r=>{(r?r.split(" "):[]).forEach(s=>{if(s.startsWith("atm_")){const[,a]=s.split("_");e[a]=s}else n.push(s)})});const i=[];for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&i.push(e[r]);return i.push(...n),i.join(" ")},Kt=Yse;const $se={BLUE_QUESTION_ACTION_BTN:"#1589ee",WHITE:"#FFFFFF",BLUE:"#2d6ffd",GREY_PRIMARY:"#909395",GREY_PRIMARY_ONBOARDING_INAPP:"#B5B7B8",PRIMARY_1:"#1D7BFF",PRIMARY_2:"#095CD1",PRIMARY_TEXT:"#090E13",SECONDARY_TEXT:"rgba(10, 14, 19, 0.70)",QUESTION_TYPE_ICON:"#1D7BFF",QUESTION_BODY_TEXT:"#090E13",PRESENTED_BY_TEXT:"#090E13",SUCCESS:"#107D57",UNSUCCESS:"#DF2F3B",SECONDARY_RED1:"#DF2F3B",NEUTRALS_WHITE:"#FFFFFF",NEUTRALS_WHITE1:"#FFFFFF",NEUTRALS_GRAY1:"#F7F7F7",NEUTRALS_GRAY2:"#F2F2F1",NEUTRALS_GRAY3:"#E8E8E8",NEUTRALS_GRAY4:"#D9D9D6",NEUTRALS_GRAY5:"#B1B3B3",NEUTRALS_GRAY6:"#888B8D",NEUTRALS_GRAY7:"#6B6F73",NEUTRALS_GRAY9:"#25282A",SDK_CONTAINER_BG:"#F7F7F7",SDK_WHITE_CONTAINER_BG:"#fff",SDK_DARK_CONTAINER_BG:"#fff",SDK_PREDICTION_RESULT_SUCCESS_BG:"#fff",SDK_PREDICTION_RESULT_INCORRECT_BG:"#fff",SDK_PREDICTION_RESULT_SUCCESS_TEXT:"#107D57",SDK_PREDICTION_RESULT_ERROR_TITLE:"#090E13",SDK_PREDICTION_RESULT_ERROR_SUBTITLE:"#DF2F3B",SDK_PREDICTION_RESULT_CLOSE_ICON:"#6B6F73",SDK_PREDICTION_FEEDBACK_SUCCESS_ICON:"#107D57",SDK_PREDICTION_FEEDBACK_INCORRECT_RECT1:"#CD2525",SDK_PREDICTION_FEEDBACK_INCORRECT_RECT2:"#fff",PREDICTION_BG_LINES_CORRECT:"#01AB58",PREDICTION_BG_LINES_INCORRECT:"#888B8D",SKELETON_COLOR_1:"#f1efef",SKELETON_COLOR_2:"#f9f8f8",TABS_CONTAINER_BG:"#F2F2F1",TABS_ACTIVE_BG:"#FFFFFF",TABS_COLOR:"#6B6F73",TABS_ACTIVE_COLOR:"#1D7BFF",CARD_BG:"#FFFFFF",CARD_BORDER:"#fff",BORDER:"#E8E8E8",VOTE_BTN_BG:"#F7F7F7",VOTE_BTN_BORDER:"rgb(232, 232, 232)",VOTE_BTN_DISABLED_BORDER:"#B1B3B3",VOTE_BTN_SELECTED_BORDER:"#25282A",VOTE_BTN_NOT_SELECTED_BORDER:"#E8E8E8",VOTE_BTN_SELECTED_BG:"#FFFFFF",VOTE_BTN_SELECTED_BG_AD_UNIT:"#FFFFFF",VOTE_BTN_NOT_SELECTED_BG:"#FFFFFF",VOTE_BTN_NOT_SELECTED_BG_UNSET:"rgb(196, 196, 196)",VOTED_ANSWER_BG:"#FFFFFF",VOTED_BTN_RCT_BG:"#2d5694",IN_APP_BG:"rgba(255, 255, 255, 0.90)",IN_APP_QUESTION_TYPE_ICON:"#1D7BFF",IN_APP_QUESTION_TYPE_LABEL:"#82899E",IN_APP_QUESTION_QUOTE:"rgba(10, 14, 19, 0.70)",IN_APP_QUESTION_RESULT_SUBTITLE_BG:"#1D7BFF",IN_APP_QUESTION_RESULT_LINE:"#babfc5",QUOTE_BORDER:"#E8E8E8",QUOTE_TEXT:"rgba(10, 14, 19, 0.70)"},jse={BG_PRIMARY:"#13212b",BG_SECONDARY:"#152430",BG_SECONDARY1:"#435059",BORDER_PRIMARY:"rgba(255, 255, 255, 0.1)",TEXT_PRIMARY:"#f9f9f9",TEXT_PRIMARY1:"#f9f9f9",TEXT_SECONDARY:"rgba(255, 255, 255, 0.8)",TEXT_SECONDARY1:"#878787",WHITE:"#fff"},Kse=["#107D57","#DF2F3B","#DF2F3B","#E8E8E8"],zse="#cee5de",Jse="#f9d6d8",Hse="#E8E8E8",Ya={xs:324,sm:576,md:768,lg:992,xl:1200,xxl:1440};Object.entries($se).reduce((t,[e,n])=>`
    ${t}
    --color-${e.toLowerCase().replaceAll("_","-")}: ${n};
  `,"");Object.entries(jse).reduce((t,[e,n])=>`
    ${t}
    --color-adv-${e.toLowerCase().replaceAll("_","-")}: ${n};
  `,"");function Qse(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var qse=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,J3=Qse(function(t){return qse.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),eae=t=>t.toUpperCase()===t,tae=t=>e=>t.indexOf(e)===-1,eZ=(t,e)=>{const n={};return Object.keys(t).filter(tae(e)).forEach(i=>{n[i]=t[i]}),n};function nae(t,e,n){const i=eZ(e,n);if(!t){const r=typeof J3=="function"?{default:J3}:J3;Object.keys(i).forEach(s=>{r.default(s)||delete i[s]})}return i}var iae=(t,e)=>{};function rae(t){let e="";return n=>{const i=(s,a)=>{const{as:o=t,class:l=e}=s,c=n.propsAsIs===void 0?!(typeof o=="string"&&o.indexOf("-")===-1&&!eae(o[0])):n.propsAsIs,u=nae(c,s,["as","class"]);u.ref=a,u.className=n.atomic?Kt(n.class,u.className||l):Kt(u.className||l,n.class);const{vars:d}=n;if(d){const f={};for(const p in d){const v=d[p],y=v[0],E=v[1]||"",S=typeof y=="function"?y(s):y;iae(S,n.name),f[`--${p}`]=`${S}${E}`}const h=u.style||{},m=Object.keys(h);m.length>0&&m.forEach(p=>{f[p]=h[p]}),u.style=f}return t.__wyw_meta&&t!==o?(u.as=o,Hn.createElement(t,u)):Hn.createElement(o,u)},r=Hn.forwardRef?Hn.forwardRef(i):s=>{const a=eZ(s,["innerRef"]);return i(a,s.innerRef)};return r.displayName=n.name,r.__wyw_meta={className:n.class||e,extends:t},r}}var _=rae,tZ={exports:{}},nZ={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md=Hn;function sae(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var aae=typeof Object.is=="function"?Object.is:sae,oae=md.useState,lae=md.useEffect,cae=md.useLayoutEffect,uae=md.useDebugValue;function dae(t,e){var n=e(),i=oae({inst:{value:n,getSnapshot:e}}),r=i[0].inst,s=i[1];return cae(function(){r.value=n,r.getSnapshot=e,H3(r)&&s({inst:r})},[t,n,e]),lae(function(){return H3(r)&&s({inst:r}),t(function(){H3(r)&&s({inst:r})})},[t]),uae(n),n}function H3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!aae(t,n)}catch{return!0}}function hae(t,e){return e()}var fae=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?hae:dae;nZ.useSyncExternalStore=md.useSyncExternalStore!==void 0?md.useSyncExternalStore:fae;tZ.exports=nZ;var pae=tZ.exports;const Q3=(t,e)=>n=>{t.current!==n&&(t.current=n,e())};function mae(t,{keys:e,deps:n=[t,e]}={}){const i=Hn.useRef();i.current=t.get();const r=Hn.useCallback(a=>(Q3(i,a)(t.value),(e==null?void 0:e.length)>0?IH(t,e,Q3(i,a)):t.listen(Q3(i,a))),n),s=()=>i.current;return Hn.useSyncExternalStore?Hn.useSyncExternalStore(r,s,s):pae.useSyncExternalStore(r,s,s)}const ct=mae,gae=()=>[!1,t=>{window.requestAnimationFrame(()=>t())}],yae=Hn.useTransition||gae;var zo;(function(t){t[t.ONBOARDING=1]="ONBOARDING",t[t.QUESTION=2]="QUESTION",t[t.QUESTION_RESOLVED=3]="QUESTION_RESOLVED"})(zo||(zo={}));const Jh="StreamLayerCSSReset",bae="ttkj0ah",Lp=({children:t,customTheme:e,themeMode:n,style:i})=>b.jsx("div",{className:"StreamLayerSDKTheme",children:b.jsx("div",{className:Kt(bae,n,e),style:i,children:t})}),vae="modulepreload",Eae=function(t,e){return new URL(t,e).href},_7={},oT=function(e,n,i){let r=Promise.resolve();if(n&&n.length>0){const a=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));r=Promise.allSettled(n.map(c=>{if(c=Eae(c,i),c in _7)return;_7[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(!!i)for(let m=a.length-1;m>=0;m--){const p=a[m];if(p.href===c&&(!u||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":vae,u||(h.as="script"),h.crossOrigin="",h.href=c,l&&h.setAttribute("nonce",l),document.head.appendChild(h),u)return new Promise((m,p)=>{h.addEventListener("load",m),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return r.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},iZ=_("div")({name:"Container",class:"cqg02m",propsAsIs:!1}),pr=({children:t,style:e,loading:n})=>n?b.jsx(iZ,{style:e,children:t}):t,Aae=t=>V.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{d:"M8 4L16 12L8 20",stroke:"#6B6F73",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),Sae=t=>V.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"check"},V.createElement("path",{id:"Vector",d:"M4 13L9 18L20 6",stroke:"#107D57",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}))),Tae=t=>V.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{d:"M10 6L16 12L10 18",stroke:"white",style:{stroke:"white",strokeOpacity:1},strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),Rae=t=>V.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("rect",{width:16,height:16,rx:8,fill:"#CD2525"}),V.createElement("rect",{x:5.5,y:4.66669,width:8.24958,height:1.17851,rx:.589256,transform:"rotate(45 5.5 4.66669)",fill:"white"}),V.createElement("rect",{x:4.66669,y:10.5,width:8.24958,height:1.17851,rx:.589256,transform:"rotate(-45 4.66669 10.5)",fill:"white"})),Cae=t=>V.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("rect",{width:48,height:48,rx:24,fill:"#00BD60"}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.3147 13.052C37.8383 13.5019 37.898 14.2912 37.448 14.8147L20.2605 34.8147C20.0292 35.0839 19.6944 35.2421 19.3395 35.2497C18.9847 35.2574 18.6433 35.1139 18.4006 34.8549L10.5881 26.5216C10.1159 26.018 10.1414 25.2269 10.6451 24.7548C11.1487 24.2826 11.9398 24.3081 12.4119 24.8118L19.2721 32.1292L35.552 13.1853C36.0019 12.6617 36.7911 12.602 37.3147 13.052Z",fill:"white"})),Iae=t=>V.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Frame 3469478"},V.createElement("path",{id:"Vector 4",d:"M1.62695 1.62598L10.3742 10.3745",stroke:"#6B6F73",strokeWidth:1.5,strokeLinecap:"round"}),V.createElement("path",{id:"Vector 5",d:"M1.62695 10.376L10.3742 1.62746",stroke:"#6B6F73",strokeWidth:1.5,strokeLinecap:"round"}))),wae=t=>V.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("rect",{x:.56009,y:2.8074,width:16.55,height:16.55,rx:2.14375,transform:"rotate(-7.80777 0.56009 2.8074)",stroke:"#006747",style:{stroke:"#006747",stroke:"color(display-p3 0.0000 0.4039 0.2784)",strokeOpacity:1},strokeWidth:1.4}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.62237 4.17188C10.5053 4.17188 11.2837 4.37793 11.8733 4.76716L11.8732 4.76718C12.5572 5.21938 12.9636 5.89049 13.0796 6.75908C13.2656 8.14856 12.2625 9.08727 11.5284 9.77271C11.2207 10.0589 10.956 10.3079 10.8501 10.5183C10.7752 10.6652 10.7366 10.8269 10.6992 10.9839C10.698 10.989 10.6967 10.994 10.6955 10.9991L10.6952 11.0004C10.5952 11.4278 10.4915 11.8706 9.72822 11.9721C9.67385 11.9793 9.6209 11.9821 9.56938 11.9821C9.28746 11.9821 9.03705 11.8777 8.84673 11.6788C8.67931 11.5056 8.56912 11.2738 8.53621 11.0234C8.40767 10.0551 9.08301 9.37328 9.68028 8.77031L9.68384 8.76671C10.2176 8.23011 10.7199 7.72213 10.6354 7.08534C10.5496 6.43425 10.1275 6.07652 9.44917 6.07652C9.35902 6.07652 9.26601 6.08367 9.1687 6.09655C8.22588 6.22243 8.06263 6.74456 7.88952 7.29821L7.88941 7.29854C7.73775 7.78506 7.58034 8.28732 6.85055 8.38463C6.79188 8.39178 6.73178 8.39608 6.6731 8.39608C6.1279 8.39608 5.72868 8.05407 5.65856 7.52462C5.56127 6.80772 5.86319 6.0307 6.48137 5.39534C7.0924 4.77002 7.94814 4.34216 8.8296 4.22482C9.09577 4.19048 9.36193 4.17188 9.62237 4.17188ZM9.88998 12.7224C9.94722 12.7152 10.0059 12.7109 10.0631 12.7109C10.7228 12.7109 11.2866 13.2032 11.3753 13.8586C11.4697 14.5812 10.9618 15.2466 10.2391 15.3439C10.1804 15.3511 10.1218 15.3554 10.0645 15.3554C9.40485 15.3554 8.84107 14.8617 8.75378 14.2077C8.65791 13.4851 9.16732 12.8197 9.88998 12.7224Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}})),xae=t=>V.createElement("svg",{width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("rect",{x:1,y:.5,width:23,height:23,rx:11.5,stroke:"#B1B3B3"}),V.createElement("path",{d:"M13.833 8L9.83301 12L13.833 16",stroke:"#B1B3B3",strokeLinecap:"round",strokeLinejoin:"round"})),Vae=t=>V.createElement("svg",{width:25,height:25,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Icon"},V.createElement("path",{id:"Icon_2",d:"M10.5 6.39844L16.5 12.3984L10.5 18.3984",stroke:"white",style:{stroke:"white",strokeOpacity:1},strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}))),Nae=t=>V.createElement("svg",{width:64,height:65,viewBox:"0 0 64 65",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{d:"M43.852 8.90765C40.2818 7.13339 36.2575 6.13574 32.0002 6.13574C17.2726 6.13574 5.3335 18.0748 5.3335 32.8024C5.3335 47.53 17.2726 59.4691 32.0002 59.4691C46.7278 59.4691 58.6668 47.53 58.6668 32.8024C58.6668 31.8009 58.6116 30.8123 58.5041 29.8394M24.0002 30.1357L32.0002 38.1357L58.6668 11.4691",stroke:"#107D57",strokeWidth:2.5,strokeLinecap:"round",strokeLinejoin:"round"})),_ae=t=>V.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{id:"Selected",fillRule:"evenodd",clipRule:"evenodd",d:"M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM11.6057 5.43441C11.2933 5.12199 10.7868 5.12199 10.4744 5.43441L6.93812 9.97066L5.08382 8.73446C4.7162 8.48938 4.2195 8.58871 3.97442 8.95634C3.72934 9.32396 3.82868 9.82065 4.1963 10.0657L6.5963 11.6657C6.9136 11.8773 7.33609 11.8354 7.60574 11.5658L11.6057 6.56578C11.9182 6.25336 11.9182 5.74683 11.6057 5.43441Z",fill:"#107D57"})),kae=t=>V.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Checkmark"},V.createElement("path",{id:"Selected",fillRule:"evenodd",clipRule:"evenodd",d:"M24 12.002C24 18.6294 18.6274 24.002 12 24.002C5.37258 24.002 0 18.6294 0 12.002C0 5.37454 5.37258 0.00195312 12 0.00195312C18.6274 0.00195312 24 5.37454 24 12.002ZM17.4086 8.15357C16.94 7.68494 16.1802 7.68494 15.7116 8.15357L10.4072 14.9579L7.62573 13.1036C7.07429 12.736 6.32925 12.885 5.96163 13.4365C5.59401 13.9879 5.74301 14.7329 6.29445 15.1006L9.89445 17.5006C10.3704 17.8179 11.0041 17.7551 11.4086 17.3506L17.4086 9.85063C17.8772 9.382 17.8772 8.6222 17.4086 8.15357Z",fill:"#FFFFFF"}))),Fae=t=>V.createElement("svg",{width:12,height:20,viewBox:"0 0 12 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{id:"Icon / chevron.left",d:"M0 10C0 10.3818 0.145996 10.7075 0.449219 10.9995L9.20898 19.5684C9.44482 19.8154 9.75928 19.939 10.1187 19.939C10.8486 19.939 11.4214 19.3774 11.4214 18.6362C11.4214 18.2769 11.2754 17.9512 11.0283 17.7041L3.1333 10L11.0283 2.2959C11.2754 2.0376 11.4214 1.71191 11.4214 1.35254C11.4214 0.622559 10.8486 0.0610352 10.1187 0.0610352C9.75928 0.0610352 9.44482 0.18457 9.20898 0.431641L0.449219 9.00049C0.145996 9.29248 0.0112305 9.61816 0 10Z",fill:"white",fillOpacity:.6})),Lae=t=>V.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Chevron"},V.createElement("path",{id:"Chevron_2",d:"M6 11.999C6 12.1725 6.03134 12.334 6.09401 12.4837C6.15669 12.6334 6.25428 12.7756 6.3868 12.9103L14.0436 20.6565C14.2648 20.8855 14.5323 21 14.8459 21C15.0607 21 15.2544 20.9475 15.4271 20.8426C15.5998 20.7377 15.7384 20.5965 15.8431 20.4191C15.9477 20.2416 16 20.0425 16 19.8217C16 19.4989 15.8816 19.2134 15.6448 18.9654L8.74183 11.9971L15.6448 5.03271C15.8816 4.78709 16 4.5023 16 4.17834C16 3.95749 15.9477 3.75835 15.8431 3.58091C15.7384 3.40347 15.5998 3.26229 15.4271 3.15738C15.2544 3.05246 15.0607 3 14.8459 3C14.5323 3 14.2648 3.11169 14.0436 3.33508L6.3868 11.0878C6.25551 11.2225 6.15853 11.3644 6.09586 11.5134C6.03318 11.6625 6.00123 11.8244 6 11.999Z",fill:"white"}))),Uae=t=>V.createElement("svg",{width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Chevron"},V.createElement("path",{id:"Chevron_2",d:"M12 8.17222C12 8.28783 11.9781 8.39553 11.9342 8.49533C11.8903 8.59513 11.822 8.68992 11.7292 8.7797L6.36949 13.9439C6.21462 14.0965 6.02742 14.1729 5.80787 14.1729C5.65752 14.1729 5.52191 14.1379 5.40104 14.0679C5.28016 13.998 5.1831 13.9039 5.10986 13.7856C5.03662 13.6673 5 13.5345 5 13.3873C5 13.1721 5.08288 12.9818 5.24863 12.8164L10.0807 8.17095L5.24863 3.52799C5.08288 3.36425 5 3.17439 5 2.95841C5 2.81118 5.03662 2.67842 5.10986 2.56013C5.1831 2.44183 5.28016 2.34771 5.40104 2.27777C5.52191 2.20782 5.65752 2.17285 5.80787 2.17285C6.02742 2.17285 6.21462 2.24731 6.36949 2.39624L11.7292 7.56473C11.8211 7.65451 11.889 7.74909 11.9329 7.84846C11.9768 7.94784 11.9991 8.05576 12 8.17222Z",fill:"#FFFFFF"}))),Bae=t=>V.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 -2.43189e-06C18.6274 -2.72158e-06 24 5.37258 24 12C24 18.6274 18.6274 24 12 24C5.37258 24 8.1423e-07 18.6274 5.24537e-07 12C2.34843e-07 5.37258 5.37258 -2.14219e-06 12 -2.43189e-06ZM11.9999 22.5883C17.8476 22.5883 22.5881 17.8478 22.5881 12.0001C22.5881 6.15238 17.8476 1.41187 11.9999 1.41187C6.15217 1.41187 1.41166 6.15239 1.41166 12.0001C1.41166 17.8478 6.15217 22.5883 11.9999 22.5883Z",fill:"white"}),V.createElement("path",{d:"M10.8547 7.5429C10.524 7.23657 10.0131 7.23657 9.68243 7.5429C9.31416 7.88401 9.31384 8.46633 9.68174 8.80784L13.1206 12L9.68175 15.1922C9.31384 15.5337 9.31416 16.116 9.68243 16.4571C10.0131 16.7634 10.524 16.7634 10.8547 16.4571L14.9802 12.6358C15.3505 12.2928 15.3505 11.7072 14.9802 11.3642L10.8547 7.5429Z",fill:"white"})),Wae=t=>V.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{d:"M1.62695 1.62598L10.3742 10.3745",stroke:"#6B6F73",strokeWidth:1.5,strokeLinecap:"round"}),V.createElement("path",{d:"M1.62695 10.376L10.3742 1.62746",stroke:"#6B6F73",strokeWidth:1.5,strokeLinecap:"round"})),Gae=t=>V.createElement("svg",{width:10,height:10,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Group 465"},V.createElement("rect",{id:"Rectangle 368",x:1.25,width:12.3744,height:1.76777,rx:.883884,transform:"rotate(45 1.25 0)",fill:"white"}),V.createElement("rect",{id:"Rectangle 369",y:8.75,width:12.3744,height:1.76777,rx:.883884,transform:"rotate(-45 0 8.75)",fill:"white"}))),Zae=t=>V.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("rect",{y:.00195312,width:24,height:24,rx:12,fill:"#F80022"}),V.createElement("rect",{x:8.25,y:7.00195,width:12.3744,height:1.76777,rx:.883884,transform:"rotate(45 8.25 7.00195)",fill:"white"}),V.createElement("rect",{x:7,y:15.752,width:12.3744,height:1.76777,rx:.883884,transform:"rotate(-45 7 15.752)",fill:"white"})),Dae=t=>V.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Frame"},V.createElement("path",{id:"Vector",d:"M5.79479 6.80154C5.5243 6.53492 5.11861 6.53492 4.84812 6.80154C4.57768 7.06812 4.57768 7.46803 4.84812 7.73465L7.62043 10.6673C7.75567 10.8006 7.95852 10.8672 8.09376 10.8672C8.29661 10.8672 8.49945 10.8006 8.5671 10.6007L15.1936 2.40258C15.3964 2.13598 15.3964 1.66942 15.0583 1.46947C14.8555 1.26951 14.4498 1.26951 14.1793 1.60277L12.827 3.26904C11.6099 2.06932 9.85181 1.33616 8.09376 1.33616C4.37481 1.33616 1.33203 4.33546 1.33203 8.00128C1.33203 11.6671 4.37481 14.6663 8.09376 14.6663C11.8127 14.6663 14.8555 11.6671 14.8555 8.00128C14.8555 7.40141 14.7879 6.80154 14.5851 6.20168C14.4498 5.86843 14.1117 5.66848 13.7736 5.73514C13.4355 5.80176 13.2327 6.20168 13.3003 6.53492C13.4355 7.0015 13.5031 7.5347 13.5031 8.00128C13.5031 10.9339 11.0689 13.3333 8.09376 13.3333C5.11861 13.3333 2.68438 10.9339 2.68438 8.00128C2.68438 5.06861 5.11861 2.66918 8.09376 2.66918C9.58136 2.66918 10.9337 3.26904 12.0156 4.33546L8.09376 9.20096L5.79479 6.80154Z",fill:"white"}))),Oae=t=>V.createElement("svg",{width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{d:"M15.8 22.0002H6C4 22.0002 2.5 20.5002 2.5 18.5002V8.7002C2.5 6.8002 4 5.2002 6 5.2002H15.8C17.7 5.2002 19.3 6.7002 19.3 8.7002V18.5002C19.2 20.5002 17.7 22.0002 15.8 22.0002ZM6 7.3002C5.2 7.3002 4.5 7.9002 4.5 8.7002V18.5002C4.5 19.3002 5.2 20.0002 6 20.0002H15.8C16.6 20.0002 17.3 19.3002 17.3 18.5002V8.7002C17.3 7.9002 16.6 7.2002 15.8 7.2002H6V7.3002Z",fill:"#107D57"}),V.createElement("path",{d:"M21.5016 17.9C20.9016 17.9 20.5016 17.5 20.5016 16.9V6.3C20.5016 5 19.5016 4 18.2016 4H7.60157C7.00156 4 6.60156 3.6 6.60156 3C6.60156 2.4 7.00156 2 7.60157 2H18.2016C20.6016 2 22.5016 3.9 22.5016 6.3V16.9C22.5016 17.5 22.1016 17.9 21.5016 17.9Z",fill:"#107D57"})),Xae=t=>V.createElement("svg",{width:35,height:35,viewBox:"0 0 35 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Features"},V.createElement("path",{id:"Icon",d:"M29.481 9.15331H24.5286V8.57275C24.5286 8.25228 24.282 7.99219 23.9783 7.99219H10.7717C10.468 7.99219 10.2215 8.25228 10.2215 8.57275V9.15331H5.26902C4.96527 9.15331 4.71875 9.4134 4.71875 9.73388V12.5945C4.71875 16.4366 7.68032 19.5612 11.322 19.5612C11.344 19.5612 11.3627 19.5508 11.3837 19.5484C12.3752 21.1508 13.9204 22.3491 15.7088 22.8205C15.6395 24.2719 15.2884 24.8688 14.2297 26.0183L13.9303 26.3411C12.416 27.9806 11.322 27.9511 11.322 29.2725C11.322 29.5929 11.5685 29.853 11.8723 29.853H22.8777C23.1815 29.853 23.428 29.5929 23.428 29.2725C23.428 27.9511 22.3341 27.9806 20.8197 26.3411L20.5215 26.0172C19.4628 24.8677 19.1117 24.2707 19.0423 22.8193C20.8307 22.3491 22.3759 21.1496 23.3675 19.5473C23.3873 19.5508 23.406 19.5612 23.428 19.5612C27.0697 19.5612 30.0313 16.4366 30.0313 12.5945V9.73388C30.0313 9.4134 29.7848 9.15331 29.481 9.15331ZM5.81929 12.5945V10.3144H10.2215V15.4973C10.2215 16.497 10.4196 17.4584 10.7717 18.342C7.99947 18.0459 5.81929 15.5971 5.81929 12.5945ZM28.9307 12.5945C28.9307 15.5971 26.7506 18.0459 23.9783 18.342C24.3305 17.4596 24.5286 16.4982 24.5286 15.4973V10.3144H28.9307V12.5945Z",fill:"white"}))),Mae=t=>V.createElement("svg",{width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"CarbonUserAvatar 1"},V.createElement("g",{id:"Group 232"},V.createElement("path",{id:"Vector",d:"M19.9992 14.2861C19.2928 14.2861 18.6023 14.4956 18.015 14.888C17.4277 15.2805 16.9699 15.8382 16.6996 16.4908C16.4293 17.1434 16.3586 17.8615 16.4964 18.5543C16.6342 19.2471 16.9743 19.8835 17.4738 20.3829C17.9733 20.8824 18.6096 21.2226 19.3024 21.3604C19.9952 21.4982 20.7133 21.4274 21.3659 21.1571C22.0185 20.8868 22.5763 20.4291 22.9687 19.8417C23.3611 19.2544 23.5706 18.5639 23.5706 17.8576C23.5706 16.9104 23.1943 16.002 22.5245 15.3322C21.8548 14.6624 20.9464 14.2861 19.9992 14.2861ZM19.9992 20.0004C19.5753 20.0004 19.161 19.8747 18.8087 19.6393C18.4563 19.4038 18.1816 19.0692 18.0194 18.6776C17.8572 18.286 17.8148 17.8552 17.8975 17.4395C17.9802 17.0238 18.1843 16.642 18.4839 16.3423C18.7836 16.0426 19.1654 15.8386 19.5811 15.7559C19.9968 15.6732 20.4276 15.7156 20.8192 15.8778C21.2108 16.04 21.5454 16.3147 21.7809 16.6671C22.0163 17.0194 22.142 17.4337 22.142 17.8576C22.1415 18.4257 21.9155 18.9704 21.5138 19.3722C21.112 19.7739 20.5673 19.9999 19.9992 20.0004Z",fill:"white"}),V.createElement("path",{id:"Vector_2",d:"M20 10C18.0222 10 16.0888 10.5865 14.4443 11.6853C12.7998 12.7841 11.5181 14.3459 10.7612 16.1732C10.0043 18.0004 9.8063 20.0111 10.1922 21.9509C10.578 23.8907 11.5304 25.6725 12.9289 27.0711C14.3275 28.4696 16.1093 29.422 18.0491 29.8078C19.9889 30.1937 21.9996 29.9957 23.8268 29.2388C25.6541 28.4819 27.2159 27.2002 28.3147 25.5557C29.4135 23.9112 30 21.9778 30 20C29.997 17.3488 28.9424 14.807 27.0677 12.9323C25.193 11.0576 22.6512 10.003 20 10ZM15.7143 27.4121V26.4286C15.7149 25.8604 15.9408 25.3157 16.3425 24.914C16.7443 24.5122 17.289 24.2863 17.8571 24.2857H22.1429C22.711 24.2863 23.2557 24.5122 23.6575 24.914C24.0592 25.3157 24.2851 25.8604 24.2857 26.4286V27.4121C22.9851 28.1716 21.5061 28.5718 20 28.5718C18.4939 28.5718 17.0149 28.1716 15.7143 27.4121ZM25.7086 26.3757C25.6943 25.4388 25.3126 24.545 24.6457 23.8868C23.9787 23.2287 23.0799 22.8589 22.1429 22.8571H17.8571C16.9201 22.8589 16.0213 23.2287 15.3544 23.8868C14.6874 24.545 14.3057 25.4388 14.2914 26.3757C12.9961 25.2191 12.0827 23.6963 11.672 22.009C11.2614 20.3218 11.3729 18.5495 11.9919 16.927C12.6108 15.3046 13.708 13.9083 15.1381 12.9233C16.5682 11.9382 18.2638 11.4107 20.0004 11.4107C21.7369 11.4107 23.4325 11.9382 24.8626 12.9233C26.2927 13.9083 27.3899 15.3046 28.0088 16.927C28.6278 18.5495 28.7393 20.3218 28.3287 22.009C27.9181 23.6963 27.0039 25.2191 25.7086 26.3757Z",fill:"white"})))),Pae=t=>V.createElement("svg",{width:12,height:13,viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Features"},V.createElement("g",{id:"Icon"},V.createElement("path",{d:"M6.2368 7.85018C6.38779 7.85018 6.49435 7.75233 6.50322 7.59222C6.76084 5.50185 6.85854 5.44848 8.99025 5.09267C9.15897 5.07488 9.25666 4.98592 9.25666 4.8347C9.25666 4.69238 9.15896 4.60343 9.0258 4.57675L8.93118 4.55875C6.87281 4.16737 6.75701 4.14535 6.50322 2.08609C6.49435 1.92597 6.38779 1.82812 6.2368 1.82812C6.10356 1.82812 5.99699 1.92597 5.98805 2.07719C5.71277 4.20315 5.64167 4.26541 3.46555 4.57675C3.3323 4.59454 3.23461 4.69238 3.23461 4.8347C3.23461 4.97703 3.3323 5.07488 3.46555 5.09267L3.53156 5.10562C5.64296 5.51968 5.70672 5.53218 5.98805 7.61001C5.99699 7.75233 6.10356 7.85018 6.2368 7.85018Z",fill:"white",style:{fill:"white",fillOpacity:1}}),V.createElement("path",{d:"M7.8622 11.3244C7.9435 11.3244 8.00088 11.2718 8.00566 11.1855C8.14438 10.06 8.19699 10.0312 9.34483 9.83963C9.43568 9.83005 9.48828 9.78216 9.48828 9.70073C9.48828 9.62409 9.43568 9.57619 9.36397 9.56183L9.31302 9.55214C8.20467 9.34139 8.14231 9.32954 8.00566 8.2207C8.00088 8.13449 7.9435 8.0818 7.8622 8.0818C7.79046 8.0818 7.73307 8.13449 7.72826 8.21591C7.58003 9.36066 7.54175 9.39419 6.36999 9.56183C6.29824 9.57141 6.24564 9.62409 6.24564 9.70073C6.24564 9.77736 6.29824 9.83005 6.36999 9.83963L6.40553 9.84661C7.54244 10.0696 7.57678 10.0763 7.72826 11.1951C7.73307 11.2718 7.79046 11.3244 7.8622 11.3244Z",fill:"white",style:{fill:"white",fillOpacity:1}}),V.createElement("path",{d:"M2.61901 7.53919C2.61628 7.58846 2.58349 7.61857 2.53703 7.61857C2.49604 7.61857 2.46325 7.58846 2.46049 7.54467C2.37393 6.90533 2.35431 6.90149 1.70465 6.77408L1.68434 6.7701C1.64334 6.76462 1.61328 6.73452 1.61328 6.69073C1.61328 6.64693 1.64334 6.61683 1.68434 6.61135C2.35392 6.51556 2.37579 6.4964 2.46049 5.84226C2.46325 5.79573 2.49604 5.76562 2.53703 5.76562C2.58349 5.76562 2.61628 5.79573 2.61901 5.845C2.6971 6.47862 2.73273 6.48539 3.36607 6.60582L3.39519 6.61135C3.43616 6.61956 3.46622 6.64693 3.46622 6.69073C3.46622 6.73725 3.43616 6.76462 3.38425 6.7701C2.72834 6.87958 2.69828 6.896 2.61901 7.53919Z",fill:"white",style:{fill:"white",fillOpacity:1}})))),Yae=t=>V.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("rect",{width:24,height:24,rx:12,fill:"white",fillOpacity:.1}),V.createElement("rect",{x:8.25,y:7,width:12.3744,height:1.76777,rx:.883884,transform:"rotate(45 8.25 7)",fill:"white"}),V.createElement("rect",{x:7,y:15.75,width:12.3744,height:1.76777,rx:.883884,transform:"rotate(-45 7 15.75)",fill:"white"})),$ae=t=>V.createElement("svg",{width:17,height:17,viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{d:"M9.16683 2.66671H7.16683C5.29999 2.66671 4.36657 2.66671 3.65353 3.03002C3.02632 3.3496 2.51639 3.85953 2.19681 4.48674C1.8335 5.19978 1.8335 6.1332 1.8335 8.00004V9.33337C1.8335 11.2002 1.8335 12.1336 2.19681 12.8467C2.51639 13.4739 3.02632 13.9838 3.65353 14.3034C4.36657 14.6667 5.29999 14.6667 7.16683 14.6667H8.50016C10.367 14.6667 11.3004 14.6667 12.0135 14.3034C12.6407 13.9838 13.1506 13.4739 13.4702 12.8467C13.8335 12.1336 13.8335 11.2002 13.8335 9.33337V7.33337M8.50016 8.00004L15.1668 1.33337M15.1668 1.33337H11.8335M15.1668 1.33337V4.66671",stroke:"#107D57",strokeLinecap:"round",strokeLinejoin:"round"})),jae=t=>V.createElement("svg",{width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("rect",{width:32,height:32,rx:16,fill:"white"}),V.createElement("path",{d:"M10.4615 12.6875C9.44231 12.6875 8.61538 13.4665 8.61538 14.4266C8.61538 15.3868 9.44231 16.1658 10.4615 16.1658C11.4808 16.1658 12.3077 15.3868 12.3077 14.4266C12.3077 13.4665 11.4808 12.6875 10.4615 12.6875ZM10.4615 16.1658C9.10817 16.1658 8 17.2097 8 18.4846V19.7527C8 19.7527 8.61538 20.2237 10.4615 20.2237C12.3077 20.2237 12.9231 19.7527 12.9231 19.7527V18.4846C12.9231 17.2097 11.8149 16.1658 10.4615 16.1658ZM21.5385 12.6875C20.5192 12.6875 19.6923 13.4665 19.6923 14.4266C19.6923 15.3868 20.5192 16.1658 21.5385 16.1658C22.5577 16.1658 23.3846 15.3868 23.3846 14.4266C23.3846 13.4665 22.5577 12.6875 21.5385 12.6875ZM21.5385 16.1658C20.1851 16.1658 19.0769 17.2097 19.0769 18.4846V19.7527C19.0769 19.7527 19.6923 20.2237 21.5385 20.2237C23.3846 20.2237 24 19.7527 24 19.7527V18.4846C24 17.2097 22.8918 16.1658 21.5385 16.1658ZM16 15.0063C14.9808 15.0063 14.1538 15.7853 14.1538 16.7455C14.1538 17.7056 14.9808 18.4846 16 18.4846C17.0192 18.4846 17.8462 17.7056 17.8462 16.7455C17.8462 15.7853 17.0192 15.0063 16 15.0063ZM16 18.4846C14.6466 18.4846 13.5385 19.5285 13.5385 20.8034V22.0715C13.5385 22.0715 14.1538 22.5425 16 22.5425C17.8462 22.5425 18.4615 22.0715 18.4615 22.0715V20.8034C18.4615 19.5285 17.3534 18.4846 16 18.4846Z",fill:"#107D57"}),V.createElement("path",{opacity:.5,d:"M13.3908 9C12.3103 9 11.4336 9.82584 11.4336 10.8437C11.4336 11.8616 12.3103 12.6875 13.3908 12.6875C14.4713 12.6875 15.348 11.8616 15.348 10.8437C15.348 9.82584 14.4713 9 13.3908 9ZM13.3908 12.6875C13.1946 12.6875 12.9958 12.6827 12.7996 12.7451C13.192 13.2372 13.3908 13.8542 13.3908 14.5312C13.3908 14.7761 13.3296 15.0161 13.3296 15.261C13.8521 14.524 14.6956 14.0391 15.6742 13.9166C15.218 13.1796 14.3694 12.6875 13.3908 12.6875ZM18.61 9C17.5295 9 16.6528 9.82584 16.6528 10.8437C16.6528 11.8616 17.5295 12.6875 18.61 12.6875C19.6905 12.6875 20.5672 11.8616 20.5672 10.8437C20.5672 9.82584 19.6905 9 18.61 9ZM18.61 12.6875C17.6314 12.6875 16.7828 13.1796 16.3266 13.9166C17.3052 14.0391 18.1487 14.524 18.6712 15.261C18.6712 15.0161 18.61 14.7761 18.61 14.5312C18.61 13.8542 18.8088 13.2372 19.2012 12.7451C19.005 12.6827 18.8062 12.6875 18.61 12.6875Z",fill:"#107D57"})),Kae=t=>V.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Share"},V.createElement("path",{id:"Vector",d:"M11 4.965V1.125L18 7.845L11 14.565V10.629C6 10.629 2.5 12.165 0 15.525C1 10.725 4 5.925 11 4.965Z",fill:"white"}))),zae=t=>V.createElement("svg",{width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"sc-ANdsN kTVWJE",...t},V.createElement("path",{d:"M6.6665 3.16669H4.99984C4.26346 3.16669 3.6665 3.76364 3.6665 4.50002V11.5C3.6665 12.2364 4.26346 12.8334 4.99984 12.8334H11.9998C12.7362 12.8334 13.3332 12.2364 13.3332 11.5V9.83335",stroke:"#ffffff",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),V.createElement("path",{d:"M13.3335 6.16669V3.16669H10.3335",stroke:"#ffffff",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),V.createElement("path",{d:"M13.1668 3.33331L8.3335 8.16665",stroke:"#ffffff",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),Jae=t=>V.createElement("svg",{width:17,height:18,viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Group"},V.createElement("path",{id:"Vector",d:"M12.5396 12.431L15.8603 9.00169L12.5396 5.57239",stroke:"#EB5757",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),V.createElement("path",{id:"Vector_2",d:"M15.8602 9.00159H5.57227",stroke:"#EB5757",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),V.createElement("path",{id:"Vector_3",d:"M12.431 1L3.2862 1.00229C2.02422 1.00343 1 2.02651 1 3.28849V14.7138C1 15.3201 1.24087 15.9016 1.66961 16.3304C2.09836 16.7591 2.67987 17 3.2862 17H12.5396",stroke:"#EB5757",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}))),Hae=t=>V.createElement("svg",{width:99,height:96,viewBox:"0 0 99 96",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Masters Logo Big"},V.createElement("path",{id:"Vector",d:"M67.4732 4.82378C66.1754 4.41151 64.8776 5.1433 63.5798 5.88539C63.117 6.15337 62.7951 6.60687 62.6844 7.13253L60.6421 16.9035C60.5616 17.2642 60.8836 17.594 61.2357 17.5116C63.3786 17.0065 65.4208 15.0894 67.5738 15.7594C69.9783 16.5118 72.3928 13.3888 74.7972 13.43V2.1543C72.3626 2.1646 69.8776 5.57618 67.4732 4.82378Z",fill:"white"}),V.createElement("path",{id:"Vector_2",d:"M98.1678 34.7754C97.6547 34.4147 97.3429 33.8272 97.3429 33.1882V31.4051C97.3429 29.8075 96.0752 28.5089 94.5159 28.5089H93.3891C92.041 28.5089 90.8035 29.1994 90.0691 30.3538L86.4272 36.1153C86.065 36.6822 85.4514 37.0223 84.7974 37.0223H82.3427C81.1253 37.0223 80.0086 37.7026 79.4251 38.8054C78.8215 39.9392 77.7752 40.7225 76.5679 40.9905V0.917313C76.5679 0.412276 76.1756 0 75.6726 0C75.1796 0 74.7772 0.412276 74.7772 0.917313V2.15414V13.4196V41.0111C73.5699 40.7431 72.5236 39.9598 71.92 38.8261C71.3465 37.7232 70.2298 37.043 69.0125 37.043H67.3626C66.0547 37.043 64.8676 37.8366 64.3344 39.0528L62.9661 42.2067C62.7448 42.7014 62.2619 43.0313 61.7287 43.0313C61.1955 43.0313 60.7126 42.7118 60.4913 42.2067L59.123 39.0528C58.5898 37.8263 57.4027 37.0327 56.0948 37.0327H9.52479C9.14249 37.0327 8.84068 37.3419 8.84068 37.7335C8.84068 38.5478 8.18674 39.2177 7.39196 39.2177H5.37986C4.99757 39.2177 4.69575 39.5269 4.69575 39.9186V42.3098C4.69575 44.5567 4.26315 46.7624 3.42813 48.834L2.20075 51.8643C1.05385 54.6884 0.510584 57.5846 0.520645 60.4396V67.4071C0.520645 69.2932 0.782218 71.1897 1.31542 73.0449C2.81444 78.2396 6.20483 82.4963 10.893 85.0215L18.3378 89.0412C18.4384 89.0928 18.539 89.1237 18.6497 89.1237L24.1528 89.1649C25.4405 89.1752 26.7081 89.5153 27.8248 90.1544L30.7826 91.8447C30.8832 91.9065 30.9939 91.9375 31.1146 91.9375H35.0684C36.4567 91.9375 37.825 92.3291 39.0121 93.0609C39.0121 93.0609 40.9437 94.2668 41.5977 94.6585C42.6439 95.2872 43.9116 95.885 46.1148 95.9984C46.6178 96.019 47.1108 95.8438 47.483 95.483C47.8553 95.1223 48.0666 94.6172 48.0666 94.0916V91.3809C48.0666 89.4123 49.2034 87.6292 50.964 86.8355L57.0003 84.1145C57.8252 83.7435 58.7508 83.6816 59.6059 83.9496L61.8595 84.6402C62.8152 84.9288 63.8313 84.9391 64.7972 84.6402L70.1493 83.0117C70.8636 82.7952 71.6081 82.7952 72.3325 83.022L74.5055 83.6507C75.5216 83.9496 76.2259 84.8979 76.2259 85.9801V91.4118C76.2259 93.937 78.238 95.9984 80.7028 95.9984C82.5439 95.9984 84.1636 94.7822 84.7169 92.9888C85.723 89.7421 86.2361 86.3614 86.2361 82.9499V80.6411C86.2361 79.0023 86.9001 77.415 88.0671 76.2916L90.2905 74.1375C91.7895 72.6739 92.6547 70.6228 92.6547 68.4996V55.616C92.6547 53.6164 93.2382 51.6994 94.3549 50.0606C94.4354 49.9472 94.4756 49.8029 94.4756 49.6586V46.6284C94.4756 44.6494 95.0591 42.7324 96.1557 41.1039L98.359 37.8263C98.4395 37.7129 98.4797 37.5686 98.4797 37.4346V35.3732C98.4797 34.9713 98.2584 34.8373 98.1678 34.7754ZM74.7872 69.2211C73.2882 68.9943 72.1816 68.2007 72.1816 67.2628C72.1816 66.3248 73.2882 65.5312 74.7872 65.3045V69.2211ZM76.5679 65.2941C78.0669 65.5209 79.1736 66.3145 79.1736 67.2525C79.1736 68.1904 78.0669 68.984 76.5679 69.2108V65.2941ZM12.6637 84.3928L11.5268 83.7847C8.45838 82.1356 6.00362 79.6619 4.32351 76.673V72.9109C6.24507 75.7556 8.85074 78.1881 12.05 79.9093L12.6637 80.2391V84.3928ZM18.3478 87.4643L15.3398 85.8461V81.6924L18.3378 83.3106H18.3478V87.4643ZM30.8832 90.2987L28.4989 88.9382C27.2011 88.1961 25.7322 87.7941 24.2534 87.7735V83.4343C25.5009 83.4652 26.7383 83.795 27.8349 84.4237L30.7927 86.1141C30.8229 86.1347 30.853 86.1244 30.8832 86.1347V90.2987ZM46.6983 91.3706V93.4835V94.0813C46.6983 94.2256 46.638 94.3596 46.5474 94.4523C46.4468 94.5451 46.3261 94.5966 46.1953 94.5863C44.2939 94.4833 43.1973 93.9782 42.3019 93.432C41.658 93.0403 39.7365 91.8447 39.7264 91.8447C38.5191 91.1026 37.161 90.68 35.7626 90.577V86.2377C36.9095 86.3408 38.0262 86.7016 39.0222 87.3097L40.6821 88.33C42.5031 89.4535 44.5756 90.0925 46.6983 90.2059V91.3706ZM63.1372 83.4446C62.8354 83.424 62.5436 83.3827 62.2519 83.3003L59.9983 82.6097C59.5154 82.4654 59.0124 82.4036 58.5194 82.4036V78.0644C58.8816 78.0644 59.2538 78.1056 59.6059 78.2087L61.8595 78.8992C62.272 79.0229 62.7046 79.0848 63.1372 79.1054V83.4446ZM77.2923 84.4959C76.8597 83.4549 75.9945 82.62 74.8878 82.3005L72.7248 81.6718C72.2117 81.5069 71.6785 81.445 71.1453 81.4554V77.1265C71.5578 77.1161 71.9703 77.1677 72.3727 77.3017L74.1534 77.8789C76.0347 78.487 77.3024 80.2494 77.3024 82.2696V84.4959H77.2923ZM83.5197 92.1848C83.4795 92.3085 83.4594 92.4322 83.4191 92.5559C83.0368 93.7721 81.9503 94.5863 80.7028 94.5863C80.5921 94.5863 80.4815 94.5657 80.3708 94.5554V90.2265C80.4513 90.2368 80.5318 90.2471 80.6223 90.2471C81.8396 90.2471 82.9362 89.5463 83.5197 88.495V92.1848ZM95.1799 38.0118C93.8217 40.032 93.1074 42.4025 93.1074 44.8556V46.9994L92.051 48.5661C90.6828 50.5965 89.9484 52.9774 89.9484 55.4408V66.2218C89.9484 67.9739 89.2442 69.6643 88.0067 70.8702L85.7834 73.0346C84.2944 74.4879 83.4694 76.539 83.5298 78.6519L83.5399 79.1363C83.6203 81.9398 83.2682 84.7226 82.5137 87.4127C82.2722 88.2682 81.4976 88.866 80.6223 88.866C79.5358 88.866 78.6605 87.959 78.6605 86.8562V82.2696C78.6605 79.631 77.0106 77.3326 74.5558 76.539L72.7751 75.9618C71.7892 75.6423 70.753 75.6423 69.767 75.9412L64.4149 77.5697C63.7106 77.7861 62.9661 77.7861 62.2519 77.5697L59.9983 76.8791C58.8313 76.5183 57.5637 76.6008 56.4469 77.1058L51.6883 79.2497C48.6501 80.6102 46.6883 83.6919 46.6883 87.0932V88.8454C44.817 88.732 42.986 88.1548 41.3763 87.1654L39.7163 86.145C38.3079 85.2792 36.7083 84.8257 35.0684 84.8257H31.3058L28.5089 83.2281C27.191 82.4757 25.692 82.0635 24.1729 82.0532L18.8307 82.0119L12.6938 78.7034C3.38789 73.653 -0.58601 62.367 3.45831 52.4208L4.68569 49.3906C5.6012 47.1437 6.06398 44.7628 6.06398 42.3304V40.6401H7.39196C8.70989 40.6401 9.81654 39.7021 10.1284 38.455H56.0948C56.8594 38.455 57.5637 38.9188 57.8755 39.6403L59.2438 42.7942C59.6764 43.8043 60.6522 44.4536 61.7287 44.4536C62.8052 44.4536 63.781 43.8043 64.2136 42.8045L65.5819 39.6506C65.8938 38.9291 66.5879 38.4653 67.3626 38.4653H69.0125C69.7268 38.4653 70.3807 38.8673 70.7228 39.5063C71.5679 41.1039 73.0769 42.1758 74.7872 42.4541V62.2639C72.0307 62.5731 69.918 64.2532 69.918 66.3042C69.918 68.5614 72.4934 70.3961 75.6726 70.3961C78.8517 70.3961 81.4272 68.5614 81.4272 66.3042C81.4272 64.2635 79.3145 62.5731 76.5579 62.2639V42.4438C78.2682 42.1655 79.7772 41.0936 80.6223 39.496C80.9644 38.857 81.6183 38.455 82.3326 38.455H84.7874C85.9141 38.455 86.9504 37.8778 87.5641 36.909L91.206 31.1371C91.6889 30.3847 92.4937 29.9312 93.379 29.9312H94.5058C95.3106 29.9312 95.9646 30.6012 95.9646 31.4257V33.2088C95.9646 34.0746 96.2865 34.8888 96.86 35.4969L95.1799 38.0118Z",fill:"white"}))),Qae=t=>V.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{d:"M2.25 10.0514C2.25 8.97447 3.12304 8.10142 4.2 8.10142H6.91992C7.2891 8.10142 7.64086 7.94446 7.88744 7.66971L10.4825 4.77808C11.2789 3.8907 12.75 4.45403 12.75 5.64636V18.3565C12.75 19.5488 11.2789 20.1121 10.4825 19.2248L7.88744 16.3331C7.64086 16.0584 7.2891 15.9014 6.91992 15.9014H4.2C3.12304 15.9014 2.25 15.0284 2.25 13.9514V10.0514Z",fill:"white",style:{fill:"white",fillOpacity:1}}),V.createElement("path",{d:"M18.0226 12.5545L19.8749 14.4067C20.1678 14.6996 20.6427 14.6996 20.9356 14.4067C21.2284 14.1138 21.2284 13.6389 20.9355 13.346L19.0833 11.4939L20.9355 9.64182C21.2284 9.34894 21.2284 8.87406 20.9356 8.58116C20.6427 8.28825 20.1678 8.28824 19.8749 8.58112L18.0226 10.4333L16.1703 8.58112C15.8774 8.28824 15.4025 8.28825 15.1096 8.58116C14.8167 8.87406 14.8167 9.34894 15.1096 9.64182L16.9619 11.4939L15.1096 13.346C14.8167 13.6389 14.8167 14.1138 15.1096 14.4067C15.4025 14.6996 15.8774 14.6996 16.1703 14.4067L18.0226 12.5545Z",fill:"white",style:{fill:"white",fillOpacity:1}})),qae=t=>V.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("circle",{opacity:.5,cx:24,cy:24,r:24,fill:"black",style:{fill:"black",fillOpacity:1}}),V.createElement("rect",{x:18,y:13.999,width:4,height:20,rx:1,fill:"white",style:{fill:"white",fillOpacity:1}}),V.createElement("rect",{x:26,y:13.999,width:4,height:20,rx:1,fill:"white",style:{fill:"white",fillOpacity:1}})),eoe=t=>V.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("circle",{opacity:.5,cx:24,cy:24.001,r:24,fill:"black"}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5432 24.7938C33.215 24.3331 33.2822 23.5173 32.5432 23.0567C23.7807 17.6245 19.6442 14.918 19.1356 14.5917C18.3486 14.083 17.6 14.6973 17.6 15.2059V32.7501C17.6 33.3259 18.5309 33.8442 19.1356 33.4795C20.2201 32.8172 31.8714 25.2641 32.5336 24.8034L32.5432 24.7938Z",fill:"white"})),toe=t=>V.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{d:"M18.5625 5.0625V18.9375M15.6454 11.3897L7.18592 5.3471C6.68953 4.99253 6 5.34737 6 5.95739L6 18.0426C6 18.6526 6.68953 19.0075 7.18592 18.6529L15.6454 12.6103C16.0642 12.3112 16.0642 11.6888 15.6454 11.3897Z",stroke:"white",style:{stroke:"white",strokeOpacity:1},strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),noe=t=>V.createElement("svg",{width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{id:"Start - You",d:"M8 0L9.79611 5.52786H15.6085L10.9062 8.94427L12.7023 14.4721L8 11.0557L3.29772 14.4721L5.09383 8.94427L0.391548 5.52786H6.20389L8 0Z",fill:"#F4D22A"})),ioe=t=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:22,height:22,viewBox:"0 0 22 22",fill:"none",...t},V.createElement("path",{d:"M5.5 2.78867V12.4137C5.5 13.1729 4.88426 13.75 4.125 13.75H1.375C0.615742 13.75 0 13.1343 0 12.4137V2.82734C0 2.06808 0.615742 1.49102 1.375 1.49102H4.125C4.88555 1.41367 5.5 1.99375 5.5 2.78867ZM22 12.3707C22 13.5094 21.077 14.4323 19.9375 14.4323H13.6426C14.621 16.0613 15.1259 17.9077 15.1259 18.5582C15.125 19.5714 14.3301 20.625 12.998 20.625C10.2854 20.625 11.8654 17.3529 8.34883 14.5406L7.64844 13.982C7.14141 13.5738 6.88359 12.9766 6.8793 12.375C6.87829 12.374 6.8793 12.375 6.8793 12.375L6.875 5.5C6.875 4.85117 7.18064 4.23973 7.7 3.85043L9.16695 2.75086C10.3555 1.85625 11.8035 1.375 13.2902 1.375H15.8125C16.952 1.375 17.875 2.29754 17.875 3.43664C17.875 3.59283 17.8544 3.74357 17.8215 3.88996C18.6484 4.15937 19.25 4.92422 19.25 5.84375C19.25 6.23683 19.1341 6.60043 18.9432 6.91281C19.8988 7.08984 20.625 7.92773 20.625 8.9332C20.625 9.47031 20.4148 9.955 20.0784 10.322C21.1492 10.3941 22 11.2793 22 12.3707Z",fill:"white"})),roe=t=>V.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{d:"M17.4777 8.95762C17.4777 8.70612 17.4177 8.47012 17.3172 8.25562C16.6467 6.09262 13.5077 6.25062 9.04275 6.14512C8.29625 6.12762 8.72325 5.24612 8.98525 3.31112C9.15575 2.05262 8.34425 0.120117 6.98025 0.120117C4.73125 0.120117 6.89475 1.89412 4.90625 6.28112C3.84375 8.62512 1.46875 7.31212 1.46875 9.66662V15.0261C1.46875 15.9426 1.55875 16.8236 2.84775 16.9686C4.09725 17.1091 3.81625 17.9996 5.61875 17.9996H14.6407C15.5597 17.9996 16.3072 17.2516 16.3072 16.3326C16.3072 15.9516 16.1737 15.6046 15.9582 15.3236C16.4682 15.0381 16.8182 14.4991 16.8182 13.8741C16.8182 13.4941 16.6852 13.1471 16.4702 12.8666C16.9817 12.5816 17.3327 12.0421 17.3327 11.4161C17.3327 10.9616 17.1487 10.5496 16.8522 10.2481C17.2307 9.94262 17.4777 9.48062 17.4777 8.95762Z",fill:"white"}),V.createElement("path",{d:"M11.5088 10.625H15.8108C16.3958 10.625 16.9448 10.312 17.2438 9.80849C17.3668 9.60099 17.2983 9.33249 17.0903 9.20899C16.8828 9.08549 16.6143 9.15499 16.4908 9.36249C16.3493 9.60199 16.0878 9.74999 15.8103 9.74999H11.4053C10.9688 9.74999 10.6138 9.39499 10.6138 8.95849C10.6138 8.52199 10.9688 8.16699 11.4053 8.16699H14.3488C14.5903 8.16699 14.7863 7.97099 14.7863 7.72949C14.7863 7.48799 14.5903 7.29199 14.3488 7.29199H11.4048C10.4858 7.29199 9.73828 8.03949 9.73828 8.95849C9.73828 9.47099 9.97578 9.92449 10.3408 10.2305C10.0333 10.533 9.84178 10.953 9.84178 11.417C9.84178 11.931 10.0808 12.386 10.4478 12.6915C10.1423 12.9935 9.95278 13.412 9.95278 13.875C9.95278 14.435 10.2323 14.929 10.6573 15.2315C10.3953 15.526 10.2313 15.9095 10.2313 16.3335C10.2313 17.2525 10.9788 18 11.8978 18H14.6398C15.2248 18 15.7743 17.6875 16.0733 17.184C16.1968 16.9765 16.1283 16.708 15.9208 16.5845C15.7128 16.462 15.4443 16.5295 15.3213 16.737C15.1788 16.9765 14.9173 17.125 14.6398 17.125H11.8978C11.4613 17.125 11.1063 16.77 11.1063 16.3335C11.1063 15.897 11.4613 15.542 11.8978 15.542H15.1508C15.7358 15.542 16.2858 15.229 16.5843 14.7255C16.7078 14.5175 16.6393 14.249 16.4318 14.126C16.2223 14.0005 15.9548 14.071 15.8323 14.2785C15.6878 14.522 15.4328 14.667 15.1508 14.667H11.6193C11.1828 14.667 10.8278 14.3115 10.8278 13.875C10.8278 13.4385 11.1828 13.0835 11.6193 13.0835H15.6648C16.2498 13.0835 16.7993 12.771 17.0983 12.2675C17.2218 12.06 17.1533 11.7915 16.9458 11.668C16.7373 11.545 16.4693 11.613 16.3463 11.8205C16.2018 12.0635 15.9468 12.2085 15.6648 12.2085H11.5088C11.0723 12.2085 10.7173 11.8535 10.7173 11.417C10.7173 10.9805 11.0718 10.625 11.5088 10.625Z",fill:"#107D57"})),soe=t=>V.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Trivia"},V.createElement("rect",{id:"Rectangle 328",x:.56009,y:2.8074,width:16.55,height:16.55,rx:2.14375,transform:"rotate(-7.80777 0.56009 2.8074)",stroke:"#006747",style:{stroke:"#006747",stroke:"color(display-p3 0.0000 0.4039 0.2784)",strokeOpacity:1},strokeWidth:1.4}),V.createElement("path",{id:"Union",fillRule:"evenodd",clipRule:"evenodd",d:"M9.62237 4.17188C10.5053 4.17188 11.2837 4.37793 11.8733 4.76716L11.8732 4.76718C12.5572 5.21938 12.9636 5.89049 13.0796 6.75908C13.2656 8.14856 12.2625 9.08727 11.5284 9.77271C11.2207 10.0589 10.956 10.3079 10.8501 10.5183C10.7752 10.6652 10.7366 10.8269 10.6992 10.9839C10.698 10.989 10.6967 10.994 10.6955 10.9991L10.6952 11.0004C10.5952 11.4278 10.4915 11.8706 9.72822 11.9721C9.67385 11.9793 9.6209 11.9821 9.56938 11.9821C9.28746 11.9821 9.03705 11.8777 8.84673 11.6788C8.67931 11.5056 8.56912 11.2738 8.53621 11.0234C8.40767 10.0551 9.08301 9.37328 9.68028 8.77031L9.68384 8.76671C10.2176 8.23011 10.7199 7.72213 10.6354 7.08534C10.5496 6.43425 10.1275 6.07652 9.44917 6.07652C9.35902 6.07652 9.26601 6.08367 9.1687 6.09655C8.22588 6.22243 8.06263 6.74456 7.88952 7.29821L7.88941 7.29854C7.73775 7.78506 7.58034 8.28732 6.85055 8.38463C6.79188 8.39178 6.73178 8.39608 6.6731 8.39608C6.1279 8.39608 5.72868 8.05407 5.65856 7.52462C5.56127 6.80772 5.86319 6.0307 6.48137 5.39534C7.0924 4.77002 7.94814 4.34216 8.8296 4.22482C9.09577 4.19048 9.36193 4.17188 9.62237 4.17188ZM9.88998 12.7224C9.94722 12.7152 10.0059 12.7109 10.0631 12.7109C10.7228 12.7109 11.2866 13.2032 11.3753 13.8586C11.4697 14.5812 10.9618 15.2466 10.2391 15.3439C10.1804 15.3511 10.1218 15.3554 10.0645 15.3554C9.40485 15.3554 8.84107 14.8617 8.75378 14.2077C8.65791 13.4851 9.16732 12.8197 9.88998 12.7224Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}))),aoe=t=>V.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{d:"M20.6087 5.32569H17.087V4.91284C17.087 4.68495 16.9117 4.5 16.6957 4.5H7.30435C7.08835 4.5 6.91305 4.68495 6.91305 4.91284V5.32569H3.3913C3.1753 5.32569 3 5.51064 3 5.73853V7.77273C3 10.5049 5.106 12.7269 7.69566 12.7269C7.71131 12.7269 7.72462 12.7194 7.73948 12.7178C8.44462 13.8572 9.5434 14.7093 10.8151 15.0446C10.7658 16.0767 10.5162 16.5012 9.76331 17.3186L9.55044 17.5481C8.47357 18.714 7.69566 18.693 7.69566 19.6326C7.69566 19.8605 7.87096 20.0455 8.08696 20.0455H15.9131C16.1291 20.0455 16.3044 19.8605 16.3044 19.6326C16.3044 18.693 15.5265 18.714 14.4496 17.5481L14.2375 17.3178C13.4846 16.5003 13.235 16.0759 13.1857 15.0437C14.4574 14.7093 15.5562 13.8564 16.2613 12.717C16.2754 12.7194 16.2887 12.7269 16.3044 12.7269C18.894 12.7269 21 10.5049 21 7.77273V5.73853C21 5.51064 20.8247 5.32569 20.6087 5.32569ZM3.78261 7.77273V6.15138H6.91305V9.83695C6.91305 10.5479 7.05392 11.2315 7.30435 11.8599C5.33296 11.6493 3.78261 9.90796 3.78261 7.77273ZM20.2174 7.77273C20.2174 9.90796 18.6671 11.6493 16.6957 11.8599C16.9461 11.2324 17.087 10.5487 17.087 9.83695V6.15138H20.2174V7.77273Z",fill:"#107D57",style:{fill:"#107D57",fill:"color(display-p3 0.0627 0.4902 0.3412)",fillOpacity:1}})),ooe=t=>V.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Trophy"},V.createElement("path",{id:"Combined Shape",fillRule:"evenodd",clipRule:"evenodd",d:"M2.76916 3.50002C2.76916 4.49786 2.94705 5.38348 3.30282 6.15692C2.62493 6.01847 2.05883 5.74872 1.6045 5.34768C1.15017 4.94663 0.923008 4.55992 0.923008 4.18752V3.50002H2.76916ZM11.0768 3.50002V4.18752C11.0768 4.55992 10.8497 4.94663 10.3953 5.34768C9.941 5.74872 9.3749 6.01847 8.69701 6.15692C9.05278 5.38348 9.23066 4.49786 9.23066 3.50002H11.0768ZM12 4.1875V3.27083C12 3.07986 11.9327 2.91754 11.7981 2.78385C11.6635 2.65017 11.5 2.58333 11.3077 2.58333H9.23077V1.89583C9.23077 1.58073 9.11779 1.31098 8.89183 1.08659C8.66586 0.862195 8.39423 0.75 8.07692 0.75H3.92308C3.60577 0.75 3.33414 0.862195 3.10817 1.08659C2.88221 1.31098 2.76923 1.58073 2.76923 1.89583V2.58333H0.692308C0.499999 2.58333 0.336539 2.65017 0.201923 2.78385C0.067307 2.91754 0 3.07986 0 3.27083V4.1875C0 4.52648 0.0997586 4.86784 0.299279 5.21159C0.498799 5.55534 0.768027 5.86567 1.10697 6.14258C1.44592 6.41949 1.86178 6.65223 2.35457 6.84082C2.84736 7.02941 3.36538 7.13563 3.90865 7.15951C4.11058 7.41732 4.33894 7.6441 4.59375 7.83984C4.77644 8.00217 4.90264 8.17524 4.97236 8.35905C5.04207 8.54286 5.07692 8.75651 5.07692 9C5.07692 9.25781 5.00361 9.47504 4.85697 9.65169C4.71034 9.82834 4.47596 9.91667 4.15385 9.91667C3.79327 9.91667 3.47236 10.0253 3.19111 10.2425C2.90985 10.4597 2.76923 10.7331 2.76923 11.0625V11.5208C2.76923 11.5877 2.79087 11.6426 2.83413 11.6855C2.8774 11.7285 2.93269 11.75 3 11.75H9C9.06731 11.75 9.1226 11.7285 9.16586 11.6855C9.20913 11.6426 9.23077 11.5877 9.23077 11.5208V11.0625C9.23077 10.7331 9.09015 10.4597 8.80889 10.2425C8.52764 10.0253 8.20673 9.91667 7.84615 9.91667C7.52404 9.91667 7.28966 9.82834 7.14303 9.65169C6.99639 9.47504 6.92308 9.25781 6.92308 9C6.92308 8.75651 6.95793 8.54286 7.02764 8.35905C7.09736 8.17524 7.22356 8.00217 7.40625 7.83984C7.66106 7.6441 7.88942 7.41732 8.09135 7.15951C8.63462 7.13563 9.15264 7.02941 9.64543 6.84082C10.1382 6.65223 10.5541 6.41949 10.893 6.14258C11.232 5.86567 11.5012 5.55534 11.7007 5.21159C11.9002 4.86784 12 4.52648 12 4.1875ZM5.07033 5.38491L6.0383 4.87503L7.00627 5.38491L6.8214 4.30497L7.60451 3.54016L6.52228 3.3826L6.0383 2.40003L5.55431 3.3826L4.47209 3.54016L5.25519 4.30497L5.07033 5.38491Z",fill:"white"}))),loe=t=>V.createElement("svg",{width:40,height:39,viewBox:"0 0 40 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("rect",{x:.796875,width:38.4,height:38.4,rx:19.2,fill:"#FFB600"}),V.createElement("path",{d:"M31.2752 10.8509H26.5795V10.3005C26.5795 9.99661 26.3458 9.75 26.0578 9.75H13.536C13.248 9.75 13.0143 9.99661 13.0143 10.3005V10.8509H8.31861C8.03061 10.8509 7.79688 11.0975 7.79688 11.4014V14.1136C7.79688 17.7566 10.6049 20.7192 14.0578 20.7192C14.0786 20.7192 14.0964 20.7092 14.1162 20.707C15.0564 22.2263 16.5214 23.3625 18.2171 23.8094C18.1513 25.1856 17.8185 25.7516 16.8146 26.8415L16.5308 27.1475C15.095 28.702 14.0578 28.674 14.0578 29.9268C14.0578 30.2307 14.2915 30.4773 14.5795 30.4773H25.0143C25.3023 30.4773 25.536 30.2307 25.536 29.9268C25.536 28.674 24.4988 28.702 23.063 27.1475L22.7802 26.8404C21.7764 25.7505 21.4435 25.1845 21.3778 23.8083C23.0734 23.3625 24.5385 22.2252 25.4786 20.7059C25.4974 20.7092 25.5152 20.7192 25.536 20.7192C28.9889 20.7192 31.7969 17.7566 31.7969 14.1136V11.4014C31.7969 11.0975 31.5632 10.8509 31.2752 10.8509ZM8.84035 14.1136V11.9518H13.0143V16.8659C13.0143 17.8138 13.2021 18.7254 13.536 19.5632C10.9075 19.2825 8.84035 16.9606 8.84035 14.1136ZM30.7534 14.1136C30.7534 16.9606 28.6863 19.2825 26.0578 19.5632C26.3917 18.7265 26.5795 17.8149 26.5795 16.8659V11.9518H30.7534V14.1136Z",fill:"white"})),coe=t=>V.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Trophy"},V.createElement("path",{id:"Combined Shape",fillRule:"evenodd",clipRule:"evenodd",d:"M3.69197 4.66662C3.69197 5.99705 3.92914 7.17787 4.4035 8.20912C3.49966 8.02451 2.74487 7.66486 2.1391 7.13014C1.53333 6.59542 1.23046 6.0798 1.23046 5.58328V4.66662H3.69197ZM14.7686 4.66662V5.58328C14.7686 6.0798 14.4658 6.59542 13.86 7.13014C13.2542 7.66486 12.4994 8.02451 11.5956 8.20912C12.0699 7.17787 12.3071 5.99705 12.3071 4.66662H14.7686ZM15.9998 5.58329V4.36108C15.9998 4.10645 15.9101 3.89002 15.7306 3.71178C15.5511 3.53354 15.3332 3.44442 15.0768 3.44442H12.3076V2.52776C12.3076 2.10763 12.1569 1.74797 11.8556 1.44878C11.5544 1.14959 11.1922 1 10.7691 1H5.23072C4.80764 1 4.44547 1.14959 4.14419 1.44878C3.84291 1.74797 3.69227 2.10763 3.69227 2.52776V3.44442H0.923068C0.666659 3.44442 0.448714 3.53354 0.269228 3.71178C0.0897418 3.89002 0 4.10645 0 4.36108V5.58329C0 6.03525 0.13301 6.49039 0.399034 6.94872C0.665059 7.40705 1.02403 7.82082 1.47595 8.19003C1.92787 8.55924 2.48234 8.86957 3.13939 9.12101C3.79644 9.37246 4.48713 9.51409 5.21149 9.54592C5.48071 9.88967 5.7852 10.192 6.12494 10.453C6.36853 10.6695 6.53679 10.9002 6.62974 11.1453C6.72269 11.3904 6.76916 11.6752 6.76916 11.9999C6.76916 12.3436 6.67141 12.6333 6.4759 12.8688C6.28038 13.1043 5.96789 13.2221 5.53841 13.2221C5.05764 13.2221 4.62976 13.3669 4.25476 13.6566C3.87977 13.9462 3.69227 14.3106 3.69227 14.7499V15.361C3.69227 15.4501 3.72112 15.5233 3.77881 15.5806C3.8365 15.6379 3.91022 15.6665 3.99996 15.6665H11.9999C12.0896 15.6665 12.1633 15.6379 12.221 15.5806C12.2787 15.5233 12.3076 15.4501 12.3076 15.361V14.7499C12.3076 14.3106 12.1201 13.9462 11.7451 13.6566C11.3701 13.3669 10.9422 13.2221 10.4614 13.2221C10.0319 13.2221 9.71945 13.1043 9.52394 12.8688C9.32843 12.6333 9.23068 12.3436 9.23068 11.9999C9.23068 11.6752 9.27715 11.3904 9.3701 11.1453C9.46305 10.9002 9.63131 10.6695 9.8749 10.453C10.2146 10.192 10.5191 9.88967 10.7884 9.54592C11.5127 9.51409 12.2034 9.37246 12.8604 9.12101C13.5175 8.86957 14.072 8.55924 14.5239 8.19003C14.9758 7.82082 15.3348 7.40705 15.6008 6.94872C15.8668 6.49039 15.9998 6.03525 15.9998 5.58329ZM6.76047 7.1798L8.05109 6.49997L9.3417 7.1798L9.09521 5.73989L10.1393 4.72015L8.69639 4.51007L8.05109 3.2L7.40578 4.51007L5.96283 4.72015L7.00696 5.73989L6.76047 7.1798Z",fill:"#F2C94C"}))),uoe=t=>V.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9234 2.06117C12.6527 2.79041 12.797 3.88306 12.3564 4.75616L12.3698 4.78833C13.2984 5.09432 13.9688 5.96888 13.9688 7C13.9688 8.03112 13.2984 8.90568 12.3698 9.21167L12.3565 9.24364C12.7971 10.1167 12.6527 11.2094 11.9235 11.9386C11.1944 12.6678 10.1019 12.8122 9.22883 12.3718L9.19604 12.3854C8.89006 13.314 8.0155 13.9844 6.98438 13.9844C5.95325 13.9844 5.07869 13.314 4.77271 12.3854L4.74027 12.3719C3.8673 12.8121 2.77506 12.6676 2.04603 11.9386C1.31703 11.2096 1.17255 10.1174 1.61259 9.24445L1.59899 9.21167C0.670333 8.90568 0 8.03112 0 7C0 5.96888 0.670334 5.09432 1.59899 4.78833L1.61267 4.75535C1.17263 3.8824 1.31711 2.79023 2.04611 2.06123C2.77519 1.33215 3.86754 1.18772 4.74054 1.62795L4.77271 1.61461C5.07869 0.685958 5.95325 0.015625 6.98438 0.015625C8.0155 0.015625 8.89006 0.685958 9.19604 1.61461L9.22857 1.6281C10.1016 1.18761 11.1942 1.33196 11.9234 2.06117ZM9.80606 4.98029C9.97643 4.7077 9.89356 4.34862 9.62098 4.17825C9.34839 4.00788 8.98931 4.09075 8.81894 4.36333L6.29655 8.39915L5.06781 7.17041C4.84051 6.94311 4.47199 6.94311 4.24469 7.17041C4.01739 7.39771 4.01739 7.76623 4.24469 7.99353L5.99079 9.73962C6.11621 9.86504 6.29197 9.92642 6.4682 9.90635C6.64444 9.88628 6.8019 9.78695 6.89591 9.63654L9.80606 4.98029Z",fill:"#0092E9"})),doe=t=>V.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3616 7.95688C15.7313 7.77023 16.1824 7.91869 16.3691 8.28847C16.9328 9.40532 17.25 10.6674 17.25 12.0014C17.25 13.3354 16.9328 14.5975 16.3691 15.7144C16.1824 16.0841 15.7313 16.2326 15.3616 16.0459C14.9918 15.8593 14.8433 15.4082 15.03 15.0385C15.4903 14.1264 15.75 13.0953 15.75 12.0014C15.75 10.9075 15.4903 9.87641 15.03 8.96438C14.8433 8.5946 14.9918 8.14353 15.3616 7.95688Z",fill:"white",style:{fill:"white",fillOpacity:1}}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.507 5.93713C18.87 5.73776 19.326 5.87048 19.5254 6.23356C20.4656 7.94589 21 9.91236 21 12.0014C21 14.0905 20.4656 16.057 19.5254 17.7693C19.326 18.1324 18.87 18.2651 18.507 18.0657C18.1439 17.8663 18.0112 17.4104 18.2105 17.0473C19.0323 15.5506 19.5 13.8318 19.5 12.0014C19.5 10.1711 19.0323 8.45221 18.2105 6.95552C18.0112 6.59244 18.1439 6.13649 18.507 5.93713Z",fill:"white",style:{fill:"white",fillOpacity:1}}),V.createElement("path",{d:"M2.25 10.0514C2.25 8.97447 3.12304 8.10142 4.2 8.10142H6.91992C7.2891 8.10142 7.64086 7.94446 7.88744 7.66971L10.4825 4.77808C11.2789 3.8907 12.75 4.45403 12.75 5.64636V18.3565C12.75 19.5488 11.2789 20.1122 10.4825 19.2248L7.88744 16.3331C7.64086 16.0584 7.2891 15.9014 6.91992 15.9014H4.2C3.12304 15.9014 2.25 15.0284 2.25 13.9514V10.0514Z",fill:"white",style:{fill:"white",fillOpacity:1}})),hoe=t=>V.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Chevron Up"},V.createElement("path",{id:"Vector",d:"M4 9.6001L8 5.6001L12 9.6001",stroke:"#107D57",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}))),foe=t=>V.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"cross"},V.createElement("path",{id:"Vector",d:"M6 18L18 6M6 6L18 18",stroke:"#BA0C2F",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}))),poe=t=>V.createElement("svg",{width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Friends"},V.createElement("path",{id:"Vector",d:"M4.19231 7.03125C2.66346 7.03125 1.42308 8.19973 1.42308 9.63994C1.42308 11.0802 2.66346 12.2486 4.19231 12.2486C5.72115 12.2486 6.96154 11.0802 6.96154 9.63994C6.96154 8.19973 5.72115 7.03125 4.19231 7.03125ZM4.19231 12.2486C2.16226 12.2486 0.5 13.8145 0.5 15.7269V17.629C0.5 17.629 1.42308 18.3356 4.19231 18.3356C6.96154 18.3356 7.88461 17.629 7.88461 17.629V15.7269C7.88461 13.8145 6.22236 12.2486 4.19231 12.2486ZM20.8077 7.03125C19.2788 7.03125 18.0385 8.19973 18.0385 9.63994C18.0385 11.0802 19.2788 12.2486 20.8077 12.2486C22.3365 12.2486 23.5769 11.0802 23.5769 9.63994C23.5769 8.19973 22.3365 7.03125 20.8077 7.03125ZM20.8077 12.2486C18.7776 12.2486 17.1154 13.8145 17.1154 15.7269V17.629C17.1154 17.629 18.0385 18.3356 20.8077 18.3356C23.5769 18.3356 24.5 17.629 24.5 17.629V15.7269C24.5 13.8145 22.8377 12.2486 20.8077 12.2486ZM12.5 10.5095C10.9712 10.5095 9.73077 11.678 9.73077 13.1182C9.73077 14.5584 10.9712 15.7269 12.5 15.7269C14.0288 15.7269 15.2692 14.5584 15.2692 13.1182C15.2692 11.678 14.0288 10.5095 12.5 10.5095ZM12.5 15.7269C10.47 15.7269 8.80769 17.2928 8.80769 19.2051V21.1073C8.80769 21.1073 9.73077 21.8138 12.5 21.8138C15.2692 21.8138 16.1923 21.1073 16.1923 21.1073V19.2051C16.1923 17.2928 14.53 15.7269 12.5 15.7269Z",fill:"white"}),V.createElement("path",{id:"Vector_2",d:"M8.58473 1.5C6.96392 1.5 5.64893 2.73876 5.64893 4.2656C5.64893 5.79245 6.96392 7.03121 8.58473 7.03121C10.2055 7.03121 11.5205 5.79245 11.5205 4.2656C11.5205 2.73876 10.2055 1.5 8.58473 1.5ZM8.58473 7.03121C8.29038 7.03121 7.99221 7.024 7.69787 7.11763C8.28656 7.85584 8.58473 8.78131 8.58473 9.79681C8.58473 10.1641 8.49298 10.5242 8.49298 10.8915C9.27663 9.78601 10.5419 9.05859 12.0098 8.87494C11.3256 7.76942 10.0526 7.03121 8.58473 7.03121ZM16.4135 1.5C14.7927 1.5 13.4777 2.73876 13.4777 4.2656C13.4777 5.79245 14.7927 7.03121 16.4135 7.03121C18.0343 7.03121 19.3493 5.79245 19.3493 4.2656C19.3493 2.73876 18.0343 1.5 16.4135 1.5ZM16.4135 7.03121C14.9456 7.03121 13.6727 7.76942 12.9884 8.87494C14.4563 9.05859 15.7216 9.78601 16.5053 10.8915C16.5053 10.5242 16.4135 10.1641 16.4135 9.79681C16.4135 8.78131 16.7117 7.85584 17.3004 7.11763C17.006 7.024 16.7079 7.03121 16.4135 7.03121Z",fill:"white",fillOpacity:.4}))),moe=t=>V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200",...t},V.createElement("radialGradient",{id:"a9",cx:.66,fx:.66,cy:.3125,fy:.3125,gradientTransform:"scale(1.5)"},V.createElement("stop",{offset:0,stopColor:"#006944"}),V.createElement("stop",{offset:.3,stopColor:"#006944",stopOpacity:.9}),V.createElement("stop",{offset:.6,stopColor:"#006944",stopOpacity:.6}),V.createElement("stop",{offset:.8,stopColor:"#006944",stopOpacity:.3}),V.createElement("stop",{offset:1,stopColor:"#006944",stopOpacity:0})),V.createElement("circle",{"transform-origin":"center",fill:"none",stroke:"url(#a9)",strokeWidth:17,strokeLinecap:"round",strokeDasharray:"200 1000",strokeDashoffset:0,cx:100,cy:100,r:70},V.createElement("animateTransform",{type:"rotate",attributeName:"transform",calcMode:"spline",dur:1.8,values:"360;0",keyTimes:"0;1",keySplines:"0 0 1 1",repeatCount:"indefinite"})),V.createElement("circle",{"transform-origin":"center",fill:"none",opacity:.2,stroke:"#006944",strokeWidth:17,strokeLinecap:"round",cx:100,cy:100,r:70})),goe=t=>V.createElement("svg",{width:86,height:21,viewBox:"0 0 86 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{d:"M39.7699 17.519L41.7975 10.3564C42.019 9.57525 42.5964 8.94819 43.3515 8.66775L43.4069 8.43457H40.5888L35.8028 14.1928L33.9712 8.43457H31.393L31.3309 8.66775C31.7723 8.88885 32.0156 9.54952 32.0156 10.087V10.1204C32.0156 13.1879 29.7696 18.4607 26.6104 18.4607C25.3827 18.4607 24.7463 17.5842 24.7463 16.8536C24.7463 15.9687 25.4791 15.3393 26.2522 15.3393C26.6778 15.3393 26.8988 15.4303 27.0895 15.5088C27.2342 15.5684 27.3615 15.6208 27.5475 15.6208C27.8106 15.6208 28.0628 15.4845 28.1888 15.2511C28.3867 14.8845 28.2367 14.4368 27.8748 14.2614L27.6773 14.1661C25.8352 13.2706 23.6992 14.6266 23.6992 16.6919V16.7205C23.6992 18.2238 24.8674 19.4811 26.3546 19.5336C30.1873 19.6694 32.751 14.4452 33.1588 10.6214L33.4534 11.656L34.9632 16.2284H35.5351L40.2511 10.5434L38.2726 17.5264C38.0457 18.3275 37.4171 18.948 36.6191 19.1592L36.5637 19.3923H40.3559L40.4177 19.1592C39.8575 18.8252 39.5911 18.1508 39.7699 17.519Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49.2539 12.3311C47.4839 12.3332 45.5808 12.5062 44.568 15.4136C44.443 15.7724 44.3314 16.1004 44.2299 16.3988C43.6403 18.1314 43.3898 18.8676 42.8227 18.8676C42.6317 18.8676 42.5473 18.6987 42.4545 18.5128C42.3409 18.2851 42.2145 18.0318 41.8638 18.0318C41.5768 18.0318 41.2768 18.2645 41.2552 18.6014C41.2175 19.1835 41.9922 19.5357 42.576 19.5357C44.3546 19.5357 45.0362 18.2246 45.2587 17.6138C45.2876 17.534 45.4446 17.1017 45.6299 16.5923H47.499L47.1824 17.7708C47.0152 18.3926 46.6713 18.9015 46.0895 19.1617L46.0394 19.3947H49.0969L49.1536 19.1617C48.7397 18.8167 48.5601 18.2634 48.6943 17.7482L49.8448 13.3292C49.9332 12.9901 50.1656 12.7105 50.4806 12.5642L50.5306 12.3311H49.2539ZM47.6519 16.0223H45.8369C46.043 15.4562 46.2403 14.9158 46.3069 14.7388C46.766 13.5136 47.6389 13.0178 48.4845 12.9485L48.4757 12.9558L47.6519 16.0223Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),V.createElement("path",{d:"M64.9086 12.2791C64.9086 12.4194 64.8148 12.6704 64.7165 12.8348C64.487 13.2187 64.077 13.5109 63.6767 13.6265L63.4976 13.678C63 13.8213 62.489 13.794 61.9847 13.6879L60.8352 17.7483C60.6891 18.2633 60.8565 18.8168 61.2623 19.1616L61.2001 19.395H58.0542L58.1098 19.1616C58.6973 18.9016 59.1413 18.3925 59.3228 17.7712L60.6376 13.2639C59.4267 12.8561 59.1564 12.8823 58.8962 13.2526C58.7642 13.4721 58.7796 13.7795 58.7931 14.0483C58.7962 14.1086 58.7991 14.1673 58.8003 14.2223C58.8062 14.5193 58.6037 14.7795 58.316 14.842C57.9611 14.9189 57.6305 14.6359 57.6492 14.2698V14.2688C57.6508 14.2386 57.6651 14.1553 57.6846 14.0529C57.8161 13.356 58.2541 12.7534 58.8816 12.4351L58.892 12.4299L58.8972 12.4272C59.5396 12.1051 60.5191 12.3038 61.3075 12.5205C61.3166 12.5234 61.3246 12.5252 61.3335 12.5276C61.5009 12.574 61.6597 12.6208 61.8043 12.6636V12.6662C63.3842 13.1244 63.7271 13.1473 63.9416 12.8802C64.0349 12.7644 64.0788 12.527 64.0755 12.3059C64.0716 12.0932 64.2202 11.9086 64.4259 11.8637C64.6827 11.8078 64.9221 12.0139 64.9086 12.2791Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),V.createElement("path",{d:"M65.9742 12.3311L65.9123 12.5645C66.302 12.8363 66.4774 13.327 66.3516 13.7863L65.1826 17.7661C65.0012 18.3879 64.5572 18.8968 63.9697 19.1568L63.9141 19.3899H69.5602L70.0661 17.524H69.8285L69.7432 17.7028C69.4261 18.3695 68.758 18.7939 68.0255 18.7939H66.4015L67.2661 15.6704L67.956 15.6696C68.4214 15.6693 68.7712 16.0981 68.6821 16.5592H68.9197L69.4872 14.448H69.2496C69.112 14.8385 68.7468 15.0995 68.3361 15.0998L67.4239 15.1008L68.0239 12.9329L69.745 12.9316C70.3068 12.9311 70.7274 13.4515 70.6151 14.0077H70.8527L71.3034 12.3311H65.9742Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M72.9481 12.334H76.7502C77.7432 12.334 78.4622 13.2914 78.195 14.2577C77.9634 15.0938 77.2093 15.6717 76.3501 15.6723L75.871 15.6725C76.1731 15.6725 76.4653 15.8923 76.5235 16.1297C76.6323 16.575 76.8508 17.403 76.9765 17.8796L76.9891 17.9274C77.1191 18.4223 77.4099 18.7968 77.8116 19.0376L78.0151 19.1594L77.9597 19.3929H76.5378C75.969 19.3929 75.7192 19.0153 75.5289 18.3677C75.3836 17.8722 75.2017 16.4314 75.1884 16.3138C75.1484 15.9493 74.8437 15.6736 74.4808 15.6733H74.2406L73.6643 17.7456C73.5187 18.2606 73.6859 18.8141 74.0917 19.1589L74.0295 19.3926H70.8867L70.9421 19.1589C71.5298 18.8989 71.9736 18.39 72.155 17.7682L73.3456 13.7013C73.4277 13.2683 73.251 12.8216 72.886 12.5672L72.9481 12.334ZM75.395 15.1028C76.0496 15.1028 76.6259 14.6685 76.8136 14.0354C76.9763 13.4866 76.5692 12.9344 76.0015 12.9346L75.0017 12.9352L74.3984 15.1036L75.395 15.1028Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),V.createElement("path",{d:"M55.8673 12.6932C55.7651 12.6932 55.5452 12.6228 55.2078 12.481C54.8701 12.3392 54.529 12.2686 54.1851 12.2686C53.4713 12.2686 52.8755 12.502 52.3883 13.0009C51.9828 13.4161 51.8027 13.8769 51.8027 14.2758C51.8027 14.7004 52.0486 15.1996 52.5412 15.6032C52.9175 15.9119 53.3062 16.2101 53.6975 16.5103C53.7898 16.5812 53.8823 16.6521 53.9748 16.7233C54.4843 17.1353 54.7393 17.5153 54.7393 17.8244C54.7393 18.5029 54.3023 18.8679 53.3977 18.8679C52.4785 18.8679 51.8429 18.1875 51.6391 16.9132H51.3906L50.668 19.3933H50.897C51.1957 19.182 51.4081 19.0459 51.8411 19.0459C52.0058 19.0459 52.1751 19.1238 52.3786 19.2175C52.6859 19.3588 53.0713 19.5362 53.6377 19.5362C54.3894 19.5362 54.9845 19.3786 55.4942 18.8634C55.9276 18.4134 56.1441 17.7832 56.1441 17.268C56.1441 16.7916 55.8485 16.2362 55.332 15.8361C55.0681 15.6317 54.793 15.4404 54.5168 15.2482C54.3292 15.1177 54.1411 14.9869 53.9556 14.8514C53.4585 14.478 53.21 14.161 53.21 13.8134C53.21 13.6198 53.3057 13.4271 53.497 13.2341C53.7388 12.9896 54.0627 12.9355 54.496 12.9355C55.3655 12.9355 55.9741 13.425 56.0253 14.4546H56.2546L56.861 12.2686H56.6318C56.3895 12.5519 56.1347 12.6932 55.8673 12.6932Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),V.createElement("path",{d:"M84.2951 14.4543C84.2441 13.4247 83.6353 12.9353 82.7658 12.9353C82.3325 12.9353 82.0086 12.9894 81.7665 13.2338C81.5755 13.4268 81.4798 13.6201 81.4798 13.8128C81.4798 14.1605 81.7283 14.478 82.2256 14.8511C82.4108 14.9864 82.5985 15.117 82.7858 15.2473C83.0623 15.4397 83.3377 15.6313 83.6021 15.8361C84.1183 16.2363 84.4139 16.7916 84.4139 17.268C84.4139 17.7829 84.1974 18.4128 83.764 18.8634C83.2542 19.3781 82.6592 19.5362 81.9074 19.5362C81.341 19.5362 80.9556 19.3588 80.6483 19.2175C80.4448 19.1238 80.2755 19.0459 80.1107 19.0459C79.6778 19.0459 79.4655 19.182 79.167 19.3933H78.9375L79.6602 16.9132H79.9087C80.1127 18.1873 80.7483 18.8676 81.6675 18.8676C82.5721 18.8676 83.0091 18.5026 83.0091 17.8241C83.0091 17.5153 82.7538 17.1354 82.2446 16.7231C82.15 16.6502 82.0554 16.5777 81.961 16.5052C81.5718 16.2067 81.1852 15.9102 80.811 15.6032C80.3184 15.199 80.0724 14.7006 80.0724 14.2755C80.0724 13.8769 80.2526 13.4158 80.6581 13.0006C81.1453 12.502 81.7411 12.2686 82.4546 12.2686C82.7988 12.2686 83.1396 12.3392 83.4773 12.4807C83.815 12.6223 84.0349 12.6929 84.1368 12.6929C84.4048 12.6929 84.6593 12.5514 84.9013 12.2686H85.1308L84.5246 14.4543H84.2951Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.4366 7.2801C21.4366 7.10548 21.2957 6.96289 21.1226 6.96289H20.88C20.6903 6.96289 20.5153 7.059 20.4126 7.21996L19.6278 8.4452C19.4953 8.65133 19.2714 8.77422 19.0281 8.77422H18.4981C18.3442 8.77422 18.203 8.8593 18.1295 8.99611C17.9478 9.33563 17.6228 9.56329 17.2542 9.62264V13.8311C17.848 13.896 18.3023 14.2547 18.3023 14.6885C18.3023 15.1685 17.7471 15.5576 17.0616 15.5576C16.3766 15.5576 15.8209 15.1685 15.8209 14.6885C15.8209 14.2547 16.2755 13.896 16.8687 13.8311V9.62264C16.5001 9.56277 16.1754 9.33511 15.9942 8.99637C15.9209 8.85956 15.78 8.77474 15.6261 8.77474H15.2708C15.1052 8.77474 14.9552 8.87295 14.8876 9.02578L14.5923 9.69643C14.4982 9.90965 14.2877 10.0478 14.0563 10.0478C13.8249 10.0478 13.6144 9.90965 13.5208 9.69564L13.225 9.02604C13.1579 8.87348 13.0074 8.77474 12.8423 8.77474H2.93715C2.87113 9.04127 2.63171 9.23926 2.34784 9.23926H2.06112V9.59927C2.06112 10.1174 1.96104 10.622 1.76425 11.0994L1.49962 11.7425C0.628527 13.8561 1.48429 16.2538 3.48955 17.3207L4.81218 18.0241L5.96298 18.0325C6.28922 18.0349 6.61208 18.1213 6.89673 18.282L7.49982 18.6223H8.31372C8.66648 18.6223 9.01273 18.7195 9.31506 18.9027L9.67301 19.121C10.0208 19.3318 10.4136 19.4542 10.8178 19.4781V19.1055C10.8178 18.3833 11.2405 17.7292 11.8948 17.4393L12.919 16.9845C13.1597 16.8777 13.4309 16.8609 13.6833 16.9368L14.1694 17.0833C14.3222 17.1295 14.4829 17.1295 14.6347 17.0841L15.7876 16.7388C16.0007 16.6747 16.2251 16.6768 16.4364 16.7437L16.8198 16.8656C17.3486 17.0334 17.7037 17.5223 17.7037 18.0827V19.0566C17.7037 19.2922 17.8934 19.4841 18.1271 19.4841C18.3143 19.4841 18.4815 19.357 18.5337 19.1756C18.6977 18.6039 18.7726 18.0126 18.7554 17.4175L18.7539 17.3144C18.7411 16.8656 18.9187 16.431 19.24 16.1214L19.7191 15.6614C19.9853 15.4048 20.1381 15.0451 20.1381 14.6732V12.3819C20.1381 11.8575 20.2946 11.3526 20.5907 10.9214L20.8179 10.5897V10.1342C20.8179 9.61266 20.9726 9.11033 21.265 8.68126L21.63 8.14506C21.507 8.01534 21.4366 7.84203 21.4366 7.65848V7.2801Z",fill:"#FCE300",style:{fill:"#FCE300",fill:"color(display-p3 0.9882 0.8902 0.0000)",fillOpacity:1}}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.16479 19.1581C8.95111 19.0284 8.71091 18.953 8.46344 18.9305V19.8514C8.7642 19.8745 9.05691 19.9643 9.3166 20.1218C9.31738 20.1221 9.73122 20.3763 9.87082 20.4587C10.064 20.573 10.2987 20.6817 10.7094 20.7029C10.7383 20.7042 10.7648 20.694 10.7856 20.6743C10.8072 20.6533 10.8191 20.6255 10.8191 20.5953V19.7736C10.3619 19.7492 9.91605 19.6148 9.523 19.3758L9.16479 19.1581Z",fill:"white",style:{fill:"white",fillOpacity:1}}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.7527 18.5415C6.51744 18.4083 6.25099 18.3369 5.98116 18.3314V19.2523C6.30116 19.2578 6.61752 19.3429 6.89645 19.5002L7.40934 19.7898V18.9065C7.40284 18.9036 7.39582 18.9044 7.38932 18.9009L6.7527 18.5415Z",fill:"white",style:{fill:"white",fillOpacity:1}}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5993 17.2219C13.5226 17.1988 13.4436 17.1904 13.3651 17.1904V18.1123C13.4722 18.1123 13.5796 18.1239 13.6838 18.1551L14.1699 18.3022C14.2323 18.3205 14.2962 18.33 14.3602 18.3334V17.4125C14.2676 17.4086 14.1754 17.3954 14.0854 17.3687L13.5993 17.2219Z",fill:"white",style:{fill:"white",fillOpacity:1}}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.731 17.1493L16.3481 17.0275C16.2623 17.0002 16.1729 16.9891 16.0843 16.9915V17.9121C16.1987 17.9098 16.313 17.9245 16.424 17.9589L16.8896 18.0912C17.1282 18.1598 17.3151 18.3362 17.409 18.5576V18.0823C17.409 17.6532 17.1366 17.2782 16.731 17.1493Z",fill:"white",style:{fill:"white",fillOpacity:1}}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1277 19.7819C18.1092 19.7819 18.0923 19.7777 18.0739 19.7764V20.6957C18.0978 20.6983 18.1209 20.7028 18.1454 20.7028C18.4139 20.7028 18.6491 20.5292 18.7305 20.2708C18.7388 20.2448 18.7443 20.2175 18.7521 20.1915V19.409C18.627 19.6338 18.3902 19.7819 18.1277 19.7819Z",fill:"white",style:{fill:"white",fillOpacity:1}}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.6875 16.096V16.8948C2.04935 17.5315 2.57913 18.0549 3.23993 18.4062L3.48402 18.5359V17.6534L3.35275 17.5838C2.66232 17.2167 2.10186 16.7005 1.6875 16.096Z",fill:"white",style:{fill:"white",fillOpacity:1}}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.06076 17.9608V18.8434L4.70907 19.1879V18.3048C4.70829 18.3048 4.70725 18.3048 4.70647 18.3043L4.06076 17.9608Z",fill:"white",style:{fill:"white",fillOpacity:1}}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.8159 14.8958C17.8159 14.6949 17.577 14.5274 17.2541 14.4785V15.313C17.577 15.2637 17.8159 15.0966 17.8159 14.8958Z",fill:"white",style:{fill:"white",fillOpacity:1}}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.3086 14.8958C16.3086 15.0966 16.5475 15.2637 16.8704 15.313V14.4785C16.5475 14.5274 16.3086 14.6949 16.3086 14.8958Z",fill:"white",style:{fill:"white",fillOpacity:1}}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.2923 1.62988C15.0123 1.54322 14.7326 1.69736 14.4526 1.85623C14.3536 1.91268 14.2831 2.00879 14.259 2.12092L13.8189 4.19615C13.8025 4.27282 13.8708 4.34214 13.9468 4.32481C14.4095 4.2182 14.8496 3.80962 15.3123 3.95246C15.8309 4.11317 16.3492 3.44987 16.8678 3.45775V1.06348C16.3464 1.06584 15.8111 1.79006 15.2923 1.62988",fill:"#BA0C2F",style:{fill:"#BA0C2F",fill:"color(display-p3 0.7294 0.0471 0.1843)",fillOpacity:1}}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2656 8.68074C20.9732 9.11033 20.8185 9.6124 20.8185 10.1336V10.5895L20.5913 10.9211C20.2949 11.352 20.1384 11.857 20.1384 12.3816V14.6727C20.1384 15.0445 19.9859 15.4046 19.7197 15.6608L19.2406 16.1214C18.919 16.4305 18.742 16.8651 18.7545 17.3141L18.7563 17.417C18.7732 18.012 18.6983 18.6037 18.5343 19.1756C18.482 19.3568 18.3149 19.4836 18.1277 19.4836C17.894 19.4836 17.7043 19.2916 17.7043 19.0561V18.0822C17.7043 17.5221 17.3492 17.0334 16.8204 16.8651L16.437 16.7435C16.2257 16.6763 16.0013 16.6747 15.7882 16.7382L14.6353 17.0835C14.4835 17.129 14.3226 17.129 14.17 17.0833L13.6839 16.9365C13.4317 16.8603 13.1603 16.8771 12.9196 16.9843L11.8954 17.4388C11.2411 17.729 10.8184 18.3828 10.8184 19.1049V19.4778C10.4142 19.4542 10.0214 19.3315 9.67385 19.1204L9.31564 18.9027C9.01332 18.7192 8.66706 18.622 8.31431 18.622H7.5004L6.89731 18.2817C6.61241 18.1208 6.28981 18.0344 5.96357 18.032L4.81276 18.0239L3.49013 17.3204C1.48461 16.2538 0.62911 13.8558 1.50021 11.7422L1.76484 11.0994C1.96162 10.6218 2.0617 10.1168 2.0617 9.59901V9.239H2.34843C2.63229 9.239 2.87171 9.04075 2.93774 8.77422H12.8429C13.008 8.77422 13.1585 8.87295 13.2256 9.02578L13.5211 9.69564C13.615 9.90912 13.8255 10.0475 14.0569 10.0475C14.2882 10.0475 14.4988 9.90939 14.5929 9.6959L14.8885 9.02525C14.9558 8.87269 15.1058 8.77422 15.2714 8.77422H15.6267C15.7806 8.77422 15.9215 8.85956 15.9948 8.99611C16.176 9.33484 16.5007 9.56251 16.8693 9.62238V13.8309C16.2761 13.896 15.8214 14.2544 15.8214 14.6882C15.8214 15.1685 16.3772 15.5574 17.0622 15.5574C17.7477 15.5574 18.3029 15.1685 18.3029 14.6882C18.3029 14.2544 17.8485 13.896 17.2548 13.8309V9.62264C17.6234 9.56277 17.9484 9.33511 18.1301 8.99611C18.2036 8.8593 18.3445 8.77396 18.4987 8.77396H19.029C19.272 8.77396 19.4958 8.65107 19.6282 8.44494L20.4132 7.21944C20.5159 7.05847 20.6908 6.96263 20.8806 6.96263H21.1234C21.2963 6.96263 21.4372 7.10495 21.4372 7.27957V7.65796C21.4372 7.84151 21.5076 8.01508 21.6306 8.14454L21.2656 8.68074ZM18.7515 20.1908C18.7437 20.2171 18.7382 20.2441 18.7299 20.2704C18.6486 20.5291 18.4133 20.7026 18.1448 20.7026C18.1203 20.7026 18.0972 20.6979 18.0733 20.6953V19.7757C18.0912 19.7775 18.1086 19.7812 18.1271 19.7812C18.3891 19.7812 18.6265 19.6331 18.7515 19.4086V20.1908ZM17.4081 18.5572C17.3143 18.3358 17.1279 18.1591 16.8893 18.0908L16.4235 17.9585C16.3125 17.9241 16.1981 17.9094 16.0837 17.9117V16.9911C16.1726 16.9887 16.2615 16.9998 16.3473 17.0273L16.7305 17.1489C17.136 17.2778 17.4081 17.6528 17.4081 18.0819V18.5572ZM14.3601 18.3327C14.2957 18.3296 14.2317 18.3204 14.1693 18.3015L13.6832 18.155C13.5795 18.1232 13.4719 18.1119 13.3645 18.1119V17.19C13.4435 17.19 13.5226 17.1986 13.5987 17.2212L14.0848 17.3683C14.1748 17.3953 14.2673 17.4084 14.3601 17.4121V18.3327ZM10.8185 20.5951C10.8185 20.6251 10.8061 20.6529 10.7847 20.6739C10.764 20.6939 10.7374 20.7038 10.7086 20.7028C10.2979 20.6815 10.0631 20.5726 9.86998 20.4583C9.73039 20.3756 9.31628 20.122 9.31576 20.1217C9.05607 19.9636 8.76311 19.8743 8.46286 19.851V18.9301C8.71008 18.9526 8.95001 19.028 9.16395 19.1577L9.5219 19.3754C9.91521 19.6144 10.3608 19.7488 10.8185 19.7732V20.5951ZM7.40902 19.7897L6.89588 19.4998C6.61669 19.3422 6.30059 19.2574 5.98059 19.2519V18.331C6.25016 18.3362 6.51661 18.4082 6.75238 18.5411L7.38901 18.9008C7.39498 18.9042 7.40252 18.9034 7.40902 18.9058V19.7897ZM4.70824 19.1875L4.06018 18.8427V17.9604L4.7059 18.3039C4.70668 18.3042 4.70772 18.3039 4.70824 18.3042V19.1875ZM3.48345 18.5355L3.23935 18.4058C2.57856 18.0545 2.04904 17.5309 1.68693 16.8944V16.0956C2.10129 16.7001 2.66174 17.2163 3.35191 17.5831L3.48345 17.653V18.5355ZM17.2536 14.4781C17.5762 14.527 17.8153 14.6945 17.8153 14.8954C17.8153 15.0962 17.5762 15.2638 17.2536 15.3129V14.4781ZM16.8698 15.3129C16.5474 15.2638 16.308 15.0962 16.308 14.8954C16.308 14.6945 16.5474 14.527 16.8698 14.4781V15.3129ZM21.9089 7.99494C21.7979 7.91906 21.7314 7.79328 21.7314 7.65778V7.27939C21.7314 6.94065 21.4582 6.66494 21.1229 6.66494H20.8801C20.59 6.66494 20.3227 6.81172 20.1649 7.05777L19.3804 8.28274C19.3027 8.40405 19.1709 8.47627 19.0284 8.47627H18.4981C18.2361 8.47627 17.9954 8.62095 17.8698 8.8557C17.7401 9.09702 17.5137 9.26271 17.2543 9.31891V0.800046C17.2543 0.692385 17.1682 0.605469 17.0616 0.605469C16.9553 0.605469 16.8688 0.692385 16.8688 0.800046V9.31891C16.6093 9.26245 16.3832 9.09676 16.2537 8.85465C16.1292 8.62148 15.8887 8.47627 15.6262 8.47627H15.2708C14.9893 8.47627 14.733 8.64432 14.6189 8.90402L14.323 9.57467C14.2763 9.68049 14.1715 9.74929 14.0563 9.74929C13.9409 9.74929 13.8364 9.68049 13.7899 9.57441L13.4943 8.90455C13.3799 8.64432 13.1239 8.47627 12.8424 8.47627H2.80773C2.72611 8.47627 2.66034 8.54296 2.66034 8.62515C2.66034 8.79951 2.51996 8.94078 2.34788 8.94078H1.91376C1.83239 8.94078 1.76637 9.00748 1.76637 9.08967V9.59883C1.76637 10.077 1.67434 10.5434 1.49186 10.9848L1.22775 11.6273C0.981833 12.2234 0.866155 12.8405 0.867194 13.4463V14.9262C0.867194 15.3261 0.924384 15.7287 1.03954 16.1247C1.36162 17.2291 2.0939 18.1329 3.10251 18.6694L4.70667 19.5223C4.72747 19.5336 4.75113 19.5396 4.77452 19.5399L5.96094 19.5488C6.23779 19.5506 6.51178 19.6239 6.75327 19.7599L7.38989 20.1194C7.41199 20.1317 7.43642 20.1383 7.46164 20.1383H8.31376C8.61296 20.1383 8.90697 20.2208 9.16276 20.3762C9.16276 20.3762 9.57998 20.6314 9.72009 20.7149C9.94521 20.8481 10.2189 20.9749 10.6926 20.9996C10.8002 21.0046 10.9065 20.9662 10.9871 20.8896C11.0666 20.8129 11.1127 20.7058 11.1127 20.5949V20.0178C11.1127 19.5997 11.357 19.2208 11.7365 19.0525L13.0376 18.4751C13.2146 18.3971 13.4137 18.384 13.5988 18.4401L14.0849 18.5869C14.2921 18.6489 14.5113 18.6494 14.719 18.5877L15.8716 18.2419C16.0242 18.1962 16.1864 18.1965 16.3416 18.244L16.81 18.3774C17.0278 18.4396 17.1804 18.6434 17.1804 18.8724V20.0259C17.1804 20.5634 17.613 21.0004 18.1449 21.0004C18.5426 21.0004 18.8904 20.7428 19.0105 20.3605C19.2281 19.6698 19.338 18.9517 19.338 18.2264V17.7359C19.338 17.3874 19.4818 17.0503 19.7326 16.8111L20.212 16.3534C20.5351 16.0425 20.7207 15.6058 20.7207 15.1549V12.4203C20.7207 11.9965 20.847 11.5879 21.0862 11.2392C21.1034 11.2145 21.113 11.1849 21.113 11.1547V10.51C21.113 10.0891 21.2375 9.68338 21.4738 9.33624L21.9479 8.6396C21.9651 8.61517 21.9742 8.58576 21.9742 8.5553V8.11836C21.9742 8.03538 21.9266 8.00676 21.9089 7.99494Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}})),yoe=t=>V.createElement("svg",{width:154,height:37,viewBox:"0 0 154 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{d:"M70.9776 30.8796L74.668 18.1381C75.0696 16.7473 76.1186 15.6318 77.4936 15.1371L77.5928 14.7217H72.466L63.7623 24.9662L60.431 14.7217H55.7389L55.6255 15.1371C56.4288 15.5291 56.8683 16.7052 56.8683 17.662V17.7227C56.8683 23.1787 52.781 32.5598 47.0352 32.5598C44.8002 32.5598 43.6425 31.0009 43.6425 29.7035C43.6425 28.1306 44.975 27.0105 46.3831 27.0105C47.744 27.0105 47.9519 27.5099 48.741 27.5099C49.2182 27.5099 49.6766 27.2672 49.9081 26.8518C50.2672 26.1984 49.9931 25.4049 49.3363 25.0922L48.9772 24.9242C45.6271 23.3327 41.7383 25.7457 41.7383 29.4188V29.4701C41.7383 32.1444 43.8646 34.38 46.5674 34.4733C53.5417 34.716 58.2055 25.4236 58.9473 18.6188L59.486 20.4577L62.2313 28.5927H63.2709L71.8518 18.4741L68.2512 30.8936C67.8401 32.3171 66.6966 33.4232 65.2412 33.7966L65.142 34.212H72.0408L72.1542 33.7966C71.1383 33.2039 70.6516 32.0044 70.9776 30.8796Z",fill:"white"}),V.createElement("path",{d:"M88.2952 21.6521H88.2385C85.016 21.6568 81.5571 21.9648 79.7143 27.1361C78.1692 31.4813 77.7487 33.2828 76.539 33.2828C75.7641 33.2828 75.9531 31.794 74.7954 31.794C74.2709 31.794 73.7275 32.2094 73.6897 32.8068C73.6236 33.8429 75.0317 34.4683 76.0949 34.4683C79.3316 34.4683 80.5696 32.1347 80.9759 31.0472C81.0279 30.9072 81.3162 30.1371 81.6517 29.2317H85.0538L84.4773 31.3273C84.1749 32.4334 83.5464 33.3388 82.488 33.8009L82.3982 34.2163H87.9597L88.0637 33.8009C87.3124 33.1848 86.9816 32.2 87.2273 31.2853L89.3206 23.4257C89.4812 22.8236 89.9018 22.3242 90.4783 22.0628L90.568 21.6475H88.7536H88.2952V21.6521ZM85.3231 28.2189H82.0202C82.3935 27.2108 82.7526 26.2493 82.8755 25.9366C83.7118 23.757 85.2995 22.8749 86.8399 22.7536L86.8257 22.7676L85.3231 28.2189Z",fill:"white"}),V.createElement("path",{d:"M116.358 22.5486C116.538 22.2545 116.708 21.8112 116.708 21.5591C116.732 21.0877 116.297 20.7237 115.829 20.8217C115.456 20.9011 115.187 21.2324 115.191 21.6058C115.196 21.9978 115.12 22.4226 114.95 22.6279C114.558 23.104 113.934 23.062 111.062 22.2452V22.2405C110.797 22.1659 110.509 22.0819 110.206 21.9978C110.187 21.9932 110.173 21.9885 110.159 21.9838C108.723 21.6011 106.941 21.2464 105.774 21.8205C105.765 21.8252 105.755 21.8298 105.746 21.8345C104.602 22.3992 103.808 23.4727 103.567 24.7142C103.53 24.8962 103.506 25.0455 103.501 25.0969C103.468 25.7456 104.068 26.2544 104.711 26.1143C105.235 26.0023 105.604 25.5403 105.59 25.0129C105.58 24.4808 105.472 23.7667 105.765 23.286C106.237 22.6279 106.729 22.5812 108.935 23.3047L106.544 31.323C106.214 32.4291 105.406 33.3345 104.338 33.7966L104.238 34.212H109.961L110.074 33.7966C109.337 33.1852 109.03 32.1957 109.299 31.2809L111.392 24.0561C112.309 24.2428 113.24 24.2941 114.147 24.0374L114.473 23.9441C115.196 23.7527 115.943 23.2347 116.358 22.5486Z",fill:"white"}),V.createElement("path",{d:"M118.649 21.6523L118.536 22.0677C119.245 22.5531 119.561 23.4259 119.335 24.2427L117.208 31.3228C116.877 32.429 116.069 33.3344 115.002 33.7964L114.902 34.2118H117.931H118.21H125.18L126.101 30.8934H125.666L125.51 31.2108C124.934 32.3963 123.72 33.1524 122.382 33.1524H119.429L121.003 27.5937H122.259C123.105 27.5937 123.743 28.3545 123.582 29.1759H124.012L125.043 25.4188H124.613C124.362 26.1142 123.696 26.5763 122.949 26.5809H121.291L122.382 22.7258L125.515 22.7211C126.536 22.7211 127.301 23.6452 127.098 24.6347H127.528L128.35 21.6523H118.649Z",fill:"white"}),V.createElement("path",{d:"M138.251 21.6582H131.333L131.22 22.0736C131.881 22.5263 132.207 23.3197 132.056 24.0898L129.892 31.324C129.561 32.4301 128.753 33.3356 127.685 33.7976L127.586 34.213H133.303L133.417 33.7976C132.68 33.1862 132.373 32.2014 132.637 31.282L133.686 27.5949H134.126C134.787 27.5949 135.34 28.085 135.416 28.7337C135.439 28.9437 135.77 31.506 136.035 32.3881C136.379 33.5409 136.833 34.213 137.868 34.213H140.453L140.552 33.7976L140.183 33.5829C139.451 33.1536 138.922 32.4908 138.685 31.6087C138.463 30.7779 138.043 29.2284 137.84 28.4117C137.736 27.9916 137.202 27.5996 136.654 27.5996H137.523C139.087 27.5996 140.457 26.5681 140.878 25.0839C141.365 23.3617 140.056 21.6582 138.251 21.6582ZM138.369 24.6872C138.029 25.812 136.98 26.5868 135.789 26.5868H133.974L135.071 22.7317H136.89C137.925 22.727 138.662 23.7118 138.369 24.6872Z",fill:"white"}),V.createElement("path",{d:"M100.265 22.2961C100.081 22.2961 99.6794 22.1701 99.0651 21.9181C98.4508 21.6661 97.8318 21.54 97.2034 21.54C95.904 21.54 94.8219 21.9554 93.9336 22.8422C93.1964 23.5796 92.8704 24.401 92.8704 25.1105C92.8704 25.8665 93.3193 26.7533 94.2124 27.4721C95.0582 28.1488 95.937 28.8022 96.8206 29.465C97.7468 30.1977 98.2098 30.8745 98.2098 31.4252C98.2098 32.634 97.416 33.2828 95.7669 33.2828C94.0942 33.2828 92.9366 32.074 92.568 29.8057H92.1144L90.8008 34.2162H91.226C91.7694 33.8382 92.1569 33.6001 92.946 33.6001C93.6973 33.6001 94.5006 34.4729 96.2158 34.4729C97.5814 34.4729 98.6682 34.1929 99.5943 33.2781C100.383 32.4753 100.776 31.3552 100.776 30.4404C100.776 29.591 100.237 28.6062 99.2966 27.8921C98.4886 27.2807 97.6286 26.7347 96.7923 26.1419C95.8898 25.4792 95.4362 24.9144 95.4362 24.2937C95.4362 23.9483 95.611 23.6076 95.9559 23.2622C96.3954 22.8282 96.986 22.7302 97.7751 22.7302C99.3581 22.7302 100.464 23.5983 100.558 25.4325H100.974L102.08 21.5447H101.664C101.215 22.0441 100.752 22.2961 100.265 22.2961Z",fill:"white"}),V.createElement("path",{d:"M149.201 22.7304C150.784 22.7304 151.89 23.6032 151.984 25.4327H152.4L153.501 21.5449H153.085C152.646 22.049 152.182 22.301 151.696 22.301C151.512 22.301 151.11 22.175 150.496 21.923C149.881 21.6709 149.262 21.5449 148.634 21.5449C147.334 21.5449 146.252 21.9603 145.364 22.8471C144.627 23.5845 144.296 24.4059 144.296 25.1153C144.296 25.8714 144.745 26.7582 145.638 27.477C146.484 28.1537 147.363 28.8071 148.246 29.4699C149.173 30.2026 149.636 30.8794 149.636 31.4301C149.636 32.6389 148.842 33.2876 147.193 33.2876C145.52 33.2876 144.362 32.0788 143.994 29.8106H143.54L142.227 34.2211H142.642C143.186 33.843 143.573 33.605 144.358 33.605C145.109 33.605 145.912 34.4778 147.627 34.4778C148.993 34.4778 150.075 34.1978 151.006 33.283C151.795 32.4802 152.187 31.3601 152.187 30.4453C152.187 29.6005 151.649 28.6111 150.708 27.897C149.9 27.2856 149.04 26.7395 148.204 26.1468C147.301 25.4841 146.848 24.9193 146.848 24.2986C146.848 23.9532 147.023 23.6125 147.368 23.2671C147.826 22.8237 148.412 22.7304 149.201 22.7304Z",fill:"white"}),V.createElement("path",{d:"M26.5433 2.60035C26.0377 2.44633 25.5321 2.72169 25.0265 3.00173C24.8469 3.09974 24.7194 3.27243 24.6768 3.46845L23.883 7.13222C23.8547 7.26757 23.9775 7.38891 24.1145 7.36091C24.9509 7.17422 25.7447 6.4508 26.5811 6.70283C27.5167 6.98753 28.4522 5.81606 29.3878 5.83006V1.60156C28.4475 1.60623 27.4789 2.88505 26.5433 2.60035Z",fill:"white"}),V.createElement("path",{d:"M38.4856 13.8398C38.2871 13.7044 38.1643 13.4851 38.1643 13.2471V12.5796C38.1643 11.9822 37.6729 11.4922 37.0633 11.4922H36.6239C36.0994 11.4922 35.6174 11.7536 35.3339 12.1876L33.9164 14.3485C33.7746 14.5632 33.5383 14.6892 33.2832 14.6892H32.3287C31.8562 14.6892 31.4215 14.9459 31.1947 15.3566C30.9631 15.7814 30.552 16.0754 30.0843 16.1734V1.1403C30.0843 0.94894 29.9283 0.794922 29.7346 0.794922C29.5409 0.794922 29.3849 0.94894 29.3849 1.1403V1.60702V5.83552V16.1827C28.9171 16.0847 28.506 15.7907 28.2745 15.3613C28.0524 14.9506 27.6177 14.6939 27.1405 14.6939H26.4979C25.9875 14.6939 25.5292 14.9879 25.3213 15.45L24.7873 16.6308C24.7023 16.8175 24.5133 16.9388 24.3054 16.9388C24.0975 16.9388 23.9085 16.8175 23.8234 16.6308L23.2895 15.45C23.0816 14.9926 22.6232 14.6939 22.1129 14.6939H4.00135C3.85487 14.6939 3.73674 14.8106 3.73674 14.9553C3.73674 15.2633 3.48158 15.5107 3.17444 15.5107H2.39007C2.24359 15.5107 2.12546 15.6273 2.12546 15.772V16.6728C2.12546 17.5176 1.96008 18.339 1.62931 19.1184L1.15207 20.2526C0.707907 21.3027 0.5 22.3901 0.5 23.4589V26.0726C0.5 26.7773 0.603954 27.4914 0.811861 28.1868C1.39306 30.1377 2.7161 31.7339 4.53529 32.6767L7.43182 34.1842C7.46962 34.2029 7.51214 34.2122 7.55467 34.2122L9.69517 34.2309C10.196 34.2355 10.6875 34.3616 11.1269 34.6043L12.2751 35.239C12.3129 35.2623 12.3602 35.2717 12.4074 35.2717H13.9431C14.4818 35.2717 15.0157 35.4163 15.474 35.6917C15.474 35.6917 16.2253 36.1444 16.4805 36.2891C16.8869 36.5225 17.3783 36.7465 18.2335 36.7932C18.4273 36.8025 18.621 36.7325 18.7675 36.5972C18.9092 36.4618 18.9943 36.2704 18.9943 36.0791V35.0616C18.9943 34.3242 19.4337 33.6521 20.1189 33.3581L22.4673 32.3406C22.7886 32.2006 23.1477 32.1773 23.4832 32.28L24.3621 32.5367C24.7354 32.644 25.1323 32.6487 25.5056 32.5367L27.5846 31.9253C27.8587 31.8459 28.1517 31.8459 28.4304 31.9299L29.2763 32.1633C29.6684 32.2706 29.9472 32.6347 29.9472 33.0361V35.071C29.9472 36.0184 30.7269 36.7932 31.6861 36.7932C32.4043 36.7932 33.0328 36.3405 33.2501 35.6637C33.6423 34.4456 33.8408 33.1761 33.8408 31.8973V31.0292C33.8408 30.4131 34.1006 29.8204 34.5543 29.3956L35.419 28.5882C36.0002 28.0421 36.3356 27.2674 36.3356 26.474V21.6481C36.3356 20.9013 36.5625 20.1779 36.9972 19.5618C37.0302 19.5198 37.0444 19.4638 37.0444 19.4125V18.2737C37.0444 17.5316 37.2712 16.8128 37.6965 16.2014L38.5517 14.9739C38.5848 14.9319 38.599 14.8806 38.599 14.8246V14.0545C38.6037 13.9098 38.5139 13.8585 38.4856 13.8398ZM30.0843 25.2838C30.6654 25.3725 31.1002 25.6665 31.1002 26.0212C31.1002 26.3759 30.6702 26.67 30.0843 26.7587V25.2838ZM5.22516 32.4433L4.78572 32.2146C3.59026 31.5939 2.63577 30.6698 1.9837 29.545V28.1355C2.73028 29.2043 3.74619 30.1144 4.98891 30.7631L5.22516 30.8845V32.4433ZM7.43654 33.5961L6.2647 32.9894V31.4305L7.43182 32.0373H7.43654V33.5961ZM12.3129 34.6556L11.3868 34.1422C10.8812 33.8622 10.3142 33.7128 9.73297 33.7035V32.0793C10.2197 32.0886 10.7016 32.2146 11.1269 32.448L12.2751 33.0827C12.2846 33.0874 12.2987 33.0874 12.3129 33.0921V34.6556ZM18.4603 35.0616V35.8551V36.0791C18.4603 36.1304 18.4367 36.1818 18.3989 36.2191C18.3611 36.2564 18.3139 36.2705 18.2619 36.2705C17.52 36.2331 17.0948 36.0418 16.7498 35.8411C16.4994 35.6964 15.7528 35.2483 15.7481 35.2483C15.2803 34.9683 14.7511 34.8143 14.2077 34.7723V33.1387C14.6519 33.1808 15.0866 33.3114 15.474 33.5401L16.1214 33.9228C16.8302 34.3429 17.6382 34.5809 18.4603 34.6276V35.0616ZM24.8582 32.0886C24.7448 32.084 24.6267 32.0653 24.5133 32.0326L23.6344 31.7713C23.4454 31.7152 23.2517 31.6966 23.0579 31.6966V30.0677C23.1997 30.0677 23.3414 30.0817 23.4832 30.1237L24.3621 30.3804C24.5227 30.4271 24.6928 30.4504 24.8582 30.4598V32.0886ZM30.363 32.4807C30.1929 32.0886 29.8574 31.7759 29.4275 31.6592L28.5864 31.4259C28.3879 31.3652 28.18 31.3419 27.9721 31.3419V29.7177C28.1328 29.713 28.2934 29.7317 28.4493 29.783L29.1392 29.9977C29.8716 30.2264 30.363 30.8891 30.363 31.6452V32.4807ZM32.787 35.365C32.7729 35.4117 32.7634 35.4584 32.7492 35.505C32.6028 35.9624 32.1775 36.2658 31.6955 36.2658C31.653 36.2658 31.6105 36.2564 31.568 36.2518V34.6323C31.601 34.6369 31.6294 34.6416 31.6625 34.6416C32.135 34.6416 32.565 34.3802 32.7918 33.9835V35.365H32.787ZM37.3232 15.0486C36.794 15.8047 36.5152 16.6915 36.5152 17.6109V18.4137L36.1041 19.0017C35.5702 19.7625 35.2867 20.6539 35.2867 21.578V25.6245C35.2867 26.2779 35.0126 26.9173 34.5306 27.3654L33.6659 28.1775C33.0847 28.7236 32.7634 29.489 32.787 30.2824L32.7918 30.4644C32.8248 31.5146 32.6878 32.56 32.3901 33.5681C32.2956 33.8902 31.9932 34.1142 31.6577 34.1142C31.2372 34.1142 30.8923 33.7782 30.8923 33.3581V31.6452C30.8923 30.6558 30.2496 29.7923 29.2952 29.4983L28.6053 29.2836C28.2225 29.1669 27.8209 29.1623 27.4334 29.2743L25.3544 29.881C25.0803 29.9604 24.7873 29.9604 24.5133 29.881L23.6344 29.6243C23.1808 29.489 22.6894 29.5217 22.2547 29.7083L20.4071 30.5111C19.2258 31.0245 18.4651 32.1773 18.4651 33.4515V34.1095C17.7374 34.0675 17.0286 33.8528 16.4002 33.4795L15.7528 33.0967C15.2047 32.7747 14.581 32.602 13.9431 32.602H12.4736L11.3868 31.9999C10.8717 31.7152 10.2905 31.5659 9.69989 31.5612L7.62082 31.5472L5.23461 30.3057C1.61514 28.4249 0.0700101 24.1917 1.64349 20.4579L2.12073 19.3238C2.47512 18.4837 2.6594 17.5922 2.6594 16.6775V16.0427H3.17444C3.68476 16.0427 4.11948 15.6927 4.2376 15.2213H22.1176C22.4153 15.2213 22.6894 15.394 22.8075 15.6647L23.3414 16.8455C23.5115 17.2235 23.8896 17.4662 24.3101 17.4662C24.7259 17.4662 25.1087 17.2235 25.2788 16.8455L25.8127 15.66C25.9356 15.3893 26.2049 15.2166 26.5026 15.2166H27.1452C27.424 15.2166 27.6791 15.366 27.8114 15.6087C28.1375 16.2061 28.7234 16.6075 29.3897 16.7148V24.145C28.317 24.2617 27.4949 24.8918 27.4949 25.6572C27.4949 26.5066 28.4966 27.1927 29.7346 27.1927C30.9726 27.1927 31.9743 26.5066 31.9743 25.6572C31.9743 24.8918 31.1521 24.257 30.0795 24.145V16.7101C30.7458 16.6028 31.3317 16.2014 31.6577 15.604C31.79 15.3613 32.0452 15.212 32.324 15.212H33.2785C33.7179 15.212 34.1195 14.9926 34.3605 14.6286L35.7781 12.4676C35.9624 12.1829 36.2789 12.0149 36.6239 12.0149H37.0633C37.3752 12.0149 37.6303 12.2669 37.6303 12.575V13.2424C37.6303 13.5644 37.7579 13.8725 37.98 14.1012L37.3232 15.0486ZM29.3849 25.2838V26.7587C28.8037 26.67 28.3737 26.3759 28.3737 26.0212C28.3737 25.6665 28.8037 25.3678 29.3849 25.2838Z",fill:"white"})),boe=t=>V.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Group 483737"},V.createElement("g",{id:"Icon / Live"},V.createElement("path",{id:"circle-path",fillRule:"evenodd",clipRule:"evenodd",d:"M9 17C4.58172 17 1 13.4183 1 9C1 4.58172 4.58172 1 9 1C13.4183 1 17 4.58172 17 9C17 13.4183 13.4183 17 9 17Z",stroke:"#107D57"}),V.createElement("path",{id:"Combined Shape",fillRule:"evenodd",clipRule:"evenodd",d:"M10.6432 6.12891C10.9551 6.12891 11.2103 6.37162 11.2302 6.67846L11.2315 6.71714V7.55879L13.3334 6.46776C13.6362 6.31058 13.9959 6.51777 14.0195 6.85057L14.0207 6.88543V11.1406C14.0207 11.4763 13.6813 11.7002 13.3764 11.578L13.345 11.5641L11.2315 10.54V11.2818C11.2315 11.5937 10.9887 11.8489 10.6819 11.8688L10.6432 11.8701H5.11851C4.80663 11.8701 4.55144 11.6274 4.53152 11.3205L4.53027 11.2818V6.71714C4.53027 6.40526 4.77299 6.15007 5.07983 6.13016L5.11851 6.12891H10.6432ZM10.2897 7.07007H5.4709V10.9289H10.2897V7.07007ZM13.0792 7.65972L11.2396 8.61454V9.49831L13.0792 10.3896V7.65972Z",fill:"#107D57"})))),voe=t=>V.createElement("svg",{width:14,height:17,viewBox:"0 0 14 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Icon / Games"},V.createElement("path",{id:"Icon / Games_2",d:"M6.27412 2.68557L6.27411 2.68557C5.62309 2.63368 5.0525 3.12172 5.00064 3.7713L5.00064 3.77134L4.14164 14.5465C4.14163 14.5465 4.14163 14.5465 4.14163 14.5465C4.08978 15.1963 4.57588 15.7681 5.22739 15.82C5.22741 15.82 5.22742 15.82 5.22744 15.82L11.3107 16.3052L11.3108 16.3052C11.9618 16.3571 12.5324 15.869 12.5842 15.2194L12.5842 15.2194L13.4432 4.4443C13.4951 3.79528 13.0091 3.22266 12.3575 3.17076C12.3575 3.17076 12.3574 3.17076 12.3574 3.17076L6.27412 2.68557ZM8.15378 7.95339C8.06822 8.08171 8.00584 8.22011 7.96597 8.36701L7.39679 8.32084C7.47153 7.93067 7.63452 7.64794 7.86868 7.44845C8.15963 7.20058 8.54037 7.08303 9.04377 7.12388C9.36277 7.14976 9.62596 7.23281 9.84206 7.36455L9.84205 7.36458L9.84603 7.36693C10.0639 7.49535 10.2189 7.65832 10.3213 7.85605C10.4234 8.05317 10.4683 8.27793 10.4483 8.53948C10.4345 8.71901 10.392 8.86521 10.3278 8.98465L10.3277 8.98461L10.3242 8.99151C10.2546 9.12905 10.1759 9.23612 10.0908 9.31799L10.0907 9.31793L10.0855 9.32326C9.98974 9.41994 9.85909 9.53313 9.69013 9.66317C9.48159 9.8217 9.31317 9.96772 9.19518 10.0999L9.19509 10.0998L9.18961 10.1063C9.10272 10.2092 9.04052 10.3244 9.00219 10.449L8.46556 10.4054C8.49427 10.3132 8.5356 10.2357 8.58714 10.17C8.70826 10.0178 8.8862 9.84033 9.1277 9.63726C9.33755 9.46764 9.50811 9.30895 9.63088 9.16198L9.39343 8.96362L9.63088 9.16198C9.77451 8.99005 9.86011 8.79 9.87715 8.56784C9.89609 8.32086 9.82923 8.08941 9.6571 7.90614C9.48861 7.71582 9.25493 7.62752 9.00193 7.60699L8.97691 7.91539L9.00193 7.60699C8.67115 7.58016 8.35479 7.66584 8.15766 7.94771L8.1576 7.94766L8.15378 7.95339ZM8.84046 11.5393L8.84024 11.5394L8.84882 11.5493C8.9033 11.6122 8.9274 11.681 8.92009 11.7763C8.91337 11.8639 8.88049 11.9307 8.81121 11.9916L8.81117 11.9915L8.8063 11.996C8.74838 12.0491 8.68489 12.0727 8.59225 12.0652C8.49804 12.0575 8.43752 12.0248 8.38914 11.9687C8.34013 11.9019 8.31721 11.826 8.32494 11.7253L8.01644 11.7016L8.32494 11.7253C8.33288 11.6218 8.36807 11.5555 8.42399 11.5042L8.2147 11.2763L8.42377 11.5044C8.48168 11.4513 8.54518 11.4277 8.63782 11.4352C8.73051 11.4427 8.79051 11.4764 8.84046 11.5393Z",stroke:"#107D57",strokeWidth:.618817}),V.createElement("path",{id:"Icon / Games_3",d:"M7.74941 0.00278796L1.66605 0.487981C1.18503 0.526267 0.82584 0.949506 0.864126 1.42843L1.72313 12.2036C1.76142 12.6832 2.18327 13.0438 2.66359 13.0055L3.18754 12.9637L3.97219 3.12062C4.0418 2.24421 4.81101 1.58916 5.68742 1.65878L8.7776 1.90524L8.68986 0.804714C8.65157 0.32509 8.22973 -0.0354984 7.74941 0.00278796Z",fill:"#107D57"}))),Eoe=t=>V.createElement("svg",{width:19,height:14,viewBox:"0 0 19 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Icon / LeaderBoard"},V.createElement("path",{id:"Combined Shape",fillRule:"evenodd",clipRule:"evenodd",d:"M16.8236 2.46643C16.436 2.23624 16.1759 1.81093 16.1759 1.32432C16.1759 0.59292 16.7636 0 17.4885 0C18.2134 0 18.8011 0.59292 18.8011 1.32432C18.8011 1.81093 18.541 2.23624 18.1534 2.46643C18.5192 2.51678 18.8011 2.83327 18.8011 3.2162V10.7838C18.8011 11.2017 18.4653 11.5405 18.051 11.5405H16.926L16.9147 11.5404H10.9255V11.5406V13.2433C10.9255 13.6612 10.5897 14 10.1755 14H8.67539C8.26115 14 7.92534 13.6612 7.92534 13.2433V11.5406V11.5404H1.93622L1.92493 11.5405H0.799856C0.385614 11.5405 0.0498047 11.2017 0.0498047 10.7838V3.2162C0.0498047 2.83328 0.331692 2.51678 0.697521 2.46643C0.309923 2.23624 0.0498047 1.81093 0.0498047 1.32432C0.0498047 0.59292 0.637471 0 1.36239 0C2.08732 0 2.67498 0.59292 2.67498 1.32432C2.67498 1.81093 2.41487 2.23624 2.02727 2.46643C2.16328 2.48515 2.28769 2.54066 2.39032 2.62269C4.78264 1.62379 7.12768 1.12793 9.42545 1.13511C11.7225 1.14228 14.0669 1.63872 16.4584 2.62442C16.5615 2.54144 16.6867 2.48528 16.8236 2.46643ZM1.92494 10.7837L1.92493 3.21617H0.799862V10.7837H1.92494ZM16.1759 3.32547C13.8707 2.37522 11.6209 1.89875 9.42314 1.89189C7.2272 1.88503 4.97905 2.36051 2.675 3.32285V10.7837H16.1759V3.32547ZM17.4885 1.89189C17.7992 1.89189 18.0511 1.63779 18.0511 1.32433C18.0511 1.01087 17.7992 0.75676 17.4885 0.75676C17.1778 0.75676 16.926 1.01087 16.926 1.32433C16.926 1.63779 17.1778 1.89189 17.4885 1.89189ZM16.926 3.21617V10.7837H18.0511V3.21617H16.926ZM8.67538 13.2432V11.5405H10.1755V13.2432H8.67538ZM1.3624 1.89189C1.67308 1.89189 1.92494 1.63779 1.92494 1.32433C1.92494 1.01087 1.67308 0.75676 1.3624 0.75676C1.05172 0.75676 0.799862 1.01087 0.799862 1.32433C0.799862 1.63779 1.05172 1.89189 1.3624 1.89189Z",fill:"#107D57"}))),Aoe=t=>V.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{clipPath:"url(#clip0_1664_3009)"},V.createElement("path",{d:"M21 19V5C21 3.9 20.1 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19ZM8.5 13.5L11 16.51L14.5 12L19 18H5L8.5 13.5Z",fill:"#B6B9C6"})),V.createElement("defs",null,V.createElement("clipPath",{id:"clip0_1664_3009"},V.createElement("rect",{width:24,height:24,fill:"white"})))),Soe=t=>V.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"check"},V.createElement("path",{id:"Vector",d:"M3.59985 10.8L7.59985 14.8L16.3999 5.20001",stroke:"white",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"}))),Toe=t=>V.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"cross"},V.createElement("path",{id:"Vector",d:"M5.19995 14.8L14.8 5.20001M5.19995 5.20001L14.8 14.8",stroke:"white",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"}))),Roe=t=>V.createElement("svg",{width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 2.46154C8.52291 2.46154 2.46154 8.52291 2.46154 16C2.46154 23.4771 8.52291 29.5385 16 29.5385C23.4771 29.5385 29.5385 23.4771 29.5385 16C29.5385 8.52291 23.4771 2.46154 16 2.46154ZM0 16C0 7.16344 7.16344 0 16 0C24.8366 0 32 7.16344 32 16C32 24.8366 24.8366 32 16 32C7.16344 32 0 24.8366 0 16Z",fill:"#FFB600"}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 8.20513C16.6797 8.20513 17.2308 8.75616 17.2308 9.4359V17.641C17.2308 18.3208 16.6797 18.8718 16 18.8718C15.3203 18.8718 14.7692 18.3208 14.7692 17.641V9.4359C14.7692 8.75616 15.3203 8.20513 16 8.20513Z",fill:"#FFB600"}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7692 22.5641C14.7692 21.8844 15.3203 21.3333 16 21.3333H16.0164C16.6961 21.3333 17.2472 21.8844 17.2472 22.5641C17.2472 23.2438 16.6961 23.7949 16.0164 23.7949H16C15.3203 23.7949 14.7692 23.2438 14.7692 22.5641Z",fill:"#FFB600"})),Coe=t=>V.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Icon/Insight"},V.createElement("path",{id:"Fill-1",fillRule:"evenodd",clipRule:"evenodd",d:"M9.3336 9.33644C8.59749 10.0725 7.40264 10.0725 6.66652 9.33644C5.93041 8.60039 5.93041 7.40565 6.66652 6.6696C7.40264 5.93355 8.59749 5.93355 9.3336 6.6696C10.0697 7.40565 10.0697 8.60039 9.3336 9.33644Z",fill:"#107D57"}),V.createElement("path",{id:"Fill-3",fillRule:"evenodd",clipRule:"evenodd",d:"M12.3345 12.3306C11.7818 12.8833 10.8863 12.8827 10.3342 12.3306C9.78211 11.7786 9.78145 10.8832 10.3342 10.3305C10.8869 9.77781 11.7824 9.77847 12.3345 10.3305C12.8866 10.8825 12.8873 11.7779 12.3345 12.3306Z",fill:"#107D57"}),V.createElement("path",{id:"Fill-5",fillRule:"evenodd",clipRule:"evenodd",d:"M5.66586 5.66365C5.11311 6.21635 4.21831 6.21635 3.66556 5.66365C3.11281 5.11094 3.11281 4.21622 3.66556 3.66352C4.21831 3.11081 5.11311 3.11081 5.66586 3.66352C6.21861 4.21622 6.21861 5.11094 5.66586 5.66365Z",fill:"#107D57"}),V.createElement("path",{id:"Fill-7",fillRule:"evenodd",clipRule:"evenodd",d:"M12.3345 5.66365C11.7818 6.21635 10.8869 6.21635 10.3342 5.66365C9.78145 5.11094 9.78145 4.21622 10.3342 3.66352C10.8869 3.11081 11.7818 3.11081 12.3345 3.66352C12.8873 4.21622 12.8873 5.11094 12.3345 5.66365Z",fill:"#107D57"}),V.createElement("path",{id:"Fill-9",fillRule:"evenodd",clipRule:"evenodd",d:"M5.66586 12.3306C5.11378 12.8827 4.21831 12.8833 3.66556 12.3306C3.11281 11.7779 3.11347 10.8825 3.66556 10.3305C4.21764 9.77847 5.11311 9.77781 5.66586 10.3305C6.21861 10.8832 6.21795 11.7786 5.66586 12.3306Z",fill:"#107D57"}),V.createElement("path",{id:"Fill-11",opacity:.5,fillRule:"evenodd",clipRule:"evenodd",d:"M8.66683 1.99964C8.29877 2.36766 7.70135 2.36766 7.33329 1.99964C6.96524 1.63162 6.96524 1.03425 7.33329 0.666221C7.70135 0.298198 8.29877 0.298198 8.66683 0.666221C9.03489 1.03425 9.03489 1.63162 8.66683 1.99964Z",fill:"#107D57"}),V.createElement("path",{id:"Fill-13",opacity:.5,fillRule:"evenodd",clipRule:"evenodd",d:"M15.3332 8.66676C14.9652 9.03478 14.3684 9.03545 13.9997 8.66675C13.631 8.29806 13.6316 7.70136 13.9997 7.33334C14.3677 6.96531 14.9645 6.96464 15.3332 7.33334C15.7019 7.70203 15.7013 8.29873 15.3332 8.66676Z",fill:"#107D57"}),V.createElement("path",{id:"Fill-15",opacity:.5,fillRule:"evenodd",clipRule:"evenodd",d:"M8.66683 15.3339C8.29811 15.7026 7.70202 15.7026 7.33329 15.3339C6.96457 14.9652 6.96457 14.3691 7.33329 14.0004C7.70202 13.6318 8.29811 13.6318 8.66683 14.0005C9.03555 14.3691 9.03555 14.9652 8.66683 15.3339Z",fill:"#107D57"}),V.createElement("path",{id:"Fill-17",opacity:.5,fillRule:"evenodd",clipRule:"evenodd",d:"M2.00033 8.66676C1.6316 9.03545 1.03484 9.03478 0.666788 8.66676C0.298732 8.29873 0.298065 7.70203 0.666788 7.33334C1.03551 6.96465 1.63227 6.96531 2.00033 7.33334C2.36838 7.70136 2.36905 8.29806 2.00033 8.66676Z",fill:"#107D57"}))),Ioe=t=>V.createElement("svg",{width:23,height:19,viewBox:"0 0 23 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.406282 4.85302C0.406282 2.58132 2.24786 0.739746 4.51956 0.739746H18.2305C20.5022 0.739746 22.3437 2.58132 22.3437 4.85302C22.3437 7.12472 20.5022 8.96629 18.2305 8.96629H4.51955C2.24785 8.96629 0.406282 7.12472 0.406282 4.85302ZM1.97322 4.85306C1.97322 3.44677 3.11324 2.30675 4.51953 2.30675H16.0759V7.39937H4.51953C3.11324 7.39937 1.97322 6.25935 1.97322 4.85306Z",fill:"white"}),V.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.40625 14.6465C0.40625 12.3748 2.24783 10.5332 4.51952 10.5332H18.2304C20.5021 10.5332 22.3437 12.3748 22.3437 14.6465C22.3437 16.9182 20.5021 18.7597 18.2304 18.7597H4.51952C2.24782 18.7597 0.40625 16.9182 0.40625 14.6465ZM1.97322 14.6465C1.97322 13.2402 3.11324 12.1002 4.51953 12.1002H12.1585V17.1928H4.51953C3.11324 17.1928 1.97322 16.0528 1.97322 14.6465Z",fill:"white"})),woe=t=>V.createElement("svg",{width:35,height:35,viewBox:"0 0 35 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{d:"M18.0391 21.544C18.4637 21.544 18.7634 21.2688 18.7884 20.8184C19.5129 14.9393 19.7877 14.7892 25.7831 13.7885C26.2576 13.7384 26.5324 13.4882 26.5324 13.0629C26.5324 12.6627 26.2576 12.4125 25.8831 12.3374L25.617 12.2868C19.8278 11.1861 19.5021 11.1241 18.7884 5.33245C18.7634 4.88213 18.4637 4.60693 18.0391 4.60693C17.6643 4.60693 17.3646 4.88213 17.3394 5.30743C16.5652 11.2867 16.3652 11.4618 10.2449 12.3374C9.87015 12.3875 9.59537 12.6627 9.59537 13.0629C9.59537 13.4632 9.87015 13.7384 10.2449 13.7885L10.4306 13.8249C16.3689 14.9894 16.5482 15.0246 17.3394 20.8685C17.3646 21.2688 17.6643 21.544 18.0391 21.544Z",fill:"white"}),V.createElement("path",{d:"M22.6105 31.3153C22.8391 31.3153 23.0005 31.1672 23.014 30.9247C23.4041 27.759 23.5521 27.6781 26.7804 27.1393C27.0359 27.1124 27.1838 26.9776 27.1838 26.7486C27.1838 26.5331 27.0359 26.3984 26.8342 26.358L26.6909 26.3307C23.5737 25.738 23.3983 25.7047 23.014 22.5861C23.0005 22.3436 22.8391 22.1954 22.6105 22.1954C22.4087 22.1954 22.2473 22.3436 22.2338 22.5726C21.8169 25.7922 21.7092 25.8865 18.4136 26.358C18.2119 26.3849 18.0639 26.5331 18.0639 26.7486C18.0639 26.9642 18.2119 27.1124 18.4136 27.1393L18.5136 27.1589C21.7112 27.786 21.8077 27.8049 22.2338 30.9516C22.2473 31.1672 22.4087 31.3153 22.6105 31.3153Z",fill:"white"}),V.createElement("path",{d:"M7.86401 20.6693C7.85634 20.8079 7.76411 20.8925 7.63346 20.8925C7.51815 20.8925 7.42593 20.8079 7.41819 20.6847C7.17473 18.8866 7.11956 18.8758 5.29238 18.5174L5.23526 18.5062C5.11995 18.4908 5.0354 18.4062 5.0354 18.283C5.0354 18.1598 5.11995 18.0752 5.23526 18.0598C7.11844 17.7903 7.17996 17.7365 7.41819 15.8967C7.42593 15.7658 7.51815 15.6811 7.63346 15.6811C7.76411 15.6811 7.85634 15.7658 7.86401 15.9044C8.08364 17.6864 8.18385 17.7055 9.96513 18.0442L10.047 18.0598C10.1623 18.0829 10.2468 18.1598 10.2468 18.283C10.2468 18.4139 10.1623 18.4908 10.0162 18.5062C8.1715 18.8141 8.08695 18.8603 7.86401 20.6693Z",fill:"white"})),xoe=t=>V.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Icon/Notification/Trivia"},V.createElement("path",{id:"Notification/Icon/Trivia",fillRule:"evenodd",clipRule:"evenodd",d:"M2.01663 1.3808C0.739913 1.55586 -0.153153 2.73276 0.021912 4.00948L1.3808 13.9196C1.55586 15.1963 2.73276 16.0894 4.00948 15.9143L13.9196 14.5554C15.1963 14.3803 16.0894 13.2034 15.9143 11.9267L14.5554 2.01663C14.3803 0.739913 13.2034 -0.153153 11.9267 0.021912L2.01663 1.3808ZM9.59613 3.788C9.11431 3.46991 8.47813 3.30151 7.7566 3.30151C7.54377 3.30151 7.32625 3.31671 7.10872 3.34478C6.38836 3.44067 5.68901 3.79034 5.18965 4.30138C4.68445 4.82062 4.4377 5.45563 4.51722 6.04151C4.57452 6.4742 4.90078 6.7537 5.34635 6.7537C5.39429 6.7537 5.44341 6.7502 5.49136 6.74435C6.08778 6.66483 6.21642 6.25436 6.34036 5.85675L6.34045 5.85648C6.48192 5.40401 6.61534 4.97731 7.38585 4.87444C7.46537 4.86391 7.54138 4.85806 7.61506 4.85806C8.16939 4.85806 8.51436 5.15042 8.58454 5.68252C8.65353 6.20293 8.24307 6.61807 7.80684 7.0566L7.80393 7.05954C7.31582 7.55231 6.7639 8.1095 6.86895 8.90083C6.89585 9.10548 6.9859 9.29493 7.12272 9.43644C7.27826 9.599 7.4829 9.68436 7.71331 9.68436C7.75541 9.68436 7.79868 9.68203 7.84311 9.67618C8.46691 9.59324 8.55162 9.23139 8.63338 8.8821L8.63365 8.88097L8.63661 8.86859C8.66723 8.7403 8.69877 8.60813 8.75995 8.48804C8.84649 8.31613 9.06283 8.11265 9.31428 7.87875C9.9142 7.31858 10.734 6.55143 10.582 5.41589C10.4872 4.70603 10.1551 4.15757 9.59611 3.78802L9.59613 3.788ZM8.11605 10.28C8.06927 10.28 8.02132 10.2836 7.97454 10.2894C7.38396 10.3689 6.96765 10.9127 7.04599 11.5033C7.11733 12.0377 7.57808 12.4412 8.1172 12.4412C8.16397 12.4412 8.21192 12.4377 8.25987 12.4318C8.85045 12.3523 9.2656 11.8085 9.18842 11.2179C9.11591 10.6823 8.65517 10.28 8.11605 10.28Z",fill:"white",fillOpacity:.5}))),Voe=t=>V.createElement("svg",{width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("rect",{x:.5,width:16,height:16,rx:8,fill:"white",style:{fill:"white",fillOpacity:1}}),V.createElement("path",{d:"M4.75 8.5L7.09375 11L12.25 5",stroke:"#107D57",style:{stroke:"#107D57",stroke:"color(display-p3 0.0627 0.4902 0.3412)",strokeOpacity:1},strokeLinecap:"round",strokeLinejoin:"round"})),Noe=t=>V.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("path",{id:"Selected",fillRule:"evenodd",clipRule:"evenodd",d:"M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM11.6057 5.43441C11.2933 5.12199 10.7868 5.12199 10.4744 5.43441L6.93812 9.97066L5.08382 8.73446C4.7162 8.48938 4.2195 8.58871 3.97442 8.95634C3.72934 9.32396 3.82868 9.82065 4.1963 10.0657L6.5963 11.6657C6.9136 11.8773 7.33609 11.8354 7.60574 11.5658L11.6057 6.56578C11.9182 6.25336 11.9182 5.74683 11.6057 5.43441Z",fill:"#107D57"})),_oe=t=>V.createElement("svg",{width:103,height:18,viewBox:"0 0 103 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{clipPath:"url(#clip0_6919_104497)"},V.createElement("path",{d:"M9.89618 3.45801C9.91951 3.45801 9.94451 3.46134 9.96784 3.46134C9.97618 3.46134 9.98284 3.46134 9.99118 3.46467H9.99784C10.0095 3.46467 10.0212 3.46801 10.0312 3.46801C10.0412 3.46801 10.0462 3.46801 10.0545 3.47134C10.0762 3.47467 10.0962 3.47467 10.1178 3.47634C10.1412 3.47967 10.1662 3.48134 10.1895 3.48467H10.2012C10.2462 3.48967 10.2945 3.49634 10.3395 3.50467C10.4512 3.52467 10.5595 3.54801 10.6662 3.57801C10.6928 3.58301 10.7178 3.59301 10.7445 3.60134H10.7478C10.7745 3.60967 10.7995 3.61801 10.8262 3.62467C10.8528 3.63301 10.8778 3.64134 10.9045 3.65134C10.9312 3.65967 10.9562 3.66801 10.9795 3.67967C11.0012 3.68801 11.0212 3.69634 11.0428 3.70634C11.0495 3.70967 11.0578 3.71134 11.0645 3.71467C11.0828 3.72301 11.1012 3.72967 11.1195 3.73801C11.1262 3.74134 11.1312 3.74301 11.1378 3.74634C11.1562 3.75467 11.1712 3.76134 11.1895 3.76967C11.1962 3.77301 11.2045 3.77467 11.2128 3.78134C11.2345 3.78967 11.2528 3.79801 11.2728 3.80967C11.2762 3.80967 11.2795 3.81301 11.2812 3.81301C11.3045 3.82467 11.3295 3.83634 11.3512 3.84801C11.3695 3.85634 11.3878 3.86801 11.4062 3.87634C11.4212 3.88134 11.4328 3.89134 11.4462 3.89967C11.4645 3.91134 11.4828 3.91967 11.5012 3.93134C11.5045 3.93467 11.5078 3.93467 11.5095 3.93634L11.5728 3.97467H11.5762L15.2178 6.18801L15.4412 6.32467C16.3228 6.90801 16.9028 7.88467 16.9028 8.99301C16.9028 10.1013 16.3262 11.0763 15.4445 11.6613L15.2095 11.803L11.5745 14.0113H11.5712L11.5078 14.0497C11.5078 14.0497 11.5012 14.053 11.4995 14.0547C11.4812 14.0663 11.4628 14.0747 11.4445 14.0863C11.4595 14.078 11.4745 14.0697 11.4895 14.0597L5.94951 17.433C5.94951 17.433 5.94618 17.433 5.94618 17.4363L5.74451 17.558H5.74118C5.19784 17.863 4.55784 18.0247 3.87784 17.993C2.73618 17.938 1.75784 17.3463 1.19284 16.4847C0.837844 15.9413 0.64451 15.2913 0.681177 14.6013C0.71451 13.983 0.922844 13.4147 1.26118 12.9397L1.26951 12.9247L4.04451 8.99634L6.77784 5.12634C6.81118 5.07967 6.84784 5.03301 6.87784 4.98467C6.87451 4.98967 6.86951 4.99967 6.86284 5.00467C6.87118 4.98967 6.88118 4.97634 6.88951 4.96134C6.88951 4.95801 6.89284 4.95801 6.89284 4.95634C6.89618 4.95301 6.89951 4.94801 6.90118 4.94467C6.90118 4.94467 6.90118 4.94134 6.90451 4.94134C6.91951 4.92134 6.93451 4.90134 6.94618 4.87801C6.96118 4.85801 6.97618 4.83801 6.99118 4.81634C7.00618 4.79634 7.02118 4.77634 7.03618 4.75467C7.03951 4.75134 7.03951 4.74967 7.04284 4.74634C7.04618 4.74301 7.04618 4.74134 7.04951 4.74134C7.06451 4.72134 7.07951 4.70134 7.09784 4.67967C7.10951 4.66467 7.12118 4.65134 7.13451 4.63634C7.16784 4.59801 7.20118 4.56134 7.23784 4.52301C7.25284 4.50801 7.26451 4.49467 7.27951 4.47967C7.30118 4.45634 7.32118 4.43634 7.34618 4.41634C7.36451 4.39967 7.38284 4.38134 7.40118 4.36467C7.41951 4.34801 7.43451 4.33301 7.45284 4.31801C7.45618 4.31467 7.45951 4.31301 7.45951 4.31301C7.47118 4.30134 7.48118 4.29301 7.49284 4.28467C7.50451 4.27301 7.51951 4.26134 7.53284 4.25301C7.53618 4.24967 7.53951 4.24801 7.54118 4.24801C7.55951 4.23301 7.57451 4.21967 7.59284 4.20467C7.60784 4.18967 7.62618 4.17801 7.64118 4.16634C7.65618 4.15467 7.66784 4.14634 7.68284 4.13467C7.70118 4.11967 7.71951 4.10801 7.73784 4.09467C7.75284 4.08634 7.76451 4.07467 7.77951 4.06634C7.78618 4.06134 7.79451 4.05467 7.80284 4.05134C7.81784 4.03967 7.83284 4.03134 7.84784 4.02301C7.85118 4.01967 7.85618 4.01801 7.85951 4.01467C7.87784 4.00301 7.89618 3.99134 7.91118 3.98301C7.91784 3.97801 7.92618 3.97467 7.93284 3.96801C7.94784 3.95967 7.95951 3.95134 7.97451 3.94134C7.98284 3.93634 7.99284 3.92967 8.00118 3.92467C8.01618 3.91634 8.03451 3.90801 8.04951 3.89634C8.05284 3.89301 8.05784 3.89134 8.06451 3.88801C8.08618 3.87634 8.10451 3.86467 8.12451 3.85634C8.12784 3.85301 8.13118 3.85301 8.13618 3.85134C8.15784 3.83967 8.17784 3.82801 8.19951 3.81967C8.19951 3.81967 8.20284 3.81967 8.20284 3.81634C8.22618 3.80467 8.24784 3.79301 8.27284 3.78134C8.27284 3.78134 8.27618 3.78134 8.27618 3.77801C8.29451 3.76967 8.31284 3.76134 8.33284 3.75134C8.34118 3.74801 8.35118 3.74301 8.35951 3.73967C8.37118 3.73467 8.38284 3.72801 8.39618 3.72467C8.41118 3.71967 8.42284 3.71301 8.43784 3.70801C8.46118 3.69967 8.48284 3.69134 8.50784 3.68134C8.52284 3.67634 8.53451 3.66967 8.54951 3.66634C8.57118 3.65801 8.59118 3.65134 8.61284 3.64301C8.63118 3.63801 8.65284 3.63134 8.66951 3.62301C8.75451 3.59634 8.83784 3.57134 8.92284 3.54967C8.94118 3.54467 8.96284 3.54134 8.97951 3.53801C9.08451 3.51467 9.19451 3.49467 9.30284 3.48301C9.32951 3.47967 9.35784 3.47801 9.38451 3.47467C9.42118 3.47134 9.45951 3.46967 9.49618 3.46634C9.51118 3.46634 9.52284 3.46301 9.53784 3.46301H9.55951C9.58951 3.46301 9.61618 3.45967 9.64784 3.45967H9.73784C9.79451 3.45967 9.84284 3.45967 9.89451 3.46301L9.89618 3.45801ZM10.6662 14.413C10.5612 14.4413 10.4512 14.4647 10.3395 14.4863C10.4512 14.4663 10.5595 14.443 10.6662 14.413ZM9.56118 14.5313H9.56951C9.56118 14.5313 9.54784 14.5313 9.53951 14.528C9.54618 14.528 9.55451 14.5313 9.56118 14.5313ZM7.08784 13.293C7.05451 13.253 7.02451 13.2147 6.99451 13.1747C7.02451 13.2147 7.05784 13.253 7.08784 13.293ZM6.90284 13.043C6.90284 13.043 6.90618 13.0463 6.90618 13.048C6.90284 13.0447 6.90284 13.043 6.89951 13.0363C6.89618 13.033 6.89618 13.0297 6.89284 13.0247C6.86951 12.9897 6.84784 12.953 6.82284 12.918C6.84451 12.953 6.86784 12.9913 6.88951 13.0247C6.89618 13.0297 6.89784 13.0363 6.90118 13.0413L6.90284 13.043ZM6.89451 13.0263C6.85784 12.968 6.81951 12.913 6.77618 12.858L6.89451 13.0263Z",fill:"#1652A8",style:{fill:"#1652A8",fill:"color(display-p3 0.0863 0.3216 0.6588)",fillOpacity:1}}),V.createElement("g",{opacity:.85},V.createElement("path",{d:"M5.77088 0.453306L5.97588 0.578306L5.97921 0.581639L11.5225 3.94997C11.5075 3.94164 11.4925 3.93331 11.4775 3.92331C11.4959 3.93497 11.5142 3.94331 11.5325 3.95497C11.5359 3.95831 11.5392 3.95831 11.5409 3.95997L11.6042 3.99831H11.6075L15.2492 6.21164L15.4725 6.34831C16.3542 6.93164 16.9342 7.9083 16.9342 9.01664C16.9342 10.125 16.3575 11.1 15.4759 11.685L15.2409 11.8266L11.6059 14.035H11.6025L11.5392 14.0733C11.5392 14.0733 11.5325 14.0766 11.5309 14.0783C11.5125 14.09 11.4942 14.0983 11.4759 14.11C11.4642 14.1183 11.4492 14.125 11.4359 14.1333C11.4175 14.145 11.3992 14.1533 11.3809 14.1616C11.3575 14.1733 11.3359 14.185 11.3109 14.1966C11.3075 14.2 11.3042 14.2 11.3025 14.2C11.2842 14.2116 11.2625 14.22 11.2425 14.2283C11.2359 14.2316 11.2275 14.2333 11.2192 14.24C11.2009 14.2483 11.1859 14.255 11.1675 14.2633C11.1609 14.2666 11.1592 14.2683 11.1525 14.2683C11.1309 14.2766 11.1109 14.285 11.0859 14.2966C11.0625 14.3083 11.0342 14.3166 11.0109 14.325C10.9875 14.3333 10.9592 14.345 10.9359 14.3533C10.9092 14.3616 10.8842 14.37 10.8575 14.38C10.8309 14.3883 10.8059 14.3966 10.7792 14.4033H10.7759C10.7492 14.4116 10.7242 14.4183 10.6975 14.4266C10.5925 14.455 10.4825 14.4783 10.3709 14.4983C10.3259 14.5066 10.2775 14.5133 10.2325 14.5183C10.2259 14.5183 10.2242 14.5183 10.2209 14.5216C10.1975 14.525 10.1725 14.5283 10.1492 14.53C10.1009 14.5366 10.0525 14.5383 10.0042 14.5416C9.92921 14.5483 9.85254 14.5483 9.77754 14.5483H9.68088C9.65421 14.5483 9.62921 14.545 9.60254 14.545C9.59421 14.545 9.58088 14.545 9.57254 14.5416C9.53254 14.5383 9.49088 14.5366 9.45254 14.5333C9.27421 14.5166 9.09588 14.4866 8.92754 14.4466C8.90421 14.44 8.87921 14.435 8.85254 14.4266C8.81921 14.4183 8.78588 14.41 8.74921 14.3983C8.73088 14.3933 8.70921 14.3866 8.69254 14.3816C8.66588 14.3733 8.64088 14.365 8.61421 14.355C8.58754 14.3466 8.56254 14.3383 8.53921 14.3266C8.51588 14.3183 8.48754 14.3066 8.46421 14.2983C8.44088 14.29 8.41921 14.2816 8.39754 14.27C8.38921 14.2666 8.38254 14.265 8.37421 14.2583C8.35588 14.25 8.33754 14.2416 8.31754 14.2316C8.31754 14.2316 8.31421 14.2316 8.31421 14.2283C8.29088 14.2166 8.26588 14.205 8.24254 14.1933C8.21921 14.1816 8.19421 14.17 8.17088 14.155C8.14754 14.1433 8.12254 14.1283 8.10088 14.1166C8.07754 14.105 8.05254 14.09 8.03088 14.0766C8.00754 14.0616 7.98588 14.0483 7.96088 14.0366C7.93754 14.0216 7.91588 14.0083 7.89421 13.9933C7.87254 13.9783 7.85254 13.965 7.83088 13.95C7.82754 13.95 7.82754 13.9466 7.82421 13.945C7.80588 13.9333 7.78754 13.9183 7.76754 13.905C7.76421 13.9016 7.76088 13.9016 7.75921 13.9C7.74088 13.885 7.72254 13.8733 7.70421 13.86C7.70088 13.8566 7.69588 13.855 7.69254 13.8483C7.67421 13.8333 7.65588 13.82 7.63754 13.805C7.63754 13.805 7.63421 13.805 7.63421 13.8016C7.61588 13.7866 7.59754 13.7733 7.57754 13.755C7.57421 13.7516 7.57088 13.7516 7.56921 13.7483C7.55421 13.7366 7.53921 13.7216 7.52421 13.71C7.51754 13.705 7.51254 13.6983 7.50588 13.695C7.49421 13.6833 7.47921 13.6716 7.46588 13.66C7.43921 13.6366 7.41421 13.6133 7.39088 13.5866C7.37254 13.57 7.35754 13.5516 7.33921 13.535C7.32754 13.5233 7.31754 13.5116 7.30588 13.5C7.29421 13.4883 7.28421 13.48 7.27588 13.4683C7.25754 13.4516 7.24254 13.43 7.22421 13.4133C7.19088 13.375 7.15754 13.3383 7.12421 13.2966C7.09088 13.2566 7.06088 13.2183 7.03088 13.1783C7.01588 13.1583 7.00088 13.1383 6.98588 13.1166C6.97088 13.0966 6.95588 13.0766 6.94421 13.0533C6.94088 13.05 6.94088 13.0483 6.93754 13.0416C6.93421 13.0383 6.93421 13.0366 6.93088 13.03C6.90754 12.995 6.88588 12.9583 6.86088 12.9233C6.88254 12.9583 6.90588 12.995 6.92754 13.03C6.89088 12.9716 6.85254 12.9166 6.80921 12.8616L4.07921 8.99664L1.34088 5.12997L1.23254 4.97664L1.22921 4.97164C0.92421 4.51164 0.737543 3.97497 0.707543 3.39497C0.670877 2.70497 0.86421 2.05164 1.22088 1.50997C1.78588 0.648306 2.76588 0.0566391 3.90421 -2.75556e-05C4.58421 -0.0150276 5.22421 0.148306 5.77088 0.453306Z",fill:"url(#paint0_linear_6919_104497)",style:{}})),V.createElement("path",{d:"M32.4132 12.862C31.2015 12.862 30.4482 12.0503 30.4482 10.7203V8.4453H32.6632V7.02697H30.4482V4.72363L28.8548 5.9053V7.0253H27.9648V8.44363H28.8548V10.7053C28.8548 12.9953 30.1982 14.412 32.4282 14.412H32.7682V12.862H32.4132Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),V.createElement("path",{d:"M19.9812 12.5767L21.4028 11.4651C22.0395 12.4867 22.8995 13.0351 23.9962 13.0351C25.1962 13.0351 25.9512 12.2651 25.9512 11.3017C25.9512 10.1901 24.7662 9.83506 23.5212 9.43506C22.0545 8.96172 20.4695 8.36839 20.4695 6.38339C20.4695 4.73839 21.9362 3.43506 23.9362 3.43506C25.5812 3.43506 26.6028 4.07172 27.4328 5.03506L26.1145 6.01339C25.6262 5.25839 24.8995 4.85839 23.9362 4.85839C22.8395 4.85839 22.1278 5.51006 22.1278 6.35506C22.1278 7.39172 23.2695 7.73339 24.5128 8.14839C25.9945 8.65172 27.6095 9.29006 27.6095 11.3051C27.6095 12.9651 26.2462 14.5501 24.0095 14.5501C22.1578 14.5501 20.8978 13.7651 19.9795 12.5801L19.9812 12.5767Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),V.createElement("path",{d:"M38.2695 10.7367C38.2695 8.56503 39.9379 6.8667 42.1095 6.8667C44.2812 6.8667 45.9062 8.4467 45.9062 10.6334V11.2534H39.7912C39.9979 12.39 40.8845 13.1434 42.1695 13.1434C43.1745 13.1434 43.9429 12.6117 44.3262 11.8134L45.6262 12.5367C44.9762 13.7484 43.8095 14.545 42.1695 14.545C39.8362 14.545 38.2695 12.8767 38.2695 10.735V10.7367ZM39.8645 9.91003H44.2962C44.0595 8.8467 43.2479 8.25503 42.1095 8.25503C40.9712 8.25503 40.1595 8.93503 39.8645 9.91003Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),V.createElement("path",{d:"M33.7549 10.72C33.7549 8.42999 35.0982 7.02832 37.3282 7.02832H38.0366V8.56499H37.3132C36.1016 8.56499 35.3199 9.40665 35.3349 10.7367V14.415H33.7549V10.7233V10.72Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),V.createElement("path",{d:"M46.6882 10.7218C46.6882 8.56517 48.3865 6.88184 50.5132 6.88184C52.6399 6.88184 54.3082 8.56517 54.3082 10.7218V14.4135H52.7582V13.4535C52.2415 14.1468 51.4432 14.5468 50.4682 14.5468C48.3565 14.5468 46.6865 12.8935 46.6865 10.7218H46.6882ZM52.7882 10.7218C52.7882 9.40684 51.7832 8.3585 50.5132 8.3585C49.2432 8.3585 48.2382 9.40684 48.2382 10.7218C48.2382 12.0368 49.2282 13.0852 50.5132 13.0852C51.7982 13.0852 52.7882 12.0218 52.7882 10.7218Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),V.createElement("path",{d:"M55.3027 10.2717C55.3027 8.30667 56.6461 6.875 58.6411 6.875C59.7777 6.875 60.6944 7.33333 61.2694 8.10167C61.8161 7.33333 62.7027 6.875 63.8394 6.875C65.8477 6.875 67.2511 8.27833 67.2511 10.2717V14.4067H65.6711V10.2867C65.6711 9.165 64.9177 8.38167 63.8394 8.38167C62.7611 8.38167 62.0527 9.18 62.0677 10.2433V14.4083H60.4877V10.2883C60.4877 9.16667 59.7194 8.38333 58.6411 8.38333C57.5627 8.38333 56.8694 9.18167 56.8827 10.245V14.41H55.3027V10.275V10.2717Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),V.createElement("path",{d:"M68.2646 3.62695H69.8746V12.872H74.2313V14.4086H68.2646V3.62695Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),V.createElement("path",{d:"M89.418 10.7367C89.418 8.56503 91.0863 6.8667 93.258 6.8667C95.4296 6.8667 97.0546 8.4467 97.0546 10.6334V11.2534H90.9396C91.1463 12.39 92.033 13.1434 93.318 13.1434C94.323 13.1434 95.0913 12.6117 95.4746 11.8134L96.7746 12.5367C96.1246 13.7484 94.958 14.545 93.318 14.545C90.9846 14.545 89.418 12.8767 89.418 10.735V10.7367ZM91.013 9.91003H95.4446C95.208 8.8467 94.3963 8.25503 93.258 8.25503C92.1196 8.25503 91.308 8.93503 91.013 9.91003Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),V.createElement("path",{d:"M74.4948 10.7218C74.4948 8.56517 76.1932 6.88184 78.3198 6.88184C80.4465 6.88184 82.1148 8.56517 82.1148 10.7218V14.4135H80.5648V13.4535C80.0482 14.1468 79.2498 14.5468 78.2748 14.5468C76.1632 14.5468 74.4932 12.8935 74.4932 10.7218H74.4948ZM80.5948 10.7218C80.5948 9.40684 79.5898 8.3585 78.3198 8.3585C77.0498 8.3585 76.0448 9.40684 76.0448 10.7218C76.0448 12.0368 77.0348 13.0852 78.3198 13.0852C79.6048 13.0852 80.5948 12.0218 80.5948 10.7218Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),V.createElement("path",{d:"M85.0381 14.0498L81.9814 7.0498H83.6798L85.8364 12.1748L87.8748 7.0498H89.5431L85.0831 17.8465H83.4581L85.0381 14.0515V14.0498Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),V.createElement("path",{d:"M98.041 10.7151C98.041 8.4251 99.3843 7.02344 101.614 7.02344H102.323V8.5601H101.599C100.388 8.5601 99.606 9.40177 99.621 10.7318V14.4101H98.041V10.7184V10.7151Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}})),V.createElement("defs",null,V.createElement("linearGradient",{id:"paint0_linear_6919_104497",x1:4.31754,y1:8.70664,x2:13.6359,y2:3.59497,gradientUnits:"userSpaceOnUse"},V.createElement("stop",{offset:.2,stopColor:"#1589EE",style:{stopColor:"#1589EE",stopColor:"color(display-p3 0.0824 0.5373 0.9333)",stopOpacity:1}}),V.createElement("stop",{offset:1,stopColor:"#5EB4FF",style:{stopColor:"#5EB4FF",stopColor:"color(display-p3 0.3686 0.7059 1.0000)",stopOpacity:1}})),V.createElement("clipPath",{id:"clip0_6919_104497"},V.createElement("rect",{width:101.648,height:18,fill:"white",style:{fill:"white",fillOpacity:1},transform:"translate(0.675781)"})))),koe=t=>V.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},V.createElement("g",{id:"Frame 3469523"},V.createElement("rect",{x:.5,y:.5,width:17,height:17,rx:8.5,fill:"black"}),V.createElement("rect",{x:.5,y:.5,width:17,height:17,rx:8.5,stroke:"#F2F2F1"}),V.createElement("g",{id:"layer1"},V.createElement("path",{id:"path1009",d:"M5.10046 5L8.32856 9.3097L5.08008 12.8137H5.81118L8.65522 9.74589L10.9531 12.8137H13.4411L10.0314 8.26155L13.055 5H12.3239L9.70471 7.82536L7.58843 5H5.10046ZM6.1756 5.53771H7.31858L12.3658 12.2759H11.2228L6.1756 5.53771Z",fill:"white"})))),k7={"invite-game-icon":poe,"icon-trophy":coe,"icon-trophy-green":ooe,"icon-trophy-solid":loe,"icon-trivia":xoe,"icon-thumb-down":ioe,"icon-thumb-up":roe,"icon-star":noe,"icon-prediction":woe,"icon-insight":Coe,"icon-poll":Ioe,"icon-play":eoe,"icon-pause":qae,"icon-masters-logo":Hae,"icon-logout":Jae,"icon-link":zae,"icon-external-link":$ae,"icon-invite-arrow":Kae,"icon-friends":jae,"icon-exit":Yae,"icon-default-user-avatar":Mae,"icon-copy":Oae,"icon-cross":Iae,"icon-close":Zae,"icon-close-btn-white":Gae,"icon-close-btn-gray":Wae,"icon-circle-arrow-right":Bae,"icon-chevron":Uae,"icon-chevron-white-left":Lae,"icon-chevron-left":Fae,"icon-check":Sae,"icon-check-white":kae,"icon-check-green":_ae,"icon-check-circle":Nae,"icon-correct":Cae,"icon-btn-channels":boe,"icon-btn-feature-groups":voe,"icon-btn-leaderboard":Eoe,"icon-arrow":Aae,"icon-twitter-verified":uoe,"icon-trophy-bet-pack":aoe,"icon-trivia-transparent":soe,dashboard:Xae,iconMute:Qae,iconUnMute:doe,correct:Soe,iconSkip:toe,incorrect:Toe,questionExpired:Roe,selected:Noe,selectedBetPack:Voe,circleClose:Rae,incorrectVoted:foe,mastersLogo:goe,streamLayerLogo:_oe,twitter:koe,iconUp:hoe,iconCopySuccess:Dae,chevronRight:Tae,noImageIcon:Aoe,iconArrowRight:Vae,iconEarlyPrediction:Pae,iconArrowPrev:xae,mastersLogoWhite:yoe,loader:moe,fgIcon:wae},Ye=({name:t,style:e,className:n,...i})=>{if(!k7[t])return b.jsx("span",{children:t});const r=k7[t];return b.jsx(r,{"data-testid":"svg-icon",style:e,className:n,...i})};var Oa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Up(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Foe(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var rZ={exports:{}},q3,F7;function Ec(){if(F7)return q3;F7=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return q3=t,q3}var eb,L7;function sZ(){if(L7)return eb;L7=1;var t=typeof Oa=="object"&&Oa&&Oa.Object===Object&&Oa;return eb=t,eb}var tb,U7;function oa(){if(U7)return tb;U7=1;var t=sZ(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return tb=n,tb}var nb,B7;function Loe(){if(B7)return nb;B7=1;var t=oa(),e=function(){return t.Date.now()};return nb=e,nb}var ib,W7;function Uoe(){if(W7)return ib;W7=1;var t=/\s/;function e(n){for(var i=n.length;i--&&t.test(n.charAt(i)););return i}return ib=e,ib}var rb,G7;function Boe(){if(G7)return rb;G7=1;var t=Uoe(),e=/^\s+/;function n(i){return i&&i.slice(0,t(i)+1).replace(e,"")}return rb=n,rb}var sb,Z7;function Bp(){if(Z7)return sb;Z7=1;var t=oa(),e=t.Symbol;return sb=e,sb}var ab,D7;function Woe(){if(D7)return ab;D7=1;var t=Bp(),e=Object.prototype,n=e.hasOwnProperty,i=e.toString,r=t?t.toStringTag:void 0;function s(a){var o=n.call(a,r),l=a[r];try{a[r]=void 0;var c=!0}catch{}var u=i.call(a);return c&&(o?a[r]=l:delete a[r]),u}return ab=s,ab}var ob,O7;function Goe(){if(O7)return ob;O7=1;var t=Object.prototype,e=t.toString;function n(i){return e.call(i)}return ob=n,ob}var lb,X7;function Wp(){if(X7)return lb;X7=1;var t=Bp(),e=Woe(),n=Goe(),i="[object Null]",r="[object Undefined]",s=t?t.toStringTag:void 0;function a(o){return o==null?o===void 0?r:i:s&&s in Object(o)?e(o):n(o)}return lb=a,lb}var cb,M7;function Pd(){if(M7)return cb;M7=1;function t(e){return e!=null&&typeof e=="object"}return cb=t,cb}var ub,P7;function Gp(){if(P7)return ub;P7=1;var t=Wp(),e=Pd(),n="[object Symbol]";function i(r){return typeof r=="symbol"||e(r)&&t(r)==n}return ub=i,ub}var db,Y7;function Zoe(){if(Y7)return db;Y7=1;var t=Boe(),e=Ec(),n=Gp(),i=NaN,r=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function l(c){if(typeof c=="number")return c;if(n(c))return i;if(e(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=e(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=t(c);var d=s.test(c);return d||a.test(c)?o(c.slice(2),d?2:8):r.test(c)?i:+c}return db=l,db}var hb,$7;function aZ(){if($7)return hb;$7=1;var t=Ec(),e=Loe(),n=Zoe(),i="Expected a function",r=Math.max,s=Math.min;function a(o,l,c){var u,d,f,h,m,p,v=0,y=!1,E=!1,S=!0;if(typeof o!="function")throw new TypeError(i);l=n(l)||0,t(c)&&(y=!!c.leading,E="maxWait"in c,f=E?r(n(c.maxWait)||0,l):f,S="trailing"in c?!!c.trailing:S);function I(z){var pe=u,de=d;return u=d=void 0,v=z,h=o.apply(de,pe),h}function w(z){return v=z,m=setTimeout(W,l),y?I(z):h}function N(z){var pe=z-p,de=z-v,be=l-pe;return E?s(be,f-de):be}function F(z){var pe=z-p,de=z-v;return p===void 0||pe>=l||pe<0||E&&de>=f}function W(){var z=e();if(F(z))return Z(z);m=setTimeout(W,N(z))}function Z(z){return m=void 0,S&&u?I(z):(u=d=void 0,h)}function O(){m!==void 0&&clearTimeout(m),v=0,u=p=d=m=void 0}function K(){return m===void 0?h:Z(e())}function fe(){var z=e(),pe=F(z);if(u=arguments,d=this,p=z,pe){if(m===void 0)return w(p);if(E)return clearTimeout(m),m=setTimeout(W,l),I(p)}return m===void 0&&(m=setTimeout(W,l)),h}return fe.cancel=O,fe.flush=K,fe}return hb=a,hb}var fb,j7;function oZ(){if(j7)return fb;j7=1;var t=Wp(),e=Ec(),n="[object AsyncFunction]",i="[object Function]",r="[object GeneratorFunction]",s="[object Proxy]";function a(o){if(!e(o))return!1;var l=t(o);return l==i||l==r||l==n||l==s}return fb=a,fb}var Doe=oa(),Ooe=Doe["__core-js_shared__"],Xoe=Ooe,pb=Xoe,K7=function(){var t=/[^.]+$/.exec(pb&&pb.keys&&pb.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Moe(t){return!!K7&&K7 in t}var Poe=Moe,Yoe=Function.prototype,$oe=Yoe.toString;function joe(t){if(t!=null){try{return $oe.call(t)}catch{}try{return t+""}catch{}}return""}var lZ=joe,Koe=oZ(),zoe=Poe,Joe=Ec(),Hoe=lZ,Qoe=/[\\^$.*+?()[\]{}|]/g,qoe=/^\[object .+?Constructor\]$/,ele=Function.prototype,tle=Object.prototype,nle=ele.toString,ile=tle.hasOwnProperty,rle=RegExp("^"+nle.call(ile).replace(Qoe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function sle(t){if(!Joe(t)||zoe(t))return!1;var e=Koe(t)?rle:qoe;return e.test(Hoe(t))}var ale=sle;function ole(t,e){return t==null?void 0:t[e]}var lle=ole,cle=ale,ule=lle;function dle(t,e){var n=ule(t,e);return cle(n)?n:void 0}var Ac=dle,mb,z7;function $2(){if(z7)return mb;z7=1;var t=Ac,e=t(Object,"create");return mb=e,mb}var gb,J7;function hle(){if(J7)return gb;J7=1;var t=$2();function e(){this.__data__=t?t(null):{},this.size=0}return gb=e,gb}var yb,H7;function fle(){if(H7)return yb;H7=1;function t(e){var n=this.has(e)&&delete this.__data__[e];return this.size-=n?1:0,n}return yb=t,yb}var bb,Q7;function ple(){if(Q7)return bb;Q7=1;var t=$2(),e="__lodash_hash_undefined__",n=Object.prototype,i=n.hasOwnProperty;function r(s){var a=this.__data__;if(t){var o=a[s];return o===e?void 0:o}return i.call(a,s)?a[s]:void 0}return bb=r,bb}var vb,q7;function mle(){if(q7)return vb;q7=1;var t=$2(),e=Object.prototype,n=e.hasOwnProperty;function i(r){var s=this.__data__;return t?s[r]!==void 0:n.call(s,r)}return vb=i,vb}var Eb,ew;function gle(){if(ew)return Eb;ew=1;var t=$2(),e="__lodash_hash_undefined__";function n(i,r){var s=this.__data__;return this.size+=this.has(i)?0:1,s[i]=t&&r===void 0?e:r,this}return Eb=n,Eb}var Ab,tw;function yle(){if(tw)return Ab;tw=1;var t=hle(),e=fle(),n=ple(),i=mle(),r=gle();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=i,s.prototype.set=r,Ab=s,Ab}function ble(){this.__data__=[],this.size=0}var vle=ble,Sb,nw;function lT(){if(nw)return Sb;nw=1;function t(e,n){return e===n||e!==e&&n!==n}return Sb=t,Sb}var Ele=lT();function Ale(t,e){for(var n=t.length;n--;)if(Ele(t[n][0],e))return n;return-1}var j2=Ale,Sle=j2,Tle=Array.prototype,Rle=Tle.splice;function Cle(t){var e=this.__data__,n=Sle(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():Rle.call(e,n,1),--this.size,!0}var Ile=Cle,wle=j2;function xle(t){var e=this.__data__,n=wle(e,t);return n<0?void 0:e[n][1]}var Vle=xle,Nle=j2;function _le(t){return Nle(this.__data__,t)>-1}var kle=_le,Fle=j2;function Lle(t,e){var n=this.__data__,i=Fle(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}var Ule=Lle,Ble=vle,Wle=Ile,Gle=Vle,Zle=kle,Dle=Ule;function Yd(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Yd.prototype.clear=Ble;Yd.prototype.delete=Wle;Yd.prototype.get=Gle;Yd.prototype.has=Zle;Yd.prototype.set=Dle;var K2=Yd,Ole=Ac,Xle=oa(),Mle=Ole(Xle,"Map"),cT=Mle,Tb,iw;function Ple(){if(iw)return Tb;iw=1;var t=yle(),e=K2,n=cT;function i(){this.size=0,this.__data__={hash:new t,map:new(n||e),string:new t}}return Tb=i,Tb}var Rb,rw;function Yle(){if(rw)return Rb;rw=1;function t(e){var n=typeof e;return n=="string"||n=="number"||n=="symbol"||n=="boolean"?e!=="__proto__":e===null}return Rb=t,Rb}var Cb,sw;function z2(){if(sw)return Cb;sw=1;var t=Yle();function e(n,i){var r=n.__data__;return t(i)?r[typeof i=="string"?"string":"hash"]:r.map}return Cb=e,Cb}var Ib,aw;function $le(){if(aw)return Ib;aw=1;var t=z2();function e(n){var i=t(this,n).delete(n);return this.size-=i?1:0,i}return Ib=e,Ib}var wb,ow;function jle(){if(ow)return wb;ow=1;var t=z2();function e(n){return t(this,n).get(n)}return wb=e,wb}var xb,lw;function Kle(){if(lw)return xb;lw=1;var t=z2();function e(n){return t(this,n).has(n)}return xb=e,xb}var Vb,cw;function zle(){if(cw)return Vb;cw=1;var t=z2();function e(n,i){var r=t(this,n),s=r.size;return r.set(n,i),this.size+=r.size==s?0:1,this}return Vb=e,Vb}var Nb,uw;function uT(){if(uw)return Nb;uw=1;var t=Ple(),e=$le(),n=jle(),i=Kle(),r=zle();function s(a){var o=-1,l=a==null?0:a.length;for(this.clear();++o<l;){var c=a[o];this.set(c[0],c[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=n,s.prototype.has=i,s.prototype.set=r,Nb=s,Nb}var _b,dw;function Jle(){if(dw)return _b;dw=1;var t="__lodash_hash_undefined__";function e(n){return this.__data__.set(n,t),this}return _b=e,_b}var kb,hw;function Hle(){if(hw)return kb;hw=1;function t(e){return this.__data__.has(e)}return kb=t,kb}var Fb,fw;function cZ(){if(fw)return Fb;fw=1;var t=uT(),e=Jle(),n=Hle();function i(r){var s=-1,a=r==null?0:r.length;for(this.__data__=new t;++s<a;)this.add(r[s])}return i.prototype.add=i.prototype.push=e,i.prototype.has=n,Fb=i,Fb}var Lb,pw;function Qle(){if(pw)return Lb;pw=1;function t(e,n,i,r){for(var s=e.length,a=i+(r?1:-1);r?a--:++a<s;)if(n(e[a],a,e))return a;return-1}return Lb=t,Lb}var Ub,mw;function qle(){if(mw)return Ub;mw=1;function t(e){return e!==e}return Ub=t,Ub}var Bb,gw;function ece(){if(gw)return Bb;gw=1;function t(e,n,i){for(var r=i-1,s=e.length;++r<s;)if(e[r]===n)return r;return-1}return Bb=t,Bb}var Wb,yw;function tce(){if(yw)return Wb;yw=1;var t=Qle(),e=qle(),n=ece();function i(r,s,a){return s===s?n(r,s,a):t(r,e,a)}return Wb=i,Wb}var Gb,bw;function nce(){if(bw)return Gb;bw=1;var t=tce();function e(n,i){var r=n==null?0:n.length;return!!r&&t(n,i,0)>-1}return Gb=e,Gb}var Zb,vw;function ice(){if(vw)return Zb;vw=1;function t(e,n,i){for(var r=-1,s=e==null?0:e.length;++r<s;)if(i(n,e[r]))return!0;return!1}return Zb=t,Zb}var Db,Ew;function dT(){if(Ew)return Db;Ew=1;function t(e,n){for(var i=-1,r=e==null?0:e.length,s=Array(r);++i<r;)s[i]=n(e[i],i,e);return s}return Db=t,Db}var Ob,Aw;function hT(){if(Aw)return Ob;Aw=1;function t(e){return function(n){return e(n)}}return Ob=t,Ob}var Xb,Sw;function uZ(){if(Sw)return Xb;Sw=1;function t(e,n){return e.has(n)}return Xb=t,Xb}var Mb,Tw;function rce(){if(Tw)return Mb;Tw=1;var t=cZ(),e=nce(),n=ice(),i=dT(),r=hT(),s=uZ(),a=200;function o(l,c,u,d){var f=-1,h=e,m=!0,p=l.length,v=[],y=c.length;if(!p)return v;u&&(c=i(c,r(u))),d?(h=n,m=!1):c.length>=a&&(h=s,m=!1,c=new t(c));e:for(;++f<p;){var E=l[f],S=u==null?E:u(E);if(E=d||E!==0?E:0,m&&S===S){for(var I=y;I--;)if(c[I]===S)continue e;v.push(E)}else h(c,S,d)||v.push(E)}return v}return Mb=o,Mb}var Pb,Rw;function dZ(){if(Rw)return Pb;Rw=1;function t(e,n){for(var i=-1,r=n.length,s=e.length;++i<r;)e[s+i]=n[i];return e}return Pb=t,Pb}var Yb,Cw;function sce(){if(Cw)return Yb;Cw=1;var t=Wp(),e=Pd(),n="[object Arguments]";function i(r){return e(r)&&t(r)==n}return Yb=i,Yb}var $b,Iw;function fT(){if(Iw)return $b;Iw=1;var t=sce(),e=Pd(),n=Object.prototype,i=n.hasOwnProperty,r=n.propertyIsEnumerable,s=t(function(){return arguments}())?t:function(a){return e(a)&&i.call(a,"callee")&&!r.call(a,"callee")};return $b=s,$b}var jb,ww;function $r(){if(ww)return jb;ww=1;var t=Array.isArray;return jb=t,jb}var Kb,xw;function ace(){if(xw)return Kb;xw=1;var t=Bp(),e=fT(),n=$r(),i=t?t.isConcatSpreadable:void 0;function r(s){return n(s)||e(s)||!!(i&&s&&s[i])}return Kb=r,Kb}var zb,Vw;function hZ(){if(Vw)return zb;Vw=1;var t=dZ(),e=ace();function n(i,r,s,a,o){var l=-1,c=i.length;for(s||(s=e),o||(o=[]);++l<c;){var u=i[l];r>0&&s(u)?r>1?n(u,r-1,s,a,o):t(o,u):a||(o[o.length]=u)}return o}return zb=n,zb}var Jb,Nw;function Zp(){if(Nw)return Jb;Nw=1;function t(e){return e}return Jb=t,Jb}var Hb,_w;function oce(){if(_w)return Hb;_w=1;function t(e,n,i){switch(i.length){case 0:return e.call(n);case 1:return e.call(n,i[0]);case 2:return e.call(n,i[0],i[1]);case 3:return e.call(n,i[0],i[1],i[2])}return e.apply(n,i)}return Hb=t,Hb}var Qb,kw;function lce(){if(kw)return Qb;kw=1;var t=oce(),e=Math.max;function n(i,r,s){return r=e(r===void 0?i.length-1:r,0),function(){for(var a=arguments,o=-1,l=e(a.length-r,0),c=Array(l);++o<l;)c[o]=a[r+o];o=-1;for(var u=Array(r+1);++o<r;)u[o]=a[o];return u[r]=s(c),t(i,this,u)}}return Qb=n,Qb}var qb,Fw;function cce(){if(Fw)return qb;Fw=1;function t(e){return function(){return e}}return qb=t,qb}var ev,Lw;function uce(){if(Lw)return ev;Lw=1;var t=Ac,e=function(){try{var n=t(Object,"defineProperty");return n({},"",{}),n}catch{}}();return ev=e,ev}var tv,Uw;function dce(){if(Uw)return tv;Uw=1;var t=cce(),e=uce(),n=Zp(),i=e?function(r,s){return e(r,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:n;return tv=i,tv}var nv,Bw;function hce(){if(Bw)return nv;Bw=1;var t=800,e=16,n=Date.now;function i(r){var s=0,a=0;return function(){var o=n(),l=e-(o-a);if(a=o,l>0){if(++s>=t)return arguments[0]}else s=0;return r.apply(void 0,arguments)}}return nv=i,nv}var iv,Ww;function fce(){if(Ww)return iv;Ww=1;var t=dce(),e=hce(),n=e(t);return iv=n,iv}var rv,Gw;function fZ(){if(Gw)return rv;Gw=1;var t=Zp(),e=lce(),n=fce();function i(r,s){return n(e(r,s,t),r+"")}return rv=i,rv}var sv,Zw;function pT(){if(Zw)return sv;Zw=1;var t=9007199254740991;function e(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=t}return sv=e,sv}var av,Dw;function Dp(){if(Dw)return av;Dw=1;var t=oZ(),e=pT();function n(i){return i!=null&&e(i.length)&&!t(i)}return av=n,av}var ov,Ow;function pce(){if(Ow)return ov;Ow=1;var t=Dp(),e=Pd();function n(i){return e(i)&&t(i)}return ov=n,ov}var lv,Xw;function mce(){if(Xw)return lv;Xw=1;var t=rce(),e=hZ(),n=fZ(),i=pce(),r=n(function(s,a){return i(s)?t(s,e(a,1,i,!0)):[]});return lv=r,lv}var cv,Mw;function pZ(){if(Mw)return cv;Mw=1;function t(e,n){for(var i=-1,r=e==null?0:e.length,s=0,a=[];++i<r;){var o=e[i];n(o,i,e)&&(a[s++]=o)}return a}return cv=t,cv}var uv,Pw;function gce(){if(Pw)return uv;Pw=1;function t(e){return function(n,i,r){for(var s=-1,a=Object(n),o=r(n),l=o.length;l--;){var c=o[e?l:++s];if(i(a[c],c,a)===!1)break}return n}}return uv=t,uv}var dv,Yw;function yce(){if(Yw)return dv;Yw=1;var t=gce(),e=t();return dv=e,dv}var hv,$w;function bce(){if($w)return hv;$w=1;function t(e,n){for(var i=-1,r=Array(e);++i<e;)r[i]=n(i);return r}return hv=t,hv}var mg={exports:{}};function vce(){return!1}var Ece=vce;mg.exports;(function(t,e){var n=oa(),i=Ece,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===r,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||i;t.exports=c})(mg,mg.exports);var mZ=mg.exports,fv,jw;function mT(){if(jw)return fv;jw=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function n(i,r){var s=typeof i;return r=r??t,!!r&&(s=="number"||s!="symbol"&&e.test(i))&&i>-1&&i%1==0&&i<r}return fv=n,fv}var pv,Kw;function Ace(){if(Kw)return pv;Kw=1;var t=Wp(),e=pT(),n=Pd(),i="[object Arguments]",r="[object Array]",s="[object Boolean]",a="[object Date]",o="[object Error]",l="[object Function]",c="[object Map]",u="[object Number]",d="[object Object]",f="[object RegExp]",h="[object Set]",m="[object String]",p="[object WeakMap]",v="[object ArrayBuffer]",y="[object DataView]",E="[object Float32Array]",S="[object Float64Array]",I="[object Int8Array]",w="[object Int16Array]",N="[object Int32Array]",F="[object Uint8Array]",W="[object Uint8ClampedArray]",Z="[object Uint16Array]",O="[object Uint32Array]",K={};K[E]=K[S]=K[I]=K[w]=K[N]=K[F]=K[W]=K[Z]=K[O]=!0,K[i]=K[r]=K[v]=K[s]=K[y]=K[a]=K[o]=K[l]=K[c]=K[u]=K[d]=K[f]=K[h]=K[m]=K[p]=!1;function fe(z){return n(z)&&e(z.length)&&!!K[t(z)]}return pv=fe,pv}var gg={exports:{}};gg.exports;(function(t,e){var n=sZ(),i=e&&!e.nodeType&&e,r=i&&!0&&t&&!t.nodeType&&t,s=r&&r.exports===i,a=s&&n.process,o=function(){try{var l=r&&r.require&&r.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(gg,gg.exports);var Sce=gg.exports,mv,zw;function gZ(){if(zw)return mv;zw=1;var t=Ace(),e=hT(),n=Sce,i=n&&n.isTypedArray,r=i?e(i):t;return mv=r,mv}var gv,Jw;function Tce(){if(Jw)return gv;Jw=1;var t=bce(),e=fT(),n=$r(),i=mZ,r=mT(),s=gZ(),a=Object.prototype,o=a.hasOwnProperty;function l(c,u){var d=n(c),f=!d&&e(c),h=!d&&!f&&i(c),m=!d&&!f&&!h&&s(c),p=d||f||h||m,v=p?t(c.length,String):[],y=v.length;for(var E in c)(u||o.call(c,E))&&!(p&&(E=="length"||h&&(E=="offset"||E=="parent")||m&&(E=="buffer"||E=="byteLength"||E=="byteOffset")||r(E,y)))&&v.push(E);return v}return gv=l,gv}var yv,Hw;function Rce(){if(Hw)return yv;Hw=1;var t=Object.prototype;function e(n){var i=n&&n.constructor,r=typeof i=="function"&&i.prototype||t;return n===r}return yv=e,yv}var bv,Qw;function Cce(){if(Qw)return bv;Qw=1;function t(e,n){return function(i){return e(n(i))}}return bv=t,bv}var vv,qw;function Ice(){if(qw)return vv;qw=1;var t=Cce(),e=t(Object.keys,Object);return vv=e,vv}var Ev,ex;function wce(){if(ex)return Ev;ex=1;var t=Rce(),e=Ice(),n=Object.prototype,i=n.hasOwnProperty;function r(s){if(!t(s))return e(s);var a=[];for(var o in Object(s))i.call(s,o)&&o!="constructor"&&a.push(o);return a}return Ev=r,Ev}var Av,tx;function gT(){if(tx)return Av;tx=1;var t=Tce(),e=wce(),n=Dp();function i(r){return n(r)?t(r):e(r)}return Av=i,Av}var Sv,nx;function yT(){if(nx)return Sv;nx=1;var t=yce(),e=gT();function n(i,r){return i&&t(i,r,e)}return Sv=n,Sv}var Tv,ix;function xce(){if(ix)return Tv;ix=1;var t=Dp();function e(n,i){return function(r,s){if(r==null)return r;if(!t(r))return n(r,s);for(var a=r.length,o=i?a:-1,l=Object(r);(i?o--:++o<a)&&s(l[o],o,l)!==!1;);return r}}return Tv=e,Tv}var Rv,rx;function bT(){if(rx)return Rv;rx=1;var t=yT(),e=xce(),n=e(t);return Rv=n,Rv}var Cv,sx;function Vce(){if(sx)return Cv;sx=1;var t=bT();function e(n,i){var r=[];return t(n,function(s,a,o){i(s,a,o)&&r.push(s)}),r}return Cv=e,Cv}var Nce=K2;function _ce(){this.__data__=new Nce,this.size=0}var kce=_ce;function Fce(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var Lce=Fce;function Uce(t){return this.__data__.get(t)}var Bce=Uce;function Wce(t){return this.__data__.has(t)}var Gce=Wce,Zce=K2,Dce=cT,Oce=uT(),Xce=200;function Mce(t,e){var n=this.__data__;if(n instanceof Zce){var i=n.__data__;if(!Dce||i.length<Xce-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Oce(i)}return n.set(t,e),this.size=n.size,this}var Pce=Mce,Yce=K2,$ce=kce,jce=Lce,Kce=Bce,zce=Gce,Jce=Pce;function $d(t){var e=this.__data__=new Yce(t);this.size=e.size}$d.prototype.clear=$ce;$d.prototype.delete=jce;$d.prototype.get=Kce;$d.prototype.has=zce;$d.prototype.set=Jce;var yZ=$d,Iv,ax;function Hce(){if(ax)return Iv;ax=1;function t(e,n){for(var i=-1,r=e==null?0:e.length;++i<r;)if(n(e[i],i,e))return!0;return!1}return Iv=t,Iv}var wv,ox;function bZ(){if(ox)return wv;ox=1;var t=cZ(),e=Hce(),n=uZ(),i=1,r=2;function s(a,o,l,c,u,d){var f=l&i,h=a.length,m=o.length;if(h!=m&&!(f&&m>h))return!1;var p=d.get(a),v=d.get(o);if(p&&v)return p==o&&v==a;var y=-1,E=!0,S=l&r?new t:void 0;for(d.set(a,o),d.set(o,a);++y<h;){var I=a[y],w=o[y];if(c)var N=f?c(w,I,y,o,a,d):c(I,w,y,a,o,d);if(N!==void 0){if(N)continue;E=!1;break}if(S){if(!e(o,function(F,W){if(!n(S,W)&&(I===F||u(I,F,l,c,d)))return S.push(W)})){E=!1;break}}else if(!(I===w||u(I,w,l,c,d))){E=!1;break}}return d.delete(a),d.delete(o),E}return wv=s,wv}var Qce=oa(),qce=Qce.Uint8Array,eue=qce,xv,lx;function tue(){if(lx)return xv;lx=1;function t(e){var n=-1,i=Array(e.size);return e.forEach(function(r,s){i[++n]=[s,r]}),i}return xv=t,xv}function nue(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var iue=nue,Vv,cx;function rue(){if(cx)return Vv;cx=1;var t=Bp(),e=eue,n=lT(),i=bZ(),r=tue(),s=iue,a=1,o=2,l="[object Boolean]",c="[object Date]",u="[object Error]",d="[object Map]",f="[object Number]",h="[object RegExp]",m="[object Set]",p="[object String]",v="[object Symbol]",y="[object ArrayBuffer]",E="[object DataView]",S=t?t.prototype:void 0,I=S?S.valueOf:void 0;function w(N,F,W,Z,O,K,fe){switch(W){case E:if(N.byteLength!=F.byteLength||N.byteOffset!=F.byteOffset)return!1;N=N.buffer,F=F.buffer;case y:return!(N.byteLength!=F.byteLength||!K(new e(N),new e(F)));case l:case c:case f:return n(+N,+F);case u:return N.name==F.name&&N.message==F.message;case h:case p:return N==F+"";case d:var z=r;case m:var pe=Z&a;if(z||(z=s),N.size!=F.size&&!pe)return!1;var de=fe.get(N);if(de)return de==F;Z|=o,fe.set(N,F);var be=i(z(N),z(F),Z,O,K,fe);return fe.delete(N),be;case v:if(I)return I.call(N)==I.call(F)}return!1}return Vv=w,Vv}var sue=dZ(),aue=$r();function oue(t,e,n){var i=e(t);return aue(t)?i:sue(i,n(t))}var lue=oue;function cue(){return[]}var uue=cue,due=pZ(),hue=uue,fue=Object.prototype,pue=fue.propertyIsEnumerable,ux=Object.getOwnPropertySymbols,mue=ux?function(t){return t==null?[]:(t=Object(t),due(ux(t),function(e){return pue.call(t,e)}))}:hue,gue=mue,yue=lue,bue=gue,vue=gT();function Eue(t){return yue(t,vue,bue)}var Aue=Eue,Nv,dx;function Sue(){if(dx)return Nv;dx=1;var t=Aue,e=1,n=Object.prototype,i=n.hasOwnProperty;function r(s,a,o,l,c,u){var d=o&e,f=t(s),h=f.length,m=t(a),p=m.length;if(h!=p&&!d)return!1;for(var v=h;v--;){var y=f[v];if(!(d?y in a:i.call(a,y)))return!1}var E=u.get(s),S=u.get(a);if(E&&S)return E==a&&S==s;var I=!0;u.set(s,a),u.set(a,s);for(var w=d;++v<h;){y=f[v];var N=s[y],F=a[y];if(l)var W=d?l(F,N,y,a,s,u):l(N,F,y,s,a,u);if(!(W===void 0?N===F||c(N,F,o,l,u):W)){I=!1;break}w||(w=y=="constructor")}if(I&&!w){var Z=s.constructor,O=a.constructor;Z!=O&&"constructor"in s&&"constructor"in a&&!(typeof Z=="function"&&Z instanceof Z&&typeof O=="function"&&O instanceof O)&&(I=!1)}return u.delete(s),u.delete(a),I}return Nv=r,Nv}var Tue=Ac,Rue=oa(),Cue=Tue(Rue,"DataView"),Iue=Cue,wue=Ac,xue=oa(),Vue=wue(xue,"Promise"),Nue=Vue,_ue=Ac,kue=oa(),Fue=_ue(kue,"Set"),Lue=Fue,Uue=Ac,Bue=oa(),Wue=Uue(Bue,"WeakMap"),Gue=Wue,n4=Iue,i4=cT,r4=Nue,s4=Lue,a4=Gue,vZ=Wp(),jd=lZ,hx="[object Map]",Zue="[object Object]",fx="[object Promise]",px="[object Set]",mx="[object WeakMap]",gx="[object DataView]",Due=jd(n4),Oue=jd(i4),Xue=jd(r4),Mue=jd(s4),Pue=jd(a4),Rl=vZ;(n4&&Rl(new n4(new ArrayBuffer(1)))!=gx||i4&&Rl(new i4)!=hx||r4&&Rl(r4.resolve())!=fx||s4&&Rl(new s4)!=px||a4&&Rl(new a4)!=mx)&&(Rl=function(t){var e=vZ(t),n=e==Zue?t.constructor:void 0,i=n?jd(n):"";if(i)switch(i){case Due:return gx;case Oue:return hx;case Xue:return fx;case Mue:return px;case Pue:return mx}return e});var Yue=Rl,_v,yx;function $ue(){if(yx)return _v;yx=1;var t=yZ,e=bZ(),n=rue(),i=Sue(),r=Yue,s=$r(),a=mZ,o=gZ(),l=1,c="[object Arguments]",u="[object Array]",d="[object Object]",f=Object.prototype,h=f.hasOwnProperty;function m(p,v,y,E,S,I){var w=s(p),N=s(v),F=w?u:r(p),W=N?u:r(v);F=F==c?d:F,W=W==c?d:W;var Z=F==d,O=W==d,K=F==W;if(K&&a(p)){if(!a(v))return!1;w=!0,Z=!1}if(K&&!Z)return I||(I=new t),w||o(p)?e(p,v,y,E,S,I):n(p,v,F,y,E,S,I);if(!(y&l)){var fe=Z&&h.call(p,"__wrapped__"),z=O&&h.call(v,"__wrapped__");if(fe||z){var pe=fe?p.value():p,de=z?v.value():v;return I||(I=new t),S(pe,de,y,E,I)}}return K?(I||(I=new t),i(p,v,y,E,S,I)):!1}return _v=m,_v}var kv,bx;function EZ(){if(bx)return kv;bx=1;var t=$ue(),e=Pd();function n(i,r,s,a,o){return i===r?!0:i==null||r==null||!e(i)&&!e(r)?i!==i&&r!==r:t(i,r,s,a,n,o)}return kv=n,kv}var Fv,vx;function jue(){if(vx)return Fv;vx=1;var t=yZ,e=EZ(),n=1,i=2;function r(s,a,o,l){var c=o.length,u=c,d=!l;if(s==null)return!u;for(s=Object(s);c--;){var f=o[c];if(d&&f[2]?f[1]!==s[f[0]]:!(f[0]in s))return!1}for(;++c<u;){f=o[c];var h=f[0],m=s[h],p=f[1];if(d&&f[2]){if(m===void 0&&!(h in s))return!1}else{var v=new t;if(l)var y=l(m,p,h,s,a,v);if(!(y===void 0?e(p,m,n|i,l,v):y))return!1}}return!0}return Fv=r,Fv}var Lv,Ex;function AZ(){if(Ex)return Lv;Ex=1;var t=Ec();function e(n){return n===n&&!t(n)}return Lv=e,Lv}var Uv,Ax;function Kue(){if(Ax)return Uv;Ax=1;var t=AZ(),e=gT();function n(i){for(var r=e(i),s=r.length;s--;){var a=r[s],o=i[a];r[s]=[a,o,t(o)]}return r}return Uv=n,Uv}var Bv,Sx;function SZ(){if(Sx)return Bv;Sx=1;function t(e,n){return function(i){return i==null?!1:i[e]===n&&(n!==void 0||e in Object(i))}}return Bv=t,Bv}var Wv,Tx;function zue(){if(Tx)return Wv;Tx=1;var t=jue(),e=Kue(),n=SZ();function i(r){var s=e(r);return s.length==1&&s[0][2]?n(s[0][0],s[0][1]):function(a){return a===r||t(a,r,s)}}return Wv=i,Wv}var Gv,Rx;function vT(){if(Rx)return Gv;Rx=1;var t=$r(),e=Gp(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,i=/^\w*$/;function r(s,a){if(t(s))return!1;var o=typeof s;return o=="number"||o=="symbol"||o=="boolean"||s==null||e(s)?!0:i.test(s)||!n.test(s)||a!=null&&s in Object(a)}return Gv=r,Gv}var Zv,Cx;function Jue(){if(Cx)return Zv;Cx=1;var t=uT(),e="Expected a function";function n(i,r){if(typeof i!="function"||r!=null&&typeof r!="function")throw new TypeError(e);var s=function(){var a=arguments,o=r?r.apply(this,a):a[0],l=s.cache;if(l.has(o))return l.get(o);var c=i.apply(this,a);return s.cache=l.set(o,c)||l,c};return s.cache=new(n.Cache||t),s}return n.Cache=t,Zv=n,Zv}var Dv,Ix;function Hue(){if(Ix)return Dv;Ix=1;var t=Jue(),e=500;function n(i){var r=t(i,function(a){return s.size===e&&s.clear(),a}),s=r.cache;return r}return Dv=n,Dv}var Ov,wx;function Que(){if(wx)return Ov;wx=1;var t=Hue(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,n=/\\(\\)?/g,i=t(function(r){var s=[];return r.charCodeAt(0)===46&&s.push(""),r.replace(e,function(a,o,l,c){s.push(l?c.replace(n,"$1"):o||a)}),s});return Ov=i,Ov}var Xv,xx;function que(){if(xx)return Xv;xx=1;var t=Bp(),e=dT(),n=$r(),i=Gp(),r=t?t.prototype:void 0,s=r?r.toString:void 0;function a(o){if(typeof o=="string")return o;if(n(o))return e(o,a)+"";if(i(o))return s?s.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return Xv=a,Xv}var Mv,Vx;function TZ(){if(Vx)return Mv;Vx=1;var t=que();function e(n){return n==null?"":t(n)}return Mv=e,Mv}var Pv,Nx;function RZ(){if(Nx)return Pv;Nx=1;var t=$r(),e=vT(),n=Que(),i=TZ();function r(s,a){return t(s)?s:e(s,a)?[s]:n(i(s))}return Pv=r,Pv}var Yv,_x;function J2(){if(_x)return Yv;_x=1;var t=Gp();function e(n){if(typeof n=="string"||t(n))return n;var i=n+"";return i=="0"&&1/n==-1/0?"-0":i}return Yv=e,Yv}var $v,kx;function ET(){if(kx)return $v;kx=1;var t=RZ(),e=J2();function n(i,r){r=t(r,i);for(var s=0,a=r.length;i!=null&&s<a;)i=i[e(r[s++])];return s&&s==a?i:void 0}return $v=n,$v}var jv,Fx;function ede(){if(Fx)return jv;Fx=1;var t=ET();function e(n,i,r){var s=n==null?void 0:t(n,i);return s===void 0?r:s}return jv=e,jv}var Kv,Lx;function tde(){if(Lx)return Kv;Lx=1;function t(e,n){return e!=null&&n in Object(e)}return Kv=t,Kv}var zv,Ux;function nde(){if(Ux)return zv;Ux=1;var t=RZ(),e=fT(),n=$r(),i=mT(),r=pT(),s=J2();function a(o,l,c){l=t(l,o);for(var u=-1,d=l.length,f=!1;++u<d;){var h=s(l[u]);if(!(f=o!=null&&c(o,h)))break;o=o[h]}return f||++u!=d?f:(d=o==null?0:o.length,!!d&&r(d)&&i(h,d)&&(n(o)||e(o)))}return zv=a,zv}var Jv,Bx;function ide(){if(Bx)return Jv;Bx=1;var t=tde(),e=nde();function n(i,r){return i!=null&&e(i,r,t)}return Jv=n,Jv}var Hv,Wx;function rde(){if(Wx)return Hv;Wx=1;var t=EZ(),e=ede(),n=ide(),i=vT(),r=AZ(),s=SZ(),a=J2(),o=1,l=2;function c(u,d){return i(u)&&r(d)?s(a(u),d):function(f){var h=e(f,u);return h===void 0&&h===d?n(f,u):t(d,h,o|l)}}return Hv=c,Hv}var Qv,Gx;function sde(){if(Gx)return Qv;Gx=1;function t(e){return function(n){return n==null?void 0:n[e]}}return Qv=t,Qv}var qv,Zx;function ade(){if(Zx)return qv;Zx=1;var t=ET();function e(n){return function(i){return t(i,n)}}return qv=e,qv}var e5,Dx;function ode(){if(Dx)return e5;Dx=1;var t=sde(),e=ade(),n=vT(),i=J2();function r(s){return n(s)?t(i(s)):e(s)}return e5=r,e5}var t5,Ox;function AT(){if(Ox)return t5;Ox=1;var t=zue(),e=rde(),n=Zp(),i=$r(),r=ode();function s(a){return typeof a=="function"?a:a==null?n:typeof a=="object"?i(a)?e(a[0],a[1]):t(a):r(a)}return t5=s,t5}var n5,Xx;function lde(){if(Xx)return n5;Xx=1;var t=pZ(),e=Vce(),n=AT(),i=$r();function r(s,a){var o=i(s)?t:e;return o(s,n(a,3))}return n5=r,n5}var i5,Mx;function cde(){if(Mx)return i5;Mx=1;function t(e,n,i){var r;return i(e,function(s,a,o){if(n(s,a,o))return r=a,!1}),r}return i5=t,i5}var r5,Px;function ude(){if(Px)return r5;Px=1;var t=cde(),e=yT(),n=AT();function i(r,s){return t(r,n(s,3),e)}return r5=i,r5}var s5,Yx;function dde(){if(Yx)return s5;Yx=1;function t(e){return e&&e.length?e[0]:void 0}return s5=t,s5}var $x,jx;function hde(){return jx||(jx=1,$x=dde()),$x}var a5,Kx;function fde(){if(Kx)return a5;Kx=1;function t(e,n){for(var i=-1,r=e==null?0:e.length;++i<r&&n(e[i],i,e)!==!1;);return e}return a5=t,a5}var o5,zx;function CZ(){if(zx)return o5;zx=1;var t=Zp();function e(n){return typeof n=="function"?n:t}return o5=e,o5}var l5,Jx;function pde(){if(Jx)return l5;Jx=1;var t=fde(),e=bT(),n=CZ(),i=$r();function r(s,a){var o=i(s)?t:e;return o(s,n(a))}return l5=r,l5}var c5,Hx;function mde(){if(Hx)return c5;Hx=1;var t=yT(),e=CZ();function n(i,r){return i&&t(i,e(r))}return c5=n,c5}var u5,Qx;function gde(){if(Qx)return u5;Qx=1;function t(){}return u5=t,u5}var d5,qx;function yde(){if(qx)return d5;qx=1;var t=bT(),e=Dp();function n(i,r){var s=-1,a=e(i)?Array(i.length):[];return t(i,function(o,l,c){a[++s]=r(o,l,c)}),a}return d5=n,d5}var h5,eV;function bde(){if(eV)return h5;eV=1;function t(e,n){var i=e.length;for(e.sort(n);i--;)e[i]=e[i].value;return e}return h5=t,h5}var f5,tV;function vde(){if(tV)return f5;tV=1;var t=Gp();function e(n,i){if(n!==i){var r=n!==void 0,s=n===null,a=n===n,o=t(n),l=i!==void 0,c=i===null,u=i===i,d=t(i);if(!c&&!d&&!o&&n>i||o&&l&&u&&!c&&!d||s&&l&&u||!r&&u||!a)return 1;if(!s&&!o&&!d&&n<i||d&&r&&a&&!s&&!o||c&&r&&a||!l&&a||!u)return-1}return 0}return f5=e,f5}var p5,nV;function Ede(){if(nV)return p5;nV=1;var t=vde();function e(n,i,r){for(var s=-1,a=n.criteria,o=i.criteria,l=a.length,c=r.length;++s<l;){var u=t(a[s],o[s]);if(u){if(s>=c)return u;var d=r[s];return u*(d=="desc"?-1:1)}}return n.index-i.index}return p5=e,p5}var m5,iV;function Ade(){if(iV)return m5;iV=1;var t=dT(),e=ET(),n=AT(),i=yde(),r=bde(),s=hT(),a=Ede(),o=Zp(),l=$r();function c(u,d,f){d.length?d=t(d,function(p){return l(p)?function(v){return e(v,p.length===1?p[0]:p)}:p}):d=[o];var h=-1;d=t(d,s(n));var m=i(u,function(p,v,y){var E=t(d,function(S){return S(p)});return{criteria:E,index:++h,value:p}});return r(m,function(p,v){return a(p,v,f)})}return m5=c,m5}var g5,rV;function Sde(){if(rV)return g5;rV=1;var t=lT(),e=Dp(),n=mT(),i=Ec();function r(s,a,o){if(!i(o))return!1;var l=typeof a;return(l=="number"?e(o)&&n(a,o.length):l=="string"&&a in o)?t(o[a],s):!1}return g5=r,g5}var y5,sV;function Tde(){if(sV)return y5;sV=1;var t=hZ(),e=Ade(),n=fZ(),i=Sde(),r=n(function(s,a){if(s==null)return[];var o=a.length;return o>1&&i(s,a[0],a[1])?a=[]:o>2&&i(a[0],a[1],a[2])&&(a=[a[0]]),e(s,t(a,1),[])});return y5=r,y5}var b5,aV;function Rde(){if(aV)return b5;aV=1;var t=aZ(),e=Ec(),n="Expected a function";function i(r,s,a){var o=!0,l=!0;if(typeof r!="function")throw new TypeError(n);return e(a)&&(o="leading"in a?!!a.leading:o,l="trailing"in a?!!a.trailing:l),t(r,s,{leading:o,maxWait:s,trailing:l})}return b5=i,b5}var v5,oV;function Cde(){if(oV)return v5;oV=1;var t=TZ(),e=0;function n(i){var r=++e;return t(i)+r}return v5=n,v5}(function(t,e){(function(n,i){t.exports=i(aZ(),mce(),lde(),ude(),hde(),pde(),mde(),gde(),Tde(),Rde(),Cde(),Hn)})(Oa,function(n,i,r,s,a,o,l,c,u,d,f,h){return function(){var m={654:function(v,y,E){var S,I=this&&this.__assign||function(){return I=Object.assign||function(ae){for(var Y,te=1,ce=arguments.length;te<ce;te++)for(var ge in Y=arguments[te])Object.prototype.hasOwnProperty.call(Y,ge)&&(ae[ge]=Y[ge]);return ae},I.apply(this,arguments)},w=this&&this.__createBinding||(Object.create?function(ae,Y,te,ce){ce===void 0&&(ce=te);var ge=Object.getOwnPropertyDescriptor(Y,te);ge&&!("get"in ge?!Y.__esModule:ge.writable||ge.configurable)||(ge={enumerable:!0,get:function(){return Y[te]}}),Object.defineProperty(ae,ce,ge)}:function(ae,Y,te,ce){ce===void 0&&(ce=te),ae[ce]=Y[te]}),N=this&&this.__setModuleDefault||(Object.create?function(ae,Y){Object.defineProperty(ae,"default",{enumerable:!0,value:Y})}:function(ae,Y){ae.default=Y}),F=this&&this.__importStar||function(ae){if(ae&&ae.__esModule)return ae;var Y={};if(ae!=null)for(var te in ae)te!=="default"&&Object.prototype.hasOwnProperty.call(ae,te)&&w(Y,ae,te);return N(Y,ae),Y},W=this&&this.__spreadArray||function(ae,Y,te){if(te||arguments.length===2)for(var ce,ge=0,we=Y.length;ge<we;ge++)!ce&&ge in Y||(ce||(ce=Array.prototype.slice.call(Y,0,ge)),ce[ge]=Y[ge]);return ae.concat(ce||Array.prototype.slice.call(Y))},Z=this&&this.__importDefault||function(ae){return ae&&ae.__esModule?ae:{default:ae}};Object.defineProperty(y,"__esModule",{value:!0}),y.updateRtl=y.doesFocusableExist=y.getCurrentFocusKey=y.updateAllLayouts=y.resume=y.pause=y.navigateByDirection=y.setFocus=y.setKeyMap=y.destroy=y.setThrottle=y.init=y.SpatialNavigation=y.ROOT_FOCUS_KEY=void 0;var O=Z(E(150)),K=Z(E(117)),fe=Z(E(747)),z=Z(E(23)),pe=Z(E(842)),de=Z(E(682)),be=Z(E(784)),_e=Z(E(432)),me=Z(E(67)),Q=Z(E(35)),q=Z(E(119)),Re=F(E(964)),D="left",H="right",ie="up",ne="down",Se="enter",ke=((S={}).left=[37,"ArrowLeft"],S.up=[38,"ArrowUp"],S.right=[39,"ArrowRight"],S.down=[40,"ArrowDown"],S.enter=[13,"Enter"],S);y.ROOT_FOCUS_KEY="SN:ROOT";var We=["#0FF","#FF0","#F0F"],Pe={leading:!0,trailing:!1},$e=function(){function ae(){this.focusableComponents={},this.focusKey=null,this.parentsHavingFocusedChild=[],this.domNodeFocusOptions={},this.enabled=!1,this.nativeMode=!1,this.throttle=0,this.throttleKeypresses=!1,this.useGetBoundingClientRect=!1,this.shouldFocusDOMNode=!1,this.shouldUseNativeEvents=!1,this.writingDirection=q.default.LTR,this.pressedKeys={},this.paused=!1,this.keyDownEventListener=null,this.keyUpEventListener=null,this.keyMap=ke,this.pause=this.pause.bind(this),this.resume=this.resume.bind(this),this.setFocus=this.setFocus.bind(this),this.updateAllLayouts=this.updateAllLayouts.bind(this),this.navigateByDirection=this.navigateByDirection.bind(this),this.init=this.init.bind(this),this.setThrottle=this.setThrottle.bind(this),this.destroy=this.destroy.bind(this),this.setKeyMap=this.setKeyMap.bind(this),this.getCurrentFocusKey=this.getCurrentFocusKey.bind(this),this.doesFocusableExist=this.doesFocusableExist.bind(this),this.updateRtl=this.updateRtl.bind(this),this.setFocusDebounced=(0,O.default)(this.setFocus,300,{leading:!1,trailing:!0}),this.debug=!1,this.visualDebugger=null,this.logIndex=0,this.distanceCalculationMethod="corners"}return ae.getCutoffCoordinate=function(Y,te,ce,ge,we){var Be=Y?ge.top:we===q.default.LTR?ge.left:ge.right,Ge=Y?ge.bottom:we===q.default.LTR?ge.right:ge.left;return te?ce?Be:Ge:ce?Ge:Be},ae.getRefCorners=function(Y,te,ce){var ge={a:{x:0,y:0},b:{x:0,y:0}};switch(Y){case ie:var we=te?ce.bottom:ce.top;ge.a={x:ce.left,y:we},ge.b={x:ce.right,y:we};break;case ne:we=te?ce.top:ce.bottom,ge.a={x:ce.left,y:we},ge.b={x:ce.right,y:we};break;case D:var Be=te?ce.right:ce.left;ge.a={x:Be,y:ce.top},ge.b={x:Be,y:ce.bottom};break;case H:Be=te?ce.left:ce.right,ge.a={x:Be,y:ce.top},ge.b={x:Be,y:ce.bottom}}return ge},ae.isAdjacentSlice=function(Y,te,ce){var ge=Y.a,we=Y.b,Be=te.a,Ge=te.b,le=ce?"x":"y",De=ge[le],ot=we[le],it=Be[le],nt=Ge[le],ze=.2*(ot-De);return Math.max(0,Math.min(ot,nt)-Math.max(De,it))>=ze},ae.getPrimaryAxisDistance=function(Y,te,ce){var ge=Y.a,we=te.a,Be=ce?"y":"x";return Math.abs(we[Be]-ge[Be])},ae.getSecondaryAxisDistance=function(Y,te,ce,ge,we){if(we)return we(Y,te,ce,ge);var Be=Y.a,Ge=Y.b,le=te.a,De=te.b,ot=ce?"x":"y",it=Be[ot],nt=Ge[ot],ze=le[ot],pt=De[ot];if(ge==="center"){var qe=(it+nt)/2,ht=(ze+pt)/2;return Math.abs(qe-ht)}if(ge==="edges"){var Vt=Math.min(it,nt),Zt=Math.min(ze,pt),C=Math.max(it,nt),L=Math.max(ze,pt),U=Math.abs(Vt-Zt),J=Math.abs(C-L);return Math.min(U,J)}var re=[Math.abs(ze-it),Math.abs(ze-nt),Math.abs(pt-it),Math.abs(pt-nt)];return Math.min.apply(Math,re)},ae.prototype.sortSiblingsByPriority=function(Y,te,ce,ge){var we=this,Be=ce===ne||ce===ie,Ge=ae.getRefCorners(ce,!1,te);return(0,_e.default)(Y,function(le){var De=ae.getRefCorners(ce,!0,le.layout),ot=ae.isAdjacentSlice(Ge,De,Be),it=ot?ae.getPrimaryAxisDistance:ae.getSecondaryAxisDistance,nt=ot?ae.getSecondaryAxisDistance:ae.getPrimaryAxisDistance,ze=it(Ge,De,Be,we.distanceCalculationMethod,we.customDistanceCalculationFunction),pt=nt(Ge,De,Be,we.distanceCalculationMethod,we.customDistanceCalculationFunction),qe=5*ze+pt,ht=(qe+1)/(ot?5:1);return we.log("smartNavigate","distance (primary, secondary, total weighted) for ".concat(le.focusKey," relative to ").concat(ge," is"),ze,pt,qe),we.log("smartNavigate","priority for ".concat(le.focusKey," relative to ").concat(ge," is"),ht),we.visualDebugger&&(we.visualDebugger.drawPoint(De.a.x,De.a.y,"yellow",6),we.visualDebugger.drawPoint(De.b.x,De.b.y,"yellow",6)),ht})},ae.prototype.init=function(Y){var te=this,ce=Y===void 0?{}:Y,ge=ce.debug,we=ge!==void 0&&ge,Be=ce.visualDebug,Ge=Be!==void 0&&Be,le=ce.nativeMode,De=le!==void 0&&le,ot=ce.throttle,it=ot===void 0?0:ot,nt=ce.throttleKeypresses,ze=nt!==void 0&&nt,pt=ce.useGetBoundingClientRect,qe=pt!==void 0&&pt,ht=ce.shouldFocusDOMNode,Vt=ht!==void 0&&ht,Zt=ce.domNodeFocusOptions,C=Zt===void 0?{}:Zt,L=ce.shouldUseNativeEvents,U=L!==void 0&&L,J=ce.rtl,re=J!==void 0&&J,ye=ce.distanceCalculationMethod,Ne=ye===void 0?"corners":ye,Rt=ce.customDistanceCalculationFunction,An=Rt===void 0?void 0:Rt;if(!this.enabled&&(this.domNodeFocusOptions=C,this.enabled=!0,this.nativeMode=De,this.throttleKeypresses=ze,this.useGetBoundingClientRect=qe,this.shouldFocusDOMNode=Vt&&!De,this.shouldUseNativeEvents=U,this.writingDirection=re?q.default.RTL:q.default.LTR,this.distanceCalculationMethod=Ne,this.customDistanceCalculationFunction=An,this.debug=we,!this.nativeMode&&(Number.isInteger(it)&&it>0&&(this.throttle=it),this.bindEventHandlers(),Ge))){this.visualDebugger=new Q.default(this.writingDirection);var Nt=function(){requestAnimationFrame(function(){te.visualDebugger.clearLayouts(),(0,be.default)(te.focusableComponents,function(At,en){te.visualDebugger.drawLayout(At.layout,en,At.parentFocusKey)}),Nt()})};Nt()}},ae.prototype.setThrottle=function(Y){var te=Y===void 0?{}:Y,ce=te.throttle,ge=ce===void 0?0:ce,we=te.throttleKeypresses,Be=we!==void 0&&we;this.throttleKeypresses=Be,this.nativeMode||(this.unbindEventHandlers(),Number.isInteger(ge)&&(this.throttle=ge),this.bindEventHandlers())},ae.prototype.destroy=function(){this.enabled&&(this.enabled=!1,this.nativeMode=!1,this.throttle=0,this.throttleKeypresses=!1,this.focusKey=null,this.parentsHavingFocusedChild=[],this.focusableComponents={},this.paused=!1,this.keyMap=ke,this.unbindEventHandlers())},ae.prototype.getEventType=function(Y){return(0,z.default)(this.getKeyMap(),function(te){return te.includes(Y)})},ae.getKeyCode=function(Y){return Y.keyCode||Y.code||Y.key},ae.prototype.bindEventHandlers=function(){var Y=this;typeof window<"u"&&window.addEventListener&&(this.keyDownEventListener=function(te){if(Y.paused!==!0){Y.debug&&(Y.logIndex+=1);var ce=ae.getKeyCode(te),ge=Y.getEventType(ce);if(ge){Y.pressedKeys[ge]=Y.pressedKeys[ge]?Y.pressedKeys[ge]+1:1,Y.shouldUseNativeEvents||(te.preventDefault(),te.stopPropagation());var we={pressedKeys:Y.pressedKeys};if(ge===Se&&Y.focusKey)Y.onEnterPress(we);else{var Be=Y.onArrowPress(ge,we)===!1;if(Y.visualDebugger&&Y.visualDebugger.clear(),Be)Y.log("keyDownEventListener","default navigation prevented");else{var Ge=(0,z.default)(Y.getKeyMap(),function(le){return le.includes(ce)});Y.smartNavigate(Ge,null,{event:te})}}}}},this.throttle&&(this.keyDownEventListenerThrottled=(0,me.default)(this.keyDownEventListener.bind(this),this.throttle,Pe)),this.keyUpEventListener=function(te){var ce=ae.getKeyCode(te),ge=Y.getEventType(ce);delete Y.pressedKeys[ge],Y.throttle&&!Y.throttleKeypresses&&Y.keyDownEventListenerThrottled.cancel(),ge===Se&&Y.focusKey&&Y.onEnterRelease(),!Y.focusKey||ge!==D&&ge!==H&&ge!==ie&&ge!==ne||Y.onArrowRelease(ge)},window.addEventListener("keyup",this.keyUpEventListener),window.addEventListener("keydown",this.throttle?this.keyDownEventListenerThrottled:this.keyDownEventListener))},ae.prototype.unbindEventHandlers=function(){if(typeof window<"u"&&window.removeEventListener){window.removeEventListener("keyup",this.keyUpEventListener),this.keyUpEventListener=null;var Y=this.throttle?this.keyDownEventListenerThrottled:this.keyDownEventListener;window.removeEventListener("keydown",Y),this.keyDownEventListener=null}},ae.prototype.onEnterPress=function(Y){var te=this.focusableComponents[this.focusKey];te?te.focusable?te.onEnterPress&&te.onEnterPress(Y):this.log("onEnterPress","componentNotFocusable"):this.log("onEnterPress","noComponent")},ae.prototype.onEnterRelease=function(){var Y=this.focusableComponents[this.focusKey];Y?Y.focusable?Y.onEnterRelease&&Y.onEnterRelease():this.log("onEnterRelease","componentNotFocusable"):this.log("onEnterRelease","noComponent")},ae.prototype.onArrowPress=function(Y,te){var ce=this.focusableComponents[this.focusKey];if(ce)return ce&&ce.onArrowPress&&ce.onArrowPress(Y,te);this.log("onArrowPress","noComponent")},ae.prototype.onArrowRelease=function(Y){var te=this.focusableComponents[this.focusKey];te?te.focusable?te.onArrowRelease&&te.onArrowRelease(Y):this.log("onArrowRelease","componentNotFocusable"):this.log("onArrowRelease","noComponent")},ae.prototype.navigateByDirection=function(Y,te){if(this.paused!==!0&&this.enabled&&!this.nativeMode){var ce=[ne,ie,D,H];ce.includes(Y)?(this.log("navigateByDirection","direction",Y),this.smartNavigate(Y,null,te)):this.log("navigateByDirection","Invalid direction. You passed: `".concat(Y,"`, but you can use only these: "),ce)}},ae.prototype.smartNavigate=function(Y,te,ce){var ge=this;if(!this.nativeMode){var we=Y===ne||Y===ie,Be=Y===ne||(this.writingDirection===q.default.LTR?Y===H:Y===D);this.log("smartNavigate","direction",Y),this.log("smartNavigate","fromParentFocusKey",te),this.log("smartNavigate","this.focusKey",this.focusKey),te||(0,be.default)(this.focusableComponents,function(Zt){Zt.layoutUpdated=!1});var Ge=this.focusableComponents[te||this.focusKey];if(te||Ge){if(this.log("smartNavigate","currentComponent",Ge?Ge.focusKey:void 0,Ge?Ge.node:void 0,Ge),Ge){this.updateLayout(Ge.focusKey);var le=Ge.parentFocusKey,De=Ge.focusKey,ot=Ge.layout,it=ae.getCutoffCoordinate(we,Be,!1,ot,this.writingDirection),nt=(0,fe.default)(this.focusableComponents,function(Zt){if(Zt.parentFocusKey===le&&Zt.focusable){ge.updateLayout(Zt.focusKey);var C=ae.getCutoffCoordinate(we,Be,!0,Zt.layout,ge.writingDirection);return we||ge.writingDirection===q.default.LTR?Be?C>=it:C<=it:Be?C<=it:C>=it}return!1});if(this.debug&&(this.log("smartNavigate","currentCutoffCoordinate",it),this.log("smartNavigate","siblings","".concat(nt.length," elements:"),nt.map(function(Zt){return Zt.focusKey}).join(", "),nt.map(function(Zt){return Zt.node}),nt.map(function(Zt){return Zt}))),this.visualDebugger){var ze=ae.getRefCorners(Y,!1,ot);this.visualDebugger.drawPoint(ze.a.x,ze.a.y),this.visualDebugger.drawPoint(ze.b.x,ze.b.y)}var pt=this.sortSiblingsByPriority(nt,ot,Y,De),qe=(0,pe.default)(pt);if(this.log("smartNavigate","nextComponent",qe?qe.focusKey:void 0,qe?qe.node:void 0,qe),qe)this.setFocus(qe.focusKey,ce);else{var ht=this.focusableComponents[le],Vt=ht!=null&&ht.isFocusBoundary?ht.focusBoundaryDirections||[Y]:[];ht&&Vt.includes(Y)||this.smartNavigate(Y,le,ce)}}}else this.setFocus(this.getForcedFocusKey())}},ae.prototype.saveLastFocusedChildKey=function(Y,te){Y&&(this.log("saveLastFocusedChildKey","".concat(Y.focusKey," lastFocusedChildKey set"),te),Y.lastFocusedChildKey=te)},ae.prototype.log=function(Y,te){for(var ce=[],ge=2;ge<arguments.length;ge++)ce[ge-2]=arguments[ge];this.debug&&console.log.apply(console,W(["%c".concat(Y,"%c").concat(te),"background: ".concat(We[this.logIndex%We.length],"; color: black; padding: 1px 5px;"),"background: #333; color: #BADA55; padding: 1px 5px;"],ce,!1))},ae.prototype.getCurrentFocusKey=function(){return this.focusKey},ae.prototype.getForcedFocusKey=function(){var Y,te=(0,fe.default)(this.focusableComponents,function(ge){return ge.focusable&&ge.forceFocus}),ce=this.sortSiblingsByPriority(te,{x:0,y:0,width:0,height:0,left:0,top:0,right:0,bottom:0,node:null},"down",y.ROOT_FOCUS_KEY);return(Y=(0,pe.default)(ce))===null||Y===void 0?void 0:Y.focusKey},ae.prototype.getNextFocusKey=function(Y){var te=this,ce=this.focusableComponents[Y];if(!ce||this.nativeMode)return Y;var ge=(0,fe.default)(this.focusableComponents,function(le){return le.parentFocusKey===Y&&le.focusable});if(ge.length>0){var we=ce.lastFocusedChildKey,Be=ce.preferredChildFocusKey;if(this.log("getNextFocusKey","lastFocusedChildKey is",we),this.log("getNextFocusKey","preferredChildFocusKey is",Be),we&&ce.saveLastFocusedChild&&this.isParticipatingFocusableComponent(we))return this.log("getNextFocusKey","lastFocusedChildKey will be focused",we),this.getNextFocusKey(we);if(Be&&this.isParticipatingFocusableComponent(Be))return this.log("getNextFocusKey","preferredChildFocusKey will be focused",Be),this.getNextFocusKey(Be);ge.forEach(function(le){return te.updateLayout(le.focusKey)});var Ge=function(le,De){var ot=De===q.default.LTR?function(nt){var ze=nt.layout;return Math.abs(ze.left)+Math.abs(ze.top)}:function(nt){var ze=nt.layout;return Math.abs(window.innerWidth-ze.right)+Math.abs(ze.top)},it=(0,_e.default)(le,ot);return(0,pe.default)(it)}(ge,this.writingDirection).focusKey;return this.log("getNextFocusKey","childKey will be focused",Ge),this.getNextFocusKey(Ge)}return this.log("getNextFocusKey","targetFocusKey",Y),Y},ae.prototype.addFocusable=function(Y){var te=Y.focusKey,ce=Y.node,ge=Y.parentFocusKey,we=Y.onEnterPress,Be=Y.onEnterRelease,Ge=Y.onArrowPress,le=Y.onArrowRelease,De=Y.onFocus,ot=Y.onBlur,it=Y.saveLastFocusedChild,nt=Y.trackChildren,ze=Y.onUpdateFocus,pt=Y.onUpdateHasFocusedChild,qe=Y.preferredChildFocusKey,ht=Y.autoRestoreFocus,Vt=Y.forceFocus,Zt=Y.focusable,C=Y.isFocusBoundary,L=Y.focusBoundaryDirections;if(this.focusableComponents[te]={focusKey:te,node:ce,parentFocusKey:ge,onEnterPress:we,onEnterRelease:Be,onArrowPress:Ge,onArrowRelease:le,onFocus:De,onBlur:ot,onUpdateFocus:ze,onUpdateHasFocusedChild:pt,saveLastFocusedChild:it,trackChildren:nt,preferredChildFocusKey:qe,focusable:Zt,isFocusBoundary:C,focusBoundaryDirections:L,autoRestoreFocus:ht,forceFocus:Vt,lastFocusedChildKey:null,layout:{x:0,y:0,width:0,height:0,left:0,top:0,right:0,bottom:0,node:ce},layoutUpdated:!1},ce||console.warn('Component added without a node reference. This will result in its coordinates being empty and may cause lost focus. Check the "ref" passed to "useFocusable": ',this.focusableComponents[te]),!this.nativeMode){this.updateLayout(te),this.log("addFocusable","Component added: ",this.focusableComponents[te]),te===this.focusKey&&this.setFocus(qe||te);for(var U=this.focusableComponents[this.focusKey];U;){if(U.parentFocusKey===te){this.updateParentsHasFocusedChild(this.focusKey,{}),this.updateParentsLastFocusedChild(this.focusKey);break}U=this.focusableComponents[U.parentFocusKey]}}},ae.prototype.removeFocusable=function(Y){var te=Y.focusKey,ce=this.focusableComponents[te];if(ce){var ge=ce.parentFocusKey;(0,ce.onUpdateFocus)(!1),this.log("removeFocusable","Component removed: ",ce),delete this.focusableComponents[te];var we=this.parentsHavingFocusedChild.includes(te);this.parentsHavingFocusedChild=this.parentsHavingFocusedChild.filter(function(le){return le!==te});var Be=this.focusableComponents[ge],Ge=te===this.focusKey;if(Be&&Be.lastFocusedChildKey===te&&(Be.lastFocusedChildKey=null),this.nativeMode)return;(Ge||we)&&Be&&Be.autoRestoreFocus&&(this.log("removeFocusable","Component removed: ",Ge?"Leaf component":"Container component","Auto restoring focus to: ",ge),this.setFocusDebounced(ge))}},ae.prototype.getNodeLayoutByFocusKey=function(Y){var te=this.focusableComponents[Y];return te?(this.updateLayout(te.focusKey),te.layout):null},ae.prototype.setCurrentFocusedKey=function(Y,te){var ce,ge,we,Be;if(this.isFocusableComponent(this.focusKey)&&Y!==this.focusKey){var Ge=this.focusableComponents[this.focusKey];Ge.onUpdateFocus(!1),Ge.onBlur(this.getNodeLayoutByFocusKey(this.focusKey),te),(ge=(ce=Ge.node)===null||ce===void 0?void 0:ce.removeAttribute)===null||ge===void 0||ge.call(ce,"data-focused"),this.log("setCurrentFocusedKey","onBlur",Ge)}if(this.focusKey=Y,this.isFocusableComponent(this.focusKey)){var le=this.focusableComponents[this.focusKey];this.shouldFocusDOMNode&&le.node&&le.node.focus(this.domNodeFocusOptions),(Be=(we=le.node)===null||we===void 0?void 0:we.setAttribute)===null||Be===void 0||Be.call(we,"data-focused","true"),le.onUpdateFocus(!0),le.onFocus(this.getNodeLayoutByFocusKey(this.focusKey),te),this.log("setCurrentFocusedKey","onFocus",le)}},ae.prototype.updateParentsHasFocusedChild=function(Y,te){for(var ce=this,ge=[],we=this.focusableComponents[Y];we;){var Be=we.parentFocusKey,Ge=this.focusableComponents[Be];if(Ge){var le=Ge.focusKey;ge.push(le)}we=Ge}var De=(0,K.default)(this.parentsHavingFocusedChild,ge),ot=(0,K.default)(ge,this.parentsHavingFocusedChild);(0,de.default)(De,function(it){var nt=ce.focusableComponents[it];nt&&nt.trackChildren&&nt.onUpdateHasFocusedChild(!1),ce.onIntermediateNodeBecameBlurred(it,te)}),(0,de.default)(ot,function(it){var nt=ce.focusableComponents[it];nt&&nt.trackChildren&&nt.onUpdateHasFocusedChild(!0),ce.onIntermediateNodeBecameFocused(it,te)}),this.parentsHavingFocusedChild=ge},ae.prototype.updateParentsLastFocusedChild=function(Y){for(var te=this.focusableComponents[Y];te;){var ce=te.parentFocusKey,ge=this.focusableComponents[ce];ge&&this.saveLastFocusedChildKey(ge,te.focusKey),te=ge}},ae.prototype.getKeyMap=function(){return this.keyMap},ae.prototype.setKeyMap=function(Y){this.keyMap=I(I({},this.getKeyMap()),function(te){var ce={};return Object.entries(te).forEach(function(ge){var we=ge[0],Be=ge[1];ce[we]=Array.isArray(Be)?Be:[Be]}),ce}(Y))},ae.prototype.isFocusableComponent=function(Y){return!!this.focusableComponents[Y]},ae.prototype.isParticipatingFocusableComponent=function(Y){return this.isFocusableComponent(Y)&&this.focusableComponents[Y].focusable},ae.prototype.onIntermediateNodeBecameFocused=function(Y,te){this.isParticipatingFocusableComponent(Y)&&this.focusableComponents[Y].onFocus(this.getNodeLayoutByFocusKey(Y),te)},ae.prototype.onIntermediateNodeBecameBlurred=function(Y,te){this.isParticipatingFocusableComponent(Y)&&this.focusableComponents[Y].onBlur(this.getNodeLayoutByFocusKey(Y),te)},ae.prototype.pause=function(){this.paused=!0},ae.prototype.resume=function(){this.paused=!1},ae.prototype.setFocus=function(Y,te){if(te===void 0&&(te={}),this.setFocusDebounced.cancel(),this.enabled){this.log("setFocus","focusKey",Y),Y&&Y!==y.ROOT_FOCUS_KEY||(Y=this.getForcedFocusKey());var ce=this.getNextFocusKey(Y);this.log("setFocus","newFocusKey",ce),this.setCurrentFocusedKey(ce,te),this.updateParentsHasFocusedChild(ce,te),this.updateParentsLastFocusedChild(ce)}},ae.prototype.updateAllLayouts=function(){var Y=this;this.enabled&&!this.nativeMode&&(0,be.default)(this.focusableComponents,function(te,ce){Y.updateLayout(ce)})},ae.prototype.updateLayout=function(Y){var te=this.focusableComponents[Y];if(te&&!this.nativeMode&&!te.layoutUpdated){var ce=te.node,ge=this.useGetBoundingClientRect?(0,Re.getBoundingClientRect)(ce):(0,Re.default)(ce);te.layout=I(I({},ge),{node:ce})}},ae.prototype.updateFocusable=function(Y,te){var ce=te.node,ge=te.preferredChildFocusKey,we=te.focusable,Be=te.isFocusBoundary,Ge=te.focusBoundaryDirections,le=te.onEnterPress,De=te.onEnterRelease,ot=te.onArrowPress,it=te.onFocus,nt=te.onBlur;if(!this.nativeMode){var ze=this.focusableComponents[Y];ze&&(ze.preferredChildFocusKey=ge,ze.focusable=we,ze.isFocusBoundary=Be,ze.focusBoundaryDirections=Ge,ze.onEnterPress=le,ze.onEnterRelease=De,ze.onArrowPress=ot,ze.onFocus=it,ze.onBlur=nt,ce&&(ze.node=ce))}},ae.prototype.isNativeMode=function(){return this.nativeMode},ae.prototype.doesFocusableExist=function(Y){return!!this.focusableComponents[Y]},ae.prototype.updateRtl=function(Y){this.writingDirection=Y?q.default.RTL:q.default.LTR},ae}();y.SpatialNavigation=new $e,y.init=y.SpatialNavigation.init,y.setThrottle=y.SpatialNavigation.setThrottle,y.destroy=y.SpatialNavigation.destroy,y.setKeyMap=y.SpatialNavigation.setKeyMap,y.setFocus=y.SpatialNavigation.setFocus,y.navigateByDirection=y.SpatialNavigation.navigateByDirection,y.pause=y.SpatialNavigation.pause,y.resume=y.SpatialNavigation.resume,y.updateAllLayouts=y.SpatialNavigation.updateAllLayouts,y.getCurrentFocusKey=y.SpatialNavigation.getCurrentFocusKey,y.doesFocusableExist=y.SpatialNavigation.doesFocusableExist,y.updateRtl=y.SpatialNavigation.updateRtl},35:function(v,y,E){var S=this&&this.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(y,"__esModule",{value:!0});var I=S(E(119)),w=typeof window<"u"&&window.document,N=w?window.innerWidth:0,F=w?window.innerHeight:0,W=function(){function Z(O){w&&(this.debugCtx=Z.createCanvas("sn-debug","1010",O),this.layoutsCtx=Z.createCanvas("sn-layouts","1000",O),this.writingDirection=O)}return Z.createCanvas=function(O,K,fe){var z=document.querySelector("#".concat(O))||document.createElement("canvas");z.setAttribute("id",O),z.setAttribute("dir",fe===I.default.LTR?"ltr":"rtl");var pe=z.getContext("2d");return z.style.zIndex=K,z.style.position="fixed",z.style.top="0",z.style.left="0",document.body.appendChild(z),z.width=N,z.height=F,pe},Z.prototype.clear=function(){w&&this.debugCtx.clearRect(0,0,N,F)},Z.prototype.clearLayouts=function(){w&&this.layoutsCtx.clearRect(0,0,N,F)},Z.prototype.drawLayout=function(O,K,fe){if(w){this.layoutsCtx.strokeStyle="green",this.layoutsCtx.strokeRect(O.left,O.top,O.width,O.height),this.layoutsCtx.font="8px monospace",this.layoutsCtx.fillStyle="red";var z=this.writingDirection===I.default.LTR?"left":"right",pe=O[z];this.layoutsCtx.fillText(K,pe,O.top+10),this.layoutsCtx.fillText(fe,pe,O.top+25),this.layoutsCtx.fillText("".concat(z,": ").concat(pe),pe,O.top+40),this.layoutsCtx.fillText("top: ".concat(O.top),pe,O.top+55)}},Z.prototype.drawPoint=function(O,K,fe,z){fe===void 0&&(fe="blue"),z===void 0&&(z=10),w&&(this.debugCtx.strokeStyle=fe,this.debugCtx.lineWidth=3,this.debugCtx.strokeRect(O-z/2,K-z/2,z,z))},Z}();y.default=W},119:function(v,y){var E;Object.defineProperty(y,"__esModule",{value:!0}),function(S){S[S.LTR=0]="LTR",S[S.RTL=1]="RTL"}(E||(E={})),y.default=E},607:function(v,y,E){var S=this&&this.__createBinding||(Object.create?function(w,N,F,W){W===void 0&&(W=F);var Z=Object.getOwnPropertyDescriptor(N,F);Z&&!("get"in Z?!N.__esModule:Z.writable||Z.configurable)||(Z={enumerable:!0,get:function(){return N[F]}}),Object.defineProperty(w,W,Z)}:function(w,N,F,W){W===void 0&&(W=F),w[W]=N[F]}),I=this&&this.__exportStar||function(w,N){for(var F in w)F==="default"||Object.prototype.hasOwnProperty.call(N,F)||S(N,w,F)};Object.defineProperty(y,"__esModule",{value:!0}),I(E(79),y),I(E(445),y),I(E(654),y)},964:function(v,y){Object.defineProperty(y,"__esModule",{value:!0}),y.getBoundingClientRect=void 0;var E=function(S){for(var I=S.offsetParent,w=S.offsetHeight,N=S.offsetWidth,F=S.offsetLeft,W=S.offsetTop;I&&I.nodeType===1;)F+=I.offsetLeft-I.scrollLeft,W+=I.offsetTop-I.scrollTop,I=I.offsetParent;return{height:w,left:F,top:W,width:N}};y.default=function(S){var I=S&&S.parentElement;if(S&&I){var w=E(I),N=E(S),F=N.height,W=N.left,Z=N.top,O=N.width;return{x:W-w.left,y:Z-w.top,width:O,height:F,left:W,top:Z,get right(){return this.left+this.width},get bottom(){return this.top+this.height}}}return{x:0,y:0,width:0,height:0,left:0,top:0,right:0,bottom:0}},y.getBoundingClientRect=function(S){if(S&&S.getBoundingClientRect){var I=S.getBoundingClientRect();return{x:I.x,y:I.y,width:I.width,height:I.height,left:I.left,top:I.top,get right(){return this.left+this.width},get bottom(){return this.top+this.height}}}return{x:0,y:0,width:0,height:0,left:0,top:0,right:0,bottom:0}}},445:function(v,y,E){Object.defineProperty(y,"__esModule",{value:!0}),y.useFocusContext=y.FocusContext=void 0;var S=E(156),I=E(654);y.FocusContext=(0,S.createContext)(I.ROOT_FOCUS_KEY),y.FocusContext.displayName="FocusContext",y.useFocusContext=function(){return(0,S.useContext)(y.FocusContext)}},79:function(v,y,E){var S=this&&this.__importDefault||function(Z){return Z&&Z.__esModule?Z:{default:Z}};Object.defineProperty(y,"__esModule",{value:!0}),y.useFocusable=void 0;var I=E(156),w=S(E(604)),N=S(E(461)),F=E(654),W=E(445);y.useFocusable=function(Z){var O=Z===void 0?{}:Z,K=O.focusable,fe=K===void 0||K,z=O.saveLastFocusedChild,pe=z===void 0||z,de=O.trackChildren,be=de!==void 0&&de,_e=O.autoRestoreFocus,me=_e===void 0||_e,Q=O.forceFocus,q=Q!==void 0&&Q,Re=O.isFocusBoundary,D=Re!==void 0&&Re,H=O.focusBoundaryDirections,ie=O.focusKey,ne=O.preferredChildFocusKey,Se=O.onEnterPress,ke=Se===void 0?w.default:Se,We=O.onEnterRelease,Pe=We===void 0?w.default:We,$e=O.onArrowPress,ae=$e===void 0?function(){return!0}:$e,Y=O.onArrowRelease,te=Y===void 0?w.default:Y,ce=O.onFocus,ge=ce===void 0?w.default:ce,we=O.onBlur,Be=we===void 0?w.default:we,Ge=O.extraProps,le=(0,I.useCallback)(function(ye){ke(Ge,ye)},[ke,Ge]),De=(0,I.useCallback)(function(){Pe(Ge)},[Pe,Ge]),ot=(0,I.useCallback)(function(ye,Ne){return ae(ye,Ge,Ne)},[Ge,ae]),it=(0,I.useCallback)(function(ye){te(ye,Ge)},[te,Ge]),nt=(0,I.useCallback)(function(ye,Ne){ge(ye,Ge,Ne)},[Ge,ge]),ze=(0,I.useCallback)(function(ye,Ne){Be(ye,Ge,Ne)},[Ge,Be]),pt=(0,I.useRef)(null),qe=(0,I.useState)(!1),ht=qe[0],Vt=qe[1],Zt=(0,I.useState)(!1),C=Zt[0],L=Zt[1],U=(0,W.useFocusContext)(),J=(0,I.useMemo)(function(){return ie||(0,N.default)("sn:focusable-item-")},[ie]),re=(0,I.useCallback)(function(ye){ye===void 0&&(ye={}),F.SpatialNavigation.setFocus(J,ye)},[J]);return(0,I.useEffect)(function(){var ye=pt.current;return F.SpatialNavigation.addFocusable({focusKey:J,node:ye,parentFocusKey:U,preferredChildFocusKey:ne,onEnterPress:le,onEnterRelease:De,onArrowPress:ot,onArrowRelease:it,onFocus:nt,onBlur:ze,onUpdateFocus:function(Ne){return Ne===void 0&&(Ne=!1),Vt(Ne)},onUpdateHasFocusedChild:function(Ne){return Ne===void 0&&(Ne=!1),L(Ne)},saveLastFocusedChild:pe,trackChildren:be,isFocusBoundary:D,focusBoundaryDirections:H,autoRestoreFocus:me,forceFocus:q,focusable:fe}),function(){F.SpatialNavigation.removeFocusable({focusKey:J})}},[]),(0,I.useEffect)(function(){var ye=pt.current;F.SpatialNavigation.updateFocusable(J,{node:ye,preferredChildFocusKey:ne,focusable:fe,isFocusBoundary:D,focusBoundaryDirections:H,onEnterPress:le,onEnterRelease:De,onArrowPress:ot,onArrowRelease:it,onFocus:nt,onBlur:ze})},[J,ne,fe,D,H,le,De,ot,it,nt,ze]),{ref:pt,focusSelf:re,focused:ht,hasFocusedChild:C,focusKey:J}}},150:function(v){v.exports=n},117:function(v){v.exports=i},747:function(v){v.exports=r},23:function(v){v.exports=s},842:function(v){v.exports=a},682:function(v){v.exports=o},784:function(v){v.exports=l},604:function(v){v.exports=c},432:function(v){v.exports=u},67:function(v){v.exports=d},461:function(v){v.exports=f},156:function(v){v.exports=h}},p={};return function v(y){var E=p[y];if(E!==void 0)return E.exports;var S=p[y]={exports:{}};return m[y].call(S.exports,S,S.exports,v),S.exports}(607)}()})})(rZ);var IZ=rZ.exports,lV=typeof window>"u"?V.useEffect:V.useLayoutEffect,Ide=({isPlaying:t,duration:e,startAt:n=0,updateInterval:i=0,onComplete:r,onUpdate:s})=>{let[a,o]=V.useState(n),l=V.useRef(0),c=V.useRef(n),u=V.useRef(n*-1e3),d=V.useRef(null),f=V.useRef(null),h=V.useRef(null),m=y=>{let E=y/1e3;if(f.current===null){f.current=E,d.current=requestAnimationFrame(m);return}let S=E-f.current,I=l.current+S;f.current=E,l.current=I;let w=c.current+(i===0?I:(I/i|0)*i),N=c.current+I,F=typeof e=="number"&&N>=e;o(F?e:w),F||(d.current=requestAnimationFrame(m))},p=()=>{d.current&&cancelAnimationFrame(d.current),h.current&&clearTimeout(h.current),f.current=null},v=V.useCallback(y=>{p(),l.current=0;let E=typeof y=="number"?y:n;c.current=E,o(E),t&&(d.current=requestAnimationFrame(m))},[t,n]);return lV(()=>{if(s==null||s(a),e&&a>=e){u.current+=e*1e3;let{shouldRepeat:y=!1,delay:E=0,newStartAt:S}=(r==null?void 0:r(u.current/1e3))||{};y&&(h.current=setTimeout(()=>v(S),E*1e3))}},[a,e]),lV(()=>(t&&(d.current=requestAnimationFrame(m)),p),[t,e,i]),{elapsedTime:a,reset:v}},wde=(t,e,n)=>{let i=t/2,r=e/2,s=i-r,a=2*s,o=n==="clockwise"?"1,0":"0,1",l=2*Math.PI*s;return{path:`m ${i},${r} a ${s},${s} 0 ${o} 0,${a} a ${s},${s} 0 ${o} 0,-${a}`,pathLength:l}},cV=(t,e)=>t===0||t===e?0:typeof e=="number"?t-e:0,xde=t=>({position:"relative",width:t,height:t}),Vde={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},wZ=(t,e,n,i,r)=>{if(i===0)return e;let s=(r?i-t:t)/i;return e+n*s},uV=t=>{var e,n;return(n=(e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(i,r,s,a)=>`#${r}${r}${s}${s}${a}${a}`).substring(1).match(/.{2}/g))==null?void 0:e.map(i=>parseInt(i,16)))!=null?n:[]},Nde=(t,e)=>{var n;let{colors:i,colorsTime:r,isSmoothColorTransition:s=!0}=t;if(typeof i=="string")return i;let a=(n=r==null?void 0:r.findIndex((f,h)=>f>=e&&e>=r[h+1]))!=null?n:-1;if(!r||a===-1)return i[0];if(!s)return i[a];let o=r[a]-e,l=r[a]-r[a+1],c=uV(i[a]),u=uV(i[a+1]),d=!!t.isGrowing;return`rgb(${c.map((f,h)=>wZ(o,f,u[h]-f,l,d)|0).join(",")})`},_de=t=>{let{duration:e,initialRemainingTime:n,updateInterval:i,size:r=180,strokeWidth:s=12,trailStrokeWidth:a,isPlaying:o=!1,isGrowing:l=!1,rotation:c="clockwise",onComplete:u,onUpdate:d}=t,f=V.useRef(),h=Math.max(s,a??0),{path:m,pathLength:p}=wde(r,h,c),{elapsedTime:v}=Ide({isPlaying:o,duration:e,startAt:cV(e,n),updateInterval:i,onUpdate:typeof d=="function"?E=>{let S=Math.ceil(e-E);S!==f.current&&(f.current=S,d(S))}:void 0,onComplete:typeof u=="function"?E=>{var S;let{shouldRepeat:I,delay:w,newInitialRemainingTime:N}=(S=u(E))!=null?S:{};if(I)return{shouldRepeat:I,delay:w,newStartAt:cV(e,N)}}:void 0}),y=e-v;return{elapsedTime:v,path:m,pathLength:p,remainingTime:Math.ceil(y),rotation:c,size:r,stroke:Nde(t,y),strokeDashoffset:wZ(v,0,p,e,l),strokeWidth:s}},ST=t=>{let{children:e,strokeLinecap:n,trailColor:i,trailStrokeWidth:r}=t,{path:s,pathLength:a,stroke:o,strokeDashoffset:l,remainingTime:c,elapsedTime:u,size:d,strokeWidth:f}=_de(t);return Hn.createElement("div",{style:xde(d)},Hn.createElement("svg",{viewBox:`0 0 ${d} ${d}`,width:d,height:d,xmlns:"http://www.w3.org/2000/svg"},Hn.createElement("path",{d:s,fill:"none",stroke:i??"#d9d9d9",strokeWidth:r??f}),Hn.createElement("path",{d:s,fill:"none",stroke:o,strokeLinecap:n??"round",strokeWidth:f,strokeDasharray:a,strokeDashoffset:l})),typeof e=="function"&&Hn.createElement("div",{style:Vde},e({remainingTime:c,elapsedTime:u,color:o})))};ST.displayName="CountdownCircleTimer";const kde=t=>{const{Component:e,options:n,customOptions:i,autoFocus:r,...s}=t,a=IZ.useFocusable({...n,...i,onEnterPress:()=>{var o;return(o=t.onClick)==null?void 0:o.call(t,{currentTarget:a.ref.current,stopPropagation:()=>{}})}});return V.useEffect(()=>{r&&a.focusSelf()},[]),b.jsx(e,{...s,...a,"data-is-with-focus":"true"})};function la(t,e){return({webos:n,options:i,...r})=>n?b.jsx(kde,{Component:t,options:e,customOptions:i,...r}):b.jsx(t,{...r})}const Fde=[10,10,1,0],Lde=_("div")({name:"RemainingTimeCircle",class:"r165427",propsAsIs:!1}),Ude=_("div")({name:"RemainingTime",class:"r17garf3",propsAsIs:!1}),Bde=zse,o4=Jse,dV=Hse,Wde=({className:t,duration:e=30,onTimerExpired:n,isPlaying:i=!0})=>b.jsx(ST,{isPlaying:i,strokeWidth:0,duration:e,colors:o4,size:24,onComplete:n,children:({remainingTime:r})=>b.jsx(Ude,{className:t,children:e===0?0:r})}),Gde=({isPlaying:t=!0,duration:e=30,onTimerExpired:n})=>{const[i,r]=V.useState(e>10?Bde:o4),[s,a]=V.useState(2);V.useEffect(()=>{e===0&&(a(0),r(dV))},[e]);const o=({remainingTime:u})=>b.jsx(Lde,{children:e===0?0:u}),l=V.useCallback(()=>{n==null||n(),r(dV)},[n,r]),c=V.useCallback(u=>{u===10&&r(o4)},[r]);return b.jsx(ST,{isPlaying:t,duration:e,colors:Kse,colorsTime:Fde,size:32,strokeWidth:s,trailStrokeWidth:2,trailColor:i,onComplete:l,onUpdate:c,children:o})},Zde=({height:t="37px",width:e="37px"})=>b.jsx("div",{style:{height:t,width:e},children:b.jsx(Ye,{name:"loader"})});var TT={},l4={exports:{}};(function(t,e){(function(n,i){i(e)})(Ph,function(n){var i=function(){return i=Object.assign||function(s){for(var a,o=1,l=arguments.length;o<l;o++)for(var c in a=arguments[o])Object.prototype.hasOwnProperty.call(a,c)&&(s[c]=a[c]);return s},i.apply(this,arguments)},r=function(){function s(a,o,l){var c=this;this.endVal=o,this.options=l,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(u){c.startTime||(c.startTime=u);var d=u-c.startTime;c.remaining=c.duration-d,c.useEasing?c.countDown?c.frameVal=c.startVal-c.easingFn(d,0,c.startVal-c.endVal,c.duration):c.frameVal=c.easingFn(d,c.startVal,c.endVal-c.startVal,c.duration):c.frameVal=c.startVal+(c.endVal-c.startVal)*(d/c.duration);var f=c.countDown?c.frameVal<c.endVal:c.frameVal>c.endVal;c.frameVal=f?c.endVal:c.frameVal,c.frameVal=Number(c.frameVal.toFixed(c.options.decimalPlaces)),c.printValue(c.frameVal),d<c.duration?c.rAF=requestAnimationFrame(c.count):c.finalEndVal!==null?c.update(c.finalEndVal):c.options.onCompleteCallback&&c.options.onCompleteCallback()},this.formatNumber=function(u){var d,f,h,m,p=u<0?"-":"";d=Math.abs(u).toFixed(c.options.decimalPlaces);var v=(d+="").split(".");if(f=v[0],h=v.length>1?c.options.decimal+v[1]:"",c.options.useGrouping){m="";for(var y=3,E=0,S=0,I=f.length;S<I;++S)c.options.useIndianSeparators&&S===4&&(y=2,E=1),S!==0&&E%y==0&&(m=c.options.separator+m),E++,m=f[I-S-1]+m;f=m}return c.options.numerals&&c.options.numerals.length&&(f=f.replace(/[0-9]/g,function(w){return c.options.numerals[+w]}),h=h.replace(/[0-9]/g,function(w){return c.options.numerals[+w]})),p+c.options.prefix+f+h+c.options.suffix},this.easeOutExpo=function(u,d,f,h){return f*(1-Math.pow(2,-10*u/h))*1024/1023+d},this.options=i(i({},this.defaults),l),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof a=="string"?document.getElementById(a):a,o=o??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(o),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,a):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return c.handleScroll(c)}),window.onscroll=function(){window.onScrollFns.forEach(function(u){return u()})},this.handleScroll(this)))}return s.prototype.handleScroll=function(a){if(a&&window&&!a.once){var o=window.innerHeight+window.scrollY,l=a.el.getBoundingClientRect(),c=l.top+window.pageYOffset,u=l.top+l.height+window.pageYOffset;u<o&&u>window.scrollY&&a.paused?(a.paused=!1,setTimeout(function(){return a.start()},a.options.scrollSpyDelay),a.options.scrollSpyOnce&&(a.once=!0)):(window.scrollY>u||c>o)&&!a.paused&&a.reset()}},s.prototype.determineDirectionAndSmartEasing=function(){var a=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>a;var o=a-this.startVal;if(Math.abs(o)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=a;var l=this.countDown?1:-1;this.endVal=a+l*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=a,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},s.prototype.start=function(a){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),a&&(this.options.onCompleteCallback=a),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},s.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},s.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},s.prototype.update=function(a){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(a),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},s.prototype.printValue=function(a){var o;if(this.el){var l=this.formattingFn(a);!((o=this.options.plugin)===null||o===void 0)&&o.render?this.options.plugin.render(this.el,l):this.el.tagName==="INPUT"?this.el.value=l:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=l:this.el.innerHTML=l}},s.prototype.ensureNumber=function(a){return typeof a=="number"&&!isNaN(a)},s.prototype.validateValue=function(a){var o=Number(a);return this.ensureNumber(o)?o:(this.error="[CountUp] invalid start or end value: ".concat(a),null)},s.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},s.prototype.parse=function(a){var o=function(d){return d.replace(/([.,' ])/g,"\\$1")},l=o(this.options.separator),c=o(this.options.decimal),u=a.replace(new RegExp(l,"g"),"").replace(new RegExp(c,"g"),".");return parseFloat(u)},s}();n.CountUp=r})})(l4,l4.exports);var Dde=l4.exports;Object.defineProperty(TT,"__esModule",{value:!0});var Kn=V,Ode=Dde;function Xde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var i,r,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(i=s.call(n)).done)&&(o.push(i.value),o.length!==e);l=!0);}catch(u){c=!0,r=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return o}}function hV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function yg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?hV(Object(n),!0).forEach(function(i){Yde(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hV(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function Mde(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pde(t){var e=Mde(t,"string");return typeof e=="symbol"?e:String(e)}function Yde(t,e,n){return e=Pde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function c4(){return c4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c4.apply(this,arguments)}function $de(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function xZ(t,e){if(t==null)return{};var n=$de(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function jde(t,e){return Kde(t)||Xde(t,e)||zde(t,e)||Jde()}function Kde(t){if(Array.isArray(t))return t}function zde(t,e){if(t){if(typeof t=="string")return fV(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fV(t,e)}}function fV(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Jde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Hde=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Kn.useLayoutEffect:Kn.useEffect;function is(t){var e=Kn.useRef(t);return Hde(function(){e.current=t}),Kn.useCallback(function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e.current.apply(void 0,i)},[])}var Qde=function(e,n){var i=n.decimal,r=n.decimals,s=n.duration,a=n.easingFn,o=n.end,l=n.formattingFn,c=n.numerals,u=n.prefix,d=n.separator,f=n.start,h=n.suffix,m=n.useEasing,p=n.useGrouping,v=n.useIndianSeparators,y=n.enableScrollSpy,E=n.scrollSpyDelay,S=n.scrollSpyOnce,I=n.plugin;return new Ode.CountUp(e,o,{startVal:f,duration:s,decimal:i,decimalPlaces:r,easingFn:a,formattingFn:l,numerals:c,separator:d,prefix:u,suffix:h,plugin:I,useEasing:m,useIndianSeparators:v,useGrouping:p,enableScrollSpy:y,scrollSpyDelay:E,scrollSpyOnce:S})},qde=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],ehe={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},VZ=function(e){var n=Object.fromEntries(Object.entries(e).filter(function(Z){var O=jde(Z,2),K=O[1];return K!==void 0})),i=Kn.useMemo(function(){return yg(yg({},ehe),n)},[e]),r=i.ref,s=i.startOnMount,a=i.enableReinitialize,o=i.delay,l=i.onEnd,c=i.onStart,u=i.onPauseResume,d=i.onReset,f=i.onUpdate,h=xZ(i,qde),m=Kn.useRef(),p=Kn.useRef(),v=Kn.useRef(!1),y=is(function(){return Qde(typeof r=="string"?r:r.current,h)}),E=is(function(Z){var O=m.current;if(O&&!Z)return O;var K=y();return m.current=K,K}),S=is(function(){var Z=function(){return E(!0).start(function(){l==null||l({pauseResume:I,reset:w,start:F,update:N})})};o&&o>0?p.current=setTimeout(Z,o*1e3):Z(),c==null||c({pauseResume:I,reset:w,update:N})}),I=is(function(){E().pauseResume(),u==null||u({reset:w,start:F,update:N})}),w=is(function(){E().el&&(p.current&&clearTimeout(p.current),E().reset(),d==null||d({pauseResume:I,start:F,update:N}))}),N=is(function(Z){E().update(Z),f==null||f({pauseResume:I,reset:w,start:F})}),F=is(function(){w(),S()}),W=is(function(Z){s&&(Z&&w(),S())});return Kn.useEffect(function(){v.current?a&&W(!0):(v.current=!0,W())},[a,v,W,o,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.formattingFn]),Kn.useEffect(function(){return function(){w()}},[w]),{start:F,pauseResume:I,reset:w,update:N,getCountUp:E}},the=["className","redraw","containerProps","children","style"],nhe=function(e){var n=e.className,i=e.redraw,r=e.containerProps,s=e.children,a=e.style,o=xZ(e,the),l=Kn.useRef(null),c=Kn.useRef(!1),u=VZ(yg(yg({},o),{},{ref:l,startOnMount:typeof s!="function"||e.delay===0,enableReinitialize:!1})),d=u.start,f=u.reset,h=u.update,m=u.pauseResume,p=u.getCountUp,v=is(function(){d()}),y=is(function(I){e.preserveValue||f(),h(I)}),E=is(function(){if(typeof e.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}p()});Kn.useEffect(function(){E()},[E]),Kn.useEffect(function(){c.current&&y(e.end)},[e.end,y]);var S=i&&e;return Kn.useEffect(function(){i&&c.current&&v()},[v,i,S]),Kn.useEffect(function(){!i&&c.current&&v()},[v,i,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.className,e.formattingFn]),Kn.useEffect(function(){c.current=!0},[]),typeof s=="function"?s({countUpRef:l,start:d,reset:f,update:h,pauseResume:m,getCountUp:p}):Kn.createElement("span",c4({className:n,ref:l,style:a},r),typeof e.start<"u"?p().formattingFn(e.start):"")},ihe=TT.default=nhe;TT.useCountUp=VZ;const Op=({value:t=0,decimals:e,duration:n=1,preserveValue:i=!0,...r})=>{const[,s]=t.toString().split("."),a=e??((s==null?void 0:s.length)||0);return b.jsx(ihe,{end:t,...r,duration:n,decimals:a,enableScrollSpy:!1,preserveValue:i})},rhe=_("div")({name:"SDKContainer",class:"sopqfe6",propsAsIs:!1}),NZ=_("div")({name:"SDKScrollContainer",class:"s102vcph",propsAsIs:!1}),RT=_("div")({name:"SDKContentContainer",class:"s1meqjjv",propsAsIs:!1}),she=()=>RT,CT=_(she())({name:"SDKWhiteContainer",class:"s1burm22",propsAsIs:!0}),ahe=()=>CT,ohe=_(ahe())({name:"SDKSummaryContainer",class:"sm5r3j5",propsAsIs:!0}),lhe=_("div")({name:"TabsContainer",class:"tysxwr6",propsAsIs:!1}),che=()=>RT,uhe=_(che())({name:"LeaderboardContainer",class:"l9er3b1",propsAsIs:!0}),dhe=()=>CT,hhe=_(dhe())({name:"TabsNavContainer",class:"t19dtrb3",propsAsIs:!0}),fhe=_("div")({name:"UserSummaryContainer",class:"u1552n3j",propsAsIs:!1});var phe=Object.defineProperty,mhe=(t,e,n)=>e in t?phe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ghe=(t,e,n)=>mhe(t,e+"",n);let yhe=class{constructor(){ghe(this,"observers",new Set)}subscribe(e){this.observers.add(e)}unsubscribe(e){this.observers.delete(e)}notify(e){this.observers.forEach(n=>n(e))}};const Vh=new yhe,bhe={hiding:!1,finished:!1},_Z=()=>{const[t,e]=V.useState(bhe),n=V.useRef(null);V.useEffect(()=>{const s=a=>{e(a)};return Vh.subscribe(s),()=>{Vh.unsubscribe(s)}},[]);const i=V.useCallback(s=>{const a={hiding:!0,finished:!1};n.current&&clearTimeout(n.current),s!=null&&s.delay?n.current=setTimeout(()=>{Vh.notify(a)},s==null?void 0:s.delay):Vh.notify(a)},[]),r=V.useCallback(()=>{t.hiding&&(n.current=null,Vh.notify({hiding:!1,finished:!0}))},[t.hiding]);return{...t,runAnimation:i,onAnimationEnd:r}},vhe=_("div")({name:"Container",class:"c1pgyo67",propsAsIs:!1}),Ehe="sx17qu6",Ahe="h1692c5m",Kd=({children:t,style:e,className:n,enabled:i=!0,hiding:r,onAnimationEnd:s})=>b.jsx(vhe,{style:e,className:Kt(n,i&&Ehe,i&&r&&Ahe),onAnimationEnd:s,children:t}),She=()=>Kd,The=_(She())({name:"GrowingContainer",class:"gck55ev",propsAsIs:!0}),kZ=({children:t,style:e,enabled:n,animate:i,...r})=>{const s=V.useRef(null);return b.jsx(The,{...r,enabled:n&&i,style:{...e,...(()=>{const a=s==null?void 0:s.current,o=a&&window.getComputedStyle(a),l=o==null?void 0:o.getPropertyValue("height");return n?{height:i?l:0}:{}})()},children:b.jsx("div",{ref:s,children:t})})},Rhe=_("div")({name:"Container",class:"c1gcvmcj",propsAsIs:!1}),Che=_("div")({name:"Title",class:"tnr592a",propsAsIs:!1}),Ihe=_("div")({name:"Description",class:"d1e8jqpv",propsAsIs:!1}),whe=()=>Ye,xhe=_(whe())({name:"Icon",class:"i1vs651k",propsAsIs:!0}),Vhe=({icon:t,title:e,description:n})=>b.jsxs(Rhe,{children:[b.jsx(xhe,{name:t}),b.jsx(Che,{children:e}),b.jsx(Ihe,{children:n})]}),Nhe=()=>kZ,_he=_(Nhe())({name:"ShowInContainer",class:"s16sbdnm",propsAsIs:!0}),pl=_("div")({name:"FeedbackContainer",class:"fbhorgl",propsAsIs:!1}),pV="s1g20ja7",khe=_("div")({name:"Container",class:"c455ozj",propsAsIs:!1}),Fhe=()=>Ye,mV=_(Fhe())({name:"IconPrediction",class:"i1913njx",propsAsIs:!0}),Nh=_("div")({name:"FeedbackIconWrap",class:"fzfk69z",propsAsIs:!1}),n1=_("div")({name:"FeedbackHeader",class:"fx87qaj",propsAsIs:!1}),Lhe=_("span")({name:"FeedbackTitle",class:"fvek9ew",propsAsIs:!1}),xl=_("span")({name:"FeedbackDescription",class:"f1kbtp09",propsAsIs:!1}),Uhe=_("div")({name:"FeedbackTitleWrap",class:"f4i8rro",propsAsIs:!1}),Bhe=_("div")({name:"FeedbackResultDescriptionWrap",class:"fqyssr",propsAsIs:!1}),Whe=()=>xl,Ghe=_(Whe())({name:"FeedbackDynamicDescription",class:"fyv794i",propsAsIs:!0}),Zhe=()=>xl,Dhe=_(Zhe())({name:"FeedbackResultDescription",class:"f1jkj9vx",propsAsIs:!0}),E5=_("div")({name:"FeedbackText",class:"f1pxh3a6",propsAsIs:!1}),Ohe=_("span")({name:"DynamicWrap",class:"d1afvufn",propsAsIs:!1}),Xhe=_("div")({name:"EarlyFeedbackDescription",class:"eq8u24d",propsAsIs:!1}),gV=({feedbackMessages:t,questionVotedCorrectly:e,questionVoted:n,questionType:i,hasCorrectAnswer:r,showExpiredNotification:s,showClosedNotificationTrivia:a,votedInCurrentRender:o,votedAfterQuestionClosed:l,voteErrorMessage:c,enteredAnActiveQuestion:u,marketClosed:d,percentsAnimated:f,votedAnswer:h,isEarlyPrediction:m,correctAnswer:p,onAnimationEnd:v})=>{const y=n&&(i===Te.TRIVIA||i===Te.PREDICTION),E=i===Te.PREDICTION&&!r,S=d&&i===Te.PREDICTION&&!n||i===Te.PREDICTION&&l&&o&&u,I=y&&E,w=y&&r,N=i===Te.PREDICTION&&n&&o&&r,F=n&&i===Te.POLL&&o,W=e?"correct":"incorrect",Z=e?t==null?void 0:t.correctFeedback:t==null?void 0:t.incorrectFeedback;return s||a||I||w||S||F||N||c?b.jsx(_he,{enabled:o,animate:!c&&s?!0:f,onAnimationEnd:v,children:b.jsxs(khe,{"data-prediction":E,children:[c&&!S&&b.jsxs(pl,{children:[!m&&b.jsx(mV,{name:"questionExpired"}),b.jsx(xl,{children:c})]}),!c&&s&&b.jsxs(pl,{children:[!m&&b.jsx(Nh,{children:b.jsx(Ye,{name:"questionExpired"})}),b.jsxs("div",{children:[b.jsx(n1,{children:b.jsx(xl,{children:"Question Expired"})}),b.jsx(E5,{children:"You can still answer to see if you're correct, but no points are awarded for expired questions."})]})]}),!c&&a&&b.jsxs(pl,{className:Kt(pV),children:[b.jsx(Nh,{children:b.jsx(Ye,{name:"questionExpired"})}),b.jsxs("div",{children:[b.jsx(n1,{children:b.jsx(xl,{children:"Question Closed"})}),b.jsx(E5,{children:"This question was answered after the moderator closed the question. So the points for this answer wont tally."})]})]}),S&&b.jsxs(pl,{children:[!m&&b.jsx(Nh,{children:b.jsx(Ye,{name:"questionExpired"})}),b.jsxs("div",{children:[b.jsx(n1,{children:b.jsx(xl,{children:m?r?"The results are already in!":"Question is Closed":"Question Closed"})}),b.jsx(E5,{children:m?b.jsx(Xhe,{children:r?`Correct: ${p==null?void 0:p.text}`:"Event affecting the outcome has occurred."}):"This event has already taken place, so the ability to make a prediction on its outcome is no longer available."})]})]}),!c&&I&&b.jsxs(pl,{children:[!m&&b.jsx(mV,{name:"icon-prediction"}),b.jsxs(Ghe,{children:["Your pick has been recorded. ",b.jsx(Ohe,{children:"Well notify you of the result."})]})]}),!c&&F&&b.jsxs(pl,{children:[!m&&b.jsx(Nh,{"data-feedback-type":"correct",children:b.jsx(Ye,{name:"correct"})}),b.jsx(xl,{children:"Thanks for answering. Please stay tuned for the next question."})]}),!c&&(w||N)&&b.jsxs(pl,{className:Kt(a&&pV),children:[!m&&b.jsx(Nh,{"data-feedback-type":W,children:b.jsx(Ye,{name:W})}),b.jsx("div",{children:b.jsxs(n1,{children:[m?b.jsx(Uhe,{children:W==="incorrect"?b.jsxs(b.Fragment,{children:[b.jsx("div",{children:"So close!"}),b.jsx("div",{children:"Better luck next time"})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{children:"Thats correct!"}),b.jsx("div",{children:"You chose wisely."})]})}):b.jsx(Lhe,{"data-feedback-type":W,children:Z==null?void 0:Z.title}),m?b.jsxs(Bhe,{children:[b.jsxs("div",{children:["Your pick: ",h==null?void 0:h.text]}),b.jsx("div",{children:W==="incorrect"?`Correct: ${p==null?void 0:p.text}`:""})]}):b.jsx(Dhe,{children:Z==null?void 0:Z.description})]})})]})]})}):null},Mhe=_("div")({name:"Container",class:"c1hygj0s",propsAsIs:!1}),Phe=_("div")({name:"Title",class:"t1r84tez",propsAsIs:!1}),Yhe=_("div")({name:"Description",class:"d1aj1a7k",propsAsIs:!1}),$he=_("div")({name:"AdditionalDescription",class:"ax09ezs",propsAsIs:!1}),jhe=()=>Ye,Khe=_(jhe())({name:"Icon",class:"inkrac",propsAsIs:!0}),zhe=({icon:t,title:e,description:n,additionalDescription:i})=>b.jsxs(Mhe,{children:[t&&b.jsx(Khe,{name:t}),b.jsx(Phe,{children:e}),b.jsx(Yhe,{children:n}),i&&b.jsx($he,{children:i})]}),FZ=_("div")({name:"Container",class:"c14ielyq",propsAsIs:!1}),Jhe=()=>NZ,Hhe=_(Jhe())({name:"QuestionScrollContainer",class:"q1tlqx57",propsAsIs:!0}),Qhe=_("div")({name:"TopShadow",class:"t1hq58md",propsAsIs:!1}),qhe=_("div")({name:"BottomShadow",class:"b1c8nxcx",propsAsIs:!1}),efe=_("div")({name:"SponsorLogo",class:"siozuc3",propsAsIs:!1}),LZ=_("div")({name:"Content",class:"cpnc44r",propsAsIs:!1}),tfe=_("div")({name:"Title",class:"tq7p3w0",propsAsIs:!1}),nfe=_("div")({name:"OptionsWrap",class:"o1jlfj9g",propsAsIs:!1}),UZ=_("div")({name:"Options",class:"o84pmnd",propsAsIs:!1}),ife=()=>Kd,yV=_(ife())({name:"AlertContainer",class:"a1dybjw9",propsAsIs:!0}),rfe=_("div")({name:"EarlyPrediction",class:"e1l05ict",propsAsIs:!1}),sfe=()=>Ye,afe=_(sfe())({name:"EarlyPredictionIcon",class:"ez9juex",propsAsIs:!0}),ofe=()=>Ye,lfe=_(ofe())({name:"SponsorIcon",class:"s8p4aob",propsAsIs:!0}),cfe=_("button")({name:"ButtonContainer",class:"b1b6dl8t",propsAsIs:!1}),ufe=_("div")({name:"ButtonPctWrap",class:"b4iik8i",propsAsIs:!1}),dfe=_("div")({name:"ButtonPct",class:"b1gq1lnf",propsAsIs:!1}),hfe=_("span")({name:"ButtonBody",class:"b1j65z51",propsAsIs:!1}),ffe=_("div")({name:"IconContainer",class:"i19tpfua",propsAsIs:!1}),pfe=_("div")({name:"IconWrap",class:"i1tubmma",propsAsIs:!1}),BZ=_("img")({name:"Icon",class:"i1grrgwj",propsAsIs:!1}),mfe=()=>BZ,gfe=_(mfe())({name:"IconDefault",class:"ibemyq8",propsAsIs:!0}),yfe=()=>BZ,bfe=_(yfe())({name:"IconCircle",class:"i1dceht",propsAsIs:!0}),vfe=_("span")({name:"Title",class:"t116q4vq",propsAsIs:!1}),Efe=_("span")({name:"Indicators",class:"i17ajcu2",propsAsIs:!1}),Afe=_("div")({name:"PtsWrap",class:"pu9kmlb",propsAsIs:!1}),Sfe=_("span")({name:"Pts",class:"p1j2j0s0",propsAsIs:!1}),Tfe=_("span")({name:"Percentage",class:"p1mzj1sj",propsAsIs:!1}),Rfe=()=>Ye,Cfe=_(Rfe())({name:"CheckIcon",class:"cichgz8",propsAsIs:!0}),bV={[Wt.CENTERED]:t=>b.jsx(gfe,{"data-testid":"vote-icon",alt:"option-icon",src:t}),[Wt.TRANSPARENT]:t=>b.jsx(ffe,{"data-testid":"vote-icon",children:b.jsx(pfe,{style:{backgroundImage:`url(${t})`}})}),[Wt.ROUNDED]:t=>b.jsx(bfe,{"data-testid":"vote-icon",alt:"option-icon",src:t}),[Wt.NONE]:()=>null,[Wt.UNSET]:()=>null},Ife=({questionType:t,hasCorrectAnswer:e,correct:n,youVoted:i,questionVoted:r})=>{if(t===Te.POLL&&i)return"voted";if(t===Te.PREDICTION){if(!e&&r)return i?"voted":"unset";if(e&&r)return i?n?"correct":"incorrect":"unset";if(i)return"correct"}return t===Te.TRIVIA&&r&&i?n?"correct":"incorrect":"unset"},wfe=({questionType:t,questionVoted:e,correct:n,hasCorrectAnswer:i,questionStatus:r})=>t===Te.TRIVIA?e&&n:t===Te.PREDICTION?e&&n&&i||r===Qt.RESOLVED&&n:!1,xfe=la(cfe),Vfe=t=>{var e;const{id:n,icon:i,text:r,percentageDecimal:s,points:a,onVote:o,markThatVoted:l,firstOption:c,onPercentsAnimated:u,youSelected:d,youVoted:f,questionVoted:h,imageMode:m,answerTimeExpired:p,questionStatus:v,isLoading:y,questionType:E,correct:S,hasCorrectAnswer:I,marketClosed:w,isEarlyPrediction:N,isAd:F,webos:W}=t,[Z,O]=V.useState(0),K=Ife(t),fe=wfe({questionType:E,questionVoted:h,correct:S,hasCorrectAnswer:I,questionStatus:v}),z=w&&E===Te.PREDICTION,pe=h||z,de=E===Te.PREDICTION&&!h&&!w&&!F,be=h&&!d&&K!=="incorrect"&&!f;return V.useLayoutEffect(()=>{O(0),requestAnimationFrame(()=>{O(s)})},[s]),b.jsxs(xfe,{value:n,webos:W,autoFocus:c,"data-selected":d,"data-answer-state":K,disabled:h||y||p||z,"data-is-not-checked":be,"data-a":"intr",onClick:_e=>{l(E===Te.PREDICTION?w:v===Qt.RESOLVED),o(_e)},"data-is-ad":F,children:[b.jsx(ufe,{children:b.jsx(dfe,{"data-answer-state":K,"data-is-not-checked":be,style:{width:`${pe?Z:0}%`},onTransitionEnd:()=>{z||u==null||u()},"data-is-ad":F})}),b.jsxs(hfe,{"data-a":"intr",children:[i&&m&&((e=bV[m])==null?void 0:e.call(bV,i)),b.jsx(vfe,{"data-a":"intr",children:r}),de&&b.jsxs(Afe,{children:[a,b.jsx(Sfe,{children:"pts"})]}),pe&&b.jsxs(Efe,{children:[fe&&b.jsx(Cfe,{name:N?"selectedBetPack":"selected"}),b.jsx(Tfe,{children:b.jsx(Op,{value:s,suffix:"%"})})]})]})]})},Nfe=()=>kZ,_fe=_(Nfe())({name:"ShowInContainer",class:"sie6cqo",propsAsIs:!0}),kfe=_("div")({name:"WinBarContainer",class:"wgizw4u",propsAsIs:!1}),Ffe=_("div")({name:"Content",class:"c1l3ucjp",propsAsIs:!1}),Lfe=_("div")({name:"Title",class:"tx7j799",propsAsIs:!1}),Ufe=()=>Ye,Bfe=_(Ufe())({name:"WinIcon",class:"w4lwuj0",propsAsIs:!0}),Wfe=_("div")({name:"Points",class:"po9i64o",propsAsIs:!1}),Gfe=_("span")({name:"PointsCount",class:"pe5g05h",propsAsIs:!1}),Zfe=_("span")({name:"PointsUnits",class:"p1hdtpmb",propsAsIs:!1}),Dfe=({title:t,points:e,isPlayingTimer:n,isTimer:i,animatePoints:r,questionType:s,timerDuration:a,votedInCurrentRender:o,percentsAnimated:l,onTimerExpired:c})=>b.jsx(_fe,{enabled:s===Te.PREDICTION&&o,animate:l,children:b.jsxs(kfe,{style:{justifyContent:s===Te.PREDICTION?"center":"space-between"},children:[b.jsxs(Ffe,{children:[t&&b.jsx(Lfe,{children:t}),e!==void 0&&s!==Te.POLL&&b.jsxs(b.Fragment,{children:[b.jsx(Bfe,{name:"icon-trophy"}),b.jsxs(Wfe,{children:[b.jsx(Gfe,{children:r?b.jsx(Op,{value:e,delay:.3}):e}),b.jsx(Zfe,{children:"PTS"})]})]})]}),i&&s!==Te.PREDICTION&&b.jsx(Gde,{isPlaying:n,onTimerExpired:c,duration:a})]})}),Ofe=(t,e)=>{switch(t){case"already_voted":return e===Te.POLL?"Youve already answered this question on another device.":"Youve already answered this question on another device. So the points for this answer won't tally.";default:return"Something went wrong, please try again"}},Xfe=()=>b.jsx(FZ,{children:b.jsxs(LZ,{children:[b.jsx(pr,{loading:!0,style:{height:"40px",borderRadius:"100px"}}),b.jsx(pr,{loading:!0,style:{height:"24px",margin:"16px 0"}}),b.jsx(UZ,{children:Array.from({length:5}).map((t,e)=>b.jsx(pr,{loading:!0,style:{height:"44px"}},e))})]})}),Mfe=({openedQuestion:t,isLoading:e,vote:n,close:i,isEarlyPrediction:r,mastersApp:s,webos:a})=>{var o,l;const c=t.subject,u=t.type,d=t.status,f=(o=t.options)==null?void 0:o.options,h=t.marketClosed,m=t.id,p=V.useRef(),v=V.useRef(),y=s?!1:(t==null?void 0:t.adUnit)===oi.STANDART,[E,S]=V.useState(!1),[I,w]=V.useState(!1),[N,F]=V.useState(!0),[W,Z]=V.useState(!1),[O,K]=V.useState(!1),[fe,z]=V.useState(""),[pe,de]=V.useState(""),[be,_e]=V.useState(!1),[me,Q]=V.useState(!1),[q,Re]=V.useState(!1),{runAnimation:D,finished:H}=_Z();V.useEffect(()=>{H&&i(m)},[i,H]),V.useEffect(()=>{u===Te.PREDICTION?h&&F(!1):d===Qt.RESOLVED&&F(!1)},[]);const ie=V.useCallback(qe=>{w(qe),S(!0)},[]),ne=V.useCallback(()=>{r&&S(!1)},[r]),Se=V.useRef(!1),ke=V.useCallback(()=>{v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{Re(!0),D({delay:5500})},4e3)},[D]),We=V.useCallback(async qe=>{if(!Se.current&&(Se.current=!0,m)){const ht=qe.currentTarget.value;z(ht);try{await n(m,ht),y&&ke()}catch(Vt){de(Ofe(Vt.message,u)),z(""),console.error("Error while voting",Vt),Se.current=!1}}},[u,m,z,n,y,ke]),Pe=V.useCallback(()=>{Z(!0),D({delay:3500})},[D]),$e=V.useCallback(()=>{K(!0),D({delay:3500})},[D]),ae=t==null?void 0:t.answers.find(qe=>qe.youVoted===!0),Y=V.useMemo(()=>!!(t!=null&&t.answers.find(qe=>qe.correct===!0)),[t]),te=V.useMemo(()=>t==null?void 0:t.answers.find(qe=>qe.correct===!0),[t]);V.useEffect(()=>{ae&&E&&!me&&(p.current=setTimeout($e,1e4),Q(!0))},[ae]),V.useEffect(()=>()=>{clearTimeout(p.current),clearTimeout(v.current)},[]);const ce=V.useMemo(()=>t?t.answers.map(qe=>{var ht;return{...qe,questionVoted:!!ae,youSelected:fe===qe.id,isLoading:e,hasCorrectAnswer:Y,questionType:t.type,answerTimeExpired:W,questionStatus:d,imageMode:(ht=t.appearance)==null?void 0:ht.images,onVote:We}}):[],[Y,W,e,t,ae,d,We,fe]);V.useEffect(()=>{const qe=ce.some(({percentageDecimal:Vt})=>Vt!==0),ht=ae&&u===Te.PREDICTION;pe&&(r||!qe||h&&ht)&&_e(!0)},[ce,pe,r,h,u,ae]);const ge=f&&(f.case==="trivia"||f.case==="prediction")?f.value:void 0,we=d===Qt.RESOLVED&&u===Te.TRIVIA&&!ae&&!N,Be=u===Te.TRIVIA&&I,Ge=V.useMemo(()=>y?!1:u===Te.PREDICTION?r?!1:!!(ae&&!Y||ae&&Y&&te!=null&&te.youVoted):!0,[u,ae,Y,te,r,y]),le=V.useMemo(()=>{if(u===Te.PREDICTION&&ae&&(!Y||Y&&te!=null&&te.youVoted))return ae.points;if(!(we||W))return ae?ae.correct?ae.pointsEarned:0:te==null?void 0:te.points},[W,ae,te,we,u,Y]),De=V.useMemo(()=>u===Te.PREDICTION&&ae?Y?Y&&te!=null&&te.youVoted?"You won":"":"To win":we||W?"Time expired":u===Te.POLL?"Time remaining":ae?"You won":"To win",[W,u,ae,we,Y,te]),ot=!Ge||Ge&&u===Te.PREDICTION&&E&&!be,it=(u===Te.TRIVIA||u===Te.PREDICTION)&&ae&&Y&&(te==null?void 0:te.youVoted),nt=ae||we||Be||u===Te.TRIVIA&&d===Qt.RESOLVED&&N,ze=!r&&(W||O)||q,pt=()=>{const qe=()=>u===Te.TRIVIA?ae!=null&&ae.correct?`That's correct!
You chose wisely.`:`So close!
Better luck next time.`:u===Te.POLL?`Thanks for answering.
Please stay tuned for the next question.`:u===Te.PREDICTION?"Stay tuned to see if your prediction was correct.":"",ht=()=>u===Te.TRIVIA?`Your Pick: ${te==null?void 0:te.text}`:u===Te.POLL||u===Te.PREDICTION?`Your Pick: ${ae==null?void 0:ae.text}`:"",Vt=()=>u===Te.TRIVIA&&(f==null?void 0:f.case)==="trivia"?f==null?void 0:f.value.explanation:u===Te.PREDICTION?c:"";return q?b.jsx(yV,{children:b.jsx(zhe,{title:qe(),description:ht(),...ae!=null&&ae.correct||u===Te.POLL||u===Te.PREDICTION?{icon:"icon-correct"}:{},...u===Te.TRIVIA||u===Te.PREDICTION?{additionalDescription:Vt()}:{}})}):!r&&(W||O)?b.jsx(yV,{children:b.jsx(Vhe,{icon:"icon-check-circle",title:"More to come...",description:O?b.jsxs(b.Fragment,{children:["Stay tuned for more questions ",b.jsx("br",{})," and insights."]}):b.jsxs(b.Fragment,{children:["Watch for additional enhanced stream ",b.jsx("br",{})," interactive experience."]})})}):null};return b.jsxs(Hhe,{children:[r&&b.jsx(Qhe,{}),b.jsx(FZ,{style:r?{marginTop:"-40px"}:{},children:b.jsxs(LZ,{children:[!r&&!y&&b.jsx(gV,{feedbackMessages:ge,questionVoted:!!ae,questionVotedCorrectly:ae==null?void 0:ae.correct,questionType:u,hasCorrectAnswer:Y,showExpiredNotification:we,showClosedNotificationTrivia:Be,votedInCurrentRender:E,votedAfterQuestionClosed:I,enteredAnActiveQuestion:N,marketClosed:h,percentsAnimated:be,voteErrorMessage:pe,votedAnswer:ae}),Ge&&b.jsx(Dfe,{title:De,points:le,onTimerExpired:Pe,questionType:t.type,isTimer:!e,isPlayingTimer:!ae,animatePoints:it,timerDuration:nt?0:Number(((l=t==null?void 0:t.appearance)==null?void 0:l.autoHideInterval)||"30"),votedInCurrentRender:E,percentsAnimated:be}),ze?pt():b.jsxs(b.Fragment,{children:[r&&b.jsxs(rfe,{children:[b.jsx(afe,{name:"iconEarlyPrediction"}),"EARLY PREDICTION"]}),b.jsx(tfe,{style:ot?{marginTop:0}:{},children:c}),r&&b.jsx(gV,{feedbackMessages:ge,questionVoted:!!ae,questionVotedCorrectly:ae==null?void 0:ae.correct,questionType:u,hasCorrectAnswer:Y,showExpiredNotification:we,showClosedNotificationTrivia:Be,votedInCurrentRender:E,votedAfterQuestionClosed:I,enteredAnActiveQuestion:N,marketClosed:h,percentsAnimated:be,voteErrorMessage:pe,isEarlyPrediction:r,correctAnswer:te,votedAnswer:ae,onAnimationEnd:ne}),b.jsxs(nfe,{children:[b.jsx(UZ,{children:ce.sort((qe,ht)=>qe.id>ht.id?1:-1).map((qe,ht)=>b.jsx(Vfe,{...qe,firstOption:ht===0,markThatVoted:ie,onPercentsAnimated:()=>_e(!0),votedAfterQuestionClosed:I,enteredAnActiveQuestion:N,marketClosed:h,isEarlyPrediction:r,isAd:y,webos:a},qe.id))}),r&&b.jsxs(b.Fragment,{children:[b.jsx(qhe,{}),b.jsx(efe,{children:b.jsx(lfe,{name:"mastersLogoWhite"})})]})]})]})]})})]})};var Pfe=Object.defineProperty,Yfe=(t,e,n)=>e in t?Pfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hh=(t,e,n)=>Yfe(t,typeof e!="symbol"?e+"":e,n);const $fe=XB({level:"trace",enabled:typeof window<"u"&&!!window.localStorage.getItem("SL_DEBUG"),browser:{write:t=>{console.log(t)}}}),Sc=(t,e)=>$fe.child({name:t},e);let jfe=class extends Event{constructor(e,n){super(e),Hh(this,"slEventBus"),this.slEventBus=n}};const Kfe=Sc("event-bus");let zfe=class{constructor(e="sl-event-bus"){Hh(this,"name"),Hh(this,"listeners"),Hh(this,"emit",(n,i)=>{const r=new jfe(this.name,{...i,type:n});Kfe.debug(r,"Emitting event"),window.dispatchEvent(r)}),Hh(this,"destroy",()=>{this.listeners.forEach(n=>{window.removeEventListener(this.name,n),this.listeners.delete(n)}),this.listeners.clear()}),this.name=e,this.listeners=new Set}listen(e){return window.addEventListener(this.name,e),this.listeners.add(e),()=>{this.off(e)}}off(e){window.removeEventListener(this.name,e),this.listeners.delete(e)}};window.slStore=Object.create(null);var vV;(function(t){t.ORGANIZATION="ORGANIZATION",t.STREAM="STREAM"})(vV||(vV={}));st.BETTING+"",st.GAMES+"",st.PUBLIC_CHAT+"",st.TWITTER+"";var Jo;(function(t){t.Ready="ready",t.Suspended="suspended"})(Jo||(Jo={}));const Xt=new zfe,Jfe=_("div")({name:"CloseIconWrap",class:"c3v6bv6",propsAsIs:!1}),Hfe=_("div")({name:"TimerWrap",class:"teuhmro",propsAsIs:!1}),Qfe=()=>Ye,qfe=_(Qfe())({name:"Icon",class:"i17rfxv5",propsAsIs:!0}),qf=({close:t,className:e,timerClassName:n,skipIcon:i,isPlaying:r=!0,duration:s=0,autoClose:a})=>{const[o,l]=V.useState(s===0);V.useEffect(()=>{l(!s)},[s]);const c=V.useCallback(()=>{a===Zq.ENABLED?t==null||t():l(!0)},[a,t]);return o?b.jsxs(Jfe,{"data-a":"intr",onClick:t,className:e,style:i?{width:"auto"}:{},children:[i&&b.jsx("span",{"data-a":"intr",children:"Skip"}),b.jsx(qfe,{"data-a":"intr",name:i?"iconSkip":"icon-cross"})]}):b.jsx(Hfe,{children:b.jsx(Wde,{className:n,isPlaying:r,duration:s,onTimerExpired:c})})},epe=_("div")({name:"Container",class:"c1bgb86j",propsAsIs:!1}),tpe=_("video")({name:"Player",class:"p6703cq",propsAsIs:!1}),npe=_("img")({name:"Poster",class:"p12ow7zo",propsAsIs:!1}),bg=_("div")({name:"Control",class:"cdpal9o",propsAsIs:!1}),ipe="t1xke4ml",rpe="h1yzxv57",spe=_("div")({name:"VideoControls",class:"vxo8xch",propsAsIs:!1}),IT=_("button")({name:"ControlBtn",class:"coyuzu0",propsAsIs:!1}),ape=()=>IT,ope=_(ape())({name:"MuteIcon",class:"musmi9a",propsAsIs:!0}),lpe=()=>IT,cpe=_(lpe())({name:"PauseIcon",class:"p1qe7rum",propsAsIs:!0}),upe=()=>IT,dpe=_(upe())({name:"PlayIcon",class:"psevery",propsAsIs:!0}),WZ=_("button")({name:"WebOSIconButton",class:"w1q3u7py",propsAsIs:!1}),hpe=()=>WZ,H2=_(hpe())({name:"WebOSIconButtonAnimation",class:"wdlqvum",propsAsIs:!0}),fpe=()=>H2,ppe=_(fpe())({name:"WebOSIconButtonPlay",class:"w1ylz9ea",propsAsIs:!0}),mpe=()=>H2,gpe=_(mpe())({name:"WebOSIconButtonPause",class:"w1iylt55",propsAsIs:!0}),ype=()=>H2,bpe=_(ype())({name:"WebOSIconButtonMute",class:"w8h4h7",propsAsIs:!0}),vpe=()=>H2,Epe=_(vpe())({name:"WebOSIconButtonUnmute",class:"w12l12kt",propsAsIs:!0}),Ape=t=>{for(const e of t)e.isIntersecting?e.target instanceof HTMLVideoElement&&e.target.autoplay&&e.target.play():e.target instanceof HTMLVideoElement&&!e.target.paused&&e.target.pause()},GZ=new IntersectionObserver(Ape,{threshold:.5}),wT=new Set,Spe=t=>{GZ.observe(t),wT.add(t)},Tpe=t=>{GZ.unobserve(t),wT.delete(t)},ZZ=()=>{for(const t of wT)t instanceof HTMLVideoElement&&!t.paused&&t.pause()};function Rpe(...t){return V.useCallback(e=>{for(const n of t)n!==null&&(typeof n=="function"?n(e):n&&(n.current=e))},[...t])}const Cpe=la(epe),Ipe=({loading:t,autoPlay:e,played:n,playing:i,isMuted:r,unmute:s,mute:a,togglePlaying:o})=>!t&&!e&&!n?b.jsx(bg,{children:i?b.jsx(Ye,{name:"icon-pause"}):b.jsx(Ye,{name:"icon-play"})}):n?b.jsxs(spe,{children:[i?b.jsx(cpe,{onClick:o}):b.jsx(dpe,{onClick:o}),b.jsx(ope,{className:Kt(!r&&"muted"),onClick:r?s:a})]}):null,wpe=({loading:t,autoPlay:e,playMuted:n,playing:i,played:r,unmute:s,mute:a,isMuted:o,hasNotPausedVideo:l,hasInteractedWithAudio:c})=>b.jsxs(b.Fragment,{children:[!t&&!(e&&n)&&b.jsx(bg,{"data-control-btn":"true",children:i?l?null:b.jsx(ppe,{children:b.jsx(Ye,{name:"icon-play"})}):r?b.jsx(gpe,{children:b.jsx(Ye,{name:"icon-pause"})}):b.jsx(WZ,{"data-control-icon":"true",children:b.jsx(Ye,{name:"icon-play"})})}),!t&&e&&n&&c&&b.jsx(bg,{children:o?b.jsx(bpe,{onClick:s,children:b.jsx(Ye,{name:"iconMute"})}):b.jsx(Epe,{onClick:a,children:b.jsx(Ye,{name:"iconUnMute"})})})]}),zd=V.forwardRef(({poster:t,source:e,aspectRatio:n,controlVideo:i,onReplay:r,onPlay:s,onPause:a,onEnd:o,onRender:l,onMute:c,onQuartile:u,autoPlay:d,playMuted:f,className:h,muted:m,webos:p,hasNotPausedVideo:v},y)=>{const E=V.useRef(null),S=Rpe(E,y),I=V.useRef(!1),w=V.useRef(!1),N=V.useRef(new Set),[F,W]=V.useState(!1),[Z,O]=V.useState(!1),[K,fe]=V.useState(!1),[z,pe]=V.useState(!0),[de,be]=V.useState(f),[_e,me]=V.useState(!1);V.useEffect(()=>{e&&(be(f),W(!1))},[e]);const Q=V.useCallback(()=>{i==null||i({muted:!1})},[i]),q=V.useCallback(()=>{i==null||i({muted:!0})},[i]),Re=V.useCallback(ne=>{ne==null||ne.stopPropagation(),E.current&&(E.current.muted=!0),be(!0)},[]),D=V.useCallback(ne=>{ne==null||ne.stopPropagation(),E.current&&(E.current.muted=!1),be(!1),_e||me(!0)},[_e]);V.useEffect(()=>{m!==void 0&&(m?Re():D())},[Re,m,D]);const H=ne=>{var Se;(Se=ne.stopPropagation)==null||Se.call(ne);const ke=E==null?void 0:E.current;if(ke)if(Z)ke.pause();else{const We=E==null?void 0:E.current;if(!We)return;ZZ(),We.play().catch(Pe=>console.log(Pe)),pe(!1)}},ie=()=>{var ne;(ne=E==null?void 0:E.current)==null||ne.load(),pe(!0)};return V.useEffect(()=>()=>{Q()},[Q]),V.useEffect(()=>{const ne=E.current;return ne?(w.current=ne.muted,be(ne.muted),Spe(ne),()=>{Tpe(ne)}):()=>{}},[]),V.useEffect(()=>{l==null||l()},[l]),V.useEffect(()=>{N.current.clear(),I.current=!1},[e]),b.jsxs(Cpe,{webos:p,onClick:d&&f?de?D:Re:H,"data-a":"intr",autoFocus:!0,options:{focusKey:"video-play-btn"},className:Kt(Z&&!p&&ipe,d&&rpe,h),style:n?{aspectRatio:n}:{},children:[b.jsx(tpe,{ref:S,src:e,autoPlay:d,onPlay:()=>{W(!0),I.current&&(r==null||r(),N.current.clear()),O(!0),pe(!1),s==null||s(),f?Re():q()},onTimeUpdate:ne=>{const Se=ne.target.duration,ke=ne.target.currentTime;if(Se&&ke){const We=Math.floor(ke/Se*100);We>=25&&We<50&&!N.current.has(25)?(u==null||u(25),N.current.add(25)):We>=50&&We<75&&!N.current.has(50)?(u==null||u(50),N.current.add(50)):We>=75&&!N.current.has(75)&&(u==null||u(75),N.current.add(75))}},onVolumeChange:ne=>{const Se=ne.target.muted;w.current!==Se&&(c==null||c(Se),w.current=Se,(Se!==m||m===void 0)&&(Se?Q():q()))},onError:async ne=>{try{if(ne.target instanceof HTMLVideoElement){fe(!0);const Se=await(await fetch(ne.target.src)).blob(),ke=URL.createObjectURL(Se);ne.target.src=ke}}catch(Se){console.error("video fallback fetch failed",Se),O(!0),pe(!0)}finally{fe(!1),Q()}},onPause:()=>{O(!1),a==null||a(),Q()},onEnded:()=>{O(!1),I.current=!0,ie(),o==null||o(),Q()},style:{visibility:z?"hidden":"visible"},controls:!1,playsInline:!0}),b.jsx(npe,{src:t,style:{visibility:z?"visible":"hidden"}}),!p&&b.jsx(Ipe,{loading:K,autoPlay:d,played:F,playing:Z,isMuted:de,unmute:D,mute:Re,togglePlaying:H}),p&&b.jsx(wpe,{loading:K,autoPlay:d,playMuted:f,playing:Z,played:F,unmute:D,mute:Re,isMuted:de,hasNotPausedVideo:v,hasInteractedWithAudio:_e}),K&&b.jsx(bg,{children:b.jsx(Zde,{})})]})}),Jd={[Te.TWEET]:{label:"Insight",iconName:"icon-insight"},[Te.PROMOTION]:{label:"Insight",iconName:"icon-insight"},[Te.UNSET]:void 0,[Te.FACTOID]:{label:"Insight",iconName:"icon-insight"},[Te.POLL]:{label:"Poll",iconName:"icon-poll"},[Te.TRIVIA]:{label:"Trivia",iconName:"icon-trivia"},[Te.PREDICTION]:{label:"Prediction",iconName:"icon-prediction"}},xpe={[Te.TWEET]:"Learn more",[Te.FACTOID]:"Learn more",[Te.POLL]:"Answer",[Te.TRIVIA]:"Answer",[Te.PREDICTION]:"Answer",[Te.PROMOTION]:"",[Te.UNSET]:""},xT=t=>t.split(/\s+/).map(e=>e[0]).join("").toUpperCase(),DZ=t=>t?t.toLocaleString("en-US"):"0",Vpe=t=>{const e=new Date(t);if(!e)return"";const n=new Date,i=Math.floor(n.getTime()-e.getTime());return i<6e4?`${Math.floor(i/1e3)}s`:i<36e5?`${Math.floor(i/6e4)}m`:i<864e5?`${Math.floor(i/36e5)}h`:e.getFullYear()===n.getFullYear()?`${e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}`:`${e.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"2-digit"})}`},Npe=_("div")({name:"Container",class:"cjq447q",propsAsIs:!1}),_pe=_("div")({name:"ImageContainer",class:"i14egogb",propsAsIs:!1}),kpe=_("img")({name:"Image",class:"i2g9g4l",propsAsIs:!1}),Fpe=()=>Ye,Lpe=_(Fpe())({name:"TwitterIcon",class:"t1c454nm",propsAsIs:!0}),Upe=_("div")({name:"Details",class:"d11nigc3",propsAsIs:!1}),Bpe=_("div")({name:"Name",class:"nrxa4k8",propsAsIs:!1}),Wpe=_("div")({name:"UserNameAndDate",class:"u1p051g3",propsAsIs:!1}),OZ=({image:t,name:e,userName:n,verified:i,createdTweet:r})=>{const s=r&&Vpe(r);return b.jsxs(Npe,{children:[t&&b.jsxs(_pe,{children:[b.jsx(kpe,{className:"SL_AccountImage",src:t}),b.jsx(Lpe,{name:"twitter"})]}),b.jsxs(Upe,{children:[e&&b.jsxs(Bpe,{className:"SL_TweetAccountName",children:[e," ",i&&b.jsx(Ye,{name:"icon-twitter-verified"})]}),n&&b.jsxs(Wpe,{className:"SL_TweetAccountUserName",children:["@",n," ",s&&` ${s}`]})]})]})},Gpe=_("div")({name:"Container",class:"c1kzqw87",propsAsIs:!1}),Zpe=_("div")({name:"Details",class:"d9r1hf9",propsAsIs:!1}),Dpe=_("div")({name:"Body",class:"bezygt5",propsAsIs:!1}),_h=_("div")({name:"ImagesContainer",class:"i1y8f7ym",propsAsIs:!1}),A5=_("div")({name:"ImagesBlock",class:"i18gwonx",propsAsIs:!1}),XZ=_("img")({name:"Image",class:"i3g0xjd",propsAsIs:!1}),Ope=()=>XZ,yo=_(Ope())({name:"ImageFullSize",class:"io8rt7p",propsAsIs:!0}),Xpe=()=>XZ,S5=_(Xpe())({name:"ImageHalfSize",class:"i4hn3ox",propsAsIs:!0}),Mpe=new RegExp("\\s?https?://t.co[^\\s]+(\\s+)?$"),MZ=t=>t==null?void 0:t.replace(Mpe,""),VT=V.memo(({image:t,body:e,muted:n,account:i,accountVerified:r,tweet:s,isDetail:a,controlVideo:o})=>{var l,c,u,d,f;const h=(c=(l=s==null?void 0:s.meta)==null?void 0:l.extendedEntities)==null?void 0:c.media,m=h==null?void 0:h.find(({type:v})=>v==="photo"),p=V.useMemo(()=>{var v,y,E,S;return(S=(E=(y=(v=h==null?void 0:h[0])==null?void 0:v.videoInfo)==null?void 0:y.variants)==null?void 0:E.findLast(({contentType:I})=>I==="video/mp4"))==null?void 0:S.url},[h]);return b.jsxs(Gpe,{children:[b.jsxs(Zpe,{children:[b.jsx(OZ,{image:t,name:(u=s==null?void 0:s.meta)==null?void 0:u.accountName,userName:i,verified:r,createdTweet:s==null?void 0:s.date}),b.jsx(Dpe,{children:MZ(e)}),!a&&m&&b.jsx(_h,{children:b.jsx(yo,{src:h==null?void 0:h[0].mediaUrlHttps})}),a&&m&&b.jsxs(b.Fragment,{children:[(h==null?void 0:h.length)===1&&b.jsx(_h,{children:b.jsx(yo,{src:h[0].mediaUrlHttps})}),(h==null?void 0:h.length)===2&&b.jsxs(_h,{children:[b.jsx(S5,{src:h[0].mediaUrlHttps}),b.jsx(S5,{src:h[1].mediaUrlHttps})]}),(h==null?void 0:h.length)===3&&b.jsxs(_h,{children:[b.jsx(S5,{src:h[0].mediaUrlHttps}),b.jsxs(A5,{children:[b.jsx(yo,{src:h[1].mediaUrlHttps}),b.jsx(yo,{src:h[2].mediaUrlHttps})]})]}),(h==null?void 0:h.length)===4&&b.jsxs(_h,{children:[b.jsxs(A5,{children:[b.jsx(yo,{src:h[0].mediaUrlHttps}),b.jsx(yo,{src:h[1].mediaUrlHttps})]}),b.jsxs(A5,{children:[b.jsx(yo,{src:h[2].mediaUrlHttps}),b.jsx(yo,{src:h[3].mediaUrlHttps})]})]})]})]}),!m&&(((d=h==null?void 0:h[0])==null?void 0:d.type)==="video"||((f=h==null?void 0:h[0])==null?void 0:f.type)==="animated_gif")&&p&&b.jsx(zd,{muted:n,source:p,poster:h[0].mediaUrlHttps,controlVideo:o})]})}),PZ=`
  .sl-hide-on-modal {
    height: 0 !important;
    opacity: 0 !important;
    overflow: hidden !important;
    transition: none;
  }
`,Ppe=({containerId:t="SlLayoutContainer",url:e})=>`
  #${t||"SlLayoutContainer"},
  #${t||"SlLayoutContainer"} .StreamLayerSDK>.StreamLayerSDKTheme > * {
    --color-sdk-container-bg: transparent !important;
  }

  #${t||"SlLayoutContainer"}::before {
    content: '';
    display: block;
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    background-color: #1a1a1a;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-image: ${e} !important;
    z-index: 0;

    opacity: 0;
    animation: fade-sl-bg-in 0.3s linear forwards;
  }

  #${t||"SlLayoutContainer"} > div {
    position: relative;
    z-index: 1;
  }

  @keyframes fade-sl-bg-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  ${PZ}
`,YZ=({containerId:t,landscapeUrl:e,portraitUrl:n})=>{const[i,r]=V.useState(!1),s=V.useMemo(()=>{const a=window.innerWidth,o=window.innerHeight;return r(!1),a>o?e:n},[e,n]);return V.useEffect(()=>{if(s){const a=new Image;a.src=s,a.onload=function(){r(!0)}}},[s]),V.useMemo(()=>{const a=s?`url("${s}")`:void 0;return a&&i?b.jsx("style",{children:Ppe({containerId:t,url:a})}):null},[t,s,i])},NT=_("div")({name:"QuestionItem",class:"q1w97g3p",propsAsIs:!1}),Ype=_("div")({name:"QuestionCaption",class:"q2sl39u",propsAsIs:!1}),$pe=_("div")({name:"QuestionBody",class:"qd5h0uc",propsAsIs:!1}),jpe=_("div")({name:"QuestionAction",class:"q105uluy",propsAsIs:!1}),Kpe=()=>Ye,am=_(Kpe())({name:"QuestionActionIcon",class:"q1fa0b9h",propsAsIs:!0}),zpe=()=>am,Jpe=_(zpe())({name:"QuestionCheckIcon",class:"qxlt78s",propsAsIs:!0}),Hpe=()=>Ye,Qpe=_(Hpe())({name:"QuestionTypeIcon",class:"qmg0vkx",propsAsIs:!0}),qpe=_("div")({name:"QuestionTypeLabel",class:"q1uz5j1g",propsAsIs:!1}),e0e=_("div")({name:"QuestionContent",class:"qc3icwa",propsAsIs:!1}),$Z=_("button")({name:"PlayButton",class:"p169lohr",propsAsIs:!1}),t0e=_("div")({name:"SkeletonContainer",class:"s1f43z3r",propsAsIs:!1}),n0e=()=>iZ,i0e=_(n0e())({name:"SkeletonButton",class:"s16k8geu",propsAsIs:!0}),r0e={[Go.LOST]:b.jsx(am,{name:"incorrectVoted"}),[Go.WON]:b.jsx(Jpe,{name:"icon-check"}),[Go.UNSET]:b.jsx(am,{name:"icon-arrow"}),[Go.DNP]:b.jsx(am,{name:"icon-arrow"})},s0e=()=>b.jsxs(t0e,{children:[b.jsx(pr,{loading:!0,style:{width:"35%"}}),b.jsx(pr,{loading:!0,style:{width:"70%"}}),b.jsx(i0e,{})]}),_T=({questionTypeData:t,questionType:e,questionStatus:n})=>b.jsxs(Ype,{className:"SL_QuestionCaption",children:[b.jsx(Qpe,{className:"SL_QuestionTypeIcon","data-testid":"question-type-icon","data-type-trivia":e===Te.TRIVIA,"data-type-poll":e===Te.POLL,name:t.iconName}),b.jsxs(qpe,{className:"SL_QuestionTypeLabel",children:[t.label,e===Te.TRIVIA&&n===Qt.RESOLVED&&"  Expired"]})]}),a0e=({questionId:t,questionType:e,questionStatus:n,subject:i,openForVoting:r,status:s})=>{const a=Jd[e],o=r0e[s];return a?b.jsxs(NT,{"data-a":"intr","data-name":t,children:[b.jsxs(e0e,{children:[b.jsx(_T,{questionTypeData:a,questionType:e,questionStatus:n}),b.jsx($pe,{children:i||""})]}),b.jsx(jpe,{children:r?b.jsx($Z,{"data-a":"intr","data-name":t,children:"Play"}):o})]}):null};var EV;(function(t){t.OPENED="opened"})(EV||(EV={}));const o0e=_("div")({name:"Container",class:"c1vwopgc",propsAsIs:!1}),l0e=_("div")({name:"QuestionTypeWrap",class:"qyktpt0",propsAsIs:!1}),c0e=()=>Ye,u0e=_(c0e())({name:"QuestionTypeIcon",class:"q951jdx",propsAsIs:!0}),d0e=_("span")({name:"QuestionTypeTitle",class:"qss5f0e",propsAsIs:!1}),h0e=_("button")({name:"CloseIconWrap",class:"c1ao1jtv",propsAsIs:!1}),f0e=()=>Ye,p0e=_(f0e())({name:"CloseIcon",class:"cvsl7l3",propsAsIs:!0}),m0e=la(h0e,{}),jZ=({webos:t,type:e,closeTimer:n,close:i,label:r,mastersApp:s})=>{const a=e?Jd[e]:{label:r,iconName:void 0};return b.jsxs(o0e,{children:[b.jsxs(l0e,{children:[(a==null?void 0:a.iconName)&&b.jsx(u0e,{"data-type-trivia":e===Te.TRIVIA,"data-type-poll":e===Te.POLL,"data-type-prediction":e===Te.PREDICTION,"data-masters-app":!!s,name:a.iconName}),(a==null?void 0:a.label)&&b.jsx(d0e,{children:a.label})]}),n!=null&&n.seconds?b.jsx(qf,{close:i,autoClose:n.auto,duration:n.seconds}):b.jsx(m0e,{webos:t,"data-a":"intr",onClick:i,type:"button","data-close-btn":"true",children:b.jsx(p0e,{"data-a":"intr",name:"icon-cross"})})]})},g0e="data:image/svg+xml,%3csvg%20width='103'%20height='18'%20viewBox='0%200%20103%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_6919_104497)'%3e%3cpath%20d='M9.89618%203.45801C9.91951%203.45801%209.94451%203.46134%209.96784%203.46134C9.97618%203.46134%209.98284%203.46134%209.99118%203.46467H9.99784C10.0095%203.46467%2010.0212%203.46801%2010.0312%203.46801C10.0412%203.46801%2010.0462%203.46801%2010.0545%203.47134C10.0762%203.47467%2010.0962%203.47467%2010.1178%203.47634C10.1412%203.47967%2010.1662%203.48134%2010.1895%203.48467H10.2012C10.2462%203.48967%2010.2945%203.49634%2010.3395%203.50467C10.4512%203.52467%2010.5595%203.54801%2010.6662%203.57801C10.6928%203.58301%2010.7178%203.59301%2010.7445%203.60134H10.7478C10.7745%203.60967%2010.7995%203.61801%2010.8262%203.62467C10.8528%203.63301%2010.8778%203.64134%2010.9045%203.65134C10.9312%203.65967%2010.9562%203.66801%2010.9795%203.67967C11.0012%203.68801%2011.0212%203.69634%2011.0428%203.70634C11.0495%203.70967%2011.0578%203.71134%2011.0645%203.71467C11.0828%203.72301%2011.1012%203.72967%2011.1195%203.73801C11.1262%203.74134%2011.1312%203.74301%2011.1378%203.74634C11.1562%203.75467%2011.1712%203.76134%2011.1895%203.76967C11.1962%203.77301%2011.2045%203.77467%2011.2128%203.78134C11.2345%203.78967%2011.2528%203.79801%2011.2728%203.80967C11.2762%203.80967%2011.2795%203.81301%2011.2812%203.81301C11.3045%203.82467%2011.3295%203.83634%2011.3512%203.84801C11.3695%203.85634%2011.3878%203.86801%2011.4062%203.87634C11.4212%203.88134%2011.4328%203.89134%2011.4462%203.89967C11.4645%203.91134%2011.4828%203.91967%2011.5012%203.93134C11.5045%203.93467%2011.5078%203.93467%2011.5095%203.93634L11.5728%203.97467H11.5762L15.2178%206.18801L15.4412%206.32467C16.3228%206.90801%2016.9028%207.88467%2016.9028%208.99301C16.9028%2010.1013%2016.3262%2011.0763%2015.4445%2011.6613L15.2095%2011.803L11.5745%2014.0113H11.5712L11.5078%2014.0497C11.5078%2014.0497%2011.5012%2014.053%2011.4995%2014.0547C11.4812%2014.0663%2011.4628%2014.0747%2011.4445%2014.0863C11.4595%2014.078%2011.4745%2014.0697%2011.4895%2014.0597L5.94951%2017.433C5.94951%2017.433%205.94618%2017.433%205.94618%2017.4363L5.74451%2017.558H5.74118C5.19784%2017.863%204.55784%2018.0247%203.87784%2017.993C2.73618%2017.938%201.75784%2017.3463%201.19284%2016.4847C0.837844%2015.9413%200.64451%2015.2913%200.681177%2014.6013C0.71451%2013.983%200.922844%2013.4147%201.26118%2012.9397L1.26951%2012.9247L4.04451%208.99634L6.77784%205.12634C6.81118%205.07967%206.84784%205.03301%206.87784%204.98467C6.87451%204.98967%206.86951%204.99967%206.86284%205.00467C6.87118%204.98967%206.88118%204.97634%206.88951%204.96134C6.88951%204.95801%206.89284%204.95801%206.89284%204.95634C6.89618%204.95301%206.89951%204.94801%206.90118%204.94467C6.90118%204.94467%206.90118%204.94134%206.90451%204.94134C6.91951%204.92134%206.93451%204.90134%206.94618%204.87801C6.96118%204.85801%206.97618%204.83801%206.99118%204.81634C7.00618%204.79634%207.02118%204.77634%207.03618%204.75467C7.03951%204.75134%207.03951%204.74967%207.04284%204.74634C7.04618%204.74301%207.04618%204.74134%207.04951%204.74134C7.06451%204.72134%207.07951%204.70134%207.09784%204.67967C7.10951%204.66467%207.12118%204.65134%207.13451%204.63634C7.16784%204.59801%207.20118%204.56134%207.23784%204.52301C7.25284%204.50801%207.26451%204.49467%207.27951%204.47967C7.30118%204.45634%207.32118%204.43634%207.34618%204.41634C7.36451%204.39967%207.38284%204.38134%207.40118%204.36467C7.41951%204.34801%207.43451%204.33301%207.45284%204.31801C7.45618%204.31467%207.45951%204.31301%207.45951%204.31301C7.47118%204.30134%207.48118%204.29301%207.49284%204.28467C7.50451%204.27301%207.51951%204.26134%207.53284%204.25301C7.53618%204.24967%207.53951%204.24801%207.54118%204.24801C7.55951%204.23301%207.57451%204.21967%207.59284%204.20467C7.60784%204.18967%207.62618%204.17801%207.64118%204.16634C7.65618%204.15467%207.66784%204.14634%207.68284%204.13467C7.70118%204.11967%207.71951%204.10801%207.73784%204.09467C7.75284%204.08634%207.76451%204.07467%207.77951%204.06634C7.78618%204.06134%207.79451%204.05467%207.80284%204.05134C7.81784%204.03967%207.83284%204.03134%207.84784%204.02301C7.85118%204.01967%207.85618%204.01801%207.85951%204.01467C7.87784%204.00301%207.89618%203.99134%207.91118%203.98301C7.91784%203.97801%207.92618%203.97467%207.93284%203.96801C7.94784%203.95967%207.95951%203.95134%207.97451%203.94134C7.98284%203.93634%207.99284%203.92967%208.00118%203.92467C8.01618%203.91634%208.03451%203.90801%208.04951%203.89634C8.05284%203.89301%208.05784%203.89134%208.06451%203.88801C8.08618%203.87634%208.10451%203.86467%208.12451%203.85634C8.12784%203.85301%208.13118%203.85301%208.13618%203.85134C8.15784%203.83967%208.17784%203.82801%208.19951%203.81967C8.19951%203.81967%208.20284%203.81967%208.20284%203.81634C8.22618%203.80467%208.24784%203.79301%208.27284%203.78134C8.27284%203.78134%208.27618%203.78134%208.27618%203.77801C8.29451%203.76967%208.31284%203.76134%208.33284%203.75134C8.34118%203.74801%208.35118%203.74301%208.35951%203.73967C8.37118%203.73467%208.38284%203.72801%208.39618%203.72467C8.41118%203.71967%208.42284%203.71301%208.43784%203.70801C8.46118%203.69967%208.48284%203.69134%208.50784%203.68134C8.52284%203.67634%208.53451%203.66967%208.54951%203.66634C8.57118%203.65801%208.59118%203.65134%208.61284%203.64301C8.63118%203.63801%208.65284%203.63134%208.66951%203.62301C8.75451%203.59634%208.83784%203.57134%208.92284%203.54967C8.94118%203.54467%208.96284%203.54134%208.97951%203.53801C9.08451%203.51467%209.19451%203.49467%209.30284%203.48301C9.32951%203.47967%209.35784%203.47801%209.38451%203.47467C9.42118%203.47134%209.45951%203.46967%209.49618%203.46634C9.51118%203.46634%209.52284%203.46301%209.53784%203.46301H9.55951C9.58951%203.46301%209.61618%203.45967%209.64784%203.45967H9.73784C9.79451%203.45967%209.84284%203.45967%209.89451%203.46301L9.89618%203.45801ZM10.6662%2014.413C10.5612%2014.4413%2010.4512%2014.4647%2010.3395%2014.4863C10.4512%2014.4663%2010.5595%2014.443%2010.6662%2014.413ZM9.56118%2014.5313H9.56951C9.56118%2014.5313%209.54784%2014.5313%209.53951%2014.528C9.54618%2014.528%209.55451%2014.5313%209.56118%2014.5313ZM7.08784%2013.293C7.05451%2013.253%207.02451%2013.2147%206.99451%2013.1747C7.02451%2013.2147%207.05784%2013.253%207.08784%2013.293ZM6.90284%2013.043C6.90284%2013.043%206.90618%2013.0463%206.90618%2013.048C6.90284%2013.0447%206.90284%2013.043%206.89951%2013.0363C6.89618%2013.033%206.89618%2013.0297%206.89284%2013.0247C6.86951%2012.9897%206.84784%2012.953%206.82284%2012.918C6.84451%2012.953%206.86784%2012.9913%206.88951%2013.0247C6.89618%2013.0297%206.89784%2013.0363%206.90118%2013.0413L6.90284%2013.043ZM6.89451%2013.0263C6.85784%2012.968%206.81951%2012.913%206.77618%2012.858L6.89451%2013.0263Z'%20fill='%231652A8'%20style='fill:%231652A8;fill:color(display-p3%200.0863%200.3216%200.6588);fill-opacity:1;'/%3e%3cg%20opacity='0.85'%3e%3cpath%20d='M5.77088%200.453306L5.97588%200.578306L5.97921%200.581639L11.5225%203.94997C11.5075%203.94164%2011.4925%203.93331%2011.4775%203.92331C11.4959%203.93497%2011.5142%203.94331%2011.5325%203.95497C11.5359%203.95831%2011.5392%203.95831%2011.5409%203.95997L11.6042%203.99831H11.6075L15.2492%206.21164L15.4725%206.34831C16.3542%206.93164%2016.9342%207.9083%2016.9342%209.01664C16.9342%2010.125%2016.3575%2011.1%2015.4759%2011.685L15.2409%2011.8266L11.6059%2014.035H11.6025L11.5392%2014.0733C11.5392%2014.0733%2011.5325%2014.0766%2011.5309%2014.0783C11.5125%2014.09%2011.4942%2014.0983%2011.4759%2014.11C11.4642%2014.1183%2011.4492%2014.125%2011.4359%2014.1333C11.4175%2014.145%2011.3992%2014.1533%2011.3809%2014.1616C11.3575%2014.1733%2011.3359%2014.185%2011.3109%2014.1966C11.3075%2014.2%2011.3042%2014.2%2011.3025%2014.2C11.2842%2014.2116%2011.2625%2014.22%2011.2425%2014.2283C11.2359%2014.2316%2011.2275%2014.2333%2011.2192%2014.24C11.2009%2014.2483%2011.1859%2014.255%2011.1675%2014.2633C11.1609%2014.2666%2011.1592%2014.2683%2011.1525%2014.2683C11.1309%2014.2766%2011.1109%2014.285%2011.0859%2014.2966C11.0625%2014.3083%2011.0342%2014.3166%2011.0109%2014.325C10.9875%2014.3333%2010.9592%2014.345%2010.9359%2014.3533C10.9092%2014.3616%2010.8842%2014.37%2010.8575%2014.38C10.8309%2014.3883%2010.8059%2014.3966%2010.7792%2014.4033H10.7759C10.7492%2014.4116%2010.7242%2014.4183%2010.6975%2014.4266C10.5925%2014.455%2010.4825%2014.4783%2010.3709%2014.4983C10.3259%2014.5066%2010.2775%2014.5133%2010.2325%2014.5183C10.2259%2014.5183%2010.2242%2014.5183%2010.2209%2014.5216C10.1975%2014.525%2010.1725%2014.5283%2010.1492%2014.53C10.1009%2014.5366%2010.0525%2014.5383%2010.0042%2014.5416C9.92921%2014.5483%209.85254%2014.5483%209.77754%2014.5483H9.68088C9.65421%2014.5483%209.62921%2014.545%209.60254%2014.545C9.59421%2014.545%209.58088%2014.545%209.57254%2014.5416C9.53254%2014.5383%209.49088%2014.5366%209.45254%2014.5333C9.27421%2014.5166%209.09588%2014.4866%208.92754%2014.4466C8.90421%2014.44%208.87921%2014.435%208.85254%2014.4266C8.81921%2014.4183%208.78588%2014.41%208.74921%2014.3983C8.73088%2014.3933%208.70921%2014.3866%208.69254%2014.3816C8.66588%2014.3733%208.64088%2014.365%208.61421%2014.355C8.58754%2014.3466%208.56254%2014.3383%208.53921%2014.3266C8.51588%2014.3183%208.48754%2014.3066%208.46421%2014.2983C8.44088%2014.29%208.41921%2014.2816%208.39754%2014.27C8.38921%2014.2666%208.38254%2014.265%208.37421%2014.2583C8.35588%2014.25%208.33754%2014.2416%208.31754%2014.2316C8.31754%2014.2316%208.31421%2014.2316%208.31421%2014.2283C8.29088%2014.2166%208.26588%2014.205%208.24254%2014.1933C8.21921%2014.1816%208.19421%2014.17%208.17088%2014.155C8.14754%2014.1433%208.12254%2014.1283%208.10088%2014.1166C8.07754%2014.105%208.05254%2014.09%208.03088%2014.0766C8.00754%2014.0616%207.98588%2014.0483%207.96088%2014.0366C7.93754%2014.0216%207.91588%2014.0083%207.89421%2013.9933C7.87254%2013.9783%207.85254%2013.965%207.83088%2013.95C7.82754%2013.95%207.82754%2013.9466%207.82421%2013.945C7.80588%2013.9333%207.78754%2013.9183%207.76754%2013.905C7.76421%2013.9016%207.76088%2013.9016%207.75921%2013.9C7.74088%2013.885%207.72254%2013.8733%207.70421%2013.86C7.70088%2013.8566%207.69588%2013.855%207.69254%2013.8483C7.67421%2013.8333%207.65588%2013.82%207.63754%2013.805C7.63754%2013.805%207.63421%2013.805%207.63421%2013.8016C7.61588%2013.7866%207.59754%2013.7733%207.57754%2013.755C7.57421%2013.7516%207.57088%2013.7516%207.56921%2013.7483C7.55421%2013.7366%207.53921%2013.7216%207.52421%2013.71C7.51754%2013.705%207.51254%2013.6983%207.50588%2013.695C7.49421%2013.6833%207.47921%2013.6716%207.46588%2013.66C7.43921%2013.6366%207.41421%2013.6133%207.39088%2013.5866C7.37254%2013.57%207.35754%2013.5516%207.33921%2013.535C7.32754%2013.5233%207.31754%2013.5116%207.30588%2013.5C7.29421%2013.4883%207.28421%2013.48%207.27588%2013.4683C7.25754%2013.4516%207.24254%2013.43%207.22421%2013.4133C7.19088%2013.375%207.15754%2013.3383%207.12421%2013.2966C7.09088%2013.2566%207.06088%2013.2183%207.03088%2013.1783C7.01588%2013.1583%207.00088%2013.1383%206.98588%2013.1166C6.97088%2013.0966%206.95588%2013.0766%206.94421%2013.0533C6.94088%2013.05%206.94088%2013.0483%206.93754%2013.0416C6.93421%2013.0383%206.93421%2013.0366%206.93088%2013.03C6.90754%2012.995%206.88588%2012.9583%206.86088%2012.9233C6.88254%2012.9583%206.90588%2012.995%206.92754%2013.03C6.89088%2012.9716%206.85254%2012.9166%206.80921%2012.8616L4.07921%208.99664L1.34088%205.12997L1.23254%204.97664L1.22921%204.97164C0.92421%204.51164%200.737543%203.97497%200.707543%203.39497C0.670877%202.70497%200.86421%202.05164%201.22088%201.50997C1.78588%200.648306%202.76588%200.0566391%203.90421%20-2.75556e-05C4.58421%20-0.0150276%205.22421%200.148306%205.77088%200.453306Z'%20fill='url(%23paint0_linear_6919_104497)'%20style=''/%3e%3c/g%3e%3cpath%20d='M32.4132%2012.862C31.2015%2012.862%2030.4482%2012.0503%2030.4482%2010.7203V8.4453H32.6632V7.02697H30.4482V4.72363L28.8548%205.9053V7.0253H27.9648V8.44363H28.8548V10.7053C28.8548%2012.9953%2030.1982%2014.412%2032.4282%2014.412H32.7682V12.862H32.4132Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M19.9812%2012.5767L21.4028%2011.4651C22.0395%2012.4867%2022.8995%2013.0351%2023.9962%2013.0351C25.1962%2013.0351%2025.9512%2012.2651%2025.9512%2011.3017C25.9512%2010.1901%2024.7662%209.83506%2023.5212%209.43506C22.0545%208.96172%2020.4695%208.36839%2020.4695%206.38339C20.4695%204.73839%2021.9362%203.43506%2023.9362%203.43506C25.5812%203.43506%2026.6028%204.07172%2027.4328%205.03506L26.1145%206.01339C25.6262%205.25839%2024.8995%204.85839%2023.9362%204.85839C22.8395%204.85839%2022.1278%205.51006%2022.1278%206.35506C22.1278%207.39172%2023.2695%207.73339%2024.5128%208.14839C25.9945%208.65172%2027.6095%209.29006%2027.6095%2011.3051C27.6095%2012.9651%2026.2462%2014.5501%2024.0095%2014.5501C22.1578%2014.5501%2020.8978%2013.7651%2019.9795%2012.5801L19.9812%2012.5767Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M38.2695%2010.7367C38.2695%208.56503%2039.9379%206.8667%2042.1095%206.8667C44.2812%206.8667%2045.9062%208.4467%2045.9062%2010.6334V11.2534H39.7912C39.9979%2012.39%2040.8845%2013.1434%2042.1695%2013.1434C43.1745%2013.1434%2043.9429%2012.6117%2044.3262%2011.8134L45.6262%2012.5367C44.9762%2013.7484%2043.8095%2014.545%2042.1695%2014.545C39.8362%2014.545%2038.2695%2012.8767%2038.2695%2010.735V10.7367ZM39.8645%209.91003H44.2962C44.0595%208.8467%2043.2479%208.25503%2042.1095%208.25503C40.9712%208.25503%2040.1595%208.93503%2039.8645%209.91003Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M33.7549%2010.72C33.7549%208.42999%2035.0982%207.02832%2037.3282%207.02832H38.0366V8.56499H37.3132C36.1016%208.56499%2035.3199%209.40665%2035.3349%2010.7367V14.415H33.7549V10.7233V10.72Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M46.6882%2010.7218C46.6882%208.56517%2048.3865%206.88184%2050.5132%206.88184C52.6399%206.88184%2054.3082%208.56517%2054.3082%2010.7218V14.4135H52.7582V13.4535C52.2415%2014.1468%2051.4432%2014.5468%2050.4682%2014.5468C48.3565%2014.5468%2046.6865%2012.8935%2046.6865%2010.7218H46.6882ZM52.7882%2010.7218C52.7882%209.40684%2051.7832%208.3585%2050.5132%208.3585C49.2432%208.3585%2048.2382%209.40684%2048.2382%2010.7218C48.2382%2012.0368%2049.2282%2013.0852%2050.5132%2013.0852C51.7982%2013.0852%2052.7882%2012.0218%2052.7882%2010.7218Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M55.3027%2010.2717C55.3027%208.30667%2056.6461%206.875%2058.6411%206.875C59.7777%206.875%2060.6944%207.33333%2061.2694%208.10167C61.8161%207.33333%2062.7027%206.875%2063.8394%206.875C65.8477%206.875%2067.2511%208.27833%2067.2511%2010.2717V14.4067H65.6711V10.2867C65.6711%209.165%2064.9177%208.38167%2063.8394%208.38167C62.7611%208.38167%2062.0527%209.18%2062.0677%2010.2433V14.4083H60.4877V10.2883C60.4877%209.16667%2059.7194%208.38333%2058.6411%208.38333C57.5627%208.38333%2056.8694%209.18167%2056.8827%2010.245V14.41H55.3027V10.275V10.2717Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M68.2646%203.62695H69.8746V12.872H74.2313V14.4086H68.2646V3.62695Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M89.418%2010.7367C89.418%208.56503%2091.0863%206.8667%2093.258%206.8667C95.4296%206.8667%2097.0546%208.4467%2097.0546%2010.6334V11.2534H90.9396C91.1463%2012.39%2092.033%2013.1434%2093.318%2013.1434C94.323%2013.1434%2095.0913%2012.6117%2095.4746%2011.8134L96.7746%2012.5367C96.1246%2013.7484%2094.958%2014.545%2093.318%2014.545C90.9846%2014.545%2089.418%2012.8767%2089.418%2010.735V10.7367ZM91.013%209.91003H95.4446C95.208%208.8467%2094.3963%208.25503%2093.258%208.25503C92.1196%208.25503%2091.308%208.93503%2091.013%209.91003Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M74.4948%2010.7218C74.4948%208.56517%2076.1932%206.88184%2078.3198%206.88184C80.4465%206.88184%2082.1148%208.56517%2082.1148%2010.7218V14.4135H80.5648V13.4535C80.0482%2014.1468%2079.2498%2014.5468%2078.2748%2014.5468C76.1632%2014.5468%2074.4932%2012.8935%2074.4932%2010.7218H74.4948ZM80.5948%2010.7218C80.5948%209.40684%2079.5898%208.3585%2078.3198%208.3585C77.0498%208.3585%2076.0448%209.40684%2076.0448%2010.7218C76.0448%2012.0368%2077.0348%2013.0852%2078.3198%2013.0852C79.6048%2013.0852%2080.5948%2012.0218%2080.5948%2010.7218Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M85.0381%2014.0498L81.9814%207.0498H83.6798L85.8364%2012.1748L87.8748%207.0498H89.5431L85.0831%2017.8465H83.4581L85.0381%2014.0515V14.0498Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M98.041%2010.7151C98.041%208.4251%2099.3843%207.02344%20101.614%207.02344H102.323V8.5601H101.599C100.388%208.5601%2099.606%209.40177%2099.621%2010.7318V14.4101H98.041V10.7184V10.7151Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_6919_104497'%20x1='4.31754'%20y1='8.70664'%20x2='13.6359'%20y2='3.59497'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0.2'%20stop-color='%231589EE'%20style='stop-color:%231589EE;stop-color:color(display-p3%200.0824%200.5373%200.9333);stop-opacity:1;'/%3e%3cstop%20offset='1'%20stop-color='%235EB4FF'%20style='stop-color:%235EB4FF;stop-color:color(display-p3%200.3686%200.7059%201.0000);stop-opacity:1;'/%3e%3c/linearGradient%3e%3cclipPath%20id='clip0_6919_104497'%3e%3crect%20width='101.648'%20height='18'%20fill='white'%20style='fill:white;fill-opacity:1;'%20transform='translate(0.675781)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",T5=_("div")({name:"SponsorLogoWrap",class:"s8p5v5z",propsAsIs:!1}),y0e=()=>Ye,b0e=_(y0e())({name:"SponsorLogo",class:"s755yti",propsAsIs:!0}),v0e=_("img")({name:"AdSponsorLogo",class:"a1dflj8e",propsAsIs:!1}),E0e=({mastersApp:t,sponsorLogo:e})=>t?b.jsx(T5,{children:b.jsx(b0e,{name:"mastersLogo"})}):e?b.jsx(T5,{children:b.jsx(v0e,{src:e,alt:"ad-sponsor-logo"})}):b.jsx(T5,{children:b.jsx("img",{src:g0e,alt:"stream-layer-logo"})}),A0e=_("div")({name:"Container",class:"cq8qxhy",propsAsIs:!1}),S0e=_("div")({name:"VideoWrapper",class:"v18kj6dc",propsAsIs:!1}),T0e=()=>zd,R0e=_(T0e())({name:"FocusableVideo",class:"fv2nwib",propsAsIs:!0}),AV=_("div")({name:"VideoStatus",class:"v8ptucg",propsAsIs:!1}),SV="caip8y5",C0e=_("div")({name:"Content",class:"ccgc65e",propsAsIs:!1}),I0e=_("h3")({name:"Title",class:"t1q3iml2",propsAsIs:!1}),w0e=_("div")({name:"Description",class:"d1y2pxs8",propsAsIs:!1}),x0e=_("img")({name:"Image",class:"ig2j4fc",propsAsIs:!1}),V0e=_("div")({name:"ImageContainer",class:"i3dd6iy",propsAsIs:!1}),N0e=({instantView:t,isDetail:e,notification:n,controlVideo:i,muted:r})=>{var s,a;const o=V.useRef(null),[l,c]=V.useState(!1),[u,d]=V.useState(void 0),f=(t==null?void 0:t.playVideoMuted)===DW.ENABLED,h=e&&(t==null?void 0:t.autoPlayVideo)===rg.ENABLED,m=f&&h,p=t==null?void 0:t.heading,v=t==null?void 0:t.body,y=p||v,[E,S]=V.useState(!0),I=n==null?void 0:n.title,w=n==null?void 0:n.body;return b.jsxs(A0e,{children:[((s=t==null?void 0:t.video)==null?void 0:s.url)&&b.jsxs(S0e,{children:[b.jsx(R0e,{className:SV,source:t.video.url,poster:t.video.thumbnailUrl,controlVideo:i,muted:r,autoPlay:e&&t.autoPlayVideo===rg.ENABLED,ref:o,onPause:()=>{c==null||c(!0),S(!1)},onMute:N=>{d(N)},onPlay:()=>{c==null||c(!1)},playMuted:f,hasNotPausedVideo:E,webos:!0}),l&&!E&&b.jsxs(AV,{children:[b.jsx(Ye,{name:"icon-pause"}),"PAUSED"]}),u&&m&&b.jsxs(AV,{children:[b.jsx(Ye,{name:"iconMute"}),"MUTED"]})]}),(t==null?void 0:t.image)&&!((a=t==null?void 0:t.video)!=null&&a.url)&&b.jsx(V0e,{className:SV,"data-rounded":t.imageMode===Wt.ROUNDED,children:b.jsx(x0e,{src:t==null?void 0:t.image})}),b.jsxs(C0e,{children:[b.jsx(I0e,{children:e&&y?p:I}),b.jsx(w0e,{children:e&&y?v:w})]})]})},_0e=_("div")({name:"Container",class:"cgn5uen",propsAsIs:!1}),TV="c1px8nt6",k0e=_("div")({name:"Content",class:"c5et2jt",propsAsIs:!1}),F0e=_("h3")({name:"Title",class:"t1i2kpk2",propsAsIs:!1}),L0e=_("div")({name:"Description",class:"dd3lh3p",propsAsIs:!1}),U0e=_("img")({name:"Image",class:"i1gfjeu5",propsAsIs:!1}),B0e=_("div")({name:"ImageContainer",class:"i58y999",propsAsIs:!1}),KZ=({instantView:t,isDetail:e,notification:n,controlVideo:i,muted:r})=>{var s,a;const o=t==null?void 0:t.heading,l=t==null?void 0:t.body,c=o||l,u=n==null?void 0:n.title,d=n==null?void 0:n.body;return b.jsxs(_0e,{children:[((s=t==null?void 0:t.video)==null?void 0:s.url)&&b.jsx(zd,{className:TV,source:t.video.url,poster:t.video.thumbnailUrl,controlVideo:i,muted:r,autoPlay:e&&t.autoPlayVideo===rg.ENABLED}),(t==null?void 0:t.image)&&!((a=t==null?void 0:t.video)!=null&&a.url)&&b.jsx(B0e,{className:TV,"data-rounded":t.imageMode===Wt.ROUNDED,children:b.jsx(U0e,{src:t==null?void 0:t.image})}),b.jsxs(k0e,{children:[b.jsx(F0e,{children:e&&c?o:u}),b.jsx(L0e,{children:e&&c?l:d})]})]})},W0e=_("div")({name:"Container",class:"c1euiow",propsAsIs:!1}),G0e=_("a")({name:"WebLinkBtn",class:"w19zie3h",propsAsIs:!1}),Z0e=()=>Ye,D0e=_(Z0e())({name:"WebLinkIcon",class:"wyg5v7z",propsAsIs:!0}),O0e=({instantView:t,...e})=>b.jsxs(W0e,{children:[e.webos?b.jsx(N0e,{instantView:t,...e,isDetail:!0}):b.jsx(KZ,{instantView:t,...e,isDetail:!0}),(t==null?void 0:t.webLink)&&b.jsxs(G0e,{href:t==null?void 0:t.webLink.url,target:"_blank","data-a":"web-link",children:[t==null?void 0:t.webLink.label,b.jsx(D0e,{name:"icon-external-link"})]})]}),X0e=_("div")({name:"Container",class:"c1dcxmvf",propsAsIs:!1}),M0e=_("blockquote")({name:"Quote",class:"qb4q22c",propsAsIs:!1}),P0e=t=>b.jsxs(X0e,{children:[t.title&&b.jsx(M0e,{children:t.title}),b.jsx(VT,{...t,isDetail:!0})]}),zZ=t=>[e=>(...n)=>(t&&Xt.emit(t==null?void 0:t.type,t),e?e(n):null)],Y0e=t=>{const e=t.target;e instanceof HTMLAnchorElement&&e.target==="_blank"&&e.getAttribute("data-a")==="web-link"&&Xt.emit("poll",{action:"navigated",payload:{}}),e instanceof Element&&e.getAttribute("data-a")==="intr"&&Xt.emit("interactions",{action:"tap",payload:{}})},JZ=(t,e)=>{const n=window.innerWidth<Ya.xl;V.useEffect(()=>{const i=n&&e.useDomNode?document:t.current,r=s=>{e.listener(s,t)};return e.enabled&&(i==null||i.addEventListener(e.event,r)),()=>{i==null||i.removeEventListener(e.event,r)}},[n,e.enabled,e.listener])},HZ=t=>qa(t),$0e=t=>{const e=ct(t.getActiveFeature()),n=ct(t.streamStore()),[i,r]=V.useState(null);return V.useEffect(()=>{const s=t.getFeatures();if(!e)r(null);else for(const[a,o]of s)a===e?(o.status.get()===Jo.Suspended&&o.enable(),r(o)):o.status.get()===Jo.Ready&&o.disable();return()=>{for(const[,a]of s)a.status.get()===Jo.Ready&&a.disable()}},[e,t,n]),[e,i]},j0e=_("div")({name:"Container",class:"c1zy8a",propsAsIs:!1}),K0e=_("div")({name:"Title",class:"t1vih9p5",propsAsIs:!1}),z0e=_("div")({name:"Indicator",class:"i1fbnvpb",propsAsIs:!1}),RV=({indicator:t,title:e})=>b.jsxs(j0e,{children:[b.jsx(K0e,{children:e}),b.jsx(z0e,{children:t})]}),J0e=_("div")({name:"Container",class:"ctmhwyc",propsAsIs:!1}),H0e=_("div")({name:"Indicator",class:"i1jri200",propsAsIs:!1}),Q0e=_("div")({name:"Title",class:"t8s05oq",propsAsIs:!1}),i1=({indicator:t,title:e})=>b.jsxs(J0e,{children:[b.jsx(H0e,{children:t}),b.jsx(Q0e,{children:e})]}),q0e=_("div")({name:"Container",class:"c1yrpn9o",propsAsIs:!1}),e1e=_("div")({name:"TopInfo",class:"t17fwahh",propsAsIs:!1}),t1e=_("div")({name:"BottomInfo",class:"by6w7e9",propsAsIs:!1}),n1e=_("div")({name:"User",class:"u1g7arbm",propsAsIs:!1}),i1e=_("img")({name:"Avatar",class:"a1ldeata",propsAsIs:!1}),r1e=_("div")({name:"UserInfo",class:"u10d4koz",propsAsIs:!1}),s1e=_("div")({name:"UserName",class:"u1q6roj0",propsAsIs:!1}),a1e=_("div")({name:"UserRating",class:"ui0m425",propsAsIs:!1}),o1e=_("img")({name:"TrophyIcon",class:"t1el3mrn",propsAsIs:!1}),l1e=_("div")({name:"RtsContainer",class:"r2vgnxv",propsAsIs:!1}),c1e=_("div")({name:"RtsDivider",class:"roqn06j",propsAsIs:!1}),u1e=_("div")({name:"Rts",class:"r15adx7c",propsAsIs:!1}),CV=_("div")({name:"RtsIndicator",class:"rv59lta",propsAsIs:!1}),IV=_("div")({name:"RtsLabel",class:"r55lotb",propsAsIs:!1}),d1e=_("div")({name:"Divider",class:"d1knfgqt",propsAsIs:!1}),h1e=_("div")({name:"Ranks",class:"r1mqo824",propsAsIs:!1}),f1e=_("div")({name:"Statistics",class:"sxareh6",propsAsIs:!1}),p1e=_("div")({name:"AvatarPlaceholder",class:"amcu48h",propsAsIs:!1}),m1e=_("button")({name:"UserAccountBtn",class:"u32nfkp",propsAsIs:!1}),g1e="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Trophy'%3e%3cpath%20id='Combined%20Shape'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M3.69197%204.66662C3.69197%205.99705%203.92914%207.17787%204.4035%208.20912C3.49966%208.02451%202.74487%207.66486%202.1391%207.13014C1.53333%206.59542%201.23046%206.0798%201.23046%205.58328V4.66662H3.69197ZM14.7686%204.66662V5.58328C14.7686%206.0798%2014.4658%206.59542%2013.86%207.13014C13.2542%207.66486%2012.4994%208.02451%2011.5956%208.20912C12.0699%207.17787%2012.3071%205.99705%2012.3071%204.66662H14.7686ZM15.9998%205.58329V4.36108C15.9998%204.10645%2015.9101%203.89002%2015.7306%203.71178C15.5511%203.53354%2015.3332%203.44442%2015.0768%203.44442H12.3076V2.52776C12.3076%202.10763%2012.1569%201.74797%2011.8556%201.44878C11.5544%201.14959%2011.1922%201%2010.7691%201H5.23072C4.80764%201%204.44547%201.14959%204.14419%201.44878C3.84291%201.74797%203.69227%202.10763%203.69227%202.52776V3.44442H0.923068C0.666659%203.44442%200.448714%203.53354%200.269228%203.71178C0.0897418%203.89002%200%204.10645%200%204.36108V5.58329C0%206.03525%200.13301%206.49039%200.399034%206.94872C0.665059%207.40705%201.02403%207.82082%201.47595%208.19003C1.92787%208.55924%202.48234%208.86957%203.13939%209.12101C3.79644%209.37246%204.48713%209.51409%205.21149%209.54592C5.48071%209.88967%205.7852%2010.192%206.12494%2010.453C6.36853%2010.6695%206.53679%2010.9002%206.62974%2011.1453C6.72269%2011.3904%206.76916%2011.6752%206.76916%2011.9999C6.76916%2012.3436%206.67141%2012.6333%206.4759%2012.8688C6.28038%2013.1043%205.96789%2013.2221%205.53841%2013.2221C5.05764%2013.2221%204.62976%2013.3669%204.25476%2013.6566C3.87977%2013.9462%203.69227%2014.3106%203.69227%2014.7499V15.361C3.69227%2015.4501%203.72112%2015.5233%203.77881%2015.5806C3.8365%2015.6379%203.91022%2015.6665%203.99996%2015.6665H11.9999C12.0896%2015.6665%2012.1633%2015.6379%2012.221%2015.5806C12.2787%2015.5233%2012.3076%2015.4501%2012.3076%2015.361V14.7499C12.3076%2014.3106%2012.1201%2013.9462%2011.7451%2013.6566C11.3701%2013.3669%2010.9422%2013.2221%2010.4614%2013.2221C10.0319%2013.2221%209.71945%2013.1043%209.52394%2012.8688C9.32843%2012.6333%209.23068%2012.3436%209.23068%2011.9999C9.23068%2011.6752%209.27715%2011.3904%209.3701%2011.1453C9.46305%2010.9002%209.63131%2010.6695%209.8749%2010.453C10.2146%2010.192%2010.5191%209.88967%2010.7884%209.54592C11.5127%209.51409%2012.2034%209.37246%2012.8604%209.12101C13.5175%208.86957%2014.072%208.55924%2014.5239%208.19003C14.9758%207.82082%2015.3348%207.40705%2015.6008%206.94872C15.8668%206.49039%2015.9998%206.03525%2015.9998%205.58329ZM6.76047%207.1798L8.05109%206.49997L9.3417%207.1798L9.09521%205.73989L10.1393%204.72015L8.69639%204.51007L8.05109%203.2L7.40578%204.51007L5.96283%204.72015L7.00696%205.73989L6.76047%207.1798Z'%20fill='%23F2C94C'/%3e%3c/g%3e%3c/svg%3e",QZ=({loading:t,hideFriendsRank:e,avatar:n,name:i,points:r,friendsRank:s,rank:a,streak:o,correct:l,incorrect:c,inTop:u,successRate:d})=>b.jsxs(q0e,{"data-loading":t,children:[b.jsx(e1e,{children:b.jsx(pr,{loading:t,children:b.jsxs(n1e,{children:[b.jsxs(m1e,{children:[n&&b.jsx(i1e,{alt:"avatar",src:n}),!n&&b.jsx(p1e,{children:xT(i||"")})]}),b.jsxs(r1e,{children:[b.jsx(s1e,{children:i}),b.jsxs(a1e,{children:[b.jsxs(l1e,{children:[b.jsxs(u1e,{children:[b.jsx(o1e,{alt:"rank-icon",src:g1e}),b.jsxs(CV,{children:[DZ(r),b.jsx(IV,{children:"PTS"})]})]}),e&&b.jsxs(CV,{children:[b.jsx(c1e,{}),a||0,b.jsx(IV,{children:"global rank"})]})]}),!e&&b.jsxs(b.Fragment,{children:[b.jsx(d1e,{}),b.jsxs("div",{children:["TOP ",u||0,"%"]})]})]})]})]})})}),b.jsxs(t1e,{children:[!e&&b.jsxs(h1e,{children:[b.jsx(pr,{loading:t,style:{width:"100%"},children:b.jsx(RV,{indicator:s||0,title:"Friends rank"})}),b.jsx(pr,{loading:t,style:{width:"100%"},children:b.jsx(RV,{indicator:a||0,title:"Global rank"})})]}),b.jsx(pr,{loading:t,children:b.jsxs(f1e,{children:[b.jsx(i1,{indicator:o||0,title:"Win streak"}),b.jsx(i1,{indicator:l||0,title:"Correct"}),b.jsx(i1,{indicator:c||0,title:"Incorrect"}),b.jsx(i1,{indicator:`${d||0}%`,title:"Succ. rate"})]})})]})]}),y1e=_("div")({name:"StaticContainer",class:"svm502q",propsAsIs:!1}),b1e=`
  .sl-pill-button {
    display: none !important;
  }
`,qZ=()=>window.innerWidth>=Ya.md&&window.innerWidth<Ya.lg?76:53,wV=t=>{var e;const n=qZ();return Math.round((((e=t.current)==null?void 0:e.getBoundingClientRect().y)||0)-n)<=0},eD=({children:t,container:e,useContainer:n,staticStyles:i})=>{const[r]=V.useState(()=>wV(e)),[s,a]=V.useState(!1);return V.useEffect(()=>{if(!e.current||!r)return a(!0),()=>{};const o=window.scrollY;return a(!0),()=>{wV(e)&&window.scrollTo({top:o,behavior:"instant"})}},[]),V.useEffect(()=>{if(s&&e.current&&r){const o=qZ();window.scrollTo({top:e.current.offsetTop-o,behavior:"instant"})}},[s]),!e.current||!s?null:n?jf.createPortal(b.jsxs(y1e,{className:"StaticContainer",children:[t,b.jsx("style",{children:PZ}),b.jsx("style",{children:b1e})]}),e.current,"modal-node"):jf.createPortal(b.jsxs(b.Fragment,{children:[t,b.jsx("style",{children:i})]}),e.current,"modal-node")},v1e=_("button")({name:"Container",class:"cpjnajb",propsAsIs:!1}),E1e=_("div")({name:"Content",class:"c4m6kaz",propsAsIs:!1}),A1e=_("span")({name:"Title",class:"t1h8t9cc",propsAsIs:!1}),S1e=()=>b.jsx(v1e,{children:b.jsxs(E1e,{children:[b.jsx(Ye,{name:"iconCopySuccess"}),b.jsx(A1e,{children:"Link Copied to Clipboard"})]})}),tD=t=>{const e=V.useRef(),[n,i]=V.useState(null),r=V.useCallback(async s=>{var a;if(s&&(a=navigator==null?void 0:navigator.clipboard)!=null&&a.writeText){e.current&&(clearTimeout(e.current),i(null));try{await navigator.clipboard.writeText(s),t.current&&(i(jf.createPortal(b.jsx(S1e,{}),t.current)),e.current=setTimeout(()=>{i(null)},1e3))}catch(o){console.error("Unable to copy to clipboard",o)}}},[t]);return V.useEffect(()=>()=>{clearTimeout(e.current)},[]),[r,n]};let Wr;typeof window<"u"?Wr=window:typeof self<"u"?Wr=self:Wr=lc;let u4=null,d4=null;const xV=20,R5=Wr.clearTimeout,VV=Wr.setTimeout,C5=Wr.cancelAnimationFrame||Wr.mozCancelAnimationFrame||Wr.webkitCancelAnimationFrame,NV=Wr.requestAnimationFrame||Wr.mozRequestAnimationFrame||Wr.webkitRequestAnimationFrame;C5==null||NV==null?(u4=R5,d4=function(t){return VV(t,xV)}):(u4=function([t,e]){C5(t),R5(e)},d4=function(t){const e=NV(function(){R5(n),t()}),n=VV(function(){C5(e),t()},xV);return[e,n]});function T1e(t){let e,n,i,r,s,a,o;const l=typeof document<"u"&&document.attachEvent;if(!l){a=function(p){const v=p.__resizeTriggers__,y=v.firstElementChild,E=v.lastElementChild,S=y.firstElementChild;E.scrollLeft=E.scrollWidth,E.scrollTop=E.scrollHeight,S.style.width=y.offsetWidth+1+"px",S.style.height=y.offsetHeight+1+"px",y.scrollLeft=y.scrollWidth,y.scrollTop=y.scrollHeight},s=function(p){return p.offsetWidth!==p.__resizeLast__.width||p.offsetHeight!==p.__resizeLast__.height},o=function(p){if(p.target.className&&typeof p.target.className.indexOf=="function"&&p.target.className.indexOf("contract-trigger")<0&&p.target.className.indexOf("expand-trigger")<0)return;const v=this;a(this),this.__resizeRAF__&&u4(this.__resizeRAF__),this.__resizeRAF__=d4(function(){s(v)&&(v.__resizeLast__.width=v.offsetWidth,v.__resizeLast__.height=v.offsetHeight,v.__resizeListeners__.forEach(function(y){y.call(v,p)}))})};let u=!1,d="";i="animationstart";const f="Webkit Moz O ms".split(" ");let h="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),m="";{const p=document.createElement("fakeelement");if(p.style.animationName!==void 0&&(u=!0),u===!1){for(let v=0;v<f.length;v++)if(p.style[f[v]+"AnimationName"]!==void 0){m=f[v],d="-"+m.toLowerCase()+"-",i=h[v],u=!0;break}}}n="resizeanim",e="@"+d+"keyframes "+n+" { from { opacity: 0; } to { opacity: 0; } } ",r=d+"animation: 1ms "+n+"; "}const c=function(u){if(!u.getElementById("detectElementResize")){const d=(e||"")+".resize-triggers { "+(r||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',f=u.head||u.getElementsByTagName("head")[0],h=u.createElement("style");h.id="detectElementResize",h.type="text/css",t!=null&&h.setAttribute("nonce",t),h.styleSheet?h.styleSheet.cssText=d:h.appendChild(u.createTextNode(d)),f.appendChild(h)}};return{addResizeListener:function(u,d){if(l)u.attachEvent("onresize",d);else{if(!u.__resizeTriggers__){const f=u.ownerDocument,h=Wr.getComputedStyle(u);h&&h.position==="static"&&(u.style.position="relative"),c(f),u.__resizeLast__={},u.__resizeListeners__=[],(u.__resizeTriggers__=f.createElement("div")).className="resize-triggers";const m=f.createElement("div");m.className="expand-trigger",m.appendChild(f.createElement("div"));const p=f.createElement("div");p.className="contract-trigger",u.__resizeTriggers__.appendChild(m),u.__resizeTriggers__.appendChild(p),u.appendChild(u.__resizeTriggers__),a(u),u.addEventListener("scroll",o,!0),i&&(u.__resizeTriggers__.__animationListener__=function(v){v.animationName===n&&a(u)},u.__resizeTriggers__.addEventListener(i,u.__resizeTriggers__.__animationListener__))}u.__resizeListeners__.push(d)}},removeResizeListener:function(u,d){if(l)u.detachEvent("onresize",d);else if(u.__resizeListeners__.splice(u.__resizeListeners__.indexOf(d),1),!u.__resizeListeners__.length){u.removeEventListener("scroll",o,!0),u.__resizeTriggers__.__animationListener__&&(u.__resizeTriggers__.removeEventListener(i,u.__resizeTriggers__.__animationListener__),u.__resizeTriggers__.__animationListener__=null);try{u.__resizeTriggers__=!u.removeChild(u.__resizeTriggers__)}catch{}}}}}let R1e=class extends V.Component{constructor(...e){super(...e),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:n,disableWidth:i,onResize:r}=this.props;if(this._parentNode){const s=window.getComputedStyle(this._parentNode)||{},a=parseFloat(s.paddingLeft||"0"),o=parseFloat(s.paddingRight||"0"),l=parseFloat(s.paddingTop||"0"),c=parseFloat(s.paddingBottom||"0"),u=this._parentNode.getBoundingClientRect(),d=u.height-l-c,f=u.width-a-o,h=this._parentNode.offsetHeight-l-c,m=this._parentNode.offsetWidth-a-o;(!n&&(this.state.height!==h||this.state.scaledHeight!==d)||!i&&(this.state.width!==m||this.state.scaledWidth!==f))&&(this.setState({height:h,width:m,scaledHeight:d,scaledWidth:f}),typeof r=="function"&&r({height:h,scaledHeight:d,scaledWidth:f,width:m}))}},this._setRef=n=>{this._autoSizer=n}}componentDidMount(){const{nonce:e}=this.props,n=this._autoSizer?this._autoSizer.parentNode:null;if(n!=null&&n.ownerDocument&&n.ownerDocument.defaultView&&n instanceof n.ownerDocument.defaultView.HTMLElement){this._parentNode=n;const i=n.ownerDocument.defaultView.ResizeObserver;i!=null?(this._resizeObserver=new i(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(n)):(this._detectElementResize=T1e(e),this._detectElementResize.addResizeListener(n,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:e,defaultHeight:n,defaultWidth:i,disableHeight:r=!1,disableWidth:s=!1,doNotBailOutOnEmptyChildren:a=!1,nonce:o,onResize:l,style:c={},tagName:u="div",...d}=this.props,{height:f,scaledHeight:h,scaledWidth:m,width:p}=this.state,v={overflow:"visible"},y={};let E=!1;return r||(f===0&&(E=!0),v.height=0,y.height=f,y.scaledHeight=h),s||(p===0&&(E=!0),v.width=0,y.width=p,y.scaledWidth=m),a&&(E=!1),V.createElement(u,{ref:this._setRef,style:{...v,...c},...d},!E&&e(y))}};const C1e=_("div")({name:"Container",class:"c1itm4k7",propsAsIs:!1}),I1e=_("div")({name:"IconContainer",class:"i1w4fsni",propsAsIs:!1}),w1e=()=>Ye,x1e=_(w1e())({name:"InviteGameIcon",class:"i19m85r1",propsAsIs:!0}),V1e=_("div")({name:"Content",class:"c1mbu204",propsAsIs:!1}),N1e=_("div")({name:"Heading",class:"h1amdqtv",propsAsIs:!1}),_1e=_("div")({name:"Subtext",class:"s1lhlj9j",propsAsIs:!1}),k1e=_("div")({name:"LinkContainer",class:"l1wot35e",propsAsIs:!1}),F1e=_("div")({name:"LinkInfo",class:"l1jdw39q",propsAsIs:!1}),L1e=_("span")({name:"LinkTitle",class:"l1cr5mk",propsAsIs:!1}),U1e=_("span")({name:"LinkAddress",class:"lvi87q4",propsAsIs:!1}),B1e=()=>Ye,W1e=_(B1e())({name:"LinkIcon",class:"l1pqlvw3",propsAsIs:!0}),nD=({inviteLink:t,inviteCardTitle:e,inviteCardSubtext:n,primaryColor:i,className:r})=>{const s=V.useRef(null),[a,o]=tD(s),[l]=zZ({type:"invitation",action:"sent",payload:{from:sg.MENU}});return b.jsxs(C1e,{className:r,children:[b.jsx(I1e,{style:{backgroundColor:i},children:b.jsx(x1e,{name:"invite-game-icon"})}),b.jsxs(V1e,{children:[b.jsx(N1e,{children:e||""}),b.jsx(_1e,{children:n||""})]}),t&&b.jsxs(k1e,{ref:s,"data-a":"intr",onClick:l(()=>a(t)),children:[b.jsxs(F1e,{children:[b.jsx(L1e,{children:"Invite link"}),b.jsx(U1e,{children:t})]}),b.jsx(W1e,{name:"icon-copy"})]}),o]})},G1e=()=>NT,Z1e=_(G1e())({name:"Container",class:"cll3md7",propsAsIs:!0}),D1e=()=>$Z,O1e=_(D1e())({name:"ActionBtn",class:"a10g1iik",propsAsIs:!0}),X1e=({questionId:t,...e})=>b.jsxs(Z1e,{"data-a":"intr","data-name":t,children:[b.jsx(KZ,{questionId:t,...e}),b.jsx(O1e,{"data-a":"intr","data-name":t,children:"View Insight"})]}),M1e=()=>NT,P1e=_(M1e())({name:"Container",class:"cl56x6b",propsAsIs:!0}),Y1e=_("button")({name:"ActionButton",class:"a11pzf92",propsAsIs:!1}),$1e=_("blockquote")({name:"Quote",class:"q1hbaleq",propsAsIs:!1}),j1e=({...t})=>b.jsxs(P1e,{"data-a":"intr","data-name":t.tweetId,children:[t.title&&b.jsx($1e,{children:t.title}),b.jsx(VT,{...t}),b.jsx(Y1e,{"data-a":"intr","data-name":t.tweetId,children:"View Insight"})]}),_V=_("div")({name:"QuestionsContainer",class:"qvghv3l",propsAsIs:!1}),K1e=({questions:t,openQuestion:e,controlVideo:n})=>t?b.jsx(_V,{"data-a":"intr",onClick:i=>{const r=i.target.getAttribute("data-name");r&&(ZZ(),e(r,{openedFrom:"list"}))},children:t==null?void 0:t.map(i=>{var r,s,a;if(i.type==="question"&&((r=i.attributes)==null?void 0:r.attributes.case)==="question"){const o=i.attributes.attributes.value;return b.jsx(a0e,{...o},o.questionId)}if(i.type==="insight"&&((s=i.attributes)==null?void 0:s.attributes.case)==="insight"){const o=i.attributes.attributes.value;return b.jsx(X1e,{controlVideo:n,...o},o.questionId)}if(i.type==="tweet"&&((a=i.attributes)==null?void 0:a.attributes.case)==="tweet"){const o=i.attributes.attributes.value,l=i.attributes.id;return b.jsx(j1e,{controlVideo:n,...o,tweetId:l},l)}return null})}):b.jsx(_V,{children:Array.from({length:5}).map((i,r)=>b.jsx(s0e,{},r))}),z1e=_("div")({name:"InsightContainer",class:"i1pqqgpo",propsAsIs:!1}),J1e=_("img")({name:"Image",class:"igj7luu",propsAsIs:!1}),H1e=_("div")({name:"ImageContainer",class:"i1qne9g6",propsAsIs:!1}),Q1e=_("div")({name:"InsightContent",class:"itpr98r",propsAsIs:!1}),q1e=_("h3")({name:"Title",class:"t17iaqp8",propsAsIs:!1}),eme=_("div")({name:"Description",class:"d16t3y7s",propsAsIs:!1}),tme=_("button")({name:"ActionBtn",class:"a12495er",propsAsIs:!1}),nme=({video:t,image:e,imageMode:n,heading:i,body:r,action:s,controlVideo:a})=>b.jsxs(z1e,{children:[(t==null?void 0:t.url)&&b.jsx(zd,{source:t.url,poster:t.thumbnailUrl,controlVideo:a}),e&&!(t!=null&&t.url)&&b.jsx(H1e,{"data-rounded":n===Wt.ROUNDED,children:b.jsx(J1e,{src:e,alt:i})}),b.jsxs(Q1e,{children:[b.jsx(q1e,{children:i}),b.jsx(eme,{children:r}),s&&b.jsx(tme,{onClick:s,children:"View Insight"})]})]}),ime=_("div")({name:"Container",class:"c1eptrjd",propsAsIs:!1}),rme=_("div")({name:"CloseIconWrap",class:"crylm65",propsAsIs:!1}),sme=()=>Ye,ame=_(sme())({name:"CloseIcon",class:"c9mrcz7",propsAsIs:!0}),ome=_("div")({name:"Header",class:"hw3lzv4",propsAsIs:!1}),lme=()=>Ye,cme=_(lme())({name:"TypeIcon",class:"t1rrb3kf",propsAsIs:!0}),ume=_("span")({name:"TypeName",class:"t1ydnjov",propsAsIs:!1}),dme=_("div")({name:"Question",class:"qlf90cl",propsAsIs:!1}),hme=_("button")({name:"AnswerButton",class:"a1e0nhcl",propsAsIs:!1}),fme=_("div")({name:"Container",class:"c1t4f0x4",propsAsIs:!1}),pme=_("button")({name:"ActionBtn",class:"a16w1nl6",propsAsIs:!1}),mme=_("div")({name:"QuoteWrap",class:"q14u54rf",propsAsIs:!1}),gme=_("blockquote")({name:"Quote",class:"q1hxm6zo",propsAsIs:!1}),yme=({action:t,...e})=>b.jsxs(fme,{children:[e.title&&b.jsx(mme,{children:b.jsx(gme,{children:e.title})}),b.jsx(VT,{...e}),t&&b.jsx(pme,{onClick:t,children:"View Insight"})]}),kV=({close:t,action:e,controlVideo:n,data:{questionType:i,question:r,insight:s,tweet:a}})=>{const o=Jd[i];return o?b.jsxs(ime,{onClick:e,style:i===Te.TWEET?{paddingTop:"12px"}:{},children:[b.jsx(rme,{"data-a":"intr",onClick:l=>{l.stopPropagation(),t&&t(l)},children:b.jsx(ame,{name:"icon-cross"})}),i!==Te.TWEET&&b.jsxs(ome,{children:[b.jsx(cme,{"data-type-trivia":i===Te.TRIVIA,"data-type-poll":i===Te.POLL,name:o.iconName}),b.jsx(ume,{children:o.label})]}),i===Te.FACTOID&&s&&b.jsx(nme,{...s,action:e,controlVideo:n}),i===Te.TWEET&&a&&b.jsx(yme,{...a,action:e,controlVideo:n}),i!==Te.FACTOID&&i!==Te.TWEET&&b.jsxs(b.Fragment,{children:[b.jsx(dme,{children:r==null?void 0:r.title}),b.jsx(hme,{children:"Answer"})]})]}):null},Uc=_("div")({name:"BGWrap",class:"b1dqe0sz",propsAsIs:!1}),rr=_("div")({name:"BGLineBase",class:"b1v6w7ni",propsAsIs:!1}),bme=()=>rr,vme=_(bme())({name:"BGOneLineOne",class:"b2nqb1p",propsAsIs:!0}),Eme=()=>rr,Ame=_(Eme())({name:"BGOneLineTwo",class:"b1xxgmbk",propsAsIs:!0}),Sme=()=>rr,Tme=_(Sme())({name:"BGOneLineThree",class:"b63lwcb",propsAsIs:!0}),Rme=()=>rr,FV=_(Rme())({name:"BGTwoLineOne",class:"b2iah4",propsAsIs:!0}),Cme=()=>rr,LV=_(Cme())({name:"BGTwoLineTwo",class:"b1xezvf6",propsAsIs:!0}),Ime=()=>rr,UV=_(Ime())({name:"BGTwoLineThree",class:"b1jz1hg0",propsAsIs:!0}),wme=()=>rr,BV=_(wme())({name:"BGThreeLineOne",class:"b18ho1tk",propsAsIs:!0}),xme=()=>rr,WV=_(xme())({name:"BGThreeLineTwo",class:"b14uvjfm",propsAsIs:!0}),Vme=()=>rr,GV=_(Vme())({name:"BGThreeLineThree",class:"b11c3ns7",propsAsIs:!0}),Nme=()=>rr,ZV=_(Nme())({name:"BGThreeLineFour",class:"b1bqhhet",propsAsIs:!0}),_me=()=>rr,kme=_(_me())({name:"BGFourLineOne",class:"b1xyzi7o",propsAsIs:!0}),Fme=()=>rr,Lme=_(Fme())({name:"BGFourLineTwo",class:"byo0rup",propsAsIs:!0}),Ume=()=>rr,Bme=_(Ume())({name:"BGFourLineThree",class:"b1oyiqgv",propsAsIs:!0}),Wme=()=>rr,Gme=_(Wme())({name:"BGFourLineFour",class:"bx3ddqw",propsAsIs:!0}),Zme=({step:t,correct:e})=>b.jsxs(b.Fragment,{children:[b.jsxs(Uc,{"data-active":t===1,"data-first-screen":"true",children:[b.jsx(vme,{}),b.jsx(Ame,{}),b.jsx(Tme,{})]}),b.jsxs(Uc,{"data-active":t===2,children:[b.jsx(FV,{}),b.jsx(LV,{}),b.jsx(UV,{})]}),b.jsxs(Uc,{"data-active":t===3,children:[b.jsx(FV,{}),b.jsx(LV,{}),b.jsx(UV,{})]}),e?b.jsxs(b.Fragment,{children:[b.jsxs(Uc,{"data-active":t===4,"data-correct":"true",children:[b.jsx(BV,{}),b.jsx(WV,{}),b.jsx(GV,{}),b.jsx(ZV,{})]}),b.jsxs(Uc,{"data-active":t===5,"data-correct":"true",children:[b.jsx(BV,{}),b.jsx(WV,{}),b.jsx(GV,{}),b.jsx(ZV,{})]})]}):b.jsxs(Uc,{"data-active":t===4,"data-correct":"false",children:[b.jsx(kme,{}),b.jsx(Lme,{}),b.jsx(Bme,{}),b.jsx(Gme,{})]})]}),Dme=118,Ome=()=>Kd,Xme=_(Ome())({name:"Container",class:"c10131zw",propsAsIs:!0}),Mme=_("div")({name:"InnerContainer",class:"ir6k2eo",propsAsIs:!1}),ml=_("div")({name:"Content",class:"c1hwoq9l",propsAsIs:!1}),Qh=_("div")({name:"Title",class:"t4ujo4g",propsAsIs:!1}),Pme=()=>Qh,Yme=_(Pme())({name:"PointsTitle",class:"p1pjil1h",propsAsIs:!0}),r1=_("div")({name:"Subtitle",class:"s1iorwr9",propsAsIs:!1}),DV=_("div")({name:"SubtitleFG",class:"s51sv9d",propsAsIs:!1}),s1=_("div")({name:"AnswerText",class:"a1lbk2ye",propsAsIs:!1}),$me=()=>Ye,iD=_($me())({name:"FeedbackIcon",class:"frcvk3t",propsAsIs:!0}),jme=()=>iD,OV=_(jme())({name:"FeedbackIconCorrect",class:"f33p82r",propsAsIs:!0}),Kme=()=>iD,zme=_(Kme())({name:"FeedbackIconIncorrect",class:"f12r9net",propsAsIs:!0}),XV=_("div")({name:"CloseIconWrap",class:"c1fw6699",propsAsIs:!1}),Jme=()=>Ye,MV=_(Jme())({name:"CloseIcon",class:"c115o126",propsAsIs:!0}),Hme="data:image/svg+xml,%3csvg%20width='154'%20height='37'%20viewBox='0%200%20154%2037'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M70.9776%2030.8796L74.668%2018.1381C75.0696%2016.7473%2076.1186%2015.6318%2077.4936%2015.1371L77.5928%2014.7217H72.466L63.7623%2024.9662L60.431%2014.7217H55.7389L55.6255%2015.1371C56.4288%2015.5291%2056.8683%2016.7052%2056.8683%2017.662V17.7227C56.8683%2023.1787%2052.781%2032.5598%2047.0352%2032.5598C44.8002%2032.5598%2043.6425%2031.0009%2043.6425%2029.7035C43.6425%2028.1306%2044.975%2027.0105%2046.3831%2027.0105C47.744%2027.0105%2047.9519%2027.5099%2048.741%2027.5099C49.2182%2027.5099%2049.6766%2027.2672%2049.9081%2026.8518C50.2672%2026.1984%2049.9931%2025.4049%2049.3363%2025.0922L48.9772%2024.9242C45.6271%2023.3327%2041.7383%2025.7457%2041.7383%2029.4188V29.4701C41.7383%2032.1444%2043.8646%2034.38%2046.5674%2034.4733C53.5417%2034.716%2058.2055%2025.4236%2058.9473%2018.6188L59.486%2020.4577L62.2313%2028.5927H63.2709L71.8518%2018.4741L68.2512%2030.8936C67.8401%2032.3171%2066.6966%2033.4232%2065.2412%2033.7966L65.142%2034.212H72.0408L72.1542%2033.7966C71.1383%2033.2039%2070.6516%2032.0044%2070.9776%2030.8796Z'%20fill='white'/%3e%3cpath%20d='M88.2952%2021.6521H88.2385C85.016%2021.6568%2081.5571%2021.9648%2079.7143%2027.1361C78.1692%2031.4813%2077.7487%2033.2828%2076.539%2033.2828C75.7641%2033.2828%2075.9531%2031.794%2074.7954%2031.794C74.2709%2031.794%2073.7275%2032.2094%2073.6897%2032.8068C73.6236%2033.8429%2075.0317%2034.4683%2076.0949%2034.4683C79.3316%2034.4683%2080.5696%2032.1347%2080.9759%2031.0472C81.0279%2030.9072%2081.3162%2030.1371%2081.6517%2029.2317H85.0538L84.4773%2031.3273C84.1749%2032.4334%2083.5464%2033.3388%2082.488%2033.8009L82.3982%2034.2163H87.9597L88.0637%2033.8009C87.3124%2033.1848%2086.9816%2032.2%2087.2273%2031.2853L89.3206%2023.4257C89.4812%2022.8236%2089.9018%2022.3242%2090.4783%2022.0628L90.568%2021.6475H88.7536H88.2952V21.6521ZM85.3231%2028.2189H82.0202C82.3935%2027.2108%2082.7526%2026.2493%2082.8755%2025.9366C83.7118%2023.757%2085.2995%2022.8749%2086.8399%2022.7536L86.8257%2022.7676L85.3231%2028.2189Z'%20fill='white'/%3e%3cpath%20d='M116.358%2022.5486C116.538%2022.2545%20116.708%2021.8112%20116.708%2021.5591C116.732%2021.0877%20116.297%2020.7237%20115.829%2020.8217C115.456%2020.9011%20115.187%2021.2324%20115.191%2021.6058C115.196%2021.9978%20115.12%2022.4226%20114.95%2022.6279C114.558%2023.104%20113.934%2023.062%20111.062%2022.2452V22.2405C110.797%2022.1659%20110.509%2022.0819%20110.206%2021.9978C110.187%2021.9932%20110.173%2021.9885%20110.159%2021.9838C108.723%2021.6011%20106.941%2021.2464%20105.774%2021.8205C105.765%2021.8252%20105.755%2021.8298%20105.746%2021.8345C104.602%2022.3992%20103.808%2023.4727%20103.567%2024.7142C103.53%2024.8962%20103.506%2025.0455%20103.501%2025.0969C103.468%2025.7456%20104.068%2026.2544%20104.711%2026.1143C105.235%2026.0023%20105.604%2025.5403%20105.59%2025.0129C105.58%2024.4808%20105.472%2023.7667%20105.765%2023.286C106.237%2022.6279%20106.729%2022.5812%20108.935%2023.3047L106.544%2031.323C106.214%2032.4291%20105.406%2033.3345%20104.338%2033.7966L104.238%2034.212H109.961L110.074%2033.7966C109.337%2033.1852%20109.03%2032.1957%20109.299%2031.2809L111.392%2024.0561C112.309%2024.2428%20113.24%2024.2941%20114.147%2024.0374L114.473%2023.9441C115.196%2023.7527%20115.943%2023.2347%20116.358%2022.5486Z'%20fill='white'/%3e%3cpath%20d='M118.649%2021.6523L118.536%2022.0677C119.245%2022.5531%20119.561%2023.4259%20119.335%2024.2427L117.208%2031.3228C116.877%2032.429%20116.069%2033.3344%20115.002%2033.7964L114.902%2034.2118H117.931H118.21H125.18L126.101%2030.8934H125.666L125.51%2031.2108C124.934%2032.3963%20123.72%2033.1524%20122.382%2033.1524H119.429L121.003%2027.5937H122.259C123.105%2027.5937%20123.743%2028.3545%20123.582%2029.1759H124.012L125.043%2025.4188H124.613C124.362%2026.1142%20123.696%2026.5763%20122.949%2026.5809H121.291L122.382%2022.7258L125.515%2022.7211C126.536%2022.7211%20127.301%2023.6452%20127.098%2024.6347H127.528L128.35%2021.6523H118.649Z'%20fill='white'/%3e%3cpath%20d='M138.251%2021.6582H131.333L131.22%2022.0736C131.881%2022.5263%20132.207%2023.3197%20132.056%2024.0898L129.892%2031.324C129.561%2032.4301%20128.753%2033.3356%20127.685%2033.7976L127.586%2034.213H133.303L133.417%2033.7976C132.68%2033.1862%20132.373%2032.2014%20132.637%2031.282L133.686%2027.5949H134.126C134.787%2027.5949%20135.34%2028.085%20135.416%2028.7337C135.439%2028.9437%20135.77%2031.506%20136.035%2032.3881C136.379%2033.5409%20136.833%2034.213%20137.868%2034.213H140.453L140.552%2033.7976L140.183%2033.5829C139.451%2033.1536%20138.922%2032.4908%20138.685%2031.6087C138.463%2030.7779%20138.043%2029.2284%20137.84%2028.4117C137.736%2027.9916%20137.202%2027.5996%20136.654%2027.5996H137.523C139.087%2027.5996%20140.457%2026.5681%20140.878%2025.0839C141.365%2023.3617%20140.056%2021.6582%20138.251%2021.6582ZM138.369%2024.6872C138.029%2025.812%20136.98%2026.5868%20135.789%2026.5868H133.974L135.071%2022.7317H136.89C137.925%2022.727%20138.662%2023.7118%20138.369%2024.6872Z'%20fill='white'/%3e%3cpath%20d='M100.265%2022.2961C100.081%2022.2961%2099.6794%2022.1701%2099.0651%2021.9181C98.4508%2021.6661%2097.8318%2021.54%2097.2034%2021.54C95.904%2021.54%2094.8219%2021.9554%2093.9336%2022.8422C93.1964%2023.5796%2092.8704%2024.401%2092.8704%2025.1105C92.8704%2025.8665%2093.3193%2026.7533%2094.2124%2027.4721C95.0582%2028.1488%2095.937%2028.8022%2096.8206%2029.465C97.7468%2030.1977%2098.2098%2030.8745%2098.2098%2031.4252C98.2098%2032.634%2097.416%2033.2828%2095.7669%2033.2828C94.0942%2033.2828%2092.9366%2032.074%2092.568%2029.8057H92.1144L90.8008%2034.2162H91.226C91.7694%2033.8382%2092.1569%2033.6001%2092.946%2033.6001C93.6973%2033.6001%2094.5006%2034.4729%2096.2158%2034.4729C97.5814%2034.4729%2098.6682%2034.1929%2099.5943%2033.2781C100.383%2032.4753%20100.776%2031.3552%20100.776%2030.4404C100.776%2029.591%20100.237%2028.6062%2099.2966%2027.8921C98.4886%2027.2807%2097.6286%2026.7347%2096.7923%2026.1419C95.8898%2025.4792%2095.4362%2024.9144%2095.4362%2024.2937C95.4362%2023.9483%2095.611%2023.6076%2095.9559%2023.2622C96.3954%2022.8282%2096.986%2022.7302%2097.7751%2022.7302C99.3581%2022.7302%20100.464%2023.5983%20100.558%2025.4325H100.974L102.08%2021.5447H101.664C101.215%2022.0441%20100.752%2022.2961%20100.265%2022.2961Z'%20fill='white'/%3e%3cpath%20d='M149.201%2022.7304C150.784%2022.7304%20151.89%2023.6032%20151.984%2025.4327H152.4L153.501%2021.5449H153.085C152.646%2022.049%20152.182%2022.301%20151.696%2022.301C151.512%2022.301%20151.11%2022.175%20150.496%2021.923C149.881%2021.6709%20149.262%2021.5449%20148.634%2021.5449C147.334%2021.5449%20146.252%2021.9603%20145.364%2022.8471C144.627%2023.5845%20144.296%2024.4059%20144.296%2025.1153C144.296%2025.8714%20144.745%2026.7582%20145.638%2027.477C146.484%2028.1537%20147.363%2028.8071%20148.246%2029.4699C149.173%2030.2026%20149.636%2030.8794%20149.636%2031.4301C149.636%2032.6389%20148.842%2033.2876%20147.193%2033.2876C145.52%2033.2876%20144.362%2032.0788%20143.994%2029.8106H143.54L142.227%2034.2211H142.642C143.186%2033.843%20143.573%2033.605%20144.358%2033.605C145.109%2033.605%20145.912%2034.4778%20147.627%2034.4778C148.993%2034.4778%20150.075%2034.1978%20151.006%2033.283C151.795%2032.4802%20152.187%2031.3601%20152.187%2030.4453C152.187%2029.6005%20151.649%2028.6111%20150.708%2027.897C149.9%2027.2856%20149.04%2026.7395%20148.204%2026.1468C147.301%2025.4841%20146.848%2024.9193%20146.848%2024.2986C146.848%2023.9532%20147.023%2023.6125%20147.368%2023.2671C147.826%2022.8237%20148.412%2022.7304%20149.201%2022.7304Z'%20fill='white'/%3e%3cpath%20d='M26.5433%202.60035C26.0377%202.44633%2025.5321%202.72169%2025.0265%203.00173C24.8469%203.09974%2024.7194%203.27243%2024.6768%203.46845L23.883%207.13222C23.8547%207.26757%2023.9775%207.38891%2024.1145%207.36091C24.9509%207.17422%2025.7447%206.4508%2026.5811%206.70283C27.5167%206.98753%2028.4522%205.81606%2029.3878%205.83006V1.60156C28.4475%201.60623%2027.4789%202.88505%2026.5433%202.60035Z'%20fill='white'/%3e%3cpath%20d='M38.4856%2013.8398C38.2871%2013.7044%2038.1643%2013.4851%2038.1643%2013.2471V12.5796C38.1643%2011.9822%2037.6729%2011.4922%2037.0633%2011.4922H36.6239C36.0994%2011.4922%2035.6174%2011.7536%2035.3339%2012.1876L33.9164%2014.3485C33.7746%2014.5632%2033.5383%2014.6892%2033.2832%2014.6892H32.3287C31.8562%2014.6892%2031.4215%2014.9459%2031.1947%2015.3566C30.9631%2015.7814%2030.552%2016.0754%2030.0843%2016.1734V1.1403C30.0843%200.94894%2029.9283%200.794922%2029.7346%200.794922C29.5409%200.794922%2029.3849%200.94894%2029.3849%201.1403V1.60702V5.83552V16.1827C28.9171%2016.0847%2028.506%2015.7907%2028.2745%2015.3613C28.0524%2014.9506%2027.6177%2014.6939%2027.1405%2014.6939H26.4979C25.9875%2014.6939%2025.5292%2014.9879%2025.3213%2015.45L24.7873%2016.6308C24.7023%2016.8175%2024.5133%2016.9388%2024.3054%2016.9388C24.0975%2016.9388%2023.9085%2016.8175%2023.8234%2016.6308L23.2895%2015.45C23.0816%2014.9926%2022.6232%2014.6939%2022.1129%2014.6939H4.00135C3.85487%2014.6939%203.73674%2014.8106%203.73674%2014.9553C3.73674%2015.2633%203.48158%2015.5107%203.17444%2015.5107H2.39007C2.24359%2015.5107%202.12546%2015.6273%202.12546%2015.772V16.6728C2.12546%2017.5176%201.96008%2018.339%201.62931%2019.1184L1.15207%2020.2526C0.707907%2021.3027%200.5%2022.3901%200.5%2023.4589V26.0726C0.5%2026.7773%200.603954%2027.4914%200.811861%2028.1868C1.39306%2030.1377%202.7161%2031.7339%204.53529%2032.6767L7.43182%2034.1842C7.46962%2034.2029%207.51214%2034.2122%207.55467%2034.2122L9.69517%2034.2309C10.196%2034.2355%2010.6875%2034.3616%2011.1269%2034.6043L12.2751%2035.239C12.3129%2035.2623%2012.3602%2035.2717%2012.4074%2035.2717H13.9431C14.4818%2035.2717%2015.0157%2035.4163%2015.474%2035.6917C15.474%2035.6917%2016.2253%2036.1444%2016.4805%2036.2891C16.8869%2036.5225%2017.3783%2036.7465%2018.2335%2036.7932C18.4273%2036.8025%2018.621%2036.7325%2018.7675%2036.5972C18.9092%2036.4618%2018.9943%2036.2704%2018.9943%2036.0791V35.0616C18.9943%2034.3242%2019.4337%2033.6521%2020.1189%2033.3581L22.4673%2032.3406C22.7886%2032.2006%2023.1477%2032.1773%2023.4832%2032.28L24.3621%2032.5367C24.7354%2032.644%2025.1323%2032.6487%2025.5056%2032.5367L27.5846%2031.9253C27.8587%2031.8459%2028.1517%2031.8459%2028.4304%2031.9299L29.2763%2032.1633C29.6684%2032.2706%2029.9472%2032.6347%2029.9472%2033.0361V35.071C29.9472%2036.0184%2030.7269%2036.7932%2031.6861%2036.7932C32.4043%2036.7932%2033.0328%2036.3405%2033.2501%2035.6637C33.6423%2034.4456%2033.8408%2033.1761%2033.8408%2031.8973V31.0292C33.8408%2030.4131%2034.1006%2029.8204%2034.5543%2029.3956L35.419%2028.5882C36.0002%2028.0421%2036.3356%2027.2674%2036.3356%2026.474V21.6481C36.3356%2020.9013%2036.5625%2020.1779%2036.9972%2019.5618C37.0302%2019.5198%2037.0444%2019.4638%2037.0444%2019.4125V18.2737C37.0444%2017.5316%2037.2712%2016.8128%2037.6965%2016.2014L38.5517%2014.9739C38.5848%2014.9319%2038.599%2014.8806%2038.599%2014.8246V14.0545C38.6037%2013.9098%2038.5139%2013.8585%2038.4856%2013.8398ZM30.0843%2025.2838C30.6654%2025.3725%2031.1002%2025.6665%2031.1002%2026.0212C31.1002%2026.3759%2030.6702%2026.67%2030.0843%2026.7587V25.2838ZM5.22516%2032.4433L4.78572%2032.2146C3.59026%2031.5939%202.63577%2030.6698%201.9837%2029.545V28.1355C2.73028%2029.2043%203.74619%2030.1144%204.98891%2030.7631L5.22516%2030.8845V32.4433ZM7.43654%2033.5961L6.2647%2032.9894V31.4305L7.43182%2032.0373H7.43654V33.5961ZM12.3129%2034.6556L11.3868%2034.1422C10.8812%2033.8622%2010.3142%2033.7128%209.73297%2033.7035V32.0793C10.2197%2032.0886%2010.7016%2032.2146%2011.1269%2032.448L12.2751%2033.0827C12.2846%2033.0874%2012.2987%2033.0874%2012.3129%2033.0921V34.6556ZM18.4603%2035.0616V35.8551V36.0791C18.4603%2036.1304%2018.4367%2036.1818%2018.3989%2036.2191C18.3611%2036.2564%2018.3139%2036.2705%2018.2619%2036.2705C17.52%2036.2331%2017.0948%2036.0418%2016.7498%2035.8411C16.4994%2035.6964%2015.7528%2035.2483%2015.7481%2035.2483C15.2803%2034.9683%2014.7511%2034.8143%2014.2077%2034.7723V33.1387C14.6519%2033.1808%2015.0866%2033.3114%2015.474%2033.5401L16.1214%2033.9228C16.8302%2034.3429%2017.6382%2034.5809%2018.4603%2034.6276V35.0616ZM24.8582%2032.0886C24.7448%2032.084%2024.6267%2032.0653%2024.5133%2032.0326L23.6344%2031.7713C23.4454%2031.7152%2023.2517%2031.6966%2023.0579%2031.6966V30.0677C23.1997%2030.0677%2023.3414%2030.0817%2023.4832%2030.1237L24.3621%2030.3804C24.5227%2030.4271%2024.6928%2030.4504%2024.8582%2030.4598V32.0886ZM30.363%2032.4807C30.1929%2032.0886%2029.8574%2031.7759%2029.4275%2031.6592L28.5864%2031.4259C28.3879%2031.3652%2028.18%2031.3419%2027.9721%2031.3419V29.7177C28.1328%2029.713%2028.2934%2029.7317%2028.4493%2029.783L29.1392%2029.9977C29.8716%2030.2264%2030.363%2030.8891%2030.363%2031.6452V32.4807ZM32.787%2035.365C32.7729%2035.4117%2032.7634%2035.4584%2032.7492%2035.505C32.6028%2035.9624%2032.1775%2036.2658%2031.6955%2036.2658C31.653%2036.2658%2031.6105%2036.2564%2031.568%2036.2518V34.6323C31.601%2034.6369%2031.6294%2034.6416%2031.6625%2034.6416C32.135%2034.6416%2032.565%2034.3802%2032.7918%2033.9835V35.365H32.787ZM37.3232%2015.0486C36.794%2015.8047%2036.5152%2016.6915%2036.5152%2017.6109V18.4137L36.1041%2019.0017C35.5702%2019.7625%2035.2867%2020.6539%2035.2867%2021.578V25.6245C35.2867%2026.2779%2035.0126%2026.9173%2034.5306%2027.3654L33.6659%2028.1775C33.0847%2028.7236%2032.7634%2029.489%2032.787%2030.2824L32.7918%2030.4644C32.8248%2031.5146%2032.6878%2032.56%2032.3901%2033.5681C32.2956%2033.8902%2031.9932%2034.1142%2031.6577%2034.1142C31.2372%2034.1142%2030.8923%2033.7782%2030.8923%2033.3581V31.6452C30.8923%2030.6558%2030.2496%2029.7923%2029.2952%2029.4983L28.6053%2029.2836C28.2225%2029.1669%2027.8209%2029.1623%2027.4334%2029.2743L25.3544%2029.881C25.0803%2029.9604%2024.7873%2029.9604%2024.5133%2029.881L23.6344%2029.6243C23.1808%2029.489%2022.6894%2029.5217%2022.2547%2029.7083L20.4071%2030.5111C19.2258%2031.0245%2018.4651%2032.1773%2018.4651%2033.4515V34.1095C17.7374%2034.0675%2017.0286%2033.8528%2016.4002%2033.4795L15.7528%2033.0967C15.2047%2032.7747%2014.581%2032.602%2013.9431%2032.602H12.4736L11.3868%2031.9999C10.8717%2031.7152%2010.2905%2031.5659%209.69989%2031.5612L7.62082%2031.5472L5.23461%2030.3057C1.61514%2028.4249%200.0700101%2024.1917%201.64349%2020.4579L2.12073%2019.3238C2.47512%2018.4837%202.6594%2017.5922%202.6594%2016.6775V16.0427H3.17444C3.68476%2016.0427%204.11948%2015.6927%204.2376%2015.2213H22.1176C22.4153%2015.2213%2022.6894%2015.394%2022.8075%2015.6647L23.3414%2016.8455C23.5115%2017.2235%2023.8896%2017.4662%2024.3101%2017.4662C24.7259%2017.4662%2025.1087%2017.2235%2025.2788%2016.8455L25.8127%2015.66C25.9356%2015.3893%2026.2049%2015.2166%2026.5026%2015.2166H27.1452C27.424%2015.2166%2027.6791%2015.366%2027.8114%2015.6087C28.1375%2016.2061%2028.7234%2016.6075%2029.3897%2016.7148V24.145C28.317%2024.2617%2027.4949%2024.8918%2027.4949%2025.6572C27.4949%2026.5066%2028.4966%2027.1927%2029.7346%2027.1927C30.9726%2027.1927%2031.9743%2026.5066%2031.9743%2025.6572C31.9743%2024.8918%2031.1521%2024.257%2030.0795%2024.145V16.7101C30.7458%2016.6028%2031.3317%2016.2014%2031.6577%2015.604C31.79%2015.3613%2032.0452%2015.212%2032.324%2015.212H33.2785C33.7179%2015.212%2034.1195%2014.9926%2034.3605%2014.6286L35.7781%2012.4676C35.9624%2012.1829%2036.2789%2012.0149%2036.6239%2012.0149H37.0633C37.3752%2012.0149%2037.6303%2012.2669%2037.6303%2012.575V13.2424C37.6303%2013.5644%2037.7579%2013.8725%2037.98%2014.1012L37.3232%2015.0486ZM29.3849%2025.2838V26.7587C28.8037%2026.67%2028.3737%2026.3759%2028.3737%2026.0212C28.3737%2025.6665%2028.8037%2025.3678%2029.3849%2025.2838Z'%20fill='white'/%3e%3c/svg%3e",Qme="data:image/svg+xml,%3csvg%20width='159'%20height='28'%20viewBox='0%200%20159%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_6919_71839)'%3e%3cpath%20d='M4.13243%2025.9198C5.34921%2026.9052%207.05161%2027.0267%208.39597%2026.224L22.9838%2017.5138C25.4013%2016.0703%2025.4117%2012.5721%2023.0028%2011.1144L17.4686%207.76522C15.4767%206.55981%2012.8918%207.10053%2011.5501%209.00325L3.27399%2020.7399C2.14132%2022.3462%202.44805%2024.5556%203.97544%2025.7926L4.13243%2025.9198Z'%20stroke='white'%20style='stroke:white;stroke-opacity:1;'%20stroke-width='2.33333'/%3e%3cpath%20d='M4.11673%202.57147C5.33939%201.58127%207.0516%201.46387%208.39797%202.27791L22.9843%2011.0971C25.3835%2012.5477%2025.3874%2016.0265%2022.9914%2017.4824L17.5405%2020.7946C15.5485%2022.005%2012.9594%2021.4661%2011.6157%2019.5615L3.27518%207.7386C2.142%206.1323%202.44856%203.92248%203.97619%202.68529L4.11673%202.57147Z'%20stroke='white'%20style='stroke:white;stroke-opacity:1;'%20stroke-width='2.33333'/%3e%3cpath%20d='M49.8088%2020.0063C47.924%2020.0063%2046.7521%2018.7437%2046.7521%2016.6748V13.1359H50.1977V10.9296H46.7521V7.34668L44.2736%209.18483V10.9271H42.8892V13.1333H44.2736V16.6515C44.2736%2020.2137%2046.3632%2022.4174%2049.8321%2022.4174H50.361V20.0063H49.8088Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M30.4704%2019.5631L32.6818%2017.8339C33.6722%2019.4231%2035.01%2020.2761%2036.7159%2020.2761C38.5826%2020.2761%2039.757%2019.0783%2039.757%2017.5798C39.757%2015.8505%2037.9137%2015.2983%2035.977%2014.6761C33.6956%2013.9398%2031.23%2013.0168%2031.23%209.92907C31.23%207.37018%2033.5115%205.34277%2036.6226%205.34277C39.1815%205.34277%2040.7707%206.33314%2042.0618%207.83166L40.0111%209.35351C39.2515%208.17907%2038.1211%207.55685%2036.6226%207.55685C34.9167%207.55685%2033.8096%208.57055%2033.8096%209.88499C33.8096%2011.4976%2035.5856%2012.0291%2037.5196%2012.6746C39.8244%2013.4576%2042.3367%2014.4506%2042.3367%2017.585C42.3367%2020.1672%2040.2159%2022.6328%2036.7367%2022.6328C33.8563%2022.6328%2031.8963%2021.4117%2030.4678%2019.5683L30.4704%2019.5631Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M58.9189%2016.7007C58.9189%2013.3225%2061.5141%2010.6807%2064.8923%2010.6807C68.2704%2010.6807%2070.7982%2013.1384%2070.7982%2016.5399V17.5044H61.286C61.6075%2019.2725%2062.9867%2020.4444%2064.9856%2020.4444C66.5489%2020.4444%2067.7441%2019.6173%2068.3404%2018.3755L70.3627%2019.5007C69.3515%2021.3855%2067.5367%2022.6247%2064.9856%2022.6247C61.356%2022.6247%2058.9189%2020.0296%2058.9189%2016.6981V16.7007ZM61.4001%2015.4147H68.2938C67.9256%2013.7607%2066.663%2012.8403%2064.8923%2012.8403C63.1215%2012.8403%2061.8589%2013.8981%2061.4001%2015.4147Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M51.8955%2016.6752C51.8955%2013.113%2053.9851%2010.9326%2057.454%2010.9326H58.5559V13.323H57.4307C55.5459%2013.323%2054.33%2014.6322%2054.3533%2016.7011V22.423H51.8955V16.6804V16.6752Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M72.0138%2016.6774C72.0138%2013.3226%2074.6557%2010.7041%2077.9638%2010.7041C81.272%2010.7041%2083.8672%2013.3226%2083.8672%2016.6774V22.42H81.456V20.9267C80.6523%2022.0052%2079.4105%2022.6274%2077.8938%2022.6274C74.609%2022.6274%2072.0112%2020.0556%2072.0112%2016.6774H72.0138ZM81.5027%2016.6774C81.5027%2014.6319%2079.9394%2013.0011%2077.9638%2013.0011C75.9883%2013.0011%2074.4249%2014.6319%2074.4249%2016.6774C74.4249%2018.723%2075.9649%2020.3537%2077.9638%2020.3537C79.9627%2020.3537%2081.5027%2018.6997%2081.5027%2016.6774Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M85.4155%2015.978C85.4155%2012.9214%2087.5052%2010.6943%2090.6085%2010.6943C92.3766%2010.6943%2093.8026%2011.4073%2094.697%2012.6025C95.5474%2011.4073%2096.9266%2010.6943%2098.6948%2010.6943C101.819%2010.6943%20104.002%2012.8773%20104.002%2015.978V22.4103H101.544V16.0014C101.544%2014.2566%20100.372%2013.038%2098.6948%2013.038C97.0174%2013.038%2095.9155%2014.2799%2095.9389%2015.934V22.4129H93.4811V16.004C93.4811%2014.2592%2092.2859%2013.0406%2090.6085%2013.0406C88.9311%2013.0406%2087.8526%2014.2825%2087.8733%2015.9366V22.4154H85.4155V15.9832V15.978Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M105.578%205.6416H108.082V20.0227H114.859V22.4131H105.578V5.6416Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M138.483%2016.7007C138.483%2013.3225%20141.078%2010.6807%20144.456%2010.6807C147.834%2010.6807%20150.362%2013.1384%20150.362%2016.5399V17.5044H140.85C141.171%2019.2725%20142.551%2020.4444%20144.55%2020.4444C146.113%2020.4444%20147.308%2019.6173%20147.904%2018.3755L149.927%2019.5007C148.916%2021.3855%20147.101%2022.6247%20144.55%2022.6247C140.92%2022.6247%20138.483%2020.0296%20138.483%2016.6981V16.7007ZM140.964%2015.4147H147.858C147.49%2013.7607%20146.227%2012.8403%20144.456%2012.8403C142.685%2012.8403%20141.423%2013.8981%20140.964%2015.4147Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M115.269%2016.6774C115.269%2013.3226%20117.911%2010.7041%20121.219%2010.7041C124.527%2010.7041%20127.122%2013.3226%20127.122%2016.6774V22.42H124.711V20.9267C123.907%2022.0052%20122.665%2022.6274%20121.149%2022.6274C117.864%2022.6274%20115.266%2020.0556%20115.266%2016.6774H115.269ZM124.758%2016.6774C124.758%2014.6319%20123.194%2013.0011%20121.219%2013.0011C119.243%2013.0011%20117.68%2014.6319%20117.68%2016.6774C117.68%2018.723%20119.22%2020.3537%20121.219%2020.3537C123.218%2020.3537%20124.758%2018.6997%20124.758%2016.6774Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M131.67%2021.8547L126.915%2010.9658H129.557L132.912%2018.938L136.082%2010.9658H138.678L131.74%2027.7606H129.212L131.67%2021.8573V21.8547Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M151.897%2016.6674C151.897%2013.1052%20153.987%2010.9248%20157.455%2010.9248H158.557V13.3152H157.432C155.547%2013.3152%20154.331%2014.6244%20154.355%2016.6933V22.4152H151.897V16.6726V16.6674Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_6919_71839'%3e%3crect%20width='158.12'%20height='28'%20fill='white'%20style='fill:white;fill-opacity:1;'%20transform='translate(0.44043)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",qme=(t,e,n)=>t===e?"translateY(0px)":t>e?`translateY(${n}px)`:"translateY(-100%)",ege=({close:t,votedAnswer:e,mastersApp:n,correct:i,correctAnswerTitle:r,questionTitle:s,saveHeight:a,style:o,hiding:l})=>{const[c,u]=V.useState(1),d=V.useRef({});V.useEffect(()=>{const p=setInterval(()=>{u(v=>i&&v>4||!i&&v>3?v:++v)},3e3);return()=>clearInterval(p)},[i]),V.useEffect(()=>{var p,v;d.current[c]&&a(((v=(p=d.current[c])==null?void 0:p.getBoundingClientRect())==null?void 0:v.height)||Dme)},[c,a]);const f=p=>v=>{d.current&&(d.current[p]=v)},h=p=>({transform:qme(p,c,o.height)}),m={...o};return n&&m.height&&typeof m.height=="number"&&(m.height+=32),b.jsx(Xme,{style:o.height?m:{...o,paddingTop:0,paddingBottom:0},hiding:l,children:b.jsxs(Mme,{style:{height:o.height,minHeight:o.height,backgroundColor:c>3?i?"var(--color-sdk-prediction-result-success-bg)":"var(--color-sdk-prediction-result-incorrect-bg)":"var(--color-primary-1)"},children:[b.jsx(Zme,{step:c,correct:i}),n&&b.jsxs(ml,{ref:f(1),style:h(1),children:[b.jsx("img",{alt:"sponsor-logo",src:Hme}),b.jsx(DV,{children:"Featured Groups +"})]}),!n&&b.jsx(ml,{ref:f(1),style:h(1),children:b.jsx("img",{alt:"sponsor-logo",src:Qme})}),b.jsxs(ml,{ref:f(2),style:h(2),children:[b.jsx(Qh,{children:"Prediction results are in!"}),n&&b.jsx(DV,{children:"Featured Groups +"})]}),b.jsxs(ml,{ref:f(3),style:h(3),children:[b.jsx(Qh,{children:s}),b.jsx(r1,{children:b.jsxs(s1,{children:[b.jsx("span",{children:"Your Pick:"})," ",e==null?void 0:e.title]})})]}),i?b.jsxs(b.Fragment,{children:[b.jsxs(ml,{ref:f(4),style:{...h(4),color:"var(--color-sdk-prediction-result-success-text)"},children:[b.jsxs(Qh,{children:["Congratulations!",b.jsx("br",{}),"You answered correctly."]}),b.jsxs(r1,{children:[b.jsx(OV,{name:"selected"}),b.jsxs(s1,{children:[b.jsx("span",{children:"Your Pick:"})," ",e==null?void 0:e.title]})]})]}),b.jsxs(ml,{ref:f(5),style:{...h(5),color:"var(--color-sdk-prediction-result-success-text)"},children:[b.jsx(Yme,{children:c===5&&b.jsx(Op,{delay:.5,prefix:"+",suffix:" points",value:e==null?void 0:e.points})}),b.jsxs(r1,{children:[b.jsx(OV,{name:"selected"}),b.jsxs(s1,{children:[b.jsx("span",{children:"Your Pick:"})," ",e==null?void 0:e.title]})]}),b.jsx(XV,{"data-a":"intr",onClick:t,children:b.jsx(MV,{name:"icon-cross"})})]})]}):b.jsxs(ml,{ref:f(4),style:h(4),children:[b.jsxs(Qh,{style:{color:"var(--color-sdk-prediction-result-error-title)"},children:["Better luck next time!",b.jsx("br",{}),"Correct: ",r,"."]}),b.jsxs(r1,{style:{color:"var(--color-sdk-prediction-result-error-subtitle)"},children:[b.jsx(zme,{name:"circleClose"}),b.jsxs(s1,{children:[b.jsx("span",{children:"Your Pick:"})," ",e==null?void 0:e.title]})]}),b.jsx(XV,{"data-a":"intr",onClick:t,children:b.jsx(MV,{name:"icon-cross"})})]})]})})},tge=t=>{const[e,n]=V.useState(!1),[i,r]=V.useState(!1),s=V.useRef(null),a=V.useCallback(()=>{r(!0),s.current&&clearTimeout(s.current),s.current=setTimeout(()=>{r(!1)},1e3)},[]),o=V.useCallback(async l=>{n(!0);const c=l.map(u=>new Promise((d,f)=>{const h=new Image;h.onload=()=>d(u),h.onerror=()=>f(),h.src=u}));await Promise.allSettled(c),n(!1)},[]);return V.useEffect(()=>{t&&(a(),o(t))},[t,a,o]),{loading:e,throttled:i}},nge=_("div")({name:"Container",class:"cl51m2q",propsAsIs:!1}),ige=_("img")({name:"Avatar",class:"a2yhhhr",propsAsIs:!1}),rge=_("div")({name:"AvatarPlaceholder",class:"a1dtxxlr",propsAsIs:!1}),sge=_("div")({name:"Content",class:"c12clm3w",propsAsIs:!1}),age=_("span")({name:"Name",class:"n14lctn7",propsAsIs:!1}),oge=({avatar:t,name:e})=>b.jsxs(nge,{children:[t&&b.jsx(ige,{src:t}),!t&&b.jsx(rge,{children:xT(e||"")}),b.jsxs(sge,{children:[b.jsxs(age,{children:[e," "]}),"is waiting for you!"]})]}),lge=_("div")({name:"Container",class:"c1htq1lb",propsAsIs:!1}),cge=_("div")({name:"Graphic",class:"gjyzpp7",propsAsIs:!1}),uge=_("img")({name:"GraphicImage",class:"g16mldgz",propsAsIs:!1}),dge=_("div")({name:"Headline",class:"h69js65",propsAsIs:!1}),hge=_("div")({name:"TaglineContainer",class:"tmm7qmo",propsAsIs:!1}),fge=_("div")({name:"Tagline",class:"t17knuw2",propsAsIs:!1}),pge=_("div")({name:"Content",class:"c1b74psg",propsAsIs:!1}),mge=_("div")({name:"StepsContainer",class:"s1y99ug7",propsAsIs:!1}),gge=_("span")({name:"StepIndicator",class:"sgf3v5n",propsAsIs:!1}),yge=_("div")({name:"InvitingUserWrap",class:"i1sj6gn8",propsAsIs:!1}),bge=({loading:t,steps:e,currentStep:n,inviterName:i})=>{const{headline:r,tagline:s}=e[n];return b.jsxs(lge,{children:[s&&b.jsx(hge,{children:b.jsx(pr,{loading:t,children:b.jsx(fge,{children:s})})}),b.jsxs(pge,{"data-welcome-screen":n===0,children:[b.jsx(cge,{children:b.jsx(pr,{loading:t,children:e.map(({graphicSrc:a},o)=>b.jsx(uge,{src:a,"data-active":n===o}))})}),r&&b.jsx(pr,{loading:t,children:b.jsx(dge,{children:r})})]}),i&&n===0&&b.jsx(yge,{children:b.jsx(oge,{name:i})}),b.jsx(mge,{style:t?{visibility:"hidden"}:{},children:Array.from({length:e.length}).map((a,o)=>b.jsx(gge,{"data-active":n===o},o))})]})},vge=_("div")({name:"Container",class:"cm0bev",propsAsIs:!1}),Ege=_("div")({name:"Content",class:"ce7x737",propsAsIs:!1}),Age=_("div")({name:"Title",class:"tc2tor6",propsAsIs:!1}),Sge=_("div")({name:"RulesList",class:"r1k5klql",propsAsIs:!1}),Tge=_("div")({name:"RulesItem",class:"r1tf3ft2",propsAsIs:!1}),Rge=_("div")({name:"RuleIcon",class:"rwpvg1k",propsAsIs:!1}),Cge=_("div")({name:"RuleText",class:"rbxiag0",propsAsIs:!1}),Ige=_("button")({name:"TermsButton",class:"t6cyrry",propsAsIs:!1}),wge=({rules:t,rulesTitle:e,termsText:n,primaryColor:i,openTerms:r})=>b.jsxs(vge,{children:[b.jsxs(Ege,{children:[b.jsx(Age,{children:e}),b.jsx(Sge,{children:t==null?void 0:t.map(({label:s,icon:a},o)=>b.jsxs(Tge,{children:[a&&b.jsx(Rge,{style:{backgroundColor:i},children:b.jsx(Ye,{name:a,"data-icon":a})}),b.jsx(Cge,{children:s})]},o))})]}),n&&b.jsx(Ige,{"data-a":"intr",onClick:r,children:"See Terms and Conditions"})]}),xge=_("div")({name:"Container",class:"cj0g35h",propsAsIs:!1}),Vge=_("div")({name:"Content",class:"c1xkhrbn",propsAsIs:!1}),Nge=_("div")({name:"Title",class:"tifzb8b",propsAsIs:!1}),_ge=_("div")({name:"ScrollingText",class:"stduw5c",propsAsIs:!1}),kge=({termsTitle:t,termsText:e})=>b.jsx(xge,{children:b.jsxs(Vge,{children:[b.jsx(Nge,{children:t}),b.jsx(_ge,{children:e})]})}),Fge=_("button")({name:"SButton",class:"s1nve60q",propsAsIs:!1}),Lge=_("span")({name:"ButtonLabel",class:"b1xoswwx",propsAsIs:!1}),Uge=({disabled:t,variant:e="primary",onClick:n,children:i,...r})=>b.jsx(Fge,{"data-a":"intr",onClick:n,disabled:t,"data-variant":e,...r,children:b.jsx(Lge,{children:i})}),Bge=_("div")({name:"Container",class:"c18uddbs",propsAsIs:!1}),Wge=_("div")({name:"Content",class:"cvcfjf6",propsAsIs:!1}),Gge=_("div")({name:"OnboardingHeader",class:"o1ie27lw",propsAsIs:!1}),Zge=_("button")({name:"CloseBtn",class:"c15cjkwi",propsAsIs:!1}),Dge=()=>Ye,Oge=_(Dge())({name:"IconClose",class:"i1mavjt2",propsAsIs:!0}),Xge=_("div")({name:"OnboardingFooter",class:"o1x0dyzv",propsAsIs:!1}),Mge=()=>Uge,Pge=_(Mge())({name:"OnboardingActionBtn",class:"o1jfi9c3",propsAsIs:!0}),Bc={steps:!1,rules:!1,inviteCard:!1},Yge=({gamification:t,steps:e,rules:n,rulesBtnLabel:i,rulesTitle:r,termsTitle:s,termsText:a,primaryColor:o,inviteLink:l,inviteCardTitle:c,inviteCardSubtext:u,inviteCardBtnLabel:d,loading:f,inviterName:h,sdk:m,onClose:p})=>{const[v,y]=V.useState(0),[E,S]=V.useState(!1),[I,w]=V.useState(Bc);V.useEffect(()=>{e!=null&&e.length?w({...Bc,steps:!0}):n!=null&&n.length?w({...Bc,rules:!0}):w({...Bc,inviteCard:!0})},[]);const N=V.useMemo(()=>I.steps&&v===0?"Continue":I.rules?E||!i?"Got it":i:I.inviteCard?d||"Play Now":"Next",[I,v,E,i,d]),F=V.useCallback(()=>{e!=null&&e.length&&v<e.length-1?y(Z=>++Z):n!=null&&n.length&&I.steps?w({...Bc,rules:!0}):I.rules&&w({...Bc,inviteCard:!0})},[v,e==null?void 0:e.length,n==null?void 0:n.length,I,y,w]),W=async()=>{I.inviteCard?await t.onboardingStatus.submitInplay():I.rules&&E?S(!1):F()};return V.useEffect(()=>{!f&&h&&m.inviteDisplayed()},[f,h,m]),b.jsx(R1e,{children:({width:Z,height:O})=>b.jsxs(Bge,{style:{width:Z,height:O,maxHeight:O},children:[b.jsx(Gge,{children:b.jsx(Zge,{"data-a":"intr",onClick:p,children:b.jsx(Oge,{name:"icon-close-btn-gray"})})}),b.jsxs(Wge,{children:[I.steps&&(e==null?void 0:e.length)&&b.jsx(bge,{loading:f,steps:e,currentStep:v,inviterName:h}),I.rules&&!E&&b.jsx(wge,{rules:n,rulesTitle:r,termsText:a,primaryColor:o,openTerms:()=>S(!0)}),I.rules&&E&&b.jsx(kge,{termsTitle:s,termsText:a}),I.inviteCard&&b.jsx(nD,{inviteLink:l,inviteCardTitle:c,inviteCardSubtext:u,primaryColor:o})]}),b.jsx(Xge,{children:b.jsx(pr,{loading:f,style:{width:"100%"},children:b.jsx(Pge,{"data-a":"intr",onClick:W,children:N})})})]})})},$ge=_("button")({name:"Container",class:"crkmfw1",propsAsIs:!1}),jge=_("div")({name:"Content",class:"c11awpy4",propsAsIs:!1}),Kge=_("span")({name:"Title",class:"t154z7mh",propsAsIs:!1}),zge=({title:t,onClick:e,className:n,style:i})=>b.jsx($ge,{"data-a":"intr",onClick:e,className:n,style:i,children:b.jsxs(jge,{"data-a":"intr",children:[b.jsx(Ye,{"data-a":"intr",name:"iconUp"}),t&&b.jsx(Kge,{"data-a":"intr",children:t})]})});var rD="Expected a function",PV=NaN,Jge="[object Symbol]",Hge=/^\s+|\s+$/g,Qge=/^[-+]0x[0-9a-f]+$/i,qge=/^0b[01]+$/i,e2e=/^0o[0-7]+$/i,t2e=parseInt,n2e=typeof Ph=="object"&&Ph&&Ph.Object===Object&&Ph,i2e=typeof self=="object"&&self&&self.Object===Object&&self,r2e=n2e||i2e||Function("return this")(),s2e=Object.prototype,a2e=s2e.toString,o2e=Math.max,l2e=Math.min,I5=function(){return r2e.Date.now()};function c2e(t,e,n){var i,r,s,a,o,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(rD);e=YV(e)||0,vg(n)&&(u=!!n.leading,d="maxWait"in n,s=d?o2e(YV(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function h(N){var F=i,W=r;return i=r=void 0,c=N,a=t.apply(W,F),a}function m(N){return c=N,o=setTimeout(y,e),u?h(N):a}function p(N){var F=N-l,W=N-c,Z=e-F;return d?l2e(Z,s-W):Z}function v(N){var F=N-l,W=N-c;return l===void 0||F>=e||F<0||d&&W>=s}function y(){var N=I5();if(v(N))return E(N);o=setTimeout(y,p(N))}function E(N){return o=void 0,f&&i?h(N):(i=r=void 0,a)}function S(){o!==void 0&&clearTimeout(o),c=0,i=l=r=o=void 0}function I(){return o===void 0?a:E(I5())}function w(){var N=I5(),F=v(N);if(i=arguments,r=this,l=N,F){if(o===void 0)return m(l);if(d)return o=setTimeout(y,e),h(l)}return o===void 0&&(o=setTimeout(y,e)),a}return w.cancel=S,w.flush=I,w}function u2e(t,e,n){var i=!0,r=!0;if(typeof t!="function")throw new TypeError(rD);return vg(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),c2e(t,e,{leading:i,maxWait:e,trailing:r})}function vg(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function d2e(t){return!!t&&typeof t=="object"}function h2e(t){return typeof t=="symbol"||d2e(t)&&a2e.call(t)==Jge}function YV(t){if(typeof t=="number")return t;if(h2e(t))return PV;if(vg(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=vg(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Hge,"");var n=qge.test(t);return n||e2e.test(t)?t2e(t.slice(2),n?2:8):Qge.test(t)?PV:+t}var f2e=u2e;const Eg=SS(f2e);let Qr=[],bo=0;const a1=4;let sD=t=>{let e=[],n={get(){return n.lc||n.listen(()=>{})(),n.value},lc:0,listen(i){return n.lc=e.push(i),()=>{for(let s=bo+a1;s<Qr.length;)Qr[s]===i?Qr.splice(s,a1):s+=a1;let r=e.indexOf(i);~r&&(e.splice(r,1),--n.lc||n.off())}},notify(i,r){let s=!Qr.length;for(let a of e)Qr.push(a,n.value,i,r);if(s){for(bo=0;bo<Qr.length;bo+=a1)Qr[bo](Qr[bo+1],Qr[bo+2],Qr[bo+3]);Qr.length=0}},off(){},set(i){let r=n.value;r!==i&&(n.value=i,n.notify(r))},subscribe(i){let r=n.listen(i);return i(n.value),r},value:t};return n},Q2=(t={})=>{let e=sD(t);return e.setKey=function(n,i){let r=e.value;typeof i>"u"&&n in e.value?(e.value={...e.value},delete e.value[n],e.notify(r,n)):e.value[n]!==i&&(e.value={...e.value,[n]:i},e.notify(r,n))},e};const aD=V.createContext({sdk:null,topNavigation:!1}),q2=()=>V.useContext(aD),p2e=_("div")({name:"QuestionAdvertisementContainer",class:"qwludgs",propsAsIs:!1}),m2e=_("div")({name:"QuestionAdvertisementText",class:"qvce6pv",propsAsIs:!1}),g2e=_("div")({name:"QuestionAdvertisementImage",class:"qsid7hx",propsAsIs:!1}),y2e=({sponsorLogo:t,id:e,hasBanner:n,setAdShowed:i})=>{const r=V.useRef();return V.useEffect(()=>(r.current=setTimeout(()=>{i(!0)},5e3),()=>{clearTimeout(r.current)}),[i,e,n]),b.jsxs(p2e,{children:[b.jsx(m2e,{children:"PRESENTED BY"}),b.jsx(g2e,{children:b.jsx("img",{src:t,alt:"ad-sponsor-logo"})})]})},$V=_("div")({name:"QuestionContainer",class:"q14ckf9e",propsAsIs:!1}),b2e=({openedQuestion:t,muted:e,webos:n})=>{var i,r;const{sdk:s}=q2();return((i=t==null?void 0:t.attributes)==null?void 0:i.attributes.case)==="insight"?b.jsx(O0e,{...t.attributes.attributes.value,muted:e,controlVideo:s==null?void 0:s.controlVideoPlayer,webos:n}):((r=t==null?void 0:t.attributes)==null?void 0:r.attributes.case)==="tweet"?b.jsx(P0e,{...t.attributes.attributes.value,muted:e,controlVideo:s==null?void 0:s.controlVideoPlayer}):null},v2e=({extendedQuestion:t,vote:e,close:n,webos:i})=>{const{loading:r,data:s}=t;return s?b.jsx(Mfe,{webos:i,vote:e,close:n,openedQuestion:s,isLoading:!!r}):b.jsx(Xfe,{})},E2e=({gamification:t,sdk:e,muted:n,skipAutoClose:i,hideSponsor:r,className:s,hideHeader:a,webos:o})=>{var l,c,u,d,f,h,m,p,v,y,E,S,I,w,N,F;const W=ct(t.openedQuestion.$store),Z=ct(t.openedQuestion.$extendedStore),[O,K]=V.useState(!1),fe=ct(e.options),z=((l=W==null?void 0:W.attributes)==null?void 0:l.type)===Te.FACTOID,pe=(c=W==null?void 0:W.attributes)==null?void 0:c.backgroundImage,de=(u=Z.data)==null?void 0:u.backgroundImage,be=z?pe==null?void 0:pe.landscapeUrl:de==null?void 0:de.landscapeUrl,_e=z?pe==null?void 0:pe.portraitUrl:de==null?void 0:de.portraitUrl,me=YZ({containerId:fe.containerId,landscapeUrl:be,portraitUrl:_e});if(!W)return null;const Q=W.type,q=((f=(d=Z.data)==null?void 0:d.options)==null?void 0:f.options.case)==="factoid"?Z.data.options.options.value.closeTimer:void 0;return Z.data&&Z.data.adUnit===oi.STANDART&&!O?b.jsxs($V,{className:s,children:[me,b.jsx(y2e,{id:Z.data.id,hasBanner:!!((m=(h=Z.data.promotion)==null?void 0:h.banner)!=null&&m.imageUrl),setAdShowed:K,sponsorLogo:((v=(p=Z.data.promotion)==null?void 0:p.sponsor)==null?void 0:v.logo)||((y=Z.data.sponsorship)==null?void 0:y.logo)||""})]}):b.jsxs($V,{className:s,children:[me,!a&&b.jsx(jZ,{closeTimer:i?void 0:q,close:t.closeQuestion,type:((E=W.attributes)==null?void 0:E.type)||Te.UNSET,webos:o}),Q==="question"&&b.jsx(v2e,{webos:o,vote:t.submitAnswer,close:t.closeQuestion,extendedQuestion:Z}),Q!=="question"&&b.jsx(b2e,{muted:n,openedQuestion:W,webos:o}),!r&&b.jsx(E0e,{sponsorLogo:((w=(I=(S=Z.data)==null?void 0:S.promotion)==null?void 0:I.sponsor)==null?void 0:w.logo)||((F=(N=Z.data)==null?void 0:N.sponsorship)==null?void 0:F.logo)})]})};var oD={exports:{}},A2e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",S2e=A2e,T2e=S2e;function lD(){}function cD(){}cD.resetWarningCache=lD;var R2e=function(){function t(i,r,s,a,o,l){if(l!==T2e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:cD,resetWarningCache:lD};return n.PropTypes=n,n};oD.exports=R2e();var C2e=oD.exports;const or=SS(C2e);class h4 extends V.Component{constructor(e){super(e),this.scrollListener=this.scrollListener.bind(this),this.eventListenerOptions=this.eventListenerOptions.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this)}componentDidMount(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}componentDidUpdate(){if(this.props.isReverse&&this.loadMore){const e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}componentWillUnmount(){this.detachScrollListener(),this.detachMousewheelListener()}isPassiveSupported(){let e=!1;const n={get passive(){e=!0}};try{document.addEventListener("test",null,n),document.removeEventListener("test",null,n)}catch{}return e}eventListenerOptions(){let e=this.props.useCapture;return this.isPassiveSupported()?e={useCapture:this.props.useCapture,passive:!0}:e={passive:!1},e}setDefaultLoader(e){this.defaultLoader=e}detachMousewheelListener(){let e=window;this.props.useWindow===!1&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}detachScrollListener(){let e=window;this.props.useWindow===!1&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}getParentElement(e){const n=this.props.getScrollParent&&this.props.getScrollParent();return n??(e&&e.parentNode)}filterProps(e){return e}attachScrollListener(){const e=this.getParentElement(this.scrollComponent);if(!this.props.hasMore||!e)return;let n=window;this.props.useWindow===!1&&(n=e),n.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),n.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),n.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}mousewheelListener(e){e.deltaY===1&&!this.isPassiveSupported()&&e.preventDefault()}scrollListener(){const e=this.scrollComponent,n=window,i=this.getParentElement(e);let r;if(this.props.useWindow){const s=document.documentElement||document.body.parentNode||document.body,a=n.pageYOffset!==void 0?n.pageYOffset:s.scrollTop;this.props.isReverse?r=a:r=this.calculateOffset(e,a)}else this.props.isReverse?r=i.scrollTop:r=e.scrollHeight-i.scrollTop-i.clientHeight;r<Number(this.props.threshold)&&e&&e.offsetParent!==null&&(this.detachScrollListener(),this.beforeScrollHeight=i.scrollHeight,this.beforeScrollTop=i.scrollTop,typeof this.props.loadMore=="function"&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}calculateOffset(e,n){return e?this.calculateTopPosition(e)+(e.offsetHeight-n-window.innerHeight):0}calculateTopPosition(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}render(){const e=this.filterProps(this.props),{children:n,element:i,hasMore:r,initialLoad:s,isReverse:a,loader:o,loadMore:l,pageStart:c,ref:u,threshold:d,useCapture:f,useWindow:h,getScrollParent:m,...p}=e;p.ref=y=>{this.scrollComponent=y,u&&u(y)};const v=[n];return r&&(o?a?v.unshift(o):v.push(o):this.defaultLoader&&(a?v.unshift(this.defaultLoader):v.push(this.defaultLoader))),Hn.createElement(i,p,v)}}da(h4,"propTypes",{children:or.node.isRequired,element:or.node,hasMore:or.bool,initialLoad:or.bool,isReverse:or.bool,loader:or.node,loadMore:or.func.isRequired,pageStart:or.number,ref:or.func,getScrollParent:or.func,threshold:or.number,useCapture:or.bool,useWindow:or.bool}),da(h4,"defaultProps",{element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null});const Xp=_("div")({name:"Media",class:"m1bcvojl",propsAsIs:!1}),I2e=()=>Xp,w2e=_(I2e())({name:"MediaImgBottom",class:"m58gin0",propsAsIs:!0}),x2e=()=>Xp,w5=_(x2e())({name:"MediaImgSolid",class:"m1atm8do",propsAsIs:!0}),V2e=()=>Xp,N2e=_(V2e())({name:"MediaImgRounded",class:"myx3xoi",propsAsIs:!0}),_2e=()=>Xp,k2e=_(_2e())({name:"MediaImgCentered",class:"m1bwv0gx",propsAsIs:!0}),F2e=()=>Xp,L2e=_(F2e())({name:"MediaImgInsight",class:"mntjanp",propsAsIs:!0}),U2e=_("div")({name:"VideoIcon",class:"v1kofb47",propsAsIs:!1}),B2e={[Wt.UNSET]:w5,[Wt.NONE]:w5,[Wt.ROUNDED]:N2e,[Wt.CENTERED]:k2e,[Wt.TRANSPARENT]:w2e,[Wt.SOLID]:w5},jV=({src:t,imageMode:e=Wt.UNSET,withVideo:n,fromInsight:i})=>{if(e===Wt.NONE)return null;const r=i?L2e:B2e[e];return b.jsxs(r,{children:[b.jsx("img",{src:t,alt:""}),n&&b.jsx(U2e,{children:b.jsx(Ye,{name:"icon-play"})})]})},W2e=_("div")({name:"NotificationContent",class:"nuraq9m",propsAsIs:!1}),G2e=_("div")({name:"NotificationContainer",class:"ns1nzpg",propsAsIs:!1}),uD=_("div")({name:"Body",class:"b1j59nzs",propsAsIs:!1}),Z2e=_("div")({name:"Title",class:"t9vmnpp",propsAsIs:!1}),D2e=_("button")({name:"Button",class:"b14ivj5k",propsAsIs:!1}),O2e=()=>Ye,X2e=_(O2e())({name:"StyledChevronRight",class:"s1atci8n",propsAsIs:!0}),M2e=_("div")({name:"QuoteWrap",class:"q4w8jgs",propsAsIs:!1}),P2e=_("blockquote")({name:"Quote",class:"qaa0kez",propsAsIs:!1}),Y2e=_("div")({name:"Body",class:"b1wvd52w",propsAsIs:!1}),$2e=_("div")({name:"Container",class:"ccvukea",propsAsIs:!1}),j2e=({image:t,tweet:e,account:n,accountVerified:i,body:r,title:s})=>{var a;return b.jsxs($2e,{children:[s&&b.jsx(M2e,{children:b.jsx(P2e,{children:s})}),b.jsx(OZ,{image:t,name:(a=e==null?void 0:e.meta)==null?void 0:a.accountName,userName:n,verified:i,createdTweet:e==null?void 0:e.date}),b.jsx(Y2e,{children:MZ(r)})]})},K2e=({title:t,questionType:e,questionTypeData:n})=>b.jsxs(uD,{children:[b.jsx(_T,{questionTypeData:n,questionType:e,questionStatus:Qt.UNSET}),t&&b.jsx(Z2e,{children:t})]}),z2e=({tweet:t})=>t?b.jsx(uD,{children:b.jsx(j2e,{...t,controlVideo:()=>{}})}):null,J2e=({action:t,questionType:e,inApp:n,insight:i,tweet:r})=>{var s;const a=Jd[e],o=xpe[e];if(!a||!n||!n.notification)return null;const{title:l,image:c,imageMode:u}=n.notification;let d=c;e===Te.TWEET&&r!=null&&r.tweetMedia&&(d=r.tweetMedia.image),u===Wt.NONE&&(d="");const f=n.useMediaFromContent&&(i==null?void 0:i.image),h=e===Te.TWEET&&((s=r==null?void 0:r.tweetMedia)==null?void 0:s.video)||e===Te.FACTOID&&(i==null?void 0:i.video);return b.jsx(G2e,{"data-a":"intr",className:"SL_InApp",onClick:t,children:b.jsxs(W2e,{style:d?{}:{paddingLeft:"1.5rem"},children:[d&&!f&&b.jsx(jV,{src:d,imageMode:u,withVideo:!!h}),f&&b.jsx(jV,{src:f,fromInsight:!0,withVideo:!!h}),e===Te.TWEET?b.jsx(z2e,{tweet:r}):b.jsx(K2e,{questionTypeData:a,questionType:e,title:l}),b.jsx(D2e,{name:"inapp-button",children:o||"Open"}),b.jsx(X2e,{name:"chevronRight"})]})})},H2e=()=>({color:t})=>t||"transparent",KV=_("div")({name:"MediaComponentWrap",class:"mek728j",propsAsIs:!1,vars:{"mek728j-0":[H2e()]}}),Tc=_("div")({name:"Media",class:"m461t56",propsAsIs:!1}),Q2e=()=>Tc,q2e=_(Q2e())({name:"MediaImgBottom",class:"m22bh04",propsAsIs:!0}),eye=()=>Tc,tye=_(eye())({name:"MediaVideo",class:"m17u1e34",propsAsIs:!0}),nye=()=>Tc,iye=_(nye())({name:"MediaImgContentMedia",class:"m4j3eds",propsAsIs:!0}),rye=()=>Tc,sye=_(rye())({name:"MediaImgSolid",class:"m1lp3swr",propsAsIs:!0}),aye=()=>Tc,oye=_(aye())({name:"MediaImgRounded",class:"mc7lij",propsAsIs:!0}),lye=()=>Tc,cye=_(lye())({name:"MediaImgCentered",class:"mwwaw7o",propsAsIs:!0}),uye=()=>Tc,f4=_(uye())({name:"MediaNone",class:"mqfzyyr",propsAsIs:!0}),dye="v170mtgf",hye={[Wt.UNSET]:f4,[Wt.NONE]:f4,[Wt.ROUNDED]:oye,[Wt.CENTERED]:cye,[Wt.TRANSPARENT]:q2e,[Wt.SOLID]:sye},zV=({src:t,imageMode:e=Wt.UNSET,withVideo:n,color:i,useContentMedia:r,thumbnailUrl:s})=>{if(!t)return b.jsx(KV,{color:i,children:b.jsx(f4,{})});const a=r===WA.ENABLED?iye:hye[e];return b.jsx(KV,{color:i,children:n?b.jsx(tye,{children:b.jsx(zd,{className:dye,source:t,poster:s||""})}):b.jsx(a,{children:b.jsx("img",{src:t,alt:""})})})},fye=()=>({withoutPadding:t})=>t?"0px":"1rem",dD=_("div")({name:"NotificationContent",class:"n1p3bk1c",propsAsIs:!1,vars:{"n1p3bk1c-0":[fye()]}}),pye=_("div")({name:"MainContent",class:"m1g211mu",propsAsIs:!1}),mye=()=>Ye,gye=_(mye())({name:"StyledChevronRight",class:"sx1hq4c",propsAsIs:!0}),hD=_("div")({name:"NotificationContainer",class:"n1fcriet",propsAsIs:!1}),yye=()=>({questionType:t})=>t===Te.FACTOID?"7.3rem":"4.5rem",bye=()=>({webos:t})=>t?"11px 0px 8px 0px":"11px 0px",vye=()=>({imageMode:t,webos:e})=>e?"330px":t===Wt.SOLID?"310px":t===Wt.CENTERED||t===Wt.ROUNDED||t===Wt.TRANSPARENT?"370px":"430px",Eye=_("div")({name:"Body",class:"b1byyovs",propsAsIs:!1,vars:{"b1byyovs-0":[yye()],"b1byyovs-1":[bye()],"b1byyovs-2":[vye()]}}),Aye=()=>({webos:t})=>t?"0.85rem":"1.033rem",Sye=()=>({webos:t})=>t?"0.95rem":"1.25rem",Tye=()=>({webos:t})=>t?"4.7rem":"2.25rem",Rye=()=>({webos:t})=>t?"pre-wrap":"nowrap",Cye=_("div")({name:"Title",class:"t1y5k5id",propsAsIs:!1,vars:{"t1y5k5id-0":[Aye()],"t1y5k5id-1":[Sye()],"t1y5k5id-2":[Tye()],"t1y5k5id-3":[Rye()]}}),Iye=_("div")({name:"Description",class:"dw9eb7l",propsAsIs:!1}),wye=_("div")({name:"LogoImgContainer",class:"ldu8wgy",propsAsIs:!1}),fD=_("img")({name:"LogoImg",class:"ln4a3eh",propsAsIs:!1}),xye=()=>hD,Vye=_(xye())({name:"NotificationInterstitialContainer",class:"no2k63v",propsAsIs:!0}),Nye=_("div")({name:"TVButtons",class:"th9nn6a",propsAsIs:!1}),pD=_("button")({name:"TVButton",class:"t1eee77p",propsAsIs:!1}),_ye=()=>pD,kye=_(_ye())({name:"DismissButton",class:"ds000hw",propsAsIs:!0}),Fye=()=>pD,Lye=_(Fye())({name:"AnswerButton",class:"a1nz9hoe",propsAsIs:!0}),Uye=({title:t,questionType:e,questionTypeData:n,description:i,imageMode:r,webos:s})=>b.jsxs(Eye,{imageMode:r,questionType:e,webos:s,children:[b.jsx(_T,{questionTypeData:n,questionType:e,questionStatus:Qt.UNSET}),t&&b.jsx(Cye,{webos:s,children:t}),i&&b.jsx(Iye,{children:i})]}),Bye=la(Vye),Wye=la(kye),Gye=la(Lye),Zye=({sponsorLogo:t,onClick:e,webos:n})=>b.jsx(Bye,{autoFocus:!0,webos:n,onClick:e,"data-webos":n,children:b.jsx(dD,{withoutPadding:!0,children:b.jsx(fD,{src:t})})}),Dye=({action:t,close:e,questionType:n,inApp:i,insight:r,color:s,webos:a})=>{var o,l,c;const[u,d]=V.useState(!1),f=V.useRef();V.useEffect(()=>(i!=null&&i.sponsorLogo&&(d(!0),f.current=setTimeout(()=>{d(!1)},5e3)),()=>clearTimeout(f.current)),[i==null?void 0:i.sponsorLogo]);const h=Jd[n];if(!h||!i||!i.notification)return null;const{title:m,image:p,imageMode:v,useContentMedia:y}=i.notification,E=n===Te.FACTOID?r==null?void 0:r.heading:m,S=n===Te.FACTOID?r==null?void 0:r.body:"",I=p,w=n===Te.FACTOID&&((o=r==null?void 0:r.video)==null?void 0:o.url)&&(i==null?void 0:i.isVideo)&&y===WA.ENABLED,N=y===WA.ENABLED?w?(l=r==null?void 0:r.video)==null?void 0:l.url:r==null?void 0:r.image:"";return i!=null&&i.sponsorLogo&&u?b.jsx(Zye,{sponsorLogo:i==null?void 0:i.sponsorLogo,webos:a,onClick:()=>d(!1)}):b.jsxs(hD,{"data-a":"intr",className:"SL_InApp",onClick:F=>{a||t==null||t(F)},"data-is-insight":n===Te.FACTOID,"data-webos":a,children:[(i==null?void 0:i.sponsorLogo)&&b.jsx(wye,{children:b.jsx(fD,{src:i==null?void 0:i.sponsorLogo})}),b.jsxs(dD,{children:[b.jsxs(pye,{children:[!N&&b.jsx(zV,{src:I,imageMode:v,withVideo:!!w,color:s}),N&&b.jsx(zV,{src:N,imageMode:v,withVideo:!!w,color:s,useContentMedia:y,thumbnailUrl:(c=r==null?void 0:r.video)==null?void 0:c.thumbnailUrl}),b.jsx(Uye,{questionTypeData:h,questionType:n,title:E,description:S,imageMode:v,webos:a})]}),!a&&b.jsx(gye,{name:"chevronRight"}),a&&b.jsxs(Nye,{children:[b.jsx(Wye,{webos:!0,"data-close-btn":"true",onClick:F=>{F.stopPropagation(),e==null||e(F)},children:"Dismiss"}),b.jsx(Gye,{webos:!0,autoFocus:!0,onClick:t,children:"Answer"})]})]})]})},Oye=_("div")({name:"NotificationContainer",class:"n11jcrxe",propsAsIs:!1}),JV=_("img")({name:"Icon",class:"i1vmpt6u",propsAsIs:!1}),Xye=_("div")({name:"IconContainer",class:"i180665s",propsAsIs:!1}),Mye=()=>Ye,Pye=_(Mye())({name:"TitleIcon",class:"t16zzzei",propsAsIs:!0}),Yye=()=>qf,$ye=_(Yye())({name:"Close",class:"c1sur0q2",propsAsIs:!0}),jye=_("div")({name:"Body",class:"bai9j52",propsAsIs:!1}),Kye=_("div")({name:"Title",class:"t1bnt25p",propsAsIs:!1}),zye=_("div")({name:"Description",class:"dmixjec",propsAsIs:!1}),Jye=_("button")({name:"Button",class:"b1ubkw1q",propsAsIs:!1}),Hye=({open:t,close:e,...n})=>{var i,r;return b.jsxs(Oye,{"data-a":"intr",onClick:()=>{t==null||t(),n&&n.markIstantOpen()},children:[b.jsxs(Xye,{children:[b.jsx(JV,{className:"on-light",src:"https://cdn.streamlayer.io/assets/sdk-web/onboarding-steps/notification.png"}),b.jsx(JV,{className:"on-dark",src:"https://cdn.streamlayer.io/assets/sdk-web/onboarding-steps/notification-dark.png"})]}),b.jsxs(jye,{children:[b.jsxs(Kye,{children:[b.jsx(Pye,{name:"icon-trophy-solid"}),(i=n==null?void 0:n.titleCard)==null?void 0:i.title]}),b.jsxs(zye,{children:[b.jsx("span",{children:(r=n==null?void 0:n.titleCard)==null?void 0:r.subtitle}),b.jsx(Jye,{name:"inapp-button",children:"Play Now"})]})]}),b.jsx($ye,{close:s=>{s==null||s.stopPropagation(),e==null||e()}})]})},Qye=_("div")({name:"Container",class:"cef8huz",propsAsIs:!1}),qye=()=>Ye,e3e=_(qye())({name:"CheckIcon",class:"c1mo15kk",propsAsIs:!0}),t3e=()=>Ye,n3e=_(t3e())({name:"PredictionIcon",class:"p16zkqnm",propsAsIs:!0}),i3e=_("div")({name:"PredictionIconContainer",class:"pjszi7a",propsAsIs:!1}),r3e=_("div")({name:"BodyContainer",class:"bftbmo3",propsAsIs:!1}),s3e=_("div")({name:"Body",class:"barrbyu",propsAsIs:!1}),a3e=_("div")({name:"Subtitle",class:"sz7237i",propsAsIs:!1}),o3e=({step:t,children:e,answer:n,state:i="pending"})=>{const[r,s]=V.useState(0),[a]=V.useState(()=>new ResizeObserver(l=>{window.requestAnimationFrame(()=>{var c,u;s(((u=(c=l==null?void 0:l[0])==null?void 0:c.contentRect)==null?void 0:u.width)??0)})})),o=V.useCallback(l=>{l?a.observe(l):a.disconnect()},[a]);return V.useEffect(()=>()=>{a.disconnect()},[a]),b.jsxs(Qye,{children:[b.jsx(i3e,{children:b.jsx(n3e,{name:"icon-prediction"})}),b.jsx(r3e,{style:{minWidth:`${r}px`},children:b.jsx(s3e,{children:e},t)}),b.jsx(a3e,{ref:o,className:i,children:b.jsxs("div",{children:[b.jsx(e3e,{name:"icon-check"}),"Your Pick: ",n]})})]})},l3e=_("div")({name:"Container",class:"ckyzolp",propsAsIs:!1}),kT=_("div")({name:"Line",class:"l16t1zr7",propsAsIs:!1}),c3e=()=>kT,u3e=_(c3e())({name:"Line1",class:"le78kvg",propsAsIs:!0}),d3e=()=>kT,h3e=_(d3e())({name:"Line2",class:"l1o7966d",propsAsIs:!0}),f3e=()=>kT,p3e=_(f3e())({name:"Line3",class:"lu9lyxq",propsAsIs:!0}),m3e=()=>b.jsxs(l3e,{children:[b.jsx(u3e,{children:b.jsx("div",{})}),b.jsx(h3e,{children:b.jsx("div",{})}),b.jsx(p3e,{children:b.jsx("div",{})})]}),g3e=_("div")({name:"Container",class:"c10jy6zf",propsAsIs:!1}),y3e=()=>Ye,b3e=_(y3e())({name:"CheckIcon",class:"c1c7scay",propsAsIs:!0}),v3e=()=>b.jsxs(g3e,{children:[b.jsx(b3e,{name:"icon-check"})," Prediction results are in!"]}),E3e=_("div")({name:"Container",class:"cf6k2yy",propsAsIs:!1}),A3e=_("div")({name:"Caption",class:"c1c8xjus",propsAsIs:!1}),S3e=_("div")({name:"Title",class:"t1d1uekn",propsAsIs:!1}),T3e=({title:t})=>b.jsxs(E3e,{children:[b.jsx(A3e,{children:"Results for"}),b.jsx(S3e,{children:t})]}),mD=_("div")({name:"Container",class:"c181a1as",propsAsIs:!1}),gD=_("div")({name:"Title",class:"t1cduox6",propsAsIs:!1}),R3e=()=>Ye,yD=_(R3e())({name:"CorrectIcon",class:"c1onrv6j",propsAsIs:!0}),C3e=()=>yD,I3e=_(C3e())({name:"InCorrectIcon",class:"i17n9o7e",propsAsIs:!0}),w3e=()=>b.jsxs(mD,{children:[b.jsxs(gD,{children:["Congratulations!",b.jsx("br",{}),"You answered correctly."]}),b.jsx(yD,{name:"icon-check"})]}),x3e=({title:t})=>b.jsxs(mD,{children:[b.jsxs(gD,{children:["Better luck next time!",b.jsx("br",{}),"Correct: ",t]}),b.jsx(I3e,{name:"icon-cross"})]}),V3e=_("div")({name:"Container",class:"cnxgcs2",propsAsIs:!1}),N3e=_("div")({name:"Title",class:"t903f8n",propsAsIs:!1}),_3e=()=>Ye,k3e=_(_3e())({name:"CheckIcon",class:"ceyu3qj",propsAsIs:!0}),F3e=({points:t})=>b.jsxs(V3e,{children:[b.jsxs(N3e,{children:["You won ",b.jsx(Op,{delay:.5,prefix:"+",suffix:" points",value:t})]}),b.jsx(k3e,{name:"icon-trophy-solid"})]}),HV=_("div")({name:"Container",class:"cq3agu2",propsAsIs:!1}),QV=_("div")({name:"Body",class:"b16qj0do",propsAsIs:!1}),qV={1:3e3,2:4e3,3:4e3,4:4e3},L3e=({close:t,action:e,setStep:n,votedAnswer:i,correct:r,correctAnswerTitle:s,questionTitle:a,step:o})=>{if(V.useEffect(()=>{if(n){const c=setTimeout(()=>{qV[o+1]&&(r||o<3)?n(o+1):t==null||t()},qV[o]);return()=>{c&&clearTimeout(c)}}return()=>{}},[n,o,t,r]),o===1)return b.jsx(HV,{children:b.jsx(QV,{children:b.jsx(v3e,{})})});let l="pending";return(o===3||o===4)&&(l=r?"correct":"incorrect"),b.jsx(HV,{"data-a":"intr",onClick:()=>e==null?void 0:e(),children:b.jsxs(QV,{children:[o!==1&&b.jsx(m3e,{},o),b.jsxs(o3e,{state:l,step:o,answer:(i==null?void 0:i.title)||"unknown",children:[o===2&&b.jsx(T3e,{title:a||"unknown"}),o===3&&r&&b.jsx(w3e,{}),o===3&&!r&&b.jsx(x3e,{title:s||"unknown"}),o===4&&b.jsx(F3e,{points:(i==null?void 0:i.points)||0})]})]})})},U3e=({close:t,action:e,votedAnswer:n,correct:i,correctAnswerTitle:r,questionTitle:s})=>{const[a,o]=V.useState(1);return b.jsx(L3e,{close:t,action:e,votedAnswer:n,correct:i,correctAnswerTitle:r,questionTitle:s,setStep:o,step:a,title:""})},B3e=_("div")({name:"NotificationContainer",class:"n1i4h28u",propsAsIs:!1}),W3e=t=>b.jsx(B3e,{children:b.jsx(U3e,{...t})}),G3e=_("div")({name:"Container",class:"cwa9tgs",propsAsIs:!1}),Z3e=_("div")({name:"BodyContainer",class:"b1xx7swj",propsAsIs:!1}),D3e=_("div")({name:"Body",class:"b1a21en",propsAsIs:!1}),O3e=({step:t,children:e,state:n="pending"})=>{const[i,r]=V.useState(0);return V.useEffect(()=>{const s=new ResizeObserver(a=>{window.requestAnimationFrame(()=>{var o,l;const c=((l=(o=a==null?void 0:a[0])==null?void 0:o.contentRect)==null?void 0:l.width)??0;r(c)})});return()=>{s.disconnect()}},[]),b.jsx(G3e,{style:{padding:`${t===3&&n==="incorrect"||t===1?"5px 100px":"5px 40px"}`},children:b.jsx(Z3e,{style:{minWidth:`${i}px`},children:b.jsx(D3e,{children:e},t)})})},X3e=_("div")({name:"Container",class:"c1nd5cu8",propsAsIs:!1}),FT=_("div")({name:"Line",class:"lgbipw0",propsAsIs:!1}),M3e=()=>FT,P3e=_(M3e())({name:"Line1",class:"l1anth16",propsAsIs:!0}),Y3e=()=>FT,$3e=_(Y3e())({name:"Line2",class:"l193yd7v",propsAsIs:!0}),j3e=()=>FT,K3e=_(j3e())({name:"Line3",class:"lhbflsp",propsAsIs:!0}),z3e=()=>b.jsxs(X3e,{children:[b.jsx(P3e,{children:b.jsx("div",{})}),b.jsx($3e,{children:b.jsx("div",{})}),b.jsx(K3e,{children:b.jsx("div",{})})]}),J3e=_("div")({name:"Container",class:"c1lvd429",propsAsIs:!1}),H3e=()=>Ye,Q3e=_(H3e())({name:"PredictionIcon",class:"p1n4m87t",propsAsIs:!0}),q3e=()=>b.jsxs(J3e,{children:[b.jsx(Q3e,{name:"icon-prediction"})," Prediction results are in!"]}),ebe=()=>Ye,tbe=_(ebe())({name:"CheckIcon",class:"c126r8f9",propsAsIs:!0}),nbe=_("div")({name:"Answer",class:"a1o2rpgl",propsAsIs:!1}),ibe=_("div")({name:"Container",class:"cej6ci1",propsAsIs:!1}),rbe=_("div")({name:"Title",class:"tob24mr",propsAsIs:!1}),sbe=({title:t,answer:e})=>b.jsxs(ibe,{children:[b.jsx(rbe,{children:t}),b.jsxs(nbe,{children:[b.jsx(tbe,{name:"icon-prediction"}),"Your Pick: ",e]})]}),bD=_("div")({name:"Container",class:"c1lesal4",propsAsIs:!1}),vD=_("div")({name:"Title",class:"tv66n4w",propsAsIs:!1}),abe=()=>Ye,obe=_(abe())({name:"CorrectIcon",class:"cx0vlv2",propsAsIs:!0}),ED=_("div")({name:"Answer",class:"akfh4v5",propsAsIs:!1}),lbe=({answer:t})=>b.jsxs(bD,{children:[b.jsx(vD,{children:"Congratulations! You answered correctly."}),b.jsxs(ED,{children:[b.jsx(obe,{name:"icon-correct"}),"Your Pick: ",t]})]}),cbe=({title:t,answer:e})=>b.jsxs(bD,{children:[b.jsxs(vD,{children:["Better luck next time!",b.jsx("br",{}),"Correct: ",t]}),b.jsxs(ED,{children:["Your Pick: ",e]})]}),eN=_("div")({name:"Container",class:"cmox3ot",propsAsIs:!1}),tN=_("div")({name:"Body",class:"bqq1ix4",propsAsIs:!1}),nN={1:3e3,2:4e3,3:4e3},ube=({close:t,action:e,setStep:n,votedAnswer:i,correct:r,correctAnswerTitle:s,questionTitle:a,step:o})=>{if(V.useEffect(()=>{if(n){const c=setTimeout(()=>{nN[o+1]&&(r||o<3)?n(o+1):t==null||t()},nN[o]);return()=>{c&&clearTimeout(c)}}return()=>{}},[n,o,t,r]),o===1)return b.jsx(eN,{children:b.jsx(tN,{children:b.jsx(q3e,{})})});let l="pending";return o===3&&(l=r?"correct":"incorrect"),b.jsx(eN,{"data-a":"intr",onClick:()=>e==null?void 0:e(),children:b.jsxs(tN,{children:[o!==1&&b.jsx(z3e,{},o),b.jsxs(O3e,{state:l,step:o,children:[o===2&&b.jsx(sbe,{title:a||"unknown",answer:(i==null?void 0:i.title)||"unknown"}),o===3&&r&&b.jsx(lbe,{answer:(i==null?void 0:i.title)||"unknown"}),o===3&&!r&&b.jsx(cbe,{title:s||"unknown",answer:(i==null?void 0:i.title)||"unknown"})]})]})})},dbe=({close:t,action:e,votedAnswer:n,correct:i,correctAnswerTitle:r,questionTitle:s})=>{const[a,o]=V.useState(1);return b.jsx(ube,{close:t,action:e,votedAnswer:n,correct:i,correctAnswerTitle:r,questionTitle:s,setStep:o,step:a,title:""})},AD=_("div")({name:"NotificationContainer",class:"nn0nqh6",propsAsIs:!1}),hbe=()=>({withoutPadding:t})=>t?"0px":"1rem",fbe=_("div")({name:"NotificationContent",class:"n1bcdf3j",propsAsIs:!1,vars:{"n1bcdf3j-0":[hbe()]}}),SD=_("img")({name:"LogoImg",class:"l8jorbq",propsAsIs:!1}),pbe=()=>AD,mbe=_(pbe())({name:"NotificationInterstitialContainer",class:"nf920y3",propsAsIs:!0}),gbe=_("div")({name:"LogoImgContainer",class:"lzsmehn",propsAsIs:!1}),ybe=({sponsorLogo:t,onClick:e})=>b.jsx(mbe,{onClick:e,children:b.jsx(fbe,{withoutPadding:!0,children:b.jsx(SD,{src:t})})}),bbe=t=>{var e,n,i,r,s;const[a,o]=V.useState(!1),l=V.useRef();return V.useEffect(()=>{var c;return(c=t==null?void 0:t.inApp)!=null&&c.sponsorLogo&&(o(!0),l.current=setTimeout(()=>{o(!1)},5e3)),()=>clearTimeout(l.current)},[(e=t==null?void 0:t.inApp)==null?void 0:e.sponsorLogo]),(n=t==null?void 0:t.inApp)!=null&&n.sponsorLogo&&a?b.jsx(ybe,{sponsorLogo:(i=t.inApp)==null?void 0:i.sponsorLogo,onClick:()=>o(!1)}):b.jsx(AD,{children:b.jsxs("div",{children:[((r=t==null?void 0:t.inApp)==null?void 0:r.sponsorLogo)&&b.jsx(gbe,{children:b.jsx(SD,{src:(s=t==null?void 0:t.inApp)==null?void 0:s.sponsorLogo})}),b.jsx(dbe,{...t})]})})},vbe=({sdk:t,webos:e})=>{var n,i,r,s,a,o,l,c;const[u]=V.useState(t.getNotificationsStore()),d=ct(u),f=t.getFeature(st.GAMES),h=V.useMemo(()=>t.getActiveNotification(),[t,d]);return V.useEffect(()=>{h&&Xt.emit("notification",{action:"rendered",payload:{questionId:h.data.questionId,questionType:h.data.questionType}})},[h]),h&&h.type===zo.QUESTION_RESOLVED?h.data.question&&h.data.questionType===Te.PREDICTION?h&&((n=h.data.inApp)==null?void 0:n.adUnit)===oi.STANDART?b.jsx(bbe,{action:h.action,close:h.close,...h.data.question,inApp:h.data.inApp}):b.jsx(W3e,{action:h.action,close:h.close,...h.data.question}):null:h&&h.type===zo.ONBOARDING?h.data.onboarding?b.jsx(Hye,{open:f==null?void 0:f.openOnboarding,close:h.close,...h.data.onboarding}):null:h&&((i=h.data.inApp)==null?void 0:i.adUnit)===oi.STANDART?b.jsx(Dye,{...h.data,action:h.action,close:h.close,color:((a=(s=(r=h==null?void 0:h.data)==null?void 0:r.inApp)==null?void 0:s.notification)==null?void 0:a.indicatorColor)||((c=(l=(o=h==null?void 0:h.data)==null?void 0:o.inApp)==null?void 0:l.appearance)==null?void 0:c.primaryColor),webos:e}):h&&b.jsx(J2e,{...h.data,action:h.action})},Ebe=({theme:t})=>{const e=vc(),n=Fp(),i=Y2();return e&&(i.appNotification||i.onboardingNotification)?i.app&&!i.onboardingNotification?null:b.jsx("div",{className:"StreamLayerSDK",children:b.jsx(Lp,{customTheme:t??n.theme,themeMode:n.themeMode,children:b.jsx(vbe,{sdk:e})})}):null};var Abe=Object.defineProperty,Sbe=(t,e,n)=>e in t?Abe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Li=(t,e,n)=>Sbe(t,typeof e!="symbol"?e+"":e,n);const iN=Object.keys(Ya),rN=()=>{const t=window.innerWidth;let e="sm";for(let n=iN.length-1;n>0;n--){const i=iN[n];if(!(t<Ya[i])&&t>=Ya[i]){e=i;break}}return{name:e,size:Ya[e]}},sN=t=>{var e;return(((e=t.current)==null?void 0:e.getBoundingClientRect().y)||0)<-68},Ag=()=>window.matchMedia("(orientation: landscape)").matches,Tbe=t=>{const[e]=V.useState(()=>Q2({screen:rN(),sdkInView:sN(t),sdkInDesktopView:Ag()}));return V.useEffect(()=>{const n=Eg(()=>{e.setKey("sdkInView",sN(t))},200),i=Eg(()=>{const r=rN();e.setKey("screen",r),e.setKey("sdkInDesktopView",Ag())},200);return window.addEventListener("scroll",n),window.addEventListener("resize",i),()=>{window.removeEventListener("scroll",n),window.removeEventListener("resize",i)}},[e,t]),[e]},LT=(t,e,n)=>{const i=e>=Ya.lg&&e<Ya.xl?75:52;t.current&&window.scrollTo({top:t.current.offsetTop-i,...n})},Rbe=15,Cbe=(t,e)=>{const n=V.useRef(null),i=V.useRef(0),[r]=V.useState(Q2({scrollPosition:0,tabsShown:!0,scrollDirection:"forward"})),s=ct(e);return V.useEffect(()=>{const a=Ag()?n.current:window;if(!a)return()=>{};const o=Eg(l=>{var c;const u=l.target;if(!u)return;let d=0;Ag()?d=u.scrollTop:d=((c=t.current)==null?void 0:c.getBoundingClientRect().y)||0;const f=i.current-d;if(Rbe>Math.abs(f))return;const h=i.current<d?"forward":"backward";i.current=d,r.set({scrollPosition:Math.round(d),scrollDirection:h,tabsShown:r.get().tabsShown})},200);return a.addEventListener("scroll",o),()=>{a.removeEventListener("scroll",o)}},[r,t,s.screen]),[n,r]},x5=_("div")({name:"LoadingContainer",class:"lclc0ej",propsAsIs:!1}),Ibe=({feature:t,sdk:e,children:n,className:i,noWait:r})=>{const s=ct(t.status),a=ct(e.sdkStore.slStreamId);if(!r){if(a!=null&&a.loading&&!a.data)return b.jsx(x5,{className:i,children:"Event is loading..."});if(!(a!=null&&a.data))return b.jsx(x5,{className:i,children:"Event is forbidden..."});if(s!==Jo.Ready)return b.jsx(x5,{className:i,children:"Wait feature..."})}return n},wbe=_("div")({name:"Container",class:"c115qtkr",propsAsIs:!1}),xbe=_("div")({name:"STabs",class:"sxnslc8",propsAsIs:!1}),Vbe=_("button")({name:"Button",class:"b1umzux0",propsAsIs:!1}),Nbe=_("span")({name:"Title",class:"tspsaas",propsAsIs:!1});var qh=(t=>(t.HOME="home",t.LEADERBOARD="leaderboard",t))(qh||{});const aN=({title:t,active:e,onClick:n})=>b.jsx(Vbe,{"data-a":"intr",onClick:n,"data-selected":e,children:b.jsx(Nbe,{"data-a":"intr",children:t})}),_be=({activePage:t="home",toggleActivePage:e})=>b.jsx(wbe,{children:b.jsxs(xbe,{"data-position":t==="home"?"left":"right",children:[b.jsx(aN,{title:"Home",active:t==="home",onClick:()=>e("home")}),b.jsx(aN,{title:"Friends",active:t==="leaderboard",onClick:()=>e("leaderboard")})]})}),kbe=_("div")({name:"Container",class:"c1ux29ft",propsAsIs:!1}),Fbe=()=>Ye,Lbe=_(Fbe())({name:"FriendsIcon",class:"f10ncfg2",propsAsIs:!0}),Ube=_("div")({name:"Content",class:"c1yc07bd",propsAsIs:!1}),Bbe=_("div")({name:"Title",class:"tj6cq7w",propsAsIs:!1}),Wbe=_("div")({name:"Description",class:"d1ag78xo",propsAsIs:!1}),Gbe=()=>Ye,Zbe=_(Gbe())({name:"ArrowInviteIcon",class:"awohrz6",propsAsIs:!0}),Dbe=({title:t,description:e,onClick:n,className:i})=>{const[r]=zZ({type:"invitation",action:"sent",payload:{from:sg.TITLE_CARD}});return b.jsxs(kbe,{"data-a":"intr",onClick:r(n),className:i,children:[b.jsx(Lbe,{name:"icon-friends"}),b.jsxs(Ube,{children:[b.jsx(Bbe,{children:t}),b.jsx(Wbe,{children:e})]}),b.jsx(Zbe,{name:"icon-copy"})]})};function Obe(t){var e=t.lastRenderedStartIndex,n=t.lastRenderedStopIndex,i=t.startIndex,r=t.stopIndex;return!(i>n||r<e)}function Xbe(t){for(var e=t.isItemLoaded,n=t.itemCount,i=t.minimumBatchSize,r=t.startIndex,s=t.stopIndex,a=[],o=null,l=null,c=r;c<=s;c++){var u=e(c);u?l!==null&&(a.push(o,l),o=l=null):(l=c,o===null&&(o=c))}if(l!==null){for(var d=Math.min(Math.max(l,o+i-1),n-1),f=l+1;f<=d&&!e(f);f++)l=f;a.push(o,l)}if(a.length)for(;a[1]-a[0]+1<i&&a[0]>0;){var h=a[0]-1;if(!e(h))a[0]=h;else break}return a}var Mbe=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Pbe=function(){function t(e,n){for(var i=0;i<n.length;i++){var r=n[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),Ybe=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},oN=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t};(function(t){Ybe(e,t);function e(){var n,i,r,s;Mbe(this,e);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return s=(i=(r=oN(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(o))),r),r._lastRenderedStartIndex=-1,r._lastRenderedStopIndex=-1,r._memoizedUnloadedRanges=[],r._onItemsRendered=function(c){var u=c.visibleStartIndex,d=c.visibleStopIndex;r._lastRenderedStartIndex=u,r._lastRenderedStopIndex=d,r._ensureRowsLoaded(u,d)},r._setRef=function(c){r._listRef=c},i),oN(r,s)}return Pbe(e,[{key:"resetloadMoreItemsCache",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._memoizedUnloadedRanges=[],n&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var n=this.props.children;return n({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(n,i){var r=this.props,s=r.isItemLoaded,a=r.itemCount,o=r.minimumBatchSize,l=o===void 0?10:o,c=r.threshold,u=c===void 0?15:c,d=Xbe({isItemLoaded:s,itemCount:a,minimumBatchSize:l,startIndex:Math.max(0,n-u),stopIndex:Math.min(a-1,i+u)});(this._memoizedUnloadedRanges.length!==d.length||this._memoizedUnloadedRanges.some(function(f,h){return d[h]!==f}))&&(this._memoizedUnloadedRanges=d,this._loadUnloadedRanges(d))}},{key:"_loadUnloadedRanges",value:function(n){for(var i=this,r=this.props.loadMoreItems||this.props.loadMoreRows,s=function(o){var l=n[o],c=n[o+1],u=r(l,c);u!=null&&u.then(function(){if(Obe({lastRenderedStartIndex:i._lastRenderedStartIndex,lastRenderedStopIndex:i._lastRenderedStopIndex,startIndex:l,stopIndex:c})){if(i._listRef==null)return;typeof i._listRef.resetAfterIndex=="function"?i._listRef.resetAfterIndex(l,!0):(typeof i._listRef._getItemStyleCache=="function"&&i._listRef._getItemStyleCache(-1),i._listRef.forceUpdate())}})},a=0;a<n.length;a+=2)s(a)}}]),e})(V.PureComponent);const $be=_("div")({name:"Container",class:"culdu4a",propsAsIs:!1}),jbe=_("div")({name:"Position",class:"pwf8e69",propsAsIs:!1}),Kbe=_("img")({name:"Avatar",class:"atf4yh4",propsAsIs:!1}),zbe=_("div")({name:"AvatarPlaceholder",class:"a1dg29ja",propsAsIs:!1}),Jbe=_("div")({name:"Content",class:"c10a68rc",propsAsIs:!1}),Hbe=_("div")({name:"NameContainer",class:"nc4kck5",propsAsIs:!1}),Qbe=_("span")({name:"Name",class:"njsrqgr",propsAsIs:!1}),qbe=()=>Ye,eve=_(qbe())({name:"CurrentUserBadge",class:"c17uc4zr",propsAsIs:!0}),tve=({friendsRank:t,avatar:e,name:n,userId:i,points:r,isCurrentUser:s,style:a})=>b.jsxs($be,{"data-name":i,style:a,children:[b.jsx(jbe,{children:t||0}),b.jsxs(Jbe,{children:[e?b.jsx(Kbe,{alt:"leaderboard-item-avatar",src:e}):b.jsx(zbe,{children:xT(n||"")}),b.jsxs(Hbe,{children:[b.jsx(Qbe,{children:n||""}),s&&b.jsx(eve,{name:"icon-star"})]})]}),b.jsx("div",{children:DZ(r)})]}),nve=_("div")({name:"Container",class:"c16btbfp",propsAsIs:!1}),ive=({items:t,currentUserId:e,openItemDetail:n,fetchMore:i,scrollNode:r,hasMore:s})=>{const a=V.useCallback(o=>{const l=o.target.getAttribute("data-name");l&&n(l)},[n]);return b.jsx(h4,{loadMore:i,initialLoad:!1,hasMore:s,useWindow:!1,getScrollParent:()=>r.current,children:b.jsx(nve,{"data-a":"intr",onClick:a,children:t.map(o=>b.jsx(tve,{...o,isCurrentUser:!!e&&e===o.userId},o.userId))})})},rve=_("div")({name:"InviteFriendsContainer",class:"i1c9dygq",propsAsIs:!1}),sve=({deepLink:t})=>b.jsx(rve,{children:b.jsx(nD,{inviteLink:t,inviteCardTitle:"Its More Fun With Friends",inviteCardSubtext:"Invite and compete against your friends for the top spot on the leaderboard."})}),ave=_("div")({name:"InviteLinkContainer",class:"i1odbhm4",propsAsIs:!1}),ove=({gamification:t,scrollNode:e,scrollStore:n,leaderboardList:i})=>{const r=V.useRef(null),{data:s,hasMore:a,loading:o,key:l}=ct(i.$store),{data:c}=ct(t.deepLink.$store),[u,d]=tD(r);return!s.length&&!o?b.jsx(sve,{deepLink:c}):b.jsxs(b.Fragment,{children:[b.jsx(ive,{items:s,scrollNode:e,scrollStore:n,fetchMore:i.fetchMore,hasMore:a,openItemDetail:t.openUser,currentUserId:t.currentUserId.get()},l),c&&b.jsx(ave,{ref:r,children:b.jsx(Dbe,{"data-a":"intr",onClick:()=>u(c),title:"Invite Friends",description:"Challenge them now!"})}),d]})},lve=({gamification:t,scrollNode:e,scrollStore:n})=>t.leaderboardList?b.jsx(ove,{leaderboardList:t.leaderboardList,gamification:t,scrollNode:e,scrollStore:n}):null,cve=({store:t,openQuestion:e})=>{const{sdk:n}=q2(),i=ct(t);return b.jsx(K1e,{openQuestion:e,questions:i.data,controlVideo:n==null?void 0:n.controlVideoPlayer})},uve=({userSummary:t})=>{var e;const[n,i]=V.useState(void 0);return V.useEffect(()=>{const r=t.$store.subscribe(s=>{s&&i(s)});return()=>{r()}},[t]),b.jsx(QZ,{loading:!(n!=null&&n.summary),...n==null?void 0:n.summary,successRate:(e=n==null?void 0:n.percentage)==null?void 0:e.correct})},dve=({gamification:t,className:e,scrollStore:n,scrollNode:i,appNode:r,style:s,responsiveStore:a})=>{const{tabsShown:o}=ct(n,{keys:["tabsShown"]}),l=ct(t.friendsTabEnabled),[c,u]=V.useState(qh.HOME),[,d]=yae(),{sdkInDesktopView:f,screen:h}=ct(a,{keys:["sdkInDesktopView"]}),m=v=>{d(()=>{var y;u(v),f===!1&&(((y=r.current)==null?void 0:y.getBoundingClientRect().y)||0)<0&&LT(r,h.size,{behavior:"instant"})})};V.useEffect(()=>n.subscribe(v=>{if(v.scrollPosition===0){n.setKey("tabsShown",!0);return}a.get().sdkInDesktopView?n.setKey("tabsShown",v.scrollDirection==="backward"):n.setKey("tabsShown",v.scrollDirection==="forward")}),[n,a]),V.useEffect(()=>{l||u(qh.HOME)},[l]);let p="0px";return f?p=o?"0px":"calc(0px - var(--header-height))":p=o?"var(--header-height)":"0px",b.jsxs(lhe,{className:Kt(e,"SL-Tabs","sl-hide-on-modal"),style:s,children:[l&&b.jsx(hhe,{style:{top:p},children:b.jsx(_be,{activePage:c,toggleActivePage:m})}),c===qh.HOME&&b.jsxs(b.Fragment,{children:[b.jsx(ohe,{children:b.jsx(fhe,{children:b.jsx(uve,{userSummary:t.userSummary})})}),b.jsx(RT,{style:{flex:1},children:b.jsx(cve,{openQuestion:t.openQuestion,store:t.feedList.getStore()})})]}),c===qh.LEADERBOARD&&b.jsx(uhe,{children:b.jsx(lve,{scrollStore:n,scrollNode:i,gamification:t})})]})},hve=()=>Kd,lN=_(hve())({name:"OpenedContainer",class:"ouvguos",propsAsIs:!0}),cN="t1eu4lbg",fve=_("div")({name:"UserContainer",class:"uuv2xqo",propsAsIs:!1}),pve=({correct:t,incorrect:e})=>{const n=t+e;return n===0?0:Math.round(t/n*100)},mve=({gamification:t,scrollStore:e,className:n,appNode:i,scrollNode:r,responsiveStore:s})=>b.jsx(dve,{appNode:i,scrollStore:e,scrollNode:r,className:n,gamification:t,responsiveStore:s}),gve=({gamification:t,muted:e,sdk:n,className:i,appNode:r,responsiveStore:s})=>{const{topNavigation:a}=q2(),o=ct(t.openedQuestionId),l=ct(t.openedQuestion.$store),c=ct(t.openedUser||HZ(void 0)),{sdkInDesktopView:u}=ct(s,{keys:["sdkInDesktopView"]}),{hiding:d,onAnimationEnd:f}=_Z();if(!o&&!c)return null;const h=l?b.jsx(lN,{className:Kt(i,!a&&cN),hiding:d,onAnimationEnd:f,children:b.jsx(E2e,{muted:e,sdk:n,gamification:t})}):c?b.jsx(lN,{className:Kt(i,!a&&cN),hiding:d,onAnimationEnd:f,children:b.jsxs(fve,{children:[b.jsx(jZ,{label:"Friend's Rank",close:t.closeUser}),b.jsx(CT,{children:b.jsx(QZ,{...c,successRate:pve(c)})})]})}):null;return b.jsx(eD,{container:r,useContainer:!u,children:h})},yve=V.lazy(()=>oT(()=>Promise.resolve().then(()=>w$),void 0,import.meta.url)),bve=({sdk:t,feature:e,className:n,scrollStore:i,appNode:r,scrollNode:s,responsiveStore:a})=>{const o=V.useMemo(()=>e&&e.featureConfig.get().type===st.GAMES?b.jsx(Ibe,{className:n,sdk:t,feature:e,children:b.jsx(yve,{appNode:r,scrollStore:i,scrollNode:s,className:n,responsiveStore:a,gamification:e})}):null,[t,e,n,a,i,s,r]);return b.jsx(V.Suspense,{fallback:b.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:"page loading..."}),children:o})},vve=({feature:t,sdk:e,muted:n,className:i,appNode:r,responsiveStore:s})=>t&&t.featureConfig.get().type===st.GAMES?b.jsx(gve,{className:i,appNode:r,muted:n,sdk:e,responsiveStore:s,gamification:t}):null;window.dispatchEvent(new CustomEvent("grpc_devtools_loaded"));function Eve(t){return t instanceof DOMException&&(t.code===22||t.code===1014||t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED")}let Ave=class{constructor(e="main",n=window.localStorage){Li(this,"delimiter",":"),Li(this,"prefix"),Li(this,"storage"),Li(this,"clear",()=>{for(const i in window.localStorage)i.startsWith(this.prefix)&&this.storage.removeItem(i)}),Li(this,"generateKey",i=>`${this.prefix}${this.delimiter}${i.join(this.delimiter)}`),Li(this,"write",(...i)=>{const r=i.pop()||"",s=this.generateKey(i);try{this.storage.setItem(s,r)}catch(a){Eve(a)&&this.storage===window.sessionStorage&&(window.sessionStorage.removeItem("slstreamlogs"),this.storage.setItem(s,r))}}),Li(this,"read",(...i)=>{const r=this.storage.getItem(this.generateKey(i));return r===null?void 0:r}),Li(this,"remove",(...i)=>{this.storage.removeItem(this.generateKey(i))}),this.prefix=`sl-sdk${this.delimiter}${e}`,this.storage=n}};var uN;(function(t){t.Init="init",t.Ready="ready",t.Connecting="connecting",t.Connected="connected",t.Disconnected="disconnected",t.Failed="failed",t.Reconnect="reconnect",t.Reconnecting="reconnecting"})(uN||(uN={}));Sc("grpc:stream");Qe.Unknown,Qe.Internal,Qe.DeadlineExceeded,Qe.ResourceExhausted,Qe.FailedPrecondition,Qe.Unavailable,Qe.DataLoss;Sc("grpc:retry");ag(10,{description:"Number of attempts to retry"}),ag(3e4,{description:"Max delay between retries in milliseconds"});var va;(function(t){t.SCHEMA="schema",t.EXTERNAL_TOKEN="eToken",t.TOKEN="token"})(va||(va={}));let Sve=class extends Ave{constructor(){super("user"),Li(this,"setSchema",e=>{this.write(va.SCHEMA,e)}),Li(this,"getSchema",()=>this.read(va.SCHEMA)),Li(this,"setToken",e=>{this.write(va.TOKEN,e)}),Li(this,"getToken",()=>this.read(va.TOKEN)),Li(this,"setExternalToken",e=>{this.write(va.EXTERNAL_TOKEN,e)}),Li(this,"getExternalToken",()=>this.read(va.EXTERNAL_TOKEN)),Li(this,"removeToken",()=>{this.remove(va.TOKEN)})}};var dN;(function(t){t.DISABLED="disabled",t.INITIALIZATION="initialization",t.READY="ready",t.FAILED="failed",t.SUSPENDED="suspended"})(dN||(dN={}));var hN;(function(t){t.SHOWED="showed",t.EVENT="ev"})(hN||(hN={}));var fN;(function(t){t.ONBOARDING="onboarding",t.ONBOARDING_IO="onboarding_io",t.QUESTION_RECEIVED="q-received",t.QUESTION_OPENED="q-opened"})(fN||(fN={}));var pN;(function(t){t.ALLOWED="allowed",t.DISALLOWED="disallowed"})(pN||(pN={}));var mN;(function(t){t.UNKNOWN="unknown",t.ALREADY_VOTED="already_voted"})(mN||(mN={}));Sc("deep_link");Sc("bypass");new Sve;Sc("video_player");Te.FACTOID+"",Te.POLL+"",Te.TRIVIA+"",Te.PREDICTION+"",Te.TWEET+"";var gN;(function(t){t.Unset="unset",t.Required="required",t.Optional="optional",t.Completed="completed",t.Disabled="disabled",t.Unavailable="unavailable"})(gN||(gN={}));Te.POLL,Te.PREDICTION,Te.TRIVIA;const Tve={[st.GAMES]:!0},Rve=_("div")({name:"Buttons",class:"b5o8qbl",propsAsIs:!1}),Cve=({children:t,className:e})=>b.jsx(Rve,{className:e,children:t}),TD=_("div")({name:"Navigation",class:"n6tbwuy",propsAsIs:!1}),Ive=()=>Cve,yN=_(Ive())({name:"NavigationItems",class:"n1up4z7v",propsAsIs:!0}),wve=_("button")({name:"SButton",class:"sxxa0c",propsAsIs:!1}),xve=_("span")({name:"ButtonIcon",class:"b193dcyu",propsAsIs:!1}),Vve=_("span")({name:"ButtonLabel",class:"b40tuix",propsAsIs:!1}),Nve="s14xk0af",_ve="ha3mg7c",kve="h103yr45",o1=({disabled:t,active:e,onClick:n,label:i,icon:r,id:s})=>b.jsx(wve,{onClick:n,"data-a":"intr",disabled:t,className:Kt(e&&Nve,!e&&(s==="channels"||s==="featuredGroups")&&_ve,!e&&s==="leaderboard"&&kve),children:b.jsxs(b.Fragment,{children:[r&&b.jsx(xve,{children:r}),b.jsx(Vve,{children:i})]})}),Fve=()=>Ye,Lve=_(Fve())({name:"ButtonIcon",class:"b11wpe79",propsAsIs:!0}),Uve=_("div")({name:"Container",class:"calnblm",propsAsIs:!1}),Bve=_("div")({name:"Title",class:"t1438p52",propsAsIs:!1}),Wve=_("div")({name:"CloseIconWrap",class:"c17srj38",propsAsIs:!1}),Gve=()=>Ye,Zve=_(Gve())({name:"CloseIcon",class:"clqia8k",propsAsIs:!0}),Dve=()=>Ye,Ove=_(Dve())({name:"DashboardIcon",class:"df5w958",propsAsIs:!0}),Xve="h12x6aiv",Mve=V.forwardRef(({sdk:t,className:e},n)=>{const i=()=>{t.closeFeature()};return b.jsxs(TD,{className:Kt(e,Xve),children:[b.jsxs(Uve,{children:[b.jsxs(Bve,{children:[b.jsx(Ove,{name:"dashboard"}),"Dashboard"]}),b.jsx(Wve,{"data-a":"intr",onClick:i,children:b.jsx(Zve,{name:"icon-cross"})})]}),b.jsx("div",{ref:n})]})}),Pve=V.forwardRef(({sdk:t,className:e},n)=>{const i=ct(t.sdkStore.organizationSettings),r=ct(t.sdkStore.streamSettings),s=ct(t.getActiveFeature()),a=V.useMemo(()=>{const l=(r==null?void 0:r.data)||(i==null?void 0:i.data);return l!=null&&l.overlays?l.overlays:[]},[i,r]),o=V.useMemo(()=>[...a.filter(({enableSdkButton:l,type:c})=>c===st.GAMES||l).map(l=>({id:l.type,onClick:()=>t.openFeature(l.type),disabled:!(l.type in Tve),label:l.name,icon:b.jsx("img",{src:l.icon,alt:""}),position:l.position*10}))].sort((l,c)=>l.position-c.position),[a,t]);return b.jsxs(TD,{className:e,children:[o.length!==0&&b.jsx(yN,{children:[b.jsx(o1,{id:"Channels",onClick:()=>t.closeFeature(),label:"Channels",active:s===0},"Channels"),...o.map(l=>l.id===st.GAMES?b.jsx(o1,{...l,active:l.id===s,label:"StreamLayer +",id:"featuredGroups",icon:b.jsx(Lve,{name:"icon-btn-feature-groups","data-selected":l.id===s})},l.id):b.jsx(o1,{...l,icon:void 0,active:l.id===s},l.id))]}),!o.length&&b.jsx(yN,{children:[b.jsx(o1,{id:"empty",label:"No Features...",active:!1,disabled:!0},"empty")]}),b.jsx("div",{ref:n})]})}),Yve=_("div")({name:"Container",class:"c1qjj4d4",propsAsIs:!1}),$ve=_("div")({name:"CloseIconWrap",class:"c1lg6b8a",propsAsIs:!1}),jve=()=>Ye,Kve=_(jve())({name:"CloseIcon",class:"c159el66",propsAsIs:!0}),zve=_("div")({name:"Title",class:"t16xmufv",propsAsIs:!1}),Jve=_("img")({name:"SponsorLogo",class:"s83lc21",propsAsIs:!1}),Hve=_("div")({name:"PresentsTitle",class:"p1p7igia",propsAsIs:!1}),Qve=_("div")({name:"Subtitle",class:"s1eftsbu",propsAsIs:!1}),qve=_("div")({name:"Description",class:"d8uezec",propsAsIs:!1}),e5e=_("button")({name:"ActionButton",class:"a1h1bk90",propsAsIs:!1}),bN=({close:t,action:e,onboarding:n})=>{var i,r,s,a,o,l,c,u;return b.jsxs(Yve,{children:[b.jsx($ve,{"data-a":"intr",onClick:t,children:b.jsx(Kve,{name:"icon-cross"})}),((r=(i=n==null?void 0:n.titleCard)==null?void 0:i.media)==null?void 0:r.sponsorLogo)&&b.jsxs(zve,{children:[b.jsx(Jve,{alt:"sponsor-logo",src:(a=(s=n==null?void 0:n.titleCard)==null?void 0:s.media)==null?void 0:a.sponsorLogo}),b.jsx(Hve,{children:"PRESENTS"})]}),((o=n==null?void 0:n.titleCard)==null?void 0:o.title)&&b.jsx(Qve,{children:(l=n==null?void 0:n.titleCard)==null?void 0:l.title}),((c=n==null?void 0:n.titleCard)==null?void 0:c.subtitle)&&b.jsx(qve,{children:(u=n==null?void 0:n.titleCard)==null?void 0:u.subtitle}),b.jsx(e5e,{"data-a":"intr",onClick:e,children:"Play Now"})]})},p4=[{graphicSrc:"https://cdn.streamlayer.io/assets/sdk-web/onboarding-steps/dark/step_1.png",tagline:"",headline:b.jsxs(b.Fragment,{children:["Welcome to ",b.jsx("br",{})," Live Challenge"]})},{graphicSrc:"https://cdn.streamlayer.io/assets/sdk-web/onboarding-steps/dark/step_2.png",headline:"Live insights, polls, trivia and predictions."},{graphicSrc:"https://cdn.streamlayer.io/assets/sdk-web/onboarding-steps/dark/step_3.png",headline:"Win points and play against friends."}],t5e=_("div")({name:"OnboardingContainer",class:"o1xni1kr",propsAsIs:!1}),n5e=()=>Kd,i5e=_(n5e())({name:"OnboardingNotificationContainer",class:"o1vnouv7",propsAsIs:!0}),vN=_("div")({name:"InnerContainer",class:"i59uefw",propsAsIs:!1}),r5e=_("div")({name:"OnboardingOverlap",class:"ovnr8ov",propsAsIs:!1}),s5e=({deepLink:t,onboardingOpts:e,notification:n,gamification:i,loading:r,sdk:s,throttled:a})=>{var o,l,c,u,d,f,h;const m=ct(i.friends?i.friends.getStore():HZ({data:[]})),[p,v]=V.useState(void 0),y=V.useMemo(()=>{var E,S;const I=s.getInviter();return I?(S=(E=m.data)==null?void 0:E.find(({slId:w})=>w===I))==null?void 0:S.name:""},[m.data,s]);return V.useEffect(()=>{const E=t.$store.subscribe(S=>{S&&v(S.data)});return()=>{E()}},[t.$store]),b.jsxs(t5e,{children:[b.jsx(Yge,{loading:r,rules:[{label:"Answer as many questions as you like.",icon:"icon-btn-feature-groups"},{label:"Win points for each correct trivia or prediction answer.",icon:"icon-thumb-up"},{label:"Top the leader board and best your friends.",icon:"icon-trophy"}],rulesBtnLabel:(o=e.rules)==null?void 0:o.buttonLabel,rulesTitle:(l=e.rules)==null?void 0:l.heading,termsTitle:"Terms and Conditions",termsText:(c=e.rules)==null?void 0:c.terms,steps:p4,primaryColor:(u=e.inviteCard)==null?void 0:u.iconColor,inviteLink:p,inviteCardTitle:(d=e.inviteCard)==null?void 0:d.heading,inviteCardSubtext:(f=e.inviteCard)==null?void 0:f.subtext,inviteCardBtnLabel:(h=e.inviteCard)==null?void 0:h.buttonLabel,onClose:()=>{var E;(E=n.close)==null||E.call(n)},gamification:i,sdk:s,inviterName:y}),a&&b.jsx(r5e,{})]})},a5e=({sdk:t,notification:e,saveHeight:n,style:i,appNode:r,sdkInDesktopView:s,responsiveStore:a})=>{const o=V.useRef(null),l=e.data.onboarding,[c,u]=V.useState(l==null?void 0:l.instantOpen),d=t.getFeature(st.GAMES),f=V.useMemo(()=>p4==null?void 0:p4.map(({graphicSrc:v})=>v),[]),{screen:h}=ct(a,{keys:["screen"]});V.useLayoutEffect(()=>{var v;n(((v=o.current)==null?void 0:v.getBoundingClientRect().height)||0)},[n]);const{loading:m,throttled:p}=tge(f);return c&&d&&l&&r.current?b.jsx(eD,{container:r,useContainer:!s,children:b.jsx(s5e,{throttled:p,notification:e,setOpened:u,gamification:d,onboardingOpts:l,deepLink:d.deepLink,loading:m,renderToNode:r,sdk:t})}):b.jsxs(b.Fragment,{children:[b.jsx(vN,{ref:o,style:{position:"absolute",visibility:"hidden"},children:b.jsx(bN,{close:()=>{},action:()=>{},onboarding:l})}),b.jsx(i5e,{style:i,hiding:e.hiding,children:b.jsx(vN,{children:b.jsx(bN,{close:e.close,action:()=>{var v;u(!0),(((v=r.current)==null?void 0:v.getBoundingClientRect().y)||0)<0&&LT(r,h.size,{behavior:"smooth"})},onboarding:l})})})]})},o5e=()=>Kd,l5e=_(o5e())({name:"Container",class:"c8ol1ve",propsAsIs:!0}),RD=_("div")({name:"InnerContainer",class:"iqfywam",propsAsIs:!1}),c5e=()=>RD,u5e=_(c5e())({name:"HiddenContainer",class:"hokmtod",propsAsIs:!0}),d5e=_("div")({name:"NotificationRefreshing",class:"n192d1q8",propsAsIs:!1}),h5e=()=>zge,f5e=_(h5e())({name:"Pill",class:"p1lha68t",propsAsIs:!0}),p5e=t=>{const[e,n]=V.useState(0),i=V.useRef(null),r=V.useMemo(()=>new ResizeObserver(o=>{window.requestAnimationFrame(()=>{var l;if(Array.isArray(o)){for(const c of o)if(c.contentBoxSize){const u=(l=i.current)==null?void 0:l.getBoundingClientRect();u&&n(u.height)}}})}),[]),s=V.useCallback(o=>{i.current=o},[]),a=V.useCallback(o=>{n(o)},[]);return V.useEffect(()=>{const o=i.current;return o?(r.observe(o),()=>{r.unobserve(o)}):()=>{}},[t]),V.useEffect(()=>()=>{r.disconnect()}),[s,e,a]},m5e=({sdk:t,notification:e,appNode:n,responsiveStore:i,hasActiveFeature:r})=>{var s,a;const{sdkInDesktopView:o}=ct(i,{keys:["sdkInDesktopView"]}),{sdk:l}=q2(),[c,u,d]=p5e(e.id);let f=u;return r||(f="auto"),e.type===zo.QUESTION?b.jsxs(b.Fragment,{children:[b.jsx(u5e,{ref:c,children:b.jsx(kV,{...e})}),b.jsxs(l5e,{style:{height:e.hiding?0:f},hiding:e.hiding,children:[b.jsx(RD,{style:{height:"100%"},children:b.jsx(kV,{...e,controlVideo:l==null?void 0:l.controlVideoPlayer})}),b.jsx(d5e,{},e.id)]})]}):e.type===zo.QUESTION_RESOLVED&&(a=(s=e.data)==null?void 0:s.question)!=null&&a.predictionResult?b.jsx(ege,{style:{height:e.hiding?0:u},saveHeight:d,close:e.close,hiding:e.hiding,...e.data.question}):e.type===zo.ONBOARDING?b.jsx(a5e,{style:{height:e.hiding?0:f},saveHeight:d,sdk:t,notification:e,sdkInDesktopView:o,appNode:n,responsiveStore:i}):null},g5e="p7vfi6t",y5e=({pill:t,setPill:e,appNode:n,headerNode:i,scrollNode:r,responsiveStore:s,scrollStore:a})=>{var o,l;const{screen:c}=ct(s,{keys:["screen"]}),{tabsShown:u,scrollPosition:d}=ct(a,{keys:["tabsShown","scrollPosition"]});V.useEffect(()=>{s.get().sdkInDesktopView?d<50&&e(null):d>-50&&e(null)},[d,s,e]);const f=s.get().sdkInDesktopView?n:i;return!t||!f.current?null:jf.createPortal(b.jsx(f5e,{title:t.type===zo.QUESTION_RESOLVED?"Prediction result":`New ${((l=Jd[(o=t.data)==null?void 0:o.questionType])==null?void 0:l.label)||"notification"}`,"data-a":"intr",onClick:()=>{var h;s.get().sdkInDesktopView?(h=r.current)==null||h.scrollTo({top:0,behavior:"smooth"}):LT(n,c.size,{behavior:"smooth"}),e(null)},className:Kt(u&&g5e,"sl-pill-button")}),f.current)},b5e=({sdk:t,headerNode:e,scrollNode:n,responsiveStore:i,appNode:r,scrollStore:s,hasActiveFeature:a})=>{const[o]=V.useState(t.getNotificationsStore()),l=ct(o),[c,u]=V.useState(null),d=V.useMemo(()=>t.getActiveNotification(),[t,l]);return V.useEffect(()=>{d&&Xt.emit("notification",{action:"rendered",payload:{questionId:d.data.questionId,questionType:d.data.questionType}})},[d]),V.useEffect(()=>{const{sdkInDesktopView:f,sdkInView:h}=i.get();d&&(f||h)&&(!f&&h&&u(d),f&&window.requestAnimationFrame(()=>{s.get().scrollPosition!==0&&u(d)}))},[d]),V.useEffect(()=>{d||u(null)},[d]),b.jsxs(b.Fragment,{children:[!c&&d&&b.jsx(m5e,{appNode:r,sdk:t,hasActiveFeature:a,notification:d,responsiveStore:i}),c&&b.jsx(y5e,{pill:c,setPill:u,appNode:r,notification:d,headerNode:e,scrollNode:n,scrollStore:s,responsiveStore:i})]})},v5e=t=>{const e=ct(t.status),n=ct(t.sdkStore.slStreamId),i=ct(t.userId()),r=ct(t.getActiveFeature()),s=e==="ready"&&!!n.data;return V.useEffect(()=>{const a=t.getFeature(st.GAMES);a&&r!==st.GAMES&&(a.closeQuestion(),a.closeUser()),a==null||a.openedQuestionId.subscribe(o=>{o&&r!==st.GAMES&&t.openFeature(st.GAMES)})},[r,t]),{sdkReady:s,activeFeature:r,isLogged:!!i}},E5e=({sdk:t,className:e,scrollStore:n,appNode:i,scrollNode:r,responsiveStore:s})=>{const[,a]=$0e(t);return b.jsx(bve,{className:e,scrollNode:r,appNode:i,scrollStore:n,feature:a,responsiveStore:s,sdk:t})},A5e=({sdk:t,muted:e,className:n,appNode:i,responsiveStore:r})=>{const s=ct(t.featuresList.getStore());return s?Array.from(s,a=>{const o=t.getFeature(a);return o?b.jsx(vve,{className:n,muted:e,appNode:i,feature:o,responsiveStore:r,sdk:t},a):null}):null},S5e=({sdk:t,muted:e,topNavigation:n})=>{const[i,r]=V.useState(!0),s=V.useRef(null),a=ct(t.uiState),o=V.useRef(null),[l]=Tbe(s),[c,u]=Cbe(s,l),{sdkReady:d,activeFeature:f,isLogged:h}=v5e(t),m=!!d;JZ(s,{enabled:m,event:"click",listener:Y0e});const p=V.useMemo(()=>({sdk:t,topNavigation:n}),[t,n]);return V.useEffect(()=>{oT(()=>Promise.resolve().then(()=>w$),void 0,import.meta.url)},[]),b.jsx(aD.Provider,{value:p,children:b.jsxs(rhe,{ref:v=>{s.current=v,r(!!v)},className:n?"":"c10llmat",children:[m&&n&&a.app&&b.jsx(Pve,{className:Kt(Jh,"sl-hide-on-modal"),sdk:t,ref:o}),m&&!n&&!!f&&a.app&&b.jsx(Mve,{className:Kt(Jh,"sl-hide-on-modal"),sdk:t,ref:o}),b.jsxs(NZ,{className:"sl-hide-on-modal",ref:c,"data-nav":(!!f&&m).toString(),children:[m&&a.app&&b.jsx(b5e,{sdk:t,scrollNode:c,headerNode:o,appNode:s,scrollStore:u,responsiveStore:l,hasActiveFeature:!!f}),m&&a.app&&b.jsx(E5e,{scrollStore:u,responsiveStore:l,scrollNode:c,appNode:s,className:Jh,sdk:t}),m&&i&&b.jsx(A5e,{muted:e,responsiveStore:l,appNode:s,className:Jh,sdk:t})]}),m&&!h&&i&&a.app&&b.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:"You are not logged in."})]})})},EN=({event:t,topNavigation:e,theme:n,muted:i,withSidebarNotification:r=!0})=>{const{sdk:s,status:a}=V.useContext(uc),o=Y2(),l=Fp(),{event:c}=V.useContext(uc);if(a===t4.UNSET)throw new Error("Wrap app in `StreamLayerProvider`");return a===t4.CONNECTED?b.jsx("div",{className:"StreamLayerSDK",children:"wait"}):s===null?b.jsx("div",{className:"StreamLayerSDK",children:"sdk not initialized"}):!o.app&&!o.appNotification&&!o.appSidebar||!o.app&&!o.appSidebar&&o.appNotification&&!r?null:b.jsx("div",{className:"StreamLayerSDK",children:b.jsx(Lp,{customTheme:n??l.theme,themeMode:l.themeMode,children:b.jsx(S5e,{sdk:s,muted:i,event:(c==null?void 0:c.current)||t,topNavigation:e})})})},T5e=_("div")({name:"PointsContainer",class:"psiob9b",propsAsIs:!1}),R5e=_("div")({name:"PointsIcon",class:"p1gqe4lh",propsAsIs:!1}),C5e=()=>Ye,I5e=_(C5e())({name:"PointsSvg",class:"p15syg2y",propsAsIs:!0}),w5e=_("div")({name:"PointsBody",class:"p12n4f2h",propsAsIs:!1}),x5e=_("div")({name:"PointsTitle",class:"poqmx89",propsAsIs:!1}),V5e=_("div")({name:"PointsValue",class:"prj9b3v",propsAsIs:!1}),N5e=({points:t,onClick:e})=>b.jsxs(T5e,{className:Jh,onClick:e,children:[b.jsx(R5e,{children:b.jsx(I5e,{name:"icon-trophy-solid"})}),b.jsxs(w5e,{children:[b.jsx(x5e,{children:"Total points"}),b.jsx(V5e,{children:b.jsx(Op,{value:t})})]})]}),_5e=({gamification:t})=>{const e=t.userSummary.$store,[n,i]=V.useState(0);return V.useEffect(()=>{const r=e.subscribe(s=>{var a;(a=s==null?void 0:s.summary)!=null&&a.points&&i(s.summary.points)});return()=>{r()}},[e]),b.jsx(N5e,{points:n,onClick:()=>{const r=t.status.get();r===Jo.Suspended?(t.openFeature(),Xt.emit("app",{action:"open",payload:{}}),Xt.emit("interactions",{action:"tap",payload:{}})):r===Jo.Ready&&(t.closeFeature(!1),Xt.emit("app",{action:"close",payload:{}}),Xt.emit("interactions",{action:"tap",payload:{}}))}})},k5e=({sdk:t})=>{if(!ct(t.featuresList.getStore()))return null;const e=t.getFeature(st.GAMES);return e?b.jsx(_5e,{gamification:e}):null},F5e=({theme:t})=>{const e=vc(),n=Fp();return e?b.jsx("div",{className:"StreamLayerSDK",children:b.jsx(Lp,{customTheme:t??n.theme,themeMode:n.themeMode,children:b.jsx(k5e,{sdk:e})})}):null};function UT(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{id:t.id||null,adId:t.adId||null,sequence:t.sequence||null,apiFramework:t.apiFramework||null,universalAdIds:[],creativeExtensions:[]}}const L5e=["ADCATEGORIES","ADCOUNT","ADPLAYHEAD","ADSERVINGID","ADTYPE","APIFRAMEWORKS","APPBUNDLE","ASSETURI","BLOCKEDADCATEGORIES","BREAKMAXADLENGTH","BREAKMAXADS","BREAKMAXDURATION","BREAKMINADLENGTH","BREAKMINDURATION","BREAKPOSITION","CLICKPOS","CLICKTYPE","CLIENTUA","CONTENTID","CONTENTPLAYHEAD","CONTENTURI","DEVICEIP","DEVICEUA","DOMAIN","EXTENSIONS","GDPRCONSENT","IFA","IFATYPE","INVENTORYSTATE","LATLONG","LIMITADTRACKING","MEDIAMIME","MEDIAPLAYHEAD","OMIDPARTNER","PAGEURL","PLACEMENTTYPE","PLAYERCAPABILITIES","PLAYERSIZE","PLAYERSTATE","PODSEQUENCE","REGULATIONS","SERVERSIDE","SERVERUA","TRANSACTIONID","UNIVERSALADID","VASTVERSIONS","VERIFICATIONVENDORS"];function AN(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=[],r=ID(t);!e.ERRORCODE||n.isCustomCode||/^[0-9]{3}$/.test(e.ERRORCODE)||(e.ERRORCODE=900),e.CACHEBUSTING=VD(Math.round(1e8*Math.random())),e.TIMESTAMP=new Date().toISOString(),e.RANDOM=e.random=e.CACHEBUSTING;for(const s in e)e[s]=xD(e[s]);for(const s in r){const a=r[s];typeof a=="string"&&i.push(CD(a,e))}return i}function CD(t,e){const n=(t=SN(t,e)).match(/[^[\]]+(?=])/g);if(!n)return t;let i=n.filter(r=>L5e.indexOf(r)>-1);return i.length===0?t:(i=i.reduce((r,s)=>(r[s]=-1,r),{}),SN(t,i))}function SN(t,e){let n=t;for(const i in e){const r=e[i];n=n.replace(new RegExp("(?:\\[|%%)(".concat(i,")(?:\\]|%%)"),"g"),r)}return n}function ID(t){return Array.isArray(t)?t.map(e=>e&&e.hasOwnProperty("url")?e.url:e):t}function TN(t){return/^(https?:\/\/|\/\/)/.test(t)}function RN(t,e){for(let n=0;n<e.length;n++)if(wD(e[n],t))return!0;return!1}function wD(t,e){if(t&&e){const n=Object.getOwnPropertyNames(t),i=Object.getOwnPropertyNames(e);return n.length===i.length&&t.id===e.id&&t.url===e.url}return!1}function xD(t){return encodeURIComponent(t).replace(/[!'()*]/g,e=>"%".concat(e.charCodeAt(0).toString(16)))}function VD(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8;return t.toString().padStart(e,"0")}const Ot={track:function(t,e,n){AN(t,e,n).forEach(i=>{typeof window<"u"&&window!==null&&(new Image().src=i)})},resolveURLTemplates:AN,extractURLsFromTemplates:ID,filterUrlTemplates:function(t){return t.reduce((e,n)=>{const i=n.url||n;return TN(i)?e.validUrls.push(i):e.invalidUrls.push(i),e},{validUrls:[],invalidUrls:[]})},containsTemplateObject:RN,isTemplateObjectEqual:wD,encodeURIComponentRFC3986:xD,replaceUrlMacros:CD,isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},flatten:function t(e){return e.reduce((n,i)=>n.concat(Array.isArray(i)?t(i):i),[])},joinArrayOfUniqueTemplateObjs:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const n=Array.isArray(t)?t:[],i=Array.isArray(e)?e:[];return n.concat(i).reduce((r,s)=>(RN(s,r)||r.push(s),r),[])},isValidTimeValue:function(t){return Number.isFinite(t)&&t>=-2},addLeadingZeros:VD,isValidUrl:TN,isBrowserEnvironment:function(){return typeof window<"u"},formatMacrosValues:function(t){return typeof t!="object"?t:JSON.stringify(t)}};function CN(t){return["true","TRUE","True","1"].includes(t)}function U5e(t){if(t==null)return-1;if(Ot.isNumeric(t))return parseInt(t);const e=t.split(":");if(e.length!==3)return-1;const n=e[2].split(".");let i=parseInt(n[0]);n.length===2&&(i+=parseFloat("0.".concat(n[1])));const r=parseInt(60*e[1]),s=parseInt(60*e[0]*60);return isNaN(s)||isNaN(r)||isNaN(i)||r>3600||i>60?-1:s+r+i}const ve={childByName:function(t,e){return Array.from(t.childNodes).find(n=>n.nodeName===e)},childrenByName:function(t,e){return Array.from(t.childNodes).filter(n=>n.nodeName===e)},resolveVastAdTagURI:function(t,e){if(!e)return t;if(t.startsWith("//")){const{protocol:n}=location;return"".concat(n).concat(t)}if(!t.includes("://")){const n=e.slice(0,e.lastIndexOf("/"));return"".concat(n,"/").concat(t)}return t},parseBoolean:CN,parseNodeText:function(t){return t&&(t.textContent||t.text||"").trim()},copyNodeAttribute:function(t,e,n){const i=e.getAttribute(t);i&&n.setAttribute(t,i)},parseAttributes:function(t){return Array.from(t.attributes).reduce((e,n)=>(e[n.nodeName]=n.nodeValue,e),{})},parseDuration:U5e,getStandAloneAds:function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).filter(t=>!parseInt(t.sequence,10))},getSortedAdPods:function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).filter(t=>parseInt(t.sequence,10)).sort((t,e)=>t.sequence-e.sequence)},assignAttributes:function(t,e){t&&Array.from(t).forEach(n=>{let{nodeName:i,nodeValue:r}=n;if(i&&r&&e.hasOwnProperty(i)){let s=r;typeof e[i]=="boolean"&&(s=CN(s)),e[i]=s}})},mergeWrapperAdData:function(t,e){var n;t.errorURLTemplates=e.errorURLTemplates.concat(t.errorURLTemplates),t.impressionURLTemplates=e.impressionURLTemplates.concat(t.impressionURLTemplates),t.extensions=e.extensions.concat(t.extensions),e.viewableImpression.length>0&&(t.viewableImpression=[...t.viewableImpression,...e.viewableImpression]),t.followAdditionalWrappers=e.followAdditionalWrappers,t.allowMultipleAds=e.allowMultipleAds,t.fallbackOnNoAd=e.fallbackOnNoAd;const i=(e.creatives||[]).filter(o=>o&&o.type==="companion"),r=i.reduce((o,l)=>((l.variations||[]).forEach(c=>{(c.companionClickTrackingURLTemplates||[]).forEach(u=>{Ot.containsTemplateObject(u,o)||o.push(u)})}),o),[]);t.creatives=i.concat(t.creatives);const s=e.videoClickTrackingURLTemplates&&e.videoClickTrackingURLTemplates.length,a=e.videoCustomClickURLTemplates&&e.videoCustomClickURLTemplates.length;if(t.creatives.forEach(o=>{if(e.trackingEvents&&e.trackingEvents[o.type])for(const l in e.trackingEvents[o.type]){const c=e.trackingEvents[o.type][l];Array.isArray(o.trackingEvents[l])||(o.trackingEvents[l]=[]),o.trackingEvents[l]=o.trackingEvents[l].concat(c)}o.type==="linear"&&(s&&(o.videoClickTrackingURLTemplates=o.videoClickTrackingURLTemplates.concat(e.videoClickTrackingURLTemplates)),a&&(o.videoCustomClickURLTemplates=o.videoCustomClickURLTemplates.concat(e.videoCustomClickURLTemplates)),!e.videoClickThroughURLTemplate||o.videoClickThroughURLTemplate!==null&&o.videoClickThroughURLTemplate!==void 0||(o.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate)),o.type==="companion"&&r.length&&(o.variations||[]).forEach(l=>{l.companionClickTrackingURLTemplates=Ot.joinArrayOfUniqueTemplateObjs(l.companionClickTrackingURLTemplates,r)})}),e.adVerifications&&(t.adVerifications=t.adVerifications.concat(e.adVerifications)),e.blockedAdCategories&&(t.blockedAdCategories=t.blockedAdCategories.concat(e.blockedAdCategories)),(n=e.creatives)!==null&&n!==void 0&&n.length){const o=e.creatives.filter(l=>{var c;return((c=l.icons)===null||c===void 0?void 0:c.length)&&!l.mediaFiles.length});o.length&&(t.creatives=t.creatives.concat(o))}}};function B5e(t,e){const n=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:r,adId:s,sequence:a,apiFramework:o}=UT(i);return{id:r,adId:s,sequence:a,apiFramework:o,type:"companion",required:null,variations:[]}}(e);return n.required=t.getAttribute("required")||null,n.variations=ve.childrenByName(t,"Companion").map(i=>{const r=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{id:o.id||null,adType:"companionAd",width:o.width||0,height:o.height||0,assetWidth:o.assetWidth||null,assetHeight:o.assetHeight||null,expandedWidth:o.expandedWidth||null,expandedHeight:o.expandedHeight||null,apiFramework:o.apiFramework||null,adSlotId:o.adSlotId||null,pxratio:o.pxratio||"1",renderingMode:o.renderingMode||"default",staticResources:[],htmlResources:[],iframeResources:[],adParameters:null,altText:null,companionClickThroughURLTemplate:null,companionClickTrackingURLTemplates:[],trackingEvents:{}}}(ve.parseAttributes(i));r.htmlResources=ve.childrenByName(i,"HTMLResource").reduce((o,l)=>{const c=ve.parseNodeText(l);return c?o.concat(c):o},[]),r.iframeResources=ve.childrenByName(i,"IFrameResource").reduce((o,l)=>{const c=ve.parseNodeText(l);return c?o.concat(c):o},[]),r.staticResources=ve.childrenByName(i,"StaticResource").reduce((o,l)=>{const c=ve.parseNodeText(l);return c?o.concat({url:c,creativeType:l.getAttribute("creativeType")||null}):o},[]),r.altText=ve.parseNodeText(ve.childByName(i,"AltText"))||null;const s=ve.childByName(i,"TrackingEvents");s&&ve.childrenByName(s,"Tracking").forEach(o=>{const l=o.getAttribute("event"),c=ve.parseNodeText(o);l&&c&&(Array.isArray(r.trackingEvents[l])||(r.trackingEvents[l]=[]),r.trackingEvents[l].push(c))}),r.companionClickTrackingURLTemplates=ve.childrenByName(i,"CompanionClickTracking").map(o=>({id:o.getAttribute("id")||null,url:ve.parseNodeText(o)})),r.companionClickThroughURLTemplate=ve.parseNodeText(ve.childByName(i,"CompanionClickThrough"))||null;const a=ve.childByName(i,"AdParameters");return a&&(r.adParameters={value:ve.parseNodeText(a),xmlEncoded:a.getAttribute("xmlEncoded")||null}),r}),n}function W5e(t,e){let n;const i=function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:c,adId:u,sequence:d,apiFramework:f}=UT(l);return{id:c,adId:u,sequence:d,apiFramework:f,type:"linear",duration:0,skipDelay:null,mediaFiles:[],mezzanine:null,interactiveCreativeFile:null,closedCaptionFiles:[],videoClickThroughURLTemplate:null,videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[],adParameters:null,icons:[],trackingEvents:{}}}(e);i.duration=ve.parseDuration(ve.parseNodeText(ve.childByName(t,"Duration")));const r=t.getAttribute("skipoffset");if(r==null)i.skipDelay=null;else if(r.charAt(r.length-1)==="%"&&i.duration!==-1){const l=parseInt(r,10);i.skipDelay=i.duration*(l/100)}else i.skipDelay=ve.parseDuration(r);const s=ve.childByName(t,"VideoClicks");if(s){const l=ve.childByName(s,"ClickThrough");i.videoClickThroughURLTemplate=l?{id:l.getAttribute("id")||null,url:ve.parseNodeText(l)}:null,ve.childrenByName(s,"ClickTracking").forEach(c=>{i.videoClickTrackingURLTemplates.push({id:c.getAttribute("id")||null,url:ve.parseNodeText(c)})}),ve.childrenByName(s,"CustomClick").forEach(c=>{i.videoCustomClickURLTemplates.push({id:c.getAttribute("id")||null,url:ve.parseNodeText(c)})})}const a=ve.childByName(t,"AdParameters");a&&(i.adParameters={value:ve.parseNodeText(a),xmlEncoded:a.getAttribute("xmlEncoded")||null}),ve.childrenByName(t,"TrackingEvents").forEach(l=>{ve.childrenByName(l,"Tracking").forEach(c=>{let u=c.getAttribute("event");const d=ve.parseNodeText(c);if(u&&d){if(u==="progress"){if(n=c.getAttribute("offset"),!n)return;u=n.charAt(n.length-1)==="%"?"progress-".concat(n):"progress-".concat(ve.parseDuration(n))}Array.isArray(i.trackingEvents[u])||(i.trackingEvents[u]=[]),i.trackingEvents[u].push(d)}})}),ve.childrenByName(t,"MediaFiles").forEach(l=>{ve.childrenByName(l,"MediaFile").forEach(h=>{i.mediaFiles.push(function(m){const p={id:null,fileURL:null,fileSize:0,deliveryType:"progressive",mimeType:null,mediaType:null,codec:null,bitrate:0,minBitrate:0,maxBitrate:0,width:0,height:0,apiFramework:null,scalable:null,maintainAspectRatio:null};p.id=m.getAttribute("id"),p.fileURL=ve.parseNodeText(m),p.deliveryType=m.getAttribute("delivery"),p.codec=m.getAttribute("codec"),p.mimeType=m.getAttribute("type"),p.mediaType=m.getAttribute("mediaType")||"2D",p.apiFramework=m.getAttribute("apiFramework"),p.fileSize=parseInt(m.getAttribute("fileSize")||0),p.bitrate=parseInt(m.getAttribute("bitrate")||0),p.minBitrate=parseInt(m.getAttribute("minBitrate")||0),p.maxBitrate=parseInt(m.getAttribute("maxBitrate")||0),p.width=parseInt(m.getAttribute("width")||0),p.height=parseInt(m.getAttribute("height")||0);const v=m.getAttribute("scalable");v&&typeof v=="string"&&(p.scalable=ve.parseBoolean(v));const y=m.getAttribute("maintainAspectRatio");return y&&typeof y=="string"&&(p.maintainAspectRatio=ve.parseBoolean(y)),p}(h))});const c=ve.childByName(l,"InteractiveCreativeFile");c&&(i.interactiveCreativeFile=function(h){const m=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{type:p.type||null,apiFramework:p.apiFramework||null,variableDuration:ve.parseBoolean(p.variableDuration),fileURL:null}}(ve.parseAttributes(h));return m.fileURL=ve.parseNodeText(h),m}(c));const u=ve.childByName(l,"ClosedCaptionFiles");u&&ve.childrenByName(u,"ClosedCaptionFile").forEach(h=>{const m=function(){let p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{type:p.type||null,language:p.language||null,fileURL:null}}(ve.parseAttributes(h));m.fileURL=ve.parseNodeText(h),i.closedCaptionFiles.push(m)});const d=ve.childByName(l,"Mezzanine"),f=function(h,m){const p={};let v=!1;return m.forEach(y=>{h&&h.getAttribute(y)?p[y]=h.getAttribute(y):v=!0}),v?null:p}(d,["delivery","type","width","height"]);if(f){const h={id:null,fileURL:null,delivery:null,codec:null,type:null,width:0,height:0,fileSize:0,mediaType:"2D"};h.id=d.getAttribute("id"),h.fileURL=ve.parseNodeText(d),h.delivery=f.delivery,h.codec=d.getAttribute("codec"),h.type=f.type,h.width=parseInt(f.width,10),h.height=parseInt(f.height,10),h.fileSize=parseInt(d.getAttribute("fileSize"),10),h.mediaType=d.getAttribute("mediaType")||"2D",i.mezzanine=h}});const o=ve.childByName(t,"Icons");return o&&ve.childrenByName(o,"Icon").forEach(l=>{i.icons.push(function(c){const u={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,pxratio:"1",iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null,iconClickFallbackImages:[],altText:null,hoverText:null};u.program=c.getAttribute("program"),u.height=parseInt(c.getAttribute("height")||0),u.width=parseInt(c.getAttribute("width")||0),u.xPosition=function(f){return["left","right"].indexOf(f)!==-1?f:parseInt(f||0)}(c.getAttribute("xPosition")),u.yPosition=function(f){return["top","bottom"].indexOf(f)!==-1?f:parseInt(f||0)}(c.getAttribute("yPosition")),u.apiFramework=c.getAttribute("apiFramework"),u.pxratio=c.getAttribute("pxratio")||"1",u.offset=ve.parseDuration(c.getAttribute("offset")),u.duration=ve.parseDuration(c.getAttribute("duration")),u.altText=c.getAttribute("altText"),u.hoverText=c.getAttribute("hoverText"),ve.childrenByName(c,"HTMLResource").forEach(f=>{u.type=f.getAttribute("creativeType")||"text/html",u.htmlResource=ve.parseNodeText(f)}),ve.childrenByName(c,"IFrameResource").forEach(f=>{u.type=f.getAttribute("creativeType")||0,u.iframeResource=ve.parseNodeText(f)}),ve.childrenByName(c,"StaticResource").forEach(f=>{u.type=f.getAttribute("creativeType")||0,u.staticResource=ve.parseNodeText(f)});const d=ve.childByName(c,"IconClicks");if(d){u.iconClickThroughURLTemplate=ve.parseNodeText(ve.childByName(d,"IconClickThrough")),ve.childrenByName(d,"IconClickTracking").forEach(h=>{u.iconClickTrackingURLTemplates.push({id:h.getAttribute("id")||null,url:ve.parseNodeText(h)})});const f=ve.childByName(d,"IconClickFallbackImages");f&&ve.childrenByName(f,"IconClickFallbackImage").forEach(h=>{u.iconClickFallbackImages.push({url:ve.parseNodeText(h)||null,width:h.getAttribute("width")||null,height:h.getAttribute("height")||null})})}return u.iconViewTrackingURLTemplate=ve.parseNodeText(ve.childByName(c,"IconViewTracking")),u}(l))}),i}function G5e(t,e){const n=function(){let i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:r,adId:s,sequence:a,apiFramework:o}=UT(i);return{id:r,adId:s,sequence:a,apiFramework:o,type:"nonlinear",variations:[],trackingEvents:{}}}(e);return ve.childrenByName(t,"TrackingEvents").forEach(i=>{let r,s;ve.childrenByName(i,"Tracking").forEach(a=>{r=a.getAttribute("event"),s=ve.parseNodeText(a),r&&s&&(Array.isArray(n.trackingEvents[r])||(n.trackingEvents[r]=[]),n.trackingEvents[r].push(s))})}),ve.childrenByName(t,"NonLinear").forEach(i=>{const r={id:null,width:0,height:0,expandedWidth:0,expandedHeight:0,scalable:!0,maintainAspectRatio:!0,minSuggestedDuration:0,apiFramework:"static",adType:"nonLinearAd",type:null,staticResource:null,htmlResource:null,iframeResource:null,nonlinearClickThroughURLTemplate:null,nonlinearClickTrackingURLTemplates:[],adParameters:null};r.id=i.getAttribute("id")||null,r.width=i.getAttribute("width"),r.height=i.getAttribute("height"),r.expandedWidth=i.getAttribute("expandedWidth"),r.expandedHeight=i.getAttribute("expandedHeight"),r.scalable=ve.parseBoolean(i.getAttribute("scalable")),r.maintainAspectRatio=ve.parseBoolean(i.getAttribute("maintainAspectRatio")),r.minSuggestedDuration=ve.parseDuration(i.getAttribute("minSuggestedDuration")),r.apiFramework=i.getAttribute("apiFramework"),ve.childrenByName(i,"HTMLResource").forEach(a=>{r.type=a.getAttribute("creativeType")||"text/html",r.htmlResource=ve.parseNodeText(a)}),ve.childrenByName(i,"IFrameResource").forEach(a=>{r.type=a.getAttribute("creativeType")||0,r.iframeResource=ve.parseNodeText(a)}),ve.childrenByName(i,"StaticResource").forEach(a=>{r.type=a.getAttribute("creativeType")||0,r.staticResource=ve.parseNodeText(a)});const s=ve.childByName(i,"AdParameters");s&&(r.adParameters={value:ve.parseNodeText(s),xmlEncoded:s.getAttribute("xmlEncoded")||null}),r.nonlinearClickThroughURLTemplate=ve.parseNodeText(ve.childByName(i,"NonLinearClickThrough")),ve.childrenByName(i,"NonLinearClickTracking").forEach(a=>{r.nonlinearClickTrackingURLTemplates.push({id:a.getAttribute("id")||null,url:ve.parseNodeText(a)})}),n.variations.push(r)}),n}function IN(t){const e=[];return t.forEach(n=>{const i=ND(n);i&&e.push(i)}),e}function ND(t){if(t.nodeName==="#comment")return null;const e={name:null,value:null,attributes:{},children:[]},n=t.attributes,i=t.childNodes;if(e.name=t.nodeName,t.attributes){for(const s in n)if(n.hasOwnProperty(s)){const a=n[s];a.nodeName&&a.nodeValue&&(e.attributes[a.nodeName]=a.nodeValue)}}for(const s in i)if(i.hasOwnProperty(s)){const a=ND(i[s]);a&&e.children.push(a)}if(e.children.length===0||e.children.length===1&&["#cdata-section","#text"].indexOf(e.children[0].name)>=0){const s=ve.parseNodeText(t);s!==""&&(e.value=s),e.children=[]}return(r=e).value===null&&Object.keys(r.attributes).length===0&&r.children.length===0?null:e;var r}function Z5e(t){return t.getAttribute("AdID")||t.getAttribute("adID")||t.getAttribute("adId")||null}const om={Wrapper:{subElements:["VASTAdTagURI","Impression"]},BlockedAdCategories:{attributes:["authority"]},InLine:{subElements:["AdSystem","AdTitle","Impression","AdServingId","Creatives"]},Category:{attributes:["authority"]},Pricing:{attributes:["model","currency"]},Verification:{oneOfinLineResources:["JavaScriptResource","ExecutableResource"],attributes:["vendor"]},UniversalAdId:{attributes:["idRegistry"]},JavaScriptResource:{attributes:["apiFramework","browserOptional"]},ExecutableResource:{attributes:["apiFramework","type"]},Tracking:{attributes:["event"]},Creatives:{subElements:["Creative"]},Creative:{subElements:["UniversalAdId"]},Linear:{subElements:["MediaFiles","Duration"]},MediaFiles:{subElements:["MediaFile"]},MediaFile:{attributes:["delivery","type","width","height"]},Mezzanine:{attributes:["delivery","type","width","height"]},NonLinear:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},Companion:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},StaticResource:{attributes:["creativeType"]},Icons:{subElements:["Icon"]},Icon:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"]}};function wN(t,e){if(!om[t.nodeName]||!om[t.nodeName].attributes)return;const n=om[t.nodeName].attributes.filter(i=>!t.getAttribute(i));n.length>0&&ep({name:t.nodeName,parentName:t.parentNode.nodeName,attributes:n},e)}function xN(t,e,n){const i=om[t.nodeName],r=!n&&t.nodeName!=="Wrapper";if(!(!i||r)){if(i.subElements){const s=i.subElements.filter(a=>!ve.childByName(t,a));s.length>0&&ep({name:t.nodeName,parentName:t.parentNode.nodeName,subElements:s},e)}!n||!i.oneOfinLineResources||i.oneOfinLineResources.some(s=>ve.childByName(t,s))||ep({name:t.nodeName,parentName:t.parentNode.nodeName,oneOfResources:i.oneOfinLineResources},e)}}function VN(t){return t.children&&t.children.length!==0}function ep(t,e){let{name:n,parentName:i,attributes:r,subElements:s,oneOfResources:a}=t,o="Element '".concat(n,"'");o+=r?" missing required attribute(s) '".concat(r.join(", "),"' "):s?" missing required sub element(s) '".concat(s.join(", "),"' "):a?" must provide one of the following '".concat(a.join(", "),"' "):" is empty",e("VAST-warning",{message:o,parentElement:i,specVersion:4.1})}const D5e={verifyRequiredValues:function t(e,n,i){if(e&&e.nodeName)if(e.nodeName==="InLine"&&(i=!0),wN(e,n),VN(e)){xN(e,n,i);for(let r=0;r<e.children.length;r++)t(e.children[r],n,i)}else ve.parseNodeText(e).length===0&&ep({name:e.nodeName,parentName:e.parentNode.nodeName},n)},hasSubElements:VN,emitMissingValueWarning:ep,verifyRequiredAttributes:wN,verifyRequiredSubElements:xN};function O5e(t,e){let{allowMultipleAds:n,followAdditionalWrappers:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Array.from(t.childNodes).filter(s=>{const a=s.nodeName.toLowerCase();return a==="inline"||i!==!1&&a==="wrapper"});for(const s of r){if(ve.copyNodeAttribute("id",t,s),ve.copyNodeAttribute("sequence",t,s),ve.copyNodeAttribute("adType",t,s),s.nodeName==="Wrapper")return{ad:M5e(s,e),type:"WRAPPER"};if(s.nodeName==="InLine")return{ad:X5e(s,e,{allowMultipleAds:n}),type:"INLINE"};const a=s.nodeName.toLowerCase();e("VAST-warning",{message:"<".concat(s.nodeName,a==="inline"?"> must be written <InLine>":"> must be written <Wrapper>"),wrongNode:s})}}function X5e(t,e){let{allowMultipleAds:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n===!1&&t.getAttribute("sequence")?null:_D(t,e)}function _D(t,e){let n=[];e&&D5e.verifyRequiredValues(t,e);const i=Array.from(t.childNodes),r=function(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{id:s.id||null,sequence:s.sequence||null,adType:s.adType||null,adServingId:null,categories:[],expires:null,viewableImpression:[],system:null,title:null,description:null,advertiser:null,pricing:null,survey:null,errorURLTemplates:[],impressionURLTemplates:[],creatives:[],extensions:[],adVerifications:[],blockedAdCategories:[],followAdditionalWrappers:!0,allowMultipleAds:!1,fallbackOnNoAd:null}}(ve.parseAttributes(t));return i.forEach(s=>{switch(s.nodeName){case"Error":r.errorURLTemplates.push(ve.parseNodeText(s));break;case"Impression":r.impressionURLTemplates.push({id:s.getAttribute("id")||null,url:ve.parseNodeText(s)});break;case"Creatives":r.creatives=function(a){const o=[];return a.forEach(l=>{const c={id:l.getAttribute("id")||null,adId:Z5e(l),sequence:l.getAttribute("sequence")||null,apiFramework:l.getAttribute("apiFramework")||null},u=[];let d;ve.childrenByName(l,"UniversalAdId").forEach(h=>{const m={idRegistry:h.getAttribute("idRegistry")||"unknown",value:ve.parseNodeText(h)};u.push(m)});const f=ve.childByName(l,"CreativeExtensions");f&&(d=IN(ve.childrenByName(f,"CreativeExtension")));for(const h in l.childNodes){const m=l.childNodes[h];let p;switch(m.nodeName){case"Linear":p=W5e(m,c);break;case"NonLinearAds":p=G5e(m,c);break;case"CompanionAds":p=B5e(m,c)}p&&(u&&(p.universalAdIds=u),d&&(p.creativeExtensions=d),o.push(p))}}),o}(ve.childrenByName(s,"Creative"));break;case"Extensions":{const a=ve.childrenByName(s,"Extension");r.extensions=IN(a),r.adVerifications.length||(n=function(o){let l=null,c=[];return o.some(u=>l=ve.childByName(u,"AdVerifications")),l&&(c=NN(ve.childrenByName(l,"Verification"))),c}(a));break}case"AdVerifications":r.adVerifications=NN(ve.childrenByName(s,"Verification"));break;case"AdSystem":r.system={value:ve.parseNodeText(s),version:s.getAttribute("version")||null};break;case"AdTitle":r.title=ve.parseNodeText(s);break;case"AdServingId":r.adServingId=ve.parseNodeText(s);break;case"Category":r.categories.push({authority:s.getAttribute("authority")||null,value:ve.parseNodeText(s)});break;case"Expires":r.expires=parseInt(ve.parseNodeText(s),10);break;case"ViewableImpression":r.viewableImpression.push(function(a){const o=(l,c)=>{const u=ve.parseNodeText(c);return u&&l.push(u),l};return{id:a.getAttribute("id")||null,viewable:ve.childrenByName(a,"Viewable").reduce(o,[]),notViewable:ve.childrenByName(a,"NotViewable").reduce(o,[]),viewUndetermined:ve.childrenByName(a,"ViewUndetermined").reduce(o,[])}}(s));break;case"Description":r.description=ve.parseNodeText(s);break;case"Advertiser":r.advertiser={id:s.getAttribute("id")||null,value:ve.parseNodeText(s)};break;case"Pricing":r.pricing={value:ve.parseNodeText(s),model:s.getAttribute("model")||null,currency:s.getAttribute("currency")||null};break;case"Survey":r.survey={value:ve.parseNodeText(s),type:s.getAttribute("type")||null};break;case"BlockedAdCategories":r.blockedAdCategories.push({authority:s.getAttribute("authority")||null,value:ve.parseNodeText(s)})}}),n.length&&(r.adVerifications=r.adVerifications.concat(n)),r}function M5e(t,e){const n=_D(t,e),i=t.getAttribute("followAdditionalWrappers"),r=t.getAttribute("allowMultipleAds"),s=t.getAttribute("fallbackOnNoAd");n.followAdditionalWrappers=!i||ve.parseBoolean(i),n.allowMultipleAds=!!r&&ve.parseBoolean(r),n.fallbackOnNoAd=s?ve.parseBoolean(s):null;let a=ve.childByName(t,"VASTAdTagURI");if(a?n.nextWrapperURL=ve.parseNodeText(a):(a=ve.childByName(t,"VASTAdTagURL"),a&&(n.nextWrapperURL=ve.parseNodeText(ve.childByName(a,"URL")))),n.creatives.forEach(o=>{if(["linear","nonlinear"].includes(o.type)){if(o.trackingEvents){n.trackingEvents||(n.trackingEvents={}),n.trackingEvents[o.type]||(n.trackingEvents[o.type]={});for(const l in o.trackingEvents){const c=o.trackingEvents[l];Array.isArray(n.trackingEvents[o.type][l])||(n.trackingEvents[o.type][l]=[]),c.forEach(u=>{n.trackingEvents[o.type][l].push(u)})}}o.videoClickTrackingURLTemplates&&(Array.isArray(n.videoClickTrackingURLTemplates)||(n.videoClickTrackingURLTemplates=[]),o.videoClickTrackingURLTemplates.forEach(l=>{n.videoClickTrackingURLTemplates.push(l)})),o.videoClickThroughURLTemplate&&(n.videoClickThroughURLTemplate=o.videoClickThroughURLTemplate),o.videoCustomClickURLTemplates&&(Array.isArray(n.videoCustomClickURLTemplates)||(n.videoCustomClickURLTemplates=[]),o.videoCustomClickURLTemplates.forEach(l=>{n.videoCustomClickURLTemplates.push(l)}))}}),n.nextWrapperURL)return n}function NN(t){const e=[];return t.forEach(n=>{const i={resource:null,vendor:null,browserOptional:!1,apiFramework:null,type:null,parameters:null,trackingEvents:{}},r=Array.from(n.childNodes);ve.assignAttributes(n.attributes,i),r.forEach(a=>{let{nodeName:o,textContent:l,attributes:c}=a;switch(o){case"JavaScriptResource":case"ExecutableResource":i.resource=l.trim(),ve.assignAttributes(c,i);break;case"VerificationParameters":i.parameters=l.trim()}});const s=ve.childByName(n,"TrackingEvents");s&&ve.childrenByName(s,"Tracking").forEach(a=>{const o=a.getAttribute("event"),l=ve.parseNodeText(a);o&&l&&(Array.isArray(i.trackingEvents[o])||(i.trackingEvents[o]=[]),i.trackingEvents[o].push(l))}),e.push(i)}),e}let kD=class{constructor(){this._handlers=[]}on(e,n){if(typeof n!="function")throw new TypeError("The handler argument must be of type Function. Received type ".concat(typeof n));if(!e)throw new TypeError("The event argument must be of type String. Received type ".concat(typeof e));return this._handlers.push({event:e,handler:n}),this}once(e,n){return this.on(e,function(i,r,s){const a={fired:!1,wrapFn:void 0};function o(){a.fired||(i.off(r,a.wrapFn),a.fired=!0,s.bind(i)(...arguments))}return a.wrapFn=o,o}(this,e,n))}off(e,n){return this._handlers=this._handlers.filter(i=>i.event!==e||i.handler!==n),this}emit(e){for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];let s=!1;return this._handlers.forEach(a=>{a.event==="*"&&(s=!0,a.handler(e,...i)),a.event===e&&(s=!0,a.handler(...i))}),s}removeAllListeners(e){return e?(this._handlers=this._handlers.filter(n=>n.event!==e),this):(this._handlers=[],this)}listenerCount(e){return this._handlers.filter(n=>n.event===e).length}listeners(e){return this._handlers.reduce((n,i)=>(i.event===e&&n.push(i.handler),n),[])}eventNames(){return this._handlers.map(e=>e.event)}},_N=0,m4=0;const FD=(t,e)=>{!t||!e||t<=0||e<=0||(m4=(m4*_N+8*t/e)/++_N)},P5e={ERRORCODE:900,extensions:[]},kN="VAST response version not supported";let Y5e=class extends kD{constructor(){let{fetcher:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.maxWrapperDepth=null,this.rootErrorURLTemplates=[],this.errorURLTemplates=[],this.remainingAds=[],this.parsingOptions={},this.fetcher=e||null,this.keepFailedAdPod=!1}trackVastError(e,n){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];this.emit("VAST-error",Object.assign({},P5e,n,...r)),Ot.track(e,n)}getErrorURLTemplates(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}getEstimatedBitrate(){return m4}initParsingStatus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.maxWrapperDepth=e.wrapperLimit||10,this.parsingOptions={allowMultipleAds:e.allowMultipleAds},this.keepFailedAdPod=e.keepFailedAdPod||!1,this.rootURL="",this.resetParsingStatus(),FD(e.byteLength,e.requestDuration)}resetParsingStatus(){this.errorURLTemplates=[],this.rootErrorURLTemplates=[],this.vastVersion=null}getRemainingAds(e){if(this.remainingAds.length===0)return Promise.reject(new Error("No more ads are available for the given VAST"));const n=e?this.remainingAds:[this.remainingAds.shift()];return this.errorURLTemplates=[],this.resolveAds(n,{wrapperDepth:0,url:this.rootURL}).then(i=>this.buildVASTResponse(i))}parseVAST(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.initParsingStatus(n),n.isRootVAST=!0,this.parse(e,n).then(i=>this.buildVASTResponse(i))}buildVASTResponse(e){const n=function(i){let{ads:r,errorURLTemplates:s,version:a}=i;return{ads:r||[],errorURLTemplates:s||[],version:a||null}}({ads:e,errorURLTemplates:this.getErrorURLTemplates(),version:this.vastVersion});return this.completeWrapperResolving(n),n}parseVastXml(e,n){let{isRootVAST:i=!1,url:r=null,wrapperDepth:s=0,allowMultipleAds:a,followAdditionalWrappers:o}=n;if(!e||!e.documentElement||e.documentElement.nodeName!=="VAST"){var l;this.emit("VAST-ad-parsed",{type:"ERROR",url:r,wrapperDepth:s});const f=(e==null||(l=e.documentElement)===null||l===void 0?void 0:l.nodeName)==="VideoAdServingTemplate";throw new Error(f?kN:"Invalid VAST XMLDocument")}const c=[],u=e.documentElement.childNodes,d=e.documentElement.getAttribute("version");i&&d&&(this.vastVersion=d);for(const f in u){const h=u[f];if(h.nodeName==="Error"){const m=ve.parseNodeText(h);i?this.rootErrorURLTemplates.push(m):this.errorURLTemplates.push(m)}else if(h.nodeName==="Ad"){if(this.vastVersion&&parseFloat(this.vastVersion)<3)a=!0;else if(a===!1&&c.length>1)break;const m=O5e(h,this.emit.bind(this),{allowMultipleAds:a,followAdditionalWrappers:o});m.ad?(c.push(m.ad),this.emit("VAST-ad-parsed",{type:m.type,url:r,wrapperDepth:s,adIndex:c.length-1,vastVersion:d})):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}return c}parse(e){let{url:n=null,resolveAll:i=!0,wrapperSequence:r=null,previousUrl:s=null,wrapperDepth:a=0,isRootVAST:o=!1,followAdditionalWrappers:l,allowMultipleAds:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=[];this.vastVersion&&parseFloat(this.vastVersion)<3&&o&&(c=!0);try{u=this.parseVastXml(e,{isRootVAST:o,url:n,wrapperDepth:a,allowMultipleAds:c,followAdditionalWrappers:l})}catch(d){return Promise.reject(d)}if(u.length===1&&r!=null&&(u[0].sequence=r),i===!1){const d=ve.getSortedAdPods(u),f=ve.getStandAloneAds(u);d.length?u=d:f.length&&(u=[f.shift()]),this.remainingAds=f}return this.resolveAds(u,{wrapperDepth:a,previousUrl:s,url:n})}resolveAds(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{wrapperDepth:n,previousUrl:i,url:r}=arguments.length>1?arguments[1]:void 0;const s=[];return i=r,e.forEach(a=>{const o=this.resolveWrappers(a,n,i);s.push(o)}),Promise.all(s).then(a=>Ot.flatten(a))}resolveWrappers(e,n,i){const r={...e};return new Promise(s=>{var a;if(n++,!r.nextWrapperURL)return delete r.nextWrapperURL,s(r);if(!this.fetcher)return r.VASTAdTagURI=r.nextWrapperURL,delete r.nextWrapperURL,s(r);if(n>=this.maxWrapperDepth)return r.errorCode=302,delete r.nextWrapperURL,s(r);r.nextWrapperURL=ve.resolveVastAdTagURI(r.nextWrapperURL,i);const o=(a=this.parsingOptions.allowMultipleAds)!==null&&a!==void 0?a:r.allowMultipleAds,l=r.sequence;this.fetcher.fetchVAST({url:r.nextWrapperURL,emitter:this.emit.bind(this),maxWrapperDepth:this.maxWrapperDepth}).then(c=>this.parse(c,{url:r.nextWrapperURL,previousUrl:i,wrapperSequence:l,wrapperDepth:n,followAdditionalWrappers:r.followAdditionalWrappers,allowMultipleAds:o}).then(u=>{if(delete r.nextWrapperURL,u.length===0)return r.creatives=[],s(r);u.forEach(d=>{d&&ve.mergeWrapperAdData(d,r)}),s(u)})).catch(c=>{r.errorCode=c.message===kN?102:301,r.errorMessage=c.message,s(r)})})}completeWrapperResolving(e){if(e.ads.length===0)this.trackVastError(e.errorURLTemplates,{ERRORCODE:303});else for(let n=e.ads.length-1;n>=0;n--){const i=e.ads[n],r=!i.creatives.some(s=>{var a,o;return((a=s.mediaFiles)===null||a===void 0?void 0:a.length)>0||((o=s.variations)===null||o===void 0?void 0:o.length)>0});!i.errorCode&&!r||i.VASTAdTagURI||(this.trackVastError(i.errorURLTemplates.concat(e.errorURLTemplates),{ERRORCODE:i.errorCode||303},{ERRORMESSAGE:i.errorMessage||""},{extensions:i.extensions},{system:i.system}),this.keepFailedAdPod&&i.sequence?i.hasFailed=!0:e.ads.splice(n,1))}}},ha=null;const $5e={data:{},length:0,getItem(t){return this.data[t]},setItem(t,e){this.data[t]=e,this.length=Object.keys(this.data).length},removeItem(t){delete this.data[t],this.length=Object.keys(this.data).length},clear(){this.data={},this.length=0}};let j5e=class{constructor(){this.storage=this.initStorage()}initStorage(){if(ha)return ha;try{ha=typeof window<"u"&&window!==null?window.localStorage||window.sessionStorage:null}catch{ha=null}return ha&&!this.isStorageDisabled(ha)||(ha=$5e,ha.clear()),ha}isStorageDisabled(e){const n="__VASTStorage__";try{if(e.setItem(n,n),e.getItem(n)!==n)return e.removeItem(n),!0}catch{return!0}return e.removeItem(n),!1}getItem(e){return this.storage.getItem(e)}setItem(e,n){return this.storage.setItem(e,n)}removeItem(e){return this.storage.removeItem(e)}clear(){return this.storage.clear()}};const g4=12e4,K5e={get:async function(t,e){try{const n=new AbortController,i=setTimeout(()=>{throw n.abort(),new Error("URLHandler: Request timed out after ".concat(e.timeout||g4," ms (408)"))},e.timeout||g4),r=await fetch(t,{...e,signal:n.signal,credentials:e.withCredentials?"include":"omit"}).finally(()=>{clearTimeout(i)}),s=function(a){return Ot.isBrowserEnvironment()&&window.location.protocol==="https:"&&a.url.includes("http://")?"URLHandler: Cannot go from HTTPS to HTTP.":a.status===200&&a.ok?null:"URLHandler: ".concat(a.statusText," (").concat(a.status,")")}(r);return s?{error:new Error(s),statusCode:r.status}:async function(a){const o=await a.text();let l;return l=Ot.isBrowserEnvironment()?new DOMParser:new(await oT(()=>Promise.resolve().then(()=>CEe),void 0,import.meta.url).then(c=>c.i)).DOMParser,{xml:l.parseFromString(o,"text/xml"),details:{byteLength:o.length,statusCode:a.status,rawXml:o}}}(r)}catch(n){return{error:n,statusCode:n.name==="AbortError"?408:null}}}};let z5e=class{constructor(){this.URLTemplateFilters=[]}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.urlHandler=e.urlHandler||e.urlhandler||K5e,this.fetchingOptions={...e.fetchOptions,timeout:e.timeout||g4,withCredentials:!!e.withCredentials}}addURLTemplateFilter(e){typeof e=="function"&&this.URLTemplateFilters.push(e)}removeLastURLTemplateFilter(){this.URLTemplateFilters.pop()}countURLTemplateFilters(){return this.URLTemplateFilters.length}clearURLTemplateFilters(){this.URLTemplateFilters=[]}async fetchVAST(e){var n;let{url:i,maxWrapperDepth:r,emitter:s,wrapperDepth:a=0,previousUrl:o=null,wrapperAd:l=null}=e;const c=Date.now();this.URLTemplateFilters.forEach(f=>{i=f(i)}),s("VAST-resolving",{url:i,previousUrl:o,wrapperDepth:a,maxWrapperDepth:r,timeout:this.fetchingOptions.timeout,wrapperAd:l});const u=await this.urlHandler.get(i,this.fetchingOptions),d=Math.round(Date.now()-c);if(s("VAST-resolved",{url:i,previousUrl:o,wrapperDepth:a,error:(u==null?void 0:u.error)||null,duration:d,statusCode:(u==null?void 0:u.statusCode)||null,...u==null?void 0:u.details}),FD(u==null||(n=u.details)===null||n===void 0?void 0:n.byteLength,d),u.error)throw new Error(u.error);return u.xml}},LD=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new j5e;this.cappingFreeLunch=e,this.cappingMinimumTimeInterval=n,this.fetcher=new z5e,this.vastParser=new Y5e({fetcher:this.fetcher}),this.storage=i,this.lastSuccessfulAd===void 0&&(this.lastSuccessfulAd=0),this.totalCalls===void 0&&(this.totalCalls=0),this.totalCallsTimeout===void 0&&(this.totalCallsTimeout=0)}addURLTemplateFilter(e){this.fetcher.addURLTemplateFilter(e)}removeLastURLTemplateFilter(){this.fetcher.removeLastURLTemplateFilter()}countURLTemplateFilters(){return this.fetcher.countURLTemplateFilters()}clearURLTemplateFilters(){this.fetcher.clearURLTemplateFilters()}getParser(){return this.vastParser}get lastSuccessfulAd(){return this.storage.getItem("vast-client-last-successful-ad")}set lastSuccessfulAd(e){this.storage.setItem("vast-client-last-successful-ad",e)}get totalCalls(){return this.storage.getItem("vast-client-total-calls")}set totalCalls(e){this.storage.setItem("vast-client-total-calls",e)}get totalCallsTimeout(){return this.storage.getItem("vast-client-total-calls-timeout")}set totalCallsTimeout(e){this.storage.setItem("vast-client-total-calls-timeout",e)}hasRemainingAds(){return this.vastParser.remainingAds.length>0}getNextAds(e){return this.vastParser.getRemainingAds(e)}parseVAST(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.fetcher.setOptions(n),this.vastParser.parseVAST(e,n)}get(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const i=Date.now();return n.hasOwnProperty("resolveAll")||(n.resolveAll=!1),this.totalCallsTimeout<i?(this.totalCalls=1,this.totalCallsTimeout=i+36e5):this.totalCalls++,new Promise((r,s)=>{if(this.cappingFreeLunch>=this.totalCalls)return s(new Error("VAST call canceled  FreeLunch capping not reached yet ".concat(this.totalCalls,"/").concat(this.cappingFreeLunch)));const a=i-this.lastSuccessfulAd;if(a<0)this.lastSuccessfulAd=0;else if(a<this.cappingMinimumTimeInterval)return s(new Error("VAST call canceled  (".concat(this.cappingMinimumTimeInterval,")ms minimum interval reached")));this.vastParser.initParsingStatus(n),this.fetcher.setOptions(n),this.vastParser.rootURL=e,this.fetcher.fetchVAST({url:e,emitter:this.vastParser.emit.bind(this.vastParser),maxWrapperDepth:this.vastParser.maxWrapperDepth}).then(o=>(n.previousUrl=e,n.isRootVAST=!0,n.url=e,this.vastParser.parse(o,n).then(l=>{const c=this.vastParser.buildVASTResponse(l);r(c)}))).catch(o=>s(o))})}},J5e=class extends kD{constructor(e,n,i){var r;let s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0&&arguments[4];super(),this.ad=n,this.creative=i,this.variation=s,this.muted=a,this.impressed=!1,this.skippable=!1,this.trackingEvents={},this.trackedProgressEvents=[],this.lastPercentage=0,this._alreadyTriggeredQuartiles={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"];for(const o in this.creative.trackingEvents){const l=this.creative.trackingEvents[o];this.trackingEvents[o]=l.slice(0)}this.viewableImpressionTrackers=((r=this.ad.viewableImpression)===null||r===void 0?void 0:r.reduce((o,l)=>(o.notViewable.push(...l.notViewable),o.viewUndetermined.push(...l.viewUndetermined),o.viewable.push(...l.viewable),o),{notViewable:[],viewUndetermined:[],viewable:[]}))||{},Object.entries(this.viewableImpressionTrackers).forEach(o=>{let[l,c]=o;c.length&&(this.trackingEvents[l]=c)}),function(o){return o.type==="linear"}(this.creative)?this._initLinearTracking():this._initVariationTracking(),e&&this.on("start",()=>{e.lastSuccessfulAd=Date.now()})}_initLinearTracking(){this.linear=!0,this.skipDelay=this.creative.skipDelay,this.setDuration(this.creative.duration),this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates}_initVariationTracking(){if(this.linear=!1,this.skipDelay=-1,this.variation){for(const e in this.variation.trackingEvents){const n=this.variation.trackingEvents[e];this.trackingEvents[e]?this.trackingEvents[e]=this.trackingEvents[e].concat(n.slice(0)):this.trackingEvents[e]=n.slice(0)}this.variation.adType==="nonLinearAd"?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates,this.setDuration(this.variation.minSuggestedDuration)):function(e){return e.adType==="companionAd"}(this.variation)&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates)}}setDuration(e){Ot.isValidTimeValue(e)?(this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}):this.emit("TRACKER-error",{message:"the duration provided is not valid. duration: ".concat(e)})}setProgress(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(!Ot.isValidTimeValue(e)||typeof n!="object")return void this.emit("TRACKER-error",{message:"One given setProgress parameter has the wrong type. progress: ".concat(e,", macros: ").concat(Ot.formatMacrosValues(n))});const r=this.skipDelay||-1;if(r===-1||this.skippable||(r>e?this.emit("skip-countdown",r-e):(this.skippable=!0,this.emit("skip-countdown",0))),this.assetDuration>0){const s=Math.round(e/this.assetDuration*100),a=[];if(e>0){a.push("start");for(let o=this.lastPercentage;o<s;o++)a.push("progress-".concat(o+1,"%"));a.push("progress-".concat(e));for(const o in this.quartiles)this.isQuartileReached(o,this.quartiles[o],e)&&(a.push(o),this._alreadyTriggeredQuartiles[o]=!0);this.lastPercentage=s}a.forEach(o=>{this.track(o,{macros:n,once:i})}),e<this.progress&&(this.track("rewind",{macros:n}),this.trackedProgressEvents&&this.trackedProgressEvents.splice(0))}this.progress=e}isQuartileReached(e,n,i){let r=!1;return n<=i&&!this._alreadyTriggeredQuartiles[e]&&(r=!0),r}setMuted(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="boolean"&&typeof n=="object"?(this.muted!==e&&this.track(e?"mute":"unmute",{macros:n}),this.muted=e):this.emit("TRACKER-error",{message:"One given setMuted parameter has the wrong type. muted: ".concat(e,", macros: ").concat(Ot.formatMacrosValues(n))})}setPaused(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="boolean"&&typeof n=="object"?(this.paused!==e&&this.track(e?"pause":"resume",{macros:n}),this.paused=e):this.emit("TRACKER-error",{message:"One given setPaused parameter has the wrong type. paused: ".concat(e,", macros: ").concat(Ot.formatMacrosValues(n))})}setFullscreen(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="boolean"&&typeof n=="object"?(this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen",{macros:n}),this.fullscreen=e):this.emit("TRACKER-error",{message:"One given setFullScreen parameter has the wrong type. fullscreen: ".concat(e,", macros: ").concat(Ot.formatMacrosValues(n))})}setExpand(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="boolean"&&typeof n=="object"?(this.expanded!==e&&(this.track(e?"expand":"collapse",{macros:n}),this.track(e?"playerExpand":"playerCollapse",{macros:n})),this.expanded=e):this.emit("TRACKER-error",{message:"One given setExpand parameter has the wrong type. expanded: ".concat(e,", macros: ").concat(Ot.formatMacrosValues(n))})}setSkipDelay(e){Ot.isValidTimeValue(e)?this.skipDelay=e:this.emit("TRACKER-error",{message:"setSkipDelay parameter does not have a valid value. duration: ".concat(e)})}trackImpression(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.impressed||(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates,e),this.track("creativeView",{macros:e})):this.emit("TRACKER-error",{message:"trackImpression parameter has the wrong type. macros: ".concat(e)})}trackViewableImpression(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];typeof e=="object"?this.track("viewable",{macros:e,once:n}):this.emit("TRACKER-error",{message:"trackViewableImpression given macros has the wrong type. macros: ".concat(e)})}trackNotViewableImpression(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];typeof e=="object"?this.track("notViewable",{macros:e,once:n}):this.emit("TRACKER-error",{message:"trackNotViewableImpression given macros has the wrong type. macros: ".concat(e)})}trackUndeterminedImpression(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];typeof e=="object"?this.track("viewUndetermined",{macros:e,once:n}):this.emit("TRACKER-error",{message:"trackUndeterminedImpression given macros has the wrong type. macros: ".concat(e)})}error(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];typeof e=="object"&&typeof n=="boolean"?this.trackURLs(this.ad.errorURLTemplates,e,{isCustomCode:n}):this.emit("TRACKER-error",{message:"One given error parameter has the wrong type. macros: ".concat(Ot.formatMacrosValues(e),", isCustomCode: ").concat(n)})}errorWithCode(e){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];typeof e=="string"&&typeof n=="boolean"?(this.error({ERRORCODE:e},n),console.log("The method errorWithCode is deprecated, please use vast tracker error method instead")):this.emit("TRACKER-error",{message:"One given errorWithCode parameter has the wrong type. errorCode: ".concat(e,", isCustomCode: ").concat(n)})}complete(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("complete",{macros:e}):this.emit("TRACKER-error",{message:"complete given macros has the wrong type. macros: ".concat(e)})}notUsed(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?(this.track("notUsed",{macros:e}),this.trackingEvents=[]):this.emit("TRACKER-error",{message:"notUsed given macros has the wrong type. macros: ".concat(e)})}otherAdInteraction(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("otherAdInteraction",{macros:e}):this.emit("TRACKER-error",{message:"otherAdInteraction given macros has the wrong type. macros: ".concat(e)})}acceptInvitation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("acceptInvitation",{macros:e}):this.emit("TRACKER-error",{message:"acceptInvitation given macros has the wrong type. macros: ".concat(e)})}adExpand(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("adExpand",{macros:e}):this.emit("TRACKER-error",{message:"adExpand given macros has the wrong type. macros: ".concat(e)})}adCollapse(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("adCollapse",{macros:e}):this.emit("TRACKER-error",{message:"adCollapse given macros has the wrong type. macros: ".concat(e)})}minimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("minimize",{macros:e}):this.emit("TRACKER-error",{message:"minimize given macros has the wrong type. macros: ".concat(e)})}verificationNotExecuted(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e!="string"||typeof n!="object")return void this.emit("TRACKER-error",{message:"One given verificationNotExecuted parameter has to wrong type. vendor: ".concat(e,", macros: ").concat(Ot.formatMacrosValues(n))});if(!this.ad||!this.ad.adVerifications||!this.ad.adVerifications.length)throw new Error("No adVerifications provided");if(!e)throw new Error("No vendor provided, unable to find associated verificationNotExecuted");const i=this.ad.adVerifications.find(s=>s.vendor===e);if(!i)throw new Error("No associated verification element found for vendor: ".concat(e));const r=i.trackingEvents;if(r&&r.verificationNotExecuted){const s=r.verificationNotExecuted;this.trackURLs(s,n),this.emit("verificationNotExecuted",{trackingURLTemplates:s})}}overlayViewDuration(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="string"&&typeof n=="object"?(n.ADPLAYHEAD=e,this.track("overlayViewDuration",{macros:n})):this.emit("TRACKER-error",{message:"One given overlayViewDuration parameters has the wrong type. formattedDuration: ".concat(e,", macros: ").concat(Ot.formatMacrosValues(n))})}close(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track(this.linear?"closeLinear":"close",{macros:e}):this.emit("TRACKER-error",{message:"close given macros has the wrong type. macros: ".concat(e)})}skip(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("skip",{macros:e}):this.emit("TRACKER-error",{message:"skip given macros has the wrong type. macros: ".concat(e)})}load(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("loaded",{macros:e}):this.emit("TRACKER-error",{message:"load given macros has the wrong type. macros: ".concat(e)})}click(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==null&&typeof e!="string"||typeof n!="object")return void this.emit("TRACKER-error",{message:"One given click parameter has the wrong type. fallbackClickThroughURL: ".concat(e,", macros: ").concat(Ot.formatMacrosValues(n))});this.clickTrackingURLTemplates&&this.clickTrackingURLTemplates.length&&this.trackURLs(this.clickTrackingURLTemplates,n);const i=this.clickThroughURLTemplate||e,r={...n};if(i){this.progress&&(r.ADPLAYHEAD=this.progressFormatted());const s=Ot.resolveURLTemplates([i],r)[0];this.emit("clickthrough",s)}}trackProgressEvents(e,n,i){const r=parseFloat(e.split("-")[1]);Object.entries(this.trackingEvents).filter(s=>{let[a]=s;return a.startsWith("progress-")}).map(s=>{let[a,o]=s;return{name:a,time:parseFloat(a.split("-")[1]),urls:o}}).filter(s=>{let{time:a}=s;return a<=r&&a>this.progress}).forEach(s=>{let{name:a,urls:o}=s;!i&&this.trackedProgressEvents.includes(a)||(this.emit(a,{trackingURLTemplates:o}),this.trackURLs(o,n),i?delete this.trackingEvents[a]:this.trackedProgressEvents.push(a))})}track(e){let{macros:n={},once:i=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof n!="object")return void this.emit("TRACKER-error",{message:"track given macros has the wrong type. macros: ".concat(n)});e==="closeLinear"&&!this.trackingEvents[e]&&this.trackingEvents.close&&(e="close"),e.startsWith("progress-")&&!e.endsWith("%")&&this.trackProgressEvents(e,n,i);const r=this.trackingEvents[e],s=this.emitAlwaysEvents.indexOf(e)>-1;r?(this.emit(e,{trackingURLTemplates:r}),this.trackURLs(r,n)):s&&this.emit(e,null),i&&(delete this.trackingEvents[e],s&&this.emitAlwaysEvents.splice(this.emitAlwaysEvents.indexOf(e),1))}trackURLs(e){var n;let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{validUrls:s,invalidUrls:a}=Ot.filterUrlTemplates(e);a.length&&this.emit("TRACKER-error",{message:"Provided urls are malformed. url: ".concat(a)});const o={...i};this.linear&&(this.creative&&this.creative.mediaFiles&&this.creative.mediaFiles[0]&&this.creative.mediaFiles[0].fileURL&&(o.ASSETURI=this.creative.mediaFiles[0].fileURL),this.progress&&(o.ADPLAYHEAD=this.progressFormatted())),(n=this.creative)!==null&&n!==void 0&&(n=n.universalAdIds)!==null&&n!==void 0&&n.length&&(o.UNIVERSALADID=this.creative.universalAdIds.map(l=>l.idRegistry.concat(" ",l.value)).join(",")),this.ad&&(this.ad.sequence&&(o.PODSEQUENCE=this.ad.sequence),this.ad.adType&&(o.ADTYPE=this.ad.adType),this.ad.adServingId&&(o.ADSERVINGID=this.ad.adServingId),this.ad.categories&&this.ad.categories.length&&(o.ADCATEGORIES=this.ad.categories.map(l=>l.value).join(",")),this.ad.blockedAdCategories&&this.ad.blockedAdCategories.length&&(o.BLOCKEDADCATEGORIES=this.ad.blockedAdCategories.map(l=>l.value).join(","))),Ot.track(s,o,r)}convertToTimecode(e){if(!Ot.isValidTimeValue(e))return"";const n=1e3*e,i=Math.floor(n/36e5),r=Math.floor(n/6e4%60),s=Math.floor(n/1e3%60),a=Math.floor(n%1e3);return"".concat(Ot.addLeadingZeros(i,2),":").concat(Ot.addLeadingZeros(r,2),":").concat(Ot.addLeadingZeros(s,2),".").concat(Ot.addLeadingZeros(a,3))}progressFormatted(){return this.convertToTimecode(this.progress)}};var sl={},uo={};function H5e(t,e,n){if(n===void 0&&(n=Array.prototype),t&&typeof n.find=="function")return n.find.call(t,e);for(var i=0;i<t.length;i++)if(Object.prototype.hasOwnProperty.call(t,i)){var r=t[i];if(e.call(void 0,r,i,t))return r}}function BT(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function Q5e(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}var UD=BT({HTML:"text/html",isHTML:function(t){return t===UD.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),BD=BT({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===BD.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});uo.assign=Q5e;uo.find=H5e;uo.freeze=BT;uo.MIME_TYPE=UD;uo.NAMESPACE=BD;var WD=uo,Qs=WD.find,tp=WD.NAMESPACE;function q5e(t){return t!==""}function eEe(t){return t?t.split(/[\t\n\f\r ]+/).filter(q5e):[]}function tEe(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function FN(t){if(!t)return[];var e=eEe(t);return Object.keys(e.reduce(tEe,{}))}function nEe(t){return function(e){return t&&t.indexOf(e)!==-1}}function Mp(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function sr(t,e){var n=t.prototype;if(!(n instanceof e)){let i=function(){};i.prototype=e.prototype,i=new i,Mp(n,i),t.prototype=n=i}n.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),n.constructor=t)}var ar={},Gr=ar.ELEMENT_NODE=1,gd=ar.ATTRIBUTE_NODE=2,Sg=ar.TEXT_NODE=3,GD=ar.CDATA_SECTION_NODE=4,ZD=ar.ENTITY_REFERENCE_NODE=5,iEe=ar.ENTITY_NODE=6,DD=ar.PROCESSING_INSTRUCTION_NODE=7,OD=ar.COMMENT_NODE=8,XD=ar.DOCUMENT_NODE=9,MD=ar.DOCUMENT_TYPE_NODE=10,eo=ar.DOCUMENT_FRAGMENT_NODE=11,rEe=ar.NOTATION_NODE=12,Ii={},ni={};Ii.INDEX_SIZE_ERR=(ni[1]="Index size error",1);Ii.DOMSTRING_SIZE_ERR=(ni[2]="DOMString size error",2);var ji=Ii.HIERARCHY_REQUEST_ERR=(ni[3]="Hierarchy request error",3);Ii.WRONG_DOCUMENT_ERR=(ni[4]="Wrong document",4);Ii.INVALID_CHARACTER_ERR=(ni[5]="Invalid character",5);Ii.NO_DATA_ALLOWED_ERR=(ni[6]="No data allowed",6);Ii.NO_MODIFICATION_ALLOWED_ERR=(ni[7]="No modification allowed",7);var PD=Ii.NOT_FOUND_ERR=(ni[8]="Not found",8);Ii.NOT_SUPPORTED_ERR=(ni[9]="Not supported",9);var LN=Ii.INUSE_ATTRIBUTE_ERR=(ni[10]="Attribute in use",10);Ii.INVALID_STATE_ERR=(ni[11]="Invalid state",11);Ii.SYNTAX_ERR=(ni[12]="Syntax error",12);Ii.INVALID_MODIFICATION_ERR=(ni[13]="Invalid modification",13);Ii.NAMESPACE_ERR=(ni[14]="Invalid namespace",14);Ii.INVALID_ACCESS_ERR=(ni[15]="Invalid access",15);function wn(t,e){if(e instanceof Error)var n=e;else n=this,Error.call(this,ni[t]),this.message=ni[t],Error.captureStackTrace&&Error.captureStackTrace(this,wn);return n.code=t,e&&(this.message=this.message+": "+e),n}wn.prototype=Error.prototype;Mp(Ii,wn);function $a(){}$a.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var n=[],i=0;i<this.length;i++)bu(this[i],n,t,e);return n.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function yd(t,e){this._node=t,this._refresh=e,WT(this)}function WT(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var n=t._refresh(t._node);if(nO(t,"length",n.length),!t.$$length||n.length<t.$$length)for(var i=n.length;i in t;i++)Object.prototype.hasOwnProperty.call(t,i)&&delete t[i];Mp(n,t),t._inc=e}}yd.prototype.item=function(t){return WT(this),this[t]||null};sr(yd,$a);function Tg(){}function YD(t,e){for(var n=t.length;n--;)if(t[n]===e)return n}function UN(t,e,n,i){if(i?e[YD(e,i)]=n:e[e.length++]=n,t){n.ownerElement=t;var r=t.ownerDocument;r&&(i&&KD(r,t,i),sEe(r,t,n))}}function BN(t,e,n){var i=YD(e,n);if(i>=0){for(var r=e.length-1;i<r;)e[i]=e[++i];if(e.length=r,t){var s=t.ownerDocument;s&&(KD(s,t,n),n.ownerElement=null)}}else throw new wn(PD,new Error(t.tagName+"@"+n))}Tg.prototype={length:0,item:$a.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var n=this[e];if(n.nodeName==t)return n}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new wn(LN);var n=this.getNamedItem(t.nodeName);return UN(this._ownerElement,this,t,n),n},setNamedItemNS:function(t){var e=t.ownerElement,n;if(e&&e!=this._ownerElement)throw new wn(LN);return n=this.getNamedItemNS(t.namespaceURI,t.localName),UN(this._ownerElement,this,t,n),n},removeNamedItem:function(t){var e=this.getNamedItem(t);return BN(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var n=this.getNamedItemNS(t,e);return BN(this._ownerElement,this,n),n},getNamedItemNS:function(t,e){for(var n=this.length;n--;){var i=this[n];if(i.localName==e&&i.namespaceURI==t)return i}return null}};function $D(){}$D.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,n){var i=new Pp;if(i.implementation=this,i.childNodes=new $a,i.doctype=n||null,n&&i.appendChild(n),e){var r=i.createElementNS(t,e);i.appendChild(r)}return i},createDocumentType:function(t,e,n){var i=new ey;return i.name=t,i.nodeName=t,i.publicId=e||"",i.systemId=n||"",i}};function Lt(){}Lt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return Rg(this,t,e)},replaceChild:function(t,e){Rg(this,t,e,JD),e&&this.removeChild(e)},removeChild:function(t){return zD(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return y4(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==Sg&&t.nodeType==Sg?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var n=e._nsMap;if(n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)&&n[i]===t)return i}e=e.nodeType==gd?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var n=e._nsMap;if(n&&Object.prototype.hasOwnProperty.call(n,t))return n[t];e=e.nodeType==gd?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function jD(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}Mp(ar,Lt);Mp(ar,Lt.prototype);function np(t,e){if(e(t))return!0;if(t=t.firstChild)do if(np(t,e))return!0;while(t=t.nextSibling)}function Pp(){this.ownerDocument=this}function sEe(t,e,n){t&&t._inc++;var i=n.namespaceURI;i===tp.XMLNS&&(e._nsMap[n.prefix?n.localName:""]=n.value)}function KD(t,e,n,i){t&&t._inc++;var r=n.namespaceURI;r===tp.XMLNS&&delete e._nsMap[n.prefix?n.localName:""]}function GT(t,e,n){if(t&&t._inc){t._inc++;var i=e.childNodes;if(n)i[i.length++]=n;else{for(var r=e.firstChild,s=0;r;)i[s++]=r,r=r.nextSibling;i.length=s,delete i[i.length]}}}function zD(t,e){var n=e.previousSibling,i=e.nextSibling;return n?n.nextSibling=i:t.firstChild=i,i?i.previousSibling=n:t.lastChild=n,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,GT(t.ownerDocument,t),e}function aEe(t){return t&&(t.nodeType===Lt.DOCUMENT_NODE||t.nodeType===Lt.DOCUMENT_FRAGMENT_NODE||t.nodeType===Lt.ELEMENT_NODE)}function oEe(t){return t&&(qs(t)||ZT(t)||to(t)||t.nodeType===Lt.DOCUMENT_FRAGMENT_NODE||t.nodeType===Lt.COMMENT_NODE||t.nodeType===Lt.PROCESSING_INSTRUCTION_NODE)}function to(t){return t&&t.nodeType===Lt.DOCUMENT_TYPE_NODE}function qs(t){return t&&t.nodeType===Lt.ELEMENT_NODE}function ZT(t){return t&&t.nodeType===Lt.TEXT_NODE}function WN(t,e){var n=t.childNodes||[];if(Qs(n,qs)||to(e))return!1;var i=Qs(n,to);return!(e&&i&&n.indexOf(i)>n.indexOf(e))}function GN(t,e){var n=t.childNodes||[];function i(s){return qs(s)&&s!==e}if(Qs(n,i))return!1;var r=Qs(n,to);return!(e&&r&&n.indexOf(r)>n.indexOf(e))}function lEe(t,e,n){if(!aEe(t))throw new wn(ji,"Unexpected parent node type "+t.nodeType);if(n&&n.parentNode!==t)throw new wn(PD,"child not in parent");if(!oEe(e)||to(e)&&t.nodeType!==Lt.DOCUMENT_NODE)throw new wn(ji,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function cEe(t,e,n){var i=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===Lt.DOCUMENT_FRAGMENT_NODE){var s=r.filter(qs);if(s.length>1||Qs(r,ZT))throw new wn(ji,"More than one element or text in fragment");if(s.length===1&&!WN(t,n))throw new wn(ji,"Element in fragment can not be inserted before doctype")}if(qs(e)&&!WN(t,n))throw new wn(ji,"Only one element can be added and only after doctype");if(to(e)){if(Qs(i,to))throw new wn(ji,"Only one doctype is allowed");var a=Qs(i,qs);if(n&&i.indexOf(a)<i.indexOf(n))throw new wn(ji,"Doctype can only be inserted before an element");if(!n&&a)throw new wn(ji,"Doctype can not be appended since element is present")}}function JD(t,e,n){var i=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===Lt.DOCUMENT_FRAGMENT_NODE){var s=r.filter(qs);if(s.length>1||Qs(r,ZT))throw new wn(ji,"More than one element or text in fragment");if(s.length===1&&!GN(t,n))throw new wn(ji,"Element in fragment can not be inserted before doctype")}if(qs(e)&&!GN(t,n))throw new wn(ji,"Only one element can be added and only after doctype");if(to(e)){if(Qs(i,function(o){return to(o)&&o!==n}))throw new wn(ji,"Only one doctype is allowed");var a=Qs(i,qs);if(n&&i.indexOf(a)<i.indexOf(n))throw new wn(ji,"Doctype can only be inserted before an element")}}function Rg(t,e,n,i){lEe(t,e,n),t.nodeType===Lt.DOCUMENT_NODE&&(i||cEe)(t,e,n);var r=e.parentNode;if(r&&r.removeChild(e),e.nodeType===eo){var s=e.firstChild;if(s==null)return e;var a=e.lastChild}else s=a=e;var o=n?n.previousSibling:t.lastChild;s.previousSibling=o,a.nextSibling=n,o?o.nextSibling=s:t.firstChild=s,n==null?t.lastChild=a:n.previousSibling=a;do{s.parentNode=t;var l=t.ownerDocument||t;ip(s,l)}while(s!==a&&(s=s.nextSibling));return GT(t.ownerDocument||t,t),e.nodeType==eo&&(e.firstChild=e.lastChild=null),e}function ip(t,e){if(t.ownerDocument!==e){if(t.ownerDocument=e,t.nodeType===Gr&&t.attributes)for(var n=0;n<t.attributes.length;n++){var i=t.attributes.item(n);i&&(i.ownerDocument=e)}for(var r=t.firstChild;r;)ip(r,e),r=r.nextSibling}}function uEe(t,e){e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,GT(t.ownerDocument,t,e);var n=t.ownerDocument||t;return ip(e,n),e}Pp.prototype={nodeName:"#document",nodeType:XD,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==eo){for(var n=t.firstChild;n;){var i=n.nextSibling;this.insertBefore(n,e),n=i}return t}return Rg(this,t,e),ip(t,this),this.documentElement===null&&t.nodeType===Gr&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),zD(this,t)},replaceChild:function(t,e){Rg(this,t,e,JD),ip(t,this),e&&this.removeChild(e),qs(t)&&(this.documentElement=t)},importNode:function(t,e){return tO(this,t,e)},getElementById:function(t){var e=null;return np(this.documentElement,function(n){if(n.nodeType==Gr&&n.getAttribute("id")==t)return e=n,!0}),e},getElementsByClassName:function(t){var e=FN(t);return new yd(this,function(n){var i=[];return e.length>0&&np(n.documentElement,function(r){if(r!==n&&r.nodeType===Gr){var s=r.getAttribute("class");if(s){var a=t===s;if(!a){var o=FN(s);a=e.every(nEe(o))}a&&i.push(r)}}}),i})},createElement:function(t){var e=new dc;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new $a;var n=e.attributes=new Tg;return n._ownerElement=e,e},createDocumentFragment:function(){var t=new ty;return t.ownerDocument=this,t.childNodes=new $a,t},createTextNode:function(t){var e=new DT;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new OT;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new XT;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var n=new PT;return n.ownerDocument=this,n.tagName=n.nodeName=n.target=t,n.nodeValue=n.data=e,n},createAttribute:function(t){var e=new Cg;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new MT;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var n=new dc,i=e.split(":"),r=n.attributes=new Tg;return n.childNodes=new $a,n.ownerDocument=this,n.nodeName=e,n.tagName=e,n.namespaceURI=t,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,r._ownerElement=n,n},createAttributeNS:function(t,e){var n=new Cg,i=e.split(":");return n.ownerDocument=this,n.nodeName=e,n.name=e,n.namespaceURI=t,n.specified=!0,i.length==2?(n.prefix=i[0],n.localName=i[1]):n.localName=e,n}};sr(Pp,Lt);function dc(){this._nsMap={}}dc.prototype={nodeType:Gr,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var n=this.ownerDocument.createAttribute(t);n.value=n.nodeValue=""+e,this.setAttributeNode(n)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===eo?this.insertBefore(t,null):uEe(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);n&&this.removeAttributeNode(n)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var n=this.getAttributeNodeNS(t,e);return n&&n.value||""},setAttributeNS:function(t,e,n){var i=this.ownerDocument.createAttributeNS(t,e);i.value=i.nodeValue=""+n,this.setAttributeNode(i)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new yd(this,function(e){var n=[];return np(e,function(i){i!==e&&i.nodeType==Gr&&(t==="*"||i.tagName==t)&&n.push(i)}),n})},getElementsByTagNameNS:function(t,e){return new yd(this,function(n){var i=[];return np(n,function(r){r!==n&&r.nodeType===Gr&&(t==="*"||r.namespaceURI===t)&&(e==="*"||r.localName==e)&&i.push(r)}),i})}};Pp.prototype.getElementsByTagName=dc.prototype.getElementsByTagName;Pp.prototype.getElementsByTagNameNS=dc.prototype.getElementsByTagNameNS;sr(dc,Lt);function Cg(){}Cg.prototype.nodeType=gd;sr(Cg,Lt);function Yp(){}Yp.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(ni[ji])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,n){var i=this.data.substring(0,t),r=this.data.substring(t+e);n=i+n+r,this.nodeValue=this.data=n,this.length=n.length}};sr(Yp,Lt);function DT(){}DT.prototype={nodeName:"#text",nodeType:Sg,splitText:function(t){var e=this.data,n=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var i=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(i,this.nextSibling),i}};sr(DT,Yp);function OT(){}OT.prototype={nodeName:"#comment",nodeType:OD};sr(OT,Yp);function XT(){}XT.prototype={nodeName:"#cdata-section",nodeType:GD};sr(XT,Yp);function ey(){}ey.prototype.nodeType=MD;sr(ey,Lt);function HD(){}HD.prototype.nodeType=rEe;sr(HD,Lt);function QD(){}QD.prototype.nodeType=iEe;sr(QD,Lt);function MT(){}MT.prototype.nodeType=ZD;sr(MT,Lt);function ty(){}ty.prototype.nodeName="#document-fragment";ty.prototype.nodeType=eo;sr(ty,Lt);function PT(){}PT.prototype.nodeType=DD;sr(PT,Lt);function qD(){}qD.prototype.serializeToString=function(t,e,n){return eO.call(t,e,n)};Lt.prototype.toString=eO;function eO(t,e){var n=[],i=this.nodeType==9&&this.documentElement||this,r=i.prefix,s=i.namespaceURI;if(s&&r==null){var r=i.lookupPrefix(s);if(r==null)var a=[{namespace:s,prefix:null}]}return bu(this,n,t,e,a),n.join("")}function ZN(t,e,n){var i=t.prefix||"",r=t.namespaceURI;if(!r||i==="xml"&&r===tp.XML||r===tp.XMLNS)return!1;for(var s=n.length;s--;){var a=n[s];if(a.prefix===i)return a.namespace!==r}return!0}function V5(t,e,n){t.push(" ",e,'="',n.replace(/[<>&"\t\n\r]/g,jD),'"')}function bu(t,e,n,i,r){if(r||(r=[]),i)if(t=i(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Gr:var s=t.attributes,a=s.length,o=t.firstChild,l=t.tagName;n=tp.isHTML(t.namespaceURI)||n;var c=l;if(!n&&!t.prefix&&t.namespaceURI){for(var u,d=0;d<s.length;d++)if(s.item(d).name==="xmlns"){u=s.item(d).value;break}if(!u)for(var f=r.length-1;f>=0;f--){var h=r[f];if(h.prefix===""&&h.namespace===t.namespaceURI){u=h.namespace;break}}if(u!==t.namespaceURI)for(var f=r.length-1;f>=0;f--){var h=r[f];if(h.namespace===t.namespaceURI){h.prefix&&(c=h.prefix+":"+l);break}}}e.push("<",c);for(var m=0;m<a;m++){var p=s.item(m);p.prefix=="xmlns"?r.push({prefix:p.localName,namespace:p.value}):p.nodeName=="xmlns"&&r.push({prefix:"",namespace:p.value})}for(var m=0;m<a;m++){var p=s.item(m);if(ZN(p,n,r)){var v=p.prefix||"",y=p.namespaceURI;V5(e,v?"xmlns:"+v:"xmlns",y),r.push({prefix:v,namespace:y})}bu(p,e,n,i,r)}if(l===c&&ZN(t,n,r)){var v=t.prefix||"",y=t.namespaceURI;V5(e,v?"xmlns:"+v:"xmlns",y),r.push({prefix:v,namespace:y})}if(o||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(l)){if(e.push(">"),n&&/^script$/i.test(l))for(;o;)o.data?e.push(o.data):bu(o,e,n,i,r.slice()),o=o.nextSibling;else for(;o;)bu(o,e,n,i,r.slice()),o=o.nextSibling;e.push("</",c,">")}else e.push("/>");return;case XD:case eo:for(var o=t.firstChild;o;)bu(o,e,n,i,r.slice()),o=o.nextSibling;return;case gd:return V5(e,t.name,t.value);case Sg:return e.push(t.data.replace(/[<&>]/g,jD));case GD:return e.push("<![CDATA[",t.data,"]]>");case OD:return e.push("<!--",t.data,"-->");case MD:var E=t.publicId,S=t.systemId;if(e.push("<!DOCTYPE ",t.name),E)e.push(" PUBLIC ",E),S&&S!="."&&e.push(" ",S),e.push(">");else if(S&&S!=".")e.push(" SYSTEM ",S,">");else{var I=t.internalSubset;I&&e.push(" [",I,"]"),e.push(">")}return;case DD:return e.push("<?",t.target," ",t.data,"?>");case ZD:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function tO(t,e,n){var i;switch(e.nodeType){case Gr:i=e.cloneNode(!1),i.ownerDocument=t;case eo:break;case gd:n=!0;break}if(i||(i=e.cloneNode(!1)),i.ownerDocument=t,i.parentNode=null,n)for(var r=e.firstChild;r;)i.appendChild(tO(t,r,n)),r=r.nextSibling;return i}function y4(t,e,n){var i=new e.constructor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=e[r];typeof s!="object"&&s!=i[r]&&(i[r]=s)}switch(e.childNodes&&(i.childNodes=new $a),i.ownerDocument=t,i.nodeType){case Gr:var a=e.attributes,o=i.attributes=new Tg,l=a.length;o._ownerElement=i;for(var c=0;c<l;c++)i.setAttributeNode(y4(t,a.item(c),!0));break;case gd:n=!0}if(n)for(var u=e.firstChild;u;)i.appendChild(y4(t,u,n)),u=u.nextSibling;return i}function nO(t,e,n){t[e]=n}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Gr:case eo:var n=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&n.push(t(e)),e=e.nextSibling;return n.join("");default:return e.nodeValue}};Object.defineProperty(yd.prototype,"length",{get:function(){return WT(this),this.$$length}}),Object.defineProperty(Lt.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Gr:case eo:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),nO=function(e,n,i){e["$$"+n]=i}}}catch{}sl.DocumentType=ey;sl.DOMException=wn;sl.DOMImplementation=$D;sl.Element=dc;sl.Node=Lt;sl.NodeList=$a;sl.XMLSerializer=qD;var ny={},iO={};(function(t){var e=uo.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(iO);var YT={},rp=uo.NAMESPACE,b4=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,DN=new RegExp("[\\-\\.0-9"+b4.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),ON=new RegExp("^"+b4.source+DN.source+"*(?::"+b4.source+DN.source+"*)?$"),kh=0,vo=1,Wc=2,Fh=3,Gc=4,Zc=5,Lh=6,l1=7;function bd(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,bd)}bd.prototype=new Error;bd.prototype.name=bd.name;function rO(){}rO.prototype={parse:function(t,e,n){var i=this.domBuilder;i.startDocument(),sO(e,e={}),dEe(t,e,n,i,this.errorHandler),i.endDocument()}};function dEe(t,e,n,i,r){function s(be){if(be>65535){be-=65536;var _e=55296+(be>>10),me=56320+(be&1023);return String.fromCharCode(_e,me)}else return String.fromCharCode(be)}function a(be){var _e=be.slice(1,-1);return Object.hasOwnProperty.call(n,_e)?n[_e]:_e.charAt(0)==="#"?s(parseInt(_e.substr(1).replace("x","0x"))):(r.error("entity not found:"+be),be)}function o(be){if(be>p){var _e=t.substring(p,be).replace(/&#?\w+;/g,a);f&&l(p),i.characters(_e,0,be-p),p=be}}function l(be,_e){for(;be>=u&&(_e=d.exec(t));)c=_e.index,u=c+_e[0].length,f.lineNumber++;f.columnNumber=be-c+1}for(var c=0,u=0,d=/.*(?:\r\n?|\n)|.*$/g,f=i.locator,h=[{currentNSMap:e}],m={},p=0;;){try{var v=t.indexOf("<",p);if(v<0){if(!t.substr(p).match(/^\s*$/)){var y=i.doc,E=y.createTextNode(t.substr(p));y.appendChild(E),i.currentElement=E}return}switch(v>p&&o(v),t.charAt(v+1)){case"/":var K=t.indexOf(">",v+3),S=t.substring(v+2,K).replace(/[ \t\n\r]+$/g,""),I=h.pop();K<0?(S=t.substring(v+2).replace(/[\s<].*/,""),r.error("end tag name: "+S+" is not complete:"+I.tagName),K=v+1+S.length):S.match(/\s</)&&(S=S.replace(/[\s<].*/,""),r.error("end tag name: "+S+" maybe not complete"),K=v+1+S.length);var w=I.localNSMap,N=I.tagName==S,F=N||I.tagName&&I.tagName.toLowerCase()==S.toLowerCase();if(F){if(i.endElement(I.uri,I.localName,S),w)for(var W in w)Object.prototype.hasOwnProperty.call(w,W)&&i.endPrefixMapping(W);N||r.fatalError("end tag name: "+S+" is not match the current start tagName:"+I.tagName)}else h.push(I);K++;break;case"?":f&&l(v),K=gEe(t,v,i);break;case"!":f&&l(v),K=mEe(t,v,i,r);break;default:f&&l(v);var Z=new aO,O=h[h.length-1].currentNSMap,K=hEe(t,v,Z,O,a,r),fe=Z.length;if(!Z.closed&&pEe(t,K,Z.tagName,m)&&(Z.closed=!0,n.nbsp||r.warning("unclosed xml attribute")),f&&fe){for(var z=XN(f,{}),pe=0;pe<fe;pe++){var de=Z[pe];l(de.offset),de.locator=XN(f,{})}i.locator=z,MN(Z,i,O)&&h.push(Z),i.locator=f}else MN(Z,i,O)&&h.push(Z);rp.isHTML(Z.uri)&&!Z.closed?K=fEe(t,K,Z.tagName,a,i):K++}}catch(be){if(be instanceof bd)throw be;r.error("element parse error: "+be),K=-1}K>p?p=K:o(Math.max(v,p)+1)}}function XN(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function hEe(t,e,n,i,r,s){function a(f,h,m){n.attributeNames.hasOwnProperty(f)&&s.fatalError("Attribute "+f+" redefined"),n.addValue(f,h.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,r),m)}for(var o,l,c=++e,u=kh;;){var d=t.charAt(c);switch(d){case"=":if(u===vo)o=t.slice(e,c),u=Fh;else if(u===Wc)u=Fh;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(u===Fh||u===vo)if(u===vo&&(s.warning('attribute value must after "="'),o=t.slice(e,c)),e=c+1,c=t.indexOf(d,e),c>0)l=t.slice(e,c),a(o,l,e-1),u=Zc;else throw new Error("attribute value no end '"+d+"' match");else if(u==Gc)l=t.slice(e,c),a(o,l,e),s.warning('attribute "'+o+'" missed start quot('+d+")!!"),e=c+1,u=Zc;else throw new Error('attribute value must after "="');break;case"/":switch(u){case kh:n.setTagName(t.slice(e,c));case Zc:case Lh:case l1:u=l1,n.closed=!0;case Gc:case vo:break;case Wc:n.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return s.error("unexpected end of input"),u==kh&&n.setTagName(t.slice(e,c)),c;case">":switch(u){case kh:n.setTagName(t.slice(e,c));case Zc:case Lh:case l1:break;case Gc:case vo:l=t.slice(e,c),l.slice(-1)==="/"&&(n.closed=!0,l=l.slice(0,-1));case Wc:u===Wc&&(l=o),u==Gc?(s.warning('attribute "'+l+'" missed quot(")!'),a(o,l,e)):((!rp.isHTML(i[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),a(l,l,e));break;case Fh:throw new Error("attribute value missed!!")}return c;case"":d=" ";default:if(d<=" ")switch(u){case kh:n.setTagName(t.slice(e,c)),u=Lh;break;case vo:o=t.slice(e,c),u=Wc;break;case Gc:var l=t.slice(e,c);s.warning('attribute "'+l+'" missed quot(")!!'),a(o,l,e);case Zc:u=Lh;break}else switch(u){case Wc:n.tagName,(!rp.isHTML(i[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&s.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=c,u=vo;break;case Zc:s.warning('attribute space is required"'+o+'"!!');case Lh:u=vo,e=c;break;case Fh:u=Gc,e=c;break;case l1:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function MN(t,e,n){for(var i=t.tagName,r=null,s=t.length;s--;){var a=t[s],o=a.qName,l=a.value,f=o.indexOf(":");if(f>0)var c=a.prefix=o.slice(0,f),u=o.slice(f+1),d=c==="xmlns"&&u;else u=o,c=null,d=o==="xmlns"&&"";a.localName=u,d!==!1&&(r==null&&(r={},sO(n,n={})),n[d]=r[d]=l,a.uri=rp.XMLNS,e.startPrefixMapping(d,l))}for(var s=t.length;s--;){a=t[s];var c=a.prefix;c&&(c==="xml"&&(a.uri=rp.XML),c!=="xmlns"&&(a.uri=n[c||""]))}var f=i.indexOf(":");f>0?(c=t.prefix=i.slice(0,f),u=t.localName=i.slice(f+1)):(c=null,u=t.localName=i);var h=t.uri=n[c||""];if(e.startElement(h,u,i,t),t.closed){if(e.endElement(h,u,i),r)for(c in r)Object.prototype.hasOwnProperty.call(r,c)&&e.endPrefixMapping(c)}else return t.currentNSMap=n,t.localNSMap=r,!0}function fEe(t,e,n,i,r){if(/^(?:script|textarea)$/i.test(n)){var s=t.indexOf("</"+n+">",e),a=t.substring(e+1,s);if(/[&<]/.test(a))return/^script$/i.test(n)?(r.characters(a,0,a.length),s):(a=a.replace(/&#?\w+;/g,i),r.characters(a,0,a.length),s)}return e+1}function pEe(t,e,n,i){var r=i[n];return r==null&&(r=t.lastIndexOf("</"+n+">"),r<e&&(r=t.lastIndexOf("</"+n)),i[n]=r),r<e}function sO(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}function mEe(t,e,n,i){var r=t.charAt(e+2);switch(r){case"-":if(t.charAt(e+3)==="-"){var s=t.indexOf("-->",e+4);return s>e?(n.comment(t,e+4,s-e-4),s+3):(i.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var s=t.indexOf("]]>",e+9);return n.startCDATA(),n.characters(t,e+9,s-e-9),n.endCDATA(),s+3}var a=yEe(t,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var l=a[1][0],c=!1,u=!1;o>3&&(/^public$/i.test(a[2][0])?(c=a[3][0],u=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(u=a[3][0]));var d=a[o-1];return n.startDTD(l,c,u),n.endDTD(),d.index+d[0].length}}return-1}function gEe(t,e,n){var i=t.indexOf("?>",e);if(i){var r=t.substring(e,i).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return r?(r[0].length,n.processingInstruction(r[1],r[2]),i+2):-1}return-1}function aO(){this.attributeNames={}}aO.prototype={setTagName:function(t){if(!ON.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,n){if(!ON.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:n}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function yEe(t,e){var n,i=[],r=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(r.lastIndex=e,r.exec(t);n=r.exec(t);)if(i.push(n),n[1])return i}YT.XMLReader=rO;YT.ParseError=bd;var bEe=uo,vEe=sl,PN=iO,oO=YT,EEe=vEe.DOMImplementation,YN=bEe.NAMESPACE,AEe=oO.ParseError,SEe=oO.XMLReader;function lO(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function cO(t){this.options=t||{locator:{}}}cO.prototype.parseFromString=function(t,e){var n=this.options,i=new SEe,r=n.domBuilder||new $p,s=n.errorHandler,a=n.locator,o=n.xmlns||{},l=/\/x?html?$/.test(e),c=l?PN.HTML_ENTITIES:PN.XML_ENTITIES;a&&r.setDocumentLocator(a),i.errorHandler=TEe(s,r,a),i.domBuilder=n.domBuilder||r,l&&(o[""]=YN.HTML),o.xml=o.xml||YN.XML;var u=n.normalizeLineEndings||lO;return t&&typeof t=="string"?i.parse(u(t),o,c):i.errorHandler.error("invalid doc source"),r.doc};function TEe(t,e,n){if(!t){if(e instanceof $p)return e;t=e}var i={},r=t instanceof Function;n=n||{};function s(a){var o=t[a];!o&&r&&(o=t.length==2?function(l){t(a,l)}:t),i[a]=o&&function(l){o("[xmldom "+a+"]	"+l+v4(n))}||function(){}}return s("warning"),s("error"),s("fatalError"),i}function $p(){this.cdata=!1}function Dc(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}$p.prototype={startDocument:function(){this.doc=new EEe().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,n,i){var r=this.doc,s=r.createElementNS(t,n||e),a=i.length;c1(this,s),this.currentElement=s,this.locator&&Dc(this.locator,s);for(var o=0;o<a;o++){var t=i.getURI(o),l=i.getValue(o),n=i.getQName(o),c=r.createAttributeNS(t,n);this.locator&&Dc(i.getLocator(o),c),c.value=c.nodeValue=l,s.setAttributeNode(c)}},endElement:function(t,e,n){var i=this.currentElement;i.tagName,this.currentElement=i.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var n=this.doc.createProcessingInstruction(t,e);this.locator&&Dc(this.locator,n),c1(this,n)},ignorableWhitespace:function(t,e,n){},characters:function(t,e,n){if(t=$N.apply(this,arguments),t){if(this.cdata)var i=this.doc.createCDATASection(t);else var i=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&Dc(this.locator,i)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,n){t=$N.apply(this,arguments);var i=this.doc.createComment(t);this.locator&&Dc(this.locator,i),c1(this,i)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,n){var i=this.doc.implementation;if(i&&i.createDocumentType){var r=i.createDocumentType(t,e,n);this.locator&&Dc(this.locator,r),c1(this,r),this.doc.doctype=r}},warning:function(t){console.warn("[xmldom warning]	"+t,v4(this.locator))},error:function(t){console.error("[xmldom error]	"+t,v4(this.locator))},fatalError:function(t){throw new AEe(t,this.locator)}};function v4(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function $N(t,e,n){return typeof t=="string"?t.substr(e,n):t.length>=e+n||e?new java.lang.String(t,e,n)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){$p.prototype[t]=function(){return null}});function c1(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}ny.__DOMHandler=$p;ny.normalizeLineEndings=lO;ny.DOMParser=cO;var $T=ny.DOMParser;const REe=Object.freeze(Object.defineProperty({__proto__:null,DOMParser:$T},Symbol.toStringTag,{value:"Module"})),CEe=Object.freeze(Object.defineProperty({__proto__:null,D:$T,i:REe},Symbol.toStringTag,{value:"Module"}));function xn(){return xn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},xn.apply(null,arguments)}const IEe=_("div")({name:"Container",class:"c5b6wdg",propsAsIs:!1}),wEe="a1rlj479",xEe="s35f1di",VEe="sj4471g",NEe="b12050d8",_Ee="b1d5ybek",kEe=t=>t==="left"||t==="right"?xEe:NEe,FEe=t=>t==="left"||t==="right"?VEe:_Ee,LEe=t=>t==="left"?"avdxyl3":t==="right"?"a1bisd08":t==="top"?"a1u9y2aj":"a1qqaks",jT=({children:t,style:e,className:n,enabled:i=!0,hiding:r,direction:s="left",onAnimationEnd:a})=>b.jsx(IEe,{style:e,className:Kt(n,wEe,LEe(s),i&&!r&&kEe(s),i&&r&&FEe(s)),onAnimationEnd:a,children:t}),UEe=_("a")({name:"Link",class:"l1sgte8c",propsAsIs:!1}),BEe=_("div")({name:"BannerContainer",class:"b7yfc72",propsAsIs:!1}),WEe=()=>UEe,GEe=_(WEe())({name:"BannerLink",class:"bejjq94",propsAsIs:!0}),uO=({promotion:t,promotionId:e,hiding:n,isEventFired:i,fireEvent:r,direction:s="bottom"})=>{const a=(t==null?void 0:t.adUnit)===oi.STANDART,o=a?t.banner:t.additionalBanner;if(V.useEffect(()=>{o!=null&&o.imageUrl&&t.type&&e&&(i!=null&&i("banner-showed")||(Xt.emit("advertisement",{action:"bannerShown",payload:{id:e,type:t.type}}),r==null||r("banner-showed")))},[o==null?void 0:o.imageUrl,r,i,t.type,e]),!(o!=null&&o.imageUrl))return null;let l=o==null?void 0:o.url;return l&&l.indexOf("http")!==0&&(l=`https://${l}`),b.jsx(jT,{direction:s,hiding:n,children:b.jsx(BEe,{className:"BannerContainer","data-is-ad":a,children:b.jsx(GEe,{as:l?"a":"span",className:"BannerLink",href:l,style:{backgroundImage:`url(${o.imageUrl})`,cursor:l?"pointer":"default"},"data-promo-id":e,"data-promo-type":t.type,"data-a":"banner",target:"_blank","data-is-ad":a})})})},ZEe=({cardId:t,promotion:e,direction:n="bottom"})=>b.jsx(uO,{promotion:e,promotionId:t,direction:n,hiding:!1}),DEe=_("div")({name:"NotificationContent",class:"n18wsqoo",propsAsIs:!1}),OEe=_("div")({name:"Body",class:"b1ia90c2",propsAsIs:!1}),XEe=_("div")({name:"Title",class:"tg2z08v",propsAsIs:!1}),MEe=_("div")({name:"Text",class:"t59zdk1",propsAsIs:!1}),eu=_("div")({name:"MediaImgBottom",class:"m1ab9fq",propsAsIs:!1}),PEe=()=>eu,YEe=_(PEe())({name:"MediaImgMiddle",class:"m9fsr0y",propsAsIs:!0}),jN=_("img")({name:"CtaIcon",class:"cvi9y5q",propsAsIs:!1}),$Ee=_("div")({name:"Logo",class:"l5mq0z",propsAsIs:!1}),jEe=_("div")({name:"Footer",class:"f1mse0ft",propsAsIs:!1}),KEe=_("div")({name:"Vector",class:"v1hcloah",propsAsIs:!1}),zEe=_("div")({name:"NotificationContainer",class:"n3n65jf",propsAsIs:!1}),dO=_("button")({name:"TVButton",class:"tkkfuqy",propsAsIs:!1}),JEe=()=>dO,HEe=_(JEe())({name:"DismissButton",class:"dh9vato",propsAsIs:!0}),QEe=()=>dO,hO=_(QEe())({name:"OpenButton",class:"oeah8gv",propsAsIs:!0}),qEe={[kr.UNSET]:eu,[kr.FIT]:eu,[kr.CENTERED]:eu,[kr.SOLID]:eu,[kr.BOTTOM]:eu,[kr.MIDDLE]:YEe},eAe=({src:t,imagePosition:e})=>{const n=qEe[e];return b.jsx(n,{children:b.jsx("img",{src:t,alt:""})})},tAe=la(HEe),nAe=la(hO),iAe=({notification:t,open:e,close:n,webos:i})=>{if(!t||!t.promotion||t.enabled!==ig.NOTIFICATION_ENABLED)return null;const{title:r,body:s,image:a,promotion:o}=t,{sponsorLogo:l,sponsorLogoMode:c,imagePosition:u,ctaButton:d}=o;return b.jsxs(zEe,{"data-webos":i,className:"SL_Lower_Third_Notification",onClick:i?void 0:e,children:[b.jsxs(DEe,{children:[b.jsx(eAe,{src:a,imagePosition:u}),b.jsxs(OEe,{children:[r&&b.jsx(XEe,{children:r}),s&&b.jsx(MEe,{children:s})]})]}),b.jsxs(jEe,{children:[c!==ZW.NOTIFICATION_SPONSOR_LOGO_NONE&&b.jsxs(b.Fragment,{children:[b.jsx($Ee,{children:b.jsx("img",{src:l,alt:r})}),b.jsx(KEe,{})]}),i?b.jsxs(b.Fragment,{children:[b.jsx(tAe,{webos:!0,onClick:n,children:"Dismiss"}),b.jsxs(nAe,{webos:!0,autoFocus:!0,style:{color:d==null?void 0:d.textColor,backgroundColor:d==null?void 0:d.color},onClick:e,children:[(d==null?void 0:d.ctaIcon)&&(d==null?void 0:d.ctaIconMode)===BA.CTA_ICON_TRANSPARENT&&b.jsx(jN,{src:d==null?void 0:d.ctaIcon,alt:"cta-icon"}),(d==null?void 0:d.label)||"Open"]})]}):b.jsxs(hO,{name:"promo-button",style:{color:d==null?void 0:d.textColor,backgroundColor:d==null?void 0:d.color},children:[(d==null?void 0:d.ctaIcon)&&(d==null?void 0:d.ctaIconMode)===BA.CTA_ICON_TRANSPARENT&&b.jsx(jN,{src:d==null?void 0:d.ctaIcon,alt:"cta-icon"}),(d==null?void 0:d.label)||"Open"]})]})]})},rAe=_("div")({name:"NotificationContent",class:"n1ku6hz",propsAsIs:!1}),sAe=_("div")({name:"NotificationContainer",class:"nbxqmol",propsAsIs:!1}),aAe=_("div")({name:"Body",class:"b1gu3eml",propsAsIs:!1}),oAe=_("div")({name:"Title",class:"t1u17zva",propsAsIs:!1}),lAe=_("div")({name:"Text",class:"t10ko1g",propsAsIs:!1}),iy=_("div")({name:"Media",class:"mntc42e",propsAsIs:!1}),cAe=()=>iy,KN=_(cAe())({name:"MediaImgFit",class:"ml060eo",propsAsIs:!0}),uAe=()=>iy,fO=_(uAe())({name:"MediaImgCentered",class:"m1vqlvig",propsAsIs:!0}),dAe=()=>fO,hAe=_(dAe())({name:"MediaImgBottom",class:"m1e7tvi5",propsAsIs:!0}),fAe=()=>iy,pAe=_(fAe())({name:"MediaImgSolid",class:"mqvntt2",propsAsIs:!0}),mAe=()=>iy,gAe=_(mAe())({name:"MediaImgMiddle",class:"m12jtj3u",propsAsIs:!0}),yAe=_("img")({name:"CtaIcon",class:"ckq1frv",propsAsIs:!1}),bAe=()=>Ye,vAe=_(bAe())({name:"StyledChevronRight",class:"s9mjmz3",propsAsIs:!0}),EAe=_("div")({name:"Logo",class:"l1cf50a7",propsAsIs:!1}),pO=_("button")({name:"TVButton",class:"thdqfl0",propsAsIs:!1}),AAe=()=>pO,SAe=_(AAe())({name:"DismissButton",class:"d11pe8bx",propsAsIs:!0}),TAe=()=>pO,RAe=_(TAe())({name:"OpenButton",class:"oy9k0kp",propsAsIs:!0}),CAe={[kr.UNSET]:KN,[kr.FIT]:KN,[kr.CENTERED]:fO,[kr.BOTTOM]:hAe,[kr.SOLID]:pAe,[kr.MIDDLE]:gAe},IAe=({src:t,imagePosition:e})=>{const n=CAe[e];return b.jsx(n,{children:b.jsx("img",{src:t,alt:""})})},wAe=la(SAe),xAe=la(RAe),VAe=({notification:t,open:e,promotionId:n,hiding:i,direction:r="left",close:s,webos:a})=>{if(!t||!t.promotion||t.enabled!==ig.NOTIFICATION_ENABLED)return null;if(t.promotion.mode===GW.LOWER_THIRD)return b.jsx(iAe,{notification:t,open:e,close:s,webos:a});const{title:o,body:l,image:c,promotion:u}=t,{sponsorLogo:d,sponsorLogoMode:f,imagePosition:h,ctaButton:m}=u,p=v=>{v.stopPropagation(),s==null||s()};return b.jsx(jT,{className:"SL_Rich_Notification",direction:r,hiding:i,children:b.jsxs(sAe,{onClick:a?()=>{}:e,children:[f!==ZW.NOTIFICATION_SPONSOR_LOGO_NONE&&d&&b.jsx(EAe,{children:b.jsx("img",{src:d,alt:o})}),b.jsxs(rAe,{children:[b.jsx(IAe,{src:c,imagePosition:h}),b.jsxs(aAe,{children:[o&&b.jsx(oAe,{children:o}),l&&b.jsx(lAe,{children:l})]}),a&&b.jsx(wAe,{webos:!0,onClick:p,children:"Dismiss"}),b.jsxs(xAe,{webos:a,autoFocus:a,onClick:a?e:()=>{},name:"promo-button",style:{color:m==null?void 0:m.textColor,backgroundColor:m==null?void 0:m.color},children:[(m==null?void 0:m.ctaIcon)&&(m==null?void 0:m.ctaIconMode)===BA.CTA_ICON_TRANSPARENT&&b.jsx(yAe,{src:m==null?void 0:m.ctaIcon,alt:"cta-icon"}),(m==null?void 0:m.label)||"Open"]}),b.jsx(vAe,{name:"chevronRight"})]})]})})},NAe=_("div")({name:"OverlayContainer",class:"okzhq2w",propsAsIs:!1}),mO=_("div")({name:"PromoOverlay",class:"pmgz5i",propsAsIs:!1}),gO=_("div")({name:"Header",class:"hyxi3jt",propsAsIs:!1}),yO=_("div")({name:"HeaderContent",class:"h149e3gp",propsAsIs:!1}),bO="h10toh7",zN=_("img")({name:"SponsorLogo",class:"s1jyea6t",propsAsIs:!1}),_Ae=_("div")({name:"SponsorName",class:"szpfa3h",propsAsIs:!1}),vO=_("div")({name:"Media",class:"m1crmu01",propsAsIs:!1}),kAe=_("img")({name:"PromoImg",class:"p1l37r8s",propsAsIs:!1}),FAe="s1nmch9k",JN=_("div")({name:"Content",class:"c1er0ljd",propsAsIs:!1}),LAe=_("div")({name:"Description",class:"dydopmr",propsAsIs:!1}),UAe=_("div")({name:"Sponsor",class:"s1w6nt04",propsAsIs:!1}),BAe=_("div")({name:"SponsorText",class:"s1evcmtq",propsAsIs:!1}),EO=_("div")({name:"ADLogo",class:"awodx0x",propsAsIs:!1}),WAe=_("span")({name:"SponsoredText",class:"s1q3n6oi",propsAsIs:!1}),AO=_("div")({name:"ActionBtnWrap",class:"a8d4xfk",propsAsIs:!1}),SO=_("a")({name:"ActionButton",class:"at6oobh",propsAsIs:!1}),GAe=_("div")({name:"Title",class:"t1gyg7tt",propsAsIs:!1}),ZAe="h17rwbtk",DAe=_("div")({name:"Container",class:"c10m2bce",propsAsIs:!1}),HN=_("div")({name:"Item",class:"ig23yq5",propsAsIs:!1}),OAe=_("div")({name:"Dot",class:"d1f6aqua",propsAsIs:!1}),XAe=({time:t,adCount:e,adPosition:n})=>{const i=Math.floor(t/60),r=t-i*60;return i===0&&r===0&&e===n?null:b.jsxs(DAe,{children:[e>1&&b.jsxs(b.Fragment,{children:[b.jsxs(HN,{children:[n," of ",e]}),b.jsx(OAe,{})]}),b.jsxs(HN,{children:[i,":",r<10?`0${r}`:r]})]})},MAe=_("a")({name:"WhyThisAdLink",class:"w13o8uld",propsAsIs:!1}),PAe=({whyThisAd:t})=>{const[e,n]=V.useState(!1);return!t.iconClickThroughURLTemplate||!t.staticResource?null:b.jsxs(MAe,{style:{width:t.width,height:t.height,[t.xPosition]:3,[t.yPosition]:11},href:t.iconClickThroughURLTemplate,target:"_blank",rel:"noreferrer",children:[!e&&b.jsx("img",{alt:"ad choice",src:t.staticResource,onLoad:()=>n(!1),onError:()=>n(!0)}),e&&b.jsx("span",{children:"ad choice"})]})},YAe=_("div")({name:"VideoControls",class:"v1xzooj9",propsAsIs:!1}),TO=_("button")({name:"ControlBtn",class:"c1bo41vr",propsAsIs:!1}),$Ae=()=>TO,jAe=_($Ae())({name:"MuteIcon",class:"m13efyu8",propsAsIs:!0}),KAe=()=>TO,zAe=_(KAe())({name:"PauseIcon",class:"pladkgh",propsAsIs:!0}),JAe=_("div")({name:"Container",class:"cjnga56",propsAsIs:!1}),HAe=_("div")({name:"ControlsContainer",class:"c7qs1am",propsAsIs:!1}),QN="m12n261r",qN="m16vcml8",e_="m1078nk6";var ef;typeof window<"u"?ef=window:typeof Oa<"u"?ef=Oa:typeof self<"u"?ef=self:ef={};var ry=ef;const $=Up(ry),QAe={},qAe=Object.freeze(Object.defineProperty({__proto__:null,default:QAe},Symbol.toStringTag,{value:"Module"})),e4e=Foe(qAe);var t_=typeof Oa<"u"?Oa:typeof window<"u"?window:{},t4e=e4e,tf;typeof document<"u"?tf=document:(tf=t_["__GLOBAL_DOCUMENT_CACHE@4"],tf||(tf=t_["__GLOBAL_DOCUMENT_CACHE@4"]=t4e));var RO=tf;const Fe=Up(RO);var KT={exports:{}},CO={exports:{}};(function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var i=1;i<arguments.length;i++){var r=arguments[i];for(var s in r)({}).hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(CO);var n4e=CO.exports,i4e=s4e,r4e=Object.prototype.toString;function s4e(t){if(!t)return!1;var e=r4e.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}function a4e(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=o4e(t))||e){n&&(t=n);var i=0;return function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function o4e(t,e){if(t){if(typeof t=="string")return n_(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return n_(t,e)}}function n_(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}var l4e=function(){function t(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},e.addInterceptor=function(n,i){this.typeToInterceptorsMap_.has(n)||this.typeToInterceptorsMap_.set(n,new Set);var r=this.typeToInterceptorsMap_.get(n);return r.has(i)?!1:(r.add(i),!0)},e.removeInterceptor=function(n,i){var r=this.typeToInterceptorsMap_.get(n);return r&&r.has(i)?(r.delete(i),!0):!1},e.clearInterceptorsByType=function(n){var i=this.typeToInterceptorsMap_.get(n);return i?(this.typeToInterceptorsMap_.delete(n),this.typeToInterceptorsMap_.set(n,new Set),!0):!1},e.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},e.getForType=function(n){return this.typeToInterceptorsMap_.get(n)||new Set},e.execute=function(n,i){for(var r=this.getForType(n),s=a4e(r),a;!(a=s()).done;){var o=a.value;try{i=o(i)}catch{}}return i},t}(),c4e=l4e,u4e=function(){function t(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},e.getMaxAttempts=function(){return this.maxAttempts_},e.setMaxAttempts=function(n){this.maxAttempts_=n},e.getDelayFactor=function(){return this.delayFactor_},e.setDelayFactor=function(n){this.delayFactor_=n},e.getFuzzFactor=function(){return this.fuzzFactor_},e.setFuzzFactor=function(n){this.fuzzFactor_=n},e.getInitialDelay=function(){return this.initialDelay_},e.setInitialDelay=function(n){this.initialDelay_=n},e.createRetry=function(n){var i=n===void 0?{}:n,r=i.maxAttempts,s=i.delayFactor,a=i.fuzzFactor,o=i.initialDelay;return new d4e({maxAttempts:r||this.maxAttempts_,delayFactor:s||this.delayFactor_,fuzzFactor:a||this.fuzzFactor_,initialDelay:o||this.initialDelay_})},t}(),d4e=function(){function t(n){this.maxAttempts_=n.maxAttempts,this.delayFactor_=n.delayFactor,this.fuzzFactor_=n.fuzzFactor,this.currentDelay_=n.initialDelay,this.currentAttempt_=1}var e=t.prototype;return e.moveToNextAttempt=function(){this.currentAttempt_++;var n=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+n},e.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},e.getCurrentDelay=function(){return this.currentDelay_},e.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},e.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},e.getCurrentFuzzedDelay=function(){var n=this.getCurrentMinPossibleDelay(),i=this.getCurrentMaxPossibleDelay();return n+Math.random()*(i-n)},t}(),h4e=u4e,f4e=ry,p4e=function(t,e){return e===void 0&&(e=!1),function(n,i,r){if(n){t(n);return}if(i.statusCode>=400&&i.statusCode<=599){var s=r;if(e)if(f4e.TextDecoder){var a=m4e(i.headers&&i.headers["content-type"]);try{s=new TextDecoder(a).decode(r)}catch{}}else s=String.fromCharCode.apply(null,new Uint8Array(r));t({cause:s});return}t(null,r)}};function m4e(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,n){var i=n.split("="),r=i[0],s=i[1];return r.trim()==="charset"?s.trim():e},"utf-8")}var g4e=p4e,IO=ry,y4e=n4e,b4e=i4e,wO=c4e,v4e=h4e;Tn.httpHandler=g4e;Tn.requestInterceptorsStorage=new wO;Tn.responseInterceptorsStorage=new wO;Tn.retryManager=new v4e;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var E4e=function(t){var e={};return t&&t.trim().split(`
`).forEach(function(n){var i=n.indexOf(":"),r=n.slice(0,i).trim().toLowerCase(),s=n.slice(i+1).trim();typeof e[r]>"u"?e[r]=s:Array.isArray(e[r])?e[r].push(s):e[r]=[e[r],s]}),e};KT.exports=Tn;KT.exports.default=Tn;Tn.XMLHttpRequest=IO.XMLHttpRequest||R4e;Tn.XDomainRequest="withCredentials"in new Tn.XMLHttpRequest?Tn.XMLHttpRequest:IO.XDomainRequest;A4e(["get","put","post","patch","head","delete"],function(t){Tn[t==="delete"?"del":t]=function(e,n,i){return n=xO(e,n,i),n.method=t.toUpperCase(),zT(n)}});function A4e(t,e){for(var n=0;n<t.length;n++)e(t[n])}function S4e(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function xO(t,e,n){var i=t;return b4e(e)?(n=e,typeof t=="string"&&(i={uri:t})):i=y4e({},e,{uri:t}),i.callback=n,i}function Tn(t,e,n){return e=xO(t,e,n),zT(e)}function zT(t){if(typeof t.callback>"u")throw new Error("callback argument missing");if(t.requestType&&Tn.requestInterceptorsStorage.getIsEnabled()){var e={uri:t.uri||t.url,headers:t.headers||{},body:t.body,metadata:t.metadata||{},retry:t.retry,timeout:t.timeout},n=Tn.requestInterceptorsStorage.execute(t.requestType,e);t.uri=n.uri,t.headers=n.headers,t.body=n.body,t.metadata=n.metadata,t.retry=n.retry,t.timeout=n.timeout}var i=!1,r=function(I,w,N){i||(i=!0,t.callback(I,w,N))};function s(){c.readyState===4&&!Tn.responseInterceptorsStorage.getIsEnabled()&&setTimeout(l,0)}function a(){var I=void 0;if(c.response?I=c.response:I=c.responseText||T4e(c),y)try{I=JSON.parse(I)}catch{}return I}function o(I){if(clearTimeout(E),clearTimeout(t.retryTimeout),I instanceof Error||(I=new Error(""+(I||"Unknown XMLHttpRequest Error"))),I.statusCode=0,!d&&Tn.retryManager.getIsEnabled()&&t.retry&&t.retry.shouldRetry()){t.retryTimeout=setTimeout(function(){t.retry.moveToNextAttempt(),t.xhr=c,zT(t)},t.retry.getCurrentFuzzedDelay());return}if(t.requestType&&Tn.responseInterceptorsStorage.getIsEnabled()){var w={headers:S.headers||{},body:S.body,responseUrl:c.responseURL,responseType:c.responseType},N=Tn.responseInterceptorsStorage.execute(t.requestType,w);S.body=N.body,S.headers=N.headers}return r(I,S)}function l(){if(!d){var I;clearTimeout(E),clearTimeout(t.retryTimeout),t.useXDR&&c.status===void 0?I=200:I=c.status===1223?204:c.status;var w=S,N=null;if(I!==0?(w={body:a(),statusCode:I,method:h,headers:{},url:f,rawRequest:c},c.getAllResponseHeaders&&(w.headers=E4e(c.getAllResponseHeaders()))):N=new Error("Internal XMLHttpRequest Error"),t.requestType&&Tn.responseInterceptorsStorage.getIsEnabled()){var F={headers:w.headers||{},body:w.body,responseUrl:c.responseURL,responseType:c.responseType},W=Tn.responseInterceptorsStorage.execute(t.requestType,F);w.body=W.body,w.headers=W.headers}return r(N,w,w.body)}}var c=t.xhr||null;c||(t.cors||t.useXDR?c=new Tn.XDomainRequest:c=new Tn.XMLHttpRequest);var u,d,f=c.url=t.uri||t.url,h=c.method=t.method||"GET",m=t.body||t.data,p=c.headers=t.headers||{},v=!!t.sync,y=!1,E,S={body:void 0,headers:{},statusCode:0,method:h,url:f,rawRequest:c};if("json"in t&&t.json!==!1&&(y=!0,p.accept||p.Accept||(p.Accept="application/json"),h!=="GET"&&h!=="HEAD"&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),m=JSON.stringify(t.json===!0?m:t.json))),c.onreadystatechange=s,c.onload=l,c.onerror=o,c.onprogress=function(){},c.onabort=function(){d=!0,clearTimeout(t.retryTimeout)},c.ontimeout=o,c.open(h,f,!v,t.username,t.password),v||(c.withCredentials=!!t.withCredentials),!v&&t.timeout>0&&(E=setTimeout(function(){if(!d){d=!0,c.abort("timeout");var I=new Error("XMLHttpRequest timeout");I.code="ETIMEDOUT",o(I)}},t.timeout)),c.setRequestHeader)for(u in p)p.hasOwnProperty(u)&&c.setRequestHeader(u,p[u]);else if(t.headers&&!S4e(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(c.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(c),c.send(m||null),c}function T4e(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function R4e(){}var C4e=KT.exports;const VO=Up(C4e);var NO={exports:{}},i_=RO,JT=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function hr(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}hr.prototype=JT(Error.prototype);hr.prototype.constructor=hr;hr.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function HT(t){function e(i,r,s,a){return(i|0)*3600+(r|0)*60+(s|0)+(a|0)/1e3}var n=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return n?n[3]?e(n[1],n[2],n[3].replace(":",""),n[4]):n[1]>59?e(n[1],n[2],0,n[4]):e(0,n[1],n[2],n[4]):null}function Ef(){this.values=JT(null)}Ef.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,n){return n?this.has(t)?this.values[t]:e[n]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,n){for(var i=0;i<n.length;++i)if(e===n[i]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function nf(t,e,n,i){var r=i?t.split(i):[t];for(var s in r)if(typeof r[s]=="string"){var a=r[s].split(n);if(a.length===2){var o=a[0].trim(),l=a[1].trim();e(o,l)}}}function I4e(t,e,n){var i=t;function r(){var o=HT(t);if(o===null)throw new hr(hr.Errors.BadTimeStamp,"Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function s(o,l){var c=new Ef;nf(o,function(u,d){switch(u){case"region":for(var f=n.length-1;f>=0;f--)if(n[f].id===d){c.set(u,n[f].region);break}break;case"vertical":c.alt(u,d,["rl","lr"]);break;case"line":var h=d.split(","),m=h[0];c.integer(u,m),c.percent(u,m)&&c.set("snapToLines",!1),c.alt(u,m,["auto"]),h.length===2&&c.alt("lineAlign",h[1],["start","center","end"]);break;case"position":h=d.split(","),c.percent(u,h[0]),h.length===2&&c.alt("positionAlign",h[1],["start","center","end"]);break;case"size":c.percent(u,d);break;case"align":c.alt(u,d,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");try{l.line=c.get("line","auto")}catch{}l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100);try{l.align=c.get("align","center")}catch{l.align=c.get("align","middle")}try{l.position=c.get("position","auto")}catch{l.position=c.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=c.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=r(),a(),t.substr(0,3)!=="-->")throw new hr(hr.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+i);t=t.substr(3),a(),e.endTime=r(),a(),s(t,e)}var N5=i_.createElement&&i_.createElement("textarea"),w4e={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},r_={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},x4e={v:"title",lang:"lang"},s_={rt:"ruby"};function _O(t,e){function n(){if(!e)return null;function m(v){return e=e.substr(v.length),v}var p=e.match(/^([^<]*)(<[^>]*>?)?/);return m(p[1]?p[1]:p[2])}function i(m){return N5.innerHTML=m,m=N5.textContent,N5.textContent="",m}function r(m,p){return!s_[p.localName]||s_[p.localName]===m.localName}function s(m,p){var v=w4e[m];if(!v)return null;var y=t.document.createElement(v),E=x4e[m];return E&&p&&(y[E]=p.trim()),y}for(var a=t.document.createElement("div"),o=a,l,c=[];(l=n())!==null;){if(l[0]==="<"){if(l[1]==="/"){c.length&&c[c.length-1]===l.substr(2).replace(">","")&&(c.pop(),o=o.parentNode);continue}var u=HT(l.substr(1,l.length-2)),d;if(u){d=t.document.createProcessingInstruction("timestamp",u),o.appendChild(d);continue}var f=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!f||(d=s(f[1],f[3]),!d)||!r(o,d))continue;if(f[2]){var h=f[2].split(".");h.forEach(function(m){var p=/^bg_/.test(m),v=p?m.slice(3):m;if(r_.hasOwnProperty(v)){var y=p?"background-color":"color",E=r_[v];d.style[y]=E}}),d.className=h.join(" ")}c.push(f[1]),o.appendChild(d),o=d;continue}o.appendChild(t.document.createTextNode(i(l)))}return a}var a_=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function V4e(t){for(var e=0;e<a_.length;e++){var n=a_[e];if(t>=n[0]&&t<=n[1])return!0}return!1}function N4e(t){var e=[],n="",i;if(!t||!t.childNodes)return"ltr";function r(o,l){for(var c=l.childNodes.length-1;c>=0;c--)o.push(l.childNodes[c])}function s(o){if(!o||!o.length)return null;var l=o.pop(),c=l.textContent||l.innerText;if(c){var u=c.match(/^.*(\n|\r)/);return u?(o.length=0,u[0]):c}if(l.tagName==="ruby")return s(o);if(l.childNodes)return r(o,l),s(o)}for(r(e,t);n=s(e);)for(var a=0;a<n.length;a++)if(i=n.charCodeAt(a),V4e(i))return"rtl";return"ltr"}function _4e(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,n=e.textTrackList,i=0,r=0;r<n.length&&n[r]!==e;r++)n[r].mode==="showing"&&i++;return++i*-1}function sy(){}sy.prototype.applyStyles=function(t,e){e=e||this.div;for(var n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n])};sy.prototype.formatStyle=function(t,e){return t===0?0:t+e};function Ig(t,e,n){sy.call(this),this.cue=e,this.cueDiv=_O(t,e.text);var i={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(i,this.cueDiv),this.div=t.document.createElement("div"),i={direction:N4e(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:n.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(i),this.div.appendChild(this.cueDiv);var r=0;switch(e.positionAlign){case"start":case"line-left":r=e.position;break;case"center":r=e.position-e.size/2;break;case"end":case"line-right":r=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(r,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(r,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(s){this.applyStyles({top:this.formatStyle(s.top,"px"),bottom:this.formatStyle(s.bottom,"px"),left:this.formatStyle(s.left,"px"),right:this.formatStyle(s.right,"px"),height:this.formatStyle(s.height,"px"),width:this.formatStyle(s.width,"px")})}}Ig.prototype=JT(sy.prototype);Ig.prototype.constructor=Ig;function Wi(t){var e,n,i,r;if(t.div){n=t.div.offsetHeight,i=t.div.offsetWidth,r=t.div.offsetTop;var s=(s=t.div.childNodes)&&(s=s[0])&&s.getClientRects&&s.getClientRects();t=t.div.getBoundingClientRect(),e=s?Math.max(s[0]&&s[0].height||0,t.height/s.length):0}this.left=t.left,this.right=t.right,this.top=t.top||r,this.height=t.height||n,this.bottom=t.bottom||r+(t.height||n),this.width=t.width||i,this.lineHeight=e!==void 0?e:t.lineHeight}Wi.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};Wi.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};Wi.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};Wi.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};Wi.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};Wi.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),n=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),i=e*n;return i/(this.height*this.width)};Wi.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};Wi.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,n=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,i=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var r={left:t.left,right:t.right,top:t.top||i,height:t.height||e,bottom:t.bottom||i+(t.height||e),width:t.width||n};return r};function k4e(t,e,n,i){function r(v,y){for(var E,S=new Wi(v),I=1,w=0;w<y.length;w++){for(;v.overlapsOppositeAxis(n,y[w])||v.within(n)&&v.overlapsAny(i);)v.move(y[w]);if(v.within(n))return v;var N=v.intersectPercentage(n);I>N&&(E=new Wi(v),I=N),v=new Wi(S)}return E||S}var s=new Wi(e),a=e.cue,o=_4e(a),l=[];if(a.snapToLines){var c;switch(a.vertical){case"":l=["+y","-y"],c="height";break;case"rl":l=["+x","-x"],c="width";break;case"lr":l=["-x","+x"],c="width";break}var u=s.lineHeight,d=u*Math.round(o),f=n[c]+u,h=l[0];Math.abs(d)>f&&(d=d<0?-1:1,d*=Math.ceil(f/u)*u),o<0&&(d+=a.vertical===""?n.height:n.width,l=l.reverse()),s.move(h,d)}else{var m=s.lineHeight/n.height*100;switch(a.lineAlign){case"center":o-=m/2;break;case"end":o-=m;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],s=new Wi(e)}var p=r(s,l);e.move(p.toCSSCompatValues(n))}function Hd(){}Hd.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};Hd.convertCueToDOMTree=function(t,e){return!t||!e?null:_O(t,e)};var F4e=.05,L4e="sans-serif",U4e="1.5%";Hd.processCues=function(t,e,n){if(!t||!e||!n)return null;for(;n.firstChild;)n.removeChild(n.firstChild);var i=t.document.createElement("div");i.style.position="absolute",i.style.left="0",i.style.right="0",i.style.top="0",i.style.bottom="0",i.style.margin=U4e,n.appendChild(i);function r(u){for(var d=0;d<u.length;d++)if(u[d].hasBeenReset||!u[d].displayState)return!0;return!1}if(!r(e)){for(var s=0;s<e.length;s++)i.appendChild(e[s].displayState);return}var a=[],o=Wi.getSimpleBoxPosition(i),l=Math.round(o.height*F4e*100)/100,c={font:l+"px "+L4e};(function(){for(var u,d,f=0;f<e.length;f++)d=e[f],u=new Ig(t,d,c),i.appendChild(u.div),k4e(t,u,o,a),d.displayState=u.div,a.push(Wi.getSimpleBoxPosition(u))})()};Hd.Parser=function(t,e,n){n||(n=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=n||new TextDecoder("utf8"),this.regionList=[]};Hd.Parser.prototype={reportOrThrowError:function(t){if(t instanceof hr)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function n(){for(var u=e.buffer,d=0;d<u.length&&u[d]!=="\r"&&u[d]!==`
`;)++d;var f=u.substr(0,d);return u[d]==="\r"&&++d,u[d]===`
`&&++d,e.buffer=u.substr(d),f}function i(u){var d=new Ef;if(nf(u,function(h,m){switch(h){case"id":d.set(h,m);break;case"width":d.percent(h,m);break;case"lines":d.integer(h,m);break;case"regionanchor":case"viewportanchor":var p=m.split(",");if(p.length!==2)break;var v=new Ef;if(v.percent("x",p[0]),v.percent("y",p[1]),!v.has("x")||!v.has("y"))break;d.set(h+"X",v.get("x")),d.set(h+"Y",v.get("y"));break;case"scroll":d.alt(h,m,["up"]);break}},/=/,/\s/),d.has("id")){var f=new(e.vttjs.VTTRegion||e.window.VTTRegion);f.width=d.get("width",100),f.lines=d.get("lines",3),f.regionAnchorX=d.get("regionanchorX",0),f.regionAnchorY=d.get("regionanchorY",100),f.viewportAnchorX=d.get("viewportanchorX",0),f.viewportAnchorY=d.get("viewportanchorY",100),f.scroll=d.get("scroll",""),e.onregion&&e.onregion(f),e.regionList.push({id:d.get("id"),region:f})}}function r(u){var d=new Ef;nf(u,function(f,h){switch(f){case"MPEGT":d.integer(f+"S",h);break;case"LOCA":d.set(f+"L",HT(h));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:d.get("MPEGTS"),LOCAL:d.get("LOCAL")})}function s(u){u.match(/X-TIMESTAMP-MAP/)?nf(u,function(d,f){switch(d){case"X-TIMESTAMP-MAP":r(f);break}},/=/):nf(u,function(d,f){switch(d){case"Region":i(f);break}},/:/)}try{var a;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;a=n();var o=a.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new hr(hr.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:a=n(),e.state){case"HEADER":/:/.test(a)?s(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",a.indexOf("-->")===-1){e.cue.id=a;continue}case"CUE":try{I4e(a,e.cue,e.regionList)}catch(u){e.reportOrThrowError(u),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var c=a.indexOf("-->")!==-1;if(!a||c&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=a.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":a||(e.state="ID");continue}}}catch(u){e.reportOrThrowError(u),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new hr(hr.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var B4e=Hd,W4e="auto",G4e={"":1,lr:1,rl:1},Z4e={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function D4e(t){if(typeof t!="string")return!1;var e=G4e[t.toLowerCase()];return e?t.toLowerCase():!1}function _5(t){if(typeof t!="string")return!1;var e=Z4e[t.toLowerCase()];return e?t.toLowerCase():!1}function kO(t,e,n){this.hasBeenReset=!1;var i="",r=!1,s=t,a=e,o=n,l=null,c="",u=!0,d="auto",f="start",h="auto",m="auto",p=100,v="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return i},set:function(y){i=""+y}},pauseOnExit:{enumerable:!0,get:function(){return r},set:function(y){r=!!y}},startTime:{enumerable:!0,get:function(){return s},set:function(y){if(typeof y!="number")throw new TypeError("Start time must be set to a number.");s=y,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(y){if(typeof y!="number")throw new TypeError("End time must be set to a number.");a=y,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(y){o=""+y,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(y){l=y,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(y){var E=D4e(y);if(E===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");c=E,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return u},set:function(y){u=!!y,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(y){if(typeof y!="number"&&y!==W4e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=y,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return f},set:function(y){var E=_5(y);E?(f=E,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return h},set:function(y){if(y<0||y>100)throw new Error("Position must be between 0 and 100.");h=y,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return m},set:function(y){var E=_5(y);E?(m=E,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return p},set:function(y){if(y<0||y>100)throw new Error("Size must be between 0 and 100.");p=y,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(y){var E=_5(y);if(!E)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");v=E,this.hasBeenReset=!0}}}),this.displayState=void 0}kO.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var O4e=kO,X4e={"":!0,up:!0};function M4e(t){if(typeof t!="string")return!1;var e=X4e[t.toLowerCase()];return e?t.toLowerCase():!1}function Uh(t){return typeof t=="number"&&t>=0&&t<=100}function P4e(){var t=100,e=3,n=0,i=100,r=0,s=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!Uh(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return i},set:function(o){if(!Uh(o))throw new Error("RegionAnchorX must be between 0 and 100.");i=o}},regionAnchorX:{enumerable:!0,get:function(){return n},set:function(o){if(!Uh(o))throw new Error("RegionAnchorY must be between 0 and 100.");n=o}},viewportAnchorY:{enumerable:!0,get:function(){return s},set:function(o){if(!Uh(o))throw new Error("ViewportAnchorY must be between 0 and 100.");s=o}},viewportAnchorX:{enumerable:!0,get:function(){return r},set:function(o){if(!Uh(o))throw new Error("ViewportAnchorX must be between 0 and 100.");r=o}},scroll:{enumerable:!0,get:function(){return a},set:function(o){var l=M4e(o);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=l}}})}var Y4e=P4e,no=ry,Rc=NO.exports={WebVTT:B4e,VTTCue:O4e,VTTRegion:Y4e};no.vttjs=Rc;no.WebVTT=Rc.WebVTT;var $4e=Rc.VTTCue,j4e=Rc.VTTRegion,K4e=no.VTTCue,z4e=no.VTTRegion;Rc.shim=function(){no.VTTCue=$4e,no.VTTRegion=j4e};Rc.restore=function(){no.VTTCue=K4e,no.VTTRegion=z4e};no.VTTCue||Rc.shim();var J4e=NO.exports;const o_=Up(J4e);var l_="https://example.com",ay=function(t,e){if(/^[a-z]+:/i.test(e))return e;/^data:/.test(t)&&(t=$.location&&$.location.href||"");var n=/^\/\//.test(t),i=!$.location&&!/\/\//i.test(t);t=new $.URL(t,$.location||l_);var r=new URL(e,t);return i?r.href.slice(l_.length):n?r.href.slice(r.protocol.length):r.href},QT=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(n,i){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(i)},e.off=function(n,i){if(!this.listeners[n])return!1;var r=this.listeners[n].indexOf(i);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(r,1),r>-1},e.trigger=function(n){var i=this.listeners[n];if(i)if(arguments.length===2)for(var r=i.length,s=0;s<r;++s)i[s].call(this,arguments[1]);else for(var a=Array.prototype.slice.call(arguments,1),o=i.length,l=0;l<o;++l)i[l].apply(this,a)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(i){n.push(i)})},t}(),FO={},oy={};oy.byteLength=q4e;oy.toByteArray=tSe;oy.fromByteArray=rSe;var Ms=[],wr=[],H4e=typeof Uint8Array<"u"?Uint8Array:Array,k5="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Oc=0,Q4e=k5.length;Oc<Q4e;++Oc)Ms[Oc]=k5[Oc],wr[k5.charCodeAt(Oc)]=Oc;wr[45]=62;wr[95]=63;function LO(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var i=n===e?0:4-n%4;return[n,i]}function q4e(t){var e=LO(t),n=e[0],i=e[1];return(n+i)*3/4-i}function eSe(t,e,n){return(e+n)*3/4-n}function tSe(t){var e,n=LO(t),i=n[0],r=n[1],s=new H4e(eSe(t,i,r)),a=0,o=r>0?i-4:i,l;for(l=0;l<o;l+=4)e=wr[t.charCodeAt(l)]<<18|wr[t.charCodeAt(l+1)]<<12|wr[t.charCodeAt(l+2)]<<6|wr[t.charCodeAt(l+3)],s[a++]=e>>16&255,s[a++]=e>>8&255,s[a++]=e&255;return r===2&&(e=wr[t.charCodeAt(l)]<<2|wr[t.charCodeAt(l+1)]>>4,s[a++]=e&255),r===1&&(e=wr[t.charCodeAt(l)]<<10|wr[t.charCodeAt(l+1)]<<4|wr[t.charCodeAt(l+2)]>>2,s[a++]=e>>8&255,s[a++]=e&255),s}function nSe(t){return Ms[t>>18&63]+Ms[t>>12&63]+Ms[t>>6&63]+Ms[t&63]}function iSe(t,e,n){for(var i,r=[],s=e;s<n;s+=3)i=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),r.push(nSe(i));return r.join("")}function rSe(t){for(var e,n=t.length,i=n%3,r=[],s=16383,a=0,o=n-i;a<o;a+=s)r.push(iSe(t,a,a+s>o?o:a+s));return i===1?(e=t[n-1],r.push(Ms[e>>2]+Ms[e<<4&63]+"==")):i===2&&(e=(t[n-2]<<8)+t[n-1],r.push(Ms[e>>10]+Ms[e>>4&63]+Ms[e<<2&63]+"=")),r.join("")}var qT={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */qT.read=function(t,e,n,i,r){var s,a,o=r*8-i-1,l=(1<<o)-1,c=l>>1,u=-7,d=n?r-1:0,f=n?-1:1,h=t[e+d];for(d+=f,s=h&(1<<-u)-1,h>>=-u,u+=o;u>0;s=s*256+t[e+d],d+=f,u-=8);for(a=s&(1<<-u)-1,s>>=-u,u+=i;u>0;a=a*256+t[e+d],d+=f,u-=8);if(s===0)s=1-c;else{if(s===l)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,i),s=s-c}return(h?-1:1)*a*Math.pow(2,s-i)};qT.write=function(t,e,n,i,r,s){var a,o,l,c=s*8-r-1,u=(1<<c)-1,d=u>>1,f=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=i?0:s-1,m=i?1:-1,p=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+d>=1?e+=f/l:e+=f*Math.pow(2,1-d),e*l>=2&&(a++,l/=2),a+d>=u?(o=0,a=u):a+d>=1?(o=(e*l-1)*Math.pow(2,r),a=a+d):(o=e*Math.pow(2,d-1)*Math.pow(2,r),a=0));r>=8;t[n+h]=o&255,h+=m,o/=256,r-=8);for(a=a<<r|o,c+=r;c>0;t[n+h]=a&255,h+=m,a/=256,c-=8);t[n+h-m]|=p*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=oy,n=qT,i=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=w,t.INSPECT_MAX_BYTES=50;const r=2147483647;t.kMaxLength=r;const{Uint8Array:s,ArrayBuffer:a,SharedArrayBuffer:o}=globalThis;u.TYPED_ARRAY_SUPPORT=l(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const C=new s(1),L={foo:function(){return 42}};return Object.setPrototypeOf(L,s.prototype),Object.setPrototypeOf(C,L),C.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function c(C){if(C>r)throw new RangeError('The value "'+C+'" is invalid for option "size"');const L=new s(C);return Object.setPrototypeOf(L,u.prototype),L}function u(C,L,U){if(typeof C=="number"){if(typeof L=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(C)}return d(C,L,U)}u.poolSize=8192;function d(C,L,U){if(typeof C=="string")return p(C,L);if(a.isView(C))return y(C);if(C==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C);if(pt(C,a)||C&&pt(C.buffer,a)||typeof o<"u"&&(pt(C,o)||C&&pt(C.buffer,o)))return E(C,L,U);if(typeof C=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const J=C.valueOf&&C.valueOf();if(J!=null&&J!==C)return u.from(J,L,U);const re=S(C);if(re)return re;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof C[Symbol.toPrimitive]=="function")return u.from(C[Symbol.toPrimitive]("string"),L,U);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof C)}u.from=function(C,L,U){return d(C,L,U)},Object.setPrototypeOf(u.prototype,s.prototype),Object.setPrototypeOf(u,s);function f(C){if(typeof C!="number")throw new TypeError('"size" argument must be of type number');if(C<0)throw new RangeError('The value "'+C+'" is invalid for option "size"')}function h(C,L,U){return f(C),C<=0?c(C):L!==void 0?typeof U=="string"?c(C).fill(L,U):c(C).fill(L):c(C)}u.alloc=function(C,L,U){return h(C,L,U)};function m(C){return f(C),c(C<0?0:I(C)|0)}u.allocUnsafe=function(C){return m(C)},u.allocUnsafeSlow=function(C){return m(C)};function p(C,L){if((typeof L!="string"||L==="")&&(L="utf8"),!u.isEncoding(L))throw new TypeError("Unknown encoding: "+L);const U=N(C,L)|0;let J=c(U);const re=J.write(C,L);return re!==U&&(J=J.slice(0,re)),J}function v(C){const L=C.length<0?0:I(C.length)|0,U=c(L);for(let J=0;J<L;J+=1)U[J]=C[J]&255;return U}function y(C){if(pt(C,s)){const L=new s(C);return E(L.buffer,L.byteOffset,L.byteLength)}return v(C)}function E(C,L,U){if(L<0||C.byteLength<L)throw new RangeError('"offset" is outside of buffer bounds');if(C.byteLength<L+(U||0))throw new RangeError('"length" is outside of buffer bounds');let J;return L===void 0&&U===void 0?J=new s(C):U===void 0?J=new s(C,L):J=new s(C,L,U),Object.setPrototypeOf(J,u.prototype),J}function S(C){if(u.isBuffer(C)){const L=I(C.length)|0,U=c(L);return U.length===0||C.copy(U,0,0,L),U}if(C.length!==void 0)return typeof C.length!="number"||qe(C.length)?c(0):v(C);if(C.type==="Buffer"&&Array.isArray(C.data))return v(C.data)}function I(C){if(C>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return C|0}function w(C){return+C!=C&&(C=0),u.alloc(+C)}u.isBuffer=function(C){return C!=null&&C._isBuffer===!0&&C!==u.prototype},u.compare=function(C,L){if(pt(C,s)&&(C=u.from(C,C.offset,C.byteLength)),pt(L,s)&&(L=u.from(L,L.offset,L.byteLength)),!u.isBuffer(C)||!u.isBuffer(L))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(C===L)return 0;let U=C.length,J=L.length;for(let re=0,ye=Math.min(U,J);re<ye;++re)if(C[re]!==L[re]){U=C[re],J=L[re];break}return U<J?-1:J<U?1:0},u.isEncoding=function(C){switch(String(C).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(C,L){if(!Array.isArray(C))throw new TypeError('"list" argument must be an Array of Buffers');if(C.length===0)return u.alloc(0);let U;if(L===void 0)for(L=0,U=0;U<C.length;++U)L+=C[U].length;const J=u.allocUnsafe(L);let re=0;for(U=0;U<C.length;++U){let ye=C[U];if(pt(ye,s))re+ye.length>J.length?(u.isBuffer(ye)||(ye=u.from(ye)),ye.copy(J,re)):s.prototype.set.call(J,ye,re);else if(u.isBuffer(ye))ye.copy(J,re);else throw new TypeError('"list" argument must be an Array of Buffers');re+=ye.length}return J};function N(C,L){if(u.isBuffer(C))return C.length;if(a.isView(C)||pt(C,a))return C.byteLength;if(typeof C!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof C);const U=C.length,J=arguments.length>2&&arguments[2]===!0;if(!J&&U===0)return 0;let re=!1;for(;;)switch(L){case"ascii":case"latin1":case"binary":return U;case"utf8":case"utf-8":return De(C).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U*2;case"hex":return U>>>1;case"base64":return nt(C).length;default:if(re)return J?-1:De(C).length;L=(""+L).toLowerCase(),re=!0}}u.byteLength=N;function F(C,L,U){let J=!1;if((L===void 0||L<0)&&(L=0),L>this.length||((U===void 0||U>this.length)&&(U=this.length),U<=0)||(U>>>=0,L>>>=0,U<=L))return"";for(C||(C="utf8");;)switch(C){case"hex":return D(this,L,U);case"utf8":case"utf-8":return _e(this,L,U);case"ascii":return q(this,L,U);case"latin1":case"binary":return Re(this,L,U);case"base64":return be(this,L,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H(this,L,U);default:if(J)throw new TypeError("Unknown encoding: "+C);C=(C+"").toLowerCase(),J=!0}}u.prototype._isBuffer=!0;function W(C,L,U){const J=C[L];C[L]=C[U],C[U]=J}u.prototype.swap16=function(){const C=this.length;if(C%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let L=0;L<C;L+=2)W(this,L,L+1);return this},u.prototype.swap32=function(){const C=this.length;if(C%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let L=0;L<C;L+=4)W(this,L,L+3),W(this,L+1,L+2);return this},u.prototype.swap64=function(){const C=this.length;if(C%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let L=0;L<C;L+=8)W(this,L,L+7),W(this,L+1,L+6),W(this,L+2,L+5),W(this,L+3,L+4);return this},u.prototype.toString=function(){const C=this.length;return C===0?"":arguments.length===0?_e(this,0,C):F.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(C){if(!u.isBuffer(C))throw new TypeError("Argument must be a Buffer");return this===C?!0:u.compare(this,C)===0},u.prototype.inspect=function(){let C="";const L=t.INSPECT_MAX_BYTES;return C=this.toString("hex",0,L).replace(/(.{2})/g,"$1 ").trim(),this.length>L&&(C+=" ... "),"<Buffer "+C+">"},i&&(u.prototype[i]=u.prototype.inspect),u.prototype.compare=function(C,L,U,J,re){if(pt(C,s)&&(C=u.from(C,C.offset,C.byteLength)),!u.isBuffer(C))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof C);if(L===void 0&&(L=0),U===void 0&&(U=C?C.length:0),J===void 0&&(J=0),re===void 0&&(re=this.length),L<0||U>C.length||J<0||re>this.length)throw new RangeError("out of range index");if(J>=re&&L>=U)return 0;if(J>=re)return-1;if(L>=U)return 1;if(L>>>=0,U>>>=0,J>>>=0,re>>>=0,this===C)return 0;let ye=re-J,Ne=U-L;const Rt=Math.min(ye,Ne),An=this.slice(J,re),Nt=C.slice(L,U);for(let At=0;At<Rt;++At)if(An[At]!==Nt[At]){ye=An[At],Ne=Nt[At];break}return ye<Ne?-1:Ne<ye?1:0};function Z(C,L,U,J,re){if(C.length===0)return-1;if(typeof U=="string"?(J=U,U=0):U>2147483647?U=2147483647:U<-2147483648&&(U=-2147483648),U=+U,qe(U)&&(U=re?0:C.length-1),U<0&&(U=C.length+U),U>=C.length){if(re)return-1;U=C.length-1}else if(U<0)if(re)U=0;else return-1;if(typeof L=="string"&&(L=u.from(L,J)),u.isBuffer(L))return L.length===0?-1:O(C,L,U,J,re);if(typeof L=="number")return L=L&255,typeof s.prototype.indexOf=="function"?re?s.prototype.indexOf.call(C,L,U):s.prototype.lastIndexOf.call(C,L,U):O(C,[L],U,J,re);throw new TypeError("val must be string, number or Buffer")}function O(C,L,U,J,re){let ye=1,Ne=C.length,Rt=L.length;if(J!==void 0&&(J=String(J).toLowerCase(),J==="ucs2"||J==="ucs-2"||J==="utf16le"||J==="utf-16le")){if(C.length<2||L.length<2)return-1;ye=2,Ne/=2,Rt/=2,U/=2}function An(At,en){return ye===1?At[en]:At.readUInt16BE(en*ye)}let Nt;if(re){let At=-1;for(Nt=U;Nt<Ne;Nt++)if(An(C,Nt)===An(L,At===-1?0:Nt-At)){if(At===-1&&(At=Nt),Nt-At+1===Rt)return At*ye}else At!==-1&&(Nt-=Nt-At),At=-1}else for(U+Rt>Ne&&(U=Ne-Rt),Nt=U;Nt>=0;Nt--){let At=!0;for(let en=0;en<Rt;en++)if(An(C,Nt+en)!==An(L,en)){At=!1;break}if(At)return Nt}return-1}u.prototype.includes=function(C,L,U){return this.indexOf(C,L,U)!==-1},u.prototype.indexOf=function(C,L,U){return Z(this,C,L,U,!0)},u.prototype.lastIndexOf=function(C,L,U){return Z(this,C,L,U,!1)};function K(C,L,U,J){U=Number(U)||0;const re=C.length-U;J?(J=Number(J),J>re&&(J=re)):J=re;const ye=L.length;J>ye/2&&(J=ye/2);let Ne;for(Ne=0;Ne<J;++Ne){const Rt=parseInt(L.substr(Ne*2,2),16);if(qe(Rt))return Ne;C[U+Ne]=Rt}return Ne}function fe(C,L,U,J){return ze(De(L,C.length-U),C,U,J)}function z(C,L,U,J){return ze(ot(L),C,U,J)}function pe(C,L,U,J){return ze(nt(L),C,U,J)}function de(C,L,U,J){return ze(it(L,C.length-U),C,U,J)}u.prototype.write=function(C,L,U,J){if(L===void 0)J="utf8",U=this.length,L=0;else if(U===void 0&&typeof L=="string")J=L,U=this.length,L=0;else if(isFinite(L))L=L>>>0,isFinite(U)?(U=U>>>0,J===void 0&&(J="utf8")):(J=U,U=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const re=this.length-L;if((U===void 0||U>re)&&(U=re),C.length>0&&(U<0||L<0)||L>this.length)throw new RangeError("Attempt to write outside buffer bounds");J||(J="utf8");let ye=!1;for(;;)switch(J){case"hex":return K(this,C,L,U);case"utf8":case"utf-8":return fe(this,C,L,U);case"ascii":case"latin1":case"binary":return z(this,C,L,U);case"base64":return pe(this,C,L,U);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,C,L,U);default:if(ye)throw new TypeError("Unknown encoding: "+J);J=(""+J).toLowerCase(),ye=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function be(C,L,U){return L===0&&U===C.length?e.fromByteArray(C):e.fromByteArray(C.slice(L,U))}function _e(C,L,U){U=Math.min(C.length,U);const J=[];let re=L;for(;re<U;){const ye=C[re];let Ne=null,Rt=ye>239?4:ye>223?3:ye>191?2:1;if(re+Rt<=U){let An,Nt,At,en;switch(Rt){case 1:ye<128&&(Ne=ye);break;case 2:An=C[re+1],(An&192)===128&&(en=(ye&31)<<6|An&63,en>127&&(Ne=en));break;case 3:An=C[re+1],Nt=C[re+2],(An&192)===128&&(Nt&192)===128&&(en=(ye&15)<<12|(An&63)<<6|Nt&63,en>2047&&(en<55296||en>57343)&&(Ne=en));break;case 4:An=C[re+1],Nt=C[re+2],At=C[re+3],(An&192)===128&&(Nt&192)===128&&(At&192)===128&&(en=(ye&15)<<18|(An&63)<<12|(Nt&63)<<6|At&63,en>65535&&en<1114112&&(Ne=en))}}Ne===null?(Ne=65533,Rt=1):Ne>65535&&(Ne-=65536,J.push(Ne>>>10&1023|55296),Ne=56320|Ne&1023),J.push(Ne),re+=Rt}return Q(J)}const me=4096;function Q(C){const L=C.length;if(L<=me)return String.fromCharCode.apply(String,C);let U="",J=0;for(;J<L;)U+=String.fromCharCode.apply(String,C.slice(J,J+=me));return U}function q(C,L,U){let J="";U=Math.min(C.length,U);for(let re=L;re<U;++re)J+=String.fromCharCode(C[re]&127);return J}function Re(C,L,U){let J="";U=Math.min(C.length,U);for(let re=L;re<U;++re)J+=String.fromCharCode(C[re]);return J}function D(C,L,U){const J=C.length;(!L||L<0)&&(L=0),(!U||U<0||U>J)&&(U=J);let re="";for(let ye=L;ye<U;++ye)re+=ht[C[ye]];return re}function H(C,L,U){const J=C.slice(L,U);let re="";for(let ye=0;ye<J.length-1;ye+=2)re+=String.fromCharCode(J[ye]+J[ye+1]*256);return re}u.prototype.slice=function(C,L){const U=this.length;C=~~C,L=L===void 0?U:~~L,C<0?(C+=U,C<0&&(C=0)):C>U&&(C=U),L<0?(L+=U,L<0&&(L=0)):L>U&&(L=U),L<C&&(L=C);const J=this.subarray(C,L);return Object.setPrototypeOf(J,u.prototype),J};function ie(C,L,U){if(C%1!==0||C<0)throw new RangeError("offset is not uint");if(C+L>U)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(C,L,U){C=C>>>0,L=L>>>0,U||ie(C,L,this.length);let J=this[C],re=1,ye=0;for(;++ye<L&&(re*=256);)J+=this[C+ye]*re;return J},u.prototype.readUintBE=u.prototype.readUIntBE=function(C,L,U){C=C>>>0,L=L>>>0,U||ie(C,L,this.length);let J=this[C+--L],re=1;for(;L>0&&(re*=256);)J+=this[C+--L]*re;return J},u.prototype.readUint8=u.prototype.readUInt8=function(C,L){return C=C>>>0,L||ie(C,1,this.length),this[C]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(C,L){return C=C>>>0,L||ie(C,2,this.length),this[C]|this[C+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(C,L){return C=C>>>0,L||ie(C,2,this.length),this[C]<<8|this[C+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(C,L){return C=C>>>0,L||ie(C,4,this.length),(this[C]|this[C+1]<<8|this[C+2]<<16)+this[C+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(C,L){return C=C>>>0,L||ie(C,4,this.length),this[C]*16777216+(this[C+1]<<16|this[C+2]<<8|this[C+3])},u.prototype.readBigUInt64LE=Vt(function(C){C=C>>>0,we(C,"offset");const L=this[C],U=this[C+7];(L===void 0||U===void 0)&&Be(C,this.length-8);const J=L+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24,re=this[++C]+this[++C]*2**8+this[++C]*2**16+U*2**24;return BigInt(J)+(BigInt(re)<<BigInt(32))}),u.prototype.readBigUInt64BE=Vt(function(C){C=C>>>0,we(C,"offset");const L=this[C],U=this[C+7];(L===void 0||U===void 0)&&Be(C,this.length-8);const J=L*2**24+this[++C]*2**16+this[++C]*2**8+this[++C],re=this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+U;return(BigInt(J)<<BigInt(32))+BigInt(re)}),u.prototype.readIntLE=function(C,L,U){C=C>>>0,L=L>>>0,U||ie(C,L,this.length);let J=this[C],re=1,ye=0;for(;++ye<L&&(re*=256);)J+=this[C+ye]*re;return re*=128,J>=re&&(J-=Math.pow(2,8*L)),J},u.prototype.readIntBE=function(C,L,U){C=C>>>0,L=L>>>0,U||ie(C,L,this.length);let J=L,re=1,ye=this[C+--J];for(;J>0&&(re*=256);)ye+=this[C+--J]*re;return re*=128,ye>=re&&(ye-=Math.pow(2,8*L)),ye},u.prototype.readInt8=function(C,L){return C=C>>>0,L||ie(C,1,this.length),this[C]&128?(255-this[C]+1)*-1:this[C]},u.prototype.readInt16LE=function(C,L){C=C>>>0,L||ie(C,2,this.length);const U=this[C]|this[C+1]<<8;return U&32768?U|4294901760:U},u.prototype.readInt16BE=function(C,L){C=C>>>0,L||ie(C,2,this.length);const U=this[C+1]|this[C]<<8;return U&32768?U|4294901760:U},u.prototype.readInt32LE=function(C,L){return C=C>>>0,L||ie(C,4,this.length),this[C]|this[C+1]<<8|this[C+2]<<16|this[C+3]<<24},u.prototype.readInt32BE=function(C,L){return C=C>>>0,L||ie(C,4,this.length),this[C]<<24|this[C+1]<<16|this[C+2]<<8|this[C+3]},u.prototype.readBigInt64LE=Vt(function(C){C=C>>>0,we(C,"offset");const L=this[C],U=this[C+7];(L===void 0||U===void 0)&&Be(C,this.length-8);const J=this[C+4]+this[C+5]*2**8+this[C+6]*2**16+(U<<24);return(BigInt(J)<<BigInt(32))+BigInt(L+this[++C]*2**8+this[++C]*2**16+this[++C]*2**24)}),u.prototype.readBigInt64BE=Vt(function(C){C=C>>>0,we(C,"offset");const L=this[C],U=this[C+7];(L===void 0||U===void 0)&&Be(C,this.length-8);const J=(L<<24)+this[++C]*2**16+this[++C]*2**8+this[++C];return(BigInt(J)<<BigInt(32))+BigInt(this[++C]*2**24+this[++C]*2**16+this[++C]*2**8+U)}),u.prototype.readFloatLE=function(C,L){return C=C>>>0,L||ie(C,4,this.length),n.read(this,C,!0,23,4)},u.prototype.readFloatBE=function(C,L){return C=C>>>0,L||ie(C,4,this.length),n.read(this,C,!1,23,4)},u.prototype.readDoubleLE=function(C,L){return C=C>>>0,L||ie(C,8,this.length),n.read(this,C,!0,52,8)},u.prototype.readDoubleBE=function(C,L){return C=C>>>0,L||ie(C,8,this.length),n.read(this,C,!1,52,8)};function ne(C,L,U,J,re,ye){if(!u.isBuffer(C))throw new TypeError('"buffer" argument must be a Buffer instance');if(L>re||L<ye)throw new RangeError('"value" argument is out of bounds');if(U+J>C.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(C,L,U,J){if(C=+C,L=L>>>0,U=U>>>0,!J){const Ne=Math.pow(2,8*U)-1;ne(this,C,L,U,Ne,0)}let re=1,ye=0;for(this[L]=C&255;++ye<U&&(re*=256);)this[L+ye]=C/re&255;return L+U},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(C,L,U,J){if(C=+C,L=L>>>0,U=U>>>0,!J){const Ne=Math.pow(2,8*U)-1;ne(this,C,L,U,Ne,0)}let re=U-1,ye=1;for(this[L+re]=C&255;--re>=0&&(ye*=256);)this[L+re]=C/ye&255;return L+U},u.prototype.writeUint8=u.prototype.writeUInt8=function(C,L,U){return C=+C,L=L>>>0,U||ne(this,C,L,1,255,0),this[L]=C&255,L+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(C,L,U){return C=+C,L=L>>>0,U||ne(this,C,L,2,65535,0),this[L]=C&255,this[L+1]=C>>>8,L+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(C,L,U){return C=+C,L=L>>>0,U||ne(this,C,L,2,65535,0),this[L]=C>>>8,this[L+1]=C&255,L+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(C,L,U){return C=+C,L=L>>>0,U||ne(this,C,L,4,4294967295,0),this[L+3]=C>>>24,this[L+2]=C>>>16,this[L+1]=C>>>8,this[L]=C&255,L+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(C,L,U){return C=+C,L=L>>>0,U||ne(this,C,L,4,4294967295,0),this[L]=C>>>24,this[L+1]=C>>>16,this[L+2]=C>>>8,this[L+3]=C&255,L+4};function Se(C,L,U,J,re){ge(L,J,re,C,U,7);let ye=Number(L&BigInt(4294967295));C[U++]=ye,ye=ye>>8,C[U++]=ye,ye=ye>>8,C[U++]=ye,ye=ye>>8,C[U++]=ye;let Ne=Number(L>>BigInt(32)&BigInt(4294967295));return C[U++]=Ne,Ne=Ne>>8,C[U++]=Ne,Ne=Ne>>8,C[U++]=Ne,Ne=Ne>>8,C[U++]=Ne,U}function ke(C,L,U,J,re){ge(L,J,re,C,U,7);let ye=Number(L&BigInt(4294967295));C[U+7]=ye,ye=ye>>8,C[U+6]=ye,ye=ye>>8,C[U+5]=ye,ye=ye>>8,C[U+4]=ye;let Ne=Number(L>>BigInt(32)&BigInt(4294967295));return C[U+3]=Ne,Ne=Ne>>8,C[U+2]=Ne,Ne=Ne>>8,C[U+1]=Ne,Ne=Ne>>8,C[U]=Ne,U+8}u.prototype.writeBigUInt64LE=Vt(function(C,L=0){return Se(this,C,L,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Vt(function(C,L=0){return ke(this,C,L,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(C,L,U,J){if(C=+C,L=L>>>0,!J){const Rt=Math.pow(2,8*U-1);ne(this,C,L,U,Rt-1,-Rt)}let re=0,ye=1,Ne=0;for(this[L]=C&255;++re<U&&(ye*=256);)C<0&&Ne===0&&this[L+re-1]!==0&&(Ne=1),this[L+re]=(C/ye>>0)-Ne&255;return L+U},u.prototype.writeIntBE=function(C,L,U,J){if(C=+C,L=L>>>0,!J){const Rt=Math.pow(2,8*U-1);ne(this,C,L,U,Rt-1,-Rt)}let re=U-1,ye=1,Ne=0;for(this[L+re]=C&255;--re>=0&&(ye*=256);)C<0&&Ne===0&&this[L+re+1]!==0&&(Ne=1),this[L+re]=(C/ye>>0)-Ne&255;return L+U},u.prototype.writeInt8=function(C,L,U){return C=+C,L=L>>>0,U||ne(this,C,L,1,127,-128),C<0&&(C=255+C+1),this[L]=C&255,L+1},u.prototype.writeInt16LE=function(C,L,U){return C=+C,L=L>>>0,U||ne(this,C,L,2,32767,-32768),this[L]=C&255,this[L+1]=C>>>8,L+2},u.prototype.writeInt16BE=function(C,L,U){return C=+C,L=L>>>0,U||ne(this,C,L,2,32767,-32768),this[L]=C>>>8,this[L+1]=C&255,L+2},u.prototype.writeInt32LE=function(C,L,U){return C=+C,L=L>>>0,U||ne(this,C,L,4,2147483647,-2147483648),this[L]=C&255,this[L+1]=C>>>8,this[L+2]=C>>>16,this[L+3]=C>>>24,L+4},u.prototype.writeInt32BE=function(C,L,U){return C=+C,L=L>>>0,U||ne(this,C,L,4,2147483647,-2147483648),C<0&&(C=4294967295+C+1),this[L]=C>>>24,this[L+1]=C>>>16,this[L+2]=C>>>8,this[L+3]=C&255,L+4},u.prototype.writeBigInt64LE=Vt(function(C,L=0){return Se(this,C,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Vt(function(C,L=0){return ke(this,C,L,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function We(C,L,U,J,re,ye){if(U+J>C.length)throw new RangeError("Index out of range");if(U<0)throw new RangeError("Index out of range")}function Pe(C,L,U,J,re){return L=+L,U=U>>>0,re||We(C,L,U,4),n.write(C,L,U,J,23,4),U+4}u.prototype.writeFloatLE=function(C,L,U){return Pe(this,C,L,!0,U)},u.prototype.writeFloatBE=function(C,L,U){return Pe(this,C,L,!1,U)};function $e(C,L,U,J,re){return L=+L,U=U>>>0,re||We(C,L,U,8),n.write(C,L,U,J,52,8),U+8}u.prototype.writeDoubleLE=function(C,L,U){return $e(this,C,L,!0,U)},u.prototype.writeDoubleBE=function(C,L,U){return $e(this,C,L,!1,U)},u.prototype.copy=function(C,L,U,J){if(!u.isBuffer(C))throw new TypeError("argument should be a Buffer");if(U||(U=0),!J&&J!==0&&(J=this.length),L>=C.length&&(L=C.length),L||(L=0),J>0&&J<U&&(J=U),J===U||C.length===0||this.length===0)return 0;if(L<0)throw new RangeError("targetStart out of bounds");if(U<0||U>=this.length)throw new RangeError("Index out of range");if(J<0)throw new RangeError("sourceEnd out of bounds");J>this.length&&(J=this.length),C.length-L<J-U&&(J=C.length-L+U);const re=J-U;return this===C&&typeof s.prototype.copyWithin=="function"?this.copyWithin(L,U,J):s.prototype.set.call(C,this.subarray(U,J),L),re},u.prototype.fill=function(C,L,U,J){if(typeof C=="string"){if(typeof L=="string"?(J=L,L=0,U=this.length):typeof U=="string"&&(J=U,U=this.length),J!==void 0&&typeof J!="string")throw new TypeError("encoding must be a string");if(typeof J=="string"&&!u.isEncoding(J))throw new TypeError("Unknown encoding: "+J);if(C.length===1){const ye=C.charCodeAt(0);(J==="utf8"&&ye<128||J==="latin1")&&(C=ye)}}else typeof C=="number"?C=C&255:typeof C=="boolean"&&(C=Number(C));if(L<0||this.length<L||this.length<U)throw new RangeError("Out of range index");if(U<=L)return this;L=L>>>0,U=U===void 0?this.length:U>>>0,C||(C=0);let re;if(typeof C=="number")for(re=L;re<U;++re)this[re]=C;else{const ye=u.isBuffer(C)?C:u.from(C,J),Ne=ye.length;if(Ne===0)throw new TypeError('The value "'+C+'" is invalid for argument "value"');for(re=0;re<U-L;++re)this[re+L]=ye[re%Ne]}return this};const ae={};function Y(C,L,U){ae[C]=class extends U{constructor(){super(),Object.defineProperty(this,"message",{value:L.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${C}]`,this.stack,delete this.name}get code(){return C}set code(J){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:J,writable:!0})}toString(){return`${this.name} [${C}]: ${this.message}`}}}Y("ERR_BUFFER_OUT_OF_BOUNDS",function(C){return C?`${C} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Y("ERR_INVALID_ARG_TYPE",function(C,L){return`The "${C}" argument must be of type number. Received type ${typeof L}`},TypeError),Y("ERR_OUT_OF_RANGE",function(C,L,U){let J=`The value of "${C}" is out of range.`,re=U;return Number.isInteger(U)&&Math.abs(U)>2**32?re=te(String(U)):typeof U=="bigint"&&(re=String(U),(U>BigInt(2)**BigInt(32)||U<-(BigInt(2)**BigInt(32)))&&(re=te(re)),re+="n"),J+=` It must be ${L}. Received ${re}`,J},RangeError);function te(C){let L="",U=C.length;const J=C[0]==="-"?1:0;for(;U>=J+4;U-=3)L=`_${C.slice(U-3,U)}${L}`;return`${C.slice(0,U)}${L}`}function ce(C,L,U){we(L,"offset"),(C[L]===void 0||C[L+U]===void 0)&&Be(L,C.length-(U+1))}function ge(C,L,U,J,re,ye){if(C>U||C<L){const Ne=typeof L=="bigint"?"n":"";let Rt;throw L===0||L===BigInt(0)?Rt=`>= 0${Ne} and < 2${Ne} ** ${(ye+1)*8}${Ne}`:Rt=`>= -(2${Ne} ** ${(ye+1)*8-1}${Ne}) and < 2 ** ${(ye+1)*8-1}${Ne}`,new ae.ERR_OUT_OF_RANGE("value",Rt,C)}ce(J,re,ye)}function we(C,L){if(typeof C!="number")throw new ae.ERR_INVALID_ARG_TYPE(L,"number",C)}function Be(C,L,U){throw Math.floor(C)!==C?(we(C,U),new ae.ERR_OUT_OF_RANGE("offset","an integer",C)):L<0?new ae.ERR_BUFFER_OUT_OF_BOUNDS:new ae.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${L}`,C)}const Ge=/[^+/0-9A-Za-z-_]/g;function le(C){if(C=C.split("=")[0],C=C.trim().replace(Ge,""),C.length<2)return"";for(;C.length%4!==0;)C=C+"=";return C}function De(C,L){L=L||1/0;let U;const J=C.length;let re=null;const ye=[];for(let Ne=0;Ne<J;++Ne){if(U=C.charCodeAt(Ne),U>55295&&U<57344){if(!re){if(U>56319){(L-=3)>-1&&ye.push(239,191,189);continue}else if(Ne+1===J){(L-=3)>-1&&ye.push(239,191,189);continue}re=U;continue}if(U<56320){(L-=3)>-1&&ye.push(239,191,189),re=U;continue}U=(re-55296<<10|U-56320)+65536}else re&&(L-=3)>-1&&ye.push(239,191,189);if(re=null,U<128){if((L-=1)<0)break;ye.push(U)}else if(U<2048){if((L-=2)<0)break;ye.push(U>>6|192,U&63|128)}else if(U<65536){if((L-=3)<0)break;ye.push(U>>12|224,U>>6&63|128,U&63|128)}else if(U<1114112){if((L-=4)<0)break;ye.push(U>>18|240,U>>12&63|128,U>>6&63|128,U&63|128)}else throw new Error("Invalid code point")}return ye}function ot(C){const L=[];for(let U=0;U<C.length;++U)L.push(C.charCodeAt(U)&255);return L}function it(C,L){let U,J,re;const ye=[];for(let Ne=0;Ne<C.length&&!((L-=2)<0);++Ne)U=C.charCodeAt(Ne),J=U>>8,re=U%256,ye.push(re),ye.push(J);return ye}function nt(C){return e.toByteArray(le(C))}function ze(C,L,U,J){let re;for(re=0;re<J&&!(re+U>=L.length||re>=C.length);++re)L[re+U]=C[re];return re}function pt(C,L){return C instanceof L||C!=null&&C.constructor!=null&&C.constructor.name!=null&&C.constructor.name===L.name}function qe(C){return C!==C}const ht=function(){const C="0123456789abcdef",L=new Array(256);for(let U=0;U<16;++U){const J=U*16;for(let re=0;re<16;++re)L[J+re]=C[U]+C[re]}return L}();function Vt(C){return typeof BigInt>"u"?Zt:C}function Zt(){throw new Error("BigInt not supported")}})(FO);const sSe=FO.Buffer;var aSe=function(t){return $.atob?$.atob(t):sSe.from(t,"base64").toString("binary")};function UO(t){for(var e=aSe(t),n=new Uint8Array(e.length),i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class oSe extends QT{constructor(){super(),this.buffer=""}push(e){let n;for(this.buffer+=e,n=this.buffer.indexOf(`
`);n>-1;n=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,n)),this.buffer=this.buffer.substring(n+1)}}const lSe="	",F5=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),n={};return e[1]&&(n.length=parseInt(e[1],10)),e[2]&&(n.offset=parseInt(e[2],10)),n},cSe=function(){const t='(?:[^=]*)=(?:"[^"]*"|[^,]*)';return new RegExp("(?:^|,)("+t+")")},Vi=function(t){const e={};if(!t)return e;const n=t.split(cSe());let i=n.length,r;for(;i--;)n[i]!==""&&(r=/([^=]*)=(.*)/.exec(n[i]).slice(1),r[0]=r[0].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^\s+|\s+$/g,""),r[1]=r[1].replace(/^['"](.*)['"]$/g,"$1"),e[r[0]]=r[1]);return e},c_=t=>{const e=t.split("x"),n={};return e[0]&&(n.width=parseInt(e[0],10)),e[1]&&(n.height=parseInt(e[1],10)),n};class uSe extends QT{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let n,i;if(e=e.trim(),e.length!==0){if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((r,s)=>{const a=s(e);return a===e?r:r.concat([a])},[e]).forEach(r=>{for(let s=0;s<this.customParsers.length;s++)if(this.customParsers[s].call(this,r))return;if(r.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:r.slice(1)});return}if(r=r.replace("\r",""),n=/^#EXTM3U/.exec(r),n){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(n=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(r),n){i={type:"tag",tagType:"inf"},n[1]&&(i.duration=parseFloat(n[1])),n[2]&&(i.title=n[2]),this.trigger("data",i);return}if(n=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(r),n){i={type:"tag",tagType:"targetduration"},n[1]&&(i.duration=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-VERSION:([0-9.]*)?/.exec(r),n){i={type:"tag",tagType:"version"},n[1]&&(i.version=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(r),n){i={type:"tag",tagType:"media-sequence"},n[1]&&(i.number=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(r),n){i={type:"tag",tagType:"discontinuity-sequence"},n[1]&&(i.number=parseInt(n[1],10)),this.trigger("data",i);return}if(n=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(r),n){i={type:"tag",tagType:"playlist-type"},n[1]&&(i.playlistType=n[1]),this.trigger("data",i);return}if(n=/^#EXT-X-BYTERANGE:(.*)?$/.exec(r),n){i=xn(F5(n[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",i);return}if(n=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(r),n){i={type:"tag",tagType:"allow-cache"},n[1]&&(i.allowed=!/NO/.test(n[1])),this.trigger("data",i);return}if(n=/^#EXT-X-MAP:(.*)$/.exec(r),n){if(i={type:"tag",tagType:"map"},n[1]){const s=Vi(n[1]);s.URI&&(i.uri=s.URI),s.BYTERANGE&&(i.byterange=F5(s.BYTERANGE))}this.trigger("data",i);return}if(n=/^#EXT-X-STREAM-INF:(.*)$/.exec(r),n){i={type:"tag",tagType:"stream-inf"},n[1]&&(i.attributes=Vi(n[1]),i.attributes.RESOLUTION&&(i.attributes.RESOLUTION=c_(i.attributes.RESOLUTION)),i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))),this.trigger("data",i);return}if(n=/^#EXT-X-MEDIA:(.*)$/.exec(r),n){i={type:"tag",tagType:"media"},n[1]&&(i.attributes=Vi(n[1])),this.trigger("data",i);return}if(n=/^#EXT-X-ENDLIST/.exec(r),n){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(n=/^#EXT-X-DISCONTINUITY/.exec(r),n){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(n=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(r),n){i={type:"tag",tagType:"program-date-time"},n[1]&&(i.dateTimeString=n[1],i.dateTimeObject=new Date(n[1])),this.trigger("data",i);return}if(n=/^#EXT-X-KEY:(.*)$/.exec(r),n){i={type:"tag",tagType:"key"},n[1]&&(i.attributes=Vi(n[1]),i.attributes.IV&&(i.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),this.trigger("data",i);return}if(n=/^#EXT-X-START:(.*)$/.exec(r),n){i={type:"tag",tagType:"start"},n[1]&&(i.attributes=Vi(n[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),this.trigger("data",i);return}if(n=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(r),n){i={type:"tag",tagType:"cue-out-cont"},n[1]?i.data=n[1]:i.data="",this.trigger("data",i);return}if(n=/^#EXT-X-CUE-OUT:(.*)?$/.exec(r),n){i={type:"tag",tagType:"cue-out"},n[1]?i.data=n[1]:i.data="",this.trigger("data",i);return}if(n=/^#EXT-X-CUE-IN:?(.*)?$/.exec(r),n){i={type:"tag",tagType:"cue-in"},n[1]?i.data=n[1]:i.data="",this.trigger("data",i);return}if(n=/^#EXT-X-SKIP:(.*)$/.exec(r),n&&n[1]){i={type:"tag",tagType:"skip"},i.attributes=Vi(n[1]),i.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(i.attributes["SKIPPED-SEGMENTS"]=parseInt(i.attributes["SKIPPED-SEGMENTS"],10)),i.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(i.attributes["RECENTLY-REMOVED-DATERANGES"]=i.attributes["RECENTLY-REMOVED-DATERANGES"].split(lSe)),this.trigger("data",i);return}if(n=/^#EXT-X-PART:(.*)$/.exec(r),n&&n[1]){i={type:"tag",tagType:"part"},i.attributes=Vi(n[1]),["DURATION"].forEach(function(s){i.attributes.hasOwnProperty(s)&&(i.attributes[s]=parseFloat(i.attributes[s]))}),["INDEPENDENT","GAP"].forEach(function(s){i.attributes.hasOwnProperty(s)&&(i.attributes[s]=/YES/.test(i.attributes[s]))}),i.attributes.hasOwnProperty("BYTERANGE")&&(i.attributes.byterange=F5(i.attributes.BYTERANGE)),this.trigger("data",i);return}if(n=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(r),n&&n[1]){i={type:"tag",tagType:"server-control"},i.attributes=Vi(n[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(s){i.attributes.hasOwnProperty(s)&&(i.attributes[s]=parseFloat(i.attributes[s]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(s){i.attributes.hasOwnProperty(s)&&(i.attributes[s]=/YES/.test(i.attributes[s]))}),this.trigger("data",i);return}if(n=/^#EXT-X-PART-INF:(.*)$/.exec(r),n&&n[1]){i={type:"tag",tagType:"part-inf"},i.attributes=Vi(n[1]),["PART-TARGET"].forEach(function(s){i.attributes.hasOwnProperty(s)&&(i.attributes[s]=parseFloat(i.attributes[s]))}),this.trigger("data",i);return}if(n=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(r),n&&n[1]){i={type:"tag",tagType:"preload-hint"},i.attributes=Vi(n[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(s){if(i.attributes.hasOwnProperty(s)){i.attributes[s]=parseInt(i.attributes[s],10);const a=s==="BYTERANGE-LENGTH"?"length":"offset";i.attributes.byterange=i.attributes.byterange||{},i.attributes.byterange[a]=i.attributes[s],delete i.attributes[s]}}),this.trigger("data",i);return}if(n=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(r),n&&n[1]){i={type:"tag",tagType:"rendition-report"},i.attributes=Vi(n[1]),["LAST-MSN","LAST-PART"].forEach(function(s){i.attributes.hasOwnProperty(s)&&(i.attributes[s]=parseInt(i.attributes[s],10))}),this.trigger("data",i);return}if(n=/^#EXT-X-DATERANGE:(.*)$/.exec(r),n&&n[1]){i={type:"tag",tagType:"daterange"},i.attributes=Vi(n[1]),["ID","CLASS"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=String(i.attributes[a]))}),["START-DATE","END-DATE"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=new Date(i.attributes[a]))}),["DURATION","PLANNED-DURATION"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=parseFloat(i.attributes[a]))}),["END-ON-NEXT"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=/YES/i.test(i.attributes[a]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(a){i.attributes.hasOwnProperty(a)&&(i.attributes[a]=i.attributes[a].toString(16))});const s=/^X-([A-Z]+-)+[A-Z]+$/;for(const a in i.attributes){if(!s.test(a))continue;const o=/[0-9A-Fa-f]{6}/g.test(i.attributes[a]),l=/^\d+(\.\d+)?$/.test(i.attributes[a]);i.attributes[a]=o?i.attributes[a].toString(16):l?parseFloat(i.attributes[a]):String(i.attributes[a])}this.trigger("data",i);return}if(n=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(r),n){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(n=/^#EXT-X-I-FRAMES-ONLY/.exec(r),n){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(n=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(r),n){i={type:"tag",tagType:"content-steering"},i.attributes=Vi(n[1]),this.trigger("data",i);return}if(n=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(r),n){i={type:"tag",tagType:"i-frame-playlist"},i.attributes=Vi(n[1]),i.attributes.URI&&(i.uri=i.attributes.URI),i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes.RESOLUTION&&(i.attributes.RESOLUTION=c_(i.attributes.RESOLUTION)),i.attributes["AVERAGE-BANDWIDTH"]&&(i.attributes["AVERAGE-BANDWIDTH"]=parseInt(i.attributes["AVERAGE-BANDWIDTH"],10)),i.attributes["FRAME-RATE"]&&(i.attributes["FRAME-RATE"]=parseFloat(i.attributes["FRAME-RATE"])),this.trigger("data",i);return}if(n=/^#EXT-X-DEFINE:(.*)$/.exec(r),n){i={type:"tag",tagType:"define"},i.attributes=Vi(n[1]),this.trigger("data",i);return}this.trigger("data",{type:"tag",data:r.slice(4)})})}}addParser({expression:e,customType:n,dataParser:i,segment:r}){typeof i!="function"&&(i=s=>s),this.customParsers.push(s=>{if(e.exec(s))return this.trigger("data",{type:"custom",data:i(s),customType:n,segment:r}),!0})}addTagMapper({expression:e,map:n}){const i=r=>e.test(r)?n(r):r;this.tagMappers.push(i)}}const dSe=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),Eo=function(t){const e={};return Object.keys(t).forEach(function(n){e[dSe(n)]=t[n]}),e},L5=function(t){const{serverControl:e,targetDuration:n,partTargetDuration:i}=t;if(!e)return;const r="#EXT-X-SERVER-CONTROL",s="holdBack",a="partHoldBack",o=n&&n*3,l=i&&i*2;n&&!e.hasOwnProperty(s)&&(e[s]=o,this.trigger("info",{message:`${r} defaulting HOLD-BACK to targetDuration * 3 (${o}).`})),o&&e[s]<o&&(this.trigger("warn",{message:`${r} clamping HOLD-BACK (${e[s]}) to targetDuration * 3 (${o})`}),e[s]=o),i&&!e.hasOwnProperty(a)&&(e[a]=i*3,this.trigger("info",{message:`${r} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[a]}).`})),i&&e[a]<l&&(this.trigger("warn",{message:`${r} clamping PART-HOLD-BACK (${e[a]}) to partTargetDuration * 2 (${l}).`}),e[a]=l)};class hSe extends QT{constructor(e={}){super(),this.lineStream=new oSe,this.parseStream=new uSe,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const n=this,i=[];let r={},s,a,o=!1;const l=function(){},c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let d=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let f=0,h=0;const m={};this.on("end",()=>{r.uri||!r.parts&&!r.preloadHints||(!r.map&&s&&(r.map=s),!r.key&&a&&(r.key=a),!r.timeline&&typeof d=="number"&&(r.timeline=d),this.manifest.preloadSegment=r)}),this.parseStream.on("data",function(p){let v,y;if(n.manifest.definitions){for(const E in n.manifest.definitions)if(p.uri&&(p.uri=p.uri.replace(`{$${E}}`,n.manifest.definitions[E])),p.attributes)for(const S in p.attributes)typeof p.attributes[S]=="string"&&(p.attributes[S]=p.attributes[S].replace(`{$${E}}`,n.manifest.definitions[E]))}({tag(){({version(){p.version&&(this.manifest.version=p.version)},"allow-cache"(){this.manifest.allowCache=p.allowed,"allowed"in p||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const E={};"length"in p&&(r.byterange=E,E.length=p.length,"offset"in p||(p.offset=f)),"offset"in p&&(r.byterange=E,E.offset=p.offset),f=E.offset+E.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),p.title&&(r.title=p.title),p.duration>0&&(r.duration=p.duration),p.duration===0&&(r.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=i},key(){if(!p.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(p.attributes.METHOD==="NONE"){a=null;return}if(!p.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(p.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:p.attributes};return}if(p.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:p.attributes.URI};return}if(p.attributes.KEYFORMAT===u){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(p.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(p.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),p.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(p.attributes.KEYID&&p.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:p.attributes.KEYFORMAT,keyId:p.attributes.KEYID.substring(2)},pssh:UO(p.attributes.URI.split(",")[1])};return}p.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:p.attributes.METHOD||"AES-128",uri:p.attributes.URI},typeof p.attributes.IV<"u"&&(a.iv=p.attributes.IV)},"media-sequence"(){if(!isFinite(p.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+p.number});return}this.manifest.mediaSequence=p.number},"discontinuity-sequence"(){if(!isFinite(p.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+p.number});return}this.manifest.discontinuitySequence=p.number,d=p.number},"playlist-type"(){if(!/VOD|EVENT/.test(p.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+p.playlist});return}this.manifest.playlistType=p.playlistType},map(){s={},p.uri&&(s.uri=p.uri),p.byterange&&(s.byterange=p.byterange),a&&(s.key=a)},"stream-inf"(){if(this.manifest.playlists=i,this.manifest.mediaGroups=this.manifest.mediaGroups||c,!p.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}r.attributes||(r.attributes={}),xn(r.attributes,p.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,!(p.attributes&&p.attributes.TYPE&&p.attributes["GROUP-ID"]&&p.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const E=this.manifest.mediaGroups[p.attributes.TYPE];E[p.attributes["GROUP-ID"]]=E[p.attributes["GROUP-ID"]]||{},v=E[p.attributes["GROUP-ID"]],y={default:/yes/i.test(p.attributes.DEFAULT)},y.default?y.autoselect=!0:y.autoselect=/yes/i.test(p.attributes.AUTOSELECT),p.attributes.LANGUAGE&&(y.language=p.attributes.LANGUAGE),p.attributes.URI&&(y.uri=p.attributes.URI),p.attributes["INSTREAM-ID"]&&(y.instreamId=p.attributes["INSTREAM-ID"]),p.attributes.CHARACTERISTICS&&(y.characteristics=p.attributes.CHARACTERISTICS),p.attributes.FORCED&&(y.forced=/yes/i.test(p.attributes.FORCED)),v[p.attributes.NAME]=y},discontinuity(){d+=1,r.discontinuity=!0,this.manifest.discontinuityStarts.push(i.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=p.dateTimeString,this.manifest.dateTimeObject=p.dateTimeObject),r.dateTimeString=p.dateTimeString,r.dateTimeObject=p.dateTimeObject;const{lastProgramDateTime:E}=this;this.lastProgramDateTime=new Date(p.dateTimeString).getTime(),E===null&&this.manifest.segments.reduceRight((S,I)=>(I.programDateTime=S-I.duration*1e3,I.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(p.duration)||p.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+p.duration});return}this.manifest.targetDuration=p.duration,L5.call(this,this.manifest)},start(){if(!p.attributes||isNaN(p.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:p.attributes["TIME-OFFSET"],precise:p.attributes.PRECISE}},"cue-out"(){r.cueOut=p.data},"cue-out-cont"(){r.cueOutCont=p.data},"cue-in"(){r.cueIn=p.data},skip(){this.manifest.skip=Eo(p.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",p.attributes,["SKIPPED-SEGMENTS"])},part(){o=!0;const E=this.manifest.segments.length,S=Eo(p.attributes);r.parts=r.parts||[],r.parts.push(S),S.byterange&&(S.byterange.hasOwnProperty("offset")||(S.byterange.offset=h),h=S.byterange.offset+S.byterange.length);const I=r.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${I} for segment #${E}`,p.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((w,N)=>{w.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${N} lacks required attribute(s): LAST-PART`})})},"server-control"(){const E=this.manifest.serverControl=Eo(p.attributes);E.hasOwnProperty("canBlockReload")||(E.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),L5.call(this,this.manifest),E.canSkipDateranges&&!E.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const E=this.manifest.segments.length,S=Eo(p.attributes),I=S.type&&S.type==="PART";r.preloadHints=r.preloadHints||[],r.preloadHints.push(S),S.byterange&&(S.byterange.hasOwnProperty("offset")||(S.byterange.offset=I?h:0,I&&(h=S.byterange.offset+S.byterange.length)));const w=r.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${w} for segment #${E}`,p.attributes,["TYPE","URI"]),!!S.type)for(let N=0;N<r.preloadHints.length-1;N++){const F=r.preloadHints[N];F.type&&F.type===S.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${w} for segment #${E} has the same TYPE ${S.type} as preload hint #${N}`})}},"rendition-report"(){const E=Eo(p.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(E);const S=this.manifest.renditionReports.length-1,I=["LAST-MSN","URI"];o&&I.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${S}`,p.attributes,I)},"part-inf"(){this.manifest.partInf=Eo(p.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",p.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),L5.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(Eo(p.attributes));const E=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${E}`,p.attributes,["ID","START-DATE"]);const S=this.manifest.dateRanges[E];S.endDate&&S.startDate&&new Date(S.endDate)<new Date(S.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),S.duration&&S.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),S.plannedDuration&&S.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const I=!!S.endOnNext;if(I&&!S.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),I&&(S.duration||S.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),S.duration&&S.endDate){const w=S.startDate.getTime()+S.duration*1e3;this.manifest.dateRanges[E].endDate=new Date(w)}if(!m[S.id])m[S.id]=S;else{for(const N in m[S.id])if(S[N]&&JSON.stringify(m[S.id][N])!==JSON.stringify(S[N])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const w=this.manifest.dateRanges.findIndex(N=>N.id===S.id);this.manifest.dateRanges[w]=xn(this.manifest.dateRanges[w],S),m[S.id]=xn(m[S.id],S),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=Eo(p.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",p.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const E=(S,I)=>{if(S in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${S}`});return}this.manifest.definitions[S]=I};if("QUERYPARAM"in p.attributes){if("NAME"in p.attributes||"IMPORT"in p.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const S=this.params.get(p.attributes.QUERYPARAM);if(!S){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${p.attributes.QUERYPARAM}`});return}E(p.attributes.QUERYPARAM,decodeURIComponent(S));return}if("NAME"in p.attributes){if("IMPORT"in p.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in p.attributes)||typeof p.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${p.attributes.NAME}`});return}E(p.attributes.NAME,p.attributes.VALUE);return}if("IMPORT"in p.attributes){if(!this.mainDefinitions[p.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${p.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}E(p.attributes.IMPORT,this.mainDefinitions[p.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:p.attributes,uri:p.uri,timeline:d}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",p.attributes,["BANDWIDTH","URI"])}}[p.tagType]||l).call(n)},uri(){r.uri=p.uri,i.push(r),this.manifest.targetDuration&&!("duration"in r)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),r.duration=this.manifest.targetDuration),a&&(r.key=a),r.timeline=d,s&&(r.map=s),h=0,this.lastProgramDateTime!==null&&(r.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=r.duration*1e3),r={}},comment(){},custom(){p.segment?(r.custom=r.custom||{},r.custom[p.customType]=p.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[p.customType]=p.data)}})[p.type].call(n)})}requiredCompatibilityversion(e,n){(e<n||!e)&&this.trigger("warn",{message:`manifest must be at least version ${n}`})}warnOnMissingAttributes_(e,n,i){const r=[];i.forEach(function(s){n.hasOwnProperty(s)||r.push(s)}),r.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${r.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var Jl={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},fSe=["video","audio","text"],u_=["Video","Audio","Text"],BO=function(t){return t&&t.replace(/avc1\.(\d+)\.(\d+)/i,function(e,n,i){var r=("00"+Number(n).toString(16)).slice(-2),s=("00"+Number(i).toString(16)).slice(-2);return"avc1."+r+"00"+s})},ks=function(t){t===void 0&&(t="");var e=t.split(","),n=[];return e.forEach(function(i){i=i.trim();var r;fSe.forEach(function(s){var a=Jl[s].exec(i.toLowerCase());if(!(!a||a.length<=1)){r=s;var o=i.substring(0,a[1].length),l=i.replace(o,"");n.push({type:o,details:l,mediaType:s})}}),r||n.push({type:i,details:"",mediaType:"unknown"})}),n},pSe=function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var n=t.mediaGroups.AUDIO[e];if(!n)return null;for(var i in n){var r=n[i];if(r.default&&r.playlists)return ks(r.playlists[0].attributes.CODECS)}return null},WO=function(t){return t===void 0&&(t=""),Jl.audio.test(t.trim().toLowerCase())},mSe=function(t){return t===void 0&&(t=""),Jl.text.test(t.trim().toLowerCase())},vd=function(t){if(!(!t||typeof t!="string")){var e=t.toLowerCase().split(",").map(function(r){return BO(r.trim())}),n="video";e.length===1&&WO(e[0])?n="audio":e.length===1&&mSe(e[0])&&(n="application");var i="mp4";return e.every(function(r){return Jl.mp4.test(r)})?i="mp4":e.every(function(r){return Jl.webm.test(r)})?i="webm":e.every(function(r){return Jl.ogg.test(r)})&&(i="ogg"),n+"/"+i+';codecs="'+t+'"'}},Af=function(t,e){return t===void 0&&(t=""),e===void 0&&(e=!1),$.MediaSource&&$.MediaSource.isTypeSupported&&$.MediaSource.isTypeSupported(vd(t))||e&&$.ManagedMediaSource&&$.ManagedMediaSource.isTypeSupported&&$.ManagedMediaSource.isTypeSupported(vd(t))||!1},U5=function(t){return t===void 0&&(t=""),t.toLowerCase().split(",").every(function(e){e=e.trim();for(var n=0;n<u_.length;n++){var i=u_[n];if(Jl["muxer"+i].test(e))return!0}return!1})},d_="mp4a.40.2",gSe="avc1.4d400d",ySe=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,bSe=/^application\/dash\+xml/i,GO=function(t){return ySe.test(t)?"hls":bSe.test(t)?"dash":t==="application/vnd.videojs.vhs+json"?"vhs-json":null},vSe=function(t){return t.toString(2).length},ESe=function(t){return Math.ceil(vSe(t)/8)},ZO=function(t){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer},ASe=function(t){return ZO(t)},Ke=function(t){return t instanceof Uint8Array?t:(!Array.isArray(t)&&!ASe(t)&&!(t instanceof ArrayBuffer)&&(typeof t!="number"||typeof t=="number"&&t!==t?t=0:t=[t]),new Uint8Array(t&&t.buffer||t,t&&t.byteOffset||0,t&&t.byteLength||0))},li=$.BigInt||Number,E4=[li("0x1"),li("0x100"),li("0x10000"),li("0x1000000"),li("0x100000000"),li("0x10000000000"),li("0x1000000000000"),li("0x100000000000000"),li("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var SSe=function(t,e){var n=e===void 0?{}:e,i=n.signed,r=i===void 0?!1:i,s=n.le,a=s===void 0?!1:s;t=Ke(t);var o=a?"reduce":"reduceRight",l=t[o]?t[o]:Array.prototype[o],c=l.call(t,function(d,f,h){var m=a?h:Math.abs(h+1-t.length);return d+li(f)*E4[m]},li(0));if(r){var u=E4[t.length]/li(2)-li(1);c=li(c),c>u&&(c-=u,c-=u,c-=li(2))}return Number(c)},TSe=function(t,e){var n={},i=n.le,r=i===void 0?!1:i;(typeof t!="bigint"&&typeof t!="number"||typeof t=="number"&&t!==t)&&(t=0),t=li(t);for(var s=ESe(t),a=new Uint8Array(new ArrayBuffer(s)),o=0;o<s;o++){var l=r?o:Math.abs(o+1-a.length);a[l]=Number(t/E4[o]&li(255)),t<0&&(a[l]=Math.abs(~a[l]),a[l]-=o===0?1:2)}return a},DO=function(t,e){if(typeof t!="string"&&t&&typeof t.toString=="function"&&(t=t.toString()),typeof t!="string")return new Uint8Array;e||(t=unescape(encodeURIComponent(t)));for(var n=new Uint8Array(t.length),i=0;i<t.length;i++)n[i]=t.charCodeAt(i);return n},RSe=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(e=e.filter(function(a){return a&&(a.byteLength||a.length)&&typeof a!="string"}),e.length<=1)return Ke(e[0]);var i=e.reduce(function(a,o,l){return a+(o.byteLength||o.length)},0),r=new Uint8Array(i),s=0;return e.forEach(function(a){a=Ke(a),r.set(a,s),s+=a.byteLength}),r},rn=function(t,e,n){var i=n===void 0?{}:n,r=i.offset,s=r===void 0?0:r,a=i.mask,o=a===void 0?[]:a;t=Ke(t),e=Ke(e);var l=e.every?e.every:Array.prototype.every;return e.length&&t.length-s>=e.length&&l.call(e,function(c,u){var d=o[u]?o[u]&t[s+u]:t[s+u];return c===d})},CSe=function(t,e,n){e.forEach(function(i){for(var r in t.mediaGroups[i])for(var s in t.mediaGroups[i][r]){var a=t.mediaGroups[i][r][s];n(a,i,r,s)}})};/*! @name mpd-parser @version 1.3.1 @license Apache-2.0 */const h_=t=>!!t&&typeof t=="object",Qn=(...t)=>t.reduce((e,n)=>(typeof n!="object"||Object.keys(n).forEach(i=>{Array.isArray(e[i])&&Array.isArray(n[i])?e[i]=e[i].concat(n[i]):h_(e[i])&&h_(n[i])?e[i]=Qn(e[i],n[i]):e[i]=n[i]}),e),{}),OO=t=>Object.keys(t).map(e=>t[e]),ISe=(t,e)=>{const n=[];for(let i=t;i<e;i++)n.push(i);return n},Ed=t=>t.reduce((e,n)=>e.concat(n),[]),XO=t=>{if(!t.length)return[];const e=[];for(let n=0;n<t.length;n++)e.push(t[n]);return e},wSe=(t,e)=>t.reduce((n,i,r)=>(i[e]&&n.push(r),n),[]),xSe=(t,e)=>OO(t.reduce((n,i)=>(i.forEach(r=>{n[e(r)]=r}),n),{}));var Ad={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const sp=({baseUrl:t="",source:e="",range:n="",indexRange:i=""})=>{const r={uri:e,resolvedUri:ay(t||"",e)};if(n||i){const s=(n||i).split("-");let a=$.BigInt?$.BigInt(s[0]):parseInt(s[0],10),o=$.BigInt?$.BigInt(s[1]):parseInt(s[1],10);a<Number.MAX_SAFE_INTEGER&&typeof a=="bigint"&&(a=Number(a)),o<Number.MAX_SAFE_INTEGER&&typeof o=="bigint"&&(o=Number(o));let l;typeof o=="bigint"||typeof a=="bigint"?l=$.BigInt(o)-$.BigInt(a)+$.BigInt(1):l=o-a+1,typeof l=="bigint"&&l<Number.MAX_SAFE_INTEGER&&(l=Number(l)),r.byterange={length:l,offset:a}}return r},VSe=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=$.BigInt(t.offset)+$.BigInt(t.length)-$.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},f_=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),NSe={static(t){const{duration:e,timescale:n=1,sourceDuration:i,periodDuration:r}=t,s=f_(t.endNumber),a=e/n;return typeof s=="number"?{start:0,end:s}:typeof r=="number"?{start:0,end:r/a}:{start:0,end:i/a}},dynamic(t){const{NOW:e,clientOffset:n,availabilityStartTime:i,timescale:r=1,duration:s,periodStart:a=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:l=1/0}=t,c=f_(t.endNumber),u=(e+n)/1e3,d=i+a,f=u+o-d,h=Math.ceil(f*r/s),m=Math.floor((u-d-l)*r/s),p=Math.floor((u-d)*r/s);return{start:Math.max(0,m),end:typeof c=="number"?c:Math.min(h,p)}}},_Se=t=>e=>{const{duration:n,timescale:i=1,periodStart:r,startNumber:s=1}=t;return{number:s+e,duration:n/i,timeline:r,time:e*n}},e8=t=>{const{type:e,duration:n,timescale:i=1,periodDuration:r,sourceDuration:s}=t,{start:a,end:o}=NSe[e](t),l=ISe(a,o).map(_Se(t));if(e==="static"){const c=l.length-1,u=typeof r=="number"?r:s;l[c].duration=u-n/i*c}return l},MO=t=>{const{baseUrl:e,initialization:n={},sourceDuration:i,indexRange:r="",periodStart:s,presentationTime:a,number:o=0,duration:l}=t;if(!e)throw new Error(Ad.NO_BASE_URL);const c=sp({baseUrl:e,source:n.sourceURL,range:n.range}),u=sp({baseUrl:e,source:e,indexRange:r});if(u.map=c,l){const d=e8(t);d.length&&(u.duration=d[0].duration,u.timeline=d[0].timeline)}else i&&(u.duration=i,u.timeline=s);return u.presentationTime=a||s,u.number=o,[u]},t8=(t,e,n)=>{const i=t.sidx.map?t.sidx.map:null,r=t.sidx.duration,s=t.timeline||0,a=t.sidx.byterange,o=a.offset+a.length,l=e.timescale,c=e.references.filter(v=>v.referenceType!==1),u=[],d=t.endList?"static":"dynamic",f=t.sidx.timeline;let h=f,m=t.mediaSequence||0,p;typeof e.firstOffset=="bigint"?p=$.BigInt(o)+e.firstOffset:p=o+e.firstOffset;for(let v=0;v<c.length;v++){const y=e.references[v],E=y.referencedSize,S=y.subsegmentDuration;let I;typeof p=="bigint"?I=p+$.BigInt(E)-$.BigInt(1):I=p+E-1;const w=`${p}-${I}`,N=MO({baseUrl:n,timescale:l,timeline:s,periodStart:f,presentationTime:h,number:m,duration:S,sourceDuration:r,indexRange:w,type:d})[0];i&&(N.map=i),u.push(N),typeof p=="bigint"?p+=$.BigInt(E):p+=E,h+=S/l,m++}return t.segments=u,t},kSe=["AUDIO","SUBTITLES"],FSe=1/60,PO=t=>xSe(t,({timeline:e})=>e).sort((e,n)=>e.timeline>n.timeline?1:-1),LSe=(t,e)=>{for(let n=0;n<t.length;n++)if(t[n].attributes.NAME===e)return t[n];return null},p_=t=>{let e=[];return CSe(t,kSe,(n,i,r,s)=>{e=e.concat(n.playlists||[])}),e},m_=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((n,i)=>{n.number=t.mediaSequence+i})},USe=({oldPlaylists:t,newPlaylists:e,timelineStarts:n})=>{e.forEach(i=>{i.discontinuitySequence=n.findIndex(function({timeline:o}){return o===i.timeline});const r=LSe(t,i.attributes.NAME);if(!r||i.sidx)return;const s=i.segments[0],a=r.segments.findIndex(function(o){return Math.abs(o.presentationTime-s.presentationTime)<FSe});if(a===-1){m_({playlist:i,mediaSequence:r.mediaSequence+r.segments.length}),i.segments[0].discontinuity=!0,i.discontinuityStarts.unshift(0),(!r.segments.length&&i.timeline>r.timeline||r.segments.length&&i.timeline>r.segments[r.segments.length-1].timeline)&&i.discontinuitySequence--;return}r.segments[a].discontinuity&&!s.discontinuity&&(s.discontinuity=!0,i.discontinuityStarts.unshift(0),i.discontinuitySequence--),m_({playlist:i,mediaSequence:r.segments[a].number})})},BSe=({oldManifest:t,newManifest:e})=>{const n=t.playlists.concat(p_(t)),i=e.playlists.concat(p_(e));return e.timelineStarts=PO([t.timelineStarts,e.timelineStarts]),USe({oldPlaylists:n,newPlaylists:i,timelineStarts:e.timelineStarts}),e},ly=t=>t&&t.uri+"-"+VSe(t.byterange),B5=t=>{const e=t.reduce(function(i,r){return i[r.attributes.baseUrl]||(i[r.attributes.baseUrl]=[]),i[r.attributes.baseUrl].push(r),i},{});let n=[];return Object.values(e).forEach(i=>{const r=OO(i.reduce((s,a)=>{const o=a.attributes.id+(a.attributes.lang||"");return s[o]?(a.segments&&(a.segments[0]&&(a.segments[0].discontinuity=!0),s[o].segments.push(...a.segments)),a.attributes.contentProtection&&(s[o].attributes.contentProtection=a.attributes.contentProtection)):(s[o]=a,s[o].attributes.timelineStarts=[]),s[o].attributes.timelineStarts.push({start:a.attributes.periodStart,timeline:a.attributes.periodStart}),s},{}));n=n.concat(r)}),n.map(i=>(i.discontinuityStarts=wSe(i.segments||[],"discontinuity"),i))},n8=(t,e)=>{const n=ly(t.sidx),i=n&&e[n]&&e[n].sidx;return i&&t8(t,i,t.sidx.resolvedUri),t},WSe=(t,e={})=>{if(!Object.keys(e).length)return t;for(const n in t)t[n]=n8(t[n],e);return t},GSe=({attributes:t,segments:e,sidx:n,mediaSequence:i,discontinuitySequence:r,discontinuityStarts:s},a)=>{const o={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:r,discontinuityStarts:s,timelineStarts:t.timelineStarts,mediaSequence:i,segments:e};return t.contentProtection&&(o.contentProtection=t.contentProtection),t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),n&&(o.sidx=n),a&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},ZSe=({attributes:t,segments:e,mediaSequence:n,discontinuityStarts:i,discontinuitySequence:r})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const s={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(s.CODECS=t.codecs);const a={attributes:s,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:i,discontinuitySequence:r,mediaSequence:n,segments:e};return t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),a},DSe=(t,e={},n=!1)=>{let i;const r=t.reduce((s,a)=>{const o=a.attributes.role&&a.attributes.role.value||"",l=a.attributes.lang||"";let c=a.attributes.label||"main";if(l&&!a.attributes.label){const d=o?` (${o})`:"";c=`${a.attributes.lang}${d}`}s[c]||(s[c]={language:l,autoselect:!0,default:o==="main",playlists:[],uri:""});const u=n8(GSe(a,n),e);return s[c].playlists.push(u),typeof i>"u"&&o==="main"&&(i=a,i.default=!0),s},{});if(!i){const s=Object.keys(r)[0];r[s].default=!0}return r},OSe=(t,e={})=>t.reduce((n,i)=>{const r=i.attributes.label||i.attributes.lang||"text",s=i.attributes.lang||"und";return n[r]||(n[r]={language:s,default:!1,autoselect:!1,playlists:[],uri:""}),n[r].playlists.push(n8(ZSe(i),e)),n},{}),XSe=t=>t.reduce((e,n)=>(n&&n.forEach(i=>{const{channel:r,language:s}=i;e[s]={autoselect:!1,default:!1,instreamId:r,language:s},i.hasOwnProperty("aspectRatio")&&(e[s].aspectRatio=i.aspectRatio),i.hasOwnProperty("easyReader")&&(e[s].easyReader=i.easyReader),i.hasOwnProperty("3D")&&(e[s]["3D"]=i["3D"])}),e),{}),MSe=({attributes:t,segments:e,sidx:n,discontinuityStarts:i})=>{const r={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:i,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(r.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(r.contentProtection=t.contentProtection),t.serviceLocation&&(r.attributes.serviceLocation=t.serviceLocation),n&&(r.sidx=n),r},PSe=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",YSe=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",$Se=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",jSe=(t,e)=>{t.forEach(n=>{n.mediaSequence=0,n.discontinuitySequence=e.findIndex(function({timeline:i}){return i===n.timeline}),n.segments&&n.segments.forEach((i,r)=>{i.number=r})})},g_=t=>t?Object.keys(t).reduce((e,n)=>{const i=t[n];return e.concat(i.playlists)},[]):[],KSe=({dashPlaylists:t,locations:e,contentSteering:n,sidxMapping:i={},previousManifest:r,eventStream:s})=>{if(!t.length)return{};const{sourceDuration:a,type:o,suggestedPresentationDelay:l,minimumUpdatePeriod:c}=t[0].attributes,u=B5(t.filter(PSe)).map(MSe),d=B5(t.filter(YSe)),f=B5(t.filter($Se)),h=t.map(I=>I.attributes.captionServices).filter(Boolean),m={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:WSe(u,i)};c>=0&&(m.minimumUpdatePeriod=c*1e3),e&&(m.locations=e),n&&(m.contentSteering=n),o==="dynamic"&&(m.suggestedPresentationDelay=l),s&&s.length>0&&(m.eventStream=s);const p=m.playlists.length===0,v=d.length?DSe(d,i,p):null,y=f.length?OSe(f,i):null,E=u.concat(g_(v),g_(y)),S=E.map(({timelineStarts:I})=>I);return m.timelineStarts=PO(S),jSe(E,m.timelineStarts),v&&(m.mediaGroups.AUDIO.audio=v),y&&(m.mediaGroups.SUBTITLES.subs=y),h.length&&(m.mediaGroups["CLOSED-CAPTIONS"].cc=XSe(h)),r?BSe({oldManifest:r,newManifest:m}):m},zSe=(t,e,n)=>{const{NOW:i,clientOffset:r,availabilityStartTime:s,timescale:a=1,periodStart:o=0,minimumUpdatePeriod:l=0}=t,c=(i+r)/1e3,u=s+o,d=c+l-u;return Math.ceil((d*a-e)/n)},YO=(t,e)=>{const{type:n,minimumUpdatePeriod:i=0,media:r="",sourceDuration:s,timescale:a=1,startNumber:o=1,periodStart:l}=t,c=[];let u=-1;for(let d=0;d<e.length;d++){const f=e[d],h=f.d,m=f.r||0,p=f.t||0;u<0&&(u=p),p&&p>u&&(u=p);let v;if(m<0){const S=d+1;S===e.length?n==="dynamic"&&i>0&&r.indexOf("$Number$")>0?v=zSe(t,u,h):v=(s*a-u)/h:v=(e[S].t-u)/h}else v=m+1;const y=o+c.length+v;let E=o+c.length;for(;E<y;)c.push({number:E,duration:h/a,time:u,timeline:l}),u+=h,E++}return c},JSe=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,HSe=t=>(e,n,i,r)=>{if(e==="$$")return"$";if(typeof t[n]>"u")return e;const s=""+t[n];return n==="RepresentationID"||(i?r=parseInt(r,10):r=1,s.length>=r)?s:`${new Array(r-s.length+1).join("0")}${s}`},y_=(t,e)=>t.replace(JSe,HSe(e)),QSe=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?e8(t):YO(t,e),qSe=(t,e)=>{const n={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:i={sourceURL:"",range:""}}=t,r=sp({baseUrl:t.baseUrl,source:y_(i.sourceURL,n),range:i.range});return QSe(t,e).map(s=>{n.Number=s.number,n.Time=s.time;const a=y_(t.media||"",n),o=t.timescale||1,l=t.presentationTimeOffset||0,c=t.periodStart+(s.time-l)/o;return{uri:a,timeline:s.timeline,duration:s.duration,resolvedUri:ay(t.baseUrl||"",a),map:r,number:s.number,presentationTime:c}})},e9e=(t,e)=>{const{baseUrl:n,initialization:i={}}=t,r=sp({baseUrl:n,source:i.sourceURL,range:i.range}),s=sp({baseUrl:n,source:e.media,range:e.mediaRange});return s.map=r,s},t9e=(t,e)=>{const{duration:n,segmentUrls:i=[],periodStart:r}=t;if(!n&&!e||n&&e)throw new Error(Ad.SEGMENT_TIME_UNSPECIFIED);const s=i.map(o=>e9e(t,o));let a;return n&&(a=e8(t)),e&&(a=YO(t,e)),a.map((o,l)=>{if(s[l]){const c=s[l],u=t.timescale||1,d=t.presentationTimeOffset||0;return c.timeline=o.timeline,c.duration=o.duration,c.number=o.number,c.presentationTime=r+(o.time-d)/u,c}}).filter(o=>o)},n9e=({attributes:t,segmentInfo:e})=>{let n,i;e.template?(i=qSe,n=Qn(t,e.template)):e.base?(i=MO,n=Qn(t,e.base)):e.list&&(i=t9e,n=Qn(t,e.list));const r={attributes:t};if(!i)return r;const s=i(n,e.segmentTimeline);if(n.duration){const{duration:a,timescale:o=1}=n;n.duration=a/o}else s.length?n.duration=s.reduce((a,o)=>Math.max(a,Math.ceil(o.duration)),0):n.duration=0;return r.attributes=n,r.segments=s,e.base&&n.indexRange&&(r.sidx=s[0],r.segments=[]),r},i9e=t=>t.map(n9e),sn=(t,e)=>XO(t.childNodes).filter(({tagName:n})=>n===e),jp=t=>t.textContent.trim(),r9e=t=>parseFloat(t.split("/").reduce((e,n)=>e/n)),Xc=t=>{const e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!e)return 0;const[n,i,r,s,a,o]=e.slice(1);return parseFloat(n||0)*31536e3+parseFloat(i||0)*2592e3+parseFloat(r||0)*86400+parseFloat(s||0)*3600+parseFloat(a||0)*60+parseFloat(o||0)},s9e=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),b_={mediaPresentationDuration(t){return Xc(t)},availabilityStartTime(t){return s9e(t)/1e3},minimumUpdatePeriod(t){return Xc(t)},suggestedPresentationDelay(t){return Xc(t)},type(t){return t},timeShiftBufferDepth(t){return Xc(t)},start(t){return Xc(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return r9e(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?Xc(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},Fn=t=>t&&t.attributes?XO(t.attributes).reduce((e,n)=>{const i=b_[n.name]||b_.DEFAULT;return e[n.name]=i(n.value),e},{}):{},a9e={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},cy=(t,e)=>e.length?Ed(t.map(function(n){return e.map(function(i){const r=jp(i),s=ay(n.baseUrl,r),a=Qn(Fn(i),{baseUrl:s});return s!==r&&!a.serviceLocation&&n.serviceLocation&&(a.serviceLocation=n.serviceLocation),a})})):t,i8=t=>{const e=sn(t,"SegmentTemplate")[0],n=sn(t,"SegmentList")[0],i=n&&sn(n,"SegmentURL").map(d=>Qn({tag:"SegmentURL"},Fn(d))),r=sn(t,"SegmentBase")[0],s=n||e,a=s&&sn(s,"SegmentTimeline")[0],o=n||r||e,l=o&&sn(o,"Initialization")[0],c=e&&Fn(e);c&&l?c.initialization=l&&Fn(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});const u={template:c,segmentTimeline:a&&sn(a,"S").map(d=>Fn(d)),list:n&&Qn(Fn(n),{segmentUrls:i,initialization:Fn(l)}),base:r&&Qn(Fn(r),{initialization:Fn(l)})};return Object.keys(u).forEach(d=>{u[d]||delete u[d]}),u},o9e=(t,e,n)=>i=>{const r=sn(i,"BaseURL"),s=cy(e,r),a=Qn(t,Fn(i)),o=i8(i);return s.map(l=>({segmentInfo:Qn(n,o),attributes:Qn(a,l)}))},l9e=t=>t.reduce((e,n)=>{const i=Fn(n);i.schemeIdUri&&(i.schemeIdUri=i.schemeIdUri.toLowerCase());const r=a9e[i.schemeIdUri];if(r){e[r]={attributes:i};const s=sn(n,"cenc:pssh")[0];if(s){const a=jp(s);e[r].pssh=a&&UO(a)}}return e},{}),c9e=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(e=>{let n,i;return i=e,/^CC\d=/.test(e)?[n,i]=e.split("="):/^CC\d$/.test(e)&&(n=e),{channel:n,language:i}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(e=>{const n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(e)){const[i,r=""]=e.split("=");n.channel=i,n.language=e,r.split(",").forEach(s=>{const[a,o]=s.split(":");a==="lang"?n.language=o:a==="er"?n.easyReader=Number(o):a==="war"?n.aspectRatio=Number(o):a==="3D"&&(n["3D"]=Number(o))})}else n.language=e;return n.channel&&(n.channel="SERVICE"+n.channel),n})},u9e=t=>Ed(sn(t.node,"EventStream").map(e=>{const n=Fn(e),i=n.schemeIdUri;return sn(e,"Event").map(r=>{const s=Fn(r),a=s.presentationTime||0,o=n.timescale||1,l=s.duration||0,c=a/o+t.attributes.start;return{schemeIdUri:i,value:n.value,id:s.id,start:c,end:c+l/o,messageData:jp(r)||s.messageData,contentEncoding:n.contentEncoding,presentationTimeOffset:n.presentationTimeOffset||0}})})),d9e=(t,e,n)=>i=>{const r=Fn(i),s=cy(e,sn(i,"BaseURL")),a=sn(i,"Role")[0],o={role:Fn(a)};let l=Qn(t,r,o);const c=sn(i,"Accessibility")[0],u=c9e(Fn(c));u&&(l=Qn(l,{captionServices:u}));const d=sn(i,"Label")[0];if(d&&d.childNodes.length){const v=d.childNodes[0].nodeValue.trim();l=Qn(l,{label:v})}const f=l9e(sn(i,"ContentProtection"));Object.keys(f).length&&(l=Qn(l,{contentProtection:f}));const h=i8(i),m=sn(i,"Representation"),p=Qn(n,h);return Ed(m.map(o9e(l,s,p)))},h9e=(t,e)=>(n,i)=>{const r=cy(e,sn(n.node,"BaseURL")),s=Qn(t,{periodStart:n.attributes.start});typeof n.attributes.duration=="number"&&(s.periodDuration=n.attributes.duration);const a=sn(n.node,"AdaptationSet"),o=i8(n.node);return Ed(a.map(d9e(s,r,o)))},f9e=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const n=Qn({serverURL:jp(t[0])},Fn(t[0]));return n.queryBeforeStart=n.queryBeforeStart==="true",n},p9e=({attributes:t,priorPeriodAttributes:e,mpdType:n})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&n==="static"?0:null,m9e=(t,e={})=>{const{manifestUri:n="",NOW:i=Date.now(),clientOffset:r=0,eventHandler:s=function(){}}=e,a=sn(t,"Period");if(!a.length)throw new Error(Ad.INVALID_NUMBER_OF_PERIOD);const o=sn(t,"Location"),l=Fn(t),c=cy([{baseUrl:n}],sn(t,"BaseURL")),u=sn(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=i,l.clientOffset=r,o.length&&(l.locations=o.map(jp));const d=[];return a.forEach((f,h)=>{const m=Fn(f),p=d[h-1];m.start=p9e({attributes:m,priorPeriodAttributes:p?p.attributes:null,mpdType:l.type}),d.push({node:f,attributes:m})}),{locations:l.locations,contentSteeringInfo:f9e(u,s),representationInfo:Ed(d.map(h9e(l,c))),eventStream:Ed(d.map(u9e))}},$O=t=>{if(t==="")throw new Error(Ad.DASH_EMPTY_MANIFEST);const e=new $T;let n,i;try{n=e.parseFromString(t,"application/xml"),i=n&&n.documentElement.tagName==="MPD"?n.documentElement:null}catch{}if(!i||i&&i.getElementsByTagName("parsererror").length>0)throw new Error(Ad.DASH_INVALID_XML);return i},g9e=t=>{const e=sn(t,"UTCTiming")[0];if(!e)return null;const n=Fn(e);switch(n.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":n.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":n.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":n.method="DIRECT",n.value=Date.parse(n.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Ad.UNSUPPORTED_UTC_TIMING_SCHEME)}return n},y9e=(t,e={})=>{const n=m9e($O(t),e),i=i9e(n.representationInfo);return KSe({dashPlaylists:i,locations:n.locations,contentSteering:n.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:n.eventStream})},b9e=t=>g9e($O(t));var v9e=Math.pow(2,32),E9e=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n;return e.getBigUint64?(n=e.getBigUint64(0),n<Number.MAX_SAFE_INTEGER?Number(n):n):e.getUint32(0)*v9e+e.getUint32(4)},A9e={getUint64:E9e},v_=A9e.getUint64,S9e=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},i=12;n.version===0?(n.earliestPresentationTime=e.getUint32(i),n.firstOffset=e.getUint32(i+4),i+=8):(n.earliestPresentationTime=v_(t.subarray(i)),n.firstOffset=v_(t.subarray(i+8)),i+=16),i+=2;var r=e.getUint16(i);for(i+=2;r>0;i+=12,r--)n.references.push({referenceType:(t[i]&128)>>>7,referencedSize:e.getUint32(i)&2147483647,subsegmentDuration:e.getUint32(i+4),startsWithSap:!!(t[i+8]&128),sapType:(t[i+8]&112)>>>4,sapDeltaTime:e.getUint32(i+8)&268435455});return n},T9e=S9e;const R9e=Up(T9e);var C9e=Ke([73,68,51]),I9e=function(t,e){e===void 0&&(e=0),t=Ke(t);var n=t[e+5],i=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9],r=(n&16)>>4;return r?i+20:i+10},rf=function t(e,n){return n===void 0&&(n=0),e=Ke(e),e.length-n<10||!rn(e,C9e,{offset:n})?n:(n+=I9e(e,n),t(e,n))},E_=function(t){return typeof t=="string"?DO(t):t},w9e=function(t){return Array.isArray(t)?t.map(function(e){return E_(e)}):[E_(t)]},x9e=function t(e,n,i){i===void 0&&(i=!1),n=w9e(n),e=Ke(e);var r=[];if(!n.length)return r;for(var s=0;s<e.length;){var a=(e[s]<<24|e[s+1]<<16|e[s+2]<<8|e[s+3])>>>0,o=e.subarray(s+4,s+8);if(a===0)break;var l=s+a;if(l>e.length){if(i)break;l=e.length}var c=e.subarray(s+8,l);rn(o,n[0])&&(n.length===1?r.push(c):r.push.apply(r,t(c,n.slice(1),i))),s=l}return r},u1={EBML:Ke([26,69,223,163]),DocType:Ke([66,130]),Segment:Ke([24,83,128,103]),SegmentInfo:Ke([21,73,169,102]),Tracks:Ke([22,84,174,107]),Track:Ke([174]),TrackNumber:Ke([215]),DefaultDuration:Ke([35,227,131]),TrackEntry:Ke([174]),TrackType:Ke([131]),FlagDefault:Ke([136]),CodecID:Ke([134]),CodecPrivate:Ke([99,162]),VideoTrack:Ke([224]),AudioTrack:Ke([225]),Cluster:Ke([31,67,182,117]),Timestamp:Ke([231]),TimestampScale:Ke([42,215,177]),BlockGroup:Ke([160]),BlockDuration:Ke([155]),Block:Ke([161]),SimpleBlock:Ke([163])},A4=[128,64,32,16,8,4,2,1],V9e=function(t){for(var e=1,n=0;n<A4.length&&!(t&A4[n]);n++)e++;return e},wg=function(t,e,n,i){n===void 0&&(n=!0),i===void 0&&(i=!1);var r=V9e(t[e]),s=t.subarray(e,e+r);return n&&(s=Array.prototype.slice.call(t,e,e+r),s[0]^=A4[r-1]),{length:r,value:SSe(s,{signed:i}),bytes:s}},A_=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(n){return t(n)}):typeof e=="number"?TSe(e):e},N9e=function(t){return Array.isArray(t)?t.map(function(e){return A_(e)}):[A_(t)]},_9e=function t(e,n,i){if(i>=n.length)return n.length;var r=wg(n,i,!1);if(rn(e.bytes,r.bytes))return i;var s=wg(n,i+r.length);return t(e,n,i+s.length+s.value+r.length)},S_=function t(e,n){n=N9e(n),e=Ke(e);var i=[];if(!n.length)return i;for(var r=0;r<e.length;){var s=wg(e,r,!1),a=wg(e,r+s.length),o=r+s.length+a.length;a.value===127&&(a.value=_9e(s,e,o),a.value!==e.length&&(a.value-=o));var l=o+a.value>e.length?e.length:o+a.value,c=e.subarray(o,l);rn(n[0],s.bytes)&&(n.length===1?i.push(c):i=i.concat(t(c,n.slice(1))));var u=s.length+a.length+c.length;r+=u}return i},k9e=Ke([0,0,0,1]),F9e=Ke([0,0,1]),L9e=Ke([0,0,3]),U9e=function(t){for(var e=[],n=1;n<t.length-2;)rn(t.subarray(n,n+3),L9e)&&(e.push(n+2),n++),n++;if(e.length===0)return t;var i=t.length-e.length,r=new Uint8Array(i),s=0;for(n=0;n<i;s++,n++)s===e[0]&&(s++,e.shift()),r[n]=t[s];return r},jO=function(t,e,n,i){t=Ke(t),n=[].concat(n);for(var r=0,s,a=0;r<t.length&&(a<i||s);){var o=void 0;if(rn(t.subarray(r),k9e)?o=4:rn(t.subarray(r),F9e)&&(o=3),!o){r++;continue}if(a++,s)return U9e(t.subarray(s,r));var l=void 0;e==="h264"?l=t[r+o]&31:e==="h265"&&(l=t[r+o]>>1&63),n.indexOf(l)!==-1&&(s=r+o),r+=o+(e==="h264"?1:2)}return t.subarray(0,0)},B9e=function(t,e,n){return jO(t,"h264",e,n)},W9e=function(t,e,n){return jO(t,"h265",e,n)},Ni={webm:Ke([119,101,98,109]),matroska:Ke([109,97,116,114,111,115,107,97]),flac:Ke([102,76,97,67]),ogg:Ke([79,103,103,83]),ac3:Ke([11,119]),riff:Ke([82,73,70,70]),avi:Ke([65,86,73]),wav:Ke([87,65,86,69]),"3gp":Ke([102,116,121,112,51,103]),mp4:Ke([102,116,121,112]),fmp4:Ke([115,116,121,112]),mov:Ke([102,116,121,112,113,116]),moov:Ke([109,111,111,118]),moof:Ke([109,111,111,102])},Sd={aac:function(t){var e=rf(t);return rn(t,[255,16],{offset:e,mask:[255,22]})},mp3:function(t){var e=rf(t);return rn(t,[255,2],{offset:e,mask:[255,6]})},webm:function(t){var e=S_(t,[u1.EBML,u1.DocType])[0];return rn(e,Ni.webm)},mkv:function(t){var e=S_(t,[u1.EBML,u1.DocType])[0];return rn(e,Ni.matroska)},mp4:function(t){if(Sd["3gp"](t)||Sd.mov(t))return!1;if(rn(t,Ni.mp4,{offset:4})||rn(t,Ni.fmp4,{offset:4})||rn(t,Ni.moof,{offset:4})||rn(t,Ni.moov,{offset:4}))return!0},mov:function(t){return rn(t,Ni.mov,{offset:4})},"3gp":function(t){return rn(t,Ni["3gp"],{offset:4})},ac3:function(t){var e=rf(t);return rn(t,Ni.ac3,{offset:e})},ts:function(t){if(t.length<189&&t.length>=1)return t[0]===71;for(var e=0;e+188<t.length&&e<188;){if(t[e]===71&&t[e+188]===71)return!0;e+=1}return!1},flac:function(t){var e=rf(t);return rn(t,Ni.flac,{offset:e})},ogg:function(t){return rn(t,Ni.ogg)},avi:function(t){return rn(t,Ni.riff)&&rn(t,Ni.avi,{offset:8})},wav:function(t){return rn(t,Ni.riff)&&rn(t,Ni.wav,{offset:8})},h264:function(t){return B9e(t,7,3).length},h265:function(t){return W9e(t,[32,33],3).length}},S4=Object.keys(Sd).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);S4.forEach(function(t){var e=Sd[t];Sd[t]=function(n){return e(Ke(n))}});var G9e=Sd,r8=function(t){t=Ke(t);for(var e=0;e<S4.length;e++){var n=S4[e];if(G9e[n](t))return n}return""},Z9e=function(t){return x9e(t,["moof"]).length>0},D9e=9e4,Wl={ONE_SECOND_IN_TS:D9e},T4="8.21.0";const _a={},el=function(t,e){return _a[t]=_a[t]||[],e&&(_a[t]=_a[t].concat(e)),_a[t]},O9e=function(t,e){el(t,e)},KO=function(t,e){const n=el(t).indexOf(e);return n<=-1?!1:(_a[t]=_a[t].slice(),_a[t].splice(n,1),!0)},X9e=function(t,e){el(t,[].concat(e).map(n=>{const i=(...r)=>(KO(t,i),n(...r));return i}))},xg={prefixed:!0},lm=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],T_=lm[0];let sf;for(let t=0;t<lm.length;t++)if(lm[t][1]in Fe){sf=lm[t];break}if(sf){for(let t=0;t<sf.length;t++)xg[T_[t]]=sf[t];xg.prefixed=sf[0]!==T_[0]}let Yi=[];const M9e=(t,e,n)=>(i,r,s)=>{const a=e.levels[r],o=new RegExp(`^(${a})$`);let l=t;if(i!=="log"&&s.unshift(i.toUpperCase()+":"),n&&(l=`%c${t}`,s.unshift(n)),s.unshift(l+":"),Yi){Yi.push([].concat(s));const u=Yi.length-1e3;Yi.splice(0,u>0?u:0)}if(!$.console)return;let c=$.console[i];!c&&i==="debug"&&(c=$.console.info||$.console.log),!(!c||!a||!o.test(i))&&c[Array.isArray(s)?"apply":"call"]($.console,s)};function R4(t,e=":",n=""){let i="info",r;function s(...a){r("log",i,a)}return r=M9e(t,s,n),s.createLogger=(a,o,l)=>{const c=o!==void 0?o:e,u=l!==void 0?l:n,d=`${t} ${c} ${a}`;return R4(d,c,u)},s.createNewLogger=(a,o,l)=>R4(a,o,l),s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:i},s.level=a=>{if(typeof a=="string"){if(!s.levels.hasOwnProperty(a))throw new Error(`"${a}" in not a valid log level`);i=a}return i},s.history=()=>Yi?[].concat(Yi):[],s.history.filter=a=>(Yi||[]).filter(o=>new RegExp(`.*${a}.*`).test(o[0])),s.history.clear=()=>{Yi&&(Yi.length=0)},s.history.disable=()=>{Yi!==null&&(Yi.length=0,Yi=null)},s.history.enable=()=>{Yi===null&&(Yi=[])},s.error=(...a)=>r("error",i,a),s.warn=(...a)=>r("warn",i,a),s.debug=(...a)=>r("debug",i,a),s}const dt=R4("VIDEOJS"),zO=dt.createLogger,P9e=Object.prototype.toString,JO=function(t){return na(t)?Object.keys(t):[]};function Uu(t,e){JO(t).forEach(n=>e(t[n],n))}function HO(t,e,n=0){return JO(t).reduce((i,r)=>e(i,t[r],r),n)}function na(t){return!!t&&typeof t=="object"}function Td(t){return na(t)&&P9e.call(t)==="[object Object]"&&t.constructor===Object}function Bt(...t){const e={};return t.forEach(n=>{n&&Uu(n,(i,r)=>{if(!Td(i)){e[r]=i;return}Td(e[r])||(e[r]={}),e[r]=Bt(e[r],i)})}),e}function QO(t={}){const e=[];for(const n in t)if(t.hasOwnProperty(n)){const i=t[n];e.push(i)}return e}function uy(t,e,n,i=!0){const r=a=>Object.defineProperty(t,e,{value:a,enumerable:!0,writable:!0}),s={configurable:!0,enumerable:!0,get(){const a=n();return r(a),a}};return i&&(s.set=r),Object.defineProperty(t,e,s)}var Y9e=Object.freeze({__proto__:null,each:Uu,reduce:HO,isObject:na,isPlain:Td,merge:Bt,values:QO,defineLazyProperty:uy});let s8=!1,qO=null,ys=!1,eX,tX=!1,Bu=!1,Wu=!1,ia=!1,a8=null,dy=null;const $9e=!!($.cast&&$.cast.framework&&$.cast.framework.CastReceiverContext);let nX=null,Vg=!1,hy=!1,Ng=!1,fy=!1,_g=!1,kg=!1,Fg=!1;const ap=!!(Qd()&&("ontouchstart"in $||$.navigator.maxTouchPoints||$.DocumentTouch&&$.document instanceof $.DocumentTouch)),Ao=$.navigator&&$.navigator.userAgentData;Ao&&Ao.platform&&Ao.brands&&(ys=Ao.platform==="Android",Bu=!!Ao.brands.find(t=>t.brand==="Microsoft Edge"),Wu=!!Ao.brands.find(t=>t.brand==="Chromium"),ia=!Bu&&Wu,a8=dy=(Ao.brands.find(t=>t.brand==="Chromium")||{}).version||null,hy=Ao.platform==="Windows");if(!Wu){const t=$.navigator&&$.navigator.userAgent||"";s8=/iPod/i.test(t),qO=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),ys=/Android/i.test(t),eX=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const n=e[1]&&parseFloat(e[1]),i=e[2]&&parseFloat(e[2]);return n&&i?parseFloat(e[1]+"."+e[2]):n||null}(),tX=/Firefox/i.test(t),Bu=/Edg/i.test(t),Wu=/Chrome/i.test(t)||/CriOS/i.test(t),ia=!Bu&&Wu,a8=dy=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),nX=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let n=e&&parseFloat(e[1]);return!n&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(n=11),n}(),_g=/Tizen/i.test(t),kg=/Web0S/i.test(t),Fg=_g||kg,Vg=/Safari/i.test(t)&&!ia&&!ys&&!Bu&&!Fg,hy=/Windows/i.test(t),Ng=/iPad/i.test(t)||Vg&&ap&&!/iPhone/i.test(t),fy=/iPhone/i.test(t)&&!Ng}const Ai=fy||Ng||s8,py=(Vg||Ai)&&!ia;var iX=Object.freeze({__proto__:null,get IS_IPOD(){return s8},get IOS_VERSION(){return qO},get IS_ANDROID(){return ys},get ANDROID_VERSION(){return eX},get IS_FIREFOX(){return tX},get IS_EDGE(){return Bu},get IS_CHROMIUM(){return Wu},get IS_CHROME(){return ia},get CHROMIUM_VERSION(){return a8},get CHROME_VERSION(){return dy},IS_CHROMECAST_RECEIVER:$9e,get IE_VERSION(){return nX},get IS_SAFARI(){return Vg},get IS_WINDOWS(){return hy},get IS_IPAD(){return Ng},get IS_IPHONE(){return fy},get IS_TIZEN(){return _g},get IS_WEBOS(){return kg},get IS_SMART_TV(){return Fg},TOUCH_ENABLED:ap,IS_IOS:Ai,IS_ANY_SAFARI:py});function R_(t){return typeof t=="string"&&!!t.trim()}function j9e(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Qd(){return Fe===$.document}function qd(t){return na(t)&&t.nodeType===1}function rX(){try{return $.parent!==$.self}catch{return!0}}function sX(t){return function(e,n){if(!R_(e))return Fe[t](null);R_(n)&&(n=Fe.querySelector(n));const i=qd(n)?n:Fe;return i[t]&&i[t](e)}}function et(t="div",e={},n={},i){const r=Fe.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(s){const a=e[s];s==="textContent"?al(r,a):(r[s]!==a||s==="tabIndex")&&(r[s]=a)}),Object.getOwnPropertyNames(n).forEach(function(s){r.setAttribute(s,n[s])}),i&&o8(r,i),r}function al(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function C4(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function Sf(t,e){return j9e(e),t.classList.contains(e)}function Hl(t,...e){return t.classList.add(...e.reduce((n,i)=>n.concat(i.split(/\s+/)),[])),t}function my(t,...e){return t?(t.classList.remove(...e.reduce((n,i)=>n.concat(i.split(/\s+/)),[])),t):(dt.warn("removeClass was called with an element that doesn't exist"),null)}function aX(t,e,n){return typeof n=="function"&&(n=n(t,e)),typeof n!="boolean"&&(n=void 0),e.split(/\s+/).forEach(i=>t.classList.toggle(i,n)),t}function oX(t,e){Object.getOwnPropertyNames(e).forEach(function(n){const i=e[n];i===null||typeof i>"u"||i===!1?t.removeAttribute(n):t.setAttribute(n,i===!0?"":i)})}function Vo(t){const e={},n=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const i=t.attributes;for(let r=i.length-1;r>=0;r--){const s=i[r].name;let a=i[r].value;n.includes(s)&&(a=a!==null),e[s]=a}}return e}function lX(t,e){return t.getAttribute(e)}function Rd(t,e,n){t.setAttribute(e,n)}function gy(t,e){t.removeAttribute(e)}function cX(){Fe.body.focus(),Fe.onselectstart=function(){return!1}}function uX(){Fe.onselectstart=function(){return!0}}function Cd(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),n={};return["bottom","height","left","right","top","width"].forEach(i=>{e[i]!==void 0&&(n[i]=e[i])}),n.height||(n.height=parseFloat(Id(t,"height"))),n.width||(n.width=parseFloat(Id(t,"width"))),n}}function op(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,n=t.offsetHeight;let i=0,r=0;for(;t.offsetParent&&t!==Fe[xg.fullscreenElement];)i+=t.offsetLeft,r+=t.offsetTop,t=t.offsetParent;return{left:i,top:r,width:e,height:n}}function yy(t,e){const n={x:0,y:0};if(Ai){let u=t;for(;u&&u.nodeName.toLowerCase()!=="html";){const d=Id(u,"transform");if(/^matrix/.test(d)){const f=d.slice(7,-1).split(/,\s/).map(Number);n.x+=f[4],n.y+=f[5]}else if(/^matrix3d/.test(d)){const f=d.slice(9,-1).split(/,\s/).map(Number);n.x+=f[12],n.y+=f[13]}if(u.assignedSlot&&u.assignedSlot.parentElement&&$.WebKitCSSMatrix){const f=$.getComputedStyle(u.assignedSlot.parentElement).transform,h=new $.WebKitCSSMatrix(f);n.x+=h.m41,n.y+=h.m42}u=u.parentNode||u.host}}const i={},r=op(e.target),s=op(t),a=s.width,o=s.height;let l=e.offsetY-(s.top-r.top),c=e.offsetX-(s.left-r.left);return e.changedTouches&&(c=e.changedTouches[0].pageX-s.left,l=e.changedTouches[0].pageY+s.top,Ai&&(c-=n.x,l-=n.y)),i.y=1-Math.max(0,Math.min(1,l/o)),i.x=Math.max(0,Math.min(1,c/a)),i}function dX(t){return na(t)&&t.nodeType===3}function by(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function hX(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),qd(e)||dX(e))return e;if(typeof e=="string"&&/\S/.test(e))return Fe.createTextNode(e)}).filter(e=>e)}function o8(t,e){return hX(e).forEach(n=>t.appendChild(n)),t}function fX(t,e){return o8(by(t),e)}function lp(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0||t.type==="mousedown"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const tl=sX("querySelector"),pX=sX("querySelectorAll");function Id(t,e){if(!t||!e)return"";if(typeof $.getComputedStyle=="function"){let n;try{n=$.getComputedStyle(t)}catch{return""}return n?n.getPropertyValue(e)||n[e]:""}return""}function mX(t){[...Fe.styleSheets].forEach(e=>{try{const n=[...e.cssRules].map(r=>r.cssText).join(""),i=Fe.createElement("style");i.textContent=n,t.document.head.appendChild(i)}catch{const n=Fe.createElement("link");n.rel="stylesheet",n.type=e.type,n.media=e.media.mediaText,n.href=e.href,t.document.head.appendChild(n)}})}var gX=Object.freeze({__proto__:null,isReal:Qd,isEl:qd,isInFrame:rX,createEl:et,textContent:al,prependTo:C4,hasClass:Sf,addClass:Hl,removeClass:my,toggleClass:aX,setAttributes:oX,getAttributes:Vo,getAttribute:lX,setAttribute:Rd,removeAttribute:gy,blockTextSelection:cX,unblockTextSelection:uX,getBoundingClientRect:Cd,findPosition:op,getPointerPosition:yy,isTextNode:dX,emptyEl:by,normalizeContent:hX,appendContent:o8,insertContent:fX,isSingleLeftClick:lp,$:tl,$$:pX,computedStyle:Id,copyStyleSheetsToWindow:mX});let yX=!1,I4;const K9e=function(){if(I4.options.autoSetup===!1)return;const t=Array.prototype.slice.call(Fe.getElementsByTagName("video")),e=Array.prototype.slice.call(Fe.getElementsByTagName("audio")),n=Array.prototype.slice.call(Fe.getElementsByTagName("video-js")),i=t.concat(e,n);if(i&&i.length>0)for(let r=0,s=i.length;r<s;r++){const a=i[r];if(a&&a.getAttribute)a.player===void 0&&a.getAttribute("data-setup")!==null&&I4(a);else{w4(1);break}}else yX||w4(1)};function w4(t,e){Qd()&&(e&&(I4=e),$.setTimeout(K9e,t))}function x4(){yX=!0,$.removeEventListener("load",x4)}Qd()&&(Fe.readyState==="complete"?x4():$.addEventListener("load",x4));const bX=function(t){const e=Fe.createElement("style");return e.className=t,e},vX=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var Gi=new WeakMap;const z9e=3;let J9e=z9e;function Xr(){return J9e++}function C_(t,e){if(!Gi.has(t))return;const n=Gi.get(t);n.handlers[e].length===0&&(delete n.handlers[e],t.removeEventListener?t.removeEventListener(e,n.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,n.dispatcher)),Object.getOwnPropertyNames(n.handlers).length<=0&&(delete n.handlers,delete n.dispatcher,delete n.disabled),Object.getOwnPropertyNames(n).length===0&&Gi.delete(t)}function l8(t,e,n,i){n.forEach(function(r){t(e,r,i)})}function vy(t){if(t.fixed_)return t;function e(){return!0}function n(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const i=t||$.event;t={};const r=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const s in i)r.includes(s)||s==="returnValue"&&i.preventDefault||(t[s]=i[s]);if(t.target||(t.target=t.srcElement||Fe),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){i.preventDefault&&i.preventDefault(),t.returnValue=!1,i.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){i.stopPropagation&&i.stopPropagation(),t.cancelBubble=!0,i.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=n,t.stopImmediatePropagation=function(){i.stopImmediatePropagation&&i.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=n,t.clientX!==null&&t.clientX!==void 0){const s=Fe.documentElement,a=Fe.body;t.pageX=t.clientX+(s&&s.scrollLeft||a&&a.scrollLeft||0)-(s&&s.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(s&&s.scrollTop||a&&a.scrollTop||0)-(s&&s.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let d1;const H9e=function(){if(typeof d1!="boolean"){d1=!1;try{const t=Object.defineProperty({},"passive",{get(){d1=!0}});$.addEventListener("test",null,t),$.removeEventListener("test",null,t)}catch{}}return d1},Q9e=["touchstart","touchmove"];function vr(t,e,n){if(Array.isArray(e))return l8(vr,t,e,n);Gi.has(t)||Gi.set(t,{});const i=Gi.get(t);if(i.handlers||(i.handlers={}),i.handlers[e]||(i.handlers[e]=[]),n.guid||(n.guid=Xr()),i.handlers[e].push(n),i.dispatcher||(i.disabled=!1,i.dispatcher=function(r,s){if(i.disabled)return;r=vy(r);const a=i.handlers[r.type];if(a){const o=a.slice(0);for(let l=0,c=o.length;l<c&&!r.isImmediatePropagationStopped();l++)try{o[l].call(t,r,s)}catch(u){dt.error(u)}}}),i.handlers[e].length===1)if(t.addEventListener){let r=!1;H9e()&&Q9e.indexOf(e)>-1&&(r={passive:!0}),t.addEventListener(e,i.dispatcher,r)}else t.attachEvent&&t.attachEvent("on"+e,i.dispatcher)}function Si(t,e,n){if(!Gi.has(t))return;const i=Gi.get(t);if(!i.handlers)return;if(Array.isArray(e))return l8(Si,t,e,n);const r=function(a,o){i.handlers[o]=[],C_(a,o)};if(e===void 0){for(const a in i.handlers)Object.prototype.hasOwnProperty.call(i.handlers||{},a)&&r(t,a);return}const s=i.handlers[e];if(s){if(!n){r(t,e);return}if(n.guid)for(let a=0;a<s.length;a++)s[a].guid===n.guid&&s.splice(a--,1);C_(t,e)}}function eh(t,e,n){const i=Gi.has(t)?Gi.get(t):{},r=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=vy(e),i.dispatcher&&i.dispatcher.call(t,e,n),r&&!e.isPropagationStopped()&&e.bubbles===!0)eh.call(null,r,e,n);else if(!r&&!e.defaultPrevented&&e.target&&e.target[e.type]){Gi.has(e.target)||Gi.set(e.target,{});const s=Gi.get(e.target);e.target[e.type]&&(s.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),s.disabled=!1)}return!e.defaultPrevented}function Ey(t,e,n){if(Array.isArray(e))return l8(Ey,t,e,n);const i=function(){Si(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Xr(),vr(t,e,i)}function c8(t,e,n){const i=function(){Si(t,e,i),n.apply(this,arguments)};i.guid=n.guid=n.guid||Xr(),vr(t,e,i)}var q9e=Object.freeze({__proto__:null,fixEvent:vy,on:vr,off:Si,trigger:eh,one:Ey,any:c8});const Mr=30,jt=function(t,e,n){e.guid||(e.guid=Xr());const i=e.bind(t);return i.guid=n?n+"_"+e.guid:e.guid,i},ra=function(t,e){let n=$.performance.now();return function(...i){const r=$.performance.now();r-n>=e&&(t(...i),n=r)}},EX=function(t,e,n,i=$){let r;const s=()=>{i.clearTimeout(r),r=null},a=function(){const o=this,l=arguments;let c=function(){r=null,c=null,n||t.apply(o,l)};!r&&n&&t.apply(o,l),i.clearTimeout(r),r=i.setTimeout(c,e)};return a.cancel=s,a};var eTe=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Mr,bind_:jt,throttle:ra,debounce:EX});let Bh;class Er{on(e,n){const i=this.addEventListener;this.addEventListener=()=>{},vr(this,e,n),this.addEventListener=i}off(e,n){Si(this,e,n)}one(e,n){const i=this.addEventListener;this.addEventListener=()=>{},Ey(this,e,n),this.addEventListener=i}any(e,n){const i=this.addEventListener;this.addEventListener=()=>{},c8(this,e,n),this.addEventListener=i}trigger(e){const n=e.type||e;typeof e=="string"&&(e={type:n}),e=vy(e),this.allowedEvents_[n]&&this["on"+n]&&this["on"+n](e),eh(this,e)}queueTrigger(e){Bh||(Bh=new Map);const n=e.type||e;let i=Bh.get(this);i||(i=new Map,Bh.set(this,i));const r=i.get(n);i.delete(n),$.clearTimeout(r);const s=$.setTimeout(()=>{i.delete(n),i.size===0&&(i=null,Bh.delete(this)),this.trigger(e)},0);i.set(n,s)}}Er.prototype.allowedEvents_={};Er.prototype.addEventListener=Er.prototype.on;Er.prototype.removeEventListener=Er.prototype.off;Er.prototype.dispatchEvent=Er.prototype.trigger;const Ay=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,ja=t=>t instanceof Er||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),tTe=(t,e)=>{ja(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},V4=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,Lg=(t,e,n)=>{if(!t||!t.nodeName&&!ja(t))throw new Error(`Invalid target for ${Ay(e)}#${n}; must be a DOM node or evented object.`)},AX=(t,e,n)=>{if(!V4(t))throw new Error(`Invalid event type for ${Ay(e)}#${n}; must be a non-empty string or array.`)},SX=(t,e,n)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${Ay(e)}#${n}; must be a function.`)},W5=(t,e,n)=>{const i=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let r,s,a;return i?(r=t.eventBusEl_,e.length>=3&&e.shift(),[s,a]=e):(r=e[0],s=e[1],a=e[2]),Lg(r,t,n),AX(s,t,n),SX(a,t,n),a=jt(t,a),{isTargetingSelf:i,target:r,type:s,listener:a}},gl=(t,e,n,i)=>{Lg(t,t,e),t.nodeName?q9e[e](t,n,i):t[e](n,i)},nTe={on(...t){const{isTargetingSelf:e,target:n,type:i,listener:r}=W5(this,t,"on");if(gl(n,"on",i,r),!e){const s=()=>this.off(n,i,r);s.guid=r.guid;const a=()=>this.off("dispose",s);a.guid=r.guid,gl(this,"on","dispose",s),gl(n,"on","dispose",a)}},one(...t){const{isTargetingSelf:e,target:n,type:i,listener:r}=W5(this,t,"one");if(e)gl(n,"one",i,r);else{const s=(...a)=>{this.off(n,i,s),r.apply(null,a)};s.guid=r.guid,gl(n,"one",i,s)}},any(...t){const{isTargetingSelf:e,target:n,type:i,listener:r}=W5(this,t,"any");if(e)gl(n,"any",i,r);else{const s=(...a)=>{this.off(n,i,s),r.apply(null,a)};s.guid=r.guid,gl(n,"any",i,s)}},off(t,e,n){if(!t||V4(t))Si(this.eventBusEl_,t,e);else{const i=t,r=e;Lg(i,this,"off"),AX(r,this,"off"),SX(n,this,"off"),n=jt(this,n),this.off("dispose",n),i.nodeName?(Si(i,r,n),Si(i,"dispose",n)):ja(i)&&(i.off(r,n),i.off("dispose",n))}},trigger(t,e){Lg(this.eventBusEl_,this,"trigger");const n=t&&typeof t!="string"?t.type:t;if(!V4(n))throw new Error(`Invalid event type for ${Ay(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return eh(this.eventBusEl_,t,e)}};function u8(t,e={}){const{eventBusKey:n}=e;if(n){if(!t[n].nodeName)throw new Error(`The eventBusKey "${n}" does not refer to an element.`);t.eventBusEl_=t[n]}else t.eventBusEl_=et("span",{className:"vjs-event-bus"});return Object.assign(t,nTe),t.eventedCallbacks&&t.eventedCallbacks.forEach(i=>{i()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(i){i&&Gi.has(i)&&Gi.delete(i)}),$.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const iTe={state:{},setState(t){typeof t=="function"&&(t=t());let e;return Uu(t,(n,i)=>{this.state[i]!==n&&(e=e||{},e[i]={from:this.state[i],to:n}),this.state[i]=n}),e&&ja(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function TX(t,e){return Object.assign(t,iTe),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&ja(t)&&t.on("statechanged",t.handleStateChanged),t}const Tf=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},En=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},RX=function(t,e){return En(t)===En(e)};var rTe=Object.freeze({__proto__:null,toLowerCase:Tf,toTitleCase:En,titleCaseEquals:RX});let Ie=class Mi{constructor(e,n,i){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Bt({},this.options_),n=this.options_=Bt(this.options_,n),this.id_=n.id||n.el&&n.el.id,!this.id_){const r=e&&e.id&&e.id()||"no_player";this.id_=`${r}_component_${Xr()}`}this.name_=n.name||null,n.el?this.el_=n.el:n.createEl!==!1&&(this.el_=this.createEl()),n.className&&this.el_&&n.className.split(" ").forEach(r=>this.addClass(r)),["on","off","one","any","trigger"].forEach(r=>{this[r]=void 0}),n.evented!==!1&&(u8(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),TX(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,n.initChildren!==!1&&this.initChildren(),this.ready(i),n.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let n=this.children_.length-1;n>=0;n--)this.children_[n].dispose&&this.children_[n].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Bt(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,n,i){return et(e,n,i)}localize(e,n,i=e){const r=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),a=s&&s[r],o=r&&r.split("-")[0],l=s&&s[o];let c=i;return a&&a[e]?c=a[e]:l&&l[e]&&(c=l[e]),n&&(c=c.replace(/\{(\d+)\}/g,function(u,d){const f=n[d-1];let h=f;return typeof f>"u"&&(h=u),h})),c}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((i,r)=>i.concat(r),[]);let n=this;for(let i=0;i<e.length;i++)if(n=n.getChild(e[i]),!n||!n.getChild)return;return n}setIcon(e,n=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const i="http://www.w3.org/2000/svg",r=et("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),s=Fe.createElementNS(i,"svg");s.setAttributeNS(null,"viewBox","0 0 512 512");const a=Fe.createElementNS(i,"use");return s.appendChild(a),a.setAttributeNS(null,"href",`#vjs-icon-${e}`),r.appendChild(s),this.iconIsSet_?n.replaceChild(r,n.querySelector(".vjs-icon-placeholder")):n.appendChild(r),this.iconIsSet_=!0,r}addChild(e,n={},i=this.children_.length){let r,s;if(typeof e=="string"){s=En(e);const a=n.componentClass||s;n.name=s;const o=Mi.getComponent(a);if(!o)throw new Error(`Component ${a} does not exist`);if(typeof o!="function")return null;r=new o(this.player_||this,n)}else r=e;if(r.parentComponent_&&r.parentComponent_.removeChild(r),this.children_.splice(i,0,r),r.parentComponent_=this,typeof r.id=="function"&&(this.childIndex_[r.id()]=r),s=s||r.name&&En(r.name()),s&&(this.childNameIndex_[s]=r,this.childNameIndex_[Tf(s)]=r),typeof r.el=="function"&&r.el()){let a=null;this.children_[i+1]&&(this.children_[i+1].el_?a=this.children_[i+1].el_:qd(this.children_[i+1])&&(a=this.children_[i+1])),this.contentEl().insertBefore(r.el(),a)}return r}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let n=!1;for(let r=this.children_.length-1;r>=0;r--)if(this.children_[r]===e){n=!0,this.children_.splice(r,1);break}if(!n)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[En(e.name())]=null,this.childNameIndex_[Tf(e.name())]=null;const i=e.el();i&&i.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const n=this.options_,i=a=>{const o=a.name;let l=a.opts;if(n[o]!==void 0&&(l=n[o]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const c=this.addChild(o,l);c&&(this[o]=c)};let r;const s=Mi.getComponent("Tech");Array.isArray(e)?r=e:r=Object.keys(e),r.concat(Object.keys(this.options_).filter(function(a){return!r.some(function(o){return typeof o=="string"?a===o:a===o.name})})).map(a=>{let o,l;return typeof a=="string"?(o=a,l=e[o]||this.options_[o]||{}):(o=a.name,l=a),{name:o,opts:l}}).filter(a=>{const o=Mi.getComponent(a.opts.componentClass||En(a.name));return o&&!s.isTech(o)}).forEach(i)}}buildCSSClass(){return""}ready(e,n=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}n?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(n){n.call(this)},this),this.trigger("ready")},1)}$(e,n){return tl(e,n||this.contentEl())}$$(e,n){return pX(e,n||this.contentEl())}hasClass(e){return Sf(this.el_,e)}addClass(...e){Hl(this.el_,...e)}removeClass(...e){my(this.el_,...e)}toggleClass(e,n){aX(this.el_,e,n)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return lX(this.el_,e)}setAttribute(e,n){Rd(this.el_,e,n)}removeAttribute(e){gy(this.el_,e)}width(e,n){return this.dimension("width",e,n)}height(e,n){return this.dimension("height",e,n)}dimensions(e,n){this.width(e,!0),this.height(n)}dimension(e,n,i){if(n!==void 0){(n===null||n!==n)&&(n=0),(""+n).indexOf("%")!==-1||(""+n).indexOf("px")!==-1?this.el_.style[e]=n:n==="auto"?this.el_.style[e]="":this.el_.style[e]=n+"px",i||this.trigger("componentresize");return}if(!this.el_)return 0;const r=this.el_.style[e],s=r.indexOf("px");return parseInt(s!==-1?r.slice(0,s):this.el_["offset"+En(e)],10)}currentDimension(e){let n=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(n=Id(this.el_,e),n=parseFloat(n),n===0||isNaN(n)){const i=`offset${En(e)}`;n=this.el_[i]}return n}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),n={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},i={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:n,center:i}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,n=null;const i=10,r=200;let s;this.on("touchstart",function(o){o.touches.length===1&&(n={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},e=$.performance.now(),s=!0)}),this.on("touchmove",function(o){if(o.touches.length>1)s=!1;else if(n){const l=o.touches[0].pageX-n.pageX,c=o.touches[0].pageY-n.pageY;Math.sqrt(l*l+c*c)>i&&(s=!1)}});const a=function(){s=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(o){n=null,s===!0&&$.performance.now()-e<r&&(o.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=jt(this.player(),this.player().reportUserActivity);let n;this.on("touchstart",function(){e(),this.clearInterval(n),n=this.setInterval(e,250)});const i=function(r){e(),this.clearInterval(n)};this.on("touchmove",e),this.on("touchend",i),this.on("touchcancel",i)}setTimeout(e,n){var i;return e=jt(this,e),this.clearTimersOnDispose_(),i=$.setTimeout(()=>{this.setTimeoutIds_.has(i)&&this.setTimeoutIds_.delete(i),e()},n),this.setTimeoutIds_.add(i),i}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),$.clearTimeout(e)),e}setInterval(e,n){e=jt(this,e),this.clearTimersOnDispose_();const i=$.setInterval(e,n);return this.setIntervalIds_.add(i),i}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),$.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var n;return e=jt(this,e),n=$.requestAnimationFrame(()=>{this.rafIds_.has(n)&&this.rafIds_.delete(n),e()}),this.rafIds_.add(n),n}requestNamedAnimationFrame(e,n){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),n=jt(this,n);const i=this.requestAnimationFrame(()=>{n(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,i),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),$.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,n])=>{this[e].forEach((i,r)=>this[n](r))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function n(s){const a=$.getComputedStyle(s,null),o=a.getPropertyValue("visibility");return a.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(o)}function i(s){return!(!n(s.parentElement)||!n(s)||s.style.opacity==="0"||$.getComputedStyle(s).height==="0px"||$.getComputedStyle(s).width==="0px")}function r(s){if(s.offsetWidth+s.offsetHeight+s.getBoundingClientRect().height+s.getBoundingClientRect().width===0)return!1;const a={x:s.getBoundingClientRect().left+s.offsetWidth/2,y:s.getBoundingClientRect().top+s.offsetHeight/2};if(a.x<0||a.x>(Fe.documentElement.clientWidth||$.innerWidth)||a.y<0||a.y>(Fe.documentElement.clientHeight||$.innerHeight))return!1;let o=Fe.elementFromPoint(a.x,a.y);for(;o;){if(o===s)return!0;if(o.parentNode)o=o.parentNode;else return!1}}return e||(e=this.el()),!!(r(e)&&i(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,n){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const i=Mi.getComponent("Tech"),r=i&&i.isTech(n),s=Mi===n||Mi.prototype.isPrototypeOf(n.prototype);if(r||!s){let o;throw r?o="techs must be registered using Tech.registerTech()":o="must be a Component subclass",new Error(`Illegal component, "${e}"; ${o}.`)}e=En(e),Mi.components_||(Mi.components_={});const a=Mi.getComponent("Player");if(e==="Player"&&a&&a.players){const o=a.players,l=Object.keys(o);if(o&&l.length>0&&l.map(c=>o[c]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Mi.components_[e]=n,Mi.components_[Tf(e)]=n,n}static getComponent(e){if(!(!e||!Mi.components_))return Mi.components_[e]}};Ie.registerComponent("Component",Ie);function sTe(t,e,n){if(typeof e!="number"||e<0||e>n)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${n}).`)}function I_(t,e,n,i){return sTe(t,i,n.length-1),n[i][e]}function G5(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:I_.bind(null,"start",0,t),end:I_.bind(null,"end",1,t)},$.Symbol&&$.Symbol.iterator&&(e[$.Symbol.iterator]=()=>(t||[]).values()),e}function fs(t,e){return Array.isArray(t)?G5(t):t===void 0||e===void 0?G5():G5([[t,e]])}const CX=function(t,e){t=t<0?0:t;let n=Math.floor(t%60),i=Math.floor(t/60%60),r=Math.floor(t/3600);const s=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(r=i=n="-"),r=r>0||a>0?r+":":"",i=((r||s>=10)&&i<10?"0"+i:i)+":",n=n<10?"0"+n:n,r+i+n};let d8=CX;function IX(t){d8=t}function wX(){d8=CX}function hc(t,e=t){return d8(t,e)}var aTe=Object.freeze({__proto__:null,createTimeRanges:fs,createTimeRange:fs,setFormatTime:IX,resetFormatTime:wX,formatTime:hc});function xX(t,e){let n=0,i,r;if(!e)return 0;(!t||!t.length)&&(t=fs(0,0));for(let s=0;s<t.length;s++)i=t.start(s),r=t.end(s),r>e&&(r=e),n+=r-i;return n/e}function mn(t){if(t instanceof mn)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:na(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=mn.defaultMessages[this.code]||"")}mn.prototype.code=0;mn.prototype.message="";mn.prototype.status=null;mn.prototype.metadata=null;mn.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];mn.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};mn.MEDIA_ERR_CUSTOM=0;mn.prototype.MEDIA_ERR_CUSTOM=0;mn.MEDIA_ERR_ABORTED=1;mn.prototype.MEDIA_ERR_ABORTED=1;mn.MEDIA_ERR_NETWORK=2;mn.prototype.MEDIA_ERR_NETWORK=2;mn.MEDIA_ERR_DECODE=3;mn.prototype.MEDIA_ERR_DECODE=3;mn.MEDIA_ERR_SRC_NOT_SUPPORTED=4;mn.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;mn.MEDIA_ERR_ENCRYPTED=5;mn.prototype.MEDIA_ERR_ENCRYPTED=5;function Rf(t){return t!=null&&typeof t.then=="function"}function Ps(t){Rf(t)&&t.then(null,e=>{})}const N4=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((e,n,i)=>(t[n]&&(e[n]=t[n]),e),{cues:t.cues&&Array.prototype.map.call(t.cues,function(e){return{startTime:e.startTime,endTime:e.endTime,text:e.text,id:e.id}})})},oTe=function(t){const e=t.$$("track"),n=Array.prototype.map.call(e,i=>i.track);return Array.prototype.map.call(e,function(i){const r=N4(i.track);return i.src&&(r.src=i.src),r}).concat(Array.prototype.filter.call(t.textTracks(),function(i){return n.indexOf(i)===-1}).map(N4))},lTe=function(t,e){return t.forEach(function(n){const i=e.addRemoteTextTrack(n).track;!n.src&&n.cues&&n.cues.forEach(r=>i.addCue(r))}),e.textTracks()};var w_={textTracksToJson:oTe,jsonToTextTracks:lTe,trackToJson_:N4};const Z5="vjs-modal-dialog";class th extends Ie{constructor(e,n){super(e,n),this.handleKeyDown_=i=>this.handleKeyDown(i),this.close_=i=>this.close(i),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=et("div",{className:`${Z5}-content`},{role:"document"}),this.descEl_=et("p",{className:`${Z5}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),al(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${Z5} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const n=this.closeable_=!!e;let i=this.getChild("closeButton");if(n&&!i){const r=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=r,this.on(i,"close",this.close_)}!n&&i&&(this.off(i,"close",this.close_),this.removeChild(i),i.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const n=this.contentEl(),i=n.parentNode,r=n.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(n),this.empty(),fX(n,e),this.trigger("modalfill"),r?i.insertBefore(n,r):i.appendChild(n);const s=this.getChild("closeButton");s&&i.appendChild(s.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),by(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=Fe.activeElement,n=this.player_.el_;this.previouslyActiveEl_=null,(n.contains(e)||n===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const n=this.focusableEls_(),i=this.el_.querySelector(":focus");let r;for(let s=0;s<n.length;s++)if(i===n[s]){r=s;break}Fe.activeElement===this.el_&&(r=0),e.shiftKey&&r===0?(n[n.length-1].focus(),e.preventDefault()):!e.shiftKey&&r===n.length-1&&(n[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,n=>(n instanceof $.HTMLAnchorElement||n instanceof $.HTMLAreaElement)&&n.hasAttribute("href")||(n instanceof $.HTMLInputElement||n instanceof $.HTMLSelectElement||n instanceof $.HTMLTextAreaElement||n instanceof $.HTMLButtonElement)&&!n.hasAttribute("disabled")||n instanceof $.HTMLIFrameElement||n instanceof $.HTMLObjectElement||n instanceof $.HTMLEmbedElement||n.hasAttribute("tabindex")&&n.getAttribute("tabindex")!==-1||n.hasAttribute("contenteditable"))}}th.prototype.options_={pauseOnOpen:!0,temporary:!0};Ie.registerComponent("ModalDialog",th);class wd extends Er{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let n=0;n<e.length;n++)this.addTrack(e[n])}addTrack(e){const n=this.tracks_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.tracks_[n]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},ja(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let n;for(let i=0,r=this.length;i<r;i++)if(this[i]===e){n=this[i],n.off&&n.off(),this.tracks_.splice(i,1);break}n&&this.trigger({track:n,type:"removetrack",target:this})}getTrackById(e){let n=null;for(let i=0,r=this.length;i<r;i++){const s=this[i];if(s.id===e){n=s;break}}return n}}wd.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in wd.prototype.allowedEvents_)wd.prototype["on"+t]=null;const D5=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].enabled=!1)};class cTe extends wd{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].enabled){D5(e,e[n]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&D5(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,D5(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const O5=function(t,e){for(let n=0;n<t.length;n++)!Object.keys(t[n]).length||e.id===t[n].id||(t[n].selected=!1)};class uTe extends wd{constructor(e=[]){for(let n=e.length-1;n>=0;n--)if(e[n].selected){O5(e,e[n]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let n=0;n<this.length;n++)if(this[n].selected)return n;return-1},set(){}})}addTrack(e){e.selected&&O5(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,O5(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class VX extends wd{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class dTe{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let n=0,i=e.length;n<i;n++)this.addTrackElement_(e[n])}addTrackElement_(e){const n=this.trackElements_.length;""+n in this||Object.defineProperty(this,n,{get(){return this.trackElements_[n]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let n;for(let i=0,r=this.trackElements_.length;i<r;i++)if(e===this.trackElements_[i].track){n=this.trackElements_[i];break}return n}removeTrackElement_(e){for(let n=0,i=this.trackElements_.length;n<i;n++)if(e===this.trackElements_[n]){this.trackElements_[n].track&&typeof this.trackElements_[n].track.off=="function"&&this.trackElements_[n].track.off(),typeof this.trackElements_[n].off=="function"&&this.trackElements_[n].off(),this.trackElements_.splice(n,1);break}}}class Ug{constructor(e){Ug.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const n=this.length||0;let i=0;const r=e.length;this.cues_=e,this.length_=e.length;const s=function(a){""+a in this||Object.defineProperty(this,""+a,{get(){return this.cues_[a]}})};if(n<r)for(i=n;i<r;i++)s.call(this,i)}getCueById(e){let n=null;for(let i=0,r=this.length;i<r;i++){const s=this[i];if(s.id===e){n=s;break}}return n}}const hTe={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},fTe={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},pTe={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},x_={disabled:"disabled",hidden:"hidden",showing:"showing"};class h8 extends Er{constructor(e={}){super();const n={id:e.id||"vjs_track_"+Xr(),kind:e.kind||"",language:e.language||""};let i=e.label||"";for(const r in n)Object.defineProperty(this,r,{get(){return n[r]},set(){}});Object.defineProperty(this,"label",{get(){return i},set(r){r!==i&&(i=r,this.trigger("labelchange"))}})}}const f8=function(t){return new URL(t,Fe.baseURI)},NX=function(t){return new URL(t,Fe.baseURI).href},p8=function(t){if(typeof t=="string"){const e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(e)return e.pop().toLowerCase()}return""},Sy=function(t,e=$.location){return f8(t).origin!==e.origin};var mTe=Object.freeze({__proto__:null,parseUrl:f8,getAbsoluteURL:NX,getFileExtension:p8,isCrossOrigin:Sy});const V_=function(t,e){const n=new $.WebVTT.Parser($,$.vttjs,$.WebVTT.StringDecoder()),i=[];n.oncue=function(r){e.addCue(r)},n.onparsingerror=function(r){i.push(r)},n.onflush=function(){e.trigger({type:"loadeddata",target:e})},n.parse(t),i.length>0&&($.console&&$.console.groupCollapsed&&$.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),i.forEach(r=>dt.error(r)),$.console&&$.console.groupEnd&&$.console.groupEnd()),n.flush()},N_=function(t,e){const n={uri:t},i=Sy(t);i&&(n.cors=i);const r=e.tech_.crossOrigin()==="use-credentials";r&&(n.withCredentials=r),VO(n,jt(this,function(s,a,o){if(s)return dt.error(s,a);e.loaded_=!0,typeof $.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){dt.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return V_(o,e)}):V_(o,e)}))};class Kp extends h8{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const n=Bt(e,{kind:pTe[e.kind]||"subtitles",language:e.language||e.srclang||""});let i=x_[n.mode]||"disabled";const r=n.default;(n.kind==="metadata"||n.kind==="chapters")&&(i="hidden"),super(n),this.tech_=n.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const s=new Ug(this.cues_),a=new Ug(this.activeCues_);let o=!1;this.timeupdateHandler=jt(this,function(c={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){c.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1),c.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),i!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return r},set(){}},mode:{get(){return i},set(c){x_[c]&&i!==c&&(i=c,!this.preload_&&i!=="disabled"&&this.cues.length===0&&N_(this.src,this),this.stopTracking(),i!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?s:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return a;const c=this.tech_.currentTime(),u=[];for(let d=0,f=this.cues.length;d<f;d++){const h=this.cues[d];h.startTime<=c&&h.endTime>=c&&u.push(h)}if(o=!1,u.length!==this.activeCues_.length)o=!0;else for(let d=0;d<u.length;d++)this.activeCues_.indexOf(u[d])===-1&&(o=!0);return this.activeCues_=u,a.setCues_(this.activeCues_),a},set(){}}}),n.src?(this.src=n.src,this.preload_||(this.loaded_=!0),(this.preload_||n.kind!=="subtitles"&&n.kind!=="captions")&&N_(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let n=e;if(!("getCueAsHTML"in n)){n=new $.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const r in e)r in n||(n[r]=e[r]);n.id=e.id,n.originalCue_=e}const i=this.tech_.textTracks();for(let r=0;r<i.length;r++)i[r]!==this&&i[r].removeCue(n);this.cues_.push(n),this.cues.setCues_(this.cues_)}removeCue(e){let n=this.cues_.length;for(;n--;){const i=this.cues_[n];if(i===e||i.originalCue_&&i.originalCue_===e){this.cues_.splice(n,1),this.cues.setCues_(this.cues_);break}}}}Kp.prototype.allowedEvents_={cuechange:"cuechange"};class _X extends h8{constructor(e={}){const n=Bt(e,{kind:fTe[e.kind]||""});super(n);let i=!1;Object.defineProperty(this,"enabled",{get(){return i},set(r){typeof r!="boolean"||r===i||(i=r,this.trigger("enabledchange"))}}),n.enabled&&(this.enabled=n.enabled),this.loaded_=!0}}class kX extends h8{constructor(e={}){const n=Bt(e,{kind:hTe[e.kind]||""});super(n);let i=!1;Object.defineProperty(this,"selected",{get(){return i},set(r){typeof r!="boolean"||r===i||(i=r,this.trigger("selectedchange"))}}),n.selected&&(this.selected=n.selected)}}class io extends Er{constructor(e={}){super();let n;const i=new Kp(e);this.kind=i.kind,this.src=i.src,this.srclang=i.language,this.label=i.label,this.default=i.default,Object.defineProperties(this,{readyState:{get(){return n}},track:{get(){return i}}}),n=io.NONE,i.addEventListener("loadeddata",()=>{n=io.LOADED,this.trigger({type:"load",target:this})})}}io.prototype.allowedEvents_={load:"load"};io.NONE=0;io.LOADING=1;io.LOADED=2;io.ERROR=3;const Zr={audio:{ListClass:cTe,TrackClass:_X,capitalName:"Audio"},video:{ListClass:uTe,TrackClass:kX,capitalName:"Video"},text:{ListClass:VX,TrackClass:Kp,capitalName:"Text"}};Object.keys(Zr).forEach(function(t){Zr[t].getterName=`${t}Tracks`,Zr[t].privateName=`${t}Tracks_`});const xd={remoteText:{ListClass:VX,TrackClass:Kp,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:dTe,TrackClass:io,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Bi=Object.assign({},Zr,xd);xd.names=Object.keys(xd);Zr.names=Object.keys(Zr);Bi.names=[].concat(xd.names).concat(Zr.names);function gTe(t,e,n,i,r={}){const s=t.textTracks();r.kind=e,n&&(r.label=n),i&&(r.language=i),r.tech=t;const a=new Bi.text.TrackClass(r);return s.addTrack(a),a}let Mt=class gi extends Ie{constructor(e={},n=function(){}){e.reportTouchActivity=!1,super(null,e,n),this.onDurationChange_=i=>this.onDurationChange(i),this.trackProgress_=i=>this.trackProgress(i),this.trackCurrentTime_=i=>this.trackCurrentTime(i),this.stopTrackingCurrentTime_=i=>this.stopTrackingCurrentTime(i),this.disposeSourceHandler_=i=>this.disposeSourceHandler(i),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Bi.names.forEach(i=>{const r=Bi[i];e&&e[r.getterName]&&(this[r.privateName]=e[r.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(i=>{e[`native${i}Tracks`]===!1&&(this[`featuresNative${i}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new Bi.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(jt(this,function(){const n=this.bufferedPercent();this.bufferedPercent_!==n&&this.trigger("progress"),this.bufferedPercent_=n,n===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return fs(0,0)}bufferedPercent(){return xX(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(Zr.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(n=>{const i=this[`${n}Tracks`]()||[];let r=i.length;for(;r--;){const s=i[r];n==="text"&&this.removeRemoteTextTrack(s),i.removeTrack(s)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let n=e.length;for(;n--;){const i=e[n];this.removeRemoteTextTrack(i)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new mn(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?fs(0,0):fs()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){Zr.names.forEach(e=>{const n=Zr[e],i=()=>{this.trigger(`${e}trackchange`)},r=this[n.getterName]();r.addEventListener("removetrack",i),r.addEventListener("addtrack",i),this.on("dispose",()=>{r.removeEventListener("removetrack",i),r.removeEventListener("addtrack",i)})})}addWebVttScript_(){if(!$.WebVTT)if(Fe.body.contains(this.el())){if(!this.options_["vtt.js"]&&Td(o_)&&Object.keys(o_).length>0){this.trigger("vttjsloaded");return}const e=Fe.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),$.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),n=this.remoteTextTracks(),i=o=>e.addTrack(o.track),r=o=>e.removeTrack(o.track);n.on("addtrack",i),n.on("removetrack",r),this.addWebVttScript_();const s=()=>this.trigger("texttrackchange"),a=()=>{s();for(let o=0;o<e.length;o++){const l=e[o];l.removeEventListener("cuechange",s),l.mode==="showing"&&l.addEventListener("cuechange",s)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){n.off("addtrack",i),n.off("removetrack",r),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(let o=0;o<e.length;o++)e[o].removeEventListener("cuechange",s)})}addTextTrack(e,n,i){if(!e)throw new Error("TextTrack kind is required but was not provided");return gTe(this,e,n,i)}createRemoteTextTrack(e){const n=Bt(e,{tech:this});return new xd.remoteTextEl.TrackClass(n)}addRemoteTextTrack(e={},n){const i=this.createRemoteTextTrack(e);return typeof n!="boolean"&&(n=!1),this.remoteTextTrackEls().addTrackElement_(i),this.remoteTextTracks().addTrack(i.track),n===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(i.track)),i}removeRemoteTextTrack(e){const n=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(n),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const n=Xr();return!this.isReady_||this.paused()?(this.queuedHanders_.add(n),this.one("playing",()=>{this.queuedHanders_.has(n)&&(this.queuedHanders_.delete(n),e())})):this.requestNamedAnimationFrame(n,e),n}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,n){return gi.canPlayType(e.type)}static isTech(e){return e.prototype instanceof gi||e instanceof gi||e===gi}static registerTech(e,n){if(gi.techs_||(gi.techs_={}),!gi.isTech(n))throw new Error(`Tech ${e} must be a Tech`);if(!gi.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!gi.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=En(e),gi.techs_[e]=n,gi.techs_[Tf(e)]=n,e!=="Tech"&&gi.defaultTechOrder_.push(e),n}static getTech(e){if(e){if(gi.techs_&&gi.techs_[e])return gi.techs_[e];if(e=En(e),$&&$.videojs&&$.videojs[e])return dt.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),$.videojs[e]}}};Bi.names.forEach(function(t){const e=Bi[t];Mt.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});Mt.prototype.featuresVolumeControl=!0;Mt.prototype.featuresMuteControl=!0;Mt.prototype.featuresFullscreenResize=!1;Mt.prototype.featuresPlaybackRate=!1;Mt.prototype.featuresProgressEvents=!1;Mt.prototype.featuresSourceset=!1;Mt.prototype.featuresTimeupdateEvents=!1;Mt.prototype.featuresNativeTextTracks=!1;Mt.prototype.featuresVideoFrameCallback=!1;Mt.withSourceHandlers=function(t){t.registerSourceHandler=function(e,n){let i=t.sourceHandlers;i||(i=t.sourceHandlers=[]),n===void 0&&(n=i.length),i.splice(n,0,e)},t.canPlayType=function(e){const n=t.sourceHandlers||[];let i;for(let r=0;r<n.length;r++)if(i=n[r].canPlayType(e),i)return i;return""},t.selectSourceHandler=function(e,n){const i=t.sourceHandlers||[];let r;for(let s=0;s<i.length;s++)if(r=i[s].canHandleSource(e,n),r)return i[s];return null},t.canPlaySource=function(e,n){const i=t.selectSourceHandler(e,n);return i?i.canHandleSource(e,n):""},["seekable","seeking","duration"].forEach(function(e){const n=this[e];typeof n=="function"&&(this[e]=function(){return this.sourceHandler_&&this.sourceHandler_[e]?this.sourceHandler_[e].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(e){let n=t.selectSourceHandler(e,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:dt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=n.handleSource(e,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};Ie.registerComponent("Tech",Mt);Mt.registerTech("Tech",Mt);Mt.defaultTechOrder_=[];const Ql={},Bg={},Wg={};function yTe(t,e){Ql[t]=Ql[t]||[],Ql[t].push(e)}function bTe(t,e,n){t.setTimeout(()=>Cl(e,Ql[e.type],n,t),1)}function vTe(t,e){t.forEach(n=>n.setTech&&n.setTech(e))}function ETe(t,e,n){return t.reduceRight(m8(n),e[n]())}function ATe(t,e,n,i){return e[n](t.reduce(m8(n),i))}function __(t,e,n,i=null){const r="call"+En(n),s=t.reduce(m8(r),i),a=s===Wg,o=a?null:e[n](s);return RTe(t,n,o,a),o}const STe={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},TTe={setCurrentTime:1,setMuted:1,setVolume:1},k_={play:1,pause:1};function m8(t){return(e,n)=>e===Wg?Wg:n[t]?n[t](e):e}function RTe(t,e,n,i){for(let r=t.length-1;r>=0;r--){const s=t[r];s[e]&&s[e](i,n)}}function CTe(t){Bg.hasOwnProperty(t.id())&&delete Bg[t.id()]}function ITe(t,e){const n=Bg[t.id()];let i=null;if(n==null)return i=e(t),Bg[t.id()]=[[e,i]],i;for(let r=0;r<n.length;r++){const[s,a]=n[r];s===e&&(i=a)}return i===null&&(i=e(t),n.push([e,i])),i}function Cl(t={},e=[],n,i,r=[],s=!1){const[a,...o]=e;if(typeof a=="string")Cl(t,Ql[a],n,i,r,s);else if(a){const l=ITe(i,a);if(!l.setSource)return r.push(l),Cl(t,o,n,i,r,s);l.setSource(Object.assign({},t),function(c,u){if(c)return Cl(t,o,n,i,r,s);r.push(l),Cl(u,t.type===u.type?o:Ql[u.type],n,i,r,s)})}else o.length?Cl(t,o,n,i,r,s):s?n(t,r):Cl(t,Ql["*"],n,i,r,!0)}const wTe={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},Gg=function(t=""){const e=p8(t);return wTe[e.toLowerCase()]||""},xTe=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const n=t.cache_.sources.filter(r=>r.src===e);if(n.length)return n[0].type;const i=t.$$("source");for(let r=0;r<i.length;r++){const s=i[r];if(s.type&&s.src&&s.src===e)return s.type}return Gg(e)},FX=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(n){n=FX(n),Array.isArray(n)?e=e.concat(n):na(n)&&e.push(n)}),t=e}else typeof t=="string"&&t.trim()?t=[F_({src:t})]:na(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[F_(t)]:t=[];return t};function F_(t){if(!t.type){const e=Gg(t.src);e&&(t.type=e)}return t}var VTe=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const L_=_g?10009:kg?461:8,Mc={codes:{play:415,pause:19,ff:417,rw:412,back:L_},names:{415:"play",19:"pause",417:"ff",412:"rw",[L_]:"back"},isEventKey(t,e){return e=e.toLowerCase(),!!(this.names[t.keyCode]&&this.names[t.keyCode]===e)},getEventName(t){if(this.names[t.keyCode])return this.names[t.keyCode];if(this.codes[t.code]){const e=this.codes[t.code];return this.names[e]}return null}},U_=5;class NTe extends Er{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const n=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(n.key)){if(this.isPaused_)return;n.preventDefault();const i=n.key.substring(5).toLowerCase();this.move(i)}else if(Mc.isEventKey(n,"play")||Mc.isEventKey(n,"pause")||Mc.isEventKey(n,"ff")||Mc.isEventKey(n,"rw")){n.preventDefault();const i=Mc.getEventName(n);this.performMediaAction_(i)}else Mc.isEventKey(n,"Back")&&e.target&&typeof e.target.closeable=="function"&&e.target.closeable()&&(n.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+U_);break;case"rw":this.userSeek_(this.player_.currentTime()-U_);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const n=e.relatedTarget;let i=null;const r=this.getCurrentComponent(e.target);n&&(i=!!n.closest(".video-js"),n.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!i||!n)&&(r&&r.name()==="CloseButton"?this.refocusComponent():(this.pause(),r&&r.el()&&(this.lastFocusedComponent_=r)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,n=[];function i(r){for(const s of r)s.hasOwnProperty("el_")&&s.getIsFocusable()&&s.getIsAvailableToBeFocused(s.el())&&n.push(s),s.hasOwnProperty("children_")&&s.children_.length>0&&i(s.children_)}return e.children_.forEach(r=>{if(r.hasOwnProperty("el_"))if(r.getIsFocusable&&r.getIsAvailableToBeFocused&&r.getIsFocusable()&&r.getIsAvailableToBeFocused(r.el())){n.push(r);return}else r.hasOwnProperty("children_")&&r.children_.length>0?i(r.children_):r.hasOwnProperty("items")&&r.items.length>0?i(r.items):this.findSuitableDOMChild(r)&&n.push(r);if(r.name_==="ErrorDisplay"&&r.opened_){const s=r.el_.querySelector(".vjs-errors-ok-button-container");s&&s.querySelectorAll("button").forEach((a,o)=>{n.push({name:()=>"ModalButton"+(o+1),el:()=>a,getPositions:()=>{const l=a.getBoundingClientRect(),c={x:l.x,y:l.y,width:l.width,height:l.height,top:l.top,right:l.right,bottom:l.bottom,left:l.left},u={x:l.left+l.width/2,y:l.top+l.height/2,width:0,height:0,top:l.top+l.height/2,right:l.left+l.width/2,bottom:l.top+l.height/2,left:l.left+l.width/2};return{boundingClientRect:c,center:u}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:l=>!0,focus:()=>a.focus()})})}}),this.focusableComponents=n,this.focusableComponents}findSuitableDOMChild(e){function n(i){if(e.getIsFocusable(i)&&e.getIsAvailableToBeFocused(i))return i;for(let r=0;r<i.children.length;r++){const s=i.children[r],a=n(s);if(a)return a}return null}return e.el()?n(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const n=e||document.activeElement;if(this.focusableComponents.length){for(const i of this.focusableComponents)if(i.el()===n)return i}}add(e){const n=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&n.push(e),this.focusableComponents=n,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let n=0;n<this.focusableComponents.length;n++)if(this.focusableComponents[n].name()===e.name()){this.focusableComponents.splice(n,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const n=this.getCurrentComponent();if(!n)return;const i=n.getPositions(),r=this.focusableComponents.filter(a=>a!==n&&this.isInDirection_(i.boundingClientRect,a.getPositions().boundingClientRect,e)),s=this.findBestCandidate_(i.center,r,e);s?this.focus(s):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:n})}findBestCandidate_(e,n,i){let r=1/0,s=null;for(const a of n){const o=a.getPositions().center,l=this.calculateDistance_(e,o,i);l<r&&(r=l,s=a)}return s}isInDirection_(e,n,i){switch(i){case"right":return n.left>=e.right;case"left":return n.right<=e.left;case"down":return n.top>=e.bottom;case"up":return n.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,n,i){const r=Math.abs(e.x-n.x),s=Math.abs(e.y-n.y);let a;switch(i){case"right":case"left":a=r+s*100;break;case"up":a=s*2+r*.5;break;case"down":a=s*5+r;break;default:a=r+s}return a}searchForTrackSelect_(){const e=this;for(const n of e.updateFocusableComponents())if(n.constructor.name==="TextTrackSelect"){e.focus(n);break}}}class _Te extends Ie{constructor(e,n,i){const r=Bt({createEl:!1},n);if(super(e,r,i),!n.playerOptions.sources||n.playerOptions.sources.length===0)for(let s=0,a=n.playerOptions.techOrder;s<a.length;s++){const o=En(a[s]);let l=Mt.getTech(o);if(o||(l=Ie.getComponent(o)),l&&l.isSupported()){e.loadTech_(o);break}}else e.src(n.playerOptions.sources)}}Ie.registerComponent("MediaLoader",_Te);class Ty extends Ie{constructor(e,n){super(e,n),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=i=>this.handleMouseOver(i),this.handleMouseOut_=i=>this.handleMouseOut(i),this.handleClick_=i=>this.handleClick(i),this.handleKeyDown_=i=>this.handleKeyDown(i),this.emitTapEvents(),this.enable()}createEl(e="div",n={},i={}){n=Object.assign({className:this.buildCSSClass(),tabIndex:0},n),e==="button"&&dt.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),i=Object.assign({role:"button"},i),this.tabIndex_=n.tabIndex;const r=et(e,n,i);return this.player_.options_.experimentalSvgIcons||r.appendChild(et("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=et("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,n=this.el()){if(e===void 0)return this.controlText_||"Need Text";const i=this.localize(e);this.controlText_=e,al(this.controlTextEl_,i),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&n.setAttribute("title",i)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Ie.registerComponent("ClickableComponent",Ty);class _4 extends Ty{constructor(e,n){super(e,n),this.update(),this.update_=i=>this.update(i),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return et("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const n=this.player().poster();this.setSrc(n),n?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(et("picture",{className:"vjs-poster",tabIndex:-1},{},et("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?Ps(this.player_.play()):this.player_.pause())}}_4.prototype.crossorigin=_4.prototype.crossOrigin;Ie.registerComponent("PosterImage",_4);const Cr="#222",B_="#ccc",kTe={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function X5(t,e){let n;if(t.length===4)n=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)n=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(n.slice(0,2),16)+","+parseInt(n.slice(2,4),16)+","+parseInt(n.slice(4,6),16)+","+e+")"}function Ss(t,e,n){try{t.style[e]=n}catch{return}}function W_(t){return t?`${t}px`:""}class FTe extends Ie{constructor(e,n,i){super(e,n,i);const r=a=>this.updateDisplay(a),s=a=>{this.updateDisplayOverlay(),this.updateDisplay(a)};e.on("loadstart",a=>this.toggleDisplay(a)),e.on("texttrackchange",r),e.on("loadedmetadata",a=>{this.updateDisplayOverlay(),this.preselectTrack(a)}),e.ready(jt(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",s),e.on("playerresize",s);const a=$.screen.orientation||$,o=$.screen.orientation?"change":"orientationchange";a.addEventListener(o,s),e.on("dispose",()=>a.removeEventListener(o,s));const l=this.options_.playerOptions.tracks||[];for(let c=0;c<l.length;c++)this.player_.addRemoteTextTrack(l[c],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},n=this.player_.textTracks(),i=this.player_.cache_.selectedLanguage;let r,s,a;for(let o=0;o<n.length;o++){const l=n[o];i&&i.enabled&&i.language&&i.language===l.language&&l.kind in e?l.kind===i.kind?a=l:a||(a=l):i&&!i.enabled?(a=null,r=null,s=null):l.default&&(l.kind==="descriptions"&&!r?r=l:l.kind in e&&!s&&(s=l))}a?a.mode="showing":s?s.mode="showing":r&&(r.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof $.WebVTT=="function"&&$.WebVTT.processCues($,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),n=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),n){const a=[];for(let o=0;o<e.length;++o){const l=e[o];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}let i=null,r=null,s=e.length;for(;s--;){const a=e[s];a.mode==="showing"&&(a.kind==="descriptions"?i=a:r=a)}if(r?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(r)):i&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(i)),!$.CSS.supports("inset","10px")){const a=this.el_,o=a.querySelectorAll(".vjs-text-track-cue"),l=this.player_.controlBar.el_.getBoundingClientRect().height,c=this.player_.el_.getBoundingClientRect().height;a.style="",Ss(a,"position","relative"),Ss(a,"height",c-l+"px"),Ss(a,"top","unset"),Fg?Ss(a,"bottom",c+"px"):Ss(a,"bottom","0px"),o.length>0&&o.forEach(u=>{if(u.style.inset){const d=u.style.inset.split(" ");d.length===3&&Object.assign(u.style,{top:d[0],right:d[1],bottom:d[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!$.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),n=this.player_.currentHeight(),i=e/n,r=this.player_.videoWidth()/this.player_.videoHeight();let s=0,a=0;Math.abs(i-r)>.1&&(i>r?s=Math.round((e-n*r)/2):a=Math.round((n-e/r)/2)),Ss(this.el_,"insetInline",W_(s)),Ss(this.el_,"insetBlock",W_(a))}updateDisplayState(e){const n=this.player_.textTrackSettings.getValues(),i=e.activeCues;let r=i.length;for(;r--;){const s=i[r];if(!s)continue;const a=s.displayState;if(n.color&&(a.firstChild.style.color=n.color),n.textOpacity&&Ss(a.firstChild,"color",X5(n.color||"#fff",n.textOpacity)),n.backgroundColor&&(a.firstChild.style.backgroundColor=n.backgroundColor),n.backgroundOpacity&&Ss(a.firstChild,"backgroundColor",X5(n.backgroundColor||"#000",n.backgroundOpacity)),n.windowColor&&(n.windowOpacity?Ss(a,"backgroundColor",X5(n.windowColor,n.windowOpacity)):a.style.backgroundColor=n.windowColor),n.edgeStyle&&(n.edgeStyle==="dropshadow"?a.firstChild.style.textShadow=`2px 2px 3px ${Cr}, 2px 2px 4px ${Cr}, 2px 2px 5px ${Cr}`:n.edgeStyle==="raised"?a.firstChild.style.textShadow=`1px 1px ${Cr}, 2px 2px ${Cr}, 3px 3px ${Cr}`:n.edgeStyle==="depressed"?a.firstChild.style.textShadow=`1px 1px ${B_}, 0 1px ${B_}, -1px -1px ${Cr}, 0 -1px ${Cr}`:n.edgeStyle==="uniform"&&(a.firstChild.style.textShadow=`0 0 4px ${Cr}, 0 0 4px ${Cr}, 0 0 4px ${Cr}, 0 0 4px ${Cr}`)),n.fontPercent&&n.fontPercent!==1){const o=$.parseFloat(a.style.fontSize);a.style.fontSize=o*n.fontPercent+"px",a.style.height="auto",a.style.top="auto"}n.fontFamily&&n.fontFamily!=="default"&&(n.fontFamily==="small-caps"?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=kTe[n.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof $.WebVTT!="function"||e.every(i=>!i.activeCues))return;const n=[];for(let i=0;i<e.length;++i){const r=e[i];for(let s=0;s<r.activeCues.length;++s)n.push(r.activeCues[s])}$.WebVTT.processCues($,n,this.el_);for(let i=0;i<e.length;++i){const r=e[i];for(let s=0;s<r.activeCues.length;++s){const a=r.activeCues[s].displayState;Hl(a,"vjs-text-track-cue","vjs-text-track-cue-"+(r.language?r.language:i)),r.language&&Rd(a,"lang",r.language)}this.player_.textTrackSettings&&this.updateDisplayState(r)}}}Ie.registerComponent("TextTrackDisplay",FTe);class LTe extends Ie{createEl(){const e=this.player_.isAudio(),n=this.localize(e?"Audio Player":"Video Player"),i=et("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[n])}),r=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return r.appendChild(i),r}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}Ie.registerComponent("LoadingSpinner",LTe);class Ti extends Ty{createEl(e,n={},i={}){e="button",n=Object.assign({className:this.buildCSSClass()},n),i=Object.assign({type:"button"},i);const r=et(e,n,i);return this.player_.options_.experimentalSvgIcons||r.appendChild(et("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(r),r}addChild(e,n={}){const i=this.constructor.name;return dt.warn(`Adding an actionable (user controllable) child to a Button (${i}) is not supported; use a ClickableComponent instead.`),Ie.prototype.addChild.call(this,e,n)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}Ie.registerComponent("Button",Ti);class LX extends Ti{constructor(e,n){super(e,n),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",i=>this.handleMouseDown(i))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const n=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){Ps(n),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const i=this.player_.getChild("controlBar"),r=i&&i.getChild("playToggle");if(!r){this.player_.tech(!0).focus();return}const s=()=>r.focus();Rf(n)?n.then(s,()=>{}):this.setTimeout(s,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}LX.prototype.controlText_="Play Video";Ie.registerComponent("BigPlayButton",LX);class UTe extends Ti{constructor(e,n){super(e,n),this.setIcon("cancel"),this.controlText(n&&n.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Ie.registerComponent("CloseButton",UTe);class UX extends Ti{constructor(e,n={}){super(e,n),n.replay=n.replay===void 0||n.replay,this.setIcon("play"),this.on(e,"play",i=>this.handlePlay(i)),this.on(e,"pause",i=>this.handlePause(i)),n.replay&&this.on(e,"ended",i=>this.handleEnded(i))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?Ps(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",n=>this.handleSeeked(n))}}UX.prototype.controlText_="Play";Ie.registerComponent("PlayToggle",UX);class nh extends Ie{constructor(e,n){super(e,n),this.on(e,["timeupdate","ended","seeking"],i=>this.update(i)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),n=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),i=et("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}`},{role:"presentation"});return n.appendChild(i),this.contentEl_=et("span",{className:`${e}-display`},{role:"presentation"}),n.appendChild(this.contentEl_),n}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=hc(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let n=this.textNode_;n&&this.contentEl_.firstChild!==n&&(n=null,dt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Fe.createTextNode(this.formattedTime_),this.textNode_&&(n?this.contentEl_.replaceChild(this.textNode_,n):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}nh.prototype.labelText_="Time";nh.prototype.controlText_="Time";Ie.registerComponent("TimeDisplay",nh);class g8 extends nh{buildCSSClass(){return"vjs-current-time"}updateContent(e){let n;this.player_.ended()?n=this.player_.duration():n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(n)}}g8.prototype.labelText_="Current Time";g8.prototype.controlText_="Current Time";Ie.registerComponent("CurrentTimeDisplay",g8);class y8 extends nh{constructor(e,n){super(e,n);const i=r=>this.updateContent(r);this.on(e,"durationchange",i),this.on(e,"loadstart",i),this.on(e,"loadedmetadata",i)}buildCSSClass(){return"vjs-duration"}updateContent(e){const n=this.player_.duration();this.updateTextNode_(n)}}y8.prototype.labelText_="Duration";y8.prototype.controlText_="Duration";Ie.registerComponent("DurationDisplay",y8);class BTe extends Ie{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),n=super.createEl("div"),i=super.createEl("span",{textContent:"/"});return n.appendChild(i),e.appendChild(n),e}}Ie.registerComponent("TimeDivider",BTe);class b8 extends nh{constructor(e,n){super(e,n),this.on(e,"durationchange",i=>this.updateContent(i))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(et("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let n;this.player_.ended()?n=0:this.player_.remainingTimeDisplay?n=this.player_.remainingTimeDisplay():n=this.player_.remainingTime(),this.updateTextNode_(n)}}b8.prototype.labelText_="Remaining Time";b8.prototype.controlText_="Remaining Time";Ie.registerComponent("RemainingTimeDisplay",b8);class WTe extends Ie{constructor(e,n){super(e,n),this.updateShowing(),this.on(this.player(),"durationchange",i=>this.updateShowing(i))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=et("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(et("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}`})),this.contentEl_.appendChild(Fe.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}Ie.registerComponent("LiveDisplay",WTe);class BX extends Ti{constructor(e,n){super(e,n),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=i=>this.updateLiveEdgeStatus(i),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=et("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}BX.prototype.controlText_="Seek to live, currently playing live";Ie.registerComponent("SeekToLive",BX);function zp(t,e,n){return t=Number(t),Math.min(n,Math.max(e,isNaN(t)?e:t))}var GTe=Object.freeze({__proto__:null,clamp:zp});class v8 extends Ie{constructor(e,n){super(e,n),this.handleMouseDown_=i=>this.handleMouseDown(i),this.handleMouseUp_=i=>this.handleMouseUp(i),this.handleKeyDown_=i=>this.handleKeyDown(i),this.handleClick_=i=>this.handleClick(i),this.handleMouseMove_=i=>this.handleMouseMove(i),this.update_=i=>this.update(i),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,n={},i={}){return n.className=n.className+" vjs-slider",n=Object.assign({tabIndex:0},n),i=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},i),super.createEl(e,n,i)}handleMouseDown(e){const n=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!ia&&e.preventDefault(),cX(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(n,"mousemove",this.handleMouseMove_),this.on(n,"mouseup",this.handleMouseUp_),this.on(n,"touchmove",this.handleMouseMove_),this.on(n,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const n=this.bar.el_.ownerDocument;uX(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(n,"mousemove",this.handleMouseMove_),this.off(n,"mouseup",this.handleMouseUp_),this.off(n,"touchmove",this.handleMouseMove_),this.off(n,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const n=this.vertical()?"height":"width";this.bar.el().style[n]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(zp(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const n=yy(this.el_,e);return this.vertical()?n.y:n.x}handleKeyDown(e){const n=this.options_.playerOptions.spatialNavigation,i=n&&n.enabled,r=n&&n.horizontalSeek;i?r&&e.key==="ArrowLeft"||!r&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):r&&e.key==="ArrowRight"||!r&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}Ie.registerComponent("Slider",v8);const M5=(t,e)=>zp(t/e*100,0,100).toFixed(2)+"%";class ZTe extends Ie{constructor(e,n){super(e,n),this.partEls_=[],this.on(e,"progress",i=>this.update(i))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),n=et("span",{className:"vjs-control-text"}),i=et("span",{textContent:this.localize("Loaded")}),r=Fe.createTextNode(": ");return this.percentageEl_=et("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(n),n.appendChild(i),n.appendChild(r),n.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const n=this.player_.liveTracker,i=this.player_.buffered(),r=n&&n.isLive()?n.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),a=this.partEls_,o=M5(s,r);this.percent_!==o&&(this.el_.style.width=o,al(this.percentageEl_,o),this.percent_=o);for(let l=0;l<i.length;l++){const c=i.start(l),u=i.end(l);let d=a[l];d||(d=this.el_.appendChild(et()),a[l]=d),!(d.dataset.start===c&&d.dataset.end===u)&&(d.dataset.start=c,d.dataset.end=u,d.style.left=M5(c,s),d.style.width=M5(u-c,s))}for(let l=a.length;l>i.length;l--)this.el_.removeChild(a[l-1]);a.length=i.length})}}Ie.registerComponent("LoadProgressBar",ZTe);class DTe extends Ie{constructor(e,n){super(e,n),this.update=ra(jt(this,this.update),Mr)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,n,i){const r=op(this.el_),s=Cd(this.player_.el()),a=e.width*n;if(!s||!r)return;let o=e.left-s.left+a,l=e.width-a+(s.right-e.right);l||(l=e.width-a,o=a);let c=r.width/2;o<c?c+=c-o:l<c&&(c=l),c<0?c=0:c>r.width&&(c=r.width),c=Math.round(c),this.el_.style.right=`-${c}px`,this.write(i)}write(e){al(this.el_,e)}updateTime(e,n,i,r){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let s;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const o=this.player_.liveTracker.liveWindow(),l=o-n*o;s=(l<1?"":"-")+hc(l,o)}else s=hc(i,a);this.update(e,n,s),r&&r()})}}Ie.registerComponent("TimeTooltip",DTe);class E8 extends Ie{constructor(e,n){super(e,n),this.setIcon("circle"),this.update=ra(jt(this,this.update),Mr)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,n){const i=this.getChild("timeTooltip");if(!i)return;const r=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(e,n,r)}}E8.prototype.options_={children:[]};!Ai&&!ys&&E8.prototype.options_.children.push("timeTooltip");Ie.registerComponent("PlayProgressBar",E8);class WX extends Ie{constructor(e,n){super(e,n),this.update=ra(jt(this,this.update),Mr)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n){const i=n*this.player_.duration();this.getChild("timeTooltip").updateTime(e,n,i,()=>{this.el_.style.left=`${e.width*n}px`})}}WX.prototype.options_={children:["timeTooltip"]};Ie.registerComponent("MouseTimeDisplay",WX);const h1=5,G_=12;class Ry extends v8{constructor(e,n){n=Bt(Ry.prototype.options_,n),n.children=[...n.children];const i=e.options_.disableSeekWhileScrubbingOnMobile&&(Ai||ys);(!Ai&&!ys||i)&&n.children.splice(1,0,"mouseTimeDisplay"),super(e,n),this.shouldDisableSeekWhileScrubbingOnMobile_=i,this.pendingSeekTime_=null,this.setEventHandlers_()}setEventHandlers_(){this.update_=jt(this,this.update),this.update=ra(this.update_,Mr),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Fe&&"visibilityState"in Fe&&this.on(Fe,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){Fe.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Mr))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(Fe.visibilityState==="hidden")return;const n=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const i=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),r=this.player_.liveTracker;let s=this.player_.duration();r&&r.isLive()&&(s=this.player_.liveTracker.liveCurrentTime()),this.percent_!==n&&(this.el_.setAttribute("aria-valuenow",(n*100).toFixed(2)),this.percent_=n),(this.currentTime_!==i||this.duration_!==s)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[hc(i,s),hc(s,s)],"{1} of {2}")),this.currentTime_=i,this.duration_=s),this.bar&&this.bar.update(Cd(this.el()),this.getProgress())}),n}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){if(this.pendingSeekTime_)return this.pendingSeekTime_/this.player_.duration();const e=this.getCurrentTime_();let n;const i=this.player_.liveTracker;return i&&i.isLive()?(n=(e-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(n=1)):n=e/this.player_.duration(),n}handleMouseDown(e){lp(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.shouldDisableSeekWhileScrubbingOnMobile_||this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,n=!1){if(!lp(e)||isNaN(this.player_.duration()))return;!n&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let i;const r=this.calculateDistance(e),s=this.player_.liveTracker;if(!s||!s.isLive())i=r*this.player_.duration(),i===this.player_.duration()&&(i=i-.1);else{if(r>=.99){s.seekToLiveEdge();return}const a=s.seekableStart(),o=s.liveCurrentTime();if(i=a+r*s.liveWindow(),i>=o&&(i=o),i<=a&&(i=a+.1),i===1/0)return}this.shouldDisableSeekWhileScrubbingOnMobile_?this.pendingSeekTime_=i:this.userSeek_(i),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.pendingSeekTime_&&(this.userSeek_(this.pendingSeekTime_),this.pendingSeekTime_=null),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?Ps(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+h1)}stepBack(){this.userSeek_(this.player_.currentTime()-h1)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const n=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),n&&n.isLive()?this.userSeek_(n.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const i=parseInt(e.key,10)*.1;n&&n.isLive()?this.userSeek_(n.seekableStart()+n.liveWindow()*i):this.userSeek_(this.player_.duration()*i)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-h1*G_)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+h1*G_)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Fe&&"visibilityState"in Fe&&this.off(Fe,"visibilitychange",this.toggleVisibility_),super.dispose()}}Ry.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};Ie.registerComponent("SeekBar",Ry);class GX extends Ie{constructor(e,n){super(e,n),this.handleMouseMove=ra(jt(this,this.handleMouseMove),Mr),this.throttledHandleMouseSeek=ra(jt(this,this.handleMouseSeek),Mr),this.handleMouseUpHandler_=i=>this.handleMouseUp(i),this.handleMouseDownHandler_=i=>this.handleMouseDown(i),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const n=this.getChild("seekBar");if(!n)return;const i=n.getChild("playProgressBar"),r=n.getChild("mouseTimeDisplay");if(!i&&!r)return;const s=n.el(),a=op(s);let o=yy(s,e).x;o=zp(o,0,1),r&&r.update(a,o),i&&i.update(a,n.getProgress())}handleMouseSeek(e){const n=this.getChild("seekBar");n&&n.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&Ps(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const n=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(e),this.on(n,"mousemove",this.throttledHandleMouseSeek),this.on(n,"touchmove",this.throttledHandleMouseSeek),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.getChild("seekBar");n&&n.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}GX.prototype.options_={children:["seekBar"]};Ie.registerComponent("ProgressControl",GX);class ZX extends Ti{constructor(e,n){super(e,n),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],i=>this.handlePictureInPictureChange(i)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],i=>this.handlePictureInPictureEnabledChange(i)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Fe.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in $?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Fe.exitPictureInPicture=="function"&&super.show()}}ZX.prototype.controlText_="Picture-in-Picture";Ie.registerComponent("PictureInPictureToggle",ZX);class DX extends Ti{constructor(e,n){super(e,n),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",i=>this.handleFullscreenChange(i)),Fe[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}DX.prototype.controlText_="Fullscreen";Ie.registerComponent("FullscreenToggle",DX);const OTe=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class XTe extends Ie{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}Ie.registerComponent("VolumeLevel",XTe);class MTe extends Ie{constructor(e,n){super(e,n),this.update=ra(jt(this,this.update),Mr)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,n,i,r){if(!i){const s=Cd(this.el_),a=Cd(this.player_.el()),o=e.width*n;if(!a||!s)return;const l=e.left-a.left+o,c=e.width-o+(a.right-e.right);let u=s.width/2;l<u?u+=u-l:c<u&&(u=c),u<0?u=0:u>s.width&&(u=s.width),this.el_.style.right=`-${u}px`}this.write(`${r}%`)}write(e){al(this.el_,e)}updateVolume(e,n,i,r,s){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,n,i,r.toFixed(0)),s&&s()})}}Ie.registerComponent("VolumeLevelTooltip",MTe);class OX extends Ie{constructor(e,n){super(e,n),this.update=ra(jt(this,this.update),Mr)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,n,i){const r=100*n;this.getChild("volumeLevelTooltip").updateVolume(e,n,i,r,()=>{i?this.el_.style.bottom=`${e.height*n}px`:this.el_.style.left=`${e.width*n}px`})}}OX.prototype.options_={children:["volumeLevelTooltip"]};Ie.registerComponent("MouseVolumeLevelDisplay",OX);class Cy extends v8{constructor(e,n){super(e,n),this.on("slideractive",i=>this.updateLastVolume_(i)),this.on(e,"volumechange",i=>this.updateARIAAttributes(i)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){lp(e)&&super.handleMouseDown(e)}handleMouseMove(e){const n=this.getChild("mouseVolumeLevelDisplay");if(n){const i=this.el(),r=Cd(i),s=this.vertical();let a=yy(i,e);a=s?a.y:a.x,a=zp(a,0,1),n.update(r,a,s)}lp(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const n=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",n),this.el_.setAttribute("aria-valuetext",n+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}Cy.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!Ai&&!ys&&Cy.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");Cy.prototype.playerEvent="volumechange";Ie.registerComponent("VolumeBar",Cy);class XX extends Ie{constructor(e,n={}){n.vertical=n.vertical||!1,(typeof n.volumeBar>"u"||Td(n.volumeBar))&&(n.volumeBar=n.volumeBar||{},n.volumeBar.vertical=n.vertical),super(e,n),OTe(this,e),this.throttledHandleMouseMove=ra(jt(this,this.handleMouseMove),Mr),this.handleMouseUpHandler_=i=>this.handleMouseUp(i),this.on("mousedown",i=>this.handleMouseDown(i)),this.on("touchstart",i=>this.handleMouseDown(i)),this.on("mousemove",i=>this.handleMouseMove(i)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const n=this.el_.ownerDocument;this.on(n,"mousemove",this.throttledHandleMouseMove),this.on(n,"touchmove",this.throttledHandleMouseMove),this.on(n,"mouseup",this.handleMouseUpHandler_),this.on(n,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const n=this.el_.ownerDocument;this.off(n,"mousemove",this.throttledHandleMouseMove),this.off(n,"touchmove",this.throttledHandleMouseMove),this.off(n,"mouseup",this.handleMouseUpHandler_),this.off(n,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}XX.prototype.options_={children:["volumeBar"]};Ie.registerComponent("VolumeControl",XX);const PTe=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class MX extends Ti{constructor(e,n){super(e,n),PTe(this,e),this.on(e,["loadstart","volumechange"],i=>this.update(i))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.volume(),i=this.player_.lastVolume_();if(n===0){const r=i<.1?.1:i;this.player_.volume(r),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let n=3;this.setIcon("volume-high"),Ai&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),n=0):e<.33?(this.setIcon("volume-low"),n=1):e<.67&&(this.setIcon("volume-medium"),n=2),my(this.el_,[0,1,2,3].reduce((i,r)=>i+`${r?" ":""}vjs-vol-${r}`,"")),Hl(this.el_,`vjs-vol-${n}`)}updateControlText_(){const e=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==e&&this.controlText(e)}}MX.prototype.controlText_="Mute";Ie.registerComponent("MuteToggle",MX);class PX extends Ie{constructor(e,n={}){typeof n.inline<"u"?n.inline=n.inline:n.inline=!0,(typeof n.volumeControl>"u"||Td(n.volumeControl))&&(n.volumeControl=n.volumeControl||{},n.volumeControl.vertical=!n.inline),super(e,n),this.handleKeyPressHandler_=i=>this.handleKeyPress(i),this.on(e,["loadstart"],i=>this.volumePanelState_(i)),this.on(this.muteToggle,"keyup",i=>this.handleKeyPress(i)),this.on(this.volumeControl,"keyup",i=>this.handleVolumeControlKeyUp(i)),this.on("keydown",i=>this.handleKeyPress(i)),this.on("mouseover",i=>this.handleMouseOver(i)),this.on("mouseout",i=>this.handleMouseOut(i)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),vr(Fe,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),Si(Fe,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}PX.prototype.options_={children:["muteToggle","volumeControl"]};Ie.registerComponent("VolumePanel",PX);class YX extends Ti{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const n=this.player_.currentTime(),i=this.player_.liveTracker,r=i&&i.isLive()?i.seekableEnd():this.player_.duration();let s;n+this.skipTime<=r?s=n+this.skipTime:s=r,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}YX.prototype.controlText_="Skip Forward";Ie.registerComponent("SkipForward",YX);class $X extends Ti{constructor(e,n){super(e,n),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const n=this.player_.currentTime(),i=this.player_.liveTracker,r=i&&i.isLive()&&i.seekableStart();let s;r&&n-this.skipTime<=r?s=r:n>=this.skipTime?s=n-this.skipTime:s=0,this.player_.currentTime(s)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}$X.prototype.controlText_="Skip Backward";Ie.registerComponent("SkipBackward",$X);class jX extends Ie{constructor(e,n){super(e,n),n&&(this.menuButton_=n.menuButton),this.focusedChild_=-1,this.on("keydown",i=>this.handleKeyDown(i)),this.boundHandleBlur_=i=>this.handleBlur(i),this.boundHandleTapClick_=i=>this.handleTapClick(i)}addEventListenerForItem(e){e instanceof Ie&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof Ie&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const n=this.addChild(e);n&&this.addEventListenerForItem(n)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=et(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const n=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return n.appendChild(this.contentEl_),vr(n,"click",function(i){i.preventDefault(),i.stopImmediatePropagation()}),n}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const n=e.relatedTarget||Fe.activeElement;if(!this.children().some(i=>i.el()===n)){const i=this.menuButton_;i&&i.buttonPressed_&&n!==i.el().firstChild&&i.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const n=this.children();if(!Array.isArray(n))return;const i=n.filter(r=>r.el()===e.target)[0];if(!i)return;i.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const n=this.children().slice();n.length&&n[0].hasClass("vjs-menu-title")&&n.shift(),n.length>0&&(e<0?e=0:e>=n.length&&(e=n.length-1),this.focusedChild_=e,n[e].el_.focus())}}Ie.registerComponent("Menu",jX);class A8 extends Ie{constructor(e,n={}){super(e,n),this.menuButton_=new Ti(e,n),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const i=Ti.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+i,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const r=s=>this.handleClick(s);this.handleMenuKeyUp_=s=>this.handleMenuKeyUp(s),this.on(this.menuButton_,"tap",r),this.on(this.menuButton_,"click",r),this.on(this.menuButton_,"keydown",s=>this.handleKeyDown(s)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),vr(Fe,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",s=>this.handleMouseLeave(s)),this.on("keydown",s=>this.handleSubmenuKeyDown(s))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new jX(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const n=et("li",{className:"vjs-menu-title",textContent:En(this.options_.title),tabIndex:-1}),i=new Ie(this.player_,{el:n});e.addItem(i)}if(this.items=this.createItems(),this.items)for(let n=0;n<this.items.length;n++)e.addItem(this.items[n]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const n=Ti.prototype.buildCSSClass();return`vjs-menu-button ${e} ${n} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,n=this.menuButton_.el()){return this.menuButton_.controlText(e,n)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),Si(Fe,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Escape"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Escape"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Escape"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Ai&&rX())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}Ie.registerComponent("MenuButton",A8);class S8 extends A8{constructor(e,n){const i=n.tracks;if(super(e,n),this.items.length<=1&&this.hide(),!i)return;const r=jt(this,this.update);i.addEventListener("removetrack",r),i.addEventListener("addtrack",r),i.addEventListener("labelchange",r),this.player_.on("ready",r),this.player_.on("dispose",function(){i.removeEventListener("removetrack",r),i.removeEventListener("addtrack",r),i.removeEventListener("labelchange",r)})}}Ie.registerComponent("TrackButton",S8);class Jp extends Ty{constructor(e,n){super(e,n),this.selectable=n.selectable,this.isSelected_=n.selected||!1,this.multiSelectable=n.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,n,i){this.nonIconControl=!0;const r=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},n),i),s=et("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?r.appendChild(s):r.replaceChild(s,r.querySelector(".vjs-icon-placeholder")),r}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}Ie.registerComponent("MenuItem",Jp);class Hp extends Jp{constructor(e,n){const i=n.track,r=e.textTracks();n.label=i.label||i.language||"Unknown",n.selected=i.mode==="showing",super(e,n),this.track=i,this.kinds=(n.kinds||[n.kind||this.track.kind]).filter(Boolean);const s=(...o)=>{this.handleTracksChange.apply(this,o)},a=(...o)=>{this.handleSelectedLanguageChange.apply(this,o)};if(e.on(["loadstart","texttrackchange"],s),r.addEventListener("change",s),r.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],s),r.removeEventListener("change",s),r.removeEventListener("selectedlanguagechange",a)}),r.onchange===void 0){let o;this.on(["tap","click"],function(){if(typeof $.Event!="object")try{o=new $.Event("change")}catch{}o||(o=Fe.createEvent("Event"),o.initEvent("change",!0,!0)),r.dispatchEvent(o)})}this.handleTracksChange()}handleClick(e){const n=this.track,i=this.player_.textTracks();if(super.handleClick(e),!!i)for(let r=0;r<i.length;r++){const s=i[r];this.kinds.indexOf(s.kind)!==-1&&(s===n?s.mode!=="showing"&&(s.mode="showing"):s.mode!=="disabled"&&(s.mode="disabled"))}}handleTracksChange(e){const n=this.track.mode==="showing";n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const n=this.player_.cache_.selectedLanguage;if(n&&n.enabled&&n.language===this.track.language&&n.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}Ie.registerComponent("TextTrackMenuItem",Hp);class KX extends Hp{constructor(e,n){n.track={player:e,kind:n.kind,kinds:n.kinds,default:!1,mode:"disabled"},n.kinds||(n.kinds=[n.kind]),n.label?n.track.label=n.label:n.track.label=n.kinds.join(" and ")+" off",n.selectable=!0,n.multiSelectable=!1,super(e,n)}handleTracksChange(e){const n=this.player().textTracks();let i=!0;for(let r=0,s=n.length;r<s;r++){const a=n[r];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){i=!1;break}}i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(e){const n=this.player().textTracks();let i=!0;for(let r=0,s=n.length;r<s;r++){const a=n[r];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}Ie.registerComponent("OffTextTrackMenuItem",KX);class ih extends S8{constructor(e,n={}){n.tracks=e.textTracks(),super(e,n)}createItems(e=[],n=Hp){let i;this.label_&&(i=`${this.label_} off`),e.push(new KX(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;const r=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let s=0;s<r.length;s++){const a=r[s];if(this.kinds_.indexOf(a.kind)>-1){const o=new n(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass(`vjs-${a.kind}-menu-item`),e.push(o)}}return e}}Ie.registerComponent("TextTrackButton",ih);class zX extends Jp{constructor(e,n){const i=n.track,r=n.cue,s=e.currentTime();n.selectable=!0,n.multiSelectable=!1,n.label=r.text,n.selected=r.startTime<=s&&s<r.endTime,super(e,n),this.track=i,this.cue=r}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}Ie.registerComponent("ChaptersTrackMenuItem",zX);class T8 extends ih{constructor(e,n,i){super(e,n,i),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(r=>{r.selected(this.track_.activeCues[0]===r.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const n=this.findChaptersTrack();n!==this.track_?(this.setTrack(n),super.update()):(!this.items||n&&n.cues&&n.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const n=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);n&&n.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let n=e.length-1;n>=0;n--){const i=e[n];if(i.kind===this.kind_)return i}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(En(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const n=this.track_.cues;if(!n)return e;for(let i=0,r=n.length;i<r;i++){const s=n[i],a=new zX(this.player_,{track:this.track_,cue:s});e.push(a)}return e}}T8.prototype.kind_="chapters";T8.prototype.controlText_="Chapters";Ie.registerComponent("ChaptersButton",T8);class R8 extends ih{constructor(e,n,i){super(e,n,i),this.setIcon("audio-description");const r=e.textTracks(),s=jt(this,this.handleTracksChange);r.addEventListener("change",s),this.on("dispose",function(){r.removeEventListener("change",s)})}handleTracksChange(e){const n=this.player().textTracks();let i=!1;for(let r=0,s=n.length;r<s;r++){const a=n[r];if(a.kind!==this.kind_&&a.mode==="showing"){i=!0;break}}i?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}R8.prototype.kind_="descriptions";R8.prototype.controlText_="Descriptions";Ie.registerComponent("DescriptionsButton",R8);class C8 extends ih{constructor(e,n,i){super(e,n,i),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}C8.prototype.kind_="subtitles";C8.prototype.controlText_="Subtitles";Ie.registerComponent("SubtitlesButton",C8);class I8 extends Hp{constructor(e,n){n.track={player:e,kind:n.kind,label:n.kind+" settings",selectable:!1,default:!1,mode:"disabled"},n.selectable=!1,n.name="CaptionSettingsMenuItem",super(e,n),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+n.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}Ie.registerComponent("CaptionSettingsMenuItem",I8);class w8 extends ih{constructor(e,n,i){super(e,n,i),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new I8(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}w8.prototype.kind_="captions";w8.prototype.controlText_="Captions";Ie.registerComponent("CaptionsButton",w8);class JX extends Hp{createEl(e,n,i){const r=super.createEl(e,n,i),s=r.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",r):s.appendChild(et("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(et("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),r}}Ie.registerComponent("SubsCapsMenuItem",JX);class x8 extends ih{constructor(e,n={}){super(e,n),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(En(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new I8(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,JX),e}}x8.prototype.kinds_=["captions","subtitles"];x8.prototype.controlText_="Subtitles";Ie.registerComponent("SubsCapsButton",x8);class HX extends Jp{constructor(e,n){const i=n.track,r=e.audioTracks();n.label=i.label||i.language||"Unknown",n.selected=i.enabled,super(e,n),this.track=i,this.addClass(`vjs-${i.kind}-menu-item`);const s=(...a)=>{this.handleTracksChange.apply(this,a)};r.addEventListener("change",s),this.on("dispose",()=>{r.removeEventListener("change",s)})}createEl(e,n,i){const r=super.createEl(e,n,i),s=r.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(s.appendChild(et("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),s.appendChild(et("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),r}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const n=this.player_.audioTracks();for(let i=0;i<n.length;i++){const r=n[i];r!==this.track&&(r.enabled=r===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}Ie.registerComponent("AudioTrackMenuItem",HX);class QX extends S8{constructor(e,n={}){n.tracks=e.audioTracks(),super(e,n),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const n=this.player_.audioTracks();for(let i=0;i<n.length;i++){const r=n[i];e.push(new HX(this.player_,{track:r,selectable:!0,multiSelectable:!1}))}return e}}QX.prototype.controlText_="Audio Track";Ie.registerComponent("AudioTrackButton",QX);class V8 extends Jp{constructor(e,n){const i=n.rate,r=parseFloat(i,10);n.label=i,n.selected=r===e.playbackRate(),n.selectable=!0,n.multiSelectable=!1,super(e,n),this.label=i,this.rate=r,this.on(e,"ratechange",s=>this.update(s))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}V8.prototype.contentElType="button";Ie.registerComponent("PlaybackRateMenuItem",V8);class qX extends A8{constructor(e,n){super(e,n),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",i=>this.updateVisibility(i)),this.on(e,"ratechange",i=>this.updateLabel(i)),this.on(e,"playbackrateschange",i=>this.handlePlaybackRateschange(i))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=et("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),n=[];for(let i=e.length-1;i>=0;i--)n.push(new V8(this.player(),{rate:e[i]+"x"}));return n}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}qX.prototype.controlText_="Playback Rate";Ie.registerComponent("PlaybackRateMenuButton",qX);class eM extends Ie{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",n={},i={}){return n.className||(n.className=this.buildCSSClass()),super.createEl(e,n,i)}}Ie.registerComponent("Spacer",eM);class YTe extends eM{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}}Ie.registerComponent("CustomControlSpacer",YTe);class tM extends Ie{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}tM.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};Ie.registerComponent("ControlBar",tM);class nM extends th{constructor(e,n){super(e,n),this.on(e,"error",i=>{this.open(i)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}nM.prototype.options_=Object.assign({},th.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});Ie.registerComponent("ErrorDisplay",nM);class iM extends Ie{constructor(e,n={}){super(e,n),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),et("select",{id:this.options_.id},{},this.options_.SelectOptions.map(e=>{const n=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${Xr()}`)+"-"+e[1].replace(/\W+/g,""),i=et("option",{id:n,value:this.localize(e[0]),textContent:this.localize(e[1])});return i.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${n}`),i}))}}Ie.registerComponent("TextTrackSelect",iM);class ql extends Ie{constructor(e,n={}){super(e,n);const i=et("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(i);const r=this.options_.selects;for(const s of r){const a=this.options_.selectConfigs[s],o=a.className,l=a.id.replace("%s",this.options_.id_);let c=null;const u=`vjs_select_${Xr()}`;if(this.options_.type==="colors"){c=et("span",{className:o});const f=et("label",{id:l,className:"vjs-label",textContent:this.localize(a.label)});f.setAttribute("for",u),c.appendChild(f)}const d=new iM(e,{SelectOptions:a.options,legendId:this.options_.legendId,id:u,labelId:l});this.addChild(d),this.options_.type==="colors"&&(c.appendChild(d.el()),this.el().appendChild(c))}}createEl(){return et("fieldset",{className:this.options_.className})}}Ie.registerComponent("TextTrackFieldset",ql);class rM extends Ie{constructor(e,n={}){super(e,n);const i=this.options_.textTrackComponentid,r=new ql(e,{id_:i,legendId:`captions-text-legend-${i}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(r);const s=new ql(e,{id_:i,legendId:`captions-background-${i}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s);const a=new ql(e,{id_:i,legendId:`captions-window-${i}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(a)}createEl(){return et("div",{className:"vjs-track-settings-colors"})}}Ie.registerComponent("TextTrackSettingsColors",rM);class sM extends Ie{constructor(e,n={}){super(e,n);const i=this.options_.textTrackComponentid,r=new ql(e,{id_:i,legendId:`captions-font-size-${i}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(r);const s=new ql(e,{id_:i,legendId:`captions-edge-style-${i}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s);const a=new ql(e,{id_:i,legendId:`captions-font-family-${i}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(a)}createEl(){return et("div",{className:"vjs-track-settings-font"})}}Ie.registerComponent("TextTrackSettingsFont",sM);class aM extends Ie{constructor(e,n={}){super(e,n);const i=this.localize("restore all settings to the default values"),r=new Ti(e,{controlText:i,className:"vjs-default-button"});r.el().classList.remove("vjs-control","vjs-button"),r.el().textContent=this.localize("Reset"),this.addChild(r);const s=new Ti(e,{controlText:i,className:"vjs-done-button"});s.el().classList.remove("vjs-control","vjs-button"),s.el().textContent=this.localize("Done"),this.addChild(s)}createEl(){return et("div",{className:"vjs-track-settings-controls"})}}Ie.registerComponent("TrackSettingsControls",aM);const P5="vjs-text-track-settings",Z_=["#000","Black"],D_=["#00F","Blue"],O_=["#0FF","Cyan"],X_=["#0F0","Green"],M_=["#F0F","Magenta"],P_=["#F00","Red"],Y_=["#FFF","White"],$_=["#FF0","Yellow"],Y5=["1","Opaque"],$5=["0.5","Semi-Transparent"],j_=["0","Transparent"],No={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[Z_,Y_,P_,X_,D_,$_,M_,O_],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[Y5,$5,j_],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Y_,Z_,P_,X_,D_,$_,M_,O_],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[Y5,$5],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[j_,$5,Y5],className:"vjs-window-opacity vjs-opacity"}};No.windowColor.options=No.backgroundColor.options;function oM(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function $Te(t,e){const n=t.options[t.options.selectedIndex].value;return oM(n,e)}function jTe(t,e,n){if(e){for(let i=0;i<t.options.length;i++)if(oM(t.options[i].value,n)===e){t.selectedIndex=i;break}}}class KTe extends th{constructor(e,n){n.temporary=!1,super(e,n),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=et("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),n.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const n=new rM(e,{textTrackComponentid:this.id_,selectConfigs:No,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(n);const i=new sM(e,{textTrackComponentid:this.id_,selectConfigs:No,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(i);const r=new aM(e);this.addChild(r)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),Uu(No,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return HO(No,(e,n,i)=>{const r=$Te(this.$(n.selector),n.parser);return r!==void 0&&(e[i]=r),e},{})}setValues(e){Uu(No,(n,i)=>{jTe(this.$(n.selector),e[i],n.parser)})}setDefaults(){Uu(No,e=>{const n=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=n})}restoreSettings(){let e;try{e=JSON.parse($.localStorage.getItem(P5))}catch(n){dt.warn(n)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?$.localStorage.setItem(P5,JSON.stringify(e)):$.localStorage.removeItem(P5)}catch(n){dt.warn(n)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}Ie.registerComponent("TextTrackSettings",KTe);class zTe extends Ie{constructor(e,n){let i=n.ResizeObserver||$.ResizeObserver;n.ResizeObserver===null&&(i=!1);const r=Bt({createEl:!i,reportTouchActivity:!1},n);super(e,r),this.ResizeObserver=n.ResizeObserver||$.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=EX(()=>{this.resizeHandler()},100,!1,this),i?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const s=this.debouncedHandler_;let a=this.unloadListener_=function(){Si(this,"resize",s),Si(this,"unload",a),a=null};vr(this.el_.contentWindow,"unload",a),vr(this.el_.contentWindow,"resize",s)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}Ie.registerComponent("ResizeManager",zTe);const JTe={trackingThreshold:20,liveTolerance:15};class HTe extends Ie{constructor(e,n){const i=Bt(JTe,n,{createEl:!1});super(e,i),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=r=>this.handlePlay(r),this.handleFirstTimeupdate_=r=>this.handleFirstTimeupdate(r),this.handleSeeked_=r=>this.handleSeeked(r),this.seekToLiveEdge_=r=>this.seekToLiveEdge(r),this.reset_(),this.on(this.player_,"durationchange",r=>this.handleDurationchange(r)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const n=Number($.performance.now().toFixed(4)),i=this.lastTime_===-1?0:(n-this.lastTime_)/1e3;this.lastTime_=n,this.pastSeekEnd_=this.pastSeekEnd()+i;const r=this.liveCurrentTime(),s=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(r-s)>this.options_.liveTolerance;(!this.timeupdateSeen_||r===1/0)&&(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Mr),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),n=[];let i=e?e.length:0;for(;i--;)n.push(e.end(i));return n.length?n.sort()[n.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),n=[];let i=e?e.length:0;for(;i--;)n.push(e.start(i));return n.length?n.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}Ie.registerComponent("LiveTracker",HTe);class QTe extends Ie{constructor(e,n){super(e,n),this.on("statechanged",i=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:et("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Xr()}`}),description:et("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Xr()}`})},et("div",{className:"vjs-title-bar"},{},QO(this.els))}updateDom_(){const e=this.player_.tech_,n=e&&e.el_,i={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(r=>{const s=this.state[r],a=this.els[r],o=i[r];by(a),s&&al(a,s),n&&(n.removeAttribute(o),s&&n.setAttribute(o,a.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,n=e&&e.el_;n&&(n.removeAttribute("aria-labelledby"),n.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}Ie.registerComponent("TitleBar",QTe);const qTe={initialDisplay:4e3,position:[],takeFocus:!1};class e8e extends Ti{constructor(e,n){n=Bt(qTe,n),super(e,n),this.controlText(n.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],i=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=et("button",{},{type:"button",class:this.buildCSSClass()},et("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}Ie.registerComponent("TransientButton",e8e);const k4=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const n=t.$$("source"),i=[];let r="";if(!n.length)return!1;for(let s=0;s<n.length;s++){const a=n[s].src;a&&i.indexOf(a)===-1&&i.push(a)}return i.length?(i.length===1&&(r=i[0]),t.triggerSourceset(r),!0):!1},t8e=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=Fe.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const n=Fe.createDocumentFragment();for(;e.childNodes.length;)n.appendChild(e.childNodes[0]);return this.innerText="",$.Element.prototype.appendChild.call(this,n),this.innerHTML}}),lM=(t,e)=>{let n={};for(let i=0;i<t.length&&(n=Object.getOwnPropertyDescriptor(t[i],e),!(n&&n.set&&n.get));i++);return n.enumerable=!0,n.configurable=!0,n},n8e=t=>lM([t.el(),$.HTMLMediaElement.prototype,$.Element.prototype,t8e],"innerHTML"),K_=function(t){const e=t.el();if(e.resetSourceWatch_)return;const n={},i=n8e(t),r=s=>(...a)=>{const o=s.apply(e,a);return k4(t),o};["append","appendChild","insertAdjacentHTML"].forEach(s=>{e[s]&&(n[s]=e[s],e[s]=r(n[s]))}),Object.defineProperty(e,"innerHTML",Bt(i,{set:r(i.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(n).forEach(s=>{e[s]=n[s]}),Object.defineProperty(e,"innerHTML",i)},t.one("sourceset",e.resetSourceWatch_)},i8e=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?NX($.Element.prototype.getAttribute.call(this,"src")):""},set(t){return $.Element.prototype.setAttribute.call(this,"src",t),t}}),r8e=t=>lM([t.el(),$.HTMLMediaElement.prototype,i8e],"src"),s8e=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const n=r8e(t),i=e.setAttribute,r=e.load;Object.defineProperty(e,"src",Bt(n,{set:s=>{const a=n.set.call(e,s);return t.triggerSourceset(e.src),a}})),e.setAttribute=(s,a)=>{const o=i.call(e,s,a);return/src/i.test(s)&&t.triggerSourceset(e.src),o},e.load=()=>{const s=r.call(e);return k4(t)||(t.triggerSourceset(""),K_(t)),s},e.currentSrc?t.triggerSourceset(e.currentSrc):k4(t)||K_(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=r,e.setAttribute=i,Object.defineProperty(e,"src",n),e.resetSourceWatch_&&e.resetSourceWatch_()}};let Oe=class cm extends Mt{constructor(e,n){super(e,n);const i=e.source;let r=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",i&&(this.el_.currentSrc!==i.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(i):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const s=this.el_.childNodes;let a=s.length;const o=[];for(;a--;){const l=s[a];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!r&&!this.el_.hasAttribute("crossorigin")&&Sy(l.src)&&(r=!0)):o.push(l))}for(let l=0;l<o.length;l++)this.el_.removeChild(o[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&r&&dt.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(ap||fy)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),cm.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){s8e(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let n;const i=()=>{n=[];for(let s=0;s<e.length;s++){const a=e[s];a.kind==="metadata"&&n.push({track:a,storedMode:a.mode})}};i(),e.addEventListener("change",i),this.on("dispose",()=>e.removeEventListener("change",i));const r=()=>{for(let s=0;s<n.length;s++){const a=n[s];a.track.mode==="disabled"&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}e.removeEventListener("change",r)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",i),e.removeEventListener("change",r),e.addEventListener("change",r)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",i),e.addEventListener("change",i),e.removeEventListener("change",r)})}overrideNative_(e,n){if(n!==this[`featuresNative${e}Tracks`])return;const i=e.toLowerCase();this[`${i}TracksListeners_`]&&Object.keys(this[`${i}TracksListeners_`]).forEach(r=>{this.el()[`${i}Tracks`].removeEventListener(r,this[`${i}TracksListeners_`][r])}),this[`featuresNative${e}Tracks`]=!n,this[`${i}TracksListeners_`]=null,this.proxyNativeTracksForType_(i)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const n=Zr[e],i=this.el()[n.getterName],r=this[n.getterName]();if(!this[`featuresNative${n.capitalName}Tracks`]||!i||!i.addEventListener)return;const s={change:o=>{const l={type:"change",target:r,currentTarget:r,srcElement:r};r.trigger(l),e==="text"&&this[xd.remoteText.getterName]().trigger(l)},addtrack(o){r.addTrack(o.track)},removetrack(o){r.removeTrack(o.track)}},a=function(){const o=[];for(let l=0;l<r.length;l++){let c=!1;for(let u=0;u<i.length;u++)if(i[u]===r[l]){c=!0;break}c||o.push(r[l])}for(;o.length;)r.removeTrack(o.shift())};this[n.getterName+"Listeners_"]=s,Object.keys(s).forEach(o=>{const l=s[o];i.addEventListener(o,l),this.on("dispose",c=>i.removeEventListener(o,l))}),this.on("loadstart",a),this.on("dispose",o=>this.off("loadstart",a))}proxyNativeTracks_(){Zr.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const i=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(i,e),cm.disposeMediaElement(e),e=i}else{e=Fe.createElement("video");const i=this.options_.tag&&Vo(this.options_.tag),r=Bt({},i);(!ap||this.options_.nativeControlsForTouch!==!0)&&delete r.controls,oX(e,Object.assign(r,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Rd(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const n=["loop","muted","playsinline","autoplay"];for(let i=0;i<n.length;i++){const r=n[i],s=this.options_[r];typeof s<"u"&&(s?Rd(e,r,r):gy(e,r),e[r]=s)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let i=!1;const r=function(){i=!0};this.on("loadstart",r);const s=function(){i||this.trigger("loadstart")};this.on("loadedmetadata",s),this.ready(function(){this.off("loadstart",r),this.off("loadedmetadata",s),i||this.trigger("loadstart")});return}const n=["loadstart"];n.push("loadedmetadata"),e.readyState>=2&&n.push("loadeddata"),e.readyState>=3&&n.push("canplay"),e.readyState>=4&&n.push("canplaythrough"),this.ready(function(){n.forEach(function(i){this.trigger(i)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&py?this.el_.fastSeek(e):this.el_.currentTime=e}catch(n){dt(n,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&ys&&ia&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},n=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",n),this.on("dispose",()=>{this.off("webkitbeginfullscreen",n),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)Ps(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}},0);else try{e.webkitEnterFullScreen()}catch(n){this.trigger("fullscreenerror",n)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}addSourceElement(e,n){if(!e)return dt.error("Invalid source URL."),!1;const i={src:e};n&&(i.type=n);const r=et("source",{},i);return this.el_.appendChild(r),!0}removeSourceElement(e){if(!e)return dt.error("Source URL is required to remove the source element."),!1;const n=this.el_.querySelectorAll("source");for(const i of n)if(i.src===e)return this.el_.removeChild(i),!0;return dt.warn(`No matching source element found with src: ${e}`),!1}reset(){cm.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,n,i){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,n,i):super.addTextTrack(e,n,i)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const n=Fe.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n}addRemoteTextTrack(e,n){const i=super.addRemoteTextTrack(e,n);return this.featuresNativeTextTracks&&this.el().appendChild(i),i}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const n=this.$$("track");let i=n.length;for(;i--;)(e===n[i]||e===n[i].track)&&this.el().removeChild(n[i])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),$.performance&&(e.creationTime=$.performance.now()),e}};uy(Oe,"TEST_VID",function(){if(!Qd())return;const t=Fe.createElement("video"),e=Fe.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});Oe.isSupported=function(){try{Oe.TEST_VID.volume=.5}catch{return!1}return!!(Oe.TEST_VID&&Oe.TEST_VID.canPlayType)};Oe.canPlayType=function(t){return Oe.TEST_VID.canPlayType(t)};Oe.canPlaySource=function(t,e){return Oe.canPlayType(t.type)};Oe.canControlVolume=function(){try{const t=Oe.TEST_VID.volume;Oe.TEST_VID.volume=t/2+.1;const e=t!==Oe.TEST_VID.volume;return e&&Ai?($.setTimeout(()=>{Oe&&Oe.prototype&&(Oe.prototype.featuresVolumeControl=t!==Oe.TEST_VID.volume)}),!1):e}catch{return!1}};Oe.canMuteVolume=function(){try{const t=Oe.TEST_VID.muted;return Oe.TEST_VID.muted=!t,Oe.TEST_VID.muted?Rd(Oe.TEST_VID,"muted","muted"):gy(Oe.TEST_VID,"muted","muted"),t!==Oe.TEST_VID.muted}catch{return!1}};Oe.canControlPlaybackRate=function(){if(ys&&ia&&dy<58)return!1;try{const t=Oe.TEST_VID.playbackRate;return Oe.TEST_VID.playbackRate=t/2+.1,t!==Oe.TEST_VID.playbackRate}catch{return!1}};Oe.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(Fe.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(Fe.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(Fe.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(Fe.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Oe.supportsNativeTextTracks=function(){return py||Ai&&ia};Oe.supportsNativeVideoTracks=function(){return!!(Oe.TEST_VID&&Oe.TEST_VID.videoTracks)};Oe.supportsNativeAudioTracks=function(){return!!(Oe.TEST_VID&&Oe.TEST_VID.audioTracks)};Oe.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){uy(Oe.prototype,t,()=>Oe[e](),!0)});Oe.prototype.featuresVolumeControl=Oe.canControlVolume();Oe.prototype.movingMediaElementInDOM=!Ai;Oe.prototype.featuresFullscreenResize=!0;Oe.prototype.featuresProgressEvents=!0;Oe.prototype.featuresTimeupdateEvents=!0;Oe.prototype.featuresVideoFrameCallback=!!(Oe.TEST_VID&&Oe.TEST_VID.requestVideoFrameCallback);Oe.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Oe.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let n=e.length;for(;n--;)t.removeChild(e[n]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Oe.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Oe.prototype["set"+En(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Oe.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Oe.prototype["set"+En(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Oe.prototype[t]=function(){return this.el_[t]()}});Mt.withSourceHandlers(Oe);Oe.nativeSourceHandler={};Oe.nativeSourceHandler.canPlayType=function(t){try{return Oe.TEST_VID.canPlayType(t)}catch{return""}};Oe.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Oe.nativeSourceHandler.canPlayType(t.type);if(t.src){const n=p8(t.src);return Oe.nativeSourceHandler.canPlayType(`video/${n}`)}return""};Oe.nativeSourceHandler.handleSource=function(t,e,n){e.setSrc(t.src)};Oe.nativeSourceHandler.dispose=function(){};Oe.registerSourceHandler(Oe.nativeSourceHandler);Mt.registerTech("Html5",Oe);const cM=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],j5={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},F4=["tiny","xsmall","small","medium","large","xlarge","huge"],um={};F4.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;um[t]=`vjs-layout-${e}`});const a8e={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};let Xn=class tu extends Ie{constructor(e,n,i){if(e.id=e.id||n.id||`vjs_video_${Xr()}`,n=Object.assign(tu.getTagSettings(e),n),n.initChildren=!1,n.createEl=!1,n.evented=!1,n.reportTouchActivity=!1,!n.language){const a=e.closest("[lang]");a&&(n.language=a.getAttribute("lang"))}if(super(null,n,i),this.boundDocumentFullscreenChange_=a=>this.documentFullscreenChange_(a),this.boundFullWindowOnEscKey_=a=>this.fullWindowOnEscKey(a),this.boundUpdateStyleEl_=a=>this.updateStyleEl_(a),this.boundApplyInitTime_=a=>this.applyInitTime_(a),this.boundUpdateCurrentBreakpoint_=a=>this.updateCurrentBreakpoint_(a),this.boundHandleTechClick_=a=>this.handleTechClick_(a),this.boundHandleTechDoubleClick_=a=>this.handleTechDoubleClick_(a),this.boundHandleTechTouchStart_=a=>this.handleTechTouchStart_(a),this.boundHandleTechTouchMove_=a=>this.handleTechTouchMove_(a),this.boundHandleTechTouchEnd_=a=>this.handleTechTouchEnd_(a),this.boundHandleTechTap_=a=>this.handleTechTap_(a),this.boundUpdatePlayerHeightOnAudioOnlyMode_=a=>this.updatePlayerHeightOnAudioOnlyMode_(a),this.isFullscreen_=!1,this.log=zO(this.id_),this.fsApi_=xg,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Vo(e),this.language(this.options_.language),n.languages){const a={};Object.getOwnPropertyNames(n.languages).forEach(function(o){a[o.toLowerCase()]=n.languages[o]}),this.languages_=a}else this.languages_=tu.prototype.options_.languages;this.resetCache_(),this.poster_=n.poster||"",this.controls_=!!n.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),n.plugins&&Object.keys(n.plugins).forEach(a=>{if(typeof this[a]!="function")throw new Error(`plugin "${a}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),u8(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(vr(Fe,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const r=Bt(this.options_);if(n.plugins&&Object.keys(n.plugins).forEach(a=>{this[a](n.plugins[a])}),n.debug&&this.debug(!0),this.options_.playerOptions=r,this.middleware_=[],this.playbackRates(n.playbackRates),n.experimentalSvgIcons){const a=new $.DOMParser().parseFromString(VTe,"image/svg+xml");if(a.querySelector("parsererror"))dt.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const o=a.documentElement;o.style.display="none",this.el_.appendChild(o),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),n.spatialNavigation&&n.spatialNavigation.enabled&&(this.spatialNavigation=new NTe(this),this.addClass("vjs-spatial-navigation-enabled")),ap&&this.addClass("vjs-touch-enabled"),Ai||this.addClass("vjs-workinghover"),tu.players[this.id_]=this;const s=T4.split(".")[0];this.addClass(`vjs-v${s}`),this.userActive(!0),this.reportUserActivity(),this.one("play",a=>this.listenForUserActivity_(a)),this.on("keydown",a=>this.handleKeyDown(a)),this.on("languagechange",a=>this.handleLanguagechange(a)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),Si(Fe,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),Si(Fe,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),tu.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),CTe(this),Bi.names.forEach(e=>{const n=Bi[e],i=this[n.getterName]();i&&i.off&&i.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,n,i=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const r=this.tag.tagName.toLowerCase()==="video-js";i?n=this.el_=e.parentNode:r||(n=this.el_=super.createEl("div"));const s=Vo(e);if(r){for(n=this.el_=e,e=this.tag=Fe.createElement("video");n.children.length;)e.appendChild(n.firstChild);Sf(n,"video-js")||Hl(n,"video-js"),n.appendChild(e),i=this.playerElIngest_=n,Object.keys(n).forEach(l=>{try{e[l]=n[l]}catch{}})}e.setAttribute("tabindex","-1"),s.tabindex="-1",ia&&hy&&(e.setAttribute("role","application"),s.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in s&&delete s.width,"height"in s&&delete s.height,Object.getOwnPropertyNames(s).forEach(function(l){r&&l==="class"||n.setAttribute(l,s[l]),r&&e.setAttribute(l,s[l])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=n.player=this,this.addClass("vjs-paused");const a=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(l=>iX[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...a),$.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=bX("vjs-styles-dimensions");const l=tl(".vjs-styles-defaults"),c=tl("head");c.insertBefore(this.styleEl_,l?l.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=e.getElementsByTagName("a");for(let l=0;l<o.length;l++){const c=o.item(l);Hl(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!i&&e.parentNode.insertBefore(n,e),C4(e,n),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=n,n}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){dt.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,n){const i=e+"_";if(n===void 0)return this[i]||0;if(n===""||n==="auto"){this[i]=void 0,this.updateStyleEl_();return}const r=parseFloat(n);if(isNaN(r)){dt.error(`Improper value "${n}" supplied for for ${e}`);return}this[i]=r,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,ja(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),tTe(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if($.VIDEOJS_NO_DYNAMIC_STYLE===!0){const o=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,c=this.tech_&&this.tech_.el();c&&(o>=0&&(c.width=o),l>=0&&(c.height=l));return}let e,n,i,r;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?i=this.aspectRatio_:this.videoWidth()>0?i=this.videoWidth()+":"+this.videoHeight():i="16:9";const s=i.split(":"),a=s[1]/s[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/a:e=this.videoWidth()||300,this.height_!==void 0?n=this.height_:n=e*a,/^[^a-zA-Z]/.test(this.id())?r="dimensions-"+this.id():r=this.id()+"-dimensions",this.addClass(r),vX(this.styleEl_,`
      .${r} {
        width: ${e}px;
        height: ${n}px;
      }

      .${r}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${a*100}%;
      }
    `)}loadTech_(e,n){this.tech_&&this.unloadTech_();const i=En(e),r=e.charAt(0).toLowerCase()+e.slice(1);i!=="Html5"&&this.tag&&(Mt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=i,this.isReady_=!1;let s=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(s=!1);const a={source:n,autoplay:s,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${r}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Bi.names.forEach(l=>{const c=Bi[l];a[c.getterName]=this[c.privateName]}),Object.assign(a,this.options_[i]),Object.assign(a,this.options_[r]),Object.assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),n&&n.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const o=Mt.getTech(e);if(!o)throw new Error(`No Tech named '${i}' exists! '${i}' should be registered using videojs.registerTech()'`);this.tech_=new o(a),this.tech_.ready(jt(this,this.handleTechReady_),!0),w_.jsonToTextTracks(this.textTracksJson_||[],this.tech_),cM.forEach(l=>{this.on(this.tech_,l,c=>this[`handleTech${En(l)}_`](c))}),Object.keys(j5).forEach(l=>{this.on(this.tech_,l,c=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${j5[l]}_`].bind(this),event:c});return}this[`handleTech${j5[l]}_`](c)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,c)=>this.handleTechFullscreenChange_(l,c)),this.on(this.tech_,"fullscreenerror",(l,c)=>this.handleTechFullscreenError_(l,c)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(i!=="Html5"||!this.tag)&&C4(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Bi.names.forEach(e=>{const n=Bi[e];this[n.privateName]=this[n.getterName]()}),this.textTracksJson_=w_.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&dt.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":T4}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const n=()=>{const r=this.muted();this.muted(!0);const s=()=>{this.muted(r)};this.playTerminatedQueue_.push(s);const a=this.play();if(Rf(a))return a.catch(o=>{throw s(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${o||""}`)})};let i;if(e==="any"&&!this.muted()?(i=this.play(),Rf(i)&&(i=i.catch(n))):e==="muted"&&!this.muted()?i=n():i=this.play(),!!Rf(i))return i.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let n=e,i="";typeof n!="string"&&(n=e.src,i=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],n&&!i&&(i=xTe(this,n)),this.cache_.source=Bt({},e,{src:n,type:i});const r=this.cache_.sources.filter(l=>l.src&&l.src===n),s=[],a=this.$$("source"),o=[];for(let l=0;l<a.length;l++){const c=Vo(a[l]);s.push(c),c.src&&c.src===n&&o.push(c.src)}o.length&&!r.length?this.cache_.sources=s:r.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=n}handleTechSourceset_(e){if(!this.changingSrc_){let n=s=>this.updateSourceCaches_(s);const i=this.currentSource().src,r=e.src;i&&!/^blob:/.test(i)&&/^blob:/.test(r)&&(!this.lastSource_||this.lastSource_.tech!==r&&this.lastSource_.player!==i)&&(n=()=>{}),n(r),e.src||this.tech_.any(["sourceset","loadstart"],s=>{if(s.type==="sourceset")return;const a=this.techGet_("currentSrc");this.lastSource_.tech=a,this.updateSourceCaches_(a)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),n=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",n))};this.on("timeupdate",n)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?Ps(this.play()):this.pause())}handleTechDoubleClick_(e){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),n=>n.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isInPictureInPicture()&&!Fe.pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const n=e.target.player;if(n&&n!==this)return;const i=this.el();let r=Fe[this.fsApi_.fullscreenElement]===i;!r&&i.matches&&(r=i.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(r)}handleTechFullscreenChange_(e,n){n&&(n.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(n.isFullscreen))}handleTechFullscreenError_(e,n){this.trigger("fullscreenerror",n)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,n){this.ready(function(){if(e in TTe)return ATe(this.middleware_,this.tech_,e,n);if(e in k_)return __(this.middleware_,this.tech_,e,n);try{this.tech_&&this.tech_[e](n)}catch(i){throw dt(i),i}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in STe)return ETe(this.middleware_,this.tech_,e);if(e in k_)return __(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(n){throw this.tech_[e]===void 0?(dt(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,n),n):n.name==="TypeError"?(dt(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,n),this.tech_.isReady_=!1,n):(dt(n),n)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=Ps){this.playCallbacks_.push(e);const n=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),i=!!(py||Ai);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!n){this.waitToPlay_=s=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!n&&i&&this.load();return}const r=this.techGet_("play");i&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),r===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(r)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(n){n()})}runPlayCallbacks_(e){const n=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],n.forEach(function(i){i(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||fs(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=fs(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=fs(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return xX(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),n=this.duration();let i=e.end(e.length-1);return i>n&&(i=n),i}volume(e){let n;if(e!==void 0){n=Math.max(0,Math.min(1,e)),this.cache_.volume=n,this.techCall_("setVolume",n),n>0&&this.lastVolume_(n);return}return n=parseFloat(this.techGet_("volume")),isNaN(n)?1:n}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const n=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==n&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const n=this;return new Promise((i,r)=>{function s(){n.off("fullscreenerror",o),n.off("fullscreenchange",a)}function a(){s(),i()}function o(c,u){s(),r(u)}n.one("fullscreenchange",a),n.one("fullscreenerror",o);const l=n.requestFullscreenHelper_(e);l&&(l.then(s,s),l.then(i,r))})}requestFullscreenHelper_(e){let n;if(this.fsApi_.prefixed||(n=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(n=e)),this.fsApi_.requestFullscreen){const i=this.el_[this.fsApi_.requestFullscreen](n);return i&&i.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),i}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((n,i)=>{function r(){e.off("fullscreenerror",a),e.off("fullscreenchange",s)}function s(){r(),n()}function a(l,c){r(),i(c)}e.one("fullscreenchange",s),e.one("fullscreenerror",a);const o=e.exitFullscreenHelper_();o&&(o.then(r,r),o.then(n,i))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=Fe[this.fsApi_.exitFullscreen]();return e&&Ps(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Fe.documentElement.style.overflow,vr(Fe,"keydown",this.boundFullWindowOnEscKey_),Fe.documentElement.style.overflow="hidden",Hl(Fe.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,Si(Fe,"keydown",this.boundFullWindowOnEscKey_),Fe.documentElement.style.overflow=this.docOrigOverflow,my(Fe.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&$.documentPictureInPicture){const e=Fe.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(et("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),$.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(n=>(mX(n),this.el_.parentNode.insertBefore(e,this.el_),n.document.body.appendChild(this.el_),n.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:n}),n.addEventListener("pagehide",i=>{const r=i.target.querySelector(".video-js");e.parentNode.replaceChild(r,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),n))}return"pictureInPictureEnabled"in Fe&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if($.documentPictureInPicture&&$.documentPictureInPicture.window)return $.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Fe)return Fe.exitPictureInPicture()}handleKeyDown(e){const{userActions:n}=this.options_;!n||!n.hotkeys||(i=>{const r=i.tagName.toLowerCase();return i.isContentEditable?!0:r==="input"?["button","checkbox","hidden","radio","reset","submit"].indexOf(i.type)===-1:["textarea"].indexOf(r)!==-1})(this.el_.ownerDocument.activeElement)||(typeof n.hotkeys=="function"?n.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const n=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:i=a=>e.key.toLowerCase()==="f",muteKey:r=a=>e.key.toLowerCase()==="m",playPauseKey:s=a=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=n;if(i.call(this,e)){e.preventDefault(),e.stopPropagation();const a=Ie.getComponent("FullscreenToggle");Fe[this.fsApi_.fullscreenEnabled]!==!1&&a.prototype.handleClick.call(this,e)}else r.call(this,e)?(e.preventDefault(),e.stopPropagation(),Ie.getComponent("MuteToggle").prototype.handleClick.call(this,e)):s.call(this,e)&&(e.preventDefault(),e.stopPropagation(),Ie.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let n;for(let i=0,r=this.options_.techOrder;i<r.length;i++){const s=r[i];let a=Mt.getTech(s);if(a||(a=Ie.getComponent(s)),!a){dt.error(`The "${s}" tech is undefined. Skipped browser support check for that tech.`);continue}if(a.isSupported()&&(n=a.canPlayType(e),n))return n}return""}selectSource(e){const n=this.options_.techOrder.map(o=>[o,Mt.getTech(o)]).filter(([o,l])=>l?l.isSupported():(dt.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`),!1)),i=function(o,l,c){let u;return o.some(d=>l.some(f=>{if(u=c(d,f),u)return!0})),u};let r;const s=o=>(l,c)=>o(c,l),a=([o,l],c)=>{if(l.canPlaySource(c,this.options_[o.toLowerCase()]))return{source:c,tech:o}};return this.options_.sourceOrder?r=i(e,n,s(a)):r=i(n,e,a),r||!1}handleSrc_(e,n){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const i=FX(e);if(!i.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,n||(this.cache_.sources=i),this.updateSourceCaches_(i[0]),bTe(this,i[0],(r,s)=>{if(this.middleware_=s,n||(this.cache_.sources=i),this.updateSourceCaches_(r),this.src_(r)){if(i.length>1)return this.handleSrc_(i.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}vTe(s,this.tech_)}),i.length>1){const r=()=>{this.error(null),this.handleSrc_(i.slice(1),!0)},s=()=>{this.off("error",r)};this.one("error",r),this.one("playing",s),this.resetRetryOnError_=()=>{this.off("error",r),this.off("playing",s)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const n=this.selectSource([e]);return n?RX(n.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(n.tech,n.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}addSourceElement(e,n){return this.tech_?this.tech_.addSourceElement(e,n):!1}removeSourceElement(e){return this.tech_?this.tech_.removeSourceElement(e):!1}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();Ps(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),ja(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:n,progressControl:i,remainingTimeDisplay:r}=this.controlBar||{},{seekBar:s}=i||{};e&&e.updateContent(),n&&n.updateContent(),r&&r.updateContent(),s&&(s.update(),s.loadProgressBar&&s.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),n=[];return Object.keys(e).length!==0&&n.push(e),this.cache_.sources||n}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let n;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),n=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,n=typeof n>"u"?this.options_.autoplay:n,this.tech_&&this.techCall_("setAutoplay",n)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(el("beforeerror").forEach(n=>{const i=n(this,e);if(!(na(i)&&!Array.isArray(i)||typeof i=="string"||typeof i=="number"||i===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=i}),this.options_.suppressNotSupportedError&&e&&e.code===4){const n=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],n),this.one("loadstart",function(){this.off(["click","touchstart"],n)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new mn(e),this.addClass("vjs-error"),dt.error(`(CODE:${this.error_.code} ${mn.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),el("error").forEach(n=>n(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(n){n.stopPropagation(),n.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,n,i;const r=jt(this,this.reportUserActivity),s=function(d){(d.screenX!==n||d.screenY!==i)&&(n=d.screenX,i=d.screenY,r())},a=function(){r(),this.clearInterval(e),e=this.setInterval(r,250)},o=function(d){r(),this.clearInterval(e)};this.on("mousedown",a),this.on("mousemove",s),this.on("mouseup",o),this.on("mouseleave",o);const l=this.getChild("controlBar");l&&!Ai&&!ys&&(l.on("mouseenter",function(d){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(d){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",r),this.on("keyup",r);let c;const u=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(c);const d=this.options_.inactivityTimeout;d<=0||(c=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},d))};this.setInterval(u,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),n=this.getChild("ControlBar"),i=n&&n.currentHeight();e.forEach(r=>{r!==n&&r.el_&&!r.hasClass("vjs-hidden")&&(r.hide(),this.audioOnlyCache_.hiddenChildren.push(r))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=i,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(i),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const n=[];return this.isInPictureInPicture()&&n.push(this.exitPictureInPicture()),this.isFullscreen()&&n.push(this.exitFullscreen()),this.audioPosterMode()&&n.push(this.audioPosterMode(!1)),Promise.all(n).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,n,i){if(this.tech_)return this.tech_.addTextTrack(e,n,i)}addRemoteTextTrack(e,n){if(this.tech_)return this.tech_.addRemoteTextTrack(e,n)}removeRemoteTextTrack(e={}){let{track:n}=e;if(n||(n=e),this.tech_)return this.tech_.removeRemoteTextTrack(n)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),ja(this)&&this.trigger("languagechange"))}languages(){return Bt(tu.prototype.options_.languages,this.languages_)}toJSON(){const e=Bt(this.options_),n=e.tracks;e.tracks=[];for(let i=0;i<n.length;i++){let r=n[i];r=Bt(r),r.player=void 0,e.tracks[i]=r}return e}createModal(e,n){n=n||{},n.content=e||"";const i=new th(this,n);return this.addChild(i),i.on("dispose",()=>{this.removeChild(i)}),i.open(),i}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),n=this.currentWidth();for(let i=0;i<F4.length;i++){const r=F4[i],s=this.breakpoints_[r];if(n<=s){if(e===r)return;e&&this.removeClass(um[e]),this.addClass(um[r]),this.breakpoint_=r;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},a8e,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const n=this.responsive_;if(e!==n)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return um[this.breakpoint_]||""}loadMedia(e,n){if(!e||typeof e!="object")return;const i=this.crossOrigin();this.reset(),this.cache_.media=Bt(e);const{artist:r,artwork:s,description:a,poster:o,src:l,textTracks:c,title:u}=this.cache_.media;!s&&o&&(this.cache_.media.artwork=[{src:o,type:Gg(o)}]),i&&this.crossOrigin(i),l&&this.src(l),o&&this.poster(o),Array.isArray(c)&&c.forEach(d=>this.addRemoteTextTrack(d,!1)),this.titleBar&&this.titleBar.update({title:u,description:a||r||""}),this.ready(n)}getMedia(){if(!this.cache_.media){const e=this.poster(),n=this.currentSources(),i=Array.prototype.map.call(this.remoteTextTracks(),s=>({kind:s.kind,label:s.label,language:s.language,src:s.src})),r={src:n,textTracks:i};return e&&(r.poster=e,r.artwork=[{src:r.poster,type:Gg(r.poster)}]),r}return Bt(this.cache_.media)}static getTagSettings(e){const n={sources:[],tracks:[]},i=Vo(e),r=i["data-setup"];if(Sf(e,"vjs-fill")&&(i.fill=!0),Sf(e,"vjs-fluid")&&(i.fluid=!0),r!==null)try{Object.assign(i,JSON.parse(r||"{}"))}catch(s){dt.error("data-setup",s)}if(Object.assign(n,i),e.hasChildNodes()){const s=e.childNodes;for(let a=0,o=s.length;a<o;a++){const l=s[a],c=l.nodeName.toLowerCase();c==="source"?n.sources.push(Vo(l)):c==="track"&&n.tracks.push(Vo(l))}}return n}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(n=>typeof n=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}};Bi.names.forEach(function(t){const e=Bi[t];Xn.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});Xn.prototype.crossorigin=Xn.prototype.crossOrigin;Xn.players={};const Wh=$.navigator;Xn.prototype.options_={techOrder:Mt.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:Wh&&(Wh.languages&&Wh.languages[0]||Wh.userLanguage||Wh.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1,disableSeekWhileScrubbingOnMobile:!1};cM.forEach(function(t){Xn.prototype[`handleTech${En(t)}_`]=function(){return this.trigger(t)}});Ie.registerComponent("Player",Xn);const Zg="plugin",Gu="activePlugins_",vu={},Dg=t=>vu.hasOwnProperty(t),dm=t=>Dg(t)?vu[t]:void 0,uM=(t,e)=>{t[Gu]=t[Gu]||{},t[Gu][e]=!0},Og=(t,e,n)=>{const i=(n?"before":"")+"pluginsetup";t.trigger(i,e),t.trigger(i+":"+e.name,e)},o8e=function(t,e){const n=function(){Og(this,{name:t,plugin:e,instance:null},!0);const i=e.apply(this,arguments);return uM(this,t),Og(this,{name:t,plugin:e,instance:i}),i};return Object.keys(e).forEach(function(i){n[i]=e[i]}),n},z_=(t,e)=>(e.prototype.name=t,function(...n){Og(this,{name:t,plugin:e,instance:null},!0);const i=new e(this,...n);return this[t]=()=>i,Og(this,i.getEventHash()),i});class nr{constructor(e){if(this.constructor===nr)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),u8(this),delete this.trigger,TX(this,this.constructor.defaultState),uM(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,n={}){return eh(this.eventBusEl_,e,this.getEventHash(n))}handleStateChanged(e){}dispose(){const{name:e,player:n}=this;this.trigger("dispose"),this.off(),n.off("dispose",this.dispose),n[Gu][e]=!1,this.player=this.state=null,n[e]=z_(e,vu[e])}static isBasic(e){const n=typeof e=="string"?dm(e):e;return typeof n=="function"&&!nr.prototype.isPrototypeOf(n.prototype)}static registerPlugin(e,n){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(Dg(e))dt.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(Xn.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof n!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof n}.`);return vu[e]=n,e!==Zg&&(nr.isBasic(n)?Xn.prototype[e]=o8e(e,n):Xn.prototype[e]=z_(e,n)),n}static deregisterPlugin(e){if(e===Zg)throw new Error("Cannot de-register base plugin.");Dg(e)&&(delete vu[e],delete Xn.prototype[e])}static getPlugins(e=Object.keys(vu)){let n;return e.forEach(i=>{const r=dm(i);r&&(n=n||{},n[i]=r)}),n}static getPluginVersion(e){const n=dm(e);return n&&n.VERSION||""}}nr.getPlugin=dm;nr.BASE_PLUGIN_NAME=Zg;nr.registerPlugin(Zg,nr);Xn.prototype.usingPlugin=function(t){return!!this[Gu]&&this[Gu][t]===!0};Xn.prototype.hasPlugin=function(t){return!!Dg(t)};function l8e(t,e){let n=!1;return function(...i){return n||dt.warn(t),n=!0,e.apply(this,i)}}function bs(t,e,n,i){return l8e(`${e} is deprecated and will be removed in ${t}.0; please use ${n} instead.`,i)}var c8e={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const dM=t=>t.indexOf("#")===0?t.slice(1):t;function ue(t,e,n){let i=ue.getPlayer(t);if(i)return e&&dt.warn(`Player "${t}" is already initialised. Options will not be applied.`),n&&i.ready(n),i;const r=typeof t=="string"?tl("#"+dM(t)):t;if(!qd(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");const s="getRootNode"in r&&r.getRootNode()instanceof $.ShadowRoot?r.getRootNode():r.ownerDocument.body;(!r.ownerDocument.defaultView||!s.contains(r))&&dt.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(r.parentNode&&r.parentNode.hasAttribute&&r.parentNode.hasAttribute("data-vjs-player")?r.parentNode:r).cloneNode(!0)),el("beforesetup").forEach(o=>{const l=o(r,Bt(e));if(!na(l)||Array.isArray(l)){dt.error("please return an object in beforesetup hooks");return}e=Bt(e,l)});const a=Ie.getComponent("Player");return i=new a(r,e,n),el("setup").forEach(o=>o(i)),i}ue.hooks_=_a;ue.hooks=el;ue.hook=O9e;ue.hookOnce=X9e;ue.removeHook=KO;if($.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Qd()){let t=tl(".vjs-styles-defaults");if(!t){t=bX("vjs-styles-defaults");const e=tl("head");e&&e.insertBefore(t,e.firstChild),vX(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}w4(1,ue);ue.VERSION=T4;ue.options=Xn.prototype.options_;ue.getPlayers=()=>Xn.players;ue.getPlayer=t=>{const e=Xn.players;let n;if(typeof t=="string"){const i=dM(t),r=e[i];if(r)return r;n=tl("#"+i)}else n=t;if(qd(n)){const{player:i,playerId:r}=n;if(i||e[r])return i||e[r]}};ue.getAllPlayers=()=>Object.keys(Xn.players).map(t=>Xn.players[t]).filter(Boolean);ue.players=Xn.players;ue.getComponent=Ie.getComponent;ue.registerComponent=(t,e)=>(Mt.isTech(e)&&dt.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),Ie.registerComponent.call(Ie,t,e));ue.getTech=Mt.getTech;ue.registerTech=Mt.registerTech;ue.use=yTe;Object.defineProperty(ue,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(ue.middleware,"TERMINATOR",{value:Wg,writeable:!1,enumerable:!0});ue.browser=iX;ue.obj=Y9e;ue.mergeOptions=bs(9,"videojs.mergeOptions","videojs.obj.merge",Bt);ue.defineLazyProperty=bs(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",uy);ue.bind=bs(9,"videojs.bind","native Function.prototype.bind",jt);ue.registerPlugin=nr.registerPlugin;ue.deregisterPlugin=nr.deregisterPlugin;ue.plugin=(t,e)=>(dt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),nr.registerPlugin(t,e));ue.getPlugins=nr.getPlugins;ue.getPlugin=nr.getPlugin;ue.getPluginVersion=nr.getPluginVersion;ue.addLanguage=function(t,e){return t=(""+t).toLowerCase(),ue.options.languages=Bt(ue.options.languages,{[t]:e}),ue.options.languages[t]};ue.log=dt;ue.createLogger=zO;ue.time=aTe;ue.createTimeRange=bs(9,"videojs.createTimeRange","videojs.time.createTimeRanges",fs);ue.createTimeRanges=bs(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",fs);ue.formatTime=bs(9,"videojs.formatTime","videojs.time.formatTime",hc);ue.setFormatTime=bs(9,"videojs.setFormatTime","videojs.time.setFormatTime",IX);ue.resetFormatTime=bs(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",wX);ue.parseUrl=bs(9,"videojs.parseUrl","videojs.url.parseUrl",f8);ue.isCrossOrigin=bs(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",Sy);ue.EventTarget=Er;ue.any=c8;ue.on=vr;ue.one=Ey;ue.off=Si;ue.trigger=eh;ue.xhr=VO;ue.TextTrack=Kp;ue.AudioTrack=_X;ue.VideoTrack=kX;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{ue[t]=function(){return dt.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),gX[t].apply(null,arguments)}});ue.computedStyle=bs(9,"videojs.computedStyle","videojs.dom.computedStyle",Id);ue.dom=gX;ue.fn=eTe;ue.num=GTe;ue.str=rTe;ue.url=mTe;ue.Error=c8e;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class u8e{constructor(e){let n=this;return n.id=e.id,n.label=n.id,n.width=e.width,n.height=e.height,n.bitrate=e.bandwidth,n.frameRate=e.frameRate,n.enabled_=e.enabled,Object.defineProperty(n,"enabled",{get(){return n.enabled_()},set(i){n.enabled_(i)}}),n}}class Xg extends ue.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let n=this.getQualityLevelById(e.id);if(n)return n;const i=this.levels_.length;return n=new u8e(e),""+i in this||Object.defineProperty(this,i,{get(){return this.levels_[i]}}),this.levels_.push(n),this.trigger({qualityLevel:n,type:"addqualitylevel"}),n}removeQualityLevel(e){let n=null;for(let i=0,r=this.length;i<r;i++)if(this[i]===e){n=this.levels_.splice(i,1)[0],this.selectedIndex_===i?this.selectedIndex_=-1:this.selectedIndex_>i&&this.selectedIndex_--;break}return n&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),n}getQualityLevelById(e){for(let n=0,i=this.length;n<i;n++){const r=this[n];if(r.id===e)return r}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}Xg.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in Xg.prototype.allowedEvents_)Xg.prototype["on"+t]=null;var hM="4.1.0";const d8e=function(t,e){const n=t.qualityLevels,i=new Xg,r=function(){i.dispose(),t.qualityLevels=n,t.off("dispose",r)};return t.on("dispose",r),t.qualityLevels=()=>i,t.qualityLevels.VERSION=hM,i},fM=function(t){return d8e(this,ue.obj.merge({},t))};ue.registerPlugin("qualityLevels",fM);fM.VERSION=hM;/*! @name @videojs/http-streaming @version 3.16.2 @license Apache-2.0 */const Ki=ay,Mg=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,jr=t=>ue.log.debug?ue.log.debug.bind(ue,"VHS:",`${t} >`):function(){};function wt(...t){const e=ue.obj||ue;return(e.merge||e.mergeOptions).apply(e,t)}function Ri(...t){const e=ue.time||ue;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function h8e(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let n=0;n<t.length;n++){const i=t.start(n),r=t.end(n);e+=`${i} --> ${r}. Duration (${r-i})
`}return e}const Ys=1/30,$s=Ys*3,pM=function(t,e){const n=[];let i;if(t&&t.length)for(i=0;i<t.length;i++)e(t.start(i),t.end(i))&&n.push([t.start(i),t.end(i)]);return Ri(n)},Eu=function(t,e){return pM(t,function(n,i){return n-$s<=e&&i+$s>=e})},f1=function(t,e){return pM(t,function(n){return n-Ys>=e})},f8e=function(t){if(t.length<2)return Ri();const e=[];for(let n=1;n<t.length;n++){const i=t.end(n-1),r=t.start(n);e.push([i,r])}return Ri(e)},p8e=function(t,e){let n=null,i=null,r=0;const s=[],a=[];if(!t||!t.length||!e||!e.length)return Ri();let o=t.length;for(;o--;)s.push({time:t.start(o),type:"start"}),s.push({time:t.end(o),type:"end"});for(o=e.length;o--;)s.push({time:e.start(o),type:"start"}),s.push({time:e.end(o),type:"end"});for(s.sort(function(l,c){return l.time-c.time}),o=0;o<s.length;o++)s[o].type==="start"?(r++,r===2&&(n=s[o].time)):s[o].type==="end"&&(r--,r===1&&(i=s[o].time)),n!==null&&i!==null&&(a.push([n,i]),n=null,i=null);return Ri(a)},mM=t=>{const e=[];if(!t||!t.length)return"";for(let n=0;n<t.length;n++)e.push(t.start(n)+" => "+t.end(n));return e.join(", ")},m8e=function(t,e,n=1){return((t.length?t.end(t.length-1):0)-e)/n},Gl=t=>{const e=[];for(let n=0;n<t.length;n++)e.push({start:t.start(n),end:t.end(n)});return e},g8e=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let n=0;n<t.length;n++)if(t.start(n)!==e.start(n)||t.end(n)!==e.end(n))return!0;return!1},K5=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},N8=function(t,e){let n=0;if(!t||!t.length)return n;for(let i=0;i<t.length;i++){const r=t.start(i),s=t.end(i);if(!(e>s)){if(e>r&&e<=s){n+=s-e;continue}n+=s-r}}return n},_8=(t,e)=>{if(!e.preload)return e.duration;let n=0;return(e.parts||[]).forEach(function(i){n+=i.duration}),(e.preloadHints||[]).forEach(function(i){i.type==="PART"&&(n+=t.partTargetDuration)}),n},L4=t=>(t.segments||[]).reduce((e,n,i)=>(n.parts?n.parts.forEach(function(r,s){e.push({duration:r.duration,segmentIndex:i,partIndex:s,part:r,segment:n})}):e.push({duration:n.duration,segmentIndex:i,partIndex:null,segment:n,part:null}),e),[]),gM=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},yM=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:n}=t;let i=(n||[]).reduce((r,s)=>r+(s.type==="PART"?1:0),0);return i+=e&&e.length?e.length:0,i},bM=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const n=gM(e).length>0;return n&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:n&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},y8e=function(t,e){let n=0,i=e-t.mediaSequence,r=t.segments[i];if(r){if(typeof r.start<"u")return{result:r.start,precise:!0};if(typeof r.end<"u")return{result:r.end-r.duration,precise:!0}}for(;i--;){if(r=t.segments[i],typeof r.end<"u")return{result:n+r.end,precise:!0};if(n+=_8(t,r),typeof r.start<"u")return{result:n+r.start,precise:!0}}return{result:n,precise:!1}},b8e=function(t,e){let n=0,i,r=e-t.mediaSequence;for(;r<t.segments.length;r++){if(i=t.segments[r],typeof i.start<"u")return{result:i.start-n,precise:!0};if(n+=_8(t,i),typeof i.end<"u")return{result:i.end-n,precise:!0}}return{result:-1,precise:!1}},vM=function(t,e,n){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const i=y8e(t,e);if(i.precise)return i.result;const r=b8e(t,e);return r.precise?r.result:i.result+n},EM=function(t,e,n){if(!t)return 0;if(typeof n!="number"&&(n=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return $.Infinity}return vM(t,e,n)},Cf=function({defaultDuration:t,durationList:e,startIndex:n,endIndex:i}){let r=0;if(n>i&&([n,i]=[i,n]),n<0){for(let s=n;s<Math.min(0,i);s++)r+=t;n=0}for(let s=n;s<i;s++)r+=e[s].duration;return r},AM=function(t,e,n,i){if(!t||!t.segments)return null;if(t.endList)return EM(t);if(e===null)return null;e=e||0;let r=vM(t,t.mediaSequence+t.segments.length,e);return n&&(i=typeof i=="number"?i:bM(null,t),r-=i),Math.max(0,r)},v8e=function(t,e,n){const i=e||0;let r=AM(t,e,!0,n);return r===null?Ri():(r<i&&(r=i),Ri(i,r))},E8e=function({playlist:t,currentTime:e,startingSegmentIndex:n,startingPartIndex:i,startTime:r,exactManifestTimings:s}){let a=e-r;const o=L4(t);let l=0;for(let c=0;c<o.length;c++){const u=o[c];if(n===u.segmentIndex&&!(typeof i=="number"&&typeof u.partIndex=="number"&&i!==u.partIndex)){l=c;break}}if(a<0){if(l>0)for(let c=l-1;c>=0;c--){const u=o[c];if(a+=u.duration,s){if(a<0)continue}else if(a+Ys<=0)continue;return{partIndex:u.partIndex,segmentIndex:u.segmentIndex,startTime:r-Cf({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:c})}}return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e}}if(l<0){for(let c=l;c<0;c++)if(a-=t.targetDuration,a<0)return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e};l=0}for(let c=l;c<o.length;c++){const u=o[c];a-=u.duration;const d=u.duration>Ys,f=a===0,h=d&&a+Ys>=0;if(!((f||h)&&c!==o.length-1)){if(s){if(a>0)continue}else if(a-Ys>=0)continue;return{partIndex:u.partIndex,segmentIndex:u.segmentIndex,startTime:r+Cf({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:c})}}}return{segmentIndex:o[o.length-1].segmentIndex,partIndex:o[o.length-1].partIndex,startTime:e}},SM=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},k8=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Iy=function(t){const e=SM(t);return!t.disabled&&!e},A8e=function(t){return t.disabled},S8e=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},TM=function(t,e){return e.attributes&&e.attributes[t]},T8e=function(t,e,n,i=0){return TM("BANDWIDTH",n)?(t*n.attributes.BANDWIDTH-i*8)/e:NaN},U4=(t,e)=>{if(t.playlists.length===1)return!0;const n=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(i=>Iy(i)?(i.attributes.BANDWIDTH||0)<n:!1).length===0},F8=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),J_=function(t,e){const n=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let i=!1;for(const r in n){for(const s in n[r])if(i=e(n[r][s]),i)break;if(i)break}return!!i},Qp=t=>{if(!t||!t.playlists||!t.playlists.length)return J_(t,e=>e.playlists&&e.playlists.length||e.uri);for(let e=0;e<t.playlists.length;e++){const n=t.playlists[e],i=n.attributes&&n.attributes.CODECS;if(!(i&&i.split(",").every(r=>WO(r))||J_(t,r=>F8(n,r))))return!1}return!0};var Ji={liveEdgeDelay:bM,duration:EM,seekable:v8e,getMediaInfoForTime:E8e,isEnabled:Iy,isDisabled:A8e,isExcluded:SM,isIncompatible:k8,playlistEnd:AM,isAes:S8e,hasAttribute:TM,estimateSegmentRequestTime:T8e,isLowestEnabledRendition:U4,isAudioOnly:Qp,playlistMatch:F8,segmentDurationWithParts:_8};const{log:RM}=ue,Zu=(t,e)=>`${t}-${e}`,CM=(t,e,n)=>`placeholder-uri-${t}-${e}-${n}`,R8e=({onwarn:t,oninfo:e,manifestString:n,customTagParsers:i=[],customTagMappers:r=[],llhls:s})=>{const a=new hSe;t&&a.on("warn",t),e&&a.on("info",e),i.forEach(c=>a.addParser(c)),r.forEach(c=>a.addTagMapper(c)),a.push(n),a.end();const o=a.manifest;if(s||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(c){o.hasOwnProperty(c)&&delete o[c]}),o.segments&&o.segments.forEach(function(c){["parts","preloadHints"].forEach(function(u){c.hasOwnProperty(u)&&delete c[u]})})),!o.targetDuration){let c=10;o.segments&&o.segments.length&&(c=o.segments.reduce((u,d)=>Math.max(u,d.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${c}`}),o.targetDuration=c}const l=gM(o);if(l.length&&!o.partTargetDuration){const c=l.reduce((u,d)=>Math.max(u,d.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${c}`}),RM.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=c}return o},rh=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(n=>{if(t.mediaGroups[n])for(const i in t.mediaGroups[n])for(const r in t.mediaGroups[n][i]){const s=t.mediaGroups[n][i][r];e(s,n,i,r)}})},IM=({playlist:t,uri:e,id:n})=>{t.id=n,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},C8e=t=>{let e=t.playlists.length;for(;e--;){const n=t.playlists[e];IM({playlist:n,id:Zu(e,n.uri)}),n.resolvedUri=Ki(t.uri,n.uri),t.playlists[n.id]=n,t.playlists[n.uri]=n,n.attributes.BANDWIDTH||RM.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},I8e=t=>{rh(t,e=>{e.uri&&(e.resolvedUri=Ki(t.uri,e.uri))})},w8e=(t,e)=>{const n=Zu(0,e),i={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:$.location.href,resolvedUri:$.location.href,playlists:[{uri:e,id:n,resolvedUri:e,attributes:{}}]};return i.playlists[n]=i.playlists[0],i.playlists[e]=i.playlists[0],i},wM=(t,e,n=CM)=>{t.uri=e;for(let r=0;r<t.playlists.length;r++)if(!t.playlists[r].uri){const s=`placeholder-uri-${r}`;t.playlists[r].uri=s}const i=Qp(t);rh(t,(r,s,a,o)=>{if(!r.playlists||!r.playlists.length){if(i&&s==="AUDIO"&&!r.uri)for(let l=0;l<t.playlists.length;l++){const c=t.playlists[l];if(c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===a)return}r.playlists=[xn({},r)]}r.playlists.forEach(function(l,c){const u=n(s,a,o,l),d=Zu(c,u);l.uri?l.resolvedUri=l.resolvedUri||Ki(t.uri,l.uri):(l.uri=c===0?u:d,l.resolvedUri=l.uri),l.id=l.id||d,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),C8e(t),I8e(t)};class H_{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[n]=e;n.programDateTime!==void 0&&(this.offset_=n.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[n]=e,i=n.startDate.getTime();this.trimProcessedDateRanges_(i),this.pendingDateRanges_=e.reduce((r,s)=>(r.set(s.id,s),r),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},n=[];this.pendingDateRanges_.forEach((i,r)=>{if(!this.processedDateRanges_.has(r)&&(i.startTime=i.startDate.getTime()/1e3-this.offset_,i.processDateRange=()=>this.processDateRange(i),n.push(i),!!i.class))if(e[i.class]){const s=e[i.class].push(i);i.classListIndex=s-1}else e[i.class]=[i],i.classListIndex=0});for(const i of n){const r=e[i.class]||[];i.endDate?i.endTime=i.endDate.getTime()/1e3-this.offset_:i.endOnNext&&r[i.classListIndex+1]?i.endTime=r[i.classListIndex+1].startTime:i.duration?i.endTime=i.startTime+i.duration:i.plannedDuration?i.endTime=i.startTime+i.plannedDuration:i.endTime=i.startTime}return n}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((n,i)=>{n.startDate.getTime()<e&&this.processedDateRanges_.delete(i)})}}const xM=22,ec=({requestType:t,request:e,error:n,parseFailure:i})=>{const r=e.status<200||e.status>299,s=e.status>=400&&e.status<=499,a={uri:e.uri,requestType:t},o=r&&!s||i;if(n&&s)a.error=xn({},n),a.errorType=ue.Error.NetworkRequestFailed;else if(e.aborted)a.errorType=ue.Error.NetworkRequestAborted;else if(e.timedout)a.erroType=ue.Error.NetworkRequestTimeout;else if(o){const l=i?ue.Error.NetworkBodyParserFailed:ue.Error.NetworkBadStatus;a.errorType=l,a.status=e.status,a.headers=e.headers}return a},{EventTarget:x8e}=ue,V8e=(t,e)=>{if(e.endList||!e.serverControl)return t;const n={};if(e.serverControl.canBlockReload){const{preloadSegment:i}=e;let r=e.mediaSequence+e.segments.length;if(i){const s=i.parts||[],a=yM(e)-1;a>-1&&a!==s.length-1&&(n._HLS_part=a),(a>-1||s.length)&&r--}n._HLS_msn=r}if(e.serverControl&&e.serverControl.canSkipUntil&&(n._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(n).length){const i=new $.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(r){n.hasOwnProperty(r)&&i.searchParams.set(r,n[r])}),t=i.toString()}return t},N8e=(t,e)=>{if(!t)return e;const n=wt(t,e);if(t.preloadHints&&!e.preloadHints&&delete n.preloadHints,t.parts&&!e.parts)delete n.parts;else if(t.parts&&e.parts)for(let i=0;i<e.parts.length;i++)t.parts&&t.parts[i]&&(n.parts[i]=wt(t.parts[i],e.parts[i]));return!t.skipped&&e.skipped&&(n.skipped=!1),t.preload&&!e.preload&&(n.preload=!1),n},_8e=(t,e,n)=>{const i=t.slice(),r=e.slice();n=n||0;const s=[];let a;for(let o=0;o<r.length;o++){const l=i[o+n],c=r[o];l?(a=l.map||a,s.push(N8e(l,c))):(a&&!c.map&&(c.map=a),s.push(c))}return s},VM=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=Ki(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=Ki(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=Ki(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=Ki(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(n=>{n.resolvedUri||(n.resolvedUri=Ki(e,n.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(n=>{n.resolvedUri||(n.resolvedUri=Ki(e,n.uri))})},NM=function(t){const e=t.segments||[],n=t.preloadSegment;if(n&&n.parts&&n.parts.length){if(n.preloadHints){for(let i=0;i<n.preloadHints.length;i++)if(n.preloadHints[i].type==="MAP")return e}n.duration=t.targetDuration,n.preload=!0,e.push(n)}return e},_M=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,B4=(t,e,n=_M)=>{const i=wt(t,{}),r=i.playlists[e.id];if(!r||n(r,e))return null;e.segments=NM(e);const s=wt(r,e);if(s.preloadSegment&&!e.preloadSegment&&delete s.preloadSegment,r.segments){if(e.skip){e.segments=e.segments||[];for(let a=0;a<e.skip.skippedSegments;a++)e.segments.unshift({skipped:!0})}s.segments=_8e(r.segments,e.segments,e.mediaSequence-r.mediaSequence)}s.segments.forEach(a=>{VM(a,s.resolvedUri)});for(let a=0;a<i.playlists.length;a++)i.playlists[a].id===e.id&&(i.playlists[a]=s);return i.playlists[e.id]=s,i.playlists[e.uri]=s,rh(t,(a,o,l,c)=>{if(a.playlists)for(let u=0;u<a.playlists.length;u++)e.id===a.playlists[u].id&&(a.playlists[u]=s)}),i},W4=(t,e)=>{const n=t.segments||[],i=n[n.length-1],r=i&&i.parts&&i.parts[i.parts.length-1],s=r&&r.duration||i&&i.duration;return e&&s?s*1e3:(t.partTargetDuration||t.targetDuration||10)*500},Q_=(t,e,n)=>{if(!t)return;const i=[];return t.forEach(r=>{if(!r.attributes)return;const{BANDWIDTH:s,RESOLUTION:a,CODECS:o}=r.attributes;i.push({id:r.id,bandwidth:s,resolution:a,codecs:o})}),{type:e,isLive:n,renditions:i}};class Au extends x8e{constructor(e,n,i={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=jr("PlaylistLoader");const{withCredentials:r=!1}=i;this.src=e,this.vhs_=n,this.withCredentials=r,this.addDateRangesToTextTrack_=i.addDateRangesToTextTrack;const s=n.options_;this.customTagParsers=s&&s.customTagParsers||[],this.customTagMappers=s&&s.customTagMappers||[],this.llhls=s&&s.llhls,this.dateRangesStorage_=new H_,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const n=this.dateRangesStorage_.getDateRangesToProcess();!n.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(n)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let n=Ki(this.main.uri,e.uri);this.llhls&&(n=V8e(n,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:n,withCredentials:this.withCredentials,requestType:"hls-playlist"},(i,r)=>{if(this.request){if(i)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,n,i){const{uri:r,id:s}=n;this.request=null,i&&(this.state=i),this.error={playlist:this.main.playlists[s],status:e.status,message:`HLS playlist request error at URL: ${r}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:ec({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:n}){try{return R8e({onwarn:({message:i})=>this.logger_(`m3u8-parser warn for ${e}: ${i}`),oninfo:({message:i})=>this.logger_(`m3u8-parser info for ${e}: ${i}`),manifestString:n,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(i){this.error=i,this.error.metadata={errorType:ue.Error.StreamingHlsPlaylistParserError,error:i}}}haveMetadata({playlistString:e,playlistObject:n,url:i,id:r}){this.request=null,this.state="HAVE_METADATA";const s={playlistInfo:{type:"media",uri:i}};this.trigger({type:"playlistparsestart",metadata:s});const a=n||this.parseManifest_({url:i,manifestString:e});a.lastRequest=Date.now(),IM({playlist:a,uri:i,id:r});const o=B4(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[r]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(W4(this.media(),!!o)),s.parsedPlaylist=Q_(this.main.playlists,s.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:s}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),$.clearTimeout(this.mediaUpdateTimeout),$.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new H_,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,n){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if($.clearTimeout(this.finalRenditionTimeout),n){const o=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=$.setTimeout(this.media.bind(this,e,!1),o);return}const i=this.state,r=!this.media_||e.id!==this.media_.id,s=this.main.playlists[e.id];if(s&&s.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,r&&(this.trigger("mediachanging"),i==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(W4(e,!0)),!r)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const a={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:a}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(o,l)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=Mg(e.resolvedUri,l),o)return this.playlistRequestError(this.request,e,i);this.trigger({type:"playlistrequestcomplete",metadata:a}),this.haveMetadata({playlistString:l.responseText,url:e.uri,id:e.id}),i==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&($.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&($.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const n=this.media();if(e){const i=n?(n.partTargetDuration||n.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=$.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},i);return}if(!this.started){this.start();return}n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&($.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=$.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=$.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(n,i)=>{if(!this.request)return;if(this.request=null,n)return this.error={status:i.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:i.responseText,code:2,metadata:ec({requestType:i.requestType,request:i,error:n})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=Mg(this.src,i),this.trigger({type:"playlistparsestart",metadata:e});const r=this.parseManifest_({manifestString:i.responseText,url:this.src});e.parsedPlaylist=Q_(r.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(r)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,wM(this.main,this.srcUri()),e.playlists.forEach(i=>{i.segments=NM(i),i.segments.forEach(r=>{VM(r,i.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const n=this.srcUri()||$.location.href;this.main=w8e(e,n),this.haveMetadata({playlistObject:e,url:n,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,n){const i=this.main,r=e.ID;let s=i.playlists.length;for(;s--;){const a=i.playlists[s];if(a.attributes["PATHWAY-ID"]===r){const o=a.resolvedUri,l=a.id;if(n){const c=this.createCloneURI_(a.resolvedUri,e),u=Zu(r,c),d=this.createCloneAttributes_(r,a.attributes),f=this.createClonePlaylist_(a,u,e,d);i.playlists[s]=f,i.playlists[u]=f,i.playlists[c]=f}else i.playlists.splice(s,1);delete i.playlists[l],delete i.playlists[o]}}this.updateOrDeleteCloneMedia(e,n)}updateOrDeleteCloneMedia(e,n){const i=this.main,r=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!i.mediaGroups[s]||!i.mediaGroups[s][r])){for(const a in i.mediaGroups[s])if(a===r){for(const o in i.mediaGroups[s][a])i.mediaGroups[s][a][o].playlists.forEach((l,c)=>{const u=i.playlists[l.id],d=u.id,f=u.resolvedUri;delete i.playlists[d],delete i.playlists[f]});delete i.mediaGroups[s][a]}}}),n&&this.createClonedMediaGroups_(e)}addClonePathway(e,n={}){const i=this.main,r=i.playlists.length,s=this.createCloneURI_(n.resolvedUri,e),a=Zu(e.ID,s),o=this.createCloneAttributes_(e.ID,n.attributes),l=this.createClonePlaylist_(n,a,e,o);i.playlists[r]=l,i.playlists[a]=l,i.playlists[s]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const n=e.ID,i=e["BASE-ID"],r=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{if(!(!r.mediaGroups[s]||r.mediaGroups[s][n]))for(const a in r.mediaGroups[s]){if(a===i)r.mediaGroups[s][n]={};else continue;for(const o in r.mediaGroups[s][a]){const l=r.mediaGroups[s][a][o];r.mediaGroups[s][n][o]=xn({},l);const c=r.mediaGroups[s][n][o],u=this.createCloneURI_(l.resolvedUri,e);c.resolvedUri=u,c.uri=u,c.playlists=[],l.playlists.forEach((d,f)=>{const h=r.playlists[d.id],m=CM(s,n,o),p=Zu(n,m);if(h&&!r.playlists[p]){const v=this.createClonePlaylist_(h,p,e),y=v.resolvedUri;r.playlists[p]=v,r.playlists[y]=v}c.playlists[f]=this.createClonePlaylist_(d,p,e)})}}})}createClonePlaylist_(e,n,i,r){const s=this.createCloneURI_(e.resolvedUri,i),a={resolvedUri:s,uri:s,id:n};return e.segments&&(a.segments=[]),r&&(a.attributes=r),wt(e,a)}createCloneURI_(e,n){const i=new URL(e);i.hostname=n["URI-REPLACEMENT"].HOST;const r=n["URI-REPLACEMENT"].PARAMS;for(const s of Object.keys(r))i.searchParams.set(s,r[s]);return i.href}createCloneAttributes_(e,n){const i={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(r=>{n[r]&&(i[r]=e)}),i}getKeyIdSet(e){if(e.contentProtection){const n=new Set;for(const i in e.contentProtection){const r=e.contentProtection[i].attributes.keyId;r&&n.add(r.toLowerCase())}return n}}}const G4=function(t,e,n,i){const r=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&r&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=r.byteLength||r.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),n.headers&&(t.responseHeaders=n.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&n.statusCode!==200&&n.statusCode!==206&&n.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(r||t.responseText)))),i(e,t)},k8e=(t,e)=>{if(!t||!t.size)return;let n=e;return t.forEach(i=>{n=i(n)}),n},F8e=(t,e,n,i)=>{!t||!t.size||t.forEach(r=>{r(e,n,i)})},kM=function(){const t=function e(n,i){n=wt({timeout:45e3},n);const r=e.beforeRequest||ue.Vhs.xhr.beforeRequest,s=e._requestCallbackSet||ue.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||ue.Vhs.xhr._responseCallbackSet;r&&typeof r=="function"&&(ue.log.warn("beforeRequest is deprecated, use onRequest instead."),s.add(r));const o=ue.Vhs.xhr.original===!0?ue.xhr:ue.Vhs.xhr,l=k8e(s,n);s.delete(r);const c=o(l||n,function(d,f){return F8e(a,c,d,f),G4(c,d,f,i)}),u=c.abort;return c.abort=function(){return c.aborted=!0,u.apply(c,arguments)},c.uri=n.uri,c.requestType=n.requestType,c.requestTime=Date.now(),c};return t.original=!0,t},L8e=function(t){let e;const n=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=$.BigInt(t.offset)+$.BigInt(t.length)-$.BigInt(1):e=t.offset+t.length-1,"bytes="+n+"-"+e},Z4=function(t){const e={};return t.byterange&&(e.Range=L8e(t.byterange)),e},U8e=function(t,e){return t.start(e)+"-"+t.end(e)},B8e=function(t,e){const n=t.toString(16);return"00".substring(0,2-n.length)+n+(e%2?" ":"")},W8e=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},FM=function(t){const e={};return Object.keys(t).forEach(n=>{const i=t[n];ZO(i)?e[n]={bytes:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength}:e[n]=i}),e},Pg=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},LM=function(t){return t.resolvedUri},UM=t=>{const e=Array.prototype.slice.call(t),n=16;let i="",r,s;for(let a=0;a<e.length/n;a++)r=e.slice(a*n,a*n+n).map(B8e).join(""),s=e.slice(a*n,a*n+n).map(W8e).join(""),i+=r+" "+s+`
`;return i},G8e=({bytes:t})=>UM(t),Z8e=t=>{let e="",n;for(n=0;n<t.length;n++)e+=U8e(t,n)+" ";return e};var D8e=Object.freeze({__proto__:null,createTransferableMessage:FM,initSegmentId:Pg,segmentKeyId:LM,hexDump:UM,tagDump:G8e,textRanges:Z8e});const BM=.25,O8e=(t,e)=>{if(!e.dateTimeObject)return null;const n=e.videoTimingInfo.transmuxerPrependedSeconds,i=e.videoTimingInfo.transmuxedPresentationStart+n,r=t-i;return new Date(e.dateTimeObject.getTime()+r*1e3)},X8e=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,M8e=(t,e)=>{let n;try{n=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let i=e.segments[0];if(n<new Date(i.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){i=e.segments[l];const c=new Date(e.segments[l+1].dateTimeObject);if(n<c)break}const r=e.segments[e.segments.length-1],s=r.dateTimeObject,a=r.videoTimingInfo?X8e(r.videoTimingInfo):r.duration+r.duration*BM,o=new Date(s.getTime()+a*1e3);return n>o?null:(n>new Date(s)&&(i=r),{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:Ji.duration(e,e.mediaSequence+e.segments.indexOf(i)),type:i.videoTimingInfo?"accurate":"estimate"})},P8e=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let n=0,i;for(let s=0;s<e.segments.length&&(i=e.segments[s],n=i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationEnd:n+i.duration,!(t<=n));s++);const r=e.segments[e.segments.length-1];if(r.videoTimingInfo&&r.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>n){if(t>n+r.duration*BM)return null;i=r}return{segment:i,estimatedStart:i.videoTimingInfo?i.videoTimingInfo.transmuxedPresentationStart:n-i.duration,type:i.videoTimingInfo?"accurate":"estimate"}},Y8e=(t,e)=>{let n,i;try{n=new Date(t),i=new Date(e)}catch{}const r=n.getTime();return(i.getTime()-r)/1e3},$8e=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},j8e=({playlist:t,time:e=void 0,callback:n})=>{if(!n)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return n({message:"getProgramTime: playlist and time must be provided"});const i=P8e(e,t);if(!i)return n({message:"valid programTime was not found"});if(i.type==="estimate")return n({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:i.estimatedStart});const r={mediaSeconds:e},s=O8e(e,i.segment);return s&&(r.programDateTime=s.toISOString()),n(null,r)},WM=({programTime:t,playlist:e,retryCount:n=2,seekTo:i,pauseAfterSeek:r=!0,tech:s,callback:a})=>{if(!a)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!i)return a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!s.hasStarted_)return a({message:"player must be playing a live stream to start buffering"});if(!$8e(e))return a({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const o=M8e(t,e);if(!o)return a({message:`${t} was not found in the stream`});const l=o.segment,c=Y8e(l.dateTimeObject,t);if(o.type==="estimate"){if(n===0)return a({message:`${t} is not buffered yet. Try again`});i(o.estimatedStart+c),s.one("seeked",()=>{WM({programTime:t,playlist:e,retryCount:n-1,seekTo:i,pauseAfterSeek:r,tech:s,callback:a})});return}const u=l.start+c,d=()=>a(null,s.currentTime());s.one("seeked",d),r&&s.pause(),i(u)},z5=(t,e)=>{if(t.readyState===4)return e()},K8e=(t,e,n,i)=>{let r=[],s,a=!1;const o=function(u,d,f,h){return d.abort(),a=!0,n(u,d,f,h)},l=function(u,d){if(a)return;if(u)return u.metadata=ec({requestType:i,request:d,error:u}),o(u,d,"",r);const f=d.responseText.substring(r&&r.byteLength||0,d.responseText.length);if(r=RSe(r,DO(f,!0)),s=s||rf(r),r.length<10||s&&r.length<s+2)return z5(d,()=>o(u,d,"",r));const h=r8(r);return h==="ts"&&r.length<188?z5(d,()=>o(u,d,"",r)):!h&&r.length<376?z5(d,()=>o(u,d,"",r)):o(null,d,h,r)},c=e({uri:t,beforeSend(u){u.overrideMimeType("text/plain; charset=x-user-defined"),u.addEventListener("progress",function({total:d,loaded:f}){return G4(u,null,{statusCode:u.status},l)})}},function(u,d){return G4(c,u,d,l)});return c},{EventTarget:z8e}=ue,q_=function(t,e){if(!_M(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length)||!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let n=0;n<t.segments.length;n++){const i=t.segments[n],r=e.segments[n];if(i.uri!==r.uri)return!1;if(!i.byterange&&!r.byterange)continue;const s=i.byterange,a=r.byterange;if(s&&!a||!s&&a||s.offset!==a.offset||s.length!==a.length)return!1}return!0},J8e=(t,e,n,i)=>{const r=i.attributes.NAME||n;return`placeholder-uri-${t}-${e}-${r}`},H8e=({mainXml:t,srcUrl:e,clientOffset:n,sidxMapping:i,previousManifest:r})=>{const s=y9e(t,{manifestUri:e,clientOffset:n,sidxMapping:i,previousManifest:r});return wM(s,e,J8e),s},Q8e=(t,e)=>{rh(t,(n,i,r,s)=>{(!e.mediaGroups[i][r]||!(s in e.mediaGroups[i][r]))&&delete t.mediaGroups[i][r][s]})},q8e=(t,e,n)=>{let i=!0,r=wt(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let s=0;s<e.playlists.length;s++){const a=e.playlists[s];if(a.sidx){const l=ly(a.sidx);n&&n[l]&&n[l].sidx&&t8(a,n[l].sidx,a.sidx.resolvedUri)}const o=B4(r,a,q_);o&&(r=o,i=!1)}return rh(e,(s,a,o,l)=>{if(s.playlists&&s.playlists.length){const c=s.playlists[0].id,u=B4(r,s.playlists[0],q_);u&&(r=u,l in r.mediaGroups[a][o]||(r.mediaGroups[a][o][l]=s),r.mediaGroups[a][o][l].playlists[0]=r.playlists[c],i=!1)}}),Q8e(r,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(i=!1),i?null:r},eRe=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,ek=(t,e)=>{const n={};for(const i in t){const r=t[i].sidx;if(r){const s=ly(r);if(!e[s])break;const a=e[s].sidxInfo;eRe(a,r)&&(n[s]=e[s])}}return n},tRe=(t,e)=>{let n=ek(t.playlists,e);return rh(t,(i,r,s,a)=>{if(i.playlists&&i.playlists.length){const o=i.playlists;n=wt(n,ek(o,e))}}),n};class D4 extends z8e{constructor(e,n,i={},r){super(),this.isPaused_=!0,this.mainPlaylistLoader_=r||this,r||(this.isMain_=!0);const{withCredentials:s=!1}=i;if(this.vhs_=n,this.withCredentials=s,this.addMetadataToTextTrack=i.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=jr("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}get isPaused(){return this.isPaused_}requestErrored_(e,n,i){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:n.status,message:"DASH request error at URL: "+n.uri,response:n.response,code:2,metadata:e.metadata},i&&(this.state=i),this.trigger("error"),!0}addSidxSegments_(e,n,i){const r=e.sidx&&ly(e.sidx);if(!e.sidx||!r||this.mainPlaylistLoader_.sidxMapping_[r]){$.clearTimeout(this.mediaRequest_),this.mediaRequest_=$.setTimeout(()=>i(!1),0);return}const s=Mg(e.sidx.resolvedUri),a=(l,c)=>{if(this.requestErrored_(l,c,n))return;const u=this.mainPlaylistLoader_.sidxMapping_,{requestType:d}=c;let f;try{f=R9e(Ke(c.response).subarray(8))}catch(h){h.metadata=ec({requestType:d,request:c,parseFailure:!0}),this.requestErrored_(h,c,n);return}return u[r]={sidxInfo:e.sidx,sidx:f},t8(e,f,e.sidx.resolvedUri),i(!0)},o="dash-sidx";this.request=K8e(s,this.vhs_.xhr,(l,c,u,d)=>{if(l)return a(l,c);if(!u||u!=="mp4"){const m=u||"unknown";return a({status:c.status,message:`Unsupported ${m} container type for sidx segment at URL: ${s}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},c)}const{offset:f,length:h}=e.sidx.byterange;if(d.length>=h+f)return a(l,{response:d.subarray(f,f+h),status:c.status,uri:c.uri});this.request=this.vhs_.xhr({uri:s,responseType:"arraybuffer",requestType:"dash-sidx",headers:Z4({byterange:e.sidx.byterange})},a)},o)}dispose(){this.isPaused_=!0,this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},$.clearTimeout(this.minimumUpdatePeriodTimeout_),$.clearTimeout(this.mediaRequest_),$.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const n=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const i=!this.media_||e.id!==this.media_.id;if(i&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,i&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}i&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,n,r=>{this.haveMetadata({startingState:n,playlist:e})}))}haveMetadata({startingState:e,playlist:n}){this.state="HAVE_METADATA",this.loadedPlaylists_[n.id]=n,$.clearTimeout(this.mediaRequest_),this.mediaRequest_=null,this.refreshMedia_(n.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.isPaused_=!0,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),$.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&($.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){this.isPaused_=!1,$.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const n=this.media();if(e){const i=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=$.setTimeout(()=>this.load(),i);return}if(!this.started){this.start();return}n&&!n.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){$.clearTimeout(this.mediaRequest_),this.mediaRequest_=$.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,n)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:n}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(i,r)=>{if(i){const{requestType:a}=r;i.metadata=ec({requestType:a,request:r,error:i})}if(this.requestErrored_(i,r)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:n});const s=r.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=r.responseText,r.responseHeaders&&r.responseHeaders.date?this.mainLoaded_=Date.parse(r.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=Mg(this.mainPlaylistLoader_.srcUrl,r),s){this.handleMain_(),this.syncClientServerClock_(()=>e(r,s));return}return e(r,s)})}syncClientServerClock_(e){const n=b9e(this.mainPlaylistLoader_.mainXml_);if(n===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(n.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=n.value-Date.now(),e();this.request=this.vhs_.xhr({uri:Ki(this.mainPlaylistLoader_.srcUrl,n.value),method:n.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(i,r)=>{if(!this.request)return;if(i){const{requestType:a}=r;return this.error.metadata=ec({requestType:a,request:r,error:i}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let s;n.method==="HEAD"?!r.responseHeaders||!r.responseHeaders.date?s=this.mainLoaded_:s=Date.parse(r.responseHeaders.date):s=Date.parse(r.responseText),this.mainPlaylistLoader_.clientOffset_=s-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){$.clearTimeout(this.mediaRequest_),this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,n={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:n});let i;try{i=H8e({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(s){this.error=s,this.error.metadata={errorType:ue.Error.StreamingDashManifestParserError,error:s},this.trigger("error")}e&&(i=q8e(e,i,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=i||e;const r=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(r&&r!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=r),(!e||i&&i.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(i),i){const{duration:s,endList:a}=i,o=[];i.playlists.forEach(c=>{o.push({id:c.id,bandwidth:c.attributes.BANDWIDTH,resolution:c.attributes.RESOLUTION,codecs:c.attributes.CODECS})});const l={duration:s,isLive:!a,renditions:o};n.parsedManifest=l,this.trigger({type:"manifestparsecomplete",metadata:n})}return!!i}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&($.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let n=e.main&&e.main.minimumUpdatePeriod;if(n===0&&(e.media()?n=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof n!="number"||n<=0){n<0&&this.logger_(`found invalid minimumUpdatePeriod of ${n}, not setting a timeout`);return}this.createMUPTimeout_(n)}createMUPTimeout_(e){const n=this.mainPlaylistLoader_;n.minimumUpdatePeriodTimeout_=$.setTimeout(()=>{n.minimumUpdatePeriodTimeout_=null,n.trigger("minimumUpdatePeriod"),n.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,n)=>{n&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=tRe(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,i=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const n=this.mainPlaylistLoader_.main.playlists,i=!this.media_||this.media_!==n[e];if(i?this.media_=n[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const r=()=>{this.media().endList||(this.mediaUpdateTimeout=$.setTimeout(()=>{this.trigger("mediaupdatetimeout"),r()},W4(this.media(),!!i)))};r()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const n=this.mainPlaylistLoader_.main.eventStream.map(i=>({cueTime:i.start,frames:[{data:i.messageData}]}));this.addMetadataToTextTrack("EventStream",n,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const n=new Set;for(const i in e.contentProtection){const r=e.contentProtection[i].attributes["cenc:default_KID"];r&&n.add(r.replace(/-/g,"").toLowerCase())}return n}}}var zn={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const nRe=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e.buffer},GM=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},iRe=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const e=new BlobBuilder;return e.append(t),URL.createObjectURL(e.getBlob())}},ZM=function(t){return function(){const e=iRe(t),n=GM(new Worker(e));n.objURL=e;const i=n.terminate;return n.on=n.addEventListener,n.off=n.removeEventListener,n.terminate=function(){return URL.revokeObjectURL(e),i.call(this)},n}},DM=function(t){return`var browserWorkerPolyFill = ${GM.toString()};
browserWorkerPolyFill(self);
`+t},OM=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},rRe=DM(OM(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof lc<"u"?lc:typeof self<"u"?self:{},e=function(){this.init=function(){var g={};this.on=function(A,R){g[A]||(g[A]=[]),g[A]=g[A].concat(R)},this.off=function(A,R){var T;return g[A]?(T=g[A].indexOf(R),g[A]=g[A].slice(),g[A].splice(T,1),T>-1):!1},this.trigger=function(A){var R,T,x,k;if(R=g[A],!!R)if(arguments.length===2)for(x=R.length,T=0;T<x;++T)R[T].call(this,arguments[1]);else{for(k=[],T=arguments.length,T=1;T<arguments.length;++T)k.push(arguments[T]);for(x=R.length,T=0;T<x;++T)R[T].apply(this,k)}},this.dispose=function(){g={}}}};e.prototype.pipe=function(g){return this.on("data",function(A){g.push(A)}),this.on("done",function(A){g.flush(A)}),this.on("partialdone",function(A){g.partialFlush(A)}),this.on("endedtimeline",function(A){g.endTimeline(A)}),this.on("reset",function(A){g.reset(A)}),g},e.prototype.push=function(g){this.trigger("data",g)},e.prototype.flush=function(g){this.trigger("done",g)},e.prototype.partialFlush=function(g){this.trigger("partialdone",g)},e.prototype.endTimeline=function(g){this.trigger("endedtimeline",g)},e.prototype.reset=function(g){this.trigger("reset",g)};var n=e,i=Math.pow(2,32),r=function(g){var A=new DataView(g.buffer,g.byteOffset,g.byteLength),R;return A.getBigUint64?(R=A.getBigUint64(0),R<Number.MAX_SAFE_INTEGER?Number(R):R):A.getUint32(0)*i+A.getUint32(4)},s={getUint64:r,MAX_UINT32:i},a=s.MAX_UINT32,o,l,c,u,d,f,h,m,p,v,y,E,S,I,w,N,F,W,Z,O,K,fe,z,pe,de,be,_e,me,Q,q,Re,D,H,ie,ne,Se;(function(){var g;if(z={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(g in z)z.hasOwnProperty(g)&&(z[g]=[g.charCodeAt(0),g.charCodeAt(1),g.charCodeAt(2),g.charCodeAt(3)]);pe=new Uint8Array([105,115,111,109]),be=new Uint8Array([97,118,99,49]),de=new Uint8Array([0,0,0,1]),_e=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),me=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Q={video:_e,audio:me},D=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),Re=new Uint8Array([0,0,0,0,0,0,0,0]),H=new Uint8Array([0,0,0,0,0,0,0,0]),ie=H,ne=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Se=H,q=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),o=function(g){var A=[],R=0,T,x,k;for(T=1;T<arguments.length;T++)A.push(arguments[T]);for(T=A.length;T--;)R+=A[T].byteLength;for(x=new Uint8Array(R+8),k=new DataView(x.buffer,x.byteOffset,x.byteLength),k.setUint32(0,x.byteLength),x.set(g,4),T=0,R=8;T<A.length;T++)x.set(A[T],R),R+=A[T].byteLength;return x},l=function(){return o(z.dinf,o(z.dref,D))},c=function(g){return o(z.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,g.audioobjecttype<<3|g.samplingfrequencyindex>>>1,g.samplingfrequencyindex<<7|g.channelcount<<3,6,1,2]))},u=function(){return o(z.ftyp,pe,de,pe,be)},N=function(g){return o(z.hdlr,Q[g])},d=function(g){return o(z.mdat,g)},w=function(g){var A=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,g.duration>>>24&255,g.duration>>>16&255,g.duration>>>8&255,g.duration&255,85,196,0,0]);return g.samplerate&&(A[12]=g.samplerate>>>24&255,A[13]=g.samplerate>>>16&255,A[14]=g.samplerate>>>8&255,A[15]=g.samplerate&255),o(z.mdhd,A)},I=function(g){return o(z.mdia,w(g),N(g.type),h(g))},f=function(g){return o(z.mfhd,new Uint8Array([0,0,0,0,(g&4278190080)>>24,(g&16711680)>>16,(g&65280)>>8,g&255]))},h=function(g){return o(z.minf,g.type==="video"?o(z.vmhd,q):o(z.smhd,Re),l(),W(g))},m=function(g,A){for(var R=[],T=A.length;T--;)R[T]=O(A[T]);return o.apply(null,[z.moof,f(g)].concat(R))},p=function(g){for(var A=g.length,R=[];A--;)R[A]=E(g[A]);return o.apply(null,[z.moov,y(4294967295)].concat(R).concat(v(g)))},v=function(g){for(var A=g.length,R=[];A--;)R[A]=K(g[A]);return o.apply(null,[z.mvex].concat(R))},y=function(g){var A=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(g&4278190080)>>24,(g&16711680)>>16,(g&65280)>>8,g&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(z.mvhd,A)},F=function(g){var A=g.samples||[],R=new Uint8Array(4+A.length),T,x;for(x=0;x<A.length;x++)T=A[x].flags,R[x+4]=T.dependsOn<<4|T.isDependedOn<<2|T.hasRedundancy;return o(z.sdtp,R)},W=function(g){return o(z.stbl,Z(g),o(z.stts,Se),o(z.stsc,ie),o(z.stsz,ne),o(z.stco,H))},function(){var g,A;Z=function(R){return o(z.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),R.type==="video"?g(R):A(R))},g=function(R){var T=R.sps||[],x=R.pps||[],k=[],G=[],X,P;for(X=0;X<T.length;X++)k.push((T[X].byteLength&65280)>>>8),k.push(T[X].byteLength&255),k=k.concat(Array.prototype.slice.call(T[X]));for(X=0;X<x.length;X++)G.push((x[X].byteLength&65280)>>>8),G.push(x[X].byteLength&255),G=G.concat(Array.prototype.slice.call(x[X]));if(P=[z.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(R.width&65280)>>8,R.width&255,(R.height&65280)>>8,R.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(z.avcC,new Uint8Array([1,R.profileIdc,R.profileCompatibility,R.levelIdc,255].concat([T.length],k,[x.length],G))),o(z.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],R.sarRatio){var j=R.sarRatio[0],ee=R.sarRatio[1];P.push(o(z.pasp,new Uint8Array([(j&4278190080)>>24,(j&16711680)>>16,(j&65280)>>8,j&255,(ee&4278190080)>>24,(ee&16711680)>>16,(ee&65280)>>8,ee&255])))}return o.apply(null,P)},A=function(R){return o(z.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(R.channelcount&65280)>>8,R.channelcount&255,(R.samplesize&65280)>>8,R.samplesize&255,0,0,0,0,(R.samplerate&65280)>>8,R.samplerate&255,0,0]),c(R))}}(),S=function(g){var A=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(g.id&4278190080)>>24,(g.id&16711680)>>16,(g.id&65280)>>8,g.id&255,0,0,0,0,(g.duration&4278190080)>>24,(g.duration&16711680)>>16,(g.duration&65280)>>8,g.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(g.width&65280)>>8,g.width&255,0,0,(g.height&65280)>>8,g.height&255,0,0]);return o(z.tkhd,A)},O=function(g){var A,R,T,x,k,G,X;return A=o(z.tfhd,new Uint8Array([0,0,0,58,(g.id&4278190080)>>24,(g.id&16711680)>>16,(g.id&65280)>>8,g.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),G=Math.floor(g.baseMediaDecodeTime/a),X=Math.floor(g.baseMediaDecodeTime%a),R=o(z.tfdt,new Uint8Array([1,0,0,0,G>>>24&255,G>>>16&255,G>>>8&255,G&255,X>>>24&255,X>>>16&255,X>>>8&255,X&255])),k=92,g.type==="audio"?(T=fe(g,k),o(z.traf,A,R,T)):(x=F(g),T=fe(g,x.length+k),o(z.traf,A,R,T,x))},E=function(g){return g.duration=g.duration||4294967295,o(z.trak,S(g),I(g))},K=function(g){var A=new Uint8Array([0,0,0,0,(g.id&4278190080)>>24,(g.id&16711680)>>16,(g.id&65280)>>8,g.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return g.type!=="video"&&(A[A.length-1]=0),o(z.trex,A)},function(){var g,A,R;R=function(T,x){var k=0,G=0,X=0,P=0;return T.length&&(T[0].duration!==void 0&&(k=1),T[0].size!==void 0&&(G=2),T[0].flags!==void 0&&(X=4),T[0].compositionTimeOffset!==void 0&&(P=8)),[0,0,k|G|X|P,1,(T.length&4278190080)>>>24,(T.length&16711680)>>>16,(T.length&65280)>>>8,T.length&255,(x&4278190080)>>>24,(x&16711680)>>>16,(x&65280)>>>8,x&255]},A=function(T,x){var k,G,X,P,j,ee;for(P=T.samples||[],x+=20+16*P.length,X=R(P,x),G=new Uint8Array(X.length+P.length*16),G.set(X),k=X.length,ee=0;ee<P.length;ee++)j=P[ee],G[k++]=(j.duration&4278190080)>>>24,G[k++]=(j.duration&16711680)>>>16,G[k++]=(j.duration&65280)>>>8,G[k++]=j.duration&255,G[k++]=(j.size&4278190080)>>>24,G[k++]=(j.size&16711680)>>>16,G[k++]=(j.size&65280)>>>8,G[k++]=j.size&255,G[k++]=j.flags.isLeading<<2|j.flags.dependsOn,G[k++]=j.flags.isDependedOn<<6|j.flags.hasRedundancy<<4|j.flags.paddingValue<<1|j.flags.isNonSyncSample,G[k++]=j.flags.degradationPriority&61440,G[k++]=j.flags.degradationPriority&15,G[k++]=(j.compositionTimeOffset&4278190080)>>>24,G[k++]=(j.compositionTimeOffset&16711680)>>>16,G[k++]=(j.compositionTimeOffset&65280)>>>8,G[k++]=j.compositionTimeOffset&255;return o(z.trun,G)},g=function(T,x){var k,G,X,P,j,ee;for(P=T.samples||[],x+=20+8*P.length,X=R(P,x),k=new Uint8Array(X.length+P.length*8),k.set(X),G=X.length,ee=0;ee<P.length;ee++)j=P[ee],k[G++]=(j.duration&4278190080)>>>24,k[G++]=(j.duration&16711680)>>>16,k[G++]=(j.duration&65280)>>>8,k[G++]=j.duration&255,k[G++]=(j.size&4278190080)>>>24,k[G++]=(j.size&16711680)>>>16,k[G++]=(j.size&65280)>>>8,k[G++]=j.size&255;return o(z.trun,k)},fe=function(T,x){return T.type==="audio"?g(T,x):A(T,x)}}();var ke={ftyp:u,mdat:d,moof:m,moov:p,initSegment:function(g){var A=u(),R=p(g),T;return T=new Uint8Array(A.byteLength+R.byteLength),T.set(A),T.set(R,A.byteLength),T}},We=function(g){var A,R,T=[],x=[];for(x.byteLength=0,x.nalCount=0,x.duration=0,T.byteLength=0,A=0;A<g.length;A++)R=g[A],R.nalUnitType==="access_unit_delimiter_rbsp"?(T.length&&(T.duration=R.dts-T.dts,x.byteLength+=T.byteLength,x.nalCount+=T.length,x.duration+=T.duration,x.push(T)),T=[R],T.byteLength=R.data.byteLength,T.pts=R.pts,T.dts=R.dts):(R.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(T.keyFrame=!0),T.duration=R.dts-T.dts,T.byteLength+=R.data.byteLength,T.push(R));return x.length&&(!T.duration||T.duration<=0)&&(T.duration=x[x.length-1].duration),x.byteLength+=T.byteLength,x.nalCount+=T.length,x.duration+=T.duration,x.push(T),x},Pe=function(g){var A,R,T=[],x=[];for(T.byteLength=0,T.nalCount=0,T.duration=0,T.pts=g[0].pts,T.dts=g[0].dts,x.byteLength=0,x.nalCount=0,x.duration=0,x.pts=g[0].pts,x.dts=g[0].dts,A=0;A<g.length;A++)R=g[A],R.keyFrame?(T.length&&(x.push(T),x.byteLength+=T.byteLength,x.nalCount+=T.nalCount,x.duration+=T.duration),T=[R],T.nalCount=R.length,T.byteLength=R.byteLength,T.pts=R.pts,T.dts=R.dts,T.duration=R.duration):(T.duration+=R.duration,T.nalCount+=R.length,T.byteLength+=R.byteLength,T.push(R));return x.length&&T.duration<=0&&(T.duration=x[x.length-1].duration),x.byteLength+=T.byteLength,x.nalCount+=T.nalCount,x.duration+=T.duration,x.push(T),x},$e=function(g){var A;return!g[0][0].keyFrame&&g.length>1&&(A=g.shift(),g.byteLength-=A.byteLength,g.nalCount-=A.nalCount,g[0][0].dts=A.dts,g[0][0].pts=A.pts,g[0][0].duration+=A.duration),g},ae=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},Y=function(g,A){var R=ae();return R.dataOffset=A,R.compositionTimeOffset=g.pts-g.dts,R.duration=g.duration,R.size=4*g.length,R.size+=g.byteLength,g.keyFrame&&(R.flags.dependsOn=2,R.flags.isNonSyncSample=0),R},te=function(g,A){var R,T,x,k,G,X=A||0,P=[];for(R=0;R<g.length;R++)for(k=g[R],T=0;T<k.length;T++)G=k[T],x=Y(G,X),X+=x.size,P.push(x);return P},ce=function(g){var A,R,T,x,k,G,X=0,P=g.byteLength,j=g.nalCount,ee=P+4*j,Ae=new Uint8Array(ee),Ze=new DataView(Ae.buffer);for(A=0;A<g.length;A++)for(x=g[A],R=0;R<x.length;R++)for(k=x[R],T=0;T<k.length;T++)G=k[T],Ze.setUint32(X,G.data.byteLength),X+=4,Ae.set(G.data,X),X+=G.data.byteLength;return Ae},ge=function(g,A){var R,T=A||0,x=[];return R=Y(g,T),x.push(R),x},we=function(g){var A,R,T=0,x=g.byteLength,k=g.length,G=x+4*k,X=new Uint8Array(G),P=new DataView(X.buffer);for(A=0;A<g.length;A++)R=g[A],P.setUint32(T,R.data.byteLength),T+=4,X.set(R.data,T),T+=R.data.byteLength;return X},Be={groupNalsIntoFrames:We,groupFramesIntoGops:Pe,extendFirstKeyFrame:$e,generateSampleTable:te,concatenateNalData:ce,generateSampleTableForFrame:ge,concatenateNalDataForFrame:we},Ge=[33,16,5,32,164,27],le=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],De=function(g){for(var A=[];g--;)A.push(0);return A},ot=function(g){return Object.keys(g).reduce(function(A,R){return A[R]=new Uint8Array(g[R].reduce(function(T,x){return T.concat(x)},[])),A},{})},it,nt=function(){if(!it){var g={96e3:[Ge,[227,64],De(154),[56]],88200:[Ge,[231],De(170),[56]],64e3:[Ge,[248,192],De(240),[56]],48e3:[Ge,[255,192],De(268),[55,148,128],De(54),[112]],44100:[Ge,[255,192],De(268),[55,163,128],De(84),[112]],32e3:[Ge,[255,192],De(268),[55,234],De(226),[112]],24e3:[Ge,[255,192],De(268),[55,255,128],De(268),[111,112],De(126),[224]],16e3:[Ge,[255,192],De(268),[55,255,128],De(268),[111,255],De(269),[223,108],De(195),[1,192]],12e3:[le,De(268),[3,127,248],De(268),[6,255,240],De(268),[13,255,224],De(268),[27,253,128],De(259),[56]],11025:[le,De(268),[3,127,248],De(268),[6,255,240],De(268),[13,255,224],De(268),[27,255,192],De(268),[55,175,128],De(108),[112]],8e3:[le,De(268),[3,121,16],De(47),[7]]};it=ot(g)}return it},ze=9e4,pt,qe,ht,Vt,Zt,C,L;pt=function(g){return g*ze},qe=function(g,A){return g*A},ht=function(g){return g/ze},Vt=function(g,A){return g/A},Zt=function(g,A){return pt(Vt(g,A))},C=function(g,A){return qe(ht(g),A)},L=function(g,A,R){return ht(R?g:g-A)};var U={ONE_SECOND_IN_TS:ze,secondsToVideoTs:pt,secondsToAudioTs:qe,videoTsToSeconds:ht,audioTsToSeconds:Vt,audioTsToVideoTs:Zt,videoTsToAudioTs:C,metadataTsToSeconds:L},J=nt,re=U,ye=function(g){var A,R,T=0;for(A=0;A<g.length;A++)R=g[A],T+=R.data.byteLength;return T},Ne=function(g,A,R,T){var x,k=0,G=0,X=0,P=0,j,ee,Ae;if(A.length&&(x=re.audioTsToVideoTs(g.baseMediaDecodeTime,g.samplerate),k=Math.ceil(re.ONE_SECOND_IN_TS/(g.samplerate/1024)),R&&T&&(G=x-Math.max(R,T),X=Math.floor(G/k),P=X*k),!(X<1||P>re.ONE_SECOND_IN_TS/2))){for(j=J()[g.samplerate],j||(j=A[0].data),ee=0;ee<X;ee++)Ae=A[0],A.splice(0,0,{data:j,dts:Ae.dts-k,pts:Ae.pts-k});return g.baseMediaDecodeTime-=Math.floor(re.videoTsToAudioTs(P,g.samplerate)),P}},Rt=function(g,A,R){return A.minSegmentDts>=R?g:(A.minSegmentDts=1/0,g.filter(function(T){return T.dts>=R?(A.minSegmentDts=Math.min(A.minSegmentDts,T.dts),A.minSegmentPts=A.minSegmentDts,!0):!1}))},An=function(g){var A,R,T=[];for(A=0;A<g.length;A++)R=g[A],T.push({size:R.data.byteLength,duration:1024});return T},Nt=function(g){var A,R,T=0,x=new Uint8Array(ye(g));for(A=0;A<g.length;A++)R=g[A],x.set(R.data,T),T+=R.data.byteLength;return x},At={prefixWithSilence:Ne,trimAdtsFramesByEarliestDts:Rt,generateSampleTable:An,concatenateFrameData:Nt},en=U.ONE_SECOND_IN_TS,x$=function(g,A){typeof A.pts=="number"&&(g.timelineStartInfo.pts===void 0&&(g.timelineStartInfo.pts=A.pts),g.minSegmentPts===void 0?g.minSegmentPts=A.pts:g.minSegmentPts=Math.min(g.minSegmentPts,A.pts),g.maxSegmentPts===void 0?g.maxSegmentPts=A.pts:g.maxSegmentPts=Math.max(g.maxSegmentPts,A.pts)),typeof A.dts=="number"&&(g.timelineStartInfo.dts===void 0&&(g.timelineStartInfo.dts=A.dts),g.minSegmentDts===void 0?g.minSegmentDts=A.dts:g.minSegmentDts=Math.min(g.minSegmentDts,A.dts),g.maxSegmentDts===void 0?g.maxSegmentDts=A.dts:g.maxSegmentDts=Math.max(g.maxSegmentDts,A.dts))},V$=function(g){delete g.minSegmentDts,delete g.maxSegmentDts,delete g.minSegmentPts,delete g.maxSegmentPts},N$=function(g,A){var R,T,x=g.minSegmentDts;return A||(x-=g.timelineStartInfo.dts),R=g.timelineStartInfo.baseMediaDecodeTime,R+=x,R=Math.max(0,R),g.type==="audio"&&(T=g.samplerate/en,R*=T,R=Math.floor(R)),R},_$={clearDtsInfo:V$,calculateTrackBaseMediaDecodeTime:N$,collectDtsInfo:x$},VR=4,k$=128,F$=function(g){for(var A=0,R={payloadType:-1,payloadSize:0},T=0,x=0;A<g.byteLength&&g[A]!==k$;){for(;g[A]===255;)T+=255,A++;for(T+=g[A++];g[A]===255;)x+=255,A++;if(x+=g[A++],!R.payload&&T===VR){var k=String.fromCharCode(g[A+3],g[A+4],g[A+5],g[A+6]);if(k==="GA94"){R.payloadType=T,R.payloadSize=x,R.payload=g.subarray(A,A+x);break}else R.payload=void 0}A+=x,T=0,x=0}return R},L$=function(g){return g.payload[0]!==181||(g.payload[1]<<8|g.payload[2])!==49||String.fromCharCode(g.payload[3],g.payload[4],g.payload[5],g.payload[6])!=="GA94"||g.payload[7]!==3?null:g.payload.subarray(8,g.payload.length-1)},U$=function(g,A){var R=[],T,x,k,G;if(!(A[0]&64))return R;for(x=A[0]&31,T=0;T<x;T++)k=T*3,G={type:A[k+2]&3,pts:g},A[k+2]&4&&(G.ccData=A[k+3]<<8|A[k+4],R.push(G));return R},B$=function(g){for(var A=g.byteLength,R=[],T=1,x,k;T<A-2;)g[T]===0&&g[T+1]===0&&g[T+2]===3?(R.push(T+2),T+=2):T++;if(R.length===0)return g;x=A-R.length,k=new Uint8Array(x);var G=0;for(T=0;T<x;G++,T++)G===R[0]&&(G++,R.shift()),k[T]=g[G];return k},NR={parseSei:F$,parseUserData:L$,parseCaptionPackets:U$,discardEmulationPreventionBytes:B$,USER_DATA_REGISTERED_ITU_T_T35:VR},Fy=n,i0=NR,Xi=function(g){g=g||{},Xi.prototype.init.call(this),this.parse708captions_=typeof g.parse708captions=="boolean"?g.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new tn(0,0),new tn(0,1),new tn(1,0),new tn(1,1)],this.parse708captions_&&(this.cc708Stream_=new Dt({captionServices:g.captionServices})),this.reset(),this.ccStreams_.forEach(function(A){A.on("data",this.trigger.bind(this,"data")),A.on("partialdone",this.trigger.bind(this,"partialdone")),A.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Xi.prototype=new Fy,Xi.prototype.push=function(g){var A,R,T;if(g.nalUnitType==="sei_rbsp"&&(A=i0.parseSei(g.escapedRBSP),!!A.payload&&A.payloadType===i0.USER_DATA_REGISTERED_ITU_T_T35&&(R=i0.parseUserData(A),!!R))){if(g.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(g.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}T=i0.parseCaptionPackets(g.pts,R),this.captionPackets_=this.captionPackets_.concat(T),this.latestDts_!==g.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=g.dts}},Xi.prototype.flushCCStreams=function(g){this.ccStreams_.forEach(function(A){return g==="flush"?A.flush():A.partialFlush()},this)},Xi.prototype.flushStream=function(g){if(!this.captionPackets_.length){this.flushCCStreams(g);return}this.captionPackets_.forEach(function(A,R){A.presortIndex=R}),this.captionPackets_.sort(function(A,R){return A.pts===R.pts?A.presortIndex-R.presortIndex:A.pts-R.pts}),this.captionPackets_.forEach(function(A){A.type<2?this.dispatchCea608Packet(A):this.dispatchCea708Packet(A)},this),this.captionPackets_.length=0,this.flushCCStreams(g)},Xi.prototype.flush=function(){return this.flushStream("flush")},Xi.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Xi.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(g){g.reset()})},Xi.prototype.dispatchCea608Packet=function(g){this.setsTextOrXDSActive(g)?this.activeCea608Channel_[g.type]=null:this.setsChannel1Active(g)?this.activeCea608Channel_[g.type]=0:this.setsChannel2Active(g)&&(this.activeCea608Channel_[g.type]=1),this.activeCea608Channel_[g.type]!==null&&this.ccStreams_[(g.type<<1)+this.activeCea608Channel_[g.type]].push(g)},Xi.prototype.setsChannel1Active=function(g){return(g.ccData&30720)===4096},Xi.prototype.setsChannel2Active=function(g){return(g.ccData&30720)===6144},Xi.prototype.setsTextOrXDSActive=function(g){return(g.ccData&28928)===256||(g.ccData&30974)===4138||(g.ccData&30974)===6186},Xi.prototype.dispatchCea708Packet=function(g){this.parse708captions_&&this.cc708Stream_.push(g)};var W$={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},G$=function(g){var A=W$[g]||g;return g&4096&&g===A?"":String.fromCharCode(A)},r0=function(g){return 32<=g&&g<=127||160<=g&&g<=255},ca=function(g){this.windowNum=g,this.reset()};ca.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},ca.prototype.getText=function(){return this.rows.join(`
`)},ca.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},ca.prototype.newLine=function(g){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(g),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},ca.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},ca.prototype.addText=function(g){this.rows[this.rowIdx]+=g},ca.prototype.backspace=function(){if(!this.isEmpty()){var g=this.rows[this.rowIdx];this.rows[this.rowIdx]=g.substr(0,g.length-1)}};var s0=function(g,A,R){this.serviceNum=g,this.text="",this.currentWindow=new ca(-1),this.windows=[],this.stream=R,typeof A=="string"&&this.createTextDecoder(A)};s0.prototype.init=function(g,A){this.startPts=g;for(var R=0;R<8;R++)this.windows[R]=new ca(R),typeof A=="function"&&(this.windows[R].beforeRowOverflow=A)},s0.prototype.setCurrentWindow=function(g){this.currentWindow=this.windows[g]},s0.prototype.createTextDecoder=function(g){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(g)}catch(A){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+g+" encoding. "+A})}};var Dt=function(g){g=g||{},Dt.prototype.init.call(this);var A=this,R=g.captionServices||{},T={},x;Object.keys(R).forEach(k=>{x=R[k],/^SERVICE/.test(k)&&(T[k]=x.encoding)}),this.serviceEncodings=T,this.current708Packet=null,this.services={},this.push=function(k){k.type===3?(A.new708Packet(),A.add708Bytes(k)):(A.current708Packet===null&&A.new708Packet(),A.add708Bytes(k))}};Dt.prototype=new Fy,Dt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Dt.prototype.add708Bytes=function(g){var A=g.ccData,R=A>>>8,T=A&255;this.current708Packet.ptsVals.push(g.pts),this.current708Packet.data.push(R),this.current708Packet.data.push(T)},Dt.prototype.push708Packet=function(){var g=this.current708Packet,A=g.data,R=null,T=null,x=0,k=A[x++];for(g.seq=k>>6,g.sizeCode=k&63;x<A.length;x++)k=A[x++],R=k>>5,T=k&31,R===7&&T>0&&(k=A[x++],R=k),this.pushServiceBlock(R,x,T),T>0&&(x+=T-1)},Dt.prototype.pushServiceBlock=function(g,A,R){var T,x=A,k=this.current708Packet.data,G=this.services[g];for(G||(G=this.initService(g,x));x<A+R&&x<k.length;x++)T=k[x],r0(T)?x=this.handleText(x,G):T===24?x=this.multiByteCharacter(x,G):T===16?x=this.extendedCommands(x,G):128<=T&&T<=135?x=this.setCurrentWindow(x,G):152<=T&&T<=159?x=this.defineWindow(x,G):T===136?x=this.clearWindows(x,G):T===140?x=this.deleteWindows(x,G):T===137?x=this.displayWindows(x,G):T===138?x=this.hideWindows(x,G):T===139?x=this.toggleWindows(x,G):T===151?x=this.setWindowAttributes(x,G):T===144?x=this.setPenAttributes(x,G):T===145?x=this.setPenColor(x,G):T===146?x=this.setPenLocation(x,G):T===143?G=this.reset(x,G):T===8?G.currentWindow.backspace():T===12?G.currentWindow.clearText():T===13?G.currentWindow.pendingNewLine=!0:T===14?G.currentWindow.clearText():T===141&&x++},Dt.prototype.extendedCommands=function(g,A){var R=this.current708Packet.data,T=R[++g];return r0(T)&&(g=this.handleText(g,A,{isExtended:!0})),g},Dt.prototype.getPts=function(g){return this.current708Packet.ptsVals[Math.floor(g/2)]},Dt.prototype.initService=function(g,A){var T="SERVICE"+g,R=this,T,x;return T in this.serviceEncodings&&(x=this.serviceEncodings[T]),this.services[g]=new s0(g,x,R),this.services[g].init(this.getPts(A),function(k){R.flushDisplayed(k,R.services[g])}),this.services[g]},Dt.prototype.handleText=function(g,A,R){var T=R&&R.isExtended,x=R&&R.isMultiByte,k=this.current708Packet.data,G=T?4096:0,X=k[g],P=k[g+1],j=A.currentWindow,ee,Ae;function Ze(Ce){return Ce.map(je=>("0"+(je&255).toString(16)).slice(-2)).join("")}if(x?(Ae=[X,P],g++):Ae=[X],A.textDecoder_&&!T)ee=A.textDecoder_.decode(new Uint8Array(Ae));else if(x){const Ce=Ze(Ae);ee=String.fromCharCode(parseInt(Ce,16))}else ee=G$(G|X);return j.pendingNewLine&&!j.isEmpty()&&j.newLine(this.getPts(g)),j.pendingNewLine=!1,j.addText(ee),g},Dt.prototype.multiByteCharacter=function(g,A){var R=this.current708Packet.data,T=R[g+1],x=R[g+2];return r0(T)&&r0(x)&&(g=this.handleText(++g,A,{isMultiByte:!0})),g},Dt.prototype.setCurrentWindow=function(g,A){var R=this.current708Packet.data,T=R[g],x=T&7;return A.setCurrentWindow(x),g},Dt.prototype.defineWindow=function(g,A){var R=this.current708Packet.data,T=R[g],x=T&7;A.setCurrentWindow(x);var k=A.currentWindow;return T=R[++g],k.visible=(T&32)>>5,k.rowLock=(T&16)>>4,k.columnLock=(T&8)>>3,k.priority=T&7,T=R[++g],k.relativePositioning=(T&128)>>7,k.anchorVertical=T&127,T=R[++g],k.anchorHorizontal=T,T=R[++g],k.anchorPoint=(T&240)>>4,k.rowCount=T&15,T=R[++g],k.columnCount=T&63,T=R[++g],k.windowStyle=(T&56)>>3,k.penStyle=T&7,k.virtualRowCount=k.rowCount+1,g},Dt.prototype.setWindowAttributes=function(g,A){var R=this.current708Packet.data,T=R[g],x=A.currentWindow.winAttr;return T=R[++g],x.fillOpacity=(T&192)>>6,x.fillRed=(T&48)>>4,x.fillGreen=(T&12)>>2,x.fillBlue=T&3,T=R[++g],x.borderType=(T&192)>>6,x.borderRed=(T&48)>>4,x.borderGreen=(T&12)>>2,x.borderBlue=T&3,T=R[++g],x.borderType+=(T&128)>>5,x.wordWrap=(T&64)>>6,x.printDirection=(T&48)>>4,x.scrollDirection=(T&12)>>2,x.justify=T&3,T=R[++g],x.effectSpeed=(T&240)>>4,x.effectDirection=(T&12)>>2,x.displayEffect=T&3,g},Dt.prototype.flushDisplayed=function(g,A){for(var R=[],T=0;T<8;T++)A.windows[T].visible&&!A.windows[T].isEmpty()&&R.push(A.windows[T].getText());A.endPts=g,A.text=R.join(`

`),this.pushCaption(A),A.startPts=g},Dt.prototype.pushCaption=function(g){g.text!==""&&(this.trigger("data",{startPts:g.startPts,endPts:g.endPts,text:g.text,stream:"cc708_"+g.serviceNum}),g.text="",g.startPts=g.endPts)},Dt.prototype.displayWindows=function(g,A){var R=this.current708Packet.data,T=R[++g],x=this.getPts(g);this.flushDisplayed(x,A);for(var k=0;k<8;k++)T&1<<k&&(A.windows[k].visible=1);return g},Dt.prototype.hideWindows=function(g,A){var R=this.current708Packet.data,T=R[++g],x=this.getPts(g);this.flushDisplayed(x,A);for(var k=0;k<8;k++)T&1<<k&&(A.windows[k].visible=0);return g},Dt.prototype.toggleWindows=function(g,A){var R=this.current708Packet.data,T=R[++g],x=this.getPts(g);this.flushDisplayed(x,A);for(var k=0;k<8;k++)T&1<<k&&(A.windows[k].visible^=1);return g},Dt.prototype.clearWindows=function(g,A){var R=this.current708Packet.data,T=R[++g],x=this.getPts(g);this.flushDisplayed(x,A);for(var k=0;k<8;k++)T&1<<k&&A.windows[k].clearText();return g},Dt.prototype.deleteWindows=function(g,A){var R=this.current708Packet.data,T=R[++g],x=this.getPts(g);this.flushDisplayed(x,A);for(var k=0;k<8;k++)T&1<<k&&A.windows[k].reset();return g},Dt.prototype.setPenAttributes=function(g,A){var R=this.current708Packet.data,T=R[g],x=A.currentWindow.penAttr;return T=R[++g],x.textTag=(T&240)>>4,x.offset=(T&12)>>2,x.penSize=T&3,T=R[++g],x.italics=(T&128)>>7,x.underline=(T&64)>>6,x.edgeType=(T&56)>>3,x.fontStyle=T&7,g},Dt.prototype.setPenColor=function(g,A){var R=this.current708Packet.data,T=R[g],x=A.currentWindow.penColor;return T=R[++g],x.fgOpacity=(T&192)>>6,x.fgRed=(T&48)>>4,x.fgGreen=(T&12)>>2,x.fgBlue=T&3,T=R[++g],x.bgOpacity=(T&192)>>6,x.bgRed=(T&48)>>4,x.bgGreen=(T&12)>>2,x.bgBlue=T&3,T=R[++g],x.edgeRed=(T&48)>>4,x.edgeGreen=(T&12)>>2,x.edgeBlue=T&3,g},Dt.prototype.setPenLocation=function(g,A){var R=this.current708Packet.data,T=R[g],x=A.currentWindow.penLoc;return A.currentWindow.pendingNewLine=!0,T=R[++g],x.row=T&15,T=R[++g],x.column=T&63,g},Dt.prototype.reset=function(g,A){var R=this.getPts(g);return this.flushDisplayed(R,A),this.initService(A.serviceNum,g)};var Z$={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},a0=function(g){return g===null?"":(g=Z$[g]||g,String.fromCharCode(g))},o0=14,D$=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],ll=function(){for(var g=[],A=o0+1;A--;)g.push({text:"",indent:0,offset:0});return g},tn=function(g,A){tn.prototype.init.call(this),this.field_=g||0,this.dataChannel_=A||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(R){var T,x,k,G,X;if(T=R.ccData&32639,T===this.lastControlCode_){this.lastControlCode_=null;return}if((T&61440)===4096?this.lastControlCode_=T:T!==this.PADDING_&&(this.lastControlCode_=null),k=T>>>8,G=T&255,T!==this.PADDING_)if(T===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(T===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(R.pts),this.flushDisplayed(R.pts),x=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=x,this.startPts_=R.pts;else if(T===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(R.pts);else if(T===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(R.pts);else if(T===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(R.pts);else if(T===this.CARRIAGE_RETURN_)this.clearFormatting(R.pts),this.flushDisplayed(R.pts),this.shiftRowsUp_(),this.startPts_=R.pts;else if(T===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(T===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(R.pts),this.displayed_=ll();else if(T===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=ll();else if(T===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(R.pts),this.displayed_=ll()),this.mode_="paintOn",this.startPts_=R.pts;else if(this.isSpecialCharacter(k,G))k=(k&3)<<8,X=a0(k|G),this[this.mode_](R.pts,X),this.column_++;else if(this.isExtCharacter(k,G))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),k=(k&3)<<8,X=a0(k|G),this[this.mode_](R.pts,X),this.column_++;else if(this.isMidRowCode(k,G))this.clearFormatting(R.pts),this[this.mode_](R.pts," "),this.column_++,(G&14)===14&&this.addFormatting(R.pts,["i"]),(G&1)===1&&this.addFormatting(R.pts,["u"]);else if(this.isOffsetControlCode(k,G)){const j=G&3;this.nonDisplayed_[this.row_].offset=j,this.column_+=j}else if(this.isPAC(k,G)){var P=D$.indexOf(T&7968);if(this.mode_==="rollUp"&&(P-this.rollUpRows_+1<0&&(P=this.rollUpRows_-1),this.setRollUp(R.pts,P)),P!==this.row_&&P>=0&&P<=14&&(this.clearFormatting(R.pts),this.row_=P),G&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(R.pts,["u"]),(T&16)===16){const j=(T&14)>>1;this.column_=j*4,this.nonDisplayed_[this.row_].indent+=j}this.isColorPAC(G)&&(G&14)===14&&this.addFormatting(R.pts,["i"])}else this.isNormalChar(k)&&(G===0&&(G=null),X=a0(k),X+=a0(G),this[this.mode_](R.pts,X),this.column_+=X.length)}};tn.prototype=new Fy,tn.prototype.flushDisplayed=function(g){const A=T=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+T+"."})},R=[];this.displayed_.forEach((T,x)=>{if(T&&T.text&&T.text.length){try{T.text=T.text.trim()}catch{A(x)}T.text.length&&R.push({text:T.text,line:x+1,position:10+Math.min(70,T.indent*10)+T.offset*2.5})}else T==null&&A(x)}),R.length&&this.trigger("data",{startPts:this.startPts_,endPts:g,content:R,stream:this.name_})},tn.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=ll(),this.nonDisplayed_=ll(),this.lastControlCode_=null,this.column_=0,this.row_=o0,this.rollUpRows_=2,this.formatting_=[]},tn.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},tn.prototype.isSpecialCharacter=function(g,A){return g===this.EXT_&&A>=48&&A<=63},tn.prototype.isExtCharacter=function(g,A){return(g===this.EXT_+1||g===this.EXT_+2)&&A>=32&&A<=63},tn.prototype.isMidRowCode=function(g,A){return g===this.EXT_&&A>=32&&A<=47},tn.prototype.isOffsetControlCode=function(g,A){return g===this.OFFSET_&&A>=33&&A<=35},tn.prototype.isPAC=function(g,A){return g>=this.BASE_&&g<this.BASE_+8&&A>=64&&A<=127},tn.prototype.isColorPAC=function(g){return g>=64&&g<=79||g>=96&&g<=127},tn.prototype.isNormalChar=function(g){return g>=32&&g<=127},tn.prototype.setRollUp=function(g,A){if(this.mode_!=="rollUp"&&(this.row_=o0,this.mode_="rollUp",this.flushDisplayed(g),this.nonDisplayed_=ll(),this.displayed_=ll()),A!==void 0&&A!==this.row_)for(var R=0;R<this.rollUpRows_;R++)this.displayed_[A-R]=this.displayed_[this.row_-R],this.displayed_[this.row_-R]={text:"",indent:0,offset:0};A===void 0&&(A=this.row_),this.topRow_=A-this.rollUpRows_+1},tn.prototype.addFormatting=function(g,A){this.formatting_=this.formatting_.concat(A);var R=A.reduce(function(T,x){return T+"<"+x+">"},"");this[this.mode_](g,R)},tn.prototype.clearFormatting=function(g){if(this.formatting_.length){var A=this.formatting_.reverse().reduce(function(R,T){return R+"</"+T+">"},"");this.formatting_=[],this[this.mode_](g,A)}},tn.prototype.popOn=function(g,A){var R=this.nonDisplayed_[this.row_].text;R+=A,this.nonDisplayed_[this.row_].text=R},tn.prototype.rollUp=function(g,A){var R=this.displayed_[this.row_].text;R+=A,this.displayed_[this.row_].text=R},tn.prototype.shiftRowsUp_=function(){var g;for(g=0;g<this.topRow_;g++)this.displayed_[g]={text:"",indent:0,offset:0};for(g=this.row_+1;g<o0+1;g++)this.displayed_[g]={text:"",indent:0,offset:0};for(g=this.topRow_;g<this.row_;g++)this.displayed_[g]=this.displayed_[g+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},tn.prototype.paintOn=function(g,A){var R=this.displayed_[this.row_].text;R+=A,this.displayed_[this.row_].text=R};var _R={CaptionStream:Xi,Cea608Stream:tn,Cea708Stream:Dt},l0={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},O$=n,X$=8589934592,M$=4294967296,kR="shared",Ly=function(g,A){var R=1;for(g>A&&(R=-1);Math.abs(A-g)>M$;)g+=R*X$;return g},Uy=function(g){var A,R;Uy.prototype.init.call(this),this.type_=g||kR,this.push=function(T){if(T.type==="metadata"){this.trigger("data",T);return}this.type_!==kR&&T.type!==this.type_||(R===void 0&&(R=T.dts),T.dts=Ly(T.dts,R),T.pts=Ly(T.pts,R),A=T.dts,this.trigger("data",T))},this.flush=function(){R=A,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){R=void 0,A=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Uy.prototype=new O$;var FR={TimestampRolloverStream:Uy,handleRollover:Ly},P$=(g,A,R)=>{if(!g)return-1;for(var T=R;T<g.length;T++)if(g[T]===A)return T;return-1},Y$={typedArrayIndexOf:P$},c0=Y$.typedArrayIndexOf,u0={Utf8:3},LR=function(g,A,R){var T,x="";for(T=A;T<R;T++)x+="%"+("00"+g[T].toString(16)).slice(-2);return x},ah=function(g,A,R){return decodeURIComponent(LR(g,A,R))},oh=function(g,A,R){return unescape(LR(g,A,R))},lh=function(g){return g[0]<<21|g[1]<<14|g[2]<<7|g[3]},ch={APIC:function(g){var A=1,R,T,x="-->";g.data[0]===u0.Utf8&&(R=c0(g.data,0,A),!(R<0)&&(g.mimeType=oh(g.data,A,R),A=R+1,g.pictureType=g.data[A],A++,T=c0(g.data,0,A),!(T<0)&&(g.description=ah(g.data,A,T),A=T+1,g.mimeType===x?g.url=oh(g.data,A,g.data.length):g.pictureData=g.data.subarray(A,g.data.length))))},"T*":function(g){g.data[0]===u0.Utf8&&(g.value=ah(g.data,1,g.data.length).replace(/\0*$/,""),g.values=g.value.split("\0"))},TXXX:function(g){var A;g.data[0]===u0.Utf8&&(A=c0(g.data,0,1),A!==-1&&(g.description=ah(g.data,1,A),g.value=ah(g.data,A+1,g.data.length).replace(/\0*$/,""),g.data=g.value))},"W*":function(g){g.url=oh(g.data,0,g.data.length).replace(/\0.*$/,"")},WXXX:function(g){var A;g.data[0]===u0.Utf8&&(A=c0(g.data,0,1),A!==-1&&(g.description=ah(g.data,1,A),g.url=oh(g.data,A+1,g.data.length).replace(/\0.*$/,"")))},PRIV:function(g){var A;for(A=0;A<g.data.length;A++)if(g.data[A]===0){g.owner=oh(g.data,0,A);break}g.privateData=g.data.subarray(A+1),g.data=g.privateData}},$$=function(g){var A,R,T=10,x=0,k=[];if(!(g.length<10||g[0]!==73||g[1]!==68||g[2]!==51)){x=lh(g.subarray(6,10)),x+=10;var G=g[5]&64;G&&(T+=4,T+=lh(g.subarray(10,14)),x-=lh(g.subarray(16,20)));do{if(A=lh(g.subarray(T+4,T+8)),A<1)break;R=String.fromCharCode(g[T],g[T+1],g[T+2],g[T+3]);var X={id:R,data:g.subarray(T+10,T+A+10)};X.key=X.id,ch[X.id]?ch[X.id](X):X.id[0]==="T"?ch["T*"](X):X.id[0]==="W"&&ch["W*"](X),k.push(X),T+=10,T+=A}while(T<x);return k}},UR={parseId3Frames:$$,parseSyncSafeInteger:lh,frameParsers:ch},j$=n,K$=l0,fo=UR,d0;d0=function(g){var A={descriptor:g&&g.descriptor},R=0,T=[],x=0,k;if(d0.prototype.init.call(this),this.dispatchType=K$.METADATA_STREAM_TYPE.toString(16),A.descriptor)for(k=0;k<A.descriptor.length;k++)this.dispatchType+=("00"+A.descriptor[k].toString(16)).slice(-2);this.push=function(G){var X,P,j,ee,Ae,Ze;if(G.type==="timed-metadata"){if(G.dataAlignmentIndicator&&(x=0,T.length=0),T.length===0&&(G.data.length<10||G.data[0]!==73||G.data[1]!==68||G.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(T.push(G),x+=G.data.byteLength,T.length===1&&(R=fo.parseSyncSafeInteger(G.data.subarray(6,10)),R+=10),!(x<R)){for(X={data:new Uint8Array(R),frames:[],pts:T[0].pts,dts:T[0].dts},Ae=0;Ae<R;)X.data.set(T[0].data.subarray(0,R-Ae),Ae),Ae+=T[0].data.byteLength,x-=T[0].data.byteLength,T.shift();P=10,X.data[5]&64&&(P+=4,P+=fo.parseSyncSafeInteger(X.data.subarray(10,14)),R-=fo.parseSyncSafeInteger(X.data.subarray(16,20)));do{if(j=fo.parseSyncSafeInteger(X.data.subarray(P+4,P+8)),j<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Ze=String.fromCharCode(X.data[P],X.data[P+1],X.data[P+2],X.data[P+3]),ee={id:Ze,data:X.data.subarray(P+10,P+j+10)},ee.key=ee.id,fo.frameParsers[ee.id]?fo.frameParsers[ee.id](ee):ee.id[0]==="T"?fo.frameParsers["T*"](ee):ee.id[0]==="W"&&fo.frameParsers["W*"](ee),ee.owner==="com.apple.streaming.transportStreamTimestamp"){var Ce=ee.data,je=(Ce[3]&1)<<30|Ce[4]<<22|Ce[5]<<14|Ce[6]<<6|Ce[7]>>>2;je*=4,je+=Ce[7]&3,ee.timeStamp=je,X.pts===void 0&&X.dts===void 0&&(X.pts=ee.timeStamp,X.dts=ee.timeStamp),this.trigger("timestamp",ee)}X.frames.push(ee),P+=10,P+=j}while(P<R);this.trigger("data",X)}}}},d0.prototype=new j$;var z$=d0,By=n,Wy=_R,Kr=l0,J$=FR.TimestampRolloverStream,h0,uh,f0,Cc=188,Gy=71;h0=function(){var g=new Uint8Array(Cc),A=0;h0.prototype.init.call(this),this.push=function(R){var T=0,x=Cc,k;for(A?(k=new Uint8Array(R.byteLength+A),k.set(g.subarray(0,A)),k.set(R,A),A=0):k=R;x<k.byteLength;){if(k[T]===Gy&&k[x]===Gy){this.trigger("data",k.subarray(T,x)),T+=Cc,x+=Cc;continue}T++,x++}T<k.byteLength&&(g.set(k.subarray(T),0),A=k.byteLength-T)},this.flush=function(){A===Cc&&g[0]===Gy&&(this.trigger("data",g),A=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){A=0,this.trigger("reset")}},h0.prototype=new By,uh=function(){var g,A,R,T;uh.prototype.init.call(this),T=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,g=function(x,k){var G=0;k.payloadUnitStartIndicator&&(G+=x[G]+1),k.type==="pat"?A(x.subarray(G),k):R(x.subarray(G),k)},A=function(x,k){k.section_number=x[7],k.last_section_number=x[8],T.pmtPid=(x[10]&31)<<8|x[11],k.pmtPid=T.pmtPid},R=function(x,k){var G,X,P,j;if(x[5]&1){for(T.programMapTable={video:null,audio:null,"timed-metadata":{}},G=(x[1]&15)<<8|x[2],X=3+G-4,P=(x[10]&15)<<8|x[11],j=12+P;j<X;){var ee=x[j],Ae=(x[j+1]&31)<<8|x[j+2];ee===Kr.H264_STREAM_TYPE&&T.programMapTable.video===null?T.programMapTable.video=Ae:ee===Kr.ADTS_STREAM_TYPE&&T.programMapTable.audio===null?T.programMapTable.audio=Ae:ee===Kr.METADATA_STREAM_TYPE&&(T.programMapTable["timed-metadata"][Ae]=ee),j+=((x[j+3]&15)<<8|x[j+4])+5}k.programMapTable=T.programMapTable}},this.push=function(x){var k={},G=4;if(k.payloadUnitStartIndicator=!!(x[1]&64),k.pid=x[1]&31,k.pid<<=8,k.pid|=x[2],(x[3]&48)>>>4>1&&(G+=x[G]+1),k.pid===0)k.type="pat",g(x.subarray(G),k),this.trigger("data",k);else if(k.pid===this.pmtPid)for(k.type="pmt",g(x.subarray(G),k),this.trigger("data",k);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([x,G,k]):this.processPes_(x,G,k)},this.processPes_=function(x,k,G){G.pid===this.programMapTable.video?G.streamType=Kr.H264_STREAM_TYPE:G.pid===this.programMapTable.audio?G.streamType=Kr.ADTS_STREAM_TYPE:G.streamType=this.programMapTable["timed-metadata"][G.pid],G.type="pes",G.data=x.subarray(k),this.trigger("data",G)}},uh.prototype=new By,uh.STREAM_TYPES={h264:27,adts:15},f0=function(){var g=this,A=!1,R={data:[],size:0},T={data:[],size:0},x={data:[],size:0},k,G=function(P,j){var ee;const Ae=P[0]<<16|P[1]<<8|P[2];j.data=new Uint8Array,Ae===1&&(j.packetLength=6+(P[4]<<8|P[5]),j.dataAlignmentIndicator=(P[6]&4)!==0,ee=P[7],ee&192&&(j.pts=(P[9]&14)<<27|(P[10]&255)<<20|(P[11]&254)<<12|(P[12]&255)<<5|(P[13]&254)>>>3,j.pts*=4,j.pts+=(P[13]&6)>>>1,j.dts=j.pts,ee&64&&(j.dts=(P[14]&14)<<27|(P[15]&255)<<20|(P[16]&254)<<12|(P[17]&255)<<5|(P[18]&254)>>>3,j.dts*=4,j.dts+=(P[18]&6)>>>1)),j.data=P.subarray(9+P[8]))},X=function(P,j,ee){var Ae=new Uint8Array(P.size),Ze={type:j},Ce=0,je=0,lt=!1,Mn;if(!(!P.data.length||P.size<9)){for(Ze.trackId=P.data[0].pid,Ce=0;Ce<P.data.length;Ce++)Mn=P.data[Ce],Ae.set(Mn.data,je),je+=Mn.data.byteLength;G(Ae,Ze),lt=j==="video"||Ze.packetLength<=P.size,(ee||lt)&&(P.size=0,P.data.length=0),lt&&g.trigger("data",Ze)}};f0.prototype.init.call(this),this.push=function(P){({pat:function(){},pes:function(){var j,ee;switch(P.streamType){case Kr.H264_STREAM_TYPE:j=R,ee="video";break;case Kr.ADTS_STREAM_TYPE:j=T,ee="audio";break;case Kr.METADATA_STREAM_TYPE:j=x,ee="timed-metadata";break;default:return}P.payloadUnitStartIndicator&&X(j,ee,!0),j.data.push(P),j.size+=P.data.byteLength},pmt:function(){var j={type:"metadata",tracks:[]};k=P.programMapTable,k.video!==null&&j.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.video,codec:"avc",type:"video"}),k.audio!==null&&j.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.audio,codec:"adts",type:"audio"}),A=!0,g.trigger("data",j)}})[P.type]()},this.reset=function(){R.size=0,R.data.length=0,T.size=0,T.data.length=0,this.trigger("reset")},this.flushStreams_=function(){X(R,"video"),X(T,"audio"),X(x,"timed-metadata")},this.flush=function(){if(!A&&k){var P={type:"metadata",tracks:[]};k.video!==null&&P.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.video,codec:"avc",type:"video"}),k.audio!==null&&P.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.audio,codec:"adts",type:"audio"}),g.trigger("data",P)}A=!1,this.flushStreams_(),this.trigger("done")}},f0.prototype=new By;var BR={PAT_PID:0,MP2T_PACKET_LENGTH:Cc,TransportPacketStream:h0,TransportParseStream:uh,ElementaryStream:f0,TimestampRolloverStream:J$,CaptionStream:Wy.CaptionStream,Cea608Stream:Wy.Cea608Stream,Cea708Stream:Wy.Cea708Stream,MetadataStream:z$};for(var Zy in Kr)Kr.hasOwnProperty(Zy)&&(BR[Zy]=Kr[Zy]);var H$=BR,Q$=n,q$=U.ONE_SECOND_IN_TS,p0,WR=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];p0=function(g){var A,R=0;p0.prototype.init.call(this),this.skipWarn_=function(T,x){this.trigger("log",{level:"warn",message:`adts skiping bytes ${T} to ${x} in frame ${R} outside syncword`})},this.push=function(T){var x=0,k,G,X,P,j;if(g||(R=0),T.type==="audio"){A&&A.length?(X=A,A=new Uint8Array(X.byteLength+T.data.byteLength),A.set(X),A.set(T.data,X.byteLength)):A=T.data;for(var ee;x+7<A.length;){if(A[x]!==255||(A[x+1]&246)!==240){typeof ee!="number"&&(ee=x),x++;continue}if(typeof ee=="number"&&(this.skipWarn_(ee,x),ee=null),G=(~A[x+1]&1)*2,k=(A[x+3]&3)<<11|A[x+4]<<3|(A[x+5]&224)>>5,P=((A[x+6]&3)+1)*1024,j=P*q$/WR[(A[x+2]&60)>>>2],A.byteLength-x<k)break;this.trigger("data",{pts:T.pts+R*j,dts:T.dts+R*j,sampleCount:P,audioobjecttype:(A[x+2]>>>6&3)+1,channelcount:(A[x+2]&1)<<2|(A[x+3]&192)>>>6,samplerate:WR[(A[x+2]&60)>>>2],samplingfrequencyindex:(A[x+2]&60)>>>2,samplesize:16,data:A.subarray(x+7+G,x+k)}),R++,x+=k}typeof ee=="number"&&(this.skipWarn_(ee,x),ee=null),A=A.subarray(x)}},this.flush=function(){R=0,this.trigger("done")},this.reset=function(){A=void 0,this.trigger("reset")},this.endTimeline=function(){A=void 0,this.trigger("endedtimeline")}},p0.prototype=new Q$;var ej=p0,GR;GR=function(g){var A=g.byteLength,R=0,T=0;this.length=function(){return 8*A},this.bitsAvailable=function(){return 8*A+T},this.loadWord=function(){var x=g.byteLength-A,k=new Uint8Array(4),G=Math.min(4,A);if(G===0)throw new Error("no bytes available");k.set(g.subarray(x,x+G)),R=new DataView(k.buffer).getUint32(0),T=G*8,A-=G},this.skipBits=function(x){var k;T>x?(R<<=x,T-=x):(x-=T,k=Math.floor(x/8),x-=k*8,A-=k,this.loadWord(),R<<=x,T-=x)},this.readBits=function(x){var k=Math.min(T,x),G=R>>>32-k;return T-=k,T>0?R<<=k:A>0&&this.loadWord(),k=x-k,k>0?G<<k|this.readBits(k):G},this.skipLeadingZeros=function(){var x;for(x=0;x<T;++x)if(R&2147483648>>>x)return R<<=x,T-=x,x;return this.loadWord(),x+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var x=this.skipLeadingZeros();return this.readBits(x+1)-1},this.readExpGolomb=function(){var x=this.readUnsignedExpGolomb();return 1&x?1+x>>>1:-1*(x>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var tj=GR,ZR=n,nj=tj,m0,g0,DR;g0=function(){var g=0,A,R;g0.prototype.init.call(this),this.push=function(T){var x;R?(x=new Uint8Array(R.byteLength+T.data.byteLength),x.set(R),x.set(T.data,R.byteLength),R=x):R=T.data;for(var k=R.byteLength;g<k-3;g++)if(R[g+2]===1){A=g+5;break}for(;A<k;)switch(R[A]){case 0:if(R[A-1]!==0){A+=2;break}else if(R[A-2]!==0){A++;break}g+3!==A-2&&this.trigger("data",R.subarray(g+3,A-2));do A++;while(R[A]!==1&&A<k);g=A-2,A+=3;break;case 1:if(R[A-1]!==0||R[A-2]!==0){A+=3;break}this.trigger("data",R.subarray(g+3,A-2)),g=A-2,A+=3;break;default:A+=3;break}R=R.subarray(g),A-=g,g=0},this.reset=function(){R=null,g=0,this.trigger("reset")},this.flush=function(){R&&R.byteLength>3&&this.trigger("data",R.subarray(g+3)),R=null,g=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},g0.prototype=new ZR,DR={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},m0=function(){var g=new g0,A,R,T,x,k,G,X;m0.prototype.init.call(this),A=this,this.push=function(P){P.type==="video"&&(R=P.trackId,T=P.pts,x=P.dts,g.push(P))},g.on("data",function(P){var j={trackId:R,pts:T,dts:x,data:P,nalUnitTypeCode:P[0]&31};switch(j.nalUnitTypeCode){case 5:j.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:j.nalUnitType="sei_rbsp",j.escapedRBSP=k(P.subarray(1));break;case 7:j.nalUnitType="seq_parameter_set_rbsp",j.escapedRBSP=k(P.subarray(1)),j.config=G(j.escapedRBSP);break;case 8:j.nalUnitType="pic_parameter_set_rbsp";break;case 9:j.nalUnitType="access_unit_delimiter_rbsp";break}A.trigger("data",j)}),g.on("done",function(){A.trigger("done")}),g.on("partialdone",function(){A.trigger("partialdone")}),g.on("reset",function(){A.trigger("reset")}),g.on("endedtimeline",function(){A.trigger("endedtimeline")}),this.flush=function(){g.flush()},this.partialFlush=function(){g.partialFlush()},this.reset=function(){g.reset()},this.endTimeline=function(){g.endTimeline()},X=function(P,j){var ee=8,Ae=8,Ze,Ce;for(Ze=0;Ze<P;Ze++)Ae!==0&&(Ce=j.readExpGolomb(),Ae=(ee+Ce+256)%256),ee=Ae===0?ee:Ae},k=function(P){for(var j=P.byteLength,ee=[],Ae=1,Ze,Ce;Ae<j-2;)P[Ae]===0&&P[Ae+1]===0&&P[Ae+2]===3?(ee.push(Ae+2),Ae+=2):Ae++;if(ee.length===0)return P;Ze=j-ee.length,Ce=new Uint8Array(Ze);var je=0;for(Ae=0;Ae<Ze;je++,Ae++)je===ee[0]&&(je++,ee.shift()),Ce[Ae]=P[je];return Ce},G=function(P){var j=0,ee=0,Ae=0,Ze=0,Ce,je,lt,Mn,xi,Es,yh,x0,V0,dl,bh,zt=[1,1],EC,hl;if(Ce=new nj(P),je=Ce.readUnsignedByte(),Mn=Ce.readUnsignedByte(),lt=Ce.readUnsignedByte(),Ce.skipUnsignedExpGolomb(),DR[je]&&(xi=Ce.readUnsignedExpGolomb(),xi===3&&Ce.skipBits(1),Ce.skipUnsignedExpGolomb(),Ce.skipUnsignedExpGolomb(),Ce.skipBits(1),Ce.readBoolean()))for(bh=xi!==3?8:12,hl=0;hl<bh;hl++)Ce.readBoolean()&&(hl<6?X(16,Ce):X(64,Ce));if(Ce.skipUnsignedExpGolomb(),Es=Ce.readUnsignedExpGolomb(),Es===0)Ce.readUnsignedExpGolomb();else if(Es===1)for(Ce.skipBits(1),Ce.skipExpGolomb(),Ce.skipExpGolomb(),yh=Ce.readUnsignedExpGolomb(),hl=0;hl<yh;hl++)Ce.skipExpGolomb();if(Ce.skipUnsignedExpGolomb(),Ce.skipBits(1),x0=Ce.readUnsignedExpGolomb(),V0=Ce.readUnsignedExpGolomb(),dl=Ce.readBits(1),dl===0&&Ce.skipBits(1),Ce.skipBits(1),Ce.readBoolean()&&(j=Ce.readUnsignedExpGolomb(),ee=Ce.readUnsignedExpGolomb(),Ae=Ce.readUnsignedExpGolomb(),Ze=Ce.readUnsignedExpGolomb()),Ce.readBoolean()&&Ce.readBoolean()){switch(EC=Ce.readUnsignedByte(),EC){case 1:zt=[1,1];break;case 2:zt=[12,11];break;case 3:zt=[10,11];break;case 4:zt=[16,11];break;case 5:zt=[40,33];break;case 6:zt=[24,11];break;case 7:zt=[20,11];break;case 8:zt=[32,11];break;case 9:zt=[80,33];break;case 10:zt=[18,11];break;case 11:zt=[15,11];break;case 12:zt=[64,33];break;case 13:zt=[160,99];break;case 14:zt=[4,3];break;case 15:zt=[3,2];break;case 16:zt=[2,1];break;case 255:{zt=[Ce.readUnsignedByte()<<8|Ce.readUnsignedByte(),Ce.readUnsignedByte()<<8|Ce.readUnsignedByte()];break}}zt&&zt[0]/zt[1]}return{profileIdc:je,levelIdc:lt,profileCompatibility:Mn,width:(x0+1)*16-j*2-ee*2,height:(2-dl)*(V0+1)*16-Ae*2-Ze*2,sarRatio:zt}}},m0.prototype=new ZR;var ij={H264Stream:m0},rj=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],OR=function(g,A){var R=g[A+6]<<21|g[A+7]<<14|g[A+8]<<7|g[A+9],T=g[A+5],x=(T&16)>>4;return R=R>=0?R:0,x?R+20:R+10},XR=function(g,A){return g.length-A<10||g[A]!==73||g[A+1]!==68||g[A+2]!==51?A:(A+=OR(g,A),XR(g,A))},sj=function(g){var A=XR(g,0);return g.length>=A+2&&(g[A]&255)===255&&(g[A+1]&240)===240&&(g[A+1]&22)===16},MR=function(g){return g[0]<<21|g[1]<<14|g[2]<<7|g[3]},aj=function(g,A,R){var T,x="";for(T=A;T<R;T++)x+="%"+("00"+g[T].toString(16)).slice(-2);return x},oj=function(g,A,R){return unescape(aj(g,A,R))},lj=function(g,A){var R=(g[A+5]&224)>>5,T=g[A+4]<<3,x=g[A+3]&6144;return x|T|R},cj=function(g,A){return g[A]===73&&g[A+1]===68&&g[A+2]===51?"timed-metadata":g[A]&!0&&(g[A+1]&240)===240?"audio":null},uj=function(g){for(var A=0;A+5<g.length;){if(g[A]!==255||(g[A+1]&246)!==240){A++;continue}return rj[(g[A+2]&60)>>>2]}return null},dj=function(g){var A,R,T,x;A=10,g[5]&64&&(A+=4,A+=MR(g.subarray(10,14)));do{if(R=MR(g.subarray(A+4,A+8)),R<1)return null;if(x=String.fromCharCode(g[A],g[A+1],g[A+2],g[A+3]),x==="PRIV"){T=g.subarray(A+10,A+R+10);for(var k=0;k<T.byteLength;k++)if(T[k]===0){var G=oj(T,0,k);if(G==="com.apple.streaming.transportStreamTimestamp"){var X=T.subarray(k+1),P=(X[3]&1)<<30|X[4]<<22|X[5]<<14|X[6]<<6|X[7]>>>2;return P*=4,P+=X[7]&3,P}break}}A+=10,A+=R}while(A<g.byteLength);return null},Dy={isLikelyAacData:sj,parseId3TagSize:OR,parseAdtsSize:lj,parseType:cj,parseSampleRate:uj,parseAacTimestamp:dj},hj=n,PR=Dy,y0;y0=function(){var g=new Uint8Array,A=0;y0.prototype.init.call(this),this.setTimestamp=function(R){A=R},this.push=function(R){var T=0,x=0,k,G,X,P;for(g.length?(P=g.length,g=new Uint8Array(R.byteLength+P),g.set(g.subarray(0,P)),g.set(R,P)):g=R;g.length-x>=3;){if(g[x]===73&&g[x+1]===68&&g[x+2]===51){if(g.length-x<10||(T=PR.parseId3TagSize(g,x),x+T>g.length))break;G={type:"timed-metadata",data:g.subarray(x,x+T)},this.trigger("data",G),x+=T;continue}else if((g[x]&255)===255&&(g[x+1]&240)===240){if(g.length-x<7||(T=PR.parseAdtsSize(g,x),x+T>g.length))break;X={type:"audio",data:g.subarray(x,x+T),pts:A,dts:A},this.trigger("data",X),x+=T;continue}x++}k=g.length-x,k>0?g=g.subarray(x):g=new Uint8Array},this.reset=function(){g=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){g=new Uint8Array,this.trigger("endedtimeline")}},y0.prototype=new hj;var fj=y0,pj=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],mj=pj,gj=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],yj=gj,b0=n,dh=ke,hh=Be,v0=At,zr=_$,ua=H$,E0=U,YR=ej,bj=ij.H264Stream,vj=fj,Ej=Dy.isLikelyAacData,Aj=U.ONE_SECOND_IN_TS,$R=mj,jR=yj,A0,fh,S0,cl,Sj=function(g,A){A.stream=g,this.trigger("log",A)},KR=function(g,A){for(var R=Object.keys(A),T=0;T<R.length;T++){var x=R[T];x==="headOfPipeline"||!A[x].on||A[x].on("log",Sj.bind(g,x))}},zR=function(g,A){var R;if(g.length!==A.length)return!1;for(R=0;R<g.length;R++)if(g[R]!==A[R])return!1;return!0},JR=function(g,A,R,T,x,k){var G=R-A,X=T-A,P=x-R;return{start:{dts:g,pts:g+G},end:{dts:g+X,pts:g+P},prependedContentDuration:k,baseMediaDecodeTime:g}};fh=function(g,A){var R=[],T,x=0,k=0,G=1/0;A=A||{},T=A.firstSequenceNumber||0,fh.prototype.init.call(this),this.push=function(X){zr.collectDtsInfo(g,X),g&&$R.forEach(function(P){g[P]=X[P]}),R.push(X)},this.setEarliestDts=function(X){x=X},this.setVideoBaseMediaDecodeTime=function(X){G=X},this.setAudioAppendStart=function(X){k=X},this.flush=function(){var X,P,j,ee,Ae,Ze,Ce;if(R.length===0){this.trigger("done","AudioSegmentStream");return}X=v0.trimAdtsFramesByEarliestDts(R,g,x),g.baseMediaDecodeTime=zr.calculateTrackBaseMediaDecodeTime(g,A.keepOriginalTimestamps),Ce=v0.prefixWithSilence(g,X,k,G),g.samples=v0.generateSampleTable(X),j=dh.mdat(v0.concatenateFrameData(X)),R=[],P=dh.moof(T,[g]),ee=new Uint8Array(P.byteLength+j.byteLength),T++,ee.set(P),ee.set(j,P.byteLength),zr.clearDtsInfo(g),Ae=Math.ceil(Aj*1024/g.samplerate),X.length&&(Ze=X.length*Ae,this.trigger("segmentTimingInfo",JR(E0.audioTsToVideoTs(g.baseMediaDecodeTime,g.samplerate),X[0].dts,X[0].pts,X[0].dts+Ze,X[0].pts+Ze,Ce||0)),this.trigger("timingInfo",{start:X[0].pts,end:X[0].pts+Ze})),this.trigger("data",{track:g,boxes:ee}),this.trigger("done","AudioSegmentStream")},this.reset=function(){zr.clearDtsInfo(g),R=[],this.trigger("reset")}},fh.prototype=new b0,A0=function(g,A){var R,T=[],x=[],k,G;A=A||{},R=A.firstSequenceNumber||0,A0.prototype.init.call(this),delete g.minPTS,this.gopCache_=[],this.push=function(X){zr.collectDtsInfo(g,X),X.nalUnitType==="seq_parameter_set_rbsp"&&!k&&(k=X.config,g.sps=[X.data],jR.forEach(function(P){g[P]=k[P]},this)),X.nalUnitType==="pic_parameter_set_rbsp"&&!G&&(G=X.data,g.pps=[X.data]),T.push(X)},this.flush=function(){for(var X,P,j,ee,Ae,Ze,Ce=0,je,lt;T.length&&T[0].nalUnitType!=="access_unit_delimiter_rbsp";)T.shift();if(T.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(X=hh.groupNalsIntoFrames(T),j=hh.groupFramesIntoGops(X),j[0][0].keyFrame||(P=this.getGopForFusion_(T[0],g),P?(Ce=P.duration,j.unshift(P),j.byteLength+=P.byteLength,j.nalCount+=P.nalCount,j.pts=P.pts,j.dts=P.dts,j.duration+=P.duration):j=hh.extendFirstKeyFrame(j)),x.length){var Mn;if(A.alignGopsAtEnd?Mn=this.alignGopsAtEnd_(j):Mn=this.alignGopsAtStart_(j),!Mn){this.gopCache_.unshift({gop:j.pop(),pps:g.pps,sps:g.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),T=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}zr.clearDtsInfo(g),j=Mn}zr.collectDtsInfo(g,j),g.samples=hh.generateSampleTable(j),Ae=dh.mdat(hh.concatenateNalData(j)),g.baseMediaDecodeTime=zr.calculateTrackBaseMediaDecodeTime(g,A.keepOriginalTimestamps),this.trigger("processedGopsInfo",j.map(function(xi){return{pts:xi.pts,dts:xi.dts,byteLength:xi.byteLength}})),je=j[0],lt=j[j.length-1],this.trigger("segmentTimingInfo",JR(g.baseMediaDecodeTime,je.dts,je.pts,lt.dts+lt.duration,lt.pts+lt.duration,Ce)),this.trigger("timingInfo",{start:j[0].pts,end:j[j.length-1].pts+j[j.length-1].duration}),this.gopCache_.unshift({gop:j.pop(),pps:g.pps,sps:g.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),T=[],this.trigger("baseMediaDecodeTime",g.baseMediaDecodeTime),this.trigger("timelineStartInfo",g.timelineStartInfo),ee=dh.moof(R,[g]),Ze=new Uint8Array(ee.byteLength+Ae.byteLength),R++,Ze.set(ee),Ze.set(Ae,ee.byteLength),this.trigger("data",{track:g,boxes:Ze}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),T=[],this.gopCache_.length=0,x.length=0,this.trigger("reset")},this.resetStream_=function(){zr.clearDtsInfo(g),k=void 0,G=void 0},this.getGopForFusion_=function(X){var P=45e3,j=1/0,ee,Ae,Ze,Ce,je;for(je=0;je<this.gopCache_.length;je++)Ce=this.gopCache_[je],Ze=Ce.gop,!(!(g.pps&&zR(g.pps[0],Ce.pps[0]))||!(g.sps&&zR(g.sps[0],Ce.sps[0])))&&(Ze.dts<g.timelineStartInfo.dts||(ee=X.dts-Ze.dts-Ze.duration,ee>=-1e4&&ee<=P&&(!Ae||j>ee)&&(Ae=Ce,j=ee)));return Ae?Ae.gop:null},this.alignGopsAtStart_=function(X){var P,j,ee,Ae,Ze,Ce,je,lt;for(Ze=X.byteLength,Ce=X.nalCount,je=X.duration,P=j=0;P<x.length&&j<X.length&&(ee=x[P],Ae=X[j],ee.pts!==Ae.pts);){if(Ae.pts>ee.pts){P++;continue}j++,Ze-=Ae.byteLength,Ce-=Ae.nalCount,je-=Ae.duration}return j===0?X:j===X.length?null:(lt=X.slice(j),lt.byteLength=Ze,lt.duration=je,lt.nalCount=Ce,lt.pts=lt[0].pts,lt.dts=lt[0].dts,lt)},this.alignGopsAtEnd_=function(X){var P,j,ee,Ae,Ze,Ce;for(P=x.length-1,j=X.length-1,Ze=null,Ce=!1;P>=0&&j>=0;){if(ee=x[P],Ae=X[j],ee.pts===Ae.pts){Ce=!0;break}if(ee.pts>Ae.pts){P--;continue}P===x.length-1&&(Ze=j),j--}if(!Ce&&Ze===null)return null;var je;if(Ce?je=j:je=Ze,je===0)return X;var lt=X.slice(je),Mn=lt.reduce(function(xi,Es){return xi.byteLength+=Es.byteLength,xi.duration+=Es.duration,xi.nalCount+=Es.nalCount,xi},{byteLength:0,duration:0,nalCount:0});return lt.byteLength=Mn.byteLength,lt.duration=Mn.duration,lt.nalCount=Mn.nalCount,lt.pts=lt[0].pts,lt.dts=lt[0].dts,lt},this.alignGopsWith=function(X){x=X}},A0.prototype=new b0,cl=function(g,A){this.numberOfTracks=0,this.metadataStream=A,g=g||{},typeof g.remux<"u"?this.remuxTracks=!!g.remux:this.remuxTracks=!0,typeof g.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=g.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,cl.prototype.init.call(this),this.push=function(R){if(R.content||R.text)return this.pendingCaptions.push(R);if(R.frames)return this.pendingMetadata.push(R);this.pendingTracks.push(R.track),this.pendingBytes+=R.boxes.byteLength,R.track.type==="video"&&(this.videoTrack=R.track,this.pendingBoxes.push(R.boxes)),R.track.type==="audio"&&(this.audioTrack=R.track,this.pendingBoxes.unshift(R.boxes))}},cl.prototype=new b0,cl.prototype.flush=function(g){var A=0,R={captions:[],captionStreams:{},metadata:[],info:{}},T,x,k,G=0,X;if(this.pendingTracks.length<this.numberOfTracks){if(g!=="VideoSegmentStream"&&g!=="AudioSegmentStream"||this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(G=this.videoTrack.timelineStartInfo.pts,jR.forEach(function(P){R.info[P]=this.videoTrack[P]},this)):this.audioTrack&&(G=this.audioTrack.timelineStartInfo.pts,$R.forEach(function(P){R.info[P]=this.audioTrack[P]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?R.type=this.pendingTracks[0].type:R.type="combined",this.emittedTracks+=this.pendingTracks.length,k=dh.initSegment(this.pendingTracks),R.initSegment=new Uint8Array(k.byteLength),R.initSegment.set(k),R.data=new Uint8Array(this.pendingBytes),X=0;X<this.pendingBoxes.length;X++)R.data.set(this.pendingBoxes[X],A),A+=this.pendingBoxes[X].byteLength;for(X=0;X<this.pendingCaptions.length;X++)T=this.pendingCaptions[X],T.startTime=E0.metadataTsToSeconds(T.startPts,G,this.keepOriginalTimestamps),T.endTime=E0.metadataTsToSeconds(T.endPts,G,this.keepOriginalTimestamps),R.captionStreams[T.stream]=!0,R.captions.push(T);for(X=0;X<this.pendingMetadata.length;X++)x=this.pendingMetadata[X],x.cueTime=E0.metadataTsToSeconds(x.pts,G,this.keepOriginalTimestamps),R.metadata.push(x);for(R.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",R),X=0;X<R.captions.length;X++)T=R.captions[X],this.trigger("caption",T);for(X=0;X<R.metadata.length;X++)x=R.metadata[X],this.trigger("id3Frame",x)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},cl.prototype.setRemux=function(g){this.remuxTracks=g},S0=function(g){var A=this,R=!0,T,x;S0.prototype.init.call(this),g=g||{},this.baseMediaDecodeTime=g.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var k={};this.transmuxPipeline_=k,k.type="aac",k.metadataStream=new ua.MetadataStream,k.aacStream=new vj,k.audioTimestampRolloverStream=new ua.TimestampRolloverStream("audio"),k.timedMetadataTimestampRolloverStream=new ua.TimestampRolloverStream("timed-metadata"),k.adtsStream=new YR,k.coalesceStream=new cl(g,k.metadataStream),k.headOfPipeline=k.aacStream,k.aacStream.pipe(k.audioTimestampRolloverStream).pipe(k.adtsStream),k.aacStream.pipe(k.timedMetadataTimestampRolloverStream).pipe(k.metadataStream).pipe(k.coalesceStream),k.metadataStream.on("timestamp",function(G){k.aacStream.setTimestamp(G.timeStamp)}),k.aacStream.on("data",function(G){G.type!=="timed-metadata"&&G.type!=="audio"||k.audioSegmentStream||(x=x||{timelineStartInfo:{baseMediaDecodeTime:A.baseMediaDecodeTime},codec:"adts",type:"audio"},k.coalesceStream.numberOfTracks++,k.audioSegmentStream=new fh(x,g),k.audioSegmentStream.on("log",A.getLogTrigger_("audioSegmentStream")),k.audioSegmentStream.on("timingInfo",A.trigger.bind(A,"audioTimingInfo")),k.adtsStream.pipe(k.audioSegmentStream).pipe(k.coalesceStream),A.trigger("trackinfo",{hasAudio:!!x,hasVideo:!!T}))}),k.coalesceStream.on("data",this.trigger.bind(this,"data")),k.coalesceStream.on("done",this.trigger.bind(this,"done")),KR(this,k)},this.setupTsPipeline=function(){var k={};this.transmuxPipeline_=k,k.type="ts",k.metadataStream=new ua.MetadataStream,k.packetStream=new ua.TransportPacketStream,k.parseStream=new ua.TransportParseStream,k.elementaryStream=new ua.ElementaryStream,k.timestampRolloverStream=new ua.TimestampRolloverStream,k.adtsStream=new YR,k.h264Stream=new bj,k.captionStream=new ua.CaptionStream(g),k.coalesceStream=new cl(g,k.metadataStream),k.headOfPipeline=k.packetStream,k.packetStream.pipe(k.parseStream).pipe(k.elementaryStream).pipe(k.timestampRolloverStream),k.timestampRolloverStream.pipe(k.h264Stream),k.timestampRolloverStream.pipe(k.adtsStream),k.timestampRolloverStream.pipe(k.metadataStream).pipe(k.coalesceStream),k.h264Stream.pipe(k.captionStream).pipe(k.coalesceStream),k.elementaryStream.on("data",function(G){var X;if(G.type==="metadata"){for(X=G.tracks.length;X--;)!T&&G.tracks[X].type==="video"?(T=G.tracks[X],T.timelineStartInfo.baseMediaDecodeTime=A.baseMediaDecodeTime):!x&&G.tracks[X].type==="audio"&&(x=G.tracks[X],x.timelineStartInfo.baseMediaDecodeTime=A.baseMediaDecodeTime);T&&!k.videoSegmentStream&&(k.coalesceStream.numberOfTracks++,k.videoSegmentStream=new A0(T,g),k.videoSegmentStream.on("log",A.getLogTrigger_("videoSegmentStream")),k.videoSegmentStream.on("timelineStartInfo",function(P){x&&!g.keepOriginalTimestamps&&(x.timelineStartInfo=P,k.audioSegmentStream.setEarliestDts(P.dts-A.baseMediaDecodeTime))}),k.videoSegmentStream.on("processedGopsInfo",A.trigger.bind(A,"gopInfo")),k.videoSegmentStream.on("segmentTimingInfo",A.trigger.bind(A,"videoSegmentTimingInfo")),k.videoSegmentStream.on("baseMediaDecodeTime",function(P){x&&k.audioSegmentStream.setVideoBaseMediaDecodeTime(P)}),k.videoSegmentStream.on("timingInfo",A.trigger.bind(A,"videoTimingInfo")),k.h264Stream.pipe(k.videoSegmentStream).pipe(k.coalesceStream)),x&&!k.audioSegmentStream&&(k.coalesceStream.numberOfTracks++,k.audioSegmentStream=new fh(x,g),k.audioSegmentStream.on("log",A.getLogTrigger_("audioSegmentStream")),k.audioSegmentStream.on("timingInfo",A.trigger.bind(A,"audioTimingInfo")),k.audioSegmentStream.on("segmentTimingInfo",A.trigger.bind(A,"audioSegmentTimingInfo")),k.adtsStream.pipe(k.audioSegmentStream).pipe(k.coalesceStream)),A.trigger("trackinfo",{hasAudio:!!x,hasVideo:!!T})}}),k.coalesceStream.on("data",this.trigger.bind(this,"data")),k.coalesceStream.on("id3Frame",function(G){G.dispatchType=k.metadataStream.dispatchType,A.trigger("id3Frame",G)}),k.coalesceStream.on("caption",this.trigger.bind(this,"caption")),k.coalesceStream.on("done",this.trigger.bind(this,"done")),KR(this,k)},this.setBaseMediaDecodeTime=function(k){var G=this.transmuxPipeline_;g.keepOriginalTimestamps||(this.baseMediaDecodeTime=k),x&&(x.timelineStartInfo.dts=void 0,x.timelineStartInfo.pts=void 0,zr.clearDtsInfo(x),G.audioTimestampRolloverStream&&G.audioTimestampRolloverStream.discontinuity()),T&&(G.videoSegmentStream&&(G.videoSegmentStream.gopCache_=[]),T.timelineStartInfo.dts=void 0,T.timelineStartInfo.pts=void 0,zr.clearDtsInfo(T),G.captionStream.reset()),G.timestampRolloverStream&&G.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(k){x&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(k)},this.setRemux=function(k){var G=this.transmuxPipeline_;g.remux=k,G&&G.coalesceStream&&G.coalesceStream.setRemux(k)},this.alignGopsWith=function(k){T&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(k)},this.getLogTrigger_=function(k){var G=this;return function(X){X.stream=k,G.trigger("log",X)}},this.push=function(k){if(R){var G=Ej(k);G&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!G&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),R=!1}this.transmuxPipeline_.headOfPipeline.push(k)},this.flush=function(){R=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},S0.prototype=new b0;var Tj={Transmuxer:S0},Rj=function(g){return g>>>0},Cj=function(g){return("00"+g.toString(16)).slice(-2)},T0={toUnsigned:Rj,toHexString:Cj},Ij=function(g){var A="";return A+=String.fromCharCode(g[0]),A+=String.fromCharCode(g[1]),A+=String.fromCharCode(g[2]),A+=String.fromCharCode(g[3]),A},HR=Ij,wj=T0.toUnsigned,xj=HR,QR=function(g,A){var R=[],T,x,k,G,X;if(!A.length)return null;for(T=0;T<g.byteLength;)x=wj(g[T]<<24|g[T+1]<<16|g[T+2]<<8|g[T+3]),k=xj(g.subarray(T+4,T+8)),G=x>1?T+x:g.byteLength,k===A[0]&&(A.length===1?R.push(g.subarray(T+8,G)):(X=QR(g.subarray(T+8,G),A.slice(1)),X.length&&(R=R.concat(X)))),T=G;return R},Oy=QR,Vj=T0.toUnsigned,Nj=s.getUint64,_j=function(g){var A={version:g[0],flags:new Uint8Array(g.subarray(1,4))};return A.version===1?A.baseMediaDecodeTime=Nj(g.subarray(4)):A.baseMediaDecodeTime=Vj(g[4]<<24|g[5]<<16|g[6]<<8|g[7]),A},Xy=_j,kj=function(g){var A=new DataView(g.buffer,g.byteOffset,g.byteLength),R={version:g[0],flags:new Uint8Array(g.subarray(1,4)),trackId:A.getUint32(4)},T=R.flags[2]&1,x=R.flags[2]&2,k=R.flags[2]&8,G=R.flags[2]&16,X=R.flags[2]&32,P=R.flags[0]&65536,j=R.flags[0]&131072,ee;return ee=8,T&&(ee+=4,R.baseDataOffset=A.getUint32(12),ee+=4),x&&(R.sampleDescriptionIndex=A.getUint32(ee),ee+=4),k&&(R.defaultSampleDuration=A.getUint32(ee),ee+=4),G&&(R.defaultSampleSize=A.getUint32(ee),ee+=4),X&&(R.defaultSampleFlags=A.getUint32(ee)),P&&(R.durationIsEmpty=!0),!T&&j&&(R.baseDataOffsetIsMoof=!0),R},qR=kj,Fj=function(g){return{isLeading:(g[0]&12)>>>2,dependsOn:g[0]&3,isDependedOn:(g[1]&192)>>>6,hasRedundancy:(g[1]&48)>>>4,paddingValue:(g[1]&14)>>>1,isNonSyncSample:g[1]&1,degradationPriority:g[2]<<8|g[3]}},Lj=Fj,eC=Lj,Uj=function(g){var A={version:g[0],flags:new Uint8Array(g.subarray(1,4)),samples:[]},R=new DataView(g.buffer,g.byteOffset,g.byteLength),T=A.flags[2]&1,x=A.flags[2]&4,k=A.flags[1]&1,G=A.flags[1]&2,X=A.flags[1]&4,P=A.flags[1]&8,j=R.getUint32(4),ee=8,Ae;for(T&&(A.dataOffset=R.getInt32(ee),ee+=4),x&&j&&(Ae={flags:eC(g.subarray(ee,ee+4))},ee+=4,k&&(Ae.duration=R.getUint32(ee),ee+=4),G&&(Ae.size=R.getUint32(ee),ee+=4),P&&(A.version===1?Ae.compositionTimeOffset=R.getInt32(ee):Ae.compositionTimeOffset=R.getUint32(ee),ee+=4),A.samples.push(Ae),j--);j--;)Ae={},k&&(Ae.duration=R.getUint32(ee),ee+=4),G&&(Ae.size=R.getUint32(ee),ee+=4),X&&(Ae.flags=eC(g.subarray(ee,ee+4)),ee+=4),P&&(A.version===1?Ae.compositionTimeOffset=R.getInt32(ee):Ae.compositionTimeOffset=R.getUint32(ee),ee+=4),A.samples.push(Ae);return A},tC=Uj,nC={tfdt:Xy,trun:tC},iC={parseTfdt:nC.tfdt,parseTrun:nC.trun},Bj=function(g){for(var A=0,R=String.fromCharCode(g[A]),T="";R!=="\0";)T+=R,A++,R=String.fromCharCode(g[A]);return T+=R,T},Wj={uint8ToCString:Bj},R0=Wj.uint8ToCString,Gj=s.getUint64,Zj=function(g){var A=4,R=g[0],T,x,k,G,X,P,j,ee;if(R===0){T=R0(g.subarray(A)),A+=T.length,x=R0(g.subarray(A)),A+=x.length;var Ae=new DataView(g.buffer);k=Ae.getUint32(A),A+=4,X=Ae.getUint32(A),A+=4,P=Ae.getUint32(A),A+=4,j=Ae.getUint32(A),A+=4}else if(R===1){var Ae=new DataView(g.buffer);k=Ae.getUint32(A),A+=4,G=Gj(g.subarray(A)),A+=8,P=Ae.getUint32(A),A+=4,j=Ae.getUint32(A),A+=4,T=R0(g.subarray(A)),A+=T.length,x=R0(g.subarray(A)),A+=x.length}ee=new Uint8Array(g.subarray(A,g.byteLength));var Ze={scheme_id_uri:T,value:x,timescale:k||1,presentation_time:G,presentation_time_delta:X,event_duration:P,id:j,message_data:ee};return Oj(R,Ze)?Ze:void 0},Dj=function(g,A,R,T){return g||g===0?g/A:T+R/A},Oj=function(g,A){var R=A.scheme_id_uri!=="\0",T=g===0&&rC(A.presentation_time_delta)&&R,x=g===1&&rC(A.presentation_time)&&R;return!(g>1)&&T||x},rC=function(g){return g!==void 0||g!==null},Xj={parseEmsgBox:Zj,scaleTime:Dj},ph;typeof window<"u"?ph=window:typeof t<"u"?ph=t:typeof self<"u"?ph=self:ph={};var sC=ph,C0=T0.toUnsigned,mh=T0.toHexString,Sn=Oy,Ic=HR,My=Xj,Mj=qR,Pj=tC,Yj=Xy,$j=s.getUint64,aC,oC,lC,cC,uC,Py,dC,Yy=sC,jj=UR.parseId3Frames;aC=function(g){var A={},R=Sn(g,["moov","trak"]);return R.reduce(function(T,x){var k,G,X,P,j;return k=Sn(x,["tkhd"])[0],!k||(G=k[0],X=G===0?12:20,P=C0(k[X]<<24|k[X+1]<<16|k[X+2]<<8|k[X+3]),j=Sn(x,["mdia","mdhd"])[0],!j)?null:(G=j[0],X=G===0?12:20,T[P]=C0(j[X]<<24|j[X+1]<<16|j[X+2]<<8|j[X+3]),T)},A)},oC=function(g,A){var R;R=Sn(A,["moof","traf"]);var T=R.reduce(function(x,k){var G=Sn(k,["tfhd"])[0],X=C0(G[4]<<24|G[5]<<16|G[6]<<8|G[7]),P=g[X]||9e4,j=Sn(k,["tfdt"])[0],ee=new DataView(j.buffer,j.byteOffset,j.byteLength),Ae;j[0]===1?Ae=$j(j.subarray(4,12)):Ae=ee.getUint32(4);let Ze;return typeof Ae=="bigint"?Ze=Ae/Yy.BigInt(P):typeof Ae=="number"&&!isNaN(Ae)&&(Ze=Ae/P),Ze<Number.MAX_SAFE_INTEGER&&(Ze=Number(Ze)),Ze<x&&(x=Ze),x},1/0);return typeof T=="bigint"||isFinite(T)?T:0},lC=function(g,A){var R=Sn(A,["moof","traf"]),T=0,x=0,k;if(R&&R.length){var G=Sn(R[0],["tfhd"])[0],X=Sn(R[0],["trun"])[0],P=Sn(R[0],["tfdt"])[0];if(G){var j=Mj(G);k=j.trackId}if(P){var ee=Yj(P);T=ee.baseMediaDecodeTime}if(X){var Ae=Pj(X);Ae.samples&&Ae.samples.length&&(x=Ae.samples[0].compositionTimeOffset||0)}}var Ze=g[k]||9e4;typeof T=="bigint"&&(x=Yy.BigInt(x),Ze=Yy.BigInt(Ze));var Ce=(T+x)/Ze;return typeof Ce=="bigint"&&Ce<Number.MAX_SAFE_INTEGER&&(Ce=Number(Ce)),Ce},cC=function(g){var A=Sn(g,["moov","trak"]),R=[];return A.forEach(function(T){var x=Sn(T,["mdia","hdlr"]),k=Sn(T,["tkhd"]);x.forEach(function(G,X){var P=Ic(G.subarray(8,12)),j=k[X],ee,Ae,Ze;P==="vide"&&(ee=new DataView(j.buffer,j.byteOffset,j.byteLength),Ae=ee.getUint8(0),Ze=Ae===0?ee.getUint32(12):ee.getUint32(20),R.push(Ze))})}),R},Py=function(g){var A=g[0],R=A===0?12:20;return C0(g[R]<<24|g[R+1]<<16|g[R+2]<<8|g[R+3])},uC=function(g){var A=Sn(g,["moov","trak"]),R=[];return A.forEach(function(T){var x={},k=Sn(T,["tkhd"])[0],G,X;k&&(G=new DataView(k.buffer,k.byteOffset,k.byteLength),X=G.getUint8(0),x.id=X===0?G.getUint32(12):G.getUint32(20));var P=Sn(T,["mdia","hdlr"])[0];if(P){var j=Ic(P.subarray(8,12));j==="vide"?x.type="video":j==="soun"?x.type="audio":x.type=j}var ee=Sn(T,["mdia","minf","stbl","stsd"])[0];if(ee){var Ae=ee.subarray(8);x.codec=Ic(Ae.subarray(4,8));var Ze=Sn(Ae,[x.codec])[0],Ce,je;Ze&&(/^[asm]vc[1-9]$/i.test(x.codec)?(Ce=Ze.subarray(78),je=Ic(Ce.subarray(4,8)),je==="avcC"&&Ce.length>11?(x.codec+=".",x.codec+=mh(Ce[9]),x.codec+=mh(Ce[10]),x.codec+=mh(Ce[11])):x.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(x.codec)?(Ce=Ze.subarray(28),je=Ic(Ce.subarray(4,8)),je==="esds"&&Ce.length>20&&Ce[19]!==0?(x.codec+="."+mh(Ce[19]),x.codec+="."+mh(Ce[20]>>>2&63).replace(/^0/,"")):x.codec="mp4a.40.2"):x.codec=x.codec.toLowerCase())}var lt=Sn(T,["mdia","mdhd"])[0];lt&&(x.timescale=Py(lt)),R.push(x)}),R},dC=function(g,A=0){var R=Sn(g,["emsg"]);return R.map(T=>{var x=My.parseEmsgBox(new Uint8Array(T)),k=jj(x.message_data);return{cueTime:My.scaleTime(x.presentation_time,x.timescale,x.presentation_time_delta,A),duration:My.scaleTime(x.event_duration,x.timescale),frames:k}})};var gh={findBox:Sn,parseType:Ic,timescale:aC,startTime:oC,compositionStartTime:lC,videoTrackIds:cC,tracks:uC,getTimescaleFromMediaHeader:Py,getEmsgID3:dC};const{parseTrun:Kj}=iC,{findBox:hC}=gh;var fC=sC,zj=function(g){var A=hC(g,["moof","traf"]),R=hC(g,["mdat"]),T=[];return R.forEach(function(x,k){var G=A[k];T.push({mdat:x,traf:G})}),T},Jj=function(g,A,R){var T=A,x=R.defaultSampleDuration||0,k=R.defaultSampleSize||0,G=R.trackId,X=[];return g.forEach(function(P){var j=Kj(P),ee=j.samples;ee.forEach(function(Ae){Ae.duration===void 0&&(Ae.duration=x),Ae.size===void 0&&(Ae.size=k),Ae.trackId=G,Ae.dts=T,Ae.compositionTimeOffset===void 0&&(Ae.compositionTimeOffset=0),typeof T=="bigint"?(Ae.pts=T+fC.BigInt(Ae.compositionTimeOffset),T+=fC.BigInt(Ae.duration)):(Ae.pts=T+Ae.compositionTimeOffset,T+=Ae.duration)}),X=X.concat(ee)}),X},pC={getMdatTrafPairs:zj,parseSamples:Jj},Hj=NR.discardEmulationPreventionBytes,Qj=_R.CaptionStream,$y=Oy,qj=Xy,eK=qR,{getMdatTrafPairs:tK,parseSamples:nK}=pC,iK=function(g,A){for(var R=g,T=0;T<A.length;T++){var x=A[T];if(R<x.size)return x;R-=x.size}return null},rK=function(g,A,R){var T=new DataView(g.buffer,g.byteOffset,g.byteLength),x={logs:[],seiNals:[]},k,G,X,P;for(G=0;G+4<g.length;G+=X)if(X=T.getUint32(G),G+=4,!(X<=0))switch(g[G]&31){case 6:var j=g.subarray(G+1,G+1+X),ee=iK(G,A);if(k={nalUnitType:"sei_rbsp",size:X,data:j,escapedRBSP:Hj(j),trackId:R},ee)k.pts=ee.pts,k.dts=ee.dts,P=ee;else if(P)k.pts=P.pts,k.dts=P.dts;else{x.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+G+" for trackId "+R+". See mux.js#223."});break}x.seiNals.push(k);break}return x},sK=function(g,A){var R={},T=tK(g);return T.forEach(function(x){var k=x.mdat,G=x.traf,X=$y(G,["tfhd"]),P=eK(X[0]),j=P.trackId,ee=$y(G,["tfdt"]),Ae=ee.length>0?qj(ee[0]).baseMediaDecodeTime:0,Ze=$y(G,["trun"]),Ce,je;A===j&&Ze.length>0&&(Ce=nK(Ze,Ae,P),je=rK(k,Ce,j),R[j]||(R[j]={seiNals:[],logs:[]}),R[j].seiNals=R[j].seiNals.concat(je.seiNals),R[j].logs=R[j].logs.concat(je.logs))}),R},aK=function(g,A,R){var T;if(A===null)return null;T=sK(g,A);var x=T[A]||{};return{seiNals:x.seiNals,logs:x.logs,timescale:R}},oK=function(){var g=!1,A,R,T,x,k,G;this.isInitialized=function(){return g},this.init=function(X){A=new Qj,g=!0,G=X?X.isPartial:!1,A.on("data",function(P){P.startTime=P.startPts/x,P.endTime=P.endPts/x,k.captions.push(P),k.captionStreams[P.stream]=!0}),A.on("log",function(P){k.logs.push(P)})},this.isNewInit=function(X,P){return X&&X.length===0||P&&typeof P=="object"&&Object.keys(P).length===0?!1:T!==X[0]||x!==P[T]},this.parse=function(X,P,j){var ee;if(this.isInitialized()){if(!P||!j)return null;if(this.isNewInit(P,j))T=P[0],x=j[T];else if(T===null||!x)return R.push(X),null}else return null;for(;R.length>0;){var Ae=R.shift();this.parse(Ae,P,j)}return ee=aK(X,T,x),ee&&ee.logs&&(k.logs=k.logs.concat(ee.logs)),ee===null||!ee.seiNals?k.logs.length?{logs:k.logs,captions:[],captionStreams:[]}:null:(this.pushNals(ee.seiNals),this.flushStream(),k)},this.pushNals=function(X){if(!this.isInitialized()||!X||X.length===0)return null;X.forEach(function(P){A.push(P)})},this.flushStream=function(){if(!this.isInitialized())return null;G?A.partialFlush():A.flush()},this.clearParsedCaptions=function(){k.captions=[],k.captionStreams={},k.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;A.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){R=[],T=null,x=null,k?this.clearParsedCaptions():k={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},lK=oK;const{parseTfdt:cK}=iC,po=Oy,{getTimescaleFromMediaHeader:uK}=gh,{parseSamples:dK,getMdatTrafPairs:hK}=pC;var mC=function(){let g=9e4;this.init=function(A){const R=po(A,["moov","trak","mdia","mdhd"])[0];R&&(g=uK(R))},this.parseSegment=function(A){const R=[],T=hK(A);let x=0;return T.forEach(function(k){const G=k.mdat,X=k.traf,P=po(X,["tfdt"])[0],j=po(X,["tfhd"])[0],ee=po(X,["trun"]);if(P&&(x=cK(P).baseMediaDecodeTime),ee.length&&j){const Ae=dK(ee,x,j);let Ze=0;Ae.forEach(function(Ce){const je="utf-8",lt=new TextDecoder(je),Mn=G.slice(Ze,Ze+Ce.size);if(po(Mn,["vtte"])[0]){Ze+=Ce.size;return}po(Mn,["vttc"]).forEach(function(xi){const Es=po(xi,["payl"])[0],yh=po(xi,["sttg"])[0],x0=Ce.pts/g,V0=(Ce.pts+Ce.duration)/g;let dl,bh;if(Es)try{dl=lt.decode(Es)}catch(zt){console.error(zt)}if(yh)try{bh=lt.decode(yh)}catch(zt){console.error(zt)}Ce.duration&&dl&&R.push({cueText:dl,start:x0,end:V0,settings:bh})}),Ze+=Ce.size})}}),R}},jy=l0,gC=function(g){var A=g[1]&31;return A<<=8,A|=g[2],A},I0=function(g){return!!(g[1]&64)},w0=function(g){var A=0;return(g[3]&48)>>>4>1&&(A+=g[4]+1),A},fK=function(g,A){var R=gC(g);return R===0?"pat":R===A?"pmt":A?"pes":null},pK=function(g){var A=I0(g),R=4+w0(g);return A&&(R+=g[R]+1),(g[R+10]&31)<<8|g[R+11]},mK=function(g){var A={},R=I0(g),T=4+w0(g);if(R&&(T+=g[T]+1),!!(g[T+5]&1)){var x,k,G;x=(g[T+1]&15)<<8|g[T+2],k=3+x-4,G=(g[T+10]&15)<<8|g[T+11];for(var X=12+G;X<k;){var P=T+X;A[(g[P+1]&31)<<8|g[P+2]]=g[P],X+=((g[P+3]&15)<<8|g[P+4])+5}return A}},gK=function(g,A){var R=gC(g),T=A[R];switch(T){case jy.H264_STREAM_TYPE:return"video";case jy.ADTS_STREAM_TYPE:return"audio";case jy.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},yK=function(g){var A=I0(g);if(!A)return null;var R=4+w0(g);if(R>=g.byteLength)return null;var T=null,x;return x=g[R+7],x&192&&(T={},T.pts=(g[R+9]&14)<<27|(g[R+10]&255)<<20|(g[R+11]&254)<<12|(g[R+12]&255)<<5|(g[R+13]&254)>>>3,T.pts*=4,T.pts+=(g[R+13]&6)>>>1,T.dts=T.pts,x&64&&(T.dts=(g[R+14]&14)<<27|(g[R+15]&255)<<20|(g[R+16]&254)<<12|(g[R+17]&255)<<5|(g[R+18]&254)>>>3,T.dts*=4,T.dts+=(g[R+18]&6)>>>1)),T},Ky=function(g){switch(g){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},bK=function(g){for(var A=4+w0(g),R=g.subarray(A),T=0,x=0,k=!1,G;x<R.byteLength-3;x++)if(R[x+2]===1){T=x+5;break}for(;T<R.byteLength;)switch(R[T]){case 0:if(R[T-1]!==0){T+=2;break}else if(R[T-2]!==0){T++;break}x+3!==T-2&&(G=Ky(R[x+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(k=!0));do T++;while(R[T]!==1&&T<R.length);x=T-2,T+=3;break;case 1:if(R[T-1]!==0||R[T-2]!==0){T+=3;break}G=Ky(R[x+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(k=!0),x=T-2,T+=3;break;default:T+=3;break}return R=R.subarray(x),T-=x,x=0,R&&R.byteLength>3&&(G=Ky(R[x+3]&31),G==="slice_layer_without_partitioning_rbsp_idr"&&(k=!0)),k},vK={parseType:fK,parsePat:pK,parsePmt:mK,parsePayloadUnitStartIndicator:I0,parsePesType:gK,parsePesTime:yK,videoPacketContainsKeyFrame:bK},yC=l0,wc=FR.handleRollover,_t={};_t.ts=vK,_t.aac=Dy;var ul=U.ONE_SECOND_IN_TS,wi=188,vs=71,EK=function(g,A){for(var R=0,T=wi,x,k;T<g.byteLength;){if(g[R]===vs&&g[T]===vs){switch(x=g.subarray(R,T),k=_t.ts.parseType(x,A.pid),k){case"pat":A.pid=_t.ts.parsePat(x);break;case"pmt":var G=_t.ts.parsePmt(x);A.table=A.table||{},Object.keys(G).forEach(function(X){A.table[X]=G[X]});break}R+=wi,T+=wi;continue}R++,T++}},bC=function(g,A,R){for(var T=0,x=wi,k,G,X,P,j,ee=!1;x<=g.byteLength;){if(g[T]===vs&&(g[x]===vs||x===g.byteLength)){switch(k=g.subarray(T,x),G=_t.ts.parseType(k,A.pid),G){case"pes":X=_t.ts.parsePesType(k,A.table),P=_t.ts.parsePayloadUnitStartIndicator(k),X==="audio"&&P&&(j=_t.ts.parsePesTime(k),j&&(j.type="audio",R.audio.push(j),ee=!0));break}if(ee)break;T+=wi,x+=wi;continue}T++,x++}for(x=g.byteLength,T=x-wi,ee=!1;T>=0;){if(g[T]===vs&&(g[x]===vs||x===g.byteLength)){switch(k=g.subarray(T,x),G=_t.ts.parseType(k,A.pid),G){case"pes":X=_t.ts.parsePesType(k,A.table),P=_t.ts.parsePayloadUnitStartIndicator(k),X==="audio"&&P&&(j=_t.ts.parsePesTime(k),j&&(j.type="audio",R.audio.push(j),ee=!0));break}if(ee)break;T-=wi,x-=wi;continue}T--,x--}},AK=function(g,A,R){for(var T=0,x=wi,k,G,X,P,j,ee,Ae,Ze,Ce=!1,je={data:[],size:0};x<g.byteLength;){if(g[T]===vs&&g[x]===vs){switch(k=g.subarray(T,x),G=_t.ts.parseType(k,A.pid),G){case"pes":if(X=_t.ts.parsePesType(k,A.table),P=_t.ts.parsePayloadUnitStartIndicator(k),X==="video"&&(P&&!Ce&&(j=_t.ts.parsePesTime(k),j&&(j.type="video",R.video.push(j),Ce=!0)),!R.firstKeyFrame)){if(P&&je.size!==0){for(ee=new Uint8Array(je.size),Ae=0;je.data.length;)Ze=je.data.shift(),ee.set(Ze,Ae),Ae+=Ze.byteLength;if(_t.ts.videoPacketContainsKeyFrame(ee)){var lt=_t.ts.parsePesTime(ee);lt?(R.firstKeyFrame=lt,R.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}je.size=0}je.data.push(k),je.size+=k.byteLength}break}if(Ce&&R.firstKeyFrame)break;T+=wi,x+=wi;continue}T++,x++}for(x=g.byteLength,T=x-wi,Ce=!1;T>=0;){if(g[T]===vs&&g[x]===vs){switch(k=g.subarray(T,x),G=_t.ts.parseType(k,A.pid),G){case"pes":X=_t.ts.parsePesType(k,A.table),P=_t.ts.parsePayloadUnitStartIndicator(k),X==="video"&&P&&(j=_t.ts.parsePesTime(k),j&&(j.type="video",R.video.push(j),Ce=!0));break}if(Ce)break;T-=wi,x-=wi;continue}T--,x--}},SK=function(g,A){if(g.audio&&g.audio.length){var R=A;(typeof R>"u"||isNaN(R))&&(R=g.audio[0].dts),g.audio.forEach(function(k){k.dts=wc(k.dts,R),k.pts=wc(k.pts,R),k.dtsTime=k.dts/ul,k.ptsTime=k.pts/ul})}if(g.video&&g.video.length){var T=A;if((typeof T>"u"||isNaN(T))&&(T=g.video[0].dts),g.video.forEach(function(k){k.dts=wc(k.dts,T),k.pts=wc(k.pts,T),k.dtsTime=k.dts/ul,k.ptsTime=k.pts/ul}),g.firstKeyFrame){var x=g.firstKeyFrame;x.dts=wc(x.dts,T),x.pts=wc(x.pts,T),x.dtsTime=x.dts/ul,x.ptsTime=x.pts/ul}}},TK=function(g){for(var A=!1,R=0,T=null,x=null,k=0,G=0,X;g.length-G>=3;){var P=_t.aac.parseType(g,G);switch(P){case"timed-metadata":if(g.length-G<10){A=!0;break}if(k=_t.aac.parseId3TagSize(g,G),k>g.length){A=!0;break}x===null&&(X=g.subarray(G,G+k),x=_t.aac.parseAacTimestamp(X)),G+=k;break;case"audio":if(g.length-G<7){A=!0;break}if(k=_t.aac.parseAdtsSize(g,G),k>g.length){A=!0;break}T===null&&(X=g.subarray(G,G+k),T=_t.aac.parseSampleRate(X)),R++,G+=k;break;default:G++;break}if(A)return null}if(T===null||x===null)return null;var j=ul/T,ee={audio:[{type:"audio",dts:x,pts:x},{type:"audio",dts:x+R*1024*j,pts:x+R*1024*j}]};return ee},RK=function(g){var A={pid:null,table:null},R={};EK(g,A);for(var T in A.table)if(A.table.hasOwnProperty(T)){var x=A.table[T];switch(x){case yC.H264_STREAM_TYPE:R.video=[],AK(g,A,R),R.video.length===0&&delete R.video;break;case yC.ADTS_STREAM_TYPE:R.audio=[],bC(g,A,R),R.audio.length===0&&delete R.audio;break}}return R},CK=function(g,A){var R=_t.aac.isLikelyAacData(g),T;return R?T=TK(g):T=RK(g),!T||!T.audio&&!T.video?null:(SK(T,A),T)},IK={inspect:CK,parseAudioPes_:bC};const wK=function(g,A){A.on("data",function(R){const T=R.initSegment;R.initSegment={data:T.buffer,byteOffset:T.byteOffset,byteLength:T.byteLength};const x=R.data;R.data=x.buffer,g.postMessage({action:"data",segment:R,byteOffset:x.byteOffset,byteLength:x.byteLength},[R.data])}),A.on("done",function(R){g.postMessage({action:"done"})}),A.on("gopInfo",function(R){g.postMessage({action:"gopInfo",gopInfo:R})}),A.on("videoSegmentTimingInfo",function(R){const T={start:{decode:U.videoTsToSeconds(R.start.dts),presentation:U.videoTsToSeconds(R.start.pts)},end:{decode:U.videoTsToSeconds(R.end.dts),presentation:U.videoTsToSeconds(R.end.pts)},baseMediaDecodeTime:U.videoTsToSeconds(R.baseMediaDecodeTime)};R.prependedContentDuration&&(T.prependedContentDuration=U.videoTsToSeconds(R.prependedContentDuration)),g.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:T})}),A.on("audioSegmentTimingInfo",function(R){const T={start:{decode:U.videoTsToSeconds(R.start.dts),presentation:U.videoTsToSeconds(R.start.pts)},end:{decode:U.videoTsToSeconds(R.end.dts),presentation:U.videoTsToSeconds(R.end.pts)},baseMediaDecodeTime:U.videoTsToSeconds(R.baseMediaDecodeTime)};R.prependedContentDuration&&(T.prependedContentDuration=U.videoTsToSeconds(R.prependedContentDuration)),g.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:T})}),A.on("id3Frame",function(R){g.postMessage({action:"id3Frame",id3Frame:R})}),A.on("caption",function(R){g.postMessage({action:"caption",caption:R})}),A.on("trackinfo",function(R){g.postMessage({action:"trackinfo",trackInfo:R})}),A.on("audioTimingInfo",function(R){g.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:U.videoTsToSeconds(R.start),end:U.videoTsToSeconds(R.end)}})}),A.on("videoTimingInfo",function(R){g.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:U.videoTsToSeconds(R.start),end:U.videoTsToSeconds(R.end)}})}),A.on("log",function(R){g.postMessage({action:"log",log:R})})};class vC{constructor(A,R){this.options=R||{},this.self=A,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Tj.Transmuxer(this.options),wK(this.self,this.transmuxer)}pushMp4Captions(A){this.captionParser||(this.captionParser=new lK,this.captionParser.init());const R=new Uint8Array(A.data,A.byteOffset,A.byteLength),T=this.captionParser.parse(R,A.trackIds,A.timescales);this.self.postMessage({action:"mp4Captions",captions:T&&T.captions||[],logs:T&&T.logs||[],data:R.buffer},[R.buffer])}initMp4WebVttParser(A){this.webVttParser||(this.webVttParser=new mC);const R=new Uint8Array(A.data,A.byteOffset,A.byteLength);this.webVttParser.init(R)}getMp4WebVttText(A){this.webVttParser||(this.webVttParser=new mC);const R=new Uint8Array(A.data,A.byteOffset,A.byteLength),T=this.webVttParser.parseSegment(R);this.self.postMessage({action:"getMp4WebVttText",mp4VttCues:T||[],data:R.buffer},[R.buffer])}probeMp4StartTime({timescales:A,data:R}){const T=gh.startTime(A,R);this.self.postMessage({action:"probeMp4StartTime",startTime:T,data:R},[R.buffer])}probeMp4Tracks({data:A}){const R=gh.tracks(A);this.self.postMessage({action:"probeMp4Tracks",tracks:R,data:A},[A.buffer])}probeEmsgID3({data:A,offset:R}){const T=gh.getEmsgID3(A,R);this.self.postMessage({action:"probeEmsgID3",id3Frames:T,emsgData:A},[A.buffer])}probeTs({data:A,baseStartTime:R}){const T=typeof R=="number"&&!isNaN(R)?R*U.ONE_SECOND_IN_TS:void 0,x=IK.inspect(A,T);let k=null;x&&(k={hasVideo:x.video&&x.video.length===2||!1,hasAudio:x.audio&&x.audio.length===2||!1},k.hasVideo&&(k.videoStart=x.video[0].ptsTime),k.hasAudio&&(k.audioStart=x.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:k,data:A},[A.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(A){const R=new Uint8Array(A.data,A.byteOffset,A.byteLength);this.transmuxer.push(R)}reset(){this.transmuxer.reset()}setTimestampOffset(A){const R=A.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(U.secondsToVideoTs(R)))}setAudioAppendStart(A){this.transmuxer.setAudioAppendStart(Math.ceil(U.secondsToVideoTs(A.appendStart)))}setRemux(A){this.transmuxer.setRemux(A.remux)}flush(A){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(A){this.transmuxer.alignGopsWith(A.gopsToAlignWith.slice())}}self.onmessage=function(g){if(g.data.action==="init"&&g.data.options){this.messageHandlers=new vC(self,g.data.options);return}this.messageHandlers||(this.messageHandlers=new vC(self)),g.data&&g.data.action&&g.data.action!=="init"&&this.messageHandlers[g.data.action]&&this.messageHandlers[g.data.action](g.data)}}));var sRe=ZM(rRe);const aRe=(t,e,n)=>{const{type:i,initSegment:r,captions:s,captionStreams:a,metadata:o,videoFrameDtsTime:l,videoFramePtsTime:c}=t.data.segment;e.buffer.push({captions:s,captionStreams:a,metadata:o});const u=t.data.segment.boxes||{data:t.data.segment.data},d={type:i,data:new Uint8Array(u.data,u.data.byteOffset,u.data.byteLength),initSegment:new Uint8Array(r.data,r.byteOffset,r.byteLength)};typeof l<"u"&&(d.videoFrameDtsTime=l),typeof c<"u"&&(d.videoFramePtsTime=c),n(d)},oRe=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},lRe=(t,e)=>{e.gopInfo=t.data.gopInfo},XM=t=>{const{transmuxer:e,bytes:n,audioAppendStart:i,gopsToAlignWith:r,remux:s,onData:a,onTrackInfo:o,onAudioTimingInfo:l,onVideoTimingInfo:c,onVideoSegmentTimingInfo:u,onAudioSegmentTimingInfo:d,onId3:f,onCaptions:h,onDone:m,onEndedTimeline:p,onTransmuxerLog:v,isEndOfTimeline:y,segment:E,triggerSegmentEventFn:S}=t,I={buffer:[]};let w=y;const N=W=>{e.currentTransmux===t&&(W.data.action==="data"&&aRe(W,I,a),W.data.action==="trackinfo"&&o(W.data.trackInfo),W.data.action==="gopInfo"&&lRe(W,I),W.data.action==="audioTimingInfo"&&l(W.data.audioTimingInfo),W.data.action==="videoTimingInfo"&&c(W.data.videoTimingInfo),W.data.action==="videoSegmentTimingInfo"&&u(W.data.videoSegmentTimingInfo),W.data.action==="audioSegmentTimingInfo"&&d(W.data.audioSegmentTimingInfo),W.data.action==="id3Frame"&&f([W.data.id3Frame],W.data.id3Frame.dispatchType),W.data.action==="caption"&&h(W.data.caption),W.data.action==="endedtimeline"&&(w=!1,p()),W.data.action==="log"&&v(W.data.log),W.data.type==="transmuxed"&&(w||(e.onmessage=null,oRe({transmuxedData:I,callback:m}),MM(e))))},F=()=>{const W={message:"Received an error message from the transmuxer worker",metadata:{errorType:ue.Error.StreamingFailedToTransmuxSegment,segmentInfo:Vl({segment:E})}};m(null,W)};if(e.onmessage=N,e.onerror=F,i&&e.postMessage({action:"setAudioAppendStart",appendStart:i}),Array.isArray(r)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:r}),typeof s<"u"&&e.postMessage({action:"setRemux",remux:s}),n.byteLength){const W=n instanceof ArrayBuffer?n:n.buffer,Z=n instanceof ArrayBuffer?0:n.byteOffset;S({type:"segmenttransmuxingstart",segment:E}),e.postMessage({action:"push",data:W,byteOffset:Z,byteLength:n.byteLength},[W])}y&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},MM=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():XM(t.currentTransmux))},tk=(t,e)=>{t.postMessage({action:e}),MM(t)},PM=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,tk(e,t);return}e.transmuxQueue.push(tk.bind(null,e,t))},cRe=t=>{PM("reset",t)},uRe=t=>{PM("endTimeline",t)},YM=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,XM(t);return}t.transmuxer.transmuxQueue.push(t)},dRe=t=>{const e=new sRe;e.currentTransmux=null,e.transmuxQueue=[];const n=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,n.call(e)),e.postMessage({action:"init",options:t}),e};var J5={reset:cRe,endTimeline:uRe,transmux:YM,createTransmuxer:dRe};const Du=function(t){const e=t.transmuxer,n=t.endAction||t.action,i=t.callback,r=xn({},t,{endAction:null,transmuxer:null,callback:null}),s=a=>{a.data.action===n&&(e.removeEventListener("message",s),a.data.data&&(a.data.data=new Uint8Array(a.data.data,t.byteOffset||0,t.byteLength||a.data.data.byteLength),t.data&&(t.data=a.data.data)),i(a.data))};if(e.addEventListener("message",s),t.data){const a=t.data instanceof ArrayBuffer;r.byteOffset=a?0:t.data.byteOffset,r.byteLength=t.data.byteLength;const o=[a?t.data:t.data.buffer];e.postMessage(r,o)}else e.postMessage(r)},js={FAILURE:2,TIMEOUT:-101,ABORTED:-102},$M="wvtt",O4=t=>{t.forEach(e=>{e.abort()})},hRe=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),fRe=t=>{const e=t.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},L8=(t,e)=>{const{requestType:n}=e,i=ec({requestType:n,request:e,error:t});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:js.TIMEOUT,xhr:e,metadata:i}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:js.ABORTED,xhr:e,metadata:i}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:js.FAILURE,xhr:e,metadata:i}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:js.FAILURE,xhr:e,metadata:i}:null},nk=(t,e,n,i)=>(r,s)=>{const a=s.response,o=L8(r,s);if(o)return n(o,t);if(a.byteLength!==16)return n({status:s.status,message:"Invalid HLS key at URL: "+s.uri,code:js.FAILURE,xhr:s},t);const l=new DataView(a),c=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let d=0;d<e.length;d++)e[d].bytes=c;const u={uri:s.uri};return i({type:"segmentkeyloadcomplete",segment:t,keyInfo:u}),n(null,t)},pRe=(t,e)=>{e===$M&&t.transmuxer.postMessage({action:"initMp4WebVttParser",data:t.map.bytes})},mRe=(t,e,n)=>{e===$M&&Du({action:"getMp4WebVttText",data:t.bytes,transmuxer:t.transmuxer,callback:({data:i,mp4VttCues:r})=>{t.bytes=i,n(null,t,{mp4VttCues:r})}})},jM=(t,e)=>{const n=r8(t.map.bytes);if(n!=="mp4"){const i=t.map.resolvedUri||t.map.uri,r=n||"unknown";return e({internal:!0,message:`Found unsupported ${r} container for initialization segment at URL: ${i}`,code:js.FAILURE,metadata:{mediaType:r}})}Du({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:i,data:r})=>(t.map.bytes=r,i.forEach(function(s){t.map.tracks=t.map.tracks||{},!t.map.tracks[s.type]&&(t.map.tracks[s.type]=s,typeof s.id=="number"&&s.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[s.id]=s.timescale),s.type==="text"&&pRe(t,s.codec))}),e(null))})},gRe=({segment:t,finishProcessingFn:e,triggerSegmentEventFn:n})=>(i,r)=>{const s=L8(i,r);if(s)return e(s,t);const a=new Uint8Array(r.response);if(n({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=a,e(null,t);t.map.bytes=a,jM(t,function(o){if(o)return o.xhr=r,o.status=r.status,e(o,t);e(null,t)})},yRe=({segment:t,finishProcessingFn:e,responseType:n,triggerSegmentEventFn:i})=>(r,s)=>{const a=L8(r,s);if(a)return e(a,t);i({type:"segmentloaded",segment:t});const o=n==="arraybuffer"||!s.responseText?s.response:nRe(s.responseText.substring(t.lastReachedChar||0));return t.stats=hRe(s),t.key?t.encryptedBytes=new Uint8Array(o):t.bytes=new Uint8Array(o),e(null,t)},bRe=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:h})=>{const m=t.map&&t.map.tracks||{},p=!!(m.audio&&m.video);let v=i.bind(null,t,"audio","start");const y=i.bind(null,t,"audio","end");let E=i.bind(null,t,"video","start");const S=i.bind(null,t,"video","end"),I=()=>YM({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:p,onData:w=>{w.type=w.type==="combined"?"video":w.type,u(t,w)},onTrackInfo:w=>{n&&(p&&(w.isMuxed=!0),n(t,w))},onAudioTimingInfo:w=>{v&&typeof w.start<"u"&&(v(w.start),v=null),y&&typeof w.end<"u"&&y(w.end)},onVideoTimingInfo:w=>{E&&typeof w.start<"u"&&(E(w.start),E=null),S&&typeof w.end<"u"&&S(w.end)},onVideoSegmentTimingInfo:w=>{const N={pts:{start:w.start.presentation,end:w.end.presentation},dts:{start:w.start.decode,end:w.end.decode}};h({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:N}),r(w)},onAudioSegmentTimingInfo:w=>{const N={pts:{start:w.start.pts,end:w.end.pts},dts:{start:w.start.dts,end:w.end.dts}};h({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:N}),s(w)},onId3:(w,N)=>{a(t,w,N)},onCaptions:w=>{o(t,[w])},isEndOfTimeline:l,onEndedTimeline:()=>{c()},onTransmuxerLog:f,onDone:(w,N)=>{d&&(w.type=w.type==="combined"?"video":w.type,h({type:"segmenttransmuxingcomplete",segment:t}),d(N,t,w))},segment:t,triggerSegmentEventFn:h});Du({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:w=>{t.bytes=e=w.data;const N=w.result;N&&(n(t,{hasAudio:N.hasAudio,hasVideo:N.hasVideo,isMuxed:p}),n=null),I()}})},KM=({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:h})=>{let m=new Uint8Array(e);if(Z9e(m)){t.isFmp4=!0;const{tracks:p}=t.map;if(p.text&&(!p.audio||!p.video)){u(t,{data:m,type:"text"}),mRe(t,p.text.codec,d);return}const v={isFmp4:!0,hasVideo:!!p.video,hasAudio:!!p.audio};p.audio&&p.audio.codec&&p.audio.codec!=="enca"&&(v.audioCodec=p.audio.codec),p.video&&p.video.codec&&p.video.codec!=="encv"&&(v.videoCodec=p.video.codec),p.video&&p.audio&&(v.isMuxed=!0),n(t,v);const y=(E,S)=>{u(t,{data:m,type:v.hasAudio&&!v.isMuxed?"audio":"video"}),S&&S.length&&a(t,S),E&&E.length&&o(t,E),d(null,t,{})};Du({action:"probeMp4StartTime",timescales:t.map.timescales,data:m,transmuxer:t.transmuxer,callback:({data:E,startTime:S})=>{e=E.buffer,t.bytes=m=E,v.hasAudio&&!v.isMuxed&&i(t,"audio","start",S),v.hasVideo&&i(t,"video","start",S),Du({action:"probeEmsgID3",data:m,transmuxer:t.transmuxer,offset:S,callback:({emsgData:I,id3Frames:w})=>{if(e=I.buffer,t.bytes=m=I,!p.video||!I.byteLength||!t.transmuxer){y(void 0,w);return}Du({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:m,timescales:t.map.timescales,trackIds:[p.video.id],callback:N=>{e=N.data.buffer,t.bytes=m=N.data,N.logs.forEach(function(F){f(wt(F,{stream:"mp4CaptionParser"}))}),y(N.captions,w)}})}})}});return}if(!t.transmuxer){d(null,t,{});return}if(typeof t.container>"u"&&(t.container=r8(m)),t.container!=="ts"&&t.container!=="aac"){n(t,{hasAudio:!1,hasVideo:!1}),d(null,t,{});return}bRe({segment:t,bytes:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:h})},zM=function({id:t,key:e,encryptedBytes:n,decryptionWorker:i,segment:r,doneFn:s},a){const o=c=>{if(c.data.source===t){i.removeEventListener("message",o);const u=c.data.decrypted;a(new Uint8Array(u.bytes,u.byteOffset,u.byteLength))}};i.onerror=()=>{const c="An error occurred in the decryption worker",u=Vl({segment:r}),d={message:c,metadata:{error:new Error(c),errorType:ue.Error.StreamingFailedToDecryptSegment,segmentInfo:u,keyInfo:{uri:r.key.resolvedUri||r.map.key.resolvedUri}}};s(d,r)},i.addEventListener("message",o);let l;e.bytes.slice?l=e.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(e.bytes)),i.postMessage(FM({source:t,encrypted:n,key:l,iv:e.iv}),[n.buffer,l.buffer])},vRe=({decryptionWorker:t,segment:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:h})=>{h({type:"segmentdecryptionstart"}),zM({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t,segment:e,doneFn:d},m=>{e.bytes=m,h({type:"segmentdecryptioncomplete",segment:e}),KM({segment:e,bytes:e.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:h})})},ERe=({activeXhrs:t,decryptionWorker:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:h})=>{let m=0,p=!1;return(v,y)=>{if(!p){if(v)return p=!0,O4(t),d(v,y);if(m+=1,m===t.length){const E=function(){if(y.encryptedBytes)return vRe({decryptionWorker:e,segment:y,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:h});KM({segment:y,bytes:y.bytes,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:f,triggerSegmentEventFn:h})};if(y.endOfAllRequests=Date.now(),y.map&&y.map.encryptedBytes&&!y.map.bytes)return h({type:"segmentdecryptionstart",segment:y}),zM({decryptionWorker:e,id:y.requestId+"-init",encryptedBytes:y.map.encryptedBytes,key:y.map.key,segment:y,doneFn:d},S=>{y.map.bytes=S,h({type:"segmentdecryptioncomplete",segment:y}),jM(y,I=>{if(I)return O4(t),d(I,y);E()})});E()}}}},ARe=({loadendState:t,abortFn:e})=>n=>{n.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},SRe=({segment:t,progressFn:e,trackInfoFn:n,timingInfoFn:i,videoSegmentTimingInfoFn:r,audioSegmentTimingInfoFn:s,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u})=>d=>{if(!d.target.aborted)return t.stats=wt(t.stats,fRe(d)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(d,t)},TRe=({xhr:t,xhrOptions:e,decryptionWorker:n,segment:i,abortFn:r,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:u,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:h,dataFn:m,doneFn:p,onTransmuxerLog:v,triggerSegmentEventFn:y})=>{const E=[],S=ERe({activeXhrs:E,decryptionWorker:n,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:u,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:h,dataFn:m,doneFn:p,onTransmuxerLog:v,triggerSegmentEventFn:y});if(i.key&&!i.key.bytes){const W=[i.key];i.map&&!i.map.bytes&&i.map.key&&i.map.key.resolvedUri===i.key.resolvedUri&&W.push(i.map.key);const Z=wt(e,{uri:i.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),O=nk(i,W,S,y),K={uri:i.key.resolvedUri};y({type:"segmentkeyloadstart",segment:i,keyInfo:K});const fe=t(Z,O);E.push(fe)}if(i.map&&!i.map.bytes){if(i.map.key&&(!i.key||i.key.resolvedUri!==i.map.key.resolvedUri)){const K=wt(e,{uri:i.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),fe=nk(i,[i.map.key],S,y),z={uri:i.map.key.resolvedUri};y({type:"segmentkeyloadstart",segment:i,keyInfo:z});const pe=t(K,fe);E.push(pe)}const W=wt(e,{uri:i.map.resolvedUri,responseType:"arraybuffer",headers:Z4(i.map),requestType:"segment-media-initialization"}),Z=gRe({segment:i,finishProcessingFn:S,triggerSegmentEventFn:y});y({type:"segmentloadstart",segment:i});const O=t(W,Z);E.push(O)}const I=wt(e,{uri:i.part&&i.part.resolvedUri||i.resolvedUri,responseType:"arraybuffer",headers:Z4(i),requestType:"segment"}),w=yRe({segment:i,finishProcessingFn:S,responseType:I.responseType,triggerSegmentEventFn:y});y({type:"segmentloadstart",segment:i});const N=t(I,w);N.addEventListener("progress",SRe({segment:i,progressFn:s,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:u,captionsFn:d,isEndOfTimeline:f,endedTimelineFn:h,dataFn:m})),E.push(N);const F={};return E.forEach(W=>{W.addEventListener("loadend",ARe({loadendState:F,abortFn:r}))}),()=>O4(E)},RRe=jr("CodecUtils"),CRe=function(t){const e=t.attributes||{};if(e.CODECS)return ks(e.CODECS)},JM=(t,e)=>{const n=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&n.AUDIO&&t.mediaGroups.AUDIO[n.AUDIO]},IRe=(t,e)=>{if(!JM(t,e))return!0;const n=e.attributes||{},i=t.mediaGroups.AUDIO[n.AUDIO];for(const r in i)if(!i[r].uri&&!i[r].playlists)return!0;return!1},Yg=function(t){const e={};return t.forEach(({mediaType:n,type:i,details:r})=>{e[n]=e[n]||[],e[n].push(BO(`${i}${r}`))}),Object.keys(e).forEach(function(n){if(e[n].length>1){RRe(`multiple ${n} codecs found as attributes: ${e[n].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[n]=null;return}e[n]=e[n][0]}),e},ik=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},If=function(t,e){const n=e.attributes||{},i=Yg(CRe(e)||[]);if(JM(t,e)&&!i.audio&&!IRe(t,e)){const r=Yg(pSe(t,n.AUDIO)||[]);r.audio&&(i.audio=r.audio)}return i},p1=jr("PlaylistSelector"),rk=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},$g=function(t,e){if(!t)return"";const n=$.getComputedStyle(t);return n?n[e]:""},Ou=function(t,e){const n=t.slice();t.sort(function(i,r){const s=e(i,r);return s===0?n.indexOf(i)-n.indexOf(r):s})},U8=function(t,e){let n,i;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||$.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(i=e.attributes.BANDWIDTH),i=i||$.Number.MAX_VALUE,n-i},wRe=function(t,e){let n,i;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||$.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(i=e.attributes.RESOLUTION.width),i=i||$.Number.MAX_VALUE,n===i&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:n-i};let HM=function(t,e,n,i,r,s){if(!t)return;const a={bandwidth:e,width:n,height:i,limitRenditionByPlayerDimensions:r};let o=t.playlists;Ji.isAudioOnly(t)&&(o=s.getAudioTrackPlaylists_(),a.audioOnly=!0);let l=o.map(w=>{let N;const F=w.attributes&&w.attributes.RESOLUTION&&w.attributes.RESOLUTION.width,W=w.attributes&&w.attributes.RESOLUTION&&w.attributes.RESOLUTION.height;return N=w.attributes&&w.attributes.BANDWIDTH,N=N||$.Number.MAX_VALUE,{bandwidth:N,width:F,height:W,playlist:w}});Ou(l,(w,N)=>w.bandwidth-N.bandwidth),l=l.filter(w=>!Ji.isIncompatible(w.playlist));let c=l.filter(w=>Ji.isEnabled(w.playlist));c.length||(c=l.filter(w=>!Ji.isDisabled(w.playlist)));const u=c.filter(w=>w.bandwidth*zn.BANDWIDTH_VARIANCE<e);let d=u[u.length-1];const f=u.filter(w=>w.bandwidth===d.bandwidth)[0];if(r===!1){const w=f||c[0]||l[0];if(w&&w.playlist){let N="sortedPlaylistReps";return f&&(N="bandwidthBestRep"),c[0]&&(N="enabledPlaylistReps"),p1(`choosing ${rk(w)} using ${N} with options`,a),w.playlist}return p1("could not choose a playlist with options",a),null}const h=u.filter(w=>w.width&&w.height);Ou(h,(w,N)=>w.width-N.width);const m=h.filter(w=>w.width===n&&w.height===i);d=m[m.length-1];const p=m.filter(w=>w.bandwidth===d.bandwidth)[0];let v,y,E;p||(v=h.filter(w=>w.width>n||w.height>i),y=v.filter(w=>w.width===v[0].width&&w.height===v[0].height),d=y[y.length-1],E=y.filter(w=>w.bandwidth===d.bandwidth)[0]);let S;if(s.leastPixelDiffSelector){const w=h.map(N=>(N.pixelDiff=Math.abs(N.width-n)+Math.abs(N.height-i),N));Ou(w,(N,F)=>N.pixelDiff===F.pixelDiff?F.bandwidth-N.bandwidth:N.pixelDiff-F.pixelDiff),S=w[0]}const I=S||E||p||f||c[0]||l[0];if(I&&I.playlist){let w="sortedPlaylistReps";return S?w="leastPixelDiffRep":E?w="resolutionPlusOneRep":p?w="resolutionBestRep":f?w="bandwidthBestRep":c[0]&&(w="enabledPlaylistReps"),p1(`choosing ${rk(I)} using ${w} with options`,a),I.playlist}return p1("could not choose a playlist with options",a),null};const sk=function(){let t=this.useDevicePixelRatio&&$.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),HM(this.playlists.main,this.systemBandwidth,parseInt($g(this.tech_.el(),"width"),10)*t,parseInt($g(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},xRe=function(t){let e=-1,n=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let i=this.useDevicePixelRatio&&$.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(i=this.customPixelRatio),e<0&&(e=this.systemBandwidth,n=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==n&&(e=t*this.systemBandwidth+(1-t)*e,n=this.systemBandwidth),HM(this.playlists.main,e,parseInt($g(this.tech_.el(),"width"),10)*i,parseInt($g(this.tech_.el(),"height"),10)*i,this.limitRenditionByPlayerDimensions,this.playlistController_)}},VRe=function(t){const{main:e,currentTime:n,bandwidth:i,duration:r,segmentDuration:s,timeUntilRebuffer:a,currentTimeline:o,syncController:l}=t,c=e.playlists.filter(h=>!Ji.isIncompatible(h));let u=c.filter(Ji.isEnabled);u.length||(u=c.filter(h=>!Ji.isDisabled(h)));const d=u.filter(Ji.hasAttribute.bind(null,"BANDWIDTH")).map(h=>{const m=l.getSyncPoint(h,r,o,n)?1:2,p=Ji.estimateSegmentRequestTime(s,i,h)*m-a;return{playlist:h,rebufferingImpact:p}}),f=d.filter(h=>h.rebufferingImpact<=0);return Ou(f,(h,m)=>U8(m.playlist,h.playlist)),f.length?f[0]:(Ou(d,(h,m)=>h.rebufferingImpact-m.rebufferingImpact),d[0]||null)},NRe=function(){const t=this.playlists.main.playlists.filter(Ji.isEnabled);return Ou(t,(e,n)=>U8(e,n)),t.filter(e=>!!If(this.playlists.main,e).video)[0]||null},_Re=t=>{let e=0,n;return t.bytes&&(n=new Uint8Array(t.bytes),t.segments.forEach(i=>{n.set(i,e),e+=i.byteLength})),n};function QM(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const kRe=function(t,e,n){if(!t[n]){e.trigger({type:"usage",name:"vhs-608"});let i=n;/^cc708_/.test(n)&&(i="SERVICE"+n.split("_")[1]);const r=e.textTracks().getTrackById(i);if(r)t[n]=r;else{const s=e.options_.vhs&&e.options_.vhs.captionServices||{};let a=n,o=n,l=!1;const c=s[i];c&&(a=c.label,o=c.language,l=c.default),t[n]=e.addRemoteTextTrack({kind:"captions",id:i,default:l,label:a,language:o},!1).track}}},FRe=function({inbandTextTracks:t,captionArray:e,timestampOffset:n}){if(!e)return;const i=$.WebKitDataCue||$.VTTCue;e.forEach(r=>{const s=r.stream;r.content?r.content.forEach(a=>{const o=new i(r.startTime+n,r.endTime+n,a.text);o.line=a.line,o.align="left",o.position=a.position,o.positionAlign="line-left",t[s].addCue(o)}):t[s].addCue(new i(r.startTime+n,r.endTime+n,r.text))})},LRe=function(t){Object.defineProperties(t.frame,{id:{get(){return ue.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return ue.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return ue.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},URe=({inbandTextTracks:t,metadataArray:e,timestampOffset:n,videoDuration:i})=>{if(!e)return;const r=$.WebKitDataCue||$.VTTCue,s=t.metadataTrack_;if(!s||(e.forEach(u=>{const d=u.cueTime+n;typeof d!="number"||$.isNaN(d)||d<0||!(d<1/0)||!u.frames||!u.frames.length||u.frames.forEach(f=>{const h=new r(d,d,f.value||f.url||f.data||"");h.frame=f,h.value=f,LRe(h),s.addCue(h)})}),!s.cues||!s.cues.length))return;const a=s.cues,o=[];for(let u=0;u<a.length;u++)a[u]&&o.push(a[u]);const l=o.reduce((u,d)=>{const f=u[d.startTime]||[];return f.push(d),u[d.startTime]=f,u},{}),c=Object.keys(l).sort((u,d)=>Number(u)-Number(d));c.forEach((u,d)=>{const f=l[u],h=isFinite(i)?i:u,m=Number(c[d+1])||h;f.forEach(p=>{p.endTime=m})})},BRe={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},WRe=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),GRe=({inbandTextTracks:t,dateRanges:e})=>{const n=t.metadataTrack_;if(!n)return;const i=$.WebKitDataCue||$.VTTCue;e.forEach(r=>{for(const s of Object.keys(r)){if(WRe.has(s))continue;const a=new i(r.startTime,r.endTime,"");a.id=r.id,a.type="com.apple.quicktime.HLS",a.value={key:BRe[s],data:r[s]},(s==="scte35Out"||s==="scte35In")&&(a.value.data=new Uint8Array(a.value.data.match(/[\da-f]{2}/gi)).buffer),n.addCue(a)}r.processDateRange()})},ak=(t,e,n)=>{t.metadataTrack_||(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,ue.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},af=function(t,e,n){let i,r;if(n&&n.cues)for(i=n.cues.length;i--;)r=n.cues[i],r.startTime>=t&&r.endTime<=e&&n.removeCue(r)},ZRe=function(t){const e=t.cues;if(!e)return;const n={};for(let i=e.length-1;i>=0;i--){const r=e[i],s=`${r.startTime}-${r.endTime}-${r.text}`;n[s]?t.removeCue(r):n[s]=r}},DRe=(t,e,n)=>{if(typeof e>"u"||e===null||!t.length)return[];const i=Math.ceil((e-n+3)*Wl.ONE_SECOND_IN_TS);let r;for(r=0;r<t.length&&!(t[r].pts>i);r++);return t.slice(r)},ORe=(t,e,n)=>{if(!e.length)return t;if(n)return e.slice();const i=e[0].pts;let r=0;for(r;r<t.length&&!(t[r].pts>=i);r++);return t.slice(0,r).concat(e)},XRe=(t,e,n,i)=>{const r=Math.ceil((e-i)*Wl.ONE_SECOND_IN_TS),s=Math.ceil((n-i)*Wl.ONE_SECOND_IN_TS),a=t.slice();let o=t.length;for(;o--&&!(t[o].pts<=s););if(o===-1)return a;let l=o+1;for(;l--&&!(t[l].pts<=r););return l=Math.max(l,0),a.splice(l,o-l+1),a},MRe=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const n=Object.keys(t).sort(),i=Object.keys(e).sort();if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++){const s=n[r];if(s!==i[r]||t[s]!==e[s])return!1}return!0},PRe=function(t,e,n){e=e||[];const i=[];let r=0;for(let s=0;s<e.length;s++){const a=e[s];if(t===a.timeline&&(i.push(s),r+=a.duration,r>n))return s}return i.length===0?0:i[i.length-1]},Gh=1,YRe=500,ok=t=>typeof t=="number"&&isFinite(t),m1=1/60,$Re=(t,e,n)=>t!=="main"||!e||!n?null:!n.hasAudio&&!n.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!n.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&n.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,jRe=(t,e,n)=>{let i=e-zn.BACK_BUFFER_LENGTH;t.length&&(i=Math.max(i,t.start(0)));const r=e-n;return Math.min(r,i)},Pc=t=>{const{startOfSegment:e,duration:n,segment:i,part:r,playlist:{mediaSequence:s,id:a,segments:o=[]},mediaIndex:l,partIndex:c,timeline:u}=t,d=o.length-1;let f="mediaIndex/partIndex increment";t.getMediaInfoForTime?f=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(f="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(f+=` with independent ${t.independent}`);const h=typeof c=="number",m=t.segment.uri?"segment":"pre-segment",p=h?yM({preloadSegment:i})-1:0;return`${m} [${s+l}/${s+d}]`+(h?` part [${c}/${p}]`:"")+` segment start/end [${i.start} => ${i.end}]`+(h?` part start/end [${r.start} => ${r.end}]`:"")+` startOfSegment [${e}] duration [${n}] timeline [${u}] selected by [${f}] playlist [${a}]`},lk=t=>`${t}TimingInfo`,KRe=({segmentTimeline:t,currentTimeline:e,startOfSegment:n,buffered:i,overrideCheck:r})=>!r&&t===e?null:t<e?n:i.length?i.end(i.length-1):n,X4=({timelineChangeController:t,currentTimeline:e,segmentTimeline:n,loaderType:i,audioDisabled:r})=>{if(e===n)return!1;if(i==="audio"){const s=t.lastTimelineChange({type:"main"});return!s||s.to!==n}if(i==="main"&&r){const s=t.pendingTimelineChange({type:"audio"});return!(s&&s.to===n)}return!1},zRe=t=>{if(!t)return!1;const e=t.pendingTimelineChange({type:"audio"}),n=t.pendingTimelineChange({type:"main"}),i=e&&n,r=i&&e.to!==n.to;return!!(i&&e.from!==-1&&n.from!==-1&&r)},JRe=t=>{const e=t.timelineChangeController_.pendingTimelineChange({type:"audio"}),n=t.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&n&&e.to<n.to},So=t=>{const e=t.pendingSegment_;if(e&&X4({timelineChangeController:t.timelineChangeController_,currentTimeline:t.currentTimeline_,segmentTimeline:e.timeline,loaderType:t.loaderType_,audioDisabled:t.audioDisabled_})&&zRe(t.timelineChangeController_)){if(JRe(t)){t.timelineChangeController_.trigger("audioTimelineBehind");return}t.timelineChangeController_.trigger("fixBadTimelineChange")}},HRe=t=>{let e=0;return["video","audio"].forEach(function(n){const i=t[`${n}TimingInfo`];if(!i)return;const{start:r,end:s}=i;let a;typeof r=="bigint"||typeof s=="bigint"?a=$.BigInt(s)-$.BigInt(r):typeof r=="number"&&typeof s=="number"&&(a=s-r),typeof a<"u"&&a>e&&(e=a)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},ck=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+Ys:!1,QRe=(t,e)=>{if(e!=="hls")return null;const n=HRe({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!n)return null;const i=t.playlist.targetDuration,r=ck({segmentDuration:n,maxDuration:i*2}),s=ck({segmentDuration:n,maxDuration:i}),a=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${n} when the reported duration is ${t.duration} and the target duration is ${i}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return r||s?{severity:r?"warn":"info",message:a}:null},Vl=({type:t,segment:e})=>{if(!e)return;const n=!!(e.key||e.map&&e.map.ke),i=!!(e.map&&!e.map.bytes),r=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:t||e.type,uri:e.resolvedUri||e.uri,start:r,duration:e.duration,isEncrypted:n,isMediaInitialization:i}};class M4 extends ue.EventTarget{constructor(e,n={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=jr(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(i){i!==this.state_&&(this.logger_(`${this.state_} -> ${i}`),this.state_=i,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():So(this)}),this.sourceUpdater_.on("codecschange",i=>{this.trigger(xn({type:"codecschange"},i))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():So(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",i=>{this.trigger(xn({type:"timelinechange"},i)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():So(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():So(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return J5.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&$.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null),this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,$.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&J5.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return Ri();if(this.loaderType_==="main"){const{hasAudio:n,hasVideo:i,isMuxed:r}=e;if(i&&n&&!this.audioDisabled_&&!r)return this.sourceUpdater_.buffered();if(i)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,n=!1){if(!e)return null;const i=Pg(e);let r=this.initSegments_[i];return n&&!r&&e.bytes&&(this.initSegments_[i]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),r||e}segmentKey(e,n=!1){if(!e)return null;const i=LM(e);let r=this.keyCache_[i];this.cacheEncryptionKeys_&&n&&!r&&e.bytes&&(this.keyCache_[i]=r={resolvedUri:e.resolvedUri,bytes:e.bytes});const s={resolvedUri:(r||e).resolvedUri};return r&&(s.bytes=r.bytes),s}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,n={}){if(!e||this.playlist_&&this.playlist_.endList&&e.endList&&this.playlist_.uri===e.uri)return;const i=this.playlist_,r=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=n,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let s=null;if(i&&(i.id?s=i.id:i.uri&&(s=i.uri)),this.logger_(`playlist update [${s} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${K5(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!i||i.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const a=e.mediaSequence-i.mediaSequence;if(this.logger_(`live window shift [${a}]`),this.mediaIndex!==null)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}r&&(r.mediaIndex-=a,r.mediaIndex<0?(r.mediaIndex=null,r.partIndex=null):(r.mediaIndex>=0&&(r.segment=e.segments[r.mediaIndex]),r.partIndex>=0&&r.segment.parts&&(r.part=r.segment.parts[r.partIndex]))),this.syncController_.saveExpiredSegmentInfo(i,e)}pause(){this.checkBufferTimeout_&&($.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&J5.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,n,i=()=>{},r=!1){if(n===1/0&&(n=this.duration_()),n<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let s=1;const a=()=>{s--,s===0&&i()};(r||!this.audioDisabled_)&&(s++,this.sourceUpdater_.removeAudio(e,n,a)),(r||this.loaderType_==="main")&&(this.gopBuffer_=XRe(this.gopBuffer_,e,n,this.timeMapping_),s++,this.sourceUpdater_.removeVideo(e,n,a));for(const o in this.inbandTextTracks_)af(e,n,this.inbandTextTracks_[o]);af(e,n,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&$.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=$.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&$.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=$.setTimeout(this.monitorBufferTick_.bind(this),YRe)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const n={segmentInfo:Vl({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:n}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,n=this.playlist_,i=this.partIndex){if(!n||!this.mediaSource_)return!1;const r=typeof e=="number"&&n.segments[e],s=e+1===n.segments.length,a=!r||!r.parts||i+1===r.parts.length;return n.endList&&this.mediaSource_.readyState==="open"&&s&&a}chooseNextRequest_(){const e=this.buffered_(),n=K5(e)||0,i=N8(e,this.currentTime_()),r=!this.hasPlayed_()&&i>=1,s=i>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||r||s)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(o.isSyncRequest)o.mediaIndex=PRe(this.currentTimeline_,a,n),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${o.mediaIndex}`);else if(this.mediaIndex!==null){const f=a[this.mediaIndex],h=typeof this.partIndex=="number"?this.partIndex:-1;o.startOfSegment=f.end?f.end:n,f.parts&&f.parts[h+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=h+1):o.mediaIndex=this.mediaIndex+1}else{let f,h,m;const p=this.fetchAtBuffer_?n:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${p}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${n}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const v=this.getSyncInfoFromMediaSequenceSync_(p);if(!v){const y="No sync info found while using media sequence sync";return this.error({message:y,metadata:{errorType:ue.Error.StreamingFailedToSelectNextSegment,error:new Error(y)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${v.start} --> ${v.end})`),f=v.segmentIndex,h=v.partIndex,m=v.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const v=Ji.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:p,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});f=v.segmentIndex,h=v.partIndex,m=v.startTime}o.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${p}`:`currentTime ${p}`,o.mediaIndex=f,o.startOfSegment=m,o.partIndex=h,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${o.mediaIndex} `)}const l=a[o.mediaIndex];let c=l&&typeof o.partIndex=="number"&&l.parts&&l.parts[o.partIndex];if(!l||typeof o.partIndex=="number"&&!c)return null;typeof o.partIndex!="number"&&l.parts&&(o.partIndex=0,c=l.parts[0]);const u=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!i&&c&&!u&&!c.independent)if(o.partIndex===0){const f=a[o.mediaIndex-1],h=f.parts&&f.parts.length&&f.parts[f.parts.length-1];h&&h.independent&&(o.mediaIndex-=1,o.partIndex=f.parts.length-1,o.independent="previous segment")}else l.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");const d=this.mediaSource_&&this.mediaSource_.readyState==="ended";return o.mediaIndex>=a.length-1&&d&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,o.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(o))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const n=Math.max(e,this.mediaSequenceSync_.start);e!==n&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${n}`);const i=this.mediaSequenceSync_.getSyncInfoForTime(n);if(!i)return null;if(!i.isAppended)return i;const r=this.mediaSequenceSync_.getSyncInfoForTime(i.end);return r?(r.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),r):null}generateSegmentInfo_(e){const{independent:n,playlist:i,mediaIndex:r,startOfSegment:s,isSyncRequest:a,partIndex:o,forceTimestampOffset:l,getMediaInfoForTime:c}=e,u=i.segments[r],d=typeof o=="number"&&u.parts[o],f={requestId:"segment-loader-"+Math.random(),uri:d&&d.resolvedUri||u.resolvedUri,mediaIndex:r,partIndex:d?o:null,isSyncRequest:a,startOfSegment:s,playlist:i,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:u.timeline,duration:d&&d.duration||u.duration,segment:u,part:d,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:c,independent:n},h=typeof l<"u"?l:this.isPendingTimestampOffset_;f.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:u.timeline,currentTimeline:this.currentTimeline_,startOfSegment:s,buffered:this.buffered_(),overrideCheck:h});const m=K5(this.sourceUpdater_.audioBuffered());return typeof m=="number"&&(f.audioAppendStart=m-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(f.gopsToAlignWith=DRe(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),f}timestampOffsetForSegment_(e){return KRe(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const n=this.currentTime_(),i=e.bandwidth,r=this.pendingSegment_.duration,s=Ji.estimateSegmentRequestTime(r,i,this.playlist_,e.bytesReceived),a=m8e(this.buffered_(),n,this.vhs_.tech_.playbackRate())-1;if(s<=a)return;const o=VRe({main:this.vhs_.playlists.main,currentTime:n,bandwidth:i,duration:this.duration_(),segmentDuration:r,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!o)return;const l=s-a-o.rebufferingImpact;let c=.5;a<=Ys&&(c=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||l<c)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*zn.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${Pc(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,n){this.earlyAbortWhenNeeded_(n.stats),!this.checkForAbort_(n.requestId)&&this.trigger("progress")}handleTrackInfo_(e,n){const{hasAudio:i,hasVideo:r}=n,s={segmentInfo:Vl({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:i,hasVideo:r}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:s}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(n)||(n=n||{},MRe(this.currentMediaInfo_,n)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=n,this.currentMediaInfo_=n,this.logger_("trackinfo update",n),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=n,this.hasEnoughInfoToAppend_()?this.processCallQueue_():So(this))))}handleTimingInfo_(e,n,i,r){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const s=this.pendingSegment_,a=lk(n);s[a]=s[a]||{},s[a][i]=r,this.logger_(`timinginfo: ${n} - ${i} - ${r}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():So(this)}handleCaptions_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(n.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,n));return}const i=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),r={};n.forEach(s=>{r[s.stream]=r[s.stream]||{startTime:1/0,captions:[],endTime:0};const a=r[s.stream];a.startTime=Math.min(a.startTime,s.startTime+i),a.endTime=Math.max(a.endTime,s.endTime+i),a.captions.push(s)}),Object.keys(r).forEach(s=>{const{startTime:a,endTime:o,captions:l}=r[s],c=this.inbandTextTracks_;this.logger_(`adding cues from ${a} -> ${o} for ${s}`),kRe(c,this.vhs_.tech_,s),af(a,o,c[s]),FRe({captionArray:l,inbandTextTracks:c,timestampOffset:i})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,n,i){if(this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)){if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,n,i));return}this.addMetadataToTextTrack(i,n,this.duration_())}}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(n=>n())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(n=>n())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!X4({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,n=this.getCurrentMediaInfo_();if(!e||!n)return!1;const{hasAudio:i,hasVideo:r,isMuxed:s}=n;return!(r&&!e.videoTimingInfo||i&&!this.audioDisabled_&&!s&&!e.audioTimingInfo||X4({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){So(this),this.callQueue_.push(this.handleData_.bind(this,e,n));return}const i=this.pendingSegment_;if(this.setTimeMapping_(i.timeline),this.updateMediaSecondsLoaded_(i.part||i.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),i.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),i.isFmp4=e.isFmp4,i.timingInfo=i.timingInfo||{},i.isFmp4)this.trigger("fmp4"),i.timingInfo.start=i[lk(n.type)].start;else{const r=this.getCurrentMediaInfo_(),s=this.loaderType_==="main"&&r&&r.hasVideo;let a;s&&(a=i.videoTimingInfo.start),i.timingInfo.start=this.trueSegmentStart_({currentStart:i.timingInfo.start,playlist:i.playlist,mediaIndex:i.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:s,firstVideoFrameTimeForData:a,videoTimingInfo:i.videoTimingInfo,audioTimingInfo:i.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(i,n.type),this.updateSourceBufferTimestampOffset_(i),i.isSyncRequest){this.updateTimingInfoEnd_(i),this.syncController_.saveSegmentTimingInfo({segmentInfo:i,shouldSaveTimelineMapping:this.loaderType_==="main"});const r=this.chooseNextRequest_();if(r.mediaIndex!==i.mediaIndex||r.partIndex!==i.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}i.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(i,n)}}updateAppendInitSegmentStatus(e,n){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[n]!==e.playlist&&(this.appendInitSegment_[n]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:n,map:i,playlist:r}){if(i){const s=Pg(i);if(this.activeInitSegmentId_===s)return null;n=this.initSegmentForMap(i,!0).bytes,this.activeInitSegmentId_=s}return n&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=r,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,n):null}handleQuotaExceededError_({segmentInfo:e,type:n,bytes:i},r){const s=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();s.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Gl(s).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Gl(a).join(", "));const o=s.length?s.start(0):0,l=s.length?s.end(s.length-1):0,c=a.length?a.start(0):0,u=a.length?a.end(a.length-1):0;if(l-o<=Gh&&u-c<=Gh){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${i.byteLength}, audio buffer: ${Gl(s).join(", ")}, video buffer: ${Gl(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:n,bytes:i}));const d=this.currentTime_()-Gh;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${d}`),this.remove(0,d,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${Gh}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=$.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},Gh*1e3)},!0)}handleAppendError_({segmentInfo:e,type:n,bytes:i},r){if(r){if(r.code===xM){this.handleQuotaExceededError_({segmentInfo:e,type:n,bytes:i});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",r),this.error({message:`${n} append of ${i.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:ue.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:i,data:r,bytes:s}){if(!s){const o=[r];let l=r.byteLength;i&&(o.unshift(i),l+=i.byteLength),s=_Re({bytes:l,segments:o})}const a={segmentInfo:Vl({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:a}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:n,bytes:s},this.handleAppendError_.bind(this,{segmentInfo:e,type:n,bytes:s}))}handleSegmentTimingInfo_(e,n,i){if(!this.pendingSegment_||n!==this.pendingSegment_.requestId)return;const r=this.pendingSegment_.segment,s=`${e}TimingInfo`;r[s]||(r[s]={}),r[s].transmuxerPrependedSeconds=i.prependedContentDuration||0,r[s].transmuxedPresentationStart=i.start.presentation,r[s].transmuxedDecodeStart=i.start.decode,r[s].transmuxedPresentationEnd=i.end.presentation,r[s].transmuxedDecodeEnd=i.end.decode,r[s].baseMediaDecodeTime=i.baseMediaDecodeTime}appendData_(e,n){const{type:i,data:r}=n;if(!r||!r.byteLength||i==="audio"&&this.audioDisabled_)return;const s=this.getInitSegmentAndUpdateState_({type:i,initSegment:n.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:s,data:r})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){So(this),this.loadQueue_.push(()=>{const n=xn({},e,{forceTimestampOffset:!0});xn(e,this.generateSegmentInfo_(n)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const n=this.createSimplifiedSegmentObj_(e),i=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),r=this.mediaIndex!==null,s=e.timeline!==this.currentTimeline_&&e.timeline>0,a=i||r&&s;this.logger_(`Requesting
${QM(e.uri)}
${Pc(e)}`),n.map&&!n.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=TRe({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:n,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:o,level:l,stream:c})=>{this.logger_(`${Pc(e)} logged from transmuxer stream ${c} as a ${l}: ${o}`)},triggerSegmentEventFn:({type:o,segment:l,keyInfo:c,trackInfo:u,timingInfo:d})=>{const f={segmentInfo:Vl({segment:l})};c&&(f.keyInfo=c),u&&(f.trackInfo=u),d&&(f.timingInfo=d),this.trigger({type:o,metadata:f})}})}trimBackBuffer_(e){const n=jRe(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);n>0&&this.remove(0,n)}createSimplifiedSegmentObj_(e){const n=e.segment,i=e.part,r=e.segment.key||e.segment.map&&e.segment.map.key,s=e.segment.map&&!e.segment.map.bytes,a={resolvedUri:i?i.resolvedUri:n.resolvedUri,byterange:i?i.byterange:n.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:r,isMediaInitialization:s},o=e.playlist.segments[e.mediaIndex-1];if(o&&o.timeline===n.timeline&&(o.videoTimingInfo?a.baseStartTime=o.videoTimingInfo.transmuxedDecodeEnd:o.audioTimingInfo&&(a.baseStartTime=o.audioTimingInfo.transmuxedDecodeEnd)),n.key){const l=n.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);a.key=this.segmentKey(n.key),a.key.iv=l}return n.map&&(a.map=this.initSegmentForMap(n.map)),a}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,n){if(this.pendingSegment_.byteLength=n.bytesReceived,e<m1){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${m1}`);return}const i={bandwidthInfo:{from:this.bandwidth,to:n.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:i}),this.bandwidth=n.bandwidth,this.roundTrip=n.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,n,i){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,n,i));return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_||n.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===js.ABORTED)return;if(this.pause(),e.code===js.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const r=this.pendingSegment_;this.saveBandwidthRelatedStats_(r.duration,n.stats),r.endOfAllRequests=n.endOfAllRequests,i.gopInfo&&(this.gopBuffer_=ORe(this.gopBuffer_,i.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(r)}setTimeMapping_(e){const n=this.syncController_.mappingForTimeline(e);n!==null&&(this.timeMapping_=n)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:n,mediaIndex:i,firstVideoFrameTimeForData:r,currentVideoTimestampOffset:s,useVideoTimingInfo:a,videoTimingInfo:o,audioTimingInfo:l}){if(typeof e<"u")return e;if(!a)return l.start;const c=n.segments[i-1];return i===0||!c||typeof c.start>"u"||c.end!==r+s?r:o.start}waitForAppendsToComplete_(e){const n=this.getCurrentMediaInfo_(e);if(!n){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:i,hasVideo:r,isMuxed:s}=n,a=this.loaderType_==="main"&&r,o=!this.audioDisabled_&&i&&!s;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}a&&e.waitingOnAppends++,o&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const n=$Re(this.loaderType_,this.getCurrentMediaInfo_(),e);return n?(this.error({message:n,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let n=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),n=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),n=!0),n&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:n,timingInfo:i}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:n&&typeof n.transmuxedDecodeStart=="number"?n.transmuxedDecodeStart:i.start:i.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const n=this.getMediaInfo_(),i=this.loaderType_==="main"&&n&&n.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;i&&(e.timingInfo.end=typeof i.end=="number"?i.end:i.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const o={segmentInfo:Vl({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:o})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const n=QRe(e,this.sourceType_);if(n&&(n.severity==="warn"?ue.log.warn(n.message):this.logger_(n.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${Pc(e)}`);return}this.logger_(`Appended ${Pc(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const i=e.segment,r=e.part,s=i.end&&this.currentTime_()-i.end>e.playlist.targetDuration*3,a=r&&r.end&&this.currentTime_()-r.end>e.playlist.partTargetDuration*3;if(s||a){this.logger_(`bad ${s?"segment":"part"} ${Pc(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<m1){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${m1}`);return}const n=this.throughput.rate,i=Date.now()-e.endOfAllRequests+1,r=Math.floor(e.byteLength/i*8*1e3);this.throughput.rate+=(r-n)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const n=e.segment,i=n.start,r=n.end;if(!ok(i)||!ok(r))return;af(i,r,this.segmentMetadataTrack_);const s=$.WebKitDataCue||$.VTTCue,a={custom:n.custom,dateTimeObject:n.dateTimeObject,dateTimeString:n.dateTimeString,programDateTime:n.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:i,end:r},o=JSON.stringify(a),l=new s(i,r,o);l.value=a,this.segmentMetadataTrack_.addCue(l)}}function ka(){}const qM=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},qRe=["video","audio"],P4=(t,e)=>{const n=e[`${t}Buffer`];return n&&n.updating||e.queuePending[t]},eCe=(t,e)=>{for(let n=0;n<e.length;n++){const i=e[n];if(i.type==="mediaSource")return null;if(i.type===t)return n}return null},Xu=(t,e)=>{if(e.queue.length===0)return;let n=0,i=e.queue[n];if(i.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),i.action(e),i.doneFn&&i.doneFn(),Xu("audio",e),Xu("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||P4(t,e))){if(i.type!==t){if(n=eCe(t,e.queue),n===null)return;i=e.queue[n]}if(e.queue.splice(n,1),e.queuePending[t]=i,i.action(t,e),!i.doneFn){e.queuePending[t]=null,Xu(t,e);return}}},eP=(t,e)=>{const n=e[`${t}Buffer`],i=qM(t);n&&(n.removeEventListener("updateend",e[`on${i}UpdateEnd_`]),n.removeEventListener("error",e[`on${i}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},Gs=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,lr={appendBuffer:(t,e,n)=>(i,r)=>{const s=r[`${i}Buffer`];if(Gs(r.mediaSource,s)){r.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${i}Buffer`);try{s.appendBuffer(t)}catch(a){r.logger_(`Error with code ${a.code} `+(a.code===xM?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${i}Buffer`),r.queuePending[i]=null,n(a)}}},remove:(t,e)=>(n,i)=>{const r=i[`${n}Buffer`];if(Gs(i.mediaSource,r)){i.logger_(`Removing ${t} to ${e} from ${n}Buffer`);try{r.remove(t,e)}catch{i.logger_(`Remove ${t} to ${e} from ${n}Buffer failed`)}}},timestampOffset:t=>(e,n)=>{const i=n[`${e}Buffer`];Gs(n.mediaSource,i)&&(n.logger_(`Setting ${e}timestampOffset to ${t}`),i.timestampOffset=t)},callback:t=>(e,n)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(n){ue.log.warn("Failed to call media source endOfStream",n)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(n){ue.log.warn("Failed to set media source duration",n)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const n=e[`${t}Buffer`];if(Gs(e.mediaSource,n)){e.logger_(`calling abort on ${t}Buffer`);try{n.abort()}catch(i){ue.log.warn(`Failed to abort on ${t}Buffer`,i)}}},addSourceBuffer:(t,e)=>n=>{const i=qM(t),r=vd(e);n.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const s=n.mediaSource.addSourceBuffer(r);s.addEventListener("updateend",n[`on${i}UpdateEnd_`]),s.addEventListener("error",n[`on${i}Error_`]),n.codecs[t]=e,n[`${t}Buffer`]=s},removeSourceBuffer:t=>e=>{const n=e[`${t}Buffer`];if(eP(t,e),!!Gs(e.mediaSource,n)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(n)}catch(i){ue.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,i)}}},changeType:t=>(e,n)=>{const i=n[`${e}Buffer`],r=vd(t);if(!Gs(n.mediaSource,i))return;const s=t.substring(0,t.indexOf(".")),a=n.codecs[e];if(a.substring(0,a.indexOf("."))===s)return;const o={codecsChangeInfo:{from:a,to:t}};n.trigger({type:"codecschange",metadata:o}),n.logger_(`changing ${e}Buffer codec from ${a} to ${t}`);try{i.changeType(r),n.codecs[e]=t}catch(l){o.errorType=ue.Error.StreamingCodecsChangeError,o.error=l,l.metadata=o,n.error_=l,n.trigger("error"),ue.log.warn(`Failed to changeType on ${e}Buffer`,l)}}},cr=({type:t,sourceUpdater:e,action:n,doneFn:i,name:r})=>{e.queue.push({type:t,action:n,doneFn:i,name:r}),Xu(t,e)},uk=(t,e)=>n=>{const i=e[`${t}Buffered`](),r=h8e(i);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,r),e.queuePending[t]){const s=e.queuePending[t].doneFn;e.queuePending[t]=null,s&&s(e[`${t}Error_`])}Xu(t,e)};class tP extends ue.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>Xu("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=jr("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=uk("video",this),this.onAudioUpdateEnd_=uk("audio",this),this.onVideoError_=n=>{this.videoError_=n},this.onAudioError_=n=>{this.audioError_=n},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,n){cr({type:"mediaSource",sourceUpdater:this,action:lr.addSourceBuffer(e,n),name:"addSourceBuffer"})}abort(e){cr({type:e,sourceUpdater:this,action:lr.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){ue.log.error("removeSourceBuffer is not supported!");return}cr({type:"mediaSource",sourceUpdater:this,action:lr.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!ue.browser.IS_FIREFOX&&$.MediaSource&&$.MediaSource.prototype&&typeof $.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return $.SourceBuffer&&$.SourceBuffer.prototype&&typeof $.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,n){if(!this.canChangeType()){ue.log.error("changeType is not supported!");return}cr({type:e,sourceUpdater:this,action:lr.changeType(n),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(n=>{const i=e[n];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(n,i);this.canChangeType()&&this.changeType(n,i)})}appendBuffer(e,n){const{segmentInfo:i,type:r,bytes:s}=e;if(this.processedAppend_=!0,r==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,n]),this.logger_(`delayed audio append of ${s.length} until video append`);return}const a=n;if(cr({type:r,sourceUpdater:this,action:lr.appendBuffer(s,i||{mediaIndex:-1},a),doneFn:n,name:"appendBuffer"}),r==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const o=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${o.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,o.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return Gs(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:Ri()}videoBuffered(){return Gs(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:Ri()}buffered(){const e=Gs(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,n=Gs(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return n&&!e?this.audioBuffered():e&&!n?this.videoBuffered():p8e(this.audioBuffered(),this.videoBuffered())}setDuration(e,n=ka){cr({type:"mediaSource",sourceUpdater:this,action:lr.duration(e),name:"duration",doneFn:n})}endOfStream(e=null,n=ka){typeof e!="string"&&(e=void 0),cr({type:"mediaSource",sourceUpdater:this,action:lr.endOfStream(e),name:"endOfStream",doneFn:n})}removeAudio(e,n,i=ka){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){i();return}cr({type:"audio",sourceUpdater:this,action:lr.remove(e,n),doneFn:i,name:"remove"})}removeVideo(e,n,i=ka){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){i();return}cr({type:"video",sourceUpdater:this,action:lr.remove(e,n),doneFn:i,name:"remove"})}updating(){return!!(P4("audio",this)||P4("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(cr({type:"audio",sourceUpdater:this,action:lr.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(cr({type:"video",sourceUpdater:this,action:lr.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&cr({type:"audio",sourceUpdater:this,action:lr.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&cr({type:"video",sourceUpdater:this,action:lr.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),qRe.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>eP(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const dk=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),tCe=t=>{const e=new Uint8Array(t);return Array.from(e).map(n=>n.toString(16).padStart(2,"0")).join("")},hk=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class nCe extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class iCe extends M4{constructor(e,n={}){super(e,n),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return Ri();const e=this.subtitlesTrack_.cues,n=e[0].startTime,i=e[e.length-1].startTime;return Ri([[n,i]])}initSegmentForMap(e,n=!1){if(!e)return null;const i=Pg(e);let r=this.initSegments_[i];if(n&&!r&&e.bytes){const s=hk.byteLength+e.bytes.byteLength,a=new Uint8Array(s);a.set(e.bytes),a.set(hk,e.bytes.byteLength),this.initSegments_[i]=r={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return r||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,n){af(e,n,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const n=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",n),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,n,i){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(n.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===js.TIMEOUT&&this.handleTimeout_(),e.code===js.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const r=this.pendingSegment_,s=i.mp4VttCues&&i.mp4VttCues.length;s&&(r.mp4VttCues=i.mp4VttCues),this.saveBandwidthRelatedStats_(r.duration,n.stats),n.key&&this.segmentKey(n.key,!0),this.state="APPENDING",this.trigger("appending");const a=r.segment;if(a.map&&(a.map.bytes=n.map.bytes),r.bytes=n.bytes,typeof $.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,n,i),()=>this.stopForError({message:"Error loading vtt.js"}));return}a.requested=!0;try{this.parseVTTCues_(r)}catch(o){this.stopForError({message:o.message,metadata:{errorType:ue.Error.StreamingVttParserError,error:o}});return}if(s||this.updateTimeMapping_(r,this.syncController_.timelines[r.timeline],this.playlist_),r.cues.length?r.timingInfo={start:r.cues[0].startTime,end:r.cues[r.cues.length-1].endTime}:r.timingInfo={start:r.startOfSegment,end:r.startOfSegment+r.duration},r.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}r.byteLength=r.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,r.cues.forEach(o=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new $.VTTCue(o.startTime,o.endTime,o.text):o)}),ZRe(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(e,n){const i=e&&e.type==="vtt",r=n&&n.type==="text";i&&r&&super.handleData_(e,n)}updateTimingInfoEnd_(){}parseMp4VttCues_(e){const n=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();e.mp4VttCues.forEach(i=>{const r=i.start+n,s=i.end+n,a=new $.VTTCue(r,s,i.cueText);i.settings&&i.settings.split(" ").forEach(o=>{const l=o.split(":"),c=l[0],u=l[1];a[c]=isNaN(u)?u:Number(u)}),e.cues.push(a)})}parseVTTCues_(e){let n,i=!1;if(typeof $.WebVTT!="function")throw new nCe;if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},e.mp4VttCues){this.parseMp4VttCues_(e);return}typeof $.TextDecoder=="function"?n=new $.TextDecoder("utf8"):(n=$.WebVTT.StringDecoder(),i=!0);const r=new $.WebVTT.Parser($,$.vttjs,n);if(r.oncue=e.cues.push.bind(e.cues),r.ontimestampmap=a=>{e.timestampmap=a},r.onparsingerror=a=>{ue.log.warn("Error encountered when parsing cues: "+a.message)},e.segment.map){let a=e.segment.map.bytes;i&&(a=dk(a)),r.parse(a)}let s=e.bytes;i&&(s=dk(s)),r.parse(s),r.flush()}updateTimeMapping_(e,n,i){const r=e.segment;if(!n)return;if(!e.cues.length){r.empty=!0;return}const{MPEGTS:s,LOCAL:a}=e.timestampmap,o=s/Wl.ONE_SECOND_IN_TS-a+n.mapping;if(e.cues.forEach(l=>{const c=l.endTime-l.startTime,u=this.handleRollover_(l.startTime+o,n.time);l.startTime=Math.max(u,0),l.endTime=Math.max(u+c,0)}),!i.syncInfo){const l=e.cues[0].startTime,c=e.cues[e.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+e.mediaIndex,time:Math.min(l,c-r.duration)}}}handleRollover_(e,n){if(n===null)return e;let i=e*Wl.ONE_SECOND_IN_TS;const r=n*Wl.ONE_SECOND_IN_TS;let s;for(r<i?s=-8589934592:s=8589934592;Math.abs(i-r)>4294967296;)i+=s;return i/Wl.ONE_SECOND_IN_TS}}const rCe=function(t,e){const n=t.cues;for(let i=0;i<n.length;i++){const r=n[i];if(e>=r.adStartTime&&e<=r.adEndTime)return r}return null},sCe=function(t,e,n=0){if(!t.segments)return;let i=n,r;for(let s=0;s<t.segments.length;s++){const a=t.segments[s];if(r||(r=rCe(e,i+a.duration/2)),r){if("cueIn"in a){r.endTime=i,r.adEndTime=i,i+=a.duration,r=null;continue}if(i<r.endTime){i+=a.duration;continue}r.endTime+=a.duration}else if("cueOut"in a&&(r=new $.VTTCue(i,i+a.duration,a.cueOut),r.adStartTime=i,r.adEndTime=i+parseFloat(a.cueOut),e.addCue(r)),"cueOutCont"in a){const[o,l]=a.cueOutCont.split("/").map(parseFloat);r=new $.VTTCue(i,i+a.duration,""),r.adStartTime=i-o,r.adEndTime=r.adStartTime+l,e.addCue(r)}i+=a.duration}};class fk{constructor({start:e,end:n,segmentIndex:i,partIndex:r=null,appended:s=!1}){this.start_=e,this.end_=n,this.segmentIndex_=i,this.partIndex_=r,this.appended_=s}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class aCe{constructor(e,n=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=n}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class nP{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,n){const{mediaSequence:i,segments:r}=e;if(this.isReliable_=this.isReliablePlaylist_(i,r),!!this.isReliable_)return this.updateStorage_(r,i,this.calculateBaseTime_(i,r,n))}getSyncInfoForTime(e){for(const{segmentSyncInfo:n,partsSyncInfo:i}of this.storage_.values())if(i.length){for(const r of i)if(r.isInRange(e))return r}else if(n.isInRange(e))return n;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,n,i){const r=new Map;let s=`
`,a=i,o=n;this.start_=a,e.forEach((l,c)=>{const u=this.storage_.get(o),d=a,f=d+l.duration,h=!!(u&&u.segmentSyncInfo&&u.segmentSyncInfo.isAppended),m=new fk({start:d,end:f,appended:h,segmentIndex:c});l.syncInfo=m;let p=a;const v=(l.parts||[]).map((y,E)=>{const S=p,I=p+y.duration,w=!!(u&&u.partsSyncInfo&&u.partsSyncInfo[E]&&u.partsSyncInfo[E].isAppended),N=new fk({start:S,end:I,appended:w,segmentIndex:c,partIndex:E});return p=I,s+=`Media Sequence: ${o}.${E} | Range: ${S} --> ${I} | Appended: ${w}
`,y.syncInfo=N,N});r.set(o,new aCe(m,v)),s+=`${QM(l.resolvedUri)} | Media Sequence: ${o} | Range: ${d} --> ${f} | Appended: ${h}
`,o++,a=f}),this.end_=a,this.storage_=r,this.diagnostics_=s}calculateBaseTime_(e,n,i){if(!this.storage_.size)return 0;if(this.storage_.has(e))return this.storage_.get(e).segmentSyncInfo.start;const r=Math.min(...this.storage_.keys());if(e<r){const s=r-e;let a=this.storage_.get(r).segmentSyncInfo.start;for(let o=0;o<s;o++){const l=n[o];a-=l.duration}return a}return i}isReliablePlaylist_(e,n){return e!=null&&Array.isArray(n)&&n.length}}class pk extends nP{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,n,i){if(!this.storage_.size){const r=this.parent_.getSyncInfoForMediaSequence(e);return r?r.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,n,i)}}const oCe=86400,H5=[{name:"VOD",run:(t,e,n,i,r)=>n!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,n,i,r,s)=>{const a=t.getMediaSequenceSync(s);if(!a||!a.isReliable)return null;const o=a.getSyncInfoForTime(r);return o?{time:o.start,partIndex:o.partIndex,segmentIndex:o.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,n,i,r)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let s=null,a=null;const o=L4(e);r=r||0;for(let l=0;l<o.length;l++){const c=e.endList||r===0?l:o.length-(l+1),u=o[c],d=u.segment,f=t.timelineToDatetimeMappings[d.timeline];if(!f||!d.dateTimeObject)continue;let h=d.dateTimeObject.getTime()/1e3+f;if(d.parts&&typeof u.partIndex=="number")for(let p=0;p<u.partIndex;p++)h+=d.parts[p].duration;const m=Math.abs(r-h);if(a!==null&&(m===0||a<m))break;a=m,s={time:h,segmentIndex:u.segmentIndex,partIndex:u.partIndex}}return s}},{name:"Segment",run:(t,e,n,i,r)=>{let s=null,a=null;r=r||0;const o=L4(e);for(let l=0;l<o.length;l++){const c=e.endList||r===0?l:o.length-(l+1),u=o[c],d=u.segment,f=u.part&&u.part.start||d&&d.start;if(d.timeline===i&&typeof f<"u"){const h=Math.abs(r-f);if(a!==null&&a<h)break;(!s||a===null||a>=h)&&(a=h,s={time:f,segmentIndex:u.segmentIndex,partIndex:u.partIndex})}}return s}},{name:"Discontinuity",run:(t,e,n,i,r)=>{let s=null;if(r=r||0,e.discontinuityStarts&&e.discontinuityStarts.length){let a=null;for(let o=0;o<e.discontinuityStarts.length;o++){const l=e.discontinuityStarts[o],c=e.discontinuitySequence+o+1,u=t.discontinuities[c];if(u){const d=Math.abs(r-u.time);if(a!==null&&a<d)break;(!s||a===null||a>=d)&&(a=d,s={time:u.time,segmentIndex:l,partIndex:null})}}}return s}},{name:"Playlist",run:(t,e,n,i,r)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class lCe extends ue.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const n=new nP,i=new pk(n),r=new pk(n);this.mediaSequenceStorage_={main:n,audio:i,vtt:r},this.logger_=jr("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,n,i,r,s){if(n!==1/0)return H5.find(({name:o})=>o==="VOD").run(this,e,n);const a=this.runStrategies_(e,n,i,r,s);if(!a.length)return null;for(const o of a){const{syncPoint:l,strategy:c}=o,{segmentIndex:u,time:d}=l;if(u<0)continue;const f=e.segments[u],h=d,m=h+f.duration;if(this.logger_(`Strategy: ${c}. Current time: ${r}. selected segment: ${u}. Time: [${h} -> ${m}]}`),r>=h&&r<m)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(a,{key:"time",value:r})}getExpiredTime(e,n){if(!e||!e.segments)return null;const i=this.runStrategies_(e,n,e.discontinuitySequence,0);if(!i.length)return null;const r=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return r.segmentIndex>0&&(r.time*=-1),Math.abs(r.time+Cf({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:r.segmentIndex,endIndex:0}))}runStrategies_(e,n,i,r,s){const a=[];for(let o=0;o<H5.length;o++){const l=H5[o],c=l.run(this,e,n,i,r,s);c&&(c.strategy=l.name,a.push({strategy:l.name,syncPoint:c}))}return a}selectSyncPoint_(e,n){let i=e[0].syncPoint,r=Math.abs(e[0].syncPoint[n.key]-n.value),s=e[0].strategy;for(let a=1;a<e.length;a++){const o=Math.abs(e[a].syncPoint[n.key]-n.value);o<r&&(r=o,i=e[a].syncPoint,s=e[a].strategy)}return this.logger_(`syncPoint for [${n.key}: ${n.value}] chosen with strategy [${s}]: [time:${i.time}, segmentIndex:${i.segmentIndex}`+(typeof i.partIndex=="number"?`,partIndex:${i.partIndex}`:"")+"]"),i}saveExpiredSegmentInfo(e,n){const i=n.mediaSequence-e.mediaSequence;if(i>oCe){ue.log.warn(`Not saving expired segment info. Media sequence gap ${i} is too large.`);return}for(let r=i-1;r>=0;r--){const s=e.segments[r];if(s&&typeof s.start<"u"){n.syncInfo={mediaSequence:e.mediaSequence+r,time:s.start},this.logger_(`playlist refresh sync: [time:${n.syncInfo.time}, mediaSequence: ${n.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const n=e.segments[0],i=n.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[n.timeline]=-i}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:n}){const i=this.calculateSegmentTimeMapping_(e,e.timingInfo,n),r=e.segment;i&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:r.start}));const s=r.dateTimeObject;r.discontinuity&&n&&s&&(this.timelineToDatetimeMappings[r.timeline]=-(s.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,n,i){const r=e.segment,s=e.part;let a=this.timelines[e.timeline],o,l;if(typeof e.timestampOffset=="number")a={time:e.startOfSegment,mapping:e.startOfSegment-n.start},i&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),o=e.startOfSegment,l=n.end+a.mapping;else if(a)o=n.start+a.mapping,l=n.end+a.mapping;else return!1;return s&&(s.start=o,s.end=l),(!r.start||o<r.start)&&(r.start=o),r.end=l,!0}saveDiscontinuitySyncInfo_(e){const n=e.playlist,i=e.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(n.discontinuityStarts&&n.discontinuityStarts.length)for(let r=0;r<n.discontinuityStarts.length;r++){const s=n.discontinuityStarts[r],a=n.discontinuitySequence+r+1,o=s-e.mediaIndex,l=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>l){let c;o<0?c=i.start-Cf({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex,endIndex:s}):c=i.end+Cf({defaultDuration:n.targetDuration,durationList:n.segments,startIndex:e.mediaIndex+1,endIndex:s}),this.discontinuities[a]={time:c,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class cCe extends ue.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:n,to:i}){return typeof n=="number"&&typeof i=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:n,to:i},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:n,to:i}){if(typeof n=="number"&&typeof i=="number"){this.lastTimelineChanges_[e]={type:e,from:n,to:i},delete this.pendingTimelineChanges_[e];const r={timelineChangeInfo:{from:n,to:i}};this.trigger({type:"timelinechange",metadata:r})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const uCe=DM(OM(function(){var t=function(){function p(){this.listeners={}}var v=p.prototype;return v.on=function(y,E){this.listeners[y]||(this.listeners[y]=[]),this.listeners[y].push(E)},v.off=function(y,E){if(!this.listeners[y])return!1;var S=this.listeners[y].indexOf(E);return this.listeners[y]=this.listeners[y].slice(0),this.listeners[y].splice(S,1),S>-1},v.trigger=function(y){var E=this.listeners[y];if(E)if(arguments.length===2)for(var S=E.length,I=0;I<S;++I)E[I].call(this,arguments[1]);else for(var w=Array.prototype.slice.call(arguments,1),N=E.length,F=0;F<N;++F)E[F].apply(this,w)},v.dispose=function(){this.listeners={}},v.pipe=function(y){this.on("data",function(E){y.push(E)})},p}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(p){return p.subarray(0,p.byteLength-p[p.byteLength-1])}/*! @name aes-decrypter @version 4.0.2 @license Apache-2.0 */const n=function(){const p=[[[],[],[],[],[]],[[],[],[],[],[]]],v=p[0],y=p[1],E=v[4],S=y[4];let I,w,N;const F=[],W=[];let Z,O,K,fe,z,pe;for(I=0;I<256;I++)W[(F[I]=I<<1^(I>>7)*283)^I]=I;for(w=N=0;!E[w];w^=Z||1,N=W[N]||1)for(fe=N^N<<1^N<<2^N<<3^N<<4,fe=fe>>8^fe&255^99,E[w]=fe,S[fe]=w,K=F[O=F[Z=F[w]]],pe=K*16843009^O*65537^Z*257^w*16843008,z=F[fe]*257^fe*16843008,I=0;I<4;I++)v[I][w]=z=z<<24^z>>>8,y[I][fe]=pe=pe<<24^pe>>>8;for(I=0;I<5;I++)v[I]=v[I].slice(0),y[I]=y[I].slice(0);return p};let i=null;class r{constructor(v){i||(i=n()),this._tables=[[i[0][0].slice(),i[0][1].slice(),i[0][2].slice(),i[0][3].slice(),i[0][4].slice()],[i[1][0].slice(),i[1][1].slice(),i[1][2].slice(),i[1][3].slice(),i[1][4].slice()]];let y,E,S;const I=this._tables[0][4],w=this._tables[1],N=v.length;let F=1;if(N!==4&&N!==6&&N!==8)throw new Error("Invalid aes key size");const W=v.slice(0),Z=[];for(this._key=[W,Z],y=N;y<4*N+28;y++)S=W[y-1],(y%N===0||N===8&&y%N===4)&&(S=I[S>>>24]<<24^I[S>>16&255]<<16^I[S>>8&255]<<8^I[S&255],y%N===0&&(S=S<<8^S>>>24^F<<24,F=F<<1^(F>>7)*283)),W[y]=W[y-N]^S;for(E=0;y;E++,y--)S=W[E&3?y:y-4],y<=4||E<4?Z[E]=S:Z[E]=w[0][I[S>>>24]]^w[1][I[S>>16&255]]^w[2][I[S>>8&255]]^w[3][I[S&255]]}decrypt(v,y,E,S,I,w){const N=this._key[1];let F=v^N[0],W=S^N[1],Z=E^N[2],O=y^N[3],K,fe,z;const pe=N.length/4-2;let de,be=4;const _e=this._tables[1],me=_e[0],Q=_e[1],q=_e[2],Re=_e[3],D=_e[4];for(de=0;de<pe;de++)K=me[F>>>24]^Q[W>>16&255]^q[Z>>8&255]^Re[O&255]^N[be],fe=me[W>>>24]^Q[Z>>16&255]^q[O>>8&255]^Re[F&255]^N[be+1],z=me[Z>>>24]^Q[O>>16&255]^q[F>>8&255]^Re[W&255]^N[be+2],O=me[O>>>24]^Q[F>>16&255]^q[W>>8&255]^Re[Z&255]^N[be+3],be+=4,F=K,W=fe,Z=z;for(de=0;de<4;de++)I[(3&-de)+w]=D[F>>>24]<<24^D[W>>16&255]<<16^D[Z>>8&255]<<8^D[O&255]^N[be++],K=F,F=W,W=Z,Z=O,O=K}}class s extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(v){this.jobs.push(v),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const a=function(p){return p<<24|(p&65280)<<8|(p&16711680)>>8|p>>>24},o=function(p,v,y){const E=new Int32Array(p.buffer,p.byteOffset,p.byteLength>>2),S=new r(Array.prototype.slice.call(v)),I=new Uint8Array(p.byteLength),w=new Int32Array(I.buffer);let N,F,W,Z,O,K,fe,z,pe;for(N=y[0],F=y[1],W=y[2],Z=y[3],pe=0;pe<E.length;pe+=4)O=a(E[pe]),K=a(E[pe+1]),fe=a(E[pe+2]),z=a(E[pe+3]),S.decrypt(O,K,fe,z,w,pe),w[pe]=a(w[pe]^N),w[pe+1]=a(w[pe+1]^F),w[pe+2]=a(w[pe+2]^W),w[pe+3]=a(w[pe+3]^Z),N=O,F=K,W=fe,Z=z;return I};class l{constructor(v,y,E,S){const I=l.STEP,w=new Int32Array(v.buffer),N=new Uint8Array(v.byteLength);let F=0;for(this.asyncStream_=new s,this.asyncStream_.push(this.decryptChunk_(w.subarray(F,F+I),y,E,N)),F=I;F<w.length;F+=I)E=new Uint32Array([a(w[F-4]),a(w[F-3]),a(w[F-2]),a(w[F-1])]),this.asyncStream_.push(this.decryptChunk_(w.subarray(F,F+I),y,E,N));this.asyncStream_.push(function(){S(null,e(N))})}static get STEP(){return 32e3}decryptChunk_(v,y,E,S){return function(){const I=o(v,y,E);S.set(I,v.byteOffset)}}}var c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof lc<"u"?lc:typeof self<"u"?self:{},u;typeof window<"u"?u=window:typeof c<"u"?u=c:typeof self<"u"?u=self:u={};var d=u,f=function(p){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(p):p&&p.buffer instanceof ArrayBuffer},h=d.BigInt||Number;h("0x1"),h("0x100"),h("0x10000"),h("0x1000000"),h("0x100000000"),h("0x10000000000"),h("0x1000000000000"),h("0x100000000000000"),h("0x10000000000000000"),function(){var p=new Uint16Array([65484]),v=new Uint8Array(p.buffer,p.byteOffset,p.byteLength);return v[0]===255?"big":v[0]===204?"little":"unknown"}();const m=function(p){const v={};return Object.keys(p).forEach(y=>{const E=p[y];f(E)?v[y]={bytes:E.buffer,byteOffset:E.byteOffset,byteLength:E.byteLength}:v[y]=E}),v};self.onmessage=function(p){const v=p.data,y=new Uint8Array(v.encrypted.bytes,v.encrypted.byteOffset,v.encrypted.byteLength),E=new Uint32Array(v.key.bytes,v.key.byteOffset,v.key.byteLength/4),S=new Uint32Array(v.iv.bytes,v.iv.byteOffset,v.iv.byteLength/4);new l(y,E,S,function(I,w){self.postMessage(m({source:v.source,decrypted:w}),[w.buffer])})}}));var dCe=ZM(uCe);const hCe=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},iP=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},Y4=(t,e)=>{e.activePlaylistLoader=t,t.load()},fCe=(t,e)=>()=>{const{segmentLoaders:{[t]:n,main:i},mediaTypes:{[t]:r}}=e,s=r.activeTrack(),a=r.getActiveGroup(),o=r.activePlaylistLoader,l=r.lastGroup_;if(!(a&&l&&a.id===l.id)&&(r.lastGroup_=a,r.lastTrack_=s,iP(n,r),!(!a||a.isMainPlaylist))){if(!a.playlistLoader){o&&i.resetEverything();return}n.resyncLoader(),Y4(a.playlistLoader,r)}},pCe=(t,e)=>()=>{const{segmentLoaders:{[t]:n},mediaTypes:{[t]:i}}=e;i.lastGroup_=null,n.abort(),n.pause()},mCe=(t,e)=>()=>{const{mainPlaylistLoader:n,segmentLoaders:{[t]:i,main:r},mediaTypes:{[t]:s}}=e,a=s.activeTrack(),o=s.getActiveGroup(),l=s.activePlaylistLoader,c=s.lastTrack_;if(!(c&&a&&c.id===a.id)&&(s.lastGroup_=o,s.lastTrack_=a,iP(i,s),!!o)){if(o.isMainPlaylist){if(!a||!c||a.id===c.id)return;const u=e.vhs.playlistController_,d=u.selectPlaylist();if(u.media()===d)return;s.logger_(`track change. Switching main audio from ${c.id} to ${a.id}`),n.pause(),r.resetEverything(),u.fastQualityChange_(d);return}if(t==="AUDIO"){if(!o.playlistLoader){r.setAudio(!0),r.resetEverything();return}i.setAudio(!0),r.setAudio(!1)}if(l===o.playlistLoader){Y4(o.playlistLoader,s);return}i.track&&i.track(a),i.resetEverything(),Y4(o.playlistLoader,s)}},jg={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:n},excludePlaylist:i}=e,r=n.activeTrack(),s=n.activeGroup(),a=(s.filter(l=>l.default)[0]||s[0]).id,o=n.tracks[a];if(r===o){i({error:{message:"Problem encountered loading the default audio track."}});return}ue.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in n.tracks)n.tracks[l].enabled=n.tracks[l]===o;n.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:n}}=e;ue.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const i=n.activeTrack();i&&(i.mode="disabled"),n.onTrackChanged()}},mk={AUDIO:(t,e,n)=>{if(!e)return;const{tech:i,requestOptions:r,segmentLoaders:{[t]:s}}=n;e.on("loadedmetadata",()=>{const a=e.media();s.playlist(a,r),(!i.paused()||a.endList&&i.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),r),i.paused()||s.load()}),e.on("error",jg[t](t,n))},SUBTITLES:(t,e,n)=>{const{tech:i,requestOptions:r,segmentLoaders:{[t]:s},mediaTypes:{[t]:a}}=n;e.on("loadedmetadata",()=>{const o=e.media();s.playlist(o,r),s.track(a.activeTrack()),(!i.paused()||o.endList&&i.preload()!=="none")&&s.load()}),e.on("loadedplaylist",()=>{s.playlist(e.media(),r),i.paused()||s.load()}),e.on("error",jg[t](t,n))}},gCe={AUDIO:(t,e)=>{const{vhs:n,sourceType:i,segmentLoaders:{[t]:r},requestOptions:s,main:{mediaGroups:a},mediaTypes:{[t]:{groups:o,tracks:l,logger_:c}},mainPlaylistLoader:u}=e,d=Qp(u.main);(!a[t]||Object.keys(a[t]).length===0)&&(a[t]={main:{default:{default:!0}}},d&&(a[t].main.default.playlists=u.main.playlists));for(const f in a[t]){o[f]||(o[f]=[]);for(const h in a[t][f]){let m=a[t][f][h],p;if(d?(c(`AUDIO group '${f}' label '${h}' is a main playlist`),m.isMainPlaylist=!0,p=null):i==="vhs-json"&&m.playlists?p=new Au(m.playlists[0],n,s):m.resolvedUri?p=new Au(m.resolvedUri,n,s):m.playlists&&i==="dash"?p=new D4(m.playlists[0],n,s,u):p=null,m=wt({id:h,playlistLoader:p},m),mk[t](t,m.playlistLoader,e),o[f].push(m),typeof l[h]>"u"){const v=new ue.AudioTrack({id:h,kind:hCe(m),enabled:!1,language:m.language,default:m.default,label:h});l[h]=v}}}r.on("error",jg[t](t,e))},SUBTITLES:(t,e)=>{const{tech:n,vhs:i,sourceType:r,segmentLoaders:{[t]:s},requestOptions:a,main:{mediaGroups:o},mediaTypes:{[t]:{groups:l,tracks:c}},mainPlaylistLoader:u}=e;for(const d in o[t]){l[d]||(l[d]=[]);for(const f in o[t][d]){if(!i.options_.useForcedSubtitles&&o[t][d][f].forced)continue;let h=o[t][d][f],m;if(r==="hls")m=new Au(h.resolvedUri,i,a);else if(r==="dash"){if(!h.playlists.filter(p=>p.excludeUntil!==1/0).length)return;m=new D4(h.playlists[0],i,a,u)}else r==="vhs-json"&&(m=new Au(h.playlists?h.playlists[0]:h.resolvedUri,i,a));if(h=wt({id:f,playlistLoader:m},h),mk[t](t,h.playlistLoader,e),l[d].push(h),typeof c[f]>"u"){const p=n.addRemoteTextTrack({id:f,kind:"subtitles",default:h.default&&h.autoselect,language:h.language,label:f},!1).track;c[f]=p}}}s.on("error",jg[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:n,main:{mediaGroups:i},mediaTypes:{[t]:{groups:r,tracks:s}}}=e;for(const a in i[t]){r[a]||(r[a]=[]);for(const o in i[t][a]){const l=i[t][a][o];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const c=n.options_.vhs&&n.options_.vhs.captionServices||{};let u={label:o,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(c[u.instreamId]&&(u=wt(u,c[u.instreamId])),u.default===void 0&&delete u.default,r[a].push(wt({id:o},l)),typeof s[o]>"u"){const d=n.addRemoteTextTrack({id:u.instreamId,kind:"captions",default:u.default,language:u.language,label:u.label},!1).track;s[o]=d}}}}},rP=(t,e)=>{for(let n=0;n<t.length;n++)if(F8(e,t[n])||t[n].playlists&&rP(t[n].playlists,e))return!0;return!1},yCe=(t,e)=>n=>{const{mainPlaylistLoader:i,mediaTypes:{[t]:{groups:r}}}=e,s=i.media();if(!s)return null;let a=null;s.attributes[t]&&(a=r[s.attributes[t]]);const o=Object.keys(r);if(!a)if(t==="AUDIO"&&o.length>1&&Qp(e.main))for(let l=0;l<o.length;l++){const c=r[o[l]];if(rP(c,s)){a=c;break}}else r.main?a=r.main:o.length===1&&(a=r[o[0]]);return typeof n>"u"?a:n===null||!a?null:a.filter(l=>l.id===n.id)[0]||null},bCe={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const i in n)if(n[i].enabled)return n[i];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:n}}}=e;for(const i in n)if(n[i].mode==="showing"||n[i].mode==="hidden")return n[i];return null}},vCe=(t,{mediaTypes:e})=>()=>{const n=e[t].activeTrack();return n?e[t].activeGroup(n):null},ECe=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(c=>{gCe[c](c,t)});const{mediaTypes:e,mainPlaylistLoader:n,tech:i,vhs:r,segmentLoaders:{["AUDIO"]:s,main:a}}=t;["AUDIO","SUBTITLES"].forEach(c=>{e[c].activeGroup=yCe(c,t),e[c].activeTrack=bCe[c](c,t),e[c].onGroupChanged=fCe(c,t),e[c].onGroupChanging=pCe(c,t),e[c].onTrackChanged=mCe(c,t),e[c].getActiveGroup=vCe(c,t)});const o=e.AUDIO.activeGroup();if(o){const c=(o.filter(u=>u.default)[0]||o[0]).id;e.AUDIO.tracks[c].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),s.setAudio(!0)):a.setAudio(!0)}n.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(c=>e[c].onGroupChanged())}),n.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(c=>e[c].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),i.trigger({type:"usage",name:"vhs-audio-change"})};i.audioTracks().addEventListener("change",l),i.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),r.on("dispose",()=>{i.audioTracks().removeEventListener("change",l),i.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),i.clearTracks("audio");for(const c in e.AUDIO.tracks)i.audioTracks().addTrack(e.AUDIO.tracks[c])},ACe=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:ka,activeTrack:ka,getActiveGroup:ka,onGroupChanged:ka,onTrackChanged:ka,lastTrack_:null,logger_:jr(`MediaGroups[${e}]`)}}),t};class gk{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=Ki(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(n=>[n.ID,n])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}class SCe extends ue.EventTarget{constructor(e,n){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new gk,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=jr("Content Steering"),this.xhr_=e,this.getBandwidth_=n}assignTagProperties(e,n){this.manifestType_=n.serverUri?"HLS":"DASH";const i=n.serverUri||n.serverURL;if(!i){this.logger_(`steering manifest URL is ${i}, cannot request steering manifest.`),this.trigger("error");return}if(i.startsWith("data:")){this.decodeDataUriManifest_(i.substring(i.indexOf(",")+1));return}this.steeringManifest.reloadUri=Ki(e,i),this.defaultPathway=n.pathwayId||n.defaultServiceLocation,this.queryBeforeStart=n.queryBeforeStart,this.proxyServerUrl_=n.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const n=this.steeringManifest.reloadUri;if(!n)return;const i=e?n:this.getRequestURI(n);if(!i){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const r={contentSteeringInfo:{uri:i}};this.trigger({type:"contentsteeringloadstart",metadata:r}),this.request_=this.xhr_({uri:i,requestType:"content-steering-manifest"},(s,a)=>{if(s){if(a.status===410){this.logger_(`manifest request 410 ${s}.`),this.logger_(`There will be no more content steering requests to ${i} this session.`),this.excludedSteeringManifestURLs.add(i);return}if(a.status===429){const c=a.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${s}.`),this.logger_(`content steering will retry in ${c} seconds.`),this.startTTLTimeout_(parseInt(c,10));return}this.logger_(`manifest failed to load ${s}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:r});let o;try{o=JSON.parse(this.request_.responseText)}catch(c){const u={errorType:ue.Error.StreamingContentSteeringParserError,error:c};this.trigger({type:"error",metadata:u})}this.assignSteeringProperties_(o);const l={contentSteeringInfo:r.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:l}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const n=new $.URL(e),i=new $.URL(this.proxyServerUrl_);return i.searchParams.set("url",encodeURI(n.toString())),this.setSteeringParams_(i.toString())}decodeDataUriManifest_(e){const n=JSON.parse($.atob(e));this.assignSteeringProperties_(n)}setSteeringParams_(e){const n=new $.URL(e),i=this.getPathway(),r=this.getBandwidth_();if(i){const s=`_${this.manifestType_}_pathway`;n.searchParams.set(s,i)}if(r){const s=`_${this.manifestType_}_throughput`;n.searchParams.set(s,r)}return n.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const n=(i=>{for(const r of i)if(this.availablePathways_.has(r))return r;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==n&&(this.currentPathway=n,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const n=r=>this.excludedSteeringManifestURLs.has(r);if(this.proxyServerUrl_){const r=this.setProxyServerUrl_(e);if(!n(r))return r}const i=this.setSteeringParams_(e);return n(i)?null:i}startTTLTimeout_(e=this.steeringManifest.ttl){const n=e*1e3;this.ttlTimeout_=$.setTimeout(()=>{this.requestSteeringManifest()},n)}clearTTLTimeout_(){$.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new gk}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,n){return!n&&this.steeringManifest.reloadUri||n&&(Ki(e,n.serverURL)!==this.steeringManifest.reloadUri||n.defaultServiceLocation!==this.defaultPathway||n.queryBeforeStart!==this.queryBeforeStart||n.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}}const TCe=(t,e)=>{let n=null;return(...i)=>{clearTimeout(n),n=setTimeout(()=>{t.apply(null,i)},e)}},RCe=10;let To;const CCe=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],ICe=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},wCe=function({currentPlaylist:t,buffered:e,currentTime:n,nextPlaylist:i,bufferLowWaterLine:r,bufferHighWaterLine:s,duration:a,bufferBasedABR:o,log:l}){if(!i)return ue.log.warn("We received no playlist to switch to. Please check your stream."),!1;const c=`allowing switch ${t&&t.id||"null"} -> ${i.id}`;if(!t)return l(`${c} as current playlist is not set`),!0;if(i.id===t.id)return!1;const u=!!Eu(e,n).length;if(!t.endList)return!u&&typeof t.partTargetDuration=="number"?(l(`not ${c} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${c} as current playlist is live`),!0);const d=N8(e,n),f=o?zn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:zn.MAX_BUFFER_LOW_WATER_LINE;if(a<f)return l(`${c} as duration < max low water line (${a} < ${f})`),!0;const h=i.attributes.BANDWIDTH,m=t.attributes.BANDWIDTH;if(h<m&&(!o||d<s)){let p=`${c} as next bandwidth < current bandwidth (${h} < ${m})`;return o&&(p+=` and forwardBuffer < bufferHighWaterLine (${d} < ${s})`),l(p),!0}if((!o||h>m)&&d>=r){let p=`${c} as forwardBuffer >= bufferLowWaterLine (${d} >= ${r})`;return o&&(p+=` and next bandwidth > current bandwidth (${h} > ${m})`),l(p),!0}return l(`not ${c} as no switching criteria met`),!1};class xCe extends ue.EventTarget{constructor(e){super(),this.fastQualityChange_=TCe(this.fastQualityChange_.bind(this),100);const{src:n,withCredentials:i,tech:r,bandwidth:s,externVhs:a,useCueTags:o,playlistExclusionDuration:l,enableLowInitialPlaylist:c,sourceType:u,cacheEncryptionKeys:d,bufferBasedABR:f,leastPixelDiffSelector:h,captionServices:m,experimentalUseMMS:p}=e;if(!n)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:v}=e;(v===null||typeof v>"u")&&(v=1/0),To=a,this.bufferBasedABR=!!f,this.leastPixelDiffSelector=!!h,this.withCredentials=i,this.tech_=r,this.vhs_=r.vhs,this.player_=e.player_,this.sourceType_=u,this.useCueTags_=o,this.playlistExclusionDuration=l,this.maxPlaylistRetries=v,this.enableLowInitialPlaylist=c,this.usingManagedMediaSource_=!1,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:i,maxPlaylistRetries:v,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=ACe(),p&&$.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new $.ManagedMediaSource,this.usingManagedMediaSource_=!0,ue.log("Using ManagedMediaSource")):$.MediaSource&&(this.mediaSource=new $.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=Ri(),this.hasPlayed_=!1,this.syncController_=new lCe(e),this.segmentMetadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new dCe,this.sourceUpdater_=new tP(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new cCe,this.keyStatusMap_=new Map;const y={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:m,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:s,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:d,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new D4(n,this.vhs_,wt(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new Au(n,this.vhs_,wt(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new M4(wt(y,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new M4(wt(y,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new iCe(wt(y,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((I,w)=>{function N(){r.off("vttjserror",F),I()}function F(){r.off("vttjsloaded",N),w()}r.one("vttjsloaded",N),r.one("vttjserror",F),r.addWebVttScript_()})}),e);const E=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new SCe(this.vhs_.xhr,E),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),CCe.forEach(I=>{this[I+"_"]=ICe.bind(this,I)}),this.logger_=jr("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const S=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(S,()=>{const I=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-I,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),n=this.audioAppendsToLoadedData_();return e===-1||n===-1?-1:e+n}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const n=this.selectPlaylist();n&&this.shouldSwitchToMedia_(n)&&this.switchMedia_(n,e)}switchMedia_(e,n,i){const r=this.media(),s=r&&(r.id||r.uri),a=e&&(e.id||e.uri);if(s&&s!==a){this.logger_(`switch media ${s} -> ${a} from ${n}`);const o={renditionInfo:{id:a,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:n};this.trigger({type:"renditionselected",metadata:o}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${n}`})}this.mainPlaylistLoader_.media(e,i)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const n=this.mediaTypes_[e],i=n?n.activeGroup():null,r=this.contentSteeringController_.getPathway();if(i&&r){const s=(i.length?i[0].playlists:i.playlists).filter(a=>a.attributes.serviceLocation===r);s.length&&this.mediaTypes_[e].activePlaylistLoader.media(s[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=$.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||($.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),n=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return n;const i=e.mediaGroups.AUDIO,r=Object.keys(i);let s;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)s=this.mediaTypes_.AUDIO.activeTrack();else{const o=i.main||r.length&&i[r[0]];for(const l in o)if(o[l].default){s={label:l};break}}if(!s)return n;const a=[];for(const o in i)if(i[o][s.label]){const l=i[o][s.label];if(l.playlists&&l.playlists.length)a.push.apply(a,l.playlists);else if(l.uri)a.push(l);else if(e.playlists.length)for(let c=0;c<e.playlists.length;c++){const u=e.playlists[c];u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===o&&a.push(u)}}return a.length?a:n}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const e=this.mainPlaylistLoader_.media(),n=e.targetDuration*1.5*1e3;U4(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,e.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.mainSegmentLoader_.load()),ECe({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),e),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let e=this.mainPlaylistLoader_.media();if(!e){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let n;if(this.enableLowInitialPlaylist&&(n=this.selectInitialPlaylist()),n||(n=this.selectPlaylist()),!n||!this.shouldSwitchToMedia_(n)||(this.initialMedia_=n,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;e=this.initialMedia_}this.handleUpdatedMediaPlaylist(e)}),this.mainPlaylistLoader_.on("error",()=>{const e=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:e.playlist,error:e})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const e=this.mainPlaylistLoader_.media(),n=e.targetDuration*1.5*1e3;U4(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,this.sourceType_==="dash"&&this.mainPlaylistLoader_.isPaused&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const e=this.mainPlaylistLoader_.media();e.lastExcludeReason_!=="playlist-unchanged"&&this.stuckAtPlaylistEnd_(e)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(e=>{this.mainPlaylistLoader_.on(e,n=>{this.player_.trigger(xn({},n))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,n){const i=e.mediaGroups||{};let r=!0;const s=Object.keys(i.AUDIO);for(const a in i.AUDIO)for(const o in i.AUDIO[a])i.AUDIO[a][o].uri||(r=!1);r&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),To.Playlist.isAes(n)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),s.length&&Object.keys(i.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const n=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,i=this.tech_.currentTime(),r=this.bufferLowWaterLine(),s=this.bufferHighWaterLine(),a=this.tech_.buffered();return wCe({buffered:a,currentTime:i,currentPlaylist:n,nextPlaylist:e,bufferLowWaterLine:r,bufferHighWaterLine:s,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const n=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{const n=this.audioSegmentLoader_.pendingSegment_;if(!n||!n.segment||!n.segment.syncInfo)return;const i=n.segment.syncInfo.end+.01;this.tech_.setCurrentTime(i)}),this.timelineChangeController_.on("fixBadTimelineChange",()=>{this.logger_("Fix bad timeline change. Restarting al segment loaders..."),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}),this.mainSegmentLoader_.on("earlyabort",n=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:RCe}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const n=this.getCodecsOrExclude_();n&&this.sourceUpdater_.addOrChangeSourceBuffers(n)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(n=>{this.mainSegmentLoader_.on(n,i=>{this.player_.trigger(xn({},i))}),this.audioSegmentLoader_.on(n,i=>{this.player_.trigger(xn({},i))}),this.subtitleSegmentLoader_.on(n,i=>{this.player_.trigger(xn({},i))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const n=this.seekable();if(!n.length)return!1;const i=n.end(0);let r=i;if(e.start){const s=e.start.timeOffset;s<0?r=Math.max(i+s,n.start(0)):r=Math.min(i,s)}this.trigger("firstplay"),this.tech_.setCurrentTime(r)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,n=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const n=this.duration();e[e.length-1].endTime=isNaN(n)||Math.abs(n)===1/0?Number.MAX_VALUE:n}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const n=this.mainSegmentLoader_.getCurrentMediaInfo_();!n||n.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const n=this.syncController_.getExpiredTime(e,this.duration());if(n===null)return!1;const i=To.Playlist.playlistEnd(e,n),r=this.tech_.currentTime(),s=this.tech_.buffered();if(!s.length)return i-r<=$s;const a=s.end(s.length-1);return a-r<=$s&&i-a<=$s}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:n={},playlistExclusionDuration:i}){if(e=e||this.mainPlaylistLoader_.media(),i=i||n.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=n,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const r=this.mainPlaylistLoader_.main.playlists,s=r.filter(Iy),a=s.length===1&&s[0]===e;if(r.length===1&&i!==1/0)return ue.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const m=this.pathwayAttribute_(e),p=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(m),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(m)},p);return}let h=!1;r.forEach(m=>{if(m===e)return;const p=m.excludeUntil;typeof p<"u"&&p!==1/0&&(h=!0,delete m.excludeUntil)}),h&&(ue.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let o;e.playlistErrors_>this.maxPlaylistRetries?o=1/0:o=Date.now()+i*1e3,e.excludeUntil=o,n.reason&&(e.lastExcludeReason_=n.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const c=n.internal?this.logger_:ue.log.warn,u=n.message?" "+n.message:"";c(`${n.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${u} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const d=l.targetDuration/2*1e3||5*1e3,f=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=d;return this.switchMedia_(l,"exclude",a||f)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,n){const i=[],r=e==="all";(r||e==="main")&&i.push(this.mainPlaylistLoader_);const s=[];(r||e==="audio")&&s.push("AUDIO"),(r||e==="subtitle")&&(s.push("CLOSED-CAPTIONS"),s.push("SUBTITLES")),s.forEach(a=>{const o=this.mediaTypes_[a]&&this.mediaTypes_[a].activePlaylistLoader;o&&i.push(o)}),["main","audio","subtitle"].forEach(a=>{const o=this[`${a}SegmentLoader_`];o&&(e===a||e==="all")&&i.push(o)}),i.forEach(a=>n.forEach(o=>{typeof a[o]=="function"&&a[o]()}))}setCurrentTime(e){const n=Eu(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(n&&n.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:To.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}getSeekableRange_(e,n){const i=e.media();if(!i)return null;const r=this.syncController_.getMediaSequenceSync(n);if(r&&r.isReliable){const o=r.start,l=r.end;if(!isFinite(o)||!isFinite(l))return null;const c=To.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,i),u=Math.max(0,l-c);return u<o?null:Ri([[o,u]])}const s=this.syncController_.getExpiredTime(i,this.duration());if(s===null)return null;const a=To.Playlist.seekable(i,s,To.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,i));return a.length?a:null}computeFinalSeekable_(e,n){if(!n)return e;const i=e.start(0),r=e.end(0),s=n.start(0),a=n.end(0);return s>r||i>a?e:Ri([[Math.max(i,s),Math.min(r,a)]])}onSyncInfoUpdate_(){if(!this.mainPlaylistLoader_)return;const e=this.getSeekableRange_(this.mainPlaylistLoader_,"main");if(!e)return;let n;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(n=this.getSeekableRange_(this.mediaTypes_.AUDIO.activePlaylistLoader,"audio"),!n))return;const i=this.seekable_;if(this.seekable_=this.computeFinalSeekable_(e,n),!this.seekable_||i&&i.length&&this.seekable_.length&&i.start(0)===this.seekable_.start(0)&&i.end(0)===this.seekable_.end(0))return;this.logger_(`seekable updated [${mM(this.seekable_)}]`);const r={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:r}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const r=this.seekable();if(!r.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<r.end(r.length-1))&&this.sourceUpdater_.setDuration(r.end(r.length-1));return}const n=this.tech_.buffered();let i=To.Playlist.duration(this.mainPlaylistLoader_.media());n.length>0&&(i=Math.max(i,n.end(n.length-1))),this.mediaSource.duration!==i&&this.sourceUpdater_.setDuration(i)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const n=this.mediaTypes_[e].groups;for(const i in n)n[i].forEach(r=>{r.playlistLoader&&r.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,n=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),i=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!n||!i)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},n=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const i=If(this.main(),n),r={},s=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(r.video=i.video||e.main.videoCodec||gSe),e.main.isMuxed&&(r.video+=`,${i.audio||e.main.audioCodec||d_}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||s)&&(r.audio=i.audio||e.main.audioCodec||e.audio.audioCodec||d_,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!r.audio&&!r.video){this.excludePlaylist({playlistToExclude:n,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const a=(c,u)=>c?Af(u,this.usingManagedMediaSource_):U5(u),o={};let l;if(["video","audio"].forEach(function(c){if(r.hasOwnProperty(c)&&!a(e[c].isFmp4,r[c])){const u=e[c].isFmp4?"browser":"muxer";o[u]=o[u]||[],o[u].push(r[c]),c==="audio"&&(l=u)}}),s&&l&&n.attributes.AUDIO){const c=n.attributes.AUDIO;this.main().playlists.forEach(u=>{(u.attributes&&u.attributes.AUDIO)===c&&u!==n&&(u.excludeUntil=1/0)}),this.logger_(`excluding audio group ${c} as ${l} does not support codec(s): "${r.audio}"`)}if(Object.keys(o).length){const c=Object.keys(o).reduce((u,d)=>(u&&(u+=", "),u+=`${d} does not support codec(s): "${o[d].join(",")}"`,u),"")+".";this.excludePlaylist({playlistToExclude:n,error:{internal:!0,message:c},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const c=[];if(["video","audio"].forEach(u=>{const d=(ks(this.sourceUpdater_.codecs[u]||"")[0]||{}).type,f=(ks(r[u]||"")[0]||{}).type;d&&f&&d.toLowerCase()!==f.toLowerCase()&&c.push(`"${this.sourceUpdater_.codecs[u]}" -> "${r[u]}"`)}),c.length){this.excludePlaylist({playlistToExclude:n,error:{message:`Codec switching not supported: ${c.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return r}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const n=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(n)}excludeUnsupportedVariants_(){const e=this.main().playlists,n=[];Object.keys(e).forEach(i=>{const r=e[i];if(n.indexOf(r.id)!==-1)return;n.push(r.id);const s=If(this.main,r),a=[];s.audio&&!U5(s.audio)&&!Af(s.audio,this.usingManagedMediaSource_)&&a.push(`audio codec ${s.audio}`),s.video&&!U5(s.video)&&!Af(s.video,this.usingManagedMediaSource_)&&a.push(`video codec ${s.video}`),s.text&&s.text==="stpp.ttml.im1t"&&a.push(`text codec ${s.text}`),a.length&&(r.excludeUntil=1/0,this.logger_(`excluding ${r.id} for unsupported: ${a.join(", ")}`))})}excludeIncompatibleVariants_(e){const n=[],i=this.main().playlists,r=Yg(ks(e)),s=ik(r),a=r.video&&ks(r.video)[0]||null,o=r.audio&&ks(r.audio)[0]||null;Object.keys(i).forEach(l=>{const c=i[l];if(n.indexOf(c.id)!==-1||c.excludeUntil===1/0)return;n.push(c.id);const u=[],d=If(this.mainPlaylistLoader_.main,c),f=ik(d);if(!(!d.audio&&!d.video)){if(f!==s&&u.push(`codec count "${f}" !== "${s}"`),!this.sourceUpdater_.canChangeType()){const h=d.video&&ks(d.video)[0]||null,m=d.audio&&ks(d.audio)[0]||null;h&&a&&h.type.toLowerCase()!==a.type.toLowerCase()&&u.push(`video codec "${h.type}" !== "${a.type}"`),m&&o&&m.type.toLowerCase()!==o.type.toLowerCase()&&u.push(`audio codec "${m.type}" !== "${o.type}"`)}u.length&&(c.excludeUntil=1/0,this.logger_(`excluding ${c.id}: ${u.join(" && ")}`))}})}updateAdCues_(e){let n=0;const i=this.seekable();i.length&&(n=i.start(0)),sCe(e,this.cueTagsTrack_,n)}goalBufferLength(){const e=this.tech_.currentTime(),n=zn.GOAL_BUFFER_LENGTH,i=zn.GOAL_BUFFER_LENGTH_RATE,r=Math.max(n,zn.MAX_GOAL_BUFFER_LENGTH);return Math.min(n+e*i,r)}bufferLowWaterLine(){const e=this.tech_.currentTime(),n=zn.BUFFER_LOW_WATER_LINE,i=zn.BUFFER_LOW_WATER_LINE_RATE,r=Math.max(n,zn.MAX_BUFFER_LOW_WATER_LINE),s=Math.max(n,zn.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(n+e*i,this.bufferBasedABR?s:r)}bufferHighWaterLine(){return zn.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){ak(this.inbandTextTracks_,"com.apple.streaming",this.tech_),GRe({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,n,i){const r=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();ak(this.inbandTextTracks_,e,this.tech_),URe({inbandTextTracks:this.inbandTextTracks_,metadataArray:n,timestampOffset:r,videoDuration:i})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const n of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(n));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(e=>{this.contentSteeringController_.on(e,n=>{this.trigger(xn({},n))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const e=this.main();(this.contentSteeringController_.didDASHTagChange(e.uri,e.contentSteering)||(()=>{const n=this.contentSteeringController_.getAvailablePathways(),i=[];for(const r of e.playlists){const s=r.attributes.serviceLocation;if(s&&(i.push(s),!n.has(s)))return!0}return!!(!i.length&&n.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const n=this.main().playlists,i=new Set;let r=!1;Object.keys(n).forEach(s=>{const a=n[s],o=this.pathwayAttribute_(a),l=o&&e!==o;a.excludeUntil===1/0&&a.lastExcludeReason_==="content-steering"&&!l&&(delete a.excludeUntil,delete a.lastExcludeReason_,r=!0);const c=!a.excludeUntil&&a.excludeUntil!==1/0;!i.has(a.id)&&l&&c&&(i.add(a.id),a.excludeUntil=1/0,a.lastExcludeReason_="content-steering",this.logger_(`excluding ${a.id} for ${a.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(s=>{const a=this.mediaTypes_[s];if(a.activePlaylistLoader){const o=a.activePlaylistLoader.media_;o&&o.attributes.serviceLocation!==e&&(r=!0)}}),r&&this.changeSegmentPathway_()}handlePathwayClones_(){const e=this.main().playlists,n=this.contentSteeringController_.currentPathwayClones,i=this.contentSteeringController_.nextPathwayClones;if(n&&n.size||i&&i.size){for(const[r,s]of n.entries())i.get(r)||(this.mainPlaylistLoader_.updateOrDeleteClone(s),this.contentSteeringController_.excludePathway(r));for(const[r,s]of i.entries()){const a=n.get(r);if(!a){e.filter(o=>o.attributes["PATHWAY-ID"]===s["BASE-ID"]).forEach(o=>{this.mainPlaylistLoader_.addClonePathway(s,o)}),this.contentSteeringController_.addAvailablePathway(r);continue}this.equalPathwayClones_(a,s)||(this.mainPlaylistLoader_.updateOrDeleteClone(s,!0),this.contentSteeringController_.addAvailablePathway(r))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...i])))}}equalPathwayClones_(e,n){if(e["BASE-ID"]!==n["BASE-ID"]||e.ID!==n.ID||e["URI-REPLACEMENT"].HOST!==n["URI-REPLACEMENT"].HOST)return!1;const i=e["URI-REPLACEMENT"].PARAMS,r=n["URI-REPLACEMENT"].PARAMS;for(const s in i)if(i[s]!==r[s])return!1;for(const s in r)if(i[s]!==r[s])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const n="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(i=>{const r=this.mainPlaylistLoader_.getKeyIdSet(i);!r||!r.size||r.forEach(s=>{const a="usable",o=this.keyStatusMap_.has(s)&&this.keyStatusMap_.get(s)===a,l=i.lastExcludeReason_===n&&i.excludeUntil===1/0;o?o&&l&&(delete i.excludeUntil,delete i.lastExcludeReason_,this.logger_(`enabling playlist ${i.id} because key ID ${s} is ${a}`)):(i.excludeUntil!==1/0&&i.lastExcludeReason_!==n&&(i.excludeUntil=1/0,i.lastExcludeReason_=n,this.logger_(`excluding playlist ${i.id} because the key ID ${s} doesn't exist in the keyStatusMap or is not ${a}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(i=>{const r=i&&i.attributes&&i.attributes.RESOLUTION&&i.attributes.RESOLUTION.height<720,s=i.excludeUntil===1/0&&i.lastExcludeReason_===n;r&&s&&(delete i.excludeUntil,ue.log.warn(`enabling non-HD playlist ${i.id} because all playlists were excluded due to ${n} key IDs`))})}addKeyStatus_(e,n){const i=(typeof e=="string"?e:tCe(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${n}' with key ID ${i} added to the keyStatusMap`),this.keyStatusMap_.set(i,n)}updatePlaylistByKeyStatus(e,n){this.addKeyStatus_(e,n),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const VCe=(t,e,n)=>i=>{const r=t.main.playlists[e],s=k8(r),a=Iy(r);if(typeof i>"u")return a;i?delete r.disabled:r.disabled=!0;const o={renditionInfo:{id:e,bandwidth:r.attributes.BANDWIDTH,resolution:r.attributes.RESOLUTION,codecs:r.attributes.CODECS},cause:"fast-quality"};return i!==a&&!s&&(i?(n(r),t.trigger({type:"renditionenabled",metadata:o})):t.trigger({type:"renditiondisabled",metadata:o})),i};class NCe{constructor(e,n,i){const{playlistController_:r}=e,s=r.fastQualityChange_.bind(r);if(n.attributes){const a=n.attributes.RESOLUTION;this.width=a&&a.width,this.height=a&&a.height,this.bandwidth=n.attributes.BANDWIDTH,this.frameRate=n.attributes["FRAME-RATE"]}this.codecs=If(r.main(),n),this.playlist=n,this.id=i,this.enabled=VCe(e.playlists,n.id,s)}}const _Ce=function(t){t.representations=()=>{const e=t.playlistController_.main(),n=Qp(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return n?n.filter(i=>!k8(i)).map((i,r)=>new NCe(t,i,i.id)):[]}},yk=["seeking","seeked","pause","playing","error"];class kCe extends ue.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=jr("PlaybackWatcher"),this.logger_("initialize");const n=()=>this.monitorCurrentTime_(),i=()=>this.monitorCurrentTime_(),r=()=>this.techWaiting_(),s=()=>this.resetTimeUpdate_(),a=this.playlistController_,o=["main","subtitle","audio"],l={};o.forEach(u=>{l[u]={reset:()=>this.resetSegmentDownloads_(u),updateend:()=>this.checkSegmentDownloads_(u)},a[`${u}SegmentLoader_`].on("appendsdone",l[u].updateend),a[`${u}SegmentLoader_`].on("playlistupdate",l[u].reset),this.tech_.on(["seeked","seeking"],l[u].reset)});const c=u=>{["main","audio"].forEach(d=>{a[`${d}SegmentLoader_`][u]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),c("off"))},this.clearSeekingAppendCheck_=()=>c("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),c("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",r),this.tech_.on(yk,s),this.tech_.on("canplay",i),this.tech_.one("play",n),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",r),this.tech_.off(yk,s),this.tech_.off("canplay",i),this.tech_.off("play",n),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),o.forEach(u=>{a[`${u}SegmentLoader_`].off("appendsdone",l[u].updateend),a[`${u}SegmentLoader_`].off("playlistupdate",l[u].reset),this.tech_.off(["seeked","seeking"],l[u].reset)}),this.checkCurrentTimeTimeout_&&$.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&$.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=$.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const n=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=n.buffered_()}checkSegmentDownloads_(e){const n=this.playlistController_,i=n[`${e}SegmentLoader_`],r=i.buffered_(),s=g8e(this[`${e}Buffered_`],r);if(this[`${e}Buffered_`]=r,s){const a={bufferedRanges:r};n.trigger({type:"bufferedrangeschanged",metadata:a}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:i.playlist_&&i.playlist_.id,buffered:Gl(r)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&n.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),n=this.tech_.buffered();if(this.lastRecordedTime===e&&(!n.length||e+$s>=n.end(n.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(Ri([this.lastRecordedTime,e]));const i={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:i}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const e=this.seekable(),n=this.tech_.currentTime(),i=this.afterSeekableWindow_(e,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let r;if(i&&(r=e.end(e.length-1)),this.beforeSeekableWindow_(e,n)){const h=e.start(0);r=h+(h===e.end(0)?0:$s)}if(typeof r<"u")return this.logger_(`Trying to seek outside of seekable at time ${n} with seekable range ${mM(e)}. Seeking to ${r}.`),this.tech_.setCurrentTime(r),!0;const s=this.playlistController_.sourceUpdater_,a=this.tech_.buffered(),o=s.audioBuffer?s.audioBuffered():null,l=s.videoBuffer?s.videoBuffered():null,c=this.media(),u=c.partTargetDuration?c.partTargetDuration:(c.targetDuration-Ys)*2,d=[o,l];for(let h=0;h<d.length;h++)if(d[h]&&N8(d[h],n)<u)return!1;const f=f1(a,n);return f.length===0?!1:(r=f.start(0)+$s,this.logger_(`Buffered region starts (${f.start(0)})  just beyond seek point (${n}). Seeking to ${r}.`),this.tech_.setCurrentTime(r),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),n=this.tech_.buffered(),i=Eu(n,e);if(i.length&&e+3<=i.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${i.start(0)} -> ${i.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),n=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,n)){const a=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${n}. Seeking to live point (seekable end) ${a}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(a),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const i=this.tech_.vhs.playlistController_.sourceUpdater_,r=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:i.audioBuffered(),videoBuffered:i.videoBuffered(),currentTime:n}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(n),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const s=f1(r,n);return s.length>0?(this.logger_(`Stopped at ${n} and seeking to ${s.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(n),!0):!1}afterSeekableWindow_(e,n,i,r=!1){if(!e.length)return!1;let s=e.end(e.length-1)+$s;const a=!i.endList,o=typeof i.partTargetDuration=="number";return a&&(o||r)&&(s=e.end(e.length-1)+i.targetDuration*3),n>s}beforeSeekableWindow_(e,n){return!!(e.length&&e.start(0)>0&&n<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:n,currentTime:i}){if(!e)return;let r;if(e.length&&n.length){const s=Eu(e,i-3),a=Eu(e,i),o=Eu(n,i);o.length&&!a.length&&s.length&&(r={start:s.end(0),end:o.end(0)})}else f1(e,i).length||(r=this.gapFromVideoUnderflow_(e,i));return r?(this.logger_(`Encountered a gap in video from ${r.start} to ${r.end}. Seeking to current time ${i}`),!0):!1}skipTheGap_(e){const n=this.tech_.buffered(),i=this.tech_.currentTime(),r=f1(n,i);if(this.resetTimeUpdate_(),r.length===0||i!==e)return;this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",e,"nextRange start:",r.start(0)),this.tech_.setCurrentTime(r.start(0)+Ys);const s={gapInfo:{from:i,to:r.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:s}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,n){const i=f8e(e);for(let r=0;r<i.length;r++){const s=i.start(r),a=i.end(r);if(n-s<4&&n-s>2)return{start:s,end:a}}return null}}const FCe={errorInterval:30,getSource(t){const e=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(e)}},sP=function(t,e){let n=0,i=0;const r=wt(FCe,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const s=function(){i&&t.currentTime(i)},a=function(u){u!=null&&(i=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",s),t.src(u),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},o=function(){if(Date.now()-n<r.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!r.getSource||typeof r.getSource!="function"){ue.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return n=Date.now(),r.getSource.call(t,a)},l=function(){t.off("loadedmetadata",s),t.off("error",o),t.off("dispose",l)},c=function(u){l(),sP(t,u)};t.on("error",o),t.on("dispose",l),t.reloadSourceOnError=c},LCe=function(t){sP(this,t)};var aP="3.16.2",UCe="7.1.0",BCe="1.3.1",WCe="7.2.0",GCe="4.0.2";const hn={PlaylistLoader:Au,Playlist:Ji,utils:D8e,STANDARD_PLAYLIST_SELECTOR:sk,INITIAL_PLAYLIST_SELECTOR:NRe,lastBandwidthSelector:sk,movingAverageBandwidthSelector:xRe,comparePlaylistBandwidth:U8,comparePlaylistResolution:wRe,xhr:kM()};Object.keys(zn).forEach(t=>{Object.defineProperty(hn,t,{get(){return ue.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),zn[t]},set(e){if(ue.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){ue.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}zn[t]=e}})});const oP="videojs-vhs",lP=function(t,e){const n=e.media();let i=-1;for(let r=0;r<t.length;r++)if(t[r].id===n.id){i=r;break}t.selectedIndex_=i,t.trigger({selectedIndex:i,type:"change"})},ZCe=function(t,e){e.representations().forEach(n=>{t.addQualityLevel(n)}),lP(t,e.playlists)};hn.canPlaySource=function(){return ue.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const DCe=(t,e,n)=>{if(!t)return t;let i={};e&&e.attributes&&e.attributes.CODECS&&(i=Yg(ks(e.attributes.CODECS))),n&&n.attributes&&n.attributes.CODECS&&(i.audio=n.attributes.CODECS);const r=vd(i.video),s=vd(i.audio),a={};for(const o in t)a[o]={},s&&(a[o].audioContentType=s),r&&(a[o].videoContentType=r),e.contentProtection&&e.contentProtection[o]&&e.contentProtection[o].pssh&&(a[o].pssh=e.contentProtection[o].pssh),typeof t[o]=="string"&&(a[o].url=t[o]);return wt(t,a)},OCe=(t,e)=>t.reduce((n,i)=>{if(!i.contentProtection)return n;const r=e.reduce((s,a)=>{const o=i.contentProtection[a];return o&&o.pssh&&(s[a]={pssh:o.pssh}),s},{});return Object.keys(r).length&&n.push(r),n},[]),XCe=({player:t,sourceKeySystems:e,audioMedia:n,mainPlaylists:i})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const r=n?i.concat([n]):i,s=OCe(r,Object.keys(e)),a=[],o=[];return s.forEach(l=>{o.push(new Promise((c,u)=>{t.tech_.one("keysessioncreated",c)})),a.push(new Promise((c,u)=>{t.eme.initializeMediaKeys({keySystems:l},d=>{if(d){u(d);return}c()})}))}),Promise.race([Promise.all(a),Promise.race(o)])},MCe=({player:t,sourceKeySystems:e,media:n,audioMedia:i})=>{const r=DCe(e,n,i);return r?(t.currentSource().keySystems=r,r&&!t.eme?(ue.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},cP=()=>{if(!$.localStorage)return null;const t=$.localStorage.getItem(oP);if(!t)return null;try{return JSON.parse(t)}catch{return null}},PCe=t=>{if(!$.localStorage)return!1;let e=cP();e=e?wt(e,t):t;try{$.localStorage.setItem(oP,JSON.stringify(e))}catch{return!1}return e},YCe=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,uP=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},dP=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},hP=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},fP=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};hn.supportsNativeHls=function(){if(!Fe||!Fe.createElement)return!1;const t=Fe.createElement("video");return ue.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(e){return/maybe|probably/i.test(t.canPlayType(e))}):!1}();hn.supportsNativeDash=function(){return!Fe||!Fe.createElement||!ue.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Fe.createElement("video").canPlayType("application/dash+xml"))}();hn.supportsTypeNatively=t=>t==="hls"?hn.supportsNativeHls:t==="dash"?hn.supportsNativeDash:!1;hn.isSupported=function(){return ue.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};hn.xhr.onRequest=function(t){uP(hn.xhr,t)};hn.xhr.onResponse=function(t){dP(hn.xhr,t)};hn.xhr.offRequest=function(t){hP(hn.xhr,t)};hn.xhr.offResponse=function(t){fP(hn.xhr,t)};const $Ce=ue.getComponent("Component");class pP extends $Ce{constructor(e,n,i){if(super(n,i.vhs),typeof i.initialBandwidth=="number"&&(this.options_.bandwidth=i.initialBandwidth),this.logger_=jr("VhsHandler"),n.options_&&n.options_.playerId){const r=ue.getPlayer(n.options_.playerId);this.player_=r}if(this.tech_=n,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Fe,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],r=>{const s=Fe.fullscreenElement||Fe.webkitFullscreenElement||Fe.mozFullScreenElement||Fe.msFullscreenElement;s&&s.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=wt(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const i=cP();i&&i.bandwidth&&(this.options_.bandwidth=i.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),i&&i.throughput&&(this.options_.throughput=i.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=zn.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===zn.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(i=>{typeof this.source_[i]<"u"&&(this.options_[i]=this.source_[i])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const n=this.options_.customPixelRatio;typeof n=="number"&&n>=0&&(this.customPixelRatio=n)}setOptions(e={}){this.setOptions_(e)}src(e,n){if(!e)return;this.setOptions_(),this.options_.src=YCe(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=hn,this.options_.sourceType=GO(n),this.options_.seekTo=s=>{this.tech_.setCurrentTime(s)},this.options_.player_=this.player_,this.playlistController_=new xCe(this.options_);const i=wt({liveRangeSafeTimeDelta:$s},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new kCe(i),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const s=ue.players[this.tech_.options_.playerId];let a=this.playlistController_.error;typeof a=="object"&&!a.code?a.code=3:typeof a=="string"&&(a={message:a,code:3}),s.error(a)});const r=this.options_.bufferBasedABR?hn.movingAverageBandwidthSelector(.55):hn.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):r.bind(this),this.playlistController_.selectInitialPlaylist=hn.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(s){this.playlistController_.selectPlaylist=s.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(s){this.playlistController_.mainSegmentLoader_.throughput.rate=s,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let s=this.playlistController_.mainSegmentLoader_.bandwidth;const a=$.navigator.connection||$.navigator.mozConnection||$.navigator.webkitConnection,o=1e7;if(this.options_.useNetworkInformationApi&&a){const l=a.downlink*1e3*1e3;l>=o&&s>=o?s=Math.max(s,l):s=l}return s},set(s){this.playlistController_.mainSegmentLoader_.bandwidth=s,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const s=1/(this.bandwidth||1);let a;return this.throughput>0?a=1/this.throughput:a=0,Math.floor(1/(s+a))},set(){ue.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Gl(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Gl(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&PCe({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{_Ce(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=$.URL.createObjectURL(this.playlistController_.mediaSource),(ue.browser.IS_ANY_SAFARI||ue.browser.IS_IOS)&&this.options_.overrideNative&&this.options_.sourceType==="hls"&&typeof this.tech_.addSourceElement=="function"?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),XCe({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(n=>{this.logger_("error while creating EME key session",n),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,n=MCe({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",i=>{this.playlistController_.updatePlaylistByKeyStatus(i.keyId,i.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!n){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=ue.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{ZCe(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{lP(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":aP,"mux.js":UCe,"mpd-parser":BCe,"m3u8-parser":WCe,"aes-decrypter":GCe}}version(){return this.constructor.version()}canChangeType(){return tP.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&$.URL.revokeObjectURL&&($.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,n){return j8e({playlist:this.playlistController_.media(),time:e,callback:n})}seekToProgramTime(e,n,i=!0,r=2){return WM({programTime:e,playlist:this.playlistController_.media(),retryCount:r,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:n})}setupXhrHooks_(){this.xhr.onRequest=e=>{uP(this.xhr,e)},this.xhr.onResponse=e=>{dP(this.xhr,e)},this.xhr.offRequest=e=>{hP(this.xhr,e)},this.xhr.offResponse=e=>{fP(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],n=["gapjumped","playedrangeschanged"];e.forEach(i=>{this.playlistController_.on(i,r=>{this.player_.trigger(xn({},r))})}),n.forEach(i=>{this.playbackWatcher_.on(i,r=>{this.player_.trigger(xn({},r))})})}}const Kg={name:"videojs-http-streaming",VERSION:aP,canHandleSource(t,e={}){const n=wt(ue.options,e);return!n.vhs.experimentalUseMMS&&!Af("avc1.4d400d,mp4a.40.2",!1)?!1:Kg.canPlayType(t.type,n)},handleSource(t,e,n={}){const i=wt(ue.options,n);return e.vhs=new pP(t,e,i),e.vhs.xhr=kM(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const n=GO(t);if(!n)return"";const i=Kg.getOverrideNative(e);return!hn.supportsTypeNatively(n)||i?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,n=!(ue.browser.IS_ANY_SAFARI||ue.browser.IS_IOS),{overrideNative:i=n}=e;return i}},jCe=()=>Af("avc1.4d400d,mp4a.40.2",!0);jCe()&&ue.getTech("Html5").registerSourceHandler(Kg,0);ue.VhsHandler=pP;ue.VhsSourceHandler=Kg;ue.Vhs=hn;ue.use||ue.registerComponent("Vhs",hn);ue.options.vhs=ue.options.vhs||{};(!ue.getPlugin||!ue.getPlugin("reloadSourceOnError"))&&ue.registerPlugin("reloadSourceOnError",LCe);class KCe{constructor(e){this.id=e.getAttribute("id"),this.allowMultipleAds=e.getAttribute("allowMultipleAds"),this.followRedirects=e.getAttribute("followRedirects"),this.vastAdData=null,this.adTagURI=null,this.customData=null;for(const n in e.childNodes){const i=e.childNodes[n];switch(i.localName){case"AdTagURI":this.adTagURI={templateType:i.getAttribute("templateType"),uri:(i.textContent||i.text||"").trim()};break;case"VASTAdData":for(this.vastAdData=i.firstChild;this.vastAdData&&this.vastAdData.nodeType!==1;)this.vastAdData=this.vastAdData.nextSibling;break;case"CustomAdData":this.customData=i;break}}}}function mP(t,e){const n=[];for(const i in t.childNodes){const r=t.childNodes[i];(r.nodeName===e||e===`vmap:${r.nodeName}`||r.nodeName===`vmap:${e}`)&&n.push(r)}return n}function zCe(t){if(!t||!t.childNodes)return{};const e=t.childNodes,n=[];for(const r in e){const s=e[r];s.nodeName==="#cdata-section"&&n.push(s)}if(n&&n.length>0)try{return JSON.parse(n[0].data)}catch{}let i="";for(const r in e){const s=e[r];switch(s.nodeName){case"#text":i+=s.textContent.trim();break;case"#cdata-section":i+=s.data;break}}return i}function B8(t){const e={attributes:{},children:{},value:{}};e.value=zCe(t);const n=t.attributes;if(n)for(const r in n){const s=n[r];s.nodeName&&s.nodeValue!==void 0&&s.nodeValue!==null&&(e.attributes[s.nodeName]=s.nodeValue)}const i=t.childNodes;if(i)for(const r in i){const s=i[r];s.nodeName&&s.nodeName.substring(0,1)!=="#"&&(e.children[s.nodeName]=B8(s))}return e}class JCe{constructor(e){this.timeOffset=e.getAttribute("timeOffset"),this.breakType=e.getAttribute("breakType"),this.breakId=e.getAttribute("breakId"),this.repeatAfter=e.getAttribute("repeatAfter"),this.adSource=null,this.trackingEvents=[],this.extensions=[];for(const n in e.childNodes){const i=e.childNodes[n];switch(i.localName){case"AdSource":this.adSource=new KCe(i);break;case"TrackingEvents":for(const r in i.childNodes){const s=i.childNodes[r];s.localName==="Tracking"&&this.trackingEvents.push({event:s.getAttribute("event"),uri:(s.textContent||s.text||"").trim()})}break;case"Extensions":this.extensions=mP(i,"Extension").map(r=>B8(r));break}}}track(e,n){for(const i in this.trackingEvents){const r=this.trackingEvents[i];if(r.event===e){let{uri:s}=r;r.event==="error"&&(s=s.replace("[ERRORCODE]",n)),this.tracker(s)}}}tracker(e){if(typeof window<"u"&&window!==null){const n=new Image;n.src=e}}}class HCe{constructor(e){if(!e||!e.documentElement||e.documentElement.localName!=="VMAP")throw new Error("Not a VMAP document");this.version=e.documentElement.getAttribute("version"),this.adBreaks=[],this.extensions=[];for(const n in e.documentElement.childNodes){const i=e.documentElement.childNodes[n];switch(i.localName){case"AdBreak":this.adBreaks.push(new JCe(i));break;case"Extensions":this.extensions=mP(i,"Extension").map(r=>B8(r));break}}}}const QCe=(t,e)=>{const n=goog.pal,i=new n.ConsentSettings;i.allowStorage=!1;const r=new n.NonceLoader(i);return async()=>{try{const s=new URL(e),a=new n.NonceRequest;let o=localStorage.getItem("sl-device-id")||Wo(),l=sessionStorage.getItem("sl-ad-session-id");l||(l=Wo(),sessionStorage.setItem("sl-ad-session-id",l)),YB(o)||(o=Qm(`https://${o}`,Qm.URL)),s.searchParams.get("url")||s.searchParams.set("url","https://streamlayer.io"),s.searchParams.get("description_url")||s.searchParams.set("description_url","https://streamlayer.io"),a.adWillAutoPlay=s.searchParams.get("vpa")==="auto",a.adWillPlayMuted=s.searchParams.get("vpmute")==="1",a.continuousPlayback=!0,a.descriptionUrl=s.searchParams.get("description_url"),a.iconsSupported=!0,a.sessionId=o,a.supportedApiFrameworks="2,7,9",a.videoHeight=t.clientHeight,a.videoWidth=t.clientWidth;const c=await r.loadNonceManager(a);return s.searchParams.get("is_lat")==="[placeholder]"&&s.searchParams.set("is_lat","1"),s.searchParams.get("rdid")==="[placeholder]"&&s.searchParams.set("rdid",o),s.searchParams.get("correlator")==="[placeholder]"&&s.searchParams.set("correlator",l),s.searchParams.set("wta","1"),s.searchParams.set("givn",c.getNonce()),{url:s,manager:c}}catch(s){console.log("AdsManager could not be started",s);return}}},qCe=new LD,e6e=t=>t.creatives.find(e=>e.mediaFiles),t6e=t=>{var e;const n=t==null?void 0:t.mediaFiles;return n!=null&&n.length&&((e=n.find(i=>i.fileURL))==null?void 0:e.fileURL)||""},Zh=sD({ads:[],autoplay:!0,muted:!1,nonceManager:void 0}),n6e=(t,e)=>{const[n,i]=V.useState(),r=V.useRef(Date.now()),s=V.useRef(Date.now());return V.useEffect(()=>{if(!e||!(t!=null&&t.current))return;const a=QCe(t.current,e),o=Date.now();r.current=o,Zh.set({ads:[],autoplay:!0,muted:!1,nonceManager:void 0}),a().then(l=>{r.current===o&&l&&(i(l.url),Zh.set({ads:[],autoplay:!0,muted:!1,nonceManager:l.manager}))}).catch(l=>{console.error(l)})},[t,e]),V.useEffect(()=>{const a=async(o,l)=>{let c=[];if(o.searchParams.get("output")==="vmap"){const h=await fetch(o.toString()),m=new DOMParser,p=await h.text(),v=m.parseFromString(p,"text/xml");c=new HCe(v).adBreaks.map(y=>y.adSource.adTagURI.uri)}else c=[o.toString()];const u=await Promise.all(c.map((h,m)=>qCe.get(h).then(p=>{if(s.current===l){const v=p.ads.find(S=>S.creatives.length>0);if(!v)return;const y=e6e(v),E=t6e(y);return{creative:y,order:m,mediaFileUrl:E,ad:v,raw:p}}}))),d=o.searchParams.get("vpa")!=="click",f=o.searchParams.get("vpmute")==="1";Zh.set({...Zh.get(),ads:u.filter(h=>!!h),autoplay:d,muted:f})};if(n){const o=Date.now();s.current=o,a(n,o)}return()=>{s.current=0}},[n]),Zh},i6e=t=>{const e=V.useRef();return V.useEffect(()=>{if(!e.current&&t.current){const n=document.createElement("video-js");n.classList.add("vjs-big-play-centered"),t.current.appendChild(n),e.current=ue(n,{controls:!1,playsinline:!0})}return()=>{e.current&&(e.current.dispose(),e.current=void 0)}},[]),e},gP={time:0,adCount:0,adPosition:0,skipDelay:0,playing:!1,paused:!1,reset:()=>{},whyThisAd:null,hasAdUrl:!1,adAction:t=>{},playMuted:!1,muted:!1,autoplay:!0},Jt=Q2(gP),bk=t=>{if(!t)return 0;const e=t.duration(),n=t.currentTime();return e===void 0||isNaN(e)||n===void 0||isNaN(n)?0:Math.round(e-n)},r6e=(t,e)=>{const n=n6e(t,e),i=i6e(t),r=V.useRef(),s=V.useRef(!1),a=V.useRef(!1),o=V.useCallback(()=>{if(a.current)return;const h=n.get().nonceManager;if(h&&s.current)try{h.sendPlaybackEnd()}catch(m){console.warn("[PAL] sendPlaybackEnd failed",m)}a.current=!0},[n]),l=V.useCallback(()=>{o(),i.current&&(i.current.pause(),i.current.src(void 0)),r.current=void 0,Jt.set({...gP,reset:l})},[i,o]);V.useEffect(()=>{Jt.setKey("reset",l)},[l]);const c=V.useCallback(()=>{var h,m,p;const{adPosition:v,adCount:y}=Jt.get();if(i.current){if(v<y){const E=v+1,{ads:S,muted:I,autoplay:w,nonceManager:N}=n.get(),F=S[E-1];if(F){(h=r.current)==null||h.complete(),r.current=new J5e(null,F.ad,F.creative),r.current.on("clickthrough",W=>{if(N)try{N.sendAdClick()}catch(Z){console.warn("[PAL] sendAdClick failed",Z)}window.open(W,"_blank")}),Jt.setKey("adPosition",E),Jt.setKey("playMuted",I),Jt.setKey("skipDelay",F.creative.skipDelay||0),Jt.setKey("time",0),Jt.setKey("adAction",W=>{r.current&&r.current.click(null,{CLICKPOS:[W.clientX,W.clientY]})}),Jt.setKey("whyThisAd",F.creative.icons.find(W=>W.program==="GoogleWhyThisAd")||null),Jt.setKey("hasAdUrl",!!((m=F.creative.videoClickThroughURLTemplate)!=null&&m.url)),i.current.src(F.mediaFileUrl),Jt.setKey("playing",!0),v===0?(Jt.setKey("muted",I),Jt.setKey("autoplay",w),I&&i.current.muted(!0),w?i.current.play():(i.current.pause(),Jt.setKey("paused",!0))):i.current.play();return}}(p=r.current)==null||p.complete(),l()}},[i,l,n]),u=V.useCallback(()=>{if(!i.current)return;const h=i.current.muted();i.current.muted(!h),Jt.setKey("muted",!h),r.current&&r.current.setMuted(!h)},[i]),d=V.useCallback(()=>{i.current&&(i.current.paused()?(i.current.play(),r.current&&r.current.setPaused(!1)):(i.current.pause(),r.current&&r.current.setPaused(!0)))},[i]),f=V.useCallback(()=>{i.current&&(r.current&&r.current.skip(),c())},[c,i]);return V.useEffect(()=>{const h=i.current;if(!h)return()=>{};const m=w=>{if(Jt.setKey("playing",!0),Jt.setKey("paused",!1),Jt.setKey("time",bk(w.target.player)),!s.current){const N=n.get().nonceManager;if(N)try{N.sendPlaybackStart(),s.current=!0,a.current=!1}catch(F){console.warn("[PAL] sendPlaybackStart failed",F)}}},p=()=>{var w;(w=r.current)==null||w.complete(),c()},v=w=>{Jt.setKey("muted",w.target.player.muted())},y=()=>{Jt.setKey("paused",!0)},E=w=>{w.target.tagName==="VIDEO"&&(Jt.get().autoplay||d())},S=w=>{Jt.setKey("time",bk(w.target.player)),r.current&&r.current.setProgress(w.target.player.currentTime())},I=()=>{l()};return h.on("play",m),h.on("ended",p),h.on("muted",v),h.on("pause",y),h.on("click",E),h.on("timeupdate",S),h.on("error",I),()=>{h.off("play",m),h.off("ended",p),h.off("muted",v),h.off("pause",y),h.off("click",E),h.off("timeupdate",S),h.off("error",I)}},[d,c,i,l,n]),V.useEffect(()=>n.subscribe(h=>{h&&(s.current=!1,a.current=!1,Jt.setKey("adCount",h.ads.length),Jt.setKey("adPosition",0),c())}),[n,i,c]),V.useEffect(()=>()=>{l()},[l]),[Jt,u,d,f,r]},s6e=({promotion:t,onClose:e,promotionId:n,externalAd:i,skipAutoClose:r})=>{var s,a,o,l,c;const u=V.useRef(null),[d,f,h,m]=r6e(u,i==null?void 0:i.url),{time:p,adCount:v,adPosition:y,skipDelay:E,playing:S,paused:I,reset:w,muted:N,playMuted:F,autoplay:W,whyThisAd:Z,hasAdUrl:O,adAction:K}=ct(d),fe=((s=t.sponsor)==null?void 0:s.logo)&&t.logoMode===zh.CENTER;return b.jsxs(mO,{className:"PromoOverlay",children:[b.jsxs(gO,{children:[b.jsx(yO,{className:Kt(!fe&&bO),children:b.jsx(EO,{style:{transform:"scale(1.5)"},children:"Ad"})}),b.jsxs(HAe,{children:[b.jsx(XAe,{time:p,adCount:v,adPosition:y}),!!E&&S&&b.jsx(qf,{timerClassName:"SkipTimerCount",className:"ClosePromoIcon",close:()=>{m()},duration:E,isPlaying:!I,skipIcon:!0}),r&&b.jsx(qf,{className:"ClosePromoIcon",close:()=>{w(),e==null||e()}})]})]}),b.jsx(vO,{className:Kt(QN,S&&qN,!S&&e_),children:b.jsxs(JAe,{ref:u,children:[Z&&b.jsx(PAe,{whyThisAd:Z}),b.jsxs(YAe,{style:(Z==null?void 0:Z.xPosition)==="right"?{left:"8px"}:{right:"8px"},children:[F&&b.jsx(jAe,{className:Kt(!N&&"muted"),onClick:()=>f()}),I&&!W&&b.jsx(zAe,{onClick:()=>h()})]})]})}),O&&b.jsx(AO,{className:Kt(QN,S&&qN,!S&&e_),children:b.jsx(SO,{as:"button",onClick:K,style:{backgroundColor:((o=(a=t.banner)==null?void 0:a.ctaButton)==null?void 0:o.color)||"#009dc4",color:((c=(l=t.banner)==null?void 0:l.ctaButton)==null?void 0:c.textColor)||"#fff"},"data-a":"button","data-promo-id":n,"data-promo-type":t.type,target:"_blank",children:"Show more"})})]})},vk=t=>{var e,n,i,r,s,a,o,l,c,u,d,f,h,m,p,v,y,E,S,I,w,N,F,W,Z,O,K,fe,z,pe;const{promotion:de,open:be,advertisementPaused:_e,togglePause:me,controlVideo:Q,skipAutoClose:q,promotionId:Re,onClose:D,markAsViewed:H,externalAd:ie,isEventFired:ne,fireEvent:Se,muted:ke}=t,We=de.type===rt.INGAME_IAB11_LBAR||de.type===rt.INGAME_IAB11||de.type===rt.INGAME_IAB11_SIDEBAR,Pe=((e=de.sponsor)==null?void 0:e.logo)&&de.logoMode===zh.CENTER,$e=!!((i=(n=de.banner)==null?void 0:n.video)!=null&&i.url),ae=de.autoPlayVideo===rg.ENABLED,Y=de.playVideoMuted===DW.ENABLED;if(V.useEffect(()=>{me==null||me($e||ae),be==null||be()},[]),V.useEffect(()=>{Re&&de.type&&H&&H()},[Re,de.type,H]),V.useEffect(()=>()=>{Q==null||Q({muted:!1})},[Q]),ie)return b.jsx(s6e,{...t,externalAd:ie});let te=(r=de.banner)==null?void 0:r.url;te&&te.indexOf("http")!==0&&(te=`https://${te}`);let ce=!0;return $e&&(!_e||!ae?ce=!0:ce=!1),b.jsxs(mO,{className:"PromoOverlay",children:[b.jsxs("div",{children:[b.jsxs(gO,{children:[b.jsxs(yO,{className:Kt(!Pe&&bO),children:[((s=de.sponsor)==null?void 0:s.logo)&&de.logoMode===zh.LEFT&&b.jsx(zN,{className:"PromoSponsorLogo",src:(a=de.sponsor)==null?void 0:a.logo,alt:"promo"}),b.jsxs(UAe,{style:{paddingLeft:(o=de.sponsor)!=null&&o.logo&&de.logoMode===zh.LEFT?"0px":"8px"},children:[((l=de.sponsor)==null?void 0:l.logo)&&de.logoMode===zh.LEFT&&b.jsx(_Ae,{children:(c=de.sponsor)==null?void 0:c.name}),b.jsxs(BAe,{className:"SponsorText",children:[b.jsx(EO,{children:"AD"}),b.jsx(WAe,{children:"SPONSORED"})]})]})]}),b.jsx(qf,{className:"ClosePromoIcon",close:D,autoClose:(u=de.closeTimer)==null?void 0:u.auto,duration:q?0:(d=de.closeTimer)==null?void 0:d.seconds,isPlaying:ce})]}),b.jsxs(vO,{children:[Pe&&b.jsx(zN,{className:FAe,src:(f=de.sponsor)==null?void 0:f.logo,alt:"promo"}),b.jsx(JN,{children:(m=(h=de.banner)==null?void 0:h.video)!=null&&m.url?b.jsx(zd,{source:(v=(p=de.banner)==null?void 0:p.video)==null?void 0:v.url,poster:(E=(y=de.banner)==null?void 0:y.video)==null?void 0:E.thumbnailUrl,aspectRatio:We?"1/1":"2/1",onRender:()=>{ne!=null&&ne("video-rendered")||(Xt.emit("advertisement",{action:"videoRendered",payload:{id:Re,type:de.type}}),Se==null||Se("video-rendered"))},onQuartile:ge=>{ne!=null&&ne(`video-quartile-${ge}`)||(Xt.emit("advertisement",{action:"quartileCompleted",payload:{id:Re,type:de.type,quartile:ge}}),Se==null||Se(`video-quartile-${ge}`))},onMute:ge=>{const we=ge?"muted":"unmuted";ne!=null&&ne(we)||(Xt.emit("advertisement",{action:ge?"videoMuted":"videoUnmuted",payload:{id:Re,type:de.type}}),Se==null||Se(we))},onPause:()=>{ae&&(me==null||me(!0))},onReplay:()=>{ne!=null&&ne("replayed")||(Xt.emit("advertisement",{action:"videoReplayed",payload:{id:Re,type:de.type}}),Se==null||Se("replayed"))},onPlay:()=>{ne!=null&&ne("played")||(Xt.emit("advertisement",{action:"videoPlay",payload:{id:Re,type:de.type}}),Se==null||Se("played")),me==null||me(!1),ne!=null&&ne("played")&&ne!=null&&ne("ended")&&!(ne!=null&&ne("replayed"))&&(Xt.emit("advertisement",{action:"videoReplayed",payload:{id:Re,type:de.type}}),Se==null||Se("replayed"))},onEnd:()=>{ne!=null&&ne("ended")||(Xt.emit("advertisement",{action:"videoEnd",payload:{id:Re,type:de.type}}),Se==null||Se("ended"))},controlVideo:Q,autoPlay:ae,playMuted:Y,muted:ke}):(S=de.banner)!=null&&S.imageUrl?b.jsx(kAe,{style:We?{aspectRatio:"1/1"}:{},src:(I=de.banner)==null?void 0:I.imageUrl,alt:"promo"}):null}),!We&&b.jsxs(JN,{children:[((w=de.banner)==null?void 0:w.title)&&b.jsx(GAe,{className:Kt("AdvTitle",Pe&&ZAe),children:(N=de.banner)==null?void 0:N.title}),((F=de.banner)==null?void 0:F.body)&&b.jsx(LAe,{className:"AdvDescription",children:(W=de.banner)==null?void 0:W.body})]})]})]}),de.buttonType===_q.BASIC&&b.jsx(AO,{children:b.jsx(SO,{href:te,style:{backgroundColor:((O=(Z=de.banner)==null?void 0:Z.ctaButton)==null?void 0:O.color)||"#009dc4",color:((fe=(K=de.banner)==null?void 0:K.ctaButton)==null?void 0:fe.textColor)||"#fff"},"data-a":"button","data-promo-id":Re,"data-promo-type":de.type,target:"_blank",children:(pe=(z=de.banner)==null?void 0:z.ctaButton)==null?void 0:pe.label})})]})},a6e=_("div")({name:"SidebarContainer",class:"s1abskp8",propsAsIs:!1}),o6e=({children:t,direction:e,style:n,className:i,hiding:r})=>b.jsx(jT,{direction:e,style:n,hiding:r,className:i,children:b.jsx(a6e,{children:t})}),Ek=t=>(t==null?void 0:t.type)===rt.INGAME_IAB11_LBAR||(t==null?void 0:t.type)===rt.INGAME_IAB21_LBAR,l6e=t=>(t==null?void 0:t.type)===rt.INGAME_IAB11_SIDEBAR||(t==null?void 0:t.type)===rt.INGAME_IAB21_SIDEBAR,c6e=t=>(t==null?void 0:t.type)===rt.INGAME_IAB11||(t==null?void 0:t.type)===rt.INGAME_IAB21,u6e=({advertisement:t,close:e,skipTypeCheck:n,skipAutoClose:i,layoutMode:r="side-by-side",sidebar:s,isNotification:a,banner:o,markAsViewed:l,open:c,externalAd:u,controlVideo:d,advertisementPaused:f,togglePause:h,isEventFired:m,fireEvent:p,muted:v})=>t.promotion?a&&t.notification?b.jsx(VAe,{open:()=>c==null?void 0:c({fromNotification:!0}),notification:t.notification,promotionId:t.question.id,close:e}):!s&&!o&&(n||c6e(t.promotion))?b.jsx(NAe,{className:"PromoOverlayContainer",children:b.jsx(vk,{markAsViewed:l,promotionId:t.question.id,promotion:t.promotion,onClose:e,open:c,skipAutoClose:i,externalAd:u,controlVideo:d,advertisementPaused:f,togglePause:h,isEventFired:m,fireEvent:p,muted:v})}):s&&(n||Ek(t.promotion)||l6e(t.promotion)||u)?b.jsx(o6e,{className:"PromoSidebarContainer",direction:s,hiding:!1,children:b.jsx(vk,{markAsViewed:l,promotionId:t.question.id,promotion:t.promotion,externalAd:u,onClose:e,open:c,controlVideo:d,skipAutoClose:i,advertisementPaused:f,togglePause:h,isEventFired:m,fireEvent:p,muted:v})}):o&&Ek(t.promotion)?b.jsx(uO,{promotionId:t.question.id,hiding:!1,promotion:t.promotion,direction:o,isEventFired:m,fireEvent:p}):null:null,Ak=_("div")({name:"AdvertisementUIWrap",class:"aa6pjif",propsAsIs:!1}),d6e=t=>{const e=t.target;if(e instanceof HTMLAnchorElement&&e.target==="_blank"){const n=e.getAttribute("data-promo-id")||"",i=e.getAttribute("data-promo-type")||rt.UNSET;e.getAttribute("data-a")==="button"&&Xt.emit("advertisement",{action:"buttonSelect",payload:{id:n,type:i}}),e.getAttribute("data-a")==="banner"&&Xt.emit("advertisement",{action:"bannerSelect",payload:{id:n,type:i}})}},h6e=({gamification:t,advertisement:e,layoutMode:n,skipAutoClose:i,skipTypeCheck:r,sidebar:s,banner:a,notification:o,isMobileScreen:l,persistent:c,containerId:u,externalAd:d,controlVideo:f,muted:h})=>{var m,p,v,y,E,S,I,w,N,F,W,Z,O,K,fe,z,pe,de,be,_e,me;const Q=V.useRef(null),q=ct(e.$store),Re=ct(t.openedQuestion.$store);JZ(Q,{enabled:!!q.data,event:"click",listener:d6e});const D=((v=(p=(m=q.data)==null?void 0:m.question)==null?void 0:p.backgroundImage)==null?void 0:v.landscapeUrl)||((E=(y=q.data)==null?void 0:y.promotion)==null?void 0:E.backgroundImageLandscapeUrl),H=((w=(I=(S=q.data)==null?void 0:S.question)==null?void 0:I.backgroundImage)==null?void 0:w.portraitUrl)||((F=(N=q.data)==null?void 0:N.promotion)==null?void 0:F.backgroundImagePortraitUrl),ie=YZ({containerId:u,landscapeUrl:D,portraitUrl:H});if(((W=Re==null?void 0:Re.attributes)==null?void 0:W.adUnit)===oi.STANDART&&(K=(O=(Z=Re==null?void 0:Re.attributes)==null?void 0:Z.adPromotion)==null?void 0:O.banner)!=null&&K.imageUrl)return a?b.jsx(Ak,{ref:Q,style:{height:"100%"},className:Kt("SL-AdvertisementUIWrap",l&&"mobile-view"),children:b.jsx(ZEe,{cardId:Re.id,promotion:{...(fe=Re==null?void 0:Re.attributes)==null?void 0:fe.adPromotion,adUnit:(z=Re==null?void 0:Re.attributes)==null?void 0:z.adUnit}})}):null;const ne=!a&&!s;if(q.data===void 0||!c&&q.isViewed)return null;const Se=((be=(de=(pe=q==null?void 0:q.data)==null?void 0:pe.notification)==null?void 0:de.promotion)==null?void 0:be.mode)===GW.LOWER_THIRD;return b.jsxs(Ak,{ref:Q,style:{height:ne?"auto":"100%"},className:Kt("SL-AdvertisementUIWrap",l&&"mobile-view",Se&&"SL-AdvertisementUIWrap--lower-third"),children:[!o&&ie,b.jsx(u6e,{skipTypeCheck:r,sidebar:s,banner:a,advertisement:q.data,advertisementPaused:!!q.isPaused,togglePause:q.togglePause,isEventFired:q.isEventFired,fireEvent:q.fireEvent,close:q.close,externalAd:d?q.externalAd:void 0,markAsViewed:(_e=t.advertisement)==null?void 0:_e.markAsViewed,open:(me=t.advertisement)==null?void 0:me.open,layoutMode:n,isNotification:o,skipAutoClose:i,controlVideo:f,muted:h})]})},f6e=({sdk:t,sidebar:e,externalAd:n,banner:i,skipAutoClose:r,skipTypeCheck:s,layoutMode:a,isMobileScreen:o,persistent:l,notification:c,muted:u})=>{const d=ct(t.featuresList.getStore()),[f,h]=V.useState(!n),m=ct(t.options);if(V.useEffect(()=>{if(n){const v=document.createElement("script");v.async=!0,v.src="https://imasdk.googleapis.com/pal/sdkloader/pal.js",document.body.appendChild(v),v.onload=()=>{h(!0)}}},[n]),e&&i)return b.jsx("div",{style:{color:"red"},children:"define either sidebar or banner, not both."});if(i&&n)return b.jsx("div",{style:{color:"red"},children:"externalAd is not supported with banner"});if(!d)return null;const p=t.getFeature(st.GAMES);return!(p!=null&&p.advertisement)||n&&!f?null:b.jsx(h6e,{gamification:p,advertisement:p.advertisement,sidebar:e,banner:i,layoutMode:a,isMobileScreen:o,persistent:l,notification:c,skipTypeCheck:s,skipAutoClose:r,externalAd:n,controlVideo:t.controlVideoPlayer,containerId:m.containerId,muted:u})},Yc=({event:t,sidebar:e,banner:n,isMobileScreen:i,skipAutoClose:r,persistent:s,theme:a,notification:o,skipTypeCheck:l,externalAd:c,muted:u=!1})=>{const d=vc(),f=Y2(),h=Fp();return d?c&&!f.promotionExternalAd?t!==void 0&&b.jsx(Io,{event:t}):!c&&f.promotionExternalAd?t!==void 0&&b.jsx(Io,{event:t}):e&&!f.promotionSidebar?t!==void 0&&b.jsx(Io,{event:t}):n&&!f.promotionBanner?t!==void 0&&b.jsx(Io,{event:t}):o&&!f.promotionNotification?t!==void 0&&b.jsx(Io,{event:t}):!n&&!e&&!o&&!f.promotionOverlay&&!l?t!==void 0&&b.jsx(Io,{event:t}):b.jsxs("div",{className:"StreamLayerSDK",children:[b.jsx(Lp,{customTheme:a??h.theme,themeMode:h.themeMode,children:b.jsx(f6e,{sdk:d,sidebar:e,banner:n,isMobileScreen:i,persistent:s,notification:o,skipTypeCheck:l,skipAutoClose:r,layoutMode:"side-by-side",externalAd:c,muted:u})}),t!==void 0&&b.jsx(Io,{event:t})]}):null},yP=new TextEncoder,Sk=new TextDecoder,zg=2**32;function qp(...t){const e=t.reduce((r,{length:s})=>r+s,0),n=new Uint8Array(e);let i=0;for(const r of t)n.set(r,i),i+=r.length;return n}function $4(t,e,n){if(e<0||e>=zg)throw new RangeError(`value must be >= 0 and <= ${zg-1}. Received ${e}`);t.set([e>>>24,e>>>16,e>>>8,e&255],n)}function p6e(t){const e=Math.floor(t/zg),n=t%zg,i=new Uint8Array(8);return $4(i,e,0),$4(i,n,4),i}function W8(t){const e=new Uint8Array(4);return $4(e,t),e}function wf(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i>127)throw new TypeError("non-ASCII string encountered in encode()");e[n]=i}return e}function m6e(t){if(Uint8Array.prototype.toBase64)return t.toBase64();const e=32768,n=[];for(let i=0;i<t.length;i+=e)n.push(String.fromCharCode.apply(null,t.subarray(i,i+e)));return btoa(n.join(""))}function g6e(t){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(t);const e=atob(t),n=new Uint8Array(e.length);for(let i=0;i<e.length;i++)n[i]=e.charCodeAt(i);return n}function bP(t){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof t=="string"?t:Sk.decode(t),{alphabet:"base64url"});let e=t;e instanceof Uint8Array&&(e=Sk.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/");try{return g6e(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}function Fr(t){let e=t;return typeof e=="string"&&(e=yP.encode(e)),Uint8Array.prototype.toBase64?e.toBase64({alphabet:"base64url",omitPadding:!0}):m6e(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class G8 extends Error{constructor(n,i){var r;super(n,i);da(this,"code","ERR_JOSE_GENERIC");this.name=this.constructor.name,(r=Error.captureStackTrace)==null||r.call(Error,this,this.constructor)}}da(G8,"code","ERR_JOSE_GENERIC");class Ei extends G8{constructor(){super(...arguments);da(this,"code","ERR_JOSE_NOT_SUPPORTED")}}da(Ei,"code","ERR_JOSE_NOT_SUPPORTED");class Fa extends G8{constructor(){super(...arguments);da(this,"code","ERR_JWE_INVALID")}}da(Fa,"code","ERR_JWE_INVALID");function vP(t){switch(t){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new Ei(`Unsupported JWE Algorithm: ${t}`)}}const y6e=t=>crypto.getRandomValues(new Uint8Array(vP(t)>>3));function b6e(t,e){if(e.length<<3!==vP(t))throw new Fa("Invalid Initialization Vector length")}function Tk(t,e){const n=t.byteLength<<3;if(n!==e)throw new Fa(`Invalid Content Encryption Key length. Expected ${e} bits, got ${n} bits`)}const Ro=(t,e="algorithm.name")=>new TypeError(`CryptoKey does not support this operation, its ${e} must be ${t}`),g1=(t,e)=>t.name===e;function v6e(t){return parseInt(t.name.slice(4),10)}function E6e(t,e){if(e&&!t.usages.includes(e))throw new TypeError(`CryptoKey does not support this operation, its usages must include ${e}.`)}function Vd(t,e,n){switch(e){case"A128GCM":case"A192GCM":case"A256GCM":{if(!g1(t.algorithm,"AES-GCM"))throw Ro("AES-GCM");const i=parseInt(e.slice(1,4),10);if(t.algorithm.length!==i)throw Ro(i,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!g1(t.algorithm,"AES-KW"))throw Ro("AES-KW");const i=parseInt(e.slice(1,4),10);if(t.algorithm.length!==i)throw Ro(i,"algorithm.length");break}case"ECDH":{switch(t.algorithm.name){case"ECDH":case"X25519":break;default:throw Ro("ECDH or X25519")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!g1(t.algorithm,"PBKDF2"))throw Ro("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!g1(t.algorithm,"RSA-OAEP"))throw Ro("RSA-OAEP");const i=parseInt(e.slice(9),10)||1;if(v6e(t.algorithm.hash)!==i)throw Ro(`SHA-${i}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}E6e(t,n)}function EP(t,e,...n){var i;if(n=n.filter(Boolean),n.length>2){const r=n.pop();t+=`one of type ${n.join(", ")}, or ${r}.`}else n.length===2?t+=`one of type ${n[0]} or ${n[1]}.`:t+=`of type ${n[0]}.`;return e==null?t+=` Received ${e}`:typeof e=="function"&&e.name?t+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&(i=e.constructor)!=null&&i.name&&(t+=` Received an instance of ${e.constructor.name}`),t}const Z8=(t,...e)=>EP("Key must be ",t,...e),AP=(t,e,...n)=>EP(`Key for the ${t} algorithm must be `,e,...n);function Rk(t){if(!e0(t))throw new Error("CryptoKey instance expected")}const e0=t=>{if((t==null?void 0:t[Symbol.toStringTag])==="CryptoKey")return!0;try{return t instanceof CryptoKey}catch{return!1}},D8=t=>(t==null?void 0:t[Symbol.toStringTag])==="KeyObject",SP=t=>e0(t)||D8(t);function A6e(...t){const e=t.filter(Boolean);if(e.length===0||e.length===1)return!0;let n;for(const i of e){const r=Object.keys(i);if(!n||n.size===0){n=new Set(r);continue}for(const s of r){if(n.has(s))return!1;n.add(s)}}return!0}const S6e=t=>typeof t=="object"&&t!==null;function O8(t){if(!S6e(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function T6e(t,e){if(t.algorithm.length!==parseInt(e.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${e}`)}function R6e(t,e,n){return t instanceof Uint8Array?crypto.subtle.importKey("raw",t,"AES-KW",!0,[n]):(Vd(t,e,n),t)}async function j4(t,e,n){const i=await R6e(e,t,"wrapKey");T6e(i,t);const r=await crypto.subtle.importKey("raw",n,{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.wrapKey("raw",r,i,"AES-KW"))}async function C6e(t,e){const n=`SHA-${t.slice(-3)}`;return new Uint8Array(await crypto.subtle.digest(n,e))}function Q5(t){return qp(W8(t.length),t)}async function I6e(t,e,n){const i=e>>3,r=32,s=Math.ceil(i/r),a=new Uint8Array(s*r);for(let o=1;o<=s;o++){const l=new Uint8Array(4+t.length+n.length);l.set(W8(o),0),l.set(t,4),l.set(n,4+t.length);const c=await C6e("sha256",l);a.set(c,(o-1)*r)}return a.slice(0,i)}async function w6e(t,e,n,i,r=new Uint8Array,s=new Uint8Array){Vd(t,"ECDH"),Vd(e,"ECDH","deriveBits");const a=Q5(wf(n)),o=Q5(r),l=Q5(s),c=W8(i),u=new Uint8Array,d=qp(a,o,l,c,u),f=new Uint8Array(await crypto.subtle.deriveBits({name:t.algorithm.name,public:t},e,x6e(t)));return I6e(f,i,d)}function x6e(t){return t.algorithm.name==="X25519"?256:Math.ceil(parseInt(t.algorithm.namedCurve.slice(-3),10)/8)<<3}function V6e(t){switch(t.algorithm.namedCurve){case"P-256":case"P-384":case"P-521":return!0;default:return t.algorithm.name==="X25519"}}function N6e(t,e){return t instanceof Uint8Array?crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits"]):(Vd(t,e,"deriveBits"),t)}const _6e=(t,e)=>qp(wf(t),Uint8Array.of(0),e);async function k6e(t,e,n,i){if(!(t instanceof Uint8Array)||t.length<8)throw new Fa("PBES2 Salt Input must be 8 or more octets");const r=_6e(e,t),s=parseInt(e.slice(13,16),10),a={hash:`SHA-${e.slice(8,11)}`,iterations:n,name:"PBKDF2",salt:r},o=await N6e(i,e);return new Uint8Array(await crypto.subtle.deriveBits(a,o,s))}async function F6e(t,e,n,i=2048,r=crypto.getRandomValues(new Uint8Array(16))){const s=await k6e(r,t,i,e);return{encryptedKey:await j4(t.slice(-6),s,n),p2c:i,p2s:Fr(r)}}function L6e(t,e){if(t.startsWith("RS")||t.startsWith("PS")){const{modulusLength:n}=e.algorithm;if(typeof n!="number"||n<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}}const U6e=t=>{switch(t){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new Ei(`alg ${t} is not supported either by JOSE or your javascript runtime`)}};async function B6e(t,e,n){return Vd(e,t,"encrypt"),L6e(t,e),new Uint8Array(await crypto.subtle.encrypt(U6e(t),e,n))}function TP(t){switch(t){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new Ei(`Unsupported JWE Algorithm: ${t}`)}}const Dh=t=>crypto.getRandomValues(new Uint8Array(TP(t)>>3));function W6e(t){let e,n;switch(t.kty){case"AKP":{switch(t.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":e={name:t.alg},n=t.priv?["sign"]:["verify"];break;default:throw new Ei('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"RSA":{switch(t.alg){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.alg.slice(-3)}`},n=t.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(t.alg.slice(-3),10)||1}`},n=t.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new Ei('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(t.alg){case"ES256":e={name:"ECDSA",namedCurve:"P-256"},n=t.d?["sign"]:["verify"];break;case"ES384":e={name:"ECDSA",namedCurve:"P-384"},n=t.d?["sign"]:["verify"];break;case"ES512":e={name:"ECDSA",namedCurve:"P-521"},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:"ECDH",namedCurve:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new Ei('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(t.alg){case"Ed25519":case"EdDSA":e={name:"Ed25519"},n=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:t.crv},n=t.d?["deriveBits"]:[];break;default:throw new Ei('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new Ei('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:e,keyUsages:n}}async function hm(t){if(!t.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:e,keyUsages:n}=W6e(t),i={...t};return i.kty!=="AKP"&&delete i.alg,delete i.use,crypto.subtle.importKey("jwk",i,e,t.ext??!(t.d||t.priv),t.key_ops??n)}async function G6e(t,e,n){if(!O8(t))throw new TypeError("JWK must be an object");let i;switch(e??(e=t.alg),i??(i=t.ext),t.kty){case"oct":if(typeof t.k!="string"||!t.k)throw new TypeError('missing "k" (Key Value) Parameter value');return bP(t.k);case"RSA":if("oth"in t&&t.oth!==void 0)throw new Ei('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return hm({...t,alg:e,ext:i});case"AKP":{if(typeof t.alg!="string"||!t.alg)throw new TypeError('missing "alg" (Algorithm) Parameter value');if(e!==void 0&&e!==t.alg)throw new TypeError("JWK alg and alg option value mismatch");return hm({...t,ext:i})}case"EC":case"OKP":return hm({...t,alg:e,ext:i});default:throw new Ei('Unsupported "kty" (Key Type) Parameter value')}}async function Z6e(t,e,n,i,r){if(!(n instanceof Uint8Array))throw new TypeError(Z8(n,"Uint8Array"));const s=parseInt(t.slice(1,4),10),a=await crypto.subtle.importKey("raw",n.subarray(s>>3),"AES-CBC",!1,["encrypt"]),o=await crypto.subtle.importKey("raw",n.subarray(0,s>>3),{hash:`SHA-${s<<1}`,name:"HMAC"},!1,["sign"]),l=new Uint8Array(await crypto.subtle.encrypt({iv:i,name:"AES-CBC"},a,e)),c=qp(r,i,l,p6e(r.length<<3)),u=new Uint8Array((await crypto.subtle.sign("HMAC",o,c)).slice(0,s>>3));return{ciphertext:l,tag:u,iv:i}}async function D6e(t,e,n,i,r){let s;n instanceof Uint8Array?s=await crypto.subtle.importKey("raw",n,"AES-GCM",!1,["encrypt"]):(Vd(n,t,"encrypt"),s=n);const a=new Uint8Array(await crypto.subtle.encrypt({additionalData:r,iv:i,name:"AES-GCM",tagLength:128},s,e)),o=a.slice(-16);return{ciphertext:a.slice(0,-16),tag:o,iv:i}}async function RP(t,e,n,i,r){if(!e0(n)&&!(n instanceof Uint8Array))throw new TypeError(Z8(n,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));switch(i?b6e(t,i):i=y6e(t),t){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return n instanceof Uint8Array&&Tk(n,parseInt(t.slice(-3),10)),Z6e(t,e,n,i,r);case"A128GCM":case"A192GCM":case"A256GCM":return n instanceof Uint8Array&&Tk(n,parseInt(t.slice(1,4),10)),D6e(t,e,n,i,r);default:throw new Ei("Unsupported JWE Content Encryption Algorithm")}}async function O6e(t,e,n,i){const r=t.slice(0,7),s=await RP(r,n,e,i,new Uint8Array);return{encryptedKey:s.ciphertext,iv:Fr(s.iv),tag:Fr(s.tag)}}function X6e(t,e,n,i,r){if(r.crit!==void 0&&(i==null?void 0:i.crit)===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!i||i.crit===void 0)return new Set;if(!Array.isArray(i.crit)||i.crit.length===0||i.crit.some(a=>typeof a!="string"||a.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let s;n!==void 0?s=new Map([...Object.entries(n),...e.entries()]):s=e;for(const a of i.crit){if(!s.has(a))throw new Ei(`Extension Header Parameter "${a}" is not recognized`);if(r[a]===void 0)throw new t(`Extension Header Parameter "${a}" is missing`);if(s.get(a)&&i[a]===void 0)throw new t(`Extension Header Parameter "${a}" MUST be integrity protected`)}return new Set(i.crit)}const X8=t=>O8(t)&&typeof t.kty=="string",M6e=t=>t.kty!=="oct"&&(t.kty==="AKP"&&typeof t.priv=="string"||typeof t.d=="string"),P6e=t=>t.kty!=="oct"&&t.d===void 0&&t.priv===void 0,Y6e=t=>t.kty==="oct"&&typeof t.k=="string";let Mu;const Ck=async(t,e,n,i=!1)=>{Mu||(Mu=new WeakMap);let r=Mu.get(t);if(r!=null&&r[n])return r[n];const s=await hm({...e,alg:n});return i&&Object.freeze(t),r?r[n]=s:Mu.set(t,{[n]:s}),s},$6e=(t,e)=>{var a;Mu||(Mu=new WeakMap);let n=Mu.get(t);if(n!=null&&n[e])return n[e];const i=t.type==="public",r=!!i;let s;if(t.asymmetricKeyType==="x25519"){switch(e){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}s=t.toCryptoKey(t.asymmetricKeyType,r,i?[]:["deriveBits"])}if(t.asymmetricKeyType==="ed25519"){if(e!=="EdDSA"&&e!=="Ed25519")throw new TypeError("given KeyObject instance cannot be used for this algorithm");s=t.toCryptoKey(t.asymmetricKeyType,r,[i?"verify":"sign"])}switch(t.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":{if(e!==t.asymmetricKeyType.toUpperCase())throw new TypeError("given KeyObject instance cannot be used for this algorithm");s=t.toCryptoKey(t.asymmetricKeyType,r,[i?"verify":"sign"])}}if(t.asymmetricKeyType==="rsa"){let o;switch(e){case"RSA-OAEP":o="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":o="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":o="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":o="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if(e.startsWith("RSA-OAEP"))return t.toCryptoKey({name:"RSA-OAEP",hash:o},r,i?["encrypt"]:["decrypt"]);s=t.toCryptoKey({name:e.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:o},r,[i?"verify":"sign"])}if(t.asymmetricKeyType==="ec"){const l=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get((a=t.asymmetricKeyDetails)==null?void 0:a.namedCurve);if(!l)throw new TypeError("given KeyObject instance cannot be used for this algorithm");e==="ES256"&&l==="P-256"&&(s=t.toCryptoKey({name:"ECDSA",namedCurve:l},r,[i?"verify":"sign"])),e==="ES384"&&l==="P-384"&&(s=t.toCryptoKey({name:"ECDSA",namedCurve:l},r,[i?"verify":"sign"])),e==="ES512"&&l==="P-521"&&(s=t.toCryptoKey({name:"ECDSA",namedCurve:l},r,[i?"verify":"sign"])),e.startsWith("ECDH-ES")&&(s=t.toCryptoKey({name:"ECDH",namedCurve:l},r,i?[]:["deriveBits"]))}if(!s)throw new TypeError("given KeyObject instance cannot be used for this algorithm");return n?n[e]=s:Mu.set(t,{[e]:s}),s};async function CP(t,e){if(t instanceof Uint8Array||e0(t))return t;if(D8(t)){if(t.type==="secret")return t.export();if("toCryptoKey"in t&&typeof t.toCryptoKey=="function")try{return $6e(t,e)}catch(i){if(i instanceof TypeError)throw i}let n=t.export({format:"jwk"});return Ck(t,n,e)}if(X8(t))return t.k?bP(t.k):Ck(t,t,e,!0);throw new Error("unreachable")}const nu=t=>t==null?void 0:t[Symbol.toStringTag],K4=(t,e,n)=>{var i,r;if(e.use!==void 0){let s;switch(n){case"sign":case"verify":s="sig";break;case"encrypt":case"decrypt":s="enc";break}if(e.use!==s)throw new TypeError(`Invalid key for this operation, its "use" must be "${s}" when present`)}if(e.alg!==void 0&&e.alg!==t)throw new TypeError(`Invalid key for this operation, its "alg" must be "${t}" when present`);if(Array.isArray(e.key_ops)){let s;switch(!0){case n==="verify":case t==="dir":case t.includes("CBC-HS"):s=n;break;case t.startsWith("PBES2"):s="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(t):!t.includes("GCM")&&t.endsWith("KW")?s="wrapKey":s=n;break;case t.startsWith("RSA"):s="wrapKey";break;case n==="decrypt":s=t.startsWith("RSA")?"unwrapKey":"deriveBits";break}if(s&&((r=(i=e.key_ops)==null?void 0:i.includes)==null?void 0:r.call(i,s))===!1)throw new TypeError(`Invalid key for this operation, its "key_ops" must include "${s}" when present`)}return!0},j6e=(t,e,n)=>{if(!(e instanceof Uint8Array)){if(X8(e)){if(Y6e(e)&&K4(t,e,n))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!SP(e))throw new TypeError(AP(t,e,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if(e.type!=="secret")throw new TypeError(`${nu(e)} instances for symmetric algorithms must be of type "secret"`)}},K6e=(t,e,n)=>{if(X8(e))switch(n){case"decrypt":case"sign":if(M6e(e)&&K4(t,e,n))return;throw new TypeError("JSON Web Key for this operation must be a private JWK");case"encrypt":case"verify":if(P6e(e)&&K4(t,e,n))return;throw new TypeError("JSON Web Key for this operation must be a public JWK")}if(!SP(e))throw new TypeError(AP(t,e,"CryptoKey","KeyObject","JSON Web Key"));if(e.type==="secret")throw new TypeError(`${nu(e)} instances for asymmetric algorithms must not be of type "secret"`);if(e.type==="public")switch(n){case"sign":throw new TypeError(`${nu(e)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw new TypeError(`${nu(e)} instances for asymmetric algorithm decryption must be of type "private"`)}if(e.type==="private")switch(n){case"verify":throw new TypeError(`${nu(e)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw new TypeError(`${nu(e)} instances for asymmetric algorithm encryption must be of type "public"`)}};function z6e(t,e,n){switch(t.substring(0,2)){case"A1":case"A2":case"di":case"HS":case"PB":j6e(t,e,n);break;default:K6e(t,e,n)}}const J6e=Symbol();async function H6e(t){if(D8(t))if(t.type==="secret")t=t.export();else return t.export({format:"jwk"});if(t instanceof Uint8Array)return{kty:"oct",k:Fr(t)};if(!e0(t))throw new TypeError(Z8(t,"CryptoKey","KeyObject","Uint8Array"));if(!t.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:e,key_ops:n,alg:i,use:r,...s}=await crypto.subtle.exportKey("jwk",t);return s.kty==="AKP"&&(s.alg=i),s}async function Q6e(t){return H6e(t)}async function q6e(t,e,n,i,r={}){let s,a,o;switch(t){case"dir":{o=n;break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if(Rk(n),!V6e(n))throw new Ei("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:l,apv:c}=r;let u;r.epk?u=await CP(r.epk,t):u=(await crypto.subtle.generateKey(n.algorithm,!0,["deriveBits"])).privateKey;const{x:d,y:f,crv:h,kty:m}=await Q6e(u),p=await w6e(n,u,t==="ECDH-ES"?e:t,t==="ECDH-ES"?TP(e):parseInt(t.slice(-5,-2),10),l,c);if(a={epk:{x:d,crv:h,kty:m}},m==="EC"&&(a.epk.y=f),l&&(a.apu=Fr(l)),c&&(a.apv=Fr(c)),t==="ECDH-ES"){o=p;break}o=i||Dh(e);const v=t.slice(-6);s=await j4(v,p,o);break}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{o=i||Dh(e),Rk(n),s=await B6e(t,n,o);break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{o=i||Dh(e);const{p2c:l,p2s:c}=r;({encryptedKey:s,...a}=await F6e(t,n,o,l,c));break}case"A128KW":case"A192KW":case"A256KW":{o=i||Dh(e),s=await j4(t,n,o);break}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{o=i||Dh(e);const{iv:l}=r;({encryptedKey:s,...a}=await O6e(t,n,o,l));break}default:throw new Ei('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:o,encryptedKey:s,parameters:a}}var Ep,_i,Bs,ur,Ku,Ol,zu,Ju;class eIe{constructor(e){Wn(this,Ep);Wn(this,_i);Wn(this,Bs);Wn(this,ur);Wn(this,Ku);Wn(this,Ol);Wn(this,zu);Wn(this,Ju);if(!(e instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");yn(this,Ep,e)}setKeyManagementParameters(e){if(Ue(this,Ju))throw new TypeError("setKeyManagementParameters can only be called once");return yn(this,Ju,e),this}setProtectedHeader(e){if(Ue(this,_i))throw new TypeError("setProtectedHeader can only be called once");return yn(this,_i,e),this}setSharedUnprotectedHeader(e){if(Ue(this,Bs))throw new TypeError("setSharedUnprotectedHeader can only be called once");return yn(this,Bs,e),this}setUnprotectedHeader(e){if(Ue(this,ur))throw new TypeError("setUnprotectedHeader can only be called once");return yn(this,ur,e),this}setAdditionalAuthenticatedData(e){return yn(this,Ku,e),this}setContentEncryptionKey(e){if(Ue(this,Ol))throw new TypeError("setContentEncryptionKey can only be called once");return yn(this,Ol,e),this}setInitializationVector(e){if(Ue(this,zu))throw new TypeError("setInitializationVector can only be called once");return yn(this,zu,e),this}async encrypt(e,n){if(!Ue(this,_i)&&!Ue(this,ur)&&!Ue(this,Bs))throw new Fa("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!A6e(Ue(this,_i),Ue(this,ur),Ue(this,Bs)))throw new Fa("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const i={...Ue(this,_i),...Ue(this,ur),...Ue(this,Bs)};if(X6e(Fa,new Map,n==null?void 0:n.crit,Ue(this,_i),i),i.zip!==void 0)throw new Ei('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');const{alg:r,enc:s}=i;if(typeof r!="string"||!r)throw new Fa('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof s!="string"||!s)throw new Fa('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let a;if(Ue(this,Ol)&&(r==="dir"||r==="ECDH-ES"))throw new TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${r}`);z6e(r==="dir"?s:r,e,"encrypt");let o;{let v;const y=await CP(e,r);({cek:o,encryptedKey:a,parameters:v}=await q6e(r,s,y,Ue(this,Ol),Ue(this,Ju))),v&&(n&&J6e in n?Ue(this,ur)?yn(this,ur,{...Ue(this,ur),...v}):this.setUnprotectedHeader(v):Ue(this,_i)?yn(this,_i,{...Ue(this,_i),...v}):this.setProtectedHeader(v))}let l,c,u,d;if(Ue(this,_i)?(c=Fr(JSON.stringify(Ue(this,_i))),u=wf(c)):(c="",u=new Uint8Array),Ue(this,Ku)){d=Fr(Ue(this,Ku));const v=wf(d);l=qp(u,wf("."),v)}else l=u;const{ciphertext:f,tag:h,iv:m}=await RP(s,Ue(this,Ep),o,Ue(this,zu),l),p={ciphertext:Fr(f)};return m&&(p.iv=Fr(m)),h&&(p.tag=Fr(h)),a&&(p.encrypted_key=Fr(a)),d&&(p.aad=d),Ue(this,_i)&&(p.protected=c),Ue(this,Bs)&&(p.unprotected=Ue(this,Bs)),Ue(this,ur)&&(p.header=Ue(this,ur)),p}}Ep=new WeakMap,_i=new WeakMap,Bs=new WeakMap,ur=new WeakMap,Ku=new WeakMap,Ol=new WeakMap,zu=new WeakMap,Ju=new WeakMap;const yl=t=>Math.floor(t.getTime()/1e3),IP=60,wP=IP*60,M8=wP*24,tIe=M8*7,nIe=M8*365.25,iIe=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function q5(t){const e=iIe.exec(t);if(!e||e[4]&&e[1])throw new TypeError("Invalid time period format");const n=parseFloat(e[2]),i=e[3].toLowerCase();let r;switch(i){case"sec":case"secs":case"second":case"seconds":case"s":r=Math.round(n);break;case"minute":case"minutes":case"min":case"mins":case"m":r=Math.round(n*IP);break;case"hour":case"hours":case"hr":case"hrs":case"h":r=Math.round(n*wP);break;case"day":case"days":case"d":r=Math.round(n*M8);break;case"week":case"weeks":case"w":r=Math.round(n*tIe);break;default:r=Math.round(n*nIe);break}return e[1]==="-"||e[4]==="ago"?-r:r}function bl(t,e){if(!Number.isFinite(e))throw new TypeError(`Invalid ${t} input`);return e}var bn;class rIe{constructor(e){Wn(this,bn);if(!O8(e))throw new TypeError("JWT Claims Set MUST be an object");yn(this,bn,structuredClone(e))}data(){return yP.encode(JSON.stringify(Ue(this,bn)))}get iss(){return Ue(this,bn).iss}set iss(e){Ue(this,bn).iss=e}get sub(){return Ue(this,bn).sub}set sub(e){Ue(this,bn).sub=e}get aud(){return Ue(this,bn).aud}set aud(e){Ue(this,bn).aud=e}set jti(e){Ue(this,bn).jti=e}set nbf(e){typeof e=="number"?Ue(this,bn).nbf=bl("setNotBefore",e):e instanceof Date?Ue(this,bn).nbf=bl("setNotBefore",yl(e)):Ue(this,bn).nbf=yl(new Date)+q5(e)}set exp(e){typeof e=="number"?Ue(this,bn).exp=bl("setExpirationTime",e):e instanceof Date?Ue(this,bn).exp=bl("setExpirationTime",yl(e)):Ue(this,bn).exp=yl(new Date)+q5(e)}set iat(e){e===void 0?Ue(this,bn).iat=yl(new Date):e instanceof Date?Ue(this,bn).iat=bl("setIssuedAt",yl(e)):typeof e=="string"?Ue(this,bn).iat=bl("setIssuedAt",yl(new Date)+q5(e)):Ue(this,bn).iat=bl("setIssuedAt",e)}}bn=new WeakMap;var Ia;class sIe{constructor(e){Wn(this,Ia);yn(this,Ia,new eIe(e))}setContentEncryptionKey(e){return Ue(this,Ia).setContentEncryptionKey(e),this}setInitializationVector(e){return Ue(this,Ia).setInitializationVector(e),this}setProtectedHeader(e){return Ue(this,Ia).setProtectedHeader(e),this}setKeyManagementParameters(e){return Ue(this,Ia).setKeyManagementParameters(e),this}async encrypt(e,n){const i=await Ue(this,Ia).encrypt(e,n);return[i.protected,i.encrypted_key,i.iv,i.ciphertext,i.tag].join(".")}}Ia=new WeakMap;var Xl,Ml,Pl,wa,Hu,Qu,qu,ki;class aIe{constructor(e={}){Wn(this,Xl);Wn(this,Ml);Wn(this,Pl);Wn(this,wa);Wn(this,Hu);Wn(this,Qu);Wn(this,qu);Wn(this,ki);yn(this,ki,new rIe(e))}setIssuer(e){return Ue(this,ki).iss=e,this}setSubject(e){return Ue(this,ki).sub=e,this}setAudience(e){return Ue(this,ki).aud=e,this}setJti(e){return Ue(this,ki).jti=e,this}setNotBefore(e){return Ue(this,ki).nbf=e,this}setExpirationTime(e){return Ue(this,ki).exp=e,this}setIssuedAt(e){return Ue(this,ki).iat=e,this}setProtectedHeader(e){if(Ue(this,wa))throw new TypeError("setProtectedHeader can only be called once");return yn(this,wa,e),this}setKeyManagementParameters(e){if(Ue(this,Pl))throw new TypeError("setKeyManagementParameters can only be called once");return yn(this,Pl,e),this}setContentEncryptionKey(e){if(Ue(this,Xl))throw new TypeError("setContentEncryptionKey can only be called once");return yn(this,Xl,e),this}setInitializationVector(e){if(Ue(this,Ml))throw new TypeError("setInitializationVector can only be called once");return yn(this,Ml,e),this}replicateIssuerAsHeader(){return yn(this,Hu,!0),this}replicateSubjectAsHeader(){return yn(this,Qu,!0),this}replicateAudienceAsHeader(){return yn(this,qu,!0),this}async encrypt(e,n){const i=new sIe(Ue(this,ki).data());return Ue(this,wa)&&(Ue(this,Hu)||Ue(this,Qu)||Ue(this,qu))&&yn(this,wa,{...Ue(this,wa),iss:Ue(this,Hu)?Ue(this,ki).iss:void 0,sub:Ue(this,Qu)?Ue(this,ki).sub:void 0,aud:Ue(this,qu)?Ue(this,ki).aud:void 0}),i.setProtectedHeader(Ue(this,wa)),Ue(this,Ml)&&i.setInitializationVector(Ue(this,Ml)),Ue(this,Xl)&&i.setContentEncryptionKey(Ue(this,Xl)),Ue(this,Pl)&&i.setKeyManagementParameters(Ue(this,Pl)),i.encrypt(e,n)}}Xl=new WeakMap,Ml=new WeakMap,Pl=new WeakMap,wa=new WeakMap,Hu=new WeakMap,Qu=new WeakMap,qu=new WeakMap,ki=new WeakMap;var oIe=Object.defineProperty,lIe=(t,e,n)=>e in t?oIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ui=(t,e,n)=>lIe(t,typeof e!="symbol"?e+"":e,n);function cIe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var xP={exports:{}},kn=xP.exports={},Fs,Ls;function z4(){throw new Error("setTimeout has not been defined")}function J4(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Fs=setTimeout:Fs=z4}catch{Fs=z4}try{typeof clearTimeout=="function"?Ls=clearTimeout:Ls=J4}catch{Ls=J4}})();function VP(t){if(Fs===setTimeout)return setTimeout(t,0);if((Fs===z4||!Fs)&&setTimeout)return Fs=setTimeout,setTimeout(t,0);try{return Fs(t,0)}catch{try{return Fs.call(null,t,0)}catch{return Fs.call(this,t,0)}}}function uIe(t){if(Ls===clearTimeout)return clearTimeout(t);if((Ls===J4||!Ls)&&clearTimeout)return Ls=clearTimeout,clearTimeout(t);try{return Ls(t)}catch{try{return Ls.call(null,t)}catch{return Ls.call(this,t)}}}var Xa=[],Pu=!1,Zl,fm=-1;function dIe(){!Pu||!Zl||(Pu=!1,Zl.length?Xa=Zl.concat(Xa):fm=-1,Xa.length&&NP())}function NP(){if(!Pu){var t=VP(dIe);Pu=!0;for(var e=Xa.length;e;){for(Zl=Xa,Xa=[];++fm<e;)Zl&&Zl[fm].run();fm=-1,e=Xa.length}Zl=null,Pu=!1,uIe(t)}}kn.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Xa.push(new _P(t,e)),Xa.length===1&&!Pu&&VP(NP)};function _P(t,e){this.fun=t,this.array=e}_P.prototype.run=function(){this.fun.apply(null,this.array)};kn.title="browser";kn.browser=!0;kn.env={};kn.argv=[];kn.version="";kn.versions={};function ho(){}kn.on=ho;kn.addListener=ho;kn.once=ho;kn.off=ho;kn.removeListener=ho;kn.removeAllListeners=ho;kn.emit=ho;kn.prependListener=ho;kn.prependOnceListener=ho;kn.listeners=function(t){return[]};kn.binding=function(t){throw new Error("process.binding is not supported")};kn.cwd=function(){return"/"};kn.chdir=function(t){throw new Error("process.chdir is not supported")};kn.umask=function(){return 0};var hIe=xP.exports;const eE=cIe(hIe);var P8={exports:{}};function fIe(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var pIe=mIe;function mIe(t,e,n){var i=n&&n.stringify||fIe,r=1;if(typeof t=="object"&&t!==null){var s=e.length+r;if(s===1)return t;var a=new Array(s);a[0]=i(t);for(var o=1;o<s;o++)a[o]=i(e[o]);return a.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var c="",u=1-r,d=-1,f=t&&t.length||0,h=0;h<f;){if(t.charCodeAt(h)===37&&h+1<f){switch(d=d>-1?d:0,t.charCodeAt(h+1)){case 100:case 102:if(u>=l||e[u]==null)break;d<h&&(c+=t.slice(d,h)),c+=Number(e[u]),d=h+2,h++;break;case 105:if(u>=l||e[u]==null)break;d<h&&(c+=t.slice(d,h)),c+=Math.floor(Number(e[u])),d=h+2,h++;break;case 79:case 111:case 106:if(u>=l||e[u]===void 0)break;d<h&&(c+=t.slice(d,h));var m=typeof e[u];if(m==="string"){c+="'"+e[u]+"'",d=h+2,h++;break}if(m==="function"){c+=e[u].name||"<anonymous>",d=h+2,h++;break}c+=i(e[u]),d=h+2,h++;break;case 115:if(u>=l)break;d<h&&(c+=t.slice(d,h)),c+=String(e[u]),d=h+2,h++;break;case 37:d<h&&(c+=t.slice(d,h)),c+="%",d=h+2,h++,u--;break}++u}++h}return d===-1?t:(d<f&&(c+=t.slice(d)),c)}const Ik=pIe;P8.exports=ro;const cp=NIe().console||{},gIe={mapHttpRequest:y1,mapHttpResponse:y1,wrapRequestSerializer:tE,wrapResponseSerializer:tE,wrapErrorSerializer:tE,req:y1,res:y1,err:xk,errWithCause:xk};function Jg(t,e){return t==="silent"?1/0:e.levels.values[t]}const Y8=Symbol("pino.logFuncs"),H4=Symbol("pino.hierarchy"),yIe={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function wk(t,e){const n={logger:e,parent:t[H4]};e[H4]=n}function bIe(t,e,n){const i={};e.forEach(r=>{i[r]=n[r]?n[r]:cp[r]||cp[yIe[r]||"log"]||Yu}),t[Y8]=i}function vIe(t,e){return Array.isArray(t)?t.filter(function(i){return i!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function ro(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||cp;t.browser.write&&(t.browser.asObject=!0);const i=t.serializers||{},r=vIe(t.browser.serialize,i);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const a=Object.keys(t.customLevels||{}),o=["error","fatal","warn","info","debug","trace"].concat(a);typeof n=="function"&&o.forEach(function(p){n[p]=n}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");const l=t.level||"info",c=Object.create(n);c.log||(c.log=Yu),bIe(c,o,n),wk({},c),Object.defineProperty(c,"levelVal",{get:d}),Object.defineProperty(c,"level",{get:f,set:h});const u={transmit:e,serialize:r,asObject:t.browser.asObject,formatters:t.browser.formatters,levels:o,timestamp:wIe(t),messageKey:t.messageKey||"msg",onChild:t.onChild||Yu};c.levels=EIe(t),c.level=l,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=Yu,c.serializers=i,c._serialize=r,c._stdErrSerialize=s,c.child=function(...p){return m.call(this,u,...p)},e&&(c._logEvent=Q4());function d(){return Jg(this.level,this)}function f(){return this._level}function h(p){if(p!=="silent"&&!this.levels.values[p])throw Error("unknown level "+p);this._level=p,vl(this,u,c,"error"),vl(this,u,c,"fatal"),vl(this,u,c,"warn"),vl(this,u,c,"info"),vl(this,u,c,"debug"),vl(this,u,c,"trace"),a.forEach(v=>{vl(this,u,c,v)})}function m(p,v,y){if(!v)throw new Error("missing bindings for child Pino");y=y||{},r&&v.serializers&&(y.serializers=v.serializers);const E=y.serializers;if(r&&E){var S=Object.assign({},i,E),I=t.browser.serialize===!0?Object.keys(S):r;delete v.serializers,$8([v],I,S,this._stdErrSerialize)}function w(F){this._childLevel=(F._childLevel|0)+1,this.bindings=v,S&&(this.serializers=S,this._serialize=I),e&&(this._logEvent=Q4([].concat(F._logEvent.bindings,v)))}w.prototype=this;const N=new w(this);return wk(this,N),N.child=function(...F){return m.call(this,p,...F)},N.level=y.level||this.level,p.onChild(N),N}return c}function EIe(t){const e=t.customLevels||{},n=Object.assign({},ro.levels.values,e),i=Object.assign({},ro.levels.labels,AIe(e));return{values:n,labels:i}}function AIe(t){const e={};return Object.keys(t).forEach(function(n){e[t[n]]=n}),e}ro.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};ro.stdSerializers=gIe;ro.stdTimeFunctions=Object.assign({},{nullTime:kP,epochTime:FP,unixTime:xIe,isoTime:VIe});function SIe(t){const e=[];t.bindings&&e.push(t.bindings);let n=t[H4];for(;n.parent;)n=n.parent,n.logger.bindings&&e.push(n.logger.bindings);return e.reverse()}function vl(t,e,n,i){if(Object.defineProperty(t,i,{value:Jg(t.level,n)>Jg(i,n)?Yu:n[Y8][i],writable:!0,enumerable:!0,configurable:!0}),t[i]===Yu){if(!e.transmit)return;const s=e.transmit.level||t.level,a=n.levels.values[s];if(n.levels.values[i]<a)return}t[i]=RIe(t,e,n,i);const r=SIe(t);r.length!==0&&(t[i]=TIe(r,t[i]))}function TIe(t,e){return function(){return e.apply(this,[...t,...arguments])}}function RIe(t,e,n,i){return function(r){return function(){const a=e.timestamp(),o=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===cp?cp:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];var u=!1;if(e.serialize&&($8(o,this._serialize,this.serializers,this._stdErrSerialize),u=!0),e.asObject||e.formatters?r.call(l,CIe(this,i,o,a,e)):r.apply(l,o),e.transmit){const d=e.transmit.level||t._level,f=n.levels.values[d],h=n.levels.values[i];if(h<f)return;IIe(this,{ts:a,methodLevel:i,methodValue:h,transmitValue:n.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:Jg(t._level,n)},o,u)}}}(t[Y8][i])}function CIe(t,e,n,i,r){const{level:s,log:a=f=>f}=r.formatters||{},o=n.slice();let l=o[0];const c={};if(i&&(c.time=i),s){const f=s(e,t.levels.values[e]);Object.assign(c,f)}else c.level=t.levels.values[e];let u=(t._childLevel|0)+1;if(u<1&&(u=1),l!==null&&typeof l=="object"){for(;u--&&typeof o[0]=="object";)Object.assign(c,o.shift());l=o.length?Ik(o.shift(),o):void 0}else typeof l=="string"&&(l=Ik(o.shift(),o));return l!==void 0&&(c[r.messageKey]=l),a(c)}function $8(t,e,n,i){for(const r in t)if(i&&t[r]instanceof Error)t[r]=ro.stdSerializers.err(t[r]);else if(typeof t[r]=="object"&&!Array.isArray(t[r])&&e)for(const s in t[r])e.indexOf(s)>-1&&s in n&&(t[r][s]=n[s](t[r][s]))}function IIe(t,e,n,i=!1){const r=e.send,s=e.ts,a=e.methodLevel,o=e.methodValue,l=e.val,c=t._logEvent.bindings;i||$8(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=s,t._logEvent.messages=n.filter(function(u){return c.indexOf(u)===-1}),t._logEvent.level.label=a,t._logEvent.level.value=o,r(a,t._logEvent,l),t._logEvent=Q4(c)}function Q4(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function xk(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function wIe(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?kP:FP}function y1(){return{}}function tE(t){return t}function Yu(){}function kP(){return!1}function FP(){return Date.now()}function xIe(){return Math.round(Date.now()/1e3)}function VIe(){return new Date(Date.now()).toISOString()}function NIe(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}P8.exports.default=ro;var _Ie=P8.exports.pino=ro;const kIe=_Ie({level:"trace",enabled:typeof window<"u"&&!!window.localStorage.getItem("SL_DEBUG"),browser:{write:t=>{console.log(t)}}}),t0=(t,e)=>kIe.child({name:t},e);t0("event-bus");function Hg(t){let e=!1;const n=[];for(let i=0;i<t.length;i++){let r=t.charAt(i);switch(r){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":n.push(r),e=!1;break;default:e&&(e=!1,r=r.toUpperCase()),n.push(r);break}}return n.join("")}const FIe=new Set(["constructor","toString","toJSON","valueOf"]);function up(t){return FIe.has(t)?t+"$":t}function LIe(){let t=0,e=0;for(let i=0;i<28;i+=7){let r=this.buf[this.pos++];if(t|=(r&127)<<i,!(r&128))return this.assertBounds(),[t,e]}let n=this.buf[this.pos++];if(t|=(n&15)<<28,e=(n&112)>>4,!(n&128))return this.assertBounds(),[t,e];for(let i=3;i<=31;i+=7){let r=this.buf[this.pos++];if(e|=(r&127)<<i,!(r&128))return this.assertBounds(),[t,e]}throw new Error("invalid varint")}const pm=4294967296;function Vk(t){const e=t[0]==="-";e&&(t=t.slice(1));const n=1e6;let i=0,r=0;function s(a,o){const l=Number(t.slice(a,o));r*=n,i=i*n+l,i>=pm&&(r=r+(i/pm|0),i=i%pm)}return s(-24,-18),s(-18,-12),s(-12,-6),s(-6),e?UP(i,r):j8(i,r)}function UIe(t,e){let n=j8(t,e);const i=n.hi&2147483648;i&&(n=UP(n.lo,n.hi));const r=LP(n.lo,n.hi);return i?"-"+r:r}function LP(t,e){if({lo:t,hi:e}=BIe(t,e),e<=2097151)return String(pm*e+t);const n=t&16777215,i=(t>>>24|e<<8)&16777215,r=e>>16&65535;let s=n+i*6777216+r*6710656,a=i+r*8147497,o=r*2;const l=1e7;return s>=l&&(a+=Math.floor(s/l),s%=l),a>=l&&(o+=Math.floor(a/l),a%=l),o.toString()+Nk(a)+Nk(s)}function BIe(t,e){return{lo:t>>>0,hi:e>>>0}}function j8(t,e){return{lo:t|0,hi:e|0}}function UP(t,e){return e=~e,t?t=~t+1:e+=1,j8(t,e)}const Nk=t=>{const e=String(t);return"0000000".slice(e.length)+e};function WIe(){let t=this.buf[this.pos++],e=t&127;if(!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,!(t&128))return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let n=5;t&128&&n<10;n++)t=this.buf[this.pos++];if(t&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}const di=GIe();function GIe(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof eE!="object"||typeof eE.env!="object"||eE.env.BUF_BIGINT_DISABLE!=="1")){const n=BigInt("-9223372036854775808"),i=BigInt("9223372036854775807"),r=BigInt("0"),s=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(a){const o=typeof a=="bigint"?a:BigInt(a);if(o>i||o<n)throw new Error(`invalid int64: ${a}`);return o},uParse(a){const o=typeof a=="bigint"?a:BigInt(a);if(o>s||o<r)throw new Error(`invalid uint64: ${a}`);return o},enc(a){return t.setBigInt64(0,this.parse(a),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(a){return t.setBigInt64(0,this.uParse(a),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(a,o){return t.setInt32(0,a,!0),t.setInt32(4,o,!0),t.getBigInt64(0,!0)},uDec(a,o){return t.setInt32(0,a,!0),t.setInt32(4,o,!0),t.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(n){return typeof n!="string"&&(n=n.toString()),_k(n),n},uParse(n){return typeof n!="string"&&(n=n.toString()),kk(n),n},enc(n){return typeof n!="string"&&(n=n.toString()),_k(n),Vk(n)},uEnc(n){return typeof n!="string"&&(n=n.toString()),kk(n),Vk(n)},dec(n,i){return UIe(n,i)},uDec(n,i){return LP(n,i)}}}function _k(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}function kk(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}var Ve;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(Ve||(Ve={}));function dp(t,e){switch(t){case Ve.STRING:return"";case Ve.BOOL:return!1;default:return 0;case Ve.DOUBLE:case Ve.FLOAT:return 0;case Ve.INT64:case Ve.UINT64:case Ve.SFIXED64:case Ve.FIXED64:case Ve.SINT64:return e?"0":di.zero;case Ve.BYTES:return new Uint8Array(0)}}function ZIe(t,e){switch(t){case Ve.BOOL:return e===!1;case Ve.STRING:return e==="";case Ve.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}const BP=2,Ma=Symbol.for("reflect unsafe local");function DIe(t,e){const n=t[e.localName].case;return n===void 0?n:e.fields.find(i=>i.localName===n)}function OIe(t,e){const n=e.localName;if(e.oneof)return t[e.oneof.localName].case===n;if(e.presence!=BP)return t[n]!==void 0&&Object.prototype.hasOwnProperty.call(t,n);switch(e.fieldKind){case"list":return t[n].length>0;case"map":return Object.keys(t[n]).length>0;case"scalar":return!ZIe(e.scalar,t[n]);case"enum":return t[n]!==e.enum.values[0].number}throw new Error("message field with implicit presence")}function hp(t,e){return Object.prototype.hasOwnProperty.call(t,e)&&t[e]!==void 0}function XIe(t,e){if(e.oneof){const n=t[e.oneof.localName];return n.case===e.localName?n.value:void 0}return t[e.localName]}function MIe(t,e,n){e.oneof?t[e.oneof.localName]={case:e.localName,value:n}:t[e.localName]=n}function PIe(t,e){const n=e.localName;if(e.oneof){const i=e.oneof.localName;t[i].case===n&&(t[i]={case:void 0})}else if(e.presence!=BP)delete t[n];else switch(e.fieldKind){case"map":t[n]={};break;case"list":t[n]=[];break;case"enum":t[n]=e.enum.values[0].number;break;case"scalar":t[n]=dp(e.scalar,e.longAsString);break}}function K8(t){for(const e of t.field)hp(e,"jsonName")||(e.jsonName=Hg(e.name));t.nestedType.forEach(K8)}function YIe(t,e){const n=t.values.find(i=>i.name===e);if(!n)throw new Error(`cannot parse ${t} default value: ${e}`);return n.number}function $Ie(t,e){switch(t){case Ve.STRING:return e;case Ve.BYTES:{const n=jIe(e);if(n===!1)throw new Error(`cannot parse ${Ve[t]} default value: ${e}`);return n}case Ve.INT64:case Ve.SFIXED64:case Ve.SINT64:return di.parse(e);case Ve.UINT64:case Ve.FIXED64:return di.uParse(e);case Ve.DOUBLE:case Ve.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case Ve.BOOL:return e==="true";case Ve.INT32:case Ve.UINT32:case Ve.SINT32:case Ve.FIXED32:case Ve.SFIXED32:return parseInt(e,10)}}function jIe(t){const e=[],n={tail:t,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(i){if(this.tail.length>=i){const r=this.tail.substring(0,i);return this.tail=this.tail.substring(i),r}return!1}};for(;n.next();)switch(n.c){case"\\":if(n.next())switch(n.c){case"\\":e.push(n.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const i=n.c,r=n.take(2);if(r===!1)return!1;const s=parseInt(i+r,8);if(isNaN(s))return!1;e.push(s);break}case"x":{const i=n.c,r=n.take(2);if(r===!1)return!1;const s=parseInt(i+r,16);if(isNaN(s))return!1;e.push(s);break}case"u":{const i=n.c,r=n.take(4);if(r===!1)return!1;const s=parseInt(i+r,16);if(isNaN(s))return!1;const a=new Uint8Array(4);new DataView(a.buffer).setInt32(0,s,!0),e.push(a[0],a[1],a[2],a[3]);break}case"U":{const i=n.c,r=n.take(8);if(r===!1)return!1;const s=di.uEnc(i+r),a=new Uint8Array(8),o=new DataView(a.buffer);o.setInt32(0,s.lo,!0),o.setInt32(4,s.hi,!0),e.push(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]);break}}break;default:e.push(n.c.charCodeAt(0))}return new Uint8Array(e)}function*q4(t){switch(t.kind){case"file":for(const e of t.messages)yield e,yield*q4(e);yield*t.enums,yield*t.services,yield*t.extensions;break;case"message":for(const e of t.nestedMessages)yield e,yield*q4(e);yield*t.nestedEnums,yield*t.nestedExtensions;break}}function WP(...t){const e=KIe();if(!t.length)return e;if("$typeName"in t[0]&&t[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const n of t[0].file)Uk(n,e);return e}if("$typeName"in t[0]){let n=function(a){const o=[];for(const l of a.dependency){if(e.getFile(l)!=null||s.has(l))continue;const c=r(l);if(!c)throw new Error(`Unable to resolve ${l}, imported by ${a.name}`);"kind"in c?e.addFile(c,!1,!0):(s.add(c.name),o.push(c))}return o.concat(...o.map(n))};const i=t[0],r=t[1],s=new Set;for(const a of[i,...n(i)].reverse())Uk(a,e)}else for(const n of t)for(const i of n.files)e.addFile(i);return e}function KIe(){const t=new Map,e=new Map,n=new Map;return{kind:"registry",types:t,extendees:e,[Symbol.iterator](){return t.values()},get files(){return n.values()},addFile(i,r,s){if(n.set(i.proto.name,i),!r)for(const a of q4(i))this.add(a);if(s)for(const a of i.dependencies)this.addFile(a,r,s)},add(i){if(i.kind=="extension"){let r=e.get(i.extendee.typeName);r||e.set(i.extendee.typeName,r=new Map),r.set(i.number,i)}t.set(i.typeName,i)},get(i){return t.get(i)},getFile(i){return n.get(i)},getMessage(i){const r=t.get(i);return(r==null?void 0:r.kind)=="message"?r:void 0},getEnum(i){const r=t.get(i);return(r==null?void 0:r.kind)=="enum"?r:void 0},getExtension(i){const r=t.get(i);return(r==null?void 0:r.kind)=="extension"?r:void 0},getExtensionFor(i,r){var s;return(s=e.get(i.typeName))===null||s===void 0?void 0:s.get(r)},getService(i){const r=t.get(i);return(r==null?void 0:r.kind)=="service"?r:void 0}}}const zIe=998,JIe=999,HIe=9,Qg=10,xf=11,QIe=12,Fk=14,z8=3,qIe=2,Lk=1,e7e=0,nE=1,t7e=2,n7e=3,i7e=1,r7e=2,s7e=1,GP={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2}};function Uk(t,e){var n,i;const r={kind:"file",proto:t,deprecated:(i=(n=t.options)===null||n===void 0?void 0:n.deprecated)!==null&&i!==void 0?i:!1,edition:c7e(t),name:t.name.replace(/\.proto$/,""),dependencies:u7e(t,e),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${t.name}`}},s=new Map,a={get(o){return s.get(o)},add(o){var l;os(((l=o.proto.options)===null||l===void 0?void 0:l.mapEntry)===!0),s.set(o.typeName,o)}};for(const o of t.enumType)ZP(o,r,void 0,e);for(const o of t.messageType)DP(o,r,void 0,e,a);for(const o of t.service)a7e(o,r,e);eS(r,e);for(const o of s.values())tS(o,e,a);for(const o of r.messages)tS(o,e,a),eS(o,e);e.addFile(r,!0)}function eS(t,e){switch(t.kind){case"file":for(const n of t.proto.extension){const i=nS(n,t,e);t.extensions.push(i),e.add(i)}break;case"message":for(const n of t.proto.extension){const i=nS(n,t,e);t.nestedExtensions.push(i),e.add(i)}for(const n of t.nestedMessages)eS(n,e);break}}function tS(t,e,n){const i=t.proto.oneofDecl.map(s=>l7e(s,t)),r=new Set;for(const s of t.proto.field){const a=f7e(s,i),o=nS(s,t,e,a,n);t.fields.push(o),t.field[o.localName]=o,a===void 0?t.members.push(o):(a.fields.push(o),r.has(a)||(r.add(a),t.members.push(a)))}for(const s of i.filter(a=>r.has(a)))t.oneofs.push(s);for(const s of t.nestedMessages)tS(s,e,n)}function ZP(t,e,n,i){var r,s,a;const o=d7e(t.name,t.value),l={kind:"enum",proto:t,deprecated:(s=(r=t.options)===null||r===void 0?void 0:r.deprecated)!==null&&s!==void 0?s:!1,file:e,parent:n,open:!0,name:t.name,typeName:wy(t,n,e),value:{},values:[],sharedPrefix:o,toString(){return`enum ${this.typeName}`}};l.open=y7e(l),i.add(l),t.value.forEach(c=>{var u,d;const f=c.name;l.values.push(l.value[c.number]={kind:"enum_value",proto:c,deprecated:(d=(u=c.options)===null||u===void 0?void 0:u.deprecated)!==null&&d!==void 0?d:!1,parent:l,name:f,localName:up(o==null?f:f.substring(o.length)),number:c.number,toString(){return`enum value ${l.typeName}.${f}`}})}),((a=n==null?void 0:n.nestedEnums)!==null&&a!==void 0?a:e.enums).push(l)}function DP(t,e,n,i,r){var s,a,o,l;const c={kind:"message",proto:t,deprecated:(a=(s=t.options)===null||s===void 0?void 0:s.deprecated)!==null&&a!==void 0?a:!1,file:e,parent:n,name:t.name,typeName:wy(t,n,e),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((o=t.options)===null||o===void 0?void 0:o.mapEntry)===!0?r.add(c):(((l=n==null?void 0:n.nestedMessages)!==null&&l!==void 0?l:e.messages).push(c),i.add(c));for(const u of t.enumType)ZP(u,e,c,i);for(const u of t.nestedType)DP(u,e,c,i,r)}function a7e(t,e,n){var i,r;const s={kind:"service",proto:t,deprecated:(r=(i=t.options)===null||i===void 0?void 0:i.deprecated)!==null&&r!==void 0?r:!1,file:e,name:t.name,typeName:wy(t,void 0,e),methods:[],method:{},toString(){return`service ${this.typeName}`}};e.services.push(s),n.add(s);for(const a of t.method){const o=o7e(a,s,n);s.methods.push(o),s.method[o.localName]=o}}function o7e(t,e,n){var i,r,s,a;let o;t.clientStreaming&&t.serverStreaming?o="bidi_streaming":t.clientStreaming?o="client_streaming":t.serverStreaming?o="server_streaming":o="unary";const l=n.getMessage(Ea(t.inputType)),c=n.getMessage(Ea(t.outputType));os(l,`invalid MethodDescriptorProto: input_type ${t.inputType} not found`),os(c,`invalid MethodDescriptorProto: output_type ${t.inputType} not found`);const u=t.name;return{kind:"rpc",proto:t,deprecated:(r=(i=t.options)===null||i===void 0?void 0:i.deprecated)!==null&&r!==void 0?r:!1,parent:e,name:u,localName:up(u.length?up(u[0].toLowerCase()+u.substring(1)):u),methodKind:o,input:l,output:c,idempotency:(a=(s=t.options)===null||s===void 0?void 0:s.idempotencyLevel)!==null&&a!==void 0?a:e7e,toString(){return`rpc ${e.typeName}.${u}`}}}function l7e(t,e){return{kind:"oneof",proto:t,deprecated:!1,parent:e,fields:[],name:t.name,localName:up(Hg(t.name)),toString(){return`oneof ${e.typeName}.${this.name}`}}}function nS(t,e,n,i,r){var s,a,o;const l=r===void 0,c={kind:"field",proto:t,deprecated:(a=(s=t.options)===null||s===void 0?void 0:s.deprecated)!==null&&a!==void 0?a:!1,name:t.name,number:t.number,scalar:void 0,message:void 0,enum:void 0,presence:p7e(t,i,l,e),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(l){const h=e.kind=="file"?e:e.file,m=e.kind=="file"?void 0:e,p=wy(t,m,h);c.kind="extension",c.file=h,c.parent=m,c.oneof=void 0,c.typeName=p,c.jsonName=`[${p}]`,c.toString=()=>`extension ${p}`;const v=n.getMessage(Ea(t.extendee));os(v,`invalid FieldDescriptorProto: extendee ${t.extendee} not found`),c.extendee=v}else{const h=e;os(h.kind=="message"),c.parent=h,c.oneof=i,c.localName=i?Hg(t.name):up(Hg(t.name)),c.jsonName=t.jsonName,c.toString=()=>`field ${h.typeName}.${t.name}`}const u=t.label,d=t.type,f=(o=t.options)===null||o===void 0?void 0:o.jstype;if(u===z8){const h=d==xf?r==null?void 0:r.get(Ea(t.typeName)):void 0;if(h){c.fieldKind="map";const{key:m,value:p}=g7e(h);return c.mapKey=m.scalar,c.mapKind=p.fieldKind,c.message=p.message,c.delimitedEncoding=!1,c.enum=p.enum,c.scalar=p.scalar,c}switch(c.fieldKind="list",d){case xf:case Qg:c.listKind="message",c.message=n.getMessage(Ea(t.typeName)),os(c.message),c.delimitedEncoding=Bk(t,e);break;case Fk:c.listKind="enum",c.enum=n.getEnum(Ea(t.typeName)),os(c.enum);break;default:c.listKind="scalar",c.scalar=d,c.longAsString=f==Lk;break}return c.packed=m7e(t,e),c}switch(d){case xf:case Qg:c.fieldKind="message",c.message=n.getMessage(Ea(t.typeName)),os(c.message,`invalid FieldDescriptorProto: type_name ${t.typeName} not found`),c.delimitedEncoding=Bk(t,e),c.getDefaultValue=()=>{};break;case Fk:{const h=n.getEnum(Ea(t.typeName));os(h!==void 0,`invalid FieldDescriptorProto: type_name ${t.typeName} not found`),c.fieldKind="enum",c.enum=n.getEnum(Ea(t.typeName)),c.getDefaultValue=()=>hp(t,"defaultValue")?YIe(h,t.defaultValue):void 0;break}default:{c.fieldKind="scalar",c.scalar=d,c.longAsString=f==Lk,c.getDefaultValue=()=>hp(t,"defaultValue")?$Ie(d,t.defaultValue):void 0;break}}return c}function c7e(t){switch(t.syntax){case"":case"proto2":return zIe;case"proto3":return JIe;case"editions":if(t.edition in GP)return t.edition;throw new Error(`${t.name}: unsupported edition`);default:throw new Error(`${t.name}: unsupported syntax "${t.syntax}"`)}}function u7e(t,e){return t.dependency.map(n=>{const i=e.getFile(n);if(!i)throw new Error(`Cannot find ${n}, imported by ${t.name}`);return i})}function d7e(t,e){const n=h7e(t)+"_";for(const i of e){if(!i.name.toLowerCase().startsWith(n))return;const r=i.name.substring(n.length);if(r.length==0||/^\d/.test(r))return}return n}function h7e(t){return(t.substring(0,1)+t.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function wy(t,e,n){let i;return e?i=`${e.typeName}.${t.name}`:n.proto.package.length>0?i=`${n.proto.package}.${t.name}`:i=`${t.name}`,i}function Ea(t){return t.startsWith(".")?t.substring(1):t}function f7e(t,e){if(!hp(t,"oneofIndex")||t.proto3Optional)return;const n=e[t.oneofIndex];return os(n,`invalid FieldDescriptorProto: oneof #${t.oneofIndex} for field #${t.number} not found`),n}function p7e(t,e,n,i){return t.label==qIe?n7e:t.label==z8?t7e:e||t.proto3Optional||t.type==xf||n?nE:Nd("fieldPresence",{proto:t,parent:i})}function m7e(t,e){if(t.label!=z8)return!1;switch(t.type){case HIe:case QIe:case Qg:case xf:return!1}const n=t.options;return n&&hp(n,"packed")?n.packed:i7e==Nd("repeatedFieldEncoding",{proto:t,parent:e})}function g7e(t){const e=t.fields.find(i=>i.number===1),n=t.fields.find(i=>i.number===2);return os(e&&e.fieldKind=="scalar"&&e.scalar!=Ve.BYTES&&e.scalar!=Ve.FLOAT&&e.scalar!=Ve.DOUBLE&&n&&n.fieldKind!="list"&&n.fieldKind!="map"),{key:e,value:n}}function y7e(t){var e;return s7e==Nd("enumType",{proto:t.proto,parent:(e=t.parent)!==null&&e!==void 0?e:t.file})}function Bk(t,e){return t.type==Qg?!0:r7e==Nd("messageEncoding",{proto:t,parent:e})}function Nd(t,e){var n,i;const r=(n=e.proto.options)===null||n===void 0?void 0:n.features;if(r){const s=r[t];if(s!=0)return s}if("kind"in e){if(e.kind=="message")return Nd(t,(i=e.parent)!==null&&i!==void 0?i:e.file);const s=GP[e.edition];if(!s)throw new Error(`feature default for edition ${e.edition} not found`);return s[t]}return Nd(t,e.parent)}function os(t,e){if(!t)throw new Error(e)}function b7e(t){const e=v7e(t);return e.messageType.forEach(K8),WP(e,()=>{}).getFile(e.name)}function v7e(t){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],service:[],extension:[]},t),{messageType:t.messageType.map(OP),enumType:t.enumType.map(XP)}))}function OP(t){var e,n,i,r,s,a,o,l;return{$typeName:"google.protobuf.DescriptorProto",name:t.name,field:(n=(e=t.field)===null||e===void 0?void 0:e.map(E7e))!==null&&n!==void 0?n:[],extension:[],nestedType:(r=(i=t.nestedType)===null||i===void 0?void 0:i.map(OP))!==null&&r!==void 0?r:[],enumType:(a=(s=t.enumType)===null||s===void 0?void 0:s.map(XP))!==null&&a!==void 0?a:[],extensionRange:(l=(o=t.extensionRange)===null||o===void 0?void 0:o.map(c=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},c)))!==null&&l!==void 0?l:[],oneofDecl:[],reservedRange:[],reservedName:[]}}function E7e(t){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},t),{options:t.options?A7e(t.options):void 0}))}function A7e(t){var e,n,i;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},t),{targets:(e=t.targets)!==null&&e!==void 0?e:[],editionDefaults:(i=(n=t.editionDefaults)===null||n===void 0?void 0:n.map(s=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},s)))!==null&&i!==void 0?i:[],uninterpretedOption:[]}))}function XP(t){return{$typeName:"google.protobuf.EnumDescriptorProto",name:t.name,reservedName:[],reservedRange:[],value:t.value.map(e=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},e))}}function S7e(t){const e=R7e();let n=t.length*3/4;t[t.length-2]=="="?n-=2:t[t.length-1]=="="&&(n-=1);let i=new Uint8Array(n),r=0,s=0,a,o=0;for(let l=0;l<t.length;l++){if(a=e[t.charCodeAt(l)],a===void 0)switch(t[l]){case"=":s=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(s){case 0:o=a,s=1;break;case 1:i[r++]=o<<2|(a&48)>>4,o=a,s=2;break;case 2:i[r++]=(o&15)<<4|(a&60)>>2,o=a,s=3;break;case 3:i[r++]=(o&3)<<6|a,s=0;break}}if(s==1)throw Error("invalid base64 string");return i.subarray(0,r)}let b1,$c;function T7e(t){return b1||(b1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),b1.slice(0,-2).concat("-","_")),b1}function R7e(){if(!$c){$c=[];const t=T7e();for(let e=0;e<t.length;e++)$c[t[e].charCodeAt(0)]=e;$c[45]=t.indexOf("+"),$c[95]=t.indexOf("/")}return $c}function MP(t,e){return t!==null&&typeof t=="object"&&"$typeName"in t&&typeof t.$typeName=="string"?e===void 0?!0:e.typeName===t.$typeName:!1}class _d extends Error{constructor(e,n,i="FieldValueInvalidError"){super(n),this.name=i,this.field=()=>e}}function kd(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function J8(t,e){var n,i,r,s;if(kd(t)&&Ma in t&&"add"in t&&"field"in t&&typeof t.field=="function"){if(e!==void 0){const a=e,o=t.field();return a.listKind==o.listKind&&a.scalar===o.scalar&&((n=a.message)===null||n===void 0?void 0:n.typeName)===((i=o.message)===null||i===void 0?void 0:i.typeName)&&((r=a.enum)===null||r===void 0?void 0:r.typeName)===((s=o.enum)===null||s===void 0?void 0:s.typeName)}return!0}return!1}function H8(t,e){var n,i,r,s;if(kd(t)&&Ma in t&&"has"in t&&"field"in t&&typeof t.field=="function"){if(e!==void 0){const a=e,o=t.field();return a.mapKey===o.mapKey&&a.mapKind==o.mapKind&&a.scalar===o.scalar&&((n=a.message)===null||n===void 0?void 0:n.typeName)===((i=o.message)===null||i===void 0?void 0:i.typeName)&&((r=a.enum)===null||r===void 0?void 0:r.typeName)===((s=o.enum)===null||s===void 0?void 0:s.typeName)}return!0}return!1}function Q8(t,e){return kd(t)&&Ma in t&&"desc"in t&&kd(t.desc)&&t.desc.kind==="message"&&(e===void 0||t.desc.typeName==e.typeName)}const iE=Symbol.for("@bufbuild/protobuf/text-encoding");function PP(){if(globalThis[iE]==null){const t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[iE]={encodeUtf8(n){return t.encode(n)},decodeUtf8(n){return e.decode(n)},checkUtf8(n){try{return encodeURIComponent(n),!0}catch{return!1}}}}return globalThis[iE]}var ls;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(ls||(ls={}));const C7e=34028234663852886e22,I7e=-34028234663852886e22,w7e=4294967295,x7e=2147483647,V7e=-2147483648;class N7e{constructor(e,n=PP().decodeUtf8){this.decodeUtf8=n,this.varint64=LIe,this.uint32=WIe,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),n=e>>>3,i=e&7;if(n<=0||i<0||i>5)throw new Error("illegal tag: field no "+n+" wire type "+i);return[n,i]}skip(e,n){let i=this.pos;switch(e){case ls.Varint:for(;this.buf[this.pos++]&128;);break;case ls.Bit64:this.pos+=4;case ls.Bit32:this.pos+=4;break;case ls.LengthDelimited:let r=this.uint32();this.pos+=r;break;case ls.StartGroup:for(;;){const[s,a]=this.tag();if(a===ls.EndGroup){if(n!==void 0&&s!==n)throw new Error("invalid end group tag");break}this.skip(a,s)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(i,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return di.dec(...this.varint64())}uint64(){return di.uDec(...this.varint64())}sint64(){let[e,n]=this.varint64(),i=-(e&1);return e=(e>>>1|(n&1)<<31)^i,n=n>>>1^i,di.dec(e,n)}bool(){let[e,n]=this.varint64();return e!==0||n!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return di.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return di.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),n=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(n,n+e)}string(){return this.decodeUtf8(this.bytes())}}function _7e(t,e){const n=t.fieldKind=="list"?J8(e,t):t.fieldKind=="map"?H8(e,t):q8(t,e);if(n===!0)return;let i;switch(t.fieldKind){case"list":i=`expected ${jP(t)}, got ${e2(e)}`;break;case"map":i=`expected ${KP(t)}, got ${e2(e)}`;break;default:i=qg(t,e,n)}return new _d(t,i)}function Wk(t,e,n){const i=q8(t,n);if(i!==!0)return new _d(t,`list item #${e+1}: ${qg(t,n,i)}`)}function k7e(t,e,n){const i=YP(e,t.mapKey);if(i!==!0)return new _d(t,`invalid map key: ${qg({scalar:t.mapKey},e,i)}`);const r=q8(t,n);if(r!==!0)return new _d(t,`map entry ${e2(e)}: ${qg(t,n,r)}`)}function q8(t,e){return t.scalar!==void 0?YP(e,t.scalar):t.enum!==void 0?t.enum.open?Number.isInteger(e):t.enum.values.some(n=>n.number===e):Q8(e,t.message)}function YP(t,e){switch(e){case Ve.DOUBLE:return typeof t=="number";case Ve.FLOAT:return typeof t!="number"?!1:Number.isNaN(t)||!Number.isFinite(t)?!0:t>C7e||t<I7e?`${t.toFixed()} out of range`:!0;case Ve.INT32:case Ve.SFIXED32:case Ve.SINT32:return typeof t!="number"||!Number.isInteger(t)?!1:t>x7e||t<V7e?`${t.toFixed()} out of range`:!0;case Ve.FIXED32:case Ve.UINT32:return typeof t!="number"||!Number.isInteger(t)?!1:t>w7e||t<0?`${t.toFixed()} out of range`:!0;case Ve.BOOL:return typeof t=="boolean";case Ve.STRING:return typeof t!="string"?!1:PP().checkUtf8(t)||"invalid UTF8";case Ve.BYTES:return t instanceof Uint8Array;case Ve.INT64:case Ve.SFIXED64:case Ve.SINT64:if(typeof t=="bigint"||typeof t=="number"||typeof t=="string"&&t.length>0)try{return di.parse(t),!0}catch{return`${t} out of range`}return!1;case Ve.FIXED64:case Ve.UINT64:if(typeof t=="bigint"||typeof t=="number"||typeof t=="string"&&t.length>0)try{return di.uParse(t),!0}catch{return`${t} out of range`}return!1}}function qg(t,e,n){return n=typeof n=="string"?`: ${n}`:`, got ${e2(e)}`,t.scalar!==void 0?`expected ${F7e(t.scalar)}`+n:t.enum!==void 0?`expected ${t.enum.toString()}`+n:`expected ${$P(t.message)}`+n}function e2(t){switch(typeof t){case"object":return t===null?"null":t instanceof Uint8Array?`Uint8Array(${t.length})`:Array.isArray(t)?`Array(${t.length})`:J8(t)?jP(t.field()):H8(t)?KP(t.field()):Q8(t)?$P(t.desc):MP(t)?`message ${t.$typeName}`:"object";case"string":return t.length>30?"string":`"${t.split('"').join('\\"')}"`;case"boolean":return String(t);case"number":return String(t);case"bigint":return String(t)+"n";default:return typeof t}}function $P(t){return`ReflectMessage (${t.typeName})`}function jP(t){switch(t.listKind){case"message":return`ReflectList (${t.message.toString()})`;case"enum":return`ReflectList (${t.enum.toString()})`;case"scalar":return`ReflectList (${Ve[t.scalar]})`}}function KP(t){switch(t.mapKind){case"message":return`ReflectMap (${Ve[t.mapKey]}, ${t.message.toString()})`;case"enum":return`ReflectMap (${Ve[t.mapKey]}, ${t.enum.toString()})`;case"scalar":return`ReflectMap (${Ve[t.mapKey]}, ${Ve[t.scalar]})`}}function F7e(t){switch(t){case Ve.STRING:return"string";case Ve.BOOL:return"boolean";case Ve.INT64:case Ve.SINT64:case Ve.SFIXED64:return"bigint (int64)";case Ve.UINT64:case Ve.FIXED64:return"bigint (uint64)";case Ve.BYTES:return"Uint8Array";case Ve.DOUBLE:return"number (float64)";case Ve.FLOAT:return"number (float32)";case Ve.FIXED32:case Ve.UINT32:return"number (uint32)";case Ve.INT32:case Ve.SFIXED32:case Ve.SINT32:return"number (int32)"}}function L7e(t){return zP(t.$typeName)}function U7e(t){const e=t.fields[0];return zP(t.typeName)&&e!==void 0&&e.fieldKind=="scalar"&&e.name=="value"&&e.number==1}function zP(t){return t.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(t.substring(16))}const B7e=999,W7e=998,mm=2;function G7e(t,e){return MP(e,t)?e:D7e(t)}const Z7e=Symbol(),Gk=new WeakMap;function D7e(t){let e;if(O7e(t)){const n=Gk.get(t);let i,r;if(n)({prototype:i,members:r}=n);else{i={},r=new Set;for(const s of t.members)s.kind!="oneof"&&(s.fieldKind!="scalar"&&s.fieldKind!="enum"||s.presence!=mm&&(r.add(s),i[s.localName]=rE(s)));Gk.set(t,{prototype:i,members:r})}e=Object.create(i),e.$typeName=t.typeName;for(const s of t.members)r.has(s)||s.kind=="field"&&(s.fieldKind=="message"||(s.fieldKind=="scalar"||s.fieldKind=="enum")&&s.presence!=mm)||(e[s.localName]=rE(s))}else{e={$typeName:t.typeName};for(const n of t.members)(n.kind=="oneof"||n.presence==mm)&&(e[n.localName]=rE(n))}return e}function O7e(t){switch(t.file.edition){case B7e:return!1;case W7e:return!0;default:return t.fields.some(e=>e.presence!=mm&&e.fieldKind!="message"&&!e.oneof)}}function rE(t){if(t.kind=="oneof")return{case:void 0};if(t.fieldKind=="list")return[];if(t.fieldKind=="map")return{};if(t.fieldKind=="message")return Z7e;const e=t.getDefaultValue();return e!==void 0?t.fieldKind=="scalar"&&t.longAsString?e.toString():e:t.fieldKind=="scalar"?dp(t.scalar,t.longAsString):t.enum.values[0].number}function eR(t,e,n=!0){return new JP(t,e,n)}class JP{get sortedFields(){var e;return(e=this._sortedFields)!==null&&e!==void 0?e:this._sortedFields=this.desc.fields.concat().sort((n,i)=>n.number-i.number)}constructor(e,n,i=!0){this.lists=new Map,this.maps=new Map,this.check=i,this.desc=e,this.message=this[Ma]=n??G7e(e),this.fields=e.fields,this.oneofs=e.oneofs,this.members=e.members}findNumber(e){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(n=>[n.number,n]))),this._fieldsByNumber.get(e)}oneofCase(e){return Oh(this.message,e),DIe(this.message,e)}isSet(e){return Oh(this.message,e),OIe(this.message,e)}clear(e){Oh(this.message,e),PIe(this.message,e)}get(e){Oh(this.message,e);const n=XIe(this.message,e);switch(e.fieldKind){case"list":let i=this.lists.get(e);return(!i||i[Ma]!==n)&&this.lists.set(e,i=new X7e(e,n,this.check)),i;case"map":let r=this.maps.get(e);return(!r||r[Ma]!==n)&&this.maps.set(e,r=new M7e(e,n,this.check)),r;case"message":return nR(e,n,this.check);case"scalar":return n===void 0?dp(e.scalar,!1):iR(e,n);case"enum":return n??e.enum.values[0].number}}set(e,n){if(Oh(this.message,e),this.check){const r=_7e(e,n);if(r)throw r}let i;e.fieldKind=="message"?i=tR(e,n):H8(n)||J8(n)?i=n[Ma]:i=rR(e,n),MIe(this.message,e,i)}getUnknown(){return this.message.$unknown}setUnknown(e){this.message.$unknown=e}}function Oh(t,e){if(e.parent.typeName!==t.$typeName)throw new _d(e,`cannot use ${e.toString()} with message ${t.$typeName}`,"ForeignFieldError")}class X7e{field(){return this._field}get size(){return this._arr.length}constructor(e,n,i){this._field=e,this._arr=this[Ma]=n,this.check=i}get(e){const n=this._arr[e];return n===void 0?void 0:sE(this._field,n,this.check)}set(e,n){if(e<0||e>=this._arr.length)throw new _d(this._field,`list item #${e+1}: out of range`);if(this.check){const i=Wk(this._field,e,n);if(i)throw i}this._arr[e]=Zk(this._field,n)}add(e){if(this.check){const n=Wk(this._field,this._arr.length,e);if(n)throw n}this._arr.push(Zk(this._field,e))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const e of this._arr)yield sE(this._field,e,this.check)}*entries(){for(let e=0;e<this._arr.length;e++)yield[e,sE(this._field,this._arr[e],this.check)]}}class M7e{constructor(e,n,i=!0){this.obj=this[Ma]=n??{},this.check=i,this._field=e}field(){return this._field}set(e,n){if(this.check){const i=k7e(this._field,e,n);if(i)throw i}return this.obj[v1(e)]=P7e(this._field,n),this}delete(e){const n=v1(e),i=Object.prototype.hasOwnProperty.call(this.obj,n);return i&&delete this.obj[n],i}clear(){for(const e of Object.keys(this.obj))delete this.obj[e]}get(e){let n=this.obj[v1(e)];return n!==void 0&&(n=aE(this._field,n,this.check)),n}has(e){return Object.prototype.hasOwnProperty.call(this.obj,v1(e))}*keys(){for(const e of Object.keys(this.obj))yield Dk(e,this._field.mapKey)}*entries(){for(const e of Object.entries(this.obj))yield[Dk(e[0],this._field.mapKey),aE(this._field,e[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const e of Object.values(this.obj))yield aE(this._field,e,this.check)}forEach(e,n){for(const i of this.entries())e.call(n,i[1],i[0],this)}}function tR(t,e){return Q8(e)?L7e(e.message)&&!t.oneof&&t.fieldKind=="message"?e.message.value:e.desc.typeName=="google.protobuf.Struct"&&t.parent.typeName!="google.protobuf.Value"?QP(e.message):e.message:e}function nR(t,e,n){return e!==void 0&&(U7e(t.message)&&!t.oneof&&t.fieldKind=="message"?e={$typeName:t.message.typeName,value:iR(t.message.fields[0],e)}:t.message.typeName=="google.protobuf.Struct"&&t.parent.typeName!="google.protobuf.Value"&&kd(e)&&(e=HP(e))),new JP(t.message,e,n)}function Zk(t,e){return t.listKind=="message"?tR(t,e):rR(t,e)}function sE(t,e,n){return t.listKind=="message"?nR(t,e,n):iR(t,e)}function P7e(t,e){return t.mapKind=="message"?tR(t,e):rR(t,e)}function aE(t,e,n){return t.mapKind=="message"?nR(t,e,n):e}function v1(t){return typeof t=="string"||typeof t=="number"?t:String(t)}function Dk(t,e){switch(e){case Ve.STRING:return t;case Ve.INT32:case Ve.FIXED32:case Ve.UINT32:case Ve.SFIXED32:case Ve.SINT32:{const n=Number.parseInt(t);if(Number.isFinite(n))return n;break}case Ve.BOOL:switch(t){case"true":return!0;case"false":return!1}break;case Ve.UINT64:case Ve.FIXED64:try{return di.uParse(t)}catch{}break;default:try{return di.parse(t)}catch{}break}return t}function iR(t,e){switch(t.scalar){case Ve.INT64:case Ve.SFIXED64:case Ve.SINT64:"longAsString"in t&&t.longAsString&&typeof e=="string"&&(e=di.parse(e));break;case Ve.FIXED64:case Ve.UINT64:"longAsString"in t&&t.longAsString&&typeof e=="string"&&(e=di.uParse(e));break}return e}function rR(t,e){switch(t.scalar){case Ve.INT64:case Ve.SFIXED64:case Ve.SINT64:"longAsString"in t&&t.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=di.parse(e));break;case Ve.FIXED64:case Ve.UINT64:"longAsString"in t&&t.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=di.uParse(e));break}return e}function HP(t){const e={$typeName:"google.protobuf.Struct",fields:{}};if(kd(t))for(const[n,i]of Object.entries(t))e.fields[n]=eY(i);return e}function QP(t){const e={};for(const[n,i]of Object.entries(t.fields))e[n]=qP(i);return e}function qP(t){switch(t.kind.case){case"structValue":return QP(t.kind.value);case"listValue":return t.kind.value.values.map(qP);case"nullValue":case void 0:return null;default:return t.kind.value}}function eY(t){const e={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof t){case"number":e.kind={case:"numberValue",value:t};break;case"string":e.kind={case:"stringValue",value:t};break;case"boolean":e.kind={case:"boolValue",value:t};break;case"object":if(t===null)e.kind={case:"nullValue",value:0};else if(Array.isArray(t)){const n={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(t))for(const i of t)n.values.push(eY(i));e.kind={case:"listValue",value:n}}else e.kind={case:"structValue",value:HP(t)};break}return e}function Y7e(t,e,...n){return n.reduce((i,r)=>i.nestedMessages[r],t.messages[e])}const tY=b7e({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false"},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]}]}),$7e=Y7e(tY,1);var Ok;(function(t){t[t.DECLARATION=0]="DECLARATION",t[t.UNVERIFIED=1]="UNVERIFIED"})(Ok||(Ok={}));var Xk;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.GROUP=10]="GROUP",t[t.MESSAGE=11]="MESSAGE",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.ENUM=14]="ENUM",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(Xk||(Xk={}));var Mk;(function(t){t[t.OPTIONAL=1]="OPTIONAL",t[t.REPEATED=3]="REPEATED",t[t.REQUIRED=2]="REQUIRED"})(Mk||(Mk={}));var Pk;(function(t){t[t.SPEED=1]="SPEED",t[t.CODE_SIZE=2]="CODE_SIZE",t[t.LITE_RUNTIME=3]="LITE_RUNTIME"})(Pk||(Pk={}));var Yk;(function(t){t[t.STRING=0]="STRING",t[t.CORD=1]="CORD",t[t.STRING_PIECE=2]="STRING_PIECE"})(Yk||(Yk={}));var $k;(function(t){t[t.JS_NORMAL=0]="JS_NORMAL",t[t.JS_STRING=1]="JS_STRING",t[t.JS_NUMBER=2]="JS_NUMBER"})($k||($k={}));var jk;(function(t){t[t.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",t[t.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",t[t.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(jk||(jk={}));var Kk;(function(t){t[t.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",t[t.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",t[t.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",t[t.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",t[t.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",t[t.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",t[t.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",t[t.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",t[t.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",t[t.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(Kk||(Kk={}));var zk;(function(t){t[t.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",t[t.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",t[t.IDEMPOTENT=2]="IDEMPOTENT"})(zk||(zk={}));var Jk;(function(t){t[t.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",t[t.EXPLICIT=1]="EXPLICIT",t[t.IMPLICIT=2]="IMPLICIT",t[t.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(Jk||(Jk={}));var Hk;(function(t){t[t.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",t[t.OPEN=1]="OPEN",t[t.CLOSED=2]="CLOSED"})(Hk||(Hk={}));var Qk;(function(t){t[t.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",t[t.PACKED=1]="PACKED",t[t.EXPANDED=2]="EXPANDED"})(Qk||(Qk={}));var qk;(function(t){t[t.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",t[t.VERIFY=2]="VERIFY",t[t.NONE=3]="NONE"})(qk||(qk={}));var eF;(function(t){t[t.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",t[t.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",t[t.DELIMITED=2]="DELIMITED"})(eF||(eF={}));var tF;(function(t){t[t.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",t[t.ALLOW=1]="ALLOW",t[t.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(tF||(tF={}));var nF;(function(t){t[t.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",t[t.STYLE2024=1]="STYLE2024",t[t.STYLE_LEGACY=2]="STYLE_LEGACY"})(nF||(nF={}));var iF;(function(t){t[t.NONE=0]="NONE",t[t.SET=1]="SET",t[t.ALIAS=2]="ALIAS"})(iF||(iF={}));var rF;(function(t){t[t.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",t[t.EDITION_LEGACY=900]="EDITION_LEGACY",t[t.EDITION_PROTO2=998]="EDITION_PROTO2",t[t.EDITION_PROTO3=999]="EDITION_PROTO3",t[t.EDITION_2023=1e3]="EDITION_2023",t[t.EDITION_2024=1001]="EDITION_2024",t[t.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",t[t.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",t[t.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",t[t.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",t[t.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",t[t.EDITION_MAX=2147483647]="EDITION_MAX"})(rF||(rF={}));const sF={readUnknownFields:!0};function j7e(t){return t?Object.assign(Object.assign({},sF),t):sF}function K7e(t,e,n){const i=eR(t,void 0,!1);return nY(i,new N7e(e),j7e(n),!1,e.byteLength),i.message}function nY(t,e,n,i,r){var s;const a=i?e.len:e.pos+r;let o,l;const c=(s=t.getUnknown())!==null&&s!==void 0?s:[];for(;e.pos<a&&([o,l]=e.tag(),!(i&&l==ls.EndGroup));){const u=t.findNumber(o);if(!u){const d=e.skip(l,o);n.readUnknownFields&&c.push({no:o,wireType:l,data:d});continue}z7e(t,e,u,l,n)}if(i&&(l!=ls.EndGroup||o!==r))throw new Error("invalid end group tag");c.length>0&&t.setUnknown(c)}function z7e(t,e,n,i,r){switch(n.fieldKind){case"scalar":t.set(n,Fd(e,n.scalar));break;case"enum":t.set(n,Fd(e,Ve.INT32));break;case"message":t.set(n,sR(e,r,n,t.get(n)));break;case"list":H7e(e,i,t.get(n),r);break;case"map":J7e(e,t.get(n),r);break}}function J7e(t,e,n){const i=e.field();let r,s;const a=t.pos+t.uint32();for(;t.pos<a;){const[o]=t.tag();switch(o){case 1:r=Fd(t,i.mapKey);break;case 2:switch(i.mapKind){case"scalar":s=Fd(t,i.scalar);break;case"enum":s=t.int32();break;case"message":s=sR(t,n,i);break}break}}if(r===void 0&&(r=dp(i.mapKey,!1)),s===void 0)switch(i.mapKind){case"scalar":s=dp(i.scalar,!1);break;case"enum":s=i.enum.values[0].number;break;case"message":s=eR(i.message,void 0,!1);break}e.set(r,s)}function H7e(t,e,n,i){var r;const s=n.field();if(s.listKind==="message"){n.add(sR(t,i,s));return}const a=(r=s.scalar)!==null&&r!==void 0?r:Ve.INT32;if(!(e==ls.LengthDelimited&&a!=Ve.STRING&&a!=Ve.BYTES)){n.add(Fd(t,a));return}const l=t.uint32()+t.pos;for(;t.pos<l;)n.add(Fd(t,a))}function sR(t,e,n,i){const r=n.delimitedEncoding,s=i??eR(n.message,void 0,!1);return nY(s,t,e,r,r?n.number:t.uint32()),s}function Fd(t,e){switch(e){case Ve.STRING:return t.string();case Ve.BOOL:return t.bool();case Ve.DOUBLE:return t.double();case Ve.FLOAT:return t.float();case Ve.INT32:return t.int32();case Ve.INT64:return t.int64();case Ve.UINT64:return t.uint64();case Ve.FIXED64:return t.fixed64();case Ve.BYTES:return t.bytes();case Ve.FIXED32:return t.fixed32();case Ve.SFIXED32:return t.sfixed32();case Ve.SFIXED64:return t.sfixed64();case Ve.SINT64:return t.sint64();case Ve.UINT32:return t.uint32();case Ve.SINT32:return t.sint32()}}function aR(t,e){var n;const i=K7e($7e,S7e(t));return i.messageType.forEach(K8),i.dependency=(n=e==null?void 0:e.map(s=>s.proto.name))!==null&&n!==void 0?n:[],WP(i,s=>e==null?void 0:e.find(a=>a.proto.name===s)).getFile(i.name)}function Q7e(t,e,...n){if(n.length>0)throw new Error;return t.services[e]}const q7e=aR("CitzdHJlYW1sYXllci9jb21tb24vc3RyZWFtbGF5ZXJfY29tbW9uLnByb3RvEhJzdHJlYW1sYXllci5jb21tb24iJgoIS2V5VmFsdWUSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJKroBChNQcm9wYWdhdGlvblN0cmF0ZWd5EiAKHFBST1BBR0FUSU9OX1NUUkFURUdZX0lOVkFMSUQQABIeChpQUk9QQUdBVElPTl9TVFJBVEVHWV9VTlNFVBABEh8KG1BST1BBR0FUSU9OX1NUUkFURUdZX0lHTk9SRRACEh4KGlBST1BBR0FUSU9OX1NUUkFURUdZX0FXQUlUEAMSIAocUFJPUEFHQVRJT05fU1RSQVRFR1lfUFVCTElTSBAEKqYBChBGYWlsb3ZlclN0cmF0ZWd5Eh0KGUZBSUxPVkVSX1NUUkFURUdZX0lOVkFMSUQQABIbChdGQUlMT1ZFUl9TVFJBVEVHWV9VTlNFVBABEhwKGEZBSUxPVkVSX1NUUkFURUdZX0lHTk9SRRACEhsKF0ZBSUxPVkVSX1NUUkFURUdZX0VBUkxZEAMSGwoXRkFJTE9WRVJfU1RSQVRFR1lfR1JBQ0UQBCqsAQoWQXV0aGVudGljYXRpb25TdHJhdGVneRIjCh9BVVRIRU5USUNBVElPTl9TVFJBVEVHWV9JTlZBTElEEAASIQodQVVUSEVOVElDQVRJT05fU1RSQVRFR1lfVU5TRVQQARIkCiBBVVRIRU5USUNBVElPTl9TVFJBVEVHWV9SRVFVSVJFRBACEiQKIEFVVEhFTlRJQ0FUSU9OX1NUUkFURUdZX09QVElPTkFMEAMq2AEKC0FjY2Vzc0xldmVsEhYKEkFDQ0VTU19MRVZFTF9VTlNFVBAAEhYKEkFDQ0VTU19MRVZFTF9PV05FUhABEhcKE0FDQ0VTU19MRVZFTF9DTElFTlQQAhIbChZBQ0NFU1NfTEVWRUxfTU9ERVJBVE9SENQWEhgKE0FDQ0VTU19MRVZFTF9WSUVXRVIQuBcSGAoTQUNDRVNTX0xFVkVMX01FTUJFUhCgHxIXChJBQ0NFU1NfTEVWRUxfQURNSU4QiCcSFgoRQUNDRVNTX0xFVkVMX1JPT1QQkE4qTQoRT3JnYW5pemF0aW9uU2NvcGUSHAoYT1JHQU5JWkFUSU9OX1NDT1BFX1VOU0VUEAASGgoWT1JHQU5JWkFUSU9OX1NDT1BFX1NFVBABOkMKC3JvdXRlUHJlZml4Eh8uZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zGNGGAyABKAlSC3JvdXRlUHJlZml4OjgKBmFjdGlvbhIeLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zGOHUAyABKAlSBmFjdGlvbjp7ChNwcm9wYWdhdGlvblN0cmF0ZWd5Eh4uZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMY4tQDIAEoDjInLnN0cmVhbWxheWVyLmNvbW1vbi5Qcm9wYWdhdGlvblN0cmF0ZWd5UhNwcm9wYWdhdGlvblN0cmF0ZWd5OnIKEGZhaWxvdmVyU3RyYXRlZ3kSHi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucxjj1AMgASgOMiQuc3RyZWFtbGF5ZXIuY29tbW9uLkZhaWxvdmVyU3RyYXRlZ3lSEGZhaWxvdmVyU3RyYXRlZ3k6hAEKFmF1dGhlbnRpY2F0aW9uU3RyYXRlZ3kSHi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucxjk1AMgASgOMiouc3RyZWFtbGF5ZXIuY29tbW9uLkF1dGhlbnRpY2F0aW9uU3RyYXRlZ3lSFmF1dGhlbnRpY2F0aW9uU3RyYXRlZ3k6YwoLYWNjZXNzTGV2ZWwSHi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucxjl1AMgASgOMh8uc3RyZWFtbGF5ZXIuY29tbW9uLkFjY2Vzc0xldmVsUgthY2Nlc3NMZXZlbDp1ChFvcmdhbml6YXRpb25TY29wZRIeLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zGObUAyABKA4yJS5zdHJlYW1sYXllci5jb21tb24uT3JnYW5pemF0aW9uU2NvcGVSEW9yZ2FuaXphdGlvblNjb3BlQogBChZjb20uc3RyZWFtbGF5ZXIuY29tbW9uQhZTdHJlYW1MYXllckNvbW1vblByb3RvUAFaS2dpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvY29tbW9uO3NsX2NvbW1vbqICBlNMX0FQSWIGcHJvdG8z",[tY]);var aF;(function(t){t[t.ONBOARDING=1]="ONBOARDING",t[t.QUESTION=2]="QUESTION",t[t.QUESTION_RESOLVED=3]="QUESTION_RESOLVED"})(aF||(aF={}));window.slStore=Object.create(null);var oF;(function(t){t.ORGANIZATION="ORGANIZATION",t.STREAM="STREAM"})(oF||(oF={}));var lF;(function(t){t.Ready="ready",t.Suspended="suspended"})(lF||(lF={}));var Aa;(function(t){t[t.Canceled=1]="Canceled",t[t.Unknown=2]="Unknown",t[t.InvalidArgument=3]="InvalidArgument",t[t.DeadlineExceeded=4]="DeadlineExceeded",t[t.NotFound=5]="NotFound",t[t.AlreadyExists=6]="AlreadyExists",t[t.PermissionDenied=7]="PermissionDenied",t[t.ResourceExhausted=8]="ResourceExhausted",t[t.FailedPrecondition=9]="FailedPrecondition",t[t.Aborted=10]="Aborted",t[t.OutOfRange=11]="OutOfRange",t[t.Unimplemented=12]="Unimplemented",t[t.Internal=13]="Internal",t[t.Unavailable=14]="Unavailable",t[t.DataLoss=15]="DataLoss",t[t.Unauthenticated=16]="Unauthenticated"})(Aa||(Aa={}));function cF(t,e){return{id:Symbol(e==null?void 0:e.description),defaultValue:t}}window.dispatchEvent(new CustomEvent("grpc_devtools_loaded"));function ewe(t){return t instanceof DOMException&&(t.code===22||t.code===1014||t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED")}class twe{constructor(e="main",n=window.localStorage){Ui(this,"delimiter",":"),Ui(this,"prefix"),Ui(this,"storage"),Ui(this,"clear",()=>{for(const i in window.localStorage)i.startsWith(this.prefix)&&this.storage.removeItem(i)}),Ui(this,"generateKey",i=>`${this.prefix}${this.delimiter}${i.join(this.delimiter)}`),Ui(this,"write",(...i)=>{const r=i.pop()||"",s=this.generateKey(i);try{this.storage.setItem(s,r)}catch(a){ewe(a)&&this.storage===window.sessionStorage&&(window.sessionStorage.removeItem("slstreamlogs"),this.storage.setItem(s,r))}}),Ui(this,"read",(...i)=>{const r=this.storage.getItem(this.generateKey(i));return r===null?void 0:r}),Ui(this,"remove",(...i)=>{this.storage.removeItem(this.generateKey(i))}),this.prefix=`sl-sdk${this.delimiter}${e}`,this.storage=n}}var uF;(function(t){t.Init="init",t.Ready="ready",t.Connecting="connecting",t.Connected="connected",t.Disconnected="disconnected",t.Failed="failed",t.Reconnect="reconnect",t.Reconnecting="reconnecting"})(uF||(uF={}));t0("grpc:stream");Aa.Unknown,Aa.Internal,Aa.DeadlineExceeded,Aa.ResourceExhausted,Aa.FailedPrecondition,Aa.Unavailable,Aa.DataLoss;t0("grpc:retry");cF(10,{description:"Number of attempts to retry"}),cF(3e4,{description:"Max delay between retries in milliseconds"});const nwe=aR("CiRzdHJlYW1sYXllci91c2Vycy91c2Vyc19jb21tb24ucHJvdG8SEXN0cmVhbWxheWVyLnVzZXJzIh4KDlB1YmxpY0NoYXRVc2VyEgwKBG5hbWUYASABKAkioAEKDlVzZXJBdHRyaWJ1dGVzEhAKCHVzZXJuYW1lGAEgASgJEgwKBG5hbWUYAiABKAkSDQoFYWxpYXMYAyABKAkSDgoGYXZhdGFyGAUgASgJEjoKC3B1YmxpY19jaGF0GAYgASgLMiEuc3RyZWFtbGF5ZXIudXNlcnMuUHVibGljQ2hhdFVzZXJCAhgBEhMKC3B1YmxpY19uYW1lGAcgASgJIjMKEFVzZXJPcmdhbml6YXRpb24SCgoCaWQYASABKAkSEwoLcGVybWlzc2lvbnMYAiADKAki/wEKDFVzZXJNZXRhZGF0YRIOCgZhdmF0YXIYAiABKAkSIAoYYXZhdGFyX2JhY2tncm91bmRfY29sb3VyGAMgASgJEhAKCHRpbWV6b25lGAQgASgJEk4KF25vdGlmaWNhdGlvbl9wcmVmZXJlbmNlGAUgASgOMi0uc3RyZWFtbGF5ZXIudXNlcnMuVXNlck5vdGlmaWNhdGlvblByZWZlcmVuY2USDgoGYWN0aXZlGAYgASgIEhIKCmZpcnN0X25hbWUYByABKAkSEQoJbGFzdF9uYW1lGAggASgJEg0KBXJvbGVzGAkgAygJEhUKDWF1ZGllbmNlX3RhZ3MYCiADKAkiegoWRXh0ZW5kZWRVc2VyQXR0cmlidXRlcxIQCgh1c2VybmFtZRgBIAEoCRIMCgRuYW1lGAIgASgJEg0KBWFsaWFzGAMgASgJEjEKCG1ldGFkYXRhGAQgASgLMh8uc3RyZWFtbGF5ZXIudXNlcnMuVXNlck1ldGFkYXRhIlcKBFVzZXISCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRI1CgphdHRyaWJ1dGVzGAMgASgLMiEuc3RyZWFtbGF5ZXIudXNlcnMuVXNlckF0dHJpYnV0ZXMiZwoMRXh0ZW5kZWRVc2VyEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSPQoKYXR0cmlidXRlcxgDIAEoCzIpLnN0cmVhbWxheWVyLnVzZXJzLkV4dGVuZGVkVXNlckF0dHJpYnV0ZXMq5gEKGlVzZXJOb3RpZmljYXRpb25QcmVmZXJlbmNlEiYKIlVTRVJfTk9USUZJQ0FUSU9OX1BSRUZFUkVOQ0VfVU5TRVQQABIrCidVU0VSX05PVElGSUNBVElPTl9QUkVGRVJFTkNFX0FMTF9FVkVOVFMQARI2CjJVU0VSX05PVElGSUNBVElPTl9QUkVGRVJFTkNFX0lNUE9SVEFOVF9FVkVOVFNfT05MWRACEjsKN1VTRVJfTk9USUZJQ0FUSU9OX1BSRUZFUkVOQ0VfREFJTFlfU1VNTUFSWV9BTkRfTUVOVElPTlMQA0KKAQoVY29tLnN0cmVhbWxheWVyLnVzZXJzQhtTdHJlYW1MYXllclVzZXJzQ29tbW9uUHJvdG9QAVpJZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci91c2VycztzbF91c2Vyc6ICBlNMX0FQSWIGcHJvdG8z"),iwe=aR("Ch1zdHJlYW1sYXllci91c2Vycy91c2Vycy5wcm90bxIRc3RyZWFtbGF5ZXIudXNlcnMiLAoMTG9naW5SZXF1ZXN0EgoKAmlkGAEgASgJEhAKCHBhc3N3b3JkGAIgASgJIsMBCgxBdXRoUmVzcG9uc2USQgoEbWV0YRgBIAEoCzI0LnN0cmVhbWxheWVyLnVzZXJzLkF1dGhSZXNwb25zZS5BdXRoUmVzcG9uc2VNZXRhZGF0YRIlCgRkYXRhGAIgASgLMhcuc3RyZWFtbGF5ZXIudXNlcnMuVXNlchpIChRBdXRoUmVzcG9uc2VNZXRhZGF0YRILCgNqd3QYASABKAkSEQoJZ2V0c3RyZWFtGAMgASgJSgQIAhADUgp2b3hpbXBsYW50Ih0KD1JlZ2lzdGVyUmVxdWVzdBIKCgJpZBgBIAEoCSI7CghSZWZlcnJhbBIKCgJpZBgBIAEoCRIMCgRuYW1lGAIgASgJEhUKDXdhdGNoaW5nX2dhbWUYAyABKAkiagoQUmVnaXN0ZXJSZXNwb25zZRIKCgJpZBgBIAEoCRIbChNyZXF1aXJlc19hY3RpdmF0aW9uGAIgASgIEi0KCHJlZmVycmFsGAMgASgLMhsuc3RyZWFtbGF5ZXIudXNlcnMuUmVmZXJyYWwiJAoWUmVxdWVzdFBhc3N3b3JkUmVxdWVzdBIKCgJpZBgBIAEoCSI5ChdSZXF1ZXN0UGFzc3dvcmRSZXNwb25zZRIRCglyZXF1ZXN0ZWQYASABKAgSCwoDdWlkGAIgASgJIgsKCU1lUmVxdWVzdCIzCgpNZVJlc3BvbnNlEiUKBGRhdGEYASABKAsyFy5zdHJlYW1sYXllci51c2Vycy5Vc2VyIkcKFVVwZGF0ZU1ldGFkYXRhUmVxdWVzdBISCghzZXRfbmFtZRgBIAEoCUgAEhIKCGRlbF9uYW1lGAIgASgJSABCBgoEbmFtZSJdChNVcGRhdGVBdmF0YXJSZXF1ZXN0EhAKCHVzZXJuYW1lGAEgASgJEhQKCnNldF9hdmF0YXIYAiABKAlIABIUCgpkZWxfYXZhdGFyGAMgASgJSABCCAoGYXZhdGFyIhYKFFVwZGF0ZUF2YXRhclJlc3BvbnNlIl8KG1VwZGF0ZVB1YmxpY0NoYXROYW1lUmVxdWVzdBIQCgh1c2VybmFtZRgBIAEoCRISCghzZXRfbmFtZRgCIAEoCUgAEhIKCGRlbF9uYW1lGAMgASgJSABCBgoEbmFtZSIeChxVcGRhdGVQdWJsaWNDaGF0TmFtZVJlc3BvbnNlIlsKF1VwZGF0ZVB1YmxpY05hbWVSZXF1ZXN0EhAKCHVzZXJuYW1lGAEgASgJEhIKCHNldF9uYW1lGAIgASgJSAASEgoIZGVsX25hbWUYAyABKAlIAEIGCgRuYW1lIhoKGFVwZGF0ZVB1YmxpY05hbWVSZXNwb25zZSIYChZVcGRhdGVNZXRhZGF0YVJlc3BvbnNlIocBCg1JbnZpdGVSZXF1ZXN0EgoKAmlkGAEgASgJEkEKCHJlZmVycmFsGAIgASgLMi8uc3RyZWFtbGF5ZXIudXNlcnMuSW52aXRlUmVxdWVzdC5JbnZpdGVSZWZlcnJhbBonCg5JbnZpdGVSZWZlcnJhbBIVCg13YXRjaGluZ19nYW1lGAEgASgJIhAKDkludml0ZVJlc3BvbnNlIm0KEUJ5cGFzc0F1dGhSZXF1ZXN0EhAKCHVzZXJfa2V5GAEgASgJEg4KBnNjaGVtYRgCIAEoCRIMCgRpbml0GAMgASgIEhgKC2ludml0ZXJfa2V5GAQgASgJSACIAQFCDgoMX2ludml0ZXJfa2V5IrMCChJCeXBhc3NBdXRoUmVzcG9uc2USSAoEbWV0YRgBIAEoCzI6LnN0cmVhbWxheWVyLnVzZXJzLkJ5cGFzc0F1dGhSZXNwb25zZS5BdXRoUmVzcG9uc2VNZXRhZGF0YRIqCgRkYXRhGAIgASgLMhcuc3RyZWFtbGF5ZXIudXNlcnMuVXNlckgAiAEBGp0BChRBdXRoUmVzcG9uc2VNZXRhZGF0YRIQCgNqd3QYASABKAlIAIgBARISCgV0b2tlbhgDIAEoCUgBiAEBEhEKCWdldHN0cmVhbRgEIAEoCRIYCgtpbnZpdGVyX2tleRgFIAEoCUgCiAEBQgYKBF9qd3RCCAoGX3Rva2VuQg4KDF9pbnZpdGVyX2tleUoECAIQA1IKdm94aW1wbGFudEIHCgVfZGF0YSJjChFHZXRGcmllbmRzUmVxdWVzdBIcCg9sYXN0X2NyZWF0ZWRfYXQYASABKAlIAIgBARISCgVsaW1pdBgCIAEoBUgBiAEBQhIKEF9sYXN0X2NyZWF0ZWRfYXRCCAoGX2xpbWl0IoECChJHZXRGcmllbmRzUmVzcG9uc2USPgoEZGF0YRgBIAMoCzIwLnN0cmVhbWxheWVyLnVzZXJzLkdldEZyaWVuZHNSZXNwb25zZS5GcmllbmREYXRhEkQKCG1ldGFkYXRhGAIgASgLMjIuc3RyZWFtbGF5ZXIudXNlcnMuR2V0RnJpZW5kc1Jlc3BvbnNlLlJlc3BvbnNlTWV0YRonCgxSZXNwb25zZU1ldGESFwoPbGFzdF9jcmVhdGVkX2F0GAEgASgJGjwKCkZyaWVuZERhdGESDAoEbmFtZRgBIAEoCRIRCgl0aW5vZGVfaWQYAiABKAkSDQoFc2xfaWQYAyABKAkiFwoVR2VuZXJhdGVNZmFLZXlSZXF1ZXN0IigKFkdlbmVyYXRlTWZhS2V5UmVzcG9uc2USDgoGc2VjcmV0GAEgASgJIjQKEEF0dGFjaE1mYVJlcXVlc3QSEAoIdXNlcm5hbWUYASABKAkSDgoGc2VjcmV0GAIgASgJIiQKEUF0dGFjaE1mYVJlc3BvbnNlEg8KB2VuYWJsZWQYASABKAgiMgoQRGV0YWNoTWZhUmVxdWVzdBIQCgh1c2VybmFtZRgBIAEoCRIMCgR0b3RwGAIgASgJIiQKEURldGFjaE1mYVJlc3BvbnNlEg8KB2VuYWJsZWQYASABKAgiMgoQVmVyaWZ5TWZhUmVxdWVzdBIQCgh1c2VybmFtZRgBIAEoCRIMCgR0b3RwGAIgASgJIiIKEVZlcmlmeU1mYVJlc3BvbnNlEg0KBXZhbGlkGAEgASgIMo8NCgVVc2VycxJJCgVMb2dpbhIfLnN0cmVhbWxheWVyLnVzZXJzLkxvZ2luUmVxdWVzdBofLnN0cmVhbWxheWVyLnVzZXJzLkF1dGhSZXNwb25zZRJTCghSZWdpc3RlchIiLnN0cmVhbWxheWVyLnVzZXJzLlJlZ2lzdGVyUmVxdWVzdBojLnN0cmVhbWxheWVyLnVzZXJzLlJlZ2lzdGVyUmVzcG9uc2USgQEKD1JlcXVlc3RQYXNzd29yZBIpLnN0cmVhbWxheWVyLnVzZXJzLlJlcXVlc3RQYXNzd29yZFJlcXVlc3QaKi5zdHJlYW1sYXllci51c2Vycy5SZXF1ZXN0UGFzc3dvcmRSZXNwb25zZSIXiqYdE2Rpc3Bvc2FibGUtcGFzc3dvcmQSSwoCTWUSHC5zdHJlYW1sYXllci51c2Vycy5NZVJlcXVlc3QaHS5zdHJlYW1sYXllci51c2Vycy5NZVJlc3BvbnNlIgiQph0CoKYdAhJfCgZJbnZpdGUSIC5zdHJlYW1sYXllci51c2Vycy5JbnZpdGVSZXF1ZXN0GiEuc3RyZWFtbGF5ZXIudXNlcnMuSW52aXRlUmVzcG9uc2UiEIqmHQhyZWZlcnJhbKCmHQISagoKQnlwYXNzQXV0aBIkLnN0cmVhbWxheWVyLnVzZXJzLkJ5cGFzc0F1dGhSZXF1ZXN0GiUuc3RyZWFtbGF5ZXIudXNlcnMuQnlwYXNzQXV0aFJlc3BvbnNlIg+Kph0LYXV0aC1ieXBhc3MSfQoOVXBkYXRlTWV0YWRhdGESKC5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVNZXRhZGF0YVJlcXVlc3QaKS5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVNZXRhZGF0YVJlc3BvbnNlIhaKph0OdXBkYXRlTWV0YWRhdGGgph0CEncKDFVwZGF0ZUF2YXRhchImLnN0cmVhbWxheWVyLnVzZXJzLlVwZGF0ZUF2YXRhclJlcXVlc3QaJy5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVBdmF0YXJSZXNwb25zZSIWiqYdDnVwZGF0ZU1ldGFkYXRhoKYdAhKPAQoUVXBkYXRlUHVibGljQ2hhdE5hbWUSLi5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVQdWJsaWNDaGF0TmFtZVJlcXVlc3QaLy5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVQdWJsaWNDaGF0TmFtZVJlc3BvbnNlIhaKph0OdXBkYXRlTWV0YWRhdGGgph0CEoMBChBVcGRhdGVQdWJsaWNOYW1lEiouc3RyZWFtbGF5ZXIudXNlcnMuVXBkYXRlUHVibGljTmFtZVJlcXVlc3QaKy5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVQdWJsaWNOYW1lUmVzcG9uc2UiFoqmHQ51cGRhdGVNZXRhZGF0YaCmHQISbQoKR2V0RnJpZW5kcxIkLnN0cmVhbWxheWVyLnVzZXJzLkdldEZyaWVuZHNSZXF1ZXN0GiUuc3RyZWFtbGF5ZXIudXNlcnMuR2V0RnJpZW5kc1Jlc3BvbnNlIhKKph0KZ2V0RnJpZW5kc6CmHQISfQoOR2VuZXJhdGVNZmFLZXkSKC5zdHJlYW1sYXllci51c2Vycy5HZW5lcmF0ZU1mYUtleVJlcXVlc3QaKS5zdHJlYW1sYXllci51c2Vycy5HZW5lcmF0ZU1mYUtleVJlc3BvbnNlIhaKph0OZ2VuZXJhdGVNZmFLZXmgph0CEmkKCUF0dGFjaE1mYRIjLnN0cmVhbWxheWVyLnVzZXJzLkF0dGFjaE1mYVJlcXVlc3QaJC5zdHJlYW1sYXllci51c2Vycy5BdHRhY2hNZmFSZXNwb25zZSIRiqYdCWF0dGFjaE1mYaCmHQISaQoJRGV0YWNoTWZhEiMuc3RyZWFtbGF5ZXIudXNlcnMuRGV0YWNoTWZhUmVxdWVzdBokLnN0cmVhbWxheWVyLnVzZXJzLkRldGFjaE1mYVJlc3BvbnNlIhGKph0JZGV0YWNoTWZhoKYdAhJpCglWZXJpZnlNZmESIy5zdHJlYW1sYXllci51c2Vycy5WZXJpZnlNZmFSZXF1ZXN0GiQuc3RyZWFtbGF5ZXIudXNlcnMuVmVyaWZ5TWZhUmVzcG9uc2UiEYqmHQl2ZXJpZnlNZmGgph0CGgmKtRgFdXNlcnNChAEKFWNvbS5zdHJlYW1sYXllci51c2Vyc0IVU3RyZWFtTGF5ZXJVc2Vyc1Byb3RvUAFaSWdpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvdXNlcnM7c2xfdXNlcnOiAgZTTF9BUEliBnByb3RvMw",[q7e,nwe]),rwe=Q7e(iwe,0),swe=(t,e)=>{const{client:n,createRequestOptions:i}=t.createPromiseClient(rwe,{method:"bypassAuth"}),r=i({retryAttempts:0});return n.bypassAuth(e,{contextValues:r})};var Sa;(function(t){t.SCHEMA="schema",t.EXTERNAL_TOKEN="eToken",t.TOKEN="token"})(Sa||(Sa={}));class awe extends twe{constructor(){super("user"),Ui(this,"setSchema",e=>{this.write(Sa.SCHEMA,e)}),Ui(this,"getSchema",()=>this.read(Sa.SCHEMA)),Ui(this,"setToken",e=>{this.write(Sa.TOKEN,e)}),Ui(this,"getToken",()=>this.read(Sa.TOKEN)),Ui(this,"setExternalToken",e=>{this.write(Sa.EXTERNAL_TOKEN,e)}),Ui(this,"getExternalToken",()=>this.read(Sa.EXTERNAL_TOKEN)),Ui(this,"removeToken",()=>{this.remove(Sa.TOKEN)})}}var dF;(function(t){t.DISABLED="disabled",t.INITIALIZATION="initialization",t.READY="ready",t.FAILED="failed",t.SUSPENDED="suspended"})(dF||(dF={}));t0("deep_link");t0("bypass");const hF=new awe,fF=async(t,e={})=>{var n,i;const{schemaName:r,issuer:s}={schemaName:"slra",issuer:"sdk-web",...e};t.sdk.withAuth=!0;const a=await t.stores.organizationSettings.getValue();if(!a)throw new Error("unknown organization");const o=`${(n=a.pub)==null?void 0:n.kid}`,l=`${r}:${a.id}`,u=(i=(await swe(t.transport,{userKey:o,schema:l,init:!0})).meta)==null?void 0:i.token,d=a.pub,f=await G6e({...d}),h=window.crypto.randomUUID(),m=await new aIe({"device-id":h,totp:u}).setProtectedHeader({alg:d.alg||"",enc:"A256CBC-HS512",kid:d.kid}).setIssuedAt().setIssuer(s).setAudience(a.id).setExpirationTime("2m").encrypt(f);await t.auth.login(l,m),hF.setSchema("streamlayer:streamlayer"),hF.setExternalToken(m)},owe=async(t,e={})=>{try{await t.auth.reLogin({skipLogin:!0})||await fF(t,e).catch(i=>{console.error(i,"fail anon login")})}catch(n){console.log(n,"fail anon re-login"),await fF(t,e)}},lwe=(t,e={})=>new Promise((n,i)=>{const r=setTimeout(()=>{i(new Error("timeout"))},3e4);t.stores.status.subscribe(async s=>{if(s==="ready")try{await owe(t,e),n(!0)}catch(a){i(a)}finally{clearTimeout(r)}})}),cwe=(t,e,n)=>{t.sdk.anonymousAuthorization=async()=>{await lwe(t,e)},n()};function uwe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function dwe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var hwe=function(){function t(n){var i=this;this._insertTag=function(r){var s;i.tags.length===0?i.insertionPoint?s=i.insertionPoint.nextSibling:i.prepend?s=i.container.firstChild:s=i.before:s=i.tags[i.tags.length-1].nextSibling,i.container.insertBefore(r,s),i.tags.push(r)},this.isSpeedy=n.speedy===void 0?!0:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(i){i.forEach(this._insertTag)},e.insert=function(i){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(dwe(this));var r=this.tags[this.tags.length-1];if(this.isSpeedy){var s=uwe(r);try{s.insertRule(i,s.cssRules.length)}catch{}}else r.appendChild(document.createTextNode(i));this.ctr++},e.flush=function(){this.tags.forEach(function(i){var r;return(r=i.parentNode)==null?void 0:r.removeChild(i)}),this.tags=[],this.ctr=0},t}(),yi="-ms-",t2="-moz-",St="-webkit-",iY="comm",oR="rule",lR="decl",fwe="@import",rY="@keyframes",pwe="@layer",mwe=Math.abs,xy=String.fromCharCode,gwe=Object.assign;function ywe(t,e){return ui(t,0)^45?(((e<<2^ui(t,0))<<2^ui(t,1))<<2^ui(t,2))<<2^ui(t,3):0}function sY(t){return t.trim()}function bwe(t,e){return(t=e.exec(t))?t[0]:t}function Tt(t,e,n){return t.replace(e,n)}function iS(t,e){return t.indexOf(e)}function ui(t,e){return t.charCodeAt(e)|0}function fp(t,e,n){return t.slice(e,n)}function Zs(t){return t.length}function cR(t){return t.length}function E1(t,e){return e.push(t),t}function vwe(t,e){return t.map(e).join("")}var Vy=1,Ld=1,aY=0,ir=0,Ln=0,sh="";function Ny(t,e,n,i,r,s,a){return{value:t,root:e,parent:n,type:i,props:r,children:s,line:Vy,column:Ld,length:a,return:""}}function Xh(t,e){return gwe(Ny("",null,null,"",null,null,0),t,{length:-t.length},e)}function Ewe(){return Ln}function Awe(){return Ln=ir>0?ui(sh,--ir):0,Ld--,Ln===10&&(Ld=1,Vy--),Ln}function yr(){return Ln=ir<aY?ui(sh,ir++):0,Ld++,Ln===10&&(Ld=1,Vy++),Ln}function ea(){return ui(sh,ir)}function gm(){return ir}function n0(t,e){return fp(sh,t,e)}function pp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function oY(t){return Vy=Ld=1,aY=Zs(sh=t),ir=0,[]}function lY(t){return sh="",t}function ym(t){return sY(n0(ir-1,rS(t===91?t+2:t===40?t+1:t)))}function Swe(t){for(;(Ln=ea())&&Ln<33;)yr();return pp(t)>2||pp(Ln)>3?"":" "}function Twe(t,e){for(;--e&&yr()&&!(Ln<48||Ln>102||Ln>57&&Ln<65||Ln>70&&Ln<97););return n0(t,gm()+(e<6&&ea()==32&&yr()==32))}function rS(t){for(;yr();)switch(Ln){case t:return ir;case 34:case 39:t!==34&&t!==39&&rS(Ln);break;case 40:t===41&&rS(t);break;case 92:yr();break}return ir}function Rwe(t,e){for(;yr()&&t+Ln!==57;)if(t+Ln===84&&ea()===47)break;return"/*"+n0(e,ir-1)+"*"+xy(t===47?t:yr())}function Cwe(t){for(;!pp(ea());)yr();return n0(t,ir)}function Iwe(t){return lY(bm("",null,null,null,[""],t=oY(t),0,[0],t))}function bm(t,e,n,i,r,s,a,o,l){for(var c=0,u=0,d=a,f=0,h=0,m=0,p=1,v=1,y=1,E=0,S="",I=r,w=s,N=i,F=S;v;)switch(m=E,E=yr()){case 40:if(m!=108&&ui(F,d-1)==58){iS(F+=Tt(ym(E),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:F+=ym(E);break;case 9:case 10:case 13:case 32:F+=Swe(m);break;case 92:F+=Twe(gm()-1,7);continue;case 47:switch(ea()){case 42:case 47:E1(wwe(Rwe(yr(),gm()),e,n),l);break;default:F+="/"}break;case 123*p:o[c++]=Zs(F)*y;case 125*p:case 59:case 0:switch(E){case 0:case 125:v=0;case 59+u:y==-1&&(F=Tt(F,/\f/g,"")),h>0&&Zs(F)-d&&E1(h>32?mF(F+";",i,n,d-1):mF(Tt(F," ","")+";",i,n,d-2),l);break;case 59:F+=";";default:if(E1(N=pF(F,e,n,c,u,r,o,S,I=[],w=[],d),s),E===123)if(u===0)bm(F,e,N,N,I,s,d,o,w);else switch(f===99&&ui(F,3)===110?100:f){case 100:case 108:case 109:case 115:bm(t,N,N,i&&E1(pF(t,N,N,0,0,r,o,S,r,I=[],d),w),r,w,d,o,i?I:w);break;default:bm(F,N,N,N,[""],w,0,o,w)}}c=u=h=0,p=y=1,S=F="",d=a;break;case 58:d=1+Zs(F),h=m;default:if(p<1){if(E==123)--p;else if(E==125&&p++==0&&Awe()==125)continue}switch(F+=xy(E),E*p){case 38:y=u>0?1:(F+="\f",-1);break;case 44:o[c++]=(Zs(F)-1)*y,y=1;break;case 64:ea()===45&&(F+=ym(yr())),f=ea(),u=d=Zs(S=F+=Cwe(gm())),E++;break;case 45:m===45&&Zs(F)==2&&(p=0)}}return s}function pF(t,e,n,i,r,s,a,o,l,c,u){for(var d=r-1,f=r===0?s:[""],h=cR(f),m=0,p=0,v=0;m<i;++m)for(var y=0,E=fp(t,d+1,d=mwe(p=a[m])),S=t;y<h;++y)(S=sY(p>0?f[y]+" "+E:Tt(E,/&\f/g,f[y])))&&(l[v++]=S);return Ny(t,e,n,r===0?oR:o,l,c,u)}function wwe(t,e,n){return Ny(t,e,n,iY,xy(Ewe()),fp(t,2,-2),0)}function mF(t,e,n,i){return Ny(t,e,n,lR,fp(t,0,i),fp(t,i+1,-1),i)}function $u(t,e){for(var n="",i=cR(t),r=0;r<i;r++)n+=e(t[r],r,t,e)||"";return n}function xwe(t,e,n,i){switch(t.type){case pwe:if(t.children.length)break;case fwe:case lR:return t.return=t.return||t.value;case iY:return"";case rY:return t.return=t.value+"{"+$u(t.children,i)+"}";case oR:t.value=t.props.join(",")}return Zs(n=$u(t.children,i))?t.return=t.value+"{"+n+"}":""}function Vwe(t){var e=cR(t);return function(n,i,r,s){for(var a="",o=0;o<e;o++)a+=t[o](n,i,r,s)||"";return a}}function Nwe(t){return function(e){e.root||(e=e.return)&&t(e)}}function cY(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var _we=function(e,n,i){for(var r=0,s=0;r=s,s=ea(),r===38&&s===12&&(n[i]=1),!pp(s);)yr();return n0(e,ir)},kwe=function(e,n){var i=-1,r=44;do switch(pp(r)){case 0:r===38&&ea()===12&&(n[i]=1),e[i]+=_we(ir-1,n,i);break;case 2:e[i]+=ym(r);break;case 4:if(r===44){e[++i]=ea()===58?"&\f":"",n[i]=e[i].length;break}default:e[i]+=xy(r)}while(r=yr());return e},Fwe=function(e,n){return lY(kwe(oY(e),n))},gF=new WeakMap,Lwe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,i=e.parent,r=e.column===i.column&&e.line===i.line;i.type!=="rule";)if(i=i.parent,!i)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!gF.get(i))&&!r){gF.set(e,!0);for(var s=[],a=Fwe(n,s),o=i.props,l=0,c=0;l<a.length;l++)for(var u=0;u<o.length;u++,c++)e.props[c]=s[l]?a[l].replace(/&\f/g,o[u]):o[u]+" "+a[l]}}},Uwe=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function uY(t,e){switch(ywe(t,e)){case 5103:return St+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return St+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return St+t+t2+t+yi+t+t;case 6828:case 4268:return St+t+yi+t+t;case 6165:return St+t+yi+"flex-"+t+t;case 5187:return St+t+Tt(t,/(\w+).+(:[^]+)/,St+"box-$1$2"+yi+"flex-$1$2")+t;case 5443:return St+t+yi+"flex-item-"+Tt(t,/flex-|-self/,"")+t;case 4675:return St+t+yi+"flex-line-pack"+Tt(t,/align-content|flex-|-self/,"")+t;case 5548:return St+t+yi+Tt(t,"shrink","negative")+t;case 5292:return St+t+yi+Tt(t,"basis","preferred-size")+t;case 6060:return St+"box-"+Tt(t,"-grow","")+St+t+yi+Tt(t,"grow","positive")+t;case 4554:return St+Tt(t,/([^-])(transform)/g,"$1"+St+"$2")+t;case 6187:return Tt(Tt(Tt(t,/(zoom-|grab)/,St+"$1"),/(image-set)/,St+"$1"),t,"")+t;case 5495:case 3959:return Tt(t,/(image-set\([^]*)/,St+"$1$`$1");case 4968:return Tt(Tt(t,/(.+:)(flex-)?(.*)/,St+"box-pack:$3"+yi+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+St+t+t;case 4095:case 3583:case 4068:case 2532:return Tt(t,/(.+)-inline(.+)/,St+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Zs(t)-1-e>6)switch(ui(t,e+1)){case 109:if(ui(t,e+4)!==45)break;case 102:return Tt(t,/(.+:)(.+)-([^]+)/,"$1"+St+"$2-$3$1"+t2+(ui(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~iS(t,"stretch")?uY(Tt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(ui(t,e+1)!==115)break;case 6444:switch(ui(t,Zs(t)-3-(~iS(t,"!important")&&10))){case 107:return Tt(t,":",":"+St)+t;case 101:return Tt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+St+(ui(t,14)===45?"inline-":"")+"box$3$1"+St+"$2$3$1"+yi+"$2box$3")+t}break;case 5936:switch(ui(t,e+11)){case 114:return St+t+yi+Tt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return St+t+yi+Tt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return St+t+yi+Tt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return St+t+yi+t+t}return t}var Bwe=function(e,n,i,r){if(e.length>-1&&!e.return)switch(e.type){case lR:e.return=uY(e.value,e.length);break;case rY:return $u([Xh(e,{value:Tt(e.value,"@","@"+St)})],r);case oR:if(e.length)return vwe(e.props,function(s){switch(bwe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return $u([Xh(e,{props:[Tt(s,/:(read-\w+)/,":"+t2+"$1")]})],r);case"::placeholder":return $u([Xh(e,{props:[Tt(s,/:(plac\w+)/,":"+St+"input-$1")]}),Xh(e,{props:[Tt(s,/:(plac\w+)/,":"+t2+"$1")]}),Xh(e,{props:[Tt(s,/:(plac\w+)/,yi+"input-$1")]})],r)}return""})}},Wwe=[Bwe],dY=function(e){var n=e.key;if(n==="css"){var i=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(i,function(p){var v=p.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(p),p.setAttribute("data-s",""))})}var r=e.stylisPlugins||Wwe,s={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(p){for(var v=p.getAttribute("data-emotion").split(" "),y=1;y<v.length;y++)s[v[y]]=!0;o.push(p)});var l,c=[Lwe,Uwe];{var u,d=[xwe,Nwe(function(p){u.insert(p)})],f=Vwe(c.concat(r,d)),h=function(v){return $u(Iwe(v),f)};l=function(v,y,E,S){u=E,h(v?v+"{"+y.styles+"}":y.styles),S&&(m.inserted[y.name]=!0)}}var m={key:n,sheet:new hwe({key:n,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return m.sheet.hydrate(o),m};function Gwe(t){for(var e=0,n,i=0,r=t.length;r>=4;++i,r-=4)n=t.charCodeAt(i)&255|(t.charCodeAt(++i)&255)<<8|(t.charCodeAt(++i)&255)<<16|(t.charCodeAt(++i)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(r){case 3:e^=(t.charCodeAt(i+2)&255)<<16;case 2:e^=(t.charCodeAt(i+1)&255)<<8;case 1:e^=t.charCodeAt(i)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Zwe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Dwe=/[A-Z]|^ms/g,Owe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,hY=function(e){return e.charCodeAt(1)===45},yF=function(e){return e!=null&&typeof e!="boolean"},oE=cY(function(t){return hY(t)?t:t.replace(Dwe,"-$&").toLowerCase()}),bF=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(Owe,function(i,r,s){return Ds={name:r,styles:s,next:Ds},r})}return Zwe[e]!==1&&!hY(e)&&typeof n=="number"&&n!==0?n+"px":n};function mp(t,e,n){if(n==null)return"";var i=n;if(i.__emotion_styles!==void 0)return i;switch(typeof n){case"boolean":return"";case"object":{var r=n;if(r.anim===1)return Ds={name:r.name,styles:r.styles,next:Ds},r.name;var s=n;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)Ds={name:a.name,styles:a.styles,next:Ds},a=a.next;var o=s.styles+";";return o}return Xwe(t,e,n)}case"function":{if(t!==void 0){var l=Ds,c=n(t);return Ds=l,mp(t,e,c)}break}}var u=n;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function Xwe(t,e,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=mp(t,e,n[r])+";";else for(var s in n){var a=n[s];if(typeof a!="object"){var o=a;e!=null&&e[o]!==void 0?i+=s+"{"+e[o]+"}":yF(o)&&(i+=oE(s)+":"+bF(s,o)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var l=0;l<a.length;l++)yF(a[l])&&(i+=oE(s)+":"+bF(s,a[l])+";");else{var c=mp(t,e,a);switch(s){case"animation":case"animationName":{i+=oE(s)+":"+c+";";break}default:i+=s+"{"+c+"}"}}}return i}var vF=/label:\s*([^\s;{]+)\s*(;|$)/g,Ds;function vm(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,r="";Ds=void 0;var s=t[0];if(s==null||s.raw===void 0)i=!1,r+=mp(n,e,s);else{var a=s;r+=a[0]}for(var o=1;o<t.length;o++)if(r+=mp(n,e,t[o]),i){var l=s;r+=l[o]}vF.lastIndex=0;for(var c="",u;(u=vF.exec(r))!==null;)c+="-"+u[1];var d=Gwe(r)+c;return{name:d,styles:r,next:Ds}}var Mwe=!0;function uR(t,e,n){var i="";return n.split(" ").forEach(function(r){t[r]!==void 0?e.push(t[r]+";"):r&&(i+=r+" ")}),i}var fY=function(e,n,i){var r=e.key+"-"+n.name;(i===!1||Mwe===!1)&&e.registered[r]===void 0&&(e.registered[r]=n.styles)},pY=function(e,n,i){fY(e,n,i);var r=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+r:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function EF(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function AF(t,e,n){var i=[],r=uR(t,i,n);return i.length<2?n:r+e(i)}var Pwe=function(e){var n=dY(e);n.sheet.speedy=function(o){this.isSpeedy=o},n.compat=!0;var i=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=vm(c,n.registered,void 0);return pY(n,d,!1),n.key+"-"+d.name},r=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=vm(c,n.registered),f="animation-"+d.name;return EF(n,{name:d.name,styles:"@keyframes "+f+"{"+d.styles+"}"}),f},s=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=vm(c,n.registered);EF(n,d)},a=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return AF(n.registered,i,Ywe(c))};return{css:i,cx:a,injectGlobal:s,keyframes:r,hydrate:function(l){l.forEach(function(c){n.inserted[c]=!0})},flush:function(){n.registered={},n.inserted={},n.sheet.flush()},sheet:n.sheet,cache:n,getRegisteredStyles:uR.bind(null,n.registered),merge:AF.bind(null,n.registered,i)}},Ywe=function t(e){for(var n="",i=0;i<e.length;i++){var r=e[i];if(r!=null){var s=void 0;switch(typeof r){case"boolean":break;case"object":{if(Array.isArray(r))s=t(r);else{s="";for(var a in r)r[a]&&a&&(s&&(s+=" "),s+=a)}break}default:s=r}s&&(n&&(n+=" "),n+=s)}}return n},$we=Pwe({key:"css"}),jwe=$we.cx;const n2=new URLSearchParams(window.location.search),mY=n2.get("production")===null?!0:n2.get("production")==="true",Kwe=n2.get("sdk_key")||"$SDK_KEY",sS=n2.get("event_id")||"$EVENT_ID",zwe=mY?`https://studio.streamlayer.io/events/all/id/${sS}/moderation`:`https://studio.next.streamlayer.io/events/all/id/${sS}/moderation`;function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)({}).hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},aS.apply(null,arguments)}var Jwe=function(e){return e()},Hwe=IC.useInsertionEffect?IC.useInsertionEffect:!1,Qwe=Hwe||Jwe,gY=V.createContext(typeof HTMLElement<"u"?dY({key:"css"}):null);gY.Provider;var qwe=function(e){return V.forwardRef(function(n,i){var r=V.useContext(gY);return e(n,r,i)})},exe=V.createContext({}),txe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,nxe=cY(function(t){return txe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),ixe=nxe,rxe=function(e){return e!=="theme"},SF=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?ixe:rxe},TF=function(e,n,i){var r;if(n){var s=n.shouldForwardProp;r=e.__emotion_forwardProp&&s?function(a){return e.__emotion_forwardProp(a)&&s(a)}:s}return typeof r!="function"&&i&&(r=e.__emotion_forwardProp),r},sxe=function(e){var n=e.cache,i=e.serialized,r=e.isStringTag;return fY(n,i,r),Qwe(function(){return pY(n,i,r)}),null},axe=function t(e,n){var i=e.__emotion_real===e,r=i&&e.__emotion_base||e,s,a;n!==void 0&&(s=n.label,a=n.target);var o=TF(e,n,i),l=o||SF(r),c=!l("as");return function(){var u=arguments,d=i&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&d.push("label:"+s+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{var f=u[0];d.push(f[0]);for(var h=u.length,m=1;m<h;m++)d.push(u[m],f[m])}var p=qwe(function(v,y,E){var S=c&&v.as||r,I="",w=[],N=v;if(v.theme==null){N={};for(var F in v)N[F]=v[F];N.theme=V.useContext(exe)}typeof v.className=="string"?I=uR(y.registered,w,v.className):v.className!=null&&(I=v.className+" ");var W=vm(d.concat(w),y.registered,N);I+=y.key+"-"+W.name,a!==void 0&&(I+=" "+a);var Z=c&&o===void 0?SF(S):l,O={};for(var K in v)c&&K==="as"||Z(K)&&(O[K]=v[K]);return O.className=I,E&&(O.ref=E),V.createElement(V.Fragment,null,V.createElement(sxe,{cache:y,serialized:W,isStringTag:typeof S=="string"}),V.createElement(S,O))});return p.displayName=s!==void 0?s:"Styled("+(typeof r=="string"?r:r.displayName||r.name||"Component")+")",p.defaultProps=e.defaultProps,p.__emotion_real=p,p.__emotion_base=r,p.__emotion_styles=d,p.__emotion_forwardProp=o,Object.defineProperty(p,"toString",{value:function(){return"."+a}}),p.withComponent=function(v,y){var E=t(v,aS({},n,y,{shouldForwardProp:TF(p,y,!0)}));return E.apply(void 0,d)},p}},oxe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],xt=axe.bind(null);oxe.forEach(function(t){xt[t]=xt(t)});const fc=t=>`
    @media only screen and (max-width: 1024px) {
        ${t}
    }

    @media only screen and (max-width: 1366px) and (orientation: landscape) {
        ${t}
    }
`,ps=t=>`
    @media only screen and (max-width: 1024px) and (orientation: portrait) {
        ${t}
    }
`,lxe=xt.nav`
    position: sticky;
    z-index: 12;
    top: -40px;
    background: #fff;
    height: var(--nav-bar-height);
    width: 100%;
    padding: 6px 20px;
    box-sizing: border-box;
    display: ${({mobile:t})=>t?"none":"flex"};
    justify-content: space-between;
    align-items: center;
    z-index: 10;

    ${fc(`
        position: absolute;
        height: 40px;
    `)}

    ${ps(`
        position: static;
        top: 0;
    `)}

    &:hover {
        top: 0;

        .ShowMenuBtn {
            display: none;
        }
    }

`,cxe=xt.button`
    border-radius: 48px;
    background: rgba(0, 0, 0, 0.40);
    border: none;
    padding: 8px 16px;
    color: #fff;
    font-size: 14px;
    font-family: 'SF Pro Text', Arial, Helvetica, sans-serif;

    position: absolute;
    top: 46px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10;

    &:before {
        content: '';
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: -50px;
        right: -50px;
    }

    display: none;

    ${fc(`
        display: block;
    `)}

    ${ps(`
        display: none;
    `)}
`,uxe=xt.img`
    height: 20px;

    ${ps(`
        width: 20px;
        object-fit: cover;
        object-position: left;
    `)}
`,dxe=xt.a`
    text-decoration: none;
    color: #1D7BFF;
    font-size: 16px;
    font-weight: 500;
    line-height: 28px;
    letter-spacing: -0.32px;
    display: flex;
    align-items: center;
    column-gap: 8px;
    height: 100%;

    &:hover, &:visited, &:focus {
        text-decoration: none;
        color: #1D7BFF;
    }

    span {
        ${ps(`
            display: none;
        `)}
    }
`,hxe=xt.div`
    display: flex;
    align-items: center;
    border-radius: 50px;
    background: rgba(29, 123, 255, 0.10);

    ${ps(`
        display: none;
    `)}
`,RF=xt.div`
    position: relative;

    label {
        display: block;
        position: absolute;
        top: calc(50% - 3px);
        right: 16px;
        width: 10px;
        height: 6px;
        background-image: url(https://cdn.streamlayer.io/sdk-web-demo/select-arr.png);
        background-size: contain;
        background-repeat: no-repeat;
    }

    display: none;

    ${ps(`
        display: block;
    `)}
`,CF=xt.select`
    display: none;
    border: none;
    font-weight: 500;
    font-size: 14px;
    padding: 0px;
    padding-left: 16px;
    padding-right: 34px;
    align-items: center;
    justify-content: center;
    gap: 4px;
    line-height: 28px;
    letter-spacing: -0.32px;
    border-radius: 50px;
    color: #fff;
    appearance: none;
    outline: none !important;
    position: relative;
    text-align: center;

    &::-ms-expand {
        display: none;
    }

    ${ps(`
        display: flex;
    `)}

    background-blend-mode: soft-light, normal;
    background: linear-gradient(99deg, rgba(255, 255, 255, 0.00) 3.5%, rgba(255, 255, 255, 0.75) 35.2%, rgba(255, 255, 255, 0.90) 48.49%, rgba(255, 255, 255, 0.75) 66.48%, rgba(255, 255, 255, 0.00) 93.48%), #1D7BFF;
`,lE=xt.button`
    height: 100%;
    border: none;
    color: #1D7BFF;
    cursor: pointer;
    outline: none;
    transition: all 0.3s;
    font-weight: 500;
    font-size: 14px;
    padding: 0px 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
    line-height: 28px;
    letter-spacing: -0.32px;
    border-radius: 50px;
    background-color: transparent;

    ${({active:t})=>!t&&`
        &:hover {
            opacity: 0.5;
        }
    `}

    &:focus {
        outline: none;
    }

    &:disabled {
        opacity: 0.5;
    }

    ${({active:t})=>t&&`
        background: linear-gradient(99deg, rgba(255, 255, 255, 0.00) 3.5%, rgba(255, 255, 255, 0.75) 35.2%, rgba(255, 255, 255, 0.90) 48.49%, rgba(255, 255, 255, 0.75) 66.48%, rgba(255, 255, 255, 0.00) 93.48%), #1D7BFF;
        background-blend-mode: soft-light, normal;
        color: #fff;
        cursor: default;
    `}
`,fxe=window.localStorage.getItem("with-theme"),pxe=({mode:t,theme:e,tabs:n,toggleMode:i,toggleTheme:r,disabled:s})=>b.jsxs(lxe,{className:"NavBarContainer",children:[b.jsx(uxe,{src:"https://cdn.streamlayer.io/sdk-web-demo/sl-logo.png"}),n&&b.jsxs(hxe,{onClick:i,children:[b.jsx(lE,{active:t==="side-panel",name:"side-panel",children:"Sidebar"}),b.jsx(lE,{active:t==="l-bar",name:"l-bar",children:"L-Bar"}),b.jsx(lE,{active:t==="overlay",disabled:s==null?void 0:s.overlay,name:"overlay",children:"Overlay"})]}),n&&b.jsxs(RF,{children:[b.jsxs(CF,{id:"select-mode",onChange:i,children:[b.jsx("option",{value:"side-panel",selected:t==="side-panel",children:"Sidebar"}),b.jsx("option",{value:"l-bar",selected:t==="l-bar",children:"L-Bar"}),b.jsx("option",{value:"overlay",selected:t==="overlay",disabled:s==null?void 0:s.overlay,children:"Overlay"})]}),b.jsx("label",{htmlFor:"select-mode"})]}),!!fxe&&b.jsxs(RF,{style:{display:"block"},children:[b.jsxs(CF,{style:{display:"flex"},id:"select-theme",onChange:r,children:[b.jsx("option",{value:"light",selected:e==="light",children:"Light"}),b.jsx("option",{value:"dark",selected:e==="dark",children:"Dark"}),b.jsx("option",{value:"tgl",selected:e==="tgl",children:"TGL"})]}),b.jsx("label",{htmlFor:"select-mode"})]}),b.jsxs(dxe,{href:zwe,target:"_blank",children:[b.jsx("img",{src:"https://cdn.streamlayer.io/assets/sdk-web/storybook-assets/studio-link.svg"}),b.jsx("span",{children:"Open Studio"})]}),b.jsx(cxe,{className:"ShowMenuBtn",children:"Show menu"})]});function mxe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yY={exports:{}};(function(t,e){(function(n){var i=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,c,u){if(u=u||{},l=l.trim(),c=c.trim(),!c){if(!u.alwaysNormalize)return l;var d=o.parseURL(l);if(!d)throw new Error("Error trying to parse base URL.");return d.path=o.normalizePath(d.path),o.buildURLFromParts(d)}var f=o.parseURL(c);if(!f)throw new Error("Error trying to parse relative URL.");if(f.scheme)return u.alwaysNormalize?(f.path=o.normalizePath(f.path),o.buildURLFromParts(f)):c;var h=o.parseURL(l);if(!h)throw new Error("Error trying to parse base URL.");if(!h.netLoc&&h.path&&h.path[0]!=="/"){var m=r.exec(h.path);h.netLoc=m[1],h.path=m[2]}h.netLoc&&!h.path&&(h.path="/");var p={scheme:h.scheme,netLoc:f.netLoc,path:null,params:f.params,query:f.query,fragment:f.fragment};if(!f.netLoc&&(p.netLoc=h.netLoc,f.path[0]!=="/"))if(!f.path)p.path=h.path,f.params||(p.params=h.params,f.query||(p.query=h.query));else{var v=h.path,y=v.substring(0,v.lastIndexOf("/")+1)+f.path;p.path=o.normalizePath(y)}return p.path===null&&(p.path=u.alwaysNormalize?o.normalizePath(f.path):f.path),o.buildURLFromParts(p)},parseURL:function(l){var c=i.exec(l);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(s,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=o})()})(yY);var dR=yY.exports;function IF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function ii(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IF(Object(n),!0).forEach(function(i){bxe(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IF(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function gxe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yxe(t){var e=gxe(t,"string");return typeof e=="symbol"?e:String(e)}function bxe(t,e,n){return e=yxe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bn(){return Bn=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Bn.apply(this,arguments)}const Me=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},vxe=Number.isSafeInteger||function(t){return typeof t=="number"&&Math.abs(t)<=Exe},Exe=Number.MAX_SAFE_INTEGER||9007199254740991;let B=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t}({}),tt=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),Ee=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t}({});const Il=function(){},oS={trace:Il,debug:Il,log:Il,warn:Il,info:Il,error:Il};let Vf=oS;function Axe(t){const e=self.console[t];return e?e.bind(self.console,`[${t}] >`):Il}function Sxe(t,...e){e.forEach(function(n){Vf[n]=t[n]?t[n].bind(t):Axe(n)})}function Txe(t,e){if(typeof console=="object"&&t===!0||typeof t=="object"){Sxe(t,"debug","log","info","warn","error");try{Vf.log(`Debug logs enabled for "${e}" in hls.js version 1.5.20`)}catch{Vf=oS}}else Vf=oS}const se=Vf,Rxe=/^(\d+)x(\d+)$/,wF=/(.+?)=(".*?"|.*?)(?:,|$)/g;class un{constructor(e){typeof e=="string"&&(e=un.parseAttrList(e)),Bn(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const n=parseInt(this[e],10);return n>Number.MAX_SAFE_INTEGER?1/0:n}hexadecimalInteger(e){if(this[e]){let n=(this[e]||"0x").slice(2);n=(n.length&1?"0":"")+n;const i=new Uint8Array(n.length/2);for(let r=0;r<n.length/2;r++)i[r]=parseInt(n.slice(r*2,r*2+2),16);return i}else return null}hexadecimalIntegerAsNumber(e){const n=parseInt(this[e],16);return n>Number.MAX_SAFE_INTEGER?1/0:n}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,n){const i=this[e];return i?parseFloat(i):n}enumeratedString(e){return this[e]}bool(e){return this[e]==="YES"}decimalResolution(e){const n=Rxe.exec(this[e]);if(n!==null)return{width:parseInt(n[1],10),height:parseInt(n[2],10)}}static parseAttrList(e){let n;const i={},r='"';for(wF.lastIndex=0;(n=wF.exec(e))!==null;){let s=n[2];s.indexOf(r)===0&&s.lastIndexOf(r)===s.length-1&&(s=s.slice(1,-1));const a=n[1].trim();i[a]=s}return i}}function Cxe(t){return t!=="ID"&&t!=="CLASS"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function Ixe(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"}class bY{constructor(e,n){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,n){const i=n.attr;for(const r in i)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r]!==i[r]){se.warn(`DATERANGE tag attribute: "${r}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=r;break}e=Bn(new un({}),i,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const i=new Date(this.attr["END-DATE"]);Me(i.getTime())&&(this._endDate=i)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const e=this.duration;return e!==null?new Date(this._startDate.getTime()+e*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(Me(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&Me(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class _y{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var kt={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class vY{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[kt.AUDIO]:null,[kt.VIDEO]:null,[kt.AUDIOVIDEO]:null},this.baseurl=e}setByteRange(e,n){const i=e.split("@",2);let r;i.length===1?r=(n==null?void 0:n.byteRangeEndOffset)||0:r=parseInt(i[1]),this._byteRange=[r,parseInt(i[0])+r]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=dR.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}}class cE extends vY{constructor(e,n){super(n),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new _y,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const n=this.levelkeys.identity;if(n)this._decryptdata=n.getDecryptData(this.sn);else{const i=Object.keys(this.levelkeys);if(i.length===1)return this._decryptdata=this.levelkeys[i[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null||!Me(this.programDateTime))return null;const e=Me(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const n=Object.keys(this.levelkeys),i=n.length;if(i>1||i===1&&this.levelkeys[n[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){const n=this.levelkeys[e];n&&!this._decryptdata&&(this._decryptdata=n.getDecryptData(this.sn))}}abortRequests(){var e,n;(e=this.loader)==null||e.abort(),(n=this.keyLoader)==null||n.abort()}setElementaryStreamInfo(e,n,i,r,s,a=!1){const{elementaryStreams:o}=this,l=o[e];if(!l){o[e]={startPTS:n,endPTS:i,startDTS:r,endDTS:s,partial:a};return}l.startPTS=Math.min(l.startPTS,n),l.endPTS=Math.max(l.endPTS,i),l.startDTS=Math.min(l.startDTS,r),l.endDTS=Math.max(l.endDTS,s)}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[kt.AUDIO]=null,e[kt.VIDEO]=null,e[kt.AUDIOVIDEO]=null}}class wxe extends vY{constructor(e,n,i,r,s){super(i),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new _y,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=n,this.index=r;const a=e.enumeratedString("BYTERANGE");a&&this.setByteRange(a,s),s&&(this.fragOffset=s.fragOffset+s.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}const xxe=10;class Vxe{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const n=this.lastPartSn-e.lastPartSn,i=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!i||!!n||!this.live,this.advanced=this.endSN>e.endSN||n>0||n===0&&i>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return this.fragments.length?Me(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||xxe}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function hR(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function Nxe(t){const e=lS(t).subarray(0,16),n=new Uint8Array(16);return n.set(e,16-e.length),n}function _xe(t){const e=function(i,r,s){const a=i[r];i[r]=i[s],i[s]=a};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function kxe(t){const e=t.split(":");let n=null;if(e[0]==="data"&&e.length===2){const i=e[1].split(";"),r=i[i.length-1].split(",");if(r.length===2){const s=r[0]==="base64",a=r[1];s?(i.splice(-1,1),n=hR(a)):n=Nxe(a)}}return n}function lS(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}const Ud=typeof self<"u"?self:void 0;var It={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},zi={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function uE(t){switch(t){case zi.FAIRPLAY:return It.FAIRPLAY;case zi.PLAYREADY:return It.PLAYREADY;case zi.WIDEVINE:return It.WIDEVINE;case zi.CLEARKEY:return It.CLEARKEY}}var A1={CENC:"1077efecc0b24d02ace33c1e52e2fb4b",CLEARKEY:"e2719d58a985b3c9781ab030af78d30e",PLAYREADY:"9a04f07998404286ab92e65be0885f95",WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function dE(t){if(t===A1.WIDEVINE)return It.WIDEVINE;if(t===A1.PLAYREADY)return It.PLAYREADY;if(t===A1.CENC||t===A1.CLEARKEY)return It.CLEARKEY}function hE(t){switch(t){case It.FAIRPLAY:return zi.FAIRPLAY;case It.PLAYREADY:return zi.PLAYREADY;case It.WIDEVINE:return zi.WIDEVINE;case It.CLEARKEY:return zi.CLEARKEY}}function S1(t){const{drmSystems:e,widevineLicenseUrl:n}=t,i=e?[It.FAIRPLAY,It.WIDEVINE,It.PLAYREADY,It.CLEARKEY].filter(r=>!!e[r]):[];return!i[It.WIDEVINE]&&n&&i.push(It.WIDEVINE),i}const EY=function(t){return Ud!=null&&(t=Ud.navigator)!=null&&t.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function Fxe(t,e,n,i){let r;switch(t){case It.FAIRPLAY:r=["cenc","sinf"];break;case It.WIDEVINE:case It.PLAYREADY:r=["cenc"];break;case It.CLEARKEY:r=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return Lxe(r,e,n,i)}function Lxe(t,e,n,i){return[{initDataTypes:t,persistentState:i.persistentState||"optional",distinctiveIdentifier:i.distinctiveIdentifier||"optional",sessionTypes:i.sessionTypes||[i.sessionType||"temporary"],audioCapabilities:e.map(s=>({contentType:`audio/mp4; codecs="${s}"`,robustness:i.audioRobustness||"",encryptionScheme:i.audioEncryptionScheme||null})),videoCapabilities:n.map(s=>({contentType:`video/mp4; codecs="${s}"`,robustness:i.videoRobustness||"",encryptionScheme:i.videoEncryptionScheme||null}))}]}function AY(t){const e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),n=String.fromCharCode.apply(null,Array.from(e)),i=n.substring(n.indexOf("<"),n.length),a=new DOMParser().parseFromString(i,"text/xml").getElementsByTagName("KID")[0];if(a){const o=a.childNodes[0]?a.childNodes[0].nodeValue:a.getAttribute("VALUE");if(o){const l=hR(o).subarray(0,16);return _xe(l),l}}return null}function tc(t,e,n){return Uint8Array.prototype.slice?t.slice(e,n):new Uint8Array(Array.prototype.slice.call(t,e,n))}const fR=(t,e)=>e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,SY=(t,e)=>e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,gp=(t,e)=>{const n=e;let i=0;for(;fR(t,e);){i+=10;const r=ky(t,e+6);i+=r,SY(t,e+10)&&(i+=10),e+=i}if(i>0)return t.subarray(n,n+i)},ky=(t,e)=>{let n=0;return n=(t[e]&127)<<21,n|=(t[e+1]&127)<<14,n|=(t[e+2]&127)<<7,n|=t[e+3]&127,n},Uxe=(t,e)=>fR(t,e)&&ky(t,e+6)+10<=t.length-e,pR=t=>{const e=RY(t);for(let n=0;n<e.length;n++){const i=e[n];if(TY(i))return Oxe(i)}},TY=t=>t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp",Bxe=t=>{const e=String.fromCharCode(t[0],t[1],t[2],t[3]),n=ky(t,4),i=10;return{type:e,size:n,data:t.subarray(i,i+n)}},RY=t=>{let e=0;const n=[];for(;fR(t,e);){const i=ky(t,e+6);e+=10;const r=e+i;for(;e+8<r;){const s=Bxe(t.subarray(e)),a=Wxe(s);a&&n.push(a),e+=s.size+10}SY(t,e)&&(e+=10)}return n},Wxe=t=>t.type==="PRIV"?Gxe(t):t.type[0]==="W"?Dxe(t):Zxe(t),Gxe=t=>{if(t.size<2)return;const e=ta(t.data,!0),n=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:n.buffer}},Zxe=t=>{if(t.size<2)return;if(t.type==="TXXX"){let n=1;const i=ta(t.data.subarray(n),!0);n+=i.length+1;const r=ta(t.data.subarray(n));return{key:t.type,info:i,data:r}}const e=ta(t.data.subarray(1));return{key:t.type,data:e}},Dxe=t=>{if(t.type==="WXXX"){if(t.size<2)return;let n=1;const i=ta(t.data.subarray(n),!0);n+=i.length+1;const r=ta(t.data.subarray(n));return{key:t.type,info:i,data:r}}const e=ta(t.data);return{key:t.type,data:e}},Oxe=t=>{if(t.data.byteLength===8){const e=new Uint8Array(t.data),n=e[3]&1;let i=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return i/=45,n&&(i+=4772185884e-2),Math.round(i)}},ta=(t,e=!1)=>{const n=Xxe();if(n){const c=n.decode(t);if(e){const u=c.indexOf("\0");return u!==-1?c.substring(0,u):c}return c.replace(/\0/g,"")}const i=t.length;let r,s,a,o="",l=0;for(;l<i;){if(r=t[l++],r===0&&e)return o;if(r===0||r===3)continue;switch(r>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(r);break;case 12:case 13:s=t[l++],o+=String.fromCharCode((r&31)<<6|s&63);break;case 14:s=t[l++],a=t[l++],o+=String.fromCharCode((r&15)<<12|(s&63)<<6|(a&63)<<0);break}}return o};let fE;function Xxe(){if(!navigator.userAgent.includes("PlayStation 4"))return!fE&&typeof self.TextDecoder<"u"&&(fE=new self.TextDecoder("utf-8")),fE}const Us={hexDump:function(t){let e="";for(let n=0;n<t.length;n++){let i=t[n].toString(16);i.length<2&&(i="0"+i),e+=i}return e}},i2=Math.pow(2,32)-1,Mxe=[].push,CY={video:1,audio:2,id3:3,text:4};function Gn(t){return String.fromCharCode.apply(null,t)}function IY(t,e){const n=t[e]<<8|t[e+1];return n<0?65536+n:n}function Je(t,e){const n=wY(t,e);return n<0?4294967296+n:n}function xF(t,e){let n=Je(t,e);return n*=Math.pow(2,32),n+=Je(t,e+4),n}function wY(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function pE(t,e,n){t[e]=n>>24,t[e+1]=n>>16&255,t[e+2]=n>>8&255,t[e+3]=n&255}function Pxe(t){const e=t.byteLength;for(let n=0;n<e;){const i=Je(t,n);if(i>8&&t[n+4]===109&&t[n+5]===111&&t[n+6]===111&&t[n+7]===102)return!0;n=i>1?n+i:e}return!1}function at(t,e){const n=[];if(!e.length)return n;const i=t.byteLength;for(let r=0;r<i;){const s=Je(t,r),a=Gn(t.subarray(r+4,r+8)),o=s>1?r+s:i;if(a===e[0])if(e.length===1)n.push(t.subarray(r+8,o));else{const l=at(t.subarray(r+8,o),e.slice(1));l.length&&Mxe.apply(n,l)}r=o}return n}function Yxe(t){const e=[],n=t[0];let i=8;const r=Je(t,i);i+=4;let s=0,a=0;n===0?(s=Je(t,i),a=Je(t,i+4),i+=8):(s=xF(t,i),a=xF(t,i+8),i+=16),i+=2;let o=t.length+a;const l=IY(t,i);i+=2;for(let c=0;c<l;c++){let u=i;const d=Je(t,u);u+=4;const f=d&2147483647;if((d&2147483648)>>>31===1)return se.warn("SIDX has hierarchical references (not supported)"),null;const m=Je(t,u);u+=4,e.push({referenceSize:f,subsegmentDuration:m,info:{duration:m/r,start:o,end:o+f-1}}),o+=f,u+=4,i=u}return{earliestPresentationTime:s,timescale:r,version:n,referencesCount:l,references:e}}function xY(t){const e=[],n=at(t,["moov","trak"]);for(let r=0;r<n.length;r++){const s=n[r],a=at(s,["tkhd"])[0];if(a){let o=a[0];const l=Je(a,o===0?12:20),c=at(s,["mdia","mdhd"])[0];if(c){o=c[0];const u=Je(c,o===0?12:20),d=at(s,["mdia","hdlr"])[0];if(d){const f=Gn(d.subarray(8,12)),h={soun:kt.AUDIO,vide:kt.VIDEO}[f];if(h){const m=at(s,["mdia","minf","stbl","stsd"])[0],p=$xe(m);e[l]={timescale:u,type:h},e[h]=ii({timescale:u,id:l},p)}}}}}return at(t,["moov","mvex","trex"]).forEach(r=>{const s=Je(r,4),a=e[s];a&&(a.default={duration:Je(r,12),flags:Je(r,20)})}),e}function $xe(t){const e=t.subarray(8),n=e.subarray(86),i=Gn(e.subarray(4,8));let r=i;const s=i==="enca"||i==="encv";if(s){const o=at(e,[i])[0].subarray(i==="enca"?28:78);at(o,["sinf"]).forEach(c=>{const u=at(c,["schm"])[0];if(u){const d=Gn(u.subarray(4,8));if(d==="cbcs"||d==="cenc"){const f=at(c,["frma"])[0];f&&(r=Gn(f))}}})}switch(r){case"avc1":case"avc2":case"avc3":case"avc4":{const a=at(n,["avcC"])[0];r+="."+T1(a[1])+T1(a[2])+T1(a[3]);break}case"mp4a":{const a=at(e,[i])[0],o=at(a.subarray(28),["esds"])[0];if(o&&o.length>12){let l=4;if(o[l++]!==3)break;l=mE(o,l),l+=2;const c=o[l++];if(c&128&&(l+=2),c&64&&(l+=o[l++]),o[l++]!==4)break;l=mE(o,l);const u=o[l++];if(u===64)r+="."+T1(u);else break;if(l+=12,o[l++]!==5)break;l=mE(o,l);const d=o[l++];let f=(d&248)>>3;f===31&&(f+=1+((d&7)<<3)+((o[l]&224)>>5)),r+="."+f}break}case"hvc1":case"hev1":{const a=at(n,["hvcC"])[0],o=a[1],l=["","A","B","C"][o>>6],c=o&31,u=Je(a,2),d=(o&32)>>5?"H":"L",f=a[12],h=a.subarray(6,12);r+="."+l+c,r+="."+u.toString(16).toUpperCase(),r+="."+d+f;let m="";for(let p=h.length;p--;){const v=h[p];(v||m)&&(m="."+v.toString(16).toUpperCase()+m)}r+=m;break}case"dvh1":case"dvhe":{const a=at(n,["dvcC"])[0],o=a[2]>>1&127,l=a[2]<<5&32|a[3]>>3&31;r+="."+Ts(o)+"."+Ts(l);break}case"vp09":{const a=at(n,["vpcC"])[0],o=a[4],l=a[5],c=a[6]>>4&15;r+="."+Ts(o)+"."+Ts(l)+"."+Ts(c);break}case"av01":{const a=at(n,["av1C"])[0],o=a[1]>>>5,l=a[1]&31,c=a[2]>>>7?"H":"M",u=(a[2]&64)>>6,d=(a[2]&32)>>5,f=o===2&&u?d?12:10:u?10:8,h=(a[2]&16)>>4,m=(a[2]&8)>>3,p=(a[2]&4)>>2,v=a[2]&3;r+="."+o+"."+Ts(l)+c+"."+Ts(f)+"."+h+"."+m+p+v+"."+Ts(1)+"."+Ts(1)+"."+Ts(1)+"."+0;break}}return{codec:r,encrypted:s}}function mE(t,e){const n=e+5;for(;t[e++]&128&&e<n;);return e}function T1(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function Ts(t){return(t<10?"0":"")+t}function jxe(t,e){if(!t||!e)return t;const n=e.keyId;return n&&e.isCommonEncryption&&at(t,["moov","trak"]).forEach(r=>{const a=at(r,["mdia","minf","stbl","stsd"])[0].subarray(8);let o=at(a,["enca"]);const l=o.length>0;l||(o=at(a,["encv"])),o.forEach(c=>{const u=l?c.subarray(28):c.subarray(78);at(u,["sinf"]).forEach(f=>{const h=VY(f);if(h){const m=h.subarray(8,24);m.some(p=>p!==0)||(se.log(`[eme] Patching keyId in 'enc${l?"a":"v"}>sinf>>tenc' box: ${Us.hexDump(m)} -> ${Us.hexDump(n)}`),h.set(n,8))}})})}),t}function VY(t){const e=at(t,["schm"])[0];if(e){const n=Gn(e.subarray(4,8));if(n==="cbcs"||n==="cenc")return at(t,["schi","tenc"])[0]}return null}function Kxe(t,e){return at(e,["moof","traf"]).reduce((n,i)=>{const r=at(i,["tfdt"])[0],s=r[0],a=at(i,["tfhd"]).reduce((o,l)=>{const c=Je(l,4),u=t[c];if(u){let d=Je(r,4);if(s===1){if(d===i2)return se.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),o;d*=i2+1,d+=Je(r,8)}const f=u.timescale||9e4,h=d/f;if(Me(h)&&(o===null||h<o))return h}return o},null);return a!==null&&Me(a)&&(n===null||a<n)?a:n},null)}function zxe(t,e){let n=0,i=0,r=0;const s=at(t,["moof","traf"]);for(let a=0;a<s.length;a++){const o=s[a],l=at(o,["tfhd"])[0],c=Je(l,4),u=e[c];if(!u)continue;const d=u.default,f=Je(l,0)|(d==null?void 0:d.flags);let h=d==null?void 0:d.duration;f&8&&(f&2?h=Je(l,12):h=Je(l,8));const m=u.timescale||9e4,p=at(o,["trun"]);for(let v=0;v<p.length;v++){if(n=Jxe(p[v]),!n&&h){const y=Je(p[v],4);n=h*y}u.type===kt.VIDEO?i+=n/m:u.type===kt.AUDIO&&(r+=n/m)}}if(i===0&&r===0){let a=1/0,o=0,l=0;const c=at(t,["sidx"]);for(let u=0;u<c.length;u++){const d=Yxe(c[u]);if(d!=null&&d.references){a=Math.min(a,d.earliestPresentationTime/d.timescale);const f=d.references.reduce((h,m)=>h+m.info.duration||0,0);o=Math.max(o,f+d.earliestPresentationTime/d.timescale),l=o-a}}if(l&&Me(l))return l}return i||r}function Jxe(t){const e=Je(t,0);let n=8;e&1&&(n+=4),e&4&&(n+=4);let i=0;const r=Je(t,4);for(let s=0;s<r;s++){if(e&256){const a=Je(t,n);i+=a,n+=4}e&512&&(n+=4),e&1024&&(n+=4),e&2048&&(n+=4)}return i}function Hxe(t,e,n){at(e,["moof","traf"]).forEach(i=>{at(i,["tfhd"]).forEach(r=>{const s=Je(r,4),a=t[s];if(!a)return;const o=a.timescale||9e4;at(i,["tfdt"]).forEach(l=>{const c=l[0],u=n*o;if(u){let d=Je(l,4);if(c===0)d-=u,d=Math.max(d,0),pE(l,4,d);else{d*=Math.pow(2,32),d+=Je(l,8),d-=u,d=Math.max(d,0);const f=Math.floor(d/(i2+1)),h=Math.floor(d%(i2+1));pE(l,4,f),pE(l,8,h)}}})})})}function Qxe(t){const e={valid:null,remainder:null},n=at(t,["moof"]);if(n.length<2)return e.remainder=t,e;const i=n[n.length-1];return e.valid=tc(t,0,i.byteOffset-8),e.remainder=tc(t,i.byteOffset-8),e}function Pr(t,e){const n=new Uint8Array(t.length+e.length);return n.set(t),n.set(e,t.length),n}function VF(t,e){const n=[],i=e.samples,r=e.timescale,s=e.id;let a=!1;return at(i,["moof"]).map(l=>{const c=l.byteOffset-8;at(l,["traf"]).map(d=>{const f=at(d,["tfdt"]).map(h=>{const m=h[0];let p=Je(h,4);return m===1&&(p*=Math.pow(2,32),p+=Je(h,8)),p/r})[0];return f!==void 0&&(t=f),at(d,["tfhd"]).map(h=>{const m=Je(h,4),p=Je(h,0)&16777215,v=(p&1)!==0,y=(p&2)!==0,E=(p&8)!==0;let S=0;const I=(p&16)!==0;let w=0;const N=(p&32)!==0;let F=8;m===s&&(v&&(F+=8),y&&(F+=4),E&&(S=Je(h,F),F+=4),I&&(w=Je(h,F),F+=4),N&&(F+=4),e.type==="video"&&(a=qxe(e.codec)),at(d,["trun"]).map(W=>{const Z=W[0],O=Je(W,0)&16777215,K=(O&1)!==0;let fe=0;const z=(O&4)!==0,pe=(O&256)!==0;let de=0;const be=(O&512)!==0;let _e=0;const me=(O&1024)!==0,Q=(O&2048)!==0;let q=0;const Re=Je(W,4);let D=8;K&&(fe=Je(W,D),D+=4),z&&(D+=4);let H=fe+c;for(let ie=0;ie<Re;ie++){if(pe?(de=Je(W,D),D+=4):de=S,be?(_e=Je(W,D),D+=4):_e=w,me&&(D+=4),Q&&(Z===0?q=Je(W,D):q=wY(W,D),D+=4),e.type===kt.VIDEO){let ne=0;for(;ne<_e;){const Se=Je(i,H);if(H+=4,eVe(a,i[H])){const ke=i.subarray(H,H+Se);NY(ke,a?2:1,t+q/r,n)}H+=Se,ne+=Se+4}}t+=de/r}}))})})}),n}function qxe(t){if(!t)return!1;const e=t.indexOf("."),n=e<0?t:t.substring(0,e);return n==="hvc1"||n==="hev1"||n==="dvh1"||n==="dvhe"}function eVe(t,e){if(t){const n=e>>1&63;return n===39||n===40}else return(e&31)===6}function NY(t,e,n,i){const r=_Y(t);let s=0;s+=e;let a=0,o=0,l=0;for(;s<r.length;){a=0;do{if(s>=r.length)break;l=r[s++],a+=l}while(l===255);o=0;do{if(s>=r.length)break;l=r[s++],o+=l}while(l===255);const c=r.length-s;let u=s;if(o<c)s+=o;else if(o>c){se.error(`Malformed SEI payload. ${o} is too small, only ${c} bytes left to parse.`);break}if(a===4){if(r[u++]===181){const f=IY(r,u);if(u+=2,f===49){const h=Je(r,u);if(u+=4,h===1195456820){const m=r[u++];if(m===3){const p=r[u++],v=31&p,y=64&p,E=y?2+v*3:0,S=new Uint8Array(E);if(y){S[0]=p;for(let I=1;I<E;I++)S[I]=r[u++]}i.push({type:m,payloadType:a,pts:n,bytes:S})}}}}}else if(a===5&&o>16){const d=[];for(let m=0;m<16;m++){const p=r[u++].toString(16);d.push(p.length==1?"0"+p:p),(m===3||m===5||m===7||m===9)&&d.push("-")}const f=o-16,h=new Uint8Array(f);for(let m=0;m<f;m++)h[m]=r[u++];i.push({payloadType:a,pts:n,uuid:d.join(""),userData:ta(h),userDataBytes:h})}}}function _Y(t){const e=t.byteLength,n=[];let i=1;for(;i<e-2;)t[i]===0&&t[i+1]===0&&t[i+2]===3?(n.push(i+2),i+=2):i++;if(n.length===0)return t;const r=e-n.length,s=new Uint8Array(r);let a=0;for(i=0;i<r;a++,i++)a===n[0]&&(a++,n.shift()),s[i]=t[a];return s}function tVe(t){const e=t[0];let n="",i="",r=0,s=0,a=0,o=0,l=0,c=0;if(e===0){for(;Gn(t.subarray(c,c+1))!=="\0";)n+=Gn(t.subarray(c,c+1)),c+=1;for(n+=Gn(t.subarray(c,c+1)),c+=1;Gn(t.subarray(c,c+1))!=="\0";)i+=Gn(t.subarray(c,c+1)),c+=1;i+=Gn(t.subarray(c,c+1)),c+=1,r=Je(t,12),s=Je(t,16),o=Je(t,20),l=Je(t,24),c=28}else if(e===1){c+=4,r=Je(t,c),c+=4;const d=Je(t,c);c+=4;const f=Je(t,c);for(c+=4,a=2**32*d+f,vxe(a)||(a=Number.MAX_SAFE_INTEGER,se.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),o=Je(t,c),c+=4,l=Je(t,c),c+=4;Gn(t.subarray(c,c+1))!=="\0";)n+=Gn(t.subarray(c,c+1)),c+=1;for(n+=Gn(t.subarray(c,c+1)),c+=1;Gn(t.subarray(c,c+1))!=="\0";)i+=Gn(t.subarray(c,c+1)),c+=1;i+=Gn(t.subarray(c,c+1)),c+=1}const u=t.subarray(c,t.byteLength);return{schemeIdUri:n,value:i,timeScale:r,presentationTime:a,presentationTimeDelta:s,eventDuration:o,id:l,payload:u}}function nVe(t,...e){const n=e.length;let i=8,r=n;for(;r--;)i+=e[r].byteLength;const s=new Uint8Array(i);for(s[0]=i>>24&255,s[1]=i>>16&255,s[2]=i>>8&255,s[3]=i&255,s.set(t,4),r=0,i=8;r<n;r++)s.set(e[r],i),i+=e[r].byteLength;return s}function iVe(t,e,n){if(t.byteLength!==16)throw new RangeError("Invalid system id");let i,r;i=0,r=new Uint8Array;let s;i>0?(s=new Uint8Array(4),e.length>0&&new DataView(s.buffer).setUint32(0,e.length,!1)):s=new Uint8Array;const a=new Uint8Array(4);return n&&n.byteLength>0&&new DataView(a.buffer).setUint32(0,n.byteLength,!1),nVe([112,115,115,104],new Uint8Array([i,0,0,0]),t,s,r,a,n||new Uint8Array)}function rVe(t){const e=[];if(t instanceof ArrayBuffer){const n=t.byteLength;let i=0;for(;i+32<n;){const r=new DataView(t,i),s=sVe(r);e.push(s),i+=s.size}}return e}function sVe(t){const e=t.getUint32(0),n=t.byteOffset,i=t.byteLength;if(i<e)return{offset:n,size:i};if(t.getUint32(4)!==1886614376)return{offset:n,size:e};const s=t.getUint32(8)>>>24;if(s!==0&&s!==1)return{offset:n,size:e};const a=t.buffer,o=Us.hexDump(new Uint8Array(a,n+12,16)),l=t.getUint32(28);let c=null,u=null;if(s===0){if(e-32<l||l<22)return{offset:n,size:e};u=new Uint8Array(a,n+32,l)}else if(s===1){if(!l||i<n+32+l*16+16)return{offset:n,size:e};c=[];for(let d=0;d<l;d++)c.push(new Uint8Array(a,n+32+d*16,16))}return{version:s,systemId:o,kids:c,data:u,offset:n,size:e}}let R1={};class yp{static clearKeyUriToKeyIdMap(){R1={}}constructor(e,n,i,r=[1],s=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=n,this.keyFormat=i,this.keyFormatVersions=r,this.iv=s,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&e!=="AES-128"}isSupported(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case zi.FAIRPLAY:case zi.WIDEVINE:case zi.PLAYREADY:case zi.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof e!="number"&&(this.method==="AES-128"&&!this.iv&&se.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const i=aVe(e);return new yp(this.method,this.uri,"identity",this.keyFormatVersions,i)}const n=kxe(this.uri);if(n)switch(this.keyFormat){case zi.WIDEVINE:this.pssh=n,n.length>=22&&(this.keyId=n.subarray(n.length-22,n.length-6));break;case zi.PLAYREADY:{const i=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=iVe(i,null,n),this.keyId=AY(n);break}default:{let i=n.subarray(0,16);if(i.length!==16){const r=new Uint8Array(16);r.set(i,16-i.length),i=r}this.keyId=i;break}}if(!this.keyId||this.keyId.byteLength!==16){let i=R1[this.uri];if(!i){const r=Object.keys(R1).length%Number.MAX_SAFE_INTEGER;i=new Uint8Array(16),new DataView(i.buffer,12,4).setUint32(0,r),R1[this.uri]=i}this.keyId=i}return this}}function aVe(t){const e=new Uint8Array(16);for(let n=12;n<16;n++)e[n]=t>>8*(15-n)&255;return e}const kY=/\{\$([a-zA-Z0-9-_]+)\}/g;function NF(t){return kY.test(t)}function Pi(t,e,n){if(t.variableList!==null||t.hasVariableRefs)for(let i=n.length;i--;){const r=n[i],s=e[r];s&&(e[r]=cS(t,s))}}function cS(t,e){if(t.variableList!==null||t.hasVariableRefs){const n=t.variableList;return e.replace(kY,i=>{const r=i.substring(2,i.length-1),s=n==null?void 0:n[r];return s===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${r}"`)),i):s})}return e}function _F(t,e,n){let i=t.variableList;i||(t.variableList=i={});let r,s;if("QUERYPARAM"in e){r=e.QUERYPARAM;try{const a=new self.URL(n).searchParams;if(a.has(r))s=a.get(r);else throw new Error(`"${r}" does not match any query parameter in URI: "${n}"`)}catch(a){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${a.message}`))}}else r=e.NAME,s=e.VALUE;r in i?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${r}"`)):i[r]=s||""}function oVe(t,e,n){const i=e.IMPORT;if(n&&i in n){let r=t.variableList;r||(t.variableList=r={}),r[i]=n[i]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${i}"`))}function pc(t=!0){return typeof self>"u"?void 0:(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function lVe(t){return typeof self<"u"&&t===self.ManagedMediaSource}const r2={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function cVe(t,e){const n=r2[e];return!!n&&!!n[t.slice(0,4)]}function gE(t,e,n=!0){return!t.split(",").some(i=>!FY(i,e,n))}function FY(t,e,n=!0){var i;const r=pc(n);return(i=r==null?void 0:r.isTypeSupported(bp(t,e)))!=null?i:!1}function bp(t,e){return`${e}/mp4;codecs="${t}"`}function kF(t){if(t){const e=t.substring(0,4);return r2.video[e]}return 2}function s2(t){return t.split(",").reduce((e,n)=>{const i=r2.video[n];return i?(i*2+e)/(e?3:2):(r2.audio[n]+e)/(e?2:1)},0)}const yE={};function uVe(t,e=!0){if(yE[t])return yE[t];const n={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[t];for(let i=0;i<n.length;i++)if(FY(n[i],"audio",e))return yE[t]=n[i],n[i];return t}const dVe=/flac|opus/i;function a2(t,e=!0){return t.replace(dVe,n=>uVe(n.toLowerCase(),e))}function FF(t,e){return t&&t!=="mp4a"?t:e&&e.split(",")[0]}function hVe(t){const e=t.split(",");for(let n=0;n<e.length;n++){const i=e[n].split(".");if(i.length>2){let r=i.shift()+".";r+=parseInt(i.shift()).toString(16),r+=("000"+parseInt(i.shift()).toString(16)).slice(-4),e[n]=r}}return e.join(",")}const LF=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,UF=/#EXT-X-MEDIA:(.*)/g,fVe=/^#EXT(?:INF|-X-TARGETDURATION):/m,BF=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),pVe=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class Ks{static findGroup(e,n){for(let i=0;i<e.length;i++){const r=e[i];if(r.id===n)return r}}static resolve(e,n){return dR.buildAbsoluteURL(n,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return fVe.test(e)}static parseMasterPlaylist(e,n){const i=NF(e),r={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:i},s=[];LF.lastIndex=0;let a;for(;(a=LF.exec(e))!=null;)if(a[1]){var o;const c=new un(a[1]);Pi(r,c,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const u=cS(r,a[2]),d={attrs:c,bitrate:c.decimalInteger("BANDWIDTH")||c.decimalInteger("AVERAGE-BANDWIDTH"),name:c.NAME,url:Ks.resolve(u,n)},f=c.decimalResolution("RESOLUTION");f&&(d.width=f.width,d.height=f.height),mVe(c.CODECS,d),(o=d.unknownCodecs)!=null&&o.length||s.push(d),r.levels.push(d)}else if(a[3]){const c=a[3],u=a[4];switch(c){case"SESSION-DATA":{const d=new un(u);Pi(r,d,["DATA-ID","LANGUAGE","VALUE","URI"]);const f=d["DATA-ID"];f&&(r.sessionData===null&&(r.sessionData={}),r.sessionData[f]=d);break}case"SESSION-KEY":{const d=WF(u,n,r);d.encrypted&&d.isSupported()?(r.sessionKeys===null&&(r.sessionKeys=[]),r.sessionKeys.push(d)):se.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${u}"`);break}case"DEFINE":{{const d=new un(u);Pi(r,d,["NAME","VALUE","QUERYPARAM"]),_F(r,d,n)}break}case"CONTENT-STEERING":{const d=new un(u);Pi(r,d,["SERVER-URI","PATHWAY-ID"]),r.contentSteering={uri:Ks.resolve(d["SERVER-URI"],n),pathwayId:d["PATHWAY-ID"]||"."};break}case"START":{r.startTimeOffset=GF(u);break}}}const l=s.length>0&&s.length<r.levels.length;return r.levels=l?s:r.levels,r.levels.length===0&&(r.playlistParsingError=new Error("no levels found in manifest")),r}static parseMasterPlaylistMedia(e,n,i){let r;const s={},a=i.levels,o={AUDIO:a.map(c=>({id:c.attrs.AUDIO,audioCodec:c.audioCodec})),SUBTITLES:a.map(c=>({id:c.attrs.SUBTITLES,textCodec:c.textCodec})),"CLOSED-CAPTIONS":[]};let l=0;for(UF.lastIndex=0;(r=UF.exec(e))!==null;){const c=new un(r[1]),u=c.TYPE;if(u){const d=o[u],f=s[u]||[];s[u]=f,Pi(i,c,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const h=c.LANGUAGE,m=c["ASSOC-LANGUAGE"],p=c.CHANNELS,v=c.CHARACTERISTICS,y=c["INSTREAM-ID"],E={attrs:c,bitrate:0,id:l++,groupId:c["GROUP-ID"]||"",name:c.NAME||h||"",type:u,default:c.bool("DEFAULT"),autoselect:c.bool("AUTOSELECT"),forced:c.bool("FORCED"),lang:h,url:c.URI?Ks.resolve(c.URI,n):""};if(m&&(E.assocLang=m),p&&(E.channels=p),v&&(E.characteristics=v),y&&(E.instreamId=y),d!=null&&d.length){const S=Ks.findGroup(d,E.groupId)||d[0];ZF(E,S,"audioCodec"),ZF(E,S,"textCodec")}f.push(E)}}return s}static parseLevelPlaylist(e,n,i,r,s,a){const o=new Vxe(n),l=o.fragments;let c=null,u=0,d=0,f=0,h=0,m=null,p=new cE(r,n),v,y,E,S=-1,I=!1,w=null;for(BF.lastIndex=0,o.m3u8=e,o.hasVariableRefs=NF(e);(v=BF.exec(e))!==null;){I&&(I=!1,p=new cE(r,n),p.start=f,p.sn=u,p.cc=h,p.level=i,c&&(p.initSegment=c,p.rawProgramDateTime=c.rawProgramDateTime,c.rawProgramDateTime=null,w&&(p.setByteRange(w),w=null)));const Z=v[1];if(Z){p.duration=parseFloat(Z);const O=(" "+v[2]).slice(1);p.title=O||null,p.tagList.push(O?["INF",Z,O]:["INF",Z])}else if(v[3]){if(Me(p.duration)){p.start=f,E&&XF(p,E,o),p.sn=u,p.level=i,p.cc=h,l.push(p);const O=(" "+v[3]).slice(1);p.relurl=cS(o,O),DF(p,m),m=p,f+=p.duration,u++,d=0,I=!0}}else if(v[4]){const O=(" "+v[4]).slice(1);m?p.setByteRange(O,m):p.setByteRange(O)}else if(v[5])p.rawProgramDateTime=(" "+v[5]).slice(1),p.tagList.push(["PROGRAM-DATE-TIME",p.rawProgramDateTime]),S===-1&&(S=l.length);else{if(v=v[0].match(pVe),!v){se.warn("No matches on slow regex match for level playlist!");continue}for(y=1;y<v.length&&!(typeof v[y]<"u");y++);const O=(" "+v[y]).slice(1),K=(" "+v[y+1]).slice(1),fe=v[y+2]?(" "+v[y+2]).slice(1):"";switch(O){case"PLAYLIST-TYPE":o.type=K.toUpperCase();break;case"MEDIA-SEQUENCE":u=o.startSN=parseInt(K);break;case"SKIP":{const z=new un(K);Pi(o,z,["RECENTLY-REMOVED-DATERANGES"]);const pe=z.decimalInteger("SKIPPED-SEGMENTS");if(Me(pe)){o.skippedSegments=pe;for(let be=pe;be--;)l.unshift(null);u+=pe}const de=z.enumeratedString("RECENTLY-REMOVED-DATERANGES");de&&(o.recentlyRemovedDateranges=de.split("	"));break}case"TARGETDURATION":o.targetduration=Math.max(parseInt(K),1);break;case"VERSION":o.version=parseInt(K);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":o.live=!1;break;case"#":(K||fe)&&p.tagList.push(fe?[K,fe]:[K]);break;case"DISCONTINUITY":h++,p.tagList.push(["DIS"]);break;case"GAP":p.gap=!0,p.tagList.push([O]);break;case"BITRATE":p.tagList.push([O,K]);break;case"DATERANGE":{const z=new un(K);Pi(o,z,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),Pi(o,z,z.clientAttrs);const pe=new bY(z,o.dateRanges[z.ID]);pe.isValid||o.skippedSegments?o.dateRanges[pe.id]=pe:se.warn(`Ignoring invalid DATERANGE tag: "${K}"`),p.tagList.push(["EXT-X-DATERANGE",K]);break}case"DEFINE":{{const z=new un(K);Pi(o,z,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in z?oVe(o,z,a):_F(o,z,n)}break}case"DISCONTINUITY-SEQUENCE":h=parseInt(K);break;case"KEY":{const z=WF(K,n,o);if(z.isSupported()){if(z.method==="NONE"){E=void 0;break}E||(E={}),E[z.keyFormat]&&(E=Bn({},E)),E[z.keyFormat]=z}else se.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${K}"`);break}case"START":o.startTimeOffset=GF(K);break;case"MAP":{const z=new un(K);if(Pi(o,z,["BYTERANGE","URI"]),p.duration){const pe=new cE(r,n);OF(pe,z,i,E),c=pe,p.initSegment=c,c.rawProgramDateTime&&!p.rawProgramDateTime&&(p.rawProgramDateTime=c.rawProgramDateTime)}else{const pe=p.byteRangeEndOffset;if(pe){const de=p.byteRangeStartOffset;w=`${pe-de}@${de}`}else w=null;OF(p,z,i,E),c=p,I=!0}break}case"SERVER-CONTROL":{const z=new un(K);o.canBlockReload=z.bool("CAN-BLOCK-RELOAD"),o.canSkipUntil=z.optionalFloat("CAN-SKIP-UNTIL",0),o.canSkipDateRanges=o.canSkipUntil>0&&z.bool("CAN-SKIP-DATERANGES"),o.partHoldBack=z.optionalFloat("PART-HOLD-BACK",0),o.holdBack=z.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const z=new un(K);o.partTarget=z.decimalFloatingPoint("PART-TARGET");break}case"PART":{let z=o.partList;z||(z=o.partList=[]);const pe=d>0?z[z.length-1]:void 0,de=d++,be=new un(K);Pi(o,be,["BYTERANGE","URI"]);const _e=new wxe(be,p,n,de,pe);z.push(_e),p.duration+=_e.duration;break}case"PRELOAD-HINT":{const z=new un(K);Pi(o,z,["URI"]),o.preloadHint=z;break}case"RENDITION-REPORT":{const z=new un(K);Pi(o,z,["URI"]),o.renditionReports=o.renditionReports||[],o.renditionReports.push(z);break}default:se.warn(`line parsed but not handled: ${v}`);break}}}m&&!m.relurl?(l.pop(),f-=m.duration,o.partList&&(o.fragmentHint=m)):o.partList&&(DF(p,m),p.cc=h,o.fragmentHint=p,E&&XF(p,E,o));const N=l.length,F=l[0],W=l[N-1];if(f+=o.skippedSegments*o.targetduration,f>0&&N&&W){o.averagetargetduration=f/N;const Z=W.sn;o.endSN=Z!=="initSegment"?Z:0,o.live||(W.endList=!0),F&&(o.startCC=F.cc)}else o.endSN=0,o.startCC=0;return o.fragmentHint&&(f+=o.fragmentHint.duration),o.totalduration=f,o.endCC=h,S>0&&gVe(l,S),o}}function WF(t,e,n){var i,r;const s=new un(t);Pi(n,s,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const a=(i=s.METHOD)!=null?i:"",o=s.URI,l=s.hexadecimalInteger("IV"),c=s.KEYFORMATVERSIONS,u=(r=s.KEYFORMAT)!=null?r:"identity";o&&s.IV&&!l&&se.error(`Invalid IV: ${s.IV}`);const d=o?Ks.resolve(o,e):"",f=(c||"1").split("/").map(Number).filter(Number.isFinite);return new yp(a,d,u,f,l)}function GF(t){const n=new un(t).decimalFloatingPoint("TIME-OFFSET");return Me(n)?n:null}function mVe(t,e){let n=(t||"").split(/[ ,]+/).filter(i=>i);["video","audio","text"].forEach(i=>{const r=n.filter(s=>cVe(s,i));r.length&&(e[`${i}Codec`]=r.join(","),n=n.filter(s=>r.indexOf(s)===-1))}),e.unknownCodecs=n}function ZF(t,e,n){const i=e[n];i&&(t[n]=i)}function gVe(t,e){let n=t[e];for(let i=e;i--;){const r=t[i];if(!r)return;r.programDateTime=n.programDateTime-r.duration*1e3,n=r}}function DF(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),Me(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function OF(t,e,n,i){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=n,t.sn="initSegment",i&&(t.levelkeys=i),t.initSegment=null}function XF(t,e,n){t.levelkeys=e;const{encryptedFragments:i}=n;(!i.length||i[i.length-1].levelkeys!==e)&&Object.keys(e).some(r=>e[r].isCommonEncryption)&&i.push(t)}var gt={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},He={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function MF(t){const{type:e}=t;switch(e){case gt.AUDIO_TRACK:return He.AUDIO;case gt.SUBTITLE_TRACK:return He.SUBTITLE;default:return He.MAIN}}function bE(t,e){let n=t.url;return(n===void 0||n.indexOf("data:")===0)&&(n=e.url),n}class yVe{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(B.MANIFEST_LOADING,this.onManifestLoading,this),e.on(B.LEVEL_LOADING,this.onLevelLoading,this),e.on(B.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(B.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:e}=this;e.off(B.MANIFEST_LOADING,this.onManifestLoading,this),e.off(B.LEVEL_LOADING,this.onLevelLoading,this),e.off(B.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(B.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){const n=this.hls.config,i=n.pLoader,r=n.loader,s=i||r,a=new s(n);return this.loaders[e.type]=a,a}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const n=this.loaders[e];n&&n.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,n){const{url:i}=n;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:gt.MANIFEST,url:i,deliveryDirectives:null})}onLevelLoading(e,n){const{id:i,level:r,pathwayId:s,url:a,deliveryDirectives:o}=n;this.load({id:i,level:r,pathwayId:s,responseType:"text",type:gt.LEVEL,url:a,deliveryDirectives:o})}onAudioTrackLoading(e,n){const{id:i,groupId:r,url:s,deliveryDirectives:a}=n;this.load({id:i,groupId:r,level:null,responseType:"text",type:gt.AUDIO_TRACK,url:s,deliveryDirectives:a})}onSubtitleTrackLoading(e,n){const{id:i,groupId:r,url:s,deliveryDirectives:a}=n;this.load({id:i,groupId:r,level:null,responseType:"text",type:gt.SUBTITLE_TRACK,url:s,deliveryDirectives:a})}load(e){var n;const i=this.hls.config;let r=this.getInternalLoader(e);if(r){const c=r.context;if(c&&c.url===e.url&&c.level===e.level){se.trace("[playlist-loader]: playlist request ongoing");return}se.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),r.abort()}let s;if(e.type===gt.MANIFEST?s=i.manifestLoadPolicy.default:s=Bn({},i.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),r=this.createInternalLoader(e),Me((n=e.deliveryDirectives)==null?void 0:n.part)){let c;if(e.type===gt.LEVEL&&e.level!==null?c=this.hls.levels[e.level].details:e.type===gt.AUDIO_TRACK&&e.id!==null?c=this.hls.audioTracks[e.id].details:e.type===gt.SUBTITLE_TRACK&&e.id!==null&&(c=this.hls.subtitleTracks[e.id].details),c){const u=c.partTarget,d=c.targetduration;if(u&&d){const f=Math.max(u*3,d*.8)*1e3;s=Bn({},s,{maxTimeToFirstByteMs:Math.min(f,s.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(f,s.maxTimeToFirstByteMs)})}}}const a=s.errorRetry||s.timeoutRetry||{},o={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},l={onSuccess:(c,u,d,f)=>{const h=this.getInternalLoader(d);this.resetInternalLoader(d.type);const m=c.data;if(m.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(c,d,new Error("no EXTM3U delimiter"),f||null,u);return}u.parsing.start=performance.now(),Ks.isMediaPlaylist(m)?this.handleTrackOrLevelPlaylist(c,u,d,f||null,h):this.handleMasterPlaylist(c,u,d,f)},onError:(c,u,d,f)=>{this.handleNetworkError(u,d,!1,c,f)},onTimeout:(c,u,d)=>{this.handleNetworkError(u,d,!0,void 0,c)}};r.load(e,o,l)}handleMasterPlaylist(e,n,i,r){const s=this.hls,a=e.data,o=bE(e,i),l=Ks.parseMasterPlaylist(a,o);if(l.playlistParsingError){this.handleManifestParsingError(e,i,l.playlistParsingError,r,n);return}const{contentSteering:c,levels:u,sessionData:d,sessionKeys:f,startTimeOffset:h,variableList:m}=l;this.variableList=m;const{AUDIO:p=[],SUBTITLES:v,"CLOSED-CAPTIONS":y}=Ks.parseMasterPlaylistMedia(a,o,l);p.length&&!p.some(S=>!S.url)&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(se.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),p.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new un({}),bitrate:0,url:""})),s.trigger(B.MANIFEST_LOADED,{levels:u,audioTracks:p,subtitles:v,captions:y,contentSteering:c,url:o,stats:n,networkDetails:r,sessionData:d,sessionKeys:f,startTimeOffset:h,variableList:m})}handleTrackOrLevelPlaylist(e,n,i,r,s){const a=this.hls,{id:o,level:l,type:c}=i,u=bE(e,i),d=0,f=Me(l)?l:Me(o)?o:0,h=MF(i),m=Ks.parseLevelPlaylist(e.data,u,f,h,d,this.variableList);if(c===gt.MANIFEST){const p={attrs:new un({}),bitrate:0,details:m,name:"",url:u};a.trigger(B.MANIFEST_LOADED,{levels:[p],audioTracks:[],url:u,stats:n,networkDetails:r,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}n.parsing.end=performance.now(),i.levelDetails=m,this.handlePlaylistLoaded(m,e,n,i,r,s)}handleManifestParsingError(e,n,i,r,s){this.hls.trigger(B.ERROR,{type:tt.NETWORK_ERROR,details:Ee.MANIFEST_PARSING_ERROR,fatal:n.type===gt.MANIFEST,url:e.url,err:i,error:i,reason:i.message,response:e,context:n,networkDetails:r,stats:s})}handleNetworkError(e,n,i=!1,r,s){let a=`A network ${i?"timeout":"error"+(r?" (status "+r.code+")":"")} occurred while loading ${e.type}`;e.type===gt.LEVEL?a+=`: ${e.level} id: ${e.id}`:(e.type===gt.AUDIO_TRACK||e.type===gt.SUBTITLE_TRACK)&&(a+=` id: ${e.id} group-id: "${e.groupId}"`);const o=new Error(a);se.warn(`[playlist-loader]: ${a}`);let l=Ee.UNKNOWN,c=!1;const u=this.getInternalLoader(e);switch(e.type){case gt.MANIFEST:l=i?Ee.MANIFEST_LOAD_TIMEOUT:Ee.MANIFEST_LOAD_ERROR,c=!0;break;case gt.LEVEL:l=i?Ee.LEVEL_LOAD_TIMEOUT:Ee.LEVEL_LOAD_ERROR,c=!1;break;case gt.AUDIO_TRACK:l=i?Ee.AUDIO_TRACK_LOAD_TIMEOUT:Ee.AUDIO_TRACK_LOAD_ERROR,c=!1;break;case gt.SUBTITLE_TRACK:l=i?Ee.SUBTITLE_TRACK_LOAD_TIMEOUT:Ee.SUBTITLE_LOAD_ERROR,c=!1;break}u&&this.resetInternalLoader(e.type);const d={type:tt.NETWORK_ERROR,details:l,fatal:c,url:e.url,loader:u,context:e,error:o,networkDetails:n,stats:s};if(r){const f=(n==null?void 0:n.url)||e.url;d.response=ii({url:f,data:void 0},r)}this.hls.trigger(B.ERROR,d)}handlePlaylistLoaded(e,n,i,r,s,a){const o=this.hls,{type:l,level:c,id:u,groupId:d,deliveryDirectives:f}=r,h=bE(n,r),m=MF(r),p=typeof r.level=="number"&&m===He.MAIN?c:void 0;if(!e.fragments.length){const y=new Error("No Segments found in Playlist");o.trigger(B.ERROR,{type:tt.NETWORK_ERROR,details:Ee.LEVEL_EMPTY_ERROR,fatal:!1,url:h,error:y,reason:y.message,response:n,context:r,level:p,parent:m,networkDetails:s,stats:i});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const v=e.playlistParsingError;if(v){o.trigger(B.ERROR,{type:tt.NETWORK_ERROR,details:Ee.LEVEL_PARSING_ERROR,fatal:!1,url:h,error:v,reason:v.message,response:n,context:r,level:p,parent:m,networkDetails:s,stats:i});return}switch(e.live&&a&&(a.getCacheAge&&(e.ageHeader=a.getCacheAge()||0),(!a.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),l){case gt.MANIFEST:case gt.LEVEL:o.trigger(B.LEVEL_LOADED,{details:e,level:p||0,id:u||0,stats:i,networkDetails:s,deliveryDirectives:f});break;case gt.AUDIO_TRACK:o.trigger(B.AUDIO_TRACK_LOADED,{details:e,id:u||0,groupId:d||"",stats:i,networkDetails:s,deliveryDirectives:f});break;case gt.SUBTITLE_TRACK:o.trigger(B.SUBTITLE_TRACK_LOADED,{details:e,id:u||0,groupId:d||"",stats:i,networkDetails:s,deliveryDirectives:f});break}}}function LY(t,e){let n;try{n=new Event("addtrack")}catch{n=document.createEvent("Event"),n.initEvent("addtrack",!1,!1)}n.track=t,e.dispatchEvent(n)}function UY(t,e){const n=t.mode;if(n==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(i){se.debug(`[texttrack-utils]: ${i}`);try{const r=new self.TextTrackCue(e.startTime,e.endTime,e.text);r.id=e.id,t.addCue(r)}catch(r){se.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${r}`)}}n==="disabled"&&(t.mode=n)}function Su(t){const e=t.mode;if(e==="disabled"&&(t.mode="hidden"),t.cues)for(let n=t.cues.length;n--;)t.removeCue(t.cues[n]);e==="disabled"&&(t.mode=e)}function uS(t,e,n,i){const r=t.mode;if(r==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const s=vVe(t.cues,e,n);for(let a=0;a<s.length;a++)(!i||i(s[a]))&&t.removeCue(s[a])}r==="disabled"&&(t.mode=r)}function bVe(t,e){if(e<t[0].startTime)return 0;const n=t.length-1;if(e>t[n].endTime)return-1;let i=0,r=n;for(;i<=r;){const s=Math.floor((r+i)/2);if(e<t[s].startTime)r=s-1;else if(e>t[s].startTime&&i<n)i=s+1;else return s}return t[i].startTime-e<e-t[r].startTime?i:r}function vVe(t,e,n){const i=[],r=bVe(t,e);if(r>-1)for(let s=r,a=t.length;s<a;s++){const o=t[s];if(o.startTime>=e&&o.endTime<=n)i.push(o);else if(o.startTime>n)return i}return i}function Em(t){const e=[];for(let n=0;n<t.length;n++){const i=t[n];(i.kind==="subtitles"||i.kind==="captions")&&i.label&&e.push(t[n])}return e}var cs={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"};const EVe=.25;function dS(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function PF(t,e,n,i,r){let s=new t(e,n,"");try{s.value=i,r&&(s.type=r)}catch{s=new t(e,n,JSON.stringify(r?ii({type:r},i):i))}return s}const C1=(()=>{const t=dS();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function vE(t,e){return t.getTime()/1e3-e}function AVe(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class SVe{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:e}=this;e.on(B.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(B.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(B.MANIFEST_LOADING,this.onManifestLoading,this),e.on(B.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(B.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(B.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(B.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(B.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(B.MANIFEST_LOADING,this.onManifestLoading,this),e.off(B.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(B.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(B.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,n){this.media=n.media}onMediaDetaching(){this.id3Track&&(Su(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const n=this.getID3Track(e.textTracks);return n.mode="hidden",n}getID3Track(e){if(this.media){for(let n=0;n<e.length;n++){const i=e[n];if(i.kind==="metadata"&&i.label==="id3")return LY(i,this.media),i}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,n){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:i,enableID3MetadataCues:r}}}=this;if(!i&&!r)return;const{samples:s}=n;this.id3Track||(this.id3Track=this.createTrack(this.media));const a=dS();if(a)for(let o=0;o<s.length;o++){const l=s[o].type;if(l===cs.emsg&&!i||!r)continue;const c=RY(s[o].data);if(c){const u=s[o].pts;let d=u+s[o].duration;d>C1&&(d=C1),d-u<=0&&(d=u+EVe);for(let h=0;h<c.length;h++){const m=c[h];if(!TY(m)){this.updateId3CueEnds(u,l);const p=PF(a,u,d,m,l);p&&this.id3Track.addCue(p)}}}}}updateId3CueEnds(e,n){var i;const r=(i=this.id3Track)==null?void 0:i.cues;if(r)for(let s=r.length;s--;){const a=r[s];a.type===n&&a.startTime<e&&a.endTime===C1&&(a.endTime=e)}}onBufferFlushing(e,{startOffset:n,endOffset:i,type:r}){const{id3Track:s,hls:a}=this;if(!a)return;const{config:{enableEmsgMetadataCues:o,enableID3MetadataCues:l}}=a;if(s&&(o||l)){let c;r==="audio"?c=u=>u.type===cs.audioId3&&l:r==="video"?c=u=>u.type===cs.emsg&&o:c=u=>u.type===cs.audioId3&&l||u.type===cs.emsg&&o,uS(s,n,i,c)}}onLevelUpdated(e,{details:n}){if(!this.media||!n.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:i,id3Track:r}=this,{dateRanges:s}=n,a=Object.keys(s);if(r){const u=Object.keys(i).filter(d=>!a.includes(d));for(let d=u.length;d--;){const f=u[d];Object.keys(i[f].cues).forEach(h=>{r.removeCue(i[f].cues[h])}),delete i[f]}}const o=n.fragments[n.fragments.length-1];if(a.length===0||!Me(o==null?void 0:o.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const l=o.programDateTime/1e3-o.start,c=dS();for(let u=0;u<a.length;u++){const d=a[u],f=s[d],h=vE(f.startDate,l),m=i[d],p=(m==null?void 0:m.cues)||{};let v=(m==null?void 0:m.durationKnown)||!1,y=C1;const E=f.endDate;if(E)y=vE(E,l),v=!0;else if(f.endOnNext&&!v){const I=a.reduce((w,N)=>{if(N!==f.id){const F=s[N];if(F.class===f.class&&F.startDate>f.startDate&&(!w||f.startDate<w.startDate))return F}return w},null);I&&(y=vE(I.startDate,l),v=!0)}const S=Object.keys(f.attr);for(let I=0;I<S.length;I++){const w=S[I];if(!Cxe(w))continue;const N=p[w];if(N)v&&!m.durationKnown&&(N.endTime=y);else if(c){let F=f.attr[w];Ixe(w)&&(F=AVe(F));const W=PF(c,h,y,{key:w,data:F},cs.dateRange);W&&(W.id=d,this.id3Track.addCue(W),p[w]=W)}}i[d]={cues:p,dateRange:f,durationKnown:v}}}}class TVe{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:e,levelDetails:n}=this;return e.liveMaxLatencyDuration!==void 0?e.liveMaxLatencyDuration:n?e.liveMaxLatencyDurationCount*n.targetduration:0}get targetLatency(){const{levelDetails:e}=this;if(e===null)return null;const{holdBack:n,partHoldBack:i,targetduration:r}=e,{liveSyncDuration:s,liveSyncDurationCount:a,lowLatencyMode:o}=this.config,l=this.hls.userConfig;let c=o&&i||n;(l.liveSyncDuration||l.liveSyncDurationCount||c===0)&&(c=s!==void 0?s:a*r);const u=r;return c+Math.min(this.stallCount*1,u)}get liveSyncPosition(){const e=this.estimateLiveEdge(),n=this.targetLatency,i=this.levelDetails;if(e===null||n===null||i===null)return null;const r=i.edge,s=e-n-this.edgeStalled,a=r-i.totalduration,o=r-(this.config.lowLatencyMode&&i.partTarget||i.targetduration);return Math.min(Math.max(a,s),o)}get drift(){const{levelDetails:e}=this;return e===null?1:e.drift}get edgeStalled(){const{levelDetails:e}=this;if(e===null)return 0;const n=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-n,0)}get forwardBufferLength(){const{media:e,levelDetails:n}=this;if(!e||!n)return 0;const i=e.buffered.length;return(i?e.buffered.end(i-1):n.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(B.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(B.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(B.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(B.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(B.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(B.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(B.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(B.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(B.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(B.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:n}){this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,n){var i;n.details===Ee.BUFFER_STALLED_ERROR&&(this.stallCount++,(i=this.levelDetails)!=null&&i.live&&se.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:e,levelDetails:n}=this;if(!e||!n)return;this.currentTime=e.currentTime;const i=this.computeLatency();if(i===null)return;this._latency=i;const{lowLatencyMode:r,maxLiveSyncPlaybackRate:s}=this.config;if(!r||s===1||!n.live)return;const a=this.targetLatency;if(a===null)return;const o=i-a,l=Math.min(this.maxLatency,a+n.targetduration);if(o<l&&o>.05&&this.forwardBufferLength>1){const u=Math.min(2,Math.max(1,s)),d=Math.round(2/(1+Math.exp(-.75*o-this.edgeStalled))*20)/20;e.playbackRate=Math.min(u,Math.max(1,d))}else e.playbackRate!==1&&e.playbackRate!==0&&(e.playbackRate=1)}estimateLiveEdge(){const{levelDetails:e}=this;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}const hS=["NONE","TYPE-0","TYPE-1",null];function RVe(t){return hS.indexOf(t)>-1}const o2=["SDR","PQ","HLG"];function CVe(t){return!!t&&o2.indexOf(t)>-1}var Am={No:"",Yes:"YES",v2:"v2"};function YF(t){const{canSkipUntil:e,canSkipDateRanges:n,age:i}=t,r=i<e/2;return e&&r?n?Am.v2:Am.Yes:Am.No}class $F{constructor(e,n,i){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=n,this.skip=i}addDirectives(e){const n=new self.URL(e);return this.msn!==void 0&&n.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&n.searchParams.set("_HLS_part",this.part.toString()),this.skip&&n.searchParams.set("_HLS_skip",this.skip),n.href}}class Bd{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(n=>!!n).map(n=>n.substring(0,4)).join(","),this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return jF(this._audioGroups,e)}hasSubtitleGroup(e){return jF(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,n){if(n){if(e==="audio"){let i=this._audioGroups;i||(i=this._audioGroups=[]),i.indexOf(n)===-1&&i.push(n)}else if(e==="text"){let i=this._subtitleGroups;i||(i=this._subtitleGroups=[]),i.indexOf(n)===-1&&i.push(n)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function jF(t,e){return!e||!t?!1:t.indexOf(e)!==-1}function EE(t,e){const n=e.startPTS;if(Me(n)){let i=0,r;e.sn>t.sn?(i=n-t.start,r=t):(i=t.start-n,r=e),r.duration!==i&&(r.duration=i)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0)}function BY(t,e,n,i,r,s){i-n<=0&&(se.warn("Fragment should have a positive duration",e),i=n+e.duration,s=r+e.duration);let o=n,l=i;const c=e.startPTS,u=e.endPTS;if(Me(c)){const v=Math.abs(c-n);Me(e.deltaPTS)?e.deltaPTS=Math.max(v,e.deltaPTS):e.deltaPTS=v,o=Math.max(n,c),n=Math.min(n,c),r=Math.min(r,e.startDTS),l=Math.min(i,u),i=Math.max(i,u),s=Math.max(s,e.endDTS)}const d=n-e.start;e.start!==0&&(e.start=n),e.duration=i-e.start,e.startPTS=n,e.maxStartPTS=o,e.startDTS=r,e.endPTS=i,e.minEndPTS=l,e.endDTS=s;const f=e.sn;if(!t||f<t.startSN||f>t.endSN)return 0;let h;const m=f-t.startSN,p=t.fragments;for(p[m]=e,h=m;h>0;h--)EE(p[h],p[h-1]);for(h=m;h<p.length-1;h++)EE(p[h],p[h+1]);return t.fragmentHint&&EE(p[p.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,d}function IVe(t,e){let n=null;const i=t.fragments;for(let o=i.length-1;o>=0;o--){const l=i[o].initSegment;if(l){n=l;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let r;VVe(t,e,(o,l,c,u)=>{if(e.skippedSegments&&l.cc!==o.cc){const d=o.cc-l.cc;for(let f=c;f<u.length;f++)u[f].cc+=d}Me(o.startPTS)&&Me(o.endPTS)&&(l.start=l.startPTS=o.startPTS,l.startDTS=o.startDTS,l.maxStartPTS=o.maxStartPTS,l.endPTS=o.endPTS,l.endDTS=o.endDTS,l.minEndPTS=o.minEndPTS,l.duration=o.endPTS-o.startPTS,l.duration&&(r=l),e.PTSKnown=e.alignedSliding=!0),l.elementaryStreams=o.elementaryStreams,l.loader=o.loader,l.stats=o.stats,o.initSegment&&(l.initSegment=o.initSegment,n=o.initSegment)});const s=e.fragments;if(n&&(e.fragmentHint?s.concat(e.fragmentHint):s).forEach(l=>{var c;l&&(!l.initSegment||l.initSegment.relurl===((c=n)==null?void 0:c.relurl))&&(l.initSegment=n)}),e.skippedSegments){if(e.deltaUpdateFailed=s.some(o=>!o),e.deltaUpdateFailed){se.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let o=e.skippedSegments;o--;)s.shift();e.startSN=s[0].sn}else e.canSkipDateRanges&&(e.dateRanges=wVe(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));e.startCC=e.fragments[0].cc,e.endCC=s[s.length-1].cc}xVe(t.partList,e.partList,(o,l)=>{l.elementaryStreams=o.elementaryStreams,l.stats=o.stats}),r?BY(e,r,r.startPTS,r.endPTS,r.startDTS,r.endDTS):WY(t,e),s.length&&(e.totalduration=e.edge-s[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const a=e.advancedDateTime;if(e.advanced&&a){const o=e.edge;e.driftStart||(e.driftStartTime=a,e.driftStart=o),e.driftEndTime=a,e.driftEnd=o}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function wVe(t,e,n){const i=Bn({},t);return n&&n.forEach(r=>{delete i[r]}),Object.keys(e).forEach(r=>{const s=new bY(e[r].attr,i[r]);s.isValid?i[r]=s:se.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[r].attr)}"`)}),i}function xVe(t,e,n){if(t&&e){let i=0;for(let r=0,s=t.length;r<=s;r++){const a=t[r],o=e[r+i];a&&o&&a.index===o.index&&a.fragment.sn===o.fragment.sn?n(a,o):i--}}}function VVe(t,e,n){const i=e.skippedSegments,r=Math.max(t.startSN,e.startSN)-e.startSN,s=(t.fragmentHint?1:0)+(i?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,a=e.startSN-t.startSN,o=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let c=r;c<=s;c++){const u=l[a+c];let d=o[c];i&&!d&&c<i&&(d=e.fragments[c]=u),u&&d&&n(u,d,c,o)}}function WY(t,e){const n=e.startSN+e.skippedSegments-t.startSN,i=t.fragments;n<0||n>=i.length||fS(e,i[n].start)}function fS(t,e){if(e){const n=t.fragments;for(let i=t.skippedSegments;i<n.length;i++)n[i].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function NVe(t,e=1/0){let n=1e3*t.targetduration;if(t.updated){const i=t.fragments;if(i.length&&n*4>e){const s=i[i.length-1].duration*1e3;s<n&&(n=s)}}else n/=2;return Math.round(n)}function _Ve(t,e,n){if(!(t!=null&&t.details))return null;const i=t.details;let r=i.fragments[e-i.startSN];return r||(r=i.fragmentHint,r&&r.sn===e)?r:e<i.startSN&&n&&n.sn===e?n:null}function KF(t,e,n){var i;return t!=null&&t.details?GY((i=t.details)==null?void 0:i.partList,e,n):null}function GY(t,e,n){if(t)for(let i=t.length;i--;){const r=t[i];if(r.index===n&&r.fragment.sn===e)return r}return null}function ZY(t){t.forEach((e,n)=>{const{details:i}=e;i!=null&&i.fragments&&i.fragments.forEach(r=>{r.level=n})})}function l2(t){switch(t.details){case Ee.FRAG_LOAD_TIMEOUT:case Ee.KEY_LOAD_TIMEOUT:case Ee.LEVEL_LOAD_TIMEOUT:case Ee.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function zF(t,e){const n=l2(e);return t.default[`${n?"timeout":"error"}Retry`]}function mR(t,e){const n=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(n*t.retryDelayMs,t.maxRetryDelayMs)}function JF(t){return ii(ii({},t),{errorRetry:null,timeoutRetry:null})}function c2(t,e,n,i){if(!t)return!1;const r=i==null?void 0:i.code,s=e<t.maxNumRetry&&(kVe(r)||!!n);return t.shouldRetry?t.shouldRetry(t,e,n,i,s):s}function kVe(t){return t===0&&navigator.onLine===!1||!!t&&(t<400||t>499)}const DY={search:function(t,e){let n=0,i=t.length-1,r=null,s=null;for(;n<=i;){r=(n+i)/2|0,s=t[r];const a=e(s);if(a>0)n=r+1;else if(a<0)i=r-1;else return s}return null}};function FVe(t,e,n){if(e===null||!Array.isArray(t)||!t.length||!Me(e))return null;const i=t[0].programDateTime;if(e<(i||0))return null;const r=t[t.length-1].endProgramDateTime;if(e>=(r||0))return null;n=n||0;for(let s=0;s<t.length;++s){const a=t[s];if(UVe(e,n,a))return a}return null}function u2(t,e,n=0,i=0,r=.005){let s=null;if(t){s=e[t.sn-e[0].sn+1]||null;const o=t.endDTS-n;o>0&&o<15e-7&&(n+=15e-7)}else n===0&&e[0].start===0&&(s=e[0]);if(s&&((!t||t.level===s.level)&&pS(n,i,s)===0||LVe(s,t,Math.min(r,i))))return s;const a=DY.search(e,pS.bind(null,n,i));return a&&(a!==t||!s)?a:s}function LVe(t,e,n){if(e&&e.start===0&&e.level<t.level&&(e.endPTS||0)>0){const i=e.tagList.reduce((r,s)=>(s[0]==="INF"&&(r+=parseFloat(s[1])),r),n);return t.start<=i}return!1}function pS(t=0,e=0,n){if(n.start<=t&&n.start+n.duration>t)return 0;const i=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-i<=t?1:n.start-i>t&&n.start?-1:0}function UVe(t,e,n){const i=Math.min(e,n.duration+(n.deltaPTS?n.deltaPTS:0))*1e3;return(n.endProgramDateTime||0)-i>t}function BVe(t,e){return DY.search(t,n=>n.cc<e?1:n.cc>e?-1:0)}var ai={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},qr={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2};class WVe{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=se.log.bind(se,"[info]:"),this.warn=se.warn.bind(se,"[warning]:"),this.error=se.error.bind(se,"[error]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(B.ERROR,this.onError,this),e.on(B.MANIFEST_LOADING,this.onManifestLoading,this),e.on(B.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(B.ERROR,this.onError,this),e.off(B.ERROR,this.onErrorOut,this),e.off(B.MANIFEST_LOADING,this.onManifestLoading,this),e.off(B.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===He.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,n){var i,r;if(n.fatal)return;const s=this.hls,a=n.context;switch(n.details){case Ee.FRAG_LOAD_ERROR:case Ee.FRAG_LOAD_TIMEOUT:case Ee.KEY_LOAD_ERROR:case Ee.KEY_LOAD_TIMEOUT:n.errorAction=this.getFragRetryOrSwitchAction(n);return;case Ee.FRAG_PARSING_ERROR:if((i=n.frag)!=null&&i.gap){n.errorAction={action:ai.DoNothing,flags:qr.None};return}case Ee.FRAG_GAP:case Ee.FRAG_DECRYPT_ERROR:{n.errorAction=this.getFragRetryOrSwitchAction(n),n.errorAction.action=ai.SendAlternateToPenaltyBox;return}case Ee.LEVEL_EMPTY_ERROR:case Ee.LEVEL_PARSING_ERROR:{var o,l;const c=n.parent===He.MAIN?n.level:s.loadLevel;n.details===Ee.LEVEL_EMPTY_ERROR&&((o=n.context)!=null&&(l=o.levelDetails)!=null&&l.live)?n.errorAction=this.getPlaylistRetryOrSwitchAction(n,c):(n.levelRetry=!1,n.errorAction=this.getLevelSwitchAction(n,c))}return;case Ee.LEVEL_LOAD_ERROR:case Ee.LEVEL_LOAD_TIMEOUT:typeof(a==null?void 0:a.level)=="number"&&(n.errorAction=this.getPlaylistRetryOrSwitchAction(n,a.level));return;case Ee.AUDIO_TRACK_LOAD_ERROR:case Ee.AUDIO_TRACK_LOAD_TIMEOUT:case Ee.SUBTITLE_LOAD_ERROR:case Ee.SUBTITLE_TRACK_LOAD_TIMEOUT:if(a){const c=s.levels[s.loadLevel];if(c&&(a.type===gt.AUDIO_TRACK&&c.hasAudioGroup(a.groupId)||a.type===gt.SUBTITLE_TRACK&&c.hasSubtitleGroup(a.groupId))){n.errorAction=this.getPlaylistRetryOrSwitchAction(n,s.loadLevel),n.errorAction.action=ai.SendAlternateToPenaltyBox,n.errorAction.flags=qr.MoveAllAlternatesMatchingHost;return}}return;case Ee.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const c=s.levels[s.loadLevel],u=c==null?void 0:c.attrs["HDCP-LEVEL"];u?n.errorAction={action:ai.SendAlternateToPenaltyBox,flags:qr.MoveAllAlternatesMatchingHDCP,hdcpLevel:u}:this.keySystemError(n)}return;case Ee.BUFFER_ADD_CODEC_ERROR:case Ee.REMUX_ALLOC_ERROR:case Ee.BUFFER_APPEND_ERROR:n.errorAction=this.getLevelSwitchAction(n,(r=n.level)!=null?r:s.loadLevel);return;case Ee.INTERNAL_EXCEPTION:case Ee.BUFFER_APPENDING_ERROR:case Ee.BUFFER_FULL_ERROR:case Ee.LEVEL_SWITCH_ERROR:case Ee.BUFFER_STALLED_ERROR:case Ee.BUFFER_SEEK_OVER_HOLE:case Ee.BUFFER_NUDGE_ON_STALL:n.errorAction={action:ai.DoNothing,flags:qr.None};return}n.type===tt.KEY_SYSTEM_ERROR&&this.keySystemError(n)}keySystemError(e){const n=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,n)}getPlaylistRetryOrSwitchAction(e,n){const i=this.hls,r=zF(i.config.playlistLoadPolicy,e),s=this.playlistError++;if(c2(r,s,l2(e),e.response))return{action:ai.RetryRequest,flags:qr.None,retryConfig:r,retryCount:s};const o=this.getLevelSwitchAction(e,n);return r&&(o.retryConfig=r,o.retryCount=s),o}getFragRetryOrSwitchAction(e){const n=this.hls,i=this.getVariantLevelIndex(e.frag),r=n.levels[i],{fragLoadPolicy:s,keyLoadPolicy:a}=n.config,o=zF(e.details.startsWith("key")?a:s,e),l=n.levels.reduce((u,d)=>u+d.fragmentError,0);if(r&&(e.details!==Ee.FRAG_GAP&&r.fragmentError++,c2(o,l,l2(e),e.response)))return{action:ai.RetryRequest,flags:qr.None,retryConfig:o,retryCount:l};const c=this.getLevelSwitchAction(e,i);return o&&(c.retryConfig=o,c.retryCount=l),c}getLevelSwitchAction(e,n){const i=this.hls;n==null&&(n=i.loadLevel);const r=this.hls.levels[n];if(r){var s,a;const c=e.details;r.loadError++,c===Ee.BUFFER_APPEND_ERROR&&r.fragmentError++;let u=-1;const{levels:d,loadLevel:f,minAutoLevel:h,maxAutoLevel:m}=i;i.autoLevelEnabled||(i.loadLevel=-1);const p=(s=e.frag)==null?void 0:s.type,y=(p===He.AUDIO&&c===Ee.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(c===Ee.BUFFER_ADD_CODEC_ERROR||c===Ee.BUFFER_APPEND_ERROR))&&d.some(({audioCodec:N})=>r.audioCodec!==N),S=e.sourceBufferName==="video"&&(c===Ee.BUFFER_ADD_CODEC_ERROR||c===Ee.BUFFER_APPEND_ERROR)&&d.some(({codecSet:N,audioCodec:F})=>r.codecSet!==N&&r.audioCodec===F),{type:I,groupId:w}=(a=e.context)!=null?a:{};for(let N=d.length;N--;){const F=(N+f)%d.length;if(F!==f&&F>=h&&F<=m&&d[F].loadError===0){var o,l;const W=d[F];if(c===Ee.FRAG_GAP&&p===He.MAIN&&e.frag){const Z=d[F].details;if(Z){const O=u2(e.frag,Z.fragments,e.frag.start);if(O!=null&&O.gap)continue}}else{if(I===gt.AUDIO_TRACK&&W.hasAudioGroup(w)||I===gt.SUBTITLE_TRACK&&W.hasSubtitleGroup(w))continue;if(p===He.AUDIO&&(o=r.audioGroups)!=null&&o.some(Z=>W.hasAudioGroup(Z))||p===He.SUBTITLE&&(l=r.subtitleGroups)!=null&&l.some(Z=>W.hasSubtitleGroup(Z))||y&&r.audioCodec===W.audioCodec||!y&&r.audioCodec!==W.audioCodec||S&&r.codecSet===W.codecSet)continue}u=F;break}}if(u>-1&&i.loadLevel!==u)return e.levelRetry=!0,this.playlistError=0,{action:ai.SendAlternateToPenaltyBox,flags:qr.None,nextAutoLevel:u}}return{action:ai.SendAlternateToPenaltyBox,flags:qr.MoveAllAlternatesMatchingHost}}onErrorOut(e,n){var i;switch((i=n.errorAction)==null?void 0:i.action){case ai.DoNothing:break;case ai.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(n),!n.errorAction.resolved&&n.details!==Ee.FRAG_GAP?n.fatal=!0:/MediaSource readyState: ended/.test(n.error.message)&&(this.warn(`MediaSource ended after "${n.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(n.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const n=this.hls,i=e.errorAction;if(!i)return;const{flags:r,hdcpLevel:s,nextAutoLevel:a}=i;switch(r){case qr.None:this.switchLevel(e,a);break;case qr.MoveAllAlternatesMatchingHDCP:s&&(n.maxHdcpLevel=hS[hS.indexOf(s)-1],i.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${n.maxHdcpLevel}" or lower`);break}i.resolved||this.switchLevel(e,a)}switchLevel(e,n){n!==void 0&&e.errorAction&&(this.warn(`switching to level ${n} after ${e.details}`),this.hls.nextAutoLevel=n,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}}class gR{constructor(e,n){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=se.log.bind(se,`${n}:`),this.warn=se.warn.bind(se,`${n}:`),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,n,i){const r=n==null?void 0:n.renditionReports;if(r){let s=-1;for(let a=0;a<r.length;a++){const o=r[a];let l;try{l=new self.URL(o.URI,n.url).href}catch(c){se.warn(`Could not construct new URL for Rendition Report: ${c}`),l=o.URI||""}if(l===e){s=a;break}else l===e.substring(0,l.length)&&(s=a)}if(s!==-1){const a=r[s],o=parseInt(a["LAST-MSN"])||(n==null?void 0:n.lastPartSn);let l=parseInt(a["LAST-PART"])||(n==null?void 0:n.lastPartIndex);if(this.hls.config.lowLatencyMode){const u=Math.min(n.age-n.partTarget,n.targetduration);l>=0&&u>n.partTarget&&(l+=1)}const c=i&&YF(i);return new $F(o,l>=0?l:void 0,c)}}}loadPlaylist(e){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(e)}playlistLoaded(e,n,i){const{details:r,stats:s}=n,a=self.performance.now(),o=s.loading.first?Math.max(0,a-s.loading.first):0;if(r.advancedDateTime=Date.now()-o,r.live||i!=null&&i.live){if(r.reloaded(i),i&&this.log(`live playlist ${e} ${r.advanced?"REFRESHED "+r.lastPartSn+"-"+r.lastPartIndex:r.updated?"UPDATED":"MISSED"}`),i&&r.fragments.length>0&&IVe(i,r),!this.canLoad||!r.live)return;let l,c,u;if(r.canBlockReload&&r.endSN&&r.advanced){const v=this.hls.config.lowLatencyMode,y=r.lastPartSn,E=r.endSN,S=r.lastPartIndex,I=S!==-1,w=y===E,N=v?0:S;I?(c=w?E+1:y,u=w?N:S+1):c=E+1;const F=r.age,W=F+r.ageHeader;let Z=Math.min(W-r.partTarget,r.targetduration*1.5);if(Z>0){if(i&&Z>i.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${i.tuneInGoal} to: ${Z} with playlist age: ${r.age}`),Z=0;else{const O=Math.floor(Z/r.targetduration);if(c+=O,u!==void 0){const K=Math.round(Z%r.targetduration/r.partTarget);u+=K}this.log(`CDN Tune-in age: ${r.ageHeader}s last advanced ${F.toFixed(2)}s goal: ${Z} skip sn ${O} to part ${u}`)}r.tuneInGoal=Z}if(l=this.getDeliveryDirectives(r,n.deliveryDirectives,c,u),v||!w){this.loadPlaylist(l);return}}else(r.canBlockReload||r.canSkipUntil)&&(l=this.getDeliveryDirectives(r,n.deliveryDirectives,c,u));const d=this.hls.mainForwardBufferInfo,f=d?d.end-d.len:0,h=(r.edge-f)*1e3,m=NVe(r,h);r.updated&&a>this.requestScheduled+m&&(this.requestScheduled=s.loading.start),c!==void 0&&r.canBlockReload?this.requestScheduled=s.loading.first+m-(r.partTarget*1e3||1e3):this.requestScheduled===-1||this.requestScheduled+m<a?this.requestScheduled=a:this.requestScheduled-a<=0&&(this.requestScheduled+=m);let p=this.requestScheduled-a;p=Math.max(0,p),this.log(`reload live playlist ${e} in ${Math.round(p)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(l),p)}else this.clearTimer()}getDeliveryDirectives(e,n,i,r){let s=YF(e);return n!=null&&n.skip&&e.deltaUpdateFailed&&(i=n.msn,r=n.part,s=Am.No),new $F(i,r,s)}checkRetry(e){const n=e.details,i=l2(e),r=e.errorAction,{action:s,retryCount:a=0,retryConfig:o}=r||{},l=!!r&&!!o&&(s===ai.RetryRequest||!r.resolved&&s===ai.SendAlternateToPenaltyBox);if(l){var c;if(this.requestScheduled=-1,a>=o.maxNumRetry)return!1;if(i&&(c=e.context)!=null&&c.deliveryDirectives)this.warn(`Retrying playlist loading ${a+1}/${o.maxNumRetry} after "${n}" without delivery-directives`),this.loadPlaylist();else{const u=mR(o,a);this.timer=self.setTimeout(()=>this.loadPlaylist(),u),this.warn(`Retrying playlist loading ${a+1}/${o.maxNumRetry} after "${n}" in ${u}ms`)}e.levelRetry=!0,r.resolved=!0}return l}}class jc{constructor(e,n=0,i=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=n,this.totalWeight_=i}sample(e,n){const i=Math.pow(this.alpha_,e);this.estimate_=n*(1-i)+i*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class GVe{constructor(e,n,i,r=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=i,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new jc(e),this.fast_=new jc(n),this.defaultTTFB_=r,this.ttfb_=new jc(e)}update(e,n){const{slow_:i,fast_:r,ttfb_:s}=this;i.halfLife!==e&&(this.slow_=new jc(e,i.getEstimate(),i.getTotalWeight())),r.halfLife!==n&&(this.fast_=new jc(n,r.getEstimate(),r.getTotalWeight())),s.halfLife!==e&&(this.ttfb_=new jc(e,s.getEstimate(),s.getTotalWeight()))}sample(e,n){e=Math.max(e,this.minDelayMs_);const i=8*n,r=e/1e3,s=i/r;this.fast_.sample(r,s),this.slow_.sample(r,s)}sampleTTFB(e){const n=e/1e3,i=Math.sqrt(2)*Math.exp(-Math.pow(n,2)/2);this.ttfb_.sample(i,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}const OY={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},HF={};function ZVe(t,e,n,i,r,s){const a=t.audioCodec?t.audioGroups:null,o=s==null?void 0:s.audioCodec,l=s==null?void 0:s.channels,c=l?parseInt(l):o?1/0:2;let u=null;if(a!=null&&a.length)try{a.length===1&&a[0]?u=e.groups[a[0]].channels:u=a.reduce((d,f)=>{if(f){const h=e.groups[f];if(!h)throw new Error(`Audio track group ${f} not found`);Object.keys(h.channels).forEach(m=>{d[m]=(d[m]||0)+h.channels[m]})}return d},{2:0})}catch{return!0}return t.videoCodec!==void 0&&(t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(i,30)||t.videoRange!=="SDR"&&t.videoRange!==n||t.bitrate>Math.max(r,8e6))||!!u&&Me(c)&&Object.keys(u).some(d=>parseInt(d)>c)}function DVe(t,e,n){const i=t.videoCodec,r=t.audioCodec;if(!i||!r||!n)return Promise.resolve(OY);const s={width:t.width,height:t.height,bitrate:Math.ceil(Math.max(t.bitrate*.9,t.averageBitrate)),framerate:t.frameRate||30},a=t.videoRange;a!=="SDR"&&(s.transferFunction=a.toLowerCase());const o=i.split(",").map(l=>({type:"media-source",video:ii(ii({},s),{},{contentType:bp(l,"video")})}));return r&&t.audioGroups&&t.audioGroups.forEach(l=>{var c;l&&((c=e.groups[l])==null||c.tracks.forEach(u=>{if(u.groupId===l){const d=u.channels||"",f=parseFloat(d);Me(f)&&f>2&&o.push.apply(o,r.split(",").map(h=>({type:"media-source",audio:{contentType:bp(h,"audio"),channels:""+f}})))}}))}),Promise.all(o.map(l=>{const c=OVe(l);return HF[c]||(HF[c]=n.decodingInfo(l))})).then(l=>({supported:!l.some(c=>!c.supported),configurations:o,decodingInfoResults:l})).catch(l=>({supported:!1,configurations:o,decodingInfoResults:[],error:l}))}function OVe(t){const{audio:e,video:n}=t,i=n||e;if(i){const r=i.contentType.split('"')[1];if(n)return`r${n.height}x${n.width}f${Math.ceil(n.framerate)}${n.transferFunction||"sd"}_${r}_${Math.ceil(n.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${r}`}return""}function XVe(){if(typeof matchMedia=="function"){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return t.matches===!0}return!1}function MVe(t,e){let n=!1,i=[];return t&&(n=t!=="SDR",i=[t]),e&&(i=e.allowedVideoRanges||o2.slice(0),n=e.preferHDR!==void 0?e.preferHDR:XVe(),n?i=i.filter(r=>r!=="SDR"):i=["SDR"]),{preferHDR:n,allowedVideoRanges:i}}function PVe(t,e,n,i,r){const s=Object.keys(t),a=i==null?void 0:i.channels,o=i==null?void 0:i.audioCodec,l=a&&parseInt(a)===2;let c=!0,u=!1,d=1/0,f=1/0,h=1/0,m=0,p=[];const{preferHDR:v,allowedVideoRanges:y}=MVe(e,r);for(let w=s.length;w--;){const N=t[s[w]];c=N.channels[2]>0,d=Math.min(d,N.minHeight),f=Math.min(f,N.minFramerate),h=Math.min(h,N.minBitrate);const F=y.filter(W=>N.videoRanges[W]>0);F.length>0&&(u=!0,p=F)}d=Me(d)?d:0,f=Me(f)?f:0;const E=Math.max(1080,d),S=Math.max(30,f);return h=Me(h)?h:n,n=Math.max(h,n),u||(e=void 0,p=[]),{codecSet:s.reduce((w,N)=>{const F=t[N];if(N===w)return w;if(F.minBitrate>n)return fa(N,`min bitrate of ${F.minBitrate} > current estimate of ${n}`),w;if(!F.hasDefaultAudio)return fa(N,"no renditions with default or auto-select sound found"),w;if(o&&N.indexOf(o.substring(0,4))%5!==0)return fa(N,`audio codec preference "${o}" not found`),w;if(a&&!l){if(!F.channels[a])return fa(N,`no renditions with ${a} channel sound found (channels options: ${Object.keys(F.channels)})`),w}else if((!o||l)&&c&&F.channels[2]===0)return fa(N,"no renditions with stereo sound found"),w;return F.minHeight>E?(fa(N,`min resolution of ${F.minHeight} > maximum of ${E}`),w):F.minFramerate>S?(fa(N,`min framerate of ${F.minFramerate} > maximum of ${S}`),w):p.some(W=>F.videoRanges[W]>0)?F.maxScore<m?(fa(N,`max score of ${F.maxScore} < selected max of ${m}`),w):w&&(s2(N)>=s2(w)||F.fragmentError>t[w].fragmentError)?w:(m=F.maxScore,N):(fa(N,`no variants with VIDEO-RANGE of ${JSON.stringify(p)} found`),w)},void 0),videoRanges:p,preferHDR:v,minFramerate:f,minBitrate:h}}function fa(t,e){se.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function YVe(t){return t.reduce((e,n)=>{let i=e.groups[n.groupId];i||(i=e.groups[n.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),i.tracks.push(n);const r=n.channels||"2";return i.channels[r]=(i.channels[r]||0)+1,i.hasDefault=i.hasDefault||n.default,i.hasAutoSelect=i.hasAutoSelect||n.autoselect,i.hasDefault&&(e.hasDefaultAudio=!0),i.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function $Ve(t,e,n,i){return t.slice(n,i+1).reduce((r,s)=>{if(!s.codecSet)return r;const a=s.audioGroups;let o=r[s.codecSet];o||(r[s.codecSet]=o={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!a,fragmentError:0}),o.minBitrate=Math.min(o.minBitrate,s.bitrate);const l=Math.min(s.height,s.width);return o.minHeight=Math.min(o.minHeight,l),o.minFramerate=Math.min(o.minFramerate,s.frameRate),o.maxScore=Math.max(o.maxScore,s.score),o.fragmentError+=s.fragmentError,o.videoRanges[s.videoRange]=(o.videoRanges[s.videoRange]||0)+1,a&&a.forEach(c=>{if(!c)return;const u=e.groups[c];u&&(o.hasDefaultAudio=o.hasDefaultAudio||e.hasDefaultAudio?u.hasDefault:u.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(u.channels).forEach(d=>{o.channels[d]=(o.channels[d]||0)+u.channels[d]}))}),r},{})}function zs(t,e,n){if("attrs"in t){const i=e.indexOf(t);if(i!==-1)return i}for(let i=0;i<e.length;i++){const r=e[i];if(nc(t,r,n))return i}return-1}function nc(t,e,n){const{groupId:i,name:r,lang:s,assocLang:a,default:o}=t,l=t.forced;return(i===void 0||e.groupId===i)&&(r===void 0||e.name===r)&&(s===void 0||e.lang===s)&&(s===void 0||e.assocLang===a)&&(o===void 0||e.default===o)&&(l===void 0||e.forced===l)&&(!("characteristics"in t)||jVe(t.characteristics||"",e.characteristics))&&(n===void 0||n(t,e))}function jVe(t,e=""){const n=t.split(","),i=e.split(",");return n.length===i.length&&!n.some(r=>i.indexOf(r)===-1)}function wl(t,e){const{audioCodec:n,channels:i}=t;return(n===void 0||(e.audioCodec||"").substring(0,4)===n.substring(0,4))&&(i===void 0||i===(e.channels||"2"))}function KVe(t,e,n,i,r){const s=e[i],o=e.reduce((f,h,m)=>{const p=h.uri;return(f[p]||(f[p]=[])).push(m),f},{})[s.uri];o.length>1&&(i=Math.max.apply(Math,o));const l=s.videoRange,c=s.frameRate,u=s.codecSet.substring(0,4),d=QF(e,i,f=>{if(f.videoRange!==l||f.frameRate!==c||f.codecSet.substring(0,4)!==u)return!1;const h=f.audioGroups,m=n.filter(p=>!h||h.indexOf(p.groupId)!==-1);return zs(t,m,r)>-1});return d>-1?d:QF(e,i,f=>{const h=f.audioGroups,m=n.filter(p=>!h||h.indexOf(p.groupId)!==-1);return zs(t,m,r)>-1})}function QF(t,e,n){for(let i=e;i>-1;i--)if(n(t[i]))return i;for(let i=e+1;i<t.length;i++)if(n(t[i]))return i;return-1}class zVe{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{const{fragCurrent:n,partCurrent:i,hls:r}=this,{autoLevelEnabled:s,media:a}=r;if(!n||!a)return;const o=performance.now(),l=i?i.stats:n.stats,c=i?i.duration:n.duration,u=o-l.loading.start,d=r.minAutoLevel;if(l.aborted||l.loaded&&l.loaded===l.total||n.level<=d){this.clearTimer(),this._nextAutoLevel=-1;return}if(!s||a.paused||!a.playbackRate||!a.readyState)return;const f=r.mainForwardBufferInfo;if(f===null)return;const h=this.bwEstimator.getEstimateTTFB(),m=Math.abs(a.playbackRate);if(u<=Math.max(h,1e3*(c/(m*2))))return;const p=f.len/m,v=l.loading.first?l.loading.first-l.loading.start:-1,y=l.loaded&&v>-1,E=this.getBwEstimate(),S=r.levels,I=S[n.level],w=l.total||Math.max(l.loaded,Math.round(c*I.averageBitrate/8));let N=y?u-v:u;N<1&&y&&(N=Math.min(u,l.loaded*8/E));const F=y?l.loaded*1e3/N:0,W=F?(w-l.loaded)/F:w*8/E+h/1e3;if(W<=p)return;const Z=F?F*8:E;let O=Number.POSITIVE_INFINITY,K;for(K=n.level-1;K>d;K--){const z=S[K].maxBitrate;if(O=this.getTimeToLoadFrag(h/1e3,Z,c*z,!S[K].details),O<p)break}if(O>=W||O>c*10)return;r.nextLoadLevel=r.nextAutoLevel=K,y?this.bwEstimator.sample(u-Math.min(h,v),l.loaded):this.bwEstimator.sampleTTFB(u);const fe=S[K].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>fe&&this.resetEstimator(fe),this.clearTimer(),se.warn(`[abr] Fragment ${n.sn}${i?" part "+i.index:""} of level ${n.level} is loading too slowly;
      Time to underbuffer: ${p.toFixed(3)} s
      Estimated load time for current fragment: ${W.toFixed(3)} s
      Estimated load time for down switch fragment: ${O.toFixed(3)} s
      TTFB estimate: ${v|0} ms
      Current BW estimate: ${Me(E)?E|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${K} @ ${fe|0} bps`),r.trigger(B.FRAG_LOAD_EMERGENCY_ABORTED,{frag:n,part:i,stats:l})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(se.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new GVe(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(B.MANIFEST_LOADING,this.onManifestLoading,this),e.on(B.FRAG_LOADING,this.onFragLoading,this),e.on(B.FRAG_LOADED,this.onFragLoaded,this),e.on(B.FRAG_BUFFERED,this.onFragBuffered,this),e.on(B.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(B.LEVEL_LOADED,this.onLevelLoaded,this),e.on(B.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(B.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(B.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(B.MANIFEST_LOADING,this.onManifestLoading,this),e.off(B.FRAG_LOADING,this.onFragLoading,this),e.off(B.FRAG_LOADED,this.onFragLoaded,this),e.off(B.FRAG_BUFFERED,this.onFragBuffered,this),e.off(B.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(B.LEVEL_LOADED,this.onLevelLoaded,this),e.off(B.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(B.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(B.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,n){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,n){const i=n.frag;if(!this.ignoreFragment(i)){if(!i.bitrateTest){var r;this.fragCurrent=i,this.partCurrent=(r=n.part)!=null?r:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,n){this.clearTimer()}onError(e,n){if(!n.fatal)switch(n.details){case Ee.BUFFER_ADD_CODEC_ERROR:case Ee.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case Ee.FRAG_LOAD_TIMEOUT:{const i=n.frag,{fragCurrent:r,partCurrent:s}=this;if(i&&r&&i.sn===r.sn&&i.level===r.level){const a=performance.now(),o=s?s.stats:i.stats,l=a-o.loading.start,c=o.loading.first?o.loading.first-o.loading.start:-1;if(o.loaded&&c>-1){const d=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(l-Math.min(d,c),o.loaded)}else this.bwEstimator.sampleTTFB(l)}break}}}getTimeToLoadFrag(e,n,i,r){const s=e+i/n,a=r?this.lastLevelLoadSec:0;return s+a}onLevelLoaded(e,n){const i=this.hls.config,{loading:r}=n.stats,s=r.end-r.start;Me(s)&&(this.lastLevelLoadSec=s/1e3),n.details.live?this.bwEstimator.update(i.abrEwmaSlowLive,i.abrEwmaFastLive):this.bwEstimator.update(i.abrEwmaSlowVoD,i.abrEwmaFastVoD)}onFragLoaded(e,{frag:n,part:i}){const r=i?i.stats:n.stats;if(n.type===He.MAIN&&this.bwEstimator.sampleTTFB(r.loading.first-r.loading.start),!this.ignoreFragment(n)){if(this.clearTimer(),n.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const s=i?i.duration:n.duration,a=this.hls.levels[n.level],o=(a.loaded?a.loaded.bytes:0)+r.loaded,l=(a.loaded?a.loaded.duration:0)+s;a.loaded={bytes:o,duration:l},a.realBitrate=Math.round(8*o/l)}if(n.bitrateTest){const s={stats:r,frag:n,part:i,id:n.type};this.onFragBuffered(B.FRAG_BUFFERED,s),n.bitrateTest=!1}else this.lastLoadedFragLevel=n.level}}onFragBuffered(e,n){const{frag:i,part:r}=n,s=r!=null&&r.stats.loaded?r.stats:i.stats;if(s.aborted||this.ignoreFragment(i))return;const a=s.parsing.end-s.loading.start-Math.min(s.loading.first-s.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,s.loaded),s.bwEstimate=this.getBwEstimate(),i.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==He.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:n}=this.hls,i=this.getBwEstimate(),r=this.hls.config.maxStarvationDelay,s=this.findBestLevel(i,n,e,0,r,1,1);if(s>-1)return s;const a=this.hls.firstLevel,o=Math.min(Math.max(a,n),e);return se.warn(`[abr] Could not find best starting auto level. Defaulting to first in playlist ${a} clamped to ${o}`),o}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,i=this.bwEstimator.canEstimate(),r=this.lastLoadedFragLevel>-1;if(e!==-1&&(!i||!r||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const s=i&&r?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const a=this.hls.levels;if(a.length>Math.max(e,s)&&a[e].loadError<=a[s].loadError)return e}return this._nextAutoLevel=s,this.nextAutoLevelKey=this.getAutoLevelKey(),s}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:n,hls:i}=this,{maxAutoLevel:r,config:s,minAutoLevel:a}=i,o=n?n.duration:e?e.duration:0,l=this.getBwEstimate(),c=this.getStarvationDelay();let u=s.abrBandWidthFactor,d=s.abrBandWidthUpFactor;if(c){const v=this.findBestLevel(l,a,r,c,0,u,d);if(v>=0)return v}let f=o?Math.min(o,s.maxStarvationDelay):s.maxStarvationDelay;if(!c){const v=this.bitrateTestDelay;v&&(f=(o?Math.min(o,s.maxLoadingDelay):s.maxLoadingDelay)-v,se.info(`[abr] bitrate test took ${Math.round(1e3*v)}ms, set first fragment max fetchDuration to ${Math.round(1e3*f)} ms`),u=d=1)}const h=this.findBestLevel(l,a,r,c,f,u,d);if(se.info(`[abr] ${c?"rebuffering expected":"buffer is empty"}, optimal quality level ${h}`),h>-1)return h;const m=i.levels[a],p=i.levels[i.loadLevel];return(m==null?void 0:m.bitrate)<(p==null?void 0:p.bitrate)?a:i.loadLevel}getStarvationDelay(){const e=this.hls,n=e.media;if(!n)return 1/0;const i=n&&n.playbackRate!==0?Math.abs(n.playbackRate):1,r=e.mainForwardBufferInfo;return(r?r.len:0)/i}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,n,i,r,s,a,o){var l;const c=r+s,u=this.lastLoadedFragLevel,d=u===-1?this.hls.firstLevel:u,{fragCurrent:f,partCurrent:h}=this,{levels:m,allAudioTracks:p,loadLevel:v,config:y}=this.hls;if(m.length===1)return 0;const E=m[d],S=!!(E!=null&&(l=E.details)!=null&&l.live),I=v===-1||u===-1;let w,N="SDR",F=(E==null?void 0:E.frameRate)||0;const{audioPreference:W,videoPreference:Z}=y,O=this.audioTracksByGroup||(this.audioTracksByGroup=YVe(p));if(I){if(this.firstSelection!==-1)return this.firstSelection;const de=this.codecTiers||(this.codecTiers=$Ve(m,O,n,i)),be=PVe(de,N,e,W,Z),{codecSet:_e,videoRanges:me,minFramerate:Q,minBitrate:q,preferHDR:Re}=be;w=_e,N=Re?me[me.length-1]:me[0],F=Q,e=Math.max(e,q),se.log(`[abr] picked start tier ${JSON.stringify(be)}`)}else w=E==null?void 0:E.codecSet,N=E==null?void 0:E.videoRange;const K=h?h.duration:f?f.duration:0,fe=this.bwEstimator.getEstimateTTFB()/1e3,z=[];for(let de=i;de>=n;de--){var pe;const be=m[de],_e=de>d;if(!be)continue;if(y.useMediaCapabilities&&!be.supportedResult&&!be.supportedPromise){const ie=navigator.mediaCapabilities;typeof(ie==null?void 0:ie.decodingInfo)=="function"&&ZVe(be,O,N,F,e,W)?(be.supportedPromise=DVe(be,O,ie),be.supportedPromise.then(ne=>{if(!this.hls)return;be.supportedResult=ne;const Se=this.hls.levels,ke=Se.indexOf(be);ne.error?se.warn(`[abr] MediaCapabilities decodingInfo error: "${ne.error}" for level ${ke} ${JSON.stringify(ne)}`):ne.supported||(se.warn(`[abr] Unsupported MediaCapabilities decodingInfo result for level ${ke} ${JSON.stringify(ne)}`),ke>-1&&Se.length>1&&(se.log(`[abr] Removing unsupported level ${ke}`),this.hls.removeLevel(ke)))})):be.supportedResult=OY}if(w&&be.codecSet!==w||N&&be.videoRange!==N||_e&&F>be.frameRate||!_e&&F>0&&F<be.frameRate||be.supportedResult&&!((pe=be.supportedResult.decodingInfoResults)!=null&&pe[0].smooth)){z.push(de);continue}const me=be.details,Q=(h?me==null?void 0:me.partTarget:me==null?void 0:me.averagetargetduration)||K;let q;_e?q=o*e:q=a*e;const Re=K&&r>=K*2&&s===0?m[de].averageBitrate:m[de].maxBitrate,D=this.getTimeToLoadFrag(fe,q,Re*Q,me===void 0);if(q>=Re&&(de===u||be.loadError===0&&be.fragmentError===0)&&(D<=fe||!Me(D)||S&&!this.bitrateTestDelay||D<c)){const ie=this.forcedAutoLevel;return de!==v&&(ie===-1||ie!==v)&&(z.length&&se.trace(`[abr] Skipped level(s) ${z.join(",")} of ${i} max with CODECS and VIDEO-RANGE:"${m[z[0]].codecs}" ${m[z[0]].videoRange}; not compatible with "${E.codecs}" ${N}`),se.info(`[abr] switch candidate:${d}->${de} adjustedbw(${Math.round(q)})-bitrate=${Math.round(q-Re)} ttfb:${fe.toFixed(1)} avgDuration:${Q.toFixed(1)} maxFetchDuration:${c.toFixed(1)} fetchDuration:${D.toFixed(1)} firstSelection:${I} codecSet:${w} videoRange:${N} hls.loadLevel:${v}`)),I&&(this.firstSelection=de),de}}return-1}set nextAutoLevel(e){const{maxAutoLevel:n,minAutoLevel:i}=this.hls,r=Math.min(Math.max(e,i),n);this._nextAutoLevel!==r&&(this.nextAutoLevelKey="",this._nextAutoLevel=r)}}class JVe{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}var Jn={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class HVe{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(B.BUFFER_APPENDED,this.onBufferAppended,this),e.on(B.FRAG_BUFFERED,this.onFragBuffered,this),e.on(B.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(B.BUFFER_APPENDED,this.onBufferAppended,this),e.off(B.FRAG_BUFFERED,this.onFragBuffered,this),e.off(B.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,n){const i=this.activePartLists[n];if(i)for(let r=i.length;r--;){const s=i[r];if(!s)break;const a=s.end;if(s.start<=e&&a!==null&&e<=a)return s}return this.getBufferedFrag(e,n)}getBufferedFrag(e,n){const{fragments:i}=this,r=Object.keys(i);for(let s=r.length;s--;){const a=i[r[s]];if((a==null?void 0:a.body.type)===n&&a.buffered){const o=a.body;if(o.start<=e&&e<=o.end)return o}}return null}detectEvictedFragments(e,n,i,r){this.timeRanges&&(this.timeRanges[e]=n);const s=(r==null?void 0:r.fragment.sn)||-1;Object.keys(this.fragments).forEach(a=>{const o=this.fragments[a];if(!o||s>=o.body.sn)return;if(!o.buffered&&!o.loaded){o.body.type===i&&this.removeFragment(o.body);return}const l=o.range[e];l&&l.time.some(c=>{const u=!this.isTimeBuffered(c.startPTS,c.endPTS,n);return u&&this.removeFragment(o.body),u})})}detectPartialFragments(e){const n=this.timeRanges,{frag:i,part:r}=e;if(!n||i.sn==="initSegment")return;const s=Kc(i),a=this.fragments[s];if(!a||a.buffered&&i.gap)return;const o=!i.relurl;Object.keys(n).forEach(l=>{const c=i.elementaryStreams[l];if(!c)return;const u=n[l],d=o||c.partial===!0;a.range[l]=this.getBufferedTimes(i,r,d,u)}),a.loaded=null,Object.keys(a.range).length?(a.buffered=!0,(a.body.endList=i.endList||a.body.endList)&&(this.endListFragments[a.body.type]=a),I1(a)||this.removeParts(i.sn-1,i.type)):this.removeFragment(a.body)}removeParts(e,n){const i=this.activePartLists[n];i&&(this.activePartLists[n]=i.filter(r=>r.fragment.sn>=e))}fragBuffered(e,n){const i=Kc(e);let r=this.fragments[i];!r&&n&&(r=this.fragments[i]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),r&&(r.loaded=null,r.buffered=!0)}getBufferedTimes(e,n,i,r){const s={time:[],partial:i},a=e.start,o=e.end,l=e.minEndPTS||o,c=e.maxStartPTS||a;for(let u=0;u<r.length;u++){const d=r.start(u)-this.bufferPadding,f=r.end(u)+this.bufferPadding;if(c>=d&&l<=f){s.time.push({startPTS:Math.max(a,r.start(u)),endPTS:Math.min(o,r.end(u))});break}else if(a<f&&o>d){const h=Math.max(a,r.start(u)),m=Math.min(o,r.end(u));m>h&&(s.partial=!0,s.time.push({startPTS:h,endPTS:m}))}else if(o<=d)break}return s}getPartialFragment(e){let n=null,i,r,s,a=0;const{bufferPadding:o,fragments:l}=this;return Object.keys(l).forEach(c=>{const u=l[c];u&&I1(u)&&(r=u.body.start-o,s=u.body.end+o,e>=r&&e<=s&&(i=Math.min(e-r,s-e),a<=i&&(n=u.body,a=i)))}),n}isEndListAppended(e){const n=this.endListFragments[e];return n!==void 0&&(n.buffered||I1(n))}getState(e){const n=Kc(e),i=this.fragments[n];return i?i.buffered?I1(i)?Jn.PARTIAL:Jn.OK:Jn.APPENDING:Jn.NOT_LOADED}isTimeBuffered(e,n,i){let r,s;for(let a=0;a<i.length;a++){if(r=i.start(a)-this.bufferPadding,s=i.end(a)+this.bufferPadding,e>=r&&n<=s)return!0;if(n<=r)return!1}return!1}onFragLoaded(e,n){const{frag:i,part:r}=n;if(i.sn==="initSegment"||i.bitrateTest)return;const s=r?null:n,a=Kc(i);this.fragments[a]={body:i,appendedPTS:null,loaded:s,buffered:!1,range:Object.create(null)}}onBufferAppended(e,n){const{frag:i,part:r,timeRanges:s}=n;if(i.sn==="initSegment")return;const a=i.type;if(r){let o=this.activePartLists[a];o||(this.activePartLists[a]=o=[]),o.push(r)}this.timeRanges=s,Object.keys(s).forEach(o=>{const l=s[o];this.detectEvictedFragments(o,l,a,r)})}onFragBuffered(e,n){this.detectPartialFragments(n)}hasFragment(e){const n=Kc(e);return!!this.fragments[n]}hasParts(e){var n;return!!((n=this.activePartLists[e])!=null&&n.length)}removeFragmentsInRange(e,n,i,r,s){r&&!this.hasGaps||Object.keys(this.fragments).forEach(a=>{const o=this.fragments[a];if(!o)return;const l=o.body;l.type!==i||r&&!l.gap||l.start<n&&l.end>e&&(o.buffered||s)&&this.removeFragment(l)})}removeFragment(e){const n=Kc(e);e.stats.loaded=0,e.clearElementaryStreamInfo();const i=this.activePartLists[e.type];if(i){const r=e.sn;this.activePartLists[e.type]=i.filter(s=>s.fragment.sn!==r)}delete this.fragments[n],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function I1(t){var e,n,i;return t.buffered&&(t.body.gap||((e=t.range.video)==null?void 0:e.partial)||((n=t.range.audio)==null?void 0:n.partial)||((i=t.range.audiovideo)==null?void 0:i.partial))}function Kc(t){return`${t.type}_${t.level}_${t.sn}`}const QVe={length:0,start:()=>0,end:()=>0};class Pt{static isBuffered(e,n){try{if(e){const i=Pt.getBuffered(e);for(let r=0;r<i.length;r++)if(n>=i.start(r)&&n<=i.end(r))return!0}}catch{}return!1}static bufferInfo(e,n,i){try{if(e){const r=Pt.getBuffered(e),s=[];let a;for(a=0;a<r.length;a++)s.push({start:r.start(a),end:r.end(a)});return this.bufferedInfo(s,n,i)}}catch{}return{len:0,start:n,end:n,nextStart:void 0}}static bufferedInfo(e,n,i){n=Math.max(0,n),e.sort(function(c,u){const d=c.start-u.start;return d||u.end-c.end});let r=[];if(i)for(let c=0;c<e.length;c++){const u=r.length;if(u){const d=r[u-1].end;e[c].start-d<i?e[c].end>d&&(r[u-1].end=e[c].end):r.push(e[c])}else r.push(e[c])}else r=e;let s=0,a,o=n,l=n;for(let c=0;c<r.length;c++){const u=r[c].start,d=r[c].end;if(n+i>=u&&n<d)o=u,l=d,s=l-n;else if(n+i<u){a=u;break}}return{len:s,start:o||0,end:l||0,nextStart:a}}static getBuffered(e){try{return e.buffered}catch(n){return se.log("failed to get media.buffered",n),QVe}}}class yR{constructor(e,n,i,r=0,s=-1,a=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=w1(),this.buffering={audio:w1(),video:w1(),audiovideo:w1()},this.level=e,this.sn=n,this.id=i,this.size=r,this.part=s,this.partial=a}}function w1(){return{start:0,executeStart:0,executeEnd:0,end:0}}function Sm(t,e){for(let i=0,r=t.length;i<r;i++){var n;if(((n=t[i])==null?void 0:n.cc)===e)return t[i]}return null}function qVe(t,e,n){return!!(e&&(n.endCC>n.startCC||t&&t.cc<n.startCC))}function eNe(t,e){const n=t.fragments,i=e.fragments;if(!i.length||!n.length){se.log("No fragments to align");return}const r=Sm(n,i[0].cc);if(!r||r&&!r.startPTS){se.log("No frag in previous level to align on");return}return r}function qF(t,e){if(t){const n=t.start+e;t.start=t.startPTS=n,t.endPTS=n+t.duration}}function XY(t,e){const n=e.fragments;for(let i=0,r=n.length;i<r;i++)qF(n[i],t);e.fragmentHint&&qF(e.fragmentHint,t),e.alignedSliding=!0}function tNe(t,e,n){e&&(nNe(t,n,e),!n.alignedSliding&&e&&d2(n,e),!n.alignedSliding&&e&&!n.skippedSegments&&WY(e,n))}function nNe(t,e,n){if(qVe(t,n,e)){const i=eNe(n,e);i&&Me(i.start)&&(se.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),XY(i.start,e))}}function d2(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const n=t.fragments,i=e.fragments;if(!n.length||!i.length)return;let r,s;const a=Math.min(e.endCC,t.endCC);e.startCC<a&&t.startCC<a&&(r=Sm(i,a),s=Sm(n,a)),(!r||!s)&&(r=i[Math.floor(i.length/2)],s=Sm(n,r.cc)||n[Math.floor(n.length/2)]);const o=r.programDateTime,l=s.programDateTime;if(!o||!l)return;const c=(l-o)/1e3-(s.start-r.start);XY(c,t)}const eL=Math.pow(2,17);class iNe{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,n){const i=e.url;if(!i)return Promise.reject(new Ta({type:tt.NETWORK_ERROR,details:Ee.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${i?"part list":"url"}`),networkDetails:null}));this.abort();const r=this.config,s=r.fLoader,a=r.loader;return new Promise((o,l)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(h=>h[0]==="GAP")){l(nL(e));return}else e.gap=!1;const c=this.loader=e.loader=s?new s(r):new a(r),u=tL(e),d=JF(r.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:eL};e.stats=c.stats,c.load(u,f,{onSuccess:(h,m,p,v)=>{this.resetLoader(e,c);let y=h.data;p.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(y.slice(0,16)),y=y.slice(16)),o({frag:e,part:null,payload:y,networkDetails:v})},onError:(h,m,p,v)=>{this.resetLoader(e,c),l(new Ta({type:tt.NETWORK_ERROR,details:Ee.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:ii({url:i,data:void 0},h),error:new Error(`HTTP Error ${h.code} ${h.text}`),networkDetails:p,stats:v}))},onAbort:(h,m,p)=>{this.resetLoader(e,c),l(new Ta({type:tt.NETWORK_ERROR,details:Ee.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:p,stats:h}))},onTimeout:(h,m,p)=>{this.resetLoader(e,c),l(new Ta({type:tt.NETWORK_ERROR,details:Ee.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:p,stats:h}))},onProgress:(h,m,p,v)=>{n&&n({frag:e,part:null,payload:p,networkDetails:v})}})})}loadPart(e,n,i){this.abort();const r=this.config,s=r.fLoader,a=r.loader;return new Promise((o,l)=>{if(this.loader&&this.loader.destroy(),e.gap||n.gap){l(nL(e,n));return}const c=this.loader=e.loader=s?new s(r):new a(r),u=tL(e,n),d=JF(r.fragLoadPolicy.default),f={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:eL};n.stats=c.stats,c.load(u,f,{onSuccess:(h,m,p,v)=>{this.resetLoader(e,c),this.updateStatsFromPart(e,n);const y={frag:e,part:n,payload:h.data,networkDetails:v};i(y),o(y)},onError:(h,m,p,v)=>{this.resetLoader(e,c),l(new Ta({type:tt.NETWORK_ERROR,details:Ee.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:n,response:ii({url:u.url,data:void 0},h),error:new Error(`HTTP Error ${h.code} ${h.text}`),networkDetails:p,stats:v}))},onAbort:(h,m,p)=>{e.stats.aborted=n.stats.aborted,this.resetLoader(e,c),l(new Ta({type:tt.NETWORK_ERROR,details:Ee.INTERNAL_ABORTED,fatal:!1,frag:e,part:n,error:new Error("Aborted"),networkDetails:p,stats:h}))},onTimeout:(h,m,p)=>{this.resetLoader(e,c),l(new Ta({type:tt.NETWORK_ERROR,details:Ee.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:n,error:new Error(`Timeout after ${f.timeout}ms`),networkDetails:p,stats:h}))}})})}updateStatsFromPart(e,n){const i=e.stats,r=n.stats,s=r.total;if(i.loaded+=r.loaded,s){const l=Math.round(e.duration/n.duration),c=Math.min(Math.round(i.loaded/s),l),d=(l-c)*Math.round(i.loaded/c);i.total=i.loaded+d}else i.total=Math.max(i.loaded,i.total);const a=i.loading,o=r.loading;a.start?a.first+=o.first-o.start:(a.start=o.start,a.first=o.first),a.end=o.end}resetLoader(e,n){e.loader=null,this.loader===n&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),n.destroy()}}function tL(t,e=null){const n=e||t,i={frag:t,part:e,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},r=n.byteRangeStartOffset,s=n.byteRangeEndOffset;if(Me(r)&&Me(s)){var a;let o=r,l=s;if(t.sn==="initSegment"&&((a=t.decryptdata)==null?void 0:a.method)==="AES-128"){const c=s-r;c%16&&(l=s+(16-c%16)),r!==0&&(i.resetIV=!0,o=r-16)}i.rangeStart=o,i.rangeEnd=l}return i}function nL(t,e){const n=new Error(`GAP ${t.gap?"tag":"attribute"} found`),i={type:tt.MEDIA_ERROR,details:Ee.FRAG_GAP,fatal:!1,frag:t,error:n,networkDetails:null};return e&&(i.part=e),(e||t).stats.aborted=!0,new Ta(i)}class Ta extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class rNe{constructor(e,n){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=n}decrypt(e,n){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},n,e)}}class sNe{constructor(e,n){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=n}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}function aNe(t){const e=t.byteLength,n=e&&new DataView(t.buffer).getUint8(e-1);return n?tc(t,0,e-n):t}class oNe{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const n=new DataView(e),i=new Uint32Array(4);for(let r=0;r<4;r++)i[r]=n.getUint32(r*4);return i}initTable(){const e=this.sBox,n=this.invSBox,i=this.subMix,r=i[0],s=i[1],a=i[2],o=i[3],l=this.invSubMix,c=l[0],u=l[1],d=l[2],f=l[3],h=new Uint32Array(256);let m=0,p=0,v=0;for(v=0;v<256;v++)v<128?h[v]=v<<1:h[v]=v<<1^283;for(v=0;v<256;v++){let y=p^p<<1^p<<2^p<<3^p<<4;y=y>>>8^y&255^99,e[m]=y,n[y]=m;const E=h[m],S=h[E],I=h[S];let w=h[y]*257^y*16843008;r[m]=w<<24|w>>>8,s[m]=w<<16|w>>>16,a[m]=w<<8|w>>>24,o[m]=w,w=I*16843009^S*65537^E*257^m*16843008,c[y]=w<<24|w>>>8,u[y]=w<<16|w>>>16,d[y]=w<<8|w>>>24,f[y]=w,m?(m=E^h[h[h[I^E]]],p^=h[h[p]]):m=p=1}}expandKey(e){const n=this.uint8ArrayToUint32Array_(e);let i=!0,r=0;for(;r<n.length&&i;)i=n[r]===this.key[r],r++;if(i)return;this.key=n;const s=this.keySize=n.length;if(s!==4&&s!==6&&s!==8)throw new Error("Invalid aes key size="+s);const a=this.ksRows=(s+6+1)*4;let o,l;const c=this.keySchedule=new Uint32Array(a),u=this.invKeySchedule=new Uint32Array(a),d=this.sBox,f=this.rcon,h=this.invSubMix,m=h[0],p=h[1],v=h[2],y=h[3];let E,S;for(o=0;o<a;o++){if(o<s){E=c[o]=n[o];continue}S=E,o%s===0?(S=S<<8|S>>>24,S=d[S>>>24]<<24|d[S>>>16&255]<<16|d[S>>>8&255]<<8|d[S&255],S^=f[o/s|0]<<24):s>6&&o%s===4&&(S=d[S>>>24]<<24|d[S>>>16&255]<<16|d[S>>>8&255]<<8|d[S&255]),c[o]=E=(c[o-s]^S)>>>0}for(l=0;l<a;l++)o=a-l,l&3?S=c[o]:S=c[o-4],l<4||o<=4?u[l]=S:u[l]=m[d[S>>>24]]^p[d[S>>>16&255]]^v[d[S>>>8&255]]^y[d[S&255]],u[l]=u[l]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,n,i){const r=this.keySize+6,s=this.invKeySchedule,a=this.invSBox,o=this.invSubMix,l=o[0],c=o[1],u=o[2],d=o[3],f=this.uint8ArrayToUint32Array_(i);let h=f[0],m=f[1],p=f[2],v=f[3];const y=new Int32Array(e),E=new Int32Array(y.length);let S,I,w,N,F,W,Z,O,K,fe,z,pe,de,be;const _e=this.networkToHostOrderSwap;for(;n<y.length;){for(K=_e(y[n]),fe=_e(y[n+1]),z=_e(y[n+2]),pe=_e(y[n+3]),F=K^s[0],W=pe^s[1],Z=z^s[2],O=fe^s[3],de=4,be=1;be<r;be++)S=l[F>>>24]^c[W>>16&255]^u[Z>>8&255]^d[O&255]^s[de],I=l[W>>>24]^c[Z>>16&255]^u[O>>8&255]^d[F&255]^s[de+1],w=l[Z>>>24]^c[O>>16&255]^u[F>>8&255]^d[W&255]^s[de+2],N=l[O>>>24]^c[F>>16&255]^u[W>>8&255]^d[Z&255]^s[de+3],F=S,W=I,Z=w,O=N,de=de+4;S=a[F>>>24]<<24^a[W>>16&255]<<16^a[Z>>8&255]<<8^a[O&255]^s[de],I=a[W>>>24]<<24^a[Z>>16&255]<<16^a[O>>8&255]<<8^a[F&255]^s[de+1],w=a[Z>>>24]<<24^a[O>>16&255]<<16^a[F>>8&255]<<8^a[W&255]^s[de+2],N=a[O>>>24]<<24^a[F>>16&255]<<16^a[W>>8&255]<<8^a[Z&255]^s[de+3],E[n]=_e(S^h),E[n+1]=_e(N^m),E[n+2]=_e(w^p),E[n+3]=_e(I^v),h=K,m=fe,p=z,v=pe,n=n+4}return E.buffer}}const lNe=16;class bR{constructor(e,{removePKCS7Padding:n=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=n,n)try{const i=self.crypto;i&&(this.subtle=i.subtle||i.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:n}=this;if(!e||n)return this.reset(),null;const i=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?aNe(i):i}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,n,i){return this.useSoftware?new Promise((r,s)=>{this.softwareDecrypt(new Uint8Array(e),n,i);const a=this.flush();a?r(a.buffer):s(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),n,i)}softwareDecrypt(e,n,i){const{currentIV:r,currentResult:s,remainderData:a}=this;this.logOnce("JS AES decrypt"),a&&(e=Pr(a,e),this.remainderData=null);const o=this.getValidChunk(e);if(!o.length)return null;r&&(i=r);let l=this.softwareDecrypter;l||(l=this.softwareDecrypter=new oNe),l.expandKey(n);const c=s;return this.currentResult=l.decrypt(o.buffer,0,i),this.currentIV=tc(o,-16).buffer,c||null}webCryptoDecrypt(e,n,i){if(this.key!==n||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,n,i));this.key=n,this.fastAesKey=new sNe(this.subtle,n)}return this.fastAesKey.expandKey().then(r=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new rNe(this.subtle,new Uint8Array(i)).decrypt(e.buffer,r)):Promise.reject(new Error("web crypto not initialized"))).catch(r=>(se.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${r.name}: ${r.message}`),this.onWebCryptoError(e,n,i)))}onWebCryptoError(e,n,i){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,n,i);const r=this.flush();if(r)return r.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let n=e;const i=e.length-e.length%lNe;return i!==e.length&&(n=tc(e,0,i),this.remainderData=tc(e,i)),n}logOnce(e){this.logEnabled&&(se.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const cNe={toString:function(t){let e="";const n=t.length;for(let i=0;i<n;i++)e+=`[${t.start(i).toFixed(3)}-${t.end(i).toFixed(3)}]`;return e}},xe={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class vR extends JVe{constructor(e,n,i,r,s){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=xe.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=s,this.logPrefix=r,this.log=se.log.bind(se,`${r}:`),this.warn=se.warn.bind(se,`${r}:`),this.hls=e,this.fragmentLoader=new iNe(e.config),this.keyLoader=i,this.fragmentTracker=n,this.config=e.config,this.decrypter=new bR(e.config),e.on(B.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=xe.STOPPED}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}_streamEnded(e,n){if(n.live||e.nextStart||!e.end||!this.media)return!1;const i=n.partList;if(i!=null&&i.length){const s=i[i.length-1];return Pt.isBuffered(this.media,s.start+s.duration/2)}const r=n.fragments[n.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(r)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levelLastLoaded)==null?void 0:e.details}}onMediaAttached(e,n){const i=this.media=this.mediaBuffer=n.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),i.addEventListener("seeking",this.onvseeking),i.addEventListener("ended",this.onvended);const r=this.config;this.levels&&r.autoStartLoad&&this.state===xe.STOPPED&&this.startLoad(r.startPosition)}onMediaDetaching(){const e=this.media;e!=null&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:e,fragCurrent:n,media:i,mediaBuffer:r,state:s}=this,a=i?i.currentTime:0,o=Pt.bufferInfo(r||i,a,e.maxBufferHole);if(this.log(`media seeking to ${Me(a)?a.toFixed(3):a}, state: ${s}`),this.state===xe.ENDED)this.resetLoadingState();else if(n){const l=e.maxFragLookUpTolerance,c=n.start-l,u=n.start+n.duration+l;if(!o.len||u<o.start||c>o.end){const d=a>u;(a<c||d)&&(d&&n.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),n.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}i&&(this.fragmentTracker.removeFragmentsInRange(a,1/0,this.playlistType,!0),this.lastCurrentTime=a),!this.loadedmetadata&&!o.len&&(this.nextLoadPosition=this.startPosition=a),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,n){this.startTimeOffset=n.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off(B.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=xe.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,n,i){this._loadFragForPlayback(e,n,i)}_loadFragForPlayback(e,n,i){const r=s=>{if(this.fragContextChanged(e)){this.warn(`Fragment ${e.sn}${s.part?" p: "+s.part.index:""} of level ${e.level} was dropped during download.`),this.fragmentTracker.removeFragment(e);return}e.stats.chunkCount++,this._handleFragmentLoadProgress(s)};this._doFragLoad(e,n,i,r).then(s=>{if(!s)return;const a=this.state;if(this.fragContextChanged(e)){(a===xe.FRAG_LOADING||!this.fragCurrent&&a===xe.PARSING)&&(this.fragmentTracker.removeFragment(e),this.state=xe.IDLE);return}"payload"in s&&(this.log(`Loaded fragment ${e.sn} of level ${e.level}`),this.hls.trigger(B.FRAG_LOADED,s)),this._handleFragmentLoadComplete(s)}).catch(s=>{this.state===xe.STOPPED||this.state===xe.ERROR||(this.warn(`Frag error: ${(s==null?void 0:s.message)||s}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var n;const{fragmentTracker:i}=this;if(i.getState(e)===Jn.APPENDING){const s=e.type,a=this.getFwdBufferInfo(this.mediaBuffer,s),o=Math.max(e.duration,a?a.len:this.config.maxBufferLength),l=this.backtrackFragment;((l?e.sn-l.sn:0)===1||this.reduceMaxBufferLength(o,e.duration))&&i.removeFragment(e)}else((n=this.mediaBuffer)==null?void 0:n.buffered.length)===0?i.removeAllFragments():i.hasParts(e.type)&&(i.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),i.getState(e)===Jn.PARTIAL&&i.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const n=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:n,part:null,stats:n.stats,id:n.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}flushMainBuffer(e,n,i=null){if(!(e-n))return;const r={startOffset:e,endOffset:n,type:i};this.hls.trigger(B.BUFFER_FLUSHING,r)}_loadInitSegment(e,n){this._doFragLoad(e,n).then(i=>{if(!i||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return i}).then(i=>{const{hls:r}=this,{payload:s}=i,a=e.decryptdata;if(s&&s.byteLength>0&&a!=null&&a.key&&a.iv&&a.method==="AES-128"){const o=self.performance.now();return this.decrypter.decrypt(new Uint8Array(s),a.key.buffer,a.iv.buffer).catch(l=>{throw r.trigger(B.ERROR,{type:tt.MEDIA_ERROR,details:Ee.FRAG_DECRYPT_ERROR,fatal:!1,error:l,reason:l.message,frag:e}),l}).then(l=>{const c=self.performance.now();return r.trigger(B.FRAG_DECRYPTED,{frag:e,payload:l,stats:{tstart:o,tdecrypt:c}}),i.payload=l,this.completeInitSegmentLoad(i)})}return this.completeInitSegmentLoad(i)}).catch(i=>{this.state===xe.STOPPED||this.state===xe.ERROR||(this.warn(i),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:n}=this;if(!n)throw new Error("init load aborted, missing levels");const i=e.frag.stats;this.state=xe.IDLE,e.frag.data=new Uint8Array(e.payload),i.parsing.start=i.buffering.start=self.performance.now(),i.parsing.end=i.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:n}=this;return!e||!n||e.sn!==n.sn||e.level!==n.level}fragBufferedComplete(e,n){var i,r,s,a;const o=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${n?" part: "+n.index:""} of ${this.playlistType===He.MAIN?"level":"track"} ${e.level} (frag:[${((i=e.startPTS)!=null?i:NaN).toFixed(3)}-${((r=e.endPTS)!=null?r:NaN).toFixed(3)}] > buffer:${o?cNe.toString(Pt.getBuffered(o)):"(detached)"})`),e.sn!=="initSegment"){var l;if(e.type!==He.SUBTITLE){const u=e.elementaryStreams;if(!Object.keys(u).some(d=>!!u[d])){this.state=xe.IDLE;return}}const c=(l=this.levels)==null?void 0:l[e.level];c!=null&&c.fragmentError&&(this.log(`Resetting level fragment error count of ${c.fragmentError} on frag buffered`),c.fragmentError=0)}this.state=xe.IDLE,o&&(!this.loadedmetadata&&e.type==He.MAIN&&o.buffered.length&&((s=this.fragCurrent)==null?void 0:s.sn)===((a=this.fragPrevious)==null?void 0:a.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){const{transmuxer:n}=this;if(!n)return;const{frag:i,part:r,partsLoaded:s}=e,a=!s||s.length===0||s.some(l=>!l),o=new yR(i.level,i.sn,i.stats.chunkCount+1,0,r?r.index:-1,!a);n.flush(o)}_handleFragmentLoadProgress(e){}_doFragLoad(e,n,i=null,r){var s;const a=n==null?void 0:n.details;if(!this.levels||!a)throw new Error(`frag load aborted, missing level${a?"":" detail"}s`);let o=null;if(e.encrypted&&!((s=e.decryptdata)!=null&&s.key)?(this.log(`Loading key for ${e.sn} of [${a.startSN}-${a.endSN}], ${this.logPrefix==="[stream-controller]"?"level":"track"} ${e.level}`),this.state=xe.KEY_LOADING,this.fragCurrent=e,o=this.keyLoader.load(e).then(u=>{if(!this.fragContextChanged(u.frag))return this.hls.trigger(B.KEY_LOADED,u),this.state===xe.KEY_LOADING&&(this.state=xe.IDLE),u}),this.hls.trigger(B.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(o=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&a.encryptedFragments.length&&this.keyLoader.loadClear(e,a.encryptedFragments),i=Math.max(e.start,i||0),this.config.lowLatencyMode&&e.sn!=="initSegment"){const u=a.partList;if(u&&r){i>e.end&&a.fragmentHint&&(e=a.fragmentHint);const d=this.getNextPart(u,e,i);if(d>-1){const f=u[d];this.log(`Loading part sn: ${e.sn} p: ${f.index} cc: ${e.cc} of playlist [${a.startSN}-${a.endSN}] parts [0-${d}-${u.length-1}] ${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(i.toFixed(3))}`),this.nextLoadPosition=f.start+f.duration,this.state=xe.FRAG_LOADING;let h;return o?h=o.then(m=>!m||this.fragContextChanged(m.frag)?null:this.doFragPartsLoad(e,f,n,r)).catch(m=>this.handleFragLoadError(m)):h=this.doFragPartsLoad(e,f,n,r).catch(m=>this.handleFragLoadError(m)),this.hls.trigger(B.FRAG_LOADING,{frag:e,part:f,targetBufferTime:i}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):h}else if(!e.url||this.loadedEndOfParts(u,i))return Promise.resolve(null)}}this.log(`Loading fragment ${e.sn} cc: ${e.cc} ${a?"of ["+a.startSN+"-"+a.endSN+"] ":""}${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(i.toFixed(3))}`),Me(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=xe.FRAG_LOADING;const l=this.config.progressive;let c;return l&&o?c=o.then(u=>!u||this.fragContextChanged(u==null?void 0:u.frag)?null:this.fragmentLoader.load(e,r)).catch(u=>this.handleFragLoadError(u)):c=Promise.all([this.fragmentLoader.load(e,l?r:void 0),o]).then(([u])=>(!l&&u&&r&&r(u),u)).catch(u=>this.handleFragLoadError(u)),this.hls.trigger(B.FRAG_LOADING,{frag:e,targetBufferTime:i}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):c}doFragPartsLoad(e,n,i,r){return new Promise((s,a)=>{var o;const l=[],c=(o=i.details)==null?void 0:o.partList,u=d=>{this.fragmentLoader.loadPart(e,d,r).then(f=>{l[d.index]=f;const h=f.part;this.hls.trigger(B.FRAG_LOADED,f);const m=KF(i,e.sn,d.index+1)||GY(c,e.sn,d.index+1);if(m)u(m);else return s({frag:e,part:h,partsLoaded:l})}).catch(a)};u(n)})}handleFragLoadError(e){if("data"in e){const n=e.data;e.data&&n.details===Ee.INTERNAL_ABORTED?this.handleFragLoadAborted(n.frag,n.part):this.hls.trigger(B.ERROR,n)}else this.hls.trigger(B.ERROR,{type:tt.OTHER_ERROR,details:Ee.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const n=this.getCurrentContext(e);if(!n||this.state!==xe.PARSING){!this.fragCurrent&&this.state!==xe.STOPPED&&this.state!==xe.ERROR&&(this.state=xe.IDLE);return}const{frag:i,part:r,level:s}=n,a=self.performance.now();i.stats.parsing.end=a,r&&(r.stats.parsing.end=a),this.updateLevelTiming(i,r,s,e.partial)}getCurrentContext(e){const{levels:n,fragCurrent:i}=this,{level:r,sn:s,part:a}=e;if(!(n!=null&&n[r]))return this.warn(`Levels object was unset while buffering fragment ${s} of level ${r}. The current chunk will not be buffered.`),null;const o=n[r],l=a>-1?KF(o,s,a):null,c=l?l.fragment:_Ve(o,s,i);return c?(i&&i!==c&&(c.stats=i.stats),{frag:c,part:l,level:o}):null}bufferFragmentData(e,n,i,r,s){var a;if(!e||this.state!==xe.PARSING)return;const{data1:o,data2:l}=e;let c=o;if(o&&l&&(c=Pr(o,l)),!((a=c)!=null&&a.length))return;const u={type:e.type,frag:n,part:i,chunkMeta:r,parent:n.type,data:c};if(this.hls.trigger(B.BUFFER_APPENDING,u),e.dropped&&e.independent&&!i){if(s)return;this.flushBufferGap(n)}}flushBufferGap(e){const n=this.media;if(!n)return;if(!Pt.isBuffered(n,n.currentTime)){this.flushMainBuffer(0,e.start);return}const i=n.currentTime,r=Pt.bufferInfo(n,i,0),s=e.duration,a=Math.min(this.config.maxFragLookUpTolerance*2,s*.25),o=Math.max(Math.min(e.start-a,r.end-a),i+a);e.start-o>a&&this.flushMainBuffer(o,e.start)}getFwdBufferInfo(e,n){const i=this.getLoadPosition();return Me(i)?this.getFwdBufferInfoAtPos(e,i,n):null}getFwdBufferInfoAtPos(e,n,i){const{config:{maxBufferHole:r}}=this,s=Pt.bufferInfo(e,n,r);if(s.len===0&&s.nextStart!==void 0){const a=this.fragmentTracker.getBufferedFrag(n,i);if(a&&s.nextStart<a.end)return Pt.bufferInfo(e,n,Math.max(s.nextStart,r))}return s}getMaxBufferLength(e){const{config:n}=this;let i;return e?i=Math.max(8*n.maxBufferSize/e,n.maxBufferLength):i=n.maxBufferLength,Math.min(i,n.maxMaxBufferLength)}reduceMaxBufferLength(e,n){const i=this.config,r=Math.max(Math.min(e-n,i.maxBufferLength),n),s=Math.max(e-n*3,i.maxMaxBufferLength/2,r);return s>=r?(i.maxMaxBufferLength=s,this.warn(`Reduce max buffer length to ${s}s`),!0):!1}getAppendedFrag(e,n=He.MAIN){const i=this.fragmentTracker.getAppendedFrag(e,He.MAIN);return i&&"fragment"in i?i.fragment:i}getNextFragment(e,n){const i=n.fragments,r=i.length;if(!r)return null;const{config:s}=this,a=i[0].start;let o;if(n.live){const l=s.initialLiveManifestSize;if(r<l)return this.warn(`Not enough fragments to start playback (have: ${r}, need: ${l})`),null;(!n.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<a)&&(o=this.getInitialLiveFragment(n,i),this.startPosition=this.nextLoadPosition=o?this.hls.liveSyncPosition||o.start:e)}else e<=a&&(o=i[0]);if(!o){const l=s.lowLatencyMode?n.partEnd:n.fragmentEnd;o=this.getFragmentAtPosition(e,l,n)}return this.mapToInitFragWhenRequired(o)}isLoopLoading(e,n){const i=this.fragmentTracker.getState(e);return(i===Jn.OK||i===Jn.PARTIAL&&!!e.gap)&&this.nextLoadPosition>n}getNextFragmentLoopLoading(e,n,i,r,s){const a=e.gap,o=this.getNextFragment(this.nextLoadPosition,n);if(o===null)return o;if(e=o,a&&e&&!e.gap&&i.nextStart){const l=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,i.nextStart,r);if(l!==null&&i.len+l.len>=s)return this.log(`buffer full after gaps in "${r}" playlist starting at sn: ${e.sn}`),null}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,n,i){let r=-1,s=!1,a=!0;for(let o=0,l=e.length;o<l;o++){const c=e[o];if(a=a&&!c.independent,r>-1&&i<c.start)break;const u=c.loaded;u?r=-1:(s||c.independent||a)&&c.fragment===n&&(r=o),s=u}return r}loadedEndOfParts(e,n){const i=e[e.length-1];return i&&n>i.start&&i.loaded}getInitialLiveFragment(e,n){const i=this.fragPrevious;let r=null;if(i){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${i.programDateTime}`),r=FVe(n,i.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){const s=i.sn+1;if(s>=e.startSN&&s<=e.endSN){const a=n[s-e.startSN];i.cc===a.cc&&(r=a,this.log(`Live playlist, switching playlist, load frag with next SN: ${r.sn}`))}r||(r=BVe(n,i.cc),r&&this.log(`Live playlist, switching playlist, load frag with same CC: ${r.sn}`))}}else{const s=this.hls.liveSyncPosition;s!==null&&(r=this.getFragmentAtPosition(s,this.bitrateTest?e.fragmentEnd:e.edge,e))}return r}getFragmentAtPosition(e,n,i){const{config:r}=this;let{fragPrevious:s}=this,{fragments:a,endSN:o}=i;const{fragmentHint:l}=i,{maxFragLookUpTolerance:c}=r,u=i.partList,d=!!(r.lowLatencyMode&&u!=null&&u.length&&l);d&&l&&!this.bitrateTest&&(a=a.concat(l),o=l.sn);let f;if(e<n){const h=e>n-c?0:c;f=u2(s,a,e,h)}else f=a[a.length-1];if(f){const h=f.sn-i.startSN,m=this.fragmentTracker.getState(f);if((m===Jn.OK||m===Jn.PARTIAL&&f.gap)&&(s=f),s&&f.sn===s.sn&&(!d||u[0].fragment.sn>f.sn)&&s&&f.level===s.level){const v=a[h+1];f.sn<o&&this.fragmentTracker.getState(v)!==Jn.OK?f=v:f=null}}return f}synchronizeToLiveEdge(e){const{config:n,media:i}=this;if(!i)return;const r=this.hls.liveSyncPosition,s=i.currentTime,a=e.fragments[0].start,o=e.edge,l=s>=a-n.maxFragLookUpTolerance&&s<=o;if(r!==null&&i.duration>r&&(s<r||!l)){const c=n.liveMaxLatencyDuration!==void 0?n.liveMaxLatencyDuration:n.liveMaxLatencyDurationCount*e.targetduration;(!l&&i.readyState<4||s<o-c)&&(this.loadedmetadata||(this.nextLoadPosition=r),i.readyState&&(this.warn(`Playback: ${s.toFixed(3)} is located too far from the end of live sliding playlist: ${o}, reset currentTime to : ${r.toFixed(3)}`),i.currentTime=r))}}alignPlaylists(e,n,i){const r=e.fragments.length;if(!r)return this.warn("No fragments in live playlist"),0;const s=e.fragments[0].start,a=!n,o=e.alignedSliding&&Me(s);if(a||!o&&!s){const{fragPrevious:l}=this;tNe(l,i,e);const c=e.fragments[0].start;return this.log(`Live playlist sliding: ${c.toFixed(2)} start-sn: ${n?n.startSN:"na"}->${e.startSN} prev-sn: ${l?l.sn:"na"} fragments: ${r}`),c}return s}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,n){let i=this.startPosition;if(i<n&&(i=-1),i===-1||this.lastCurrentTime===-1){const r=this.startTimeOffset!==null,s=r?this.startTimeOffset:e.startTimeOffset;s!==null&&Me(s)?(i=n+s,s<0&&(i+=e.totalduration),i=Math.min(Math.max(n,i),n+e.totalduration),this.log(`Start time offset ${s} found in ${r?"multivariant":"media"} playlist, adjust startPosition to ${i}`),this.startPosition=i):e.live?i=this.hls.liveSyncPosition||n:this.startPosition=i=0,this.lastCurrentTime=i}this.nextLoadPosition=i}getLoadPosition(){const{media:e}=this;let n=0;return this.loadedmetadata&&e?n=e.currentTime:this.nextLoadPosition&&(n=this.nextLoadPosition),n}handleFragLoadAborted(e,n){this.transmuxer&&e.sn!=="initSegment"&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${n?" part "+n.index:""} of level ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==xe.FRAG_LOADING_WAITING_RETRY)&&(this.state=xe.IDLE)}onFragmentOrKeyLoadError(e,n){if(n.chunkMeta&&!n.frag){const u=this.getCurrentContext(n.chunkMeta);u&&(n.frag=u.frag)}const i=n.frag;if(!i||i.type!==e||!this.levels)return;if(this.fragContextChanged(i)){var r;this.warn(`Frag load error must match current frag to retry ${i.url} > ${(r=this.fragCurrent)==null?void 0:r.url}`);return}const s=n.details===Ee.FRAG_GAP;s&&this.fragmentTracker.fragBuffered(i,!0);const a=n.errorAction,{action:o,retryCount:l=0,retryConfig:c}=a||{};if(a&&o===ai.RetryRequest&&c){this.resetStartWhenNotLoaded(this.levelLastLoaded);const u=mR(c,l);this.warn(`Fragment ${i.sn} of ${e} ${i.level} errored with ${n.details}, retrying loading ${l+1}/${c.maxNumRetry} in ${u}ms`),a.resolved=!0,this.retryDate=self.performance.now()+u,this.state=xe.FRAG_LOADING_WAITING_RETRY}else if(c&&a)if(this.resetFragmentErrors(e),l<c.maxNumRetry)!s&&o!==ai.RemoveAlternatePermanently&&(a.resolved=!0);else{se.warn(`${n.details} reached or exceeded max retry (${l})`);return}else(a==null?void 0:a.action)===ai.SendAlternateToPenaltyBox?this.state=xe.WAITING_LEVEL:this.state=xe.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===xe.PARSING||this.state===xe.PARSED){const n=e.frag,i=e.parent,r=this.getFwdBufferInfo(this.mediaBuffer,i),s=r&&r.len>.5;s&&this.reduceMaxBufferLength(r.len,(n==null?void 0:n.duration)||10);const a=!s;return a&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${i} buffer`),n&&(this.fragmentTracker.removeFragment(n),this.nextLoadPosition=n.start),this.resetLoadingState(),a}return!1}resetFragmentErrors(e){e===He.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==xe.STOPPED&&(this.state=xe.IDLE)}afterBufferFlushed(e,n,i){if(!e)return;const r=Pt.getBuffered(e);this.fragmentTracker.detectEvictedFragments(n,r,i),this.state===xe.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=xe.IDLE}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;const n=e?e.details:null;n!=null&&n.live?(this.startPosition=-1,this.setStartPosition(n,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,n,i,r){var s;const a=i.details;if(!a){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((l,c)=>{const u=e.elementaryStreams[c];if(u){const d=u.endPTS-u.startPTS;if(d<=0)return this.warn(`Could not parse fragment ${e.sn} ${c} duration reliably (${d})`),l||!1;const f=r?0:BY(a,e,u.startPTS,u.endPTS,u.startDTS,u.endDTS);return this.hls.trigger(B.LEVEL_PTS_UPDATED,{details:a,level:i,drift:f,type:c,frag:e,start:u.startPTS,end:u.endPTS}),!0}return l},!1)&&((s=this.transmuxer)==null?void 0:s.error)===null){const l=new Error(`Found no media in fragment ${e.sn} of level ${e.level} resetting transmuxer to fallback to playlist timing`);if(i.fragmentError===0&&(i.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(l.message),this.hls.trigger(B.ERROR,{type:tt.MEDIA_ERROR,details:Ee.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:e,reason:`Found no media in msn ${e.sn} of level "${i.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=xe.PARSED,this.hls.trigger(B.FRAG_PARSED,{frag:e,part:n})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const n=this._state;n!==e&&(this._state=e,this.log(`${n}->${e}`))}get state(){return this._state}}class MY{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:n}=this;let i;if(e.length)e.length===1?i=e[0]:i=uNe(e,n);else return new Uint8Array(0);return this.reset(),i}reset(){this.chunks.length=0,this.dataLength=0}}function uNe(t,e){const n=new Uint8Array(e);let i=0;for(let r=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function dNe(){return typeof __HLS_WORKER_BUNDLE__=="function"}function hNe(){const t=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(t);return{worker:new self.Worker(e),objectURL:e}}function fNe(t){const e=new self.URL(t,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}function Os(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class ER{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,n,i,r){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,n){return!1}appendFrame(e,n,i){}demux(e,n){this.cachedData&&(e=Pr(this.cachedData,e),this.cachedData=null);let i=gp(e,0),r=i?i.length:0,s;const a=this._audioTrack,o=this._id3Track,l=i?pR(i):void 0,c=e.length;for((this.basePTS===null||this.frameIndex===0&&Me(l))&&(this.basePTS=pNe(l,n,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),i&&i.length>0&&o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:cs.audioId3,duration:Number.POSITIVE_INFINITY});r<c;){if(this.canParse(e,r)){const u=this.appendFrame(a,e,r);u?(this.frameIndex++,this.lastPTS=u.sample.pts,r+=u.length,s=r):r=c}else Uxe(e,r)?(i=gp(e,r),o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:i,type:cs.audioId3,duration:Number.POSITIVE_INFINITY}),r+=i.length,s=r):r++;if(r===c&&s!==c){const u=tc(e,s);this.cachedData?this.cachedData=Pr(this.cachedData,u):this.cachedData=u}}return{audioTrack:a,videoTrack:Os(),id3Track:o,textTrack:Os()}}demuxSampleAes(e,n,i){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const n=this.cachedData;return n&&(this.cachedData=null,this.demux(n,0)),{audioTrack:this._audioTrack,videoTrack:Os(),id3Track:this._id3Track,textTrack:Os()}}destroy(){}}const pNe=(t,e,n)=>{if(Me(t))return t*90;const i=n?n.baseTime*9e4/n.timescale:0;return e*9e4+i};function mNe(t,e,n,i){let r,s,a,o;const l=navigator.userAgent.toLowerCase(),c=i,u=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];r=((e[n+2]&192)>>>6)+1;const d=(e[n+2]&60)>>>2;if(d>u.length-1){const f=new Error(`invalid ADTS sampling index:${d}`);t.emit(B.ERROR,B.ERROR,{type:tt.MEDIA_ERROR,details:Ee.FRAG_PARSING_ERROR,fatal:!0,error:f,reason:f.message});return}return a=(e[n+2]&1)<<2,a|=(e[n+3]&192)>>>6,se.log(`manifest codec:${i}, ADTS type:${r}, samplingIndex:${d}`),/firefox/i.test(l)?d>=6?(r=5,o=new Array(4),s=d-3):(r=2,o=new Array(2),s=d):l.indexOf("android")!==-1?(r=2,o=new Array(2),s=d):(r=5,o=new Array(4),i&&(i.indexOf("mp4a.40.29")!==-1||i.indexOf("mp4a.40.5")!==-1)||!i&&d>=6?s=d-3:((i&&i.indexOf("mp4a.40.2")!==-1&&(d>=6&&a===1||/vivaldi/i.test(l))||!i&&a===1)&&(r=2,o=new Array(2)),s=d)),o[0]=r<<3,o[0]|=(d&14)>>1,o[1]|=(d&1)<<7,o[1]|=a<<3,r===5&&(o[1]|=(s&14)>>1,o[2]=(s&1)<<7,o[2]|=8,o[3]=0),{config:o,samplerate:u[d],channelCount:a,codec:"mp4a.40."+r,manifestCodec:c}}function PY(t,e){return t[e]===255&&(t[e+1]&246)===240}function YY(t,e){return t[e+1]&1?7:9}function AR(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function gNe(t,e){return e+5<t.length}function h2(t,e){return e+1<t.length&&PY(t,e)}function yNe(t,e){return gNe(t,e)&&PY(t,e)&&AR(t,e)<=t.length-e}function bNe(t,e){if(h2(t,e)){const n=YY(t,e);if(e+n>=t.length)return!1;const i=AR(t,e);if(i<=n)return!1;const r=e+i;return r===t.length||h2(t,r)}return!1}function $Y(t,e,n,i,r){if(!t.samplerate){const s=mNe(e,n,i,r);if(!s)return;t.config=s.config,t.samplerate=s.samplerate,t.channelCount=s.channelCount,t.codec=s.codec,t.manifestCodec=s.manifestCodec,se.log(`parsed codec:${t.codec}, rate:${s.samplerate}, channels:${s.channelCount}`)}}function jY(t){return 1024*9e4/t}function vNe(t,e){const n=YY(t,e);if(e+n<=t.length){const i=AR(t,e)-n;if(i>0)return{headerLength:n,frameLength:i}}}function KY(t,e,n,i,r){const s=jY(t.samplerate),a=i+r*s,o=vNe(e,n);let l;if(o){const{frameLength:d,headerLength:f}=o,h=f+d,m=Math.max(0,n+h-e.length);m?(l=new Uint8Array(h-f),l.set(e.subarray(n+f,e.length),0)):l=e.subarray(n+f,n+h);const p={unit:l,pts:a};return m||t.samples.push(p),{sample:p,length:h,missing:m}}const c=e.length-n;return l=new Uint8Array(c),l.set(e.subarray(n,e.length),0),{sample:{unit:l,pts:a},length:c,missing:-1}}let x1=null;const ENe=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],ANe=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],SNe=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],TNe=[0,1,1,4];function zY(t,e,n,i,r){if(n+24>e.length)return;const s=JY(e,n);if(s&&n+s.frameLength<=e.length){const a=s.samplesPerFrame*9e4/s.sampleRate,o=i+r*a,l={unit:e.subarray(n,n+s.frameLength),pts:o,dts:o};return t.config=[],t.channelCount=s.channelCount,t.samplerate=s.sampleRate,t.samples.push(l),{sample:l,length:s.frameLength,missing:0}}}function JY(t,e){const n=t[e+1]>>3&3,i=t[e+1]>>1&3,r=t[e+2]>>4&15,s=t[e+2]>>2&3;if(n!==1&&r!==0&&r!==15&&s!==3){const a=t[e+2]>>1&1,o=t[e+3]>>6,l=n===3?3-i:i===3?3:4,c=ENe[l*14+r-1]*1e3,d=ANe[(n===3?0:n===2?1:2)*3+s],f=o===3?1:2,h=SNe[n][i],m=TNe[i],p=h*8*m,v=Math.floor(h*c/d+a)*m;if(x1===null){const S=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);x1=S?parseInt(S[1]):0}return!!x1&&x1<=87&&i===2&&c>=224e3&&o===0&&(t[e+3]=t[e+3]|128),{sampleRate:d,channelCount:f,frameLength:v,samplesPerFrame:p}}}function SR(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function HY(t,e){return e+1<t.length&&SR(t,e)}function RNe(t,e){return SR(t,e)&&4<=t.length-e}function QY(t,e){if(e+1<t.length&&SR(t,e)){const i=JY(t,e);let r=4;i!=null&&i.frameLength&&(r=i.frameLength);const s=e+r;return s===t.length||HY(t,s)}return!1}class CNe extends ER{constructor(e,n){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=n}resetInitSegment(e,n,i,r){super.resetInitSegment(e,n,i,r),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:n,duration:r,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const n=gp(e,0);let i=(n==null?void 0:n.length)||0;if(QY(e,i))return!1;for(let r=e.length;i<r;i++)if(bNe(e,i))return se.log("ADTS sync word found !"),!0;return!1}canParse(e,n){return yNe(e,n)}appendFrame(e,n,i){$Y(e,this.observer,n,i,e.manifestCodec);const r=KY(e,n,i,this.basePTS,this.frameIndex);if(r&&r.missing===0)return r}}const INe=/\/emsg[-/]ID3/i;class wNe{constructor(e,n){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=n}resetTimeStamp(){}resetInitSegment(e,n,i,r){const s=this.videoTrack=Os("video",1),a=this.audioTrack=Os("audio",1),o=this.txtTrack=Os("text",1);if(this.id3Track=Os("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const l=xY(e);if(l.video){const{id:c,timescale:u,codec:d}=l.video;s.id=c,s.timescale=o.timescale=u,s.codec=d}if(l.audio){const{id:c,timescale:u,codec:d}=l.audio;a.id=c,a.timescale=u,a.codec=d}o.id=CY.text,s.sampleDuration=0,s.duration=a.duration=r}resetContiguity(){this.remainderData=null}static probe(e){return Pxe(e)}demux(e,n){this.timeOffset=n;let i=e;const r=this.videoTrack,s=this.txtTrack;if(this.config.progressive){this.remainderData&&(i=Pr(this.remainderData,e));const o=Qxe(i);this.remainderData=o.remainder,r.samples=o.valid||new Uint8Array}else r.samples=i;const a=this.extractID3Track(r,n);return s.samples=VF(n,r),{videoTrack:r,audioTrack:this.audioTrack,id3Track:a,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,n=this.videoTrack,i=this.txtTrack;n.samples=this.remainderData||new Uint8Array,this.remainderData=null;const r=this.extractID3Track(n,this.timeOffset);return i.samples=VF(e,n),{videoTrack:n,audioTrack:Os(),id3Track:r,textTrack:Os()}}extractID3Track(e,n){const i=this.id3Track;if(e.samples.length){const r=at(e.samples,["emsg"]);r&&r.forEach(s=>{const a=tVe(s);if(INe.test(a.schemeIdUri)){const o=Me(a.presentationTime)?a.presentationTime/a.timeScale:n+a.presentationTimeDelta/a.timeScale;let l=a.eventDuration===4294967295?Number.POSITIVE_INFINITY:a.eventDuration/a.timeScale;l<=.001&&(l=Number.POSITIVE_INFINITY);const c=a.payload;i.samples.push({data:c,len:c.byteLength,dts:o,pts:o,type:cs.emsg,duration:l})}})}return i}demuxSampleAes(e,n,i){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}}const qY=(t,e)=>{let n=0,i=5;e+=i;const r=new Uint32Array(1),s=new Uint32Array(1),a=new Uint8Array(1);for(;i>0;){a[0]=t[e];const o=Math.min(i,8),l=8-o;s[0]=4278190080>>>24+l<<l,r[0]=(a[0]&s[0])>>l,n=n?n<<o|r[0]:r[0],e+=1,i-=o}return n};class xNe extends ER{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,n,i,r){super.resetInitSegment(e,n,i,r),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:n,duration:r,inputTimeScale:9e4,dropped:0}}canParse(e,n){return n+64<e.length}appendFrame(e,n,i){const r=e$(e,n,i,this.basePTS,this.frameIndex);if(r!==-1)return{sample:e.samples[e.samples.length-1],length:r,missing:0}}static probe(e){if(!e)return!1;const n=gp(e,0);if(!n)return!1;const i=n.length;return e[i]===11&&e[i+1]===119&&pR(n)!==void 0&&qY(e,i)<16}}function e$(t,e,n,i,r){if(n+8>e.length||e[n]!==11||e[n+1]!==119)return-1;const s=e[n+4]>>6;if(s>=3)return-1;const o=[48e3,44100,32e3][s],l=e[n+4]&63,u=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][l*3+s]*2;if(n+u>e.length)return-1;const d=e[n+6]>>5;let f=0;d===2?f+=2:(d&1&&d!==1&&(f+=2),d&4&&(f+=2));const h=(e[n+6]<<8|e[n+7])>>12-f&1,p=[2,1,2,3,3,4,4,5][d]+h,v=e[n+5]>>3,y=e[n+5]&7,E=new Uint8Array([s<<6|v<<1|y>>2,(y&3)<<6|d<<3|h<<2|l>>4,l<<4&224]),S=1536/o*9e4,I=i+r*S,w=e.subarray(n,n+u);return t.config=E,t.channelCount=p,t.samplerate=o,t.samples.push({unit:w,pts:I}),u}class VNe{constructor(){this.VideoSample=null}createVideoSample(e,n,i,r){return{key:e,frame:!1,pts:n,dts:i,units:[],debug:r,length:0}}getLastNalUnit(e){var n;let i=this.VideoSample,r;if((!i||i.units.length===0)&&(i=e[e.length-1]),(n=i)!=null&&n.units){const s=i.units;r=s[s.length-1]}return r}pushAccessUnit(e,n){if(e.units.length&&e.frame){if(e.pts===void 0){const i=n.samples,r=i.length;if(r){const s=i[r-1];e.pts=s.pts,e.dts=s.dts}else{n.dropped++;return}}n.samples.push(e)}e.debug.length&&se.log(e.pts+"/"+e.dts+":"+e.debug)}}class iL{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,n=this.bytesAvailable,i=e.byteLength-n,r=new Uint8Array(4),s=Math.min(4,n);if(s===0)throw new Error("no bytes available");r.set(e.subarray(i,i+s)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=s*8,this.bytesAvailable-=s}skipBits(e){let n;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,n=e>>3,e-=n<<3,this.bytesAvailable-=n,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let n=Math.min(this.bitsAvailable,e);const i=this.word>>>32-n;if(e>32&&se.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=n,this.bitsAvailable>0)this.word<<=n;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return n=e-n,n>0&&this.bitsAvailable?i<<n|this.readBits(n):i}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let n=8,i=8,r;for(let s=0;s<e;s++)i!==0&&(r=this.readEG(),i=(n+r+256)%256),n=i===0?n:i}readSPS(){let e=0,n=0,i=0,r=0,s,a,o;const l=this.readUByte.bind(this),c=this.readBits.bind(this),u=this.readUEG.bind(this),d=this.readBoolean.bind(this),f=this.skipBits.bind(this),h=this.skipEG.bind(this),m=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);l();const v=l();if(c(5),f(3),l(),m(),v===100||v===110||v===122||v===244||v===44||v===83||v===86||v===118||v===128){const N=u();if(N===3&&f(1),m(),m(),f(1),d())for(a=N!==3?8:12,o=0;o<a;o++)d()&&(o<6?p(16):p(64))}m();const y=u();if(y===0)u();else if(y===1)for(f(1),h(),h(),s=u(),o=0;o<s;o++)h();m(),f(1);const E=u(),S=u(),I=c(1);I===0&&f(1),f(1),d()&&(e=u(),n=u(),i=u(),r=u());let w=[1,1];if(d()&&d())switch(l()){case 1:w=[1,1];break;case 2:w=[12,11];break;case 3:w=[10,11];break;case 4:w=[16,11];break;case 5:w=[40,33];break;case 6:w=[24,11];break;case 7:w=[20,11];break;case 8:w=[32,11];break;case 9:w=[80,33];break;case 10:w=[18,11];break;case 11:w=[15,11];break;case 12:w=[64,33];break;case 13:w=[160,99];break;case 14:w=[4,3];break;case 15:w=[3,2];break;case 16:w=[2,1];break;case 255:{w=[l()<<8|l(),l()<<8|l()];break}}return{width:Math.ceil((E+1)*16-e*2-n*2),height:(2-I)*(S+1)*16-(I?2:4)*(i+r),pixelRatio:w}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class NNe extends VNe{parseAVCPES(e,n,i,r,s){const a=this.parseAVCNALu(e,i.data);let o=this.VideoSample,l,c=!1;i.data=null,o&&a.length&&!e.audFound&&(this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts,"")),a.forEach(u=>{var d;switch(u.type){case 1:{let p=!1;l=!0;const v=u.data;if(c&&v.length>4){const y=new iL(v).readSliceType();(y===2||y===4||y===7||y===9)&&(p=!0)}if(p){var f;(f=o)!=null&&f.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null)}o||(o=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts,"")),o.frame=!0,o.key=p;break}case 5:l=!0,(d=o)!=null&&d.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null),o||(o=this.VideoSample=this.createVideoSample(!0,i.pts,i.dts,"")),o.key=!0,o.frame=!0;break;case 6:{l=!0,NY(u.data,1,i.pts,n.samples);break}case 7:{var h,m;l=!0,c=!0;const p=u.data,y=new iL(p).readSPS();if(!e.sps||e.width!==y.width||e.height!==y.height||((h=e.pixelRatio)==null?void 0:h[0])!==y.pixelRatio[0]||((m=e.pixelRatio)==null?void 0:m[1])!==y.pixelRatio[1]){e.width=y.width,e.height=y.height,e.pixelRatio=y.pixelRatio,e.sps=[p],e.duration=s;const E=p.subarray(1,4);let S="avc1.";for(let I=0;I<3;I++){let w=E[I].toString(16);w.length<2&&(w="0"+w),S+=w}e.codec=S}break}case 8:l=!0,e.pps=[u.data];break;case 9:l=!0,e.audFound=!0,o&&this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,i.pts,i.dts,"");break;case 12:l=!0;break;default:l=!1,o&&(o.debug+="unknown NAL "+u.type+" ");break}o&&l&&o.units.push(u)}),r&&o&&(this.pushAccessUnit(o,e),this.VideoSample=null)}parseAVCNALu(e,n){const i=n.byteLength;let r=e.naluState||0;const s=r,a=[];let o=0,l,c,u,d=-1,f=0;for(r===-1&&(d=0,f=n[0]&31,r=0,o=1);o<i;){if(l=n[o++],!r){r=l?0:1;continue}if(r===1){r=l?0:2;continue}if(!l)r=3;else if(l===1){if(c=o-r-1,d>=0){const h={data:n.subarray(d,c),type:f};a.push(h)}else{const h=this.getLastNalUnit(e.samples);h&&(s&&o<=4-s&&h.state&&(h.data=h.data.subarray(0,h.data.byteLength-s)),c>0&&(h.data=Pr(h.data,n.subarray(0,c)),h.state=0))}o<i?(u=n[o]&31,d=o,f=u,r=0):r=-1}else r=0}if(d>=0&&r>=0){const h={data:n.subarray(d,i),type:f,state:r};a.push(h)}if(a.length===0){const h=this.getLastNalUnit(e.samples);h&&(h.data=Pr(h.data,n))}return e.naluState=r,a}}class _Ne{constructor(e,n,i){this.keyData=void 0,this.decrypter=void 0,this.keyData=i,this.decrypter=new bR(n,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,n,i){const r=e[n].unit;if(r.length<=16)return;const s=r.subarray(16,r.length-r.length%16),a=s.buffer.slice(s.byteOffset,s.byteOffset+s.length);this.decryptBuffer(a).then(o=>{const l=new Uint8Array(o);r.set(l,16),this.decrypter.isSync()||this.decryptAacSamples(e,n+1,i)})}decryptAacSamples(e,n,i){for(;;n++){if(n>=e.length){i();return}if(!(e[n].unit.length<32)&&(this.decryptAacSample(e,n,i),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const n=Math.floor((e.length-48)/160)*16+16,i=new Int8Array(n);let r=0;for(let s=32;s<e.length-16;s+=160,r+=16)i.set(e.subarray(s,s+16),r);return i}getAvcDecryptedUnit(e,n){const i=new Uint8Array(n);let r=0;for(let s=32;s<e.length-16;s+=160,r+=16)e.set(i.subarray(r,r+16),s);return e}decryptAvcSample(e,n,i,r,s){const a=_Y(s.data),o=this.getAvcEncryptedData(a);this.decryptBuffer(o.buffer).then(l=>{s.data=this.getAvcDecryptedUnit(a,l),this.decrypter.isSync()||this.decryptAvcSamples(e,n,i+1,r)})}decryptAvcSamples(e,n,i,r){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;n++,i=0){if(n>=e.length){r();return}const s=e[n].units;for(;!(i>=s.length);i++){const a=s[i];if(!(a.data.length<=48||a.type!==1&&a.type!==5)&&(this.decryptAvcSample(e,n,i,r,a),!this.decrypter.isSync()))return}}}}const Pn=188;class _o{constructor(e,n,i){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=n,this.typeSupported=i,this.videoParser=new NNe}static probe(e){const n=_o.syncOffset(e);return n>0&&se.warn(`MPEG2-TS detected but first sync word found @ offset ${n}`),n!==-1}static syncOffset(e){const n=e.length;let i=Math.min(Pn*5,n-Pn)+1,r=0;for(;r<i;){let s=!1,a=-1,o=0;for(let l=r;l<n;l+=Pn)if(e[l]===71&&(n-l===Pn||e[l+Pn]===71)){if(o++,a===-1&&(a=l,a!==0&&(i=Math.min(a+Pn*99,e.length-Pn)+1)),s||(s=mS(e,l)===0),s&&o>1&&(a===0&&o>2||l+Pn>i))return a}else{if(o)return-1;break}r++}return-1}static createTrack(e,n){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:CY[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?n:void 0}}resetInitSegment(e,n,i,r){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=_o.createTrack("video"),this._audioTrack=_o.createTrack("audio",r),this._id3Track=_o.createTrack("id3"),this._txtTrack=_o.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=n,this.videoCodec=i,this._duration=r}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:n,_id3Track:i}=this;e&&(e.pesData=null),n&&(n.pesData=null),i&&(i.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,n,i=!1,r=!1){i||(this.sampleAes=null);let s;const a=this._videoTrack,o=this._audioTrack,l=this._id3Track,c=this._txtTrack;let u=a.pid,d=a.pesData,f=o.pid,h=l.pid,m=o.pesData,p=l.pesData,v=null,y=this.pmtParsed,E=this._pmtId,S=e.length;if(this.remainderData&&(e=Pr(this.remainderData,e),S=e.length,this.remainderData=null),S<Pn&&!r)return this.remainderData=e,{audioTrack:o,videoTrack:a,id3Track:l,textTrack:c};const I=Math.max(0,_o.syncOffset(e));S-=(S-I)%Pn,S<e.byteLength&&!r&&(this.remainderData=new Uint8Array(e.buffer,S,e.buffer.byteLength-S));let w=0;for(let F=I;F<S;F+=Pn)if(e[F]===71){const W=!!(e[F+1]&64),Z=mS(e,F),O=(e[F+3]&48)>>4;let K;if(O>1){if(K=F+5+e[F+4],K===F+Pn)continue}else K=F+4;switch(Z){case u:W&&(d&&(s=zc(d))&&this.videoParser.parseAVCPES(a,c,s,!1,this._duration),d={data:[],size:0}),d&&(d.data.push(e.subarray(K,F+Pn)),d.size+=F+Pn-K);break;case f:if(W){if(m&&(s=zc(m)))switch(o.segmentCodec){case"aac":this.parseAACPES(o,s);break;case"mp3":this.parseMPEGPES(o,s);break;case"ac3":this.parseAC3PES(o,s);break}m={data:[],size:0}}m&&(m.data.push(e.subarray(K,F+Pn)),m.size+=F+Pn-K);break;case h:W&&(p&&(s=zc(p))&&this.parseID3PES(l,s),p={data:[],size:0}),p&&(p.data.push(e.subarray(K,F+Pn)),p.size+=F+Pn-K);break;case 0:W&&(K+=e[K]+1),E=this._pmtId=kNe(e,K);break;case E:{W&&(K+=e[K]+1);const fe=FNe(e,K,this.typeSupported,i,this.observer);u=fe.videoPid,u>0&&(a.pid=u,a.segmentCodec=fe.segmentVideoCodec),f=fe.audioPid,f>0&&(o.pid=f,o.segmentCodec=fe.segmentAudioCodec),h=fe.id3Pid,h>0&&(l.pid=h),v!==null&&!y&&(se.warn(`MPEG-TS PMT found at ${F} after unknown PID '${v}'. Backtracking to sync byte @${I} to parse all TS packets.`),v=null,F=I-188),y=this.pmtParsed=!0;break}case 17:case 8191:break;default:v=Z;break}}else w++;w>0&&f2(this.observer,new Error(`Found ${w} TS packet/s that do not start with 0x47`)),a.pesData=d,o.pesData=m,l.pesData=p;const N={audioTrack:o,videoTrack:a,id3Track:l,textTrack:c};return r&&this.extractRemainingSamples(N),N}flush(){const{remainderData:e}=this;this.remainderData=null;let n;return e?n=this.demux(e,-1,!1,!0):n={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(n),this.sampleAes?this.decrypt(n,this.sampleAes):n}extractRemainingSamples(e){const{audioTrack:n,videoTrack:i,id3Track:r,textTrack:s}=e,a=i.pesData,o=n.pesData,l=r.pesData;let c;if(a&&(c=zc(a))?(this.videoParser.parseAVCPES(i,s,c,!0,this._duration),i.pesData=null):i.pesData=a,o&&(c=zc(o))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,c);break;case"mp3":this.parseMPEGPES(n,c);break;case"ac3":this.parseAC3PES(n,c);break}n.pesData=null}else o!=null&&o.size&&se.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=o;l&&(c=zc(l))?(this.parseID3PES(r,c),r.pesData=null):r.pesData=l}demuxSampleAes(e,n,i){const r=this.demux(e,i,!0,!this.config.progressive),s=this.sampleAes=new _Ne(this.observer,this.config,n);return this.decrypt(r,s)}decrypt(e,n){return new Promise(i=>{const{audioTrack:r,videoTrack:s}=e;r.samples&&r.segmentCodec==="aac"?n.decryptAacSamples(r.samples,0,()=>{s.samples?n.decryptAvcSamples(s.samples,0,0,()=>{i(e)}):i(e)}):s.samples&&n.decryptAvcSamples(s.samples,0,0,()=>{i(e)})})}destroy(){this._duration=0}parseAACPES(e,n){let i=0;const r=this.aacOverFlow;let s=n.data;if(r){this.aacOverFlow=null;const d=r.missing,f=r.sample.unit.byteLength;if(d===-1)s=Pr(r.sample.unit,s);else{const h=f-d;r.sample.unit.set(s.subarray(0,d),h),e.samples.push(r.sample),i=r.missing}}let a,o;for(a=i,o=s.length;a<o-1&&!h2(s,a);a++);if(a!==i){let d;const f=a<o-1;if(f?d=`AAC PES did not start with ADTS header,offset:${a}`:d="No ADTS header found in AAC PES",f2(this.observer,new Error(d),f),!f)return}$Y(e,this.observer,s,a,this.audioCodec);let l;if(n.pts!==void 0)l=n.pts;else if(r){const d=jY(e.samplerate);l=r.sample.pts+d}else{se.warn("[tsdemuxer]: AAC PES unknown PTS");return}let c=0,u;for(;a<o;)if(u=KY(e,s,a,l,c),a+=u.length,u.missing){this.aacOverFlow=u;break}else for(c++;a<o-1&&!h2(s,a);a++);}parseMPEGPES(e,n){const i=n.data,r=i.length;let s=0,a=0;const o=n.pts;if(o===void 0){se.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;a<r;)if(HY(i,a)){const l=zY(e,i,a,o,s);if(l)a+=l.length,s++;else break}else a++}parseAC3PES(e,n){{const i=n.data,r=n.pts;if(r===void 0){se.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const s=i.length;let a=0,o=0,l;for(;o<s&&(l=e$(e,i,o,r,a++))>0;)o+=l}}parseID3PES(e,n){if(n.pts===void 0){se.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const i=Bn({},n,{type:this._videoTrack?cs.emsg:cs.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(i)}}function mS(t,e){return((t[e+1]&31)<<8)+t[e+2]}function kNe(t,e){return(t[e+10]&31)<<8|t[e+11]}function FNe(t,e,n,i,r){const s={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},a=(t[e+1]&15)<<8|t[e+2],o=e+3+a-4,l=(t[e+10]&15)<<8|t[e+11];for(e+=12+l;e<o;){const c=mS(t,e),u=(t[e+3]&15)<<8|t[e+4];switch(t[e]){case 207:if(!i){AE("ADTS AAC");break}case 15:s.audioPid===-1&&(s.audioPid=c);break;case 21:s.id3Pid===-1&&(s.id3Pid=c);break;case 219:if(!i){AE("H.264");break}case 27:s.videoPid===-1&&(s.videoPid=c,s.segmentVideoCodec="avc");break;case 3:case 4:!n.mpeg&&!n.mp3?se.log("MPEG audio found, not supported in this browser"):s.audioPid===-1&&(s.audioPid=c,s.segmentAudioCodec="mp3");break;case 193:if(!i){AE("AC-3");break}case 129:n.ac3?s.audioPid===-1&&(s.audioPid=c,s.segmentAudioCodec="ac3"):se.log("AC-3 audio found, not supported in this browser");break;case 6:if(s.audioPid===-1&&u>0){let d=e+5,f=u;for(;f>2;){switch(t[d]){case 106:n.ac3!==!0?se.log("AC-3 audio found, not supported in this browser for now"):(s.audioPid=c,s.segmentAudioCodec="ac3");break}const m=t[d+1]+2;d+=m,f-=m}}break;case 194:case 135:return f2(r,new Error("Unsupported EC-3 in M2TS found")),s;case 36:return f2(r,new Error("Unsupported HEVC in M2TS found")),s}e+=u+5}return s}function f2(t,e,n){se.warn(`parsing error: ${e.message}`),t.emit(B.ERROR,B.ERROR,{type:tt.MEDIA_ERROR,details:Ee.FRAG_PARSING_ERROR,fatal:!1,levelRetry:n,error:e,reason:e.message})}function AE(t){se.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function zc(t){let e=0,n,i,r,s,a;const o=t.data;if(!t||t.size===0)return null;for(;o[0].length<19&&o.length>1;)o[0]=Pr(o[0],o[1]),o.splice(1,1);if(n=o[0],(n[0]<<16)+(n[1]<<8)+n[2]===1){if(i=(n[4]<<8)+n[5],i&&i>t.size-6)return null;const c=n[7];c&192&&(s=(n[9]&14)*536870912+(n[10]&255)*4194304+(n[11]&254)*16384+(n[12]&255)*128+(n[13]&254)/2,c&64?(a=(n[14]&14)*536870912+(n[15]&255)*4194304+(n[16]&254)*16384+(n[17]&255)*128+(n[18]&254)/2,s-a>60*9e4&&(se.warn(`${Math.round((s-a)/9e4)}s delta between PTS and DTS, align them`),s=a)):a=s),r=n[8];let u=r+9;if(t.size<=u)return null;t.size-=u;const d=new Uint8Array(t.size);for(let f=0,h=o.length;f<h;f++){n=o[f];let m=n.byteLength;if(u)if(u>m){u-=m;continue}else n=n.subarray(u),m-=u,u=0;d.set(n,e),e+=m}return i&&(i-=r+3),{data:d,pts:s,dts:a,len:i}}return null}class LNe extends ER{resetInitSegment(e,n,i,r){super.resetInitSegment(e,n,i,r),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:n,duration:r,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const n=gp(e,0);let i=(n==null?void 0:n.length)||0;if(n&&e[i]===11&&e[i+1]===119&&pR(n)!==void 0&&qY(e,i)<=16)return!1;for(let r=e.length;i<r;i++)if(QY(e,i))return se.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,n){return RNe(e,n)}appendFrame(e,n,i){if(this.basePTS!==null)return zY(e,n,i,this.basePTS,this.frameIndex)}}class rL{static getSilentFrame(e,n){switch(e){case"mp4a.40.2":if(n===1)return new Uint8Array([0,200,0,128,35,128]);if(n===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(n===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(n===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(n===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(n===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(n===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(n===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const Co=Math.pow(2,32)-1;class he{static init(){he.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in he.types)he.types.hasOwnProperty(e)&&(he.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),i=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);he.HDLR_TYPES={video:n,audio:i};const r=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s=new Uint8Array([0,0,0,0,0,0,0,0]);he.STTS=he.STSC=he.STCO=s,he.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),he.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),he.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),he.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const a=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);he.FTYP=he.box(he.types.ftyp,a,l,a,o),he.DINF=he.box(he.types.dinf,he.box(he.types.dref,r))}static box(e,...n){let i=8,r=n.length;const s=r;for(;r--;)i+=n[r].byteLength;const a=new Uint8Array(i);for(a[0]=i>>24&255,a[1]=i>>16&255,a[2]=i>>8&255,a[3]=i&255,a.set(e,4),r=0,i=8;r<s;r++)a.set(n[r],i),i+=n[r].byteLength;return a}static hdlr(e){return he.box(he.types.hdlr,he.HDLR_TYPES[e])}static mdat(e){return he.box(he.types.mdat,e)}static mdhd(e,n){n*=e;const i=Math.floor(n/(Co+1)),r=Math.floor(n%(Co+1));return he.box(he.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,i>>24,i>>16&255,i>>8&255,i&255,r>>24,r>>16&255,r>>8&255,r&255,85,196,0,0]))}static mdia(e){return he.box(he.types.mdia,he.mdhd(e.timescale,e.duration),he.hdlr(e.type),he.minf(e))}static mfhd(e){return he.box(he.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?he.box(he.types.minf,he.box(he.types.smhd,he.SMHD),he.DINF,he.stbl(e)):he.box(he.types.minf,he.box(he.types.vmhd,he.VMHD),he.DINF,he.stbl(e))}static moof(e,n,i){return he.box(he.types.moof,he.mfhd(e),he.traf(i,n))}static moov(e){let n=e.length;const i=[];for(;n--;)i[n]=he.trak(e[n]);return he.box.apply(null,[he.types.moov,he.mvhd(e[0].timescale,e[0].duration)].concat(i).concat(he.mvex(e)))}static mvex(e){let n=e.length;const i=[];for(;n--;)i[n]=he.trex(e[n]);return he.box.apply(null,[he.types.mvex,...i])}static mvhd(e,n){n*=e;const i=Math.floor(n/(Co+1)),r=Math.floor(n%(Co+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,i>>24,i>>16&255,i>>8&255,i&255,r>>24,r>>16&255,r>>8&255,r&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return he.box(he.types.mvhd,s)}static sdtp(e){const n=e.samples||[],i=new Uint8Array(4+n.length);let r,s;for(r=0;r<n.length;r++)s=n[r].flags,i[r+4]=s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy;return he.box(he.types.sdtp,i)}static stbl(e){return he.box(he.types.stbl,he.stsd(e),he.box(he.types.stts,he.STTS),he.box(he.types.stsc,he.STSC),he.box(he.types.stsz,he.STSZ),he.box(he.types.stco,he.STCO))}static avc1(e){let n=[],i=[],r,s,a;for(r=0;r<e.sps.length;r++)s=e.sps[r],a=s.byteLength,n.push(a>>>8&255),n.push(a&255),n=n.concat(Array.prototype.slice.call(s));for(r=0;r<e.pps.length;r++)s=e.pps[r],a=s.byteLength,i.push(a>>>8&255),i.push(a&255),i=i.concat(Array.prototype.slice.call(s));const o=he.box(he.types.avcC,new Uint8Array([1,n[3],n[4],n[5],255,224|e.sps.length].concat(n).concat([e.pps.length]).concat(i))),l=e.width,c=e.height,u=e.pixelRatio[0],d=e.pixelRatio[1];return he.box(he.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,l&255,c>>8&255,c&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,he.box(he.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),he.box(he.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,u&255,d>>24,d>>16&255,d>>8&255,d&255])))}static esds(e){const n=e.config.length;return new Uint8Array([0,0,0,0,3,23+n,0,1,0,4,15+n,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([n]).concat(e.config).concat([6,1,2]))}static audioStsd(e){const n=e.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,n>>8&255,n&255,0,0])}static mp4a(e){return he.box(he.types.mp4a,he.audioStsd(e),he.box(he.types.esds,he.esds(e)))}static mp3(e){return he.box(he.types[".mp3"],he.audioStsd(e))}static ac3(e){return he.box(he.types["ac-3"],he.audioStsd(e),he.box(he.types.dac3,e.config))}static stsd(e){return e.type==="audio"?e.segmentCodec==="mp3"&&e.codec==="mp3"?he.box(he.types.stsd,he.STSD,he.mp3(e)):e.segmentCodec==="ac3"?he.box(he.types.stsd,he.STSD,he.ac3(e)):he.box(he.types.stsd,he.STSD,he.mp4a(e)):he.box(he.types.stsd,he.STSD,he.avc1(e))}static tkhd(e){const n=e.id,i=e.duration*e.timescale,r=e.width,s=e.height,a=Math.floor(i/(Co+1)),o=Math.floor(i%(Co+1));return he.box(he.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,n&255,0,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,o>>24,o>>16&255,o>>8&255,o&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,r>>8&255,r&255,0,0,s>>8&255,s&255,0,0]))}static traf(e,n){const i=he.sdtp(e),r=e.id,s=Math.floor(n/(Co+1)),a=Math.floor(n%(Co+1));return he.box(he.types.traf,he.box(he.types.tfhd,new Uint8Array([0,0,0,0,r>>24,r>>16&255,r>>8&255,r&255])),he.box(he.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,a>>24,a>>16&255,a>>8&255,a&255])),he.trun(e,i.length+16+20+8+16+8+8),i)}static trak(e){return e.duration=e.duration||4294967295,he.box(he.types.trak,he.tkhd(e),he.mdia(e))}static trex(e){const n=e.id;return he.box(he.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,n&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,n){const i=e.samples||[],r=i.length,s=12+16*r,a=new Uint8Array(s);let o,l,c,u,d,f;for(n+=8+s,a.set([e.type==="video"?1:0,0,15,1,r>>>24&255,r>>>16&255,r>>>8&255,r&255,n>>>24&255,n>>>16&255,n>>>8&255,n&255],0),o=0;o<r;o++)l=i[o],c=l.duration,u=l.size,d=l.flags,f=l.cts,a.set([c>>>24&255,c>>>16&255,c>>>8&255,c&255,u>>>24&255,u>>>16&255,u>>>8&255,u&255,d.isLeading<<2|d.dependsOn,d.isDependedOn<<6|d.hasRedundancy<<4|d.paddingValue<<1|d.isNonSync,d.degradPrio&61440,d.degradPrio&15,f>>>24&255,f>>>16&255,f>>>8&255,f&255],12+16*o);return he.box(he.types.trun,a)}static initSegment(e){he.types||he.init();const n=he.moov(e);return Pr(he.FTYP,n)}}he.types=void 0;he.HDLR_TYPES=void 0;he.STTS=void 0;he.STSC=void 0;he.STCO=void 0;he.STSZ=void 0;he.VMHD=void 0;he.SMHD=void 0;he.STSD=void 0;he.FTYP=void 0;he.DINF=void 0;const t$=9e4;function TR(t,e,n=1,i=!1){const r=t*e*n;return i?Math.round(r):r}function UNe(t,e,n=1,i=!1){return TR(t,e,1/n,i)}function Mh(t,e=!1){return TR(t,1e3,1/t$,e)}function BNe(t,e=1){return TR(t,t$,1/e)}const WNe=10*1e3,sL=1024,GNe=1152,ZNe=1536;let Jc=null,SE=null;class Tm{constructor(e,n,i,r=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=n,this.typeSupported=i,this.ISGenerated=!1,Jc===null){const a=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Jc=a?parseInt(a[1]):0}if(SE===null){const s=navigator.userAgent.match(/Safari\/(\d+)/i);SE=s?parseInt(s[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){se.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){se.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){se.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let n=!1;const i=e[0].pts,r=e.reduce((s,a)=>{let o=a.pts,l=o-s;return l<-4294967296&&(n=!0,o=xr(o,i),l=o-s),l>0?s:o},i);return n&&se.debug("PTS rollover detected"),r}remux(e,n,i,r,s,a,o,l){let c,u,d,f,h,m,p=s,v=s;const y=e.pid>-1,E=n.pid>-1,S=n.samples.length,I=e.samples.length>0,w=o&&S>0||S>1;if((!y||I)&&(!E||w)||this.ISGenerated||o){if(this.ISGenerated){var F,W,Z,O;const pe=this.videoTrackConfig;pe&&(n.width!==pe.width||n.height!==pe.height||((F=n.pixelRatio)==null?void 0:F[0])!==((W=pe.pixelRatio)==null?void 0:W[0])||((Z=n.pixelRatio)==null?void 0:Z[1])!==((O=pe.pixelRatio)==null?void 0:O[1]))&&this.resetInitSegment()}else d=this.generateIS(e,n,s,a);const K=this.isVideoContiguous;let fe=-1,z;if(w&&(fe=DNe(n.samples),!K&&this.config.forceKeyFrameOnDiscontinuity))if(m=!0,fe>0){se.warn(`[mp4-remuxer]: Dropped ${fe} out of ${S} video samples due to a missing keyframe`);const pe=this.getVideoStartPts(n.samples);n.samples=n.samples.slice(fe),n.dropped+=fe,v+=(n.samples[0].pts-pe)/n.inputTimeScale,z=v}else fe===-1&&(se.warn(`[mp4-remuxer]: No keyframe found out of ${S} video samples`),m=!1);if(this.ISGenerated){if(I&&w){const pe=this.getVideoStartPts(n.samples),be=(xr(e.samples[0].pts,pe)-pe)/n.inputTimeScale;p+=Math.max(0,be),v+=Math.max(0,-be)}if(I){if(e.samplerate||(se.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),d=this.generateIS(e,n,s,a)),u=this.remuxAudio(e,p,this.isAudioContiguous,a,E||w||l===He.AUDIO?v:void 0),w){const pe=u?u.endPTS-u.startPTS:0;n.inputTimeScale||(se.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),d=this.generateIS(e,n,s,a)),c=this.remuxVideo(n,v,K,pe)}}else w&&(c=this.remuxVideo(n,v,K,0));c&&(c.firstKeyFrame=fe,c.independent=fe!==-1,c.firstKeyFramePTS=z)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(i.samples.length&&(h=n$(i,s,this._initPTS,this._initDTS)),r.samples.length&&(f=i$(r,s,this._initPTS))),{audio:u,video:c,initSegment:d,independent:m,text:f,id3:h}}generateIS(e,n,i,r){const s=e.samples,a=n.samples,o=this.typeSupported,l={},c=this._initPTS;let u=!c||r,d="audio/mp4",f,h,m;if(u&&(f=h=1/0),e.config&&s.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":o.mpeg?(d="audio/mpeg",e.codec=""):o.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}l.audio={id:"audio",container:d,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&o.mpeg?new Uint8Array(0):he.initSegment([e]),metadata:{channelCount:e.channelCount}},u&&(m=e.inputTimeScale,!c||m!==c.timescale?f=h=s[0].pts-Math.round(m*i):u=!1)}if(n.sps&&n.pps&&a.length){if(n.timescale=n.inputTimeScale,l.video={id:"main",container:"video/mp4",codec:n.codec,initSegment:he.initSegment([n]),metadata:{width:n.width,height:n.height}},u)if(m=n.inputTimeScale,!c||m!==c.timescale){const p=this.getVideoStartPts(a),v=Math.round(m*i);h=Math.min(h,xr(a[0].dts,p)-v),f=Math.min(f,p-v)}else u=!1;this.videoTrackConfig={width:n.width,height:n.height,pixelRatio:n.pixelRatio}}if(Object.keys(l).length)return this.ISGenerated=!0,u?(this._initPTS={baseTime:f,timescale:m},this._initDTS={baseTime:h,timescale:m}):f=m=void 0,{tracks:l,initPTS:f,timescale:m}}remuxVideo(e,n,i,r){const s=e.inputTimeScale,a=e.samples,o=[],l=a.length,c=this._initPTS;let u=this.nextAvcDts,d=8,f=this.videoSampleDuration,h,m,p=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,y=!1;if(!i||u===null){const Q=n*s,q=a[0].pts-xr(a[0].dts,a[0].pts);Jc&&u!==null&&Math.abs(Q-q-u)<15e3?i=!0:u=Q-q}const E=c.baseTime*s/c.timescale;for(let Q=0;Q<l;Q++){const q=a[Q];q.pts=xr(q.pts-E,u),q.dts=xr(q.dts-E,u),q.dts<a[Q>0?Q-1:Q].dts&&(y=!0)}y&&a.sort(function(Q,q){const Re=Q.dts-q.dts,D=Q.pts-q.pts;return Re||D}),h=a[0].dts,m=a[a.length-1].dts;const S=m-h,I=S?Math.round(S/(l-1)):f||e.inputTimeScale/30;if(i){const Q=h-u,q=Q>I,Re=Q<-1;if((q||Re)&&(q?se.warn(`AVC: ${Mh(Q,!0)} ms (${Q}dts) hole between fragments detected at ${n.toFixed(3)}`):se.warn(`AVC: ${Mh(-Q,!0)} ms (${Q}dts) overlapping between fragments detected at ${n.toFixed(3)}`),!Re||u>=a[0].pts||Jc)){h=u;const D=a[0].pts-Q;if(q)a[0].dts=h,a[0].pts=D;else for(let H=0;H<a.length&&!(a[H].dts>D);H++)a[H].dts-=Q,a[H].pts-=Q;se.log(`Video: Initial PTS/DTS adjusted: ${Mh(D,!0)}/${Mh(h,!0)}, delta: ${Mh(Q,!0)} ms`)}}h=Math.max(0,h);let w=0,N=0,F=h;for(let Q=0;Q<l;Q++){const q=a[Q],Re=q.units,D=Re.length;let H=0;for(let ie=0;ie<D;ie++)H+=Re[ie].data.length;N+=H,w+=D,q.length=H,q.dts<F?(q.dts=F,F+=I/4|0||1):F=q.dts,p=Math.min(q.pts,p),v=Math.max(q.pts,v)}m=a[l-1].dts;const W=N+4*w+8;let Z;try{Z=new Uint8Array(W)}catch(Q){this.observer.emit(B.ERROR,B.ERROR,{type:tt.MUX_ERROR,details:Ee.REMUX_ALLOC_ERROR,fatal:!1,error:Q,bytes:W,reason:`fail allocating video mdat ${W}`});return}const O=new DataView(Z.buffer);O.setUint32(0,W),Z.set(he.types.mdat,4);let K=!1,fe=Number.POSITIVE_INFINITY,z=Number.POSITIVE_INFINITY,pe=Number.NEGATIVE_INFINITY,de=Number.NEGATIVE_INFINITY;for(let Q=0;Q<l;Q++){const q=a[Q],Re=q.units;let D=0;for(let ne=0,Se=Re.length;ne<Se;ne++){const ke=Re[ne],We=ke.data,Pe=ke.data.byteLength;O.setUint32(d,Pe),d+=4,Z.set(We,d),d+=Pe,D+=4+Pe}let H;if(Q<l-1)f=a[Q+1].dts-q.dts,H=a[Q+1].pts-q.pts;else{const ne=this.config,Se=Q>0?q.dts-a[Q-1].dts:I;if(H=Q>0?q.pts-a[Q-1].pts:I,ne.stretchShortVideoTrack&&this.nextAudioPts!==null){const ke=Math.floor(ne.maxBufferHole*s),We=(r?p+r*s:this.nextAudioPts)-q.pts;We>ke?(f=We-Se,f<0?f=Se:K=!0,se.log(`[mp4-remuxer]: It is approximately ${We/90} ms to the next segment; using duration ${f/90} ms for the last video frame.`)):f=Se}else f=Se}const ie=Math.round(q.pts-q.dts);fe=Math.min(fe,f),pe=Math.max(pe,f),z=Math.min(z,H),de=Math.max(de,H),o.push(new aL(q.key,f,D,ie))}if(o.length){if(Jc){if(Jc<70){const Q=o[0].flags;Q.dependsOn=2,Q.isNonSync=0}}else if(SE&&de-z<pe-fe&&I/pe<.025&&o[0].cts===0){se.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let Q=h;for(let q=0,Re=o.length;q<Re;q++){const D=Q+o[q].duration,H=Q+o[q].cts;if(q<Re-1){const ie=D+o[q+1].cts;o[q].duration=ie-H}else o[q].duration=q?o[q-1].duration:I;o[q].cts=0,Q=D}}}f=K||!f?I:f,this.nextAvcDts=u=m+f,this.videoSampleDuration=f,this.isVideoContiguous=!0;const me={data1:he.moof(e.sequenceNumber++,h,Bn({},e,{samples:o})),data2:Z,startPTS:p/s,endPTS:(v+f)/s,startDTS:h/s,endDTS:u/s,type:"video",hasAudio:!1,hasVideo:!0,nb:o.length,dropped:e.dropped};return e.samples=[],e.dropped=0,me}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return GNe;case"ac3":return ZNe;default:return sL}}remuxAudio(e,n,i,r,s){const a=e.inputTimeScale,o=e.samplerate?e.samplerate:a,l=a/o,c=this.getSamplesPerFrame(e),u=c*l,d=this._initPTS,f=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,h=[],m=s!==void 0;let p=e.samples,v=f?0:8,y=this.nextAudioPts||-1;const E=n*a,S=d.baseTime*a/d.timescale;if(this.isAudioContiguous=i=i||p.length&&y>0&&(r&&Math.abs(E-y)<9e3||Math.abs(xr(p[0].pts-S,E)-y)<20*u),p.forEach(function(be){be.pts=xr(be.pts-S,E)}),!i||y<0){if(p=p.filter(be=>be.pts>=0),!p.length)return;s===0?y=0:r&&!m?y=Math.max(0,E):y=p[0].pts}if(e.segmentCodec==="aac"){const be=this.config.maxAudioFramesDrift;for(let _e=0,me=y;_e<p.length;_e++){const Q=p[_e],q=Q.pts,Re=q-me,D=Math.abs(1e3*Re/a);if(Re<=-be*u&&m)_e===0&&(se.warn(`Audio frame @ ${(q/a).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*Re/a)} ms.`),this.nextAudioPts=y=me=q);else if(Re>=be*u&&D<WNe&&m){let H=Math.round(Re/u);me=q-H*u,me<0&&(H--,me+=u),_e===0&&(this.nextAudioPts=y=me),se.warn(`[mp4-remuxer]: Injecting ${H} audio frame @ ${(me/a).toFixed(3)}s due to ${Math.round(1e3*Re/a)} ms gap.`);for(let ie=0;ie<H;ie++){const ne=Math.max(me,0);let Se=rL.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);Se||(se.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Se=Q.unit.subarray()),p.splice(_e,0,{unit:Se,pts:ne}),me+=u,_e++}}Q.pts=me,me+=u}}let I=null,w=null,N,F=0,W=p.length;for(;W--;)F+=p[W].unit.byteLength;for(let be=0,_e=p.length;be<_e;be++){const me=p[be],Q=me.unit;let q=me.pts;if(w!==null){const D=h[be-1];D.duration=Math.round((q-w)/l)}else if(i&&e.segmentCodec==="aac"&&(q=y),I=q,F>0){F+=v;try{N=new Uint8Array(F)}catch(D){this.observer.emit(B.ERROR,B.ERROR,{type:tt.MUX_ERROR,details:Ee.REMUX_ALLOC_ERROR,fatal:!1,error:D,bytes:F,reason:`fail allocating audio mdat ${F}`});return}f||(new DataView(N.buffer).setUint32(0,F),N.set(he.types.mdat,4))}else return;N.set(Q,v);const Re=Q.byteLength;v+=Re,h.push(new aL(!0,c,Re,0)),w=q}const Z=h.length;if(!Z)return;const O=h[h.length-1];this.nextAudioPts=y=w+l*O.duration;const K=f?new Uint8Array(0):he.moof(e.sequenceNumber++,I/l,Bn({},e,{samples:h}));e.samples=[];const fe=I/a,z=y/a,de={data1:K,data2:N,startPTS:fe,endPTS:z,startDTS:fe,endDTS:z,type:"audio",hasAudio:!0,hasVideo:!1,nb:Z};return this.isAudioContiguous=!0,de}remuxEmptyAudio(e,n,i,r){const s=e.inputTimeScale,a=e.samplerate?e.samplerate:s,o=s/a,l=this.nextAudioPts,c=this._initDTS,u=c.baseTime*9e4/c.timescale,d=(l!==null?l:r.startDTS*s)+u,f=r.endDTS*s+u,h=o*sL,m=Math.ceil((f-d)/h),p=rL.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(se.warn("[mp4-remuxer]: remux empty Audio"),!p){se.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}const v=[];for(let y=0;y<m;y++){const E=d+y*h;v.push({unit:p,pts:E,dts:E})}return e.samples=v,this.remuxAudio(e,n,i,!1)}}function xr(t,e){let n;if(e===null)return t;for(e<t?n=-8589934592:n=8589934592;Math.abs(t-e)>4294967296;)t+=n;return t}function DNe(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function n$(t,e,n,i){const r=t.samples.length;if(!r)return;const s=t.inputTimeScale;for(let o=0;o<r;o++){const l=t.samples[o];l.pts=xr(l.pts-n.baseTime*s/n.timescale,e*s)/s,l.dts=xr(l.dts-i.baseTime*s/i.timescale,e*s)/s}const a=t.samples;return t.samples=[],{samples:a}}function i$(t,e,n){const i=t.samples.length;if(!i)return;const r=t.inputTimeScale;for(let a=0;a<i;a++){const o=t.samples[a];o.pts=xr(o.pts-n.baseTime*r/n.timescale,e*r)/r}t.samples.sort((a,o)=>a.pts-o.pts);const s=t.samples;return t.samples=[],{samples:s}}class aL{constructor(e,n,i,r){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=n,this.size=i,this.cts=r,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:e?2:1,isNonSync:e?0:1}}}class ONe{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,n,i,r){this.audioCodec=n,this.videoCodec=i,this.generateInitSegment(jxe(e,r)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:n,videoCodec:i}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const r=this.initData=xY(e);r.audio&&(n=oL(r.audio,kt.AUDIO)),r.video&&(i=oL(r.video,kt.VIDEO));const s={};r.audio&&r.video?s.audiovideo={container:"video/mp4",codec:n+","+i,initSegment:e,id:"main"}:r.audio?s.audio={container:"audio/mp4",codec:n,initSegment:e,id:"audio"}:r.video?s.video={container:"video/mp4",codec:i,initSegment:e,id:"main"}:se.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=s}remux(e,n,i,r,s,a){var o,l;let{initPTS:c,lastEndTime:u}=this;const d={audio:void 0,video:void 0,text:r,id3:i,initSegment:void 0};Me(u)||(u=this.lastEndTime=s||0);const f=n.samples;if(!(f!=null&&f.length))return d;const h={initPTS:void 0,timescale:1};let m=this.initData;if((o=m)!=null&&o.length||(this.generateInitSegment(f),m=this.initData),!((l=m)!=null&&l.length))return se.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),d;this.emitInitSegment&&(h.tracks=this.initTracks,this.emitInitSegment=!1);const p=zxe(f,m),v=Kxe(m,f),y=v===null?s:v;(XNe(c,y,s,p)||h.timescale!==c.timescale&&a)&&(h.initPTS=y-s,c&&c.timescale===1&&se.warn(`Adjusting initPTS by ${h.initPTS-c.baseTime}`),this.initPTS=c={baseTime:h.initPTS,timescale:1});const E=e?y-c.baseTime/c.timescale:u,S=E+p;Hxe(m,f,c.baseTime/c.timescale),p>0?this.lastEndTime=S:(se.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const I=!!m.audio,w=!!m.video;let N="";I&&(N+="audio"),w&&(N+="video");const F={data1:f,startPTS:E,startDTS:E,endPTS:S,endDTS:S,type:N,hasAudio:I,hasVideo:w,nb:1,dropped:0};return d.audio=F.type==="audio"?F:void 0,d.video=F.type!=="audio"?F:void 0,d.initSegment=h,d.id3=n$(i,s,c,c),r.samples.length&&(d.text=i$(r,s,c)),d}}function XNe(t,e,n,i){if(t===null)return!0;const r=Math.max(i,1),s=e-t.baseTime/t.timescale;return Math.abs(s-n)>r}function oL(t,e){const n=t==null?void 0:t.codec;if(n&&n.length>4)return n;if(e===kt.AUDIO){if(n==="ec-3"||n==="ac-3"||n==="alac")return n;if(n==="fLaC"||n==="Opus")return a2(n,!1);const i="mp4a.40.5";return se.info(`Parsed audio codec "${n}" or audio object type not handled. Using "${i}"`),i}return se.warn(`Unhandled video codec "${n}"`),n==="hvc1"||n==="hev1"?"hvc1.1.6.L120.90":n==="av01"?"av01.0.04M.08":"avc1.42e01e"}let Ra;try{Ra=self.performance.now.bind(self.performance)}catch{se.debug("Unable to use Performance API on this environment"),Ra=Ud==null?void 0:Ud.Date.now}const Rm=[{demux:wNe,remux:ONe},{demux:_o,remux:Tm},{demux:CNe,remux:Tm},{demux:LNe,remux:Tm}];Rm.splice(2,0,{demux:xNe,remux:Tm});class lL{constructor(e,n,i,r,s){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=n,this.config=i,this.vendor=r,this.id=s}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,n,i,r){const s=i.transmuxing;s.executeStart=Ra();let a=new Uint8Array(e);const{currentTransmuxState:o,transmuxConfig:l}=this;r&&(this.currentTransmuxState=r);const{contiguous:c,discontinuity:u,trackSwitch:d,accurateTimeOffset:f,timeOffset:h,initSegmentChange:m}=r||o,{audioCodec:p,videoCodec:v,defaultInitPts:y,duration:E,initSegmentData:S}=l,I=MNe(a,n);if(I&&I.method==="AES-128"){const W=this.getDecrypter();if(W.isSync()){let Z=W.softwareDecrypt(a,I.key.buffer,I.iv.buffer);if(i.part>-1&&(Z=W.flush()),!Z)return s.executeEnd=Ra(),TE(i);a=new Uint8Array(Z)}else return this.decryptionPromise=W.webCryptoDecrypt(a,I.key.buffer,I.iv.buffer).then(Z=>{const O=this.push(Z,null,i);return this.decryptionPromise=null,O}),this.decryptionPromise}const w=this.needsProbing(u,d);if(w){const W=this.configureTransmuxer(a);if(W)return se.warn(`[transmuxer] ${W.message}`),this.observer.emit(B.ERROR,B.ERROR,{type:tt.MEDIA_ERROR,details:Ee.FRAG_PARSING_ERROR,fatal:!1,error:W,reason:W.message}),s.executeEnd=Ra(),TE(i)}(u||d||m||w)&&this.resetInitSegment(S,p,v,E,n),(u||m||w)&&this.resetInitialTimestamp(y),c||this.resetContiguity();const N=this.transmux(a,I,h,f,i),F=this.currentTransmuxState;return F.contiguous=!0,F.discontinuity=!1,F.trackSwitch=!1,s.executeEnd=Ra(),N}flush(e){const n=e.transmuxing;n.executeStart=Ra();const{decrypter:i,currentTransmuxState:r,decryptionPromise:s}=this;if(s)return s.then(()=>this.flush(e));const a=[],{timeOffset:o}=r;if(i){const d=i.flush();d&&a.push(this.push(d,null,e))}const{demuxer:l,remuxer:c}=this;if(!l||!c)return n.executeEnd=Ra(),[TE(e)];const u=l.flush(o);return Cm(u)?u.then(d=>(this.flushRemux(a,d,e),a)):(this.flushRemux(a,u,e),a)}flushRemux(e,n,i){const{audioTrack:r,videoTrack:s,id3Track:a,textTrack:o}=n,{accurateTimeOffset:l,timeOffset:c}=this.currentTransmuxState;se.log(`[transmuxer.ts]: Flushed fragment ${i.sn}${i.part>-1?" p: "+i.part:""} of level ${i.level}`);const u=this.remuxer.remux(r,s,a,o,c,l,!0,this.id);e.push({remuxResult:u,chunkMeta:i}),i.transmuxing.executeEnd=Ra()}resetInitialTimestamp(e){const{demuxer:n,remuxer:i}=this;!n||!i||(n.resetTimeStamp(e),i.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:n}=this;!e||!n||(e.resetContiguity(),n.resetNextTimestamp())}resetInitSegment(e,n,i,r,s){const{demuxer:a,remuxer:o}=this;!a||!o||(a.resetInitSegment(e,n,i,r),o.resetInitSegment(e,n,i,s))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,n,i,r,s){let a;return n&&n.method==="SAMPLE-AES"?a=this.transmuxSampleAes(e,n,i,r,s):a=this.transmuxUnencrypted(e,i,r,s),a}transmuxUnencrypted(e,n,i,r){const{audioTrack:s,videoTrack:a,id3Track:o,textTrack:l}=this.demuxer.demux(e,n,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(s,a,o,l,n,i,!1,this.id),chunkMeta:r}}transmuxSampleAes(e,n,i,r,s){return this.demuxer.demuxSampleAes(e,n,i).then(a=>({remuxResult:this.remuxer.remux(a.audioTrack,a.videoTrack,a.id3Track,a.textTrack,i,r,!1,this.id),chunkMeta:s}))}configureTransmuxer(e){const{config:n,observer:i,typeSupported:r,vendor:s}=this;let a;for(let f=0,h=Rm.length;f<h;f++){var o;if((o=Rm[f].demux)!=null&&o.probe(e)){a=Rm[f];break}}if(!a)return new Error("Failed to find demuxer by probing fragment data");const l=this.demuxer,c=this.remuxer,u=a.remux,d=a.demux;(!c||!(c instanceof u))&&(this.remuxer=new u(i,n,r,s)),(!l||!(l instanceof d))&&(this.demuxer=new d(i,n,r),this.probe=d.probe)}needsProbing(e,n){return!this.demuxer||!this.remuxer||e||n}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new bR(this.config)),e}}function MNe(t,e){let n=null;return t.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(n=e),n}const TE=t=>({remuxResult:{},chunkMeta:t});function Cm(t){return"then"in t&&t.then instanceof Function}class PNe{constructor(e,n,i,r,s){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=n,this.initSegmentData=i,this.duration=r,this.defaultInitPts=s||null}}class YNe{constructor(e,n,i,r,s,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=n,this.accurateTimeOffset=i,this.trackSwitch=r,this.timeOffset=s,this.initSegmentChange=a}}var r$={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(n=!1));function r(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new r(u,d||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],h]:l._events[m].push(h):(l._events[m]=h,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new i:delete l._events[c]}function o(){this._events=new i,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,m=new Array(h);f<h;f++)m[f]=d[f].fn;return m},o.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,f,h,m){var p=n?n+c:c;if(!this._events[p])return!1;var v=this._events[p],y=arguments.length,E,S;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,f),!0;case 5:return v.fn.call(v.context,u,d,f,h),!0;case 6:return v.fn.call(v.context,u,d,f,h,m),!0}for(S=1,E=new Array(y-1);S<y;S++)E[S-1]=arguments[S];v.fn.apply(v.context,E)}else{var I=v.length,w;for(S=0;S<I;S++)switch(v[S].once&&this.removeListener(c,v[S].fn,void 0,!0),y){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,u);break;case 3:v[S].fn.call(v[S].context,u,d);break;case 4:v[S].fn.call(v[S].context,u,d,f);break;default:if(!E)for(w=1,E=new Array(y-1);w<y;w++)E[w-1]=arguments[w];v[S].fn.apply(v[S].context,E)}}return!0},o.prototype.on=function(c,u,d){return s(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return s(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,f){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return a(this,h),this;var m=this._events[h];if(m.fn)m.fn===u&&(!f||m.once)&&(!d||m.context===d)&&a(this,h);else{for(var p=0,v=[],y=m.length;p<y;p++)(m[p].fn!==u||f&&!m[p].once||d&&m[p].context!==d)&&v.push(m[p]);v.length?this._events[h]=v.length===1?v[0]:v:a(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new i,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(r$);var $Ne=r$.exports,RR=mxe($Ne);class s${constructor(e,n,i,r){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const s=e.config;this.hls=e,this.id=n,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=i,this.onFlush=r;const a=(c,u)=>{u=u||{},u.frag=this.frag,u.id=this.id,c===B.ERROR&&(this.error=u.error),this.hls.trigger(c,u)};this.observer=new RR,this.observer.on(B.FRAG_DECRYPTED,a),this.observer.on(B.ERROR,a);const o=pc(s.preferManagedMediaSource)||{isTypeSupported:()=>!1},l={mpeg:o.isTypeSupported("audio/mpeg"),mp3:o.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:o.isTypeSupported('audio/mp4; codecs="ac-3"')};if(this.useWorker&&typeof Worker<"u"&&(s.workerPath||dNe())){try{s.workerPath?(se.log(`loading Web Worker ${s.workerPath} for "${n}"`),this.workerContext=fNe(s.workerPath)):(se.log(`injecting Web Worker for "${n}"`),this.workerContext=hNe()),this.onwmsg=d=>this.onWorkerMessage(d);const{worker:u}=this.workerContext;u.addEventListener("message",this.onwmsg),u.onerror=d=>{const f=new Error(`${d.message}  (${d.filename}:${d.lineno})`);s.enableWorker=!1,se.warn(`Error in "${n}" Web Worker, fallback to inline`),this.hls.trigger(B.ERROR,{type:tt.OTHER_ERROR,details:Ee.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:f})},u.postMessage({cmd:"init",typeSupported:l,vendor:"",id:n,config:JSON.stringify(s)})}catch(u){se.warn(`Error setting up "${n}" Web Worker, fallback to inline`,u),this.resetWorker(),this.error=null,this.transmuxer=new lL(this.observer,l,s,"",n)}return}this.transmuxer=new lL(this.observer,l,s,"",n)}resetWorker(){if(this.workerContext){const{worker:e,objectURL:n}=this.workerContext;n&&self.URL.revokeObjectURL(n),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const n=this.transmuxer;n&&(n.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,n,i,r,s,a,o,l,c,u){var d,f;c.transmuxing.start=self.performance.now();const{transmuxer:h}=this,m=a?a.start:s.start,p=s.decryptdata,v=this.frag,y=!(v&&s.cc===v.cc),E=!(v&&c.level===v.level),S=v?c.sn-v.sn:-1,I=this.part?c.part-this.part.index:-1,w=S===0&&c.id>1&&c.id===(v==null?void 0:v.stats.chunkCount),N=!E&&(S===1||S===0&&(I===1||w&&I<=0)),F=self.performance.now();(E||S||s.stats.parsing.start===0)&&(s.stats.parsing.start=F),a&&(I||!N)&&(a.stats.parsing.start=F);const W=!(v&&((d=s.initSegment)==null?void 0:d.url)===((f=v.initSegment)==null?void 0:f.url)),Z=new YNe(y,N,l,E,m,W);if(!N||y||W){se.log(`[transmuxer-interface, ${s.type}]: Starting new transmux session for sn: ${c.sn} p: ${c.part} level: ${c.level} id: ${c.id}
        discontinuity: ${y}
        trackSwitch: ${E}
        contiguous: ${N}
        accurateTimeOffset: ${l}
        timeOffset: ${m}
        initSegmentChange: ${W}`);const O=new PNe(i,r,n,o,u);this.configureTransmuxer(O)}if(this.frag=s,this.part=a,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:p,chunkMeta:c,state:Z},e instanceof ArrayBuffer?[e]:[]);else if(h){const O=h.push(e,p,c,Z);Cm(O)?(h.async=!0,O.then(K=>{this.handleTransmuxComplete(K)}).catch(K=>{this.transmuxerError(K,c,"transmuxer-interface push error")})):(h.async=!1,this.handleTransmuxComplete(O))}}flush(e){e.transmuxing.start=self.performance.now();const{transmuxer:n}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(n){let i=n.flush(e);Cm(i)||n.async?(Cm(i)||(i=Promise.resolve(i)),i.then(s=>{this.handleFlushResult(s,e)}).catch(s=>{this.transmuxerError(s,e,"transmuxer-interface flush error")})):this.handleFlushResult(i,e)}}transmuxerError(e,n,i){this.hls&&(this.error=e,this.hls.trigger(B.ERROR,{type:tt.MEDIA_ERROR,details:Ee.FRAG_PARSING_ERROR,chunkMeta:n,frag:this.frag||void 0,fatal:!1,error:e,err:e,reason:i}))}handleFlushResult(e,n){e.forEach(i=>{this.handleTransmuxComplete(i)}),this.onFlush(n)}onWorkerMessage(e){const n=e.data;if(!(n!=null&&n.event)){se.warn(`worker message received with no ${n?"event name":"data"}`);return}const i=this.hls;if(this.hls)switch(n.event){case"init":{var r;const s=(r=this.workerContext)==null?void 0:r.objectURL;s&&self.URL.revokeObjectURL(s);break}case"transmuxComplete":{this.handleTransmuxComplete(n.data);break}case"flush":{this.onFlush(n.data);break}case"workerLog":se[n.data.logType]&&se[n.data.logType](n.data.message);break;default:{n.data=n.data||{},n.data.frag=this.frag,n.data.id=this.id,i.trigger(n.event,n.data);break}}}configureTransmuxer(e){const{transmuxer:n}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):n&&n.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const cL=100;class jNe extends vR{constructor(e,n,i){super(e,n,i,"[audio-stream-controller]",He.AUDIO),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:e}=this;e.on(B.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(B.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(B.MANIFEST_LOADING,this.onManifestLoading,this),e.on(B.LEVEL_LOADED,this.onLevelLoaded,this),e.on(B.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(B.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(B.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(B.ERROR,this.onError,this),e.on(B.BUFFER_RESET,this.onBufferReset,this),e.on(B.BUFFER_CREATED,this.onBufferCreated,this),e.on(B.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(B.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(B.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(B.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(B.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(B.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(B.MANIFEST_LOADING,this.onManifestLoading,this),e.off(B.LEVEL_LOADED,this.onLevelLoaded,this),e.off(B.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(B.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(B.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(B.ERROR,this.onError,this),e.off(B.BUFFER_RESET,this.onBufferReset,this),e.off(B.BUFFER_CREATED,this.onBufferCreated,this),e.off(B.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(B.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(B.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(B.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,{frag:n,id:i,initPTS:r,timescale:s}){if(i==="main"){const a=n.cc;this.initPTS[n.cc]={baseTime:r,timescale:s},this.log(`InitPTS for cc: ${a} found from main: ${r}`),this.videoTrackCC=a,this.state===xe.WAITING_INIT_PTS&&this.tick()}}startLoad(e){if(!this.levels){this.startPosition=e,this.state=xe.STOPPED;return}const n=this.lastCurrentTime;this.stopLoad(),this.setInterval(cL),n>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n,this.state=xe.IDLE):(this.loadedmetadata=!1,this.state=xe.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case xe.IDLE:this.doTickIdle();break;case xe.WAITING_TRACK:{var e;const{levels:i,trackId:r}=this,s=i==null||(e=i[r])==null?void 0:e.details;if(s){if(this.waitForCdnTuneIn(s))break;this.state=xe.WAITING_INIT_PTS}break}case xe.FRAG_LOADING_WAITING_RETRY:{var n;const i=performance.now(),r=this.retryDate;if(!r||i>=r||(n=this.media)!=null&&n.seeking){const{levels:s,trackId:a}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((s==null?void 0:s[a])||null),this.state=xe.IDLE}break}case xe.WAITING_INIT_PTS:{const i=this.waitingData;if(i){const{frag:r,part:s,cache:a,complete:o}=i;if(this.initPTS[r.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=xe.FRAG_LOADING;const l=a.flush(),c={frag:r,part:s,payload:l,networkDetails:null};this._handleFragmentLoadProgress(c),o&&super._handleFragmentLoadComplete(c)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${r.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const l=this.getLoadPosition(),c=Pt.bufferInfo(this.mediaBuffer,l,this.config.maxBufferHole);pS(c.end,this.config.maxFragLookUpTolerance,r)<0&&(this.log(`Waiting fragment cc (${r.cc}) @ ${r.start} cancelled because another fragment at ${c.end} is needed`),this.clearWaitingFragment())}}else this.state=xe.IDLE}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=xe.IDLE)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){const{hls:e,levels:n,media:i,trackId:r}=this,s=e.config;if(!this.buffering||!i&&(this.startFragRequested||!s.startFragPrefetch)||!(n!=null&&n[r]))return;const a=n[r],o=a.details;if(!o||o.live&&this.levelLastLoaded!==a||this.waitForCdnTuneIn(o)){this.state=xe.WAITING_TRACK;return}const l=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&l&&(this.bufferFlushed=!1,this.afterBufferFlushed(l,kt.AUDIO,He.AUDIO));const c=this.getFwdBufferInfo(l,He.AUDIO);if(c===null)return;if(!this.switchingTrack&&this._streamEnded(c,o)){e.trigger(B.BUFFER_EOS,{type:"audio"}),this.state=xe.ENDED;return}const u=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,He.MAIN),d=c.len,f=this.getMaxBufferLength(u==null?void 0:u.len),h=o.fragments,m=h[0].start,p=this.getLoadPosition(),v=this.flushing?p:c.end;if(this.switchingTrack&&i){const I=p;o.PTSKnown&&I<m&&(c.end>m||c.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),i.currentTime=m+.05)}if(d>=f&&!this.switchingTrack&&v<h[h.length-1].start)return;let y=this.getNextFragment(v,o),E=!1;if(y&&this.isLoopLoading(y,v)&&(E=!!y.gap,y=this.getNextFragmentLoopLoading(y,o,c,He.MAIN,f)),!y){this.bufferFlushed=!0;return}const S=u&&y.start>u.end+o.targetduration;if(S||!(u!=null&&u.len)&&c.len){const I=this.getAppendedFrag(y.start,He.MAIN);if(I===null||(E||(E=!!I.gap||!!S&&u.len===0),S&&!E||E&&c.nextStart&&c.nextStart<I.end))return}this.loadFragment(y,a,v)}getMaxBufferLength(e){const n=super.getMaxBufferLength();return e?Math.min(Math.max(n,e),this.config.maxMaxBufferLength):n}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(e,{audioTracks:n}){this.resetTransmuxer(),this.levels=n.map(i=>new Bd(i))}onAudioTrackSwitching(e,n){const i=!!n.url;this.trackId=n.id;const{fragCurrent:r}=this;r&&(r.abortRequests(),this.removeUnbufferedFrags(r.start)),this.resetLoadingState(),i?this.setInterval(cL):this.resetTransmuxer(),i?(this.switchingTrack=n,this.state=xe.IDLE,this.flushAudioIfNeeded(n)):(this.switchingTrack=null,this.bufferedTrack=n,this.state=xe.STOPPED),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(e,n){this.mainDetails=n.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(B.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,n){var i;if(this.mainDetails==null){this.cachedTrackLoadedData=n;return}const{levels:r}=this,{details:s,id:a}=n;if(!r){this.warn(`Audio tracks were reset while loading level ${a}`);return}this.log(`Audio track ${a} loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`);const o=r[a];let l=0;if(s.live||(i=o.details)!=null&&i.live){this.checkLiveUpdate(s);const u=this.mainDetails;if(s.deltaUpdateFailed||!u)return;if(!o.details&&s.hasProgramDateTime&&u.hasProgramDateTime)d2(s,u),l=s.fragments[0].start;else{var c;l=this.alignPlaylists(s,o.details,(c=this.levelLastLoaded)==null?void 0:c.details)}}o.details=s,this.levelLastLoaded=o,!this.startFragRequested&&(this.mainDetails||!s.live)&&this.setStartPosition(this.mainDetails||s,l),this.state===xe.WAITING_TRACK&&!this.waitForCdnTuneIn(s)&&(this.state=xe.IDLE),this.tick()}_handleFragmentLoadProgress(e){var n;const{frag:i,part:r,payload:s}=e,{config:a,trackId:o,levels:l}=this;if(!l){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);return}const c=l[o];if(!c){this.warn("Audio track is undefined on fragment load progress");return}const u=c.details;if(!u){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(i.start);return}const d=a.defaultAudioCodec||c.audioCodec||"mp4a.40.2";let f=this.transmuxer;f||(f=this.transmuxer=new s$(this.hls,He.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const h=this.initPTS[i.cc],m=(n=i.initSegment)==null?void 0:n.data;if(h!==void 0){const v=r?r.index:-1,y=v!==-1,E=new yR(i.level,i.sn,i.stats.chunkCount,s.byteLength,v,y);f.push(s,m,d,"",i,r,u.totalduration,!1,E,h)}else{this.log(`Unknown video PTS for cc ${i.cc}, waiting for video PTS before demuxing audio frag ${i.sn} of [${u.startSN} ,${u.endSN}],track ${o}`);const{cache:p}=this.waitingData=this.waitingData||{frag:i,part:r,cache:new MY,complete:!1};p.push(new Uint8Array(s)),this.waitingVideoCC=this.videoTrackCC,this.state=xe.WAITING_INIT_PTS}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,n){const i=n.tracks.audio;i&&(this.mediaBuffer=i.buffer||null),n.tracks.video&&(this.videoBuffer=n.tracks.video.buffer||null)}onFragBuffered(e,n){const{frag:i,part:r}=n;if(i.type!==He.AUDIO){if(!this.loadedmetadata&&i.type===He.MAIN){const s=this.videoBuffer||this.media;s&&Pt.getBuffered(s).length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(i)){this.warn(`Fragment ${i.sn}${r?" p: "+r.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(i.sn!=="initSegment"){this.fragPrevious=i;const s=this.switchingTrack;s&&(this.bufferedTrack=s,this.switchingTrack=null,this.hls.trigger(B.AUDIO_TRACK_SWITCHED,ii({},s)))}this.fragBufferedComplete(i,r)}onError(e,n){var i;if(n.fatal){this.state=xe.ERROR;return}switch(n.details){case Ee.FRAG_GAP:case Ee.FRAG_PARSING_ERROR:case Ee.FRAG_DECRYPT_ERROR:case Ee.FRAG_LOAD_ERROR:case Ee.FRAG_LOAD_TIMEOUT:case Ee.KEY_LOAD_ERROR:case Ee.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(He.AUDIO,n);break;case Ee.AUDIO_TRACK_LOAD_ERROR:case Ee.AUDIO_TRACK_LOAD_TIMEOUT:case Ee.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===xe.WAITING_TRACK&&((i=n.context)==null?void 0:i.type)===gt.AUDIO_TRACK&&(this.state=xe.IDLE);break;case Ee.BUFFER_APPEND_ERROR:case Ee.BUFFER_FULL_ERROR:if(!n.parent||n.parent!=="audio")return;if(n.details===Ee.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(n)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case Ee.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}onBufferFlushing(e,{type:n}){n!==kt.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:n}){if(n!==kt.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===xe.ENDED&&(this.state=xe.IDLE);const i=this.mediaBuffer||this.media;i&&(this.afterBufferFlushed(i,n,He.AUDIO),this.tick())}}_handleTransmuxComplete(e){var n;const i="audio",{hls:r}=this,{remuxResult:s,chunkMeta:a}=e,o=this.getCurrentContext(a);if(!o){this.resetWhenMissingContext(a);return}const{frag:l,part:c,level:u}=o,{details:d}=u,{audio:f,text:h,id3:m,initSegment:p}=s;if(this.fragContextChanged(l)||!d){this.fragmentTracker.removeFragment(l);return}if(this.state=xe.PARSING,this.switchingTrack&&f&&this.completeAudioSwitch(this.switchingTrack),p!=null&&p.tracks){const v=l.initSegment||l;this._bufferInitSegment(u,p.tracks,v,a),r.trigger(B.FRAG_PARSING_INIT_SEGMENT,{frag:v,id:i,tracks:p.tracks})}if(f){const{startPTS:v,endPTS:y,startDTS:E,endDTS:S}=f;c&&(c.elementaryStreams[kt.AUDIO]={startPTS:v,endPTS:y,startDTS:E,endDTS:S}),l.setElementaryStreamInfo(kt.AUDIO,v,y,E,S),this.bufferFragmentData(f,l,c,a)}if(m!=null&&(n=m.samples)!=null&&n.length){const v=Bn({id:i,frag:l,details:d},m);r.trigger(B.FRAG_PARSING_METADATA,v)}if(h){const v=Bn({id:i,frag:l,details:d},h);r.trigger(B.FRAG_PARSING_USERDATA,v)}}_bufferInitSegment(e,n,i,r){if(this.state!==xe.PARSING)return;n.video&&delete n.video;const s=n.audio;if(!s)return;s.id="audio";const a=e.audioCodec;this.log(`Init audio buffer, container:${s.container}, codecs[level/parsed]=[${a}/${s.codec}]`),a&&a.split(",").length===1&&(s.levelCodec=a),this.hls.trigger(B.BUFFER_CODECS,n);const o=s.initSegment;if(o!=null&&o.byteLength){const l={type:"audio",frag:i,part:null,chunkMeta:r,parent:i.type,data:o};this.hls.trigger(B.BUFFER_APPENDING,l)}this.tickImmediate()}loadFragment(e,n,i){const r=this.fragmentTracker.getState(e);if(this.fragCurrent=e,this.switchingTrack||r===Jn.NOT_LOADED||r===Jn.PARTIAL){var s;if(e.sn==="initSegment")this._loadInitSegment(e,n);else if((s=n.details)!=null&&s.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=xe.WAITING_INIT_PTS;const a=this.mainDetails;a&&a.fragments[0].start!==n.details.fragments[0].start&&d2(n.details,a)}else this.startFragRequested=!0,super.loadFragment(e,n,i)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:n,lang:i,assocLang:r,characteristics:s,audioCodec:a,channels:o}=this.bufferedTrack;nc({name:n,lang:i,assocLang:r,characteristics:s,audioCodec:a,channels:o},e,wl)||(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}}completeAudioSwitch(e){const{hls:n}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,n.trigger(B.AUDIO_TRACK_SWITCHED,ii({},e))}}function a$(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!vp(t[n].attrs,e[n].attrs))return!1;return!0}function vp(t,e,n){const i=t["STABLE-RENDITION-ID"];return i&&!n?i===e["STABLE-RENDITION-ID"]:!(n||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(r=>t[r]!==e[r])}function gS(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class KNe extends gR{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(B.MANIFEST_LOADING,this.onManifestLoading,this),e.on(B.MANIFEST_PARSED,this.onManifestParsed,this),e.on(B.LEVEL_LOADING,this.onLevelLoading,this),e.on(B.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(B.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(B.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(B.MANIFEST_LOADING,this.onManifestLoading,this),e.off(B.MANIFEST_PARSED,this.onManifestParsed,this),e.off(B.LEVEL_LOADING,this.onLevelLoading,this),e.off(B.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(B.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(B.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.audioTracks||[]}onAudioTrackLoaded(e,n){const{id:i,groupId:r,details:s}=n,a=this.tracksInGroup[i];if(!a||a.groupId!==r){this.warn(`Audio track with id:${i} and group:${r} not found in active group ${a==null?void 0:a.groupId}`);return}const o=a.details;a.details=n.details,this.log(`Audio track ${i} "${a.name}" lang:${a.lang} group:${r} loaded [${s.startSN}-${s.endSN}]`),i===this.trackId&&this.playlistLoaded(i,n,o)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const i=n.audioGroups||null,r=this.groupIds;let s=this.currentTrack;if(!i||(r==null?void 0:r.length)!==(i==null?void 0:i.length)||i!=null&&i.some(o=>(r==null?void 0:r.indexOf(o))===-1)){this.groupIds=i,this.trackId=-1,this.currentTrack=null;const o=this.tracks.filter(f=>!i||i.indexOf(f.groupId)!==-1);if(o.length)this.selectDefaultTrack&&!o.some(f=>f.default)&&(this.selectDefaultTrack=!1),o.forEach((f,h)=>{f.id=h});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=o;const l=this.hls.config.audioPreference;if(!s&&l){const f=zs(l,o,wl);if(f>-1)s=o[f];else{const h=zs(l,this.tracks);s=this.tracks[h]}}let c=this.findTrackId(s);c===-1&&s&&(c=this.findTrackId(null));const u={audioTracks:o};this.log(`Updating audio tracks, ${o.length} track(s) found in group(s): ${i==null?void 0:i.join(",")}`),this.hls.trigger(B.AUDIO_TRACKS_UPDATED,u);const d=this.trackId;if(c!==-1&&d===-1)this.setAudioTrack(c);else if(o.length&&d===-1){var a;const f=new Error(`No audio track selected for current audio group-ID(s): ${(a=this.groupIds)==null?void 0:a.join(",")} track count: ${o.length}`);this.warn(f.message),this.hls.trigger(B.ERROR,{type:tt.MEDIA_ERROR,details:Ee.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:f})}}else this.shouldReloadPlaylist(s)&&this.setAudioTrack(this.trackId)}onError(e,n){n.fatal||!n.context||n.context.type===gt.AUDIO_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&(this.requestScheduled=-1,this.checkRetry(n))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const n=this.hls;if(n.config.audioPreference=e,e){const i=this.allAudioTracks;if(this.selectDefaultTrack=!1,i.length){const r=this.currentTrack;if(r&&nc(e,r,wl))return r;const s=zs(e,this.tracksInGroup,wl);if(s>-1){const a=this.tracksInGroup[s];return this.setAudioTrack(s),a}else if(r){let a=n.loadLevel;a===-1&&(a=n.firstAutoLevel);const o=KVe(e,n.levels,i,a,wl);if(o===-1)return null;n.nextLoadLevel=o}if(e.channels||e.audioCodec){const a=zs(e,i);if(a>-1)return i[a]}}}return null}setAudioTrack(e){const n=this.tracksInGroup;if(e<0||e>=n.length){this.warn(`Invalid audio track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const i=this.currentTrack,r=n[e],s=r.details&&!r.details.live;if(e===this.trackId&&r===i&&s||(this.log(`Switching to audio-track ${e} "${r.name}" lang:${r.lang} group:${r.groupId} channels:${r.channels}`),this.trackId=e,this.currentTrack=r,this.hls.trigger(B.AUDIO_TRACK_SWITCHING,ii({},r)),s))return;const a=this.switchParams(r.url,i==null?void 0:i.details,r.details);this.loadPlaylist(a)}findTrackId(e){const n=this.tracksInGroup;for(let i=0;i<n.length;i++){const r=n[i];if(!(this.selectDefaultTrack&&!r.default)&&(!e||nc(e,r,wl)))return i}if(e){const{name:i,lang:r,assocLang:s,characteristics:a,audioCodec:o,channels:l}=e;for(let c=0;c<n.length;c++){const u=n[c];if(nc({name:i,lang:r,assocLang:s,characteristics:a,audioCodec:o,channels:l},u,wl))return c}for(let c=0;c<n.length;c++){const u=n[c];if(vp(e.attrs,u.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return c}for(let c=0;c<n.length;c++){const u=n[c];if(vp(e.attrs,u.attrs,["LANGUAGE"]))return c}}return-1}loadPlaylist(e){const n=this.currentTrack;if(this.shouldLoadPlaylist(n)&&n){super.loadPlaylist();const i=n.id,r=n.groupId;let s=n.url;if(e)try{s=e.addDirectives(s)}catch(a){this.warn(`Could not construct new URL with HLS Delivery Directives: ${a}`)}this.log(`loading audio-track playlist ${i} "${n.name}" lang:${n.lang} group:${r}`),this.clearTimer(),this.hls.trigger(B.AUDIO_TRACK_LOADING,{url:s,id:i,groupId:r,deliveryDirectives:e||null})}}}const uL=500;class zNe extends vR{constructor(e,n,i){super(e,n,i,"[subtitle-stream-controller]",He.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){const{hls:e}=this;e.on(B.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(B.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(B.MANIFEST_LOADING,this.onManifestLoading,this),e.on(B.LEVEL_LOADED,this.onLevelLoaded,this),e.on(B.ERROR,this.onError,this),e.on(B.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(B.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(B.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(B.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(B.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(B.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(B.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(B.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(B.MANIFEST_LOADING,this.onManifestLoading,this),e.off(B.LEVEL_LOADED,this.onLevelLoaded,this),e.off(B.ERROR,this.onError,this),e.off(B.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(B.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(B.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(B.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(B.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(B.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=xe.IDLE,this.setInterval(uL),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,n){this.mainDetails=n.details}onSubtitleFragProcessed(e,n){const{frag:i,success:r}=n;if(this.fragPrevious=i,this.state=xe.IDLE,!r)return;const s=this.tracksBuffered[this.currentTrackId];if(!s)return;let a;const o=i.start;for(let c=0;c<s.length;c++)if(o>=s[c].start&&o<=s[c].end){a=s[c];break}const l=i.start+i.duration;a?a.end=l:(a={start:o,end:l},s.push(a)),this.fragmentTracker.fragBuffered(i),this.fragBufferedComplete(i,null)}onBufferFlushing(e,n){const{startOffset:i,endOffset:r}=n;if(i===0&&r!==Number.POSITIVE_INFINITY){const s=r-1;if(s<=0)return;n.endOffsetSubtitles=Math.max(0,s),this.tracksBuffered.forEach(a=>{for(let o=0;o<a.length;){if(a[o].end<=s){a.shift();continue}else if(a[o].start<s)a[o].start=s;else break;o++}}),this.fragmentTracker.removeFragmentsInRange(i,s,He.SUBTITLE)}}onFragBuffered(e,n){if(!this.loadedmetadata&&n.frag.type===He.MAIN){var i;(i=this.media)!=null&&i.buffered.length&&(this.loadedmetadata=!0)}}onError(e,n){const i=n.frag;(i==null?void 0:i.type)===He.SUBTITLE&&(n.details===Ee.FRAG_GAP&&this.fragmentTracker.fragBuffered(i,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==xe.STOPPED&&(this.state=xe.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:n}){if(this.levels&&a$(this.levels,n)){this.levels=n.map(i=>new Bd(i));return}this.tracksBuffered=[],this.levels=n.map(i=>{const r=new Bd(i);return this.tracksBuffered[r.id]=[],r}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,He.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,n){var i;if(this.currentTrackId=n.id,!((i=this.levels)!=null&&i.length)||this.currentTrackId===-1){this.clearInterval();return}const r=this.levels[this.currentTrackId];r!=null&&r.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,r&&this.setInterval(uL)}onSubtitleTrackLoaded(e,n){var i;const{currentTrackId:r,levels:s}=this,{details:a,id:o}=n;if(!s){this.warn(`Subtitle tracks were reset while loading level ${o}`);return}const l=s[o];if(o>=s.length||!l)return;this.log(`Subtitle track ${o} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""},duration:${a.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let c=0;if(a.live||(i=l.details)!=null&&i.live){const d=this.mainDetails;if(a.deltaUpdateFailed||!d)return;const f=d.fragments[0];if(!l.details)a.hasProgramDateTime&&d.hasProgramDateTime?(d2(a,d),c=a.fragments[0].start):f&&(c=f.start,fS(a,c));else{var u;c=this.alignPlaylists(a,l.details,(u=this.levelLastLoaded)==null?void 0:u.details),c===0&&f&&(c=f.start,fS(a,c))}}l.details=a,this.levelLastLoaded=l,o===r&&(!this.startFragRequested&&(this.mainDetails||!a.live)&&this.setStartPosition(this.mainDetails||a,c),this.tick(),a.live&&!this.fragCurrent&&this.media&&this.state===xe.IDLE&&(u2(null,a.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),l.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:n,payload:i}=e,r=n.decryptdata,s=this.hls;if(!this.fragContextChanged(n)&&i&&i.byteLength>0&&r!=null&&r.key&&r.iv&&r.method==="AES-128"){const a=performance.now();this.decrypter.decrypt(new Uint8Array(i),r.key.buffer,r.iv.buffer).catch(o=>{throw s.trigger(B.ERROR,{type:tt.MEDIA_ERROR,details:Ee.FRAG_DECRYPT_ERROR,fatal:!1,error:o,reason:o.message,frag:n}),o}).then(o=>{const l=performance.now();s.trigger(B.FRAG_DECRYPTED,{frag:n,payload:o,stats:{tstart:a,tdecrypt:l}})}).catch(o=>{this.warn(`${o.name}: ${o.message}`),this.state=xe.IDLE})}}doTick(){if(!this.media){this.state=xe.IDLE;return}if(this.state===xe.IDLE){const{currentTrackId:e,levels:n}=this,i=n==null?void 0:n[e];if(!i||!n.length||!i.details)return;const{config:r}=this,s=this.getLoadPosition(),a=Pt.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],s,r.maxBufferHole),{end:o,len:l}=a,c=this.getFwdBufferInfo(this.media,He.MAIN),u=i.details,d=this.getMaxBufferLength(c==null?void 0:c.len)+u.levelTargetDuration;if(l>d)return;const f=u.fragments,h=f.length,m=u.edge;let p=null;const v=this.fragPrevious;if(o<m){const y=r.maxFragLookUpTolerance,E=o>m-y?0:y;p=u2(v,f,Math.max(f[0].start,o),E),!p&&v&&v.start<f[0].start&&(p=f[0])}else p=f[h-1];if(!p)return;if(p=this.mapToInitFragWhenRequired(p),p.sn!=="initSegment"){const y=p.sn-u.startSN,E=f[y-1];E&&E.cc===p.cc&&this.fragmentTracker.getState(E)===Jn.NOT_LOADED&&(p=E)}this.fragmentTracker.getState(p)===Jn.NOT_LOADED&&this.loadFragment(p,i,o)}}getMaxBufferLength(e){const n=super.getMaxBufferLength();return e?Math.max(n,e):n}loadFragment(e,n,i){this.fragCurrent=e,e.sn==="initSegment"?this._loadInitSegment(e,n):(this.startFragRequested=!0,super.loadFragment(e,n,i))}get mediaBufferTimeRanges(){return new JNe(this.tracksBuffered[this.currentTrackId]||[])}}class JNe{constructor(e){this.buffered=void 0;const n=(i,r,s)=>{if(r=r>>>0,r>s-1)throw new DOMException(`Failed to execute '${i}' on 'TimeRanges': The index provided (${r}) is greater than the maximum bound (${s})`);return e[r][i]};this.buffered={get length(){return e.length},end(i){return n("end",i,e.length)},start(i){return n("start",i,e.length)}}}}class HNe extends gR{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let n=null;const i=Em(this.media.textTracks);for(let s=0;s<i.length;s++)if(i[s].mode==="hidden")n=i[s];else if(i[s].mode==="showing"){n=i[s];break}const r=this.findTrackForTextTrack(n);this.subtitleTrack!==r&&this.setSubtitleTrack(r)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(B.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(B.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(B.MANIFEST_LOADING,this.onManifestLoading,this),e.on(B.MANIFEST_PARSED,this.onManifestParsed,this),e.on(B.LEVEL_LOADING,this.onLevelLoading,this),e.on(B.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(B.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(B.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(B.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(B.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(B.MANIFEST_LOADING,this.onManifestLoading,this),e.off(B.MANIFEST_PARSED,this.onManifestParsed,this),e.off(B.LEVEL_LOADING,this.onLevelLoading,this),e.off(B.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(B.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(B.ERROR,this.onError,this)}onMediaAttached(e,n){this.media=n.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),Em(this.media.textTracks).forEach(n=>{Su(n)}),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,n){this.tracks=n.subtitleTracks}onSubtitleTrackLoaded(e,n){const{id:i,groupId:r,details:s}=n,a=this.tracksInGroup[i];if(!a||a.groupId!==r){this.warn(`Subtitle track with id:${i} and group:${r} not found in active group ${a==null?void 0:a.groupId}`);return}const o=a.details;a.details=n.details,this.log(`Subtitle track ${i} "${a.name}" lang:${a.lang} group:${r} loaded [${s.startSN}-${s.endSN}]`),i===this.trackId&&this.playlistLoaded(i,n,o)}onLevelLoading(e,n){this.switchLevel(n.level)}onLevelSwitching(e,n){this.switchLevel(n.level)}switchLevel(e){const n=this.hls.levels[e];if(!n)return;const i=n.subtitleGroups||null,r=this.groupIds;let s=this.currentTrack;if(!i||(r==null?void 0:r.length)!==(i==null?void 0:i.length)||i!=null&&i.some(a=>(r==null?void 0:r.indexOf(a))===-1)){this.groupIds=i,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(u=>!i||i.indexOf(u.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(u=>u.default)&&(this.selectDefaultTrack=!1),a.forEach((u,d)=>{u.id=d});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const o=this.hls.config.subtitlePreference;if(!s&&o){this.selectDefaultTrack=!1;const u=zs(o,a);if(u>-1)s=a[u];else{const d=zs(o,this.tracks);s=this.tracks[d]}}let l=this.findTrackId(s);l===-1&&s&&(l=this.findTrackId(null));const c={subtitleTracks:a};this.log(`Updating subtitle tracks, ${a.length} track(s) found in "${i==null?void 0:i.join(",")}" group-id`),this.hls.trigger(B.SUBTITLE_TRACKS_UPDATED,c),l!==-1&&this.trackId===-1&&this.setSubtitleTrack(l)}else this.shouldReloadPlaylist(s)&&this.setSubtitleTrack(this.trackId)}findTrackId(e){const n=this.tracksInGroup,i=this.selectDefaultTrack;for(let r=0;r<n.length;r++){const s=n[r];if(!(i&&!s.default||!i&&!e)&&(!e||nc(s,e)))return r}if(e){for(let r=0;r<n.length;r++){const s=n[r];if(vp(e.attrs,s.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return r}for(let r=0;r<n.length;r++){const s=n[r];if(vp(e.attrs,s.attrs,["LANGUAGE"]))return r}}return-1}findTrackForTextTrack(e){if(e){const n=this.tracksInGroup;for(let i=0;i<n.length;i++){const r=n[i];if(gS(r,e))return i}}return-1}onError(e,n){n.fatal||!n.context||n.context.type===gt.SUBTITLE_TRACK&&n.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(n.context.groupId)!==-1)&&this.checkRetry(n)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){const n=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,n.length){const i=this.currentTrack;if(i&&nc(e,i))return i;const r=zs(e,this.tracksInGroup);if(r>-1){const s=this.tracksInGroup[r];return this.setSubtitleTrack(r),s}else{if(i)return null;{const s=zs(e,n);if(s>-1)return n[s]}}}}return null}loadPlaylist(e){super.loadPlaylist();const n=this.currentTrack;if(this.shouldLoadPlaylist(n)&&n){const i=n.id,r=n.groupId;let s=n.url;if(e)try{s=e.addDirectives(s)}catch(a){this.warn(`Could not construct new URL with HLS Delivery Directives: ${a}`)}this.log(`Loading subtitle playlist for id ${i}`),this.hls.trigger(B.SUBTITLE_TRACK_LOADING,{url:s,id:i,groupId:r,deliveryDirectives:e||null})}}toggleTrackModes(){const{media:e}=this;if(!e)return;const n=Em(e.textTracks),i=this.currentTrack;let r;if(i&&(r=n.filter(s=>gS(i,s))[0],r||this.warn(`Unable to find subtitle TextTrack with name "${i.name}" and language "${i.lang}"`)),[].slice.call(n).forEach(s=>{s.mode!=="disabled"&&s!==r&&(s.mode="disabled")}),r){const s=this.subtitleDisplay?"showing":"hidden";r.mode!==s&&(r.mode=s)}}setSubtitleTrack(e){const n=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=n.length||!Me(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const i=this.currentTrack,r=n[e]||null;if(this.trackId=e,this.currentTrack=r,this.toggleTrackModes(),!r){this.hls.trigger(B.SUBTITLE_TRACK_SWITCH,{id:e});return}const s=!!r.details&&!r.details.live;if(e===this.trackId&&r===i&&s)return;this.log(`Switching to subtitle-track ${e}`+(r?` "${r.name}" lang:${r.lang} group:${r.groupId}`:""));const{id:a,groupId:o="",name:l,type:c,url:u}=r;this.hls.trigger(B.SUBTITLE_TRACK_SWITCH,{id:a,groupId:o,name:l,type:c,url:u});const d=this.switchParams(r.url,i==null?void 0:i.details,r.details);this.loadPlaylist(d)}}class QNe{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,n,i){const r=this.queues[n];r.push(e),r.length===1&&!i&&this.executeNext(n)}insertAbort(e,n){this.queues[n].unshift(e),this.executeNext(n)}appendBlocker(e){let n;const i=new Promise(s=>{n=s}),r={execute:n,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(r,e),i}executeNext(e){const n=this.queues[e];if(n.length){const i=n[0];try{i.execute()}catch(r){se.warn(`[buffer-operation-queue]: Exception executing "${e}" SourceBuffer operation: ${r}`),i.onError(r);const s=this.buffers[e];s!=null&&s.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}}const dL=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;class qNe{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=i=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=i=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{const{media:i,mediaSource:r}=this;this.log("Media source opened"),i&&(i.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(B.MEDIA_ATTACHED,{media:i,mediaSource:r})),r&&r.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:i,_objectUrl:r}=this;i!==r&&se.error(`Media element src was set while attaching MediaSource (${r} > ${i})`)},this.hls=e;const n="[buffer-controller]";this.appendSource=lVe(pc(e.config.preferManagedMediaSource)),this.log=se.log.bind(se,n),this.warn=se.warn.bind(se,n),this.error=se.error.bind(se,n),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){const{hls:e}=this;e.on(B.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(B.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(B.MANIFEST_LOADING,this.onManifestLoading,this),e.on(B.MANIFEST_PARSED,this.onManifestParsed,this),e.on(B.BUFFER_RESET,this.onBufferReset,this),e.on(B.BUFFER_APPENDING,this.onBufferAppending,this),e.on(B.BUFFER_CODECS,this.onBufferCodecs,this),e.on(B.BUFFER_EOS,this.onBufferEos,this),e.on(B.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(B.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(B.FRAG_PARSED,this.onFragParsed,this),e.on(B.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:e}=this;e.off(B.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(B.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(B.MANIFEST_LOADING,this.onManifestLoading,this),e.off(B.MANIFEST_PARSED,this.onManifestParsed,this),e.off(B.BUFFER_RESET,this.onBufferReset,this),e.off(B.BUFFER_APPENDING,this.onBufferAppending,this),e.off(B.BUFFER_CODECS,this.onBufferCodecs,this),e.off(B.BUFFER_EOS,this.onBufferEos,this),e.off(B.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(B.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(B.FRAG_PARSED,this.onFragParsed,this),e.off(B.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new QNe(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,n){let i=2;(n.audio&&!n.video||!n.altAudio)&&(i=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=i,this.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(e,n){const i=this.media=n.media,r=pc(this.appendSource);if(i&&r){var s;const a=this.mediaSource=new r;this.log(`created media source: ${(s=a.constructor)==null?void 0:s.name}`),a.addEventListener("sourceopen",this._onMediaSourceOpen),a.addEventListener("sourceended",this._onMediaSourceEnded),a.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(a.addEventListener("startstreaming",this._onStartStreaming),a.addEventListener("endstreaming",this._onEndStreaming));const o=this._objectUrl=self.URL.createObjectURL(a);if(this.appendSource)try{i.removeAttribute("src");const l=self.ManagedMediaSource;i.disableRemotePlayback=i.disableRemotePlayback||l&&a instanceof l,hL(i),e_e(i,o),i.load()}catch{i.src=o}else i.src=o;i.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:e,mediaSource:n,_objectUrl:i}=this;if(n){if(this.log("media source detaching"),n.readyState==="open")try{n.endOfStream()}catch(r){this.warn(`onMediaDetaching: ${r.message} while calling endOfStream`)}this.onBufferReset(),n.removeEventListener("sourceopen",this._onMediaSourceOpen),n.removeEventListener("sourceended",this._onMediaSourceEnded),n.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(n.removeEventListener("startstreaming",this._onStartStreaming),n.removeEventListener("endstreaming",this._onEndStreaming)),e&&(e.removeEventListener("emptied",this._onMediaEmptied),i&&self.URL.revokeObjectURL(i),this.mediaSrc===i?(e.removeAttribute("src"),this.appendSource&&hL(e),e.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(B.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(e=>{this.resetBuffer(e)}),this._initSourceBuffer(),this.hls.resumeBuffering()}resetBuffer(e){const n=this.sourceBuffer[e];try{if(n){var i;this.removeBufferListeners(e),this.sourceBuffer[e]=void 0,(i=this.mediaSource)!=null&&i.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(n)}}catch(r){this.warn(`onBufferReset ${e}`,r)}}onBufferCodecs(e,n){const i=this.getSourceBufferTypes().length,r=Object.keys(n);if(r.forEach(a=>{if(i){const l=this.tracks[a];if(l&&typeof l.buffer.changeType=="function"){var o;const{id:c,codec:u,levelCodec:d,container:f,metadata:h}=n[a],m=FF(l.codec,l.levelCodec),p=m==null?void 0:m.replace(dL,"$1");let v=FF(u,d);const y=(o=v)==null?void 0:o.replace(dL,"$1");if(v&&p!==y){a.slice(0,5)==="audio"&&(v=a2(v,this.appendSource));const E=`${f};codecs=${v}`;this.appendChangeType(a,E),this.log(`switching codec ${m} to ${v}`),this.tracks[a]={buffer:l.buffer,codec:u,container:f,levelCodec:d,metadata:h,id:c}}}}else this.pendingTracks[a]=n[a]}),i)return;const s=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==s&&(this.log(`${s} bufferCodec event(s) expected ${r.join(",")}`),this.bufferCodecEventsExpected=s),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks()}appendChangeType(e,n){const{operationQueue:i}=this,r={execute:()=>{const s=this.sourceBuffer[e];s&&(this.log(`changing ${e} sourceBuffer type to ${n}`),s.changeType(n)),i.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:s=>{this.warn(`Failed to change ${e} SourceBuffer type`,s)}};i.append(r,e,!!this.pendingTracks[e])}onBufferAppending(e,n){const{hls:i,operationQueue:r,tracks:s}=this,{data:a,type:o,frag:l,part:c,chunkMeta:u}=n,d=u.buffering[o],f=self.performance.now();d.start=f;const h=l.stats.buffering,m=c?c.stats.buffering:null;h.start===0&&(h.start=f),m&&m.start===0&&(m.start=f);const p=s.audio;let v=!1;o==="audio"&&(p==null?void 0:p.container)==="audio/mpeg"&&(v=!this.lastMpegAudioChunk||u.id===1||this.lastMpegAudioChunk.sn!==u.sn,this.lastMpegAudioChunk=u);const y=l.start,E={execute:()=>{if(d.executeStart=self.performance.now(),v){const S=this.sourceBuffer[o];if(S){const I=y-S.timestampOffset;Math.abs(I)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${y} (delta: ${I}) sn: ${l.sn})`),S.timestampOffset=y)}}this.appendExecutor(a,o)},onStart:()=>{},onComplete:()=>{const S=self.performance.now();d.executeEnd=d.end=S,h.first===0&&(h.first=S),m&&m.first===0&&(m.first=S);const{sourceBuffer:I}=this,w={};for(const N in I)w[N]=Pt.getBuffered(I[N]);this.appendErrors[o]=0,o==="audio"||o==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(B.BUFFER_APPENDED,{type:o,frag:l,part:c,chunkMeta:u,parent:l.type,timeRanges:w})},onError:S=>{const I={type:tt.MEDIA_ERROR,parent:l.type,details:Ee.BUFFER_APPEND_ERROR,sourceBufferName:o,frag:l,part:c,chunkMeta:u,error:S,err:S,fatal:!1};if(S.code===DOMException.QUOTA_EXCEEDED_ERR)I.details=Ee.BUFFER_FULL_ERROR;else{const w=++this.appendErrors[o];I.details=Ee.BUFFER_APPEND_ERROR,this.warn(`Failed ${w}/${i.config.appendErrorMaxRetry} times to append segment in "${o}" sourceBuffer`),w>=i.config.appendErrorMaxRetry&&(I.fatal=!0)}i.trigger(B.ERROR,I)}};r.append(E,o,!!this.pendingTracks[o])}onBufferFlushing(e,n){const{operationQueue:i}=this,r=s=>({execute:this.removeExecutor.bind(this,s,n.startOffset,n.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(B.BUFFER_FLUSHED,{type:s})},onError:a=>{this.warn(`Failed to remove from ${s} SourceBuffer`,a)}});n.type?i.append(r(n.type),n.type):this.getSourceBufferTypes().forEach(s=>{i.append(r(s),s)})}onFragParsed(e,n){const{frag:i,part:r}=n,s=[],a=r?r.elementaryStreams:i.elementaryStreams;a[kt.AUDIOVIDEO]?s.push("audiovideo"):(a[kt.AUDIO]&&s.push("audio"),a[kt.VIDEO]&&s.push("video"));const o=()=>{const l=self.performance.now();i.stats.buffering.end=l,r&&(r.stats.buffering.end=l);const c=r?r.stats:i.stats;this.hls.trigger(B.FRAG_BUFFERED,{frag:i,part:r,stats:c,id:i.type})};s.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${i.type} level: ${i.level} sn: ${i.sn}`),this.blockBuffers(o,s)}onFragChanged(e,n){this.trimBuffers()}onBufferEos(e,n){this.getSourceBufferTypes().reduce((r,s)=>{const a=this.sourceBuffer[s];return a&&(!n.type||n.type===s)&&(a.ending=!0,a.ended||(a.ended=!0,this.log(`${s} sourceBuffer now EOS`))),r&&!!(!a||a.ended)},!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(s=>{const a=this.sourceBuffer[s];a&&(a.ending=!1)});const{mediaSource:r}=this;if(!r||r.readyState!=="open"){r&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${r.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),r.endOfStream()}))}onLevelUpdated(e,{details:n}){n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){const{hls:e,details:n,media:i}=this;if(!i||n===null||!this.getSourceBufferTypes().length)return;const s=e.config,a=i.currentTime,o=n.levelTargetDuration,l=n.live&&s.liveBackBufferLength!==null?s.liveBackBufferLength:s.backBufferLength;if(Me(l)&&l>0){const c=Math.max(l,o),u=Math.floor(a/o)*o-c;this.flushBackBuffer(a,o,u)}if(Me(s.frontBufferFlushThreshold)&&s.frontBufferFlushThreshold>0){const c=Math.max(s.maxBufferLength,s.frontBufferFlushThreshold),u=Math.max(c,o),d=Math.floor(a/o)*o+u;this.flushFrontBuffer(a,o,d)}}flushBackBuffer(e,n,i){const{details:r,sourceBuffer:s}=this;this.getSourceBufferTypes().forEach(o=>{const l=s[o];if(l){const c=Pt.getBuffered(l);if(c.length>0&&i>c.start(0)){if(this.hls.trigger(B.BACK_BUFFER_REACHED,{bufferEnd:i}),r!=null&&r.live)this.hls.trigger(B.LIVE_BACK_BUFFER_REACHED,{bufferEnd:i});else if(l.ended&&c.end(c.length-1)-e<n*2){this.log(`Cannot flush ${o} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(B.BUFFER_FLUSHING,{startOffset:0,endOffset:i,type:o})}}})}flushFrontBuffer(e,n,i){const{sourceBuffer:r}=this;this.getSourceBufferTypes().forEach(a=>{const o=r[a];if(o){const l=Pt.getBuffered(o),c=l.length;if(c<2)return;const u=l.start(c-1),d=l.end(c-1);if(i>u||e>=u&&e<=d)return;if(o.ended&&e-d<2*n){this.log(`Cannot flush ${a} front buffer while SourceBuffer is in ended state`);return}this.hls.trigger(B.BUFFER_FLUSHING,{startOffset:u,endOffset:1/0,type:a})}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")return;const{details:e,hls:n,media:i,mediaSource:r}=this,s=e.fragments[0].start+e.totalduration,a=i.duration,o=Me(r.duration)?r.duration:0;e.live&&n.config.liveDurationInfinity?(r.duration=1/0,this.updateSeekableRange(e)):(s>o&&s>a||!Me(a))&&(this.log(`Updating Media Source duration to ${s.toFixed(3)}`),r.duration=s)}updateSeekableRange(e){const n=this.mediaSource,i=e.fragments;if(i.length&&e.live&&n!=null&&n.setLiveSeekableRange){const s=Math.max(0,i[0].start),a=Math.max(s,s+e.totalduration);this.log(`Media Source duration is set to ${n.duration}. Setting seekable range to ${s}-${a}.`),n.setLiveSeekableRange(s,a)}}checkPendingTracks(){const{bufferCodecEventsExpected:e,operationQueue:n,pendingTracks:i}=this,r=Object.keys(i).length;if(r&&(!e||r===2||"audiovideo"in i)){this.createSourceBuffers(i),this.pendingTracks={};const s=this.getSourceBufferTypes();if(s.length)this.hls.trigger(B.BUFFER_CREATED,{tracks:this.tracks}),s.forEach(a=>{n.executeNext(a)});else{const a=new Error("could not create source buffer for media codec(s)");this.hls.trigger(B.ERROR,{type:tt.MEDIA_ERROR,details:Ee.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:a,reason:a.message})}}}createSourceBuffers(e){const{sourceBuffer:n,mediaSource:i}=this;if(!i)throw Error("createSourceBuffers called when mediaSource was null");for(const s in e)if(!n[s]){var r;const a=e[s];if(!a)throw Error(`source buffer exists for track ${s}, however track does not`);let o=((r=a.levelCodec)==null?void 0:r.indexOf(","))===-1?a.levelCodec:a.codec;o&&s.slice(0,5)==="audio"&&(o=a2(o,this.appendSource));const l=`${a.container};codecs=${o}`;this.log(`creating sourceBuffer(${l})`);try{const c=n[s]=i.addSourceBuffer(l),u=s;this.addBufferListener(u,"updatestart",this._onSBUpdateStart),this.addBufferListener(u,"updateend",this._onSBUpdateEnd),this.addBufferListener(u,"error",this._onSBUpdateError),this.appendSource&&this.addBufferListener(u,"bufferedchange",(d,f)=>{const h=f.removedRanges;h!=null&&h.length&&this.hls.trigger(B.BUFFER_FLUSHED,{type:s})}),this.tracks[s]={buffer:c,codec:o,container:a.container,levelCodec:a.levelCodec,metadata:a.metadata,id:a.id}}catch(c){this.error(`error while trying to add sourceBuffer: ${c.message}`),this.hls.trigger(B.ERROR,{type:tt.MEDIA_ERROR,details:Ee.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:c,sourceBufferName:s,mimeType:l})}}}get mediaSrc(){var e,n;const i=((e=this.media)==null||(n=e.querySelector)==null?void 0:n.call(e,"source"))||this.media;return i==null?void 0:i.src}_onSBUpdateStart(e){const{operationQueue:n}=this;n.current(e).onStart()}_onSBUpdateEnd(e){var n;if(((n=this.mediaSource)==null?void 0:n.readyState)==="closed"){this.resetBuffer(e);return}const{operationQueue:i}=this;i.current(e).onComplete(),i.shiftAndExecuteNext(e)}_onSBUpdateError(e,n){var i;const r=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(i=this.mediaSource)==null?void 0:i.readyState}`);this.error(`${r}`,n),this.hls.trigger(B.ERROR,{type:tt.MEDIA_ERROR,details:Ee.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:r,fatal:!1});const s=this.operationQueue.current(e);s&&s.onError(r)}removeExecutor(e,n,i){const{media:r,mediaSource:s,operationQueue:a,sourceBuffer:o}=this,l=o[e];if(!r||!s||!l){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),a.shiftAndExecuteNext(e);return}const c=Me(r.duration)?r.duration:1/0,u=Me(s.duration)?s.duration:1/0,d=Math.max(0,n),f=Math.min(i,c,u);f>d&&(!l.ending||l.ended)?(l.ended=!1,this.log(`Removing [${d},${f}] from the ${e} SourceBuffer`),l.remove(d,f)):a.shiftAndExecuteNext(e)}appendExecutor(e,n){const i=this.sourceBuffer[n];if(!i){if(!this.pendingTracks[n])throw new Error(`Attempting to append to the ${n} SourceBuffer, but it does not exist`);return}i.ended=!1,i.appendBuffer(e)}blockBuffers(e,n=this.getSourceBufferTypes()){if(!n.length){this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);return}const{operationQueue:i}=this,r=n.map(s=>i.appendBlocker(s));Promise.all(r).then(()=>{e(),n.forEach(s=>{const a=this.sourceBuffer[s];a!=null&&a.updating||i.shiftAndExecuteNext(s)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,n,i){const r=this.sourceBuffer[e];if(!r)return;const s=i.bind(this,e);this.listeners[e].push({event:n,listener:s}),r.addEventListener(n,s)}removeBufferListeners(e){const n=this.sourceBuffer[e];n&&this.listeners[e].forEach(i=>{n.removeEventListener(i.event,i.listener)})}}function hL(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(n=>{t.removeChild(n)})}function e_e(t,e){const n=self.document.createElement("source");n.type="video/mp4",n.src=e,t.appendChild(n)}const t_e={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},o$=t=>String.fromCharCode(t_e[t]||t),ts=15,pa=100,n_e={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},i_e={17:2,18:4,21:6,22:8,23:10,19:13,20:15},r_e={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},s_e={25:2,26:4,29:6,30:8,31:10,27:13,28:15},a_e=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class o_e{constructor(){this.time=null,this.verboseLevel=0}log(e,n){if(this.verboseLevel>=e){const i=typeof n=="function"?n():n;se.log(`${this.time} [${e}] ${i}`)}}}const El=function(e){const n=[];for(let i=0;i<e.length;i++)n.push(e[i].toString(16));return n};class l${constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const n=["foreground","underline","italics","background","flash"];for(let i=0;i<n.length;i++){const r=n[i];e.hasOwnProperty(r)&&(this[r]=e[r])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class l_e{constructor(){this.uchar=" ",this.penState=new l$}reset(){this.uchar=" ",this.penState.reset()}setChar(e,n){this.uchar=e,this.penState.copy(n)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class c_e{constructor(e){this.chars=[],this.pos=0,this.currPenState=new l$,this.cueStartTime=null,this.logger=void 0;for(let n=0;n<pa;n++)this.chars.push(new l_e);this.logger=e}equals(e){for(let n=0;n<pa;n++)if(!this.chars[n].equals(e.chars[n]))return!1;return!0}copy(e){for(let n=0;n<pa;n++)this.chars[n].copy(e.chars[n])}isEmpty(){let e=!0;for(let n=0;n<pa;n++)if(!this.chars[n].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>pa&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=pa)}moveCursor(e){const n=this.pos+e;if(e>1)for(let i=this.pos+1;i<n+1;i++)this.chars[i].setPenState(this.currPenState);this.setCursor(n)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const n=o$(e);if(this.pos>=pa){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+n+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(n,this.currPenState),this.moveCursor(1)}clearFromPos(e){let n;for(n=e;n<pa;n++)this.chars[n].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let n=!0;for(let i=0;i<pa;i++){const r=this.chars[i].uchar;r!==" "&&(n=!1),e.push(r)}return n?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class RE{constructor(e){this.rows=[],this.currRow=ts-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let n=0;n<ts;n++)this.rows.push(new c_e(e));this.logger=e}reset(){for(let e=0;e<ts;e++)this.rows[e].clear();this.currRow=ts-1}equals(e){let n=!0;for(let i=0;i<ts;i++)if(!this.rows[i].equals(e.rows[i])){n=!1;break}return n}copy(e){for(let n=0;n<ts;n++)this.rows[n].copy(e.rows[n])}isEmpty(){let e=!0;for(let n=0;n<ts;n++)if(!this.rows[n].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+JSON.stringify(e));let n=e.row-1;if(this.nrRollUpRows&&n<this.nrRollUpRows-1&&(n=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==n){for(let o=0;o<ts;o++)this.rows[o].clear();const s=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){const o=a.rows[s].cueStartTime,l=this.logger.time;if(o!==null&&l!==null&&o<l)for(let c=0;c<this.nrRollUpRows;c++)this.rows[n-this.nrRollUpRows+c+1].copy(a.rows[s+c])}}this.currRow=n;const i=this.rows[this.currRow];if(e.indent!==null){const s=e.indent,a=Math.max(s-1,0);i.setCursor(e.indent),e.color=i.chars[a].penState.foreground}const r={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(r)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,n=this.rows.splice(e,1)[0];n.clear(),this.rows.splice(this.currRow,0,n),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const n=[];let i="",r=-1;for(let s=0;s<ts;s++){const a=this.rows[s].getTextString();a&&(r=s+1,e?n.push("Row "+r+": '"+a+"'"):n.push(a.trim()))}return n.length>0&&(e?i="["+n.join(" | ")+"]":i=n.join(`
`)),i}getTextAndFormat(){return this.rows}}class fL{constructor(e,n,i){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=n,this.mode=null,this.verbose=0,this.displayedMemory=new RE(i),this.nonDisplayedMemory=new RE(i),this.lastOutputScreen=new RE(i),this.currRollUpRow=this.displayedMemory.rows[ts-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=i}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[ts-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let i=0;i<e.length;i++)this.writeScreen.insertChar(e[i]);const n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>n+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const n={flash:!1};if(n.underline=e%2===1,n.italics=e>=46,n.italics)n.foreground="white";else{const i=Math.floor(e/2)-16,r=["white","green","blue","cyan","red","yellow","magenta"];n.foreground=r[i]}this.logger.log(2,"MIDROW: "+JSON.stringify(n)),this.writeScreen.setPen(n)}outputDataUpdate(e=!1){const n=this.logger.time;n!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=n:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,n,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:n),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class pL{constructor(e,n,i){this.channels=void 0,this.currentChannel=0,this.cmdHistory=d_e(),this.logger=void 0;const r=this.logger=new o_e;this.channels=[null,new fL(e,n,r),new fL(e+1,i,r)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,n){this.channels[e].setHandler(n)}addData(e,n){this.logger.time=e;for(let i=0;i<n.length;i+=2){const r=n[i]&127,s=n[i+1]&127;let a=!1,o=null;if(r===0&&s===0)continue;this.logger.log(3,()=>"["+El([n[i],n[i+1]])+"] -> ("+El([r,s])+")");const l=this.cmdHistory;if(r>=16&&r<=31){if(u_e(r,s,l)){V1(null,null,l),this.logger.log(3,()=>"Repeated command ("+El([r,s])+") is dropped");continue}V1(r,s,this.cmdHistory),a=this.parseCmd(r,s),a||(a=this.parseMidrow(r,s)),a||(a=this.parsePAC(r,s)),a||(a=this.parseBackgroundAttributes(r,s))}else V1(null,null,l);if(!a&&(o=this.parseChars(r,s),o)){const u=this.currentChannel;u&&u>0?this.channels[u].insertChars(o):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!a&&!o&&this.logger.log(2,()=>"Couldn't parse cleaned data "+El([r,s])+" orig: "+El([n[i],n[i+1]]))}}parseCmd(e,n){const i=(e===20||e===28||e===21||e===29)&&n>=32&&n<=47,r=(e===23||e===31)&&n>=33&&n<=35;if(!(i||r))return!1;const s=e===20||e===21||e===23?1:2,a=this.channels[s];return e===20||e===21||e===28||e===29?n===32?a.ccRCL():n===33?a.ccBS():n===34?a.ccAOF():n===35?a.ccAON():n===36?a.ccDER():n===37?a.ccRU(2):n===38?a.ccRU(3):n===39?a.ccRU(4):n===40?a.ccFON():n===41?a.ccRDC():n===42?a.ccTR():n===43?a.ccRTD():n===44?a.ccEDM():n===45?a.ccCR():n===46?a.ccENM():n===47&&a.ccEOC():a.ccTO(n-32),this.currentChannel=s,!0}parseMidrow(e,n){let i=0;if((e===17||e===25)&&n>=32&&n<=47){if(e===17?i=1:i=2,i!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const r=this.channels[i];return r?(r.ccMIDROW(n),this.logger.log(3,()=>"MIDROW ("+El([e,n])+")"),!0):!1}return!1}parsePAC(e,n){let i;const r=(e>=17&&e<=23||e>=25&&e<=31)&&n>=64&&n<=127,s=(e===16||e===24)&&n>=64&&n<=95;if(!(r||s))return!1;const a=e<=23?1:2;n>=64&&n<=95?i=a===1?n_e[e]:r_e[e]:i=a===1?i_e[e]:s_e[e];const o=this.channels[a];return o?(o.setPAC(this.interpretPAC(i,n)),this.currentChannel=a,!0):!1}interpretPAC(e,n){let i;const r={color:null,italics:!1,indent:null,underline:!1,row:e};return n>95?i=n-96:i=n-64,r.underline=(i&1)===1,i<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(i/2)]:i<=15?(r.italics=!0,r.color="white"):r.indent=Math.floor((i-16)/2)*4,r}parseChars(e,n){let i,r=null,s=null;if(e>=25?(i=2,s=e-8):(i=1,s=e),s>=17&&s<=19){let a;s===17?a=n+80:s===18?a=n+112:a=n+144,this.logger.log(2,()=>"Special char '"+o$(a)+"' in channel "+i),r=[a]}else e>=32&&e<=127&&(r=n===0?[e]:[e,n]);return r&&this.logger.log(3,()=>"Char codes =  "+El(r).join(",")),r}parseBackgroundAttributes(e,n){const i=(e===16||e===24)&&n>=32&&n<=47,r=(e===23||e===31)&&n>=45&&n<=47;if(!(i||r))return!1;let s;const a={};e===16||e===24?(s=Math.floor((n-32)/2),a.background=a_e[s],n%2===1&&(a.background=a.background+"_semi")):n===45?a.background="transparent":(a.foreground="black",n===47&&(a.underline=!0));const o=e<=23?1:2;return this.channels[o].setBkgData(a),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const n=this.channels[e];n&&n.reset()}V1(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let n=0;n<this.channels.length;n++){const i=this.channels[n];i&&i.cueSplitAtTime(e)}}}function V1(t,e,n){n.a=t,n.b=e}function u_e(t,e,n){return n.a===t&&n.b===e}function d_e(){return{a:null,b:null}}class N1{constructor(e,n){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=n}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,n,i){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=n,this.screen=i,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var CR=function(){if(Ud!=null&&Ud.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function n(o,l){if(typeof l!="string"||!Array.isArray(o))return!1;const c=l.toLowerCase();return~o.indexOf(c)?c:!1}function i(o){return n(t,o)}function r(o){return n(e,o)}function s(o,...l){let c=1;for(;c<arguments.length;c++){const u=arguments[c];for(const d in u)o[d]=u[d]}return o}function a(o,l,c){const u=this,d={enumerable:!0};u.hasBeenReset=!1;let f="",h=!1,m=o,p=l,v=c,y=null,E="",S=!0,I="auto",w="start",N=50,F="middle",W=50,Z="middle";Object.defineProperty(u,"id",s({},d,{get:function(){return f},set:function(O){f=""+O}})),Object.defineProperty(u,"pauseOnExit",s({},d,{get:function(){return h},set:function(O){h=!!O}})),Object.defineProperty(u,"startTime",s({},d,{get:function(){return m},set:function(O){if(typeof O!="number")throw new TypeError("Start time must be set to a number.");m=O,this.hasBeenReset=!0}})),Object.defineProperty(u,"endTime",s({},d,{get:function(){return p},set:function(O){if(typeof O!="number")throw new TypeError("End time must be set to a number.");p=O,this.hasBeenReset=!0}})),Object.defineProperty(u,"text",s({},d,{get:function(){return v},set:function(O){v=""+O,this.hasBeenReset=!0}})),Object.defineProperty(u,"region",s({},d,{get:function(){return y},set:function(O){y=O,this.hasBeenReset=!0}})),Object.defineProperty(u,"vertical",s({},d,{get:function(){return E},set:function(O){const K=i(O);if(K===!1)throw new SyntaxError("An invalid or illegal string was specified.");E=K,this.hasBeenReset=!0}})),Object.defineProperty(u,"snapToLines",s({},d,{get:function(){return S},set:function(O){S=!!O,this.hasBeenReset=!0}})),Object.defineProperty(u,"line",s({},d,{get:function(){return I},set:function(O){if(typeof O!="number"&&O!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");I=O,this.hasBeenReset=!0}})),Object.defineProperty(u,"lineAlign",s({},d,{get:function(){return w},set:function(O){const K=r(O);if(!K)throw new SyntaxError("An invalid or illegal string was specified.");w=K,this.hasBeenReset=!0}})),Object.defineProperty(u,"position",s({},d,{get:function(){return N},set:function(O){if(O<0||O>100)throw new Error("Position must be between 0 and 100.");N=O,this.hasBeenReset=!0}})),Object.defineProperty(u,"positionAlign",s({},d,{get:function(){return F},set:function(O){const K=r(O);if(!K)throw new SyntaxError("An invalid or illegal string was specified.");F=K,this.hasBeenReset=!0}})),Object.defineProperty(u,"size",s({},d,{get:function(){return W},set:function(O){if(O<0||O>100)throw new Error("Size must be between 0 and 100.");W=O,this.hasBeenReset=!0}})),Object.defineProperty(u,"align",s({},d,{get:function(){return Z},set:function(O){const K=r(O);if(!K)throw new SyntaxError("An invalid or illegal string was specified.");Z=K,this.hasBeenReset=!0}})),u.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a}();class h_e{decode(e,n){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function c$(t){function e(i,r,s,a){return(i|0)*3600+(r|0)*60+(s|0)+parseFloat(a||0)}const n=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?e(n[2],n[3],0,n[4]):e(n[1],n[2],n[3],n[4]):null}class f_e{constructor(){this.values=Object.create(null)}set(e,n){!this.get(e)&&n!==""&&(this.values[e]=n)}get(e,n,i){return i?this.has(e)?this.values[e]:n[i]:this.has(e)?this.values[e]:n}has(e){return e in this.values}alt(e,n,i){for(let r=0;r<i.length;++r)if(n===i[r]){this.set(e,n);break}}integer(e,n){/^-?\d+$/.test(n)&&this.set(e,parseInt(n,10))}percent(e,n){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(n)){const i=parseFloat(n);if(i>=0&&i<=100)return this.set(e,i),!0}return!1}}function u$(t,e,n,i){const r=i?t.split(i):[t];for(const s in r){if(typeof r[s]!="string")continue;const a=r[s].split(n);if(a.length!==2)continue;const o=a[0],l=a[1];e(o,l)}}const yS=new CR(0,0,""),_1=yS.align==="middle"?"middle":"center";function p_e(t,e,n){const i=t;function r(){const o=c$(t);if(o===null)throw new Error("Malformed timestamp: "+i);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function s(o,l){const c=new f_e;u$(o,function(f,h){let m;switch(f){case"region":for(let p=n.length-1;p>=0;p--)if(n[p].id===h){c.set(f,n[p].region);break}break;case"vertical":c.alt(f,h,["rl","lr"]);break;case"line":m=h.split(","),c.integer(f,m[0]),c.percent(f,m[0])&&c.set("snapToLines",!1),c.alt(f,m[0],["auto"]),m.length===2&&c.alt("lineAlign",m[1],["start",_1,"end"]);break;case"position":m=h.split(","),c.percent(f,m[0]),m.length===2&&c.alt("positionAlign",m[1],["start",_1,"end","line-left","line-right","auto"]);break;case"size":c.percent(f,h);break;case"align":c.alt(f,h,["start",_1,"end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");let u=c.get("line","auto");u==="auto"&&yS.line===-1&&(u=-1),l.line=u,l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100),l.align=c.get("align",_1);let d=c.get("position","auto");d==="auto"&&yS.position===50&&(d=l.align==="start"||l.align==="left"?0:l.align==="end"||l.align==="right"?100:50),l.position=d}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=r(),a(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+i);t=t.slice(3),a(),e.endTime=r(),a(),s(t,e)}function d$(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class m_e{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new h_e,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const n=this;e&&(n.buffer+=n.decoder.decode(e,{stream:!0}));function i(){let s=n.buffer,a=0;for(s=d$(s);a<s.length&&s[a]!=="\r"&&s[a]!==`
`;)++a;const o=s.slice(0,a);return s[a]==="\r"&&++a,s[a]===`
`&&++a,n.buffer=s.slice(a),o}function r(s){u$(s,function(a,o){},/:/)}try{let s="";if(n.state==="INITIAL"){if(!/\r\n|\n/.test(n.buffer))return this;s=i();const o=s.match(/^()?WEBVTT([ \t].*)?$/);if(!(o!=null&&o[0]))throw new Error("Malformed WebVTT signature.");n.state="HEADER"}let a=!1;for(;n.buffer;){if(!/\r\n|\n/.test(n.buffer))return this;switch(a?a=!1:s=i(),n.state){case"HEADER":/:/.test(s)?r(s):s||(n.state="ID");continue;case"NOTE":s||(n.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){n.state="NOTE";break}if(!s)continue;if(n.cue=new CR(0,0,""),n.state="CUE",s.indexOf("-->")===-1){n.cue.id=s;continue}case"CUE":if(!n.cue){n.state="BADCUE";continue}try{p_e(s,n.cue,n.regionList)}catch{n.cue=null,n.state="BADCUE";continue}n.state="CUETEXT";continue;case"CUETEXT":{const o=s.indexOf("-->")!==-1;if(!s||o&&(a=!0)){n.oncue&&n.cue&&n.oncue(n.cue),n.cue=null,n.state="ID";continue}if(n.cue===null)continue;n.cue.text&&(n.cue.text+=`
`),n.cue.text+=s}continue;case"BADCUE":s||(n.state="ID")}}}catch{n.state==="CUETEXT"&&n.cue&&n.oncue&&n.oncue(n.cue),n.cue=null,n.state=n.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(n){e.onparsingerror&&e.onparsingerror(n)}return e.onflush&&e.onflush(),this}}const g_e=/\r\n|\n\r|\n|\r/g,CE=function(e,n,i=0){return e.slice(i,i+n.length)===n},y_e=function(e){let n=parseInt(e.slice(-3));const i=parseInt(e.slice(-6,-4)),r=parseInt(e.slice(-9,-7)),s=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!Me(n)||!Me(i)||!Me(r)||!Me(s))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return n+=1e3*i,n+=60*1e3*r,n+=60*60*1e3*s,n},IE=function(e){let n=5381,i=e.length;for(;i;)n=n*33^e.charCodeAt(--i);return(n>>>0).toString()};function IR(t,e,n){return IE(t.toString())+IE(e.toString())+IE(n)}const b_e=function(e,n,i){let r=e[n],s=e[r.prevCC];if(!s||!s.new&&r.new){e.ccOffset=e.presentationOffset=r.start,r.new=!1;return}for(;(a=s)!=null&&a.new;){var a;e.ccOffset+=r.start-s.start,r.new=!1,r=s,s=e[r.prevCC]}e.presentationOffset=i};function v_e(t,e,n,i,r,s,a){const o=new m_e,l=ta(new Uint8Array(t)).trim().replace(g_e,`
`).split(`
`),c=[],u=e?BNe(e.baseTime,e.timescale):0;let d="00:00.000",f=0,h=0,m,p=!0;o.oncue=function(v){const y=n[i];let E=n.ccOffset;const S=(f-u)/9e4;if(y!=null&&y.new&&(h!==void 0?E=n.ccOffset=y.start:b_e(n,i,S)),S){if(!e){m=new Error("Missing initPTS for VTT MPEGTS");return}E=S-n.presentationOffset}const I=v.endTime-v.startTime,w=xr((v.startTime+E-h)*9e4,r*9e4)/9e4;v.startTime=Math.max(w,0),v.endTime=Math.max(w+I,0);const N=v.text.trim();v.text=decodeURIComponent(encodeURIComponent(N)),v.id||(v.id=IR(v.startTime,v.endTime,N)),v.endTime>0&&c.push(v)},o.onparsingerror=function(v){m=v},o.onflush=function(){if(m){a(m);return}s(c)},l.forEach(v=>{if(p)if(CE(v,"X-TIMESTAMP-MAP=")){p=!1,v.slice(16).split(",").forEach(y=>{CE(y,"LOCAL:")?d=y.slice(6):CE(y,"MPEGTS:")&&(f=parseInt(y.slice(7)))});try{h=y_e(d)/1e3}catch(y){m=y}return}else v===""&&(p=!1);o.parse(v+`
`)}),o.flush()}const wE="stpp.ttml.im1t",h$=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,f$=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,E_e={left:"start",center:"center",right:"end",start:"start",end:"end"};function mL(t,e,n,i){const r=at(new Uint8Array(t),["mdat"]);if(r.length===0){i(new Error("Could not parse IMSC1 mdat"));return}const s=r.map(o=>ta(o)),a=UNe(e.baseTime,1,e.timescale);try{s.forEach(o=>n(A_e(o,a)))}catch(o){i(o)}}function A_e(t,e){const r=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!r)throw new Error("Invalid ttml");const s={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},a=Object.keys(s).reduce((d,f)=>(d[f]=r.getAttribute(`ttp:${f}`)||s[f],d),{}),o=r.getAttribute("xml:space")!=="preserve",l=gL(xE(r,"styling","style")),c=gL(xE(r,"layout","region")),u=xE(r,"body","[begin]");return[].map.call(u,d=>{const f=p$(d,o);if(!f||!d.hasAttribute("begin"))return null;const h=NE(d.getAttribute("begin"),a),m=NE(d.getAttribute("dur"),a);let p=NE(d.getAttribute("end"),a);if(h===null)throw yL(d);if(p===null){if(m===null)throw yL(d);p=h+m}const v=new CR(h-e,p-e,f);v.id=IR(v.startTime,v.endTime,v.text);const y=c[d.getAttribute("region")],E=l[d.getAttribute("style")],S=S_e(y,E,l),{textAlign:I}=S;if(I){const w=E_e[I];w&&(v.lineAlign=w),v.align=I}return Bn(v,S),v}).filter(d=>d!==null)}function xE(t,e,n){const i=t.getElementsByTagName(e)[0];return i?[].slice.call(i.querySelectorAll(n)):[]}function gL(t){return t.reduce((e,n)=>{const i=n.getAttribute("xml:id");return i&&(e[i]=n),e},{})}function p$(t,e){return[].slice.call(t.childNodes).reduce((n,i,r)=>{var s;return i.nodeName==="br"&&r?n+`
`:(s=i.childNodes)!=null&&s.length?p$(i,e):e?n+i.textContent.trim().replace(/\s+/g," "):n+i.textContent},"")}function S_e(t,e,n){const i="http://www.w3.org/ns/ttml#styling";let r=null;const s=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return a&&n.hasOwnProperty(a)&&(r=n[a]),s.reduce((o,l)=>{const c=VE(e,i,l)||VE(t,i,l)||VE(r,i,l);return c&&(o[l]=c),o},{})}function VE(t,e,n){return t&&t.hasAttributeNS(e,n)?t.getAttributeNS(e,n):null}function yL(t){return new Error(`Could not parse ttml timestamp ${t}`)}function NE(t,e){if(!t)return null;let n=c$(t);return n===null&&(h$.test(t)?n=T_e(t,e):f$.test(t)&&(n=R_e(t,e))),n}function T_e(t,e){const n=h$.exec(t),i=(n[4]|0)+(n[5]|0)/e.subFrameRate;return(n[1]|0)*3600+(n[2]|0)*60+(n[3]|0)+i/e.frameRate}function R_e(t,e){const n=f$.exec(t),i=Number(n[1]);switch(n[2]){case"h":return i*3600;case"m":return i*60;case"ms":return i*1e3;case"f":return i/e.frameRate;case"t":return i/e.tickRate}return i}class C_e{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=vL(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(B.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(B.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(B.MANIFEST_LOADING,this.onManifestLoading,this),e.on(B.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(B.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(B.FRAG_LOADING,this.onFragLoading,this),e.on(B.FRAG_LOADED,this.onFragLoaded,this),e.on(B.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(B.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(B.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(B.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(B.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(B.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(B.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(B.MANIFEST_LOADING,this.onManifestLoading,this),e.off(B.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(B.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(B.FRAG_LOADING,this.onFragLoading,this),e.off(B.FRAG_LOADED,this.onFragLoaded,this),e.off(B.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(B.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(B.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(B.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(B.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){const e=new N1(this,"textTrack1"),n=new N1(this,"textTrack2"),i=new N1(this,"textTrack3"),r=new N1(this,"textTrack4");this.cea608Parser1=new pL(1,e,n),this.cea608Parser2=new pL(3,i,r)}}addCues(e,n,i,r,s){let a=!1;for(let o=s.length;o--;){const l=s[o],c=I_e(l[0],l[1],n,i);if(c>=0&&(l[0]=Math.min(l[0],n),l[1]=Math.max(l[1],i),a=!0,c/(i-n)>.5))return}if(a||s.push([n,i]),this.config.renderTextTracksNatively){const o=this.captionsTracks[e];this.Cues.newCue(o,n,i,r)}else{const o=this.Cues.newCue(null,n,i,r);this.hls.trigger(B.CUES_PARSED,{type:"captions",cues:o,track:e})}}onInitPtsFound(e,{frag:n,id:i,initPTS:r,timescale:s}){const{unparsedVttFrags:a}=this;i==="main"&&(this.initPTS[n.cc]={baseTime:r,timescale:s}),a.length&&(this.unparsedVttFrags=[],a.forEach(o=>{this.onFragLoaded(B.FRAG_LOADED,o)}))}getExistingTrack(e,n){const{media:i}=this;if(i)for(let r=0;r<i.textTracks.length;r++){const s=i.textTracks[r];if(bL(s,{name:e,lang:n}))return s}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:n,captionsTracks:i,media:r}=this,{label:s,languageCode:a}=n[e],o=this.getExistingTrack(s,a);if(o)i[e]=o,Su(i[e]),LY(i[e],r);else{const l=this.createTextTrack("captions",s,a);l&&(l[e]=!0,i[e]=l)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const n=this.captionsProperties[e];if(!n)return;const i=n.label,r={_id:e,label:i,kind:"captions",default:n.media?!!n.media.default:!1,closedCaptions:n.media};this.nonNativeCaptionsTracks[e]=r,this.hls.trigger(B.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[r]})}createTextTrack(e,n,i){const r=this.media;if(r)return r.addTextTrack(e,n,i)}onMediaAttaching(e,n){this.media=n.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:e}=this;Object.keys(e).forEach(n=>{Su(e[n]),delete e[n]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=vL(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const n=e.textTracks;if(n)for(let i=0;i<n.length;i++)Su(n[i])}onSubtitleTracksUpdated(e,n){const i=n.subtitleTracks||[],r=i.some(s=>s.textCodec===wE);if(this.config.enableWebVTT||r&&this.config.enableIMSC1){if(a$(this.tracks,i)){this.tracks=i;return}if(this.textTracks=[],this.tracks=i,this.config.renderTextTracksNatively){const a=this.media,o=a?Em(a.textTracks):null;if(this.tracks.forEach((l,c)=>{let u;if(o){let d=null;for(let f=0;f<o.length;f++)if(o[f]&&bL(o[f],l)){d=o[f],o[f]=null;break}d&&(u=d)}if(u)Su(u);else{const d=m$(l);u=this.createTextTrack(d,l.name,l.lang),u&&(u.mode="disabled")}u&&this.textTracks.push(u)}),o!=null&&o.length){const l=o.filter(c=>c!==null).map(c=>c.label);l.length&&se.warn(`Media element contains unused subtitle tracks: ${l.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const a=this.tracks.map(o=>({label:o.name,kind:o.type.toLowerCase(),default:o.default,subtitleTrack:o}));this.hls.trigger(B.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:a})}}}onManifestLoaded(e,n){this.config.enableCEA708Captions&&n.captions&&n.captions.forEach(i=>{const r=/(?:CC|SERVICE)([1-4])/.exec(i.instreamId);if(!r)return;const s=`textTrack${r[1]}`,a=this.captionsProperties[s];a&&(a.label=i.name,i.lang&&(a.languageCode=i.lang),a.media=i)})}closedCaptionsForLevel(e){const n=this.hls.levels[e.level];return n==null?void 0:n.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,n){if(this.enabled&&n.frag.type===He.MAIN){var i,r;const{cea608Parser1:s,cea608Parser2:a,lastSn:o}=this,{cc:l,sn:c}=n.frag,u=(i=(r=n.part)==null?void 0:r.index)!=null?i:-1;s&&a&&(c!==o+1||c===o&&u!==this.lastPartIndex+1||l!==this.lastCc)&&(s.reset(),a.reset()),this.lastCc=l,this.lastSn=c,this.lastPartIndex=u}}onFragLoaded(e,n){const{frag:i,payload:r}=n;if(i.type===He.SUBTITLE)if(r.byteLength){const s=i.decryptdata,a="stats"in n;if(s==null||!s.encrypted||a){const o=this.tracks[i.level],l=this.vttCCs;l[i.cc]||(l[i.cc]={start:i.start,prevCC:this.prevCC,new:!0},this.prevCC=i.cc),o&&o.textCodec===wE?this._parseIMSC1(i,r):this._parseVTTs(n)}}else this.hls.trigger(B.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,n){const i=this.hls;mL(n,this.initPTS[e.cc],r=>{this._appendCues(r,e.level),i.trigger(B.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},r=>{se.log(`Failed to parse IMSC1: ${r}`),i.trigger(B.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:r})})}_parseVTTs(e){var n;const{frag:i,payload:r}=e,{initPTS:s,unparsedVttFrags:a}=this,o=s.length-1;if(!s[i.cc]&&o===-1){a.push(e);return}const l=this.hls,c=(n=i.initSegment)!=null&&n.data?Pr(i.initSegment.data,new Uint8Array(r)):r;v_e(c,this.initPTS[i.cc],this.vttCCs,i.cc,i.start,u=>{this._appendCues(u,i.level),l.trigger(B.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:i})},u=>{const d=u.message==="Missing initPTS for VTT MPEGTS";d?a.push(e):this._fallbackToIMSC1(i,r),se.log(`Failed to parse VTT cue: ${u}`),!(d&&o>i.cc)&&l.trigger(B.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:i,error:u})})}_fallbackToIMSC1(e,n){const i=this.tracks[e.level];i.textCodec||mL(n,this.initPTS[e.cc],()=>{i.textCodec=wE,this._parseIMSC1(e,n)},()=>{i.textCodec="wvtt"})}_appendCues(e,n){const i=this.hls;if(this.config.renderTextTracksNatively){const r=this.textTracks[n];if(!r||r.mode==="disabled")return;e.forEach(s=>UY(r,s))}else{const r=this.tracks[n];if(!r)return;const s=r.default?"default":"subtitles"+n;i.trigger(B.CUES_PARSED,{type:"subtitles",cues:e,track:s})}}onFragDecrypted(e,n){const{frag:i}=n;i.type===He.SUBTITLE&&this.onFragLoaded(B.FRAG_LOADED,n)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,n){this.initCea608Parsers();const{cea608Parser1:i,cea608Parser2:r}=this;if(!this.enabled||!i||!r)return;const{frag:s,samples:a}=n;if(!(s.type===He.MAIN&&this.closedCaptionsForLevel(s)==="NONE"))for(let o=0;o<a.length;o++){const l=a[o].bytes;if(l){const c=this.extractCea608Data(l);i.addData(a[o].pts,c[0]),r.addData(a[o].pts,c[1])}}}onBufferFlushing(e,{startOffset:n,endOffset:i,endOffsetSubtitles:r,type:s}){const{media:a}=this;if(!(!a||a.currentTime<i)){if(!s||s==="video"){const{captionsTracks:o}=this;Object.keys(o).forEach(l=>uS(o[l],n,i))}if(this.config.renderTextTracksNatively&&n===0&&r!==void 0){const{textTracks:o}=this;Object.keys(o).forEach(l=>uS(o[l],n,r))}}}extractCea608Data(e){const n=[[],[]],i=e[0]&31;let r=2;for(let s=0;s<i;s++){const a=e[r++],o=127&e[r++],l=127&e[r++];if(o===0&&l===0)continue;if((4&a)!==0){const u=3&a;(u===0||u===1)&&(n[u].push(o),n[u].push(l))}}return n}}function m$(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function bL(t,e){return!!t&&t.kind===m$(e)&&gS(e,t)}function I_e(t,e,n,i){return Math.min(e,i)-Math.max(t,n)}function vL(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}class wR{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(B.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(B.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(B.MANIFEST_PARSED,this.onManifestParsed,this),e.on(B.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(B.BUFFER_CODECS,this.onBufferCodecs,this),e.on(B.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(B.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(B.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(B.MANIFEST_PARSED,this.onManifestParsed,this),e.off(B.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(B.BUFFER_CODECS,this.onBufferCodecs,this),e.off(B.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,n){const i=this.hls.levels[n.droppedLevel];this.isLevelAllowed(i)&&this.restrictedLevels.push({bitrate:i.bitrate,height:i.height,width:i.width})}onMediaAttaching(e,n){this.media=n.media instanceof HTMLVideoElement?n.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,n){const i=this.hls;this.restrictedLevels=[],this.firstLevel=n.firstLevel,i.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onLevelsUpdated(e,n){this.timer&&Me(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,n){this.hls.config.capLevelToPlayerSize&&n.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const n=this.hls,i=this.getMaxLevel(e.length-1);i!==this.autoLevelCapping&&se.log(`Setting autoLevelCapping to ${i}: ${e[i].height}p@${e[i].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),n.autoLevelCapping=i,n.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=n.autoLevelCapping}}}getMaxLevel(e){const n=this.hls.levels;if(!n.length)return-1;const i=n.filter((r,s)=>this.isLevelAllowed(r)&&s<=e);return this.clientRect=null,wR.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,n={width:0,height:0};if(e){const i=e.getBoundingClientRect();n.width=i.width,n.height=i.height,!n.width&&!n.height&&(n.width=i.right-i.left||e.width||0,n.height=i.bottom-i.top||e.height||0)}return this.clientRect=n,n}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return e}isLevelAllowed(e){return!this.restrictedLevels.some(i=>e.bitrate===i.bitrate&&e.width===i.width&&e.height===i.height)}static getMaxLevelByMediaSize(e,n,i){if(!(e!=null&&e.length))return-1;const r=(o,l)=>l?o.width!==l.width||o.height!==l.height:!0;let s=e.length-1;const a=Math.max(n,i);for(let o=0;o<e.length;o+=1){const l=e[o];if((l.width>=a||l.height>=a)&&r(l,e[o+1])){s=o;break}}return s}}class w_e{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(B.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(B.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,n){const i=this.hls.config;if(i.capLevelOnFPSDrop){const r=n.media instanceof self.HTMLVideoElement?n.media:null;this.media=r,r&&typeof r.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),i.fpsDroppedMonitoringPeriod)}}checkFPS(e,n,i){const r=performance.now();if(n){if(this.lastTime){const s=r-this.lastTime,a=i-this.lastDroppedFrames,o=n-this.lastDecodedFrames,l=1e3*a/s,c=this.hls;if(c.trigger(B.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:i}),l>0&&a>c.config.fpsDroppedMonitoringThreshold*o){let u=c.currentLevel;se.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(c.autoLevelCapping===-1||c.autoLevelCapping>=u)&&(u=u-1,c.trigger(B.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:c.currentLevel}),c.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=r,this.lastDroppedFrames=i,this.lastDecodedFrames=n}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const n=e.getVideoPlaybackQuality();this.checkFPS(e,n.totalVideoFrames,n.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}const k1="[eme]";class ju{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=ju.CDMCleanupPromise?[ju.CDMCleanupPromise]:[],this.debug=se.debug.bind(se,k1),this.log=se.log.bind(se,k1),this.warn=se.warn.bind(se,k1),this.error=se.error.bind(se,k1),this.onMediaEncrypted=n=>{const{initDataType:i,initData:r}=n,s=`"${n.type}" event: init data type: "${i}"`;if(this.debug(s),r!==null){if(!this.keyFormatPromise){let a=Object.keys(this.keySystemAccessPromises);a.length||(a=S1(this.config));const o=a.map(hE).filter(l=>!!l);this.keyFormatPromise=this.getKeyFormatPromise(o)}this.keyFormatPromise.then(a=>{const o=uE(a);let l,c;if(i==="sinf"){if(o!==It.FAIRPLAY){this.warn(`Ignoring unexpected "${n.type}" event with init data type: "${i}" for selected key-system ${o}`);return}const m=Gn(new Uint8Array(r));try{const p=hR(JSON.parse(m).sinf),v=VY(p);if(!v)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");l=v.subarray(8,24),c=It.FAIRPLAY}catch(p){this.warn(`${s} Failed to parse sinf: ${p}`);return}}else{if(o!==It.WIDEVINE&&o!==It.PLAYREADY){this.warn(`Ignoring unexpected "${n.type}" event with init data type: "${i}" for selected key-system ${o}`);return}const m=rVe(r),p=m.filter(y=>!!y.systemId&&dE(y.systemId)===o);p.length>1&&this.warn(`${s} Using first of ${p.length} pssh found for selected key-system ${o}`);const v=p[0];if(!v){m.length===0||m.some(y=>!y.systemId)?this.warn(`${s} contains incomplete or invalid pssh data`):this.log(`ignoring ${s} for ${m.map(y=>dE(y.systemId)).join(",")} pssh data in favor of playlist keys`);return}if(c=dE(v.systemId),v.version===0&&v.data)if(c===It.WIDEVINE){const y=v.data.length-22;l=v.data.subarray(y,y+16)}else c===It.PLAYREADY&&(l=AY(v.data))}if(!c||!l){this.log(`Unable to handle ${s} with key-system ${o}`);return}const u=Us.hexDump(l),{keyIdToKeySessionPromise:d,mediaKeySessions:f}=this;let h=d[u];for(let m=0;m<f.length;m++){const p=f[m],v=p.decryptdata;if(!v.keyId)continue;const y=Us.hexDump(v.keyId);if(u===y||v.uri.replace(/-/g,"").indexOf(u)!==-1){if(h=d[y],v.pssh)break;delete d[y],v.pssh=new Uint8Array(r),v.keyId=l,h=d[u]=h.then(()=>this.generateRequestWithPreferredKeySession(p,i,r,"encrypted-event-key-match")),h.catch(E=>this.handleError(E));break}}if(!h){if(c!==o){this.log(`Ignoring "${s}" with ${c} init data for selected key-system ${o}`);return}h=d[u]=this.getKeySystemSelectionPromise([c]).then(({keySystem:m,mediaKeys:p})=>{var v;this.throwIfDestroyed();const y=new yp("ISO-23001-7",u,(v=hE(m))!=null?v:"");return y.pssh=new Uint8Array(r),y.keyId=l,this.attemptSetMediaKeys(m,p).then(()=>{this.throwIfDestroyed();const E=this.createMediaKeySessionContext({decryptdata:y,keySystem:m,mediaKeys:p});return this.generateRequestWithPreferredKeySession(E,i,r,"encrypted-event-no-match")})}),h.catch(m=>this.handleError(m))}})}},this.onWaitingForKey=n=>{this.log(`"${n.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(B.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(B.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(B.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(B.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(B.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(B.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(B.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(B.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:n,widevineLicenseUrl:i}=this.config,r=n[e];if(r)return r.licenseUrl;if(e===It.WIDEVINE&&i)return i}getLicenseServerUrlOrThrow(e){const n=this.getLicenseServerUrl(e);if(n===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return n}getServerCertificateUrl(e){const{drmSystems:n}=this.config,i=n[e];if(i)return i.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const n=this.hls.levels,i=(a,o,l)=>!!a&&l.indexOf(a)===o,r=n.map(a=>a.audioCodec).filter(i),s=n.map(a=>a.videoCodec).filter(i);return r.length+s.length===0&&s.push("avc1.42e01e"),new Promise((a,o)=>{const l=c=>{const u=c.shift();this.getMediaKeysPromise(u,r,s).then(d=>a({keySystem:u,mediaKeys:d})).catch(d=>{c.length?l(c):d instanceof Ir?o(d):o(new Ir({type:tt.KEY_SYSTEM_ERROR,details:Ee.KEY_SYSTEM_NO_ACCESS,error:d,fatal:!0},d.message))})};l(e)})}requestMediaKeySystemAccess(e,n){const{requestMediaKeySystemAccessFunc:i}=this.config;if(typeof i!="function"){let r=`Configured requestMediaKeySystemAccess is not a function ${i}`;return EY===null&&self.location.protocol==="http:"&&(r=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(r))}return i(e,n)}getMediaKeysPromise(e,n,i){const r=Fxe(e,n,i,this.config.drmSystemOptions),s=this.keySystemAccessPromises[e];let a=s==null?void 0:s.keySystemAccess;if(!a){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(r)}`),a=this.requestMediaKeySystemAccess(e,r);const o=this.keySystemAccessPromises[e]={keySystemAccess:a};return a.catch(l=>{this.log(`Failed to obtain access to key-system "${e}": ${l}`)}),a.then(l=>{this.log(`Access for key-system "${l.keySystem}" obtained`);const c=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),o.mediaKeys=l.createMediaKeys().then(u=>(this.log(`Media-keys created for "${e}"`),c.then(d=>d?this.setMediaKeysServerCertificate(u,e,d):u))),o.mediaKeys.catch(u=>{this.error(`Failed to create media-keys for "${e}"}: ${u}`)}),o.mediaKeys})}return a.then(()=>s.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:n,mediaKeys:i}){this.log(`Creating key-system session "${n}" keyId: ${Us.hexDump(e.keyId||[])}`);const r=i.createSession(),s={decryptdata:e,keySystem:n,mediaKeys:i,mediaKeysSession:r,keyStatus:"status-pending"};return this.mediaKeySessions.push(s),s}renewKeySession(e){const n=e.decryptdata;if(n.pssh){const i=this.createMediaKeySessionContext(e),r=this.getKeyIdString(n),s="cenc";this.keyIdToKeySessionPromise[r]=this.generateRequestWithPreferredKeySession(i,s,n.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return Us.hexDump(e.keyId)}updateKeySession(e,n){var i;const r=e.mediaKeysSession;return this.log(`Updating key-session "${r.sessionId}" for keyID ${Us.hexDump(((i=e.decryptdata)==null?void 0:i.keyId)||[])}
      } (data length: ${n&&n.byteLength})`),r.update(n)}selectKeySystemFormat(e){const n=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((n,i)=>{const r=S1(this.config),s=e.map(uE).filter(a=>!!a&&r.indexOf(a)!==-1);return this.getKeySystemSelectionPromise(s).then(({keySystem:a})=>{const o=hE(a);o?n(o):i(new Error(`Unable to find format for key-system "${a}"`))}).catch(i)})}loadKey(e){const n=e.keyInfo.decryptdata,i=this.getKeyIdString(n),r=`(keyId: ${i} format: "${n.keyFormat}" method: ${n.method} uri: ${n.uri})`;this.log(`Starting session for key ${r}`);let s=this.keyIdToKeySessionPromise[i];return s||(s=this.keyIdToKeySessionPromise[i]=this.getKeySystemForKeyPromise(n).then(({keySystem:a,mediaKeys:o})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${r}`),this.attemptSetMediaKeys(a,o).then(()=>{this.throwIfDestroyed();const l=this.createMediaKeySessionContext({keySystem:a,mediaKeys:o,decryptdata:n});return this.generateRequestWithPreferredKeySession(l,"cenc",n.pssh,"playlist-key")}))),s.catch(a=>this.handleError(a))),s}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof Ir?this.hls.trigger(B.ERROR,e.data):this.hls.trigger(B.ERROR,{type:tt.KEY_SYSTEM_ERROR,details:Ee.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const n=this.getKeyIdString(e),i=this.keyIdToKeySessionPromise[n];if(!i){const r=uE(e.keyFormat),s=r?[r]:S1(this.config);return this.attemptKeySystemAccess(s)}return i}getKeySystemSelectionPromise(e){if(e.length||(e=S1(this.config)),e.length===0)throw new Ir({type:tt.KEY_SYSTEM_ERROR,details:Ee.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,n){const i=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const r=Promise.all(i).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(n)});return this.setMediaKeysQueue.push(r),r.then(()=>{this.log(`Media-keys set for "${e}"`),i.push(r),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(s=>i.indexOf(s)===-1)})}generateRequestWithPreferredKeySession(e,n,i,r){var s,a;const o=(s=this.config.drmSystems)==null||(a=s[e.keySystem])==null?void 0:a.generateRequest;if(o)try{const m=o.call(this.hls,n,i,e);if(!m)throw new Error("Invalid response from configured generateRequest filter");n=m.initDataType,i=e.decryptdata.pssh=m.initData?new Uint8Array(m.initData):null}catch(m){var l;if(this.warn(m.message),(l=this.hls)!=null&&l.config.debug)throw m}if(i===null)return this.log(`Skipping key-session request for "${r}" (no initData)`),Promise.resolve(e);const c=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${r}": ${c} (init data type: ${n} length: ${i?i.byteLength:null})`);const u=new RR,d=e._onmessage=m=>{const p=e.mediaKeysSession;if(!p){u.emit("error",new Error("invalid state"));return}const{messageType:v,message:y}=m;this.log(`"${v}" message event for session "${p.sessionId}" message size: ${y.byteLength}`),v==="license-request"||v==="license-renewal"?this.renewLicense(e,y).catch(E=>{this.handleError(E),u.emit("error",E)}):v==="license-release"?e.keySystem===It.FAIRPLAY&&(this.updateKeySession(e,lS("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${v}"`)},f=e._onkeystatuseschange=m=>{if(!e.mediaKeysSession){u.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const v=e.keyStatus;u.emit("keyStatus",v),v==="expired"&&(this.warn(`${e.keySystem} expired for key ${c}`),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",d),e.mediaKeysSession.addEventListener("keystatuseschange",f);const h=new Promise((m,p)=>{u.on("error",p),u.on("keyStatus",v=>{v.startsWith("usable")?m():v==="output-restricted"?p(new Ir({type:tt.KEY_SYSTEM_ERROR,details:Ee.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):v==="internal-error"?p(new Ir({type:tt.KEY_SYSTEM_ERROR,details:Ee.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${v}"`)):v==="expired"?p(new Error("key expired while generating request")):this.warn(`unhandled key status change "${v}"`)})});return e.mediaKeysSession.generateRequest(n,i).then(()=>{var m;this.log(`Request generated for key-session "${(m=e.mediaKeysSession)==null?void 0:m.sessionId}" keyId: ${c}`)}).catch(m=>{throw new Ir({type:tt.KEY_SYSTEM_ERROR,details:Ee.KEY_SYSTEM_NO_SESSION,error:m,fatal:!1},`Error generating key-session request: ${m}`)}).then(()=>h).catch(m=>{throw u.removeAllListeners(),this.removeSession(e),m}).then(()=>(u.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((n,i)=>{this.log(`key status change "${n}" for keyStatuses keyId: ${Us.hexDump("buffer"in i?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):new Uint8Array(i))} session keyId: ${Us.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=n})}fetchServerCertificate(e){const n=this.config,i=n.loader,r=new i(n),s=this.getServerCertificateUrl(e);return s?(this.log(`Fetching server certificate for "${e}"`),new Promise((a,o)=>{const l={responseType:"arraybuffer",url:s},c=n.certLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(f,h,m,p)=>{a(f.data)},onError:(f,h,m,p)=>{o(new Ir({type:tt.KEY_SYSTEM_ERROR,details:Ee.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:m,response:ii({url:l.url,data:void 0},f)},`"${e}" certificate request failed (${s}). Status: ${f.code} (${f.text})`))},onTimeout:(f,h,m)=>{o(new Ir({type:tt.KEY_SYSTEM_ERROR,details:Ee.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:m,response:{url:l.url,data:void 0}},`"${e}" certificate request timed out (${s})`))},onAbort:(f,h,m)=>{o(new Error("aborted"))}};r.load(l,u,d)})):Promise.resolve()}setMediaKeysServerCertificate(e,n,i){return new Promise((r,s)=>{e.setServerCertificate(i).then(a=>{this.log(`setServerCertificate ${a?"success":"not supported by CDM"} (${i==null?void 0:i.byteLength}) on "${n}"`),r(e)}).catch(a=>{s(new Ir({type:tt.KEY_SYSTEM_ERROR,details:Ee.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:a,fatal:!0},a.message))})})}renewLicense(e,n){return this.requestLicense(e,new Uint8Array(n)).then(i=>this.updateKeySession(e,new Uint8Array(i)).catch(r=>{throw new Ir({type:tt.KEY_SYSTEM_ERROR,details:Ee.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:r,fatal:!0},r.message)}))}unpackPlayReadyKeyMessage(e,n){const i=String.fromCharCode.apply(null,new Uint16Array(n.buffer));if(!i.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),n;const r=new DOMParser().parseFromString(i,"application/xml"),s=r.querySelectorAll("HttpHeader");if(s.length>0){let u;for(let d=0,f=s.length;d<f;d++){var a,o;u=s[d];const h=(a=u.querySelector("name"))==null?void 0:a.textContent,m=(o=u.querySelector("value"))==null?void 0:o.textContent;h&&m&&e.setRequestHeader(h,m)}}const l=r.querySelector("Challenge"),c=l==null?void 0:l.textContent;if(!c)throw new Error("Cannot find <Challenge> in key message");return lS(atob(c))}setupLicenseXHR(e,n,i,r){const s=this.config.licenseXhrSetup;return s?Promise.resolve().then(()=>{if(!i.decryptdata)throw new Error("Key removed");return s.call(this.hls,e,n,i,r)}).catch(a=>{if(!i.decryptdata)throw a;return e.open("POST",n,!0),s.call(this.hls,e,n,i,r)}).then(a=>(e.readyState||e.open("POST",n,!0),{xhr:e,licenseChallenge:a||r})):(e.open("POST",n,!0),Promise.resolve({xhr:e,licenseChallenge:r}))}requestLicense(e,n){const i=this.config.keyLoadPolicy.default;return new Promise((r,s)=>{const a=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${a}`);const o=new XMLHttpRequest;o.responseType="arraybuffer",o.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return s(new Error("invalid state"));if(o.readyState===4)if(o.status===200){this._requestLicenseFailureCount=0;let l=o.response;this.log(`License received ${l instanceof ArrayBuffer?l.byteLength:l}`);const c=this.config.licenseResponseCallback;if(c)try{l=c.call(this.hls,o,a,e)}catch(u){this.error(u)}r(l)}else{const l=i.errorRetry,c=l?l.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>c||o.status>=400&&o.status<500)s(new Ir({type:tt.KEY_SYSTEM_ERROR,details:Ee.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:{url:a,data:void 0,code:o.status,text:o.statusText}},`License Request XHR failed (${a}). Status: ${o.status} (${o.statusText})`));else{const u=c-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${u} attempts left`),this.requestLicense(e,n).then(r,s)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=o,this.setupLicenseXHR(o,a,e,n).then(({xhr:l,licenseChallenge:c})=>{e.keySystem==It.PLAYREADY&&(c=this.unpackPlayReadyKeyMessage(l,c)),l.send(c)})})}onMediaAttached(e,n){if(!this.config.emeEnabled)return;const i=n.media;this.media=i,i.removeEventListener("encrypted",this.onMediaEncrypted),i.removeEventListener("waitingforkey",this.onWaitingForKey),i.addEventListener("encrypted",this.onMediaEncrypted),i.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,n=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},yp.clearKeyUriToKeyIdMap();const i=n.length;ju.CDMCleanupPromise=Promise.all(n.map(r=>this.removeSession(r)).concat(e==null?void 0:e.setMediaKeys(null).catch(r=>{this.log(`Could not clear media keys: ${r}`)}))).then(()=>{i&&(this.log("finished closing key sessions and clearing media keys"),n.length=0)}).catch(r=>{this.log(`Could not close sessions and clear media keys: ${r}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:n}){if(!(!n||!this.config.emeEnabled)&&!this.keyFormatPromise){const i=n.reduce((r,s)=>(r.indexOf(s.keyFormat)===-1&&r.push(s.keyFormat),r),[]);this.log(`Selecting key-system from session-keys ${i.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(i)}}removeSession(e){const{mediaKeysSession:n,licenseXhr:i}=e;if(n){this.log(`Remove licenses and keys and close session ${n.sessionId}`),e._onmessage&&(n.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(n.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),i&&i.readyState!==XMLHttpRequest.DONE&&i.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const r=this.mediaKeySessions.indexOf(e);return r>-1&&this.mediaKeySessions.splice(r,1),n.remove().catch(s=>{this.log(`Could not remove session: ${s}`)}).then(()=>n.close()).catch(s=>{this.log(`Could not close session: ${s}`)})}}}ju.CDMCleanupPromise=void 0;class Ir extends Error{constructor(e,n){super(n),this.data=void 0,e.error||(e.error=new Error(n)),this.data=e,e.err=e.error}}var bi;(function(t){t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.MUXED="av",t.INIT="i",t.CAPTION="c",t.TIMED_TEXT="tt",t.KEY="k",t.OTHER="o"})(bi||(bi={}));var bS;(function(t){t.DASH="d",t.HLS="h",t.SMOOTH="s",t.OTHER="o"})(bS||(bS={}));var Dl;(function(t){t.OBJECT="CMCD-Object",t.REQUEST="CMCD-Request",t.SESSION="CMCD-Session",t.STATUS="CMCD-Status"})(Dl||(Dl={}));const x_e={[Dl.OBJECT]:["br","d","ot","tb"],[Dl.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[Dl.SESSION]:["cid","pr","sf","sid","st","v"],[Dl.STATUS]:["bs","rtp"]};class Wd{constructor(e,n){this.value=void 0,this.params=void 0,Array.isArray(e)&&(e=e.map(i=>i instanceof Wd?i:new Wd(i))),this.value=e,this.params=n}}class g${constructor(e){this.description=void 0,this.description=e}}const V_e="Dict";function N_e(t){return Array.isArray(t)?JSON.stringify(t):t instanceof Map?"Map{}":t instanceof Set?"Set{}":typeof t=="object"?JSON.stringify(t):String(t)}function __e(t,e,n,i){return new Error(`failed to ${t} "${N_e(e)}" as ${n}`,{cause:i})}const EL="Bare Item",k_e="Boolean",F_e="Byte Sequence",L_e="Decimal",U_e="Integer";function B_e(t){return t<-999999999999999||999999999999999<t}const W_e=/[\x00-\x1f\x7f]+/,G_e="Token",Z_e="Key";function sa(t,e,n){return __e("serialize",t,e,n)}function D_e(t){if(typeof t!="boolean")throw sa(t,k_e);return t?"?1":"?0"}function O_e(t){return btoa(String.fromCharCode(...t))}function X_e(t){if(ArrayBuffer.isView(t)===!1)throw sa(t,F_e);return`:${O_e(t)}:`}function y$(t){if(B_e(t))throw sa(t,U_e);return t.toString()}function M_e(t){return`@${y$(t.getTime()/1e3)}`}function b$(t,e){if(t<0)return-b$(-t,e);const n=Math.pow(10,e);if(Math.abs(t*n%1-.5)<Number.EPSILON){const r=Math.floor(t*n);return(r%2===0?r:r+1)/n}else return Math.round(t*n)/n}function P_e(t){const e=b$(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw sa(t,L_e);const n=e.toString();return n.includes(".")?n:`${n}.0`}const Y_e="String";function $_e(t){if(W_e.test(t))throw sa(t,Y_e);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function j_e(t){return t.description||t.toString().slice(7,-1)}function AL(t){const e=j_e(t);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw sa(e,G_e);return e}function vS(t){switch(typeof t){case"number":if(!Me(t))throw sa(t,EL);return Number.isInteger(t)?y$(t):P_e(t);case"string":return $_e(t);case"symbol":return AL(t);case"boolean":return D_e(t);case"object":if(t instanceof Date)return M_e(t);if(t instanceof Uint8Array)return X_e(t);if(t instanceof g$)return AL(t);default:throw sa(t,EL)}}function ES(t){if(/^[a-z*][a-z0-9\-_.*]*$/.test(t)===!1)throw sa(t,Z_e);return t}function xR(t){return t==null?"":Object.entries(t).map(([e,n])=>n===!0?`;${ES(e)}`:`;${ES(e)}=${vS(n)}`).join("")}function v$(t){return t instanceof Wd?`${vS(t.value)}${xR(t.params)}`:vS(t)}function K_e(t){return`(${t.value.map(v$).join(" ")})${xR(t.params)}`}function z_e(t,e={whitespace:!0}){if(typeof t!="object")throw sa(t,V_e);const n=t instanceof Map?t.entries():Object.entries(t),i=e!=null&&e.whitespace?" ":"";return Array.from(n).map(([r,s])=>{s instanceof Wd||(s=new Wd(s));let a=ES(r);return s.value===!0?a+=xR(s.params):(a+="=",Array.isArray(s.value)?a+=K_e(s):a+=v$(s)),a}).join(`,${i}`)}function J_e(t,e){return z_e(t,e)}const H_e=t=>t==="ot"||t==="sf"||t==="st",Q_e=t=>typeof t=="number"?Me(t):t!=null&&t!==""&&t!==!1;function q_e(t,e){const n=new URL(t),i=new URL(e);if(n.origin!==i.origin)return t;const r=n.pathname.split("/").slice(1),s=i.pathname.split("/").slice(1,-1);for(;r[0]===s[0];)r.shift(),s.shift();for(;s.length;)s.shift(),r.unshift("..");return r.join("/")}function eke(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),n=e.toString();return URL.revokeObjectURL(e),n.slice(n.lastIndexOf("/")+1)}catch{let n=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,r=>{const s=(n+Math.random()*16)%16|0;return n=Math.floor(n/16),(r=="x"?s:s&3|8).toString(16)})}}}const Im=t=>Math.round(t),tke=(t,e)=>(e!=null&&e.baseUrl&&(t=q_e(t,e.baseUrl)),encodeURIComponent(t)),F1=t=>Im(t/100)*100,nke={br:Im,d:Im,bl:F1,dl:F1,mtp:F1,nor:tke,rtp:F1,tb:Im};function ike(t,e){const n={};if(t==null||typeof t!="object")return n;const i=Object.keys(t).sort(),r=Bn({},nke,e==null?void 0:e.formatters),s=e==null?void 0:e.filter;return i.forEach(a=>{if(s!=null&&s(a))return;let o=t[a];const l=r[a];l&&(o=l(o,e)),!(a==="v"&&o===1)&&(a=="pr"&&o===1||Q_e(o)&&(H_e(a)&&typeof o=="string"&&(o=new g$(o)),n[a]=o))}),n}function E$(t,e={}){return t?J_e(ike(t,e),Bn({whitespace:!1},e)):""}function rke(t,e={}){if(!t)return{};const n=Object.entries(t),i=Object.entries(x_e).concat(Object.entries((e==null?void 0:e.customHeaderMap)||{})),r=n.reduce((s,a)=>{var o,l;const[c,u]=a,d=((o=i.find(f=>f[1].includes(c)))==null?void 0:o[0])||Dl.REQUEST;return(l=s[d])!=null||(s[d]={}),s[d][c]=u,s},{});return Object.entries(r).reduce((s,[a,o])=>(s[a]=E$(o,e),s),{})}function ske(t,e,n){return Bn(t,rke(e,n))}const ake="CMCD";function oke(t,e={}){if(!t)return"";const n=E$(t,e);return`${ake}=${encodeURIComponent(n)}`}const SL=/CMCD=[^&#]+/;function lke(t,e,n){const i=oke(e,n);if(!i)return t;if(SL.test(t))return t.replace(SL,i);const r=t.includes("?")?"&":"?";return`${t}${r}${i}`}class cke{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=r=>{try{this.apply(r,{ot:bi.MANIFEST,su:!this.initialized})}catch(s){se.warn("Could not generate manifest CMCD data.",s)}},this.applyFragmentData=r=>{try{const s=r.frag,a=this.hls.levels[s.level],o=this.getObjectType(s),l={d:s.duration*1e3,ot:o};(o===bi.VIDEO||o===bi.AUDIO||o==bi.MUXED)&&(l.br=a.bitrate/1e3,l.tb=this.getTopBandwidth(o)/1e3,l.bl=this.getBufferLength(o)),this.apply(r,l)}catch(s){se.warn("Could not generate segment CMCD data.",s)}},this.hls=e;const n=this.config=e.config,{cmcd:i}=n;i!=null&&(n.pLoader=this.createPlaylistLoader(),n.fLoader=this.createFragmentLoader(),this.sid=i.sessionId||eke(),this.cid=i.contentId,this.useHeaders=i.useHeaders===!0,this.includeKeys=i.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(B.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(B.MEDIA_DETACHED,this.onMediaDetached,this),e.on(B.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(B.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(B.MEDIA_DETACHED,this.onMediaDetached,this),e.off(B.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(e,n){this.media=n.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,n){var i,r;this.audioBuffer=(i=n.tracks.audio)==null?void 0:i.buffer,this.videoBuffer=(r=n.tracks.video)==null?void 0:r.buffer}createData(){var e;return{v:1,sf:bS.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,n={}){Bn(n,this.createData());const i=n.ot===bi.INIT||n.ot===bi.VIDEO||n.ot===bi.MUXED;this.starved&&i&&(n.bs=!0,n.su=!0,this.starved=!1),n.su==null&&(n.su=this.buffering);const{includeKeys:r}=this;r&&(n=Object.keys(n).reduce((s,a)=>(r.includes(a)&&(s[a]=n[a]),s),{})),this.useHeaders?(e.headers||(e.headers={}),ske(e.headers,n)):e.url=lke(e.url,n)}getObjectType(e){const{type:n}=e;if(n==="subtitle")return bi.TIMED_TEXT;if(e.sn==="initSegment")return bi.INIT;if(n==="audio")return bi.AUDIO;if(n==="main")return this.hls.audioTracks.length?bi.VIDEO:bi.MUXED}getTopBandwidth(e){let n=0,i;const r=this.hls;if(e===bi.AUDIO)i=r.audioTracks;else{const s=r.maxAutoLevel,a=s>-1?s+1:r.levels.length;i=r.levels.slice(0,a)}for(const s of i)s.bitrate>n&&(n=s.bitrate);return n>0?n:NaN}getBufferLength(e){const n=this.hls.media,i=e===bi.AUDIO?this.audioBuffer:this.videoBuffer;return!i||!n?NaN:Pt.bufferInfo(i,n.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,n=this.applyPlaylistData,i=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new i(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,a,o){n(s),this.loader.load(s,a,o)}}}createFragmentLoader(){const{fLoader:e}=this.config,n=this.applyFragmentData,i=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new i(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,a,o){n(s),this.loader.load(s,a,o)}}}}const uke=3e5;class dke{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=se.log.bind(se,"[content-steering]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(B.MANIFEST_LOADING,this.onManifestLoading,this),e.on(B.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(B.MANIFEST_PARSED,this.onManifestParsed,this),e.on(B.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(B.MANIFEST_LOADING,this.onManifestLoading,this),e.off(B.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(B.MANIFEST_PARSED,this.onManifestParsed,this),e.off(B.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const n=this.levels;n&&(this.levels=n.filter(i=>i!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,n){const{contentSteering:i}=n;i!==null&&(this.pathwayId=i.pathwayId,this.uri=i.uri,this.started&&this.startLoad())}onManifestParsed(e,n){this.audioTracks=n.audioTracks,this.subtitleTracks=n.subtitleTracks}onError(e,n){const{errorAction:i}=n;if((i==null?void 0:i.action)===ai.SendAlternateToPenaltyBox&&i.flags===qr.MoveAllAlternatesMatchingHost){const r=this.levels;let s=this.pathwayPriority,a=this.pathwayId;if(n.context){const{groupId:o,pathwayId:l,type:c}=n.context;o&&r?a=this.getPathwayForGroupId(o,c,a):l&&(a=l)}a in this.penalizedPathways||(this.penalizedPathways[a]=performance.now()),!s&&r&&(s=r.reduce((o,l)=>(o.indexOf(l.pathwayId)===-1&&o.push(l.pathwayId),o),[])),s&&s.length>1&&(this.updatePathwayPriority(s),i.resolved=this.pathwayId!==a),i.resolved||se.warn(`Could not resolve ${n.details} ("${n.error.message}") with content-steering for Pathway: ${a} levels: ${r&&r.length} priorities: ${JSON.stringify(s)} penalized: ${JSON.stringify(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let n=this.getLevelsForPathway(this.pathwayId);if(n.length===0){const i=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${i}"`),n=this.getLevelsForPathway(i),this.pathwayId=i}return n.length!==e.length&&this.log(`Found ${n.length}/${e.length} levels in Pathway "${this.pathwayId}"`),n}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(n=>e===n.pathwayId)}updatePathwayPriority(e){this.pathwayPriority=e;let n;const i=this.penalizedPathways,r=performance.now();Object.keys(i).forEach(s=>{r-i[s]>uke&&delete i[s]});for(let s=0;s<e.length;s++){const a=e[s];if(a in i)continue;if(a===this.pathwayId)return;const o=this.hls.nextLoadLevel,l=this.hls.levels[o];if(n=this.getLevelsForPathway(a),n.length>0){this.log(`Setting Pathway to "${a}"`),this.pathwayId=a,ZY(n),this.hls.trigger(B.LEVELS_UPDATED,{levels:n});const c=this.hls.levels[o];l&&c&&this.levels&&(c.attrs["STABLE-VARIANT-ID"]!==l.attrs["STABLE-VARIANT-ID"]&&c.bitrate!==l.bitrate&&this.log(`Unstable Pathways change from bitrate ${l.bitrate} to ${c.bitrate}`),this.hls.nextLoadLevel=o);break}}}getPathwayForGroupId(e,n,i){const r=this.getLevelsForPathway(i).concat(this.levels||[]);for(let s=0;s<r.length;s++)if(n===gt.AUDIO_TRACK&&r[s].hasAudioGroup(e)||n===gt.SUBTITLE_TRACK&&r[s].hasSubtitleGroup(e))return r[s].pathwayId;return i}clonePathways(e){const n=this.levels;if(!n)return;const i={},r={};e.forEach(s=>{const{ID:a,"BASE-ID":o,"URI-REPLACEMENT":l}=s;if(n.some(u=>u.pathwayId===a))return;const c=this.getLevelsForPathway(o).map(u=>{const d=new un(u.attrs);d["PATHWAY-ID"]=a;const f=d.AUDIO&&`${d.AUDIO}_clone_${a}`,h=d.SUBTITLES&&`${d.SUBTITLES}_clone_${a}`;f&&(i[d.AUDIO]=f,d.AUDIO=f),h&&(r[d.SUBTITLES]=h,d.SUBTITLES=h);const m=A$(u.uri,d["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l),p=new Bd({attrs:d,audioCodec:u.audioCodec,bitrate:u.bitrate,height:u.height,name:u.name,url:m,videoCodec:u.videoCodec,width:u.width});if(u.audioGroups)for(let v=1;v<u.audioGroups.length;v++)p.addGroupId("audio",`${u.audioGroups[v]}_clone_${a}`);if(u.subtitleGroups)for(let v=1;v<u.subtitleGroups.length;v++)p.addGroupId("text",`${u.subtitleGroups[v]}_clone_${a}`);return p});n.push(...c),TL(this.audioTracks,i,l,a),TL(this.subtitleTracks,r,l,a)})}loadSteeringManifest(e){const n=this.hls.config,i=n.loader;this.loader&&this.loader.destroy(),this.loader=new i(n);let r;try{r=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(r.protocol!=="data:"){const u=(this.hls.bandwidthEstimate||n.abrEwmaDefaultEstimate)|0;r.searchParams.set("_HLS_pathway",this.pathwayId),r.searchParams.set("_HLS_throughput",""+u)}const s={responseType:"json",url:r.href},a=n.steeringManifestLoadPolicy.default,o=a.errorRetry||a.timeoutRetry||{},l={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},c={onSuccess:(u,d,f,h)=>{this.log(`Loaded steering manifest: "${r}"`);const m=u.data;if(m.VERSION!==1){this.log(`Steering VERSION ${m.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=m.TTL;const{"RELOAD-URI":p,"PATHWAY-CLONES":v,"PATHWAY-PRIORITY":y}=m;if(p)try{this.uri=new self.URL(p,r).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${p}`);return}this.scheduleRefresh(this.uri||f.url),v&&this.clonePathways(v);const E={steeringManifest:m,url:r.toString()};this.hls.trigger(B.STEERING_MANIFEST_LOADED,E),y&&this.updatePathwayPriority(y)},onError:(u,d,f,h)=>{if(this.log(`Error loading steering manifest: ${u.code} ${u.text} (${d.url})`),this.stopLoad(),u.code===410){this.enabled=!1,this.log(`Steering manifest ${d.url} no longer available`);return}let m=this.timeToLoad*1e3;if(u.code===429){const p=this.loader;if(typeof(p==null?void 0:p.getResponseHeader)=="function"){const v=p.getResponseHeader("Retry-After");v&&(m=parseFloat(v)*1e3)}this.log(`Steering manifest ${d.url} rate limited`);return}this.scheduleRefresh(this.uri||d.url,m)},onTimeout:(u,d,f)=>{this.log(`Timeout loading steering manifest (${d.url})`),this.scheduleRefresh(this.uri||d.url)}};this.log(`Requesting steering manifest: ${r}`),this.loader.load(s,l,c)}scheduleRefresh(e,n=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var i;const r=(i=this.hls)==null?void 0:i.media;if(r&&!r.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},n)}}function TL(t,e,n,i){t&&Object.keys(e).forEach(r=>{const s=t.filter(a=>a.groupId===r).map(a=>{const o=Bn({},a);return o.details=void 0,o.attrs=new un(o.attrs),o.url=o.attrs.URI=A$(a.url,a.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",n),o.groupId=o.attrs["GROUP-ID"]=e[r],o.attrs["PATHWAY-ID"]=i,o});t.push(...s)})}function A$(t,e,n,i){const{HOST:r,PARAMS:s,[n]:a}=i;let o;e&&(o=a==null?void 0:a[e],o&&(t=o));const l=new self.URL(t);return r&&!o&&(l.host=r),s&&Object.keys(s).sort().forEach(c=>{c&&l.searchParams.set(c,s[c])}),l.href}const hke=/^age:\s*[\d.]+\s*$/im;class S${constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new _y,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,n,i){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=n,this.callbacks=i,this.loadInternal()}loadInternal(){const{config:e,context:n}=this;if(!e||!n)return;const i=this.loader=new self.XMLHttpRequest,r=this.stats;r.loading.first=0,r.loaded=0,r.aborted=!1;const s=this.xhrSetup;s?Promise.resolve().then(()=>{if(!(this.loader!==i||this.stats.aborted))return s(i,n.url)}).catch(a=>{if(!(this.loader!==i||this.stats.aborted))return i.open("GET",n.url,!0),s(i,n.url)}).then(()=>{this.loader!==i||this.stats.aborted||this.openAndSendXhr(i,n,e)}).catch(a=>{this.callbacks.onError({code:i.status,text:a.message},n,i,r)}):this.openAndSendXhr(i,n,e)}openAndSendXhr(e,n,i){e.readyState||e.open("GET",n.url,!0);const r=n.headers,{maxTimeToFirstByteMs:s,maxLoadTimeMs:a}=i.loadPolicy;if(r)for(const o in r)e.setRequestHeader(o,r[o]);n.rangeEnd&&e.setRequestHeader("Range","bytes="+n.rangeStart+"-"+(n.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=n.responseType,self.clearTimeout(this.requestTimeout),i.timeout=s&&Me(s)?s:a,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),i.timeout),e.send()}readystatechange(){const{context:e,loader:n,stats:i}=this;if(!e||!n)return;const r=n.readyState,s=this.config;if(!i.aborted&&r>=2&&(i.loading.first===0&&(i.loading.first=Math.max(self.performance.now(),i.loading.start),s.timeout!==s.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),s.timeout=s.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.loadPolicy.maxLoadTimeMs-(i.loading.first-i.loading.start)))),r===4)){self.clearTimeout(this.requestTimeout),n.onreadystatechange=null,n.onprogress=null;const a=n.status,o=n.responseType==="text"?n.responseText:null;if(a>=200&&a<300){const d=o??n.response;if(d!=null){i.loading.end=Math.max(self.performance.now(),i.loading.first);const f=n.responseType==="arraybuffer"?d.byteLength:d.length;if(i.loaded=i.total=f,i.bwEstimate=i.total*8e3/(i.loading.end-i.loading.first),!this.callbacks)return;const h=this.callbacks.onProgress;if(h&&h(i,e,d,n),!this.callbacks)return;const m={url:n.responseURL,data:d,code:a};this.callbacks.onSuccess(m,i,e,n);return}}const l=s.loadPolicy.errorRetry,c=i.retry,u={url:e.url,data:void 0,code:a};c2(l,c,!1,u)?this.retry(l):(se.error(`${a} while loading ${e.url}`),this.callbacks.onError({code:a,text:n.statusText},e,n,i))}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,n=this.stats.retry;if(c2(e,n,!0))this.retry(e);else{var i;se.warn(`timeout while loading ${(i=this.context)==null?void 0:i.url}`);const r=this.callbacks;r&&(this.abortInternal(),r.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:n,stats:i}=this;this.retryDelay=mR(e,i.retry),i.retry++,se.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${n==null?void 0:n.url}, retrying ${i.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const n=this.stats;n.loaded=e.loaded,e.lengthComputable&&(n.total=e.total)}getCacheAge(){let e=null;if(this.loader&&hke.test(this.loader.getAllResponseHeaders())){const n=this.loader.getResponseHeader("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}function fke(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const pke=/(\d+)-(\d+)\/(\d+)/;class RL{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||bke,this.controller=new self.AbortController,this.stats=new _y}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,n,i){const r=this.stats;if(r.loading.start)throw new Error("Loader can only be used once.");r.loading.start=self.performance.now();const s=mke(e,this.controller.signal),a=i.onProgress,o=e.responseType==="arraybuffer",l=o?"byteLength":"length",{maxTimeToFirstByteMs:c,maxLoadTimeMs:u}=n.loadPolicy;this.context=e,this.config=n,this.callbacks=i,this.request=this.fetchSetup(e,s),self.clearTimeout(this.requestTimeout),n.timeout=c&&Me(c)?c:u,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),i.onTimeout(r,e,this.response)},n.timeout),self.fetch(this.request).then(d=>{this.response=this.loader=d;const f=Math.max(self.performance.now(),r.loading.start);if(self.clearTimeout(this.requestTimeout),n.timeout=u,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),i.onTimeout(r,e,this.response)},u-(f-r.loading.start)),!d.ok){const{status:h,statusText:m}=d;throw new vke(m||"fetch, bad network response",h,d)}return r.loading.first=f,r.total=yke(d.headers)||r.total,a&&Me(n.highWaterMark)?this.loadProgressively(d,r,e,n.highWaterMark,a):o?d.arrayBuffer():e.responseType==="json"?d.json():d.text()}).then(d=>{const f=this.response;if(!f)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),r.loading.end=Math.max(self.performance.now(),r.loading.first);const h=d[l];h&&(r.loaded=r.total=h);const m={url:f.url,data:d,code:f.status};a&&!Me(n.highWaterMark)&&a(r,e,d,f),i.onSuccess(m,r,e,f)}).catch(d=>{if(self.clearTimeout(this.requestTimeout),r.aborted)return;const f=d&&d.code||0,h=d?d.message:null;i.onError({code:f,text:h},e,d?d.details:null,r)})}getCacheAge(){let e=null;if(this.response){const n=this.response.headers.get("age");e=n?parseFloat(n):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,n,i,r=0,s){const a=new MY,o=e.body.getReader(),l=()=>o.read().then(c=>{if(c.done)return a.dataLength&&s(n,i,a.flush(),e),Promise.resolve(new ArrayBuffer(0));const u=c.value,d=u.length;return n.loaded+=d,d<r||a.dataLength?(a.push(u),a.dataLength>=r&&s(n,i,a.flush(),e)):s(n,i,u,e),l()}).catch(()=>Promise.reject());return l()}}function mke(t,e){const n={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(Bn({},t.headers))};return t.rangeEnd&&n.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),n}function gke(t){const e=pke.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function yke(t){const e=t.get("Content-Range");if(e){const i=gke(e);if(Me(i))return i}const n=t.get("Content-Length");if(n)return parseInt(n)}function bke(t,e){return new self.Request(t.url,e)}class vke extends Error{constructor(e,n,i){super(e),this.code=void 0,this.details=void 0,this.code=n,this.details=i}}const Eke=/\s/,Ake={newCue(t,e,n,i){const r=[];let s,a,o,l,c;const u=self.VTTCue||self.TextTrackCue;for(let f=0;f<i.rows.length;f++)if(s=i.rows[f],o=!0,l=0,c="",!s.isEmpty()){var d;for(let p=0;p<s.chars.length;p++)Eke.test(s.chars[p].uchar)&&o?l++:(c+=s.chars[p].uchar,o=!1);s.cueStartTime=e,e===n&&(n+=1e-4),l>=16?l--:l++;const h=d$(c.trim()),m=IR(e,n,h);t!=null&&(d=t.cues)!=null&&d.getCueById(m)||(a=new u(e,n,h),a.id=m,a.line=f+1,a.align="left",a.position=10+Math.min(80,Math.floor(l*8/32)*10),r.push(a))}return t&&r.length&&(r.sort((f,h)=>f.line==="auto"||h.line==="auto"?0:f.line>8&&h.line>8?h.line-f.line:f.line-h.line),r.forEach(f=>UY(t,f))),r}},Ske={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},T$=ii(ii({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:S$,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:zVe,bufferController:qNe,capLevelController:wR,errorController:WVe,fpsController:w_e,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:EY,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:Ske},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},Tke()),{},{subtitleStreamController:zNe,subtitleTrackController:HNe,timelineController:C_e,audioStreamController:jNe,audioTrackController:KNe,emeController:ju,cmcdController:cke,contentSteeringController:dke});function Tke(){return{cueHandler:Ake,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function Rke(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const n=AS(t),i=["manifest","level","frag"],r=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return i.forEach(s=>{const a=`${s==="level"?"playlist":s}LoadPolicy`,o=e[a]===void 0,l=[];r.forEach(c=>{const u=`${s}Loading${c}`,d=e[u];if(d!==void 0&&o){l.push(u);const f=n[a].default;switch(e[a]={default:f},c){case"TimeOut":f.maxLoadTimeMs=d,f.maxTimeToFirstByteMs=d;break;case"MaxRetry":f.errorRetry.maxNumRetry=d,f.timeoutRetry.maxNumRetry=d;break;case"RetryDelay":f.errorRetry.retryDelayMs=d,f.timeoutRetry.retryDelayMs=d;break;case"MaxRetryTimeout":f.errorRetry.maxRetryDelayMs=d,f.timeoutRetry.maxRetryDelayMs=d;break}}}),l.length&&se.warn(`hls.js config: "${l.join('", "')}" setting(s) are deprecated, use "${a}": ${JSON.stringify(e[a])}`)}),ii(ii({},n),e)}function AS(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(AS):Object.keys(t).reduce((e,n)=>(e[n]=AS(t[n]),e),{}):t}function Cke(t){const e=t.loader;e!==RL&&e!==S$?(se.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):fke()&&(t.loader=RL,t.progressive=!0,t.enableSoftwareAES=!0,se.log("[config]: Progressive streaming enabled, using FetchLoader"))}let _E;class Ike extends gR{constructor(e,n){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=n,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(B.MANIFEST_LOADING,this.onManifestLoading,this),e.on(B.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(B.LEVEL_LOADED,this.onLevelLoaded,this),e.on(B.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(B.FRAG_BUFFERED,this.onFragBuffered,this),e.on(B.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(B.MANIFEST_LOADING,this.onManifestLoading,this),e.off(B.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(B.LEVEL_LOADED,this.onLevelLoaded,this),e.off(B.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(B.FRAG_BUFFERED,this.onFragBuffered,this),e.off(B.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(n=>{n.loadError=0,n.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,n){this.resetLevels()}onManifestLoaded(e,n){const i=this.hls.config.preferManagedMediaSource,r=[],s={},a={};let o=!1,l=!1,c=!1;n.levels.forEach(u=>{var d,f;const h=u.attrs;let{audioCodec:m,videoCodec:p}=u;((d=m)==null?void 0:d.indexOf("mp4a.40.34"))!==-1&&(_E||(_E=/chrome|firefox/i.test(navigator.userAgent)),_E&&(u.audioCodec=m=void 0)),m&&(u.audioCodec=m=a2(m,i)),((f=p)==null?void 0:f.indexOf("avc1"))===0&&(p=u.videoCodec=hVe(p));const{width:v,height:y,unknownCodecs:E}=u;if(o||(o=!!(v&&y)),l||(l=!!p),c||(c=!!m),E!=null&&E.length||m&&!gE(m,"audio",i)||p&&!gE(p,"video",i))return;const{CODECS:S,"FRAME-RATE":I,"HDCP-LEVEL":w,"PATHWAY-ID":N,RESOLUTION:F,"VIDEO-RANGE":W}=h,O=`${`${N||"."}-`}${u.bitrate}-${F}-${I}-${S}-${W}-${w}`;if(s[O])if(s[O].uri!==u.url&&!u.attrs["PATHWAY-ID"]){const K=a[O]+=1;u.attrs["PATHWAY-ID"]=new Array(K+1).join(".");const fe=new Bd(u);s[O]=fe,r.push(fe)}else s[O].addGroupId("audio",h.AUDIO),s[O].addGroupId("text",h.SUBTITLES);else{const K=new Bd(u);s[O]=K,a[O]=1,r.push(K)}}),this.filterAndSortMediaOptions(r,n,o,l,c)}filterAndSortMediaOptions(e,n,i,r,s){let a=[],o=[],l=e;if((i||r)&&s&&(l=l.filter(({videoCodec:m,videoRange:p,width:v,height:y})=>(!!m||!!(v&&y))&&CVe(p))),l.length===0){Promise.resolve().then(()=>{if(this.hls){n.levels.length&&this.warn(`One or more CODECS in variant not supported: ${JSON.stringify(n.levels[0].attrs)}`);const m=new Error("no level with compatible codecs found in manifest");this.hls.trigger(B.ERROR,{type:tt.MEDIA_ERROR,details:Ee.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:n.url,error:m,reason:m.message})}});return}if(n.audioTracks){const{preferManagedMediaSource:m}=this.hls.config;a=n.audioTracks.filter(p=>!p.audioCodec||gE(p.audioCodec,"audio",m)),CL(a)}n.subtitles&&(o=n.subtitles,CL(o));const c=l.slice(0);l.sort((m,p)=>{if(m.attrs["HDCP-LEVEL"]!==p.attrs["HDCP-LEVEL"])return(m.attrs["HDCP-LEVEL"]||"")>(p.attrs["HDCP-LEVEL"]||"")?1:-1;if(i&&m.height!==p.height)return m.height-p.height;if(m.frameRate!==p.frameRate)return m.frameRate-p.frameRate;if(m.videoRange!==p.videoRange)return o2.indexOf(m.videoRange)-o2.indexOf(p.videoRange);if(m.videoCodec!==p.videoCodec){const v=kF(m.videoCodec),y=kF(p.videoCodec);if(v!==y)return y-v}if(m.uri===p.uri&&m.codecSet!==p.codecSet){const v=s2(m.codecSet),y=s2(p.codecSet);if(v!==y)return y-v}return m.averageBitrate!==p.averageBitrate?m.averageBitrate-p.averageBitrate:0});let u=c[0];if(this.steering&&(l=this.steering.filterParsedLevels(l),l.length!==c.length)){for(let m=0;m<c.length;m++)if(c[m].pathwayId===l[0].pathwayId){u=c[m];break}}this._levels=l;for(let m=0;m<l.length;m++)if(l[m]===u){var d;this._firstLevel=m;const p=u.bitrate,v=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${l.length} level(s) found, first bitrate: ${p}`),((d=this.hls.userConfig)==null?void 0:d.abrEwmaDefaultEstimate)===void 0){const y=Math.min(p,this.hls.config.abrEwmaDefaultEstimateMax);y>v&&v===T$.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=y)}break}const f=s&&!r,h={levels:l,audioTracks:a,subtitleTracks:o,sessionData:n.sessionData,sessionKeys:n.sessionKeys,firstLevel:this._firstLevel,stats:n.stats,audio:s,video:r,altAudio:!f&&a.some(m=>!!m.url)};this.hls.trigger(B.MANIFEST_PARSED,h),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return this._levels.length===0?null:this._levels}get level(){return this.currentLevelIndex}set level(e){const n=this._levels;if(n.length===0)return;if(e<0||e>=n.length){const u=new Error("invalid level idx"),d=e<0;if(this.hls.trigger(B.ERROR,{type:tt.OTHER_ERROR,details:Ee.LEVEL_SWITCH_ERROR,level:e,fatal:d,error:u,reason:u.message}),d)return;e=Math.min(e,n.length-1)}const i=this.currentLevelIndex,r=this.currentLevel,s=r?r.attrs["PATHWAY-ID"]:void 0,a=n[e],o=a.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=a,i===e&&a.details&&r&&s===o)return;this.log(`Switching to level ${e} (${a.height?a.height+"p ":""}${a.videoRange?a.videoRange+" ":""}${a.codecSet?a.codecSet+" ":""}@${a.bitrate})${o?" with Pathway "+o:""} from level ${i}${s?" with Pathway "+s:""}`);const l={level:e,attrs:a.attrs,details:a.details,bitrate:a.bitrate,averageBitrate:a.averageBitrate,maxBitrate:a.maxBitrate,realBitrate:a.realBitrate,width:a.width,height:a.height,codecSet:a.codecSet,audioCodec:a.audioCodec,videoCodec:a.videoCodec,audioGroups:a.audioGroups,subtitleGroups:a.subtitleGroups,loaded:a.loaded,loadError:a.loadError,fragmentError:a.fragmentError,name:a.name,id:a.id,uri:a.uri,url:a.url,urlId:0,audioGroupIds:a.audioGroupIds,textGroupIds:a.textGroupIds};this.hls.trigger(B.LEVEL_SWITCHING,l);const c=a.details;if(!c||c.live){const u=this.switchParams(a.uri,r==null?void 0:r.details,c);this.loadPlaylist(u)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,n){n.fatal||!n.context||n.context.type===gt.LEVEL&&n.context.level===this.level&&this.checkRetry(n)}onFragBuffered(e,{frag:n}){if(n!==void 0&&n.type===He.MAIN){const i=n.elementaryStreams;if(!Object.keys(i).some(s=>!!i[s]))return;const r=this._levels[n.level];r!=null&&r.loadError&&(this.log(`Resetting level error count of ${r.loadError} on frag buffered`),r.loadError=0)}}onLevelLoaded(e,n){var i;const{level:r,details:s}=n,a=this._levels[r];if(!a){var o;this.warn(`Invalid level index ${r}`),(o=n.deliveryDirectives)!=null&&o.skip&&(s.deltaUpdateFailed=!0);return}r===this.currentLevelIndex?(a.fragmentError===0&&(a.loadError=0),this.playlistLoaded(r,n,a.details)):(i=n.deliveryDirectives)!=null&&i.skip&&(s.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist();const n=this.currentLevelIndex,i=this.currentLevel;if(i&&this.shouldLoadPlaylist(i)){let r=i.uri;if(e)try{r=e.addDirectives(r)}catch(a){this.warn(`Could not construct new URL with HLS Delivery Directives: ${a}`)}const s=i.attrs["PATHWAY-ID"];this.log(`Loading level index ${n}${(e==null?void 0:e.msn)!==void 0?" at sn "+e.msn+" part "+e.part:""} with${s?" Pathway "+s:""} ${r}`),this.clearTimer(),this.hls.trigger(B.LEVEL_LOADING,{url:r,level:n,pathwayId:i.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var n;const i=this._levels.filter((r,s)=>s!==e?!0:(this.steering&&this.steering.removeLevel(r),r===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,r.details&&r.details.fragments.forEach(a=>a.level=-1)),!1));ZY(i),this._levels=i,this.currentLevelIndex>-1&&(n=this.currentLevel)!=null&&n.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(B.LEVELS_UPDATED,{levels:i})}onLevelsUpdated(e,{levels:n}){this._levels=n}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:n,maxHdcpLevel:i}=this.hls;this._maxAutoLevel!==n&&(this._maxAutoLevel=n,this.hls.trigger(B.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:n,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:i}))}}function CL(t){const e={};t.forEach(n=>{const i=n.groupId||"";n.id=e[i]=e[i]||0,e[i]++})}class wke{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const i in this.keyUriToKeyInfo){const r=this.keyUriToKeyInfo[i].loader;if(r){var n;if(e&&e!==((n=r.context)==null?void 0:n.frag.type))return;r.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e];(n.mediaKeySessionContext||n.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const n=this.keyUriToKeyInfo[e].loader;n&&n.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,n=Ee.KEY_LOAD_ERROR,i,r,s){return new Ta({type:tt.NETWORK_ERROR,details:n,fatal:!1,frag:e,response:s,error:i,networkDetails:r})}loadClear(e,n){if(this.emeController&&this.config.emeEnabled){const{sn:i,cc:r}=e;for(let s=0;s<n.length;s++){const a=n[s];if(r<=a.cc&&(i==="initSegment"||a.sn==="initSegment"||i<a.sn)){this.emeController.selectKeySystemFormat(a).then(o=>{a.setKeyFormat(o)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(n=>this.loadInternal(e,n)):this.loadInternal(e)}loadInternal(e,n){var i,r;n&&e.setKeyFormat(n);const s=e.decryptdata;if(!s){const c=new Error(n?`Expected frag.decryptdata to be defined after setting format ${n}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,Ee.KEY_LOAD_ERROR,c))}const a=s.uri;if(!a)return Promise.reject(this.createKeyLoadError(e,Ee.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${a}"`)));let o=this.keyUriToKeyInfo[a];if((i=o)!=null&&i.decryptdata.key)return s.key=o.decryptdata.key,Promise.resolve({frag:e,keyInfo:o});if((r=o)!=null&&r.keyLoadPromise){var l;switch((l=o.mediaKeySessionContext)==null?void 0:l.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return o.keyLoadPromise.then(c=>(s.key=c.keyInfo.decryptdata.key,{frag:e,keyInfo:o}))}}switch(o=this.keyUriToKeyInfo[a]={decryptdata:s,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},s.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return s.keyFormat==="identity"?this.loadKeyHTTP(o,e):this.loadKeyEME(o,e);case"AES-128":return this.loadKeyHTTP(o,e);default:return Promise.reject(this.createKeyLoadError(e,Ee.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${s.method}"`)))}}loadKeyEME(e,n){const i={frag:n,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const r=this.emeController.loadKey(i);if(r)return(e.keyLoadPromise=r.then(s=>(e.mediaKeySessionContext=s,i))).catch(s=>{throw e.keyLoadPromise=null,s})}return Promise.resolve(i)}loadKeyHTTP(e,n){const i=this.config,r=i.loader,s=new r(i);return n.keyLoader=e.loader=s,e.keyLoadPromise=new Promise((a,o)=>{const l={keyInfo:e,frag:n,responseType:"arraybuffer",url:e.decryptdata.uri},c=i.keyLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(f,h,m,p)=>{const{frag:v,keyInfo:y,url:E}=m;if(!v.decryptdata||y!==this.keyUriToKeyInfo[E])return o(this.createKeyLoadError(v,Ee.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),p));y.decryptdata.key=v.decryptdata.key=new Uint8Array(f.data),v.keyLoader=null,y.loader=null,a({frag:v,keyInfo:y})},onError:(f,h,m,p)=>{this.resetLoader(h),o(this.createKeyLoadError(n,Ee.KEY_LOAD_ERROR,new Error(`HTTP Error ${f.code} loading key ${f.text}`),m,ii({url:l.url,data:void 0},f)))},onTimeout:(f,h,m)=>{this.resetLoader(h),o(this.createKeyLoadError(n,Ee.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),m))},onAbort:(f,h,m)=>{this.resetLoader(h),o(this.createKeyLoadError(n,Ee.INTERNAL_ABORTED,new Error("key loading aborted"),m))}};s.load(l,u,d)})}resetLoader(e){const{frag:n,keyInfo:i,url:r}=e,s=i.loader;n.keyLoader===s&&(n.keyLoader=null,i.loader=null),delete this.keyUriToKeyInfo[r],s&&s.destroy()}}function R$(){return self.SourceBuffer||self.WebKitSourceBuffer}function C$(){if(!pc())return!1;const e=R$();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function xke(){if(!C$())return!1;const t=pc();return typeof(t==null?void 0:t.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(bp(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(bp(e,"audio"))))}function Vke(){var t;const e=R$();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}const Nke=250,wm=2,_ke=.1,kke=.05;class Fke{constructor(e,n,i,r){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=n,this.fragmentTracker=i,this.hls=r}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,n){const{config:i,media:r,stalled:s}=this;if(r===null)return;const{currentTime:a,seeking:o}=r,l=this.seeking&&!o,c=!this.seeking&&o;if(this.seeking=o,a!==e){if(this.moved=!0,o||(this.nudgeRetry=0),s!==null){if(this.stallReported){const v=self.performance.now()-s;se.warn(`playback not stuck anymore @${a}, after ${Math.round(v)}ms`),this.stallReported=!1}this.stalled=null}return}if(c||l){this.stalled=null;return}if(r.paused&&!o||r.ended||r.playbackRate===0||!Pt.getBuffered(r).length){this.nudgeRetry=0;return}const u=Pt.bufferInfo(r,a,0),d=u.nextStart||0;if(o){const v=u.len>wm,y=!d||n&&n.start<=a||d-a>wm&&!this.fragmentTracker.getPartialFragment(a);if(v||y)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var f;if(!(u.len>0)&&!d)return;const y=Math.max(d,u.start||0)-a,E=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,I=(E==null||(f=E.details)==null?void 0:f.live)?E.details.targetduration*2:wm,w=this.fragmentTracker.getPartialFragment(a);if(y>0&&(y<=I||w)){r.paused||this._trySkipBufferHole(w);return}}const h=self.performance.now();if(s===null){this.stalled=h;return}const m=h-s;if(!o&&m>=Nke&&(this._reportStall(u),!this.media))return;const p=Pt.bufferInfo(r,a,i.maxBufferHole);this._tryFixBufferStall(p,m)}_tryFixBufferStall(e,n){const{config:i,fragmentTracker:r,media:s}=this;if(s===null)return;const a=s.currentTime,o=r.getPartialFragment(a);o&&(this._trySkipBufferHole(o)||!this.media)||(e.len>i.maxBufferHole||e.nextStart&&e.nextStart-a<i.maxBufferHole)&&n>i.highBufferWatchdogPeriod*1e3&&(se.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){const{hls:n,media:i,stallReported:r}=this;if(!r&&i){this.stallReported=!0;const s=new Error(`Playback stalling at @${i.currentTime} due to low buffer (${JSON.stringify(e)})`);se.warn(s.message),n.trigger(B.ERROR,{type:tt.MEDIA_ERROR,details:Ee.BUFFER_STALLED_ERROR,fatal:!1,error:s,buffer:e.len})}}_trySkipBufferHole(e){const{config:n,hls:i,media:r}=this;if(r===null)return 0;const s=r.currentTime,a=Pt.bufferInfo(r,s,0),o=s<a.start?a.start:a.nextStart;if(o){const l=a.len<=n.maxBufferHole,c=a.len>0&&a.len<1&&r.readyState<3,u=o-s;if(u>0&&(l||c)){if(u>n.maxBufferHole){const{fragmentTracker:f}=this;let h=!1;if(s===0){const m=f.getAppendedFrag(0,He.MAIN);m&&o<m.end&&(h=!0)}if(!h){const m=e||f.getAppendedFrag(s,He.MAIN);if(m){let p=!1,v=m.end;for(;v<o;){const y=f.getPartialFragment(v);if(y)v+=y.duration;else{p=!0;break}}if(p)return 0}}}const d=Math.max(o+kke,s+_ke);if(se.warn(`skipping hole, adjusting currentTime from ${s} to ${d}`),this.moved=!0,this.stalled=null,r.currentTime=d,e&&!e.gap){const f=new Error(`fragment loaded with buffer holes, seeking from ${s} to ${d}`);i.trigger(B.ERROR,{type:tt.MEDIA_ERROR,details:Ee.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:f,reason:f.message,frag:e})}return d}}return 0}_tryNudgeBuffer(){const{config:e,hls:n,media:i,nudgeRetry:r}=this;if(i===null)return;const s=i.currentTime;if(this.nudgeRetry++,r<e.nudgeMaxRetry){const a=s+(r+1)*e.nudgeOffset,o=new Error(`Nudging 'currentTime' from ${s} to ${a}`);se.warn(o.message),i.currentTime=a,n.trigger(B.ERROR,{type:tt.MEDIA_ERROR,details:Ee.BUFFER_NUDGE_ON_STALL,error:o,fatal:!1})}else{const a=new Error(`Playhead still not moving while enough data buffered @${s} after ${e.nudgeMaxRetry} nudges`);se.error(a.message),n.trigger(B.ERROR,{type:tt.MEDIA_ERROR,details:Ee.BUFFER_STALLED_ERROR,error:a,fatal:!0})}}}const Lke=100;class Uke extends vR{constructor(e,n,i){super(e,n,i,"[stream-controller]",He.MAIN),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(B.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(B.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(B.MANIFEST_LOADING,this.onManifestLoading,this),e.on(B.MANIFEST_PARSED,this.onManifestParsed,this),e.on(B.LEVEL_LOADING,this.onLevelLoading,this),e.on(B.LEVEL_LOADED,this.onLevelLoaded,this),e.on(B.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(B.ERROR,this.onError,this),e.on(B.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(B.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(B.BUFFER_CREATED,this.onBufferCreated,this),e.on(B.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(B.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(B.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(B.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(B.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(B.MANIFEST_LOADING,this.onManifestLoading,this),e.off(B.MANIFEST_PARSED,this.onManifestParsed,this),e.off(B.LEVEL_LOADED,this.onLevelLoaded,this),e.off(B.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(B.ERROR,this.onError,this),e.off(B.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(B.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(B.BUFFER_CREATED,this.onBufferCreated,this),e.off(B.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(B.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(B.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(e){if(this.levels){const{lastCurrentTime:n,hls:i}=this;if(this.stopLoad(),this.setInterval(Lke),this.level=-1,!this.startFragRequested){let r=i.startLevel;r===-1&&(i.config.testBandwidth&&this.levels.length>1?(r=0,this.bitrateTest=!0):r=i.firstAutoLevel),i.nextLoadLevel=r,this.level=i.loadLevel,this.loadedmetadata=!1}n>0&&e===-1&&(this.log(`Override startPosition with lastCurrentTime @${n.toFixed(3)}`),e=n),this.state=xe.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=xe.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case xe.WAITING_LEVEL:{const{levels:n,level:i}=this,r=n==null?void 0:n[i],s=r==null?void 0:r.details;if(s&&(!s.live||this.levelLastLoaded===r)){if(this.waitForCdnTuneIn(s))break;this.state=xe.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=xe.IDLE;break}break}case xe.FRAG_LOADING_WAITING_RETRY:{var e;const n=self.performance.now(),i=this.retryDate;if(!i||n>=i||(e=this.media)!=null&&e.seeking){const{levels:r,level:s}=this,a=r==null?void 0:r[s];this.resetStartWhenNotLoaded(a||null),this.state=xe.IDLE}}break}this.state===xe.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:n,levels:i,media:r}=this;if(n===null||!r&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const s=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(i!=null&&i[s]))return;const a=i[s],o=this.getMainFwdBufferInfo();if(o===null)return;const l=this.getLevelDetails();if(l&&this._streamEnded(o,l)){const p={};this.altAudio&&(p.type="video"),this.hls.trigger(B.BUFFER_EOS,p),this.state=xe.ENDED;return}if(!this.buffering)return;e.loadLevel!==s&&e.manualLevel===-1&&this.log(`Adapting to level ${s} from level ${this.level}`),this.level=e.nextLoadLevel=s;const c=a.details;if(!c||this.state===xe.WAITING_LEVEL||c.live&&this.levelLastLoaded!==a){this.level=s,this.state=xe.WAITING_LEVEL;return}const u=o.len,d=this.getMaxBufferLength(a.maxBitrate);if(u>=d)return;this.backtrackFragment&&this.backtrackFragment.start>o.end&&(this.backtrackFragment=null);const f=this.backtrackFragment?this.backtrackFragment.start:o.end;let h=this.getNextFragment(f,c);if(this.couldBacktrack&&!this.fragPrevious&&h&&h.sn!=="initSegment"&&this.fragmentTracker.getState(h)!==Jn.OK){var m;const v=((m=this.backtrackFragment)!=null?m:h).sn-c.startSN,y=c.fragments[v-1];y&&h.cc===y.cc&&(h=y,this.fragmentTracker.removeFragment(y))}else this.backtrackFragment&&o.len&&(this.backtrackFragment=null);if(h&&this.isLoopLoading(h,f)){if(!h.gap){const v=this.audioOnly&&!this.altAudio?kt.AUDIO:kt.VIDEO,y=(v===kt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;y&&this.afterBufferFlushed(y,v,He.MAIN)}h=this.getNextFragmentLoopLoading(h,c,o,He.MAIN,d)}h&&(h.initSegment&&!h.initSegment.data&&!this.bitrateTest&&(h=h.initSegment),this.loadFragment(h,a,f))}loadFragment(e,n,i){const r=this.fragmentTracker.getState(e);this.fragCurrent=e,r===Jn.NOT_LOADED||r===Jn.PARTIAL?e.sn==="initSegment"?this._loadInitSegment(e,n):this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,n)):(this.startFragRequested=!0,super.loadFragment(e,n,i)):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,He.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:n}=this;if(n!=null&&n.readyState){let i;const r=this.getAppendedFrag(n.currentTime);r&&r.start>1&&this.flushMainBuffer(0,r.start-1);const s=this.getLevelDetails();if(s!=null&&s.live){const o=this.getMainFwdBufferInfo();if(!o||o.len<s.targetduration*2)return}if(!n.paused&&e){const o=this.hls.nextLoadLevel,l=e[o],c=this.fragLastKbps;c&&this.fragCurrent?i=this.fragCurrent.duration*l.maxBitrate/(1e3*c)+1:i=0}else i=0;const a=this.getBufferedFrag(n.currentTime+i);if(a){const o=this.followingBufferedFrag(a);if(o){this.abortCurrentFrag();const l=o.maxStartPTS?o.maxStartPTS:o.start,c=o.duration,u=Math.max(a.end,l+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,c*(this.couldBacktrack?.5:.125)),c*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(u,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case xe.KEY_LOADING:case xe.FRAG_LOADING:case xe.FRAG_LOADING_WAITING_RETRY:case xe.PARSING:case xe.PARSED:this.state=xe.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,n){super.flushMainBuffer(e,n,this.altAudio?"video":null)}onMediaAttached(e,n){super.onMediaAttached(e,n);const i=n.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),i.addEventListener("playing",this.onvplaying),i.addEventListener("seeked",this.onvseeked),this.gapController=new Fke(this.config,i,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const e=this.media,n=e?e.currentTime:null;Me(n)&&this.log(`Media seeked to ${n.toFixed(3)}`);const i=this.getMainFwdBufferInfo();if(i===null||i.len===0){this.warn(`Main forward buffer length on "seeked" event ${i?i.len:"empty"})`);return}this.tick()}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(B.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(e,n){let i=!1,r=!1;n.levels.forEach(s=>{const a=s.audioCodec;a&&(i=i||a.indexOf("mp4a.40.2")!==-1,r=r||a.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=i&&r&&!Vke(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=n.levels,this.startFragRequested=!1}onLevelLoading(e,n){const{levels:i}=this;if(!i||this.state!==xe.IDLE)return;const r=i[n.level];(!r.details||r.details.live&&this.levelLastLoaded!==r||this.waitForCdnTuneIn(r.details))&&(this.state=xe.WAITING_LEVEL)}onLevelLoaded(e,n){var i;const{levels:r}=this,s=n.level,a=n.details,o=a.totalduration;if(!r){this.warn(`Levels were reset while loading level ${s}`);return}this.log(`Level ${s} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""}, cc [${a.startCC}, ${a.endCC}] duration:${o}`);const l=r[s],c=this.fragCurrent;c&&(this.state===xe.FRAG_LOADING||this.state===xe.FRAG_LOADING_WAITING_RETRY)&&c.level!==n.level&&c.loader&&this.abortCurrentFrag();let u=0;if(a.live||(i=l.details)!=null&&i.live){var d;if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;u=this.alignPlaylists(a,l.details,(d=this.levelLastLoaded)==null?void 0:d.details)}if(l.details=a,this.levelLastLoaded=l,this.hls.trigger(B.LEVEL_UPDATED,{details:a,level:s}),this.state===xe.WAITING_LEVEL){if(this.waitForCdnTuneIn(a))return;this.state=xe.IDLE}this.startFragRequested?a.live&&this.synchronizeToLiveEdge(a):this.setStartPosition(a,u),this.tick()}_handleFragmentLoadProgress(e){var n;const{frag:i,part:r,payload:s}=e,{levels:a}=this;if(!a){this.warn(`Levels were reset while fragment load was in progress. Fragment ${i.sn} of level ${i.level} will not be buffered`);return}const o=a[i.level],l=o.details;if(!l){this.warn(`Dropping fragment ${i.sn} of level ${i.level} after level details were reset`),this.fragmentTracker.removeFragment(i);return}const c=o.videoCodec,u=l.PTSKnown||!l.live,d=(n=i.initSegment)==null?void 0:n.data,f=this._getAudioCodec(o),h=this.transmuxer=this.transmuxer||new s$(this.hls,He.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),m=r?r.index:-1,p=m!==-1,v=new yR(i.level,i.sn,i.stats.chunkCount,s.byteLength,m,p),y=this.initPTS[i.cc];h.push(s,d,f,c,i,r,l.totalduration,u,v,y)}onAudioTrackSwitching(e,n){const i=this.altAudio;if(!!!n.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const a=this.fragCurrent;a&&(this.log("Switching to main audio track, cancel main fragment load"),a.abortRequests(),this.fragmentTracker.removeFragment(a)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const s=this.hls;i&&(s.trigger(B.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),s.trigger(B.AUDIO_TRACK_SWITCHED,n)}}onAudioTrackSwitched(e,n){const i=n.id,r=!!this.hls.audioTracks[i].url;if(r){const s=this.videoBuffer;s&&this.mediaBuffer!==s&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=s)}this.altAudio=r,this.tick()}onBufferCreated(e,n){const i=n.tracks;let r,s,a=!1;for(const o in i){const l=i[o];if(l.id==="main"){if(s=o,r=l,o==="video"){const c=i[o];c&&(this.videoBuffer=c.buffer)}}else a=!0}a&&r?(this.log(`Alternate track found, use ${s}.buffered to schedule main fragment loading`),this.mediaBuffer=r.buffer):this.mediaBuffer=this.media}onFragBuffered(e,n){const{frag:i,part:r}=n;if(i&&i.type!==He.MAIN)return;if(this.fragContextChanged(i)){this.warn(`Fragment ${i.sn}${r?" p: "+r.index:""} of level ${i.level} finished buffering, but was aborted. state: ${this.state}`),this.state===xe.PARSED&&(this.state=xe.IDLE);return}const s=r?r.stats:i.stats;this.fragLastKbps=Math.round(8*s.total/(s.buffering.end-s.loading.first)),i.sn!=="initSegment"&&(this.fragPrevious=i),this.fragBufferedComplete(i,r)}onError(e,n){var i;if(n.fatal){this.state=xe.ERROR;return}switch(n.details){case Ee.FRAG_GAP:case Ee.FRAG_PARSING_ERROR:case Ee.FRAG_DECRYPT_ERROR:case Ee.FRAG_LOAD_ERROR:case Ee.FRAG_LOAD_TIMEOUT:case Ee.KEY_LOAD_ERROR:case Ee.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(He.MAIN,n);break;case Ee.LEVEL_LOAD_ERROR:case Ee.LEVEL_LOAD_TIMEOUT:case Ee.LEVEL_PARSING_ERROR:!n.levelRetry&&this.state===xe.WAITING_LEVEL&&((i=n.context)==null?void 0:i.type)===gt.LEVEL&&(this.state=xe.IDLE);break;case Ee.BUFFER_APPEND_ERROR:case Ee.BUFFER_FULL_ERROR:if(!n.parent||n.parent!=="main")return;if(n.details===Ee.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(n)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case Ee.INTERNAL_EXCEPTION:this.recoverWorkerError(n);break}}checkBuffer(){const{media:e,gapController:n}=this;if(!(!e||!n||!e.readyState)){if(this.loadedmetadata||!Pt.getBuffered(e).length){const i=this.state!==xe.IDLE?this.fragCurrent:null;n.poll(this.lastCurrentTime,i)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=xe.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,{type:n}){if(n!==kt.AUDIO||this.audioOnly&&!this.altAudio){const i=(n===kt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(i,n,He.MAIN),this.tick()}}onLevelsUpdated(e,n){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=n.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const n=e.currentTime;let i=this.startPosition;if(i>=0&&n<i){if(e.seeking){this.log(`could not seek to ${i}, already seeking at ${n}`);return}const r=Pt.getBuffered(e),a=(r.length?r.start(0):0)-i;a>0&&(a<this.config.maxBufferHole||a<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${a} to match buffer start`),i+=a,this.startPosition=i),this.log(`seek to target start position ${i} from current time ${n}`),e.currentTime=i}}_getAudioCodec(e){let n=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&n&&(this.log("Swapping audio codec"),n.indexOf("mp4a.40.5")!==-1?n="mp4a.40.2":n="mp4a.40.5"),n}_loadBitrateTestFrag(e,n){e.bitrateTest=!0,this._doFragLoad(e,n).then(i=>{const{hls:r}=this;if(!i||this.fragContextChanged(e))return;n.fragmentError=0,this.state=xe.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const s=e.stats;s.parsing.start=s.parsing.end=s.buffering.start=s.buffering.end=self.performance.now(),r.trigger(B.FRAG_LOADED,i),e.bitrateTest=!1})}_handleTransmuxComplete(e){var n;const i="main",{hls:r}=this,{remuxResult:s,chunkMeta:a}=e,o=this.getCurrentContext(a);if(!o){this.resetWhenMissingContext(a);return}const{frag:l,part:c,level:u}=o,{video:d,text:f,id3:h,initSegment:m}=s,{details:p}=u,v=this.altAudio?void 0:s.audio;if(this.fragContextChanged(l)){this.fragmentTracker.removeFragment(l);return}if(this.state=xe.PARSING,m){if(m!=null&&m.tracks){const S=l.initSegment||l;this._bufferInitSegment(u,m.tracks,S,a),r.trigger(B.FRAG_PARSING_INIT_SEGMENT,{frag:S,id:i,tracks:m.tracks})}const y=m.initPTS,E=m.timescale;Me(y)&&(this.initPTS[l.cc]={baseTime:y,timescale:E},r.trigger(B.INIT_PTS_FOUND,{frag:l,id:i,initPTS:y,timescale:E}))}if(d&&p&&l.sn!=="initSegment"){const y=p.fragments[l.sn-1-p.startSN],E=l.sn===p.startSN,S=!y||l.cc>y.cc;if(s.independent!==!1){const{startPTS:I,endPTS:w,startDTS:N,endDTS:F}=d;if(c)c.elementaryStreams[d.type]={startPTS:I,endPTS:w,startDTS:N,endDTS:F};else if(d.firstKeyFrame&&d.independent&&a.id===1&&!S&&(this.couldBacktrack=!0),d.dropped&&d.independent){const W=this.getMainFwdBufferInfo(),Z=(W?W.end:this.getLoadPosition())+this.config.maxBufferHole,O=d.firstKeyFramePTS?d.firstKeyFramePTS:I;if(!E&&Z<O-this.config.maxBufferHole&&!S){this.backtrack(l);return}else S&&(l.gap=!0);l.setElementaryStreamInfo(d.type,l.start,w,l.start,F,!0)}else E&&I>wm&&(l.gap=!0);l.setElementaryStreamInfo(d.type,I,w,N,F),this.backtrackFragment&&(this.backtrackFragment=l),this.bufferFragmentData(d,l,c,a,E||S)}else if(E||S)l.gap=!0;else{this.backtrack(l);return}}if(v){const{startPTS:y,endPTS:E,startDTS:S,endDTS:I}=v;c&&(c.elementaryStreams[kt.AUDIO]={startPTS:y,endPTS:E,startDTS:S,endDTS:I}),l.setElementaryStreamInfo(kt.AUDIO,y,E,S,I),this.bufferFragmentData(v,l,c,a)}if(p&&h!=null&&(n=h.samples)!=null&&n.length){const y={id:i,frag:l,details:p,samples:h.samples};r.trigger(B.FRAG_PARSING_METADATA,y)}if(p&&f){const y={id:i,frag:l,details:p,samples:f.samples};r.trigger(B.FRAG_PARSING_USERDATA,y)}}_bufferInitSegment(e,n,i,r){if(this.state!==xe.PARSING)return;this.audioOnly=!!n.audio&&!n.video,this.altAudio&&!this.audioOnly&&delete n.audio;const{audio:s,video:a,audiovideo:o}=n;if(s){let l=e.audioCodec;const c=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){l&&(l.indexOf("mp4a.40.5")!==-1?l="mp4a.40.2":l="mp4a.40.5");const u=s.metadata;u&&"channelCount"in u&&(u.channelCount||1)!==1&&c.indexOf("firefox")===-1&&(l="mp4a.40.5")}l&&l.indexOf("mp4a.40.5")!==-1&&c.indexOf("android")!==-1&&s.container!=="audio/mpeg"&&(l="mp4a.40.2",this.log(`Android: force audio codec to ${l}`)),e.audioCodec&&e.audioCodec!==l&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${l}"`),s.levelCodec=l,s.id="main",this.log(`Init audio buffer, container:${s.container}, codecs[selected/level/parsed]=[${l||""}/${e.audioCodec||""}/${s.codec}]`)}a&&(a.levelCodec=e.videoCodec,a.id="main",this.log(`Init video buffer, container:${a.container}, codecs[level/parsed]=[${e.videoCodec||""}/${a.codec}]`)),o&&this.log(`Init audiovideo buffer, container:${o.container}, codecs[level/parsed]=[${e.codecs}/${o.codec}]`),this.hls.trigger(B.BUFFER_CODECS,n),Object.keys(n).forEach(l=>{const u=n[l].initSegment;u!=null&&u.byteLength&&this.hls.trigger(B.BUFFER_APPENDING,{type:l,data:u,frag:i,part:null,chunkMeta:r,parent:i.type})}),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,He.MAIN)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=xe.IDLE}checkFragmentChanged(){const e=this.media;let n=null;if(e&&e.readyState>1&&e.seeking===!1){const i=e.currentTime;if(Pt.isBuffered(e,i)?n=this.getAppendedFrag(i):Pt.isBuffered(e,i+.1)&&(n=this.getAppendedFrag(i+.1)),n){this.backtrackFragment=null;const r=this.fragPlaying,s=n.level;(!r||n.sn!==r.sn||r.level!==s)&&(this.fragPlaying=n,this.hls.trigger(B.FRAG_CHANGED,{frag:n}),(!r||r.level!==s)&&this.hls.trigger(B.LEVEL_SWITCHED,{level:s}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){const e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){const e=this.media;if(e){const n=e.currentTime,i=this.currentFrag;if(i&&Me(n)&&Me(i.programDateTime)){const r=i.programDateTime+(n-i.start)*1e3;return new Date(r)}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class Do{static get version(){return"1.5.20"}static isMSESupported(){return C$()}static isSupported(){return xke()}static getMediaSource(){return pc()}static get Events(){return B}static get ErrorTypes(){return tt}static get ErrorDetails(){return Ee}static get DefaultConfig(){return Do.defaultConfig?Do.defaultConfig:T$}static set DefaultConfig(e){Do.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new RR,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,Txe(e.debug||!1,"Hls instance");const n=this.config=Rke(Do.DefaultConfig,e);this.userConfig=e,n.progressive&&Cke(n);const{abrController:i,bufferController:r,capLevelController:s,errorController:a,fpsController:o}=n,l=new a(this),c=this.abrController=new i(this),u=this.bufferController=new r(this),d=this.capLevelController=new s(this),f=new o(this),h=new yVe(this),m=new SVe(this),p=n.contentSteeringController,v=p?new p(this):null,y=this.levelController=new Ike(this,v),E=new HVe(this),S=new wke(this.config),I=this.streamController=new Uke(this,E,S);d.setStreamController(I),f.setStreamController(I);const w=[h,y,I];v&&w.splice(1,0,v),this.networkControllers=w;const N=[c,u,d,f,m,E];this.audioTrackController=this.createController(n.audioTrackController,w);const F=n.audioStreamController;F&&w.push(new F(this,E,S)),this.subtitleTrackController=this.createController(n.subtitleTrackController,w);const W=n.subtitleStreamController;W&&w.push(new W(this,E,S)),this.createController(n.timelineController,N),S.emeController=this.emeController=this.createController(n.emeController,N),this.cmcdController=this.createController(n.cmcdController,N),this.latencyController=this.createController(TVe,N),this.coreComponents=N,w.push(l);const Z=l.onErrorOut;typeof Z=="function"&&this.on(B.ERROR,Z,l)}createController(e,n){if(e){const i=new e(this);return n&&n.push(i),i}return null}on(e,n,i=this){this._emitter.on(e,n,i)}once(e,n,i=this){this._emitter.once(e,n,i)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,n,i=this,r){this._emitter.off(e,n,i,r)}listeners(e){return this._emitter.listeners(e)}emit(e,n,i){return this._emitter.emit(e,n,i)}trigger(e,n){if(this.config.debug)return this.emit(e,e,n);try{return this.emit(e,e,n)}catch(i){if(se.error("An internal error happened while handling event "+e+'. Error message: "'+i.message+'". Here is a stacktrace:',i),!this.triggeringException){this.triggeringException=!0;const r=e===B.ERROR;this.trigger(B.ERROR,{type:tt.OTHER_ERROR,details:Ee.INTERNAL_EXCEPTION,fatal:r,event:e,error:i}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){se.log("destroy"),this.trigger(B.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(n=>n.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(n=>n.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){se.log("attachMedia"),this._media=e,this.trigger(B.MEDIA_ATTACHING,{media:e})}detachMedia(){se.log("detachMedia"),this.trigger(B.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const n=this.media,i=this.url,r=this.url=dR.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,se.log(`loadSource:${r}`),n&&i&&(i!==r||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(n)),this.trigger(B.MANIFEST_LOADING,{url:e})}startLoad(e=-1){se.log(`startLoad(${e})`),this.started=!0,this.resumeBuffering();for(let n=0;n<this.networkControllers.length&&(this.networkControllers[n].startLoad(e),!(!this.started||!this.networkControllers));n++);}stopLoad(){se.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}resumeBuffering(){se.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()})}pauseBuffering(){se.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()})}swapAudioCodec(){se.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){se.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e){this.levelController.removeLevel(e)}get levels(){const e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){se.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){se.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){se.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){se.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){se.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const n=!!e;n!==this.config.capLevelToPlayerSize&&(n?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=n)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(se.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){RVe(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:n}}=this;if(!e)return 0;const i=e.length;for(let r=0;r<i;r++)if(e[r].maxBitrate>=n)return r;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:n,maxHdcpLevel:i}=this;let r;if(n===-1&&e!=null&&e.length?r=e.length-1:r=n,i)for(let s=r;s--;){const a=e[s].attrs["HDCP-LEVEL"];if(a&&a<=i)return s}return r}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(e){var n;return(n=this.audioTrackController)==null?void 0:n.setAudioOption(e)}setSubtitleOption(e){var n;return(n=this.subtitleTrackController)==null||n.setSubtitleOption(e),null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const n=this.audioTrackController;n&&(n.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const n=this.subtitleTrackController;n&&(n.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const n=this.subtitleTrackController;n&&(n.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}Do.defaultConfig=void 0;const Bke=xt.video`
    object-fit: contain;
    width: 100%;
    height: 100%;
`,Wke=xt.iframe`
    object-fit: contain;
    width: 100%;
    height: 100%;
    border: none;
    margin: 0;
    padding: 0;
`,Gke=xt.div`
    width: 100%;
    padding-top: 28.125%;
    padding-bottom: 28.125%;
    text-align: center;

    > img {
        width: 60px;
        height: 60px;

        animation: spin 2s linear infinite;

        @keyframes spin {
            from {
                transform:rotate(0deg);
            }
            to {
                transform:rotate(360deg);
            }
        }
    }
`,Zke=xt.div`
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, .7);
    backdrop-filter: blur(1px);
    cursor: pointer;

    display: flex;
    align-items: center;
    justify-content: center;
`,Dke=xt.button`
  position: absolute;
  top: 20px;
  right: 20px;
`,Oke={},Xke=new LD,Hc=Q2(Oke),L1=Sc("ui:gam-static"),IL=t=>new Promise((e,n)=>{const i=new Image;i.onload=()=>e(t),i.onerror=()=>n(),i.src=t}),I$=()=>{const t=V.useRef(0);return[V.useCallback(async e=>{var n,i,r,s,a,o,l,c,u,d,f;if((n=Hc.get()[e])!=null&&n.imageSrc)return{success:!0};const h=Date.now();t.current=h,Hc.setKey(e,{id:"",url:e});try{Xt.emit("exposedPauseAd",{action:"load",payload:{}});const m=await Xke.get(e);if(L1.debug(m,"parsedVAST"),t.current===h&&Hc.get()[e].url){const p=m.ads.find(v=>v.creatives.length>0);if(p){L1.debug(p,"validAd");const v=p.creatives.find(I=>I.type==="nonlinear");if(v){L1.debug(v,"nonlinear");const I=(r=(i=v.variations)==null?void 0:i[0])==null?void 0:r.staticResource,w=(a=(s=v.variations)==null?void 0:s[0])==null?void 0:a.nonlinearClickThroughURLTemplate;if(I)return await IL(I),Hc.setKey(e,{id:p.id||"",url:e,imageSrc:I,adUrl:w}),Xt.emit("exposedPauseAd",{action:"loaded",payload:{id:p.id||""}}),{success:!0}}const y=p.creatives.find(I=>I.type==="companion");L1.debug(y,"companion");const E=(u=(c=(l=(o=y==null?void 0:y.variations)==null?void 0:o[0])==null?void 0:l.staticResources)==null?void 0:c[0])==null?void 0:u.url,S=(f=(d=y==null?void 0:y.variations)==null?void 0:d[0])==null?void 0:f.companionClickThroughURLTemplate;if(E)return await IL(E),Hc.setKey(e,{id:p.id||"",url:e,imageSrc:E,adUrl:S}),Xt.emit("exposedPauseAd",{action:"loaded",payload:{id:p.id||""}}),{success:!0}}}}catch(m){console.error("Error parsing VAST",m)}return{success:!1}},[]),Hc]},Mke=_("div")({name:"PauseAdOverlay",class:"pw9gih8",propsAsIs:!1}),Pke=_("div")({name:"PauseAdContent",class:"p8lpomy",propsAsIs:!1}),Yke=_("div")({name:"PauseAdTopLeft",class:"pv7u167",propsAsIs:!1}),$ke=_("h2")({name:"PauseAdTitle",class:"p1kh2yb0",propsAsIs:!1}),jke=_("p")({name:"PauseAdCaption",class:"pl8f94x",propsAsIs:!1}),Kke=_("div")({name:"PauseAdBottomLeft",class:"p1m6zmrt",propsAsIs:!1}),zke=_("button")({name:"PauseAdPlayButton",class:"pm3vwfa",propsAsIs:!1}),Jke=_("div")({name:"PauseAdSidebarGradient",class:"p1tibuhw",propsAsIs:!1}),Hke=_("div")({name:"PauseAdSidebar",class:"ptqqrqd",propsAsIs:!1}),Qke=_("span")({name:"PauseAdTitleDescription",class:"p14estxv",propsAsIs:!1}),wL=_("img")({name:"ExternalAdContainer",class:"e1dpvfl1",propsAsIs:!1}),qke=({vastUrl:t,isDesktop:e})=>{var n;const[,i]=I$(),r=ct(i,{keys:[t]});return V.useEffect(()=>{r&&r[t]&&r[t].imageSrc&&r[t].id&&Xt.emit("exposedPauseAd",{action:"rendered",payload:{id:r[t].id}})},[r,t]),(n=r==null?void 0:r[t])!=null&&n.imageSrc?!r[t].adUrl||!e?b.jsx(wL,{src:r[t].imageSrc}):b.jsx("a",{onClick:()=>{Xt.emit("exposedPauseAd",{action:"navigated",payload:{id:r[t].id}})},href:r[t].adUrl,target:"_blank",rel:"noopener noreferrer",children:b.jsx(wL,{src:r[t].imageSrc})}):null},eFe=({isClosing:t,title:e,caption:n,onPlay:i,onClose:r,vastUrl:s,options:a,isDesktop:o})=>{const l=(a==null?void 0:a.showPauseButton)??!0,{ref:c,focusSelf:u}=IZ.useFocusable({focusKey:"sl-pause-ad-play",onEnterRelease:i,isFocusBoundary:!0,forceFocus:!0});return V.useEffect(()=>{c.current&&u()},[c,u]),V.useEffect(()=>{if(!r)return()=>{};const d=f=>{const h=f.keyCode;if(h===461||h===10009||h===27||h===8){f.preventDefault(),f.stopPropagation(),f.stopImmediatePropagation(),r();return}};return window.addEventListener("keydown",d,{capture:!0}),()=>window.removeEventListener("keydown",d,{capture:!0})},[r]),b.jsx(Mke,{className:Kt("SL_PauseAdOverlay",t&&"pause-ad-closing"),children:b.jsxs(Pke,{children:[b.jsxs(Yke,{children:[b.jsx($ke,{children:e}),b.jsx(jke,{children:n})]}),l&&b.jsx(Kke,{children:b.jsx(zke,{ref:c,onClick:i,onMouseEnter:()=>c.current.focus(),"aria-label":"Resume playback"})}),b.jsx(Jke,{className:"SL_PauseAdSidebar",children:b.jsxs(Hke,{children:[s&&b.jsx(qke,{isDesktop:o,vastUrl:s}),b.jsx(Qke,{children:"ADVERTISEMENT"})]})})]})})},tFe=({showPauseAd:t,vastUrls:e,title:n,caption:i,sdk:r,onClose:s,onRender:a,options:o,isDesktop:l})=>{const c=(o==null?void 0:o.pauseAdDelay)??5e3,[u,d]=V.useState(!1),[f,h]=V.useState(!1),m=V.useRef(),p=e==null?void 0:e[0].url,v=V.useRef(p),y=V.useRef("");v.current=p;const[E,S]=I$(),I=V.useCallback(()=>{s&&(y.current=v.current,Xt.emit("exposedPauseAd",{action:"closed",payload:{}}),s())},[s]),w=V.useCallback(()=>{r.controlVideoPlayer({play:!0})},[r]);return V.useEffect(()=>{if(t&&p){Xt.emit("exposedPauseAd",{action:"enabled",payload:{}}),E(p).then(F=>{v.current===p&&(F==null?void 0:F.success)!==!0&&(clearTimeout(m.current),I==null||I())}).catch(()=>{v.current===p&&(clearTimeout(m.current),I==null||I())});const N=()=>{const F=S.get()[v.current];F!=null&&F.imageSrc?(clearTimeout(m.current),h(!1),d(!0)):m.current=setTimeout(()=>{N()},200)};m.current=setTimeout(()=>{N()},c)}else y.current!==v.current&&(y.current="",Xt.emit("exposedPauseAd",{action:"disabled",payload:{}})),h(!0),m.current=setTimeout(()=>{d(!1)},400);return()=>{m.current&&clearTimeout(m.current)}},[S,E,I,c,t,p]),V.useEffect(()=>{a==null||a({rendered:u})},[u,a]),V.useEffect(()=>()=>{a==null||a({rendered:!1})},[a]),u?b.jsx(eFe,{onClose:I,isClosing:f,title:n,caption:i,onPlay:w,vastUrl:p,options:o,isDesktop:l}):null},nFe=({showPauseAd:t,pauseAdVastUrl:e,videoPlayerController:n,onRenderPauseAd:i,onClosePauseAd:r,children:s,options:a})=>{const o=vc(),l=Fp(),c=V.useRef();return V.useEffect(()=>o?(n&&(c.current=n,o.addVideoPlayerController(c.current)),()=>{c.current&&o.removeVideoPlayerController(c.current)}):()=>{},[o,n]),o?b.jsx("div",{className:"StreamLayerSDK",children:b.jsxs(Lp,{style:s?{position:"relative"}:{},customTheme:l.theme,themeMode:l.themeMode,children:[s,e&&b.jsx(tFe,{sdk:o,showPauseAd:t,vastUrls:e,onClose:r,onRender:i,options:a,isDesktop:!0})]})}):s};class iFe extends V.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,n){console.error(e,n.componentStack)}render(){return this.state.hasError?this.props.children:b.jsx(nFe,{...this.props})}}const rFe=({interacted:t,setInteracted:e,muted:n,setMuted:i})=>{const[r,s]=V.useState(!1),[a,o]=V.useState(!1),l=V.useRef(null),c=V.useRef(),u=vc(),[d,f]=V.useState(""),[h,m]=V.useState(""),[p,v]=V.useState(!1),y=V.useCallback(()=>{s(!1)},[]),E=V.useCallback(F=>{o(F.rendered)},[]),S=V.useCallback(()=>{s(!1)},[]),I=V.useCallback(()=>{s(!0)},[]);V.useEffect(()=>{if(u)return u.streamSummary().subscribe(F=>{var W,Z,O,K,fe;(Z=(W=F.data)==null?void 0:W.summary)!=null&&Z.stream&&f(F.data.summary.stream),(fe=(K=(O=F.data)==null?void 0:O.summary)==null?void 0:K.pauseAdUrl)!=null&&fe[0]&&m(F.data.summary.pauseAdUrl[0])})},[u]),V.useEffect(()=>()=>{c.current&&clearTimeout(c.current)},[]),V.useEffect(()=>{if(d&&d.includes("m3u8"))if(Do.isSupported()&&l.current){const F=new Do({debug:!1});F.loadSource(d),F.attachMedia(l.current)}else f("");l.current&&(l.current.volume=.1,l.current.play().then(()=>e(!0)).catch(()=>{v(!0)}))},[d]),V.useEffect(()=>{var F;t&&p&&((F=l.current)==null||F.play())},[t,p]);const w=!a,N=V.useCallback(F=>{const W=l.current;W&&F.play===!0&&(s(!1),W.play())},[]);return d?d.includes("player.castr.com")?b.jsx(Wke,{src:`${d}?loop=on&fullscreen=off&airplay=off&cast=off&pip=off`,width:"100%",height:"100%",frameBorder:"0",scrolling:"no",allow:"autoplay"}):b.jsxs(b.Fragment,{children:[b.jsx(iFe,{showPauseAd:r,onRenderPauseAd:E,onClosePauseAd:y,videoPlayerController:N,pauseAdVastUrl:h?[{template:"default",url:h}]:void 0,children:b.jsx(Bke,{src:d,ref:l,muted:n,onPlay:S,onPause:I,onEnded:I,autoPlay:!0,loop:!0,playsInline:!0,controls:w,controlsList:"nodownload nofullscreen noremoteplayback"})}),w&&b.jsx(Dke,{onClick:()=>i(F=>!F),children:n?"unmute":"mute"}),!t&&p&&b.jsx(Zke,{children:"Click to start"})]}):b.jsx(Gke,{children:b.jsx("img",{src:"https://cdn.streamlayer.io/sdk-web-demo/loader.png"})})};var sFe={};const ol=sFe.SL_DEBUG==="true",aFe=xt.div`
  ${ol&&"background: green;"}
  width: 100%;
  height: 100%;

  display: flex;

  --banner-height: 155px;
  --banner-padding: 17px;
  --sidebar-width: 450px;
  --video-player-position: absolute;
  --transition-duration: .5s;

  --show-in-animation: show-in .3s ease forwards var(--transition-duration);

  @keyframes show-in {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
  }

  ${fc(`
    --banner-height: 95px;
    --banner-padding: 10px;
    --sidebar-width: 300px;
  `)}

  ${ps(`
    flex-direction: column;
    height: auto;

    --video-player-position: static;
    --banner-height: 0px;
    --banner-padding: 0px;
    --sidebar-width: 0px;
  `)}
`,oFe=xt.div`
  ${ol&&"background: blue;"}
  flex: 1 0 auto;
  display: flex;
  flex-direction: column;

  transition: width .5s ease;
`,lFe=xt.div`
  ${ol&&"background: orange;"}
  overflow: hidden;

  transition: width .5s ease;
`,cFe=xt.div`
  ${ol&&"background: purple;"}
  margin: auto;
  width: 100%;
  max-width: 450px;
  display: block;
  padding: 10px;
  box-sizing: border-box;

  @keyframes grow-in-sidebar {
      from {
          max-width: 0px;
      }
      to {
          max-width: 450px;
      }
  }
`,uFe=xt.div`
  ${ol&&"background: yellow;"}
  width: 100%;

  transition: height .5s ease;
  box-sizing: border-box;
`,dFe=xt.div`
  ${ol&&"background: red;"}
  flex: 1 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;

  transition: height .5s ease;
`,hFe=xt.div`
  width: 100%;
  aspect-ratio: 16/9;
  position: relative;
`,fFe=xt.div`
  ${ol&&"background: black;"}
  position: var(--video-player-position);
  height: 100%;
  inset: 0;
`,pFe=xt.div`
   position: absolute;
    bottom: 41px;
    left: 56px;
    z-index: 11;
    background: transparent;
    flex-shrink: 0;
    max-width: 450px;
    max-height: min(640px, 100%);
    display: flex;
    border-radius: 24px;
    overflow: hidden;
    width: 100%;

    .PromoOverlayContainer {
        animation: grow-in-overlay .3s ease forwards;
        transform-origin: bottom;

        @keyframes grow-in-overlay {
            from {
                transform: scaleY(0);
            }
            to {
                transform: scaleY(1);
            }
        }

        > div {
            opacity: 0;
            animation: show-in-overlay .3s ease forwards .3s;

            @keyframes show-in-overlay {
                from {
                    opacity: 0;
                }
                to {
                    opacity: 1;
                }
            }
        }
    }

    > div {
        max-width: 100%;
        width: 100%;
    }

    .PromoOverlay {
        max-height: 640px;

        ${fc(`
            max-height: min(377px, calc(100dvh - 16px));
        `)}
    }

    ${fc(`
        max-width: 300px;
        max-height: min(377px, calc(100dvh - 16px));
        left: 16px;
        bottom: 8px;
    `)}
`,mFe=xt.div`
  position: absolute;
  width: 100%;
  bottom: 0;
  left: 0;

  ${ol&&"background: brown;"}

  ${ps(`
      position: static;
      margin-top: -4px;
  `)}

  .SL_Rich_Notification {
    margin-left: 56px;
    margin-bottom: 20px;

    ${fc(`
      margin-left: 32px;
      margin-bottom: -4px;
    `)}

    ${ps(`
        margin-top: -35px;
        margin-left: 8px;
        margin-right: 8px;
    `)}
  }

  .SL_Lower_Third_Notification {
    ${ps(`
      transform: translateY(-100%);
    `)}

    @media only screen and (max-width: 768px) and (orientation: portrait) {
      transform: translateY(0);
    }
  }
`,gFe=xt.div`
  position: absolute;
  top: 15px;
  left: 15px;
`,yFe=xt.div`
  position: absolute;
  bottom: 20px;
  left: 20px;
`,bFe=()=>{const[t,e]=V.useState("desktop");return V.useEffect(()=>{const n=Eg(()=>{const i=window.innerWidth,r=window.innerHeight,s=i>r?"landscape":"portrait";e(i<1024&&s==="portrait"?"mobile":"desktop")},200);return n(),window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}},[]),t},vFe=({mode:t,interacted:e,points:n,sidebar:i,overlay:r,appNotification:s,adNotification:a,banner:o,video:l})=>{const c=Y2(),u=V.useRef(null),d=V.useRef(null),f=V.useCallback(()=>{const I=d.current,w=u.current;if(!I||!w)return;const{width:N,height:F}=I.getBoundingClientRect(),{width:W,height:Z}=w.getBoundingClientRect();(N>W||F>Z)&&(I.style.width==="100%"?(I.style.height="100%",I.style.width="auto"):(I.style.width="100%",I.style.height="auto"))},[]);V.useEffect(()=>{if(u.current){const I=new ResizeObserver(w=>{for(const N of w)N.contentBoxSize&&f()});return I.observe(u.current),()=>{I.disconnect()}}},[]),V.useEffect(f);const h=bFe();let m=(t==="l-bar"||t==="side-panel")&&(c.app||c.promotionSidebar||c.appSidebar),p=t==="overlay"&&(c.promotionOverlay||c.promotionSidebar||c.appSidebar);const v=t==="l-bar"&&(c.promotionBanner||c.appBanner),y=c.promotionNotification&&!c.onboardingNotification,E=c.appNotification||c.onboardingNotification;let S=c.promotionBanner||c.promotionOverlay||c.promotionSidebar||c.promotionNotification;return!e&&c.promotionExternalAd&&(m=!1,p=!1,S=!1),b.jsxs(aFe,{id:(m||p)&&h==="mobile"?void 0:"SLDemoContainer",className:"Container",children:[b.jsxs(oFe,{className:"ContentContainer",style:{width:m?"calc(100% - var(--sidebar-width))":"100%"},children:[b.jsx(dFe,{className:"VideoContainer",ref:u,style:{height:t==="l-bar"?"calc(100% - var(--banner-height))":"100%"},children:b.jsxs(hFe,{ref:d,className:"VideoBox",children:[b.jsx(fFe,{className:"VideoPlayer",children:l}),!S&&b.jsx(gFe,{children:n}),E&&s&&b.jsx(yFe,{children:s})]})}),b.jsx(uFe,{className:"Banner",style:{height:v?"var(--banner-height)":"0px",padding:v?"var(--banner-padding)":"0px"},children:v&&o}),y&&a&&b.jsx(mFe,{children:a}),p&&h==="desktop"&&b.jsx(pFe,{className:"Overlay",children:r})]}),h==="desktop"&&b.jsx(lFe,{style:{width:m?"var(--sidebar-width)":"0px"},className:"Sidebar",children:m&&i}),(m||p)&&h==="mobile"&&b.jsx(cFe,{id:"SLDemoContainer",className:"Demo-SideBarOverlay",children:r})]})},EFe=()=>{const t=vc();return V.useEffect(()=>{t==null||t.anonymousAuthorization()},[t]),null},AFe=xt.div`
    width: 100dvw;
    height: 100dvh;
    background: rgba(0, 22, 43, 0.90);
`,SFe=xt.div`
    height: calc(100% - var(--nav-bar-height));

    .SL-AdvertisementUIWrap {
        font-size: 24px !important;

        ${fc(`
            font-size: 16px !important;
        `)}
    }
`,TFe=xt.div`
    backdrop-filter: blur(1px);
`,RFe=new Set([cwe]);function CFe(){const[t,e]=V.useState("side-panel"),[n,i]=V.useState("dark"),[r,s]=V.useState(!1),[a,o]=V.useState(!1),[l,c]=V.useState(!1),u=V.useCallback(m=>{m.target instanceof HTMLButtonElement&&e(m.target.name),m.target instanceof HTMLSelectElement&&e(m.target.value)},[]),d=V.useCallback(m=>{m.target instanceof HTMLButtonElement&&i(m.target.name),m.target instanceof HTMLSelectElement&&i(m.target.value)},[]),f=({stage:m,type:p})=>{console.log("onContentActivate",{stage:m,type:p}),s(m==="activate"&&p==="advertisement")},h=({muted:m})=>{console.log("videoPlayerController",m),o(m??!1)};return V.useEffect(()=>{const m=window.localStorage.getItem("with-theme"),p=window.localStorage.getItem("SL_DEBUG");m&&window.localStorage.setItem("with-theme",m),p&&window.localStorage.setItem("SL_DEBUG",p)},[]),b.jsxs(AFe,{className:jwe("app-container",n),onClick:()=>c(!0),children:[b.jsx(pxe,{mode:t,tabs:r,toggleMode:u,theme:n,toggleTheme:d}),b.jsxs(Mse,{containerId:"SLDemoContainer",themeMode:n==="dark"?"dark":"light",videoPlayerController:h,onContentActivate:f,plugins:RFe,withAdNotification:!0,sdkKey:Kwe,theme:"custom-theme",production:mY,event:sS,children:[b.jsx(EFe,{}),b.jsx(SFe,{children:b.jsx(vFe,{mode:t,interacted:l,points:b.jsx(TFe,{children:b.jsx(F5e,{})}),sidebar:b.jsxs(b.Fragment,{children:[b.jsx(EN,{withSidebarNotification:!1}),b.jsx(Yc,{sidebar:"right",muted:!a,persistent:!0,skipTypeCheck:!0}),l&&b.jsx(Yc,{sidebar:"right",persistent:!0,skipTypeCheck:!0,externalAd:!0})]}),banner:b.jsx(Yc,{banner:"bottom",persistent:!0}),video:b.jsx(rFe,{setInteracted:c,muted:a,setMuted:o,interacted:l}),overlay:b.jsxs(b.Fragment,{children:[b.jsx(EN,{withSidebarNotification:!1}),b.jsx(Yc,{muted:!a,persistent:!0,skipTypeCheck:!0}),l&&b.jsx(Yc,{muted:!a,persistent:!0,skipTypeCheck:!0,externalAd:!0})]}),appNotification:b.jsx(Ebe,{}),adNotification:b.jsx(Yc,{notification:!0,persistent:!0})})})]})]})}kE.createRoot(document.getElementById("root")).render(b.jsx(CFe,{}));const w$=Object.freeze(Object.defineProperty({__proto__:null,default:mve},Symbol.toStringTag,{value:"Module"}));
