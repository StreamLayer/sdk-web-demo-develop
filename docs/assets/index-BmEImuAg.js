var wJ=Object.defineProperty;var W8=t=>{throw TypeError(t)};var _J=(t,e,i)=>e in t?wJ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var Sa=(t,e,i)=>_J(t,typeof e!="symbol"?e+"":e,i),G8=(t,e,i)=>e.has(t)||W8("Cannot "+i);var We=(t,e,i)=>(G8(t,e,"read from private field"),i?i.call(t):e.get(t)),Oi=(t,e,i)=>e.has(t)?W8("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,i),Si=(t,e,i,n)=>(G8(t,e,"write to private field"),n?n.call(t,i):e.set(t,i),i);function xJ(t,e){for(var i=0;i<e.length;i++){const n=e[i];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const r=Object.getOwnPropertyDescriptor(n,s);r&&Object.defineProperty(t,s,r.get?r:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(s){if(s.ep)return;s.ep=!0;const r=i(s);fetch(s.href,r)}})();var Cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function UT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var JF={exports:{}},uy={},jF={exports:{}},yt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0=Symbol.for("react.element"),NJ=Symbol.for("react.portal"),VJ=Symbol.for("react.fragment"),LJ=Symbol.for("react.strict_mode"),kJ=Symbol.for("react.profiler"),FJ=Symbol.for("react.provider"),UJ=Symbol.for("react.context"),BJ=Symbol.for("react.forward_ref"),WJ=Symbol.for("react.suspense"),GJ=Symbol.for("react.memo"),DJ=Symbol.for("react.lazy"),D8=Symbol.iterator;function MJ(t){return t===null||typeof t!="object"?null:(t=D8&&t[D8]||t["@@iterator"],typeof t=="function"?t:null)}var HF={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},QF=Object.assign,qF={};function oh(t,e,i){this.props=t,this.context=e,this.refs=qF,this.updater=i||HF}oh.prototype.isReactComponent={};oh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};oh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function eU(){}eU.prototype=oh.prototype;function BT(t,e,i){this.props=t,this.context=e,this.refs=qF,this.updater=i||HF}var WT=BT.prototype=new eU;WT.constructor=BT;QF(WT,oh.prototype);WT.isPureReactComponent=!0;var M8=Array.isArray,tU=Object.prototype.hasOwnProperty,GT={current:null},iU={key:!0,ref:!0,__self:!0,__source:!0};function nU(t,e,i){var n,s={},r=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(r=""+e.key),e)tU.call(e,n)&&!iU.hasOwnProperty(n)&&(s[n]=e[n]);var o=arguments.length-2;if(o===1)s.children=i;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)s[n]===void 0&&(s[n]=o[n]);return{$$typeof:s0,type:t,key:r,ref:a,props:s,_owner:GT.current}}function ZJ(t,e){return{$$typeof:s0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function DT(t){return typeof t=="object"&&t!==null&&t.$$typeof===s0}function PJ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(i){return e[i]})}var Z8=/\/+/g;function Jb(t,e){return typeof t=="object"&&t!==null&&t.key!=null?PJ(""+t.key):e.toString(36)}function T1(t,e,i,n,s){var r=typeof t;(r==="undefined"||r==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(r){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case s0:case NJ:a=!0}}if(a)return a=t,s=s(a),t=n===""?"."+Jb(a,0):n,M8(s)?(i="",t!=null&&(i=t.replace(Z8,"$&/")+"/"),T1(s,e,i,"",function(c){return c})):s!=null&&(DT(s)&&(s=ZJ(s,i+(!s.key||a&&a.key===s.key?"":(""+s.key).replace(Z8,"$&/")+"/")+t)),e.push(s)),1;if(a=0,n=n===""?".":n+":",M8(t))for(var o=0;o<t.length;o++){r=t[o];var l=n+Jb(r,o);a+=T1(r,e,i,l,s)}else if(l=MJ(t),typeof l=="function")for(t=l.call(t),o=0;!(r=t.next()).done;)r=r.value,l=n+Jb(r,o++),a+=T1(r,e,i,l,s);else if(r==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function dm(t,e,i){if(t==null)return t;var n=[],s=0;return T1(t,n,"","",function(r){return e.call(i,r,s++)}),n}function OJ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(i){(t._status===0||t._status===-1)&&(t._status=1,t._result=i)},function(i){(t._status===0||t._status===-1)&&(t._status=2,t._result=i)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yn={current:null},C1={transition:null},XJ={ReactCurrentDispatcher:Yn,ReactCurrentBatchConfig:C1,ReactCurrentOwner:GT};function sU(){throw Error("act(...) is not supported in production builds of React.")}yt.Children={map:dm,forEach:function(t,e,i){dm(t,function(){e.apply(this,arguments)},i)},count:function(t){var e=0;return dm(t,function(){e++}),e},toArray:function(t){return dm(t,function(e){return e})||[]},only:function(t){if(!DT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};yt.Component=oh;yt.Fragment=VJ;yt.Profiler=kJ;yt.PureComponent=BT;yt.StrictMode=LJ;yt.Suspense=WJ;yt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XJ;yt.act=sU;yt.cloneElement=function(t,e,i){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=QF({},t.props),s=t.key,r=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(r=e.ref,a=GT.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)tU.call(e,l)&&!iU.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=i;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:s0,type:t.type,key:s,ref:r,props:n,_owner:a}};yt.createContext=function(t){return t={$$typeof:UJ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:FJ,_context:t},t.Consumer=t};yt.createElement=nU;yt.createFactory=function(t){var e=nU.bind(null,t);return e.type=t,e};yt.createRef=function(){return{current:null}};yt.forwardRef=function(t){return{$$typeof:BJ,render:t}};yt.isValidElement=DT;yt.lazy=function(t){return{$$typeof:DJ,_payload:{_status:-1,_result:t},_init:OJ}};yt.memo=function(t,e){return{$$typeof:GJ,type:t,compare:e===void 0?null:e}};yt.startTransition=function(t){var e=C1.transition;C1.transition={};try{t()}finally{C1.transition=e}};yt.unstable_act=sU;yt.useCallback=function(t,e){return Yn.current.useCallback(t,e)};yt.useContext=function(t){return Yn.current.useContext(t)};yt.useDebugValue=function(){};yt.useDeferredValue=function(t){return Yn.current.useDeferredValue(t)};yt.useEffect=function(t,e){return Yn.current.useEffect(t,e)};yt.useId=function(){return Yn.current.useId()};yt.useImperativeHandle=function(t,e,i){return Yn.current.useImperativeHandle(t,e,i)};yt.useInsertionEffect=function(t,e){return Yn.current.useInsertionEffect(t,e)};yt.useLayoutEffect=function(t,e){return Yn.current.useLayoutEffect(t,e)};yt.useMemo=function(t,e){return Yn.current.useMemo(t,e)};yt.useReducer=function(t,e,i){return Yn.current.useReducer(t,e,i)};yt.useRef=function(t){return Yn.current.useRef(t)};yt.useState=function(t){return Yn.current.useState(t)};yt.useSyncExternalStore=function(t,e,i){return Yn.current.useSyncExternalStore(t,e,i)};yt.useTransition=function(){return Yn.current.useTransition()};yt.version="18.3.1";jF.exports=yt;var x=jF.exports;const tn=UT(x),P8=xJ({__proto__:null,default:tn},[x]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YJ=x,$J=Symbol.for("react.element"),KJ=Symbol.for("react.fragment"),zJ=Object.prototype.hasOwnProperty,JJ=YJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jJ={key:!0,ref:!0,__self:!0,__source:!0};function rU(t,e,i){var n,s={},r=null,a=null;i!==void 0&&(r=""+i),e.key!==void 0&&(r=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)zJ.call(e,n)&&!jJ.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:$J,type:t,key:r,ref:a,props:s,_owner:JJ.current}}uy.Fragment=KJ;uy.jsx=rU;uy.jsxs=rU;JF.exports=uy;var b=JF.exports,W5={},aU={exports:{}},xs={},oU={exports:{}},lU={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(ge,H){var ee=ge.length;ge.push(H);e:for(;0<ee;){var we=ee-1>>>1,M=ge[we];if(0<s(M,H))ge[we]=H,ge[ee]=M,ee=we;else break e}}function i(ge){return ge.length===0?null:ge[0]}function n(ge){if(ge.length===0)return null;var H=ge[0],ee=ge.pop();if(ee!==H){ge[0]=ee;e:for(var we=0,M=ge.length,Q=M>>>1;we<Q;){var se=2*(we+1)-1,ne=ge[se],Ie=se+1,ke=ge[Ie];if(0>s(ne,ee))Ie<M&&0>s(ke,ne)?(ge[we]=ke,ge[Ie]=ee,we=Ie):(ge[we]=ne,ge[se]=ee,we=se);else if(Ie<M&&0>s(ke,ee))ge[we]=ke,ge[Ie]=ee,we=Ie;else break e}}return H}function s(ge,H){var ee=ge.sortIndex-H.sortIndex;return ee!==0?ee:ge.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,h=3,f=!1,p=!1,m=!1,v=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(ge){for(var H=i(c);H!==null;){if(H.callback===null)n(c);else if(H.startTime<=ge)n(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=i(c)}}function R(ge){if(m=!1,A(ge),!p)if(i(l)!==null)p=!0,ye(I);else{var H=i(c);H!==null&&Le(R,H.startTime-ge)}}function I(ge,H){p=!1,m&&(m=!1,g(B),B=-1),f=!0;var ee=h;try{for(A(H),d=i(l);d!==null&&(!(d.expirationTime>H)||ge&&!j());){var we=d.callback;if(typeof we=="function"){d.callback=null,h=d.priorityLevel;var M=we(d.expirationTime<=H);H=t.unstable_now(),typeof M=="function"?d.callback=M:d===i(l)&&n(l),A(H)}else n(l);d=i(l)}if(d!==null)var Q=!0;else{var se=i(c);se!==null&&Le(R,se.startTime-H),Q=!1}return Q}finally{d=null,h=ee,f=!1}}var L=!1,F=null,B=-1,G=5,Z=-1;function j(){return!(t.unstable_now()-Z<G)}function pe(){if(F!==null){var ge=t.unstable_now();Z=ge;var H=!0;try{H=F(!0,ge)}finally{H?J():(L=!1,F=null)}}else L=!1}var J;if(typeof E=="function")J=function(){E(pe)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,de=me.port2;me.port1.onmessage=pe,J=function(){de.postMessage(null)}}else J=function(){v(pe,0)};function ye(ge){F=ge,L||(L=!0,J())}function Le(ge,H){B=v(function(){ge(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(ge){ge.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,ye(I))},t.unstable_forceFrameRate=function(ge){0>ge||125<ge?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<ge?Math.floor(1e3/ge):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return i(l)},t.unstable_next=function(ge){switch(h){case 1:case 2:case 3:var H=3;break;default:H=h}var ee=h;h=H;try{return ge()}finally{h=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(ge,H){switch(ge){case 1:case 2:case 3:case 4:case 5:break;default:ge=3}var ee=h;h=ge;try{return H()}finally{h=ee}},t.unstable_scheduleCallback=function(ge,H,ee){var we=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?we+ee:we):ee=we,ge){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ee+M,ge={id:u++,callback:H,priorityLevel:ge,startTime:ee,expirationTime:M,sortIndex:-1},ee>we?(ge.sortIndex=ee,e(c,ge),i(l)===null&&ge===i(c)&&(m?(g(B),B=-1):m=!0,Le(R,ee-we))):(ge.sortIndex=M,e(l,ge),p||f||(p=!0,ye(I))),ge},t.unstable_shouldYield=j,t.unstable_wrapCallback=function(ge){var H=h;return function(){var ee=h;h=H;try{return ge.apply(this,arguments)}finally{h=ee}}}})(lU);oU.exports=lU;var HJ=oU.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QJ=x,Is=HJ;function Ue(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=1;i<arguments.length;i++)e+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var cU=new Set,hp={};function Uc(t,e){Ed(t,e),Ed(t+"Capture",e)}function Ed(t,e){for(hp[t]=e,t=0;t<e.length;t++)cU.add(e[t])}var lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),G5=Object.prototype.hasOwnProperty,qJ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,O8={},X8={};function ej(t){return G5.call(X8,t)?!0:G5.call(O8,t)?!1:qJ.test(t)?X8[t]=!0:(O8[t]=!0,!1)}function tj(t,e,i,n){if(i!==null&&i.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:i!==null?!i.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ij(t,e,i,n){if(e===null||typeof e>"u"||tj(t,e,i,n))return!0;if(n)return!1;if(i!==null)switch(i.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $n(t,e,i,n,s,r,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=i,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=a}var En={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){En[t]=new $n(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];En[e]=new $n(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){En[t]=new $n(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){En[t]=new $n(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){En[t]=new $n(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){En[t]=new $n(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){En[t]=new $n(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){En[t]=new $n(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){En[t]=new $n(t,5,!1,t.toLowerCase(),null,!1,!1)});var MT=/[\-:]([a-z])/g;function ZT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(MT,ZT);En[e]=new $n(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(MT,ZT);En[e]=new $n(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(MT,ZT);En[e]=new $n(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){En[t]=new $n(t,1,!1,t.toLowerCase(),null,!1,!1)});En.xlinkHref=new $n("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){En[t]=new $n(t,1,!1,t.toLowerCase(),null,!0,!0)});function PT(t,e,i,n){var s=En.hasOwnProperty(e)?En[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ij(e,i,s,n)&&(i=null),n||s===null?ej(e)&&(i===null?t.removeAttribute(e):t.setAttribute(e,""+i)):s.mustUseProperty?t[s.propertyName]=i===null?s.type===3?!1:"":i:(e=s.attributeName,n=s.attributeNamespace,i===null?t.removeAttribute(e):(s=s.type,i=s===3||s===4&&i===!0?"":""+i,n?t.setAttributeNS(n,e,i):t.setAttribute(e,i))))}var bo=QJ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hm=Symbol.for("react.element"),Au=Symbol.for("react.portal"),Su=Symbol.for("react.fragment"),OT=Symbol.for("react.strict_mode"),D5=Symbol.for("react.profiler"),uU=Symbol.for("react.provider"),dU=Symbol.for("react.context"),XT=Symbol.for("react.forward_ref"),M5=Symbol.for("react.suspense"),Z5=Symbol.for("react.suspense_list"),YT=Symbol.for("react.memo"),Zo=Symbol.for("react.lazy"),hU=Symbol.for("react.offscreen"),Y8=Symbol.iterator;function jh(t){return t===null||typeof t!="object"?null:(t=Y8&&t[Y8]||t["@@iterator"],typeof t=="function"?t:null)}var vi=Object.assign,jb;function Rf(t){if(jb===void 0)try{throw Error()}catch(i){var e=i.stack.trim().match(/\n( *(at )?)/);jb=e&&e[1]||""}return`
`+jb+t}var Hb=!1;function Qb(t,e){if(!t||Hb)return"";Hb=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),r=n.stack.split(`
`),a=s.length-1,o=r.length-1;1<=a&&0<=o&&s[a]!==r[o];)o--;for(;1<=a&&0<=o;a--,o--)if(s[a]!==r[o]){if(a!==1||o!==1)do if(a--,o--,0>o||s[a]!==r[o]){var l=`
`+s[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Hb=!1,Error.prepareStackTrace=i}return(t=t?t.displayName||t.name:"")?Rf(t):""}function nj(t){switch(t.tag){case 5:return Rf(t.type);case 16:return Rf("Lazy");case 13:return Rf("Suspense");case 19:return Rf("SuspenseList");case 0:case 2:case 15:return t=Qb(t.type,!1),t;case 11:return t=Qb(t.type.render,!1),t;case 1:return t=Qb(t.type,!0),t;default:return""}}function P5(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Su:return"Fragment";case Au:return"Portal";case D5:return"Profiler";case OT:return"StrictMode";case M5:return"Suspense";case Z5:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case dU:return(t.displayName||"Context")+".Consumer";case uU:return(t._context.displayName||"Context")+".Provider";case XT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case YT:return e=t.displayName||null,e!==null?e:P5(t.type)||"Memo";case Zo:e=t._payload,t=t._init;try{return P5(t(e))}catch{}}return null}function sj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return P5(e);case 8:return e===OT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function hl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function fU(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function rj(t){var e=fU(t)?"checked":"value",i=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var s=i.get,r=i.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(a){n=""+a,r.call(this,a)}}),Object.defineProperty(t,e,{enumerable:i.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fm(t){t._valueTracker||(t._valueTracker=rj(t))}function pU(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var i=e.getValue(),n="";return t&&(n=fU(t)?t.checked?"true":"false":t.value),t=n,t!==i?(e.setValue(t),!0):!1}function bg(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function O5(t,e){var i=e.checked;return vi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??t._wrapperState.initialChecked})}function $8(t,e){var i=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;i=hl(e.value!=null?e.value:i),t._wrapperState={initialChecked:n,initialValue:i,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function mU(t,e){e=e.checked,e!=null&&PT(t,"checked",e,!1)}function X5(t,e){mU(t,e);var i=hl(e.value),n=e.type;if(i!=null)n==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+i):t.value!==""+i&&(t.value=""+i);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Y5(t,e.type,i):e.hasOwnProperty("defaultValue")&&Y5(t,e.type,hl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function K8(t,e,i){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,i||e===t.value||(t.value=e),t.defaultValue=e}i=t.name,i!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,i!==""&&(t.name=i)}function Y5(t,e,i){(e!=="number"||bg(t.ownerDocument)!==t)&&(i==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+i&&(t.defaultValue=""+i))}var If=Array.isArray;function Ou(t,e,i,n){if(t=t.options,e){e={};for(var s=0;s<i.length;s++)e["$"+i[s]]=!0;for(i=0;i<t.length;i++)s=e.hasOwnProperty("$"+t[i].value),t[i].selected!==s&&(t[i].selected=s),s&&n&&(t[i].defaultSelected=!0)}else{for(i=""+hl(i),e=null,s=0;s<t.length;s++){if(t[s].value===i){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function $5(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return vi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function z8(t,e){var i=e.value;if(i==null){if(i=e.children,e=e.defaultValue,i!=null){if(e!=null)throw Error(Ue(92));if(If(i)){if(1<i.length)throw Error(Ue(93));i=i[0]}e=i}e==null&&(e=""),i=e}t._wrapperState={initialValue:hl(i)}}function gU(t,e){var i=hl(e.value),n=hl(e.defaultValue);i!=null&&(i=""+i,i!==t.value&&(t.value=i),e.defaultValue==null&&t.defaultValue!==i&&(t.defaultValue=i)),n!=null&&(t.defaultValue=""+n)}function J8(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function yU(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function K5(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?yU(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var pm,bU=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,i,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,i,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(pm=pm||document.createElement("div"),pm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pm.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fp(t,e){if(e){var i=t.firstChild;if(i&&i===t.lastChild&&i.nodeType===3){i.nodeValue=e;return}}t.textContent=e}var Mf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aj=["Webkit","ms","Moz","O"];Object.keys(Mf).forEach(function(t){aj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mf[e]=Mf[t]})});function vU(t,e,i){return e==null||typeof e=="boolean"||e===""?"":i||typeof e!="number"||e===0||Mf.hasOwnProperty(t)&&Mf[t]?(""+e).trim():e+"px"}function EU(t,e){t=t.style;for(var i in e)if(e.hasOwnProperty(i)){var n=i.indexOf("--")===0,s=vU(i,e[i],n);i==="float"&&(i="cssFloat"),n?t.setProperty(i,s):t[i]=s}}var oj=vi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function z5(t,e){if(e){if(oj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Ue(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Ue(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Ue(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Ue(62))}}function J5(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var j5=null;function $T(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var H5=null,Xu=null,Yu=null;function j8(t){if(t=o0(t)){if(typeof H5!="function")throw Error(Ue(280));var e=t.stateNode;e&&(e=my(e),H5(t.stateNode,t.type,e))}}function AU(t){Xu?Yu?Yu.push(t):Yu=[t]:Xu=t}function SU(){if(Xu){var t=Xu,e=Yu;if(Yu=Xu=null,j8(t),e)for(t=0;t<e.length;t++)j8(e[t])}}function TU(t,e){return t(e)}function CU(){}var qb=!1;function RU(t,e,i){if(qb)return t(e,i);qb=!0;try{return TU(t,e,i)}finally{qb=!1,(Xu!==null||Yu!==null)&&(CU(),SU())}}function pp(t,e){var i=t.stateNode;if(i===null)return null;var n=my(i);if(n===null)return null;i=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(i&&typeof i!="function")throw Error(Ue(231,e,typeof i));return i}var Q5=!1;if(lo)try{var Hh={};Object.defineProperty(Hh,"passive",{get:function(){Q5=!0}}),window.addEventListener("test",Hh,Hh),window.removeEventListener("test",Hh,Hh)}catch{Q5=!1}function lj(t,e,i,n,s,r,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(i,c)}catch(u){this.onError(u)}}var Zf=!1,vg=null,Eg=!1,q5=null,cj={onError:function(t){Zf=!0,vg=t}};function uj(t,e,i,n,s,r,a,o,l){Zf=!1,vg=null,lj.apply(cj,arguments)}function dj(t,e,i,n,s,r,a,o,l){if(uj.apply(this,arguments),Zf){if(Zf){var c=vg;Zf=!1,vg=null}else throw Error(Ue(198));Eg||(Eg=!0,q5=c)}}function Bc(t){var e=t,i=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(i=e.return),t=e.return;while(t)}return e.tag===3?i:null}function IU(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function H8(t){if(Bc(t)!==t)throw Error(Ue(188))}function hj(t){var e=t.alternate;if(!e){if(e=Bc(t),e===null)throw Error(Ue(188));return e!==t?null:t}for(var i=t,n=e;;){var s=i.return;if(s===null)break;var r=s.alternate;if(r===null){if(n=s.return,n!==null){i=n;continue}break}if(s.child===r.child){for(r=s.child;r;){if(r===i)return H8(s),t;if(r===n)return H8(s),e;r=r.sibling}throw Error(Ue(188))}if(i.return!==n.return)i=s,n=r;else{for(var a=!1,o=s.child;o;){if(o===i){a=!0,i=s,n=r;break}if(o===n){a=!0,n=s,i=r;break}o=o.sibling}if(!a){for(o=r.child;o;){if(o===i){a=!0,i=r,n=s;break}if(o===n){a=!0,n=r,i=s;break}o=o.sibling}if(!a)throw Error(Ue(189))}}if(i.alternate!==n)throw Error(Ue(190))}if(i.tag!==3)throw Error(Ue(188));return i.stateNode.current===i?t:e}function wU(t){return t=hj(t),t!==null?_U(t):null}function _U(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_U(t);if(e!==null)return e;t=t.sibling}return null}var xU=Is.unstable_scheduleCallback,Q8=Is.unstable_cancelCallback,fj=Is.unstable_shouldYield,pj=Is.unstable_requestPaint,xi=Is.unstable_now,mj=Is.unstable_getCurrentPriorityLevel,KT=Is.unstable_ImmediatePriority,NU=Is.unstable_UserBlockingPriority,Ag=Is.unstable_NormalPriority,gj=Is.unstable_LowPriority,VU=Is.unstable_IdlePriority,dy=null,aa=null;function yj(t){if(aa&&typeof aa.onCommitFiberRoot=="function")try{aa.onCommitFiberRoot(dy,t,void 0,(t.current.flags&128)===128)}catch{}}var Er=Math.clz32?Math.clz32:Ej,bj=Math.log,vj=Math.LN2;function Ej(t){return t>>>=0,t===0?32:31-(bj(t)/vj|0)|0}var mm=64,gm=4194304;function wf(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Sg(t,e){var i=t.pendingLanes;if(i===0)return 0;var n=0,s=t.suspendedLanes,r=t.pingedLanes,a=i&268435455;if(a!==0){var o=a&~s;o!==0?n=wf(o):(r&=a,r!==0&&(n=wf(r)))}else a=i&~s,a!==0?n=wf(a):r!==0&&(n=wf(r));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,r=e&-e,s>=r||s===16&&(r&4194240)!==0))return e;if(n&4&&(n|=i&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)i=31-Er(e),s=1<<i,n|=t[i],e&=~s;return n}function Aj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sj(t,e){for(var i=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,r=t.pendingLanes;0<r;){var a=31-Er(r),o=1<<a,l=s[a];l===-1?(!(o&i)||o&n)&&(s[a]=Aj(o,e)):l<=e&&(t.expiredLanes|=o),r&=~o}}function eA(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function LU(){var t=mm;return mm<<=1,!(mm&4194240)&&(mm=64),t}function ev(t){for(var e=[],i=0;31>i;i++)e.push(t);return e}function r0(t,e,i){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Er(e),t[e]=i}function Tj(t,e){var i=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<i;){var s=31-Er(i),r=1<<s;e[s]=0,n[s]=-1,t[s]=-1,i&=~r}}function zT(t,e){var i=t.entangledLanes|=e;for(t=t.entanglements;i;){var n=31-Er(i),s=1<<n;s&e|t[n]&e&&(t[n]|=e),i&=~s}}var Dt=0;function kU(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var FU,JT,UU,BU,WU,tA=!1,ym=[],tl=null,il=null,nl=null,mp=new Map,gp=new Map,$o=[],Cj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function q8(t,e){switch(t){case"focusin":case"focusout":tl=null;break;case"dragenter":case"dragleave":il=null;break;case"mouseover":case"mouseout":nl=null;break;case"pointerover":case"pointerout":mp.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gp.delete(e.pointerId)}}function Qh(t,e,i,n,s,r){return t===null||t.nativeEvent!==r?(t={blockedOn:e,domEventName:i,eventSystemFlags:n,nativeEvent:r,targetContainers:[s]},e!==null&&(e=o0(e),e!==null&&JT(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Rj(t,e,i,n,s){switch(e){case"focusin":return tl=Qh(tl,t,e,i,n,s),!0;case"dragenter":return il=Qh(il,t,e,i,n,s),!0;case"mouseover":return nl=Qh(nl,t,e,i,n,s),!0;case"pointerover":var r=s.pointerId;return mp.set(r,Qh(mp.get(r)||null,t,e,i,n,s)),!0;case"gotpointercapture":return r=s.pointerId,gp.set(r,Qh(gp.get(r)||null,t,e,i,n,s)),!0}return!1}function GU(t){var e=Xl(t.target);if(e!==null){var i=Bc(e);if(i!==null){if(e=i.tag,e===13){if(e=IU(i),e!==null){t.blockedOn=e,WU(t.priority,function(){UU(i)});return}}else if(e===3&&i.stateNode.current.memoizedState.isDehydrated){t.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}t.blockedOn=null}function R1(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var i=iA(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(i===null){i=t.nativeEvent;var n=new i.constructor(i.type,i);j5=n,i.target.dispatchEvent(n),j5=null}else return e=o0(i),e!==null&&JT(e),t.blockedOn=i,!1;e.shift()}return!0}function eI(t,e,i){R1(t)&&i.delete(e)}function Ij(){tA=!1,tl!==null&&R1(tl)&&(tl=null),il!==null&&R1(il)&&(il=null),nl!==null&&R1(nl)&&(nl=null),mp.forEach(eI),gp.forEach(eI)}function qh(t,e){t.blockedOn===e&&(t.blockedOn=null,tA||(tA=!0,Is.unstable_scheduleCallback(Is.unstable_NormalPriority,Ij)))}function yp(t){function e(s){return qh(s,t)}if(0<ym.length){qh(ym[0],t);for(var i=1;i<ym.length;i++){var n=ym[i];n.blockedOn===t&&(n.blockedOn=null)}}for(tl!==null&&qh(tl,t),il!==null&&qh(il,t),nl!==null&&qh(nl,t),mp.forEach(e),gp.forEach(e),i=0;i<$o.length;i++)n=$o[i],n.blockedOn===t&&(n.blockedOn=null);for(;0<$o.length&&(i=$o[0],i.blockedOn===null);)GU(i),i.blockedOn===null&&$o.shift()}var $u=bo.ReactCurrentBatchConfig,Tg=!0;function wj(t,e,i,n){var s=Dt,r=$u.transition;$u.transition=null;try{Dt=1,jT(t,e,i,n)}finally{Dt=s,$u.transition=r}}function _j(t,e,i,n){var s=Dt,r=$u.transition;$u.transition=null;try{Dt=4,jT(t,e,i,n)}finally{Dt=s,$u.transition=r}}function jT(t,e,i,n){if(Tg){var s=iA(t,e,i,n);if(s===null)uv(t,e,n,Cg,i),q8(t,n);else if(Rj(s,t,e,i,n))n.stopPropagation();else if(q8(t,n),e&4&&-1<Cj.indexOf(t)){for(;s!==null;){var r=o0(s);if(r!==null&&FU(r),r=iA(t,e,i,n),r===null&&uv(t,e,n,Cg,i),r===s)break;s=r}s!==null&&n.stopPropagation()}else uv(t,e,n,null,i)}}var Cg=null;function iA(t,e,i,n){if(Cg=null,t=$T(n),t=Xl(t),t!==null)if(e=Bc(t),e===null)t=null;else if(i=e.tag,i===13){if(t=IU(e),t!==null)return t;t=null}else if(i===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cg=t,null}function DU(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mj()){case KT:return 1;case NU:return 4;case Ag:case gj:return 16;case VU:return 536870912;default:return 16}default:return 16}}var zo=null,HT=null,I1=null;function MU(){if(I1)return I1;var t,e=HT,i=e.length,n,s="value"in zo?zo.value:zo.textContent,r=s.length;for(t=0;t<i&&e[t]===s[t];t++);var a=i-t;for(n=1;n<=a&&e[i-n]===s[r-n];n++);return I1=s.slice(t,1<n?1-n:void 0)}function w1(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function bm(){return!0}function tI(){return!1}function Ns(t){function e(i,n,s,r,a){this._reactName=i,this._targetInst=s,this.type=n,this.nativeEvent=r,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(i=t[o],this[o]=i?i(r):r[o]);return this.isDefaultPrevented=(r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===!1)?bm:tI,this.isPropagationStopped=tI,this}return vi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=bm)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=bm)},persist:function(){},isPersistent:bm}),e}var lh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},QT=Ns(lh),a0=vi({},lh,{view:0,detail:0}),xj=Ns(a0),tv,iv,ef,hy=vi({},a0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ef&&(ef&&t.type==="mousemove"?(tv=t.screenX-ef.screenX,iv=t.screenY-ef.screenY):iv=tv=0,ef=t),tv)},movementY:function(t){return"movementY"in t?t.movementY:iv}}),iI=Ns(hy),Nj=vi({},hy,{dataTransfer:0}),Vj=Ns(Nj),Lj=vi({},a0,{relatedTarget:0}),nv=Ns(Lj),kj=vi({},lh,{animationName:0,elapsedTime:0,pseudoElement:0}),Fj=Ns(kj),Uj=vi({},lh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bj=Ns(Uj),Wj=vi({},lh,{data:0}),nI=Ns(Wj),Gj={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dj={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mj={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zj(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Mj[t])?!!e[t]:!1}function qT(){return Zj}var Pj=vi({},a0,{key:function(t){if(t.key){var e=Gj[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=w1(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dj[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qT,charCode:function(t){return t.type==="keypress"?w1(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?w1(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oj=Ns(Pj),Xj=vi({},hy,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sI=Ns(Xj),Yj=vi({},a0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qT}),$j=Ns(Yj),Kj=vi({},lh,{propertyName:0,elapsedTime:0,pseudoElement:0}),zj=Ns(Kj),Jj=vi({},hy,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jj=Ns(Jj),Hj=[9,13,27,32],eC=lo&&"CompositionEvent"in window,Pf=null;lo&&"documentMode"in document&&(Pf=document.documentMode);var Qj=lo&&"TextEvent"in window&&!Pf,ZU=lo&&(!eC||Pf&&8<Pf&&11>=Pf),rI=" ",aI=!1;function PU(t,e){switch(t){case"keyup":return Hj.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OU(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Tu=!1;function qj(t,e){switch(t){case"compositionend":return OU(e);case"keypress":return e.which!==32?null:(aI=!0,rI);case"textInput":return t=e.data,t===rI&&aI?null:t;default:return null}}function eH(t,e){if(Tu)return t==="compositionend"||!eC&&PU(t,e)?(t=MU(),I1=HT=zo=null,Tu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return ZU&&e.locale!=="ko"?null:e.data;default:return null}}var tH={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!tH[t.type]:e==="textarea"}function XU(t,e,i,n){AU(n),e=Rg(e,"onChange"),0<e.length&&(i=new QT("onChange","change",null,i,n),t.push({event:i,listeners:e}))}var Of=null,bp=null;function iH(t){tB(t,0)}function fy(t){var e=Iu(t);if(pU(e))return t}function nH(t,e){if(t==="change")return e}var YU=!1;if(lo){var sv;if(lo){var rv="oninput"in document;if(!rv){var lI=document.createElement("div");lI.setAttribute("oninput","return;"),rv=typeof lI.oninput=="function"}sv=rv}else sv=!1;YU=sv&&(!document.documentMode||9<document.documentMode)}function cI(){Of&&(Of.detachEvent("onpropertychange",$U),bp=Of=null)}function $U(t){if(t.propertyName==="value"&&fy(bp)){var e=[];XU(e,bp,t,$T(t)),RU(iH,e)}}function sH(t,e,i){t==="focusin"?(cI(),Of=e,bp=i,Of.attachEvent("onpropertychange",$U)):t==="focusout"&&cI()}function rH(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return fy(bp)}function aH(t,e){if(t==="click")return fy(e)}function oH(t,e){if(t==="input"||t==="change")return fy(e)}function lH(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Rr=typeof Object.is=="function"?Object.is:lH;function vp(t,e){if(Rr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var i=Object.keys(t),n=Object.keys(e);if(i.length!==n.length)return!1;for(n=0;n<i.length;n++){var s=i[n];if(!G5.call(e,s)||!Rr(t[s],e[s]))return!1}return!0}function uI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dI(t,e){var i=uI(t);t=0;for(var n;i;){if(i.nodeType===3){if(n=t+i.textContent.length,t<=e&&n>=e)return{node:i,offset:e-t};t=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=uI(i)}}function KU(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?KU(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function zU(){for(var t=window,e=bg();e instanceof t.HTMLIFrameElement;){try{var i=typeof e.contentWindow.location.href=="string"}catch{i=!1}if(i)t=e.contentWindow;else break;e=bg(t.document)}return e}function tC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cH(t){var e=zU(),i=t.focusedElem,n=t.selectionRange;if(e!==i&&i&&i.ownerDocument&&KU(i.ownerDocument.documentElement,i)){if(n!==null&&tC(i)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in i)i.selectionStart=e,i.selectionEnd=Math.min(t,i.value.length);else if(t=(e=i.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=i.textContent.length,r=Math.min(n.start,s);n=n.end===void 0?r:Math.min(n.end,s),!t.extend&&r>n&&(s=n,n=r,r=s),s=dI(i,r);var a=dI(i,n);s&&a&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),r>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=i;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<e.length;i++)t=e[i],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uH=lo&&"documentMode"in document&&11>=document.documentMode,Cu=null,nA=null,Xf=null,sA=!1;function hI(t,e,i){var n=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;sA||Cu==null||Cu!==bg(n)||(n=Cu,"selectionStart"in n&&tC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Xf&&vp(Xf,n)||(Xf=n,n=Rg(nA,"onSelect"),0<n.length&&(e=new QT("onSelect","select",null,e,i),t.push({event:e,listeners:n}),e.target=Cu)))}function vm(t,e){var i={};return i[t.toLowerCase()]=e.toLowerCase(),i["Webkit"+t]="webkit"+e,i["Moz"+t]="moz"+e,i}var Ru={animationend:vm("Animation","AnimationEnd"),animationiteration:vm("Animation","AnimationIteration"),animationstart:vm("Animation","AnimationStart"),transitionend:vm("Transition","TransitionEnd")},av={},JU={};lo&&(JU=document.createElement("div").style,"AnimationEvent"in window||(delete Ru.animationend.animation,delete Ru.animationiteration.animation,delete Ru.animationstart.animation),"TransitionEvent"in window||delete Ru.transitionend.transition);function py(t){if(av[t])return av[t];if(!Ru[t])return t;var e=Ru[t],i;for(i in e)if(e.hasOwnProperty(i)&&i in JU)return av[t]=e[i];return t}var jU=py("animationend"),HU=py("animationiteration"),QU=py("animationstart"),qU=py("transitionend"),eB=new Map,fI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yl(t,e){eB.set(t,e),Uc(e,[t])}for(var ov=0;ov<fI.length;ov++){var lv=fI[ov],dH=lv.toLowerCase(),hH=lv[0].toUpperCase()+lv.slice(1);yl(dH,"on"+hH)}yl(jU,"onAnimationEnd");yl(HU,"onAnimationIteration");yl(QU,"onAnimationStart");yl("dblclick","onDoubleClick");yl("focusin","onFocus");yl("focusout","onBlur");yl(qU,"onTransitionEnd");Ed("onMouseEnter",["mouseout","mouseover"]);Ed("onMouseLeave",["mouseout","mouseover"]);Ed("onPointerEnter",["pointerout","pointerover"]);Ed("onPointerLeave",["pointerout","pointerover"]);Uc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Uc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Uc("onBeforeInput",["compositionend","keypress","textInput","paste"]);Uc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Uc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Uc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _f="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fH=new Set("cancel close invalid load scroll toggle".split(" ").concat(_f));function pI(t,e,i){var n=t.type||"unknown-event";t.currentTarget=i,dj(n,e,void 0,t),t.currentTarget=null}function tB(t,e){e=(e&4)!==0;for(var i=0;i<t.length;i++){var n=t[i],s=n.event;n=n.listeners;e:{var r=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==r&&s.isPropagationStopped())break e;pI(s,o,c),r=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==r&&s.isPropagationStopped())break e;pI(s,o,c),r=l}}}if(Eg)throw t=q5,Eg=!1,q5=null,t}function ii(t,e){var i=e[cA];i===void 0&&(i=e[cA]=new Set);var n=t+"__bubble";i.has(n)||(iB(e,t,2,!1),i.add(n))}function cv(t,e,i){var n=0;e&&(n|=4),iB(i,t,n,e)}var Em="_reactListening"+Math.random().toString(36).slice(2);function Ep(t){if(!t[Em]){t[Em]=!0,cU.forEach(function(i){i!=="selectionchange"&&(fH.has(i)||cv(i,!1,t),cv(i,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Em]||(e[Em]=!0,cv("selectionchange",!1,e))}}function iB(t,e,i,n){switch(DU(e)){case 1:var s=wj;break;case 4:s=_j;break;default:s=jT}i=s.bind(null,e,i,t),s=void 0,!Q5||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,i,{capture:!0,passive:s}):t.addEventListener(e,i,!0):s!==void 0?t.addEventListener(e,i,{passive:s}):t.addEventListener(e,i,!1)}function uv(t,e,i,n,s){var r=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;a=a.return}for(;o!==null;){if(a=Xl(o),a===null)return;if(l=a.tag,l===5||l===6){n=r=a;continue e}o=o.parentNode}}n=n.return}RU(function(){var c=r,u=$T(i),d=[];e:{var h=eB.get(t);if(h!==void 0){var f=QT,p=t;switch(t){case"keypress":if(w1(i)===0)break e;case"keydown":case"keyup":f=Oj;break;case"focusin":p="focus",f=nv;break;case"focusout":p="blur",f=nv;break;case"beforeblur":case"afterblur":f=nv;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=iI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Vj;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=$j;break;case jU:case HU:case QU:f=Fj;break;case qU:f=zj;break;case"scroll":f=xj;break;case"wheel":f=jj;break;case"copy":case"cut":case"paste":f=Bj;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=sI}var m=(e&4)!==0,v=!m&&t==="scroll",g=m?h!==null?h+"Capture":null:h;m=[];for(var E=c,A;E!==null;){A=E;var R=A.stateNode;if(A.tag===5&&R!==null&&(A=R,g!==null&&(R=pp(E,g),R!=null&&m.push(Ap(E,R,A)))),v)break;E=E.return}0<m.length&&(h=new f(h,p,null,i,u),d.push({event:h,listeners:m}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&i!==j5&&(p=i.relatedTarget||i.fromElement)&&(Xl(p)||p[co]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(p=i.relatedTarget||i.toElement,f=c,p=p?Xl(p):null,p!==null&&(v=Bc(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=c),f!==p)){if(m=iI,R="onMouseLeave",g="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(m=sI,R="onPointerLeave",g="onPointerEnter",E="pointer"),v=f==null?h:Iu(f),A=p==null?h:Iu(p),h=new m(R,E+"leave",f,i,u),h.target=v,h.relatedTarget=A,R=null,Xl(u)===c&&(m=new m(g,E+"enter",p,i,u),m.target=A,m.relatedTarget=v,R=m),v=R,f&&p)t:{for(m=f,g=p,E=0,A=m;A;A=Kc(A))E++;for(A=0,R=g;R;R=Kc(R))A++;for(;0<E-A;)m=Kc(m),E--;for(;0<A-E;)g=Kc(g),A--;for(;E--;){if(m===g||g!==null&&m===g.alternate)break t;m=Kc(m),g=Kc(g)}m=null}else m=null;f!==null&&mI(d,h,f,m,!1),p!==null&&v!==null&&mI(d,v,p,m,!0)}}e:{if(h=c?Iu(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var I=nH;else if(oI(h))if(YU)I=oH;else{I=rH;var L=sH}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=aH);if(I&&(I=I(t,c))){XU(d,I,i,u);break e}L&&L(t,h,c),t==="focusout"&&(L=h._wrapperState)&&L.controlled&&h.type==="number"&&Y5(h,"number",h.value)}switch(L=c?Iu(c):window,t){case"focusin":(oI(L)||L.contentEditable==="true")&&(Cu=L,nA=c,Xf=null);break;case"focusout":Xf=nA=Cu=null;break;case"mousedown":sA=!0;break;case"contextmenu":case"mouseup":case"dragend":sA=!1,hI(d,i,u);break;case"selectionchange":if(uH)break;case"keydown":case"keyup":hI(d,i,u)}var F;if(eC)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Tu?PU(t,i)&&(B="onCompositionEnd"):t==="keydown"&&i.keyCode===229&&(B="onCompositionStart");B&&(ZU&&i.locale!=="ko"&&(Tu||B!=="onCompositionStart"?B==="onCompositionEnd"&&Tu&&(F=MU()):(zo=u,HT="value"in zo?zo.value:zo.textContent,Tu=!0)),L=Rg(c,B),0<L.length&&(B=new nI(B,t,null,i,u),d.push({event:B,listeners:L}),F?B.data=F:(F=OU(i),F!==null&&(B.data=F)))),(F=Qj?qj(t,i):eH(t,i))&&(c=Rg(c,"onBeforeInput"),0<c.length&&(u=new nI("onBeforeInput","beforeinput",null,i,u),d.push({event:u,listeners:c}),u.data=F))}tB(d,e)})}function Ap(t,e,i){return{instance:t,listener:e,currentTarget:i}}function Rg(t,e){for(var i=e+"Capture",n=[];t!==null;){var s=t,r=s.stateNode;s.tag===5&&r!==null&&(s=r,r=pp(t,i),r!=null&&n.unshift(Ap(t,r,s)),r=pp(t,e),r!=null&&n.push(Ap(t,r,s))),t=t.return}return n}function Kc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mI(t,e,i,n,s){for(var r=e._reactName,a=[];i!==null&&i!==n;){var o=i,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,s?(l=pp(i,r),l!=null&&a.unshift(Ap(i,l,o))):s||(l=pp(i,r),l!=null&&a.push(Ap(i,l,o)))),i=i.return}a.length!==0&&t.push({event:e,listeners:a})}var pH=/\r\n?/g,mH=/\u0000|\uFFFD/g;function gI(t){return(typeof t=="string"?t:""+t).replace(pH,`
`).replace(mH,"")}function Am(t,e,i){if(e=gI(e),gI(t)!==e&&i)throw Error(Ue(425))}function Ig(){}var rA=null,aA=null;function oA(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lA=typeof setTimeout=="function"?setTimeout:void 0,gH=typeof clearTimeout=="function"?clearTimeout:void 0,yI=typeof Promise=="function"?Promise:void 0,yH=typeof queueMicrotask=="function"?queueMicrotask:typeof yI<"u"?function(t){return yI.resolve(null).then(t).catch(bH)}:lA;function bH(t){setTimeout(function(){throw t})}function dv(t,e){var i=e,n=0;do{var s=i.nextSibling;if(t.removeChild(i),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(n===0){t.removeChild(s),yp(e);return}n--}else i!=="$"&&i!=="$?"&&i!=="$!"||n++;i=s}while(i);yp(e)}function sl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="$"||i==="$!"||i==="$?"){if(e===0)return t;e--}else i==="/$"&&e++}t=t.previousSibling}return null}var ch=Math.random().toString(36).slice(2),Qr="__reactFiber$"+ch,Sp="__reactProps$"+ch,co="__reactContainer$"+ch,cA="__reactEvents$"+ch,vH="__reactListeners$"+ch,EH="__reactHandles$"+ch;function Xl(t){var e=t[Qr];if(e)return e;for(var i=t.parentNode;i;){if(e=i[co]||i[Qr]){if(i=e.alternate,e.child!==null||i!==null&&i.child!==null)for(t=bI(t);t!==null;){if(i=t[Qr])return i;t=bI(t)}return e}t=i,i=t.parentNode}return null}function o0(t){return t=t[Qr]||t[co],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Iu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Ue(33))}function my(t){return t[Sp]||null}var uA=[],wu=-1;function bl(t){return{current:t}}function ai(t){0>wu||(t.current=uA[wu],uA[wu]=null,wu--)}function Qt(t,e){wu++,uA[wu]=t.current,t.current=e}var fl={},Nn=bl(fl),ns=bl(!1),bc=fl;function Ad(t,e){var i=t.type.contextTypes;if(!i)return fl;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},r;for(r in i)s[r]=e[r];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ss(t){return t=t.childContextTypes,t!=null}function wg(){ai(ns),ai(Nn)}function vI(t,e,i){if(Nn.current!==fl)throw Error(Ue(168));Qt(Nn,e),Qt(ns,i)}function nB(t,e,i){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return i;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(Ue(108,sj(t)||"Unknown",s));return vi({},i,n)}function _g(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fl,bc=Nn.current,Qt(Nn,t),Qt(ns,ns.current),!0}function EI(t,e,i){var n=t.stateNode;if(!n)throw Error(Ue(169));i?(t=nB(t,e,bc),n.__reactInternalMemoizedMergedChildContext=t,ai(ns),ai(Nn),Qt(Nn,t)):ai(ns),Qt(ns,i)}var Wa=null,gy=!1,hv=!1;function sB(t){Wa===null?Wa=[t]:Wa.push(t)}function AH(t){gy=!0,sB(t)}function vl(){if(!hv&&Wa!==null){hv=!0;var t=0,e=Dt;try{var i=Wa;for(Dt=1;t<i.length;t++){var n=i[t];do n=n(!0);while(n!==null)}Wa=null,gy=!1}catch(s){throw Wa!==null&&(Wa=Wa.slice(t+1)),xU(KT,vl),s}finally{Dt=e,hv=!1}}return null}var _u=[],xu=0,xg=null,Ng=0,Ds=[],Ms=0,vc=null,$a=1,Ka="";function Ul(t,e){_u[xu++]=Ng,_u[xu++]=xg,xg=t,Ng=e}function rB(t,e,i){Ds[Ms++]=$a,Ds[Ms++]=Ka,Ds[Ms++]=vc,vc=t;var n=$a;t=Ka;var s=32-Er(n)-1;n&=~(1<<s),i+=1;var r=32-Er(e)+s;if(30<r){var a=s-s%5;r=(n&(1<<a)-1).toString(32),n>>=a,s-=a,$a=1<<32-Er(e)+s|i<<s|n,Ka=r+t}else $a=1<<r|i<<s|n,Ka=t}function iC(t){t.return!==null&&(Ul(t,1),rB(t,1,0))}function nC(t){for(;t===xg;)xg=_u[--xu],_u[xu]=null,Ng=_u[--xu],_u[xu]=null;for(;t===vc;)vc=Ds[--Ms],Ds[Ms]=null,Ka=Ds[--Ms],Ds[Ms]=null,$a=Ds[--Ms],Ds[Ms]=null}var Ss=null,Es=null,fi=!1,mr=null;function aB(t,e){var i=Os(5,null,null,0);i.elementType="DELETED",i.stateNode=e,i.return=t,e=t.deletions,e===null?(t.deletions=[i],t.flags|=16):e.push(i)}function AI(t,e){switch(t.tag){case 5:var i=t.type;return e=e.nodeType!==1||i.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ss=t,Es=sl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ss=t,Es=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(i=vc!==null?{id:$a,overflow:Ka}:null,t.memoizedState={dehydrated:e,treeContext:i,retryLane:1073741824},i=Os(18,null,null,0),i.stateNode=e,i.return=t,t.child=i,Ss=t,Es=null,!0):!1;default:return!1}}function dA(t){return(t.mode&1)!==0&&(t.flags&128)===0}function hA(t){if(fi){var e=Es;if(e){var i=e;if(!AI(t,e)){if(dA(t))throw Error(Ue(418));e=sl(i.nextSibling);var n=Ss;e&&AI(t,e)?aB(n,i):(t.flags=t.flags&-4097|2,fi=!1,Ss=t)}}else{if(dA(t))throw Error(Ue(418));t.flags=t.flags&-4097|2,fi=!1,Ss=t}}}function SI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ss=t}function Sm(t){if(t!==Ss)return!1;if(!fi)return SI(t),fi=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!oA(t.type,t.memoizedProps)),e&&(e=Es)){if(dA(t))throw oB(),Error(Ue(418));for(;e;)aB(t,e),e=sl(e.nextSibling)}if(SI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Ue(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var i=t.data;if(i==="/$"){if(e===0){Es=sl(t.nextSibling);break e}e--}else i!=="$"&&i!=="$!"&&i!=="$?"||e++}t=t.nextSibling}Es=null}}else Es=Ss?sl(t.stateNode.nextSibling):null;return!0}function oB(){for(var t=Es;t;)t=sl(t.nextSibling)}function Sd(){Es=Ss=null,fi=!1}function sC(t){mr===null?mr=[t]:mr.push(t)}var SH=bo.ReactCurrentBatchConfig;function tf(t,e,i){if(t=i.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(Ue(309));var n=i.stateNode}if(!n)throw Error(Ue(147,t));var s=n,r=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===r?e.ref:(e=function(a){var o=s.refs;a===null?delete o[r]:o[r]=a},e._stringRef=r,e)}if(typeof t!="string")throw Error(Ue(284));if(!i._owner)throw Error(Ue(290,t))}return t}function Tm(t,e){throw t=Object.prototype.toString.call(e),Error(Ue(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function TI(t){var e=t._init;return e(t._payload)}function lB(t){function e(g,E){if(t){var A=g.deletions;A===null?(g.deletions=[E],g.flags|=16):A.push(E)}}function i(g,E){if(!t)return null;for(;E!==null;)e(g,E),E=E.sibling;return null}function n(g,E){for(g=new Map;E!==null;)E.key!==null?g.set(E.key,E):g.set(E.index,E),E=E.sibling;return g}function s(g,E){return g=ll(g,E),g.index=0,g.sibling=null,g}function r(g,E,A){return g.index=A,t?(A=g.alternate,A!==null?(A=A.index,A<E?(g.flags|=2,E):A):(g.flags|=2,E)):(g.flags|=1048576,E)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,E,A,R){return E===null||E.tag!==6?(E=vv(A,g.mode,R),E.return=g,E):(E=s(E,A),E.return=g,E)}function l(g,E,A,R){var I=A.type;return I===Su?u(g,E,A.props.children,R,A.key):E!==null&&(E.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Zo&&TI(I)===E.type)?(R=s(E,A.props),R.ref=tf(g,E,A),R.return=g,R):(R=F1(A.type,A.key,A.props,null,g.mode,R),R.ref=tf(g,E,A),R.return=g,R)}function c(g,E,A,R){return E===null||E.tag!==4||E.stateNode.containerInfo!==A.containerInfo||E.stateNode.implementation!==A.implementation?(E=Ev(A,g.mode,R),E.return=g,E):(E=s(E,A.children||[]),E.return=g,E)}function u(g,E,A,R,I){return E===null||E.tag!==7?(E=ac(A,g.mode,R,I),E.return=g,E):(E=s(E,A),E.return=g,E)}function d(g,E,A){if(typeof E=="string"&&E!==""||typeof E=="number")return E=vv(""+E,g.mode,A),E.return=g,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case hm:return A=F1(E.type,E.key,E.props,null,g.mode,A),A.ref=tf(g,null,E),A.return=g,A;case Au:return E=Ev(E,g.mode,A),E.return=g,E;case Zo:var R=E._init;return d(g,R(E._payload),A)}if(If(E)||jh(E))return E=ac(E,g.mode,A,null),E.return=g,E;Tm(g,E)}return null}function h(g,E,A,R){var I=E!==null?E.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return I!==null?null:o(g,E,""+A,R);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case hm:return A.key===I?l(g,E,A,R):null;case Au:return A.key===I?c(g,E,A,R):null;case Zo:return I=A._init,h(g,E,I(A._payload),R)}if(If(A)||jh(A))return I!==null?null:u(g,E,A,R,null);Tm(g,A)}return null}function f(g,E,A,R,I){if(typeof R=="string"&&R!==""||typeof R=="number")return g=g.get(A)||null,o(E,g,""+R,I);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case hm:return g=g.get(R.key===null?A:R.key)||null,l(E,g,R,I);case Au:return g=g.get(R.key===null?A:R.key)||null,c(E,g,R,I);case Zo:var L=R._init;return f(g,E,A,L(R._payload),I)}if(If(R)||jh(R))return g=g.get(A)||null,u(E,g,R,I,null);Tm(E,R)}return null}function p(g,E,A,R){for(var I=null,L=null,F=E,B=E=0,G=null;F!==null&&B<A.length;B++){F.index>B?(G=F,F=null):G=F.sibling;var Z=h(g,F,A[B],R);if(Z===null){F===null&&(F=G);break}t&&F&&Z.alternate===null&&e(g,F),E=r(Z,E,B),L===null?I=Z:L.sibling=Z,L=Z,F=G}if(B===A.length)return i(g,F),fi&&Ul(g,B),I;if(F===null){for(;B<A.length;B++)F=d(g,A[B],R),F!==null&&(E=r(F,E,B),L===null?I=F:L.sibling=F,L=F);return fi&&Ul(g,B),I}for(F=n(g,F);B<A.length;B++)G=f(F,g,B,A[B],R),G!==null&&(t&&G.alternate!==null&&F.delete(G.key===null?B:G.key),E=r(G,E,B),L===null?I=G:L.sibling=G,L=G);return t&&F.forEach(function(j){return e(g,j)}),fi&&Ul(g,B),I}function m(g,E,A,R){var I=jh(A);if(typeof I!="function")throw Error(Ue(150));if(A=I.call(A),A==null)throw Error(Ue(151));for(var L=I=null,F=E,B=E=0,G=null,Z=A.next();F!==null&&!Z.done;B++,Z=A.next()){F.index>B?(G=F,F=null):G=F.sibling;var j=h(g,F,Z.value,R);if(j===null){F===null&&(F=G);break}t&&F&&j.alternate===null&&e(g,F),E=r(j,E,B),L===null?I=j:L.sibling=j,L=j,F=G}if(Z.done)return i(g,F),fi&&Ul(g,B),I;if(F===null){for(;!Z.done;B++,Z=A.next())Z=d(g,Z.value,R),Z!==null&&(E=r(Z,E,B),L===null?I=Z:L.sibling=Z,L=Z);return fi&&Ul(g,B),I}for(F=n(g,F);!Z.done;B++,Z=A.next())Z=f(F,g,B,Z.value,R),Z!==null&&(t&&Z.alternate!==null&&F.delete(Z.key===null?B:Z.key),E=r(Z,E,B),L===null?I=Z:L.sibling=Z,L=Z);return t&&F.forEach(function(pe){return e(g,pe)}),fi&&Ul(g,B),I}function v(g,E,A,R){if(typeof A=="object"&&A!==null&&A.type===Su&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case hm:e:{for(var I=A.key,L=E;L!==null;){if(L.key===I){if(I=A.type,I===Su){if(L.tag===7){i(g,L.sibling),E=s(L,A.props.children),E.return=g,g=E;break e}}else if(L.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Zo&&TI(I)===L.type){i(g,L.sibling),E=s(L,A.props),E.ref=tf(g,L,A),E.return=g,g=E;break e}i(g,L);break}else e(g,L);L=L.sibling}A.type===Su?(E=ac(A.props.children,g.mode,R,A.key),E.return=g,g=E):(R=F1(A.type,A.key,A.props,null,g.mode,R),R.ref=tf(g,E,A),R.return=g,g=R)}return a(g);case Au:e:{for(L=A.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===A.containerInfo&&E.stateNode.implementation===A.implementation){i(g,E.sibling),E=s(E,A.children||[]),E.return=g,g=E;break e}else{i(g,E);break}else e(g,E);E=E.sibling}E=Ev(A,g.mode,R),E.return=g,g=E}return a(g);case Zo:return L=A._init,v(g,E,L(A._payload),R)}if(If(A))return p(g,E,A,R);if(jh(A))return m(g,E,A,R);Tm(g,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,E!==null&&E.tag===6?(i(g,E.sibling),E=s(E,A),E.return=g,g=E):(i(g,E),E=vv(A,g.mode,R),E.return=g,g=E),a(g)):i(g,E)}return v}var Td=lB(!0),cB=lB(!1),Vg=bl(null),Lg=null,Nu=null,rC=null;function aC(){rC=Nu=Lg=null}function oC(t){var e=Vg.current;ai(Vg),t._currentValue=e}function fA(t,e,i){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===i)break;t=t.return}}function Ku(t,e){Lg=t,rC=Nu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(is=!0),t.firstContext=null)}function Js(t){var e=t._currentValue;if(rC!==t)if(t={context:t,memoizedValue:e,next:null},Nu===null){if(Lg===null)throw Error(Ue(308));Nu=t,Lg.dependencies={lanes:0,firstContext:t}}else Nu=Nu.next=t;return e}var Yl=null;function lC(t){Yl===null?Yl=[t]:Yl.push(t)}function uB(t,e,i,n){var s=e.interleaved;return s===null?(i.next=i,lC(e)):(i.next=s.next,s.next=i),e.interleaved=i,uo(t,n)}function uo(t,e){t.lanes|=e;var i=t.alternate;for(i!==null&&(i.lanes|=e),i=t,t=t.return;t!==null;)t.childLanes|=e,i=t.alternate,i!==null&&(i.childLanes|=e),i=t,t=t.return;return i.tag===3?i.stateNode:null}var Po=!1;function cC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function so(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rl(t,e,i){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ct&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,uo(t,i)}return s=n.interleaved,s===null?(e.next=e,lC(n)):(e.next=s.next,s.next=e),n.interleaved=e,uo(t,i)}function _1(t,e,i){if(e=e.updateQueue,e!==null&&(e=e.shared,(i&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,i|=n,e.lanes=i,zT(t,i)}}function CI(t,e){var i=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,i===n)){var s=null,r=null;if(i=i.firstBaseUpdate,i!==null){do{var a={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};r===null?s=r=a:r=r.next=a,i=i.next}while(i!==null);r===null?s=r=e:r=r.next=e}else s=r=e;i={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:r,shared:n.shared,effects:n.effects},t.updateQueue=i;return}t=i.lastBaseUpdate,t===null?i.firstBaseUpdate=e:t.next=e,i.lastBaseUpdate=e}function kg(t,e,i,n){var s=t.updateQueue;Po=!1;var r=s.firstBaseUpdate,a=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?r=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(r!==null){var d=s.baseState;a=0,u=c=l=null,o=r;do{var h=o.lane,f=o.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,m=o;switch(h=e,f=i,m.tag){case 1:if(p=m.payload,typeof p=="function"){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,h=typeof p=="function"?p.call(f,d,h):p,h==null)break e;d=vi({},d,h);break e;case 2:Po=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,h=s.effects,h===null?s.effects=[o]:h.push(o))}else f={eventTime:f,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,a|=h;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;h=o,o=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(u===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=u,e=s.shared.interleaved,e!==null){s=e;do a|=s.lane,s=s.next;while(s!==e)}else r===null&&(s.shared.lanes=0);Ac|=a,t.lanes=a,t.memoizedState=d}}function RI(t,e,i){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=i,typeof s!="function")throw Error(Ue(191,s));s.call(n)}}}var l0={},oa=bl(l0),Tp=bl(l0),Cp=bl(l0);function $l(t){if(t===l0)throw Error(Ue(174));return t}function uC(t,e){switch(Qt(Cp,e),Qt(Tp,t),Qt(oa,l0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:K5(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=K5(e,t)}ai(oa),Qt(oa,e)}function Cd(){ai(oa),ai(Tp),ai(Cp)}function hB(t){$l(Cp.current);var e=$l(oa.current),i=K5(e,t.type);e!==i&&(Qt(Tp,t),Qt(oa,i))}function dC(t){Tp.current===t&&(ai(oa),ai(Tp))}var gi=bl(0);function Fg(t){for(var e=t;e!==null;){if(e.tag===13){var i=e.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fv=[];function hC(){for(var t=0;t<fv.length;t++)fv[t]._workInProgressVersionPrimary=null;fv.length=0}var x1=bo.ReactCurrentDispatcher,pv=bo.ReactCurrentBatchConfig,Ec=0,bi=null,Yi=null,Hi=null,Ug=!1,Yf=!1,Rp=0,TH=0;function An(){throw Error(Ue(321))}function fC(t,e){if(e===null)return!1;for(var i=0;i<e.length&&i<t.length;i++)if(!Rr(t[i],e[i]))return!1;return!0}function pC(t,e,i,n,s,r){if(Ec=r,bi=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,x1.current=t===null||t.memoizedState===null?wH:_H,t=i(n,s),Yf){r=0;do{if(Yf=!1,Rp=0,25<=r)throw Error(Ue(301));r+=1,Hi=Yi=null,e.updateQueue=null,x1.current=xH,t=i(n,s)}while(Yf)}if(x1.current=Bg,e=Yi!==null&&Yi.next!==null,Ec=0,Hi=Yi=bi=null,Ug=!1,e)throw Error(Ue(300));return t}function mC(){var t=Rp!==0;return Rp=0,t}function Fr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hi===null?bi.memoizedState=Hi=t:Hi=Hi.next=t,Hi}function js(){if(Yi===null){var t=bi.alternate;t=t!==null?t.memoizedState:null}else t=Yi.next;var e=Hi===null?bi.memoizedState:Hi.next;if(e!==null)Hi=e,Yi=t;else{if(t===null)throw Error(Ue(310));Yi=t,t={memoizedState:Yi.memoizedState,baseState:Yi.baseState,baseQueue:Yi.baseQueue,queue:Yi.queue,next:null},Hi===null?bi.memoizedState=Hi=t:Hi=Hi.next=t}return Hi}function Ip(t,e){return typeof e=="function"?e(t):e}function mv(t){var e=js(),i=e.queue;if(i===null)throw Error(Ue(311));i.lastRenderedReducer=t;var n=Yi,s=n.baseQueue,r=i.pending;if(r!==null){if(s!==null){var a=s.next;s.next=r.next,r.next=a}n.baseQueue=s=r,i.pending=null}if(s!==null){r=s.next,n=n.baseState;var o=a=null,l=null,c=r;do{var u=c.lane;if((Ec&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=n):l=l.next=d,bi.lanes|=u,Ac|=u}c=c.next}while(c!==null&&c!==r);l===null?a=n:l.next=o,Rr(n,e.memoizedState)||(is=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,i.lastRenderedState=n}if(t=i.interleaved,t!==null){s=t;do r=s.lane,bi.lanes|=r,Ac|=r,s=s.next;while(s!==t)}else s===null&&(i.lanes=0);return[e.memoizedState,i.dispatch]}function gv(t){var e=js(),i=e.queue;if(i===null)throw Error(Ue(311));i.lastRenderedReducer=t;var n=i.dispatch,s=i.pending,r=e.memoizedState;if(s!==null){i.pending=null;var a=s=s.next;do r=t(r,a.action),a=a.next;while(a!==s);Rr(r,e.memoizedState)||(is=!0),e.memoizedState=r,e.baseQueue===null&&(e.baseState=r),i.lastRenderedState=r}return[r,n]}function fB(){}function pB(t,e){var i=bi,n=js(),s=e(),r=!Rr(n.memoizedState,s);if(r&&(n.memoizedState=s,is=!0),n=n.queue,gC(yB.bind(null,i,n,t),[t]),n.getSnapshot!==e||r||Hi!==null&&Hi.memoizedState.tag&1){if(i.flags|=2048,wp(9,gB.bind(null,i,n,s,e),void 0,null),rn===null)throw Error(Ue(349));Ec&30||mB(i,e,s)}return s}function mB(t,e,i){t.flags|=16384,t={getSnapshot:e,value:i},e=bi.updateQueue,e===null?(e={lastEffect:null,stores:null},bi.updateQueue=e,e.stores=[t]):(i=e.stores,i===null?e.stores=[t]:i.push(t))}function gB(t,e,i,n){e.value=i,e.getSnapshot=n,bB(e)&&vB(t)}function yB(t,e,i){return i(function(){bB(e)&&vB(t)})}function bB(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!Rr(t,i)}catch{return!0}}function vB(t){var e=uo(t,1);e!==null&&Ar(e,t,1,-1)}function II(t){var e=Fr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ip,lastRenderedState:t},e.queue=t,t=t.dispatch=IH.bind(null,bi,t),[e.memoizedState,t]}function wp(t,e,i,n){return t={tag:t,create:e,destroy:i,deps:n,next:null},e=bi.updateQueue,e===null?(e={lastEffect:null,stores:null},bi.updateQueue=e,e.lastEffect=t.next=t):(i=e.lastEffect,i===null?e.lastEffect=t.next=t:(n=i.next,i.next=t,t.next=n,e.lastEffect=t)),t}function EB(){return js().memoizedState}function N1(t,e,i,n){var s=Fr();bi.flags|=t,s.memoizedState=wp(1|e,i,void 0,n===void 0?null:n)}function yy(t,e,i,n){var s=js();n=n===void 0?null:n;var r=void 0;if(Yi!==null){var a=Yi.memoizedState;if(r=a.destroy,n!==null&&fC(n,a.deps)){s.memoizedState=wp(e,i,r,n);return}}bi.flags|=t,s.memoizedState=wp(1|e,i,r,n)}function wI(t,e){return N1(8390656,8,t,e)}function gC(t,e){return yy(2048,8,t,e)}function AB(t,e){return yy(4,2,t,e)}function SB(t,e){return yy(4,4,t,e)}function TB(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function CB(t,e,i){return i=i!=null?i.concat([t]):null,yy(4,4,TB.bind(null,e,t),i)}function yC(){}function RB(t,e){var i=js();e=e===void 0?null:e;var n=i.memoizedState;return n!==null&&e!==null&&fC(e,n[1])?n[0]:(i.memoizedState=[t,e],t)}function IB(t,e){var i=js();e=e===void 0?null:e;var n=i.memoizedState;return n!==null&&e!==null&&fC(e,n[1])?n[0]:(t=t(),i.memoizedState=[t,e],t)}function wB(t,e,i){return Ec&21?(Rr(i,e)||(i=LU(),bi.lanes|=i,Ac|=i,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,is=!0),t.memoizedState=i)}function CH(t,e){var i=Dt;Dt=i!==0&&4>i?i:4,t(!0);var n=pv.transition;pv.transition={};try{t(!1),e()}finally{Dt=i,pv.transition=n}}function _B(){return js().memoizedState}function RH(t,e,i){var n=ol(t);if(i={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null},xB(t))NB(e,i);else if(i=uB(t,e,i,n),i!==null){var s=On();Ar(i,t,n,s),VB(i,e,n)}}function IH(t,e,i){var n=ol(t),s={lane:n,action:i,hasEagerState:!1,eagerState:null,next:null};if(xB(t))NB(e,s);else{var r=t.alternate;if(t.lanes===0&&(r===null||r.lanes===0)&&(r=e.lastRenderedReducer,r!==null))try{var a=e.lastRenderedState,o=r(a,i);if(s.hasEagerState=!0,s.eagerState=o,Rr(o,a)){var l=e.interleaved;l===null?(s.next=s,lC(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}i=uB(t,e,s,n),i!==null&&(s=On(),Ar(i,t,n,s),VB(i,e,n))}}function xB(t){var e=t.alternate;return t===bi||e!==null&&e===bi}function NB(t,e){Yf=Ug=!0;var i=t.pending;i===null?e.next=e:(e.next=i.next,i.next=e),t.pending=e}function VB(t,e,i){if(i&4194240){var n=e.lanes;n&=t.pendingLanes,i|=n,e.lanes=i,zT(t,i)}}var Bg={readContext:Js,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},wH={readContext:Js,useCallback:function(t,e){return Fr().memoizedState=[t,e===void 0?null:e],t},useContext:Js,useEffect:wI,useImperativeHandle:function(t,e,i){return i=i!=null?i.concat([t]):null,N1(4194308,4,TB.bind(null,e,t),i)},useLayoutEffect:function(t,e){return N1(4194308,4,t,e)},useInsertionEffect:function(t,e){return N1(4,2,t,e)},useMemo:function(t,e){var i=Fr();return e=e===void 0?null:e,t=t(),i.memoizedState=[t,e],t},useReducer:function(t,e,i){var n=Fr();return e=i!==void 0?i(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=RH.bind(null,bi,t),[n.memoizedState,t]},useRef:function(t){var e=Fr();return t={current:t},e.memoizedState=t},useState:II,useDebugValue:yC,useDeferredValue:function(t){return Fr().memoizedState=t},useTransition:function(){var t=II(!1),e=t[0];return t=CH.bind(null,t[1]),Fr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,i){var n=bi,s=Fr();if(fi){if(i===void 0)throw Error(Ue(407));i=i()}else{if(i=e(),rn===null)throw Error(Ue(349));Ec&30||mB(n,e,i)}s.memoizedState=i;var r={value:i,getSnapshot:e};return s.queue=r,wI(yB.bind(null,n,r,t),[t]),n.flags|=2048,wp(9,gB.bind(null,n,r,i,e),void 0,null),i},useId:function(){var t=Fr(),e=rn.identifierPrefix;if(fi){var i=Ka,n=$a;i=(n&~(1<<32-Er(n)-1)).toString(32)+i,e=":"+e+"R"+i,i=Rp++,0<i&&(e+="H"+i.toString(32)),e+=":"}else i=TH++,e=":"+e+"r"+i.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_H={readContext:Js,useCallback:RB,useContext:Js,useEffect:gC,useImperativeHandle:CB,useInsertionEffect:AB,useLayoutEffect:SB,useMemo:IB,useReducer:mv,useRef:EB,useState:function(){return mv(Ip)},useDebugValue:yC,useDeferredValue:function(t){var e=js();return wB(e,Yi.memoizedState,t)},useTransition:function(){var t=mv(Ip)[0],e=js().memoizedState;return[t,e]},useMutableSource:fB,useSyncExternalStore:pB,useId:_B,unstable_isNewReconciler:!1},xH={readContext:Js,useCallback:RB,useContext:Js,useEffect:gC,useImperativeHandle:CB,useInsertionEffect:AB,useLayoutEffect:SB,useMemo:IB,useReducer:gv,useRef:EB,useState:function(){return gv(Ip)},useDebugValue:yC,useDeferredValue:function(t){var e=js();return Yi===null?e.memoizedState=t:wB(e,Yi.memoizedState,t)},useTransition:function(){var t=gv(Ip)[0],e=js().memoizedState;return[t,e]},useMutableSource:fB,useSyncExternalStore:pB,useId:_B,unstable_isNewReconciler:!1};function hr(t,e){if(t&&t.defaultProps){e=vi({},e),t=t.defaultProps;for(var i in t)e[i]===void 0&&(e[i]=t[i]);return e}return e}function pA(t,e,i,n){e=t.memoizedState,i=i(n,e),i=i==null?e:vi({},e,i),t.memoizedState=i,t.lanes===0&&(t.updateQueue.baseState=i)}var by={isMounted:function(t){return(t=t._reactInternals)?Bc(t)===t:!1},enqueueSetState:function(t,e,i){t=t._reactInternals;var n=On(),s=ol(t),r=so(n,s);r.payload=e,i!=null&&(r.callback=i),e=rl(t,r,s),e!==null&&(Ar(e,t,s,n),_1(e,t,s))},enqueueReplaceState:function(t,e,i){t=t._reactInternals;var n=On(),s=ol(t),r=so(n,s);r.tag=1,r.payload=e,i!=null&&(r.callback=i),e=rl(t,r,s),e!==null&&(Ar(e,t,s,n),_1(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var i=On(),n=ol(t),s=so(i,n);s.tag=2,e!=null&&(s.callback=e),e=rl(t,s,n),e!==null&&(Ar(e,t,n,i),_1(e,t,n))}};function _I(t,e,i,n,s,r,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,r,a):e.prototype&&e.prototype.isPureReactComponent?!vp(i,n)||!vp(s,r):!0}function LB(t,e,i){var n=!1,s=fl,r=e.contextType;return typeof r=="object"&&r!==null?r=Js(r):(s=ss(e)?bc:Nn.current,n=e.contextTypes,r=(n=n!=null)?Ad(t,s):fl),e=new e(i,r),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=by,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=r),e}function xI(t,e,i,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(i,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(i,n),e.state!==t&&by.enqueueReplaceState(e,e.state,null)}function mA(t,e,i,n){var s=t.stateNode;s.props=i,s.state=t.memoizedState,s.refs={},cC(t);var r=e.contextType;typeof r=="object"&&r!==null?s.context=Js(r):(r=ss(e)?bc:Nn.current,s.context=Ad(t,r)),s.state=t.memoizedState,r=e.getDerivedStateFromProps,typeof r=="function"&&(pA(t,e,r,i),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&by.enqueueReplaceState(s,s.state,null),kg(t,i,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Rd(t,e){try{var i="",n=e;do i+=nj(n),n=n.return;while(n);var s=i}catch(r){s=`
Error generating stack: `+r.message+`
`+r.stack}return{value:t,source:e,stack:s,digest:null}}function yv(t,e,i){return{value:t,source:null,stack:i??null,digest:e??null}}function gA(t,e){try{console.error(e.value)}catch(i){setTimeout(function(){throw i})}}var NH=typeof WeakMap=="function"?WeakMap:Map;function kB(t,e,i){i=so(-1,i),i.tag=3,i.payload={element:null};var n=e.value;return i.callback=function(){Gg||(Gg=!0,IA=n),gA(t,e)},i}function FB(t,e,i){i=so(-1,i),i.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;i.payload=function(){return n(s)},i.callback=function(){gA(t,e)}}var r=t.stateNode;return r!==null&&typeof r.componentDidCatch=="function"&&(i.callback=function(){gA(t,e),typeof n!="function"&&(al===null?al=new Set([this]):al.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),i}function NI(t,e,i){var n=t.pingCache;if(n===null){n=t.pingCache=new NH;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(i)||(s.add(i),t=XH.bind(null,t,e,i),e.then(t,t))}function VI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function LI(t,e,i,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(e=so(-1,1),e.tag=2,rl(i,e,1))),i.lanes|=1),t)}var VH=bo.ReactCurrentOwner,is=!1;function Wn(t,e,i,n){e.child=t===null?cB(e,null,i,n):Td(e,t.child,i,n)}function kI(t,e,i,n,s){i=i.render;var r=e.ref;return Ku(e,s),n=pC(t,e,i,n,r,s),i=mC(),t!==null&&!is?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ho(t,e,s)):(fi&&i&&iC(e),e.flags|=1,Wn(t,e,n,s),e.child)}function FI(t,e,i,n,s){if(t===null){var r=i.type;return typeof r=="function"&&!RC(r)&&r.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(e.tag=15,e.type=r,UB(t,e,r,n,s)):(t=F1(i.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(r=t.child,!(t.lanes&s)){var a=r.memoizedProps;if(i=i.compare,i=i!==null?i:vp,i(a,n)&&t.ref===e.ref)return ho(t,e,s)}return e.flags|=1,t=ll(r,n),t.ref=e.ref,t.return=e,e.child=t}function UB(t,e,i,n,s){if(t!==null){var r=t.memoizedProps;if(vp(r,n)&&t.ref===e.ref)if(is=!1,e.pendingProps=n=r,(t.lanes&s)!==0)t.flags&131072&&(is=!0);else return e.lanes=t.lanes,ho(t,e,s)}return yA(t,e,i,n,s)}function BB(t,e,i){var n=e.pendingProps,s=n.children,r=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qt(Lu,bs),bs|=i;else{if(!(i&1073741824))return t=r!==null?r.baseLanes|i:i,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Qt(Lu,bs),bs|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=r!==null?r.baseLanes:i,Qt(Lu,bs),bs|=n}else r!==null?(n=r.baseLanes|i,e.memoizedState=null):n=i,Qt(Lu,bs),bs|=n;return Wn(t,e,s,i),e.child}function WB(t,e){var i=e.ref;(t===null&&i!==null||t!==null&&t.ref!==i)&&(e.flags|=512,e.flags|=2097152)}function yA(t,e,i,n,s){var r=ss(i)?bc:Nn.current;return r=Ad(e,r),Ku(e,s),i=pC(t,e,i,n,r,s),n=mC(),t!==null&&!is?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,ho(t,e,s)):(fi&&n&&iC(e),e.flags|=1,Wn(t,e,i,s),e.child)}function UI(t,e,i,n,s){if(ss(i)){var r=!0;_g(e)}else r=!1;if(Ku(e,s),e.stateNode===null)V1(t,e),LB(e,i,n),mA(e,i,n,s),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=i.contextType;typeof c=="object"&&c!==null?c=Js(c):(c=ss(i)?bc:Nn.current,c=Ad(e,c));var u=i.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&xI(e,a,n,c),Po=!1;var h=e.memoizedState;a.state=h,kg(e,n,a,s),l=e.memoizedState,o!==n||h!==l||ns.current||Po?(typeof u=="function"&&(pA(e,i,u,n),l=e.memoizedState),(o=Po||_I(e,i,o,n,h,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,dB(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:hr(e.type,o),a.props=c,d=e.pendingProps,h=a.context,l=i.contextType,typeof l=="object"&&l!==null?l=Js(l):(l=ss(i)?bc:Nn.current,l=Ad(e,l));var f=i.getDerivedStateFromProps;(u=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||h!==l)&&xI(e,a,n,l),Po=!1,h=e.memoizedState,a.state=h,kg(e,n,a,s);var p=e.memoizedState;o!==d||h!==p||ns.current||Po?(typeof f=="function"&&(pA(e,i,f,n),p=e.memoizedState),(c=Po||_I(e,i,c,n,h,p,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=p),a.props=n,a.state=p,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),n=!1)}return bA(t,e,i,n,r,s)}function bA(t,e,i,n,s,r){WB(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return s&&EI(e,i,!1),ho(t,e,r);n=e.stateNode,VH.current=e;var o=a&&typeof i.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Td(e,t.child,null,r),e.child=Td(e,null,o,r)):Wn(t,e,o,r),e.memoizedState=n.state,s&&EI(e,i,!0),e.child}function GB(t){var e=t.stateNode;e.pendingContext?vI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&vI(t,e.context,!1),uC(t,e.containerInfo)}function BI(t,e,i,n,s){return Sd(),sC(s),e.flags|=256,Wn(t,e,i,n),e.child}var vA={dehydrated:null,treeContext:null,retryLane:0};function EA(t){return{baseLanes:t,cachePool:null,transitions:null}}function DB(t,e,i){var n=e.pendingProps,s=gi.current,r=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(s&2)!==0),o?(r=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Qt(gi,s&1),t===null)return hA(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,r?(n=e.mode,r=e.child,a={mode:"hidden",children:a},!(n&1)&&r!==null?(r.childLanes=0,r.pendingProps=a):r=Ay(a,n,0,null),t=ac(t,n,i,null),r.return=e,t.return=e,r.sibling=t,e.child=r,e.child.memoizedState=EA(i),e.memoizedState=vA,t):bC(e,a));if(s=t.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return LH(t,e,a,n,o,s,i);if(r){r=n.fallback,a=e.mode,s=t.child,o=s.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=ll(s,l),n.subtreeFlags=s.subtreeFlags&14680064),o!==null?r=ll(o,r):(r=ac(r,a,i,null),r.flags|=2),r.return=e,n.return=e,n.sibling=r,e.child=n,n=r,r=e.child,a=t.child.memoizedState,a=a===null?EA(i):{baseLanes:a.baseLanes|i,cachePool:null,transitions:a.transitions},r.memoizedState=a,r.childLanes=t.childLanes&~i,e.memoizedState=vA,n}return r=t.child,t=r.sibling,n=ll(r,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=i),n.return=e,n.sibling=null,t!==null&&(i=e.deletions,i===null?(e.deletions=[t],e.flags|=16):i.push(t)),e.child=n,e.memoizedState=null,n}function bC(t,e){return e=Ay({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Cm(t,e,i,n){return n!==null&&sC(n),Td(e,t.child,null,i),t=bC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function LH(t,e,i,n,s,r,a){if(i)return e.flags&256?(e.flags&=-257,n=yv(Error(Ue(422))),Cm(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(r=n.fallback,s=e.mode,n=Ay({mode:"visible",children:n.children},s,0,null),r=ac(r,s,a,null),r.flags|=2,n.return=e,r.return=e,n.sibling=r,e.child=n,e.mode&1&&Td(e,t.child,null,a),e.child.memoizedState=EA(a),e.memoizedState=vA,r);if(!(e.mode&1))return Cm(t,e,a,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var o=n.dgst;return n=o,r=Error(Ue(419)),n=yv(r,n,void 0),Cm(t,e,a,n)}if(o=(a&t.childLanes)!==0,is||o){if(n=rn,n!==null){switch(a&-a){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|a)?0:s,s!==0&&s!==r.retryLane&&(r.retryLane=s,uo(t,s),Ar(n,t,s,-1))}return CC(),n=yv(Error(Ue(421))),Cm(t,e,a,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=YH.bind(null,t),s._reactRetry=e,null):(t=r.treeContext,Es=sl(s.nextSibling),Ss=e,fi=!0,mr=null,t!==null&&(Ds[Ms++]=$a,Ds[Ms++]=Ka,Ds[Ms++]=vc,$a=t.id,Ka=t.overflow,vc=e),e=bC(e,n.children),e.flags|=4096,e)}function WI(t,e,i){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),fA(t.return,e,i)}function bv(t,e,i,n,s){var r=t.memoizedState;r===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:i,tailMode:s}:(r.isBackwards=e,r.rendering=null,r.renderingStartTime=0,r.last=n,r.tail=i,r.tailMode=s)}function MB(t,e,i){var n=e.pendingProps,s=n.revealOrder,r=n.tail;if(Wn(t,e,n.children,i),n=gi.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&WI(t,i,e);else if(t.tag===19)WI(t,i,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Qt(gi,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(i=e.child,s=null;i!==null;)t=i.alternate,t!==null&&Fg(t)===null&&(s=i),i=i.sibling;i=s,i===null?(s=e.child,e.child=null):(s=i.sibling,i.sibling=null),bv(e,!1,s,i,r);break;case"backwards":for(i=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Fg(t)===null){e.child=s;break}t=s.sibling,s.sibling=i,i=s,s=t}bv(e,!0,i,null,r);break;case"together":bv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function V1(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ho(t,e,i){if(t!==null&&(e.dependencies=t.dependencies),Ac|=e.lanes,!(i&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Ue(153));if(e.child!==null){for(t=e.child,i=ll(t,t.pendingProps),e.child=i,i.return=e;t.sibling!==null;)t=t.sibling,i=i.sibling=ll(t,t.pendingProps),i.return=e;i.sibling=null}return e.child}function kH(t,e,i){switch(e.tag){case 3:GB(e),Sd();break;case 5:hB(e);break;case 1:ss(e.type)&&_g(e);break;case 4:uC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Qt(Vg,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Qt(gi,gi.current&1),e.flags|=128,null):i&e.child.childLanes?DB(t,e,i):(Qt(gi,gi.current&1),t=ho(t,e,i),t!==null?t.sibling:null);Qt(gi,gi.current&1);break;case 19:if(n=(i&e.childLanes)!==0,t.flags&128){if(n)return MB(t,e,i);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Qt(gi,gi.current),n)break;return null;case 22:case 23:return e.lanes=0,BB(t,e,i)}return ho(t,e,i)}var ZB,AA,PB,OB;ZB=function(t,e){for(var i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}};AA=function(){};PB=function(t,e,i,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,$l(oa.current);var r=null;switch(i){case"input":s=O5(t,s),n=O5(t,n),r=[];break;case"select":s=vi({},s,{value:void 0}),n=vi({},n,{value:void 0}),r=[];break;case"textarea":s=$5(t,s),n=$5(t,n),r=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ig)}z5(i,n);var a;i=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(a in o)o.hasOwnProperty(a)&&(i||(i={}),i[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hp.hasOwnProperty(c)?r||(r=[]):(r=r||[]).push(c,null));for(c in n){var l=n[c];if(o=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(i||(i={}),i[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(i||(i={}),i[a]=l[a])}else i||(r||(r=[]),r.push(c,i)),i=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(r=r||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(r=r||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hp.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&ii("scroll",t),r||o===l||(r=[])):(r=r||[]).push(c,l))}i&&(r=r||[]).push("style",i);var c=r;(e.updateQueue=c)&&(e.flags|=4)}};OB=function(t,e,i,n){i!==n&&(e.flags|=4)};function nf(t,e){if(!fi)switch(t.tailMode){case"hidden":e=t.tail;for(var i=null;e!==null;)e.alternate!==null&&(i=e),e=e.sibling;i===null?t.tail=null:i.sibling=null;break;case"collapsed":i=t.tail;for(var n=null;i!==null;)i.alternate!==null&&(n=i),i=i.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Sn(t){var e=t.alternate!==null&&t.alternate.child===t.child,i=0,n=0;if(e)for(var s=t.child;s!==null;)i|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)i|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=i,e}function FH(t,e,i){var n=e.pendingProps;switch(nC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(e),null;case 1:return ss(e.type)&&wg(),Sn(e),null;case 3:return n=e.stateNode,Cd(),ai(ns),ai(Nn),hC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Sm(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,mr!==null&&(xA(mr),mr=null))),AA(t,e),Sn(e),null;case 5:dC(e);var s=$l(Cp.current);if(i=e.type,t!==null&&e.stateNode!=null)PB(t,e,i,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Ue(166));return Sn(e),null}if(t=$l(oa.current),Sm(e)){n=e.stateNode,i=e.type;var r=e.memoizedProps;switch(n[Qr]=e,n[Sp]=r,t=(e.mode&1)!==0,i){case"dialog":ii("cancel",n),ii("close",n);break;case"iframe":case"object":case"embed":ii("load",n);break;case"video":case"audio":for(s=0;s<_f.length;s++)ii(_f[s],n);break;case"source":ii("error",n);break;case"img":case"image":case"link":ii("error",n),ii("load",n);break;case"details":ii("toggle",n);break;case"input":$8(n,r),ii("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!r.multiple},ii("invalid",n);break;case"textarea":z8(n,r),ii("invalid",n)}z5(i,r),s=null;for(var a in r)if(r.hasOwnProperty(a)){var o=r[a];a==="children"?typeof o=="string"?n.textContent!==o&&(r.suppressHydrationWarning!==!0&&Am(n.textContent,o,t),s=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(r.suppressHydrationWarning!==!0&&Am(n.textContent,o,t),s=["children",""+o]):hp.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&ii("scroll",n)}switch(i){case"input":fm(n),K8(n,r,!0);break;case"textarea":fm(n),J8(n);break;case"select":case"option":break;default:typeof r.onClick=="function"&&(n.onclick=Ig)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=yU(i)),t==="http://www.w3.org/1999/xhtml"?i==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(i,{is:n.is}):(t=a.createElement(i),i==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,i),t[Qr]=e,t[Sp]=n,ZB(t,e,!1,!1),e.stateNode=t;e:{switch(a=J5(i,n),i){case"dialog":ii("cancel",t),ii("close",t),s=n;break;case"iframe":case"object":case"embed":ii("load",t),s=n;break;case"video":case"audio":for(s=0;s<_f.length;s++)ii(_f[s],t);s=n;break;case"source":ii("error",t),s=n;break;case"img":case"image":case"link":ii("error",t),ii("load",t),s=n;break;case"details":ii("toggle",t),s=n;break;case"input":$8(t,n),s=O5(t,n),ii("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=vi({},n,{value:void 0}),ii("invalid",t);break;case"textarea":z8(t,n),s=$5(t,n),ii("invalid",t);break;default:s=n}z5(i,s),o=s;for(r in o)if(o.hasOwnProperty(r)){var l=o[r];r==="style"?EU(t,l):r==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bU(t,l)):r==="children"?typeof l=="string"?(i!=="textarea"||l!=="")&&fp(t,l):typeof l=="number"&&fp(t,""+l):r!=="suppressContentEditableWarning"&&r!=="suppressHydrationWarning"&&r!=="autoFocus"&&(hp.hasOwnProperty(r)?l!=null&&r==="onScroll"&&ii("scroll",t):l!=null&&PT(t,r,l,a))}switch(i){case"input":fm(t),K8(t,n,!1);break;case"textarea":fm(t),J8(t);break;case"option":n.value!=null&&t.setAttribute("value",""+hl(n.value));break;case"select":t.multiple=!!n.multiple,r=n.value,r!=null?Ou(t,!!n.multiple,r,!1):n.defaultValue!=null&&Ou(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ig)}switch(i){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Sn(e),null;case 6:if(t&&e.stateNode!=null)OB(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Ue(166));if(i=$l(Cp.current),$l(oa.current),Sm(e)){if(n=e.stateNode,i=e.memoizedProps,n[Qr]=e,(r=n.nodeValue!==i)&&(t=Ss,t!==null))switch(t.tag){case 3:Am(n.nodeValue,i,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Am(n.nodeValue,i,(t.mode&1)!==0)}r&&(e.flags|=4)}else n=(i.nodeType===9?i:i.ownerDocument).createTextNode(n),n[Qr]=e,e.stateNode=n}return Sn(e),null;case 13:if(ai(gi),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(fi&&Es!==null&&e.mode&1&&!(e.flags&128))oB(),Sd(),e.flags|=98560,r=!1;else if(r=Sm(e),n!==null&&n.dehydrated!==null){if(t===null){if(!r)throw Error(Ue(318));if(r=e.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(Ue(317));r[Qr]=e}else Sd(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Sn(e),r=!1}else mr!==null&&(xA(mr),mr=null),r=!0;if(!r)return e.flags&65536?e:null}return e.flags&128?(e.lanes=i,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||gi.current&1?$i===0&&($i=3):CC())),e.updateQueue!==null&&(e.flags|=4),Sn(e),null);case 4:return Cd(),AA(t,e),t===null&&Ep(e.stateNode.containerInfo),Sn(e),null;case 10:return oC(e.type._context),Sn(e),null;case 17:return ss(e.type)&&wg(),Sn(e),null;case 19:if(ai(gi),r=e.memoizedState,r===null)return Sn(e),null;if(n=(e.flags&128)!==0,a=r.rendering,a===null)if(n)nf(r,!1);else{if($i!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Fg(t),a!==null){for(e.flags|=128,nf(r,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=i,i=e.child;i!==null;)r=i,t=n,r.flags&=14680066,a=r.alternate,a===null?(r.childLanes=0,r.lanes=t,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=a.childLanes,r.lanes=a.lanes,r.child=a.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=a.memoizedProps,r.memoizedState=a.memoizedState,r.updateQueue=a.updateQueue,r.type=a.type,t=a.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),i=i.sibling;return Qt(gi,gi.current&1|2),e.child}t=t.sibling}r.tail!==null&&xi()>Id&&(e.flags|=128,n=!0,nf(r,!1),e.lanes=4194304)}else{if(!n)if(t=Fg(a),t!==null){if(e.flags|=128,n=!0,i=t.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),nf(r,!0),r.tail===null&&r.tailMode==="hidden"&&!a.alternate&&!fi)return Sn(e),null}else 2*xi()-r.renderingStartTime>Id&&i!==1073741824&&(e.flags|=128,n=!0,nf(r,!1),e.lanes=4194304);r.isBackwards?(a.sibling=e.child,e.child=a):(i=r.last,i!==null?i.sibling=a:e.child=a,r.last=a)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=xi(),e.sibling=null,i=gi.current,Qt(gi,n?i&1|2:i&1),e):(Sn(e),null);case 22:case 23:return TC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?bs&1073741824&&(Sn(e),e.subtreeFlags&6&&(e.flags|=8192)):Sn(e),null;case 24:return null;case 25:return null}throw Error(Ue(156,e.tag))}function UH(t,e){switch(nC(e),e.tag){case 1:return ss(e.type)&&wg(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Cd(),ai(ns),ai(Nn),hC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dC(e),null;case 13:if(ai(gi),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Ue(340));Sd()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ai(gi),null;case 4:return Cd(),null;case 10:return oC(e.type._context),null;case 22:case 23:return TC(),null;case 24:return null;default:return null}}var Rm=!1,Rn=!1,BH=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function Vu(t,e){var i=t.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(n){Ci(t,e,n)}else i.current=null}function SA(t,e,i){try{i()}catch(n){Ci(t,e,n)}}var GI=!1;function WH(t,e){if(rA=Tg,t=zU(),tC(t)){if("selectionStart"in t)var i={start:t.selectionStart,end:t.selectionEnd};else e:{i=(i=t.ownerDocument)&&i.defaultView||window;var n=i.getSelection&&i.getSelection();if(n&&n.rangeCount!==0){i=n.anchorNode;var s=n.anchorOffset,r=n.focusNode;n=n.focusOffset;try{i.nodeType,r.nodeType}catch{i=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==i||s!==0&&d.nodeType!==3||(o=a+s),d!==r||n!==0&&d.nodeType!==3||(l=a+n),d.nodeType===3&&(a+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===i&&++c===s&&(o=a),h===r&&++u===n&&(l=a),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}i=o===-1||l===-1?null:{start:o,end:l}}else i=null}i=i||{start:0,end:0}}else i=null;for(aA={focusedElem:t,selectionRange:i},Tg=!1,Xe=e;Xe!==null;)if(e=Xe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Xe=t;else for(;Xe!==null;){e=Xe;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,v=p.memoizedState,g=e.stateNode,E=g.getSnapshotBeforeUpdate(e.elementType===e.type?m:hr(e.type,m),v);g.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(R){Ci(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,Xe=t;break}Xe=e.return}return p=GI,GI=!1,p}function $f(t,e,i){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var r=s.destroy;s.destroy=void 0,r!==void 0&&SA(e,i,r)}s=s.next}while(s!==n)}}function vy(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var i=e=e.next;do{if((i.tag&t)===t){var n=i.create;i.destroy=n()}i=i.next}while(i!==e)}}function TA(t){var e=t.ref;if(e!==null){var i=t.stateNode;switch(t.tag){case 5:t=i;break;default:t=i}typeof e=="function"?e(t):e.current=t}}function XB(t){var e=t.alternate;e!==null&&(t.alternate=null,XB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Qr],delete e[Sp],delete e[cA],delete e[vH],delete e[EH])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YB(t){return t.tag===5||t.tag===3||t.tag===4}function DI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function CA(t,e,i){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?i.nodeType===8?i.parentNode.insertBefore(t,e):i.insertBefore(t,e):(i.nodeType===8?(e=i.parentNode,e.insertBefore(t,i)):(e=i,e.appendChild(t)),i=i._reactRootContainer,i!=null||e.onclick!==null||(e.onclick=Ig));else if(n!==4&&(t=t.child,t!==null))for(CA(t,e,i),t=t.sibling;t!==null;)CA(t,e,i),t=t.sibling}function RA(t,e,i){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?i.insertBefore(t,e):i.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(RA(t,e,i),t=t.sibling;t!==null;)RA(t,e,i),t=t.sibling}var dn=null,pr=!1;function _o(t,e,i){for(i=i.child;i!==null;)$B(t,e,i),i=i.sibling}function $B(t,e,i){if(aa&&typeof aa.onCommitFiberUnmount=="function")try{aa.onCommitFiberUnmount(dy,i)}catch{}switch(i.tag){case 5:Rn||Vu(i,e);case 6:var n=dn,s=pr;dn=null,_o(t,e,i),dn=n,pr=s,dn!==null&&(pr?(t=dn,i=i.stateNode,t.nodeType===8?t.parentNode.removeChild(i):t.removeChild(i)):dn.removeChild(i.stateNode));break;case 18:dn!==null&&(pr?(t=dn,i=i.stateNode,t.nodeType===8?dv(t.parentNode,i):t.nodeType===1&&dv(t,i),yp(t)):dv(dn,i.stateNode));break;case 4:n=dn,s=pr,dn=i.stateNode.containerInfo,pr=!0,_o(t,e,i),dn=n,pr=s;break;case 0:case 11:case 14:case 15:if(!Rn&&(n=i.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var r=s,a=r.destroy;r=r.tag,a!==void 0&&(r&2||r&4)&&SA(i,e,a),s=s.next}while(s!==n)}_o(t,e,i);break;case 1:if(!Rn&&(Vu(i,e),n=i.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=i.memoizedProps,n.state=i.memoizedState,n.componentWillUnmount()}catch(o){Ci(i,e,o)}_o(t,e,i);break;case 21:_o(t,e,i);break;case 22:i.mode&1?(Rn=(n=Rn)||i.memoizedState!==null,_o(t,e,i),Rn=n):_o(t,e,i);break;default:_o(t,e,i)}}function MI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var i=t.stateNode;i===null&&(i=t.stateNode=new BH),e.forEach(function(n){var s=$H.bind(null,t,n);i.has(n)||(i.add(n),n.then(s,s))})}}function ar(t,e){var i=e.deletions;if(i!==null)for(var n=0;n<i.length;n++){var s=i[n];try{var r=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:dn=o.stateNode,pr=!1;break e;case 3:dn=o.stateNode.containerInfo,pr=!0;break e;case 4:dn=o.stateNode.containerInfo,pr=!0;break e}o=o.return}if(dn===null)throw Error(Ue(160));$B(r,a,s),dn=null,pr=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ci(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KB(e,t),e=e.sibling}function KB(t,e){var i=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ar(e,t),Nr(t),n&4){try{$f(3,t,t.return),vy(3,t)}catch(m){Ci(t,t.return,m)}try{$f(5,t,t.return)}catch(m){Ci(t,t.return,m)}}break;case 1:ar(e,t),Nr(t),n&512&&i!==null&&Vu(i,i.return);break;case 5:if(ar(e,t),Nr(t),n&512&&i!==null&&Vu(i,i.return),t.flags&32){var s=t.stateNode;try{fp(s,"")}catch(m){Ci(t,t.return,m)}}if(n&4&&(s=t.stateNode,s!=null)){var r=t.memoizedProps,a=i!==null?i.memoizedProps:r,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&r.type==="radio"&&r.name!=null&&mU(s,r),J5(o,a);var c=J5(o,r);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?EU(s,d):u==="dangerouslySetInnerHTML"?bU(s,d):u==="children"?fp(s,d):PT(s,u,d,c)}switch(o){case"input":X5(s,r);break;case"textarea":gU(s,r);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!r.multiple;var f=r.value;f!=null?Ou(s,!!r.multiple,f,!1):h!==!!r.multiple&&(r.defaultValue!=null?Ou(s,!!r.multiple,r.defaultValue,!0):Ou(s,!!r.multiple,r.multiple?[]:"",!1))}s[Sp]=r}catch(m){Ci(t,t.return,m)}}break;case 6:if(ar(e,t),Nr(t),n&4){if(t.stateNode===null)throw Error(Ue(162));s=t.stateNode,r=t.memoizedProps;try{s.nodeValue=r}catch(m){Ci(t,t.return,m)}}break;case 3:if(ar(e,t),Nr(t),n&4&&i!==null&&i.memoizedState.isDehydrated)try{yp(e.containerInfo)}catch(m){Ci(t,t.return,m)}break;case 4:ar(e,t),Nr(t);break;case 13:ar(e,t),Nr(t),s=t.child,s.flags&8192&&(r=s.memoizedState!==null,s.stateNode.isHidden=r,!r||s.alternate!==null&&s.alternate.memoizedState!==null||(AC=xi())),n&4&&MI(t);break;case 22:if(u=i!==null&&i.memoizedState!==null,t.mode&1?(Rn=(c=Rn)||u,ar(e,t),Rn=c):ar(e,t),Nr(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Xe=t,u=t.child;u!==null;){for(d=Xe=u;Xe!==null;){switch(h=Xe,f=h.child,h.tag){case 0:case 11:case 14:case 15:$f(4,h,h.return);break;case 1:Vu(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){n=h,i=h.return;try{e=n,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(m){Ci(n,i,m)}}break;case 5:Vu(h,h.return);break;case 22:if(h.memoizedState!==null){PI(d);continue}}f!==null?(f.return=h,Xe=f):PI(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{s=d.stateNode,c?(r=s.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=vU("display",a))}catch(m){Ci(t,t.return,m)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(m){Ci(t,t.return,m)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ar(e,t),Nr(t),n&4&&MI(t);break;case 21:break;default:ar(e,t),Nr(t)}}function Nr(t){var e=t.flags;if(e&2){try{e:{for(var i=t.return;i!==null;){if(YB(i)){var n=i;break e}i=i.return}throw Error(Ue(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(fp(s,""),n.flags&=-33);var r=DI(t);RA(t,r,s);break;case 3:case 4:var a=n.stateNode.containerInfo,o=DI(t);CA(t,o,a);break;default:throw Error(Ue(161))}}catch(l){Ci(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function GH(t,e,i){Xe=t,zB(t)}function zB(t,e,i){for(var n=(t.mode&1)!==0;Xe!==null;){var s=Xe,r=s.child;if(s.tag===22&&n){var a=s.memoizedState!==null||Rm;if(!a){var o=s.alternate,l=o!==null&&o.memoizedState!==null||Rn;o=Rm;var c=Rn;if(Rm=a,(Rn=l)&&!c)for(Xe=s;Xe!==null;)a=Xe,l=a.child,a.tag===22&&a.memoizedState!==null?OI(s):l!==null?(l.return=a,Xe=l):OI(s);for(;r!==null;)Xe=r,zB(r),r=r.sibling;Xe=s,Rm=o,Rn=c}ZI(t)}else s.subtreeFlags&8772&&r!==null?(r.return=s,Xe=r):ZI(t)}}function ZI(t){for(;Xe!==null;){var e=Xe;if(e.flags&8772){var i=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rn||vy(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Rn)if(i===null)n.componentDidMount();else{var s=e.elementType===e.type?i.memoizedProps:hr(e.type,i.memoizedProps);n.componentDidUpdate(s,i.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var r=e.updateQueue;r!==null&&RI(e,r,n);break;case 3:var a=e.updateQueue;if(a!==null){if(i=null,e.child!==null)switch(e.child.tag){case 5:i=e.child.stateNode;break;case 1:i=e.child.stateNode}RI(e,a,i)}break;case 5:var o=e.stateNode;if(i===null&&e.flags&4){i=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&i.focus();break;case"img":l.src&&(i.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&yp(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}Rn||e.flags&512&&TA(e)}catch(h){Ci(e,e.return,h)}}if(e===t){Xe=null;break}if(i=e.sibling,i!==null){i.return=e.return,Xe=i;break}Xe=e.return}}function PI(t){for(;Xe!==null;){var e=Xe;if(e===t){Xe=null;break}var i=e.sibling;if(i!==null){i.return=e.return,Xe=i;break}Xe=e.return}}function OI(t){for(;Xe!==null;){var e=Xe;try{switch(e.tag){case 0:case 11:case 15:var i=e.return;try{vy(4,e)}catch(l){Ci(e,i,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){Ci(e,s,l)}}var r=e.return;try{TA(e)}catch(l){Ci(e,r,l)}break;case 5:var a=e.return;try{TA(e)}catch(l){Ci(e,a,l)}}}catch(l){Ci(e,e.return,l)}if(e===t){Xe=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Xe=o;break}Xe=e.return}}var DH=Math.ceil,Wg=bo.ReactCurrentDispatcher,vC=bo.ReactCurrentOwner,Xs=bo.ReactCurrentBatchConfig,Ct=0,rn=null,Mi=null,vn=0,bs=0,Lu=bl(0),$i=0,_p=null,Ac=0,Ey=0,EC=0,Kf=null,Hn=null,AC=0,Id=1/0,wa=null,Gg=!1,IA=null,al=null,Im=!1,Jo=null,Dg=0,zf=0,wA=null,L1=-1,k1=0;function On(){return Ct&6?xi():L1!==-1?L1:L1=xi()}function ol(t){return t.mode&1?Ct&2&&vn!==0?vn&-vn:SH.transition!==null?(k1===0&&(k1=LU()),k1):(t=Dt,t!==0||(t=window.event,t=t===void 0?16:DU(t.type)),t):1}function Ar(t,e,i,n){if(50<zf)throw zf=0,wA=null,Error(Ue(185));r0(t,i,n),(!(Ct&2)||t!==rn)&&(t===rn&&(!(Ct&2)&&(Ey|=i),$i===4&&Ko(t,vn)),rs(t,n),i===1&&Ct===0&&!(e.mode&1)&&(Id=xi()+500,gy&&vl()))}function rs(t,e){var i=t.callbackNode;Sj(t,e);var n=Sg(t,t===rn?vn:0);if(n===0)i!==null&&Q8(i),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(i!=null&&Q8(i),e===1)t.tag===0?AH(XI.bind(null,t)):sB(XI.bind(null,t)),yH(function(){!(Ct&6)&&vl()}),i=null;else{switch(kU(n)){case 1:i=KT;break;case 4:i=NU;break;case 16:i=Ag;break;case 536870912:i=VU;break;default:i=Ag}i=iW(i,JB.bind(null,t))}t.callbackPriority=e,t.callbackNode=i}}function JB(t,e){if(L1=-1,k1=0,Ct&6)throw Error(Ue(327));var i=t.callbackNode;if(zu()&&t.callbackNode!==i)return null;var n=Sg(t,t===rn?vn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Mg(t,n);else{e=n;var s=Ct;Ct|=2;var r=HB();(rn!==t||vn!==e)&&(wa=null,Id=xi()+500,rc(t,e));do try{PH();break}catch(o){jB(t,o)}while(!0);aC(),Wg.current=r,Ct=s,Mi!==null?e=0:(rn=null,vn=0,e=$i)}if(e!==0){if(e===2&&(s=eA(t),s!==0&&(n=s,e=_A(t,s))),e===1)throw i=_p,rc(t,0),Ko(t,n),rs(t,xi()),i;if(e===6)Ko(t,n);else{if(s=t.current.alternate,!(n&30)&&!MH(s)&&(e=Mg(t,n),e===2&&(r=eA(t),r!==0&&(n=r,e=_A(t,r))),e===1))throw i=_p,rc(t,0),Ko(t,n),rs(t,xi()),i;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(Ue(345));case 2:Bl(t,Hn,wa);break;case 3:if(Ko(t,n),(n&130023424)===n&&(e=AC+500-xi(),10<e)){if(Sg(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){On(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=lA(Bl.bind(null,t,Hn,wa),e);break}Bl(t,Hn,wa);break;case 4:if(Ko(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var a=31-Er(n);r=1<<a,a=e[a],a>s&&(s=a),n&=~r}if(n=s,n=xi()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*DH(n/1960))-n,10<n){t.timeoutHandle=lA(Bl.bind(null,t,Hn,wa),n);break}Bl(t,Hn,wa);break;case 5:Bl(t,Hn,wa);break;default:throw Error(Ue(329))}}}return rs(t,xi()),t.callbackNode===i?JB.bind(null,t):null}function _A(t,e){var i=Kf;return t.current.memoizedState.isDehydrated&&(rc(t,e).flags|=256),t=Mg(t,e),t!==2&&(e=Hn,Hn=i,e!==null&&xA(e)),t}function xA(t){Hn===null?Hn=t:Hn.push.apply(Hn,t)}function MH(t){for(var e=t;;){if(e.flags&16384){var i=e.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var n=0;n<i.length;n++){var s=i[n],r=s.getSnapshot;s=s.value;try{if(!Rr(r(),s))return!1}catch{return!1}}}if(i=e.child,e.subtreeFlags&16384&&i!==null)i.return=e,e=i;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ko(t,e){for(e&=~EC,e&=~Ey,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var i=31-Er(e),n=1<<i;t[i]=-1,e&=~n}}function XI(t){if(Ct&6)throw Error(Ue(327));zu();var e=Sg(t,0);if(!(e&1))return rs(t,xi()),null;var i=Mg(t,e);if(t.tag!==0&&i===2){var n=eA(t);n!==0&&(e=n,i=_A(t,n))}if(i===1)throw i=_p,rc(t,0),Ko(t,e),rs(t,xi()),i;if(i===6)throw Error(Ue(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Bl(t,Hn,wa),rs(t,xi()),null}function SC(t,e){var i=Ct;Ct|=1;try{return t(e)}finally{Ct=i,Ct===0&&(Id=xi()+500,gy&&vl())}}function Sc(t){Jo!==null&&Jo.tag===0&&!(Ct&6)&&zu();var e=Ct;Ct|=1;var i=Xs.transition,n=Dt;try{if(Xs.transition=null,Dt=1,t)return t()}finally{Dt=n,Xs.transition=i,Ct=e,!(Ct&6)&&vl()}}function TC(){bs=Lu.current,ai(Lu)}function rc(t,e){t.finishedWork=null,t.finishedLanes=0;var i=t.timeoutHandle;if(i!==-1&&(t.timeoutHandle=-1,gH(i)),Mi!==null)for(i=Mi.return;i!==null;){var n=i;switch(nC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&wg();break;case 3:Cd(),ai(ns),ai(Nn),hC();break;case 5:dC(n);break;case 4:Cd();break;case 13:ai(gi);break;case 19:ai(gi);break;case 10:oC(n.type._context);break;case 22:case 23:TC()}i=i.return}if(rn=t,Mi=t=ll(t.current,null),vn=bs=e,$i=0,_p=null,EC=Ey=Ac=0,Hn=Kf=null,Yl!==null){for(e=0;e<Yl.length;e++)if(i=Yl[e],n=i.interleaved,n!==null){i.interleaved=null;var s=n.next,r=i.pending;if(r!==null){var a=r.next;r.next=s,n.next=a}i.pending=n}Yl=null}return t}function jB(t,e){do{var i=Mi;try{if(aC(),x1.current=Bg,Ug){for(var n=bi.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ug=!1}if(Ec=0,Hi=Yi=bi=null,Yf=!1,Rp=0,vC.current=null,i===null||i.return===null){$i=1,_p=e,Mi=null;break}e:{var r=t,a=i.return,o=i,l=e;if(e=vn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=VI(a);if(f!==null){f.flags&=-257,LI(f,a,o,r,e),f.mode&1&&NI(r,c,e),e=f,l=c;var p=e.updateQueue;if(p===null){var m=new Set;m.add(l),e.updateQueue=m}else p.add(l);break e}else{if(!(e&1)){NI(r,c,e),CC();break e}l=Error(Ue(426))}}else if(fi&&o.mode&1){var v=VI(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),LI(v,a,o,r,e),sC(Rd(l,o));break e}}r=l=Rd(l,o),$i!==4&&($i=2),Kf===null?Kf=[r]:Kf.push(r),r=a;do{switch(r.tag){case 3:r.flags|=65536,e&=-e,r.lanes|=e;var g=kB(r,l,e);CI(r,g);break e;case 1:o=l;var E=r.type,A=r.stateNode;if(!(r.flags&128)&&(typeof E.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(al===null||!al.has(A)))){r.flags|=65536,e&=-e,r.lanes|=e;var R=FB(r,o,e);CI(r,R);break e}}r=r.return}while(r!==null)}qB(i)}catch(I){e=I,Mi===i&&i!==null&&(Mi=i=i.return);continue}break}while(!0)}function HB(){var t=Wg.current;return Wg.current=Bg,t===null?Bg:t}function CC(){($i===0||$i===3||$i===2)&&($i=4),rn===null||!(Ac&268435455)&&!(Ey&268435455)||Ko(rn,vn)}function Mg(t,e){var i=Ct;Ct|=2;var n=HB();(rn!==t||vn!==e)&&(wa=null,rc(t,e));do try{ZH();break}catch(s){jB(t,s)}while(!0);if(aC(),Ct=i,Wg.current=n,Mi!==null)throw Error(Ue(261));return rn=null,vn=0,$i}function ZH(){for(;Mi!==null;)QB(Mi)}function PH(){for(;Mi!==null&&!fj();)QB(Mi)}function QB(t){var e=tW(t.alternate,t,bs);t.memoizedProps=t.pendingProps,e===null?qB(t):Mi=e,vC.current=null}function qB(t){var e=t;do{var i=e.alternate;if(t=e.return,e.flags&32768){if(i=UH(i,e),i!==null){i.flags&=32767,Mi=i;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{$i=6,Mi=null;return}}else if(i=FH(i,e,bs),i!==null){Mi=i;return}if(e=e.sibling,e!==null){Mi=e;return}Mi=e=t}while(e!==null);$i===0&&($i=5)}function Bl(t,e,i){var n=Dt,s=Xs.transition;try{Xs.transition=null,Dt=1,OH(t,e,i,n)}finally{Xs.transition=s,Dt=n}return null}function OH(t,e,i,n){do zu();while(Jo!==null);if(Ct&6)throw Error(Ue(327));i=t.finishedWork;var s=t.finishedLanes;if(i===null)return null;if(t.finishedWork=null,t.finishedLanes=0,i===t.current)throw Error(Ue(177));t.callbackNode=null,t.callbackPriority=0;var r=i.lanes|i.childLanes;if(Tj(t,r),t===rn&&(Mi=rn=null,vn=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||Im||(Im=!0,iW(Ag,function(){return zu(),null})),r=(i.flags&15990)!==0,i.subtreeFlags&15990||r){r=Xs.transition,Xs.transition=null;var a=Dt;Dt=1;var o=Ct;Ct|=4,vC.current=null,WH(t,i),KB(i,t),cH(aA),Tg=!!rA,aA=rA=null,t.current=i,GH(i),pj(),Ct=o,Dt=a,Xs.transition=r}else t.current=i;if(Im&&(Im=!1,Jo=t,Dg=s),r=t.pendingLanes,r===0&&(al=null),yj(i.stateNode),rs(t,xi()),e!==null)for(n=t.onRecoverableError,i=0;i<e.length;i++)s=e[i],n(s.value,{componentStack:s.stack,digest:s.digest});if(Gg)throw Gg=!1,t=IA,IA=null,t;return Dg&1&&t.tag!==0&&zu(),r=t.pendingLanes,r&1?t===wA?zf++:(zf=0,wA=t):zf=0,vl(),null}function zu(){if(Jo!==null){var t=kU(Dg),e=Xs.transition,i=Dt;try{if(Xs.transition=null,Dt=16>t?16:t,Jo===null)var n=!1;else{if(t=Jo,Jo=null,Dg=0,Ct&6)throw Error(Ue(331));var s=Ct;for(Ct|=4,Xe=t.current;Xe!==null;){var r=Xe,a=r.child;if(Xe.flags&16){var o=r.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Xe=c;Xe!==null;){var u=Xe;switch(u.tag){case 0:case 11:case 15:$f(8,u,r)}var d=u.child;if(d!==null)d.return=u,Xe=d;else for(;Xe!==null;){u=Xe;var h=u.sibling,f=u.return;if(XB(u),u===c){Xe=null;break}if(h!==null){h.return=f,Xe=h;break}Xe=f}}}var p=r.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(m!==null)}}Xe=r}}if(r.subtreeFlags&2064&&a!==null)a.return=r,Xe=a;else e:for(;Xe!==null;){if(r=Xe,r.flags&2048)switch(r.tag){case 0:case 11:case 15:$f(9,r,r.return)}var g=r.sibling;if(g!==null){g.return=r.return,Xe=g;break e}Xe=r.return}}var E=t.current;for(Xe=E;Xe!==null;){a=Xe;var A=a.child;if(a.subtreeFlags&2064&&A!==null)A.return=a,Xe=A;else e:for(a=E;Xe!==null;){if(o=Xe,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:vy(9,o)}}catch(I){Ci(o,o.return,I)}if(o===a){Xe=null;break e}var R=o.sibling;if(R!==null){R.return=o.return,Xe=R;break e}Xe=o.return}}if(Ct=s,vl(),aa&&typeof aa.onPostCommitFiberRoot=="function")try{aa.onPostCommitFiberRoot(dy,t)}catch{}n=!0}return n}finally{Dt=i,Xs.transition=e}}return!1}function YI(t,e,i){e=Rd(i,e),e=kB(t,e,1),t=rl(t,e,1),e=On(),t!==null&&(r0(t,1,e),rs(t,e))}function Ci(t,e,i){if(t.tag===3)YI(t,t,i);else for(;e!==null;){if(e.tag===3){YI(e,t,i);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(al===null||!al.has(n))){t=Rd(i,t),t=FB(e,t,1),e=rl(e,t,1),t=On(),e!==null&&(r0(e,1,t),rs(e,t));break}}e=e.return}}function XH(t,e,i){var n=t.pingCache;n!==null&&n.delete(e),e=On(),t.pingedLanes|=t.suspendedLanes&i,rn===t&&(vn&i)===i&&($i===4||$i===3&&(vn&130023424)===vn&&500>xi()-AC?rc(t,0):EC|=i),rs(t,e)}function eW(t,e){e===0&&(t.mode&1?(e=gm,gm<<=1,!(gm&130023424)&&(gm=4194304)):e=1);var i=On();t=uo(t,e),t!==null&&(r0(t,e,i),rs(t,i))}function YH(t){var e=t.memoizedState,i=0;e!==null&&(i=e.retryLane),eW(t,i)}function $H(t,e){var i=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(i=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Ue(314))}n!==null&&n.delete(e),eW(t,i)}var tW;tW=function(t,e,i){if(t!==null)if(t.memoizedProps!==e.pendingProps||ns.current)is=!0;else{if(!(t.lanes&i)&&!(e.flags&128))return is=!1,kH(t,e,i);is=!!(t.flags&131072)}else is=!1,fi&&e.flags&1048576&&rB(e,Ng,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;V1(t,e),t=e.pendingProps;var s=Ad(e,Nn.current);Ku(e,i),s=pC(null,e,n,t,s,i);var r=mC();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ss(n)?(r=!0,_g(e)):r=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,cC(e),s.updater=by,e.stateNode=s,s._reactInternals=e,mA(e,n,t,i),e=bA(null,e,n,!0,r,i)):(e.tag=0,fi&&r&&iC(e),Wn(null,e,s,i),e=e.child),e;case 16:n=e.elementType;e:{switch(V1(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=zH(n),t=hr(n,t),s){case 0:e=yA(null,e,n,t,i);break e;case 1:e=UI(null,e,n,t,i);break e;case 11:e=kI(null,e,n,t,i);break e;case 14:e=FI(null,e,n,hr(n.type,t),i);break e}throw Error(Ue(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:hr(n,s),yA(t,e,n,s,i);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:hr(n,s),UI(t,e,n,s,i);case 3:e:{if(GB(e),t===null)throw Error(Ue(387));n=e.pendingProps,r=e.memoizedState,s=r.element,dB(t,e),kg(e,n,null,i);var a=e.memoizedState;if(n=a.element,r.isDehydrated)if(r={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=r,e.memoizedState=r,e.flags&256){s=Rd(Error(Ue(423)),e),e=BI(t,e,n,i,s);break e}else if(n!==s){s=Rd(Error(Ue(424)),e),e=BI(t,e,n,i,s);break e}else for(Es=sl(e.stateNode.containerInfo.firstChild),Ss=e,fi=!0,mr=null,i=cB(e,null,n,i),e.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Sd(),n===s){e=ho(t,e,i);break e}Wn(t,e,n,i)}e=e.child}return e;case 5:return hB(e),t===null&&hA(e),n=e.type,s=e.pendingProps,r=t!==null?t.memoizedProps:null,a=s.children,oA(n,s)?a=null:r!==null&&oA(n,r)&&(e.flags|=32),WB(t,e),Wn(t,e,a,i),e.child;case 6:return t===null&&hA(e),null;case 13:return DB(t,e,i);case 4:return uC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Td(e,null,n,i):Wn(t,e,n,i),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:hr(n,s),kI(t,e,n,s,i);case 7:return Wn(t,e,e.pendingProps,i),e.child;case 8:return Wn(t,e,e.pendingProps.children,i),e.child;case 12:return Wn(t,e,e.pendingProps.children,i),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,r=e.memoizedProps,a=s.value,Qt(Vg,n._currentValue),n._currentValue=a,r!==null)if(Rr(r.value,a)){if(r.children===s.children&&!ns.current){e=ho(t,e,i);break e}}else for(r=e.child,r!==null&&(r.return=e);r!==null;){var o=r.dependencies;if(o!==null){a=r.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(r.tag===1){l=so(-1,i&-i),l.tag=2;var c=r.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}r.lanes|=i,l=r.alternate,l!==null&&(l.lanes|=i),fA(r.return,i,e),o.lanes|=i;break}l=l.next}}else if(r.tag===10)a=r.type===e.type?null:r.child;else if(r.tag===18){if(a=r.return,a===null)throw Error(Ue(341));a.lanes|=i,o=a.alternate,o!==null&&(o.lanes|=i),fA(a,i,e),a=r.sibling}else a=r.child;if(a!==null)a.return=r;else for(a=r;a!==null;){if(a===e){a=null;break}if(r=a.sibling,r!==null){r.return=a.return,a=r;break}a=a.return}r=a}Wn(t,e,s.children,i),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Ku(e,i),s=Js(s),n=n(s),e.flags|=1,Wn(t,e,n,i),e.child;case 14:return n=e.type,s=hr(n,e.pendingProps),s=hr(n.type,s),FI(t,e,n,s,i);case 15:return UB(t,e,e.type,e.pendingProps,i);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:hr(n,s),V1(t,e),e.tag=1,ss(n)?(t=!0,_g(e)):t=!1,Ku(e,i),LB(e,n,s),mA(e,n,s,i),bA(null,e,n,!0,t,i);case 19:return MB(t,e,i);case 22:return BB(t,e,i)}throw Error(Ue(156,e.tag))};function iW(t,e){return xU(t,e)}function KH(t,e,i,n){this.tag=t,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Os(t,e,i,n){return new KH(t,e,i,n)}function RC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zH(t){if(typeof t=="function")return RC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===XT)return 11;if(t===YT)return 14}return 2}function ll(t,e){var i=t.alternate;return i===null?(i=Os(t.tag,e,t.key,t.mode),i.elementType=t.elementType,i.type=t.type,i.stateNode=t.stateNode,i.alternate=t,t.alternate=i):(i.pendingProps=e,i.type=t.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=t.flags&14680064,i.childLanes=t.childLanes,i.lanes=t.lanes,i.child=t.child,i.memoizedProps=t.memoizedProps,i.memoizedState=t.memoizedState,i.updateQueue=t.updateQueue,e=t.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},i.sibling=t.sibling,i.index=t.index,i.ref=t.ref,i}function F1(t,e,i,n,s,r){var a=2;if(n=t,typeof t=="function")RC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Su:return ac(i.children,s,r,e);case OT:a=8,s|=8;break;case D5:return t=Os(12,i,e,s|2),t.elementType=D5,t.lanes=r,t;case M5:return t=Os(13,i,e,s),t.elementType=M5,t.lanes=r,t;case Z5:return t=Os(19,i,e,s),t.elementType=Z5,t.lanes=r,t;case hU:return Ay(i,s,r,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case uU:a=10;break e;case dU:a=9;break e;case XT:a=11;break e;case YT:a=14;break e;case Zo:a=16,n=null;break e}throw Error(Ue(130,t==null?t:typeof t,""))}return e=Os(a,i,e,s),e.elementType=t,e.type=n,e.lanes=r,e}function ac(t,e,i,n){return t=Os(7,t,n,e),t.lanes=i,t}function Ay(t,e,i,n){return t=Os(22,t,n,e),t.elementType=hU,t.lanes=i,t.stateNode={isHidden:!1},t}function vv(t,e,i){return t=Os(6,t,null,e),t.lanes=i,t}function Ev(t,e,i){return e=Os(4,t.children!==null?t.children:[],t.key,e),e.lanes=i,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JH(t,e,i,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ev(0),this.expirationTimes=ev(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ev(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function IC(t,e,i,n,s,r,a,o,l){return t=new JH(t,e,i,o,l),e===1?(e=1,r===!0&&(e|=8)):e=0,r=Os(3,null,null,e),t.current=r,r.stateNode=t,r.memoizedState={element:n,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},cC(r),t}function jH(t,e,i){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Au,key:n==null?null:""+n,children:t,containerInfo:e,implementation:i}}function nW(t){if(!t)return fl;t=t._reactInternals;e:{if(Bc(t)!==t||t.tag!==1)throw Error(Ue(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ss(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Ue(171))}if(t.tag===1){var i=t.type;if(ss(i))return nB(t,i,e)}return e}function sW(t,e,i,n,s,r,a,o,l){return t=IC(i,n,!0,t,s,r,a,o,l),t.context=nW(null),i=t.current,n=On(),s=ol(i),r=so(n,s),r.callback=e??null,rl(i,r,s),t.current.lanes=s,r0(t,s,n),rs(t,n),t}function Sy(t,e,i,n){var s=e.current,r=On(),a=ol(s);return i=nW(i),e.context===null?e.context=i:e.pendingContext=i,e=so(r,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=rl(s,e,a),t!==null&&(Ar(t,s,a,r),_1(t,s,a)),a}function Zg(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $I(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var i=t.retryLane;t.retryLane=i!==0&&i<e?i:e}}function wC(t,e){$I(t,e),(t=t.alternate)&&$I(t,e)}function HH(){return null}var rW=typeof reportError=="function"?reportError:function(t){console.error(t)};function _C(t){this._internalRoot=t}Ty.prototype.render=_C.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Ue(409));Sy(t,e,null,null)};Ty.prototype.unmount=_C.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Sc(function(){Sy(null,t,null,null)}),e[co]=null}};function Ty(t){this._internalRoot=t}Ty.prototype.unstable_scheduleHydration=function(t){if(t){var e=BU();t={blockedOn:null,target:t,priority:e};for(var i=0;i<$o.length&&e!==0&&e<$o[i].priority;i++);$o.splice(i,0,t),i===0&&GU(t)}};function xC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Cy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function KI(){}function QH(t,e,i,n,s){if(s){if(typeof n=="function"){var r=n;n=function(){var c=Zg(a);r.call(c)}}var a=sW(e,n,t,0,null,!1,!1,"",KI);return t._reactRootContainer=a,t[co]=a.current,Ep(t.nodeType===8?t.parentNode:t),Sc(),a}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var o=n;n=function(){var c=Zg(l);o.call(c)}}var l=IC(t,0,!1,null,null,!1,!1,"",KI);return t._reactRootContainer=l,t[co]=l.current,Ep(t.nodeType===8?t.parentNode:t),Sc(function(){Sy(e,l,i,n)}),l}function Ry(t,e,i,n,s){var r=i._reactRootContainer;if(r){var a=r;if(typeof s=="function"){var o=s;s=function(){var l=Zg(a);o.call(l)}}Sy(e,a,t,s)}else a=QH(i,e,t,s,n);return Zg(a)}FU=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var i=wf(e.pendingLanes);i!==0&&(zT(e,i|1),rs(e,xi()),!(Ct&6)&&(Id=xi()+500,vl()))}break;case 13:Sc(function(){var n=uo(t,1);if(n!==null){var s=On();Ar(n,t,1,s)}}),wC(t,1)}};JT=function(t){if(t.tag===13){var e=uo(t,134217728);if(e!==null){var i=On();Ar(e,t,134217728,i)}wC(t,134217728)}};UU=function(t){if(t.tag===13){var e=ol(t),i=uo(t,e);if(i!==null){var n=On();Ar(i,t,e,n)}wC(t,e)}};BU=function(){return Dt};WU=function(t,e){var i=Dt;try{return Dt=t,e()}finally{Dt=i}};H5=function(t,e,i){switch(e){case"input":if(X5(t,i),e=i.name,i.type==="radio"&&e!=null){for(i=t;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<i.length;e++){var n=i[e];if(n!==t&&n.form===t.form){var s=my(n);if(!s)throw Error(Ue(90));pU(n),X5(n,s)}}}break;case"textarea":gU(t,i);break;case"select":e=i.value,e!=null&&Ou(t,!!i.multiple,e,!1)}};TU=SC;CU=Sc;var qH={usingClientEntryPoint:!1,Events:[o0,Iu,my,AU,SU,SC]},sf={findFiberByHostInstance:Xl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},eQ={bundleType:sf.bundleType,version:sf.version,rendererPackageName:sf.rendererPackageName,rendererConfig:sf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=wU(t),t===null?null:t.stateNode},findFiberByHostInstance:sf.findFiberByHostInstance||HH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wm.isDisabled&&wm.supportsFiber)try{dy=wm.inject(eQ),aa=wm}catch{}}xs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qH;xs.createPortal=function(t,e){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xC(e))throw Error(Ue(200));return jH(t,e,null,i)};xs.createRoot=function(t,e){if(!xC(t))throw Error(Ue(299));var i=!1,n="",s=rW;return e!=null&&(e.unstable_strictMode===!0&&(i=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=IC(t,1,!1,null,null,i,!1,n,s),t[co]=e.current,Ep(t.nodeType===8?t.parentNode:t),new _C(e)};xs.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Ue(188)):(t=Object.keys(t).join(","),Error(Ue(268,t)));return t=wU(e),t=t===null?null:t.stateNode,t};xs.flushSync=function(t){return Sc(t)};xs.hydrate=function(t,e,i){if(!Cy(e))throw Error(Ue(200));return Ry(null,t,e,!0,i)};xs.hydrateRoot=function(t,e,i){if(!xC(t))throw Error(Ue(405));var n=i!=null&&i.hydratedSources||null,s=!1,r="",a=rW;if(i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onRecoverableError!==void 0&&(a=i.onRecoverableError)),e=sW(e,null,t,1,i??null,s,!1,r,a),t[co]=e.current,Ep(t),n)for(t=0;t<n.length;t++)i=n[t],s=i._getVersion,s=s(i._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[i,s]:e.mutableSourceEagerHydrationData.push(i,s);return new Ty(e)};xs.render=function(t,e,i){if(!Cy(e))throw Error(Ue(200));return Ry(null,t,e,!1,i)};xs.unmountComponentAtNode=function(t){if(!Cy(t))throw Error(Ue(40));return t._reactRootContainer?(Sc(function(){Ry(null,null,t,!1,function(){t._reactRootContainer=null,t[co]=null})}),!0):!1};xs.unstable_batchedUpdates=SC;xs.unstable_renderSubtreeIntoContainer=function(t,e,i,n){if(!Cy(i))throw Error(Ue(200));if(t==null||t._reactInternals===void 0)throw Error(Ue(38));return Ry(t,e,i,!1,n)};xs.version="18.3.1-next-f1338f8080-20240426";function aW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(aW)}catch(t){console.error(t)}}aW(),aU.exports=xs;var xp=aU.exports,zI=xp;W5.createRoot=zI.createRoot,W5.hydrateRoot=zI.hydrateRoot;function tQ(t,e,i){let n=new Set(e).add(void 0);return t.listen((s,r,a)=>{n.has(a)&&i(s,r,a)})}var iQ=function(){const e=Array.prototype.slice.call(arguments).filter(Boolean),i={},n=[];e.forEach(r=>{(r?r.split(" "):[]).forEach(o=>{if(o.startsWith("atm_")){const[,l]=o.split("_");i[l]=o}else n.push(o)})});const s=[];for(const r in i)Object.prototype.hasOwnProperty.call(i,r)&&s.push(i[r]);return s.push(...n),s.join(" ")},Ot=iQ;const nQ={BLUE_QUESTION_ACTION_BTN:"#1589ee",WHITE:"#FFFFFF",BLUE:"#2d6ffd",GREY_PRIMARY:"#909395",GREY_PRIMARY_ONBOARDING_INAPP:"#B5B7B8",PRIMARY_1:"#1D7BFF",PRIMARY_2:"#095CD1",PRIMARY_TEXT:"#090E13",SECONDARY_TEXT:"rgba(10, 14, 19, 0.70)",QUESTION_TYPE_ICON:"#1D7BFF",QUESTION_BODY_TEXT:"#090E13",PRESENTED_BY_TEXT:"#090E13",SUCCESS:"#107D57",UNSUCCESS:"#DF2F3B",SECONDARY_RED1:"#DF2F3B",NEUTRALS_WHITE:"#FFFFFF",NEUTRALS_WHITE1:"#FFFFFF",NEUTRALS_GRAY1:"#F7F7F7",NEUTRALS_GRAY2:"#F2F2F1",NEUTRALS_GRAY3:"#E8E8E8",NEUTRALS_GRAY4:"#D9D9D6",NEUTRALS_GRAY5:"#B1B3B3",NEUTRALS_GRAY6:"#888B8D",NEUTRALS_GRAY7:"#6B6F73",NEUTRALS_GRAY9:"#25282A",SDK_CONTAINER_BG:"#F7F7F7",SDK_WHITE_CONTAINER_BG:"#fff",SDK_DARK_CONTAINER_BG:"#fff",SDK_PREDICTION_RESULT_SUCCESS_BG:"#fff",SDK_PREDICTION_RESULT_INCORRECT_BG:"#fff",SDK_PREDICTION_RESULT_SUCCESS_TEXT:"#107D57",SDK_PREDICTION_RESULT_ERROR_TITLE:"#090E13",SDK_PREDICTION_RESULT_ERROR_SUBTITLE:"#DF2F3B",SDK_PREDICTION_RESULT_CLOSE_ICON:"#6B6F73",SDK_PREDICTION_FEEDBACK_SUCCESS_ICON:"#107D57",SDK_PREDICTION_FEEDBACK_INCORRECT_RECT1:"#CD2525",SDK_PREDICTION_FEEDBACK_INCORRECT_RECT2:"#fff",PREDICTION_BG_LINES_CORRECT:"#01AB58",PREDICTION_BG_LINES_INCORRECT:"#888B8D",SKELETON_COLOR_1:"#f1efef",SKELETON_COLOR_2:"#f9f8f8",TABS_CONTAINER_BG:"#F2F2F1",TABS_ACTIVE_BG:"#FFFFFF",TABS_COLOR:"#6B6F73",TABS_ACTIVE_COLOR:"#1D7BFF",CARD_BG:"#FFFFFF",CARD_BORDER:"#fff",BORDER:"#E8E8E8",VOTE_BTN_BG:"#F7F7F7",VOTE_BTN_BORDER:"rgb(232, 232, 232)",VOTE_BTN_DISABLED_BORDER:"#B1B3B3",VOTE_BTN_SELECTED_BORDER:"#25282A",VOTE_BTN_NOT_SELECTED_BORDER:"#E8E8E8",VOTE_BTN_SELECTED_BG:"#FFFFFF",VOTE_BTN_SELECTED_BG_AD_UNIT:"#FFFFFF",VOTE_BTN_NOT_SELECTED_BG:"#FFFFFF",VOTE_BTN_NOT_SELECTED_BG_UNSET:"rgb(196, 196, 196)",VOTED_ANSWER_BG:"#FFFFFF",VOTED_BTN_RCT_BG:"#2d5694",IN_APP_BG:"rgba(255, 255, 255, 0.90)",IN_APP_QUESTION_TYPE_ICON:"#1D7BFF",IN_APP_QUESTION_TYPE_LABEL:"#82899E",IN_APP_QUESTION_QUOTE:"rgba(10, 14, 19, 0.70)",IN_APP_QUESTION_RESULT_SUBTITLE_BG:"#1D7BFF",IN_APP_QUESTION_RESULT_LINE:"#babfc5",QUOTE_BORDER:"#E8E8E8",QUOTE_TEXT:"rgba(10, 14, 19, 0.70)"},sQ={BG_PRIMARY:"#13212b",BG_SECONDARY:"#152430",BG_SECONDARY1:"#435059",BORDER_PRIMARY:"rgba(255, 255, 255, 0.1)",TEXT_PRIMARY:"#f9f9f9",TEXT_PRIMARY1:"#f9f9f9",TEXT_SECONDARY:"rgba(255, 255, 255, 0.8)",TEXT_SECONDARY1:"#878787",WHITE:"#fff"},rQ=["#107D57","#DF2F3B","#DF2F3B","#E8E8E8"],aQ="#cee5de",oQ="#f9d6d8",lQ="#E8E8E8",ro={xs:324,sm:576,md:768,lg:992,xl:1200,xxl:1440};Object.entries(nQ).reduce((t,[e,i])=>`
    ${t}
    --color-${e.toLowerCase().replaceAll("_","-")}: ${i};
  `,"");Object.entries(sQ).reduce((t,[e,i])=>`
    ${t}
    --color-adv-${e.toLowerCase().replaceAll("_","-")}: ${i};
  `,"");function cQ(t){var e=Object.create(null);return function(i){return e[i]===void 0&&(e[i]=t(i)),e[i]}}var uQ=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Av=cQ(function(t){return uQ.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),dQ=t=>t.toUpperCase()===t,hQ=t=>e=>t.indexOf(e)===-1,oW=(t,e)=>{const i={};return Object.keys(t).filter(hQ(e)).forEach(n=>{i[n]=t[n]}),i};function fQ(t,e,i){const n=oW(e,i);if(!t){const s=typeof Av=="function"?{default:Av}:Av;Object.keys(n).forEach(r=>{s.default(r)||delete n[r]})}return n}var pQ=(t,e)=>{};function mQ(t){let e="";return i=>{const n=(r,a)=>{const{as:o=t,class:l=e}=r,c=i.propsAsIs===void 0?!(typeof o=="string"&&o.indexOf("-")===-1&&!dQ(o[0])):i.propsAsIs,u=fQ(c,r,["as","class"]);u.ref=a,u.className=i.atomic?Ot(i.class,u.className||l):Ot(u.className||l,i.class);const{vars:d}=i;if(d){const h={};for(const m in d){const v=d[m],g=v[0],E=v[1]||"",A=typeof g=="function"?g(r):g;pQ(A,i.name),h[`--${m}`]=`${A}${E}`}const f=u.style||{},p=Object.keys(f);p.length>0&&p.forEach(m=>{h[m]=f[m]}),u.style=h}return t.__wyw_meta&&t!==o?(u.as=o,tn.createElement(t,u)):tn.createElement(o,u)},s=tn.forwardRef?tn.forwardRef(n):r=>{const a=oW(r,["innerRef"]);return n(a,r.innerRef)};return s.displayName=i.name,s.__wyw_meta={className:i.class||e,extends:t},s}}var V=mQ,lW={exports:{}},cW={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wd=tn;function gQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yQ=typeof Object.is=="function"?Object.is:gQ,bQ=wd.useState,vQ=wd.useEffect,EQ=wd.useLayoutEffect,AQ=wd.useDebugValue;function SQ(t,e){var i=e(),n=bQ({inst:{value:i,getSnapshot:e}}),s=n[0].inst,r=n[1];return EQ(function(){s.value=i,s.getSnapshot=e,Sv(s)&&r({inst:s})},[t,i,e]),vQ(function(){return Sv(s)&&r({inst:s}),t(function(){Sv(s)&&r({inst:s})})},[t]),AQ(i),i}function Sv(t){var e=t.getSnapshot;t=t.value;try{var i=e();return!yQ(t,i)}catch{return!0}}function TQ(t,e){return e()}var CQ=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?TQ:SQ;cW.useSyncExternalStore=wd.useSyncExternalStore!==void 0?wd.useSyncExternalStore:CQ;lW.exports=cW;var RQ=lW.exports;const Tv=(t,e)=>i=>{t.current!==i&&(t.current=i,e())};function IQ(t,{keys:e,deps:i=[t,e]}={}){const n=tn.useRef();n.current=t.get();const s=tn.useCallback(a=>(Tv(n,a)(t.value),(e==null?void 0:e.length)>0?tQ(t,e,Tv(n,a)):t.listen(Tv(n,a))),i),r=()=>n.current;return tn.useSyncExternalStore?tn.useSyncExternalStore(s,r,r):RQ.useSyncExternalStore(s,r,r)}const dt=IQ,wQ=()=>[!1,t=>{window.requestAnimationFrame(()=>t())}],_Q=tn.useTransition||wQ;var cl;(function(t){t[t.ONBOARDING=1]="ONBOARDING",t[t.QUESTION=2]="QUESTION",t[t.QUESTION_RESOLVED=3]="QUESTION_RESOLVED"})(cl||(cl={}));const xQ="modulepreload",NQ=function(t,e){return new URL(t,e).href},JI={},NC=function(e,i,n){let s=Promise.resolve();if(i&&i.length>0){const a=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(i.map(c=>{if(c=NQ(c,n),c in JI)return;JI[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(!!n)for(let p=a.length-1;p>=0;p--){const m=a[p];if(m.href===c&&(!u||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":xQ,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((p,m)=>{f.addEventListener("load",p),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&r(o.reason);return e().catch(r)})};var VQ=Object.defineProperty,LQ=(t,e,i)=>e in t?VQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,O=(t,e,i)=>LQ(t,typeof e!="symbol"?e+"":e,i);const Tc=globalThis||void 0||self;function Np(t){let e=!1;const i=[];for(let n=0;n<t.length;n++){let s=t.charAt(n);switch(s){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i.push(s),e=!1;break;default:e&&(e=!1,s=s.toUpperCase()),i.push(s);break}}return i.join("")}const kQ=new Set(["constructor","toString","toJSON","valueOf"]);function Vp(t){return kQ.has(t)?t+"$":t}function FQ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uW={exports:{}},Fi=uW.exports={},Br,Wr;function NA(){throw new Error("setTimeout has not been defined")}function VA(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Br=setTimeout:Br=NA}catch{Br=NA}try{typeof clearTimeout=="function"?Wr=clearTimeout:Wr=VA}catch{Wr=VA}})();function dW(t){if(Br===setTimeout)return setTimeout(t,0);if((Br===NA||!Br)&&setTimeout)return Br=setTimeout,setTimeout(t,0);try{return Br(t,0)}catch{try{return Br.call(null,t,0)}catch{return Br.call(this,t,0)}}}function UQ(t){if(Wr===clearTimeout)return clearTimeout(t);if((Wr===VA||!Wr)&&clearTimeout)return Wr=clearTimeout,clearTimeout(t);try{return Wr(t)}catch{try{return Wr.call(null,t)}catch{return Wr.call(this,t)}}}var za=[],Ju=!1,Kl,U1=-1;function BQ(){!Ju||!Kl||(Ju=!1,Kl.length?za=Kl.concat(za):U1=-1,za.length&&hW())}function hW(){if(!Ju){var t=dW(BQ);Ju=!0;for(var e=za.length;e;){for(Kl=za,za=[];++U1<e;)Kl&&Kl[U1].run();U1=-1,e=za.length}Kl=null,Ju=!1,UQ(t)}}Fi.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];za.push(new fW(t,e)),za.length===1&&!Ju&&dW(hW)};function fW(t,e){this.fun=t,this.array=e}fW.prototype.run=function(){this.fun.apply(null,this.array)};Fi.title="browser";Fi.browser=!0;Fi.env={};Fi.argv=[];Fi.version="";Fi.versions={};function vo(){}Fi.on=vo;Fi.addListener=vo;Fi.once=vo;Fi.off=vo;Fi.removeListener=vo;Fi.removeAllListeners=vo;Fi.emit=vo;Fi.prependListener=vo;Fi.prependOnceListener=vo;Fi.listeners=function(t){return[]};Fi.binding=function(t){throw new Error("process.binding is not supported")};Fi.cwd=function(){return"/"};Fi.chdir=function(t){throw new Error("process.chdir is not supported")};Fi.umask=function(){return 0};var WQ=uW.exports;const jI=FQ(WQ);function GQ(){let t=0,e=0;for(let n=0;n<28;n+=7){let s=this.buf[this.pos++];if(t|=(s&127)<<n,!(s&128))return this.assertBounds(),[t,e]}let i=this.buf[this.pos++];if(t|=(i&15)<<28,e=(i&112)>>4,!(i&128))return this.assertBounds(),[t,e];for(let n=3;n<=31;n+=7){let s=this.buf[this.pos++];if(e|=(s&127)<<n,!(s&128))return this.assertBounds(),[t,e]}throw new Error("invalid varint")}function Cv(t,e,i){for(let r=0;r<28;r=r+7){const a=t>>>r,o=!(!(a>>>7)&&e==0),l=(o?a|128:a)&255;if(i.push(l),!o)return}const n=t>>>28&15|(e&7)<<4,s=!!(e>>3);if(i.push((s?n|128:n)&255),!!s){for(let r=3;r<31;r=r+7){const a=e>>>r,o=!!(a>>>7),l=(o?a|128:a)&255;if(i.push(l),!o)return}i.push(e>>>31&1)}}const B1=4294967296;function HI(t){const e=t[0]==="-";e&&(t=t.slice(1));const i=1e6;let n=0,s=0;function r(a,o){const l=Number(t.slice(a,o));s*=i,n=n*i+l,n>=B1&&(s=s+(n/B1|0),n=n%B1)}return r(-24,-18),r(-18,-12),r(-12,-6),r(-6),e?mW(n,s):VC(n,s)}function DQ(t,e){let i=VC(t,e);const n=i.hi&2147483648;n&&(i=mW(i.lo,i.hi));const s=pW(i.lo,i.hi);return n?"-"+s:s}function pW(t,e){if({lo:t,hi:e}=MQ(t,e),e<=2097151)return String(B1*e+t);const i=t&16777215,n=(t>>>24|e<<8)&16777215,s=e>>16&65535;let r=i+n*6777216+s*6710656,a=n+s*8147497,o=s*2;const l=1e7;return r>=l&&(a+=Math.floor(r/l),r%=l),a>=l&&(o+=Math.floor(a/l),a%=l),o.toString()+QI(a)+QI(r)}function MQ(t,e){return{lo:t>>>0,hi:e>>>0}}function VC(t,e){return{lo:t|0,hi:e|0}}function mW(t,e){return e=~e,t?t=~t+1:e+=1,VC(t,e)}const QI=t=>{const e=String(t);return"0000000".slice(e.length)+e};function qI(t,e){if(t>=0){for(;t>127;)e.push(t&127|128),t=t>>>7;e.push(t)}else{for(let i=0;i<9;i++)e.push(t&127|128),t=t>>7;e.push(1)}}function ZQ(){let t=this.buf[this.pos++],e=t&127;if(!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,!(t&128))return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let i=5;t&128&&i<10;i++)t=this.buf[this.pos++];if(t&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}const pi=PQ();function PQ(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof jI!="object"||typeof jI.env!="object"||!1)){const i=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),s=BigInt("0"),r=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(a){const o=typeof a=="bigint"?a:BigInt(a);if(o>n||o<i)throw new Error(`invalid int64: ${a}`);return o},uParse(a){const o=typeof a=="bigint"?a:BigInt(a);if(o>r||o<s)throw new Error(`invalid uint64: ${a}`);return o},enc(a){return t.setBigInt64(0,this.parse(a),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(a){return t.setBigInt64(0,this.uParse(a),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(a,o){return t.setInt32(0,a,!0),t.setInt32(4,o,!0),t.getBigInt64(0,!0)},uDec(a,o){return t.setInt32(0,a,!0),t.setInt32(4,o,!0),t.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),e6(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),t6(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),e6(i),HI(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),t6(i),HI(i)},dec(i,n){return DQ(i,n)},uDec(i,n){return pW(i,n)}}}function e6(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}function t6(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}var oe;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(oe||(oe={}));function Cc(t,e){switch(t){case oe.STRING:return"";case oe.BOOL:return!1;default:return 0;case oe.DOUBLE:case oe.FLOAT:return 0;case oe.INT64:case oe.UINT64:case oe.SFIXED64:case oe.FIXED64:case oe.SINT64:return e?"0":pi.zero;case oe.BYTES:return new Uint8Array(0)}}function OQ(t,e){switch(t){case oe.BOOL:return e===!1;case oe.STRING:return e==="";case oe.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}const gW=2,Ja=Symbol.for("reflect unsafe local");function yW(t,e){const i=t[e.localName].case;return i===void 0?i:e.fields.find(n=>n.localName===i)}function XQ(t,e){const i=e.localName;if(e.oneof)return t[e.oneof.localName].case===i;if(e.presence!=gW)return t[i]!==void 0&&Object.prototype.hasOwnProperty.call(t,i);switch(e.fieldKind){case"list":return t[i].length>0;case"map":return Object.keys(t[i]).length>0;case"scalar":return!OQ(e.scalar,t[i]);case"enum":return t[i]!==e.enum.values[0].number}throw new Error("message field with implicit presence")}function Lp(t,e){return Object.prototype.hasOwnProperty.call(t,e)&&t[e]!==void 0}function bW(t,e){if(e.oneof){const i=t[e.oneof.localName];return i.case===e.localName?i.value:void 0}return t[e.localName]}function vW(t,e,i){e.oneof?t[e.oneof.localName]={case:e.localName,value:i}:t[e.localName]=i}function YQ(t,e){const i=e.localName;if(e.oneof){const n=e.oneof.localName;t[n].case===i&&(t[n]={case:void 0})}else if(e.presence!=gW)delete t[i];else switch(e.fieldKind){case"map":t[i]={};break;case"list":t[i]=[];break;case"enum":t[i]=e.enum.values[0].number;break;case"scalar":t[i]=Cc(e.scalar,e.longAsString);break}}function LC(t){for(const e of t.field)Lp(e,"jsonName")||(e.jsonName=Np(e.name));t.nestedType.forEach(LC)}function $Q(t,e){const i=t.values.find(n=>n.name===e);if(!i)throw new Error(`cannot parse ${t} default value: ${e}`);return i.number}function KQ(t,e){switch(t){case oe.STRING:return e;case oe.BYTES:{const i=zQ(e);if(i===!1)throw new Error(`cannot parse ${oe[t]} default value: ${e}`);return i}case oe.INT64:case oe.SFIXED64:case oe.SINT64:return pi.parse(e);case oe.UINT64:case oe.FIXED64:return pi.uParse(e);case oe.DOUBLE:case oe.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case oe.BOOL:return e==="true";case oe.INT32:case oe.UINT32:case oe.SINT32:case oe.FIXED32:case oe.SFIXED32:return parseInt(e,10)}}function zQ(t){const e=[],i={tail:t,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(n){if(this.tail.length>=n){const s=this.tail.substring(0,n);return this.tail=this.tail.substring(n),s}return!1}};for(;i.next();)switch(i.c){case"\\":if(i.next())switch(i.c){case"\\":e.push(i.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const n=i.c,s=i.take(2);if(s===!1)return!1;const r=parseInt(n+s,8);if(isNaN(r))return!1;e.push(r);break}case"x":{const n=i.c,s=i.take(2);if(s===!1)return!1;const r=parseInt(n+s,16);if(isNaN(r))return!1;e.push(r);break}case"u":{const n=i.c,s=i.take(4);if(s===!1)return!1;const r=parseInt(n+s,16);if(isNaN(r))return!1;const a=new Uint8Array(4);new DataView(a.buffer).setInt32(0,r,!0),e.push(a[0],a[1],a[2],a[3]);break}case"U":{const n=i.c,s=i.take(8);if(s===!1)return!1;const r=pi.uEnc(n+s),a=new Uint8Array(8),o=new DataView(a.buffer);o.setInt32(0,r.lo,!0),o.setInt32(4,r.hi,!0),e.push(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]);break}}break;default:e.push(i.c.charCodeAt(0))}return new Uint8Array(e)}function*LA(t){switch(t.kind){case"file":for(const e of t.messages)yield e,yield*LA(e);yield*t.enums,yield*t.services,yield*t.extensions;break;case"message":for(const e of t.nestedMessages)yield e,yield*LA(e);yield*t.nestedEnums,yield*t.nestedExtensions;break}}function EW(...t){const e=JQ();if(!t.length)return e;if("$typeName"in t[0]&&t[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const i of t[0].file)s6(i,e);return e}if("$typeName"in t[0]){let i=function(a){const o=[];for(const l of a.dependency){if(e.getFile(l)!=null||r.has(l))continue;const c=s(l);if(!c)throw new Error(`Unable to resolve ${l}, imported by ${a.name}`);"kind"in c?e.addFile(c,!1,!0):(r.add(c.name),o.push(c))}return o.concat(...o.map(i))};const n=t[0],s=t[1],r=new Set;for(const a of[n,...i(n)].reverse())s6(a,e)}else for(const i of t)for(const n of i.files)e.addFile(n);return e}function JQ(){const t=new Map,e=new Map,i=new Map;return{kind:"registry",types:t,extendees:e,[Symbol.iterator](){return t.values()},get files(){return i.values()},addFile(n,s,r){if(i.set(n.proto.name,n),!s)for(const a of LA(n))this.add(a);if(r)for(const a of n.dependencies)this.addFile(a,s,r)},add(n){if(n.kind=="extension"){let s=e.get(n.extendee.typeName);s||e.set(n.extendee.typeName,s=new Map),s.set(n.number,n)}t.set(n.typeName,n)},get(n){return t.get(n)},getFile(n){return i.get(n)},getMessage(n){const s=t.get(n);return(s==null?void 0:s.kind)=="message"?s:void 0},getEnum(n){const s=t.get(n);return(s==null?void 0:s.kind)=="enum"?s:void 0},getExtension(n){const s=t.get(n);return(s==null?void 0:s.kind)=="extension"?s:void 0},getExtensionFor(n,s){var r;return(r=e.get(n.typeName))===null||r===void 0?void 0:r.get(s)},getService(n){const s=t.get(n);return(s==null?void 0:s.kind)=="service"?s:void 0}}}const jQ=998,HQ=999,QQ=9,Pg=10,Jf=11,qQ=12,i6=14,kC=3,eq=2,n6=1,tq=0,Rv=1,iq=2,nq=3,sq=1,rq=2,aq=1,AW={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2}};function s6(t,e){var i,n;const s={kind:"file",proto:t,deprecated:(n=(i=t.options)===null||i===void 0?void 0:i.deprecated)!==null&&n!==void 0?n:!1,edition:uq(t),name:t.name.replace(/\.proto$/,""),dependencies:dq(t,e),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${t.name}`}},r=new Map,a={get(o){return r.get(o)},add(o){var l;gr(((l=o.proto.options)===null||l===void 0?void 0:l.mapEntry)===!0),r.set(o.typeName,o)}};for(const o of t.enumType)SW(o,s,void 0,e);for(const o of t.messageType)TW(o,s,void 0,e,a);for(const o of t.service)oq(o,s,e);kA(s,e);for(const o of r.values())FA(o,e,a);for(const o of s.messages)FA(o,e,a),kA(o,e);e.addFile(s,!0)}function kA(t,e){switch(t.kind){case"file":for(const i of t.proto.extension){const n=UA(i,t,e);t.extensions.push(n),e.add(n)}break;case"message":for(const i of t.proto.extension){const n=UA(i,t,e);t.nestedExtensions.push(n),e.add(n)}for(const i of t.nestedMessages)kA(i,e);break}}function FA(t,e,i){const n=t.proto.oneofDecl.map(r=>cq(r,t)),s=new Set;for(const r of t.proto.field){const a=pq(r,n),o=UA(r,t,e,a,i);t.fields.push(o),t.field[o.localName]=o,a===void 0?t.members.push(o):(a.fields.push(o),s.has(a)||(s.add(a),t.members.push(a)))}for(const r of n.filter(a=>s.has(a)))t.oneofs.push(r);for(const r of t.nestedMessages)FA(r,e,i)}function SW(t,e,i,n){var s,r,a;const o=hq(t.name,t.value),l={kind:"enum",proto:t,deprecated:(r=(s=t.options)===null||s===void 0?void 0:s.deprecated)!==null&&r!==void 0?r:!1,file:e,parent:i,open:!0,name:t.name,typeName:Iy(t,i,e),value:{},values:[],sharedPrefix:o,toString(){return`enum ${this.typeName}`}};l.open=bq(l),n.add(l),t.value.forEach(c=>{var u,d;const h=c.name;l.values.push(l.value[c.number]={kind:"enum_value",proto:c,deprecated:(d=(u=c.options)===null||u===void 0?void 0:u.deprecated)!==null&&d!==void 0?d:!1,parent:l,name:h,localName:Vp(o==null?h:h.substring(o.length)),number:c.number,toString(){return`enum value ${l.typeName}.${h}`}})}),((a=i==null?void 0:i.nestedEnums)!==null&&a!==void 0?a:e.enums).push(l)}function TW(t,e,i,n,s){var r,a,o,l;const c={kind:"message",proto:t,deprecated:(a=(r=t.options)===null||r===void 0?void 0:r.deprecated)!==null&&a!==void 0?a:!1,file:e,parent:i,name:t.name,typeName:Iy(t,i,e),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((o=t.options)===null||o===void 0?void 0:o.mapEntry)===!0?s.add(c):(((l=i==null?void 0:i.nestedMessages)!==null&&l!==void 0?l:e.messages).push(c),n.add(c));for(const u of t.enumType)SW(u,e,c,n);for(const u of t.nestedType)TW(u,e,c,n,s)}function oq(t,e,i){var n,s;const r={kind:"service",proto:t,deprecated:(s=(n=t.options)===null||n===void 0?void 0:n.deprecated)!==null&&s!==void 0?s:!1,file:e,name:t.name,typeName:Iy(t,void 0,e),methods:[],method:{},toString(){return`service ${this.typeName}`}};e.services.push(r),i.add(r);for(const a of t.method){const o=lq(a,r,i);r.methods.push(o),r.method[o.localName]=o}}function lq(t,e,i){var n,s,r,a;let o;t.clientStreaming&&t.serverStreaming?o="bidi_streaming":t.clientStreaming?o="client_streaming":t.serverStreaming?o="server_streaming":o="unary";const l=i.getMessage(_a(t.inputType)),c=i.getMessage(_a(t.outputType));gr(l,`invalid MethodDescriptorProto: input_type ${t.inputType} not found`),gr(c,`invalid MethodDescriptorProto: output_type ${t.inputType} not found`);const u=t.name;return{kind:"rpc",proto:t,deprecated:(s=(n=t.options)===null||n===void 0?void 0:n.deprecated)!==null&&s!==void 0?s:!1,parent:e,name:u,localName:Vp(u.length?Vp(u[0].toLowerCase()+u.substring(1)):u),methodKind:o,input:l,output:c,idempotency:(a=(r=t.options)===null||r===void 0?void 0:r.idempotencyLevel)!==null&&a!==void 0?a:tq,toString(){return`rpc ${e.typeName}.${u}`}}}function cq(t,e){return{kind:"oneof",proto:t,deprecated:!1,parent:e,fields:[],name:t.name,localName:Vp(Np(t.name)),toString(){return`oneof ${e.typeName}.${this.name}`}}}function UA(t,e,i,n,s){var r,a,o;const l=s===void 0,c={kind:"field",proto:t,deprecated:(a=(r=t.options)===null||r===void 0?void 0:r.deprecated)!==null&&a!==void 0?a:!1,name:t.name,number:t.number,scalar:void 0,message:void 0,enum:void 0,presence:mq(t,n,l,e),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(l){const f=e.kind=="file"?e:e.file,p=e.kind=="file"?void 0:e,m=Iy(t,p,f);c.kind="extension",c.file=f,c.parent=p,c.oneof=void 0,c.typeName=m,c.jsonName=`[${m}]`,c.toString=()=>`extension ${m}`;const v=i.getMessage(_a(t.extendee));gr(v,`invalid FieldDescriptorProto: extendee ${t.extendee} not found`),c.extendee=v}else{const f=e;gr(f.kind=="message"),c.parent=f,c.oneof=n,c.localName=n?Np(t.name):Vp(Np(t.name)),c.jsonName=t.jsonName,c.toString=()=>`field ${f.typeName}.${t.name}`}const u=t.label,d=t.type,h=(o=t.options)===null||o===void 0?void 0:o.jstype;if(u===kC){const f=d==Jf?s==null?void 0:s.get(_a(t.typeName)):void 0;if(f){c.fieldKind="map";const{key:p,value:m}=yq(f);return c.mapKey=p.scalar,c.mapKind=m.fieldKind,c.message=m.message,c.delimitedEncoding=!1,c.enum=m.enum,c.scalar=m.scalar,c}switch(c.fieldKind="list",d){case Jf:case Pg:c.listKind="message",c.message=i.getMessage(_a(t.typeName)),gr(c.message),c.delimitedEncoding=r6(t,e);break;case i6:c.listKind="enum",c.enum=i.getEnum(_a(t.typeName)),gr(c.enum);break;default:c.listKind="scalar",c.scalar=d,c.longAsString=h==n6;break}return c.packed=gq(t,e),c}switch(d){case Jf:case Pg:c.fieldKind="message",c.message=i.getMessage(_a(t.typeName)),gr(c.message,`invalid FieldDescriptorProto: type_name ${t.typeName} not found`),c.delimitedEncoding=r6(t,e),c.getDefaultValue=()=>{};break;case i6:{const f=i.getEnum(_a(t.typeName));gr(f!==void 0,`invalid FieldDescriptorProto: type_name ${t.typeName} not found`),c.fieldKind="enum",c.enum=i.getEnum(_a(t.typeName)),c.getDefaultValue=()=>Lp(t,"defaultValue")?$Q(f,t.defaultValue):void 0;break}default:{c.fieldKind="scalar",c.scalar=d,c.longAsString=h==n6,c.getDefaultValue=()=>Lp(t,"defaultValue")?KQ(d,t.defaultValue):void 0;break}}return c}function uq(t){switch(t.syntax){case"":case"proto2":return jQ;case"proto3":return HQ;case"editions":if(t.edition in AW)return t.edition;throw new Error(`${t.name}: unsupported edition`);default:throw new Error(`${t.name}: unsupported syntax "${t.syntax}"`)}}function dq(t,e){return t.dependency.map(i=>{const n=e.getFile(i);if(!n)throw new Error(`Cannot find ${i}, imported by ${t.name}`);return n})}function hq(t,e){const i=fq(t)+"_";for(const n of e){if(!n.name.toLowerCase().startsWith(i))return;const s=n.name.substring(i.length);if(s.length==0||/^\d/.test(s))return}return i}function fq(t){return(t.substring(0,1)+t.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function Iy(t,e,i){let n;return e?n=`${e.typeName}.${t.name}`:i.proto.package.length>0?n=`${i.proto.package}.${t.name}`:n=`${t.name}`,n}function _a(t){return t.startsWith(".")?t.substring(1):t}function pq(t,e){if(!Lp(t,"oneofIndex")||t.proto3Optional)return;const i=e[t.oneofIndex];return gr(i,`invalid FieldDescriptorProto: oneof #${t.oneofIndex} for field #${t.number} not found`),i}function mq(t,e,i,n){return t.label==eq?nq:t.label==kC?iq:e||t.proto3Optional||t.type==Jf||i?Rv:_d("fieldPresence",{proto:t,parent:n})}function gq(t,e){if(t.label!=kC)return!1;switch(t.type){case QQ:case qQ:case Pg:case Jf:return!1}const i=t.options;return i&&Lp(i,"packed")?i.packed:sq==_d("repeatedFieldEncoding",{proto:t,parent:e})}function yq(t){const e=t.fields.find(n=>n.number===1),i=t.fields.find(n=>n.number===2);return gr(e&&e.fieldKind=="scalar"&&e.scalar!=oe.BYTES&&e.scalar!=oe.FLOAT&&e.scalar!=oe.DOUBLE&&i&&i.fieldKind!="list"&&i.fieldKind!="map"),{key:e,value:i}}function bq(t){var e;return aq==_d("enumType",{proto:t.proto,parent:(e=t.parent)!==null&&e!==void 0?e:t.file})}function r6(t,e){return t.type==Pg?!0:rq==_d("messageEncoding",{proto:t,parent:e})}function _d(t,e){var i,n;const s=(i=e.proto.options)===null||i===void 0?void 0:i.features;if(s){const r=s[t];if(r!=0)return r}if("kind"in e){if(e.kind=="message")return _d(t,(n=e.parent)!==null&&n!==void 0?n:e.file);const r=AW[e.edition];if(!r)throw new Error(`feature default for edition ${e.edition} not found`);return r[t]}return _d(t,e.parent)}function gr(t,e){if(!t)throw new Error(e)}function vq(t){const e=Eq(t);return e.messageType.forEach(LC),EW(e,()=>{}).getFile(e.name)}function Eq(t){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],service:[],extension:[]},t),{messageType:t.messageType.map(CW),enumType:t.enumType.map(RW)}))}function CW(t){var e,i,n,s,r,a,o,l;return{$typeName:"google.protobuf.DescriptorProto",name:t.name,field:(i=(e=t.field)===null||e===void 0?void 0:e.map(Aq))!==null&&i!==void 0?i:[],extension:[],nestedType:(s=(n=t.nestedType)===null||n===void 0?void 0:n.map(CW))!==null&&s!==void 0?s:[],enumType:(a=(r=t.enumType)===null||r===void 0?void 0:r.map(RW))!==null&&a!==void 0?a:[],extensionRange:(l=(o=t.extensionRange)===null||o===void 0?void 0:o.map(c=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},c)))!==null&&l!==void 0?l:[],oneofDecl:[],reservedRange:[],reservedName:[]}}function Aq(t){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},t),{options:t.options?Sq(t.options):void 0}))}function Sq(t){var e,i,n;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},t),{targets:(e=t.targets)!==null&&e!==void 0?e:[],editionDefaults:(n=(i=t.editionDefaults)===null||i===void 0?void 0:i.map(r=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},r)))!==null&&n!==void 0?n:[],uninterpretedOption:[]}))}function RW(t){return{$typeName:"google.protobuf.EnumDescriptorProto",name:t.name,reservedName:[],reservedRange:[],value:t.value.map(e=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},e))}}function FC(t){const e=Cq();let i=t.length*3/4;t[t.length-2]=="="?i-=2:t[t.length-1]=="="&&(i-=1);let n=new Uint8Array(i),s=0,r=0,a,o=0;for(let l=0;l<t.length;l++){if(a=e[t.charCodeAt(l)],a===void 0)switch(t[l]){case"=":r=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(r){case 0:o=a,r=1;break;case 1:n[s++]=o<<2|(a&48)>>4,o=a,r=2;break;case 2:n[s++]=(o&15)<<4|(a&60)>>2,o=a,r=3;break;case 3:n[s++]=(o&3)<<6|a,r=0;break}}if(r==1)throw Error("invalid base64 string");return n.subarray(0,s)}function Tq(t,e="std"){const i=IW(e),n=e=="std";let s="",r=0,a,o=0;for(let l=0;l<t.length;l++)switch(a=t[l],r){case 0:s+=i[a>>2],o=(a&3)<<4,r=1;break;case 1:s+=i[o|a>>4],o=(a&15)<<2,r=2;break;case 2:s+=i[o|a>>6],s+=i[a&63],r=0;break}return r&&(s+=i[o],n&&(s+="=",r==1&&(s+="="))),s}let _m,a6,zc;function IW(t){return _m||(_m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),a6=_m.slice(0,-2).concat("-","_")),t=="url"?a6:_m}function Cq(){if(!zc){zc=[];const t=IW("std");for(let e=0;e<t.length;e++)zc[t[e].charCodeAt(0)]=e;zc[45]=t.indexOf("+"),zc[95]=t.indexOf("/")}return zc}function UC(t,e){return t!==null&&typeof t=="object"&&"$typeName"in t&&typeof t.$typeName=="string"?e===void 0?!0:e.typeName===t.$typeName:!1}const Rq=["FieldValueInvalidError","FieldListRangeError","ForeignFieldError"];let as=class extends Error{constructor(e,i,n="FieldValueInvalidError"){super(i),this.name=n,this.field=()=>e}};function Iq(t){return t instanceof Error&&Rq.includes(t.name)&&"field"in t&&typeof t.field=="function"}function pl(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function BC(t,e){var i,n,s,r;if(pl(t)&&Ja in t&&"add"in t&&"field"in t&&typeof t.field=="function"){if(e!==void 0){const a=e,o=t.field();return a.listKind==o.listKind&&a.scalar===o.scalar&&((i=a.message)===null||i===void 0?void 0:i.typeName)===((n=o.message)===null||n===void 0?void 0:n.typeName)&&((s=a.enum)===null||s===void 0?void 0:s.typeName)===((r=o.enum)===null||r===void 0?void 0:r.typeName)}return!0}return!1}function WC(t,e){var i,n,s,r;if(pl(t)&&Ja in t&&"has"in t&&"field"in t&&typeof t.field=="function"){if(e!==void 0){const a=e,o=t.field();return a.mapKey===o.mapKey&&a.mapKind==o.mapKind&&a.scalar===o.scalar&&((i=a.message)===null||i===void 0?void 0:i.typeName)===((n=o.message)===null||n===void 0?void 0:n.typeName)&&((s=a.enum)===null||s===void 0?void 0:s.typeName)===((r=o.enum)===null||r===void 0?void 0:r.typeName)}return!0}return!1}function GC(t,e){return pl(t)&&Ja in t&&"desc"in t&&pl(t.desc)&&t.desc.kind==="message"&&(e===void 0||t.desc.typeName==e.typeName)}const Iv=Symbol.for("@bufbuild/protobuf/text-encoding");function DC(){if(globalThis[Iv]==null){const t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[Iv]={encodeUtf8(i){return t.encode(i)},decodeUtf8(i){return e.decode(i)},checkUtf8(i){try{return encodeURIComponent(i),!0}catch{return!1}}}}return globalThis[Iv]}var Ni;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(Ni||(Ni={}));const wW=34028234663852886e22,_W=-34028234663852886e22,xW=4294967295,NW=2147483647,VW=-2147483648;class LW{constructor(e=DC().encodeUtf8){this.encodeUtf8=e,this.stack=[],this.chunks=[],this.buf=[]}finish(){this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]);let e=0;for(let s=0;s<this.chunks.length;s++)e+=this.chunks[s].length;let i=new Uint8Array(e),n=0;for(let s=0;s<this.chunks.length;s++)i.set(this.chunks[s],n),n+=this.chunks[s].length;return this.chunks=[],i}fork(){return this.stack.push({chunks:this.chunks,buf:this.buf}),this.chunks=[],this.buf=[],this}join(){let e=this.finish(),i=this.stack.pop();if(!i)throw new Error("invalid state, fork stack empty");return this.chunks=i.chunks,this.buf=i.buf,this.uint32(e.byteLength),this.raw(e)}tag(e,i){return this.uint32((e<<3|i)>>>0)}raw(e){return this.buf.length&&(this.chunks.push(new Uint8Array(this.buf)),this.buf=[]),this.chunks.push(e),this}uint32(e){for(o6(e);e>127;)this.buf.push(e&127|128),e=e>>>7;return this.buf.push(e),this}int32(e){return wv(e),qI(e,this.buf),this}bool(e){return this.buf.push(e?1:0),this}bytes(e){return this.uint32(e.byteLength),this.raw(e)}string(e){let i=this.encodeUtf8(e);return this.uint32(i.byteLength),this.raw(i)}float(e){wq(e);let i=new Uint8Array(4);return new DataView(i.buffer).setFloat32(0,e,!0),this.raw(i)}double(e){let i=new Uint8Array(8);return new DataView(i.buffer).setFloat64(0,e,!0),this.raw(i)}fixed32(e){o6(e);let i=new Uint8Array(4);return new DataView(i.buffer).setUint32(0,e,!0),this.raw(i)}sfixed32(e){wv(e);let i=new Uint8Array(4);return new DataView(i.buffer).setInt32(0,e,!0),this.raw(i)}sint32(e){return wv(e),e=(e<<1^e>>31)>>>0,qI(e,this.buf),this}sfixed64(e){let i=new Uint8Array(8),n=new DataView(i.buffer),s=pi.enc(e);return n.setInt32(0,s.lo,!0),n.setInt32(4,s.hi,!0),this.raw(i)}fixed64(e){let i=new Uint8Array(8),n=new DataView(i.buffer),s=pi.uEnc(e);return n.setInt32(0,s.lo,!0),n.setInt32(4,s.hi,!0),this.raw(i)}int64(e){let i=pi.enc(e);return Cv(i.lo,i.hi,this.buf),this}sint64(e){let i=pi.enc(e),n=i.hi>>31,s=i.lo<<1^n,r=(i.hi<<1|i.lo>>>31)^n;return Cv(s,r,this.buf),this}uint64(e){let i=pi.uEnc(e);return Cv(i.lo,i.hi,this.buf),this}}let MC=class{constructor(e,i=DC().decodeUtf8){this.decodeUtf8=i,this.varint64=GQ,this.uint32=ZQ,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),i=e>>>3,n=e&7;if(i<=0||n<0||n>5)throw new Error("illegal tag: field no "+i+" wire type "+n);return[i,n]}skip(e,i){let n=this.pos;switch(e){case Ni.Varint:for(;this.buf[this.pos++]&128;);break;case Ni.Bit64:this.pos+=4;case Ni.Bit32:this.pos+=4;break;case Ni.LengthDelimited:let s=this.uint32();this.pos+=s;break;case Ni.StartGroup:for(;;){const[r,a]=this.tag();if(a===Ni.EndGroup){if(i!==void 0&&r!==i)throw new Error("invalid end group tag");break}this.skip(a,r)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return pi.dec(...this.varint64())}uint64(){return pi.uDec(...this.varint64())}sint64(){let[e,i]=this.varint64(),n=-(e&1);return e=(e>>>1|(i&1)<<31)^n,i=i>>>1^n,pi.dec(e,i)}bool(){let[e,i]=this.varint64();return e!==0||i!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return pi.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return pi.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),i=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(i,i+e)}string(){return this.decodeUtf8(this.bytes())}};function wv(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid int32: "+typeof t);if(!Number.isInteger(t)||t>NW||t<VW)throw new Error("invalid int32: "+t)}function o6(t){if(typeof t=="string")t=Number(t);else if(typeof t!="number")throw new Error("invalid uint32: "+typeof t);if(!Number.isInteger(t)||t>xW||t<0)throw new Error("invalid uint32: "+t)}function wq(t){if(typeof t=="string"){const e=t;if(t=Number(t),isNaN(t)&&e!=="NaN")throw new Error("invalid float32: "+e)}else if(typeof t!="number")throw new Error("invalid float32: "+typeof t);if(Number.isFinite(t)&&(t>wW||t<_W))throw new Error("invalid float32: "+t)}function Wl(t,e){const i=t.fieldKind=="list"?BC(e,t):t.fieldKind=="map"?WC(e,t):ZC(t,e);if(i===!0)return;let n;switch(t.fieldKind){case"list":n=`expected ${UW(t)}, got ${an(e)}`;break;case"map":n=`expected ${BW(t)}, got ${an(e)}`;break;default:n=Og(t,e,i)}return new as(t,n)}function l6(t,e,i){const n=ZC(t,i);if(n!==!0)return new as(t,`list item #${e+1}: ${Og(t,i,n)}`)}function _q(t,e,i){const n=kW(e,t.mapKey);if(n!==!0)return new as(t,`invalid map key: ${Og({scalar:t.mapKey},e,n)}`);const s=ZC(t,i);if(s!==!0)return new as(t,`map entry ${an(e)}: ${Og(t,i,s)}`)}function ZC(t,e){return t.scalar!==void 0?kW(e,t.scalar):t.enum!==void 0?t.enum.open?Number.isInteger(e):t.enum.values.some(i=>i.number===e):GC(e,t.message)}function kW(t,e){switch(e){case oe.DOUBLE:return typeof t=="number";case oe.FLOAT:return typeof t!="number"?!1:Number.isNaN(t)||!Number.isFinite(t)?!0:t>wW||t<_W?`${t.toFixed()} out of range`:!0;case oe.INT32:case oe.SFIXED32:case oe.SINT32:return typeof t!="number"||!Number.isInteger(t)?!1:t>NW||t<VW?`${t.toFixed()} out of range`:!0;case oe.FIXED32:case oe.UINT32:return typeof t!="number"||!Number.isInteger(t)?!1:t>xW||t<0?`${t.toFixed()} out of range`:!0;case oe.BOOL:return typeof t=="boolean";case oe.STRING:return typeof t!="string"?!1:DC().checkUtf8(t)||"invalid UTF8";case oe.BYTES:return t instanceof Uint8Array;case oe.INT64:case oe.SFIXED64:case oe.SINT64:if(typeof t=="bigint"||typeof t=="number"||typeof t=="string"&&t.length>0)try{return pi.parse(t),!0}catch{return`${t} out of range`}return!1;case oe.FIXED64:case oe.UINT64:if(typeof t=="bigint"||typeof t=="number"||typeof t=="string"&&t.length>0)try{return pi.uParse(t),!0}catch{return`${t} out of range`}return!1}}function Og(t,e,i){return i=typeof i=="string"?`: ${i}`:`, got ${an(e)}`,t.scalar!==void 0?`expected ${xq(t.scalar)}`+i:t.enum!==void 0?`expected ${t.enum.toString()}`+i:`expected ${FW(t.message)}`+i}function an(t){switch(typeof t){case"object":return t===null?"null":t instanceof Uint8Array?`Uint8Array(${t.length})`:Array.isArray(t)?`Array(${t.length})`:BC(t)?UW(t.field()):WC(t)?BW(t.field()):GC(t)?FW(t.desc):UC(t)?`message ${t.$typeName}`:"object";case"string":return t.length>30?"string":`"${t.split('"').join('\\"')}"`;case"boolean":return String(t);case"number":return String(t);case"bigint":return String(t)+"n";default:return typeof t}}function FW(t){return`ReflectMessage (${t.typeName})`}function UW(t){switch(t.listKind){case"message":return`ReflectList (${t.message.toString()})`;case"enum":return`ReflectList (${t.enum.toString()})`;case"scalar":return`ReflectList (${oe[t.scalar]})`}}function BW(t){switch(t.mapKind){case"message":return`ReflectMap (${oe[t.mapKey]}, ${t.message.toString()})`;case"enum":return`ReflectMap (${oe[t.mapKey]}, ${t.enum.toString()})`;case"scalar":return`ReflectMap (${oe[t.mapKey]}, ${oe[t.scalar]})`}}function xq(t){switch(t){case oe.STRING:return"string";case oe.BOOL:return"boolean";case oe.INT64:case oe.SINT64:case oe.SFIXED64:return"bigint (int64)";case oe.UINT64:case oe.FIXED64:return"bigint (uint64)";case oe.BYTES:return"Uint8Array";case oe.DOUBLE:return"number (float64)";case oe.FLOAT:return"number (float32)";case oe.FIXED32:case oe.UINT32:return"number (uint32)";case oe.INT32:case oe.SFIXED32:case oe.SINT32:return"number (int32)"}}function Nq(t){return WW(t.$typeName)}function c0(t){const e=t.fields[0];return WW(t.typeName)&&e!==void 0&&e.fieldKind=="scalar"&&e.name=="value"&&e.number==1}function WW(t){return t.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(t.substring(16))}const Vq=999,Lq=998,W1=2;function Ir(t,e){if(UC(e,t))return e;const i=Wq(t);return e!==void 0&&kq(t,i,e),i}function kq(t,e,i){for(const n of t.members){let s=i[n.localName];if(s==null)continue;let r;if(n.kind=="oneof"){const a=yW(i,n);if(!a)continue;r=a,s=bW(i,a)}else r=n;switch(r.fieldKind){case"message":s=PC(r,s);break;case"scalar":s=GW(r,s);break;case"list":s=Uq(r,s);break;case"map":s=Fq(r,s);break}vW(e,r,s)}return e}function GW(t,e){return t.scalar==oe.BYTES?OC(e):e}function Fq(t,e){if(pl(e)){if(t.scalar==oe.BYTES)return c6(e,OC);if(t.mapKind=="message")return c6(e,i=>PC(t,i))}return e}function Uq(t,e){if(Array.isArray(e)){if(t.scalar==oe.BYTES)return e.map(OC);if(t.listKind=="message")return e.map(i=>PC(t,i))}return e}function PC(t,e){if(t.fieldKind=="message"&&!t.oneof&&c0(t.message))return GW(t.message.fields[0],e);if(pl(e)){if(t.message.typeName=="google.protobuf.Struct"&&t.parent.typeName!=="google.protobuf.Value")return e;if(!UC(e,t.message))return Ir(t.message,e)}return e}function OC(t){return Array.isArray(t)?new Uint8Array(t):t}function c6(t,e){const i={};for(const n of Object.entries(t))i[n[0]]=e(n[1]);return i}const Bq=Symbol(),u6=new WeakMap;function Wq(t){let e;if(Gq(t)){const i=u6.get(t);let n,s;if(i)({prototype:n,members:s}=i);else{n={},s=new Set;for(const r of t.members)r.kind!="oneof"&&(r.fieldKind!="scalar"&&r.fieldKind!="enum"||r.presence!=W1&&(s.add(r),n[r.localName]=_v(r)));u6.set(t,{prototype:n,members:s})}e=Object.create(n),e.$typeName=t.typeName;for(const r of t.members)s.has(r)||r.kind=="field"&&(r.fieldKind=="message"||(r.fieldKind=="scalar"||r.fieldKind=="enum")&&r.presence!=W1)||(e[r.localName]=_v(r))}else{e={$typeName:t.typeName};for(const i of t.members)(i.kind=="oneof"||i.presence==W1)&&(e[i.localName]=_v(i))}return e}function Gq(t){switch(t.file.edition){case Vq:return!1;case Lq:return!0;default:return t.fields.some(e=>e.presence!=W1&&e.fieldKind!="message"&&!e.oneof)}}function _v(t){if(t.kind=="oneof")return{case:void 0};if(t.fieldKind=="list")return[];if(t.fieldKind=="map")return{};if(t.fieldKind=="message")return Bq;const e=t.getDefaultValue();return e!==void 0?t.fieldKind=="scalar"&&t.longAsString?e.toString():e:t.fieldKind=="scalar"?Cc(t.scalar,t.longAsString):t.enum.values[0].number}function er(t,e,i=!0){return new DW(t,e,i)}let DW=class{get sortedFields(){var e;return(e=this._sortedFields)!==null&&e!==void 0?e:this._sortedFields=this.desc.fields.concat().sort((i,n)=>i.number-n.number)}constructor(e,i,n=!0){this.lists=new Map,this.maps=new Map,this.check=n,this.desc=e,this.message=this[Ja]=i??Ir(e),this.fields=e.fields,this.oneofs=e.oneofs,this.members=e.members}findNumber(e){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(i=>[i.number,i]))),this._fieldsByNumber.get(e)}oneofCase(e){return rf(this.message,e),yW(this.message,e)}isSet(e){return rf(this.message,e),XQ(this.message,e)}clear(e){rf(this.message,e),YQ(this.message,e)}get(e){rf(this.message,e);const i=bW(this.message,e);switch(e.fieldKind){case"list":let n=this.lists.get(e);return(!n||n[Ja]!==i)&&this.lists.set(e,n=new Dq(e,i,this.check)),n;case"map":let s=this.maps.get(e);return(!s||s[Ja]!==i)&&this.maps.set(e,s=new Mq(e,i,this.check)),s;case"message":return YC(e,i,this.check);case"scalar":return i===void 0?Cc(e.scalar,!1):$C(e,i);case"enum":return i??e.enum.values[0].number}}set(e,i){if(rf(this.message,e),this.check){const s=Wl(e,i);if(s)throw s}let n;e.fieldKind=="message"?n=XC(e,i):WC(i)||BC(i)?n=i[Ja]:n=KC(e,i),vW(this.message,e,n)}getUnknown(){return this.message.$unknown}setUnknown(e){this.message.$unknown=e}};function rf(t,e){if(e.parent.typeName!==t.$typeName)throw new as(e,`cannot use ${e.toString()} with message ${t.$typeName}`,"ForeignFieldError")}let Dq=class{field(){return this._field}get size(){return this._arr.length}constructor(e,i,n){this._field=e,this._arr=this[Ja]=i,this.check=n}get(e){const i=this._arr[e];return i===void 0?void 0:xv(this._field,i,this.check)}set(e,i){if(e<0||e>=this._arr.length)throw new as(this._field,`list item #${e+1}: out of range`);if(this.check){const n=l6(this._field,e,i);if(n)throw n}this._arr[e]=d6(this._field,i)}add(e){if(this.check){const i=l6(this._field,this._arr.length,e);if(i)throw i}this._arr.push(d6(this._field,e))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const e of this._arr)yield xv(this._field,e,this.check)}*entries(){for(let e=0;e<this._arr.length;e++)yield[e,xv(this._field,this._arr[e],this.check)]}},Mq=class{constructor(e,i,n=!0){this.obj=this[Ja]=i??{},this.check=n,this._field=e}field(){return this._field}set(e,i){if(this.check){const n=_q(this._field,e,i);if(n)throw n}return this.obj[xm(e)]=Zq(this._field,i),this}delete(e){const i=xm(e),n=Object.prototype.hasOwnProperty.call(this.obj,i);return n&&delete this.obj[i],n}clear(){for(const e of Object.keys(this.obj))delete this.obj[e]}get(e){let i=this.obj[xm(e)];return i!==void 0&&(i=Nv(this._field,i,this.check)),i}has(e){return Object.prototype.hasOwnProperty.call(this.obj,xm(e))}*keys(){for(const e of Object.keys(this.obj))yield h6(e,this._field.mapKey)}*entries(){for(const e of Object.entries(this.obj))yield[h6(e[0],this._field.mapKey),Nv(this._field,e[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const e of Object.values(this.obj))yield Nv(this._field,e,this.check)}forEach(e,i){for(const n of this.entries())e.call(i,n[1],n[0],this)}};function XC(t,e){return GC(e)?Nq(e.message)&&!t.oneof&&t.fieldKind=="message"?e.message.value:e.desc.typeName=="google.protobuf.Struct"&&t.parent.typeName!="google.protobuf.Value"?ZW(e.message):e.message:e}function YC(t,e,i){return e!==void 0&&(c0(t.message)&&!t.oneof&&t.fieldKind=="message"?e={$typeName:t.message.typeName,value:$C(t.message.fields[0],e)}:t.message.typeName=="google.protobuf.Struct"&&t.parent.typeName!="google.protobuf.Value"&&pl(e)&&(e=MW(e))),new DW(t.message,e,i)}function d6(t,e){return t.listKind=="message"?XC(t,e):KC(t,e)}function xv(t,e,i){return t.listKind=="message"?YC(t,e,i):$C(t,e)}function Zq(t,e){return t.mapKind=="message"?XC(t,e):KC(t,e)}function Nv(t,e,i){return t.mapKind=="message"?YC(t,e,i):e}function xm(t){return typeof t=="string"||typeof t=="number"?t:String(t)}function h6(t,e){switch(e){case oe.STRING:return t;case oe.INT32:case oe.FIXED32:case oe.UINT32:case oe.SFIXED32:case oe.SINT32:{const i=Number.parseInt(t);if(Number.isFinite(i))return i;break}case oe.BOOL:switch(t){case"true":return!0;case"false":return!1}break;case oe.UINT64:case oe.FIXED64:try{return pi.uParse(t)}catch{}break;default:try{return pi.parse(t)}catch{}break}return t}function $C(t,e){switch(t.scalar){case oe.INT64:case oe.SFIXED64:case oe.SINT64:"longAsString"in t&&t.longAsString&&typeof e=="string"&&(e=pi.parse(e));break;case oe.FIXED64:case oe.UINT64:"longAsString"in t&&t.longAsString&&typeof e=="string"&&(e=pi.uParse(e));break}return e}function KC(t,e){switch(t.scalar){case oe.INT64:case oe.SFIXED64:case oe.SINT64:"longAsString"in t&&t.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=pi.parse(e));break;case oe.FIXED64:case oe.UINT64:"longAsString"in t&&t.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=pi.uParse(e));break}return e}function MW(t){const e={$typeName:"google.protobuf.Struct",fields:{}};if(pl(t))for(const[i,n]of Object.entries(t))e.fields[i]=OW(n);return e}function ZW(t){const e={};for(const[i,n]of Object.entries(t.fields))e[i]=PW(n);return e}function PW(t){switch(t.kind.case){case"structValue":return ZW(t.kind.value);case"listValue":return t.kind.value.values.map(PW);case"nullValue":case void 0:return null;default:return t.kind.value}}function OW(t){const e={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof t){case"number":e.kind={case:"numberValue",value:t};break;case"string":e.kind={case:"stringValue",value:t};break;case"boolean":e.kind={case:"boolValue",value:t};break;case"object":if(t===null)e.kind={case:"nullValue",value:0};else if(Array.isArray(t)){const i={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(t))for(const n of t)i.values.push(OW(n));e.kind={case:"listValue",value:i}}else e.kind={case:"structValue",value:MW(t)};break}return e}const Pq=3,f6={writeUnknownFields:!0};function Oq(t){return t?Object.assign(Object.assign({},f6),t):f6}function XW(t,e,i){return Xg(new LW,Oq(i),er(t,e)).finish()}function Xg(t,e,i){var n;for(const s of i.sortedFields){if(!i.isSet(s)){if(s.presence==Pq)throw new Error(`cannot encode field ${i.desc.typeName}.${s.name} to binary: required field not set`);continue}YW(t,e,i,s)}if(e.writeUnknownFields)for(const{no:s,wireType:r,data:a}of(n=i.getUnknown())!==null&&n!==void 0?n:[])t.tag(s,r).raw(a);return t}function YW(t,e,i,n){var s;switch(n.fieldKind){case"scalar":case"enum":Yg(t,i.desc.typeName,n.name,(s=n.scalar)!==null&&s!==void 0?s:oe.INT32,n.number,i.get(n));break;case"list":Xq(t,e,n,i.get(n));break;case"message":$W(t,e,n,i.get(n));break;case"map":for(const[r,a]of i.get(n))Yq(t,e,n,r,a);break}}function Yg(t,e,i,n,s,r){KW(t.tag(s,$q(n)),e,i,n,r)}function $W(t,e,i,n){i.delimitedEncoding?Xg(t.tag(i.number,Ni.StartGroup),e,n).tag(i.number,Ni.EndGroup):Xg(t.tag(i.number,Ni.LengthDelimited).fork(),e,n).join()}function Xq(t,e,i,n){var s;if(i.listKind=="message"){for(const a of n)$W(t,e,i,a);return}const r=(s=i.scalar)!==null&&s!==void 0?s:oe.INT32;if(i.packed){if(!n.size)return;t.tag(i.number,Ni.LengthDelimited).fork();for(const a of n)KW(t,i.parent.typeName,i.name,r,a);t.join();return}for(const a of n)Yg(t,i.parent.typeName,i.name,r,i.number,a)}function Yq(t,e,i,n,s){var r;switch(t.tag(i.number,Ni.LengthDelimited).fork(),Yg(t,i.parent.typeName,i.name,i.mapKey,1,n),i.mapKind){case"scalar":case"enum":Yg(t,i.parent.typeName,i.name,(r=i.scalar)!==null&&r!==void 0?r:oe.INT32,2,s);break;case"message":Xg(t.tag(2,Ni.LengthDelimited).fork(),e,s).join();break}t.join()}function KW(t,e,i,n,s){try{switch(n){case oe.STRING:t.string(s);break;case oe.BOOL:t.bool(s);break;case oe.DOUBLE:t.double(s);break;case oe.FLOAT:t.float(s);break;case oe.INT32:t.int32(s);break;case oe.INT64:t.int64(s);break;case oe.UINT64:t.uint64(s);break;case oe.FIXED64:t.fixed64(s);break;case oe.BYTES:t.bytes(s);break;case oe.FIXED32:t.fixed32(s);break;case oe.SFIXED32:t.sfixed32(s);break;case oe.SFIXED64:t.sfixed64(s);break;case oe.SINT64:t.sint64(s);break;case oe.UINT32:t.uint32(s);break;case oe.SINT32:t.sint32(s);break}}catch(r){throw r instanceof Error?new Error(`cannot encode field ${e}.${i} to binary: ${r.message}`):r}}function $q(t){switch(t){case oe.BYTES:case oe.STRING:return Ni.LengthDelimited;case oe.DOUBLE:case oe.FIXED64:case oe.SFIXED64:return Ni.Bit64;case oe.FIXED32:case oe.SFIXED32:case oe.FLOAT:return Ni.Bit32;default:return Ni.Varint}}function uh(t,e,...i){return i.reduce((n,s)=>n.nestedMessages[s],t.messages[e])}function St(t,e,...i){if(i.length==0)return t.enums[e];const n=i.pop();return i.reduce((s,r)=>s.nestedMessages[r],t.messages[e]).nestedEnums[n]}function Tt(t){const e={};for(const i of t.values)e[i.localName]=i.number,e[i.number]=i.localName;return e}const zW=vq({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false"},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]}]}),Kq=uh(zW,1);var p6;(function(t){t[t.DECLARATION=0]="DECLARATION",t[t.UNVERIFIED=1]="UNVERIFIED"})(p6||(p6={}));var m6;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.GROUP=10]="GROUP",t[t.MESSAGE=11]="MESSAGE",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.ENUM=14]="ENUM",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(m6||(m6={}));var g6;(function(t){t[t.OPTIONAL=1]="OPTIONAL",t[t.REPEATED=3]="REPEATED",t[t.REQUIRED=2]="REQUIRED"})(g6||(g6={}));var y6;(function(t){t[t.SPEED=1]="SPEED",t[t.CODE_SIZE=2]="CODE_SIZE",t[t.LITE_RUNTIME=3]="LITE_RUNTIME"})(y6||(y6={}));var b6;(function(t){t[t.STRING=0]="STRING",t[t.CORD=1]="CORD",t[t.STRING_PIECE=2]="STRING_PIECE"})(b6||(b6={}));var v6;(function(t){t[t.JS_NORMAL=0]="JS_NORMAL",t[t.JS_STRING=1]="JS_STRING",t[t.JS_NUMBER=2]="JS_NUMBER"})(v6||(v6={}));var E6;(function(t){t[t.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",t[t.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",t[t.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(E6||(E6={}));var A6;(function(t){t[t.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",t[t.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",t[t.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",t[t.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",t[t.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",t[t.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",t[t.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",t[t.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",t[t.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",t[t.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(A6||(A6={}));var S6;(function(t){t[t.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",t[t.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",t[t.IDEMPOTENT=2]="IDEMPOTENT"})(S6||(S6={}));var T6;(function(t){t[t.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",t[t.EXPLICIT=1]="EXPLICIT",t[t.IMPLICIT=2]="IMPLICIT",t[t.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(T6||(T6={}));var C6;(function(t){t[t.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",t[t.OPEN=1]="OPEN",t[t.CLOSED=2]="CLOSED"})(C6||(C6={}));var R6;(function(t){t[t.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",t[t.PACKED=1]="PACKED",t[t.EXPANDED=2]="EXPANDED"})(R6||(R6={}));var I6;(function(t){t[t.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",t[t.VERIFY=2]="VERIFY",t[t.NONE=3]="NONE"})(I6||(I6={}));var w6;(function(t){t[t.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",t[t.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",t[t.DELIMITED=2]="DELIMITED"})(w6||(w6={}));var _6;(function(t){t[t.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",t[t.ALLOW=1]="ALLOW",t[t.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(_6||(_6={}));var x6;(function(t){t[t.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",t[t.STYLE2024=1]="STYLE2024",t[t.STYLE_LEGACY=2]="STYLE_LEGACY"})(x6||(x6={}));var N6;(function(t){t[t.NONE=0]="NONE",t[t.SET=1]="SET",t[t.ALIAS=2]="ALIAS"})(N6||(N6={}));var V6;(function(t){t[t.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",t[t.EDITION_LEGACY=900]="EDITION_LEGACY",t[t.EDITION_PROTO2=998]="EDITION_PROTO2",t[t.EDITION_PROTO3=999]="EDITION_PROTO3",t[t.EDITION_2023=1e3]="EDITION_2023",t[t.EDITION_2024=1001]="EDITION_2024",t[t.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",t[t.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",t[t.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",t[t.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",t[t.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",t[t.EDITION_MAX=2147483647]="EDITION_MAX"})(V6||(V6={}));const L6={readUnknownFields:!0};function zq(t){return t?Object.assign(Object.assign({},L6),t):L6}function u0(t,e,i){const n=er(t,void 0,!1);return JW(n,new MC(e),zq(i),!1,e.byteLength),n.message}function JW(t,e,i,n,s){var r;const a=n?e.len:e.pos+s;let o,l;const c=(r=t.getUnknown())!==null&&r!==void 0?r:[];for(;e.pos<a&&([o,l]=e.tag(),!(n&&l==Ni.EndGroup));){const u=t.findNumber(o);if(!u){const d=e.skip(l,o);i.readUnknownFields&&c.push({no:o,wireType:l,data:d});continue}jW(t,e,u,l,i)}if(n&&(l!=Ni.EndGroup||o!==s))throw new Error("invalid end group tag");c.length>0&&t.setUnknown(c)}function jW(t,e,i,n,s){switch(i.fieldKind){case"scalar":t.set(i,xd(e,i.scalar));break;case"enum":t.set(i,xd(e,oe.INT32));break;case"message":t.set(i,zC(e,s,i,t.get(i)));break;case"list":jq(e,n,t.get(i),s);break;case"map":Jq(e,t.get(i),s);break}}function Jq(t,e,i){const n=e.field();let s,r;const a=t.pos+t.uint32();for(;t.pos<a;){const[o]=t.tag();switch(o){case 1:s=xd(t,n.mapKey);break;case 2:switch(n.mapKind){case"scalar":r=xd(t,n.scalar);break;case"enum":r=t.int32();break;case"message":r=zC(t,i,n);break}break}}if(s===void 0&&(s=Cc(n.mapKey,!1)),r===void 0)switch(n.mapKind){case"scalar":r=Cc(n.scalar,!1);break;case"enum":r=n.enum.values[0].number;break;case"message":r=er(n.message,void 0,!1);break}e.set(s,r)}function jq(t,e,i,n){var s;const r=i.field();if(r.listKind==="message"){i.add(zC(t,n,r));return}const a=(s=r.scalar)!==null&&s!==void 0?s:oe.INT32;if(!(e==Ni.LengthDelimited&&a!=oe.STRING&&a!=oe.BYTES)){i.add(xd(t,a));return}const l=t.uint32()+t.pos;for(;t.pos<l;)i.add(xd(t,a))}function zC(t,e,i,n){const s=i.delimitedEncoding,r=n??er(i.message,void 0,!1);return JW(r,t,e,s,s?i.number:t.uint32()),r}function xd(t,e){switch(e){case oe.STRING:return t.string();case oe.BOOL:return t.bool();case oe.DOUBLE:return t.double();case oe.FLOAT:return t.float();case oe.INT32:return t.int32();case oe.INT64:return t.int64();case oe.UINT64:return t.uint64();case oe.FIXED64:return t.fixed64();case oe.BYTES:return t.bytes();case oe.FIXED32:return t.fixed32();case oe.SFIXED32:return t.sfixed32();case oe.SFIXED64:return t.sfixed64();case oe.SINT64:return t.sint64();case oe.UINT32:return t.uint32();case oe.SINT32:return t.sint32()}}function kt(t,e){var i;const n=u0(Kq,FC(t));return n.messageType.forEach(LC),n.dependency=(i=e==null?void 0:e.map(r=>r.proto.name))!==null&&i!==void 0?i:[],EW(n,r=>e==null?void 0:e.find(a=>a.proto.name===r)).getFile(n.name)}function El(t,e,...i){if(i.length>0)throw new Error;return t.services[e]}const Wc=kt("Ch9nb29nbGUvcHJvdG9idWYvdGltZXN0YW1wLnByb3RvEg9nb29nbGUucHJvdG9idWYiKwoJVGltZXN0YW1wEg8KB3NlY29uZHMYASABKAMSDQoFbmFub3MYAiABKAVChQEKE2NvbS5nb29nbGUucHJvdG9idWZCDlRpbWVzdGFtcFByb3RvUAFaMmdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3RpbWVzdGFtcHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),HW=kt("Chlnb29nbGUvcHJvdG9idWYvYW55LnByb3RvEg9nb29nbGUucHJvdG9idWYiJgoDQW55EhAKCHR5cGVfdXJsGAEgASgJEg0KBXZhbHVlGAIgASgMQnYKE2NvbS5nb29nbGUucHJvdG9idWZCCEFueVByb3RvUAFaLGdvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL2FueXBiogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),Hq=uh(HW,0);function Qq(t,e,i){let n=!1;return i||(i=Ir(Hq),n=!0),i.value=XW(t,e),i.typeUrl=tee(e.$typeName),n?i:void 0}function qq(t,e){if(t.typeUrl==="")return!1;const i=typeof e=="string"?e:e.typeName,n=QW(t.typeUrl);return i===n}function eee(t,e){if(t.typeUrl==="")return;const i=e.kind=="message"?e:e.getMessage(QW(t.typeUrl));if(!(!i||!qq(t,i)))return u0(i,t.value)}function tee(t){return`type.googleapis.com/${t}`}function QW(t){const e=t.lastIndexOf("/"),i=e>=0?t.substring(e+1):t;if(!i.length)throw new Error(`invalid type url: ${t}`);return i}const JC=kt("Chxnb29nbGUvcHJvdG9idWYvc3RydWN0LnByb3RvEg9nb29nbGUucHJvdG9idWYihAEKBlN0cnVjdBIzCgZmaWVsZHMYASADKAsyIy5nb29nbGUucHJvdG9idWYuU3RydWN0LkZpZWxkc0VudHJ5GkUKC0ZpZWxkc0VudHJ5EgsKA2tleRgBIAEoCRIlCgV2YWx1ZRgCIAEoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZToCOAEi6gEKBVZhbHVlEjAKCm51bGxfdmFsdWUYASABKA4yGi5nb29nbGUucHJvdG9idWYuTnVsbFZhbHVlSAASFgoMbnVtYmVyX3ZhbHVlGAIgASgBSAASFgoMc3RyaW5nX3ZhbHVlGAMgASgJSAASFAoKYm9vbF92YWx1ZRgEIAEoCEgAEi8KDHN0cnVjdF92YWx1ZRgFIAEoCzIXLmdvb2dsZS5wcm90b2J1Zi5TdHJ1Y3RIABIwCgpsaXN0X3ZhbHVlGAYgASgLMhouZ29vZ2xlLnByb3RvYnVmLkxpc3RWYWx1ZUgAQgYKBGtpbmQiMwoJTGlzdFZhbHVlEiYKBnZhbHVlcxgBIAMoCzIWLmdvb2dsZS5wcm90b2J1Zi5WYWx1ZSobCglOdWxsVmFsdWUSDgoKTlVMTF9WQUxVRRAAQn8KE2NvbS5nb29nbGUucHJvdG9idWZCC1N0cnVjdFByb3RvUAFaL2dvb2dsZS5nb2xhbmcub3JnL3Byb3RvYnVmL3R5cGVzL2tub3duL3N0cnVjdHBi+AEBogIDR1BCqgIeR29vZ2xlLlByb3RvYnVmLldlbGxLbm93blR5cGVzYgZwcm90bzM"),iee=uh(JC,0),qW=uh(JC,1),nee=uh(JC,2);var BA;(function(t){t[t.NULL_VALUE=0]="NULL_VALUE"})(BA||(BA={}));const Vs=kt("CjZzdHJlYW1sYXllci9hbmFseXRpY3MvdjEvY29tbW9uL2FuYWx5dGljcy5jb21tb24ucHJvdG8SH3N0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24iWgoGUGVyaW9kEigKBGZyb20YASABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEiYKAnRvGAIgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCpWCgxSZXN1bHRTdGF0dXMSFwoTUkVTVUxUX1NUQVRVU19VTlNFVBAAEhQKEFJFU1VMVF9TVEFUVVNfT0sQARIXChNSRVNVTFRfU1RBVFVTX0VSUk9SEAIqwQsKBEtpbmQSDgoKS0lORF9VTlNFVBAAEhAKDEtJTkRfVklFV0VSUxABEhUKEUtJTkRfRVZFTlRfT1BFTkVEEAISIQodS0lORF9BVVRIRU5USUNBVElPTl9BVFRFTVBURUQQAxIhCh1LSU5EX0FVVEhFTlRJQ0FUSU9OX0NPTVBMRVRFRBAEEhYKEktJTkRfTEFVTkNIX0JVVFRPThAFEhwKGEtJTkRfUEVSTUlTU0lPTl9QUk9WSURFRBAGEiAKHEtJTkRfUEVSTUlTU0lPTl9OT1RfUFJPVklERUQQBxIVChFLSU5EX0lOVEVSQUNUSU9OUxAIEh0KGUtJTkRfQ09OVkVSU0FUSU9OX0NSRUFURUQQCRIcChhLSU5EX0NPTlZFUlNBVElPTl9KT0lORUQQChIdChlLSU5EX0NPTlZFUlNBVElPTl9ERUxFVEVEEAsSEQoNS0lORF9ORVdfQ0FMTBAMEhQKEEtJTkRfQ0FMTF9KT0lORUQQDRIWChJLSU5EX0NBTExfRklOSVNIRUQQDhIYChRLSU5EX0lOVklUQVRJT05fU0VOVBAPEhwKGEtJTkRfSU5WSVRBVElPTl9BQ0NFUFRFRBAQEhMKD0tJTkRfV0FWRVNfU0VOVBAREhYKEktJTkRfV0FWRVNfUkVQTElFUxASEh4KGktJTkRfTk9USUZJQ0FUSU9OX1JFQ0VJVkVEEBMSHAoYS0lORF9OT1RJRklDQVRJT05fT1BFTkVEEBQSGgoWS0lORF9TRVNTSU9OX0hFQVJUQkVBVBAVEhwKGEtJTkRfQ09OVkVSU0FUSU9OX09QRU5FRBAWEiIKHktJTkRfR1JPVVBfQ09OVkVSU0FUSU9OX09QRU5FRBAXEhoKFktJTkRfR1JPVVBfQ0FMTF9KT0lORUQQGBITCg9LSU5EX1BPTExTX1ZPVEUQGRIXChNLSU5EX1BPTExTX1JFQ0VJVkVEEBoSFQoRS0lORF9QT0xMU19PUEVORUQQGxIVChFLSU5EX0dBTUVTX0pPSU5FRBAcEhsKF0tJTkRfQlVUVE9OX0lOSVRJQUxJWkVEEB0SGAoUS0lORF9QT0xMU19OQVZJR0FURUQQHhIYChRLSU5EX0FEX1ZJREVPX1BMQVlFRBAfEigKJEtJTkRfQURfSU5URVJBQ1RJT05fQlVUVE9OX05BVklHQVRFRBAgEigKJEtJTkRfQURfSU5URVJBQ1RJT05fQkFOTkVSX05BVklHQVRFRBAhEhIKDktJTkRfQUxMX1ZJRVdTECISGAoUS0lORF9BRF9CQU5ORVJfU0hPV04QIxIVChFLSU5EX0FEX1ZJREVPX1EyNRAkEhUKEUtJTkRfQURfVklERU9fUTUwECUSFQoRS0lORF9BRF9WSURFT19RNzUQJhIaChZLSU5EX0FEX1ZJREVPX0NPTVBMRVRFECcSGgoWS0lORF9BRF9WSURFT19SRU5ERVJFRBAoEhkKFUtJTkRfQURfVklERU9fU0tJUFBFRBApEhoKFktJTkRfQURfVklERU9fUkVQTEFZRUQQKhIXChNLSU5EX0FEX1ZJREVPX01VVEVEECsSGQoVS0lORF9BRF9WSURFT19VTk1VVEVEECwSHgoaS0lORF9BRF9JTlRFUkFDVElPTl9DVVNUT00QLRIWChJLSU5EX1BPTExTX0FEX1ZPVEUQLhIYChRLSU5EX1BPTExTX0FEX09QRU5FRBAvEhYKEktJTkRfU1RSRUFNX1BBVVNFRBAwEhcKE0tJTkRfU1RSRUFNX1JFU1VNRUQQMRIeChpLSU5EX0VYVEVSTkFMX0FEX1JFUVVFU1RFRBAyEhsKF0tJTkRfRVhURVJOQUxfQURfTE9BREVEEDMSHQoZS0lORF9FWFRFUk5BTF9BRF9SRU5ERVJFRBA0EhsKF0tJTkRfRVhURVJOQUxfQURfQ0xPU0VEEDUqgwcKCENhdGVnb3J5EhIKDkNBVEVHT1JZX1VOU0VUEAASFwoTQ0FURUdPUllfU1RBVFNfSE9NRRABEhIKDkNBVEVHT1JZX1NUQVRTEAISGQoVQ0FURUdPUllfVFdJVFRFUl9IT01FEAMSFAoQQ0FURUdPUllfVFdJVFRFUhAEEhsKF0NBVEVHT1JZX01FU1NBR0lOR19IT01FEAUSFgoSQ0FURUdPUllfTUVTU0FHSU5HEAYSGQoVQ0FURUdPUllfQ0FMTElOR19IT01FEAcSFAoQQ0FURUdPUllfQ0FMTElORxAIEhkKFUNBVEVHT1JZX1BST0ZJTEVfSE9NRRAJEhQKEENBVEVHT1JZX1BST0ZJTEUQChIaChZDQVRFR09SWV9XSE9JU1dBVENISU5HEAsSHwobQ0FURUdPUllfV0hPSVNXQVRDSElOR19IT01FEAwSGQoVQ0FURUdPUllfSU5URVJTVElUSUFMEA0SFAoQQ0FURUdPUllfQkVUVElORxAOEhkKFUNBVEVHT1JZX0JFVFRJTkdfSE9NRRAPEhMKD0NBVEVHT1JZX0lOUExBWRAQEhgKFENBVEVHT1JZX0lOUExBWV9IT01FEBESGAoUQ0FURUdPUllfTUVSQ0hBTkRJU0UQEhIdChlDQVRFR09SWV9NRVJDSEFORElTRV9IT01FEBMSFQoRQ0FURUdPUllfQ09OVEVTVFMQFBIaChZDQVRFR09SWV9DT05URVNUU19IT01FEBUSFAoQQ0FURUdPUllfVElDS0VUUxAWEhkKFUNBVEVHT1JZX1RJQ0tFVFNfSE9NRRAXEhcKE0NBVEVHT1JZX0lOVklUQVRJT04QGBIcChhDQVRFR09SWV9JTlZJVEFUSU9OX0hPTUUQGRISCg5DQVRFR09SWV9QT0xMUxAaEhcKE0NBVEVHT1JZX1BPTExTX0hPTUUQGxIUChBDQVRFR09SWV9GQU5UQVNZEBwSDwoLQ0FURUdPUllfV1AQHRIcChhDQVRFR09SWV9ISUdITElHSFRTX0hPTUUQHhIXChNDQVRFR09SWV9ISUdITElHSFRTEB8SHQoZQ0FURUdPUllfUFVCTElDX0NIQVRfSE9NRRAgEhgKFENBVEVHT1JZX1BVQkxJQ19DSEFUECESHgoaQ0FURUdPUllfRVhQT1NFRF9QQVVTRURfQUQQIip0ChFTY3JlZW5PcmllbnRhdGlvbhIcChhTQ1JFRU5fT1JJRU5UQVRJT05fVU5TRVQQABIfChtTQ1JFRU5fT1JJRU5UQVRJT05fUE9SVFJBSVQQARIgChxTQ1JFRU5fT1JJRU5UQVRJT05fTEFORFNDQVBFEAIqmQMKCVRvcGljVHlwZRIUChBUT1BJQ19UWVBFX1VOU0VUEAASEwoPVE9QSUNfVFlQRV9DQUxMEAESEwoPVE9QSUNfVFlQRV9DSEFUEAISFgoSVE9QSUNfVFlQRV9GQU5UQVNZEAMSFAoQVE9QSUNfVFlQRV9QT0xMUxAEEhkKFVRPUElDX1RZUEVfUE9MTFNfUE9MTBAFEhsKF1RPUElDX1RZUEVfUE9MTFNfVFJJVklBEAYSHwobVE9QSUNfVFlQRV9QT0xMU19QUkVESUNUSU9OEAcSHAoYVE9QSUNfVFlQRV9QT0xMU19JTlNJR0hUEAgSHAoYVE9QSUNfVFlQRV9QT0xMU19UV0lUVEVSEAkSEwoPVE9QSUNfVFlQRV9MSU5LEAoSFgoSVE9QSUNfVFlQRV9NRVNTQUdFEAsSHgoaVE9QSUNfVFlQRV9QT0xMU19QUk9NT1RJT04QDBIaChZUT1BJQ19UWVBFX1BVQkxJQ19DSEFUEA0SIAocVE9QSUNfVFlQRV9FWFBPU0VEX1BBVVNFRF9BRBAOKs4HCgxUb3BpY1N1YlR5cGUSGAoUVE9QSUNfU1VCX1RZUEVfVU5TRVQQABIpCiVUT1BJQ19TVUJfVFlQRV9QUk9NT1RJT05fSU5HQU1FX0lBQjIxEAESKQolVE9QSUNfU1VCX1RZUEVfUFJPTU9USU9OX0lOR0FNRV9JQUIxMRACEikKJVRPUElDX1NVQl9UWVBFX1BST01PVElPTl9JTkdBTUVfSUFCNjEQAxIuCipUT1BJQ19TVUJfVFlQRV9QUk9NT1RJT05fSU5HQU1FX0lBQjIxX0xCQVIQBBIuCipUT1BJQ19TVUJfVFlQRV9QUk9NT1RJT05fSU5HQU1FX0lBQjExX0xCQVIQBRI5CjVUT1BJQ19TVUJfVFlQRV9QUk9NT1RJT05fSU5HQU1FX0lBQjIxX0xCQVJfQURESVRJT05BTBAGEjkKNVRPUElDX1NVQl9UWVBFX1BST01PVElPTl9JTkdBTUVfSUFCMTFfTEJBUl9BRERJVElPTkFMEAcSIAocVE9QSUNfU1VCX1RZUEVfUFJPTU9USU9OX0dBTRAIEi8KK1RPUElDX1NVQl9UWVBFX1BST01PVElPTl9WSURFT19TSURFX0JZX1NJREUQCRIvCitUT1BJQ19TVUJfVFlQRV9QUk9NT1RJT05fUElDVFVSRV9JTl9QSUNUVVJFEAoSJgoiVE9QSUNfU1VCX1RZUEVfUFJPTU9USU9OX1NIT1BfTEJBUhALEikKJVRPUElDX1NVQl9UWVBFX1BST01PVElPTl9TSE9QX09WRVJMQVkQDBIpCiVUT1BJQ19TVUJfVFlQRV9QUk9NT1RJT05fU0hPUF9TSURFQkFSEA0SKgomVE9QSUNfU1VCX1RZUEVfUFJPTU9USU9OX05GTF9TSE9QX0xCQVIQDhItCilUT1BJQ19TVUJfVFlQRV9QUk9NT1RJT05fTkZMX1NIT1BfT1ZFUkxBWRAPEi0KKVRPUElDX1NVQl9UWVBFX1BST01PVElPTl9ORkxfU0hPUF9TSURFQkFSEBASMQotVE9QSUNfU1VCX1RZUEVfUFJPTU9USU9OX0lOR0FNRV9JQUIyMV9TSURFQkFSEBESMQotVE9QSUNfU1VCX1RZUEVfUFJPTU9USU9OX0lOR0FNRV9JQUIxMV9TSURFQkFSEBISMQotVE9QSUNfU1VCX1RZUEVfUFJPTU9USU9OX0lOR0FNRV9JQUI2MV9TSURFQkFSEBMSKAokVE9QSUNfU1VCX1RZUEVfUFJPTU9USU9OX0xPV0VSX1RISVJEEBQqgQIKDlBvbGxPcGVuZWRGcm9tEhoKFlBPTExfT1BFTkVEX0ZST01fVU5TRVQQABIbChdQT0xMX09QRU5FRF9GUk9NX0lOX0FQUBABEiAKGFBPTExfT1BFTkVEX0ZST01fSElTVE9SWRACGgIIARIhCh1QT0xMX09QRU5FRF9GUk9NX1BJQ0tfSElTVE9SWRADEiQKIFBPTExfT1BFTkVEX0ZST01fSU5TSUdIVF9ISVNUT1JZEAQSIwofUE9MTF9PUEVORURfRlJPTV9UV0VFVFNfSElTVE9SWRAFEiYKIlBPTExfT1BFTkVEX0ZST01fUFJPTU9USU9OX0hJU1RPUlkQBipGCgpFbnRpdHlUeXBlEgkKBVVOU0VUEAASCQoFRVZFTlQQARIICgRVU0VSEAISCgoGREVWSUNFEAMSDAoIUVVFU1RJT04QBEK1AQojY29tLnN0cmVhbWxheWVyLmFuYWx5dGljcy5jb21tb24udjFCH1N0cmVhbUxheWVyQW5hbHl0aWNzQ29tbW9uUHJvdG9QAVpiZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9hbmFseXRpY3MvdjEvY29tbW9uO3NsX2FuYWx5dGljc19jb21tb26iAgZTTF9BUEliBnByb3RvMw",[Wc]),see=St(Vs,1),Et=Tt(see),ree=St(Vs,2),Ji=Tt(ree),aee=St(Vs,3),k6=Tt(aee),oee=St(Vs,4),_t=Tt(oee),lee=St(Vs,5),li=Tt(lee),cee=St(Vs,6),ci=Tt(cee),ya=kt("CitzdHJlYW1sYXllci9jb21tb24vc3RyZWFtbGF5ZXJfY29tbW9uLnByb3RvEhJzdHJlYW1sYXllci5jb21tb24iJgoIS2V5VmFsdWUSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJKroBChNQcm9wYWdhdGlvblN0cmF0ZWd5EiAKHFBST1BBR0FUSU9OX1NUUkFURUdZX0lOVkFMSUQQABIeChpQUk9QQUdBVElPTl9TVFJBVEVHWV9VTlNFVBABEh8KG1BST1BBR0FUSU9OX1NUUkFURUdZX0lHTk9SRRACEh4KGlBST1BBR0FUSU9OX1NUUkFURUdZX0FXQUlUEAMSIAocUFJPUEFHQVRJT05fU1RSQVRFR1lfUFVCTElTSBAEKqYBChBGYWlsb3ZlclN0cmF0ZWd5Eh0KGUZBSUxPVkVSX1NUUkFURUdZX0lOVkFMSUQQABIbChdGQUlMT1ZFUl9TVFJBVEVHWV9VTlNFVBABEhwKGEZBSUxPVkVSX1NUUkFURUdZX0lHTk9SRRACEhsKF0ZBSUxPVkVSX1NUUkFURUdZX0VBUkxZEAMSGwoXRkFJTE9WRVJfU1RSQVRFR1lfR1JBQ0UQBCqsAQoWQXV0aGVudGljYXRpb25TdHJhdGVneRIjCh9BVVRIRU5USUNBVElPTl9TVFJBVEVHWV9JTlZBTElEEAASIQodQVVUSEVOVElDQVRJT05fU1RSQVRFR1lfVU5TRVQQARIkCiBBVVRIRU5USUNBVElPTl9TVFJBVEVHWV9SRVFVSVJFRBACEiQKIEFVVEhFTlRJQ0FUSU9OX1NUUkFURUdZX09QVElPTkFMEAMq2AEKC0FjY2Vzc0xldmVsEhYKEkFDQ0VTU19MRVZFTF9VTlNFVBAAEhYKEkFDQ0VTU19MRVZFTF9PV05FUhABEhcKE0FDQ0VTU19MRVZFTF9DTElFTlQQAhIbChZBQ0NFU1NfTEVWRUxfTU9ERVJBVE9SENQWEhgKE0FDQ0VTU19MRVZFTF9WSUVXRVIQuBcSGAoTQUNDRVNTX0xFVkVMX01FTUJFUhCgHxIXChJBQ0NFU1NfTEVWRUxfQURNSU4QiCcSFgoRQUNDRVNTX0xFVkVMX1JPT1QQkE4qTQoRT3JnYW5pemF0aW9uU2NvcGUSHAoYT1JHQU5JWkFUSU9OX1NDT1BFX1VOU0VUEAASGgoWT1JHQU5JWkFUSU9OX1NDT1BFX1NFVBABOkMKC3JvdXRlUHJlZml4Eh8uZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zGNGGAyABKAlSC3JvdXRlUHJlZml4OjgKBmFjdGlvbhIeLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zGOHUAyABKAlSBmFjdGlvbjp7ChNwcm9wYWdhdGlvblN0cmF0ZWd5Eh4uZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMY4tQDIAEoDjInLnN0cmVhbWxheWVyLmNvbW1vbi5Qcm9wYWdhdGlvblN0cmF0ZWd5UhNwcm9wYWdhdGlvblN0cmF0ZWd5OnIKEGZhaWxvdmVyU3RyYXRlZ3kSHi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucxjj1AMgASgOMiQuc3RyZWFtbGF5ZXIuY29tbW9uLkZhaWxvdmVyU3RyYXRlZ3lSEGZhaWxvdmVyU3RyYXRlZ3k6hAEKFmF1dGhlbnRpY2F0aW9uU3RyYXRlZ3kSHi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucxjk1AMgASgOMiouc3RyZWFtbGF5ZXIuY29tbW9uLkF1dGhlbnRpY2F0aW9uU3RyYXRlZ3lSFmF1dGhlbnRpY2F0aW9uU3RyYXRlZ3k6YwoLYWNjZXNzTGV2ZWwSHi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucxjl1AMgASgOMh8uc3RyZWFtbGF5ZXIuY29tbW9uLkFjY2Vzc0xldmVsUgthY2Nlc3NMZXZlbDp1ChFvcmdhbml6YXRpb25TY29wZRIeLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zGObUAyABKA4yJS5zdHJlYW1sYXllci5jb21tb24uT3JnYW5pemF0aW9uU2NvcGVSEW9yZ2FuaXphdGlvblNjb3BlQogBChZjb20uc3RyZWFtbGF5ZXIuY29tbW9uQhZTdHJlYW1MYXllckNvbW1vblByb3RvUAFaS2dpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvY29tbW9uO3NsX2NvbW1vbqICBlNMX0FQSWIGcHJvdG8z",[zW]),eG=kt("CiBzdHJlYW1sYXllci9zb2NpYWwvdHdpdHRlci5wcm90bxISc3RyZWFtbGF5ZXIuc29jaWFsIi4KDVR3ZWV0SGFzaHRhZ3MSDAoEdGV4dBgBIAEoCRIPCgdpbmRpY2VzGAIgAygFIlQKCVR3ZWV0VXJscxILCgN1cmwYASABKAkSEwoLZGlzcGxheV91cmwYAiABKAkSFAoMZXhwYW5kZWRfdXJsGAMgASgJEg8KB2luZGljZXMYBCADKAUiywIKClR3ZWV0TWVkaWESCgoCaWQYASABKAMSDgoGaWRfc3RyGAIgASgJEgwKBHR5cGUYAyABKAkSCwoDdXJsGAQgASgJEhEKCW1lZGlhX3VybBgFIAEoCRITCgtkaXNwbGF5X3VybBgGIAEoCRIUCgxleHBhbmRlZF91cmwYByABKAkSFwoPbWVkaWFfdXJsX2h0dHBzGAggASgJEhYKDnNvdXJjZV91c2VyX2lkGAkgASgDEhoKEnNvdXJjZV91c2VyX2lkX3N0chgKIAEoCRIYChBzb3VyY2Vfc3RhdHVzX2lkGAsgASgDEhwKFHNvdXJjZV9zdGF0dXNfaWRfc3RyGAwgASgJEjIKBXNpemVzGA0gASgLMiMuc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0TWVkaWFTaXplcxIPCgdpbmRpY2VzGA4gAygFIu0DChJUd2VldEV4dGVuZGVkTWVkaWESCgoCaWQYASABKAMSDgoGaWRfc3RyGAIgASgJEgwKBHR5cGUYAyABKAkSCwoDdXJsGAQgASgJEhEKCW1lZGlhX3VybBgFIAEoCRITCgtkaXNwbGF5X3VybBgGIAEoCRIUCgxleHBhbmRlZF91cmwYByABKAkSFwoPbWVkaWFfdXJsX2h0dHBzGAggASgJEjIKBXNpemVzGAkgASgLMiMuc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0TWVkaWFTaXplcxIPCgdpbmRpY2VzGAogAygFEjsKCnZpZGVvX2luZm8YCyABKAsyJy5zdHJlYW1sYXllci5zb2NpYWwuVHdlZXRNZWRpYVZpZGVvSW5mbxJeChVhZGRpdGlvbmFsX21lZGlhX2luZm8YDCABKAsyPy5zdHJlYW1sYXllci5zb2NpYWwuVHdlZXRFeHRlbmRlZE1lZGlhLlR3ZWV0QWRkaXRpb25hbE1lZGlhSW5mbxpnChhUd2VldEFkZGl0aW9uYWxNZWRpYUluZm8SDQoFdGl0bGUYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkSEgoKZW1iZWRkYWJsZRgDIAEoCBITCgttb25ldGl6YWJsZRgEIAEoCCLcAQoTVHdlZXRNZWRpYVZpZGVvSW5mbxIUCgxhc3BlY3RfcmF0aW8YASADKAUSFwoPZHVyYXRpb25fbWlsbGlzGAIgASgFEkwKCHZhcmlhbnRzGAMgAygLMjouc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0TWVkaWFWaWRlb0luZm8uVHdlZXRWaWRlb1ZhcmlhbnRzGkgKElR3ZWV0VmlkZW9WYXJpYW50cxIPCgdiaXRyYXRlGAEgASgFEhQKDGNvbnRlbnRfdHlwZRgCIAEoCRILCgN1cmwYAyABKAki3gEKD1R3ZWV0TWVkaWFTaXplcxIxCgV0aHVtYhgBIAEoCzIiLnN0cmVhbWxheWVyLnNvY2lhbC5Ud2VldE1lZGlhU2l6ZRIxCgVsYXJnZRgCIAEoCzIiLnN0cmVhbWxheWVyLnNvY2lhbC5Ud2VldE1lZGlhU2l6ZRIyCgZtZWRpdW0YAyABKAsyIi5zdHJlYW1sYXllci5zb2NpYWwuVHdlZXRNZWRpYVNpemUSMQoFc21hbGwYBCABKAsyIi5zdHJlYW1sYXllci5zb2NpYWwuVHdlZXRNZWRpYVNpemUiNgoOVHdlZXRNZWRpYVNpemUSCQoBdxgBIAEoBRIJCgFoGAIgASgFEg4KBnJlc2l6ZRgDIAEoCSJjChFUd2VldFVzZXJNZW50aW9ucxIKCgJpZBgBIAEoAxIOCgZpZF9zdHIYAiABKAkSDAoEbmFtZRgDIAEoCRITCgtzY3JlZW5fbmFtZRgEIAEoCRIPCgdpbmRpY2VzGAUgAygFIiwKC1R3ZWV0U3ltYm9sEgwKBHRleHQYASABKAkSDwoHaW5kaWNlcxgCIAMoBSKuAQoJVHdlZXRQb2xsEhgKEGR1cmF0aW9uX21pbnV0ZXMYASABKAkSFAoMZW5kX2RhdGV0aW1lGAIgASgJEj4KB29wdGlvbnMYAyADKAsyLS5zdHJlYW1sYXllci5zb2NpYWwuVHdlZXRQb2xsLlR3ZWV0UG9sbE9wdGlvbhoxCg9Ud2VldFBvbGxPcHRpb24SEAoIcG9zaXRpb24YASABKAUSDAoEdGV4dBgCIAEoCSKXBgoNVHdlZXRNZXRhZGF0YRIOCgZpZF9zdHIYASABKAkSDwoHYWNjb3VudBgCIAEoCRISCgphY2NvdW50X2lkGAMgASgJEhUKDWFjY291bnRfaW1hZ2UYBCABKAkSFAoMYWNjb3VudF9uYW1lGAggASgJEhgKEGFjY291bnRfdmVyaWZpZWQYCSABKAgSMwoQcmV0d2VldGVkX3N0YXR1cxgFIAEoCzIZLnN0cmVhbWxheWVyLnNvY2lhbC5Ud2VldBJBCghlbnRpdGllcxgGIAEoCzIvLnN0cmVhbWxheWVyLnNvY2lhbC5Ud2VldE1ldGFkYXRhLlR3ZWV0RW50aXRpZXMSUgoRZXh0ZW5kZWRfZW50aXRpZXMYByABKAsyNy5zdHJlYW1sYXllci5zb2NpYWwuVHdlZXRNZXRhZGF0YS5Ud2VldEV4dGVuZGVkRW50aXRpZXMSFQoNcmV0d2VldF9jb3VudBgKIAEoBBIWCg5mYXZvcml0ZV9jb3VudBgLIAEoBBq+AgoNVHdlZXRFbnRpdGllcxIrCgR1cmxzGAEgAygLMh0uc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0VXJscxIzCghoYXNodGFncxgCIAMoCzIhLnN0cmVhbWxheWVyLnNvY2lhbC5Ud2VldEhhc2h0YWdzEi0KBW1lZGlhGAMgAygLMh4uc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0TWVkaWESPAoNdXNlcl9tZW50aW9ucxgEIAMoCzIlLnN0cmVhbWxheWVyLnNvY2lhbC5Ud2VldFVzZXJNZW50aW9ucxIwCgdzeW1ib2xzGAUgAygLMh8uc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0U3ltYm9sEiwKBXBvbGxzGAYgAygLMh0uc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0UG9sbBpOChVUd2VldEV4dGVuZGVkRW50aXRpZXMSNQoFbWVkaWEYASADKAsyJi5zdHJlYW1sYXllci5zb2NpYWwuVHdlZXRFeHRlbmRlZE1lZGlhImAKBVR3ZWV0EgoKAmlkGAEgASgJEgwKBGRhdGUYAiABKAkSDAoEdGV4dBgDIAEoCRIvCgRtZXRhGAQgASgLMiEuc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0TWV0YWRhdGEiJgoTU3Vic2NyaXB0aW9uUmVxdWVzdBIPCgdhY2NvdW50GAEgAygJIl8KFFN1YnNjcmlwdGlvblJlc3BvbnNlEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSLQoKYXR0cmlidXRlcxgDIAEoCzIZLnN0cmVhbWxheWVyLnNvY2lhbC5Ud2VldCLtAQoLU3luY1JlcXVlc3QSQQoGZmlsdGVyGAEgASgLMjEuc3RyZWFtbGF5ZXIuc29jaWFsLlN5bmNSZXF1ZXN0LlN5bmNSZXF1ZXN0RmlsdGVyGpoBChFTeW5jUmVxdWVzdEZpbHRlchIPCgdhY2NvdW50GAEgASgJEhAKCG1lbnRpb25zGAIgAygJEhAKCGhhc2h0YWdzGAMgAygJEgwKBHBhZ2UYBCABKAUSEQoJcGFnZV9zaXplGAUgASgFEg4KBmN1cnNvchgGIAEoCRINCgVvcmRlchgHIAEoCRIQCghhY2NvdW50cxgJIAMoCSK4AgoMU3luY1Jlc3BvbnNlEkMKBG1ldGEYASABKAsyNS5zdHJlYW1sYXllci5zb2NpYWwuU3luY1Jlc3BvbnNlLlN5bmNSZXNwb25zZU1ldGFkYXRhEj8KBGRhdGEYAiADKAsyMS5zdHJlYW1sYXllci5zb2NpYWwuU3luY1Jlc3BvbnNlLlN5bmNSZXNwb25zZURhdGEaRQoUU3luY1Jlc3BvbnNlTWV0YWRhdGESDQoFY291bnQYASABKAUSDgoGYmVmb3JlGAIgASgJEg4KBmN1cnNvchgDIAEoCRpbChBTeW5jUmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSLQoKYXR0cmlidXRlcxgDIAEoCzIZLnN0cmVhbWxheWVyLnNvY2lhbC5Ud2VldCIjCg9HZXRUd2VldFJlcXVlc3QSEAoIdHdlZXRfaWQYASABKAkivAEKEEdldFR3ZWV0UmVzcG9uc2USRwoEZGF0YRgBIAEoCzI5LnN0cmVhbWxheWVyLnNvY2lhbC5HZXRUd2VldFJlc3BvbnNlLkdldFR3ZWV0UmVzcG9uc2VEYXRhGl8KFEdldFR3ZWV0UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSLQoKYXR0cmlidXRlcxgDIAEoCzIZLnN0cmVhbWxheWVyLnNvY2lhbC5Ud2VldCIkChBTeW5jVHdlZXRSZXF1ZXN0EhAKCHR3ZWV0X2lkGAEgASgJIsABChFTeW5jVHdlZXRSZXNwb25zZRJJCgRkYXRhGAEgASgLMjsuc3RyZWFtbGF5ZXIuc29jaWFsLlN5bmNUd2VldFJlc3BvbnNlLlN5bmNUd2VldFJlc3BvbnNlRGF0YRpgChVTeW5jVHdlZXRSZXNwb25zZURhdGESCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRItCgphdHRyaWJ1dGVzGAMgASgLMhkuc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0Ms8DCgdUd2l0dGVyEoUBCgxTdWJzY3JpcHRpb24SJy5zdHJlYW1sYXllci5zb2NpYWwuU3Vic2NyaXB0aW9uUmVxdWVzdBooLnN0cmVhbWxheWVyLnNvY2lhbC5TdWJzY3JpcHRpb25SZXNwb25zZSIgiqYdFHR3aXR0ZXIuc3Vic2NyaXB0aW9ukKYdApimHQIwARJYCgRTeW5jEh8uc3RyZWFtbGF5ZXIuc29jaWFsLlN5bmNSZXF1ZXN0GiAuc3RyZWFtbGF5ZXIuc29jaWFsLlN5bmNSZXNwb25zZSINiqYdCWZlZWQucmVhZBJkCghHZXRUd2VldBIjLnN0cmVhbWxheWVyLnNvY2lhbC5HZXRUd2VldFJlcXVlc3QaJC5zdHJlYW1sYXllci5zb2NpYWwuR2V0VHdlZXRSZXNwb25zZSINiqYdCXR3ZWV0LmdldBJwCglTeW5jVHdlZXQSJC5zdHJlYW1sYXllci5zb2NpYWwuU3luY1R3ZWV0UmVxdWVzdBolLnN0cmVhbWxheWVyLnNvY2lhbC5TeW5jVHdlZXRSZXNwb25zZSIWiqYdCnR3ZWV0LnN5bmOgph0CqKYdARoKirUYBnNvY2lhbEKSAQoWY29tLnN0cmVhbWxheWVyLnNvY2lhbEIXU3RyZWFtTGF5ZXJUd2l0dGVyUHJvdG9QAVpUZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9zb2NpYWwvdHdpdHRlcjtzbF90d2l0dGVyogIGU0xfQVBJYgZwcm90bzM",[ya]),Ai=kt("CjBzdHJlYW1sYXllci9pbnRlcmFjdGl2ZS9pbnRlcmFjdGl2ZS5jb21tb24ucHJvdG8SF3N0cmVhbWxheWVyLmludGVyYWN0aXZlIlQKCkNsb3NlVGltZXISNQoEYXV0bxgBIAEoDjInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkNsb3NlVGltZXJBdXRvEg8KB3NlY29uZHMYAiABKAUijAIKElF1ZXN0aW9uQXBwZWFyYW5jZRI3CgZsYXlvdXQYASABKA4yJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbkxheW91dBI3CgZpbWFnZXMYAiABKA4yJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbkltYWdlcxIVCg1wcmltYXJ5X2NvbG9yGAMgASgJEkQKCHBvc2l0aW9uGAQgASgOMikuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25Qb3NpdGlvbkICGAFIAIgBARIaChJhdXRvX2hpZGVfaW50ZXJ2YWwYBSABKARCCwoJX3Bvc2l0aW9uIs4CCgtTcG9uc29yc2hpcBIMCgRsb2dvGAEgASgJEhEKBG5hbWUYAiABKAlIAIgBARIZCgxjbGFzc2ljX2xvZ28YAyABKAlIAYgBARIYCgtjZW50ZXJfbG9nbxgEIAEoCUgCiAEBElAKDWxvZ29fcG9zaXRpb24YBSABKA4yNC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Ob3RpZmljYXRpb25TcG9uc29yTG9nb01vZGVIA4gBARJGChB1c2VfZ2VuZXJhbF9sb2dvGAYgASgOMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuVXNlR2VuZXJhbExvZ29IBIgBAUIHCgVfbmFtZUIPCg1fY2xhc3NpY19sb2dvQg4KDF9jZW50ZXJfbG9nb0IQCg5fbG9nb19wb3NpdGlvbkITChFfdXNlX2dlbmVyYWxfbG9nbyLNAgoVUHJvbW90aW9uTm90aWZpY2F0aW9uEhQKDHNwb25zb3JfbG9nbxgBIAEoCRJPChFzcG9uc29yX2xvZ29fbW9kZRgCIAEoDjI0LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLk5vdGlmaWNhdGlvblNwb25zb3JMb2dvTW9kZRI2CgpjdGFfYnV0dG9uGAMgASgLMiIuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQ1RBQnV0dG9uElMKDmltYWdlX3Bvc2l0aW9uGAQgASgOMjsuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuTm90aWZpY2F0aW9uUHJvbW90aW9uSW1hZ2VQb3NpdGlvbhJACgRtb2RlGAUgASgOMjIuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuTm90aWZpY2F0aW9uUHJvbW90aW9uTW9kZSL8AwoUUXVlc3Rpb25Ob3RpZmljYXRpb24SDQoFdGl0bGUYASABKAkSDQoFaW1hZ2UYAiABKAkSFwoPaW5kaWNhdG9yX2NvbG9yGAMgASgJEj4KDmltYWdlX3Bvc2l0aW9uGAQgASgOMiYuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuSW1hZ2VQb3NpdGlvbhIMCgRib2R5GAUgASgJEjsKCmltYWdlX21vZGUYBiABKA4yJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbkltYWdlcxJBCglwcm9tb3Rpb24YByABKAsyLi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Qcm9tb3Rpb25Ob3RpZmljYXRpb24SPQoHZW5hYmxlZBgIIAEoDjIsLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLk5vdGlmaWNhdGlvbkVuYWJsZWQSTwoRdXNlX2NvbnRlbnRfbWVkaWEYCSABKA4yNC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Ob3RpZmljYXRpb25Vc2VDb250ZW50TWVkaWESTwoRdXNlX2NvbnRlbnRfdGV4dHMYCiABKA4yNC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Ob3RpZmljYXRpb25Vc2VDb250ZW50VGV4dHMiWQoOUXVlc3Rpb25BbnN3ZXISCgoCaWQYASABKAkSDAoEdGV4dBgCIAEoCRIMCgRpY29uGAMgASgJEg8KB2NvcnJlY3QYBCABKAgSDgoGcG9pbnRzGAUgASgNIr8BChZFeHRlbmRlZFF1ZXN0aW9uQW5zd2VyEgoKAmlkGAEgASgJEgwKBHRleHQYAiABKAkSDAoEaWNvbhgDIAEoCRIPCgdjb3JyZWN0GAQgASgIEg4KBnBvaW50cxgFIAEoDRIWCgpwZXJjZW50YWdlGAYgASgNQgIYARIRCgl5b3Vfdm90ZWQYByABKAgSGgoScGVyY2VudGFnZV9kZWNpbWFsGAggASgBEhUKDXBvaW50c19lYXJuZWQYCSABKA0iNAoOQW5zd2VyRmVlZGJhY2sSDQoFdGl0bGUYASABKAkSEwoLZGVzY3JpcHRpb24YAiABKAkiOgoIRmlsZUxpbmsSCgoCaWQYASABKAkSCwoDdXJsGAIgASgJEhUKDXRodW1ibmFpbF91cmwYAyABKAkiJQoHV2ViTGluaxINCgVsYWJlbBgBIAEoCRILCgN1cmwYAiABKAkioAEKCUNUQUJ1dHRvbhINCgVsYWJlbBgBIAEoCRINCgVjb2xvchgCIAEoCRIXCgp0ZXh0X2NvbG9yGAMgASgJSACIAQESEAoIY3RhX2ljb24YBCABKAkSOwoNY3RhX2ljb25fbW9kZRgFIAEoDjIkLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkN0YUljb25Nb2RlQg0KC190ZXh0X2NvbG9yIqoECgZCYW5uZXISEQoJaW1hZ2VfdXJsGAEgASgJEgsKA3VybBgCIAEoCRI2CgpjdGFfYnV0dG9uGAMgASgLMiIuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQ1RBQnV0dG9uEjAKBXZpZGVvGAQgASgLMiEuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuRmlsZUxpbmsSEQoEYm9keRgFIAEoCUgAiAEBElQKGGFuYWx5dGljc190b3BpY19zdWJfdHlwZRgGIAEoDjItLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uVG9waWNTdWJUeXBlSAGIAQESEgoFdGl0bGUYByABKAlIAogBARIWCglzdWJfdGl0bGUYCCABKAlIA4gBARJYCg5pbWFnZV9wb3NpdGlvbhgJIAEoDjI7LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLk5vdGlmaWNhdGlvblByb21vdGlvbkltYWdlUG9zaXRpb25IBIgBARJFCgxtZWRpYV9mb3JtYXQYCiABKA4yKi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5CYW5uZXJNZWRpYUZvcm1hdEgFiAEBQgcKBV9ib2R5QhsKGV9hbmFseXRpY3NfdG9waWNfc3ViX3R5cGVCCAoGX3RpdGxlQgwKCl9zdWJfdGl0bGVCEQoPX2ltYWdlX3Bvc2l0aW9uQg8KDV9tZWRpYV9mb3JtYXQiLAoGQWRMb29wEhUKCGludGVydmFsGAEgASgFSACIAQFCCwoJX2ludGVydmFsImQKBVByaWNlEg0KBXByaWNlGAEgASgJEjgKDHNhbGVfZW5hYmxlZBgCIAEoDjIiLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlNhbGVQcmljZRISCgpzYWxlX3ByaWNlGAMgASgJIiQKBFNpemUSDQoFbGFiZWwYASABKAkSDQoFdmFsdWUYAiABKAkiagoHUHJvZHVjdBIKCgJpZBgBIAEoCRIRCglpbWFnZV91cmwYAiABKAkSDQoFdGl0bGUYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkSDQoFY29sb3IYBSABKAkSDQoFYnJhbmQYBiABKAkirQQKEkdlbmVyYWxUYWJNZXRhZGF0YRIcCg9hZHZlcnRpc2VyX2xvZ28YASABKAlIAIgBARIXCg9hZHZlcnRpc2VyX25hbWUYAiABKAkSGgoNY2FtcGFpZ25fbmFtZRgDIAEoCUgBiAEBEjcKCGFkX2dyb3VwGAQgASgLMiAuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQWRHcm91cEgCiAEBEj8KDHRyaWdnZXJfdHlwZRgFIAEoDjIkLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlRyaWdnZXJUeXBlSAOIAQESGgoOZ2VvX3RhcmdldGluZ3MYBiADKAlCAhgBEh8KE2F1ZGllbmNlX3RhcmdldGluZ3MYByADKAlCAhgBEkcKEWRldmljZV90YXJnZXRpbmdzGAggAygOMiguc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuRGV2aWNlVGFyZ2V0aW5nQgIYARIMCgR0YWdzGAkgAygJEigKG2FkdmVydGlzZXJfdHJhbnNwYXJlbnRfbG9nbxgKIAEoCUgEiAEBEhgKC2FkX2dyb3VwX2lkGAsgASgFSAWIAQFCEgoQX2FkdmVydGlzZXJfbG9nb0IQCg5fY2FtcGFpZ25fbmFtZUILCglfYWRfZ3JvdXBCDwoNX3RyaWdnZXJfdHlwZUIeChxfYWR2ZXJ0aXNlcl90cmFuc3BhcmVudF9sb2dvQg4KDF9hZF9ncm91cF9pZCLBAQoHQWRHcm91cBIMCgRuYW1lGAEgASgJEjoKDmdlb190YXJnZXRpbmdzGAIgAygLMiIuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuR2VvVGFyZ2V0EhsKE2F1ZGllbmNlX3RhcmdldGluZ3MYAyADKAkSQwoRZGV2aWNlX3RhcmdldGluZ3MYBCADKA4yKC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5EZXZpY2VUYXJnZXRpbmcSCgoCaWQYBSABKAUiJwoJR2VvVGFyZ2V0EgwKBGNvZGUYASABKAkSDAoEbmFtZRgCIAEoCSLTAgoJUHJvbW90aW9uEkEKBmZvcm1hdBgBIAEoDjIoLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlByb21vdGlvbkZvcm1hdEICGAFIAIgBARIvCgZiYW5uZXIYAiABKAsyHy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5CYW5uZXISSQoUZ2VuZXJhbF90YWJfbWV0YWRhdGEYAyABKAsyKy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5HZW5lcmFsVGFiTWV0YWRhdGESOQoHYWRfdW5pdBgEIAEoDjIfLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkFkVW5pdEICGAFIAYgBARI1CgdzcG9uc29yGAUgASgLMiQuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuU3BvbnNvcnNoaXBCCQoHX2Zvcm1hdEIKCghfYWRfdW5pdCI+Cg9CYWNrZ3JvdW5kSW1hZ2USFQoNbGFuZHNjYXBlX3VybBgBIAEoCRIUCgxwb3J0cmFpdF91cmwYAiABKAkitAIKCk5GTFByb2R1Y3QSCgoCaWQYASABKAkSDQoFdGl0bGUYAiABKAkSEgoKc2FsZV9wcmljZRgDIAEoARINCgVwcmljZRgEIAEoARIMCgRsaW5rGAUgASgJEhIKCmltYWdlX2xpbmsYBiABKAkSDAoEZ3RpbhgHIAEoCRIfChdnb29nbGVfcHJvZHVjdF9jYXRlZ29yeRgIIAEoCRIOCgZnZW5kZXIYCSABKAkSEwoLZGVzY3JpcHRpb24YCiABKAkSEQoJY29uZGl0aW9uGAsgASgJEg0KBWNvbG9yGAwgASgJEg0KBWJyYW5kGA0gASgJEhQKDGF2YWlsYWJpbGl0eRgOIAEoCRIOCgZsZWFndWUYDyABKAkSDAoEdGVhbRgQIAEoCRINCgVzaXplcxgRIAMoCSLtPwoPUXVlc3Rpb25PcHRpb25zEkQKBHBvbGwYASABKAsyNC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuUG9sbE9wdGlvbnNIABJICgZ0cml2aWEYAiABKAsyNi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuVHJpdmlhT3B0aW9uc0gAElAKCnByZWRpY3Rpb24YAyABKAsyOi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuUHJlZGljdGlvbk9wdGlvbnNIABJKCgdmYWN0b2lkGAQgASgLMjcuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25PcHRpb25zLkZhY3RvaWRPcHRpb25zSAASRgoFdHdlZXQYBSABKAsyNS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuVHdlZXRPcHRpb25zSAASTgoJcHJvbW90aW9uGAYgASgLMjkuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25PcHRpb25zLlByb21vdGlvbk9wdGlvbnNIABoNCgtQb2xsT3B0aW9ucxq8AQoNVHJpdmlhT3B0aW9ucxJBChBjb3JyZWN0X2ZlZWRiYWNrGAEgASgLMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQW5zd2VyRmVlZGJhY2sSQwoSaW5jb3JyZWN0X2ZlZWRiYWNrGAIgASgLMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQW5zd2VyRmVlZGJhY2sSDgoGcG9pbnRzGAMgASgEEhMKC2V4cGxhbmF0aW9uGAQgASgJGpsBChFQcmVkaWN0aW9uT3B0aW9ucxJBChBjb3JyZWN0X2ZlZWRiYWNrGAEgASgLMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQW5zd2VyRmVlZGJhY2sSQwoSaW5jb3JyZWN0X2ZlZWRiYWNrGAIgASgLMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQW5zd2VyRmVlZGJhY2sa2AQKDkZhY3RvaWRPcHRpb25zEg0KBWltYWdlGAEgASgJEgwKBGJvZHkYAiABKAkSMAoFdmlkZW8YAyABKAsyIS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5GaWxlTGluaxIyCgh3ZWJfbGluaxgEIAEoCzIgLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLldlYkxpbmsSOwoKaW1hZ2VfbW9kZRgFIAEoDjInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uSW1hZ2VzEkcKE3VzZV9hc19ub3RpZmljYXRpb24YBiABKA4yKi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Vc2VBc05vdGlmaWNhdGlvbhI9CgtjbG9zZV90aW1lchgHIAEoCzIjLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkNsb3NlVGltZXJIAIgBARJECg9hdXRvX3BsYXlfdmlkZW8YCCABKA4yJi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5BdXRvUGxheVZpZGVvSAGIAQESNwoEbW9kZRgJIAEoDjIpLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkZhY3RvaWRNZWRpYU1vZGUSRgoQcGxheV92aWRlb19tdXRlZBgKIAEoDjInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlBsYXlWaWRlb011dGVkSAKIAQFCDgoMX2Nsb3NlX3RpbWVyQhIKEF9hdXRvX3BsYXlfdmlkZW9CEwoRX3BsYXlfdmlkZW9fbXV0ZWQanAIKDFR3ZWV0T3B0aW9ucxIRCgl0d2VldF91cmwYASABKAkSEAoIdHdlZXRfaWQYAiABKAkSVwoKdHdlZXRfbWV0YRgDIAEoCzJDLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uT3B0aW9ucy5Ud2VldE9wdGlvbnMuVHdlZXRNZXRhZGF0YRqNAQoNVHdlZXRNZXRhZGF0YRIPCgdhY2NvdW50GAEgASgJEhgKEGFjY291bnRfdmVyaWZpZWQYAiABKAgSEQoJaGFzX21lZGlhGAMgASgIEigKBXR3ZWV0GAQgASgLMhkuc3RyZWFtbGF5ZXIuc29jaWFsLlR3ZWV0EhQKDGFjY291bnRfbmFtZRgFIAEoCRreEwoKR2FtT3B0aW9ucxIQCgNlbnYYASABKAlIAIgBARIVCghnZGZwX3JlcRgCIAEoCUgBiAEBEg8KAml1GAMgASgJSAKIAQESEwoGb3V0cHV0GAQgASgJSAOIAQESDwoCc3oYBSABKAlIBIgBARIkChd1bnZpZXdlZF9wb3NpdGlvbl9zdGFydBgGIAEoCUgFiAEBEg8KB2NpdV9zenMYByADKAkSEAoDdXJsGAggASgJSAaIAQESHAoPZGVzY3JpcHRpb25fdXJsGAkgASgJSAeIAQESFwoKY29ycmVsYXRvchgKIAEoCUgIiAEBElgKC2N1c3RfcGFyYW1zGAsgAygLMkMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25PcHRpb25zLkdhbU9wdGlvbnMuQ3VzdFBhcmFtc0VudHJ5EhIKBXBsY210GAwgASgJSAmIAQESEAoDdnBhGA0gASgJSAqIAQESEwoGdnBtdXRlGA4gASgJSAuIAQESEAoDd3RhGA8gASgJSAyIAQESEgoFYWNvbnAYECABKAlIDYgBARIUCgdhZF9ydWxlGBEgASgJSA6IAQESFAoHYWRfdHlwZRgSIAEoCUgPiAEBEg8KAmhsGBMgASgJSBCIAQESEAoDZHRoGBQgASgJSBGIAQESEQoEZ2RwchgVIAEoCUgSiAEBEhkKDGdkcHJfY29uc2VudBgWIAEoCUgTiAEBEhQKB2lhYmV4Y2wYFyABKAlIFIgBARIQCgNsaXAYGCABKAhIFYgBARIQCgNsdGQYGSABKAlIFogBARIRCgRub2ZiGBogASgJSBeIAQESEAoDbnBhGBsgASgJSBiIAQESEwoGb21pZF9wGBwgASgJSBmIAQESEAoDcHB0GB0gASgJSBqIAQESEQoEcHBvcxgeIAEoCUgbiAEBEhEKBHBwaWQYHyABKAlIHIgBARIRCgRzY29yGCAgASgJSB2IAQESFQoIc2RrX2FwaXMYISABKAlIHogBARIRCgRzc3NzGCIgASgJSB+IAQESEgoFc2RtYXgYIyABKAlIIIgBARIQCgNzaWQYJCABKAlIIYgBARIQCgNyZHAYJSABKAlIIogBARIaCg1hZGR0bF9jb25zZW50GCYgASgJSCOIAQESEgoFYWZ2c3oYJyABKAlIJIgBARIUCgdhbGxjdWVzGCggASgJSCWIAQESEgoFY21zaWQYKSABKAlIJogBARIQCgN2aWQYKiABKAlIJ4gBARIVCghleGNsX2NhdBgrIAEoCUgoiAEBEhAKA2lwZBgsIAEoCUgpiAEBEhAKA2lwZRgtIAEoCUgqiAEBEhwKD21heF9hZF9kdXJhdGlvbhguIAEoCUgriAEBEhwKD21pbl9hZF9kdXJhdGlvbhgvIAEoCUgsiAEBEhIKBW1yaWR4GDAgASgJSC2IAQESEQoEbXNpZBgxIAEoCUguiAEBEg8KAmFuGDIgASgJSC+IAQESEQoEcG1hZBgzIAEoCUgwiAEBEhEKBHBtbmQYNCABKAlIMYgBARIRCgRwbXhkGDUgASgJSDKIAQESEAoDcG9kGDYgASgJSDOIAQESDwoCcHAYNyABKAlINIgBARIRCgRwcHNqGDggASgJSDWIAQESEQoEcHRwbBg5IAEoCUg2iAEBEhIKBXB0cGxuGDogASgJSDeIAQESEQoEcHViZhg7IAEoCUg4iAEBEhEKBHB2dGYYPCABKAlIOYgBARIRCgRwdmlkGD0gASgJSDqIAQESEwoGcHZpZF9zGD4gASgJSDuIAQESEQoEcmRpZBg/IAEoCUg8iAEBEhMKBmlkdHlwZRhAIAEoCUg9iAEBEhMKBmlzX2xhdBhBIAEoCUg+iAEBEhEKBHRmY2QYQiABKAlIP4gBARIQCgN0cnQYQyABKAlIQIgBARIVCgh2YWRfdHlwZRhEIAEoCUhBiAEBEhIKBXZpZF9kGEUgASgJSEKIAQESEgoFdmNvbnAYRiABKAlIQ4gBARIQCgN2cGkYRyABKAlIRIgBARIRCgR2cG9zGEggASgJSEWIAQESEQoEaW1wbBhJIAEoCUhGiAEBEhcKCnZhZF9mb3JtYXQYSiABKAlIR4gBARITCgZjbGllbnQYSyABKAlISIgBARIgChN2aWRlb2FkX3N0YXJ0X2RlbGF5GEwgASgJSEmIAQESGQoMZ2FtX2Jhc2VfdXJsGE0gASgJSEqIAQEaMQoPQ3VzdFBhcmFtc0VudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCBgoEX2VudkILCglfZ2RmcF9yZXFCBQoDX2l1QgkKB19vdXRwdXRCBQoDX3N6QhoKGF91bnZpZXdlZF9wb3NpdGlvbl9zdGFydEIGCgRfdXJsQhIKEF9kZXNjcmlwdGlvbl91cmxCDQoLX2NvcnJlbGF0b3JCCAoGX3BsY210QgYKBF92cGFCCQoHX3ZwbXV0ZUIGCgRfd3RhQggKBl9hY29ucEIKCghfYWRfcnVsZUIKCghfYWRfdHlwZUIFCgNfaGxCBgoEX2R0aEIHCgVfZ2RwckIPCg1fZ2Rwcl9jb25zZW50QgoKCF9pYWJleGNsQgYKBF9saXBCBgoEX2x0ZEIHCgVfbm9mYkIGCgRfbnBhQgkKB19vbWlkX3BCBgoEX3BwdEIHCgVfcHBvc0IHCgVfcHBpZEIHCgVfc2NvckILCglfc2RrX2FwaXNCBwoFX3Nzc3NCCAoGX3NkbWF4QgYKBF9zaWRCBgoEX3JkcEIQCg5fYWRkdGxfY29uc2VudEIICgZfYWZ2c3pCCgoIX2FsbGN1ZXNCCAoGX2Ntc2lkQgYKBF92aWRCCwoJX2V4Y2xfY2F0QgYKBF9pcGRCBgoEX2lwZUISChBfbWF4X2FkX2R1cmF0aW9uQhIKEF9taW5fYWRfZHVyYXRpb25CCAoGX21yaWR4QgcKBV9tc2lkQgUKA19hbkIHCgVfcG1hZEIHCgVfcG1uZEIHCgVfcG14ZEIGCgRfcG9kQgUKA19wcEIHCgVfcHBzakIHCgVfcHRwbEIICgZfcHRwbG5CBwoFX3B1YmZCBwoFX3B2dGZCBwoFX3B2aWRCCQoHX3B2aWRfc0IHCgVfcmRpZEIJCgdfaWR0eXBlQgkKB19pc19sYXRCBwoFX3RmY2RCBgoEX3RydEILCglfdmFkX3R5cGVCCAoGX3ZpZF9kQggKBl92Y29ucEIGCgRfdnBpQgcKBV92cG9zQgcKBV9pbXBsQg0KC192YWRfZm9ybWF0QgkKB19jbGllbnRCFgoUX3ZpZGVvYWRfc3RhcnRfZGVsYXlCDwoNX2dhbV9iYXNlX3VybBrsBQoLQWRDYW1wYWlnbnMSUQoLZ2FtX29wdGlvbnMYASABKAsyMy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuR2FtT3B0aW9uc0ICGAFIAIgBARIdCgxnYW1fYmFzZV91cmwYAiABKAlCAhgBSAGIAQESMAoHYWRfbG9vcBgDIAEoCzIfLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkFkTG9vcBJOCgxpb3Nfc2V0dGluZ3MYBCABKAsyMy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuR2FtT3B0aW9uc0gCiAEBElIKEGFuZHJvaWRfc2V0dGluZ3MYBSABKAsyMy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuR2FtT3B0aW9uc0gDiAEBElYKFGRlc2t0b3Bfd2ViX3NldHRpbmdzGAYgASgLMjMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25PcHRpb25zLkdhbU9wdGlvbnNIBIgBARJOCgxjdHZfc2V0dGluZ3MYByABKAsyMy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuR2FtT3B0aW9uc0gFiAEBEhQKB2FkX25hbWUYCCABKAlIBogBARJLCgphZF9tYW5hZ2VyGAkgASgOMjIuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25PcHRpb25zLkFkTWFuYWdlckgHiAEBQg4KDF9nYW1fb3B0aW9uc0IPCg1fZ2FtX2Jhc2VfdXJsQg8KDV9pb3Nfc2V0dGluZ3NCEwoRX2FuZHJvaWRfc2V0dGluZ3NCFwoVX2Rlc2t0b3Bfd2ViX3NldHRpbmdzQg8KDV9jdHZfc2V0dGluZ3NCCgoIX2FkX25hbWVCDQoLX2FkX21hbmFnZXIa7wEKC1Nob3BPcHRpb25zEjEKB3Byb2R1Y3QYASABKAsyIC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Qcm9kdWN0Ei0KBXByaWNlGAIgASgLMh4uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUHJpY2USNgoPYXZhaWxhYmxlX3NpemVzGAMgAygLMh0uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuU2l6ZRIzCgZnZW5kZXIYBCABKA4yIy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5TaG9wR2VuZGVyEhEKCXN0b3JlX3VybBgFIAEoCRqUBAoOTkZMU2hvcE9wdGlvbnMSEgoKcHJvZHVjdF9pZBgBIAEoCRI5Cgdwcm9kdWN0GAIgASgLMiMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuTkZMUHJvZHVjdEgAiAEBEl0KDG5vdGlmaWNhdGlvbhgDIAEoCzJHLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uT3B0aW9ucy5ORkxTaG9wT3B0aW9ucy5ORkxOb3RpZmljYXRpb24axwIKD05GTE5vdGlmaWNhdGlvbhJLCg5tdWx0aWNvbXBvbmVudBgBIAEoDjIzLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLk5vdGlmaWNhdGlvbk11bHRpY29tcG9uZW50Em8KC2dhbWVfbW9tZW50GAIgASgLMlUuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25PcHRpb25zLk5GTFNob3BPcHRpb25zLk5GTE5vdGlmaWNhdGlvbi5ORkxHYW1lTW9tZW50SACIAQESDQoFdGl0bGUYAyABKAkSEwoLZGVzY3JpcHRpb24YBCABKAkaQgoNTkZMR2FtZU1vbWVudBINCgV0aXRsZRgBIAEoCRITCgtkZXNjcmlwdGlvbhgCIAEoCRINCgVtZWRpYRgDIAEoCUIOCgxfZ2FtZV9tb21lbnRCCgoIX3Byb2R1Y3QakQIKDlBhdXNlQWRPcHRpb25zEjAKB3FyX2NvZGUYASABKA4yHy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RUkNvZGUSGgoNcXJfY29kZV9sYWJlbBgCIAEoCUgAiAEBEhgKC3FyX2NvZGVfdXJsGAMgASgJSAGIAQESNgoGbGF5b3V0GAQgASgOMiYuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUGF1c2VBZExheW91dBI9CgpzdGF0c190eXBlGAUgASgOMikuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUGF1c2VBZFN0YXRzVHlwZUIQCg5fcXJfY29kZV9sYWJlbEIOCgxfcXJfY29kZV91cmwaxw8KEFByb21vdGlvbk9wdGlvbnMSNAoEdHlwZRgBIAEoDjImLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlByb21vdGlvblR5cGUSNQoHc3BvbnNvchgCIAEoCzIkLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlNwb25zb3JzaGlwEi8KBmJhbm5lchgDIAEoCzIfLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkJhbm5lchJDCg1lbmFibGVfd2FsbGV0GAQgASgOMiguc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUHJvbW90aW9uV2FsbGV0QgIYARI6ChFhZGRpdGlvbmFsX2Jhbm5lchgFIAEoCzIfLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkJhbm5lchISCgZjb3Vwb24YBiABKAlCAhgBEj0KCWxvZ29fbW9kZRgHIAEoDjIqLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlByb21vdGlvbkxvZ29Nb2RlEhYKCmNvdXBvbl96aXAYCCABKAlCAhgBEh4KEmNvdXBvbl9iYXJjb2RlX3VybBgJIAEoCUICGAESRgoLYnV0dG9uX3R5cGUYCiABKA4yLC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Qcm9tb3Rpb25CdXR0b25UeXBlSAGIAQESTwoMYWRfY2FtcGFpZ25zGAsgASgLMjQuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25PcHRpb25zLkFkQ2FtcGFpZ25zSAKIAQESPQoLY2xvc2VfdGltZXIYDCABKAsyIy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5DbG9zZVRpbWVySAOIAQESRAoPYXV0b19wbGF5X3ZpZGVvGA0gASgOMiYuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQXV0b1BsYXlWaWRlb0gEiAEBEi8KHmJhY2tncm91bmRfaW1hZ2VfbGFuZHNjYXBlX3VybBgOIAEoCUICGAFIBYgBARIuCh1iYWNrZ3JvdW5kX2ltYWdlX3BvcnRyYWl0X3VybBgPIAEoCUICGAFIBogBARJtChVhZGRfdG9fd2FsbGV0X29wdGlvbnMYECABKAsyTC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuUHJvbW90aW9uT3B0aW9ucy5BZGRUb1dhbGxldE9wdGlvbnNIABJrChRzZW5kX3RvX3VzZXJfb3B0aW9ucxgRIAEoCzJLLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uT3B0aW9ucy5Qcm9tb3Rpb25PcHRpb25zLlNlbmRUb1VzZXJPcHRpb25zSAASTwoMc2hvcF9vcHRpb25zGBIgASgLMjQuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25PcHRpb25zLlNob3BPcHRpb25zSAeIAQESVgoQbmZsX3Nob3Bfb3B0aW9ucxgTIAEoCzI3LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uT3B0aW9ucy5ORkxTaG9wT3B0aW9uc0gIiAEBEkYKEHBsYXlfdmlkZW9fbXV0ZWQYFCABKA4yJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5QbGF5VmlkZW9NdXRlZEgJiAEBElYKEHBhdXNlX2FkX29wdGlvbnMYFSABKAsyNy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMuUGF1c2VBZE9wdGlvbnNICogBARJBCgZmb3JtYXQYFiABKA4yKC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Qcm9tb3Rpb25Gb3JtYXRCAhgBSAuIAQEaVAoSQWRkVG9XYWxsZXRPcHRpb25zEg4KBmNvdXBvbhgBIAEoCRISCgpjb3Vwb25femlwGAIgASgJEhoKEmNvdXBvbl9iYXJjb2RlX3VybBgDIAEoCRrUAQoRU2VuZFRvVXNlck9wdGlvbnMSQwoRdXNlcl9hY2NvdW50X2luZm8YASABKA4yKC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Vc2VyQWNjb3VudEluZm8SIwoWc2Vjb25kYXJ5X2J1dHRvbl9sYWJlbBgCIAEoCUgAiAEBEiEKFHNlY29uZGFyeV9idXR0b25fdXJsGAMgASgJSAGIAQFCGQoXX3NlY29uZGFyeV9idXR0b25fbGFiZWxCFwoVX3NlY29uZGFyeV9idXR0b25fdXJsQhAKDmJ1dHRvbl9vcHRpb25zQg4KDF9idXR0b25fdHlwZUIPCg1fYWRfY2FtcGFpZ25zQg4KDF9jbG9zZV90aW1lckISChBfYXV0b19wbGF5X3ZpZGVvQiEKH19iYWNrZ3JvdW5kX2ltYWdlX2xhbmRzY2FwZV91cmxCIAoeX2JhY2tncm91bmRfaW1hZ2VfcG9ydHJhaXRfdXJsQg8KDV9zaG9wX29wdGlvbnNCEwoRX25mbF9zaG9wX29wdGlvbnNCEwoRX3BsYXlfdmlkZW9fbXV0ZWRCEwoRX3BhdXNlX2FkX29wdGlvbnNCCQoHX2Zvcm1hdCJsCglBZE1hbmFnZXISFAoQQURfTUFOQUdFUl9VTlNFVBAAEhcKE0FEX01BTkFHRVJfUFVCTUFUSUMQARIWChJBRF9NQU5BR0VSX01BR05JVEUQAhIYChRBRF9NQU5BR0VSX0dPT0dMRV9BRBADQgkKB29wdGlvbnMiOAoDVGFnEgoKAmlkGAEgASgJEg0KBWxhYmVsGAIgASgJEhYKDmxhc3RfdXNlZF90aW1lGAMgASgEIh4KClF1ZXN0aW9uQWkSEAoIdmVyaWZpZWQYASABKAgikg4KCFF1ZXN0aW9uEgoKAmlkGAEgASgJEjMKBHR5cGUYAiABKA4yJS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblR5cGUSFAoHc3ViamVjdBgDIAEoCUgAiAEBEjkKB29wdGlvbnMYBCABKAsyKC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMSPwoKYXBwZWFyYW5jZRgFIAEoCzIrLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uQXBwZWFyYW5jZRI5CgtzcG9uc29yc2hpcBgGIAEoCzIkLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlNwb25zb3JzaGlwEkMKDG5vdGlmaWNhdGlvbhgHIAEoCzItLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uTm90aWZpY2F0aW9uEjgKB2Fuc3dlcnMYCCADKAsyJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbkFuc3dlchI3CgZzdGF0dXMYCSABKA4yJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblN0YXR1cxIVCghwb3NpdGlvbhgKIAEoDUgBiAEBEhUKDW1hcmtldF9jbG9zZWQYCyABKAgSFAoMYWN0aXZhdGVkX2F0GAwgASgJEhUKDWFuc3dlcl9zZXRfYXQYDSABKAkSQwoJb3ZlcnJpZGVzGA4gAygLMjAuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb24uT3ZlcnJpZGVzRW50cnkSEAoIZXZlbnRfaWQYDyABKAkSNAoQc3RyZWFtX3RpbWVzdGFtcBgQIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASKgoEdGFncxgRIAMoCzIcLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlRhZxJKChRieXBhc3Nfbm90aWZpY2F0aW9ucxgSIAEoCzIsLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkJ5cGFzc05vdGlmaWNhdGlvbnMSEQoJaW1wb3J0X2lkGBMgASgJEiUKGGFjdGl2YXRpb25fdHJpZ2dlcl9jb3VudBgUIAEoDUgCiAEBEjcKBnNvdXJjZRgVIAEoDjInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uU291cmNlEi8KAmFpGBYgASgLMiMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25BaRIZCgxoYXNfdHJpZ2dlcnMYFyABKAhIA4gBARISCgpjcmVhdGVkX2F0GBggASgJEhEKBG5hbWUYGSABKAlIBIgBARI1Cglwcm9tb3Rpb24YGiABKAsyIi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Qcm9tb3Rpb24SQgoQYmFja2dyb3VuZF9pbWFnZRgbIAEoCzIoLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkJhY2tncm91bmRJbWFnZRIcCg9zdGF0dXNfcG9zaXRpb24YHCABKA1IBYgBARI/CgxhY3RpdmF0ZWRfYnkYHSABKA4yJC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5BY3RpdmF0ZWRCeUgGiAEBEiQKF2FjdGl2YXRlZF9ieV90cmlnZ2VyX2lkGB4gASgJSAeIAQESJgoZYWN0aXZhdGVkX2J5X3RyaWdnZXJfbmFtZRgfIAEoCUgIiAEBEhgKC3RlbXBsYXRlX2lkGCAgASgJSAmIAQESMAoHYWRfdW5pdBghIAEoDjIfLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkFkVW5pdBIWCgltb2R1bGVfaWQYIiABKAlICogBARIhChRpc19tb2R1bGVfb3ZlcnJpZGRlbhgjIAEoCEgLiAEBEjMKBmZvcm1hdBgkIAEoDjIjLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkNhcmRGb3JtYXQaMAoOT3ZlcnJpZGVzRW50cnkSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgIOgI4AUIKCghfc3ViamVjdEILCglfcG9zaXRpb25CGwoZX2FjdGl2YXRpb25fdHJpZ2dlcl9jb3VudEIPCg1faGFzX3RyaWdnZXJzQgcKBV9uYW1lQhIKEF9zdGF0dXNfcG9zaXRpb25CDwoNX2FjdGl2YXRlZF9ieUIaChhfYWN0aXZhdGVkX2J5X3RyaWdnZXJfaWRCHAoaX2FjdGl2YXRlZF9ieV90cmlnZ2VyX25hbWVCDgoMX3RlbXBsYXRlX2lkQgwKCl9tb2R1bGVfaWRCFwoVX2lzX21vZHVsZV9vdmVycmlkZGVuIuYGChBFeHRlbmRlZFF1ZXN0aW9uEgoKAmlkGAEgASgJEjMKBHR5cGUYAiABKA4yJS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblR5cGUSDwoHc3ViamVjdBgDIAEoCRI5CgdvcHRpb25zGAQgASgLMiguc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25PcHRpb25zEj8KCmFwcGVhcmFuY2UYBSABKAsyKy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbkFwcGVhcmFuY2USOQoLc3BvbnNvcnNoaXAYBiABKAsyJC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5TcG9uc29yc2hpcBJDCgxub3RpZmljYXRpb24YByABKAsyLS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk5vdGlmaWNhdGlvbhJACgdhbnN3ZXJzGAggAygLMi8uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuRXh0ZW5kZWRRdWVzdGlvbkFuc3dlchI3CgZzdGF0dXMYCSABKA4yJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblN0YXR1cxIQCghwb3NpdGlvbhgKIAEoDRIVCg1tYXJrZXRfY2xvc2VkGAsgASgIEhQKDGFjdGl2YXRlZF9hdBgMIAEoCRIVCg1hbnN3ZXJfc2V0X2F0GA0gASgJEhAKCGV2ZW50X2lkGA4gASgJEkoKFGJ5cGFzc19ub3RpZmljYXRpb25zGA8gASgLMiwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQnlwYXNzTm90aWZpY2F0aW9ucxI1Cglwcm9tb3Rpb24YECABKAsyIi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Qcm9tb3Rpb24SQgoQYmFja2dyb3VuZF9pbWFnZRgRIAEoCzIoLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkJhY2tncm91bmRJbWFnZRIYCgt0ZW1wbGF0ZV9pZBgSIAEoCUgAiAEBEjAKB2FkX3VuaXQYEyABKA4yHy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5BZFVuaXRCDgoMX3RlbXBsYXRlX2lkIq8DChBRdWVzdGlvblRpbWVsaW5lEgoKAmlkGAEgASgJEjMKBHR5cGUYAiABKA4yJS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblR5cGUSDwoHc3ViamVjdBgDIAEoCRIUCgxhY3RpdmF0ZWRfYXQYBCABKAkSNwoGc3RhdHVzGAUgASgOMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25TdGF0dXMSOQoHb3B0aW9ucxgGIAEoCzIoLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uT3B0aW9ucxJDCgxub3RpZmljYXRpb24YByABKAsyLS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk5vdGlmaWNhdGlvbhI6Cglwcm9tb3Rpb24YCCABKAsyIi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Qcm9tb3Rpb25IAIgBARIwCgdhZF91bml0GAkgASgOMh8uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQWRVbml0QgwKCl9wcm9tb3Rpb24i4wsKD0V2ZW50TW9kZXJhdGlvbhIKCgJpZBgBIAEoCRIQCghldmVudF9pZBgCIAEoCRI9CgtzcG9uc29yc2hpcBgDIAEoCzIkLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlNwb25zb3JzaGlwQgIYARIaChJvbmJvYXJkaW5nX2VuYWJsZWQYBCABKAgSSwoIcXVlc3Rpb24YBSABKAsyOS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5FdmVudE1vZGVyYXRpb24uUXVlc3Rpb25TZXR0aW5ncxJOCghzcG9uc29ycxgGIAEoCzI8LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkV2ZW50TW9kZXJhdGlvbi5TcG9uc29yc2hpcFNldHRpbmdzElMKDG5vdGlmaWNhdGlvbhgHIAEoCzI9LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkV2ZW50TW9kZXJhdGlvbi5Ob3RpZmljYXRpb25TZXR0aW5ncxIwCgxhY3RpdmF0ZWRfYXQYCCABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEjIKDmRlYWN0aXZhdGVkX2F0GAkgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBJFChJxdWVzdGlvbl9hdXRvX3Bvc3QYCiABKAsyKS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbkF1dG9Qb3N0EkoKFGJ5cGFzc19ub3RpZmljYXRpb25zGAsgASgLMiwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQnlwYXNzTm90aWZpY2F0aW9ucxJOChZpbXBvcnRlcl9jb2xsYWJvcmF0aW9uGAwgASgLMi4uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuSW1wb3J0ZXJDb2xsYWJvcmF0aW9uEhcKD29yZ2FuaXphdGlvbl9pZBgNIAEoCRr1AwoQUXVlc3Rpb25TZXR0aW5ncxI/CgphcHBlYXJhbmNlGAEgASgLMisuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25BcHBlYXJhbmNlElwKBnRyaXZpYRgCIAEoCzJMLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkV2ZW50TW9kZXJhdGlvbi5RdWVzdGlvblNldHRpbmdzLlRyaXZpYUNhcmRTZXR0aW5ncxJkCgpwcmVkaWN0aW9uGAMgASgLMlAuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuRXZlbnRNb2RlcmF0aW9uLlF1ZXN0aW9uU2V0dGluZ3MuUHJlZGljdGlvbkNhcmRTZXR0aW5ncxJCChFjb3JyZWN0X2ZlZWRiYWNrcxgEIAMoCzInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkFuc3dlckZlZWRiYWNrEkQKE2luY29ycmVjdF9mZWVkYmFja3MYBSADKAsyJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5BbnN3ZXJGZWVkYmFjaxokChJUcml2aWFDYXJkU2V0dGluZ3MSDgoGcG9pbnRzGAEgASgNGiwKFlByZWRpY3Rpb25DYXJkU2V0dGluZ3MSEgoKbWF4X3BvaW50cxgBIAEoDRpNChNTcG9uc29yc2hpcFNldHRpbmdzEjYKCHNwb25zb3JzGAEgAygLMiQuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuU3BvbnNvcnNoaXAauwEKFE5vdGlmaWNhdGlvblNldHRpbmdzEg0KBWltYWdlGAEgASgJEhcKD2luZGljYXRvcl9jb2xvchgCIAEoCRI+Cg5pbWFnZV9wb3NpdGlvbhgDIAEoDjImLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkltYWdlUG9zaXRpb24SOwoKaW1hZ2VfbW9kZRgEIAEoDjInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uSW1hZ2VzIqkCChBRdWVzdGlvbkF1dG9Qb3N0Ej0KBXN0YXRlGAEgASgOMi4uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25BdXRvUG9zdFN0YXRlEhAKCGludGVydmFsGAIgASgNEjIKDm5leHRfcG9zdF90aW1lGAMgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBJCCgpzdGFydF9tb2RlGAQgASgOMi4uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25BdXRvUG9zdFN0YXJ0EkwKDXN0YXJ0X29wdGlvbnMYBSABKAsyNS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbkF1dG9Qb3N0U3RhcnRPcHRpb25zIqoBChxRdWVzdGlvbkF1dG9Qb3N0U3RhcnRPcHRpb25zElkKCHNjaGVkdWxlGAEgASgLMkUuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25BdXRvUG9zdFN0YXJ0T3B0aW9ucy5TY2hlZHVsZU9wdGlvbnNIABokCg9TY2hlZHVsZU9wdGlvbnMSEQoJdGltZXN0YW1wGAEgASgEQgkKB29wdGlvbnMiMwoKQW5zd2VyRGF0YRIRCglhbnN3ZXJfaWQYASABKAkSEgoKcGVyY2VudGFnZRgCIAEoDSI9CgpQYWdpbmF0aW9uEgwKBHBhZ2UYASABKAUSEQoJcGFnZV9zaXplGAIgASgFEg4KBmN1cnNvchgDIAEoCSIkCgRTb3J0Eg0KBWZpZWxkGAEgASgJEg0KBW9yZGVyGAIgASgJIuoBCg1RdWVzdGlvblN0YXRzEgoKAmlkGAEgASgJEkUKCHF1ZXN0aW9uGAIgASgLMjMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25TdGF0cy5RdWVzdGlvbkRhdGESPQoKc3RhdGlzdGljcxgDIAMoCzIpLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkFuc3dlclZvdGVzU3RhdHMaRwoMUXVlc3Rpb25EYXRhEjcKBnN0YXR1cxgBIAEoDjInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uU3RhdHVzIqUBChBBbnN3ZXJWb3Rlc1N0YXRzEhEKCWFuc3dlcl9pZBgBIAEoCRJICgV2b3RlcxgCIAEoCzI5LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkFuc3dlclZvdGVzU3RhdHMuQW5zd2VyVm90ZXNEYXRhGjQKD0Fuc3dlclZvdGVzRGF0YRINCgVjb3VudBgBIAEoDRISCgpwZXJjZW50YWdlGAIgASgNIkEKGVNlcnZlck5vdGlmaWNhdGlvbk9wdGlvbnMSDwoHc2lsZW5jZRgBIAEoCBITCgtza2lwX3VwZGF0ZRgCIAEoCCJWChNCeXBhc3NOb3RpZmljYXRpb25zEj8KDmluX2FwcF9zaWxlbmNlGAEgASgOMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuU2lsZW5jZVNldHRpbmciLgoLSW1wb3J0RXJyb3ISDgoGcm93X2lkGAEgASgJEg8KB21lc3NhZ2UYAiABKAkiwgEKDkltcG9ydFByb2dyZXNzEhEKCWltcG9ydF9pZBgBIAEoCRI1CgZzdGF0dXMYAiABKA4yJS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5JbXBvcnRTdGF0dXMSNAoGZXJyb3JzGAMgAygLMiQuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuSW1wb3J0RXJyb3ISMAoMbGFzdF91cGRhdGVkGAQgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcCK+AQoVSW1wb3J0ZXJDb2xsYWJvcmF0aW9uEkwKB2ltcG9ydHMYASADKAsyOy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5JbXBvcnRlckNvbGxhYm9yYXRpb24uSW1wb3J0c0VudHJ5GlcKDEltcG9ydHNFbnRyeRILCgNrZXkYASABKAkSNgoFdmFsdWUYAiABKAsyJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5JbXBvcnRQcm9ncmVzczoCOAEitQgKCFRlbXBsYXRlEgoKAmlkGAEgASgJEjMKBHR5cGUYAiABKA4yJS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblR5cGUSFAoHc3ViamVjdBgDIAEoCUgAiAEBEjkKB29wdGlvbnMYBCABKAsyKC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbk9wdGlvbnMSPwoKYXBwZWFyYW5jZRgFIAEoCzIrLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uQXBwZWFyYW5jZRI5CgtzcG9uc29yc2hpcBgGIAEoCzIkLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlNwb25zb3JzaGlwEkMKDG5vdGlmaWNhdGlvbhgHIAEoCzItLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uTm90aWZpY2F0aW9uEjgKB2Fuc3dlcnMYCCADKAsyJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbkFuc3dlchJDCglvdmVycmlkZXMYCSADKAsyMC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5UZW1wbGF0ZS5PdmVycmlkZXNFbnRyeRIqCgR0YWdzGAogAygLMhwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuVGFnEkoKFGJ5cGFzc19ub3RpZmljYXRpb25zGAsgASgLMiwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQnlwYXNzTm90aWZpY2F0aW9ucxIvCgJhaRgMIAEoCzIjLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uQWkSGQoMaGFzX3RyaWdnZXJzGA0gASgISAGIAQESEgoKY3JlYXRlZF9hdBgOIAEoCRIRCgRuYW1lGA8gASgJSAKIAQESNQoJcHJvbW90aW9uGBAgASgLMiIuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUHJvbW90aW9uEkIKEGJhY2tncm91bmRfaW1hZ2UYESABKAsyKC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5CYWNrZ3JvdW5kSW1hZ2USMAoHYWRfdW5pdBgSIAEoDjIfLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkFkVW5pdBIbCg5xdWVzdGlvbl9jb3VudBgTIAEoBUgDiAEBEhEKCWV2ZW50X2lkcxgUIAMoCRIWCgltb2R1bGVfaWQYFSABKAlIBIgBARowCg5PdmVycmlkZXNFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAg6AjgBQgoKCF9zdWJqZWN0Qg8KDV9oYXNfdHJpZ2dlcnNCBwoFX25hbWVCEQoPX3F1ZXN0aW9uX2NvdW50QgwKCl9tb2R1bGVfaWQifQoKTW9kdWxlQ2FyZBIbChNsaW5rZWRfZXZlbnRzX2NvdW50GAEgASgNEh0KFXVwY29taW5nX2V2ZW50c19jb3VudBgCIAEoDRIZChFpbl9wbGF5X2Fkc19jb3VudBgDIAEoDRIYChBwYXVzZWRfYWRzX2NvdW50GAQgASgNImMKEE1vZHVsZUFkdmVydGlzZXISDAoEbmFtZRgBIAEoCRIMCgRsb2dvGAIgASgJEhkKEWluX3BsYXlfYWRzX2NvdW50GAMgASgNEhgKEHBhdXNlZF9hZHNfY291bnQYBCABKA0ivAIKBk1vZHVsZRIKCgJpZBgBIAEoCRIMCgRuYW1lGAIgASgJEgwKBHR5cGUYAyABKAkSDgoGbGVhZ3VlGAQgASgJEhMKC2N1c3RvbV9sb2dvGAUgASgJEhIKCmNyZWF0ZWRfYXQYBiABKAkSEgoKdXBkYXRlZF9hdBgHIAEoCRIxCgRjYXJkGAggASgLMiMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuTW9kdWxlQ2FyZBJKChhkZWZhdWx0X2JhY2tncm91bmRfaW1hZ2UYCSABKAsyKC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5CYWNrZ3JvdW5kSW1hZ2USPgoLYWR2ZXJ0aXNlcnMYCiADKAsyKS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Nb2R1bGVBZHZlcnRpc2VyKvsBCgtBY3RpdmF0ZWRCeRIWChJBQ1RJVkFURURfQllfVU5TRVQQABIVChFBQ1RJVkFURURfQllfVVNFUhABEhoKFkFDVElWQVRFRF9CWV9BVVRPX1BPU1QQAhIkCiBBQ1RJVkFURURfQllfVFJJR0dFUl9UWVBFX01BTlVBTBADEikKJUFDVElWQVRFRF9CWV9UUklHR0VSX1RZUEVfRVZFTlRfQkFTRUQQBBIlCiFBQ1RJVkFURURfQllfVFJJR0dFUl9UWVBFX1NDVEVfMzUQBRIpCiVBQ1RJVkFURURfQllfVFJJR0dFUl9UWVBFX1ZBU1RfU0lHTkFMEAYqyAEKDFF1ZXN0aW9uVHlwZRIXChNRVUVTVElPTl9UWVBFX1VOU0VUEAASFgoSUVVFU1RJT05fVFlQRV9QT0xMEAESGAoUUVVFU1RJT05fVFlQRV9UUklWSUEQAhIcChhRVUVTVElPTl9UWVBFX1BSRURJQ1RJT04QAxIZChVRVUVTVElPTl9UWVBFX0ZBQ1RPSUQQBBIXChNRVUVTVElPTl9UWVBFX1RXRUVUEAUSGwoXUVVFU1RJT05fVFlQRV9QUk9NT1RJT04QBipjCg5RdWVzdGlvblNvdXJjZRIZChVRVUVTVElPTl9TT1VSQ0VfVU5TRVQQABIWChJRVUVTVElPTl9TT1VSQ0VfQUkQARIeChpRVUVTVElPTl9TT1VSQ0VfQ1NWX0lNUE9SVBACKuIBCg5RdWVzdGlvblN0YXR1cxIZChVRVUVTVElPTl9TVEFUVVNfVU5TRVQQABIhCh1RVUVTVElPTl9TVEFUVVNfTk9UX1NDSEVEVUxFRBABEh0KGVFVRVNUSU9OX1NUQVRVU19TQ0hFRFVMRUQQAhIaChZRVUVTVElPTl9TVEFUVVNfQUNUSVZFEAMSHAoYUVVFU1RJT05fU1RBVFVTX1JFU09MVkVEEAQSGwoXUVVFU1RJT05fU1RBVFVTX0VOQUJMRUQQBRIcChhRVUVTVElPTl9TVEFUVVNfRElTQUJMRUQQBiruAQoQUXVlc3Rpb25Qb3NpdGlvbhIbChdRVUVTVElPTl9QT1NJVElPTl9VTlNFVBAAEh0KGVFVRVNUSU9OX1BPU0lUSU9OX0RFRkFVTFQQARIiCh5RVUVTVElPTl9QT1NJVElPTl9GSVhFRF9CT1RUT00QAhIaChZRVUVTVElPTl9QT1NJVElPTl9MQkFSEAMSHQoZUVVFU1RJT05fUE9TSVRJT05fT1ZFUkxBWRAEEh0KGVFVRVNUSU9OX1BPU0lUSU9OX1NJREVCQVIQBRIgChxRVUVTVElPTl9QT1NJVElPTl9GVUxMX0JMRUVEEAYqaQoOUXVlc3Rpb25MYXlvdXQSGQoVUVVFU1RJT05fTEFZT1VUX1VOU0VUEAASHQoZUVVFU1RJT05fTEFZT1VUX0xJU1RfVklFVxABEh0KGVFVRVNUSU9OX0xBWU9VVF9HUklEX1ZJRVcQAiq8AQoOUXVlc3Rpb25JbWFnZXMSGQoVUVVFU1RJT05fSU1BR0VTX1VOU0VUEAASGAoUUVVFU1RJT05fSU1BR0VTX05PTkUQARIbChdRVUVTVElPTl9JTUFHRVNfUk9VTkRFRBACEh8KG1FVRVNUSU9OX0lNQUdFU19UUkFOU1BBUkVOVBADEhwKGFFVRVNUSU9OX0lNQUdFU19DRU5URVJFRBAEEhkKFVFVRVNUSU9OX0lNQUdFU19TT0xJRBAFKvQBChlOb3RpZmljYXRpb25Qcm9tb3Rpb25Nb2RlEiUKIU5PVElGSUNBVElPTl9QUk9NT1RJT05fTU9ERV9VTlNFVBAAEicKI05PVElGSUNBVElPTl9QUk9NT1RJT05fTU9ERV9DTEFTU0lDEAESKwonTk9USUZJQ0FUSU9OX1BST01PVElPTl9NT0RFX0xPV0VSX1RISVJEEAISMQotTk9USUZJQ0FUSU9OX1BST01PVElPTl9NT0RFX1JJQ0hfTk9USUZJQ0FUSU9OEAMSJwojTk9USUZJQ0FUSU9OX1BST01PVElPTl9NT0RFX1NJREVCQVIQBCrNAgoiTm90aWZpY2F0aW9uUHJvbW90aW9uSW1hZ2VQb3NpdGlvbhIvCitOT1RJRklDQVRJT05fUFJPTU9USU9OX0lNQUdFX1BPU0lUSU9OX1VOU0VUEAASLQopTk9USUZJQ0FUSU9OX1BST01PVElPTl9JTUFHRV9QT1NJVElPTl9GSVQQARIyCi5OT1RJRklDQVRJT05fUFJPTU9USU9OX0lNQUdFX1BPU0lUSU9OX0NFTlRFUkVEEAISMAosTk9USUZJQ0FUSU9OX1BST01PVElPTl9JTUFHRV9QT1NJVElPTl9CT1RUT00QAxIvCitOT1RJRklDQVRJT05fUFJPTU9USU9OX0lNQUdFX1BPU0lUSU9OX1NPTElEEAQSMAosTk9USUZJQ0FUSU9OX1BST01PVElPTl9JTUFHRV9QT1NJVElPTl9NSURETEUQBSqRAQobTm90aWZpY2F0aW9uU3BvbnNvckxvZ29Nb2RlEiMKH05PVElGSUNBVElPTl9TUE9OU09SX0xPR09fVU5TRVQQABIiCh5OT1RJRklDQVRJT05fU1BPTlNPUl9MT0dPX05PTkUQARIpCiVOT1RJRklDQVRJT05fU1BPTlNPUl9MT0dPX1RSQU5TUEFSRU5UEAIqTgoLQ3RhSWNvbk1vZGUSEgoOQ1RBX0lDT05fVU5TRVQQABIRCg1DVEFfSUNPTl9OT05FEAESGAoUQ1RBX0lDT05fVFJBTlNQQVJFTlQQAipcCg1JbWFnZVBvc2l0aW9uEhgKFElNQUdFX1BPU0lUSU9OX1VOU0VUEAASFwoTSU1BR0VfUE9TSVRJT05fTEVGVBABEhgKFElNQUdFX1BPU0lUSU9OX1JJR0hUEAIq0gYKDVByb21vdGlvblR5cGUSGAoUUFJPTU9USU9OX1RZUEVfVU5TRVQQABIjChtQUk9NT1RJT05fVFlQRV9JTkdBTUVfSUFCMjEQARoCCAESIwobUFJPTU9USU9OX1RZUEVfSU5HQU1FX0lBQjExEAIaAggBEiMKG1BST01PVElPTl9UWVBFX0lOR0FNRV9JQUI2MRADGgIIARIoCiBQUk9NT1RJT05fVFlQRV9JTkdBTUVfSUFCMTFfTEJBUhAEGgIIARIoCiBQUk9NT1RJT05fVFlQRV9JTkdBTUVfSUFCMjFfTEJBUhAFGgIIARIeChpQUk9NT1RJT05fVFlQRV9FWFRFUk5BTF9BRBAGEiUKIVBST01PVElPTl9UWVBFX1ZJREVPX1NJREVfQllfU0lERRAHEiUKIVBST01PVElPTl9UWVBFX1BJQ1RVUkVfSU5fUElDVFVSRRAIEiAKGFBST01PVElPTl9UWVBFX1NIT1BfTEJBUhAJGgIIARIjChtQUk9NT1RJT05fVFlQRV9TSE9QX09WRVJMQVkQChoCCAESIwobUFJPTU9USU9OX1RZUEVfU0hPUF9TSURFQkFSEAsaAggBEh4KGlBST01PVElPTl9UWVBFX0xPV0VSX1RISVJEEAwSJAocUFJPTU9USU9OX1RZUEVfTkZMX1NIT1BfTEJBUhANGgIIARInCh9QUk9NT1RJT05fVFlQRV9ORkxfU0hPUF9PVkVSTEFZEA4aAggBEicKH1BST01PVElPTl9UWVBFX05GTF9TSE9QX1NJREVCQVIQDxoCCAESKwojUFJPTU9USU9OX1RZUEVfSU5HQU1FX0lBQjIxX1NJREVCQVIQEBoCCAESKwojUFJPTU9USU9OX1RZUEVfSU5HQU1FX0lBQjExX1NJREVCQVIQERoCCAESKwojUFJPTU9USU9OX1RZUEVfSU5HQU1FX0lBQjYxX1NJREVCQVIQEhoCCAESGAoUUFJPTU9USU9OX1RZUEVfU1RBVFMQExIbChdQUk9NT1RJT05fVFlQRV9TVEFOREFSRBAUEhcKE1BST01PVElPTl9UWVBFX1NIT1AQFRIbChdQUk9NT1RJT05fVFlQRV9ORkxfU0hPUBAWKqUBCg9Qcm9tb3Rpb25Gb3JtYXQSGgoWUFJPTU9USU9OX0ZPUk1BVF9VTlNFVBAAEhkKFVBST01PVElPTl9GT1JNQVRfTEJBUhABEhwKGFBST01PVElPTl9GT1JNQVRfT1ZFUkxBWRACEhwKGFBST01PVElPTl9GT1JNQVRfU0lERUJBUhADEh8KG1BST01PVElPTl9GT1JNQVRfRlVMTF9CTEVFRBAEKmoKD1Byb21vdGlvbldhbGxldBIaChZQUk9NT1RJT05fV0FMTEVUX1VOU0VUEAASHAoYUFJPTU9USU9OX1dBTExFVF9FTkFCTEVEEAESHQoZUFJPTU9USU9OX1dBTExFVF9ESVNBQkxFRBACKkYKBlFSQ29kZRIRCg1RUl9DT0RFX1VOU0VUEAASEwoPUVJfQ09ERV9FTkFCTEVEEAESFAoQUVJfQ09ERV9ESVNBQkxFRBACKnsKDVBhdXNlQWRMYXlvdXQSGQoVUEFVU0VfQURfTEFZT1VUX1VOU0VUEAASGAoUUEFVU0VfQURfTEFZT1VUX0xFRlQQARIaChZQQVVTRV9BRF9MQVlPVVRfQ0VOVEVSEAISGQoVUEFVU0VfQURfTEFZT1VUX0lNQUdFEAMqfAoQUGF1c2VBZFN0YXRzVHlwZRIdChlQQVVTRV9BRF9TVEFUU19UWVBFX1VOU0VUEAASHwobUEFVU0VfQURfU1RBVFNfVFlQRV9NQVRDSFVQEAESKAokUEFVU0VfQURfU1RBVFNfVFlQRV9MRUFHVUVfU1RBTkRJTkdTEAIq+AEKE1Byb21vdGlvbkJ1dHRvblR5cGUSHwobUFJPTU9USU9OX0JVVFRPTl9UWVBFX1VOU0VUEAASHwobUFJPTU9USU9OX0JVVFRPTl9UWVBFX0JBU0lDEAESJwojUFJPTU9USU9OX0JVVFRPTl9UWVBFX0FERF9UT19XQUxMRVQQAxIpCiVQUk9NT1RJT05fQlVUVE9OX1RZUEVfUkVUVVJOX1RPX1ZJREVPEAQSIwofUFJPTU9USU9OX0JVVFRPTl9UWVBFX05PX0JVVFRPThAFEiYKIlBST01PVElPTl9CVVRUT05fVFlQRV9TRU5EX1RPX1VTRVIQBipoCg9Vc2VyQWNjb3VudEluZm8SGwoXVVNFUl9BQ0NPVU5UX0lORk9fVU5TRVQQABIbChdVU0VSX0FDQ09VTlRfSU5GT19FTUFJTBABEhsKF1VTRVJfQUNDT1VOVF9JTkZPX1BIT05FEAIqkAEKEVByb21vdGlvbkxvZ29Nb2RlEh0KGVBST01PVElPTl9MT0dPX01PREVfVU5TRVQQABIcChhQUk9NT1RJT05fTE9HT19NT0RFX0xFRlQQARIeChpQUk9NT1RJT05fTE9HT19NT0RFX0NFTlRFUhACEh4KGlBST01PVElPTl9MT0dPX01PREVfTUlOTUFMEAMqdQoRVXNlQXNOb3RpZmljYXRpb24SHQoZVVNFX0FTX05PVElGSUNBVElPTl9VTlNFVBAAEh8KG1VTRV9BU19OT1RJRklDQVRJT05fRU5BQkxFRBABEiAKHFVTRV9BU19OT1RJRklDQVRJT05fRElTQUJMRUQQAipqChNOb3RpZmljYXRpb25FbmFibGVkEh4KGk5PVElGSUNBVElPTl9FTkFCTEVEX1VOU0VUEAASGAoUTk9USUZJQ0FUSU9OX0VOQUJMRUQQARIZChVOT1RJRklDQVRJT05fRElTQUJMRUQQAiqgAQobTm90aWZpY2F0aW9uVXNlQ29udGVudE1lZGlhEigKJE5PVElGSUNBVElPTl9VU0VfQ09OVEVOVF9NRURJQV9VTlNFVBAAEioKJk5PVElGSUNBVElPTl9VU0VfQ09OVEVOVF9NRURJQV9FTkFCTEVEEAESKwonTk9USUZJQ0FUSU9OX1VTRV9DT05URU5UX01FRElBX0RJU0FCTEVEEAIqoAEKG05vdGlmaWNhdGlvblVzZUNvbnRlbnRUZXh0cxIoCiROT1RJRklDQVRJT05fVVNFX0NPTlRFTlRfVEVYVFNfVU5TRVQQABIqCiZOT1RJRklDQVRJT05fVVNFX0NPTlRFTlRfVEVYVFNfRU5BQkxFRBABEisKJ05PVElGSUNBVElPTl9VU0VfQ09OVEVOVF9URVhUU19ESVNBQkxFRBACKmkKDkNsb3NlVGltZXJBdXRvEhoKFkNMT1NFX1RJTUVSX0FVVE9fVU5TRVQQABIcChhDTE9TRV9USU1FUl9BVVRPX0VOQUJMRUQQARIdChlDTE9TRV9USU1FUl9BVVRPX0RJU0FCTEVEEAIqZQoNQXV0b1BsYXlWaWRlbxIZChVBVVRPX1BMQVlfVklERU9fVU5TRVQQABIbChdBVVRPX1BMQVlfVklERU9fRU5BQkxFRBABEhwKGEFVVE9fUExBWV9WSURFT19ESVNBQkxFRBACKmkKDlBsYXlWaWRlb011dGVkEhoKFlBMQVlfVklERU9fTVVURURfVU5TRVQQABIcChhQTEFZX1ZJREVPX01VVEVEX0VOQUJMRUQQARIdChlQTEFZX1ZJREVPX01VVEVEX0RJU0FCTEVEEAIqqgEKBkFkVHlwZRIRCg1BRF9UWVBFX1VOU0VUEAASEAoMQURfVFlQRV9MQkFSEAESEwoPQURfVFlQRV9TSURFQkFSEAISEwoPQURfVFlQRV9PVkVSTEFZEAMSFwoTQURfVFlQRV9MT1dFUl9USElSRBAEEhgKFEFEX1RZUEVfU0lERV9CWV9TSURFEAUSHgoaQURfVFlQRV9QSUNUVVJFX0lOX1BJQ1RVUkUQBirUCgoOUXVlc3Rpb25VSVR5cGUSGgoWUVVFU1RJT05fVUlfVFlQRV9VTlNFVBAAEh4KGlFVRVNUSU9OX1VJX1RZUEVfR09PR0xFX0FEEAESIAocUVVFU1RJT05fVUlfVFlQRV9TVEFOREFSRF9BRBACEiAKHFFVRVNUSU9OX1VJX1RZUEVfTE9XRVJfVEhJUkQQAxIhCh1RVUVTVElPTl9VSV9UWVBFX1NJREVfQllfU0lERRAEEicKI1FVRVNUSU9OX1VJX1RZUEVfUElDVFVSRV9JTl9QSUNUVVJFEAUSJQohUVVFU1RJT05fVUlfVFlQRV9ORkxfU0hPUFBBQkxFX0FEEAYSHwobUVVFU1RJT05fVUlfVFlQRV9JTlNJR0hUX0FEEAcSHAoYUVVFU1RJT05fVUlfVFlQRV9QT0xMX0FEEAgSHgoaUVVFU1RJT05fVUlfVFlQRV9UUklWSUFfQUQQCRIiCh5RVUVTVElPTl9VSV9UWVBFX1BSRURJQ1RJT05fQUQQChIhCh1RVUVTVElPTl9VSV9UWVBFX1NIT1BQQUJMRV9BRBALEiYKIlFVRVNUSU9OX1VJX1RZUEVfQUlfQVNTSVNUQU5UX0JFVEEQDBIZChVRVUVTVElPTl9VSV9UWVBFX1BPTEwQDRIbChdRVUVTVElPTl9VSV9UWVBFX1RSSVZJQRAOEh8KG1FVRVNUSU9OX1VJX1RZUEVfUFJFRElDVElPThAPEhwKGFFVRVNUSU9OX1VJX1RZUEVfSU5TSUdIVBAQEhsKF1FVRVNUSU9OX1VJX1RZUEVfWF9QT1NUEBESGgoWUVVFU1RJT05fVUlfVFlQRV9TVEFUUxASEiUKIVBBVVNFRF9RVUVTVElPTl9VSV9UWVBFX0dPT0dMRV9BRBBlEicKI1BBVVNFRF9RVUVTVElPTl9VSV9UWVBFX1NUQU5EQVJEX0FEEGYSJwojUEFVU0VEX1FVRVNUSU9OX1VJX1RZUEVfTE9XRVJfVEhJUkQQZxIoCiRQQVVTRURfUVVFU1RJT05fVUlfVFlQRV9TSURFX0JZX1NJREUQaBIuCipQQVVTRURfUVVFU1RJT05fVUlfVFlQRV9QSUNUVVJFX0lOX1BJQ1RVUkUQaRIsCihQQVVTRURfUVVFU1RJT05fVUlfVFlQRV9ORkxfU0hPUFBBQkxFX0FEEGoSJgoiUEFVU0VEX1FVRVNUSU9OX1VJX1RZUEVfSU5TSUdIVF9BRBBrEiMKH1BBVVNFRF9RVUVTVElPTl9VSV9UWVBFX1BPTExfQUQQbBIlCiFQQVVTRURfUVVFU1RJT05fVUlfVFlQRV9UUklWSUFfQUQQbRIpCiVQQVVTRURfUVVFU1RJT05fVUlfVFlQRV9QUkVESUNUSU9OX0FEEGQSKAokUEFVU0VEX1FVRVNUSU9OX1VJX1RZUEVfU0hPUFBBQkxFX0FEEG8SLQopUEFVU0VEX1FVRVNUSU9OX1VJX1RZUEVfQUlfQVNTSVNUQU5UX0JFVEEQcBIgChxQQVVTRURfUVVFU1RJT05fVUlfVFlQRV9QT0xMEHESIgoeUEFVU0VEX1FVRVNUSU9OX1VJX1RZUEVfVFJJVklBEHISJgoiUEFVU0VEX1FVRVNUSU9OX1VJX1RZUEVfUFJFRElDVElPThBzEiMKH1BBVVNFRF9RVUVTVElPTl9VSV9UWVBFX0lOU0lHSFQQdBIiCh5QQVVTRURfUVVFU1RJT05fVUlfVFlQRV9YX1BPU1QQdRIhCh1QQVVTRURfUVVFU1RJT05fVUlfVFlQRV9TVEFUUxB2KmkKDlVzZUdlbmVyYWxMb2dvEhoKFlVTRV9HRU5FUkFMX0xPR09fVU5TRVQQABIcChhVU0VfR0VORVJBTF9MT0dPX0VOQUJMRUQQARIdChlVU0VfR0VORVJBTF9MT0dPX0RJU0FCTEVEEAIqagoRQmFubmVyTWVkaWFGb3JtYXQSHQoZQkFOTkVSX01FRElBX0ZPUk1BVF9VTlNFVBAAEhoKFkJBTk5FUl9NRURJQV9GT1JNQVRfMTEQARIaChZCQU5ORVJfTUVESUFfRk9STUFUXzIxEAIqaQoKU2hvcEdlbmRlchIVChFTSE9QX0dFTkRFUl9VTlNFVBAAEhQKEFNIT1BfR0VOREVSX01BTEUQARIWChJTSE9QX0dFTkRFUl9GRU1BTEUQAhIWChJTSE9QX0dFTkRFUl9VTklTRVgQAypSCglTYWxlUHJpY2USFAoQU0FMRV9QUklDRV9VTlNFVBAAEhYKElNBTEVfUFJJQ0VfRU5BQkxFRBABEhcKE1NBTEVfUFJJQ0VfRElTQUJMRUQQAiqUAQoLVHJpZ2dlclR5cGUSFgoSVFJJR0dFUl9UWVBFX1VOU0VUEAASFwoTVFJJR0dFUl9UWVBFX01BTlVBTBABEhwKGFRSSUdHRVJfVFlQRV9FVkVOVF9CQVNFRBACEhgKFFRSSUdHRVJfVFlQRV9TQ1RFXzM1EAMSHAoYVFJJR0dFUl9UWVBFX1ZBU1RfU0lHTkFMEAQqfgoPRGV2aWNlVGFyZ2V0aW5nEhoKFkRFVklDRV9UQVJHRVRJTkdfVU5TRVQQABIbChdERVZJQ0VfVEFSR0VUSU5HX01PQklMRRABEhgKFERFVklDRV9UQVJHRVRJTkdfQ1RWEAISGAoUREVWSUNFX1RBUkdFVElOR19XRUIQAypFCgZBZFVuaXQSEQoNQURfVU5JVF9VTlNFVBAAEhQKEEFEX1VOSVRfU1RBTkRBUlQQARISCg5BRF9VTklUX1BBVVNFRBACKpYBChpOb3RpZmljYXRpb25NdWx0aWNvbXBvbmVudBIlCiFOT1RJRklDQVRJT05fTVVMVElDT01QT05FTlRfVU5TRVQQABInCiNOT1RJRklDQVRJT05fTVVMVElDT01QT05FTlRfRU5BQkxFRBABEigKJE5PVElGSUNBVElPTl9NVUxUSUNPTVBPTkVOVF9ESVNBQkxFRBACKqgBChBGYWN0b2lkTWVkaWFNb2RlEhwKGEZBQ1RPSURfTUVESUFfTU9ERV9VTlNFVBAAEhwKGEZBQ1RPSURfTUVESUFfTU9ERV9JTUFHRRABEhwKGEZBQ1RPSURfTUVESUFfTU9ERV9WSURFTxACEh0KGUZBQ1RPSURfTUVESUFfTU9ERV9DSVJDTEUQAxIbChdGQUNUT0lEX01FRElBX01PREVfTk9ORRAEKocBCgpDYXJkRm9ybWF0EhUKEUNBUkRfRk9STUFUX1VOU0VUEAASFwoTQ0FSRF9GT1JNQVRfT1ZFUkxBWRABEhcKE0NBUkRfRk9STUFUX1NJREVCQVIQAhIUChBDQVJEX0ZPUk1BVF9MQkFSEAMSGgoWQ0FSRF9GT1JNQVRfRlVMTF9CTEVFRBAEKuoBChVRdWVzdGlvbkF1dG9Qb3N0U3RhdGUSIgoeUVVFU1RJT05fQVVUT19QT1NUX1NUQVRFX1VOU0VUEAASHwobUVVFU1RJT05fQVVUT19QT1NUX1NUQVRFX09OEAESIAocUVVFU1RJT05fQVVUT19QT1NUX1NUQVRFX09GRhACEiMKH1FVRVNUSU9OX0FVVE9fUE9TVF9TVEFURV9QQVVTRUQQAxIhCh1RVUVTVElPTl9BVVRPX1BPU1RfU1RBVEVfSURMRRAEEiIKHlFVRVNUSU9OX0FVVE9fUE9TVF9TVEFURV9SRVNFVBAFKoQBChVRdWVzdGlvbkF1dG9Qb3N0U3RhcnQSIgoeUVVFU1RJT05fQVVUT19QT1NUX1NUQVJUX1VOU0VUEAASJQohUVVFU1RJT05fQVVUT19QT1NUX1NUQVJUX1NDSEVEVUxFEAESIAocUVVFU1RJT05fQVVUT19QT1NUX1NUQVJUX05PVxACKlYKElF1ZXN0aW9uU2tpcFJlYXNvbhIeChpRVUVTVElPTl9TS0lQX1JFQVNPTl9VTlNFVBAAEiAKHFFVRVNUSU9OX1NLSVBfUkVBU09OX09WRVJEVUUQASpcCg5TaWxlbmNlU2V0dGluZxIZChVTSUxFTkNFX1NFVFRJTkdfVU5TRVQQABIWChJTSUxFTkNFX1NFVFRJTkdfT04QARIXChNTSUxFTkNFX1NFVFRJTkdfT0ZGEAIqlAEKDEltcG9ydFN0YXR1cxIXChNJTVBPUlRfU1RBVFVTX1VOU0VUEAASGQoVSU1QT1JUX1NUQVRVU19QTEFOTkVEEAESGQoVSU1QT1JUX1NUQVRVU19SVU5OSU5HEAISGwoXSU1QT1JUX1NUQVRVU19DT01QTEVURUQQAxIYChRJTVBPUlRfU1RBVFVTX0ZBSUxFRBAEQrcBCiJjb20uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuY29tbW9uQiFTdHJlYW1MYXllckludGVyYWN0aXZlQ29tbW9uUHJvdG9QAVpjZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9pbnRlcmFjdGl2ZS9jb21tb247c2xfaW50ZXJhY3RpdmVfY29tbW9uogIGU0xfQVBJYgZwcm90bzM",[Wc,Vs,eG]),uee=St(Ai,1),Re=Tt(uee),dee=St(Ai,3),si=Tt(dee),hee=St(Ai,6),Pt=Tt(hee),fee=St(Ai,7),tG=Tt(fee),pee=St(Ai,8),Zs=Tt(pee),mee=St(Ai,9),iG=Tt(mee),gee=St(Ai,10),WA=Tt(gee),yee=St(Ai,12),at=Tt(yee),bee=St(Ai,18),vee=Tt(bee),Eee=St(Ai,20),xf=Tt(Eee),Aee=St(Ai,21),See=Tt(Aee),Tee=St(Ai,22),$g=Tt(Tee),Cee=St(Ai,23),GA=Tt(Cee),Ree=St(Ai,24),F6=Tt(Ree),Iee=St(Ai,25),wee=Tt(Iee),_ee=St(Ai,26),Kg=Tt(_ee),xee=St(Ai,27),nG=Tt(xee),Nee=St(Ai,36),fn=Tt(Nee),Vee=St(Ai,38),Lee=Tt(Vee),kee=St(Ai,43),Fee=Tt(kee),sG=kt("CjNzdHJlYW1sYXllci9pbnRlcmFjdGl2ZS9mZWVkL2ludGVyYWN0aXZlLmZlZWQucHJvdG8SHHN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQihQIKDEZlZWRRdWVzdGlvbhIzCghxdWVzdGlvbhgBIAEoCzIhLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uEkcKDG5vdGlmaWNhdGlvbhgCIAEoCzItLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uTm90aWZpY2F0aW9uQgIYARI8Cgptb2RlcmF0aW9uGAMgASgLMiguc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuRXZlbnRNb2RlcmF0aW9uEjkKCWZlZWRfaXRlbRgEIAEoCzImLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuRmVlZEl0ZW0iOAoTU3Vic2NyaXB0aW9uUmVxdWVzdBIQCghldmVudF9pZBgBIAEoCRIPCgdmZWVkX2lkGAIgASgJIucBChRTdWJzY3JpcHRpb25SZXNwb25zZRJZCgRkYXRhGAEgASgLMksuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5TdWJzY3JpcHRpb25SZXNwb25zZS5TdWJzY3JpcHRpb25SZXNwb25zZURhdGEadAoYU3Vic2NyaXB0aW9uUmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSPgoKYXR0cmlidXRlcxgDIAEoCzIqLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuRmVlZFF1ZXN0aW9uIkEKGVZvdGluZ1N1YnNjcmlwdGlvblJlcXVlc3QSDwoHZmVlZF9pZBgBIAEoCRITCgtxdWVzdGlvbl9pZBgCIAEoCSKNAgoaVm90aW5nU3Vic2NyaXB0aW9uUmVzcG9uc2USZQoEZGF0YRgBIAEoCzJXLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuVm90aW5nU3Vic2NyaXB0aW9uUmVzcG9uc2UuVm90aW5nU3Vic2NyaXB0aW9uUmVzcG9uc2VEYXRhGocBCh5Wb3RpbmdTdWJzY3JpcHRpb25SZXNwb25zZURhdGESEwoLcXVlc3Rpb25faWQYASABKAkSDAoEdHlwZRgCIAEoCRJCCgphdHRyaWJ1dGVzGAMgAygLMi4uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5BbnN3ZXJWb3RlUmVzdWx0IlMKFFF1ZXN0aW9uU3Vic2NyaXB0aW9uEjsKCHF1ZXN0aW9uGAEgASgLMikuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuRXh0ZW5kZWRRdWVzdGlvbiIyChtRdWVzdGlvblN1YnNjcmlwdGlvblJlcXVlc3QSEwoLcXVlc3Rpb25faWQYASABKAkimQIKHFF1ZXN0aW9uU3Vic2NyaXB0aW9uUmVzcG9uc2USaQoEZGF0YRgBIAEoCzJbLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuUXVlc3Rpb25TdWJzY3JpcHRpb25SZXNwb25zZS5RdWVzdGlvblN1YnNjcmlwdGlvblJlc3BvbnNlRGF0YRqNAQogUXVlc3Rpb25TdWJzY3JpcHRpb25SZXNwb25zZURhdGESEwoLcXVlc3Rpb25faWQYASABKAkSDAoEdHlwZRgCIAEoCRJGCgphdHRyaWJ1dGVzGAMgASgLMjIuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5RdWVzdGlvblN1YnNjcmlwdGlvbiJNCg5RdWVzdGlvbkJ5VXNlchI7CghxdWVzdGlvbhgBIAEoCzIpLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkV4dGVuZGVkUXVlc3Rpb24iLAoVUXVlc3Rpb25CeVVzZXJSZXF1ZXN0EhMKC3F1ZXN0aW9uX2lkGAEgASgJIvsBChZRdWVzdGlvbkJ5VXNlclJlc3BvbnNlEl0KBGRhdGEYASABKAsyTy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlF1ZXN0aW9uQnlVc2VyUmVzcG9uc2UuUXVlc3Rpb25CeVVzZXJSZXNwb25zZURhdGEagQEKGlF1ZXN0aW9uQnlVc2VyUmVzcG9uc2VEYXRhEhMKC3F1ZXN0aW9uX2lkGAEgASgJEgwKBHR5cGUYAiABKAkSQAoKYXR0cmlidXRlcxgDIAEoCzIsLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuUXVlc3Rpb25CeVVzZXIi1wEKE1N5bmNRdWVzdGlvblJlcXVlc3QSWwoGZmlsdGVyGAEgASgLMksuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5TeW5jUXVlc3Rpb25SZXF1ZXN0LlN5bmNRdWVzdGlvblJlcXVlc3RGaWx0ZXIaYwoZU3luY1F1ZXN0aW9uUmVxdWVzdEZpbHRlchIQCghldmVudF9pZBgBIAEoCRI0CgV0eXBlcxgCIAMoDjIlLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uVHlwZSLnAQoUU3luY1F1ZXN0aW9uUmVzcG9uc2USWQoEZGF0YRgBIAEoCzJLLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuU3luY1F1ZXN0aW9uUmVzcG9uc2UuU3luY1F1ZXN0aW9uUmVzcG9uc2VEYXRhGnQKGFN5bmNRdWVzdGlvblJlc3BvbnNlRGF0YRIKCgJpZBgBIAEoCRIMCgR0eXBlGAIgASgJEj4KCmF0dHJpYnV0ZXMYAyABKAsyKi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLkZlZWRRdWVzdGlvbiIgChJHZXRRdWVzdGlvblJlcXVlc3QSCgoCaWQYASABKAki2gEKE0dldFF1ZXN0aW9uUmVzcG9uc2USVwoEZGF0YRgBIAEoCzJJLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuR2V0UXVlc3Rpb25SZXNwb25zZS5HZXRRdWVzdGlvblJlc3BvbnNlRGF0YRpqChdHZXRRdWVzdGlvblJlc3BvbnNlRGF0YRIKCgJpZBgBIAEoCRIMCgR0eXBlGAIgASgJEjUKCmF0dHJpYnV0ZXMYAyABKAsyIS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbiIjChVRdWVzdGlvbkRldGFpbFJlcXVlc3QSCgoCaWQYASABKAki7gEKFlF1ZXN0aW9uRGV0YWlsUmVzcG9uc2USXQoEZGF0YRgBIAEoCzJPLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuUXVlc3Rpb25EZXRhaWxSZXNwb25zZS5RdWVzdGlvbkRldGFpbFJlc3BvbnNlRGF0YRp1ChpRdWVzdGlvbkRldGFpbFJlc3BvbnNlRGF0YRIKCgJpZBgBIAEoCRIMCgR0eXBlGAIgASgJEj0KCmF0dHJpYnV0ZXMYAyABKAsyKS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5FeHRlbmRlZFF1ZXN0aW9uIlkKEEFuc3dlclZvdGVSZXN1bHQSEQoJYW5zd2VyX2lkGAEgASgJEhIKCnBlcmNlbnRhZ2UYAiABKA0SDQoFdm90ZWQYAyABKAgSDwoHY29ycmVjdBgEIAEoCCKlAQoTU3VibWl0QW5zd2VyUmVxdWVzdBJRCgRkYXRhGAEgASgLMkMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5TdWJtaXRBbnN3ZXJSZXF1ZXN0LlN1Ym1pdFJlcXVlc3REYXRhGjsKEVN1Ym1pdFJlcXVlc3REYXRhEhMKC3F1ZXN0aW9uX2lkGAEgASgJEhEKCWFuc3dlcl9pZBgCIAEoCSL5AQoUU3VibWl0QW5zd2VyUmVzcG9uc2USWQoEZGF0YRgBIAEoCzJLLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuU3VibWl0QW5zd2VyUmVzcG9uc2UuU3VibWl0QW5zd2VyUmVzcG9uc2VEYXRhGoUBChhTdWJtaXRBbnN3ZXJSZXNwb25zZURhdGESEwoLcXVlc3Rpb25faWQYASABKAkSDAoEdHlwZRgCIAEoCRJGCgphdHRyaWJ1dGVzGAMgAygLMi4uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5BbnN3ZXJWb3RlUmVzdWx0QgIYASKPAQoTU3VibWl0SW5wbGF5UmVxdWVzdBJRCgRkYXRhGAEgASgLMkMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5TdWJtaXRJbnBsYXlSZXF1ZXN0LlN1Ym1pdFJlcXVlc3REYXRhGiUKEVN1Ym1pdFJlcXVlc3REYXRhEhAKCGV2ZW50X2lkGAEgASgNIhYKFFN1Ym1pdElucGxheVJlc3BvbnNlItIBChNTa2lwUXVlc3Rpb25SZXF1ZXN0ElcKBGRhdGEYASABKAsySS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlNraXBRdWVzdGlvblJlcXVlc3QuU2tpcFF1ZXN0aW9uUmVxdWVzdERhdGEaYgoXU2tpcFF1ZXN0aW9uUmVxdWVzdERhdGESCgoCaWQYASABKAkSOwoGcmVhc29uGAIgASgOMisuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25Ta2lwUmVhc29uIusBChRTa2lwUXVlc3Rpb25SZXNwb25zZRJZCgRkYXRhGAEgASgLMksuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5Ta2lwUXVlc3Rpb25SZXNwb25zZS5Ta2lwUXVlc3Rpb25SZXNwb25zZURhdGEaeAoYU2tpcFF1ZXN0aW9uUmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSQgoKYXR0cmlidXRlcxgDIAMoCzIuLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuQW5zd2VyVm90ZVJlc3VsdCKdAQoSUGlja0hpc3RvcnlSZXF1ZXN0EjwKDXF1ZXN0aW9uX3R5cGUYASADKA4yJS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblR5cGUSEAoIZXZlbnRfaWQYAyABKAkSNwoKcGFnaW5hdGlvbhgCIAEoCzIjLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlBhZ2luYXRpb24irgIKC1BpY2tIaXN0b3J5EhMKC3F1ZXN0aW9uX2lkGAEgASgJEhEKCWFuc3dlcl9pZBgCIAEoCRI/CgZzdGF0dXMYAyABKA4yLy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlBpY2tIaXN0b3J5U3RhdHVzEjwKDXF1ZXN0aW9uX3R5cGUYBCABKA4yJS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblR5cGUSDwoHc3ViamVjdBgFIAEoCRIMCgR0ZXh0GAYgASgJEhcKD29wZW5fZm9yX3ZvdGluZxgHIAEoCBJACg9xdWVzdGlvbl9zdGF0dXMYCCABKA4yJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblN0YXR1cyL0AgoTUGlja0hpc3RvcnlSZXNwb25zZRJXCgRkYXRhGAEgAygLMkkuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5QaWNrSGlzdG9yeVJlc3BvbnNlLlBpY2tIaXN0b3J5UmVzcG9uc2VEYXRhElsKBG1ldGEYAiABKAsyTS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlBpY2tIaXN0b3J5UmVzcG9uc2UuUGlja0hpc3RvcnlSZXNwb25zZU1ldGFkYXRhGlgKF1BpY2tIaXN0b3J5UmVzcG9uc2VEYXRhEj0KCmF0dHJpYnV0ZXMYASABKAsyKS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlBpY2tIaXN0b3J5Gk0KG1BpY2tIaXN0b3J5UmVzcG9uc2VNZXRhZGF0YRINCgV0b3RhbBgBIAEoBRIMCgRwYWdlGAIgASgFEhEKCXBhZ2Vfc2l6ZRgDIAEoBSIpChVJbnNpZ2h0SGlzdG9yeVJlcXVlc3QSEAoIZXZlbnRfaWQYASABKAkiswQKC0luc3RhbnRWaWV3EhQKB2hlYWRpbmcYASABKAlIAIgBARIRCgRib2R5GAIgASgJSAGIAQESEgoFaW1hZ2UYAyABKAlIAogBARI1CgV2aWRlbxgEIAEoCzIhLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkZpbGVMaW5rSAOIAQESNwoId2ViX2xpbmsYBSABKAsyIC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5XZWJMaW5rSASIAQESOwoKaW1hZ2VfbW9kZRgGIAEoDjInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uSW1hZ2VzEj0KC2Nsb3NlX3RpbWVyGAcgASgLMiMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQ2xvc2VUaW1lckgFiAEBEkQKD2F1dG9fcGxheV92aWRlbxgIIAEoDjImLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkF1dG9QbGF5VmlkZW9IBogBARJGChBwbGF5X3ZpZGVvX211dGVkGAkgASgOMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUGxheVZpZGVvTXV0ZWRIB4gBAUIKCghfaGVhZGluZ0IHCgVfYm9keUIICgZfaW1hZ2VCCAoGX3ZpZGVvQgsKCV93ZWJfbGlua0IOCgxfY2xvc2VfdGltZXJCEgoQX2F1dG9fcGxheV92aWRlb0ITChFfcGxheV92aWRlb19tdXRlZCJ/ChNJbnNpZ2h0Tm90aWZpY2F0aW9uEhIKBXRpdGxlGAEgASgJSACIAQESEQoEYm9keRgCIAEoCUgBiAEBEhsKDmltYWdlX3Bvc2l0aW9uGAMgASgFSAKIAQFCCAoGX3RpdGxlQgcKBV9ib2R5QhEKD19pbWFnZV9wb3NpdGlvbiL/AgoOSW5zaWdodEhpc3RvcnkSEwoLcXVlc3Rpb25faWQYASABKAkSDQoFdGl0bGUYAiABKAkSDQoFaW1hZ2UYAyABKAkSOwoKaW1hZ2VfbW9kZRgEIAEoDjInLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlF1ZXN0aW9uSW1hZ2VzEkQKDGluc3RhbnRfdmlldxgFIAEoCzIpLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuSW5zdGFudFZpZXdIAIgBARJMCgxub3RpZmljYXRpb24YBiABKAsyMS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLkluc2lnaHROb3RpZmljYXRpb25IAYgBARJHChN1c2VfYXNfbm90aWZpY2F0aW9uGAcgASgOMiouc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuVXNlQXNOb3RpZmljYXRpb25CDwoNX2luc3RhbnRfdmlld0IPCg1fbm90aWZpY2F0aW9uIvEBChZJbnNpZ2h0SGlzdG9yeVJlc3BvbnNlEl0KBGRhdGEYASADKAsyTy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLkluc2lnaHRIaXN0b3J5UmVzcG9uc2UuSW5zaWdodEhpc3RvcnlSZXNwb25zZURhdGEaeAoaSW5zaWdodEhpc3RvcnlSZXNwb25zZURhdGESCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRJACgphdHRyaWJ1dGVzGAMgASgLMiwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5JbnNpZ2h0SGlzdG9yeSInChNUd2VldEhpc3RvcnlSZXF1ZXN0EhAKCGV2ZW50X2lkGAEgASgJIqEBCgxUd2VldEhpc3RvcnkSEAoIdHdlZXRfaWQYASABKAkSDQoFdGl0bGUYAiABKAkSDQoFaW1hZ2UYAyABKAkSDAoEYm9keRgEIAEoCRIPCgdhY2NvdW50GAUgASgJEhgKEGFjY291bnRfdmVyaWZpZWQYBiABKAgSKAoFdHdlZXQYByABKAsyGS5zdHJlYW1sYXllci5zb2NpYWwuVHdlZXQi5wEKFFR3ZWV0SGlzdG9yeVJlc3BvbnNlElkKBGRhdGEYASADKAsySy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlR3ZWV0SGlzdG9yeVJlc3BvbnNlLlR3ZWV0SGlzdG9yeVJlc3BvbnNlRGF0YRp0ChhUd2VldEhpc3RvcnlSZXNwb25zZURhdGESCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRI+CgphdHRyaWJ1dGVzGAMgASgLMiouc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5Ud2VldEhpc3RvcnkilwEKD0ludGVyYWN0aXZlRmVlZBIKCgJpZBgBIAEoCRI6CgdvcHRpb25zGAIgASgLMikuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5GZWVkT3B0aW9ucxI8Cgptb2RlcmF0aW9uGAMgASgLMiguc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuRXZlbnRNb2RlcmF0aW9uIikKC0ZlZWRPcHRpb25zEhoKEm9uYm9hcmRpbmdfZW5hYmxlZBgBIAEoCCIeCgpHZXRSZXF1ZXN0EhAKCGV2ZW50X2lkGAEgASgJIsYBCgtHZXRSZXNwb25zZRJHCgRkYXRhGAEgASgLMjkuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5HZXRSZXNwb25zZS5HZXRSZXNwb25zZURhdGEabgoPR2V0UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSQQoKYXR0cmlidXRlcxgDIAEoCzItLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuSW50ZXJhY3RpdmVGZWVkIisKF1Byb21vdGlvbkhpc3RvcnlSZXF1ZXN0EhAKCGV2ZW50X2lkGAEgASgJIjwKEFByb21vdGlvbkhpc3RvcnkSCgoCaWQYASABKAkSDQoFdGl0bGUYAiABKAkSDQoFaW1hZ2UYAyABKAki+wEKGFByb21vdGlvbkhpc3RvcnlSZXNwb25zZRJhCgRkYXRhGAEgAygLMlMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5Qcm9tb3Rpb25IaXN0b3J5UmVzcG9uc2UuUHJvbW90aW9uSGlzdG9yeVJlc3BvbnNlRGF0YRp8ChxQcm9tb3Rpb25IaXN0b3J5UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSQgoKYXR0cmlidXRlcxgDIAEoCzIuLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuUHJvbW90aW9uSGlzdG9yeSKPBQoSRmVlZEl0ZW1BdHRyaWJ1dGVzEgoKAmlkGAEgASgJEjMKBHR5cGUYAiABKA4yJS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblR5cGUSNwoGc3RhdHVzGAMgASgOMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25TdGF0dXMSDwoHY3JlYXRlZBgIIAEoCRIwCgdhZF91bml0GAogASgOMh8uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQWRVbml0Ej0KCHF1ZXN0aW9uGAQgASgLMikuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5QaWNrSGlzdG9yeUgAEjsKBXR3ZWV0GAUgASgLMiouc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5Ud2VldEhpc3RvcnlIABI/CgdpbnNpZ2h0GAYgASgLMiwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5JbnNpZ2h0SGlzdG9yeUgAEkMKCXByb21vdGlvbhgHIAEoCzIuLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuUHJvbW90aW9uSGlzdG9yeUgAEj0KDGFkX3Byb21vdGlvbhgJIAEoCzIiLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlByb21vdGlvbkgBiAEBEkcKEGJhY2tncm91bmRfaW1hZ2UYCyABKAsyKC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5CYWNrZ3JvdW5kSW1hZ2VIAogBAUIMCgphdHRyaWJ1dGVzQg8KDV9hZF9wcm9tb3Rpb25CEwoRX2JhY2tncm91bmRfaW1hZ2UiagoIRmVlZEl0ZW0SCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRJECgphdHRyaWJ1dGVzGAMgASgLMjAuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5GZWVkSXRlbUF0dHJpYnV0ZXMi4QIKD0ZlZWRMaXN0UmVxdWVzdBIQCghldmVudF9pZBgBIAEoCRJMCgZmaWx0ZXIYAiABKAsyPC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLkZlZWRMaXN0UmVxdWVzdC5GZWVkTGlzdEZpbHRlchI3CgpwYWdpbmF0aW9uGAMgASgLMiMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUGFnaW5hdGlvbhq0AQoORmVlZExpc3RGaWx0ZXISNAoFdHlwZXMYASADKA4yJS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblR5cGUSOQoIc3RhdHVzZXMYAiADKA4yJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblN0YXR1cxIxCghhZF91bml0cxgDIAMoDjIfLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLkFkVW5pdCLrAQoQRmVlZExpc3RSZXNwb25zZRI0CgRkYXRhGAEgAygLMiYuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5GZWVkSXRlbRJVCgRtZXRhGAIgASgLMkcuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5GZWVkTGlzdFJlc3BvbnNlLkZlZWRMaXN0UmVzcG9uc2VNZXRhZGF0YRpKChhGZWVkTGlzdFJlc3BvbnNlTWV0YWRhdGESDQoFdG90YWwYASABKAUSDAoEcGFnZRgCIAEoBRIRCglwYWdlX3NpemUYAyABKAUiKgoWUGF1c2VBZExpc3RMaXN0UmVxdWVzdBIQCghldmVudF9pZBgBIAEoCSJGChNQYXVzZUFkTGlzdFJlc3BvbnNlEi8KBGRhdGEYASADKAsyIS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvbiIdCg9GZWVkSXRlbVJlcXVlc3QSCgoCaWQYASABKAkiSAoQRmVlZEl0ZW1SZXNwb25zZRI0CgRkYXRhGAEgASgLMiYuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5GZWVkSXRlbSIrChdGZWVkU3Vic2NyaXB0aW9uUmVxdWVzdBIQCghldmVudF9pZBgBIAEoCSL/AQoYRmVlZFN1YnNjcmlwdGlvblJlc3BvbnNlEjQKBGRhdGEYASABKAsyJi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLkZlZWRJdGVtElkKBG1ldGEYAiABKAsySy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLkZlZWRTdWJzY3JpcHRpb25SZXNwb25zZS5GZWVkU3Vic2NyaXB0aW9uTWV0YRpSChRGZWVkU3Vic2NyaXB0aW9uTWV0YRI6CgR0eXBlGAEgASgOMiwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5GZWVkVXBkYXRlVHlwZSLsAQoOQmV0UGFja1JlcXVlc3QSEAoIZXZlbnRfaWQYASABKAkSNAoFdHlwZXMYAiADKA4yJS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblR5cGUSOQoIc3RhdHVzZXMYAyADKA4yJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5RdWVzdGlvblN0YXR1cxISCgVsaW1pdBgEIAEoBUgAiAEBEjAKBHNvcnQYBSABKAsyHS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5Tb3J0SAGIAQFCCAoGX2xpbWl0QgcKBV9zb3J0IsUBCg9CZXRQYWNrUmVzcG9uc2USRwoEZGF0YRgBIAMoCzI5LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuQmV0UGFja1Jlc3BvbnNlLkJldFBhY2tJdGVtGmkKC0JldFBhY2tJdGVtEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSQAoKYXR0cmlidXRlcxgDIAEoCzIsLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuUXVlc3Rpb25CeVVzZXIiNAodU2ltdWxhdGVRdWVzdGlvblVwZGF0ZVJlcXVlc3QSEwoLcXVlc3Rpb25faWQYASABKAkiIAoeU2ltdWxhdGVRdWVzdGlvblVwZGF0ZVJlc3BvbnNlKooBChFQaWNrSGlzdG9yeVN0YXR1cxIdChlQSUNLX0hJU1RPUllfU1RBVFVTX1VOU0VUEAASGwoXUElDS19ISVNUT1JZX1NUQVRVU19XT04QARIcChhQSUNLX0hJU1RPUllfU1RBVFVTX0xPU1QQAhIbChdQSUNLX0hJU1RPUllfU1RBVFVTX0ROUBADKpkBCg5GZWVkVXBkYXRlVHlwZRIVChFVUERBVEVfVFlQRV9VTlNFVBAAEiEKHVVQREFURV9UWVBFX1FVRVNUSU9OX0FDVElWQVRFEAESKwonVVBEQVRFX1RZUEVfUVVFU1RJT05fU0VUX0NPUlJFQ1RfQU5TV0VSEAISIAocVVBEQVRFX1RZUEVfUVVFU1RJT05fUkVTT0xWRRADMo0YCgRGZWVkEmcKA0dldBIoLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuR2V0UmVxdWVzdBopLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuR2V0UmVzcG9uc2UiC4qmHQNnZXSoph0CEpoBCgxTdWJzY3JpcHRpb24SMS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlN1YnNjcmlwdGlvblJlcXVlc3QaMi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlN1YnNjcmlwdGlvblJlc3BvbnNlIiGKph0VcXVlc3Rpb24uc3Vic2NyaXB0aW9ukKYdApimHQIwARKqAQoSVm90aW5nU3Vic2NyaXB0aW9uEjcuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5Wb3RpbmdTdWJzY3JpcHRpb25SZXF1ZXN0Gjguc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5Wb3RpbmdTdWJzY3JpcHRpb25SZXNwb25zZSIfiqYdE3ZvdGluZy5zdWJzY3JpcHRpb26Qph0CmKYdAjABErkBChRRdWVzdGlvblN1YnNjcmlwdGlvbhI5LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuUXVlc3Rpb25TdWJzY3JpcHRpb25SZXF1ZXN0Gjouc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5RdWVzdGlvblN1YnNjcmlwdGlvblJlc3BvbnNlIiiKph0ccXVlc3Rpb24uZGV0YWlsLnN1YnNjcmlwdGlvbpCmHQKYph0CMAESkgEKDlF1ZXN0aW9uQnlVc2VyEjMuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5RdWVzdGlvbkJ5VXNlclJlcXVlc3QaNC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlF1ZXN0aW9uQnlVc2VyUmVzcG9uc2UiFYqmHQ1xdWVzdGlvbi51c2VyqKYdAhKMAQoMU3luY1F1ZXN0aW9uEjEuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5TeW5jUXVlc3Rpb25SZXF1ZXN0GjIuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5TeW5jUXVlc3Rpb25SZXNwb25zZSIViqYdDXF1ZXN0aW9uLnJlYWSoph0CEogBCgtHZXRRdWVzdGlvbhIwLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuR2V0UXVlc3Rpb25SZXF1ZXN0GjEuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5HZXRRdWVzdGlvblJlc3BvbnNlIhSKph0McXVlc3Rpb24uZ2V0qKYdAhKUAQoOUXVlc3Rpb25EZXRhaWwSMy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlF1ZXN0aW9uRGV0YWlsUmVxdWVzdBo0LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuUXVlc3Rpb25EZXRhaWxSZXNwb25zZSIXiqYdD3F1ZXN0aW9uLmRldGFpbKimHQISjAEKDFN1Ym1pdEFuc3dlchIxLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuU3VibWl0QW5zd2VyUmVxdWVzdBoyLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuU3VibWl0QW5zd2VyUmVzcG9uc2UiFYqmHQ1hbnN3ZXIuc3VibWl0qKYdAhKMAQoMU3VibWl0SW5wbGF5EjEuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5TdWJtaXRJbnBsYXlSZXF1ZXN0GjIuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5TdWJtaXRJbnBsYXlSZXNwb25zZSIViqYdDWlucGxheS5zdWJtaXSoph0CEowBCgxTa2lwUXVlc3Rpb24SMS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlNraXBRdWVzdGlvblJlcXVlc3QaMi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlNraXBRdWVzdGlvblJlc3BvbnNlIhWKph0NcXVlc3Rpb24uc2tpcKimHQISgwEKC1BpY2tIaXN0b3J5EjAuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5QaWNrSGlzdG9yeVJlcXVlc3QaMS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlBpY2tIaXN0b3J5UmVzcG9uc2UiD4qmHQdoaXN0b3J5qKYdAhKUAQoOSW5zaWdodEhpc3RvcnkSMy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLkluc2lnaHRIaXN0b3J5UmVxdWVzdBo0LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuSW5zaWdodEhpc3RvcnlSZXNwb25zZSIXiqYdD2hpc3RvcnkuaW5zaWdodKimHQISjAEKDFR3ZWV0SGlzdG9yeRIxLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuVHdlZXRIaXN0b3J5UmVxdWVzdBoyLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuVHdlZXRIaXN0b3J5UmVzcG9uc2UiFYqmHQ1oaXN0b3J5LnR3ZWV0qKYdAhKcAQoQUHJvbW90aW9uSGlzdG9yeRI1LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuUHJvbW90aW9uSGlzdG9yeVJlcXVlc3QaNi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlByb21vdGlvbkhpc3RvcnlSZXNwb25zZSIZiqYdEWhpc3RvcnkucHJvbW90aW9uqKYdAhJzCgRMaXN0Ei0uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5GZWVkTGlzdFJlcXVlc3QaLi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLkZlZWRMaXN0UmVzcG9uc2UiDIqmHQRsaXN0qKYdAhKMAQoLUGF1c2VBZExpc3QSNC5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlBhdXNlQWRMaXN0TGlzdFJlcXVlc3QaMS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlBhdXNlQWRMaXN0UmVzcG9uc2UiFIqmHQxwYXVzZUFkLmxpc3Soph0CEnMKBEl0ZW0SLS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLkZlZWRJdGVtUmVxdWVzdBouLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuRmVlZEl0ZW1SZXNwb25zZSIMiqYdBGl0ZW2oph0CEp0BChBGZWVkU3Vic2NyaXB0aW9uEjUuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5GZWVkU3Vic2NyaXB0aW9uUmVxdWVzdBo2LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuRmVlZFN1YnNjcmlwdGlvblJlc3BvbnNlIhiKph0Mc3Vic2NyaXB0aW9ukKYdApimHQIwARJ3CgdCZXRQYWNrEiwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5CZXRQYWNrUmVxdWVzdBotLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWQuQmV0UGFja1Jlc3BvbnNlIg+Kph0HYmV0UGFja6imHQISrwEKFlNpbXVsYXRlUXVlc3Rpb25VcGRhdGUSOy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5mZWVkLlNpbXVsYXRlUXVlc3Rpb25VcGRhdGVSZXF1ZXN0Gjwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuZmVlZC5TaW11bGF0ZVF1ZXN0aW9uVXBkYXRlUmVzcG9uc2UiGIqmHRRjYWxsLnF1ZXN0aW9uLnVwZGF0ZTABGhSKtRgQaW50ZXJhY3RpdmUuZmVlZEKvAQogY29tLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmZlZWRCH1N0cmVhbUxheWVySW50ZXJhY3RpdmVGZWVkUHJvdG9QAVpfZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9pbnRlcmFjdGl2ZS9mZWVkO3NsX2ludGVyYWN0aXZlX2ZlZWSiAgZTTF9BUEliBnByb3RvMw",[ya,Ai,eG]),Uee=St(sG,0),jo=Tt(Uee),Ls=El(sG,0),Bee=kt("CjVzdHJlYW1sYXllci9zZGtTZXR0aW5ncy9nYW1lL2NvbW1vbi9nYW1lX2NvbW1vbi5wcm90bxIjc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuZ2FtZS5jb21tb24iVgoOR2FtZUFwcGVhcmFuY2USFQoNcHJpbWFyeV9jb2xvchgBIAEoCRIXCg9zZWNvbmRhcnlfY29sb3IYAiABKAkSFAoMYWNjZW50X2NvbG9yGAMgASgJIjQKCUdhbWVNZWRpYRIRCglnYW1lX2ljb24YASABKAkSFAoMc3BvbnNvcl9sb2dvGAIgASgJIikKCUdhbWVQcml6ZRINCgV0aXRsZRgBIAEoCRINCgVpbWFnZRgCIAEoCSK1AgoMR2FtZU92ZXJ2aWV3Eg0KBXRpdGxlGAEgASgJEhMKC2Rlc2NyaXB0aW9uGAIgASgJEhUKDWF1dG9fYWN0aXZhdGUYAyABKAgSDwoHc2NvcmluZxgEIAEoCBI9CgVtZWRpYRgFIAEoCzIuLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmdhbWUuY29tbW9uLkdhbWVNZWRpYRJHCgphcHBlYXJhbmNlGAYgASgLMjMuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuZ2FtZS5jb21tb24uR2FtZUFwcGVhcmFuY2USPgoGcHJpemVzGAcgAygLMi4uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuZ2FtZS5jb21tb24uR2FtZVByaXplEhEKCWNvbXBsZXRlZBgIIAEoCCI0Cg5UaXRsZUNhcmRNZWRpYRIMCgRpY29uGAEgASgJEhQKDHNwb25zb3JfbG9nbxgCIAEoCSImChNUaXRsZUNhcmRBcHBlYXJhbmNlEg8KB2dyYXBoaWMYASABKAkihgIKDUdhbWVUaXRsZUNhcmQSDwoHdmlzaWJsZRgBIAEoCBIOCgZvcHRfaW4YAiABKAgSDQoFdGl0bGUYAyABKAkSEAoIc3VidGl0bGUYBCABKAkSDgoGaGVhZGVyGAUgASgJEkIKBW1lZGlhGAYgASgLMjMuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuZ2FtZS5jb21tb24uVGl0bGVDYXJkTWVkaWESTAoKYXBwZWFyYW5jZRgHIAEoCzI4LnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmdhbWUuY29tbW9uLlRpdGxlQ2FyZEFwcGVhcmFuY2USEQoJY29tcGxldGVkGAggASgIIkEKDk9uYm9hcmRpbmdTdGVwEhAKCGhlYWRsaW5lGAEgASgJEgwKBGJvZHkYAiABKAkSDwoHZ3JhcGhpYxgDIAEoCSJnCg5HYW1lT25ib2FyZGluZxJCCgVzdGVwcxgBIAMoCzIzLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmdhbWUuY29tbW9uLk9uYm9hcmRpbmdTdGVwEhEKCWNvbXBsZXRlZBgCIAEoCCKfAQoJR2FtZVJ1bGVzEg8KB2hlYWRpbmcYASABKAkSEAoIdHlwZWZhY2UYAiABKAkSFAoMYnV0dG9uX2xhYmVsGAMgASgJEhUKDW51bWJlcnNfY29sb3IYBCABKAkSDQoFcnVsZXMYBSADKAkSEQoJY29tcGxldGVkGAYgASgIEg0KBXRlcm1zGAcgASgJEhEKCXRlcm1zX3VybBgIIAEoCSKUAQoOR2FtZUludml0ZUNhcmQSDwoHaGVhZGluZxgBIAEoCRIQCgh0eXBlZmFjZRgCIAEoCRIPCgdzdWJ0ZXh0GAMgASgJEhQKDGJ1dHRvbl9sYWJlbBgEIAEoCRISCgppY29uX2NvbG9yGAUgASgJEhEKBXRlcm1zGAYgASgJQgIYARIRCgljb21wbGV0ZWQYByABKAgikAMKDEdhbWVTZXR0aW5ncxJDCghvdmVydmlldxgBIAEoCzIxLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmdhbWUuY29tbW9uLkdhbWVPdmVydmlldxJGCgp0aXRsZV9jYXJkGAIgASgLMjIuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuZ2FtZS5jb21tb24uR2FtZVRpdGxlQ2FyZBJHCgpvbmJvYXJkaW5nGAMgASgLMjMuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuZ2FtZS5jb21tb24uR2FtZU9uYm9hcmRpbmcSPQoFcnVsZXMYBCABKAsyLi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5nYW1lLmNvbW1vbi5HYW1lUnVsZXMSSAoLaW52aXRlX2NhcmQYBSABKAsyMy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5nYW1lLmNvbW1vbi5HYW1lSW52aXRlQ2FyZBIRCgljb21wbGV0ZWQYBiABKAgSDgoGZW5hYmxlGAcgASgIQsoBCidjb20uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuZ2FtZS5jb21tb25CJVN0cmVhbUxheWVyU2RrU2V0dGluZ3NHYW1lQ29tbW9uUHJvdG9QAVptZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9zZGtTZXR0aW5ncy9nYW1lLmNvbW1vbjtzbF9zZGtTZXR0aW5nc19nYW1lX2NvbW1vbqICBlNMX0FQSWIGcHJvdG8z"),Wee=kt("CkFzdHJlYW1sYXllci9zZGtTZXR0aW5ncy9tb2RlcmF0aW9uL2NvbW1vbi9tb2RlcmF0aW9uX2NvbW1vbi5wcm90bxIpc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MubW9kZXJhdGlvbi5jb21tb24ioAIKEU1vZGVyYXRpb25HZW5lcmFsEhUKDWRlZmF1bHRfY29sb3IYASABKAkSDgoGcG9pbnRzGAIgASgNEhoKEmF1dG9faGlkZV9pbnRlcnZhbBgDIAEoBBIgChhpbnNpZ2h0c19oaXN0b3J5X2VuYWJsZWQYBCABKAgSHAoUcGlja19oaXN0b3J5X2VuYWJsZWQYBSABKAgSQgoRY29ycmVjdF9mZWVkYmFja3MYBiADKAsyJy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5BbnN3ZXJGZWVkYmFjaxJEChNpbmNvcnJlY3RfZmVlZGJhY2tzGAcgAygLMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuQW5zd2VyRmVlZGJhY2sibQoXTW9kZXJhdGlvbk5vdGlmaWNhdGlvbnMSFQoNZGVmYXVsdF9pbWFnZRgBIAEoCRI7CgppbWFnZV9tb2RlGAIgASgOMicuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUuUXVlc3Rpb25JbWFnZXMidAoWTW9kZXJhdGlvblNwb25zb3JzaGlwcxIOCgZyb3RhdGUYASABKAgSEgoKbm9fc3BvbnNvchgCIAEoCBI2CghzcG9uc29ycxgDIAMoCzIkLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlNwb25zb3JzaGlwIpcCChJNb2RlcmF0aW9uU2V0dGluZ3MSTQoHZ2VuZXJhbBgBIAEoCzI8LnN0cmVhbWxheWVyLnNka1NldHRpbmdzLm1vZGVyYXRpb24uY29tbW9uLk1vZGVyYXRpb25HZW5lcmFsElkKDW5vdGlmaWNhdGlvbnMYAiABKAsyQi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5tb2RlcmF0aW9uLmNvbW1vbi5Nb2RlcmF0aW9uTm90aWZpY2F0aW9ucxJXCgxzcG9uc29yc2hpcHMYAyABKAsyQS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5tb2RlcmF0aW9uLmNvbW1vbi5Nb2RlcmF0aW9uU3BvbnNvcnNoaXBzQuIBCi1jb20uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MubW9kZXJhdGlvbi5jb21tb25CK1N0cmVhbUxheWVyU2RrU2V0dGluZ3NNb2RlcmF0aW9uQ29tbW9uUHJvdG9QAVp5Z2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9zZGtTZXR0aW5ncy9tb2RlcmF0aW9uLmNvbW1vbjtzbF9zZGtTZXR0aW5nc19tb2RlcmF0aW9uX2NvbW1vbqICBlNMX0FQSWIGcHJvdG8z",[Ai]),rG=kt("CjBzdHJlYW1sYXllci9zZGtTZXR0aW5ncy9zZGtTZXR0aW5ncy5jb21tb24ucHJvdG8SF3N0cmVhbWxheWVyLnNka1NldHRpbmdzIioKFlR3aXR0ZXJPdmVybGF5U2V0dGluZ3MSEAoIYWNjb3VudHMYASADKAkieQoPQmV0dGluZ0Zhdm9yaXRlEgoKAmlkGAEgASgEEgwKBGljb24YAiABKAkSDAoEbmFtZRgDIAEoCRI6CgR0eXBlGAQgASgOMiwuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQmV0dGluZ0Zhdm9yaXRlVHlwZToCGAEiJQoIQ3RhSW1hZ2USCwoDdXJsGAEgASgJEgwKBG5hbWUYAiABKAkiqgEKDUJyYW5kRGVmYXVsdHMSRQoKYXBwZWFyYW5jZRgBIAEoCzIxLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkJyYW5kRGVmYXVsdHMuQXBwZWFyYW5jZRpSCgpBcHBlYXJhbmNlEhUKDXByaW1hcnlfY29sb3IYASABKAkSFwoPc2Vjb25kYXJ5X2NvbG9yGAIgASgJEhQKDGFjY2VudF9jb2xvchgDIAEoCSLdAgoWQmV0dGluZ092ZXJsYXlTZXR0aW5ncxI/CglmYXZvcml0ZXMYASADKAsyKC5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5CZXR0aW5nRmF2b3JpdGVCAhgBEhUKDXByaW1hcnlfY29sb3IYAiABKAkSFwoLYnV0dG9uX2ljb24YAyABKAlCAhgBEkUKCnRleHRfY29sb3IYBCABKA4yMS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5CZXR0aW5nU2V0dGluZ3NUZXh0Q29sb3ISGgoSYXBwX2luc3RhbGxlZF90ZXh0GAUgASgJEh4KFmFwcF9ub3RfaW5zdGFsbGVkX3RleHQYBiABKAkSGQoRdGV4dF9jb2xvcl9jdXN0b20YByABKAkSNAoJY3RhX2ltYWdlGAggASgLMiEuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQ3RhSW1hZ2UivwEKF0dldFN0cmVhbVNldHRpbmdzQ2xpZW50EjoKB2VuYWJsZWQYASABKA4yKS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZXRTdHJlYW1FbmFibGVkEgsKA2tleRgCIAEoCRIOCgZhcHBfaWQYAyABKAkSSwoUZGVmYXVsdF9jaGFubmVsX3R5cGUYBSABKA4yLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZXRTdHJlYW1DaGFubmVsVHlwZSLcAQoQR2V0U3RyZWFtQ2hhbm5lbBIXCg9vcmdhbml6YXRpb25faWQYASABKAkSEAoIZXZlbnRfaWQYAiABKAkSEgoKY2hhbm5lbF9pZBgDIAEoCRJDCgxjaGFubmVsX3R5cGUYBCABKA4yLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZXRTdHJlYW1DaGFubmVsVHlwZRJECgppc19kZWZhdWx0GAUgASgOMjAuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuR2V0U3RyZWFtQ2hhbm5lbERlZmF1bHQiugIKEUdldFN0cmVhbUNoYW5uZWxzEjoKB2VuYWJsZWQYASABKA4yKS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZXRTdHJlYW1FbmFibGVkEgsKA2tleRgCIAEoCRIOCgZhcHBfaWQYAyABKAkSSwoUZGVmYXVsdF9jaGFubmVsX3R5cGUYBCABKA4yLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZXRTdHJlYW1DaGFubmVsVHlwZRJCCg9kZWZhdWx0X2NoYW5uZWwYBSABKAsyKS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZXRTdHJlYW1DaGFubmVsEjsKCGNoYW5uZWxzGAYgAygLMikuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuR2V0U3RyZWFtQ2hhbm5lbCL/AgoOU3RyZWFtU2V0dGluZ3MSNQoIb3ZlcmxheXMYASADKAsyIy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5TZGtPdmVybGF5Eg4KBmN1c3RvbRgCIAEoCBITCgtidXR0b25faWNvbhgDIAEoCRIZCg1wcmltYXJ5X2NvbG9yGAQgASgJQgIYARIbCg9zZWNvbmRhcnlfY29sb3IYBSABKAlCAhgBEiQKGG1vZGVyYXRpb25fcHJpbWFyeV9jb2xvchgGIAEoCUICGAESFwoPbGlua19zaGFyZV9pY29uGAcgASgJEhcKD2xpbmtfc2hhcmVfdGV4dBgIIAEoCRI+Cg5icmFuZF9kZWZhdWx0cxgJIAEoCzImLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkJyYW5kRGVmYXVsdHMSQQoJZ2V0c3RyZWFtGAogASgLMiouc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuR2V0U3RyZWFtQ2hhbm5lbHNCAhgBIuMECgNKV0sSEAoDYWxnGAEgASgJSACIAQESEAoDY3J2GAIgASgJSAGIAQESDgoBZBgDIAEoCUgCiAEBEg8KAmRwGAQgASgJSAOIAQESDwoCZHEYBSABKAlIBIgBARIOCgFlGAYgASgJSAWIAQESEAoDZXh0GAcgASgISAaIAQESDgoBaxgIIAEoCUgHiAEBEg8KB2tleV9vcHMYCSADKAkSEAoDa2lkGAogASgJSAiIAQESEAoDa3R5GAsgASgJSAmIAQESDgoBbhgMIAEoCUgKiAEBEi0KA290aBgNIAMoCzIgLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkpXSy5PVEgSDgoBcBgOIAEoCUgLiAEBEg4KAXEYDyABKAlIDIgBARIPCgJxaRgQIAEoCUgNiAEBEhAKA3VzZRgRIAEoCUgOiAEBEg4KAXgYEiABKAlID4gBARIOCgF5GBMgASgJSBCIAQESCwoDeDVjGBQgAygJEhAKA3g1dBgVIAEoCUgRiAEBEhAKA3g1dRgWIAEoCUgSiAEBGkcKA09USBIOCgFkGAEgASgJSACIAQESDgoBchgCIAEoCUgBiAEBEg4KAXQYAyABKAlIAogBAUIECgJfZEIECgJfckIECgJfdEIGCgRfYWxnQgYKBF9jcnZCBAoCX2RCBQoDX2RwQgUKA19kcUIECgJfZUIGCgRfZXh0QgQKAl9rQgYKBF9raWRCBgoEX2t0eUIECgJfbkIECgJfcEIECgJfcUIFCgNfcWlCBgoEX3VzZUIECgJfeEIECgJfeUIGCgRfeDV0QgYKBF94NXUi6QQKFE9yZ2FuaXphdGlvblNldHRpbmdzEjUKCG92ZXJsYXlzGAEgAygLMiMuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuU2RrT3ZlcmxheRITCgtidXR0b25faWNvbhgCIAEoCRITCgt0aW5vZGVfaG9zdBgDIAEoCRIQCghhdWRpZW5jZRgEIAEoCRIMCgRuYW1lGAUgASgJEhAKCHByb3ZpZGVyGAYgASgJEhkKDXByaW1hcnlfY29sb3IYByABKAlCAhgBEhsKD3NlY29uZGFyeV9jb2xvchgIIAEoCUICGAESJAoYbW9kZXJhdGlvbl9wcmltYXJ5X2NvbG9yGAkgASgJQgIYARIXCg9saW5rX3NoYXJlX2ljb24YCiABKAkSFwoPbGlua19zaGFyZV90ZXh0GAsgASgJEj4KDmJyYW5kX2RlZmF1bHRzGAwgASgLMiYuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQnJhbmREZWZhdWx0cxIpCgNwdWIYDSABKAsyHC5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5KV0sSQwoJZ2V0c3RyZWFtGA4gASgLMjAuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuR2V0U3RyZWFtU2V0dGluZ3NDbGllbnQSOAoLcHVibGljX25hbWUYDyABKA4yIy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5QdWJsaWNOYW1lEkQKEWFuYWx5dGljc192ZXJzaW9uGBAgASgOMikuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQW5hbHl0aWNzVmVyc2lvbiKUAgoUR2FtZXNPdmVybGF5U2V0dGluZ3MSRgoLaW5wbGF5X2dhbWUYASABKAsyMS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5nYW1lLmNvbW1vbi5HYW1lU2V0dGluZ3MSUQoKbW9kZXJhdGlvbhgCIAEoCzI9LnN0cmVhbWxheWVyLnNka1NldHRpbmdzLm1vZGVyYXRpb24uY29tbW9uLk1vZGVyYXRpb25TZXR0aW5ncxIdChVwaW5uZWRfbGVhZGVyYm9hcmRfaWQYAyABKAkSQgoQbGVhZGVyYm9hcmRfa2luZBgEIAEoDjIoLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkxlYWRlcmJvYXJkS2luZCKbAQoYR2V0U3RyZWFtT3ZlcmxheVNldHRpbmdzEkIKD2RlZmF1bHRfY2hhbm5lbBgBIAEoCzIpLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkdldFN0cmVhbUNoYW5uZWwSOwoIY2hhbm5lbHMYAiADKAsyKS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZXRTdHJlYW1DaGFubmVsIs0DChJTZGtPdmVybGF5U2V0dGluZ3MSQgoHdHdpdHRlchgEIAEoCzIvLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlR3aXR0ZXJPdmVybGF5U2V0dGluZ3NIABJCCgdiZXR0aW5nGAUgASgLMi8uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQmV0dGluZ092ZXJsYXlTZXR0aW5nc0gAEkUKBmlucGxheRgGIAEoCzIvLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkJldHRpbmdPdmVybGF5U2V0dGluZ3NCAhgBSAASPgoFZ2FtZXMYByABKAsyLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HYW1lc092ZXJsYXlTZXR0aW5nc0gAEkoKCWdldHN0cmVhbRgIIAEoCzIxLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkdldFN0cmVhbU92ZXJsYXlTZXR0aW5nc0ICGAFIABJICgtwdWJsaWNfY2hhdBgJIAEoCzIxLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkdldFN0cmVhbU92ZXJsYXlTZXR0aW5nc0gAQhIKEG92ZXJsYXlfc2V0dGluZ3MikQIKDlNka092ZXJsYXlNZXRhEkEKDG9yZ2FuaXphdGlvbhgBIAEoCzIrLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlNka092ZXJsYXlTZXR0aW5ncxJCCg1nbG9iYWxfcHJlc2V0GAIgASgLMisuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuU2RrT3ZlcmxheVNldHRpbmdzEjsKBnByZXNldBgDIAEoCzIrLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlNka092ZXJsYXlTZXR0aW5ncxI7CgZzdHJlYW0YBCABKAsyKy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5TZGtPdmVybGF5U2V0dGluZ3MilgMKClNka092ZXJsYXkSNQoEdHlwZRgBIAEoDjInLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlNka092ZXJsYXlUeXBlEhAKCHBvc2l0aW9uGAMgASgFEhEKCW92ZXJ3cml0ZRgEIAEoCBI9CghzZXR0aW5ncxgFIAEoCzIrLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlNka092ZXJsYXlTZXR0aW5ncxI1CgRtZXRhGAYgASgLMicuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuU2RrT3ZlcmxheU1ldGESDgoGZW5hYmxlGAcgASgIEhIKCnNka19lbmFibGUYCCABKAgSDAoEbmFtZRgJIAEoCRIMCgRpY29uGAogASgJEhAKCHN2Z19pY29uGAsgASgJEhoKEGVuYWJsZV9vdmVyd3JpdGUYDCABKAlIABIbChFkaXNhYmxlX292ZXJ3cml0ZRgNIAEoCUgAEhkKEWVuYWJsZV9zZGtfYnV0dG9uGA4gASgIQhAKDm92ZXJ3cml0ZV9mbGFnIsYCChRTZGtPdmVybGF5VXBkYXRlRGF0YRI1CgR0eXBlGAEgASgOMicuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuU2RrT3ZlcmxheVR5cGUSEAoIcG9zaXRpb24YAyABKAUSFQoJb3ZlcndyaXRlGAQgASgIQgIYARI9CghzZXR0aW5ncxgFIAEoCzIrLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlNka092ZXJsYXlTZXR0aW5ncxIWCgpzZGtfZW5hYmxlGAggASgIQgIYARIMCgRuYW1lGAkgASgJEgwKBGljb24YCiABKAkSEAoIc3ZnX2ljb24YCyABKAkSGgoQZW5hYmxlX292ZXJ3cml0ZRgMIAEoCUgAEhsKEWRpc2FibGVfb3ZlcndyaXRlGA0gASgJSABCEAoOb3ZlcndyaXRlX2ZsYWciFQoTT3ZlcmxheXNMaXN0UmVxdWVzdCLPAQoUT3ZlcmxheXNMaXN0UmVzcG9uc2USVAoEZGF0YRgBIAEoCzJGLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLk92ZXJsYXlzTGlzdFJlc3BvbnNlLk92ZXJsYXlzTGlzdFJlc3BvbnNlRGF0YRphChhPdmVybGF5c0xpc3RSZXNwb25zZURhdGESDAoEdHlwZRgBIAEoCRI3CgphdHRyaWJ1dGVzGAIgAygLMiMuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuU2RrT3ZlcmxheSIwChVHZW5lcmF0ZVNka0tleVJlcXVlc3QSFwoPb3JnYW5pemF0aW9uX2lkGAEgASgJIr4BChZHZW5lcmF0ZVNka0tleVJlc3BvbnNlElgKBGRhdGEYASABKAsySi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZW5lcmF0ZVNka0tleVJlc3BvbnNlLkdlbmVyYXRlU2RrS2V5UmVzcG9uc2VEYXRhGkoKGkdlbmVyYXRlU2RrS2V5UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSEgoKYXR0cmlidXRlcxgDIAEoCSI7ChNSZW1vdmVTZGtLZXlSZXF1ZXN0EhcKD29yZ2FuaXphdGlvbl9pZBgBIAEoCRILCgNrZXkYAiABKAkitgEKFFJlbW92ZVNka0tleVJlc3BvbnNlElQKBGRhdGEYASABKAsyRi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5SZW1vdmVTZGtLZXlSZXNwb25zZS5SZW1vdmVTZGtLZXlSZXNwb25zZURhdGEaSAoYUmVtb3ZlU2RrS2V5UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSEgoKYXR0cmlidXRlcxgDIAMoCSIsChFMaXN0U2RrS2V5UmVxdWVzdBIXCg9vcmdhbml6YXRpb25faWQYASABKAkirgEKEkxpc3RTZGtLZXlSZXNwb25zZRJQCgRkYXRhGAEgASgLMkIuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuTGlzdFNka0tleVJlc3BvbnNlLkxpc3RTZGtLZXlSZXNwb25zZURhdGEaRgoWTGlzdFNka0tleVJlc3BvbnNlRGF0YRIKCgJpZBgBIAEoCRIMCgR0eXBlGAIgASgJEhIKCmF0dHJpYnV0ZXMYAyADKAkiVQoWUmVnaXN0ZXJUd2l0dGVyUmVxdWVzdBIXCg9vcmdhbml6YXRpb25faWQYASABKAkSEQoJc3RyZWFtX2lkGAIgASgJEg8KB2FjY291bnQYAyABKAkiGQoXUmVnaXN0ZXJUd2l0dGVyUmVzcG9uc2UiggEKBlByZXNldBIKCgJpZBgBIAEoCRIxCgRydWxlGAIgASgLMiMuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuUHJlc2V0UnVsZRI5CghzZXR0aW5ncxgDIAEoCzInLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlByZXNldFNldHRpbmdzIoIBCg5QcmVzZXRTZXR0aW5ncxI1CghvdmVybGF5cxgBIAMoCzIjLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlNka092ZXJsYXkSOQoLYWR2ZXJ0aXNpbmcYAiABKAsyJC5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5BZHZlcnRpc2luZyJQCgpQcmVzZXRSdWxlEjMKA2tleRgBIAEoDjImLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlByZXNldFJ1bGVLZXkSDQoFdmFsdWUYAiABKAkimAEKFkFkdmVydGlzaW5nQ29uc3RyYWludHMSPgoGaW1hZ2VzGAEgASgLMi4uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQWR2ZXJ0aXNpbmdDb25zdHJhaW50Ej4KBnZpZGVvcxgCIAEoCzIuLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkFkdmVydGlzaW5nQ29uc3RyYWludCJbChVBZHZlcnRpc2luZ0NvbnN0cmFpbnQSDQoFd2lkdGgYASABKAUSDgoGaGVpZ2h0GAIgASgFEhUKDW1heF9maWxlX3NpemUYAyABKAESDAoEbWltZRgEIAEoCSLoAQoTQWR2ZXJ0aXNpbmdUZW1wbGF0ZRIKCgJpZBgBIAEoCRIMCgRuYW1lGAIgASgJElIKC2NvbnN0cmFpbnRzGAMgAygLMj0uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQWR2ZXJ0aXNpbmdUZW1wbGF0ZS5Db25zdHJhaW50c0VudHJ5GmMKEENvbnN0cmFpbnRzRW50cnkSCwoDa2V5GAEgASgJEj4KBXZhbHVlGAIgASgLMi8uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQWR2ZXJ0aXNpbmdDb25zdHJhaW50czoCOAEiVwoUQWR2ZXJ0aXNpbmdUZW1wbGF0ZXMSPwoJdGVtcGxhdGVzGAEgAygLMiwuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQWR2ZXJ0aXNpbmdUZW1wbGF0ZSKJAQoQQWR2ZXJ0aXNpbmdJbWFnZRIMCgRuYW1lGAEgASgJEhMKC3ByZXZpZXdfdXJsGAIgASgJEhAKCGZpbGVfdXJsGAMgASgJEkAKCXBsYWNlbWVudBgEIAEoDjItLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkFkdmVydGlzaW5nUGxhY2VtZW50ImEKEEFkdmVydGlzaW5nVmlkZW8SDAoEbmFtZRgBIAEoCRITCgtwcmV2aWV3X3VybBgCIAEoCRIQCghmaWxlX3VybBgDIAEoCRIYChBiYWNrZ3JvdW5kX2NvbG9yGAQgASgJIp4BChNBZHZlcnRpc2luZ1NldHRpbmdzEhEKCWZyZXF1ZW5jeRgBIAEoBRI5CgZpbWFnZXMYAiADKAsyKS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5BZHZlcnRpc2luZ0ltYWdlEjkKBnZpZGVvcxgDIAMoCzIpLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkFkdmVydGlzaW5nVmlkZW8i3gIKGkFkdmVydGlzaW5nT3ZlcmxheVNldHRpbmdzEj0KDG92ZXJsYXlfdHlwZRgBIAEoDjInLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlNka092ZXJsYXlUeXBlElMKCHNldHRpbmdzGAIgAygLMkEuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQWR2ZXJ0aXNpbmdPdmVybGF5U2V0dGluZ3MuU2V0dGluZ3NFbnRyeRIPCgdlbmFibGVkGAMgASgIEhQKDG92ZXJsYXlfbmFtZRgEIAEoCRIXCgp1c2VfY3VzdG9tGAUgASgISACIAQEaXQoNU2V0dGluZ3NFbnRyeRILCgNrZXkYASABKAkSOwoFdmFsdWUYAiABKAsyLC5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5BZHZlcnRpc2luZ1NldHRpbmdzOgI4AUINCgtfdXNlX2N1c3RvbSLkAQoLQWR2ZXJ0aXNpbmcSEwoLdGVtcGxhdGVfaWQYASABKAkSUwoQb3ZlcmxheV9zZXR0aW5ncxgCIAMoCzI5LnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkFkdmVydGlzaW5nLk92ZXJsYXlTZXR0aW5nc0VudHJ5GmsKFE92ZXJsYXlTZXR0aW5nc0VudHJ5EgsKA2tleRgBIAEoCRJCCgV2YWx1ZRgCIAEoCzIzLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkFkdmVydGlzaW5nT3ZlcmxheVNldHRpbmdzOgI4ASIwChVHZW5lcmF0ZUFwaUtleVJlcXVlc3QSFwoPb3JnYW5pemF0aW9uX2lkGAEgASgJIr4BChZHZW5lcmF0ZUFwaUtleVJlc3BvbnNlElgKBGRhdGEYASABKAsySi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZW5lcmF0ZUFwaUtleVJlc3BvbnNlLkdlbmVyYXRlQXBpS2V5UmVzcG9uc2VEYXRhGkoKGkdlbmVyYXRlQXBpS2V5UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSEgoKYXR0cmlidXRlcxgDIAEoCSI9ChNSZW1vdmVBcGlLZXlSZXF1ZXN0EhcKD29yZ2FuaXphdGlvbl9pZBgBIAEoCRINCgV0b2tlbhgCIAEoCSK2AQoUUmVtb3ZlQXBpS2V5UmVzcG9uc2USVAoEZGF0YRgBIAEoCzJGLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlJlbW92ZUFwaUtleVJlc3BvbnNlLlJlbW92ZUFwaUtleVJlc3BvbnNlRGF0YRpIChhSZW1vdmVBcGlLZXlSZXNwb25zZURhdGESCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRISCgphdHRyaWJ1dGVzGAMgAygJIisKEEdldEFwaUtleVJlcXVlc3QSFwoPb3JnYW5pemF0aW9uX2lkGAEgASgJIqoBChFHZXRBcGlLZXlSZXNwb25zZRJOCgRkYXRhGAEgASgLMkAuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuR2V0QXBpS2V5UmVzcG9uc2UuR2V0QXBpS2V5UmVzcG9uc2VEYXRhGkUKFUdldEFwaUtleVJlc3BvbnNlRGF0YRIKCgJpZBgBIAEoCRIMCgR0eXBlGAIgASgJEhIKCmF0dHJpYnV0ZXMYAyABKAkiMQoWR2V0QXBpS2V5U3R1ZGlvUmVxdWVzdBIXCg9vcmdhbml6YXRpb25faWQYASABKAkiwgEKF0dldEFwaUtleVN0dWRpb1Jlc3BvbnNlEloKBGRhdGEYASABKAsyTC5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZXRBcGlLZXlTdHVkaW9SZXNwb25zZS5HZXRBcGlLZXlTdHVkaW9SZXNwb25zZURhdGEaSwobR2V0QXBpS2V5U3R1ZGlvUmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSEgoKYXR0cmlidXRlcxgDIAEoCSqOBAoOU2RrT3ZlcmxheVR5cGUSGgoWU0RLX09WRVJMQVlfVFlQRV9VTlNFVBAAEhsKF1NES19PVkVSTEFZX1RZUEVfSU5QTEFZEAESHgoaU0RLX09WRVJMQVlfVFlQRV9NRVNTQUdJTkcQAhIfChtTREtfT1ZFUkxBWV9UWVBFX1NUQVRJU1RJQ1MQAxIcChhTREtfT1ZFUkxBWV9UWVBFX0JFVFRJTkcQBBIcChhTREtfT1ZFUkxBWV9UWVBFX1RXSVRURVIQBRIgChxTREtfT1ZFUkxBWV9UWVBFX01FUkNIQU5ESVNFEAYSHQoZU0RLX09WRVJMQVlfVFlQRV9DT05URVNUUxAHEh8KG1NES19PVkVSTEFZX1RZUEVfVk9JQ0VfQ0hBVBAIEhwKGFNES19PVkVSTEFZX1RZUEVfVElDS0VUUxAJEiMKH1NES19PVkVSTEFZX1RZUEVfV0hPSVNfV0FUQ0hJTkcQChIcChhTREtfT1ZFUkxBWV9UWVBFX1BST0ZJTEUQCxIaChZTREtfT1ZFUkxBWV9UWVBFX0dBTUVTEAwSJAogU0RLX09WRVJMQVlfVFlQRV9HT0xGX1NUQVRJU1RJQ1MQDRIfChtTREtfT1ZFUkxBWV9UWVBFX0hJR0hMSUdIVFMQDhIgChxTREtfT1ZFUkxBWV9UWVBFX1BVQkxJQ19DSEFUEA8qfAoTQmV0dGluZ0Zhdm9yaXRlVHlwZRIfChtCRVRUSU5HX0ZBVk9SSVRFX1RZUEVfVU5TRVQQABIgChxCRVRUSU5HX0ZBVk9SSVRFX1RZUEVfTEVBR1VFEAESHgoaQkVUVElOR19GQVZPUklURV9UWVBFX1RFQU0QAhoCGAEquAEKGEJldHRpbmdTZXR0aW5nc1RleHRDb2xvchIlCiFCRVRUSU5HX1NFVFRJTkdTX1RFWFRfQ09MT1JfVU5TRVQQABInCiNCRVRUSU5HX1NFVFRJTkdTX1RFWFRfQ09MT1JfUFJJTUFSWRABEiQKIEJFVFRJTkdfU0VUVElOR1NfVEVYVF9DT0xPUl9HUkVZEAISJgoiQkVUVElOR19TRVRUSU5HU19URVhUX0NPTE9SX0NVU1RPTRADKpECChRHZXRTdHJlYW1DaGFubmVsVHlwZRIgChxHRVRTVFJFQU1fQ0hBTk5FTF9UWVBFX1VOU0VUEAASJQohR0VUU1RSRUFNX0NIQU5ORUxfVFlQRV9MSVZFU1RSRUFNEAESJAogR0VUU1RSRUFNX0NIQU5ORUxfVFlQRV9NRVNTQUdJTkcQAhIfChtHRVRTVFJFQU1fQ0hBTk5FTF9UWVBFX1RFQU0QAxIjCh9HRVRTVFJFQU1fQ0hBTk5FTF9UWVBFX0NPTU1FUkNFEAQSIQodR0VUU1RSRUFNX0NIQU5ORUxfVFlQRV9HQU1JTkcQBRIhCh1HRVRTVFJFQU1fQ0hBTk5FTF9UWVBFX0NVU1RPTRAGKocBChdHZXRTdHJlYW1DaGFubmVsRGVmYXVsdBIjCh9HRVRTVFJFQU1fQ0hBTk5FTF9ERUZBVUxUX1VOU0VUEAASIgoeR0VUU1RSRUFNX0NIQU5ORUxfREVGQVVMVF9UUlVFEAESIwofR0VUU1RSRUFNX0NIQU5ORUxfREVGQVVMVF9GQUxTRRACKmgKEEdldFN0cmVhbUVuYWJsZWQSGwoXR0VUU1RSRUFNX0VOQUJMRURfVU5TRVQQABIaChZHRVRTVFJFQU1fRU5BQkxFRF9UUlVFEAESGwoXR0VUU1RSRUFNX0VOQUJMRURfRkFMU0UQAipWCgpQdWJsaWNOYW1lEhUKEVBVQkxJQ19OQU1FX1VOU0VUEAASFwoTUFVCTElDX05BTUVfRU5BQkxFRBABEhgKFFBVQkxJQ19OQU1FX0RJU0FCTEVEEAIqYwoQQW5hbHl0aWNzVmVyc2lvbhIbChdBTkFMWVRJQ1NfVkVSU0lPTl9VTlNFVBAAEhgKFEFOQUxZVElDU19WRVJTSU9OX1YxEAESGAoUQU5BTFlUSUNTX1ZFUlNJT05fVjIQAipoCg9MZWFkZXJib2FyZEtpbmQSGgoWTEVBREVSQk9BUkRfS0lORF9VTlNFVBAAEhsKF0xFQURFUkJPQVJEX0tJTkRfR0xPQkFMEAESHAoYTEVBREVSQk9BUkRfS0lORF9GUklFTkRTEAIqfAoNUHJlc2V0UnVsZUtleRIZChVQUkVTRVRfUlVMRV9LRVlfVU5TRVQQABIZChVQUkVTRVRfUlVMRV9LRVlfU1BPUlQQARIaChZQUkVTRVRfUlVMRV9LRVlfTEVBR1VFEAISGQoVUFJFU0VUX1JVTEVfS0VZX1RFQU1TEAMq5AEKFEFkdmVydGlzaW5nUGxhY2VtZW50Eh8KG0FEVkVSVElTSU5HX1BMQUNFTUVOVF9VTlNFVBAAEiEKHUFEVkVSVElTSU5HX1BMQUNFTUVOVF9ERUZBVUxUEAESLQopQURWRVJUSVNJTkdfUExBQ0VNRU5UX1dBVENIUEFSVFlfRlVMTFNJWkUQAhIvCitBRFZFUlRJU0lOR19QTEFDRU1FTlRfV0FUQ0hQQVJUWV9WSURFT1BBTkVMEAMSKAokQURWRVJUSVNJTkdfUExBQ0VNRU5UX09WRVJMQVlfTkFWQkFSEAQqjgEKD0FkdmVydGlzaW5nVHlwZRIaChZBRFZFUlRJU0lOR19UWVBFX1VOU0VUEAASHQoZQURWRVJUSVNJTkdfVFlQRV9TUE9OU09SUxABEiIKHkFEVkVSVElTSU5HX1RZUEVfSU5URVJTVElUSUFMUxACEhwKGEFEVkVSVElTSU5HX1RZUEVfQkFOTkVSUxADMoALCgZDb21tb24SggEKDE92ZXJsYXlzTGlzdBIsLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLk92ZXJsYXlzTGlzdFJlcXVlc3QaLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5PdmVybGF5c0xpc3RSZXNwb25zZSIViqYdDW92ZXJsYXlzLmxpc3Sgph0CEo8BCg5HZW5lcmF0ZVNka0tleRIuLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkdlbmVyYXRlU2RrS2V5UmVxdWVzdBovLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkdlbmVyYXRlU2RrS2V5UmVzcG9uc2UiHIqmHRBzZGsta2V5LmdlbmVyYXRloKYdAqimHQEShwEKDFJlbW92ZVNka0tleRIsLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlJlbW92ZVNka0tleVJlcXVlc3QaLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5SZW1vdmVTZGtLZXlSZXNwb25zZSIaiqYdDnNkay1rZXkucmVtb3ZloKYdAqimHQESfwoKTGlzdFNka0tleRIqLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkxpc3RTZGtLZXlSZXF1ZXN0Gisuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuTGlzdFNka0tleVJlc3BvbnNlIhiKph0Mc2RrLWtleS5saXN0oKYdAqimHQEShAEKDkxpc3RTZGtLZXlSb290Eiouc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuTGlzdFNka0tleVJlcXVlc3QaKy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5MaXN0U2RrS2V5UmVzcG9uc2UiGYqmHQxzZGsta2V5Lmxpc3Sgph0CqKYdkE4SjgEKDkdlbmVyYXRlQXBpS2V5Ei4uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuR2VuZXJhdGVBcGlLZXlSZXF1ZXN0Gi8uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuR2VuZXJhdGVBcGlLZXlSZXNwb25zZSIbiqYdDnRva2VuLmdlbmVyYXRloKYdAqimHZBOEoYBCgxSZW1vdmVBcGlLZXkSLC5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5SZW1vdmVBcGlLZXlSZXF1ZXN0Gi0uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuUmVtb3ZlQXBpS2V5UmVzcG9uc2UiGYqmHQx0b2tlbi5yZW1vdmWgph0CqKYdkE4SfgoNR2V0QXBpS2V5Um9vdBIpLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkdldEFwaUtleVJlcXVlc3QaKi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5HZXRBcGlLZXlSZXNwb25zZSIWiqYdCXRva2VuLmdldKCmHQKoph2QThKLAQoPR2V0QXBpS2V5U3R1ZGlvEi8uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuR2V0QXBpS2V5U3R1ZGlvUmVxdWVzdBowLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLkdldEFwaUtleVN0dWRpb1Jlc3BvbnNlIhWKph0JdG9rZW4uZ2V0oKYdAqimHQESkgEKD1JlZ2lzdGVyVHdpdHRlchIvLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLlJlZ2lzdGVyVHdpdHRlclJlcXVlc3QaMC5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5SZWdpc3RlclR3aXR0ZXJSZXNwb25zZSIciqYdEHJlZ2lzdGVyLnR3aXR0ZXKgph0CqKYdARoQirUYDHNkay1zZXR0aW5nc0K3AQoiY29tLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNvbW1vbkIhU3RyZWFtTGF5ZXJTZGtTZXR0aW5nc0NvbW1vblByb3RvUAFaY2dpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvc2RrU2V0dGluZ3MvY29tbW9uO3NsX3Nka1NldHRpbmdzX2NvbW1vbqICBlNMX0FQSWIGcHJvdG8z",[ya,Bee,Wee]),Gee=St(rG,0),ot=Tt(Gee),jC=kt("CjZzdHJlYW1sYXllci9hbmFseXRpY3MvdjEvaW52aXRhdGlvbnMvaW52aXRhdGlvbnMucHJvdG8SJHN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnZpdGF0aW9ucyLhAgoXVG90YWxJbnZpdGF0aW9uc1JlcXVlc3QSYAoGZmlsdGVyGAEgASgLMlAuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmludml0YXRpb25zLlRvdGFsSW52aXRhdGlvbnNSZXF1ZXN0LlRvdGFsUmVxdWVzdEZpbHRlchrjAQoSVG90YWxSZXF1ZXN0RmlsdGVyEjcKBnBlcmlvZBgBIAEoCzInLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uUGVyaW9kEhEKCWV2ZW50X2lkcxgCIAMoBBJMCgpjYXRlZ29yaWVzGAMgAygOMjguc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmludml0YXRpb25zLkludml0YXRpb25DYXRlZ29yeRIzCgRraW5kGAQgASgOMiUuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5LaW5kIrABChhUb3RhbEludml0YXRpb25zUmVzcG9uc2USXgoEZGF0YRgBIAMoCzJQLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnZpdGF0aW9ucy5Ub3RhbEludml0YXRpb25zUmVzcG9uc2UuVG90YWxSZXNwb25zZURhdGEaNAoRVG90YWxSZXNwb25zZURhdGESEAoIZXZlbnRfaWQYASABKAQSDQoFY291bnQYAiABKAQiqQIKJVRvdGFsSW52aXRhdGlvbnNTZW50QnlUaW1lbGluZVJlcXVlc3QScQoGZmlsdGVyGAEgASgLMmEuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmludml0YXRpb25zLlRvdGFsSW52aXRhdGlvbnNTZW50QnlUaW1lbGluZVJlcXVlc3QuVG90YWxCeVRpbWVMaW5lRmlsdGVyGowBChVUb3RhbEJ5VGltZUxpbmVGaWx0ZXISNwoGcGVyaW9kGAEgASgLMicuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5QZXJpb2QSEAoIZXZlbnRfaWQYAiABKAQSEQoJZXZlbnRfaWRzGAMgAygEEhUKDXN1bW1hcnlfY291bnQYBCABKAgikgIKJlRvdGFsSW52aXRhdGlvbnNTZW50QnlUaW1lbGluZVJlc3BvbnNlEhAKCGV2ZW50X2lkGAEgASgEEm4KBGRhdGEYAiADKAsyYC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW52aXRhdGlvbnMuVG90YWxJbnZpdGF0aW9uc1NlbnRCeVRpbWVsaW5lUmVzcG9uc2UuVG90YWxCeVRpbWVMaW5lRGF0YRIRCglldmVudF9pZHMYAyADKAQaUwoTVG90YWxCeVRpbWVMaW5lRGF0YRItCgl0aW1lX2xpbmUYASABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEg0KBWNvdW50GAIgASgEIrECCilUb3RhbEludml0YXRpb25zQWNjZXB0ZWRCeVRpbWVsaW5lUmVxdWVzdBJ1CgZmaWx0ZXIYASABKAsyZS5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW52aXRhdGlvbnMuVG90YWxJbnZpdGF0aW9uc0FjY2VwdGVkQnlUaW1lbGluZVJlcXVlc3QuVG90YWxCeVRpbWVMaW5lRmlsdGVyGowBChVUb3RhbEJ5VGltZUxpbmVGaWx0ZXISNwoGcGVyaW9kGAEgASgLMicuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5QZXJpb2QSEAoIZXZlbnRfaWQYAiABKAQSEQoJZXZlbnRfaWRzGAMgAygEEhUKDXN1bW1hcnlfY291bnQYBCABKAgimgIKKlRvdGFsSW52aXRhdGlvbnNBY2NlcHRlZEJ5VGltZWxpbmVSZXNwb25zZRIQCghldmVudF9pZBgBIAEoBBIRCglldmVudF9pZHMYAyADKAQScgoEZGF0YRgCIAMoCzJkLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnZpdGF0aW9ucy5Ub3RhbEludml0YXRpb25zQWNjZXB0ZWRCeVRpbWVsaW5lUmVzcG9uc2UuVG90YWxCeVRpbWVMaW5lRGF0YRpTChNUb3RhbEJ5VGltZUxpbmVEYXRhEi0KCXRpbWVfbGluZRgBIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASDQoFY291bnQYAiABKAQi7gUKFlNlbmRJbnZpdGF0aW9uc1JlcXVlc3QSXAoEZGF0YRgBIAMoCzJOLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnZpdGF0aW9ucy5TZW5kSW52aXRhdGlvbnNSZXF1ZXN0LkNyZWF0ZVJlcXVlc3REYXRhGvUEChFDcmVhdGVSZXF1ZXN0RGF0YRIQCghldmVudF9pZBgBIAEoBBIPCgd1c2VyX2lkGAIgASgEEkoKCGNhdGVnb3J5GAMgASgOMjguc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmludml0YXRpb25zLkludml0YXRpb25DYXRlZ29yeRIzCgRraW5kGAQgASgOMiUuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5LaW5kEjMKD3RyYWNrX3RpbWVzdGFtcBgFIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASEQoJcm91dGVfbWFwGAYgASgJEhEKCWRldmljZV9pZBgHIAEoCRIKCgJvcxgIIAEoCRISCgp1c2VyX2FnZW50GAkgASgJEhYKDnNsX3Nka192ZXJzaW9uGAogASgJEhIKCnNlc3Npb25faWQYCyABKAkSGgoSb3ZlcmxheV9zZXNzaW9uX2lkGAwgASgJEhAKCHRvcGljX2lkGA0gASgJEhMKC3VzZXJfaWRfc3RyGA4gASgJEk4KEnNjcmVlbl9vcmllbnRhdGlvbhgPIAEoDjIyLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uU2NyZWVuT3JpZW50YXRpb24SPgoKdG9waWNfdHlwZRgQIAEoDjIqLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uVG9waWNUeXBlEkIKBGZyb20YESABKA4yNC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW52aXRhdGlvbnMuSW52aXRhdGlvbkZyb20izgEKF1NlbmRJbnZpdGF0aW9uc1Jlc3BvbnNlEl4KBGRhdGEYASABKAsyUC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW52aXRhdGlvbnMuU2VuZEludml0YXRpb25zUmVzcG9uc2UuQ3JlYXRlUmVzcG9uc2VEYXRhGlMKEkNyZWF0ZVJlc3BvbnNlRGF0YRI9CgZyZXN1bHQYASABKA4yLS5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLlJlc3VsdFN0YXR1cyq4AQoSSW52aXRhdGlvbkNhdGVnb3J5Eh0KGUlOVklUQVRJT05fQ0FURUdPUllfVU5TRVQQABIgChxJTlZJVEFUSU9OX0NBVEVHT1JZX1dBVENISU5HEAESIQodSU5WSVRBVElPTl9DQVRFR09SWV9NRVNTQUdJTkcQAhIfChtJTlZJVEFUSU9OX0NBVEVHT1JZX1ZPSUNJTkcQAxIdChlJTlZJVEFUSU9OX0NBVEVHT1JZX0dBTUVTEAQqZQoOSW52aXRhdGlvbkZyb20SGQoVSU5WSVRBVElPTl9GUk9NX1VOU0VUEAASHgoaSU5WSVRBVElPTl9GUk9NX1RJVExFX0NBUkQQARIYChRJTlZJVEFUSU9OX0ZST01fTUVOVRACQrYBCihjb20uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLmludml0YXRpb25zLnYxQhtTdHJlYW1MYXllckludml0YXRpb25zUHJvdG9QAVpiZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9hbmFseXRpY3MvdjEvaW52aXRhdGlvbnM7c2xfaW52aXRhdGlvbnOiAgZTTF9BUEliBnByb3RvMw",[Vs,Wc]),Dee=St(jC,0),U6=Tt(Dee),Mee=St(jC,1),zg=Tt(Mee);let Vv=0,B6=[];function Zee(){return Vv+=1,()=>{if(Vv-=1,Vv===0){let t=B6;B6=[];for(let e of t)e()}}}let or=[],xo=0;const Nm=4;let G1=0;const ha=t=>{let e=[],i={get(){return i.lc||i.listen(()=>{})(),i.value},lc:0,listen(n){return i.lc=e.push(n),()=>{for(let r=xo+Nm;r<or.length;)or[r]===n?or.splice(r,Nm):r+=Nm;let s=e.indexOf(n);~s&&(e.splice(s,1),--i.lc||i.off())}},notify(n,s){G1++;let r=!or.length;for(let a of e)or.push(a,i.value,n,s);if(r){for(xo=0;xo<or.length;xo+=Nm)or[xo](or[xo+1],or[xo+2],or[xo+3]);or.length=0}},off(){},set(n){let s=i.value;s!==n&&(i.value=n,i.notify(s))},subscribe(n){let s=i.listen(n);return n(i.value),s},value:t};return i},Pee=0,Oee=1,Xee=5,Vm=6,Lm=10;let HC=(t,e,i,n)=>(t.events=t.events||{},t.events[i+Lm]||(t.events[i+Lm]=n(s=>{t.events[i].reduceRight((r,a)=>(a(r),r),{shared:{},...s})})),t.events[i]=t.events[i]||[],t.events[i].push(e),()=>{let s=t.events[i],r=s.indexOf(e);s.splice(r,1),s.length||(delete t.events[i],t.events[i+Lm](),delete t.events[i+Lm])}),aG=(t,e)=>HC(t,e,Pee,i=>{let n=t.listen;return t.listen=s=>(!t.lc&&!t.starting&&(t.starting=!0,i(),delete t.starting),n(s)),()=>{t.listen=n}}),W6=(t,e)=>HC(t,e,Oee,i=>{let n=t.off;return t.off=()=>{i(),n()},()=>{t.off=n}}),Yee=1e3,wy=(t,e)=>HC(t,n=>{let s=e(n);s&&t.events[Vm].push(s)},Xee,n=>{let s=t.listen;t.listen=(...a)=>(!t.lc&&!t.active&&(t.active=!0,n()),s(...a));let r=t.off;return t.events[Vm]=[],t.off=()=>{r(),setTimeout(()=>{if(t.active&&!t.lc){t.active=!1;for(let a of t.events[Vm])a();t.events[Vm]=[]}},Yee)},()=>{t.listen=s,t.off=r}}),oG=(t,e,i)=>{Array.isArray(t)||(t=[t]);let n,s,r=()=>{if(s===G1)return;s=G1;let u=t.map(d=>d.get());if(!n||u.some((d,h)=>d!==n[h])){n=u;let d=e(...u);d&&d.then&&d.t?d.then(h=>{n===u&&a.set(h)}):(a.set(d),s=G1)}},a=ha(void 0),o=a.get;a.get=()=>(r(),o());let l,c=i?()=>{clearTimeout(l),l=setTimeout(r)}:r;return wy(a,()=>{let u=t.map(d=>d.listen(c));return r(),()=>{for(let d of u)d()}}),a};const $ee=(t,e)=>oG(t,e),DA=(t,e)=>oG(t,e,!0),MA=(t={})=>{let e=ha(t);return e.setKey=function(i,n){let s=e.value;typeof n>"u"&&i in e.value?(e.value={...e.value},delete e.value[i],e.notify(s,i)):e.value[i]!==n&&(e.value={...e.value,[i]:n},e.notify(s,i))},e},un=[];for(let t=0;t<256;++t)un.push((t+256).toString(16).slice(1));function lG(t,e=0){return(un[t[e+0]]+un[t[e+1]]+un[t[e+2]]+un[t[e+3]]+"-"+un[t[e+4]]+un[t[e+5]]+"-"+un[t[e+6]]+un[t[e+7]]+"-"+un[t[e+8]]+un[t[e+9]]+"-"+un[t[e+10]]+un[t[e+11]]+un[t[e+12]]+un[t[e+13]]+un[t[e+14]]+un[t[e+15]]).toLowerCase()}let Lv;const Kee=new Uint8Array(16);function zee(){if(!Lv){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Lv=crypto.getRandomValues.bind(crypto)}return Lv(Kee)}const Jee=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),G6={randomUUID:Jee};function Ho(t,e,i){var n;if(G6.randomUUID&&!t)return G6.randomUUID();t=t||{};const s=t.random??((n=t.rng)==null?void 0:n.call(t))??zee();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,lG(s)}var et;(function(t){t[t.Canceled=1]="Canceled",t[t.Unknown=2]="Unknown",t[t.InvalidArgument=3]="InvalidArgument",t[t.DeadlineExceeded=4]="DeadlineExceeded",t[t.NotFound=5]="NotFound",t[t.AlreadyExists=6]="AlreadyExists",t[t.PermissionDenied=7]="PermissionDenied",t[t.ResourceExhausted=8]="ResourceExhausted",t[t.FailedPrecondition=9]="FailedPrecondition",t[t.Aborted=10]="Aborted",t[t.OutOfRange=11]="OutOfRange",t[t.Unimplemented=12]="Unimplemented",t[t.Internal=13]="Internal",t[t.Unavailable=14]="Unavailable",t[t.DataLoss=15]="DataLoss",t[t.Unauthenticated=16]="Unauthenticated"})(et||(et={}));function jee(t,e){cG(e,t);const i=Qee(t.$unknown,e),[n,s,r]=_y(e);for(const a of i)jW(n,new MC(a.data),s,a.wireType,{readUnknownFields:!0});return r()}function Hee(t,e,i){var n;cG(e,t);const s=((n=t.$unknown)!==null&&n!==void 0?n:[]).filter(c=>c.no!==e.number),[r,a]=_y(e,i),o=new LW;YW(o,{writeUnknownFields:!0},r,a);const l=new MC(o.finish());for(;l.pos<l.len;){const[c,u]=l.tag(),d=l.skip(u,c);s.push({no:c,wireType:u,data:d})}t.$unknown=s}function Qee(t,e){if(t===void 0)return[];if(e.fieldKind==="enum"||e.fieldKind==="scalar"){for(let i=t.length-1;i>=0;--i)if(t[i].no==e.number)return[t[i]];return[]}return t.filter(i=>i.no===e.number)}function _y(t,e){const i=t.typeName,n=Object.assign(Object.assign({},t),{kind:"field",parent:t.extendee,localName:i}),s=Object.assign(Object.assign({},t.extendee),{fields:[n],members:[n],oneofs:[]}),r=Ir(s,e!==void 0?{[i]:e}:void 0);return[er(s,r),n,()=>{const a=r[i];if(a===void 0){const o=t.message;return c0(o)?Cc(o.fields[0].scalar,o.fields[0].longAsString):Ir(o)}return a}]}function cG(t,e){if(t.extendee.typeName!=e.$typeName)throw new Error(`extension ${t.typeName} can only be applied to message ${t.extendee.typeName}`)}const qee=3,ete=2,D6={alwaysEmitImplicit:!1,enumAsInteger:!1,useProtoFieldName:!1};function tte(t){return t?Object.assign(Object.assign({},D6),t):D6}function ite(t,e,i){return d0(er(t,e),tte(i))}function nte(t,e,i){var n;const s=ite(t,e,i);return JSON.stringify(s,null,(n=i==null?void 0:i.prettySpaces)!==null&&n!==void 0?n:0)}function d0(t,e){var i;const n=ote(t,e);if(n!==void 0)return n;const s={};for(const r of t.sortedFields){if(!t.isSet(r)){if(r.presence==qee)throw new Error(`cannot encode field ${t.desc.typeName}.${r.name} to JSON: required field not set`);if(!e.alwaysEmitImplicit||r.presence!==ete)continue}const a=M6(r,t.get(r),e);a!==void 0&&(s[ate(r,e)]=a)}if(e.registry){const r=new Set;for(const a of(i=t.getUnknown())!==null&&i!==void 0?i:[]){if(r.has(a.no))continue;const o=e.registry.getExtensionFor(t.desc,a.no);if(!o)continue;const l=jee(t.message,o),[c,u]=_y(o,l),d=M6(u,c.get(u),e);d!==void 0&&(s[o.jsonName]=d)}}return s}function M6(t,e,i){switch(t.fieldKind){case"scalar":return xy(t,e);case"message":return d0(e,i);case"enum":return QC(t.enum,e,i.enumAsInteger);case"list":return rte(e,i);case"map":return ste(e,i)}}function ste(t,e){const i=t.field(),n={};switch(i.mapKind){case"scalar":for(const[s,r]of t)n[s]=xy(i,r);break;case"message":for(const[s,r]of t)n[s]=d0(r,e);break;case"enum":for(const[s,r]of t)n[s]=QC(i.enum,r,e.enumAsInteger);break}return e.alwaysEmitImplicit||t.size>0?n:void 0}function rte(t,e){const i=t.field(),n=[];switch(i.listKind){case"scalar":for(const s of t)n.push(xy(i,s));break;case"enum":for(const s of t)n.push(QC(i.enum,s,e.enumAsInteger));break;case"message":for(const s of t)n.push(d0(s,e));break}return e.alwaysEmitImplicit||n.length>0?n:void 0}function QC(t,e,i){var n;if(typeof e!="number")throw new Error(`cannot encode ${t} to JSON: expected number, got ${an(e)}`);if(t.typeName=="google.protobuf.NullValue")return null;if(i)return e;const s=t.value[e];return(n=s==null?void 0:s.name)!==null&&n!==void 0?n:e}function xy(t,e){var i,n,s,r,a,o;switch(t.scalar){case oe.INT32:case oe.SFIXED32:case oe.SINT32:case oe.FIXED32:case oe.UINT32:if(typeof e!="number")throw new Error(`cannot encode ${t} to JSON: ${(i=Wl(t,e))===null||i===void 0?void 0:i.message}`);return e;case oe.FLOAT:case oe.DOUBLE:if(typeof e!="number")throw new Error(`cannot encode ${t} to JSON: ${(n=Wl(t,e))===null||n===void 0?void 0:n.message}`);return isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e;case oe.STRING:if(typeof e!="string")throw new Error(`cannot encode ${t} to JSON: ${(s=Wl(t,e))===null||s===void 0?void 0:s.message}`);return e;case oe.BOOL:if(typeof e!="boolean")throw new Error(`cannot encode ${t} to JSON: ${(r=Wl(t,e))===null||r===void 0?void 0:r.message}`);return e;case oe.UINT64:case oe.FIXED64:case oe.INT64:case oe.SFIXED64:case oe.SINT64:if(typeof e!="bigint"&&typeof e!="string")throw new Error(`cannot encode ${t} to JSON: ${(a=Wl(t,e))===null||a===void 0?void 0:a.message}`);return e.toString();case oe.BYTES:if(e instanceof Uint8Array)return Tq(e);throw new Error(`cannot encode ${t} to JSON: ${(o=Wl(t,e))===null||o===void 0?void 0:o.message}`)}}function ate(t,e){return e.useProtoFieldName?t.name:t.jsonName}function ote(t,e){if(t.desc.typeName.startsWith("google.protobuf."))switch(t.desc.typeName){case"google.protobuf.Any":return lte(t.message,e);case"google.protobuf.Timestamp":return dte(t.message);case"google.protobuf.Duration":return cte(t.message);case"google.protobuf.FieldMask":return ute(t.message);case"google.protobuf.Struct":return uG(t.message);case"google.protobuf.Value":return qC(t.message);case"google.protobuf.ListValue":return dG(t.message);default:if(c0(t.desc)){const i=t.desc.fields[0];return xy(i,t.get(i))}return}}function lte(t,e){if(t.typeUrl==="")return{};const{registry:i}=e;let n,s;if(i&&(n=eee(t,i),n&&(s=i.getMessage(n.$typeName))),!s||!n)throw new Error(`cannot encode message ${t.$typeName} to JSON: "${t.typeUrl}" is not in the type registry`);let r=d0(er(s,n),e);return(s.typeName.startsWith("google.protobuf.")||r===null||Array.isArray(r)||typeof r!="object")&&(r={value:r}),r["@type"]=t.typeUrl,r}function cte(t){if(Number(t.seconds)>315576e6||Number(t.seconds)<-315576e6)throw new Error(`cannot encode message ${t.$typeName} to JSON: value out of range`);let e=t.seconds.toString();if(t.nanos!==0){let i=Math.abs(t.nanos).toString();i="0".repeat(9-i.length)+i,i.substring(3)==="000000"?i=i.substring(0,3):i.substring(6)==="000"&&(i=i.substring(0,6)),e+="."+i,t.nanos<0&&Number(t.seconds)==0&&(e="-"+e)}return e+"s"}function ute(t){return t.paths.map(e=>{if(e.match(/_[0-9]?_/g)||e.match(/[A-Z]/g))throw new Error(`cannot encode message ${t.$typeName} to JSON: lowerCamelCase of path name "`+e+'" is irreversible');return Np(e)}).join(",")}function uG(t){const e={};for(const[i,n]of Object.entries(t.fields))e[i]=qC(n);return e}function qC(t){switch(t.kind.case){case"nullValue":return null;case"numberValue":if(!Number.isFinite(t.kind.value))throw new Error(`${t.$typeName} cannot be NaN or Infinity`);return t.kind.value;case"boolValue":return t.kind.value;case"stringValue":return t.kind.value;case"structValue":return uG(t.kind.value);case"listValue":return dG(t.kind.value);default:throw new Error(`${t.$typeName} must have a value`)}}function dG(t){return t.values.map(qC)}function dte(t){const e=Number(t.seconds)*1e3;if(e<Date.parse("0001-01-01T00:00:00Z")||e>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot encode message ${t.$typeName} to JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);if(t.nanos<0)throw new Error(`cannot encode message ${t.$typeName} to JSON: nanos must not be negative`);let i="Z";if(t.nanos>0){const n=(t.nanos+1e9).toString().substring(1);n.substring(3)==="000000"?i="."+n.substring(0,3)+"Z":n.substring(6)==="000"?i="."+n.substring(0,6)+"Z":i="."+n+"Z"}return new Date(e).toISOString().replace(".000Z",i)}const Z6={ignoreUnknownFields:!1};function hte(t){return t?Object.assign(Object.assign({},Z6),t):Z6}function fte(t,e,i){return pte(t,Ate(e,t.typeName),i)}function pte(t,e,i){const n=er(t);try{Nd(n,e,hte(i))}catch(s){throw Iq(s)?new Error(`cannot decode ${s.field()} from JSON: ${s.message}`,{cause:s}):s}return n.message}function Nd(t,e,i){var n;if(Ste(t,e,i))return;if(e==null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode ${t.desc} from JSON: ${an(e)}`);const s=new Map,r=new Map;for(const a of t.desc.fields)r.set(a.name,a).set(a.jsonName,a);for(const[a,o]of Object.entries(e)){const l=r.get(a);if(l){if(l.oneof){if(o===null&&l.fieldKind=="scalar")continue;const c=s.get(l.oneof);if(c!==void 0)throw new as(l.oneof,`oneof set multiple times by ${c.name} and ${l.name}`);s.set(l.oneof,l)}P6(t,l,o,i)}else{let c;if(a.startsWith("[")&&a.endsWith("]")&&(c=(n=i.registry)===null||n===void 0?void 0:n.getExtension(a.substring(1,a.length-1)))&&c.extendee.typeName===t.desc.typeName){const[u,d,h]=_y(c);P6(u,d,o,i),Hee(t.message,c,h())}if(!c&&!i.ignoreUnknownFields)throw new Error(`cannot decode ${t.desc} from JSON: key "${a}" is unknown`)}}}function P6(t,e,i,n){switch(e.fieldKind){case"scalar":vte(t,e,i);break;case"enum":bte(t,e,i,n);break;case"message":yte(t,e,i,n);break;case"list":gte(t.get(e),i,n);break;case"map":mte(t.get(e),i,n);break}}function mte(t,e,i){if(e===null)return;const n=t.field();if(typeof e!="object"||Array.isArray(e))throw new as(n,"expected object, got "+an(e));for(const[s,r]of Object.entries(e)){if(r===null)throw new as(n,"map value must not be null");let a;switch(n.mapKind){case"message":const l=er(n.message);Nd(l,r,i),a=l;break;case"enum":if(a=eR(n.enum,r,i.ignoreUnknownFields,!0),a===Ny)return;break;case"scalar":a=Ly(n,r,!0);break}const o=Ete(n.mapKey,s);t.set(o,a)}}function gte(t,e,i){if(e===null)return;const n=t.field();if(!Array.isArray(e))throw new as(n,"expected Array, got "+an(e));for(const s of e){if(s===null)throw new as(n,"list item must not be null");switch(n.listKind){case"message":const r=er(n.message);Nd(r,s,i),t.add(r);break;case"enum":const a=eR(n.enum,s,i.ignoreUnknownFields,!0);a!==Ny&&t.add(a);break;case"scalar":t.add(Ly(n,s,!0));break}}}function yte(t,e,i,n){if(i===null&&e.message.typeName!="google.protobuf.Value"){t.clear(e);return}const s=t.isSet(e)?t.get(e):er(e.message);Nd(s,i,n),t.set(e,s)}function bte(t,e,i,n){const s=eR(e.enum,i,n.ignoreUnknownFields,!1);s===Vy?t.clear(e):s!==Ny&&t.set(e,s)}function vte(t,e,i){const n=Ly(e,i,!1);n===Vy?t.clear(e):t.set(e,n)}const Ny=Symbol();function eR(t,e,i,n){if(e===null)return t.typeName=="google.protobuf.NullValue"?0:n?t.values[0].number:Vy;switch(typeof e){case"number":if(Number.isInteger(e))return e;break;case"string":const s=t.values.find(r=>r.name===e);if(s!==void 0)return s.number;if(i)return Ny;break}throw new Error(`cannot decode ${t} from JSON: ${an(e)}`)}const Vy=Symbol();function Ly(t,e,i){if(e===null)return i?Cc(t.scalar,!1):Vy;switch(t.scalar){case oe.DOUBLE:case oe.FLOAT:if(e==="NaN")return NaN;if(e==="Infinity")return Number.POSITIVE_INFINITY;if(e==="-Infinity")return Number.NEGATIVE_INFINITY;if(typeof e=="number"){if(isNaN(e))throw new as(t,"unexpected NaN number");if(!isFinite(e))throw new as(t,"unexpected infinite number");break}if(typeof e=="string"){if(e===""||e.trim().length!==e.length)break;const n=Number(e);if(!isFinite(n))break;return n}break;case oe.INT32:case oe.FIXED32:case oe.SFIXED32:case oe.SINT32:case oe.UINT32:return hG(e);case oe.BYTES:if(typeof e=="string"){if(e==="")return new Uint8Array(0);try{return FC(e)}catch(n){const s=n instanceof Error?n.message:String(n);throw new as(t,s)}}break}return e}function Ete(t,e){switch(t){case oe.BOOL:switch(e){case"true":return!0;case"false":return!1}return e;case oe.INT32:case oe.FIXED32:case oe.UINT32:case oe.SFIXED32:case oe.SINT32:return hG(e);default:return e}}function hG(t){if(typeof t=="string"){if(t===""||t.trim().length!==t.length)return t;const e=Number(t);return Number.isNaN(e)?t:e}return t}function Ate(t,e){try{return JSON.parse(t)}catch(i){const n=i instanceof Error?i.message:String(i);throw new Error(`cannot decode message ${e} from JSON: ${n}`,{cause:i})}}function Ste(t,e,i){if(!t.desc.typeName.startsWith("google.protobuf."))return!1;switch(t.desc.typeName){case"google.protobuf.Any":return Tte(t.message,e,i),!0;case"google.protobuf.Timestamp":return Cte(t.message,e),!0;case"google.protobuf.Duration":return Rte(t.message,e),!0;case"google.protobuf.FieldMask":return Ite(t.message,e),!0;case"google.protobuf.Struct":return fG(t.message,e),!0;case"google.protobuf.Value":return tR(t.message,e),!0;case"google.protobuf.ListValue":return pG(t.message,e),!0;default:if(c0(t.desc)){const n=t.desc.fields[0];return e===null?t.clear(n):t.set(n,Ly(n,e,!0)),!0}return!1}}function Tte(t,e,i){var n;if(e===null||Array.isArray(e)||typeof e!="object")throw new Error(`cannot decode message ${t.$typeName} from JSON: expected object but got ${an(e)}`);if(Object.keys(e).length==0)return;const s=e["@type"];if(typeof s!="string"||s=="")throw new Error(`cannot decode message ${t.$typeName} from JSON: "@type" is empty`);const r=s.includes("/")?s.substring(s.lastIndexOf("/")+1):s;if(!r.length)throw new Error(`cannot decode message ${t.$typeName} from JSON: "@type" is invalid`);const a=(n=i.registry)===null||n===void 0?void 0:n.getMessage(r);if(!a)throw new Error(`cannot decode message ${t.$typeName} from JSON: ${s} is not in the type registry`);const o=er(a);if(r.startsWith("google.protobuf.")&&Object.prototype.hasOwnProperty.call(e,"value")){const l=e.value;Nd(o,l,i)}else{const l=Object.assign({},e);delete l["@type"],Nd(o,l,i)}Qq(o.desc,o.message,t)}function Cte(t,e){if(typeof e!="string")throw new Error(`cannot decode message ${t.$typeName} from JSON: ${an(e)}`);const i=e.match(/^([0-9]{4})-([0-9]{2})-([0-9]{2})T([0-9]{2}):([0-9]{2}):([0-9]{2})(?:\.([0-9]{1,9}))?(?:Z|([+-][0-9][0-9]:[0-9][0-9]))$/);if(!i)throw new Error(`cannot decode message ${t.$typeName} from JSON: invalid RFC 3339 string`);const n=Date.parse(i[1]+"-"+i[2]+"-"+i[3]+"T"+i[4]+":"+i[5]+":"+i[6]+(i[8]?i[8]:"Z"));if(Number.isNaN(n))throw new Error(`cannot decode message ${t.$typeName} from JSON: invalid RFC 3339 string`);if(n<Date.parse("0001-01-01T00:00:00Z")||n>Date.parse("9999-12-31T23:59:59Z"))throw new Error(`cannot decode message ${t.$typeName} from JSON: must be from 0001-01-01T00:00:00Z to 9999-12-31T23:59:59Z inclusive`);t.seconds=pi.parse(n/1e3),t.nanos=0,i[7]&&(t.nanos=parseInt("1"+i[7]+"0".repeat(9-i[7].length))-1e9)}function Rte(t,e){if(typeof e!="string")throw new Error(`cannot decode message ${t.$typeName} from JSON: ${an(e)}`);const i=e.match(/^(-?[0-9]+)(?:\.([0-9]+))?s/);if(i===null)throw new Error(`cannot decode message ${t.$typeName} from JSON: ${an(e)}`);const n=Number(i[1]);if(n>315576e6||n<-315576e6)throw new Error(`cannot decode message ${t.$typeName} from JSON: ${an(e)}`);if(t.seconds=pi.parse(n),typeof i[2]!="string")return;const s=i[2]+"0".repeat(9-i[2].length);t.nanos=parseInt(s),(n<0||Object.is(n,-0))&&(t.nanos=-t.nanos)}function Ite(t,e){if(typeof e!="string")throw new Error(`cannot decode message ${t.$typeName} from JSON: ${an(e)}`);if(e==="")return;function i(n){if(n.includes("_"))throw new Error(`cannot decode message ${t.$typeName} from JSON: path names must be lowerCamelCase`);const s=n.replace(/[A-Z]/g,r=>"_"+r.toLowerCase());return s[0]==="_"?s.substring(1):s}t.paths=e.split(",").map(i)}function fG(t,e){if(typeof e!="object"||e==null||Array.isArray(e))throw new Error(`cannot decode message ${t.$typeName} from JSON ${an(e)}`);for(const[i,n]of Object.entries(e)){const s=Ir(qW);tR(s,n),t.fields[i]=s}}function tR(t,e){switch(typeof e){case"number":t.kind={case:"numberValue",value:e};break;case"string":t.kind={case:"stringValue",value:e};break;case"boolean":t.kind={case:"boolValue",value:e};break;case"object":if(e===null)t.kind={case:"nullValue",value:BA.NULL_VALUE};else if(Array.isArray(e)){const i=Ir(nee);pG(i,e),t.kind={case:"listValue",value:i}}else{const i=Ir(iee);fG(i,e),t.kind={case:"structValue",value:i}}break;default:throw new Error(`cannot decode message ${t.$typeName} from JSON ${an(e)}`)}return t}function pG(t,e){if(!Array.isArray(e))throw new Error(`cannot decode message ${t.$typeName} from JSON ${an(e)}`);for(const i of e){const n=Ir(qW);tR(n,i),t.values.push(n)}}function O6(t){const e=et[t];return typeof e!="string"?t.toString():e[0].toLowerCase()+e.substring(1).replace(/[A-Z]/g,i=>"_"+i.toLowerCase())}class Nt extends Error{constructor(e,i=et.Unknown,n,s,r){super(wte(e,i)),this.name="ConnectError",Object.setPrototypeOf(this,new.target.prototype),this.rawMessage=e,this.code=i,this.metadata=new Headers(n??{}),this.details=s??[],this.cause=r}static from(e,i=et.Unknown){return e instanceof Nt?e:e instanceof Error?e.name=="AbortError"?new Nt(e.message,et.Canceled):new Nt(e.message,i,void 0,void 0,e):new Nt(String(e),i,void 0,void 0,e)}static[Symbol.hasInstance](e){return e instanceof Error?Object.getPrototypeOf(e)===Nt.prototype?!0:e.name==="ConnectError"&&"code"in e&&typeof e.code=="number"&&"metadata"in e&&"details"in e&&Array.isArray(e.details)&&"rawMessage"in e&&typeof e.rawMessage=="string"&&"cause"in e:!1}findDetails(e){const i=e.kind==="message"?{getMessage:s=>s===e.typeName?e:void 0}:e,n=[];for(const s of this.details){if("desc"in s){i.getMessage(s.desc.typeName)&&n.push(Ir(s.desc,s.value));continue}const r=i.getMessage(s.type);if(r)try{n.push(u0(r,s.value))}catch{}}return n}}function wte(t,e){return t.length?`[${O6(e)}] ${t}`:`[${O6(e)}]`}function _te(t,e,i){try{const n=FC(t);return e?u0(e,n,i):n}catch(n){throw Nt.from(n,et.DataLoss)}}function xte(t,e){const i={};for(const n of t.methods){const s=e(n);s!=null&&(i[n.localName]=s)}return i}const X6=1;function Y6(t){let e,i=new Uint8Array(0);function n(s){const r=new Uint8Array(i.length+s.length);r.set(i),r.set(s,i.length),i=r}return new ReadableStream({start(){e=t.getReader()},async pull(s){let r;for(;;){if(r===void 0&&i.byteLength>=5){let l=0;for(let c=1;c<5;c++)l=(l<<8)+i[c];r={flags:i[0],length:l}}if(r!==void 0&&i.byteLength>=r.length+5)break;const o=await e.read();if(o.done)break;n(o.value)}if(r===void 0){if(i.byteLength==0){s.close();return}s.error(new Nt("premature end of stream",et.DataLoss));return}const a=i.subarray(5,5+r.length);i=i.subarray(5+r.length),s.enqueue({flags:r.flags,data:a})}})}function $6(t,e){const i=new Uint8Array(e.length+5);i.set(e,5);const n=new DataView(i.buffer,i.byteOffset,i.byteLength);return n.setUint8(0,t),n.setUint32(1,e.length),i}var Nte=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(r){i[r]=t[r]&&function(a){return new Promise(function(o,l){a=t[r](a),s(o,l,a.done,a.value)})}}function s(r,a,o,l){Promise.resolve(l).then(function(c){r({value:c,done:o})},a)}},kp=function(t){return this instanceof kp?(this.v=t,this):new kp(t)},Vte=function(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(t,e||[]),s,r=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(f){return function(p){return Promise.resolve(p).then(f,d)}}function o(f,p){n[f]&&(s[f]=function(m){return new Promise(function(v,g){r.push([f,m,v,g])>1||l(f,m)})},p&&(s[f]=p(s[f])))}function l(f,p){try{c(n[f](p))}catch(m){h(r[0][3],m)}}function c(f){f.value instanceof kp?Promise.resolve(f.value.v).then(u,d):h(r[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),r.shift(),r.length&&l(r[0][0],r[0][1])}},Lte=function(t){var e,i;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,r){e[s]=t[s]?function(a){return(i=!i)?{value:kp(t[s](a)),done:!1}:r?r(a):a}:r}};function kte(t){return Vte(this,arguments,function*(){yield kp(yield*Lte(Nte(t)))})}var mG=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof __values=="function"?__values(t):t[Symbol.iterator](),i={},n("next"),n("throw"),n("return"),i[Symbol.asyncIterator]=function(){return this},i);function n(r){i[r]=t[r]&&function(a){return new Promise(function(o,l){a=t[r](a),s(o,l,a.done,a.value)})}}function s(r,a,o,l){Promise.resolve(l).then(function(c){r({value:c,done:o})},a)}},Vd=function(t){return this instanceof Vd?(this.v=t,this):new Vd(t)},Fte=function(t){var e,i;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,r){e[s]=t[s]?function(a){return(i=!i)?{value:Vd(t[s](a)),done:!1}:r?r(a):a}:r}},Ute=function(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(t,e||[]),s,r=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(f){return function(p){return Promise.resolve(p).then(f,d)}}function o(f,p){n[f]&&(s[f]=function(m){return new Promise(function(v,g){r.push([f,m,v,g])>1||l(f,m)})},p&&(s[f]=p(s[f])))}function l(f,p){try{c(n[f](p))}catch(m){h(r[0][3],m)}}function c(f){f.value instanceof Vd?Promise.resolve(f.value.v).then(u,d):h(r[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),r.shift(),r.length&&l(r[0][0],r[0][1])}};function K6(t,e){return xte(t,i=>{switch(i.methodKind){case"unary":return Bte(e,i);case"server_streaming":return Wte(e,i);case"client_streaming":return Gte(e,i);case"bidi_streaming":return Dte(e,i);default:return null}})}function Bte(t,e){return async function(i,n){var s,r;const a=await t.unary(e,n==null?void 0:n.signal,n==null?void 0:n.timeoutMs,n==null?void 0:n.headers,i,n==null?void 0:n.contextValues);return(s=n==null?void 0:n.onHeader)===null||s===void 0||s.call(n,a.header),(r=n==null?void 0:n.onTrailer)===null||r===void 0||r.call(n,a.trailer),a.message}}function Wte(t,e){return function(i,n){return gG(t.stream(e,n==null?void 0:n.signal,n==null?void 0:n.timeoutMs,n==null?void 0:n.headers,kte([i]),n==null?void 0:n.contextValues),n)}}function Gte(t,e){return async function(i,n){var s,r,a,o,l,c;const u=await t.stream(e,n==null?void 0:n.signal,n==null?void 0:n.timeoutMs,n==null?void 0:n.headers,i,n==null?void 0:n.contextValues);(l=n==null?void 0:n.onHeader)===null||l===void 0||l.call(n,u.header);let d,h=0;try{for(var f=!0,p=mG(u.message),m;m=await p.next(),s=m.done,!s;f=!0)o=m.value,f=!1,d=o,h++}catch(v){r={error:v}}finally{try{!f&&!s&&(a=p.return)&&await a.call(p)}finally{if(r)throw r.error}}if(!d)throw new Nt("protocol error: missing response message",et.Unimplemented);if(h>1)throw new Nt("protocol error: received extra messages for client streaming method",et.Unimplemented);return(c=n==null?void 0:n.onTrailer)===null||c===void 0||c.call(n,u.trailer),d}}function Dte(t,e){return function(i,n){return gG(t.stream(e,n==null?void 0:n.signal,n==null?void 0:n.timeoutMs,n==null?void 0:n.headers,i,n==null?void 0:n.contextValues),n)}}function gG(t,e){const i=function(){return Ute(this,arguments,function*(){var n,s;const r=yield Vd(t);(n=e==null?void 0:e.onHeader)===null||n===void 0||n.call(e,r.header),yield Vd(yield*Fte(mG(r.message))),(s=e==null?void 0:e.onTrailer)===null||s===void 0||s.call(e,r.trailer)})}()[Symbol.asyncIterator]();return{[Symbol.asyncIterator]:()=>({next:()=>i.next()})}}function Mte(...t){const e=new AbortController,i=t.filter(s=>s!==void 0).concat(e.signal);for(const s of i){if(s.aborted){n.apply(s);break}s.addEventListener("abort",n)}function n(){e.signal.aborted||e.abort(yG(this));for(const s of i)s.removeEventListener("abort",n)}return e}function Zte(t){const e=new AbortController,i=()=>{e.abort(new Nt("the operation timed out",et.DeadlineExceeded))};let n;return t!==void 0&&(t<=0?i():n=setTimeout(i,t)),{signal:e.signal,cleanup:()=>clearTimeout(n)}}function yG(t){if(!t.aborted)return;if(t.reason!==void 0)return t.reason;const e=new Error("This operation was aborted");return e.name="AbortError",e}function ZA(){return{get(t){return t.id in this?this[t.id]:t.defaultValue},set(t,e){return this[t.id]=e,this},delete(t){return delete this[t.id],this}}}function Jg(t,e){return{id:Symbol(e==null?void 0:e.description),defaultValue:t}}const kv=128;function z6(t){const e=new Headers,i=new TextDecoder().decode(t).split(`\r
`);for(const n of i){if(n==="")continue;const s=n.indexOf(":");if(s>0){const r=n.substring(0,s).trim(),a=n.substring(s+1).trim();e.append(r,a)}}return e}const Pte="Content-Type",Ote="Grpc-Timeout",Ld="Grpc-Status",bG="Grpc-Message",Xte="Grpc-Status-Details-Bin",J6="User-Agent",Fv="X-User-Agent",Yte="X-Grpc-Web",$te="application/grpc-web+proto",Kte="application/grpc-web+json",zte=kt("CgxzdGF0dXMucHJvdG8SCmdvb2dsZS5ycGMiTgoGU3RhdHVzEgwKBGNvZGUYASABKAUSDwoHbWVzc2FnZRgCIAEoCRIlCgdkZXRhaWxzGAMgAygLMhQuZ29vZ2xlLnByb3RvYnVmLkFueUJeCg5jb20uZ29vZ2xlLnJwY0ILU3RhdHVzUHJvdG9QAVo3Z29vZ2xlLmdvbGFuZy5vcmcvZ2VucHJvdG8vZ29vZ2xlYXBpcy9ycGMvc3RhdHVzO3N0YXR1c6ICA1JQQ2IGcHJvdG8z",[HW]),Jte=uh(zte,0),jte="0";function vG(t){var e;const i=t.get(Xte);if(i!=null){const s=_te(i,Jte);if(s.code==0)return;const r=new Nt(s.message,s.code,t);return r.details=s.details.map(a=>({type:a.typeUrl.substring(a.typeUrl.lastIndexOf("/")+1),value:a.value})),r}const n=t.get(Ld);if(n!=null){if(n===jte)return;const s=parseInt(n,10);return s in et?new Nt(decodeURIComponent((e=t.get(bG))!==null&&e!==void 0?e:""),s,t):new Nt(`invalid grpc-status: ${n}`,et.Internal,t)}}function j6(t,e){return t.toString().replace(/\/?$/,`/${e.parent.typeName}/${e.name}`)}function EG(t,e){return Ir(t,e)}function Hte(t,e){function i(n){return n.done===!0?n:{done:n.done,value:EG(t,n.value)}}return{[Symbol.asyncIterator](){const n=e[Symbol.asyncIterator](),s={next:()=>n.next().then(i)};return n.throw!==void 0&&(s.throw=r=>n.throw(r).then(i)),n.return!==void 0&&(s.return=r=>n.return(r).then(i)),s}}}function AG(t,e){var i;return(i=e==null?void 0:e.concat().reverse().reduce((n,s)=>s(n),t))!==null&&i!==void 0?i:t}function Qte(t){var e;const i=Object.assign({},t);return(e=i.ignoreUnknownFields)!==null&&e!==void 0||(i.ignoreUnknownFields=!0),i}function H6(t,e,i,n){const s=e?Q6(t.input,n):q6(t.input,i);return{parse:(e?Q6(t.output,n):q6(t.output,i)).parse,serialize:s.serialize}}function Q6(t,e){return{parse(i){try{return u0(t,i,e)}catch(n){const s=n instanceof Error?n.message:String(n);throw new Nt(`parse binary: ${s}`,et.Internal)}},serialize(i){try{return XW(t,i,e)}catch(n){const s=n instanceof Error?n.message:String(n);throw new Nt(`serialize binary: ${s}`,et.Internal)}}}}function q6(t,e){var i,n;const s=(i=e==null?void 0:e.textEncoder)!==null&&i!==void 0?i:new TextEncoder,r=(n=e==null?void 0:e.textDecoder)!==null&&n!==void 0?n:new TextDecoder,a=Qte(e);return{parse(o){try{const l=r.decode(o);return fte(t,l,a)}catch(l){throw Nt.from(l,et.InvalidArgument)}},serialize(o){try{const l=nte(t,o,a);return s.encode(l)}catch(l){throw Nt.from(l,et.Internal)}}}}function qte(t){const e=AG(t.next,t.interceptors),[i,n,s]=SG(t),r=Object.assign(Object.assign({},t.req),{message:EG(t.req.method.input,t.req.message),signal:i});return e(r).then(a=>(s(),a),n)}function eie(t){const e=AG(t.next,t.interceptors),[i,n,s]=SG(t),r=Object.assign(Object.assign({},t.req),{message:Hte(t.req.method.input,t.req.message),signal:i});let a=!1;return i.addEventListener("abort",function(){var o,l;const c=t.req.message[Symbol.asyncIterator]();a||(o=c.throw)===null||o===void 0||o.call(c,this.reason).catch(()=>{}),(l=c.return)===null||l===void 0||l.call(c).catch(()=>{})}),e(r).then(o=>Object.assign(Object.assign({},o),{message:{[Symbol.asyncIterator](){const l=o.message[Symbol.asyncIterator]();return{next(){return l.next().then(c=>(c.done==!0&&(a=!0,s()),c),n)}}}}}),n)}function SG(t){const{signal:e,cleanup:i}=Zte(t.timeoutMs),n=Mte(t.signal,e);return[n.signal,function(r){const a=Nt.from(e.aborted?yG(e):r);return n.abort(a),i(),Promise.reject(a)},function(){i(),n.abort()}]}function tie(){try{new Headers}catch{throw new Error("connect-web requires the fetch API. Are you running on an old version of Node.js? Node.js is not supported in Connect for Web - please stay tuned for Connect for Node.")}}function ew(t,e){const i=vG(t);if(i)throw e.forEach((n,s)=>{i.metadata.append(s,n)}),i;if(!e.has(Ld)&&!t.has(Ld))throw new Nt("protocol error: missing status",et.Internal)}function tw(t,e,i,n){const s=new Headers(i??{});s.set(Pte,t?$te:Kte),s.set(Yte,"1");let r="connect-es/2.0.2";return r=s.has(J6)?s.get(J6):s.has(Fv)?s.get(Fv):r,s.set(Fv,r),e!==void 0&&s.set(Ote,`${e}m`),s}function iie(t){switch(t){case 400:return et.Internal;case 401:return et.Unauthenticated;case 403:return et.PermissionDenied;case 404:return et.Unimplemented;case 429:return et.Unavailable;case 502:return et.Unavailable;case 503:return et.Unavailable;case 504:return et.Unavailable;default:return et.Unknown}}function iw(t,e){var i;if(t>=200&&t<300)return{foundStatus:e.has(Ld),headerError:vG(e)};throw new Nt(decodeURIComponent((i=e.get(bG))!==null&&i!==void 0?i:`HTTP ${t}`),iie(t),e)}var zl=function(t){return this instanceof zl?(this.v=t,this):new zl(t)},nie=function(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=i.apply(t,e||[]),s,r=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),s[Symbol.asyncIterator]=function(){return this},s;function a(f){return function(p){return Promise.resolve(p).then(f,d)}}function o(f,p){n[f]&&(s[f]=function(m){return new Promise(function(v,g){r.push([f,m,v,g])>1||l(f,m)})},p&&(s[f]=p(s[f])))}function l(f,p){try{c(n[f](p))}catch(m){h(r[0][3],m)}}function c(f){f.value instanceof zl?Promise.resolve(f.value.v).then(u,d):h(r[0][2],f)}function u(f){l("next",f)}function d(f){l("throw",f)}function h(f,p){f(p),r.shift(),r.length&&l(r[0][0],r[0][1])}};const nw={redirect:"error"};function sw(t){var e;tie();const i=(e=t.useBinaryFormat)!==null&&e!==void 0?e:!0;return{async unary(n,s,r,a,o,l){const{serialize:c,parse:u}=H6(n,i,t.jsonOptions,t.binaryOptions);return r=r===void 0?t.defaultTimeoutMs:r<=0?void 0:r,await qte({interceptors:t.interceptors,signal:s,timeoutMs:r,req:{stream:!1,service:n.parent,method:n,requestMethod:"POST",url:j6(t.baseUrl,n),header:tw(i,r,a),contextValues:l??ZA(),message:o},next:async d=>{var h;const p=await((h=t.fetch)!==null&&h!==void 0?h:globalThis.fetch)(d.url,Object.assign(Object.assign({},nw),{method:d.requestMethod,headers:d.header,signal:d.signal,body:$6(0,c(d.message))})),{headerError:m}=iw(p.status,p.headers);if(!p.body)throw m!==void 0?m:"missing response body";const v=Y6(p.body).getReader();let g,E;for(;;){const A=await v.read();if(A.done)break;const{flags:R,data:I}=A.value;if((R&X6)===X6)throw new Nt("protocol error: received unsupported compressed output",et.Internal);if(R===kv){if(g!==void 0)throw"extra trailer";g=z6(I);continue}if(E!==void 0)throw new Nt("extra message",et.Unimplemented);E=u(I)}if(g===void 0)throw m!==void 0?m:new Nt("missing trailer",p.headers.has(Ld)?et.Unimplemented:et.Unknown);if(ew(g,p.headers),E===void 0)throw new Nt("missing message",g.has(Ld)?et.Unimplemented:et.Unknown);return{stream:!1,service:n.parent,method:n,header:p.headers,message:E,trailer:g}}})},async stream(n,s,r,a,o,l){const{serialize:c,parse:u}=H6(n,i,t.jsonOptions,t.binaryOptions);function d(f,p,m,v,g){return nie(this,arguments,function*(){const A=Y6(f).getReader();if(p){if(!(yield zl(A.read())).done)throw"extra data for trailers-only";return yield zl(void 0)}let R=!1;for(;;){const I=yield zl(A.read());if(I.done)break;const{flags:L,data:F}=I.value;if((L&kv)===kv){if(R)throw"extra trailer";R=!0;const B=z6(F);ew(B,v),B.forEach((G,Z)=>m.set(Z,G));continue}if(R)throw"extra message";yield yield zl(u(F))}if("throwIfAborted"in g&&g.throwIfAborted(),!R)throw"missing trailer"})}async function h(f){if(n.methodKind!="server_streaming")throw"The fetch API does not support streaming request bodies";const p=await f[Symbol.asyncIterator]().next();if(p.done==!0)throw"missing request message";return $6(0,c(p.value))}return r=r===void 0?t.defaultTimeoutMs:r<=0?void 0:r,eie({interceptors:t.interceptors,signal:s,timeoutMs:r,req:{stream:!0,service:n.parent,method:n,requestMethod:"POST",url:j6(t.baseUrl,n),header:tw(i,r,a),contextValues:l??ZA(),message:o},next:async f=>{var p;const v=await((p=t.fetch)!==null&&p!==void 0?p:globalThis.fetch)(f.url,Object.assign(Object.assign({},nw),{method:f.requestMethod,headers:f.header,signal:f.signal,body:await h(f.message)})),{foundStatus:g,headerError:E}=iw(v.status,v.headers);if(E!=null)throw E;if(!v.body)throw"missing response body";const A=new Headers;return Object.assign(Object.assign({},f),{header:v.headers,trailer:A,message:d(v.body,g,A,v.headers,f.signal)})}})}}}let sie=()=>({emit(t,...e){for(let i=this.events[t]||[],n=0,s=i.length;n<s;n++)i[n](...e)},events:{},on(t,e){var i;return((i=this.events)[t]||(i[t]=[])).push(e),()=>{var n;this.events[t]=(n=this.events[t])==null?void 0:n.filter(s=>e!==s)}}});function rie({retryCount:t}){return~~((Math.random()+.5)*(1<<(t<8?t:8)))*2e3}const aie=([t,e,i])=>{const n=({cache:g=new Map,fetcher:E,...A}={})=>{const R=sie();let I=!0;e(()=>{I=t(),I&&R.emit(o)}),i(()=>R.emit(l));const L=new Map,F=new Map,B=new Map;let G={};const Z=H=>{const ee=g.get(H);return ee?(ee.expires||0)>f()?[ee.data,ee.error]:[]:[]},j=async([H,ee],we,M)=>{var Q,se;if(!I)return;const ne=xe=>{we.key===H&&(we.set(xe),R.emit(d,H,xe,!0))},Ie=xe=>{ne({...xe===void 0?{}:{data:xe},...m,promise:B.get(H)})};let{dedupeTime:ke=4e3,cacheLifetime:De=1/0,fetcher:$e,onErrorRetry:Je=rie}={...M,...G};De<ke&&(De=ke);const ce=f();if(B.has(H)){we.value.loading||Ie(Z(H)[0]);return}let $,te;const ue=g.get(H);if(((ue==null?void 0:ue.data)!==void 0||ue!=null&&ue.error)&&([$,te]=Z(H),(ue.created||0)+ke>ce)){(we.value.data!=$||we.value.error!=te)&&ne({...v,data:$,error:te});return}const be=Zee();try{clearTimeout(F.get(H));const xe=$e(...ee);B.set(H,xe),Ie($);const Ge=await xe;g.set(H,{data:Ge,created:f(),expires:f()+De}),ne({data:Ge,...v})}catch(xe){(Q=M.onError)==null||Q.call(M,xe);const Ge=(((se=g.get(H))==null?void 0:se.retryCount)||0)+1;if(g.set(H,{error:xe,created:f(),expires:f()+De,retryCount:Ge}),Je){const Me=Je({error:xe,key:H,retryCount:Ge});Me&&F.set(H,setTimeout(()=>{me(H),g.set(H,{retryCount:Ge})},Me))}ne({data:we.value.data,error:xe,...v})}finally{be(),B.delete(H)}},pe=(H,{fetcher:ee=E,...we}={})=>{const M=MA({...v}),Q={...A,...we,fetcher:ee};M._=p,M.invalidate=()=>{const{key:$}=M;$&&me($)},M.revalidate=()=>{const{key:$}=M;$&&de($)},M.mutate=$=>{const{key:te}=M;te&&ye(te,$)},M.fetch=async()=>{let $;const te=new Promise(be=>$=be),ue=M.listen(({error:be,data:xe})=>{be!==void 0&&$({error:be}),xe!==void 0&&$({data:xe})});return te.finally(ue)};let se,ne,Ie,ke,De,$e=[];aG(M,()=>{const $=!se;[De,se]=r(H),ke=De.subscribe(le=>{if(le){const[Pe,ht]=le;M.key=Pe,j([Pe,ht],M,Q),ne=Pe,Ie=ht}else M.key=ne=Ie=void 0,M.set({...v})});const te=De.get();te&&([ne,Ie]=te,$&&Je());const{revalidateInterval:ue=0,revalidateOnFocus:be,revalidateOnReconnect:xe}=Q,Ge=()=>{ne&&j([ne,Ie],M,Q)};ue>0&&L.set(H,setInterval(Ge,ue)),be&&$e.push(R.on(o,Ge)),xe&&$e.push(R.on(l,Ge));const Me=le=>{ne&&h(ne,le)&&j([ne,Ie],M,Q)};$e.push(R.on(c,Me),R.on(u,Me),R.on(d,(le,Pe,ht)=>{ne&&h(ne,le)&&M.value!==Pe&&M.value.data!==Pe&&M.set(ht?Pe:{data:Pe,...v})}))});const Je=()=>{ne&&Ie&&j([ne,Ie],M,Q)},ce=M.listen;return M.listen=$=>{const te=ce($);return $(M.value),Je(),te},W6(M,()=>{M.value={...v},se==null||se(),$e.forEach($=>$()),$e=[],ke==null||ke(),clearInterval(L.get(H))}),M},J=(H,ee)=>{for(const we of g.keys())h(we,H)&&ee(we)},me=H=>{J(H,ee=>{g.delete(ee)}),R.emit(c,H)},de=H=>{J(H,ee=>{const we=g.get(ee);we&&g.set(ee,{...we,created:-1/0})}),R.emit(u,H)},ye=(H,ee)=>{J(H,we=>{ee===void 0?g.delete(we):g.set(we,{data:ee,created:f(),expires:f()+(A.cacheLifetime??8e3)})}),R.emit(d,H,ee)};function Le(H,ee){const{throttleCalls:we,onError:M}=ee??{throttleCalls:!0,onError:A==null?void 0:A.onError},Q=async ne=>{var Ie;if(we&&((Ie=se.value)!=null&&Ie.loading))return;const ke=G.fetcher??H,De=[],$e=[],Je=(ce,$)=>{se.lc&&se.setKey(ce,$)};try{se.set({error:void 0,data:void 0,mutate:Q,...m});const ce=await ke({data:ne,invalidate:$=>{De.push($)},revalidate:$=>{$e.push($)},getCacheUpdater:($,te=!0)=>{var ue;return[be=>{ye($,be),te&&$e.push($)},(ue=g.get($))==null?void 0:ue.data]}});return Je("data",ce),ce}catch(ce){M==null||M(ce),Je("error",ce),se.setKey("error",ce)}finally{Je("loading",!1),De.forEach(me),$e.forEach(de)}},se=MA({mutate:Q,...v});return W6(se,()=>se.set({mutate:Q,...v})),se.mutate=Q,se}return[pe,Le,{__unsafeOverruleSettings:H=>{console.warn("You should only use __unsafeOverruleSettings in test environment"),G=H},invalidateKeys:me,revalidateKeys:de,mutateCache:ye}]};function s(g){return typeof g=="string"||typeof g=="number"||g===!0}const r=g=>{if(s(g))return[ha([""+g,[g]]),()=>{}];const E=[],A=ha(null),R=new Map,I=()=>{E.some(B=>B==null||B===!1)?A.set(null):A.set([E.join(""),E])};for(let B=0;B<g.length;B++){const G=g[B];s(G)?E.push(G):(E.push(null),R.set(G,B))}const L=[...R.keys()],F=DA(L,(...B)=>{for(let G=0;G<B.length;G++){const Z=L[G],j=R.get(Z);E[j]=Z._===p?Z.value&&"data"in Z.value?Z.key:null:B[G]}I()});return I(),[A,F.subscribe(a)]};function a(){}const o=1,l=2,c=3,u=4,d=5,h=(g,E)=>Array.isArray(E)?E.includes(g):typeof E=="function"?E(g):g===E,f=()=>new Date().getTime(),p=Symbol(),m={loading:!0},v={loading:!1};return n},rw=(t,e)=>{typeof window>"u"||addEventListener(t,e)},oie=[()=>!document.hidden,t=>rw("visibilitychange",t),t=>rw("online",t)],aw=aie(oie),h0=kt("CiZzdHJlYW1sYXllci9zcG9ydHMvc3BvcnRzX2NvbW1vbi5wcm90bxISc3RyZWFtbGF5ZXIuc3BvcnRzIi0KClBhZ2luYXRpb24SDAoEcGFnZRgBIAEoBRIRCglwYWdlX3NpemUYAiABKAUiJAoEU29ydBINCgVmaWVsZBgBIAEoCRINCgVvcmRlchgCIAEoCSI2CgRNZXRhEg0KBWNvdW50GAEgASgFEgwKBHBhZ2UYAiABKAUSEQoJcGFnZV9zaXplGAMgASgFIjcKBVZlbnVlEgwKBGNpdHkYASABKAkSDwoHY291bnRyeRgCIAEoCRIPCgdzdGFkaXVtGAMgASgJInAKBFRlYW0SCgoCaWQYASABKAQSFQoNY3VzdG9tX2ZpZWxkcxgCIAEoCRIMCgRuYW1lGAMgASgJEg0KBWFsaWFzGAQgASgJEigKBXZlbnVlGAUgASgLMhkuc3RyZWFtbGF5ZXIuc3BvcnRzLlZlbnVlIioKCUV2ZW50VGltZRINCgVjbG9jaxgBIAEoCRIOCgZwZXJpb2QYAiABKAUiRQoLRXZlbnRQZXJpb2QSDgoGbnVtYmVyGAEgASgFEhIKCnNjb3JlX2hvbWUYAiABKAUSEgoKc2NvcmVfYXdheRgDIAEoBSLoAwoFRXZlbnQSCgoCaWQYASABKAQSFQoNY3VzdG9tX2ZpZWxkcxgCIAEoCRIRCglsZWFndWVfaWQYAyABKAQSEQoJc2Vhc29uX2lkGAQgASgEEhQKDGhvbWVfdGVhbV9pZBgFIAEoBBIUCgxhd2F5X3RlYW1faWQYBiABKAQSFgoOd2lubmVyX3RlYW1faWQYByABKAQSEQoJc2NoZWR1bGVkGAggASgJEhIKCnNjb3JlX2hvbWUYCSABKAUSEgoKc2NvcmVfYXdheRgKIAEoBRIoCgV2ZW51ZRgLIAEoCzIZLnN0cmVhbWxheWVyLnNwb3J0cy5WZW51ZRIxCgpldmVudF90aW1lGAwgASgLMh0uc3RyZWFtbGF5ZXIuc3BvcnRzLkV2ZW50VGltZRIvCgZzdGF0dXMYDSABKA4yHy5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRTdGF0dXMSMAoHcGVyaW9kcxgOIAMoCzIfLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudFBlcmlvZBISCgpzdGFydF90aW1lGA8gASgJEhAKCGVuZF90aW1lGBAgASgJEjEKB2VuZGxlc3MYESABKA4yIC5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRFbmRsZXNzIi0KB0NvdW50cnkSDAoEbmFtZRgBIAEoCRIUCgxhYmJyZXZpYXRpb24YAiABKAki+wMKEFBsYXllckF0dHJpYnV0ZXMSEgoKZGlzcGxheV9pZBgBIAEoBRISCgpmdWxsX2ZpcnN0GAMgASgJEhEKCWZ1bGxfbGFzdBgEIAEoCRIPCgd1bmlmb3JtGAUgASgJEjsKBmhlaWdodBgGIAEoCzIrLnN0cmVhbWxheWVyLnNwb3J0cy5QbGF5ZXJBdHRyaWJ1dGVzLkhlaWdodBI7CgZ3ZWlnaHQYByABKAsyKy5zdHJlYW1sYXllci5zcG9ydHMuUGxheWVyQXR0cmlidXRlcy5XZWlnaHQSOQoFYmlydGgYCCABKAsyKi5zdHJlYW1sYXllci5zcG9ydHMuUGxheWVyQXR0cmlidXRlcy5CaXJ0aBotCgZIZWlnaHQSEwoLY2VudGltZXRlcnMYASABKAUSDgoGaW5jaGVzGAIgASgFGisKBldlaWdodBIRCglraWxvZ3JhbXMYASABKAUSDgoGcG91bmRzGAIgASgFGokBCgVCaXJ0aBIMCgRjaXR5GAEgASgJEiwKB2NvdW50cnkYAiABKAsyGy5zdHJlYW1sYXllci5zcG9ydHMuQ291bnRyeRpECglCaXJ0aERhdGUSDAoEeWVhchgBIAEoBRINCgVtb250aBgCIAEoBRIMCgRkYXRlGAMgASgFEgwKBGZ1bGwYBCABKAkiRgoKUGxheWVyVGVhbRIPCgd0ZWFtX2lkGAEgASgEEhAKCHBvc2l0aW9uGAIgASgJEhUKDWplcnNleV9udW1iZXIYAyABKAUilwIKBlBsYXllchIKCgJpZBgBIAEoBBIVCg1jdXN0b21fZmllbGRzGAggASgJEhIKCmZpcnN0X25hbWUYCSABKAkSEQoJbGFzdF9uYW1lGAogASgJEhQKDGRpc3BsYXlfbmFtZRgOIAEoCRISCgpiaXJ0aF9kYXRlGAsgASgJEjAKC25hdGlvbmFsaXR5GAwgASgLMhsuc3RyZWFtbGF5ZXIuc3BvcnRzLkNvdW50cnkSOAoKYXR0cmlidXRlcxgNIAEoCzIkLnN0cmVhbWxheWVyLnNwb3J0cy5QbGF5ZXJBdHRyaWJ1dGVzEi0KBXRlYW1zGA8gAygLMh4uc3RyZWFtbGF5ZXIuc3BvcnRzLlBsYXllclRlYW0iKgoKVGVhbVJlY29yZBIMCgR3aW5zGAEgASgFEg4KBmxvc3NlcxgCIAEoBSJRCgZTZWFzb24SCgoCaWQYASABKAQSDAoEbmFtZRgEIAEoCRIMCgR0eXBlGAUgASgJEgwKBHllYXIYBiABKAUSEQoJbGVhZ3VlX2lkGAcgASgEIooBCg9TeW5jU3RhdHVzU3RhZ2USDQoFc3RhZ2UYASABKAkSEQoJdGltZXN0YW1wGAIgASgEEhAKCGRhdGV0aW1lGAMgASgJEg0KBWVycm9yGAQgASgJEjQKBnN0YXR1cxgFIAEoDjIkLnN0cmVhbWxheWVyLnNwb3J0cy5MZWFndWVTeW5jU3RhdHVzIpUCCgpTeW5jU3RhdHVzEjIKBXRlYW1zGAEgASgLMiMuc3RyZWFtbGF5ZXIuc3BvcnRzLlN5bmNTdGF0dXNTdGFnZRIyCgVldmVudBgCIAEoCzIjLnN0cmVhbWxheWVyLnNwb3J0cy5TeW5jU3RhdHVzU3RhZ2USMwoGZXZlbnRzGAMgASgLMiMuc3RyZWFtbGF5ZXIuc3BvcnRzLlN5bmNTdGF0dXNTdGFnZRI0CgdwbGF5ZXJzGAQgASgLMiMuc3RyZWFtbGF5ZXIuc3BvcnRzLlN5bmNTdGF0dXNTdGFnZRI0CgdsZWFndWVzGAUgASgLMiMuc3RyZWFtbGF5ZXIuc3BvcnRzLlN5bmNTdGF0dXNTdGFnZSJWChJTeW5jU3RhdHVzUHJvdmlkZXISEAoIcHJvdmlkZXIYASABKAkSLgoGc3RhdHVzGAIgASgLMh4uc3RyZWFtbGF5ZXIuc3BvcnRzLlN5bmNTdGF0dXMitgEKBkxlYWd1ZRIKCgJpZBgBIAEoBBIVCg1jdXN0b21fZmllbGRzGAggASgJEg8KB2NvdW50cnkYCSABKAkSDAoEbmFtZRgKIAEoCRINCgVhbGlhcxgLIAEoCRIMCgRzeW5jGA0gASgIEhAKCHNwb3J0X2lkGA4gASgEEjsKC3N5bmNfc3RhdHVzGAwgAygLMiYuc3RyZWFtbGF5ZXIuc3BvcnRzLlN5bmNTdGF0dXNQcm92aWRlciJpCgVTcG9ydBIKCgJpZBgBIAEoBBIPCgdjcmVhdGVkGAIgASgJEg8KB3VwZGF0ZWQYAyABKAkSFQoNY3VzdG9tX2ZpZWxkcxgIIAEoCRIMCgRuYW1lGAogASgJEg0KBWFsaWFzGAsgASgJIloKEk5mbEV2ZW50U3RhdGlzdGljcxIOCgZwYXNzZXMYASABKAUSDgoGcnVzaGVzGAIgASgFEhEKCXBlbmFsdGllcxgDIAEoBRIRCgl0dXJub3ZlcnMYBCABKAUilwIKFVNvY2NlckV2ZW50U3RhdGlzdGljcxIXCg9iYWxsX3Bvc3Nlc3Npb24YASABKAUSEQoJdGhyb3dfaW5zGAIgASgFEg0KBWZvdWxzGAMgASgFEhIKCmdvYWxfa2lja3MYBCABKAUSEgoKZnJlZV9raWNrcxgFIAEoBRIXCg9zaG90c19vbl90YXJnZXQYBiABKAUSFAoMY29ybmVyX2tpY2tzGAcgASgFEhgKEHNob3RzX29mZl90YXJnZXQYCCABKAUSEwoLc2hvdHNfc2F2ZWQYCSABKAUSEAoIb2Zmc2lkZXMYCiABKAUSFQoNc2hvdHNfYmxvY2tlZBgLIAEoBRIUCgx5ZWxsb3dfY2FyZHMYDCABKAUinAEKE0V2ZW50VGVhbVN0YXRpc3RpY3MSOgoIZm9vdGJhbGwYASABKAsyJi5zdHJlYW1sYXllci5zcG9ydHMuTmZsRXZlbnRTdGF0aXN0aWNzSAASOwoGc29jY2VyGAIgASgLMikuc3RyZWFtbGF5ZXIuc3BvcnRzLlNvY2NlckV2ZW50U3RhdGlzdGljc0gAQgwKCnN0YXRpc3RpY3MiZQoJRXZlbnRUZWFtEgoKAmlkGAEgASgEEgwKBG5hbWUYAiABKAkSDQoFYWxpYXMYAyABKAkSDAoEbG9nbxgEIAEoCRIOCgZjb2xvcnMYBSADKAkSEQoJaXNfd2lubmVyGAYgASgIIt0BChFFdmVudEN1c3RvbUZpZWxkcxIPCgdwcmV2aWV3GAEgASgJEg4KBnN0cmVhbRgCIAEoCRIMCgRuYW1lGAMgASgJEgwKBGxvZ28YBCABKAkSEQoJZXZlbnRfaWRzGAUgAygJEhAKCHN1YnRpdGxlGAYgASgJEhIKCnByb21vdGl0bGUYByABKAkSDQoFc2xhdGUYCCABKAkSGgoSaG9yaXpvbnRhbF9wcmV2aWV3GAkgASgJEhIKCnNtYWxsX2xvZ28YCiABKAkSEwoLZGVzY3JpcHRpb24YCyABKAkikAEKDEV2ZW50UHJvZ3JhbRIPCgJpZBgBIAEoCUgAiAEBEg0KBXRpdGxlGAIgASgJEhIKCnN0YXJ0X3RpbWUYAyABKAkSEAoIZW5kX3RpbWUYBCABKAkSFQoNdGh1bWJuYWlsX3VybBgFIAEoCRIcChRzcXVhcmVfdGh1bWJuYWlsX3VybBgGIAEoCUIFCgNfaWQi3gMKCUV2ZW50RGF0YRIKCgJpZBgBIAEoBBINCgVzcG9ydBgCIAEoCRIOCgZsZWFndWUYAyABKAkSEQoJc2NoZWR1bGVkGAQgASgJEisKBGhvbWUYBSABKAsyHS5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRUZWFtEisKBGF3YXkYBiABKAsyHS5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRUZWFtEi8KBnN0YXR1cxgHIAEoDjIfLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudFN0YXR1cxI8Cg1jdXN0b21fZmllbGRzGAggASgLMiUuc3RyZWFtbGF5ZXIuc3BvcnRzLkV2ZW50Q3VzdG9tRmllbGRzEhIKCnN0YXJ0X3RpbWUYCSABKAkSEAoIZW5kX3RpbWUYCiABKAkSKAoFdmVudWUYCyABKAsyGS5zdHJlYW1sYXllci5zcG9ydHMuVmVudWUSMgoIc2NoZWR1bGUYDCADKAsyIC5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRQcm9ncmFtEjEKB2VuZGxlc3MYDSABKA4yIC5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRFbmRsZXNzEhMKC3Byb3ZpZGVyX2lkGA4gASgJIoAECgxFdmVudFN1bW1hcnkSCgoCaWQYASABKAQSEQoJc2NoZWR1bGVkGAIgASgJEhIKCnNjb3JlX2hvbWUYAyABKAUSEgoKc2NvcmVfYXdheRgEIAEoBRIoCgV2ZW51ZRgFIAEoCzIZLnN0cmVhbWxheWVyLnNwb3J0cy5WZW51ZRIxCgpldmVudF90aW1lGAYgASgLMh0uc3RyZWFtbGF5ZXIuc3BvcnRzLkV2ZW50VGltZRIwCglob21lX3RlYW0YByABKAsyHS5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRUZWFtEjAKCWF3YXlfdGVhbRgIIAEoCzIdLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudFRlYW0SLwoGc3RhdHVzGAkgASgOMh8uc3RyZWFtbGF5ZXIuc3BvcnRzLkV2ZW50U3RhdHVzEjAKB3BlcmlvZHMYCiADKAsyHy5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRQZXJpb2QSDgoGbGVhZ3VlGAsgASgJEhIKCnN0YXJ0X3RpbWUYDCABKAkSEAoIZW5kX3RpbWUYDSABKAkSDAoEbmFtZRgOIAEoCRIMCgRsb2dvGA8gASgJEg4KBnN0cmVhbRgQIAEoCRINCgVzcG9ydBgRIAEoCRIUCgxwYXVzZV9hZF91cmwYEiADKAkiKQoLUXVlcnlPcHRpb24SCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJIi4KEEFycmF5UXVlcnlPcHRpb24SCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgAygJIr8CCgVRdWVyeRIQCghwcm92aWRlchgBIAEoCRIuCgVtYXRjaBgCIAMoCzIfLnN0cmVhbWxheWVyLnNwb3J0cy5RdWVyeU9wdGlvbhIrCgJuZRgDIAMoCzIfLnN0cmVhbWxheWVyLnNwb3J0cy5RdWVyeU9wdGlvbhIrCgJlcRgEIAMoCzIfLnN0cmVhbWxheWVyLnNwb3J0cy5RdWVyeU9wdGlvbhI1CgdiZXR3ZWVuGAUgAygLMiQuc3RyZWFtbGF5ZXIuc3BvcnRzLkFycmF5UXVlcnlPcHRpb24SNgoIaW5jbHVkZXMYBiADKAsyJC5zdHJlYW1sYXllci5zcG9ydHMuQXJyYXlRdWVyeU9wdGlvbhIrCgJpcxgHIAMoCzIfLnN0cmVhbWxheWVyLnNwb3J0cy5RdWVyeU9wdGlvbiqzAQoQTGVhZ3VlU3luY1N0YXR1cxIcChhMRUFHVUVfU1lOQ19TVEFUVVNfVU5TRVQQABIgChxMRUFHVUVfU1lOQ19TVEFUVVNfU0NIRURVTEVEEAESIgoeTEVBR1VFX1NZTkNfU1RBVFVTX0lOX1BST0dSRVNTEAISHQoZTEVBR1VFX1NZTkNfU1RBVFVTX1NZTkNFRBADEhwKGExFQUdVRV9TWU5DX1NUQVRVU19FUlJPUhAEKt4BCgtFdmVudFN0YXR1cxIWChJFVkVOVF9TVEFUVVNfVU5TRVQQABIYChRFVkVOVF9TVEFUVVNfUFJFR0FNRRABEhcKE0VWRU5UX1NUQVRVU19BQ1RJVkUQAhIWChJFVkVOVF9TVEFUVVNfQlJFQUsQAxIZChVFVkVOVF9TVEFUVVNfT1ZFUlRJTUUQBBIaChZFVkVOVF9TVEFUVVNfU0hPT1RPVVRTEAUSGQoVRVZFTlRfU1RBVFVTX1BPU1RHQU1FEAYSGgoWRVZFTlRfU1RBVFVTX0NBTkNFTExFRBAHKl4KDEV2ZW50RW5kbGVzcxIXChNFVkVOVF9FTkRMRVNTX1VOU0VUEAASGQoVRVZFTlRfRU5ETEVTU19FTkFCTEVEEAESGgoWRVZFTlRfRU5ETEVTU19ESVNBQkxFRBACQqoBCh1jb20uc3RyZWFtbGF5ZXIuc3BvcnRzLmNvbW1vbkIcU3RyZWFtTGF5ZXJTcG9ydHNDb21tb25Qcm90b1ABWmBnaXRodWIuY29tL3N0cmVhbWxheWVyL3NsLXByb3RvZmlsZXMvLmJ1aWxkL2dvL3N0cmVhbWxheWVyL3Nwb3J0cy9ldmVudHMvY29tbW9uO3NsX2V2ZW50c19jb21tb26iAgZTTF9BUEliBnByb3RvMw"),lie=kt("CipzdHJlYW1sYXllci9zcG9ydHMvYmFzZWJhbGwvYmFzZWJhbGwucHJvdG8SG3N0cmVhbWxheWVyLnNwb3J0cy5iYXNlYmFsbCKsAQoOUGl0Y2hlclN1bW1hcnkSOQoKc3RhdGlzdGljcxgBIAEoCzIlLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNlYmFsbC5QaXRjaGluZxI6CgZzdGF0dXMYAiABKA4yKi5zdHJlYW1sYXllci5zcG9ydHMuYmFzZWJhbGwuUGl0Y2hlclN0YXR1cxIQCgh3aW5fcmF0ZRgDIAEoBRIRCglsb3NzX3JhdGUYBCABKAUiNAoGUnVubmVyEhMKC3BsYXllcl9uYW1lGAEgASgJEhUKDWplcnNleV9udW1iZXIYAiABKAkigwEKDFJ1bm5lck9uQmFzZRI+CgtiYXNlX251bWJlchgBIAEoDjIpLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNlYmFsbC5CYXNlYmFsbEJhc2USMwoGcGxheWVyGAIgASgLMiMuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLlJ1bm5lciKBAQoHSGl0dGluZxITCgtwbGF5ZXJfbmFtZRgBIAEoCRIUCgxoaXRzX3Blcl9iYXQYAiABKAkSDAoEcnVucxgDIAEoCRIVCg1ydW5fYmF0dGVkX2luGAQgASgJEg0KBXdhbGtzGAUgASgJEhcKD2JhdHRpbmdfYXZlcmFnZRgGIAEoCSJjCgdCYXR0aW5nEhMKC3BsYXllcl9uYW1lGAEgASgJEg4KBmF0X2JhdBgCIAEoCRIMCgRydW5zGAMgASgJEgwKBGhpdHMYBCABKAkSFwoPYmF0dGluZ19hdmVyYWdlGAUgASgJIocBCghQaXRjaGluZxITCgtwbGF5ZXJfbmFtZRgBIAEoCRIXCg9pbm5pbmdzX3BpdGNoZWQYAiABKAkSFQoNaGl0c19ieV9waXRjaBgDIAEoCRITCgtlYXJuZWRfcnVucxgEIAEoCRINCgV3YWxrcxgFIAEoCRISCgpzdHJpa2VvdXRzGAYgASgJIrwBChNCYXNlYmFsbFRlYW1TdW1tYXJ5EjUKB2hpdHRpbmcYASADKAsyJC5zdHJlYW1sYXllci5zcG9ydHMuYmFzZWJhbGwuSGl0dGluZxI1CgdiYXR0aW5nGAIgAygLMiQuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLkJhdHRpbmcSNwoIcGl0Y2hpbmcYAyADKAsyJS5zdHJlYW1sYXllci5zcG9ydHMuYmFzZWJhbGwuUGl0Y2hpbmcirQIKD0Jhc2ViYWxsU3VtbWFyeRJBCgxob21lX3BpdGNoZXIYASABKAsyKy5zdHJlYW1sYXllci5zcG9ydHMuYmFzZWJhbGwuUGl0Y2hlclN1bW1hcnkSQQoMYXdheV9waXRjaGVyGAIgASgLMisuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLlBpdGNoZXJTdW1tYXJ5EkkKD2hvbWVfc3RhdGlzdGljcxgDIAEoCzIwLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNlYmFsbC5CYXNlYmFsbFRlYW1TdW1tYXJ5EkkKD2F3YXlfc3RhdGlzdGljcxgEIAEoCzIwLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNlYmFsbC5CYXNlYmFsbFRlYW1TdW1tYXJ5IowDChxCYXNlYmFsbFBsYXlCeVBsYXlTdGF0aXN0aWNzEisKBHRlYW0YASABKAsyHS5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRUZWFtEg4KBmlubmluZxgCIAEoCRIRCglwbGF5X3RleHQYAyABKAkSbAoGZGV0YWlsGAQgAygLMlwuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLkJhc2ViYWxsUGxheUJ5UGxheVN0YXRpc3RpY3MuQmFzZWJhbGxQbGF5QnlQbGF5RGV0YWlsU3RhdGlzdGljcxIMCgRydW5zGAUgASgFEgwKBGhpdHMYBiABKAUSDgoGZXJyb3JzGAcgASgFGoEBCiJCYXNlYmFsbFBsYXlCeVBsYXlEZXRhaWxTdGF0aXN0aWNzEhIKCnNjb3JlX2hvbWUYASABKAUSEgoKc2NvcmVfYXdheRgCIAEoBRIRCglwbGF5X3RleHQYAyABKAkSDwoHc2NvcmluZxgEIAEoCBIPCgdwbGF5X2lkGAcgASgFIr4CCgpFdmVudFNjb3JlEgwKBG91dHMYASABKAUSDgoGaW5uaW5nGAIgASgFEhcKD2lubmluZ19kaXZpc2lvbhgDIAEoCRISCgppc19kZWxheWVkGAQgASgIEhgKEHJlYXNvbl9mb3JfZGVsYXkYBSABKAkSQgoPcnVubmVyc19vbl9iYXNlGAYgAygLMikuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLlJ1bm5lck9uQmFzZRITCgt0YWtlbl9iYXNlcxgHIAEoBRI4ChBob21lX3RlYW1fcmVjb3JkGAggASgLMh4uc3RyZWFtbGF5ZXIuc3BvcnRzLlRlYW1SZWNvcmQSOAoQYXdheV90ZWFtX3JlY29yZBgJIAEoCzIeLnN0cmVhbWxheWVyLnNwb3J0cy5UZWFtUmVjb3JkIlsKClBsYXlCeVBsYXkSTQoKc3RhdGlzdGljcxgBIAMoCzI5LnN0cmVhbWxheWVyLnNwb3J0cy5iYXNlYmFsbC5CYXNlYmFsbFBsYXlCeVBsYXlTdGF0aXN0aWNzIlAKDEV2ZW50U3VtbWFyeRJACgpzdGF0aXN0aWNzGAEgASgLMiwuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLkJhc2ViYWxsU3VtbWFyeSKSAwoMVGVhbVN0YW5kaW5nEgoKAmlkGAEgASgEEgwKBG5hbWUYAiABKAkSDQoFYWxpYXMYAyABKAkSDAoEbG9nbxgEIAEoCRIOCgZjb2xvcnMYBSADKAkSDAoEd2lucxgGIAEoBRIOCgZsb3NzZXMYByABKAUSCwoDcGN0GAggASgBEhQKDGdhbWVzX2JlaGluZBgJIAEoBRJACgZzdHJlYWsYCiABKAsyMC5zdHJlYW1sYXllci5zcG9ydHMuYmFzZWJhbGwuVGVhbVN0YW5kaW5nLlN0cmVhaxI8CgRyYW5rGAsgASgLMi4uc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLlRlYW1TdGFuZGluZy5SYW5rEhAKCGRpdmlzaW9uGAwgASgJEhIKCmNvbmZlcmVuY2UYDSABKAkaJgoGU3RyZWFrEg4KBmxvc3NlcxgBIAEoBRIMCgR3aW5zGAIgASgFGiwKBFJhbmsSEAoIZGl2aXNpb24YASABKAUSEgoKY29uZmVyZW5jZRgCIAEoBSJJCglTdGFuZGluZ3MSPAoJc3RhbmRpbmdzGAEgAygLMikuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLlRlYW1TdGFuZGluZypaCg1QaXRjaGVyU3RhdHVzEhgKFFBJVENIRVJfU1RBVFVTX1VOU0VUEAASFgoSUElUQ0hFUl9TVEFUVVNfV0lOEAESFwoTUElUQ0hFUl9TVEFUVVNfTE9TUxACKnMKDEJhc2ViYWxsQmFzZRIXChNCQVNFQkFMTF9CQVNFX1VOU0VUEAASFwoTQkFTRUJBTExfQkFTRV9GSVJTVBABEhgKFEJBU0VCQUxMX0JBU0VfU0VDT05EEAISFwoTQkFTRUJBTExfQkFTRV9USElSRBADQrIBCh9jb20uc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsQh5TdHJlYW1MYXllclNwb3J0c0Jhc2ViYWxsUHJvdG9QAVpkZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9zcG9ydHMvZXZlbnRzL2Jhc2ViYWxsO3NsX2V2ZW50c19iYXNlYmFsbKICBlNMX0FQSWIGcHJvdG8z",[h0]),cie=kt("Ci5zdHJlYW1sYXllci9zcG9ydHMvYmFza2V0YmFsbC9iYXNrZXRiYWxsLnByb3RvEh1zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbCKAAQoKRXZlbnRTY29yZRI4ChBob21lX3RlYW1fcmVjb3JkGAggASgLMh4uc3RyZWFtbGF5ZXIuc3BvcnRzLlRlYW1SZWNvcmQSOAoQYXdheV90ZWFtX3JlY29yZBgJIAEoCzIeLnN0cmVhbWxheWVyLnNwb3J0cy5UZWFtUmVjb3JkIpYBChVCYXNrZXRiYWxsVGVhbVN1bW1hcnkSHQoVZmllbGRfZ29hbF9wZXJjZW50YWdlGAEgASgBEhwKFHRocmVlX3B0c19wZXJjZW50YWdlGAIgASgBEh0KFWZyZWVfdGhyb3dfcGVyY2VudGFnZRgDIAEoARIPCgdhc3Npc3RzGAQgASgFEhAKCHJlYm91bmRzGAUgASgFIkEKE0Jhc2tldGJhbGxQZXJmb3JtZXISDAoEbmFtZRgBIAEoCRINCgVwaG90bxgCIAEoCRINCgVzY29yZRgDIAEoCSL2AQoUQmFza2V0YmFsbFBlcmZvcm1lcnMSTAoIY2F0ZWdvcnkYASABKA4yOi5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5CYXNrZXRiYWxsUGVyZm9ybWVyQ2F0ZWdvcnkSRwoLaG9tZV9wbGF5ZXIYAiABKAsyMi5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5CYXNrZXRiYWxsUGVyZm9ybWVyEkcKC2F3YXlfcGxheWVyGAMgASgLMjIuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2tldGJhbGwuQmFza2V0YmFsbFBlcmZvcm1lciKxAQoRQmFza2V0YmFsbFN1bW1hcnkSTQoPaG9tZV9zdGF0aXN0aWNzGAEgASgLMjQuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2tldGJhbGwuQmFza2V0YmFsbFRlYW1TdW1tYXJ5Ek0KD2F3YXlfc3RhdGlzdGljcxgCIAEoCzI0LnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLkJhc2tldGJhbGxUZWFtU3VtbWFyeSLpAQoMRXZlbnRTdW1tYXJ5EkQKCnN0YXRpc3RpY3MYASABKAsyMC5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5CYXNrZXRiYWxsU3VtbWFyeRJLCg50b3BfcGVyZm9ybWVycxgCIAMoCzIzLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLkJhc2tldGJhbGxQZXJmb3JtZXJzEkYKCmxhc3RfZ2FtZXMYAyABKAsyMi5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5CYXNrZXRiYWxsTGFzdEdhbWVzIt0BCh5CYXNrZXRiYWxsUGxheUJ5UGxheVN0YXRpc3RpY3MSKwoEdGVhbRgBIAEoCzIdLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudFRlYW0SMQoKZXZlbnRfdGltZRgCIAEoCzIdLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudFRpbWUSEgoKc2NvcmVfaG9tZRgDIAEoBRISCgpzY29yZV9hd2F5GAQgASgFEhEKCXBsYXlfdGV4dBgFIAEoCRIPCgdzY29yaW5nGAYgASgIEg8KB3BsYXlfaWQYByABKAUiXwoKUGxheUJ5UGxheRJRCgpzdGF0aXN0aWNzGAEgAygLMj0uc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2tldGJhbGwuQmFza2V0YmFsbFBsYXlCeVBsYXlTdGF0aXN0aWNzIoYBCgxQbGF5ZXJTY29yZXMSDgoGamVyc2V5GAEgASgFEhEKCWZ1bGxfbmFtZRgCIAEoCRIOCgZwb2ludHMYAyABKAUSDwoHYXNzaXN0cxgEIAEoBRIQCghyZWJvdW5kcxgFIAEoBRIPCgdtaW51dGVzGAYgASgBEg8KB3N0YXJ0ZXIYByABKAgikAEKCEJveHNjb3JlEkEKDGhvbWVfcGxheWVycxgBIAMoCzIrLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLlBsYXllclNjb3JlcxJBCgxhd2F5X3BsYXllcnMYAiADKAsyKy5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5QbGF5ZXJTY29yZXMilgMKDFRlYW1TdGFuZGluZxIKCgJpZBgBIAEoBBIMCgRuYW1lGAIgASgJEg0KBWFsaWFzGAMgASgJEgwKBGxvZ28YBCABKAkSDgoGY29sb3JzGAUgAygJEgwKBHdpbnMYBiABKAUSDgoGbG9zc2VzGAcgASgFEgsKA3BjdBgIIAEoARIUCgxnYW1lc19iZWhpbmQYCSABKAUSQgoGc3RyZWFrGAogASgLMjIuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2tldGJhbGwuVGVhbVN0YW5kaW5nLlN0cmVhaxI+CgRyYW5rGAsgASgLMjAuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2tldGJhbGwuVGVhbVN0YW5kaW5nLlJhbmsSEAoIZGl2aXNpb24YDCABKAkSEgoKY29uZmVyZW5jZRgNIAEoCRomCgZTdHJlYWsSDAoEa2luZBgBIAEoCRIOCgZsZW5ndGgYAiABKAUaLAoEUmFuaxIQCghkaXZpc2lvbhgBIAEoBRISCgpjb25mZXJlbmNlGAIgASgFIksKCVN0YW5kaW5ncxI+CglzdGFuZGluZ3MYASADKAsyKy5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5UZWFtU3RhbmRpbmcihQEKFUJhc2tldGJhbGxNYXRjaFBsYXllchISCgpmaXJzdF9uYW1lGAEgASgJEhEKCWxhc3RfbmFtZRgCIAEoCRIUCgxkaXNwbGF5X25hbWUYAyABKAkSDQoFcGhvdG8YBCABKAkSEAoIcG9zaXRpb24YBSABKAkSDgoGamVyc2V5GAYgASgFIq8BChVCYXNrZXRiYWxsTWF0Y2hMaW5ldXASSwoNc3RhcnRfcGxheWVycxgDIAMoCzI0LnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLkJhc2tldGJhbGxNYXRjaFBsYXllchJJCgtzdWJzdGl0dXRlcxgEIAMoCzI0LnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLkJhc2tldGJhbGxNYXRjaFBsYXllciKqAQoWQmFza2V0YmFsbE1hdGNoTGluZXVwcxJHCglob21lX3RlYW0YASABKAsyNC5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5CYXNrZXRiYWxsTWF0Y2hMaW5ldXASRwoJYXdheV90ZWFtGAIgASgLMjQuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2tldGJhbGwuQmFza2V0YmFsbE1hdGNoTGluZXVwIpECChJCYXNrZXRiYWxsTGFzdEdhbWUSCgoCaWQYASABKAQSYgoKYXR0cmlidXRlcxgCIAEoCzJOLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLkJhc2tldGJhbGxMYXN0R2FtZS5CYXNrZXRiYWxsTGFzdEdhbWVBdHRyaWJ1dGVzGooBChxCYXNrZXRiYWxsTGFzdEdhbWVBdHRyaWJ1dGVzEg4KBmxlYWd1ZRgBIAEoCRIRCglob21lX3RlYW0YAiABKAkSEQoJYXdheV90ZWFtGAMgASgJEhIKCmhvbWVfc2NvcmUYBSABKAUSEgoKYXdheV9zY29yZRgGIAEoBRIMCgRkYXRlGAcgASgJIuABChNCYXNrZXRiYWxsTGFzdEdhbWVzEj8KBGhvbWUYASADKAsyMS5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5CYXNrZXRiYWxsTGFzdEdhbWUSPwoEYXdheRgCIAMoCzIxLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLkJhc2tldGJhbGxMYXN0R2FtZRJHCgxoZWFkX3RvX2hlYWQYAyADKAsyMS5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5CYXNrZXRiYWxsTGFzdEdhbWUqxwEKG0Jhc2tldGJhbGxQZXJmb3JtZXJDYXRlZ29yeRInCiNCQVNLRVRCQUxMX1BFUkZPUk1FUl9DQVRFR09SWV9VTlNFVBAAEigKJEJBU0tFVEJBTExfUEVSRk9STUVSX0NBVEVHT1JZX1BPSU5UUxABEioKJkJBU0tFVEJBTExfUEVSRk9STUVSX0NBVEVHT1JZX1JFQk9VTkRTEAISKQolQkFTS0VUQkFMTF9QRVJGT1JNRVJfQ0FURUdPUllfQVNTSVNUUxADQroBCiFjb20uc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2tldGJhbGxCIFN0cmVhbUxheWVyU3BvcnRzQmFza2V0YmFsbFByb3RvUAFaaGdpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvc3BvcnRzL2V2ZW50cy9iYXNrZXRiYWxsO3NsX2V2ZW50c19iYXNrZXRiYWxsogIGU0xfQVBJYgZwcm90bzM",[h0]),uie=kt("CiZzdHJlYW1sYXllci9zcG9ydHMvaG9ja2V5L2hvY2tleS5wcm90bxIZc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleSKAAQoKRXZlbnRTY29yZRI4ChBob21lX3RlYW1fcmVjb3JkGAggASgLMh4uc3RyZWFtbGF5ZXIuc3BvcnRzLlRlYW1SZWNvcmQSOAoQYXdheV90ZWFtX3JlY29yZBgJIAEoCzIeLnN0cmVhbWxheWVyLnNwb3J0cy5UZWFtUmVjb3JkIj0KD0hvY2tleVBlcmZvcm1lchIMCgRuYW1lGAEgASgJEg0KBXBob3RvGAIgASgJEg0KBXNjb3JlGAMgASgFItoBChBIb2NrZXlQZXJmb3JtZXJzEkQKCGNhdGVnb3J5GAEgASgOMjIuc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5Ib2NrZXlQZXJmb3JtZXJDYXRlZ29yeRI/Cgtob21lX3BsYXllchgCIAMoCzIqLnN0cmVhbWxheWVyLnNwb3J0cy5ob2NrZXkuSG9ja2V5UGVyZm9ybWVyEj8KC2F3YXlfcGxheWVyGAMgAygLMiouc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5Ib2NrZXlQZXJmb3JtZXIiqwEKEUhvY2tleVRlYW1TdW1tYXJ5EhUKDXNob3RzX29uX2dvYWwYASABKAUSDwoHZmFjZW9mZhgCIAEoARIRCglwb3dlcnBsYXkYAyABKAUSFwoPcGVuYWx0eV9taW51dGVzGAQgASgFEgwKBGhpdHMYBSABKAUSDgoGYmxvY2tzGAYgASgFEhEKCWdpdmVhd2F5cxgHIAEoBRIRCgl0YWtlYXdheXMYCCABKAUinQEKDUhvY2tleVN1bW1hcnkSRQoPaG9tZV9zdGF0aXN0aWNzGAEgASgLMiwuc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5Ib2NrZXlUZWFtU3VtbWFyeRJFCg9hd2F5X3N0YXRpc3RpY3MYAiABKAsyLC5zdHJlYW1sYXllci5zcG9ydHMuaG9ja2V5LkhvY2tleVRlYW1TdW1tYXJ5IpEBCgxFdmVudFN1bW1hcnkSPAoKc3RhdGlzdGljcxgBIAEoCzIoLnN0cmVhbWxheWVyLnNwb3J0cy5ob2NrZXkuSG9ja2V5U3VtbWFyeRJDCg50b3BfcGVyZm9ybWVycxgCIAMoCzIrLnN0cmVhbWxheWVyLnNwb3J0cy5ob2NrZXkuSG9ja2V5UGVyZm9ybWVycyLZAQoaSG9ja2V5UGxheUJ5UGxheVN0YXRpc3RpY3MSKwoEdGVhbRgBIAEoCzIdLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudFRlYW0SMQoKZXZlbnRfdGltZRgCIAEoCzIdLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudFRpbWUSEgoKc2NvcmVfaG9tZRgDIAEoBRISCgpzY29yZV9hd2F5GAQgASgFEhEKCXBsYXlfdGV4dBgFIAEoCRIPCgdzY29yaW5nGAYgASgIEg8KB3BsYXlfaWQYByABKAUiVwoKUGxheUJ5UGxheRJJCgpzdGF0aXN0aWNzGAEgAygLMjUuc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5Ib2NrZXlQbGF5QnlQbGF5U3RhdGlzdGljcyLMAQoLUGxheWVyU2NvcmUSDgoGamVyc2V5GAEgASgFEhEKCWZ1bGxfbmFtZRgCIAEoCRINCgVnb2FscxgDIAEoBRIPCgdhc3Npc3RzGAQgASgFEg0KBXNob3RzGAUgASgFEhcKD3BlbmFsdHlfbWludXRlcxgGIAEoARIPCgdtaW51dGVzGAcgASgJEkEKCHBvc2l0aW9uGAggASgOMi8uc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5Ib2NrZXlQbGF5ZXJQb3NpdGlvbiLYAQoPR29hbHRlbmRlclNjb3JlEg4KBmplcnNleRgBIAEoBRIRCglmdWxsX25hbWUYAiABKAkSFQoNc2hvdHNfYWdhaW50cxgDIAEoBRIVCg1nb2Fsc19hZ2FpbnRzGAQgASgFEg0KBXNhdmVzGAUgASgFEhEKCXNhdmVzX3BjdBgGIAEoBRIPCgdtaW51dGVzGAcgASgJEkEKCHBvc2l0aW9uGAggASgOMi8uc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5Ib2NrZXlQbGF5ZXJQb3NpdGlvbiK+AgoMUGxheWVyU2NvcmVzEjcKB3NrYXRlcnMYASADKAsyJi5zdHJlYW1sYXllci5zcG9ydHMuaG9ja2V5LlBsYXllclNjb3JlEj4KCmdvYWx0ZW5kZXIYAiABKAsyKi5zdHJlYW1sYXllci5zcG9ydHMuaG9ja2V5LkdvYWx0ZW5kZXJTY29yZRI4Cghmb3J3YXJkcxgDIAMoCzImLnN0cmVhbWxheWVyLnNwb3J0cy5ob2NrZXkuUGxheWVyU2NvcmUSOgoKZGVmZW5zZW1lbhgEIAMoCzImLnN0cmVhbWxheWVyLnNwb3J0cy5ob2NrZXkuUGxheWVyU2NvcmUSPwoLZ29hbHRlbmRlcnMYBSADKAsyKi5zdHJlYW1sYXllci5zcG9ydHMuaG9ja2V5LkdvYWx0ZW5kZXJTY29yZSKIAQoIQm94c2NvcmUSPQoMaG9tZV9wbGF5ZXJzGAEgASgLMicuc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5QbGF5ZXJTY29yZXMSPQoMYXdheV9wbGF5ZXJzGAIgASgLMicuc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5QbGF5ZXJTY29yZXMijgMKDFRlYW1TdGFuZGluZxIKCgJpZBgBIAEoBBIMCgRuYW1lGAIgASgJEg0KBWFsaWFzGAMgASgJEgwKBGxvZ28YBCABKAkSDgoGY29sb3JzGAUgAygJEgwKBHdpbnMYBiABKAUSDgoGbG9zc2VzGAcgASgFEgsKA3BjdBgIIAEoARIUCgxnYW1lc19iZWhpbmQYCSABKAUSPgoGc3RyZWFrGAogASgLMi4uc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5UZWFtU3RhbmRpbmcuU3RyZWFrEjoKBHJhbmsYCyABKAsyLC5zdHJlYW1sYXllci5zcG9ydHMuaG9ja2V5LlRlYW1TdGFuZGluZy5SYW5rEhAKCGRpdmlzaW9uGAwgASgJEhIKCmNvbmZlcmVuY2UYDSABKAkaJgoGU3RyZWFrEgwKBGtpbmQYASABKAkSDgoGbGVuZ3RoGAIgASgFGiwKBFJhbmsSEAoIZGl2aXNpb24YASABKAUSEgoKY29uZmVyZW5jZRgCIAEoBSJHCglTdGFuZGluZ3MSOgoJc3RhbmRpbmdzGAEgAygLMicuc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5UZWFtU3RhbmRpbmcq0QEKF0hvY2tleVBlcmZvcm1lckNhdGVnb3J5EiMKH0hPQ0tFWV9QRVJGT1JNRVJfQ0FURUdPUllfVU5TRVQQABIjCh9IT0NLRVlfUEVSRk9STUVSX0NBVEVHT1JZX0dPQUxTEAESIwofSE9DS0VZX1BFUkZPUk1FUl9DQVRFR09SWV9TSE9UUxACEiIKHkhPQ0tFWV9QRVJGT1JNRVJfQ0FURUdPUllfSElUUxADEiMKH0hPQ0tFWV9QRVJGT1JNRVJfQ0FURUdPUllfU0FWRVMQBCrzAQoUSG9ja2V5UGxheWVyUG9zaXRpb24SIAocSE9DS0VZX1BMQVlFUl9QT1NJVElPTl9VTlNFVBAAEiEKHUhPQ0tFWV9QTEFZRVJfUE9TSVRJT05fQ0VOVEVSEAESJAogSE9DS0VZX1BMQVlFUl9QT1NJVElPTl9MRUZUX1dJTkQQAhIlCiFIT0NLRVlfUExBWUVSX1BPU0lUSU9OX1JJR0hUX1dJTkcQAxIiCh5IT0NLRVlfUExBWUVSX1BPU0lUSU9OX0RFRkVOU0UQBBIlCiFIT0NLRVlfUExBWUVSX1BPU0lUSU9OX0dPQUxURU5ERVIQBUKqAQodY29tLnN0cmVhbWxheWVyLnNwb3J0cy5ob2NrZXlCHFN0cmVhbUxheWVyU3BvcnRzSG9ja2V5UHJvdG9QAVpgZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9zcG9ydHMvZXZlbnRzL2hvY2tleTtzbF9ldmVudHNfaG9ja2V5ogIGU0xfQVBJYgZwcm90bzM",[h0]),die=kt("CiZzdHJlYW1sYXllci9zcG9ydHMvc29jY2VyL3NvY2Nlci5wcm90bxIZc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2NlciKAAQoKRXZlbnRTY29yZRI4ChBob21lX3RlYW1fcmVjb3JkGAggASgLMh4uc3RyZWFtbGF5ZXIuc3BvcnRzLlRlYW1SZWNvcmQSOAoQYXdheV90ZWFtX3JlY29yZBgJIAEoCzIeLnN0cmVhbWxheWVyLnNwb3J0cy5UZWFtUmVjb3JkIj0KD1NvY2NlclBlcmZvcm1lchIMCgRuYW1lGAEgASgJEg0KBXBob3RvGAIgASgJEg0KBXNjb3JlGAMgASgFIqEBChRTb2NjZXJBdHRhY2tQZXJmb21lchI8CghwZXJmb21lchgBIAEoCzIqLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyUGVyZm9ybWVyEksKDGF0dGFja19zdGF0cxgCIAEoCzI1LnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyUGxheWVyQXR0YWNraW5nU3RhdHMipQEKF1NvY2Nlck1pZGZpZWxkUGVyZm9ybWVyEjwKCHBlcmZvbWVyGAEgASgLMiouc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJQZXJmb3JtZXISTAoObWlkZmllbGRfc3RhdHMYAiABKAsyNC5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2NlclBsYXllck1pZGZpZWxkU3RhdHMioQEKFVNvY2NlckRlZmVuc2VQZXJmb21lchI8CghwZXJmb21lchgBIAEoCzIqLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyUGVyZm9ybWVyEkoKDWRlZmVuc2Vfc3RhdHMYAiABKAsyMy5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2NlclBsYXllckRlZmVuc2VTdGF0cyLAAgoQU29jY2VyUGVyZm9ybWVycxJECghjYXRlZ29yeRgBIAEoDjIyLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyUGVyZm9ybWVyQ2F0ZWdvcnkSSQoQYXR0YWNrX3BlcmZvcm1lchgCIAEoCzIvLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyQXR0YWNrUGVyZm9tZXISTgoSbWlkZmllbGRfcGVyZm9ybWVyGAMgASgLMjIuc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJNaWRmaWVsZFBlcmZvcm1lchJLChFkZWZlbnNlX3BlcmZvcm1lchgEIAEoCzIwLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyRGVmZW5zZVBlcmZvbWVyIsoBChdTb2NjZXJUZWFtVG9wTWF0Y2hTdGF0cxISCgpwb3NzZXNzaW9uGAEgASgBEg0KBXNob3RzGAIgASgFEhcKD3Nob3RzX29uX3RhcmdldBgDIAEoBRIOCgZwYXNzZXMYBCABKAUSEAoIb2Zmc2lkZXMYBSABKAUSFAoMeWVsbG93X2NhcmRzGAYgASgFEhQKDGNvcm5lcl9raWNrcxgHIAEoBRISCgpmcmVlX2tpY2tzGAggASgFEhEKCXJlZF9jYXJkcxgJIAEoBSJ9ChhTb2NjZXJUZWFtQXR0YWNraW5nU3RhdHMSEgoKcG9zc2Vzc2lvbhgBIAEoARIYChBwYXNzaW5nX2FjY3VyYWN5GAIgASgBEhcKD2NoYW5jZXNfY3JlYXRlZBgDIAEoBRIaChJzdWNjZXNzZnVsX2Nyb3NzZXMYBCABKAEigwEKFlNvY2NlclRlYW1EZWZlbnNlU3RhdHMSFAoMdGFja2xlc19tYWRlGAEgASgFEhUKDWludGVyY2VwdGlvbnMYAiABKAUSFQoNYmxvY2tlZF9zaG90cxgDIAEoBRISCgpjbGVhcmFuY2VzGAQgASgFEhEKCWR1ZWxzX3dvbhgFIAEoBSL4AQoRU29jY2VyVGVhbVN1bW1hcnkSSwoPdG9wX21hdGNoX3N0YXRzGAEgASgLMjIuc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJUZWFtVG9wTWF0Y2hTdGF0cxJMCg9hdHRhY2tpbmdfc3RhdHMYAiABKAsyMy5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2NlclRlYW1BdHRhY2tpbmdTdGF0cxJICg1kZWZlbnNlX3N0YXRzGAMgASgLMjEuc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJUZWFtRGVmZW5zZVN0YXRzIt0BCg1Tb2NjZXJTdW1tYXJ5EkUKD2hvbWVfc3RhdGlzdGljcxgBIAEoCzIsLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyVGVhbVN1bW1hcnkSRQoPYXdheV9zdGF0aXN0aWNzGAIgASgLMiwuc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJUZWFtU3VtbWFyeRI+CglwZXJmb21lcnMYAyABKAsyKy5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2NlclBlcmZvcm1lcnMijAEKDEV2ZW50U3VtbWFyeRI8CgpzdGF0aXN0aWNzGAEgASgLMiguc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJTdW1tYXJ5Ej4KCmxhc3RfZ2FtZXMYAiABKAsyKi5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2Nlckxhc3RHYW1lcyJ+ChpTb2NjZXJQbGF5ZXJBdHRhY2tpbmdTdGF0cxINCgVnb2FscxgBIAEoBRIPCgdhc3Npc3RzGAIgASgFEg0KBXNob3RzGAMgASgFEhUKDXNob3RzX29uX2dvYWwYBCABKAUSGgoScGVuYWx0eV9raWNrX2dvYWxzGAUgASgFInEKGVNvY2NlclBsYXllck1pZGZpZWxkU3RhdHMSDQoFZ29hbHMYASABKAUSDwoHYXNzaXN0cxgCIAEoBRISCgprZXlfcGFzc2VzGAMgASgFEg8KB2Nyb3NzZXMYBCABKAUSDwoHY29ybmVycxgFIAEoBSJ+ChhTb2NjZXJQbGF5ZXJEZWZlbnNlU3RhdHMSDQoFZ29hbHMYASABKAUSDwoHYXNzaXN0cxgCIAEoBRIUCgx0YWNrbGVzX21hZGUYAyABKAUSFQoNaW50ZXJjZXB0aW9ucxgEIAEoBRIVCg1ibG9ja2VkX3Nob3RzGAUgASgFIk0KD1NvY2Nlck1hdGNoT2RkcxIVCg1ob21lX3RlYW1fd2luGAEgASgBEgwKBGRyYXcYAiABKAESFQoNYXdheV90ZWFtX3dpbhgDIAEoASJdCiBTb2NjZXJNYXRjaEZvcm1hdGlvbk1hdHJpeFBsYXllchIVCg1qZXJzZXlfbnVtYmVyGAEgASgFEhMKC3BsYXllcl9uYW1lGAIgASgJEg0KBXBob3RvGAMgASgJIm4KGlNvY2Nlck1hdGNoRm9ybWF0aW9uTWF0cml4ElAKC3Jvd19wbGF5ZXJzGAEgAygLMjsuc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJNYXRjaEZvcm1hdGlvbk1hdHJpeFBsYXllciKBAQoRU29jY2VyTWF0Y2hQbGF5ZXISEgoKZmlyc3RfbmFtZRgBIAEoCRIRCglsYXN0X25hbWUYAiABKAkSFAoMZGlzcGxheV9uYW1lGAMgASgJEg0KBXBob3RvGAQgASgJEhAKCHBvc2l0aW9uGAUgASgJEg4KBmplcnNleRgGIAEoBSKGAgoRU29jY2VyTWF0Y2hMaW5ldXASGAoQZm9ybWF0aW9uX3N0cmluZxgBIAEoCRJPChBmb3JtYXRpb25fbWF0cml4GAIgAygLMjUuc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJNYXRjaEZvcm1hdGlvbk1hdHJpeBJDCg1zdGFydF9wbGF5ZXJzGAMgAygLMiwuc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJNYXRjaFBsYXllchJBCgtzdWJzdGl0dXRlcxgEIAMoCzIsLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyTWF0Y2hQbGF5ZXIilgEKElNvY2Nlck1hdGNoTGluZXVwcxI/Cglob21lX3RlYW0YASABKAsyLC5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2Nlck1hdGNoTGluZXVwEj8KCWF3YXlfdGVhbRgCIAEoCzIsLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyTWF0Y2hMaW5ldXAiUgoQU29jY2VyTWF0Y2hTY29yZRIQCghldmVudF9pZBgBIAEoBBILCgNtaWwYAiABKAESDQoFcm91bmQYAyABKAkSEAoIbGl2ZV91cmwYBCABKAkimwIKGlNvY2NlclBsYXlCeVBsYXlTdGF0aXN0aWNzEisKBHRlYW0YASABKAsyHS5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRUZWFtEjEKCmV2ZW50X3RpbWUYAiABKAsyHS5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRUaW1lEhIKCnNjb3JlX2hvbWUYAyABKAUSEgoKc2NvcmVfYXdheRgEIAEoBRIRCglwbGF5X3RleHQYBSABKAkSDwoHc2NvcmluZxgGIAEoCBIPCgdwbGF5X2lkGAcgASgFEkAKBHR5cGUYCCABKA4yMi5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2Nlck1hdGNoQWN0aXZpdHlUeXBlIlcKClBsYXlCeVBsYXkSSQoKc3RhdGlzdGljcxgBIAMoCzI1LnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyUGxheUJ5UGxheVN0YXRpc3RpY3Mi/wEKDFRlYW1TdGFuZGluZxIKCgJpZBgBIAEoBBIMCgRuYW1lGAIgASgJEg0KBWFsaWFzGAMgASgJEgwKBGxvZ28YBCABKAkSDgoGY29sb3JzGAUgAygJEgwKBHdpbnMYBiABKAUSDgoGbG9zc2VzGAcgASgFEg0KBWRyYXdzGAggASgFEhQKDGdhbWVzX2JlaGluZBgJIAEoBRIQCghkaXZpc2lvbhgMIAEoCRIOCgZwb2ludHMYDSABKAUSEAoIcG9zaXRpb24YDiABKAUSEwoLdG90YWxfZ29hbHMYDyABKAUSHAoUdG90YWxfZ29hbHNfcmVjZWl2ZWQYECABKAUiRwoJU3RhbmRpbmdzEjoKCXN0YW5kaW5ncxgBIAMoCzInLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuVGVhbVN0YW5kaW5nIv0BCg5Tb2NjZXJMYXN0R2FtZRIKCgJpZBgBIAEoBBJWCgphdHRyaWJ1dGVzGAIgASgLMkIuc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5Tb2NjZXJMYXN0R2FtZS5Tb2NjZXJMYXN0R2FtZUF0dHJpYnV0ZXMahgEKGFNvY2Nlckxhc3RHYW1lQXR0cmlidXRlcxIOCgZsZWFndWUYASABKAkSEQoJaG9tZV90ZWFtGAIgASgJEhEKCWF3YXlfdGVhbRgDIAEoCRISCgpob21lX3Njb3JlGAUgASgFEhIKCmF3YXlfc2NvcmUYBiABKAUSDAoEZGF0ZRgHIAEoCSLEAQoPU29jY2VyTGFzdEdhbWVzEjcKBGhvbWUYASADKAsyKS5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2Nlckxhc3RHYW1lEjcKBGF3YXkYAiADKAsyKS5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2Nlckxhc3RHYW1lEj8KDGhlYWRfdG9faGVhZBgDIAMoCzIpLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyTGFzdEdhbWUqswEKF1NvY2NlclBlcmZvcm1lckNhdGVnb3J5EiMKH1NPQ0NFUl9QRVJGT1JNRVJfQ0FURUdPUllfVU5TRVQQABIkCiBTT0NDRVJfUEVSRk9STUVSX0NBVEVHT1JZX0FUVEFDSxABEiYKIlNPQ0NFUl9QRVJGT1JNRVJfQ0FURUdPUllfTUlERklFTEQQAhIlCiFTT0NDRVJfUEVSRk9STUVSX0NBVEVHT1JZX0RFRkVOU0UQAyqXAgoXU29jY2VyTWF0Y2hBY3Rpdml0eVR5cGUSHwobU09DQ0VSX01BVENIX0FDVElWSVRZX1VOU0VUEAASHgoaU09DQ0VSX01BVENIX0FDVElWSVRZX0dPQUwQARIlCiFTT0NDRVJfTUFUQ0hfQUNUSVZJVFlfWUVMTE9XX0NBUkQQAhIiCh5TT0NDRVJfTUFUQ0hfQUNUSVZJVFlfUkVEX0NBUkQQAxImCiJTT0NDRVJfTUFUQ0hfQUNUSVZJVFlfU1VCU1RJVFVUSU9OEAQSIwofU09DQ0VSX01BVENIX0FDVElWSVRZX0hBTEZfVElNRRAFEiMKH1NPQ0NFUl9NQVRDSF9BQ1RJVklUWV9GVUxMX1RJTUUQBkKqAQodY29tLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXJCHFN0cmVhbUxheWVyU3BvcnRzU29jY2VyUHJvdG9QAVpgZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9zcG9ydHMvZXZlbnRzL3NvY2NlcjtzbF9ldmVudHNfc29jY2VyogIGU0xfQVBJYgZwcm90bzM",[h0]),hie=kt("CiZzdHJlYW1sYXllci9zcG9ydHMvZXZlbnRzL2V2ZW50cy5wcm90bxIZc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cyLAAgoSU2NoZWR1bGVBdHRyaWJ1dGVzEjEKB3N1bW1hcnkYASABKAsyIC5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRTdW1tYXJ5EjsKCGJhc2ViYWxsGAIgASgLMicuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLkV2ZW50U2NvcmVIABI/CgpiYXNrZXRiYWxsGAMgASgLMikuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2tldGJhbGwuRXZlbnRTY29yZUgAEjcKBmhvY2tleRgEIAEoCzIlLnN0cmVhbWxheWVyLnNwb3J0cy5ob2NrZXkuRXZlbnRTY29yZUgAEjcKBnNvY2NlchgFIAEoCzIlLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuRXZlbnRTY29yZUgAQgcKBXNwb3J0IpkBChRTY2hlZHVsZVJlc3BvbnNlRGF0YRIKCgJpZBgBIAEoBBIyCgR0eXBlGAIgASgOMiQuc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5FdmVudFR5cGUSQQoKYXR0cmlidXRlcxgDIAEoCzItLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuU2NoZWR1bGVBdHRyaWJ1dGVzIkcKFkxpc3RSZXNwb25zZUF0dHJpYnV0ZXMSLQoGY29tbW9uGAEgASgLMh0uc3RyZWFtbGF5ZXIuc3BvcnRzLkV2ZW50RGF0YSJlChBMaXN0UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgEEkUKCmF0dHJpYnV0ZXMYAiABKAsyMS5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkxpc3RSZXNwb25zZUF0dHJpYnV0ZXMi9wIKC0xpc3RSZXF1ZXN0Ej0KBmZpbHRlchgBIAEoCzItLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuTGlzdFJlcXVlc3QuRmlsdGVyEjIKCnBhZ2luYXRpb24YAiABKAsyHi5zdHJlYW1sYXllci5zcG9ydHMuUGFnaW5hdGlvbhImCgRzb3J0GAMgASgLMhguc3RyZWFtbGF5ZXIuc3BvcnRzLlNvcnQSCwoDaWRzGAQgAygEEhcKD29yZ2FuaXphdGlvbl9pZBgFIAEoCRqmAQoGRmlsdGVyEgwKBGRhdGUYASABKAkSDgoGbGVhZ3VlGAIgASgJEhcKD3N0YXJ0X2RhdGVfdGltZRgDIAEoCRIVCg1lbmRfZGF0ZV90aW1lGAQgASgJEg0KBXNwb3J0GAUgASgJEgwKBG5hbWUYBiABKAkSMQoHZW5kbGVzcxgHIAEoDjIgLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudEVuZGxlc3Mi2AEKD0RlbW9MaXN0UmVxdWVzdBJBCgZmaWx0ZXIYASABKAsyMS5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkRlbW9MaXN0UmVxdWVzdC5GaWx0ZXISMgoKcGFnaW5hdGlvbhgCIAEoCzIeLnN0cmVhbWxheWVyLnNwb3J0cy5QYWdpbmF0aW9uEiYKBHNvcnQYAyABKAsyGC5zdHJlYW1sYXllci5zcG9ydHMuU29ydBomCgZGaWx0ZXISDAoEZGF0ZRgBIAEoCRIOCgZsZWFndWUYAiABKAkidQoQRGVtb0xpc3RSZXNwb25zZRImCgRtZXRhGAEgASgLMhguc3RyZWFtbGF5ZXIuc3BvcnRzLk1ldGESOQoEZGF0YRgCIAMoCzIrLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuTGlzdFJlc3BvbnNlRGF0YSJxCgxMaXN0UmVzcG9uc2USJgoEbWV0YRgBIAEoCzIYLnN0cmVhbWxheWVyLnNwb3J0cy5NZXRhEjkKBGRhdGEYAiADKAsyKy5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkxpc3RSZXNwb25zZURhdGEiNQoOU3VtbWFyeVJlcXVlc3QSCgoCaWQYASABKAQSFwoPb3JnYW5pemF0aW9uX2lkGAIgASgJIuMECg9TdW1tYXJ5UmVzcG9uc2USRQoEZGF0YRgBIAEoCzI3LnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuU3VtbWFyeVJlc3BvbnNlLlJlc3BvbnNlRGF0YRqIBAoMUmVzcG9uc2VEYXRhEgoKAmlkGAEgASgEEjIKBHR5cGUYAiABKA4yJC5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkV2ZW50VHlwZRJlCgphdHRyaWJ1dGVzGAMgASgLMlEuc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5TdW1tYXJ5UmVzcG9uc2UuUmVzcG9uc2VEYXRhLlN1bW1hcnlSZXNwb25zZUF0dHJpYnV0ZXMa0AIKGVN1bW1hcnlSZXNwb25zZUF0dHJpYnV0ZXMSMQoHc3VtbWFyeRgBIAEoCzIgLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudFN1bW1hcnkSPQoIYmFzZWJhbGwYAiABKAsyKS5zdHJlYW1sYXllci5zcG9ydHMuYmFzZWJhbGwuRXZlbnRTdW1tYXJ5SAASQQoKYmFza2V0YmFsbBgDIAEoCzIrLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLkV2ZW50U3VtbWFyeUgAEjkKBmhvY2tleRgEIAEoCzInLnN0cmVhbWxheWVyLnNwb3J0cy5ob2NrZXkuRXZlbnRTdW1tYXJ5SAASOQoGc29jY2VyGAUgASgLMicuc3RyZWFtbGF5ZXIuc3BvcnRzLnNvY2Nlci5FdmVudFN1bW1hcnlIAEIICgZzcG9ydHMiOgoTQWRtaW5TdW1tYXJ5UmVxdWVzdBIKCgJpZBgBIAEoBBIXCg9vcmdhbml6YXRpb25faWQYAiABKAki0wQKFEFkbWluU3VtbWFyeVJlc3BvbnNlEkoKBGRhdGEYASABKAsyPC5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkFkbWluU3VtbWFyeVJlc3BvbnNlLlJlc3BvbnNlRGF0YRruAwoMUmVzcG9uc2VEYXRhEgoKAmlkGAEgASgEEmoKCmF0dHJpYnV0ZXMYAiABKAsyVi5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkFkbWluU3VtbWFyeVJlc3BvbnNlLlJlc3BvbnNlRGF0YS5TdW1tYXJ5UmVzcG9uc2VBdHRyaWJ1dGVzGuUCChlTdW1tYXJ5UmVzcG9uc2VBdHRyaWJ1dGVzEjEKB3N1bW1hcnkYASABKAsyIC5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRTdW1tYXJ5EhMKC3Byb3ZpZGVyX2lkGAIgASgJEj0KCGJhc2ViYWxsGAMgASgLMikuc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2ViYWxsLkV2ZW50U3VtbWFyeUgAEkEKCmJhc2tldGJhbGwYBCABKAsyKy5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5FdmVudFN1bW1hcnlIABI5CgZob2NrZXkYBSABKAsyJy5zdHJlYW1sYXllci5zcG9ydHMuaG9ja2V5LkV2ZW50U3VtbWFyeUgAEjkKBnNvY2NlchgGIAEoCzInLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuRXZlbnRTdW1tYXJ5SABCCAoGc3BvcnRzImIKEVBsYXlCeVBsYXlSZXF1ZXN0EgoKAmlkGAEgASgEEjIKCnBhZ2luYXRpb24YAiABKAsyHi5zdHJlYW1sYXllci5zcG9ydHMuUGFnaW5hdGlvbhINCgVvcmRlchgDIAEoCSKSBQoSUGxheUJ5UGxheVJlc3BvbnNlEkgKBGRhdGEYASABKAsyOi5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlBsYXlCeVBsYXlSZXNwb25zZS5SZXNwb25zZURhdGESJgoEbWV0YRgCIAEoCzIYLnN0cmVhbWxheWVyLnNwb3J0cy5NZXRhGokECgxSZXNwb25zZURhdGESCgoCaWQYASABKAQSMgoEdHlwZRgCIAEoDjIkLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuRXZlbnRUeXBlEmsKCmF0dHJpYnV0ZXMYAyABKAsyVy5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlBsYXlCeVBsYXlSZXNwb25zZS5SZXNwb25zZURhdGEuUGxheUJ5UGxheVJlc3BvbnNlQXR0cmlidXRlcxrLAgocUGxheUJ5UGxheVJlc3BvbnNlQXR0cmlidXRlcxIxCgdzdW1tYXJ5GAEgASgLMiAuc3RyZWFtbGF5ZXIuc3BvcnRzLkV2ZW50U3VtbWFyeRI7CghiYXNlYmFsbBgCIAEoCzInLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNlYmFsbC5QbGF5QnlQbGF5SAASPwoKYmFza2V0YmFsbBgDIAEoCzIpLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLlBsYXlCeVBsYXlIABI3CgZob2NrZXkYBCABKAsyJS5zdHJlYW1sYXllci5zcG9ydHMuaG9ja2V5LlBsYXlCeVBsYXlIABI3CgZzb2NjZXIYBSABKAsyJS5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlBsYXlCeVBsYXlIAEIICgZzcG9ydHMisAEKD1NjaGVkdWxlUmVxdWVzdBJBCgZmaWx0ZXIYASABKAsyMS5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlNjaGVkdWxlUmVxdWVzdC5GaWx0ZXISMgoKcGFnaW5hdGlvbhgCIAEoCzIeLnN0cmVhbWxheWVyLnNwb3J0cy5QYWdpbmF0aW9uGiYKBkZpbHRlchIMCgRkYXRlGAEgASgJEg4KBmxlYWd1ZRgCIAEoCSJ5ChBTY2hlZHVsZVJlc3BvbnNlEj0KBGRhdGEYASADKAsyLy5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlNjaGVkdWxlUmVzcG9uc2VEYXRhEiYKBG1ldGEYAiABKAsyGC5zdHJlYW1sYXllci5zcG9ydHMuTWV0YSJ4ChRTY2hlZHVsZURhdGVzUmVxdWVzdBJGCgZmaWx0ZXIYASABKAsyNi5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlNjaGVkdWxlRGF0ZXNSZXF1ZXN0LkZpbHRlchoYCgZGaWx0ZXISDgoGbGVhZ3VlGAIgASgJIiUKFVNjaGVkdWxlRGF0ZXNSZXNwb25zZRIMCgRkYXRhGAEgAygJIh0KD0JveHNjb3JlUmVxdWVzdBIKCgJpZBgBIAEoBCLmAwoQQm94c2NvcmVSZXNwb25zZRJGCgRkYXRhGAEgASgLMjguc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5Cb3hzY29yZVJlc3BvbnNlLlJlc3BvbnNlRGF0YRqJAwoMUmVzcG9uc2VEYXRhEgoKAmlkGAEgASgEEjIKBHR5cGUYAiABKA4yJC5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkV2ZW50VHlwZRJnCgphdHRyaWJ1dGVzGAMgASgLMlMuc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5Cb3hzY29yZVJlc3BvbnNlLlJlc3BvbnNlRGF0YS5Cb3hzY29yZVJlc3BvbnNlQXR0cmlidXRlcxrPAQoaQm94c2NvcmVSZXNwb25zZUF0dHJpYnV0ZXMSMQoHc3VtbWFyeRgBIAEoCzIgLnN0cmVhbWxheWVyLnNwb3J0cy5FdmVudFN1bW1hcnkSPQoKYmFza2V0YmFsbBgCIAEoCzInLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLkJveHNjb3JlSAASNQoGaG9ja2V5GAMgASgLMiMuc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5Cb3hzY29yZUgAQggKBnNwb3J0cyIiChBTdGFuZGluZ3NSZXF1ZXN0Eg4KBmxlYWd1ZRgBIAEoCSKiBAoRU3RhbmRpbmdzUmVzcG9uc2USRwoEZGF0YRgBIAEoCzI5LnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuU3RhbmRpbmdzUmVzcG9uc2UuUmVzcG9uc2VEYXRhGsMDCgxSZXNwb25zZURhdGESMgoEdHlwZRgBIAEoDjIkLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuRXZlbnRUeXBlEmkKCmF0dHJpYnV0ZXMYAiABKAsyVS5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlN0YW5kaW5nc1Jlc3BvbnNlLlJlc3BvbnNlRGF0YS5TdGFuZGluZ3NSZXNwb25zZUF0dHJpYnV0ZXMakwIKG1N0YW5kaW5nc1Jlc3BvbnNlQXR0cmlidXRlcxI+CgpiYXNrZXRiYWxsGAIgASgLMiguc3RyZWFtbGF5ZXIuc3BvcnRzLmJhc2tldGJhbGwuU3RhbmRpbmdzSAASNgoGaG9ja2V5GAMgASgLMiQuc3RyZWFtbGF5ZXIuc3BvcnRzLmhvY2tleS5TdGFuZGluZ3NIABI6CghiYXNlYmFsbBgEIAEoCzImLnN0cmVhbWxheWVyLnNwb3J0cy5iYXNlYmFsbC5TdGFuZGluZ3NIABI2CgZzb2NjZXIYBSABKAsyJC5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlN0YW5kaW5nc0gAQggKBnNwb3J0cyIbCg1MaW5ldXBSZXF1ZXN0EgoKAmlkGAEgASgEIvQDCg5MaW5ldXBSZXNwb25zZRJECgRkYXRhGAEgASgLMjYuc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5MaW5ldXBSZXNwb25zZS5SZXNwb25zZURhdGEamwMKDFJlc3BvbnNlRGF0YRIKCgJpZBgBIAEoBBIyCgR0eXBlGAIgASgOMiQuc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5FdmVudFR5cGUSYwoKYXR0cmlidXRlcxgDIAEoCzJPLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuTGluZXVwUmVzcG9uc2UuUmVzcG9uc2VEYXRhLkxpbmV1cFJlc3BvbnNlQXR0cmlidXRlcxrlAQoYTGluZXVwUmVzcG9uc2VBdHRyaWJ1dGVzEjEKB3N1bW1hcnkYASABKAsyIC5zdHJlYW1sYXllci5zcG9ydHMuRXZlbnRTdW1tYXJ5Ej8KBnNvY2NlchgCIAEoCzItLnN0cmVhbWxheWVyLnNwb3J0cy5zb2NjZXIuU29jY2VyTWF0Y2hMaW5ldXBzSAASSwoKYmFza2V0YmFsbBgDIAEoCzI1LnN0cmVhbWxheWVyLnNwb3J0cy5iYXNrZXRiYWxsLkJhc2tldGJhbGxNYXRjaExpbmV1cHNIAEIICgZzcG9ydHMiHgoQTGFzdEdhbWVzUmVxdWVzdBIKCgJpZBgBIAEoBCL9AwoRTGFzdEdhbWVzUmVzcG9uc2USRwoEZGF0YRgBIAEoCzI5LnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuTGFzdEdhbWVzUmVzcG9uc2UuUmVzcG9uc2VEYXRhGp4DCgxSZXNwb25zZURhdGESCgoCaWQYASABKAQSMgoEdHlwZRgCIAEoDjIkLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuRXZlbnRUeXBlEmkKCmF0dHJpYnV0ZXMYAyABKAsyVS5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkxhc3RHYW1lc1Jlc3BvbnNlLlJlc3BvbnNlRGF0YS5MYXN0R2FtZXNSZXNwb25zZUF0dHJpYnV0ZXMa4gEKG0xhc3RHYW1lc1Jlc3BvbnNlQXR0cmlidXRlcxIxCgdzdW1tYXJ5GAEgASgLMiAuc3RyZWFtbGF5ZXIuc3BvcnRzLkV2ZW50U3VtbWFyeRI8CgZzb2NjZXIYAiABKAsyKi5zdHJlYW1sYXllci5zcG9ydHMuc29jY2VyLlNvY2Nlckxhc3RHYW1lc0gAEkgKCmJhc2tldGJhbGwYAyABKAsyMi5zdHJlYW1sYXllci5zcG9ydHMuYmFza2V0YmFsbC5CYXNrZXRiYWxsTGFzdEdhbWVzSABCCAoGc3BvcnRzIiQKFlJldHJpZXZlRXZlbnRJZFJlcXVlc3QSCgoCaWQYASABKAkiogEKF1JldHJpZXZlRXZlbnRJZFJlc3BvbnNlElwKBGRhdGEYASABKAsyTi5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlJldHJpZXZlRXZlbnRJZFJlc3BvbnNlLlJldHJpZXZlRXZlbnRJZFJlc3BvbnNlRGF0YRopChtSZXRyaWV2ZUV2ZW50SWRSZXNwb25zZURhdGESCgoCaWQYASABKAQqmAEKCUV2ZW50VHlwZRIUChBFVkVOVF9UWVBFX1VOU0VUEAASFwoTRVZFTlRfVFlQRV9CQVNFQkFMTBABEhkKFUVWRU5UX1RZUEVfQkFTS0VUQkFMTBACEhUKEUVWRU5UX1RZUEVfSE9DS0VZEAMSFQoRRVZFTlRfVFlQRV9TT0NDRVIQBBITCg9FVkVOVF9UWVBFX0dPTEYQBTLzDAoGRXZlbnRzEmkKBExpc3QSJi5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkxpc3RSZXF1ZXN0Gicuc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5MaXN0UmVzcG9uc2UiEIqmHQRsaXN0oKYdAqimHQEScQoIRGVtb0xpc3QSKi5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkRlbW9MaXN0UmVxdWVzdBorLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuRGVtb0xpc3RSZXNwb25zZSIMiqYdBGxpc3Soph0CEnEKB1N1bW1hcnkSKS5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlN1bW1hcnlSZXF1ZXN0Giouc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5TdW1tYXJ5UmVzcG9uc2UiD4qmHQdzdW1tYXJ5qKYdAhKEAQoMQWRtaW5TdW1tYXJ5Ei4uc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5BZG1pblN1bW1hcnlSZXF1ZXN0Gi8uc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5BZG1pblN1bW1hcnlSZXNwb25zZSITiqYdB3N1bW1hcnmgph0CqKYdARJ1CghCb3hzY29yZRIqLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuQm94c2NvcmVSZXF1ZXN0Gisuc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5Cb3hzY29yZVJlc3BvbnNlIhCKph0IYm94c2NvcmWoph0CEnkKCVN0YW5kaW5ncxIrLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuU3RhbmRpbmdzUmVxdWVzdBosLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuU3RhbmRpbmdzUmVzcG9uc2UiEYqmHQlzdGFuZGluZ3Ooph0CEn0KClBsYXlCeVBsYXkSLC5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlBsYXlCeVBsYXlSZXF1ZXN0Gi0uc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5QbGF5QnlQbGF5UmVzcG9uc2UiEoqmHQpwbGF5QnlQbGF5qKYdAhJ1CghTY2hlZHVsZRIqLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuU2NoZWR1bGVSZXF1ZXN0Gisuc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5TY2hlZHVsZVJlc3BvbnNlIhCKph0Ic2NoZWR1bGWoph0CEokBCg1TY2hlZHVsZURhdGVzEi8uc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5TY2hlZHVsZURhdGVzUmVxdWVzdBowLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuU2NoZWR1bGVEYXRlc1Jlc3BvbnNlIhWKph0Nc2NoZWR1bGVEYXRlc6imHQISbQoGTGluZXVwEiguc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5MaW5ldXBSZXF1ZXN0Gikuc3RyZWFtbGF5ZXIuc3BvcnRzLmV2ZW50cy5MaW5ldXBSZXNwb25zZSIOiqYdBmxpbmV1cKimHQISjAEKD1JldHJpZXZlRXZlbnRJZBIxLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuUmV0cmlldmVFdmVudElkUmVxdWVzdBoyLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuUmV0cmlldmVFdmVudElkUmVzcG9uc2UiEoqmHQpyZXRyaWV2ZUlkqKYdAhJ5CglMYXN0R2FtZXMSKy5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkxhc3RHYW1lc1JlcXVlc3QaLC5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLkxhc3RHYW1lc1Jlc3BvbnNlIhGKph0JbGFzdEdhbWVzqKYdAhKQAQoTU3VtbWFyeVN1YnNjcmlwdGlvbhIpLnN0cmVhbWxheWVyLnNwb3J0cy5ldmVudHMuU3VtbWFyeVJlcXVlc3QaKi5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzLlN1bW1hcnlSZXNwb25zZSIgiqYdFHN1YnNjcmlwdGlvbi5zdW1tYXJ5kKYdApimHQIwARoRirUYDXNwb3J0cy5ldmVudHNCnAEKHWNvbS5zdHJlYW1sYXllci5zcG9ydHMuZXZlbnRzQhxTdHJlYW1MYXllclNwb3J0c0V2ZW50c1Byb3RvUAFaUmdpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvc3BvcnRzL2V2ZW50cztzbF9ldmVudHOiAgZTTF9BUEliBnByb3RvMw",[ya,h0,lie,cie,uie,die]),TG=El(hie,0),fie=kt("CitzdHJlYW1sYXllci9zZGtTZXR0aW5ncy9jbGllbnQvY2xpZW50LnByb3RvEh5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQiTgoOTm90aWZ5U2V0dGluZ3MSPAoFYWxsb3cYASABKA4yLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuU2V0dGluZ3NBbGxvdyJNCg1Tb3VuZFNldHRpbmdzEjwKBWFsbG93GAEgASgOMi0uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LlNldHRpbmdzQWxsb3cimwEKG0NsaWVudFNldHRpbmdzTm90aWZpY2F0aW9ucxI+CgZub3RpZnkYASABKAsyLi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuTm90aWZ5U2V0dGluZ3MSPAoFc291bmQYAiABKAsyLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuU291bmRTZXR0aW5ncyLHBgoOQ2xpZW50U2V0dGluZ3MSRQoOdmlzaWJsZV9zdGF0dXMYASABKA4yLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuVmlzaWJsZVN0YXR1cxJHCg9tZXNzYWdlc19ub3RpZnkYAiABKA4yLi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuTWVzc2FnZXNOb3RpZnkSRQoOZnJpZW5kc19ub3RpZnkYAyABKA4yLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuRnJpZW5kc05vdGlmeRI/CgtjYWxsc19zb3VuZBgEIAEoDjIqLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5DYWxsc1NvdW5kEkUKDm1lc3NhZ2VzX3NvdW5kGAUgASgOMi0uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50Lk1lc3NhZ2VzU291bmQSQwoNZnJpZW5kc19zb3VuZBgGIAEoDjIsLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5GcmllbmRzU291bmQSRQoOdHdpdHRlcl9ub3RpZnkYByABKA4yLS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuVHdpdHRlck5vdGlmeRJDCg10d2l0dGVyX3NvdW5kGAggASgOMiwuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LlR3aXR0ZXJTb3VuZBJRCgxnYW1pZmljYXRpb24YCSABKAsyOy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuQ2xpZW50U2V0dGluZ3NOb3RpZmljYXRpb25zElsKFndhdGNoX3BhcnR5X2ludml0YXRpb24YCiABKAsyOy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuQ2xpZW50U2V0dGluZ3NOb3RpZmljYXRpb25zElUKEHR3aXR0ZXJfcXVlc3Rpb24YCyABKAsyOy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuQ2xpZW50U2V0dGluZ3NOb3RpZmljYXRpb25zIgwKCkdldFJlcXVlc3QiyQEKC0dldFJlc3BvbnNlEkkKBGRhdGEYASABKAsyOy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuR2V0UmVzcG9uc2UuR2V0UmVzcG9uc2VEYXRhGm8KD0dldFJlc3BvbnNlRGF0YRIKCgJpZBgBIAEoCRIMCgR0eXBlGAIgASgJEkIKCmF0dHJpYnV0ZXMYAyABKAsyLi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuQ2xpZW50U2V0dGluZ3MiUQoNVXBkYXRlUmVxdWVzdBJACghzZXR0aW5ncxgCIAEoCzIuLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5DbGllbnRTZXR0aW5ncyLVAQoOVXBkYXRlUmVzcG9uc2USTwoEZGF0YRgBIAEoCzJBLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5VcGRhdGVSZXNwb25zZS5VcGRhdGVSZXNwb25zZURhdGEacgoSVXBkYXRlUmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSQgoKYXR0cmlidXRlcxgDIAEoCzIuLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5DbGllbnRTZXR0aW5ncyIeChBHZXRTdHJlYW1SZXF1ZXN0EgoKAmlkGAEgASgJIs4BChFHZXRTdHJlYW1SZXNwb25zZRJPCgRkYXRhGAEgASgLMkEuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LkdldFN0cmVhbVJlc3BvbnNlLkdldFJlc3BvbnNlRGF0YRpoCg9HZXRSZXNwb25zZURhdGESCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRI7CgphdHRyaWJ1dGVzGAMgASgLMicuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuU3RyZWFtU2V0dGluZ3MiGAoWR2V0T3JnYW5pemF0aW9uUmVxdWVzdCLgAQoXR2V0T3JnYW5pemF0aW9uUmVzcG9uc2USVQoEZGF0YRgBIAEoCzJHLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5HZXRPcmdhbml6YXRpb25SZXNwb25zZS5HZXRSZXNwb25zZURhdGEabgoPR2V0UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSQQoKYXR0cmlidXRlcxgDIAEoCzItLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLk9yZ2FuaXphdGlvblNldHRpbmdzIkcKIUdldE9yZ2FuaXphdGlvbkFkdmVydGlzaW5nUmVxdWVzdBIVCghldmVudF9pZBgBIAEoCUgAiAEBQgsKCV9ldmVudF9pZCKbAgoiR2V0T3JnYW5pemF0aW9uQWR2ZXJ0aXNpbmdSZXNwb25zZRJ3CgRkYXRhGAEgASgLMmkuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LkdldE9yZ2FuaXphdGlvbkFkdmVydGlzaW5nUmVzcG9uc2UuR2V0T3JnYW5pemF0aW9uQWR2ZXJ0aXNpbmdSZXNwb25zZURhdGEafAomR2V0T3JnYW5pemF0aW9uQWR2ZXJ0aXNpbmdSZXNwb25zZURhdGESCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRI4CgphdHRyaWJ1dGVzGAMgASgLMiQuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuQWR2ZXJ0aXNpbmcigAEKDE1hbmFnZWRHcm91cBIQCghncm91cF9pZBgBIAEoCRIYChBmYW50YXN5X2dyb3VwX2lkGAIgASgJEkQKCmdyb3VwX3R5cGUYAyABKA4yMC5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuTWFuYWdlZEdyb3VwVHlwZSKCAgoMRGVlcExpbmtEYXRhEhAKCGdyb3VwX2lkGAEgASgJEhAKCGV2ZW50X2lkGAIgASgJEhQKDGdhbWlmaWNhdGlvbhgDIAEoCBJDCg1tYW5hZ2VkX2dyb3VwGAQgASgLMiwuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50Lk1hbmFnZWRHcm91cBIZChFleHRlcm5hbF9ldmVudF9pZBgFIAEoCRIZChFleHRlcm5hbF9ncm91cF9pZBgGIAEoCRI9Cgpncm91cF90eXBlGAcgASgOMikuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50Lkdyb3VwVHlwZSJVChdHZW5lcmF0ZURlZXBMaW5rUmVxdWVzdBI6CgRkYXRhGAEgASgLMiwuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LkRlZXBMaW5rRGF0YSIoCghEZWVwTGluaxILCgN1cmwYASABKAkSDwoHbGlua19pZBgCIAEoCSLdAQoYR2VuZXJhdGVEZWVwTGlua1Jlc3BvbnNlEmMKBGRhdGEYASABKAsyVS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuR2VuZXJhdGVEZWVwTGlua1Jlc3BvbnNlLkdlbmVyYXRlRGVlcExpbmtSZXNwb25zZURhdGEaXAocR2VuZXJhdGVEZWVwTGlua1Jlc3BvbnNlRGF0YRI8CgphdHRyaWJ1dGVzGAEgASgLMiguc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LkRlZXBMaW5rIiYKF1JldHJlaXZlRGVlcExpbmtSZXF1ZXN0EgsKA3VybBgBIAEoCSLhAQoYUmV0cmVpdmVEZWVwTGlua1Jlc3BvbnNlEmMKBGRhdGEYASABKAsyVS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuUmV0cmVpdmVEZWVwTGlua1Jlc3BvbnNlLlJldHJlaXZlRGVlcExpbmtSZXNwb25zZURhdGEaYAocUmV0cmVpdmVEZWVwTGlua1Jlc3BvbnNlRGF0YRJACgphdHRyaWJ1dGVzGAEgASgLMiwuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LkRlZXBMaW5rRGF0YSInChlTdHJlYW1TdWJzY3JpcHRpb25SZXF1ZXN0EgoKAmlkGAEgASgJIiEKH09yZ2FuaXphdGlvblN1YnNjcmlwdGlvblJlcXVlc3Qi2gEKGlN0cmVhbVN1YnNjcmlwdGlvblJlc3BvbnNlElUKBGRhdGEYASABKAsyRy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuU3RyZWFtU3Vic2NyaXB0aW9uUmVzcG9uc2UuUmVzcG9uc2VEYXRhGmUKDFJlc3BvbnNlRGF0YRIKCgJpZBgBIAEoCRIMCgR0eXBlGAIgASgJEjsKCmF0dHJpYnV0ZXMYAyABKAsyJy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5TdHJlYW1TZXR0aW5ncyLsAQogT3JnYW5pemF0aW9uU3Vic2NyaXB0aW9uUmVzcG9uc2USWwoEZGF0YRgBIAEoCzJNLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5Pcmdhbml6YXRpb25TdWJzY3JpcHRpb25SZXNwb25zZS5SZXNwb25zZURhdGEaawoMUmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSQQoKYXR0cmlidXRlcxgDIAEoCzItLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLk9yZ2FuaXphdGlvblNldHRpbmdzKmMKDVZpc2libGVTdGF0dXMSGAoUVklTSUJMRV9TVEFUVVNfVU5TRVQQABIcChhWSVNJQkxFX1NUQVRVU19JTkNPR05JVE8QARIaChZWSVNJQkxFX1NUQVRVU19WSVNJQkxFEAIqZAoOTWVzc2FnZXNOb3RpZnkSGQoVTUVTU0FHRVNfTk9USUZZX1VOU0VUEAASHAoYTUVTU0FHRVNfTk9USUZZX0RJU0FMTE9XEAESGQoVTUVTU0FHRVNfTk9USUZZX0FMTE9XEAIqYAoNRnJpZW5kc05vdGlmeRIYChRGUklFTkRTX05PVElGWV9VTlNFVBAAEhsKF0ZSSUVORFNfTk9USUZZX0RJU0FMTE9XEAESGAoURlJJRU5EU19OT1RJRllfQUxMT1cQAipgCg1Ud2l0dGVyTm90aWZ5EhgKFFRXSVRURVJfTk9USUZZX1VOU0VUEAASGwoXVFdJVFRFUl9OT1RJRllfRElTQUxMT1cQARIYChRUV0lUVEVSX05PVElGWV9BTExPVxACKlQKCkNhbGxzU291bmQSFQoRQ0FMTFNfU09VTkRfVU5TRVQQABIYChRDQUxMU19TT1VORF9ESVNBTExPVxABEhUKEUNBTExTX1NPVU5EX0FMTE9XEAIqYAoNTWVzc2FnZXNTb3VuZBIYChRNRVNTQUdFU19TT1VORF9VTlNFVBAAEhsKF01FU1NBR0VTX1NPVU5EX0RJU0FMTE9XEAESGAoUTUVTU0FHRVNfU09VTkRfQUxMT1cQAipcCgxGcmllbmRzU291bmQSFwoTRlJJRU5EU19TT1VORF9VTlNFVBAAEhoKFkZSSUVORFNfU09VTkRfRElTQUxMT1cQARIXChNGUklFTkRTX1NPVU5EX0FMTE9XEAIqXAoMVHdpdHRlclNvdW5kEhcKE1RXSVRURVJfU09VTkRfVU5TRVQQABIaChZUV0lUVEVSX1NPVU5EX0RJU0FMTE9XEAESFwoTVFdJVFRFUl9TT1VORF9BTExPVxACKmAKDVNldHRpbmdzQWxsb3cSGAoUU0VUVElOR1NfQUxMT1dfVU5TRVQQABIbChdTRVRUSU5HU19BTExPV19ESVNBTExPVxABEhgKFFNFVFRJTkdTX0FMTE9XX0FMTE9XEAIqaAoQTWFuYWdlZEdyb3VwVHlwZRIcChhNQU5BR0VEX0dST1VQX1RZUEVfVU5TRVQQABIbChdNQU5BR0VEX0dST1VQX1RZUEVfQ0hBVBABEhkKFU1BTkFHRURfR1JPVVBfVFlQRV9XUBACKkkKCUdyb3VwVHlwZRIUChBHUk9VUF9UWVBFX1VOU0VUEAASEwoPR1JPVVBfVFlQRV9DSEFUEAESEQoNR1JPVVBfVFlQRV9XUBACMr0KCgZDbGllbnQSdgoDR2V0Eiouc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LkdldFJlcXVlc3QaKy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuR2V0UmVzcG9uc2UiFoqmHQpjbGllbnQuZ2V0oKYdAqimHQISggEKBlVwZGF0ZRItLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5VcGRhdGVSZXF1ZXN0Gi4uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LlVwZGF0ZVJlc3BvbnNlIhmKph0NY2xpZW50LnVwZGF0ZaCmHQKoph0CEoQBCglHZXRTdHJlYW0SMC5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuR2V0U3RyZWFtUmVxdWVzdBoxLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5HZXRTdHJlYW1SZXNwb25zZSISiqYdCnN0cmVhbS5nZXSoph0CEpwBCg9HZXRPcmdhbml6YXRpb24SNi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuR2V0T3JnYW5pemF0aW9uUmVxdWVzdBo3LnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5HZXRPcmdhbml6YXRpb25SZXNwb25zZSIYiqYdEG9yZ2FuaXphdGlvbi5nZXSoph0CEskBChpHZXRPcmdhbml6YXRpb25BZHZlcnRpc2luZxJBLnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5HZXRPcmdhbml6YXRpb25BZHZlcnRpc2luZ1JlcXVlc3QaQi5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuR2V0T3JnYW5pemF0aW9uQWR2ZXJ0aXNpbmdSZXNwb25zZSIkiqYdHG9yZ2FuaXphdGlvbi5hZHZlcnRpc2luZy5nZXSoph0CErcBChBHZW5lcmF0ZURlZXBMaW5rEjcuc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LkdlbmVyYXRlRGVlcExpbmtSZXF1ZXN0Gjguc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50LkdlbmVyYXRlRGVlcExpbmtSZXNwb25zZSIwiqYdJG9yZ2FuaXphdGlvbi5icmFuY2guZ2VuZXJhdGVEZWVwTGlua6CmHQKoph0CEq4BChJTdHJlYW1TdWJzY3JpcHRpb24SOS5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuU3RyZWFtU3Vic2NyaXB0aW9uUmVxdWVzdBo6LnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5TdHJlYW1TdWJzY3JpcHRpb25SZXNwb25zZSIfiqYdE3N0cmVhbS5zdWJzY3JpcHRpb26Qph0CmKYdAjABEsYBChhPcmdhbml6YXRpb25TdWJzY3JpcHRpb24SPy5zdHJlYW1sYXllci5zZGtTZXR0aW5ncy5jbGllbnQuT3JnYW5pemF0aW9uU3Vic2NyaXB0aW9uUmVxdWVzdBpALnN0cmVhbWxheWVyLnNka1NldHRpbmdzLmNsaWVudC5Pcmdhbml6YXRpb25TdWJzY3JpcHRpb25SZXNwb25zZSIliqYdGW9yZ2FuaXphdGlvbi5zdWJzY3JpcHRpb26Qph0CmKYdAjABGhCKtRgMc2RrLXNldHRpbmdzQrcBCiJjb20uc3RyZWFtbGF5ZXIuc2RrU2V0dGluZ3MuY2xpZW50QiFTdHJlYW1MYXllclNka1NldHRpbmdzQ2xpZW50UHJvdG9QAVpjZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9zZGtTZXR0aW5ncy9jbGllbnQ7c2xfc2RrU2V0dGluZ3NfY2xpZW50ogIGU0xfQVBJYgZwcm90bzM",[ya,rG]),f0=El(fie,0),pie=kt("CiRzdHJlYW1sYXllci91c2Vycy91c2Vyc19jb21tb24ucHJvdG8SEXN0cmVhbWxheWVyLnVzZXJzIh4KDlB1YmxpY0NoYXRVc2VyEgwKBG5hbWUYASABKAkioAEKDlVzZXJBdHRyaWJ1dGVzEhAKCHVzZXJuYW1lGAEgASgJEgwKBG5hbWUYAiABKAkSDQoFYWxpYXMYAyABKAkSDgoGYXZhdGFyGAUgASgJEjoKC3B1YmxpY19jaGF0GAYgASgLMiEuc3RyZWFtbGF5ZXIudXNlcnMuUHVibGljQ2hhdFVzZXJCAhgBEhMKC3B1YmxpY19uYW1lGAcgASgJIjMKEFVzZXJPcmdhbml6YXRpb24SCgoCaWQYASABKAkSEwoLcGVybWlzc2lvbnMYAiADKAki/wEKDFVzZXJNZXRhZGF0YRIOCgZhdmF0YXIYAiABKAkSIAoYYXZhdGFyX2JhY2tncm91bmRfY29sb3VyGAMgASgJEhAKCHRpbWV6b25lGAQgASgJEk4KF25vdGlmaWNhdGlvbl9wcmVmZXJlbmNlGAUgASgOMi0uc3RyZWFtbGF5ZXIudXNlcnMuVXNlck5vdGlmaWNhdGlvblByZWZlcmVuY2USDgoGYWN0aXZlGAYgASgIEhIKCmZpcnN0X25hbWUYByABKAkSEQoJbGFzdF9uYW1lGAggASgJEg0KBXJvbGVzGAkgAygJEhUKDWF1ZGllbmNlX3RhZ3MYCiADKAkiegoWRXh0ZW5kZWRVc2VyQXR0cmlidXRlcxIQCgh1c2VybmFtZRgBIAEoCRIMCgRuYW1lGAIgASgJEg0KBWFsaWFzGAMgASgJEjEKCG1ldGFkYXRhGAQgASgLMh8uc3RyZWFtbGF5ZXIudXNlcnMuVXNlck1ldGFkYXRhIlcKBFVzZXISCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRI1CgphdHRyaWJ1dGVzGAMgASgLMiEuc3RyZWFtbGF5ZXIudXNlcnMuVXNlckF0dHJpYnV0ZXMiZwoMRXh0ZW5kZWRVc2VyEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSPQoKYXR0cmlidXRlcxgDIAEoCzIpLnN0cmVhbWxheWVyLnVzZXJzLkV4dGVuZGVkVXNlckF0dHJpYnV0ZXMq5gEKGlVzZXJOb3RpZmljYXRpb25QcmVmZXJlbmNlEiYKIlVTRVJfTk9USUZJQ0FUSU9OX1BSRUZFUkVOQ0VfVU5TRVQQABIrCidVU0VSX05PVElGSUNBVElPTl9QUkVGRVJFTkNFX0FMTF9FVkVOVFMQARI2CjJVU0VSX05PVElGSUNBVElPTl9QUkVGRVJFTkNFX0lNUE9SVEFOVF9FVkVOVFNfT05MWRACEjsKN1VTRVJfTk9USUZJQ0FUSU9OX1BSRUZFUkVOQ0VfREFJTFlfU1VNTUFSWV9BTkRfTUVOVElPTlMQA0KKAQoVY29tLnN0cmVhbWxheWVyLnVzZXJzQhtTdHJlYW1MYXllclVzZXJzQ29tbW9uUHJvdG9QAVpJZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci91c2VycztzbF91c2Vyc6ICBlNMX0FQSWIGcHJvdG8z"),mie=kt("Ch1zdHJlYW1sYXllci91c2Vycy91c2Vycy5wcm90bxIRc3RyZWFtbGF5ZXIudXNlcnMiLAoMTG9naW5SZXF1ZXN0EgoKAmlkGAEgASgJEhAKCHBhc3N3b3JkGAIgASgJIsMBCgxBdXRoUmVzcG9uc2USQgoEbWV0YRgBIAEoCzI0LnN0cmVhbWxheWVyLnVzZXJzLkF1dGhSZXNwb25zZS5BdXRoUmVzcG9uc2VNZXRhZGF0YRIlCgRkYXRhGAIgASgLMhcuc3RyZWFtbGF5ZXIudXNlcnMuVXNlchpIChRBdXRoUmVzcG9uc2VNZXRhZGF0YRILCgNqd3QYASABKAkSEQoJZ2V0c3RyZWFtGAMgASgJSgQIAhADUgp2b3hpbXBsYW50Ih0KD1JlZ2lzdGVyUmVxdWVzdBIKCgJpZBgBIAEoCSI7CghSZWZlcnJhbBIKCgJpZBgBIAEoCRIMCgRuYW1lGAIgASgJEhUKDXdhdGNoaW5nX2dhbWUYAyABKAkiagoQUmVnaXN0ZXJSZXNwb25zZRIKCgJpZBgBIAEoCRIbChNyZXF1aXJlc19hY3RpdmF0aW9uGAIgASgIEi0KCHJlZmVycmFsGAMgASgLMhsuc3RyZWFtbGF5ZXIudXNlcnMuUmVmZXJyYWwiJAoWUmVxdWVzdFBhc3N3b3JkUmVxdWVzdBIKCgJpZBgBIAEoCSI5ChdSZXF1ZXN0UGFzc3dvcmRSZXNwb25zZRIRCglyZXF1ZXN0ZWQYASABKAgSCwoDdWlkGAIgASgJIgsKCU1lUmVxdWVzdCIzCgpNZVJlc3BvbnNlEiUKBGRhdGEYASABKAsyFy5zdHJlYW1sYXllci51c2Vycy5Vc2VyIkcKFVVwZGF0ZU1ldGFkYXRhUmVxdWVzdBISCghzZXRfbmFtZRgBIAEoCUgAEhIKCGRlbF9uYW1lGAIgASgJSABCBgoEbmFtZSJdChNVcGRhdGVBdmF0YXJSZXF1ZXN0EhAKCHVzZXJuYW1lGAEgASgJEhQKCnNldF9hdmF0YXIYAiABKAlIABIUCgpkZWxfYXZhdGFyGAMgASgJSABCCAoGYXZhdGFyIhYKFFVwZGF0ZUF2YXRhclJlc3BvbnNlIl8KG1VwZGF0ZVB1YmxpY0NoYXROYW1lUmVxdWVzdBIQCgh1c2VybmFtZRgBIAEoCRISCghzZXRfbmFtZRgCIAEoCUgAEhIKCGRlbF9uYW1lGAMgASgJSABCBgoEbmFtZSIeChxVcGRhdGVQdWJsaWNDaGF0TmFtZVJlc3BvbnNlIlsKF1VwZGF0ZVB1YmxpY05hbWVSZXF1ZXN0EhAKCHVzZXJuYW1lGAEgASgJEhIKCHNldF9uYW1lGAIgASgJSAASEgoIZGVsX25hbWUYAyABKAlIAEIGCgRuYW1lIhoKGFVwZGF0ZVB1YmxpY05hbWVSZXNwb25zZSIYChZVcGRhdGVNZXRhZGF0YVJlc3BvbnNlIocBCg1JbnZpdGVSZXF1ZXN0EgoKAmlkGAEgASgJEkEKCHJlZmVycmFsGAIgASgLMi8uc3RyZWFtbGF5ZXIudXNlcnMuSW52aXRlUmVxdWVzdC5JbnZpdGVSZWZlcnJhbBonCg5JbnZpdGVSZWZlcnJhbBIVCg13YXRjaGluZ19nYW1lGAEgASgJIhAKDkludml0ZVJlc3BvbnNlIm0KEUJ5cGFzc0F1dGhSZXF1ZXN0EhAKCHVzZXJfa2V5GAEgASgJEg4KBnNjaGVtYRgCIAEoCRIMCgRpbml0GAMgASgIEhgKC2ludml0ZXJfa2V5GAQgASgJSACIAQFCDgoMX2ludml0ZXJfa2V5IrMCChJCeXBhc3NBdXRoUmVzcG9uc2USSAoEbWV0YRgBIAEoCzI6LnN0cmVhbWxheWVyLnVzZXJzLkJ5cGFzc0F1dGhSZXNwb25zZS5BdXRoUmVzcG9uc2VNZXRhZGF0YRIqCgRkYXRhGAIgASgLMhcuc3RyZWFtbGF5ZXIudXNlcnMuVXNlckgAiAEBGp0BChRBdXRoUmVzcG9uc2VNZXRhZGF0YRIQCgNqd3QYASABKAlIAIgBARISCgV0b2tlbhgDIAEoCUgBiAEBEhEKCWdldHN0cmVhbRgEIAEoCRIYCgtpbnZpdGVyX2tleRgFIAEoCUgCiAEBQgYKBF9qd3RCCAoGX3Rva2VuQg4KDF9pbnZpdGVyX2tleUoECAIQA1IKdm94aW1wbGFudEIHCgVfZGF0YSJjChFHZXRGcmllbmRzUmVxdWVzdBIcCg9sYXN0X2NyZWF0ZWRfYXQYASABKAlIAIgBARISCgVsaW1pdBgCIAEoBUgBiAEBQhIKEF9sYXN0X2NyZWF0ZWRfYXRCCAoGX2xpbWl0IoECChJHZXRGcmllbmRzUmVzcG9uc2USPgoEZGF0YRgBIAMoCzIwLnN0cmVhbWxheWVyLnVzZXJzLkdldEZyaWVuZHNSZXNwb25zZS5GcmllbmREYXRhEkQKCG1ldGFkYXRhGAIgASgLMjIuc3RyZWFtbGF5ZXIudXNlcnMuR2V0RnJpZW5kc1Jlc3BvbnNlLlJlc3BvbnNlTWV0YRonCgxSZXNwb25zZU1ldGESFwoPbGFzdF9jcmVhdGVkX2F0GAEgASgJGjwKCkZyaWVuZERhdGESDAoEbmFtZRgBIAEoCRIRCgl0aW5vZGVfaWQYAiABKAkSDQoFc2xfaWQYAyABKAkiFwoVR2VuZXJhdGVNZmFLZXlSZXF1ZXN0IigKFkdlbmVyYXRlTWZhS2V5UmVzcG9uc2USDgoGc2VjcmV0GAEgASgJIjQKEEF0dGFjaE1mYVJlcXVlc3QSEAoIdXNlcm5hbWUYASABKAkSDgoGc2VjcmV0GAIgASgJIiQKEUF0dGFjaE1mYVJlc3BvbnNlEg8KB2VuYWJsZWQYASABKAgiMgoQRGV0YWNoTWZhUmVxdWVzdBIQCgh1c2VybmFtZRgBIAEoCRIMCgR0b3RwGAIgASgJIiQKEURldGFjaE1mYVJlc3BvbnNlEg8KB2VuYWJsZWQYASABKAgiMgoQVmVyaWZ5TWZhUmVxdWVzdBIQCgh1c2VybmFtZRgBIAEoCRIMCgR0b3RwGAIgASgJIiIKEVZlcmlmeU1mYVJlc3BvbnNlEg0KBXZhbGlkGAEgASgIMo8NCgVVc2VycxJJCgVMb2dpbhIfLnN0cmVhbWxheWVyLnVzZXJzLkxvZ2luUmVxdWVzdBofLnN0cmVhbWxheWVyLnVzZXJzLkF1dGhSZXNwb25zZRJTCghSZWdpc3RlchIiLnN0cmVhbWxheWVyLnVzZXJzLlJlZ2lzdGVyUmVxdWVzdBojLnN0cmVhbWxheWVyLnVzZXJzLlJlZ2lzdGVyUmVzcG9uc2USgQEKD1JlcXVlc3RQYXNzd29yZBIpLnN0cmVhbWxheWVyLnVzZXJzLlJlcXVlc3RQYXNzd29yZFJlcXVlc3QaKi5zdHJlYW1sYXllci51c2Vycy5SZXF1ZXN0UGFzc3dvcmRSZXNwb25zZSIXiqYdE2Rpc3Bvc2FibGUtcGFzc3dvcmQSSwoCTWUSHC5zdHJlYW1sYXllci51c2Vycy5NZVJlcXVlc3QaHS5zdHJlYW1sYXllci51c2Vycy5NZVJlc3BvbnNlIgiQph0CoKYdAhJfCgZJbnZpdGUSIC5zdHJlYW1sYXllci51c2Vycy5JbnZpdGVSZXF1ZXN0GiEuc3RyZWFtbGF5ZXIudXNlcnMuSW52aXRlUmVzcG9uc2UiEIqmHQhyZWZlcnJhbKCmHQISagoKQnlwYXNzQXV0aBIkLnN0cmVhbWxheWVyLnVzZXJzLkJ5cGFzc0F1dGhSZXF1ZXN0GiUuc3RyZWFtbGF5ZXIudXNlcnMuQnlwYXNzQXV0aFJlc3BvbnNlIg+Kph0LYXV0aC1ieXBhc3MSfQoOVXBkYXRlTWV0YWRhdGESKC5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVNZXRhZGF0YVJlcXVlc3QaKS5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVNZXRhZGF0YVJlc3BvbnNlIhaKph0OdXBkYXRlTWV0YWRhdGGgph0CEncKDFVwZGF0ZUF2YXRhchImLnN0cmVhbWxheWVyLnVzZXJzLlVwZGF0ZUF2YXRhclJlcXVlc3QaJy5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVBdmF0YXJSZXNwb25zZSIWiqYdDnVwZGF0ZU1ldGFkYXRhoKYdAhKPAQoUVXBkYXRlUHVibGljQ2hhdE5hbWUSLi5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVQdWJsaWNDaGF0TmFtZVJlcXVlc3QaLy5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVQdWJsaWNDaGF0TmFtZVJlc3BvbnNlIhaKph0OdXBkYXRlTWV0YWRhdGGgph0CEoMBChBVcGRhdGVQdWJsaWNOYW1lEiouc3RyZWFtbGF5ZXIudXNlcnMuVXBkYXRlUHVibGljTmFtZVJlcXVlc3QaKy5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVQdWJsaWNOYW1lUmVzcG9uc2UiFoqmHQ51cGRhdGVNZXRhZGF0YaCmHQISbQoKR2V0RnJpZW5kcxIkLnN0cmVhbWxheWVyLnVzZXJzLkdldEZyaWVuZHNSZXF1ZXN0GiUuc3RyZWFtbGF5ZXIudXNlcnMuR2V0RnJpZW5kc1Jlc3BvbnNlIhKKph0KZ2V0RnJpZW5kc6CmHQISfQoOR2VuZXJhdGVNZmFLZXkSKC5zdHJlYW1sYXllci51c2Vycy5HZW5lcmF0ZU1mYUtleVJlcXVlc3QaKS5zdHJlYW1sYXllci51c2Vycy5HZW5lcmF0ZU1mYUtleVJlc3BvbnNlIhaKph0OZ2VuZXJhdGVNZmFLZXmgph0CEmkKCUF0dGFjaE1mYRIjLnN0cmVhbWxheWVyLnVzZXJzLkF0dGFjaE1mYVJlcXVlc3QaJC5zdHJlYW1sYXllci51c2Vycy5BdHRhY2hNZmFSZXNwb25zZSIRiqYdCWF0dGFjaE1mYaCmHQISaQoJRGV0YWNoTWZhEiMuc3RyZWFtbGF5ZXIudXNlcnMuRGV0YWNoTWZhUmVxdWVzdBokLnN0cmVhbWxheWVyLnVzZXJzLkRldGFjaE1mYVJlc3BvbnNlIhGKph0JZGV0YWNoTWZhoKYdAhJpCglWZXJpZnlNZmESIy5zdHJlYW1sYXllci51c2Vycy5WZXJpZnlNZmFSZXF1ZXN0GiQuc3RyZWFtbGF5ZXIudXNlcnMuVmVyaWZ5TWZhUmVzcG9uc2UiEYqmHQl2ZXJpZnlNZmGgph0CGgmKtRgFdXNlcnNChAEKFWNvbS5zdHJlYW1sYXllci51c2Vyc0IVU3RyZWFtTGF5ZXJVc2Vyc1Byb3RvUAFaSWdpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvdXNlcnM7c2xfdXNlcnOiAgZTTF9BUEliBnByb3RvMw",[ya,pie]),iR=El(mie,0),gie=kt("CkFzdHJlYW1sYXllci9pbnRlcmFjdGl2ZS9sZWFkZXJib2FyZC9pbnRlcmFjdGl2ZS5sZWFkZXJib2FyZC5wcm90bxIjc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmQi4gEKD0xlYWRlcmJvYXJkRGF0YRIKCgJpZBgBIAEoCRJCCgR0eXBlGAIgASgOMjQuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmQuTGVhZGVyYm9hcmRUeXBlEgwKBG5hbWUYAyABKAkSEQoJZXZlbnRfaWRzGAQgAygDEkoKDGxlYWRlcmJvYXJkcxgFIAMoCzI0LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmxlYWRlcmJvYXJkLkxlYWRlcmJvYXJkRGF0YRISCgpjcmVhdGVkX2F0GAYgASgDIuUBCg9MZWFkZXJib2FyZEl0ZW0SDgoGc3RyZWFrGAEgASgFEg8KB2NvcnJlY3QYAiABKAUSEQoJaW5jb3JyZWN0GAMgASgFEg4KBnBvaW50cxgEIAEoBRIMCgRyYW5rGAUgASgFEgwKBG5hbWUYBiABKAkSDgoGYXZhdGFyGAcgASgJEg8KB3VzZXJfaWQYCCABKAkSFgoOcmVjZW50X2NvcnJlY3QYCSABKAUSEwoLc3RyZWFrX2xvc3MYCiABKAUSFAoMZnJpZW5kc19yYW5rGAsgASgFEg4KBmluX3RvcBgMIAEoBSL5AQoWTGVhZGVyYm9hcmRTdW1tYXJ5SXRlbRJFCgdzdW1tYXJ5GAEgASgLMjQuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmQuTGVhZGVyYm9hcmRJdGVtEmEKCnBlcmNlbnRhZ2UYAiABKAsyTS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5sZWFkZXJib2FyZC5MZWFkZXJib2FyZFN1bW1hcnlJdGVtLlN1bW1hcnlQZXJjZW50YWdlGjUKEVN1bW1hcnlQZXJjZW50YWdlEg8KB2NvcnJlY3QYASABKAUSDwoHYXZlcmFnZRgCIAEoBSKDAQoLTGlzdFJlcXVlc3QSNwoKcGFnaW5hdGlvbhgBIAEoCzIjLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlBhZ2luYXRpb24SEQoJdXNlcnNfaWRzGAIgAygJEhAKCGV2ZW50X2lkGAMgASgEEhYKDmxlYWRlcmJvYXJkX2lkGAQgASgJIu4CCgxMaXN0UmVzcG9uc2USUAoEZGF0YRgBIAMoCzJCLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmxlYWRlcmJvYXJkLkxpc3RSZXNwb25zZS5MaXN0UmVzcG9uc2VEYXRhElAKBG1ldGEYAiABKAsyQi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5sZWFkZXJib2FyZC5MaXN0UmVzcG9uc2UuTGlzdFJlc3BvbnNlTWV0YRp2ChBMaXN0UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSSAoKYXR0cmlidXRlcxgDIAEoCzI0LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmxlYWRlcmJvYXJkLkxlYWRlcmJvYXJkSXRlbRpCChBMaXN0UmVzcG9uc2VNZXRhEg0KBWNvdW50GAEgASgFEgwKBHBhZ2UYAiABKAUSEQoJcGFnZV9zaXplGAMgASgFIl4KDlN1bW1hcnlSZXF1ZXN0EhAKCGV2ZW50X2lkGAEgASgEEg8KB3VzZXJfaWQYAiABKAkSFgoObGVhZGVyYm9hcmRfaWQYAyABKAkSEQoJdXNlcnNfaWRzGAQgAygJIuwBCg9TdW1tYXJ5UmVzcG9uc2USVgoEZGF0YRgBIAEoCzJILnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmxlYWRlcmJvYXJkLlN1bW1hcnlSZXNwb25zZS5TdW1tYXJ5UmVzcG9uc2VEYXRhGoABChNTdW1tYXJ5UmVzcG9uc2VEYXRhEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSTwoKYXR0cmlidXRlcxgDIAEoCzI7LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmxlYWRlcmJvYXJkLkxlYWRlcmJvYXJkU3VtbWFyeUl0ZW0iRQoYRXZlbnRMZWFkZXJib2FyZHNSZXF1ZXN0EhcKD29yZ2FuaXphdGlvbl9pZBgBIAEoCRIQCghldmVudF9pZBgCIAEoCSKNAgoZRXZlbnRMZWFkZXJib2FyZHNSZXNwb25zZRJqCgRkYXRhGAIgASgLMlwuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmQuRXZlbnRMZWFkZXJib2FyZHNSZXNwb25zZS5FdmVudExlYWRlcmJvYXJkc1Jlc3BvbnNlRGF0YRqDAQodRXZlbnRMZWFkZXJib2FyZHNSZXNwb25zZURhdGESCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRJICgphdHRyaWJ1dGVzGAMgASgLMjQuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmQuTGVhZGVyYm9hcmREYXRhIqQBChdFdmVudExlYWRlcmJvYXJkUmVxdWVzdBIKCgJpZBgBIAEoCRIXCg9vcmdhbml6YXRpb25faWQYAiABKAkSNwoKcGFnaW5hdGlvbhgDIAEoCzIjLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlBhZ2luYXRpb24SKwoEc29ydBgEIAEoCzIdLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLlNvcnQikgMKGEV2ZW50TGVhZGVyYm9hcmRSZXNwb25zZRJcCgRkYXRhGAEgAygLMk4uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmQuRXZlbnRMZWFkZXJib2FyZFJlc3BvbnNlLkxpc3RSZXNwb25zZURhdGESXAoEbWV0YRgCIAEoCzJOLnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmxlYWRlcmJvYXJkLkV2ZW50TGVhZGVyYm9hcmRSZXNwb25zZS5MaXN0UmVzcG9uc2VNZXRhGnYKEExpc3RSZXNwb25zZURhdGESCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRJICgphdHRyaWJ1dGVzGAMgASgLMjQuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmQuTGVhZGVyYm9hcmRJdGVtGkIKEExpc3RSZXNwb25zZU1ldGESDQoFY291bnQYASABKAUSDAoEcGFnZRgCIAEoBRIRCglwYWdlX3NpemUYAyABKAUqagoPTGVhZGVyYm9hcmRUeXBlEhoKFkxFQURFUkJPQVJEX1RZUEVfVU5TRVQQABIfChtMRUFERVJCT0FSRF9UWVBFX1RPVVJOQU1FTlQQARIaChZMRUFERVJCT0FSRF9UWVBFX0VWRU5UEAIywgUKC0xlYWRlcmJvYXJkEokBCgRMaXN0EjAuc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmQuTGlzdFJlcXVlc3QaMS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5sZWFkZXJib2FyZC5MaXN0UmVzcG9uc2UiHIqmHRBsZWFkZXJib2FyZC5saXN0oKYdAqimHQISlQEKB1N1bW1hcnkSMy5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5sZWFkZXJib2FyZC5TdW1tYXJ5UmVxdWVzdBo0LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmxlYWRlcmJvYXJkLlN1bW1hcnlSZXNwb25zZSIfiqYdE2xlYWRlcmJvYXJkLnN1bW1hcnmgph0CqKYdAhK9AQoRRXZlbnRMZWFkZXJib2FyZHMSPS5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5sZWFkZXJib2FyZC5FdmVudExlYWRlcmJvYXJkc1JlcXVlc3QaPi5zdHJlYW1sYXllci5pbnRlcmFjdGl2ZS5sZWFkZXJib2FyZC5FdmVudExlYWRlcmJvYXJkc1Jlc3BvbnNlIimKph0dc3R1ZGlvLmxlYWRlcmJvYXJkLmV2ZW50Lmxpc3Sgph0CqKYdARK9AQoQRXZlbnRMZWFkZXJib2FyZBI8LnN0cmVhbWxheWVyLmludGVyYWN0aXZlLmxlYWRlcmJvYXJkLkV2ZW50TGVhZGVyYm9hcmRSZXF1ZXN0Gj0uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmQuRXZlbnRMZWFkZXJib2FyZFJlc3BvbnNlIiyKph0gc3R1ZGlvLmxlYWRlcmJvYXJkLmV2ZW50LnN1bW1hcnmgph0CqKYdARoPirUYC2ludGVyYWN0aXZlQssBCidjb20uc3RyZWFtbGF5ZXIuaW50ZXJhY3RpdmUubGVhZGVyYm9hcmRCJlN0cmVhbUxheWVySW50ZXJhY3RpdmVMZWFkZXJib2FyZFByb3RvUAFabWdpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvaW50ZXJhY3RpdmUvbGVhZGVyYm9hcmQ7c2xfaW50ZXJhY3RpdmVfbGVhZGVyYm9hcmSiAgZTTF9BUEliBnByb3RvMw",[ya,Ai]),CG=El(gie,0),yie=kt("CihzdHJlYW1sYXllci9zaG9ydExpbmtzL2xpbmtzQ2xpZW50LnByb3RvEhZzdHJlYW1sYXllci5zaG9ydExpbmtzIi4KD0dlbmVyYXRlUmVxdWVzdBILCgN3ZWIYASABKAkSDgoGbW9iaWxlGAIgASgJIoUBChBHZW5lcmF0ZVJlc3BvbnNlEksKBGRhdGEYASABKAsyPS5zdHJlYW1sYXllci5zaG9ydExpbmtzLkdlbmVyYXRlUmVzcG9uc2UuR2VuZXJhdGVSZXNwb25zZURhdGEaJAoUR2VuZXJhdGVSZXNwb25zZURhdGESDAoEbGluaxgBIAEoCTKTAQoLTGlua3NDbGllbnQScwoIR2VuZXJhdGUSJy5zdHJlYW1sYXllci5zaG9ydExpbmtzLkdlbmVyYXRlUmVxdWVzdBooLnN0cmVhbWxheWVyLnNob3J0TGlua3MuR2VuZXJhdGVSZXNwb25zZSIUiqYdCGdlbmVyYXRloKYdAqimHQIaD4q1GAtzaG9ydC1saW5rc0LCAQomY29tLnN0cmVhbWxheWVyLnNob3J0TGlua3MubGlua3NDbGllbnRCIFN0cmVhbUxheWVyU2hvcnRMaW5rc0NsaWVudFByb3RvUAFaa2dpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvc2hvcnRMaW5rcy9saW5rc0NsaWVudDtzbF9zaG9ydExpbmtzX2xpbmtzQ2xpZW50ogIGU0xfQVBJYgZwcm90bzM",[ya]),bie=El(yie,0),RG=kt("CilzdHJlYW1sYXllci9wb2x5bWFya2V0L3Nwb3J0c0NsaWVudC5wcm90bxIWc3RyZWFtbGF5ZXIucG9seW1hcmtldCLCAQoFU3BvcnQSCgoCaWQYASABKAkSDAoEbmFtZRgCIAEoCRIvCgR0eXBlGAMgASgOMiEuc3RyZWFtbGF5ZXIucG9seW1hcmtldC5TcG9ydFR5cGUSPQoIbWV0YWRhdGEYCiADKAsyKy5zdHJlYW1sYXllci5wb2x5bWFya2V0LlNwb3J0Lk1ldGFkYXRhRW50cnkaLwoNTWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBIiIKClByaWNlUG9pbnQSCQoBdBgBIAEoCRIJCgFwGAIgASgBIr8DCg9PdXRjb21lU25hcHNob3QSCgoCaWQYASABKAkSDQoFbGFiZWwYAiABKAkSMQoEdHlwZRgDIAEoDjIjLnN0cmVhbWxheWVyLnBvbHltYXJrZXQuT3V0Y29tZVR5cGUSEwoLcHJvYmFiaWxpdHkYCiABKAESFwoPcHJvYmFiaWxpdHlfcGN0GAsgASgBEhQKB3RlYW1faWQYFCABKAlIAIgBARISCgVjb2xvchgVIAEoCUgBiAEBEhYKCXRlYW1fbG9nbxgWIAEoCUgCiAEBEhIKCnNvcnRfb3JkZXIYHiABKA0SMgoGcG9pbnRzGCMgAygLMiIuc3RyZWFtbGF5ZXIucG9seW1hcmtldC5QcmljZVBvaW50Ek4KDHJhd19tZXRhZGF0YRgoIAMoCzI4LnN0cmVhbWxheWVyLnBvbHltYXJrZXQuT3V0Y29tZVNuYXBzaG90LlJhd01ldGFkYXRhRW50cnkaMgoQUmF3TWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBQgoKCF90ZWFtX2lkQggKBl9jb2xvckIMCgpfdGVhbV9sb2dvIpgFChNTcG9ydHNNYXJrZXRTdW1tYXJ5Eg4KBnN5bWJvbBgBIAEoCRIMCgRzbHVnGAIgASgJEg0KBXRpdGxlGAMgASgJEhUKCHN1YnRpdGxlGAQgASgJSACIAQESDgoGbGVhZ3VlGAUgASgJEhkKDGV2ZW50X3NlcmllcxgGIAEoCUgBiAEBEhwKD21hcmtldF9jYXRlZ29yeRgHIAEoCUgCiAEBEhYKCWxvbmdfdGVhbRgIIAEoCUgDiAEBEhcKCnNob3J0X3RlYW0YCSABKAlIBIgBARIZCgxvdXRjb21lX3R5cGUYCiABKAlIBYgBARINCgVzdGF0ZRgLIAEoCRIYChBldmVudF9zdGFydF90aW1lGAwgASgJEhYKDmV2ZW50X2VuZF90aW1lGA0gASgJEhMKBnZvbHVtZRgUIAEoAUgGiAEBEhYKCWxpcXVpZGl0eRgVIAEoAUgHiAEBEjkKCG91dGNvbWVzGB4gAygLMicuc3RyZWFtbGF5ZXIucG9seW1hcmtldC5PdXRjb21lU25hcHNob3QSUgoMcmF3X21ldGFkYXRhGCggAygLMjwuc3RyZWFtbGF5ZXIucG9seW1hcmtldC5TcG9ydHNNYXJrZXRTdW1tYXJ5LlJhd01ldGFkYXRhRW50cnkaMgoQUmF3TWV0YWRhdGFFbnRyeRILCgNrZXkYASABKAkSDQoFdmFsdWUYAiABKAk6AjgBQgsKCV9zdWJ0aXRsZUIPCg1fZXZlbnRfc2VyaWVzQhIKEF9tYXJrZXRfY2F0ZWdvcnlCDAoKX2xvbmdfdGVhbUINCgtfc2hvcnRfdGVhbUIPCg1fb3V0Y29tZV90eXBlQgkKB192b2x1bWVCDAoKX2xpcXVpZGl0eSITChFMaXN0U3BvcnRzUmVxdWVzdCJDChJMaXN0U3BvcnRzUmVzcG9uc2USLQoGc3BvcnRzGAEgAygLMh0uc3RyZWFtbGF5ZXIucG9seW1hcmtldC5TcG9ydCK+AQoZTGlzdE1hcmtldHNCeVNwb3J0UmVxdWVzdBINCgVzcG9ydBgBIAEoCRIYCgttYXJrZXRfdHlwZRgCIAEoCUgAiAEBEhMKBnRhZ19pZBgDIAEoCUgBiAEBEg0KBWxpbWl0GAogASgNEhcKCnBhZ2VfdG9rZW4YCyABKAlIAogBARIRCglvbmx5X29wZW4YFCABKAhCDgoMX21hcmtldF90eXBlQgkKB190YWdfaWRCDQoLX3BhZ2VfdG9rZW4ijAEKGkxpc3RNYXJrZXRzQnlTcG9ydFJlc3BvbnNlEjwKB21hcmtldHMYASADKAsyKy5zdHJlYW1sYXllci5wb2x5bWFya2V0LlNwb3J0c01hcmtldFN1bW1hcnkSHAoPbmV4dF9wYWdlX3Rva2VuGAIgASgJSACIAQFCEgoQX25leHRfcGFnZV90b2tlbiKDBQoPRXZlbnRXaXRoU2VyaWVzEhAKCGV2ZW50X2lkGAEgASgEEhIKCmV2ZW50X3NsdWcYAiABKAkSGwoOZ2FtbWFfZXZlbnRfaWQYAyABKARIAIgBARINCgV0aXRsZRgKIAEoCRIYCgtkZXNjcmlwdGlvbhgLIAEoCUgBiAEBEh4KEXJlc29sdXRpb25fc291cmNlGAwgASgJSAKIAQESEgoKc3RhcnRfdGltZRgUIAEoCRIQCghlbmRfdGltZRgVIAEoCRIbCg5oZXJvX2ltYWdlX3VybBgeIAEoCUgDiAEBEhUKCGljb25fdXJsGB8gASgJSASIAQESGgoNcGFydG5lcl9iYWRnZRggIAEoCUgFiAEBEhMKBnZvbHVtZRgoIAEoAUgGiAEBEhYKCWxpcXVpZGl0eRgpIAEoAUgHiAEBEjkKCG91dGNvbWVzGDIgAygLMicuc3RyZWFtbGF5ZXIucG9seW1hcmtldC5PdXRjb21lU25hcHNob3QSTgoMcmF3X21ldGFkYXRhGDwgAygLMjguc3RyZWFtbGF5ZXIucG9seW1hcmtldC5FdmVudFdpdGhTZXJpZXMuUmF3TWV0YWRhdGFFbnRyeRoyChBSYXdNZXRhZGF0YUVudHJ5EgsKA2tleRgBIAEoCRINCgV2YWx1ZRgCIAEoCToCOAFCEQoPX2dhbW1hX2V2ZW50X2lkQg4KDF9kZXNjcmlwdGlvbkIUChJfcmVzb2x1dGlvbl9zb3VyY2VCEQoPX2hlcm9faW1hZ2VfdXJsQgsKCV9pY29uX3VybEIQCg5fcGFydG5lcl9iYWRnZUIJCgdfdm9sdW1lQgwKCl9saXF1aWRpdHki+QEKGkdldE1hcmtldFdpdGhTZXJpZXNSZXF1ZXN0EhUKCGV2ZW50X2lkGAEgASgESACIAQESFwoKZXZlbnRfc2x1ZxgCIAEoCUgBiAEBEjkKCXRpbWVmcmFtZRgDIAEoDjIhLnN0cmVhbWxheWVyLnBvbHltYXJrZXQuVGltZWZyYW1lSAKIAQESFQoIaW50ZXJ2YWwYBCABKAlIA4gBARIVCghmaWRlbGl0eRgFIAEoDUgEiAEBQgsKCV9ldmVudF9pZEINCgtfZXZlbnRfc2x1Z0IMCgpfdGltZWZyYW1lQgsKCV9pbnRlcnZhbEILCglfZmlkZWxpdHkiVQobR2V0TWFya2V0V2l0aFNlcmllc1Jlc3BvbnNlEjYKBWV2ZW50GAEgASgLMicuc3RyZWFtbGF5ZXIucG9seW1hcmtldC5FdmVudFdpdGhTZXJpZXMqTAoJU3BvcnRUeXBlEhQKEFNQT1JUX1RZUEVfVU5TRVQQABIVChFTUE9SVF9UWVBFX1NPQ0NFUhABEhIKDlNQT1JUX1RZUEVfTkZMEAIqewoJVGltZWZyYW1lEhMKD1RJTUVGUkFNRV9VTlNFVBAAEhAKDFRJTUVGUkFNRV8xSBABEhAKDFRJTUVGUkFNRV82SBACEhAKDFRJTUVGUkFNRV8xRBADEhAKDFRJTUVGUkFNRV8xVxAEEhEKDVRJTUVGUkFNRV9BTEwQBSpTCgtPdXRjb21lVHlwZRIWChJPVVRDT01FX1RZUEVfVU5TRVQQABIVChFPVVRDT01FX1RZUEVfVEVBTRABEhUKEU9VVENPTUVfVFlQRV9EUkFXEAIy7AMKFlBvbHltYXJrZXRTcG9ydHNDbGllbnQSewoKTGlzdFNwb3J0cxIpLnN0cmVhbWxheWVyLnBvbHltYXJrZXQuTGlzdFNwb3J0c1JlcXVlc3QaKi5zdHJlYW1sYXllci5wb2x5bWFya2V0Lkxpc3RTcG9ydHNSZXNwb25zZSIWiqYdCmxpc3RTcG9ydHOgph0CqKYdAhKbAQoSTGlzdE1hcmtldHNCeVNwb3J0EjEuc3RyZWFtbGF5ZXIucG9seW1hcmtldC5MaXN0TWFya2V0c0J5U3BvcnRSZXF1ZXN0GjIuc3RyZWFtbGF5ZXIucG9seW1hcmtldC5MaXN0TWFya2V0c0J5U3BvcnRSZXNwb25zZSIeiqYdEmxpc3RNYXJrZXRzQnlTcG9ydKCmHQKoph0CEp8BChNHZXRNYXJrZXRXaXRoU2VyaWVzEjIuc3RyZWFtbGF5ZXIucG9seW1hcmtldC5HZXRNYXJrZXRXaXRoU2VyaWVzUmVxdWVzdBozLnN0cmVhbWxheWVyLnBvbHltYXJrZXQuR2V0TWFya2V0V2l0aFNlcmllc1Jlc3BvbnNlIh+Kph0TZ2V0TWFya2V0V2l0aFNlcmllc6CmHQKoph0CGhWKtRgRc3BvcnRzLnBvbHltYXJrZXRCywEKJ2NvbS5zdHJlYW1sYXllci5wb2x5bWFya2V0LnNwb3J0c0NsaWVudEImU3RyZWFtTGF5ZXJQb2x5bWFya2V0U3BvcnRzQ2xpZW50UHJvdG9QAVptZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9wb2x5bWFya2V0L3Nwb3J0c0NsaWVudDtzbF9wb2x5bWFya2V0X3Nwb3J0c0NsaWVudKICBlNMX0FQSWIGcHJvdG8z",[ya]),vie=St(RG,1),Eie=Tt(vie),Aie=El(RG,0),IG=kt("CjhzdHJlYW1sYXllci9hbmFseXRpY3MvdjEvaW50ZXJhY3Rpb25zL2ludGVyYWN0aW9ucy5wcm90bxIlc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmludGVyYWN0aW9ucyKjAwoYVG90YWxJbnRlcmFjdGlvbnNSZXF1ZXN0EmIKBmZpbHRlchgBIAEoCzJSLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuVG90YWxJbnRlcmFjdGlvbnNSZXF1ZXN0LlRvdGFsUmVxdWVzdEZpbHRlchIXCg9vcmdhbml6YXRpb25faWQYAiABKAkaiQIKElRvdGFsUmVxdWVzdEZpbHRlchI3CgZwZXJpb2QYASABKAsyJy5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLlBlcmlvZBIRCglldmVudF9pZHMYAiADKAQSPQoKY2F0ZWdvcmllcxgDIAMoDjIpLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uQ2F0ZWdvcnkSUgoMYWN0aW9uX3R5cGVzGAQgAygOMjwuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmludGVyYWN0aW9ucy5JbnRlcmFjdGlvbkFjdGlvblR5cGUSFAoMY291bnRfdW5pcXVlGAUgASgIIvABChlUb3RhbEludGVyYWN0aW9uc1Jlc3BvbnNlEmAKBGRhdGEYASADKAsyUi5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLlRvdGFsSW50ZXJhY3Rpb25zUmVzcG9uc2UuVG90YWxSZXNwb25zZURhdGEacQoRVG90YWxSZXNwb25zZURhdGESEAoIZXZlbnRfaWQYASABKAQSDQoFY291bnQYAiABKAQSOwoIY2F0ZWdvcnkYAyABKA4yKS5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLkNhdGVnb3J5IvIBChVUb3RhbENoYXRVc2Vyc1JlcXVlc3QSXwoGZmlsdGVyGAEgASgLMk8uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmludGVyYWN0aW9ucy5Ub3RhbENoYXRVc2Vyc1JlcXVlc3QuVG90YWxSZXF1ZXN0RmlsdGVyEhcKD29yZ2FuaXphdGlvbl9pZBgCIAEoCRpfChJUb3RhbFJlcXVlc3RGaWx0ZXISNwoGcGVyaW9kGAEgASgLMicuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5QZXJpb2QSEAoIZXZlbnRfaWQYAiABKAQirQEKFlRvdGFsQ2hhdFVzZXJzUmVzcG9uc2USXQoEZGF0YRgBIAMoCzJPLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuVG90YWxDaGF0VXNlcnNSZXNwb25zZS5Ub3RhbFJlc3BvbnNlRGF0YRo0ChFUb3RhbFJlc3BvbnNlRGF0YRIQCghldmVudF9pZBgBIAEoBBINCgVjb3VudBgCIAEoBCL0AQoWVG90YWxWb2ljZVVzZXJzUmVxdWVzdBJgCgZmaWx0ZXIYASABKAsyUC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLlRvdGFsVm9pY2VVc2Vyc1JlcXVlc3QuVG90YWxSZXF1ZXN0RmlsdGVyEhcKD29yZ2FuaXphdGlvbl9pZBgCIAEoCRpfChJUb3RhbFJlcXVlc3RGaWx0ZXISNwoGcGVyaW9kGAEgASgLMicuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5QZXJpb2QSEAoIZXZlbnRfaWQYAiABKAQirwEKF1RvdGFsVm9pY2VVc2Vyc1Jlc3BvbnNlEl4KBGRhdGEYASADKAsyUC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLlRvdGFsVm9pY2VVc2Vyc1Jlc3BvbnNlLlRvdGFsUmVzcG9uc2VEYXRhGjQKEVRvdGFsUmVzcG9uc2VEYXRhEhAKCGV2ZW50X2lkGAEgASgEEg0KBWNvdW50GAIgASgEIr0CCiJUb3RhbEludGVyYWN0aW9uc0J5VGltZUxpbmVSZXF1ZXN0Em8KBmZpbHRlchgBIAEoCzJfLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuVG90YWxJbnRlcmFjdGlvbnNCeVRpbWVMaW5lUmVxdWVzdC5Ub3RhbEJ5VGltZUxpbmVGaWx0ZXISFwoPb3JnYW5pemF0aW9uX2lkGAIgASgJGowBChVUb3RhbEJ5VGltZUxpbmVGaWx0ZXISNwoGcGVyaW9kGAEgASgLMicuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5QZXJpb2QSEAoIZXZlbnRfaWQYAiABKAQSEQoJZXZlbnRfaWRzGAMgAygEEhUKDXN1bW1hcnlfY291bnQYBCABKAgijQIKI1RvdGFsSW50ZXJhY3Rpb25zQnlUaW1lTGluZVJlc3BvbnNlEhAKCGV2ZW50X2lkGAEgASgEEmwKBGRhdGEYAiADKAsyXi5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLlRvdGFsSW50ZXJhY3Rpb25zQnlUaW1lTGluZVJlc3BvbnNlLlRvdGFsQnlUaW1lTGluZURhdGESEQoJZXZlbnRfaWRzGAMgAygEGlMKE1RvdGFsQnlUaW1lTGluZURhdGESLQoJdGltZV9saW5lGAEgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBINCgVjb3VudBgCIAEoBCK1AgoeVG90YWxNZXNzYWdlc0J5VGltZWxpbmVSZXF1ZXN0EmsKBmZpbHRlchgBIAEoCzJbLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuVG90YWxNZXNzYWdlc0J5VGltZWxpbmVSZXF1ZXN0LlRvdGFsQnlUaW1lTGluZUZpbHRlchIXCg9vcmdhbml6YXRpb25faWQYAiABKAkajAEKFVRvdGFsQnlUaW1lTGluZUZpbHRlchI3CgZwZXJpb2QYASABKAsyJy5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLlBlcmlvZBIQCghldmVudF9pZBgCIAEoBBIRCglldmVudF9pZHMYAyADKAQSFQoNc3VtbWFyeV9jb3VudBgEIAEoCCKFAgofVG90YWxNZXNzYWdlc0J5VGltZWxpbmVSZXNwb25zZRIQCghldmVudF9pZBgBIAEoBBJoCgRkYXRhGAIgAygLMlouc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmludGVyYWN0aW9ucy5Ub3RhbE1lc3NhZ2VzQnlUaW1lbGluZVJlc3BvbnNlLlRvdGFsQnlUaW1lTGluZURhdGESEQoJZXZlbnRfaWRzGAMgAygEGlMKE1RvdGFsQnlUaW1lTGluZURhdGESLQoJdGltZV9saW5lGAEgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBINCgVjb3VudBgCIAEoBCKxAgocVG90YWxWb2ljZXNCeVRpbWVsaW5lUmVxdWVzdBJpCgZmaWx0ZXIYASABKAsyWS5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLlRvdGFsVm9pY2VzQnlUaW1lbGluZVJlcXVlc3QuVG90YWxCeVRpbWVMaW5lRmlsdGVyEhcKD29yZ2FuaXphdGlvbl9pZBgCIAEoCRqMAQoVVG90YWxCeVRpbWVMaW5lRmlsdGVyEjcKBnBlcmlvZBgBIAEoCzInLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uUGVyaW9kEhAKCGV2ZW50X2lkGAIgASgEEhEKCWV2ZW50X2lkcxgDIAMoBBIVCg1zdW1tYXJ5X2NvdW50GAQgASgIIoECCh1Ub3RhbFZvaWNlc0J5VGltZWxpbmVSZXNwb25zZRIQCghldmVudF9pZBgBIAEoBBJmCgRkYXRhGAIgAygLMlguc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmludGVyYWN0aW9ucy5Ub3RhbFZvaWNlc0J5VGltZWxpbmVSZXNwb25zZS5Ub3RhbEJ5VGltZUxpbmVEYXRhEhEKCWV2ZW50X2lkcxgDIAMoBBpTChNUb3RhbEJ5VGltZUxpbmVEYXRhEi0KCXRpbWVfbGluZRgBIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASDQoFY291bnQYAiABKAQirwIKG1RvdGFsU3RhdHNCeVRpbWVsaW5lUmVxdWVzdBJoCgZmaWx0ZXIYASABKAsyWC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLlRvdGFsU3RhdHNCeVRpbWVsaW5lUmVxdWVzdC5Ub3RhbEJ5VGltZUxpbmVGaWx0ZXISFwoPb3JnYW5pemF0aW9uX2lkGAIgASgJGowBChVUb3RhbEJ5VGltZUxpbmVGaWx0ZXISNwoGcGVyaW9kGAEgASgLMicuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5QZXJpb2QSEAoIZXZlbnRfaWQYAiABKAQSEQoJZXZlbnRfaWRzGAMgAygEEhUKDXN1bW1hcnlfY291bnQYBCABKAgi/wEKHFRvdGFsU3RhdHNCeVRpbWVsaW5lUmVzcG9uc2USEAoIZXZlbnRfaWQYASABKAQSZQoEZGF0YRgCIAMoCzJXLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuVG90YWxTdGF0c0J5VGltZWxpbmVSZXNwb25zZS5Ub3RhbEJ5VGltZUxpbmVEYXRhEhEKCWV2ZW50X2lkcxgDIAMoBBpTChNUb3RhbEJ5VGltZUxpbmVEYXRhEi0KCXRpbWVfbGluZRgBIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASDQoFY291bnQYAiABKAQiswIKHVRvdGFsVHdpdHRlckJ5VGltZWxpbmVSZXF1ZXN0EmoKBmZpbHRlchgBIAEoCzJaLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuVG90YWxUd2l0dGVyQnlUaW1lbGluZVJlcXVlc3QuVG90YWxCeVRpbWVMaW5lRmlsdGVyEhcKD29yZ2FuaXphdGlvbl9pZBgCIAEoCRqMAQoVVG90YWxCeVRpbWVMaW5lRmlsdGVyEjcKBnBlcmlvZBgBIAEoCzInLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uUGVyaW9kEhAKCGV2ZW50X2lkGAIgASgEEhEKCWV2ZW50X2lkcxgDIAMoBBIVCg1zdW1tYXJ5X2NvdW50GAQgASgIIoMCCh5Ub3RhbFR3aXR0ZXJCeVRpbWVsaW5lUmVzcG9uc2USEAoIZXZlbnRfaWQYASABKAQSZwoEZGF0YRgCIAMoCzJZLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuVG90YWxUd2l0dGVyQnlUaW1lbGluZVJlc3BvbnNlLlRvdGFsQnlUaW1lTGluZURhdGESEQoJZXZlbnRfaWRzGAMgAygEGlMKE1RvdGFsQnlUaW1lTGluZURhdGESLQoJdGltZV9saW5lGAEgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBINCgVjb3VudBgCIAEoBCK4BgoXU2VuZEludGVyYWN0aW9uc1JlcXVlc3QSXgoEZGF0YRgBIAMoCzJQLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuU2VuZEludGVyYWN0aW9uc1JlcXVlc3QuQ3JlYXRlUmVxdWVzdERhdGEavAUKEUNyZWF0ZVJlcXVlc3REYXRhEhAKCGV2ZW50X2lkGAEgASgEEg8KB3VzZXJfaWQYAiABKAQSUQoLYWN0aW9uX3R5cGUYAyABKA4yPC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLkludGVyYWN0aW9uQWN0aW9uVHlwZRI7CghjYXRlZ29yeRgEIAEoDjIpLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uQ2F0ZWdvcnkSMwoPdHJhY2tfdGltZXN0YW1wGAUgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBIRCglyb3V0ZV9tYXAYBiABKAkSEQoJZGV2aWNlX2lkGAcgASgJEgoKAm9zGAggASgJEhIKCnVzZXJfYWdlbnQYCSABKAkSFgoOc2xfc2RrX3ZlcnNpb24YCiABKAkSEgoKc2Vzc2lvbl9pZBgLIAEoCRIaChJvdmVybGF5X3Nlc3Npb25faWQYDCABKAkSEAoIdG9waWNfaWQYDSABKAkSEwoLdXNlcl9pZF9zdHIYDiABKAkSTgoSc2NyZWVuX29yaWVudGF0aW9uGA8gASgOMjIuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5TY3JlZW5PcmllbnRhdGlvbhI+Cgp0b3BpY190eXBlGBAgASgOMiouc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5Ub3BpY1R5cGUSFwoPcGFyZW50X3RvcGljX2lkGBEgASgJEkUKEXBhcmVudF90b3BpY190eXBlGBIgASgOMiouc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5Ub3BpY1R5cGUSGgoScGFydGljaXBhbnRzX2NvdW50GBMgASgNItEBChhTZW5kSW50ZXJhY3Rpb25zUmVzcG9uc2USYAoEZGF0YRgBIAEoCzJSLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuU2VuZEludGVyYWN0aW9uc1Jlc3BvbnNlLkNyZWF0ZVJlc3BvbnNlRGF0YRpTChJDcmVhdGVSZXNwb25zZURhdGESPQoGcmVzdWx0GAEgASgOMi0uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5SZXN1bHRTdGF0dXMizgIKGFRvdGFsQnlDYXRlZ29yaWVzUmVxdWVzdBJiCgZmaWx0ZXIYASABKAsyUi5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLlRvdGFsQnlDYXRlZ29yaWVzUmVxdWVzdC5Ub3RhbFJlcXVlc3RGaWx0ZXISFwoPb3JnYW5pemF0aW9uX2lkGAIgASgJGrQBChJUb3RhbFJlcXVlc3RGaWx0ZXISNwoGcGVyaW9kGAEgASgLMicuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5QZXJpb2QSEAoIZXZlbnRfaWQYAiABKAQSPQoKY2F0ZWdvcmllcxgDIAMoDjIpLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uQ2F0ZWdvcnkSFAoMY291bnRfdW5pcXVlGAQgASgIIrMBChlUb3RhbEJ5Q2F0ZWdvcmllc1Jlc3BvbnNlEmAKBGRhdGEYASADKAsyUi5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLlRvdGFsQnlDYXRlZ29yaWVzUmVzcG9uc2UuVG90YWxSZXNwb25zZURhdGEaNAoRVG90YWxSZXNwb25zZURhdGESEAoIZXZlbnRfaWQYASABKAQSDQoFY291bnQYAiABKAQixQEKF1Nlc3Npb25EdXJhdGlvbnNSZXF1ZXN0EmUKBmZpbHRlchgBIAEoCzJVLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuU2Vzc2lvbkR1cmF0aW9uc1JlcXVlc3QuU2Vzc2lvbkR1cmF0aW9uc0ZpbHRlchIXCg9vcmdhbml6YXRpb25faWQYAiABKAkaKgoWU2Vzc2lvbkR1cmF0aW9uc0ZpbHRlchIQCghldmVudF9pZBgBIAEoBCK2AQoYU2Vzc2lvbkR1cmF0aW9uc1Jlc3BvbnNlEmIKBGRhdGEYASADKAsyVC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLlNlc3Npb25EdXJhdGlvbnNSZXNwb25zZS5TZXNzaW9uRHVyYXRpb25zRGF0YRo2ChRTZXNzaW9uRHVyYXRpb25zRGF0YRINCgV1c2VycxgBIAEoBBIPCgdtaW51dGVzGAIgASgEIowCChlTZXNzaW9uRHVyYXRpb25BdmdSZXF1ZXN0EmkKBmZpbHRlchgBIAEoCzJZLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuU2Vzc2lvbkR1cmF0aW9uQXZnUmVxdWVzdC5TZXNzaW9uRHVyYXRpb25BdmdGaWx0ZXISFwoPb3JnYW5pemF0aW9uX2lkGAIgASgJGmsKGFNlc3Npb25EdXJhdGlvbkF2Z0ZpbHRlchIQCghldmVudF9pZBgBIAEoBBI9CgpjYXRlZ29yaWVzGAIgAygOMikuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5DYXRlZ29yeSLCAQoaU2Vzc2lvbkR1cmF0aW9uQXZnUmVzcG9uc2USZgoEZGF0YRgBIAEoCzJYLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnRlcmFjdGlvbnMuU2Vzc2lvbkR1cmF0aW9uQXZnUmVzcG9uc2UuU2Vzc2lvbkR1cmF0aW9uQXZnRGF0YRo8ChZTZXNzaW9uRHVyYXRpb25BdmdEYXRhEhAKCGV2ZW50X2lkGAEgASgEEhAKCGF2Z190aW1lGAIgASgEKsYBChVJbnRlcmFjdGlvbkFjdGlvblR5cGUSIQodSU5URVJBQ1RJT05fQUNUSU9OX1RZUEVfVU5TRVQQABIfChtJTlRFUkFDVElPTl9BQ1RJT05fVFlQRV9UQVAQARIgChxJTlRFUkFDVElPTl9BQ1RJT05fVFlQRV9DQUxMEAISIwofSU5URVJBQ1RJT05fQUNUSU9OX1RZUEVfTUVTU0FHRRADEiIKHklOVEVSQUNUSU9OX0FDVElPTl9UWVBFX1NDUk9MTBAEQroBCiljb20uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLmludGVyYWN0aW9ucy52MUIcU3RyZWFtTGF5ZXJJbnRlcmFjdGlvbnNQcm90b1ABWmRnaXRodWIuY29tL3N0cmVhbWxheWVyL3NsLXByb3RvZmlsZXMvLmJ1aWxkL2dvL3N0cmVhbWxheWVyL2FuYWx5dGljcy92MS9pbnRlcmFjdGlvbnM7c2xfaW50ZXJhY3Rpb25zogIGU0xfQVBJYgZwcm90bzM",[Vs,Wc]),Sie=St(IG,0),ow=Tt(Sie),nR=kt("CjpzdHJlYW1sYXllci9hbmFseXRpY3MvdjEvbm90aWZpY2F0aW9ucy9ub3RpZmljYXRpb25zLnByb3RvEiZzdHJlYW1sYXllci5hbmFseXRpY3MudjEubm90aWZpY2F0aW9ucyKaBAoZVG90YWxOb3RpZmljYXRpb25zUmVxdWVzdBJkCgZmaWx0ZXIYASABKAsyVC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEubm90aWZpY2F0aW9ucy5Ub3RhbE5vdGlmaWNhdGlvbnNSZXF1ZXN0LlRvdGFsUmVxdWVzdEZpbHRlchqWAwoSVG90YWxSZXF1ZXN0RmlsdGVyEjcKBnBlcmlvZBgBIAEoCzInLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uUGVyaW9kEhEKCWV2ZW50X2lkcxgCIAMoBBI9CgpjYXRlZ29yaWVzGAMgAygOMikuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5DYXRlZ29yeRJUChJub3RpZmljYXRpb25fa2luZHMYBCADKA4yOC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEubm90aWZpY2F0aW9ucy5Ob3RpZmljYXRpb25LaW5kElQKEm5vdGlmaWNhdGlvbl90eXBlcxgFIAMoDjI4LnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5ub3RpZmljYXRpb25zLk5vdGlmaWNhdGlvblR5cGUSMwoEa2luZBgGIAEoDjIlLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uS2luZBIUCgxjb3VudF91bmlxdWUYByABKAgitgEKGlRvdGFsTm90aWZpY2F0aW9uc1Jlc3BvbnNlEmIKBGRhdGEYASADKAsyVC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEubm90aWZpY2F0aW9ucy5Ub3RhbE5vdGlmaWNhdGlvbnNSZXNwb25zZS5Ub3RhbFJlc3BvbnNlRGF0YRo0ChFUb3RhbFJlc3BvbnNlRGF0YRIQCghldmVudF9pZBgBIAEoBBINCgVjb3VudBgCIAEoBCK2BgoXU2VuZE5vdGlmaWNhdGlvblJlcXVlc3QSXwoEZGF0YRgBIAMoCzJRLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5ub3RpZmljYXRpb25zLlNlbmROb3RpZmljYXRpb25SZXF1ZXN0LkNyZWF0ZVJlcXVlc3REYXRhGrkFChFDcmVhdGVSZXF1ZXN0RGF0YRIQCghldmVudF9pZBgBIAEoBBIPCgd1c2VyX2lkGAIgASgEEjsKCGNhdGVnb3J5GAMgASgOMikuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5DYXRlZ29yeRJTChFub3RpZmljYXRpb25fa2luZBgEIAEoDjI4LnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5ub3RpZmljYXRpb25zLk5vdGlmaWNhdGlvbktpbmQSUwoRbm90aWZpY2F0aW9uX3R5cGUYBSABKA4yOC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEubm90aWZpY2F0aW9ucy5Ob3RpZmljYXRpb25UeXBlEjMKBGtpbmQYBiABKA4yJS5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLktpbmQSMwoPdHJhY2tfdGltZXN0YW1wGAcgASgLMhouZ29vZ2xlLnByb3RvYnVmLlRpbWVzdGFtcBIRCglkZXZpY2VfaWQYCCABKAkSCgoCb3MYCSABKAkSEgoKdXNlcl9hZ2VudBgKIAEoCRIWCg5zbF9zZGtfdmVyc2lvbhgLIAEoCRISCgpzZXNzaW9uX2lkGAwgASgJEhoKEm92ZXJsYXlfc2Vzc2lvbl9pZBgNIAEoCRIQCgh0b3BpY19pZBgOIAEoCRI+Cgp0b3BpY190eXBlGBUgASgOMiouc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5Ub3BpY1R5cGUSEwoLdXNlcl9pZF9zdHIYEyABKAkSTgoSc2NyZWVuX29yaWVudGF0aW9uGBQgASgOMjIuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5TY3JlZW5PcmllbnRhdGlvbiLSAQoYU2VuZE5vdGlmaWNhdGlvblJlc3BvbnNlEmEKBGRhdGEYASABKAsyUy5zdHJlYW1sYXllci5hbmFseXRpY3MudjEubm90aWZpY2F0aW9ucy5TZW5kTm90aWZpY2F0aW9uUmVzcG9uc2UuQ3JlYXRlUmVzcG9uc2VEYXRhGlMKEkNyZWF0ZVJlc3BvbnNlRGF0YRI9CgZyZXN1bHQYASABKA4yLS5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLlJlc3VsdFN0YXR1cyKYAwolVG90YWxOb3RpZmljYXRpb25zQnlDYXRlZ29yaWVzUmVxdWVzdBJwCgZmaWx0ZXIYASABKAsyYC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEubm90aWZpY2F0aW9ucy5Ub3RhbE5vdGlmaWNhdGlvbnNCeUNhdGVnb3JpZXNSZXF1ZXN0LlRvdGFsUmVxdWVzdEZpbHRlchr8AQoSVG90YWxSZXF1ZXN0RmlsdGVyEjcKBnBlcmlvZBgBIAEoCzInLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uUGVyaW9kEhAKCGV2ZW50X2lkGAIgASgEEjMKBGtpbmQYAyABKA4yJS5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLktpbmQSPQoKY2F0ZWdvcmllcxgEIAMoDjIpLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uQ2F0ZWdvcnkSEQoJcm91dGVfbWFwGAUgASgJEhQKDGNvdW50X3VuaXF1ZRgGIAEoCCLOAQomVG90YWxOb3RpZmljYXRpb25zQnlDYXRlZ29yaWVzUmVzcG9uc2USbgoEZGF0YRgBIAMoCzJgLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5ub3RpZmljYXRpb25zLlRvdGFsTm90aWZpY2F0aW9uc0J5Q2F0ZWdvcmllc1Jlc3BvbnNlLlRvdGFsUmVzcG9uc2VEYXRhGjQKEVRvdGFsUmVzcG9uc2VEYXRhEhAKCGV2ZW50X2lkGAEgASgEEg0KBWNvdW50GAIgASgEKvECChBOb3RpZmljYXRpb25LaW5kEhsKF05PVElGSUNBVElPTl9LSU5EX1VOU0VUEAASHQoZTk9USUZJQ0FUSU9OX0tJTkRfTUVTU0FHRRABEhoKFk5PVElGSUNBVElPTl9LSU5EX0NBTEwQAhIdChlOT1RJRklDQVRJT05fS0lORF9UV0lUVEVSEAMSGgoWTk9USUZJQ0FUSU9OX0tJTkRfV0FWRRAEEhwKGE5PVElGSUNBVElPTl9LSU5EX0lOUExBWRAFEiAKHE5PVElGSUNBVElPTl9LSU5EX0dST1VQX0NBTEwQBhIhCh1OT1RJRklDQVRJT05fS0lORF9NSVNTRURfQ0FMTBAHEicKI05PVElGSUNBVElPTl9LSU5EX01JU1NFRF9HUk9VUF9DQUxMEAgSIQodTk9USUZJQ0FUSU9OX0tJTkRfV0FUQ0hfUEFSVFkQCRIbChdOT1RJRklDQVRJT05fS0lORF9QT0xMUxAKKmkKEE5vdGlmaWNhdGlvblR5cGUSGwoXTk9USUZJQ0FUSU9OX1RZUEVfVU5TRVQQABIcChhOT1RJRklDQVRJT05fVFlQRV9JTl9BUFAQARIaChZOT1RJRklDQVRJT05fVFlQRV9QVVNIEAJCvgEKKmNvbS5zdHJlYW1sYXllci5hbmFseXRpY3Mubm90aWZpY2F0aW9ucy52MUIdU3RyZWFtTGF5ZXJOb3RpZmljYXRpb25zUHJvdG9QAVpmZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9hbmFseXRpY3MvdjEvbm90aWZpY2F0aW9ucztzbF9ub3RpZmljYXRpb25zogIGU0xfQVBJYgZwcm90bzM",[Vs,Wc]),Tie=St(nR,0),xa=Tt(Tie),Cie=St(nR,1),lw=Tt(Cie),Rie=kt("CjZzdHJlYW1sYXllci9hbmFseXRpY3MvdjEvcGVybWlzc2lvbnMvcGVybWlzc2lvbnMucHJvdG8SJHN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5wZXJtaXNzaW9ucyLeAgoXVG90YWxQZXJtaXNzaW9uc1JlcXVlc3QSYAoGZmlsdGVyGAEgASgLMlAuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLnBlcm1pc3Npb25zLlRvdGFsUGVybWlzc2lvbnNSZXF1ZXN0LlRvdGFsUmVxdWVzdEZpbHRlchrgAQoSVG90YWxSZXF1ZXN0RmlsdGVyEjcKBnBlcmlvZBgBIAEoCzInLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uUGVyaW9kEhEKCWV2ZW50X2lkcxgCIAMoBBJJCgtwZXJtaXNzaW9ucxgDIAMoDjI0LnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5wZXJtaXNzaW9ucy5QZXJtaXNzaW9uVHlwZRIzCgRraW5kGAQgASgOMiUuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5LaW5kIrABChhUb3RhbFBlcm1pc3Npb25zUmVzcG9uc2USXgoEZGF0YRgBIAMoCzJQLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5wZXJtaXNzaW9ucy5Ub3RhbFBlcm1pc3Npb25zUmVzcG9uc2UuVG90YWxSZXNwb25zZURhdGEaNAoRVG90YWxSZXNwb25zZURhdGESEAoIZXZlbnRfaWQYASABKAQSDQoFY291bnQYAiABKAQiqAUKFlNlbmRQZXJtaXNzaW9uc1JlcXVlc3QSXAoEZGF0YRgBIAMoCzJOLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5wZXJtaXNzaW9ucy5TZW5kUGVybWlzc2lvbnNSZXF1ZXN0LkNyZWF0ZVJlcXVlc3REYXRhGq8EChFDcmVhdGVSZXF1ZXN0RGF0YRIQCghldmVudF9pZBgBIAEoBBIPCgd1c2VyX2lkGAIgASgEEkgKCnBlcm1pc3Npb24YAyABKA4yNC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEucGVybWlzc2lvbnMuUGVybWlzc2lvblR5cGUSMwoEa2luZBgEIAEoDjIlLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uS2luZBIzCg90cmFja190aW1lc3RhbXAYBSABKAsyGi5nb29nbGUucHJvdG9idWYuVGltZXN0YW1wEhEKCXJvdXRlX21hcBgGIAEoCRIRCglkZXZpY2VfaWQYByABKAkSCgoCb3MYCCABKAkSEgoKdXNlcl9hZ2VudBgJIAEoCRIWCg5zbF9zZGtfdmVyc2lvbhgKIAEoCRISCgpzZXNzaW9uX2lkGAsgASgJEhoKEm92ZXJsYXlfc2Vzc2lvbl9pZBgMIAEoCRIQCgh0b3BpY19pZBgNIAEoCRI+Cgp0b3BpY190eXBlGBAgASgOMiouc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5Ub3BpY1R5cGUSEwoLdXNlcl9pZF9zdHIYDiABKAkSTgoSc2NyZWVuX29yaWVudGF0aW9uGA8gASgOMjIuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5TY3JlZW5PcmllbnRhdGlvbiLOAQoXU2VuZFBlcm1pc3Npb25zUmVzcG9uc2USXgoEZGF0YRgBIAEoCzJQLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5wZXJtaXNzaW9ucy5TZW5kUGVybWlzc2lvbnNSZXNwb25zZS5DcmVhdGVSZXNwb25zZURhdGEaUwoSQ3JlYXRlUmVzcG9uc2VEYXRhEj0KBnJlc3VsdBgBIAEoDjItLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uUmVzdWx0U3RhdHVzKoYBCg5QZXJtaXNzaW9uVHlwZRIZChVQRVJNSVNTSU9OX1RZUEVfVU5TRVQQABIgChxQRVJNSVNTSU9OX1RZUEVfQUREUkVTU19CT09LEAESGwoXUEVSTUlTU0lPTl9UWVBFX0NBTExJTkcQAhIaChZQRVJNSVNTSU9OX1RZUEVfQ0FNRVJBEANCtgEKKGNvbS5zdHJlYW1sYXllci5hbmFseXRpY3MucGVybWlzc2lvbnMudjFCG1N0cmVhbUxheWVyUGVybWlzc2lvbnNQcm90b1ABWmJnaXRodWIuY29tL3N0cmVhbWxheWVyL3NsLXByb3RvZmlsZXMvLmJ1aWxkL2dvL3N0cmVhbWxheWVyL2FuYWx5dGljcy92MS9wZXJtaXNzaW9ucztzbF9wZXJtaXNzaW9uc6ICBlNMX0FQSWIGcHJvdG8z",[Vs,Wc]),Iie=kt("CipzdHJlYW1sYXllci9hbmFseXRpY3MvdjEvd2F2ZXMvd2F2ZXMucHJvdG8SHnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS53YXZlcyLDAgoRVG90YWxXYXZlc1JlcXVlc3QSVAoGZmlsdGVyGAEgASgLMkQuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLndhdmVzLlRvdGFsV2F2ZXNSZXF1ZXN0LlRvdGFsUmVxdWVzdEZpbHRlchrXAQoSVG90YWxSZXF1ZXN0RmlsdGVyEjcKBnBlcmlvZBgBIAEoCzInLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uUGVyaW9kEhEKCWV2ZW50X2lkcxgCIAMoBBJACgpjYXRlZ29yaWVzGAMgAygOMiwuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLndhdmVzLldhdmVDYXRlZ29yeRIzCgRraW5kGAQgASgOMiUuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5LaW5kIp4BChJUb3RhbFdhdmVzUmVzcG9uc2USUgoEZGF0YRgBIAMoCzJELnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS53YXZlcy5Ub3RhbFdhdmVzUmVzcG9uc2UuVG90YWxSZXNwb25zZURhdGEaNAoRVG90YWxSZXNwb25zZURhdGESEAoIZXZlbnRfaWQYASABKAQSDQoFY291bnQYAiABKAQijAIKF1RvdGFsV2F2ZXNCeUtpbmRSZXF1ZXN0EloKBmZpbHRlchgBIAEoCzJKLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS53YXZlcy5Ub3RhbFdhdmVzQnlLaW5kUmVxdWVzdC5Ub3RhbFJlcXVlc3RGaWx0ZXIalAEKElRvdGFsUmVxdWVzdEZpbHRlchI3CgZwZXJpb2QYASABKAsyJy5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLlBlcmlvZBIzCgRraW5kGAIgASgOMiUuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5LaW5kEhAKCGV2ZW50X2lkGAMgASgEIqoBChhUb3RhbFdhdmVzQnlLaW5kUmVzcG9uc2USWAoEZGF0YRgBIAMoCzJKLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS53YXZlcy5Ub3RhbFdhdmVzQnlLaW5kUmVzcG9uc2UuVG90YWxSZXNwb25zZURhdGEaNAoRVG90YWxSZXNwb25zZURhdGESEAoIZXZlbnRfaWQYASABKAQSDQoFY291bnQYAiABKAQijAUKEFNlbmRXYXZlc1JlcXVlc3QSUAoEZGF0YRgBIAMoCzJCLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS53YXZlcy5TZW5kV2F2ZXNSZXF1ZXN0LkNyZWF0ZVJlcXVlc3REYXRhGqUEChFDcmVhdGVSZXF1ZXN0RGF0YRIQCghldmVudF9pZBgBIAEoBBIPCgd1c2VyX2lkGAIgASgEEj4KCGNhdGVnb3J5GAMgASgOMiwuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLndhdmVzLldhdmVDYXRlZ29yeRIzCgRraW5kGAQgASgOMiUuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5LaW5kEjMKD3RyYWNrX3RpbWVzdGFtcBgFIAEoCzIaLmdvb2dsZS5wcm90b2J1Zi5UaW1lc3RhbXASEQoJcm91dGVfbWFwGAYgASgJEhEKCWRldmljZV9pZBgHIAEoCRIKCgJvcxgIIAEoCRISCgp1c2VyX2FnZW50GAkgASgJEhYKDnNsX3Nka192ZXJzaW9uGAogASgJEhIKCnNlc3Npb25faWQYCyABKAkSGgoSb3ZlcmxheV9zZXNzaW9uX2lkGAwgASgJEhAKCHRvcGljX2lkGA0gASgJEhMKC3VzZXJfaWRfc3RyGA4gASgJEj4KCnRvcGljX3R5cGUYECABKA4yKi5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLlRvcGljVHlwZRJOChJzY3JlZW5fb3JpZW50YXRpb24YDyABKA4yMi5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLlNjcmVlbk9yaWVudGF0aW9uIrwBChFTZW5kV2F2ZXNSZXNwb25zZRJSCgRkYXRhGAEgASgLMkQuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLndhdmVzLlNlbmRXYXZlc1Jlc3BvbnNlLkNyZWF0ZVJlc3BvbnNlRGF0YRpTChJDcmVhdGVSZXNwb25zZURhdGESPQoGcmVzdWx0GAEgASgOMi0uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5SZXN1bHRTdGF0dXMqewoMV2F2ZUNhdGVnb3J5EhcKE1dBVkVfQ0FURUdPUllfVU5TRVQQABIaChZXQVZFX0NBVEVHT1JZX1dBVENISU5HEAESGwoXV0FWRV9DQVRFR09SWV9NRVNTQUdJTkcQAhIZChVXQVZFX0NBVEVHT1JZX1ZPSUNJTkcQA0KeAQoiY29tLnN0cmVhbWxheWVyLmFuYWx5dGljcy53YXZlcy52MUIVU3RyZWFtTGF5ZXJXYXZlc1Byb3RvUAFaVmdpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvYW5hbHl0aWNzL3YxL3dhdmVzO3NsX3dhdmVzogIGU0xfQVBJYgZwcm90bzM",[Vs,Wc]),wie=kt("CjJzdHJlYW1sYXllci9hbmFseXRpY3MvdjIvc3RyZWFtaW5nL3N0cmVhbWluZy5wcm90bxIic3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZyJNCgxTZW5kUmVzcG9uc2USPQoGcmVzdWx0GAEgASgOMi0uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5SZXN1bHRTdGF0dXMiCwoJU2VuZEV4dHJhIqsHCgpDb21tb25EYXRhEhUKCGV2ZW50X2lkGAEgASgESACIAQESQAoIY2F0ZWdvcnkYAiABKA4yKS5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLkNhdGVnb3J5SAGIAQESOAoEa2luZBgDIAEoDjIlLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uS2luZEgCiAEBElMKEnNjcmVlbl9vcmllbnRhdGlvbhgEIAEoDjIyLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uU2NyZWVuT3JpZW50YXRpb25IA4gBARIXCgpzZXNzaW9uX2lkGAUgASgJSASIAQESHwoSb3ZlcmxheV9zZXNzaW9uX2lkGAYgASgJSAWIAQESFQoIdG9waWNfaWQYByABKAlIBogBARJDCgp0b3BpY190eXBlGAggASgOMiouc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLmNvbW1vbi5Ub3BpY1R5cGVIB4gBARIcCg9wYXJlbnRfdG9waWNfaWQYCSABKAlICIgBARJKChFwYXJlbnRfdG9waWNfdHlwZRgKIAEoDjIqLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uVG9waWNUeXBlSAmIAQESHwoScGFydGljaXBhbnRzX2NvdW50GAsgASgNSAqIAQESFgoJcm91dGVfbWFwGAwgASgJSAuIAQESHAoPdHJhY2tfdGltZXN0YW1wGA0gASgESAyIAQESSgoOdG9waWNfc3ViX3R5cGUYDiABKA4yLS5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuY29tbW9uLlRvcGljU3ViVHlwZUgNiAEBEhQKB2NvdW50cnkYDyABKAlIDogBAUILCglfZXZlbnRfaWRCCwoJX2NhdGVnb3J5QgcKBV9raW5kQhUKE19zY3JlZW5fb3JpZW50YXRpb25CDQoLX3Nlc3Npb25faWRCFQoTX292ZXJsYXlfc2Vzc2lvbl9pZEILCglfdG9waWNfaWRCDQoLX3RvcGljX3R5cGVCEgoQX3BhcmVudF90b3BpY19pZEIUChJfcGFyZW50X3RvcGljX3R5cGVCFQoTX3BhcnRpY2lwYW50c19jb3VudEIMCgpfcm91dGVfbWFwQhIKEF90cmFja190aW1lc3RhbXBCEQoPX3RvcGljX3N1Yl90eXBlQgoKCF9jb3VudHJ5IlwKGlNlbmRBdXRoZW50aWNhdGlvbnNNZXNzYWdlEj4KBmNvbW1vbhgBIAEoCzIuLnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuQ29tbW9uRGF0YSJSChBTZW5kQ2FsbHNNZXNzYWdlEj4KBmNvbW1vbhgBIAEoCzIuLnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuQ29tbW9uRGF0YSJaChhTZW5kQ29udmVyc2F0aW9uc01lc3NhZ2USPgoGY29tbW9uGAEgASgLMi4uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZy5Db21tb25EYXRhIqwBChdTZW5kSW50ZXJhY3Rpb25zTWVzc2FnZRI+CgZjb21tb24YASABKAsyLi5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLkNvbW1vbkRhdGESUQoLYWN0aW9uX3R5cGUYAiABKA4yPC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEuaW50ZXJhY3Rpb25zLkludGVyYWN0aW9uQWN0aW9uVHlwZSJUChJFdmVudE9wZW5lZE1lc3NhZ2USPgoGY29tbW9uGAEgASgLMi4uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZy5Db21tb25EYXRhIugBChZTZW5kSW52aXRhdGlvbnNNZXNzYWdlEj4KBmNvbW1vbhgBIAEoCzIuLnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuQ29tbW9uRGF0YRJKCghjYXRlZ29yeRgCIAEoDjI4LnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnZpdGF0aW9ucy5JbnZpdGF0aW9uQ2F0ZWdvcnkSQgoEZnJvbRgDIAEoDjI0LnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5pbnZpdGF0aW9ucy5JbnZpdGF0aW9uRnJvbSJVChNMYXVuY2hCdXR0b25NZXNzYWdlEj4KBmNvbW1vbhgBIAEoCzIuLnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuQ29tbW9uRGF0YSL/AQoTTm90aWZpY2F0aW9uTWVzc2FnZRI+CgZjb21tb24YASABKAsyLi5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLkNvbW1vbkRhdGESUwoRbm90aWZpY2F0aW9uX2tpbmQYAiABKA4yOC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEubm90aWZpY2F0aW9ucy5Ob3RpZmljYXRpb25LaW5kElMKEW5vdGlmaWNhdGlvbl90eXBlGAMgASgOMjguc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYxLm5vdGlmaWNhdGlvbnMuTm90aWZpY2F0aW9uVHlwZSKdAQoRUGVybWlzc2lvbk1lc3NhZ2USPgoGY29tbW9uGAEgASgLMi4uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZy5Db21tb25EYXRhEkgKCnBlcm1pc3Npb24YAiABKA4yNC5zdHJlYW1sYXllci5hbmFseXRpY3MudjEucGVybWlzc2lvbnMuUGVybWlzc2lvblR5cGUiWgoYQnV0dG9uSW5pdGlhbGl6ZWRNZXNzYWdlEj4KBmNvbW1vbhgBIAEoCzIuLnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuQ29tbW9uRGF0YSKOAQoMV2F2ZXNNZXNzYWdlEj4KBmNvbW1vbhgBIAEoCzIuLnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuQ29tbW9uRGF0YRI+CghjYXRlZ29yeRgCIAEoDjIsLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS53YXZlcy5XYXZlQ2F0ZWdvcnkiUgoQSGVhcnRiZWF0TWVzc2FnZRI+CgZjb21tb24YASABKAsyLi5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLkNvbW1vbkRhdGEimQEKDEdhbWVzTWVzc2FnZRI+CgZjb21tb24YASABKAsyLi5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLkNvbW1vbkRhdGESSQoQcG9sbF9vcGVuZWRfZnJvbRgCIAEoDjIvLnN0cmVhbWxheWVyLmFuYWx5dGljcy52MS5jb21tb24uUG9sbE9wZW5lZEZyb20iVgoFTG9naW4SPgoGY29tbW9uGAEgASgLMi4uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZy5Db21tb25EYXRhEg0KBXRva2VuGAIgASgJIkgKBkxvZ291dBI+CgZjb21tb24YASABKAsyLi5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLkNvbW1vbkRhdGEiygkKC1NlbmRSZXF1ZXN0Ek4KBGF1dGgYASABKAsyPi5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLlNlbmRBdXRoZW50aWNhdGlvbnNNZXNzYWdlSAASRAoEY2FsbBgCIAEoCzI0LnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuU2VuZENhbGxzTWVzc2FnZUgAElUKDWNvbnZlcnNhdGlvbnMYAyABKAsyPC5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLlNlbmRDb252ZXJzYXRpb25zTWVzc2FnZUgAElMKDGludGVyYWN0aW9ucxgEIAEoCzI7LnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuU2VuZEludGVyYWN0aW9uc01lc3NhZ2VIABJOCgxldmVudF9vcGVuZWQYBSABKAsyNi5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLkV2ZW50T3BlbmVkTWVzc2FnZUgAElAKCmludml0YXRpb24YBiABKAsyOi5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLlNlbmRJbnZpdGF0aW9uc01lc3NhZ2VIABJQCg1sYXVuY2hfYnV0dG9uGAcgASgLMjcuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZy5MYXVuY2hCdXR0b25NZXNzYWdlSAASTwoMbm90aWZpY2F0aW9uGAggASgLMjcuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZy5Ob3RpZmljYXRpb25NZXNzYWdlSAASSwoKcGVybWlzc2lvbhgJIAEoCzI1LnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuUGVybWlzc2lvbk1lc3NhZ2VIABJTCgtidXR0b25faW5pdBgKIAEoCzI8LnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuQnV0dG9uSW5pdGlhbGl6ZWRNZXNzYWdlSAASQQoFd2F2ZXMYCyABKAsyMC5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLldhdmVzTWVzc2FnZUgAEkkKCWhlYXJ0YmVhdBgMIAEoCzI0LnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuSGVhcnRiZWF0TWVzc2FnZUgAEkEKBWdhbWVzGA0gASgLMjAuc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZy5HYW1lc01lc3NhZ2VIABI6CgVsb2dpbhgOIAEoCzIpLnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuTG9naW5IABI8CgZsb2dvdXQYDyABKAsyKi5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLkxvZ291dEgAEjwKBWV4dHJhGGQgASgLMi0uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZy5TZW5kRXh0cmFCCQoHbWVzc2FnZTKyAgoQQW5hbHl0aWNzU2VydmljZRKFAQoEU2VuZBIvLnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuU2VuZFJlcXVlc3QaMC5zdHJlYW1sYXllci5hbmFseXRpY3MudjIuc3RyZWFtaW5nLlNlbmRSZXNwb25zZSIYiqYdDGNvbnN1bWUtZGF0YaimHQKwph0BKAEShAEKBVVuYXJ5Ei8uc3RyZWFtbGF5ZXIuYW5hbHl0aWNzLnYyLnN0cmVhbWluZy5TZW5kUmVxdWVzdBowLnN0cmVhbWxheWVyLmFuYWx5dGljcy52Mi5zdHJlYW1pbmcuU2VuZFJlc3BvbnNlIhiKph0MY29uc3VtZS1kYXRhqKYdArCmHQEaD4q1GAtjaC1jb25zdW1lckKuAQomY29tLnN0cmVhbWxheWVyLmFuYWx5dGljcy5zdHJlYW1pbmcudjFCGVN0cmVhbUxheWVyU3RyZWFtaW5nUHJvdG9QAVpeZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci9hbmFseXRpY3MvdjEvc3RyZWFtaW5nO3NsX3N0cmVhbWluZ6ICBlNMX0FQSWIGcHJvdG8z",[ya,Vs,IG,jC,nR,Rie,Iie]),wG=El(wie,0);function _ie(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _G={exports:{}},Ui=_G.exports={},Gr,Dr;function PA(){throw new Error("setTimeout has not been defined")}function OA(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Gr=setTimeout:Gr=PA}catch{Gr=PA}try{typeof clearTimeout=="function"?Dr=clearTimeout:Dr=OA}catch{Dr=OA}})();function xG(t){if(Gr===setTimeout)return setTimeout(t,0);if((Gr===PA||!Gr)&&setTimeout)return Gr=setTimeout,setTimeout(t,0);try{return Gr(t,0)}catch{try{return Gr.call(null,t,0)}catch{return Gr.call(this,t,0)}}}function xie(t){if(Dr===clearTimeout)return clearTimeout(t);if((Dr===OA||!Dr)&&clearTimeout)return Dr=clearTimeout,clearTimeout(t);try{return Dr(t)}catch{try{return Dr.call(null,t)}catch{return Dr.call(this,t)}}}var ja=[],ju=!1,Jl,D1=-1;function Nie(){!ju||!Jl||(ju=!1,Jl.length?ja=Jl.concat(ja):D1=-1,ja.length&&NG())}function NG(){if(!ju){var t=xG(Nie);ju=!0;for(var e=ja.length;e;){for(Jl=ja,ja=[];++D1<e;)Jl&&Jl[D1].run();D1=-1,e=ja.length}Jl=null,ju=!1,xie(t)}}Ui.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];ja.push(new VG(t,e)),ja.length===1&&!ju&&xG(NG)};function VG(t,e){this.fun=t,this.array=e}VG.prototype.run=function(){this.fun.apply(null,this.array)};Ui.title="browser";Ui.browser=!0;Ui.env={};Ui.argv=[];Ui.version="";Ui.versions={};function Eo(){}Ui.on=Eo;Ui.addListener=Eo;Ui.once=Eo;Ui.off=Eo;Ui.removeListener=Eo;Ui.removeAllListeners=Eo;Ui.emit=Eo;Ui.prependListener=Eo;Ui.prependOnceListener=Eo;Ui.listeners=function(t){return[]};Ui.binding=function(t){throw new Error("process.binding is not supported")};Ui.cwd=function(){return"/"};Ui.chdir=function(t){throw new Error("process.chdir is not supported")};Ui.umask=function(){return 0};var Vie=_G.exports;const pt=_ie(Vie),Lie=["trace","debug","info","warn","error","fatal"],kie={trace:"debug",debug:"debug",info:"info",warn:"warn",error:"error",fatal:"error"},Fie=typeof window<"u"&&!!window.localStorage.getItem("SL_DEBUG");function Uie(t,e){return Fie?(...i)=>{if(i.length!==0)if(typeof i[0]=="string")t(`[${e}]`,...i);else{const[n,...s]=i;t(`[${e}]`,...s,n)}}:()=>{}}function LG(t){const e=t.name||"app",i={level:"trace",child(n,s){return LG({...t,...n})}};for(const n of Lie){const s=kie[n],r=(...a)=>console[s](...a);i[n]=Uie(r,e)}return i}const Bie=LG({}),ks=(t,e)=>Bie.child({name:t},e);let Wie=class extends Event{constructor(e,i){super(e),O(this,"slEventBus"),this.slEventBus=i}};const Gie=ks("event-bus");let Die=class{constructor(e="sl-event-bus"){O(this,"name"),O(this,"listeners"),O(this,"emit",(i,n)=>{const s=new Wie(this.name,{...n,type:i});Gie.debug(s,"Emitting event"),window.dispatchEvent(s)}),O(this,"destroy",()=>{this.listeners.forEach(i=>{window.removeEventListener(this.name,i),this.listeners.delete(i)}),this.listeners.clear()}),this.name=e,this.listeners=new Set}listen(e){return window.addEventListener(this.name,e),this.listeners.add(e),()=>{this.off(e)}}off(e){window.removeEventListener(this.name,e),this.listeners.delete(e)}},Mie=class{};var Ha;(function(t){t[t.ONBOARDING=1]="ONBOARDING",t[t.QUESTION=2]="QUESTION",t[t.QUESTION_RESOLVED=3]="QUESTION_RESOLVED"})(Ha||(Ha={}));window.slStore=Object.create(null);let ky=class{constructor(e,i){O(this,"store"),O(this,"name"),this.store=e,this.name=i}getStore(){return this.store}};const Zie=t=>{const e=Object.keys(t);return $ee(e.map(i=>t[i].getStore()),(...i)=>Object.fromEntries(e.map((n,s)=>[n,i[s]])))};class oc extends ky{constructor(){super(...arguments),O(this,"getValues",()=>this.getStore().get()),O(this,"getValue",e=>this.getStore().get()[e]),O(this,"setValue",(e,i)=>this.getStore().setKey(e,i)),O(this,"subscribe",(...e)=>this.getStore().subscribe(...e)),O(this,"unsubscribe",()=>this.getStore().off())}}const Ts=t=>MA(t);var Ma;(function(t){t.ORGANIZATION="ORGANIZATION",t.STREAM="STREAM"})(Ma||(Ma={}));const Pie={[ot.BETTING]:"betting",[ot.GAMES]:"games",[ot.PUBLIC_CHAT]:"publicChat",[ot.TWITTER]:"twitter"};var ul;(function(t){t.Ready="ready",t.Suspended="suspended"})(ul||(ul={}));const Oie=new Set(["equals","clone","fromBinary","fromJson","fromJsonString","toBinary","toJson","toJsonString","getType"]);let kG=class{constructor(){O(this,"status"),O(this,"listeners",new Set),O(this,"enable",()=>{this.status.set(ul.Ready)}),O(this,"disable",()=>{this.status.set(ul.Suspended)}),this.status=ha(ul.Suspended)}registerEventListener(e){this.listeners.add(e)}fireEvent(e){for(const i of this.listeners.values())try{i.onEvent(e)}catch(n){console.error(n)}}},FG=class{constructor({settings:e,...i},n){O(this,"status"),O(this,"source"),O(this,"config"),O(this,"settings"),O(this,"listeners",new Set),O(this,"settingsKey"),O(this,"enable",()=>{this.status.set(ul.Ready)}),O(this,"disable",()=>{this.status.set(ul.Suspended)}),O(this,"setFeatureConfig",({settings:s,...r})=>{var a;let o;for(o in r)this.config.setValue(o,r[o]);if(((a=s==null?void 0:s.overlaySettings)==null?void 0:a.case)!==void 0&&(s==null?void 0:s.overlaySettings.case)===this.settingsKey){const l=s.overlaySettings.value;if(l!==void 0){let c;for(c in l)!Oie.has(c)&&l[c]&&this.settings.setValue(c,l[c])}}}),O(this,"update",(s,r)=>{this.source===Ma.STREAM&&r===Ma.ORGANIZATION||(this.setFeatureConfig(s),this.source=r)}),this.settingsKey=Pie[i.type],this.status=ha(ul.Suspended),this.config=new oc(Ts(i),`feature:config:${this.settingsKey}`),this.settingsKey!==void 0&&(e==null?void 0:e.overlaySettings.case)===this.settingsKey?this.settings=new oc(Ts(e.overlaySettings.value),`feature:settings:${this.settingsKey}`):this.settings=new oc(Ts({}),`feature:settings:${this.settingsKey}`),this.source=n}get featureConfig(){return this.config.getStore()}get featureSettings(){return this.settings.getStore()}registerEventListener(e){this.listeners.add(e)}fireEvent(e){for(const i of this.listeners.values())try{i.onEvent(e)}catch(n){console.error(n)}}},Ys=class extends ky{constructor(){super(...arguments),O(this,"getValue",()=>this.getStore().get()),O(this,"setValue",e=>this.getStore().set(e)),O(this,"subscribe",e=>this.getStore().subscribe(e)),O(this,"unsubscribe",()=>this.getStore().off())}getValues(){throw new Error("not implemented")}listen(e){return this.getStore().listen(e)}get(){return this.getStore().get()}};const Zi=t=>ha(t);class Sr extends ky{constructor(e,i,n){super(e,`api:${i}`),O(this,"atomStore"),O(this,"getAtomStore",()=>this.atomStore),O(this,"getValue",()=>new Promise((s,r)=>window.requestAnimationFrame(async()=>{try{const a=this.getStore();if(a.value===void 0)throw new Error("no store");if(!a.key){s(void 0);return}await a.fetch(),s(a.get().data)}catch(a){r(a)}}))),O(this,"getValues",()=>this.getStore().get()),O(this,"setValue",s=>this.getStore().set({loading:!1,data:s==null?void 0:s.data})),O(this,"subscribe",s=>this.getStore().subscribe(s)),O(this,"unsubscribe",()=>{throw new Error("not implemented")}),O(this,"invalidate",()=>{this.store.invalidate()}),O(this,"listen",s=>this.getStore().listen(s)),O(this,"key",()=>this.getStore().key),O(this,"off",()=>this.getStore().off()),this.atomStore=ha(),n&&e.subscribe(s=>{const r=this.atomStore.get(),a=n(s,r);r!==a&&this.atomStore.set(a)})}get(){throw new Error("not implemented")}}const Wt=new Die;async function*Xie(t,e){for await(const i of e){t.response.message=i,t.received_at=Date.now(),t.id=Date.now();const n={type:"__GRPC_DEVTOOLS_EXTENSION__",data:t};window.postMessage(n),yield i}}const Yie=()=>t=>async e=>{const i={id:Date.now(),name:e.url,stream:e.stream,sent_at:Date.now(),request:{header:Object.fromEntries(e.header.entries()),message:e.message},response:{}};try{window.postMessage({type:"__GRPC_DEVTOOLS_EXTENSION__",data:i})}catch(n){console.log("devtools error",n)}try{const n=await t(e);if(i.received_at=Date.now(),i.response.header=Object.fromEntries(n.header.entries()),i.response.trailer=Object.fromEntries(n.trailer.entries()),e.stream){const s={type:"__GRPC_DEVTOOLS_EXTENSION__",data:{...i,stream:!0}};try{window.postMessage(s)}catch(r){console.log("devtools error",r)}return{...n,message:Xie(i,n.message)}}else{i.response.message=n.message,i.latency=i.received_at-i.sent_at;const s={type:"__GRPC_DEVTOOLS_EXTENSION__",data:i};try{window.postMessage(s)}catch(r){console.log("devtools error",r)}}return n}catch(n){i.received_at=Date.now(),i.response.trailer={"grpc-status":n.code,"grpc-message":n.rawMessage},i.response.message=n.rawMessage,i.latency=i.received_at-i.sent_at;const s={type:"__GRPC_DEVTOOLS_EXTENSION__",data:i};try{window.postMessage(s)}catch(r){console.log("devtools error",r)}throw n}};window.dispatchEvent(new CustomEvent("grpc_devtools_loaded"));function UG(t){return t instanceof DOMException&&(t.code===22||t.code===1014||t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED")}let dh=class{constructor(e="main",i=window.localStorage){O(this,"delimiter",":"),O(this,"prefix"),O(this,"storage"),O(this,"clear",()=>{for(const n in window.localStorage)n.startsWith(this.prefix)&&this.storage.removeItem(n)}),O(this,"generateKey",n=>`${this.prefix}${this.delimiter}${n.join(this.delimiter)}`),O(this,"write",(...n)=>{const s=n.pop()||"",r=this.generateKey(n);try{this.storage.setItem(r,s)}catch(a){UG(a)&&this.storage===window.sessionStorage&&(window.sessionStorage.removeItem("slstreamlogs"),this.storage.setItem(r,s))}}),O(this,"read",(...n)=>{const s=this.storage.getItem(this.generateKey(n));return s===null?void 0:s}),O(this,"remove",(...n)=>{this.storage.removeItem(this.generateKey(n))}),this.prefix=`sl-sdk${this.delimiter}${e}`,this.storage=i}};var ur;(function(t){t.Init="init",t.Ready="ready",t.Connecting="connecting",t.Connected="connected",t.Disconnected="disconnected",t.Failed="failed",t.Reconnect="reconnect",t.Reconnecting="reconnecting"})(ur||(ur={}));const cw=ks("grpc:stream");let $ie=class{constructor(e,i,n,s){O(this,"params"),O(this,"streamCancel"),O(this,"method"),O(this,"options"),O(this,"headers"),O(this,"listeners"),O(this,"state"),O(this,"store"),O(this,"paramsListener"),O(this,"reconnectTimeout"),O(this,"attempt",0),O(this,"updateState",a=>{this.state.setValue("status",a),this.state.setValue("ts",new Date),this.addStateLog(`status => ${a}`)}),O(this,"addStateLog",a=>{const o=this.state.getStore().get().log,l=`${this.options.name} ${new Date().toISOString()}: ${a}`;if(o.push(l),this.state.setValue("log",o),localStorage.getItem("SL_DEBUG")){a.startsWith("received data")?cw.trace({name:this.options.name,attempt:this.attempt},"received data"):cw.trace({name:this.options.name,attempt:this.attempt},a);try{window.sessionStorage.setItem("slstreamlogs",window.sessionStorage.getItem("slstreamlogs")+`
`+l)}catch(c){UG(c)&&window.sessionStorage.removeItem("slstreamlogs"),window.sessionStorage.setItem("slstreamlogs",l)}}}),O(this,"addListener",(a,o)=>this.listeners.has(a)?(this.addStateLog(`listener '${a}' not added, already exists`),()=>{}):(this.listeners.set(a,o),this.addStateLog(`listener '${a}' added`),()=>this.removeListener(a))),O(this,"removeListener",a=>{this.listeners.delete(a),this.addStateLog(`listener '${a}' removed`)}),O(this,"connect",()=>{this.updateState(ur.Connecting),this.streamCancel&&(this.addStateLog("disconnect prev connection"),this.streamCancel.abort(),this.streamCancel=void 0);const a="get"in this.params&&typeof this.params.get=="function"?this.params.get():this.params;(async()=>{this.streamCancel=new AbortController;try{const o={headers:this.headers.getValues(),signal:this.streamCancel.signal},l=this.method(a,o);for await(const c of l)this.attempt=0,this.onData(c)}catch(o){o instanceof Nt&&o.code!=et.Canceled&&this.onStreamError(o)}})(),this.updateState(ur.Connected)}),O(this,"disconnect",()=>{var a;this.streamCancel&&this.streamCancel.abort(),this.listeners.clear(),(a=this.paramsListener)==null||a.call(this),clearTimeout(this.reconnectTimeout),this.reconnectTimeout=void 0,this.updateState(ur.Disconnected)}),O(this,"reconnect",()=>{if(this.reconnectTimeout)this.addStateLog("already reconnecting");else if(this.attempt<this.options.reconnectMaxAttempts){this.updateState(ur.Reconnect);const a=Math.min(this.options.reconnectMaxDelay,Math.pow(2,this.attempt)*this.options.reconnectDelay),o=Math.round(a*(1+Math.random())/2);this.reconnectTimeout=setTimeout(()=>{this.attempt++,this.updateState(ur.Reconnecting),this.addStateLog(`reconnect attempt ${this.attempt} after ${o}ms`),this.connect(),this.reconnectTimeout=void 0},o)}else this.addStateLog("max reconnect attempts reached"),this.disconnect()}),O(this,"getStore",()=>{var a;return(a=this.store)==null?void 0:a.getStore()}),O(this,"onData",a=>{try{this.addStateLog(`received data => ${JSON.stringify(a)}`),this.store&&this.store.setValue(a);for(const[,o]of this.listeners)o(a);this.addStateLog(`data routed to ${this.listeners.size} listeners`)}catch(o){this.addStateLog(`error process data => ${o}`)}}),O(this,"onStreamError",a=>{if(this.addStateLog(`error => ${a?JSON.stringify(a):"undefined"}}`),a!==void 0){if(a instanceof Nt&&a.code!==et.Canceled){this.updateState(ur.Failed),this.state.setValue("error",a),a.code===et.Unknown&&a.cause==="missing trailer"&&(this.attempt=0),this.reconnect();return}this.disconnect()}});const r={status:ur.Init,ts:new Date,log:[]};this.state=new oc(Ts(r),`subscription:${s.name}:state`),this.options={...s,reconnectDelay:s.reconnectDelay??1e3,reconnectMaxDelay:s.reconnectMaxDelay??3e4,reconnectMaxAttempts:s.reconnectMaxAttempts??10,withStore:s.withStore??!1},this.headers=e,this.listeners=new Map,this.params=n,this.method=i,s.withStore&&(this.store=new Ys(Zi(null),`subscription:${s.name}:store`)),"subscribe"in n&&typeof n.subscribe=="function"&&(this.paramsListener=n.subscribe(a=>{this.state.getValue("status")===ur.Connected&&(this.addStateLog(`params updated, reconnect => ${JSON.stringify(a)}`),this.reconnect())})),this.updateState(ur.Ready)}};const Kie=new Set([et.Unknown,et.Internal,et.DeadlineExceeded,et.ResourceExhausted,et.FailedPrecondition,et.Unavailable,et.DataLoss]),uw=ks("grpc:retry"),zie=t=>async e=>{const i=e.contextValues.get(XA.retryAttempts),n=300,s=e.contextValues.get(XA.retryDelay);if(e.stream||i===0)return t(e);uw.trace({url:e.url,attempts:i,maxDelay:s},"retry options");for(let r=0;;r++)try{return await t(e)}catch(a){uw.trace({attempt:r,error:a,url:e.url},"retry attempt");const o=Nt.from(a);if(r>=i||!(o instanceof Nt)||!Kie.has(o.code))throw a;const l=Math.min(s,Math.pow(2,r)*n),c=Math.round(l*(1+Math.random())/2);await new Promise(u=>setTimeout(u,c))}},XA={retryAttempts:Jg(10,{description:"Number of attempts to retry"}),retryDelay:Jg(3e4,{description:"Max delay between retries in milliseconds"})},Jie=()=>{const t=localStorage.getItem("sl-device-id");if(t)return t;const e=Ho();return localStorage.setItem("sl-device-id",e),e},jie=()=>{var t;return((t=navigator.userAgentData)==null?void 0:t.platform)||navigator.platform},Hie=t=>t?"webOS":navigator.userAgentData&&navigator.userAgentData.mobile||"ontouchstart"in window||navigator.maxTouchPoints>0?"mobile-web":"desktop-web";let dw=class{constructor(e,i){O(this,"toJsonOptions",{emitDefaultValues:!1,enumAsInteger:!0,useProtoFieldName:!1}),O(this,"transport"),O(this,"streamTransport"),O(this,"nanoquery"),O(this,"host"),O(this,"$headers"),O(this,"storeCache"),O(this,"interceptors",[]),O(this,"clients"),O(this,"streamClients"),O(this,"subscriptions"),O(this,"opts"),O(this,"addSubscription",(a,o,l)=>{const c=this.subscriptions.get(o);if(c)return c;const u=new $ie(this.$headers,a,o,l);return this.subscriptions.set(o,u),u}),O(this,"removeSubscription",a=>{a.disconnect(),this.subscriptions.delete(a.params)}),O(this,"disconnect",()=>{var a,o;for(const[d,h]of this.subscriptions)h.disconnect(),this.subscriptions.delete(d);this.clients.clear(),this.streamClients.clear(),this.subscriptions.clear();const[l,c,u]=aw({dedupeTime:(a=this.opts)==null?void 0:a.dedupeTime,revalidateInterval:(o=this.opts)==null?void 0:o.refetchInterval});this.nanoquery={createFetcherStore:l,createMutatorStore:c,utils:u}}),O(this,"registerInterceptor",a=>{this.interceptors.push(a)}),O(this,"removeInterceptor",a=>{this.interceptors=this.interceptors.filter(o=>o!==a)}),O(this,"getClient",a=>{const o=a.typeName;if(this.clients.has(o))return this.clients.get(o);const l=K6(a,this.transport);return this.clients.set(o,l),l}),O(this,"getStreamClient",a=>{const o=`stream-${a.typeName}`;if(this.clients.has(o))return this.clients.get(o);const l=K6(a,this.streamTransport);return this.clients.set(o,l),l}),O(this,"createPromiseClient",(a,{params:o=[],method:l})=>{const c=this.getClient(a),u=l.toString(),d=[a.typeName,u.charAt(0).toLowerCase()+u.slice(1),...Array.isArray(o)?o:[o]],h=[a.typeName,u.charAt(0).toLowerCase()+u.slice(1)];return{client:c,createRequestOptions:f=>{const p=ZA();for(const m in f){const v=XA[m];p.set(v,f[m])}return p},queryKey:d,queryKeyStr:h.join("")}}),O(this,"createStreamClient",a=>({client:this.getStreamClient(a)})),O(this,"setSdkKey",a=>{this.$headers.setValue("sdk",a)}),O(this,"setAuth",(a,o)=>{this.$headers.setValue("authorization",a),this.$headers.setValue("sl-user-id",o)}),O(this,"setHeader",(a,o)=>this.$headers.setValue(a,o)),O(this,"getHeader",a=>this.$headers.getValue(a)),O(this,"getHeaders",()=>this.$headers.getValues()),O(this,"initInterceptors",()=>{var a;if(this.interceptors.length!==0)return;const o=l=>c=>{const u=this.$headers.getValues();for(const d in u)c.header.set(d,u[d]);return l(c)};this.interceptors.push(o),window.localStorage.getItem("SL_GRPC_DEVTOOLS")==="true"?this.interceptors.push(Yie()):console.warn("SL GRPC DevTools is disabled. To enable, set SL_GRPC_DEVTOOLS to true in localStorage."),(a=this.opts)!=null&&a.retryable&&this.interceptors.push(zie)}),this.host=e,this.opts=i,this.$headers=new oc(Ts({"sl-device-id":Jie(),"sl-device-os":jie(),"sl-platform":Hie(i==null?void 0:i.webOS)}),"transport:headers"),this.initInterceptors(),this.clients=new Map,this.streamClients=new Map,this.subscriptions=new Map,this.storeCache=new Map;const[n,s,r]=aw({dedupeTime:i==null?void 0:i.dedupeTime,revalidateInterval:i==null?void 0:i.refetchInterval});this.nanoquery={createFetcherStore:n,createMutatorStore:s,utils:r},this.transport=sw({baseUrl:e,defaultTimeoutMs:1e4,interceptors:this.interceptors}),this.streamTransport=sw({baseUrl:e,interceptors:this.interceptors})}};const Qie=(t,e)=>{const{client:i,queryKey:n}=e.createPromiseClient(TG,{method:"retrieveEventId",params:[t]});return e.nanoquery.createFetcherStore(n,{fetcher:async(s,r,a)=>{var o;if(!a||typeof a!="string")return"";try{return((o=(await i.retrieveEventId({id:a})).data)==null?void 0:o.id)||""}catch{return""}}})},qie=(t,e)=>{const{client:i,queryKey:n}=e.createPromiseClient(f0,{method:"getStream",params:[t]});return e.nanoquery.createFetcherStore(n,{fetcher:async(s,r,a)=>{var o;return a?(o=(await i.getStream({id:a})).data)==null?void 0:o.attributes:void 0}})},ene=(t,e)=>{const{client:i,queryKey:n}=e.createPromiseClient(TG,{method:"summary",params:[t]});return e.nanoquery.createFetcherStore(n,{fetcher:async(s,r,a)=>{var o;return a?(o=(await i.summary({id:a})).data)==null?void 0:o.attributes:void 0}})},tne=(t,e)=>{const{queryKey:i,client:n}=e.createPromiseClient(iR,{method:"me",params:[t]});return e.nanoquery.createFetcherStore(i,{fetcher:async()=>{if(!e.getHeader("authorization"))return{data:void 0};const{data:s}=await n.me({});return{data:s}}})},ine=t=>{const{client:e,createRequestOptions:i}=t.createPromiseClient(iR,{method:"bypassAuth"}),n=i({retryAttempts:0});return({userKey:s,schema:r,init:a,inviterKey:o})=>e.bypassAuth({userKey:s,schema:r,init:a,inviterKey:o},{contextValues:n})},nne=(t,e)=>{const{client:i,queryKey:n}=e.createPromiseClient(f0,{method:"get",params:[t]});return e.nanoquery.createFetcherStore(n,{fetcher:async()=>{var s;return(s=(await i.get({})).data)==null?void 0:s.attributes}})},sne=(t,e)=>{const{client:i,queryKey:n}=e.createPromiseClient(f0,{method:"getOrganization",params:[t]});return e.nanoquery.createFetcherStore(n,{fetcher:async()=>{const s=await i.getOrganization({});return s.data?{...s.data.attributes,id:s.data.id}:void 0}})},rne=(t,e)=>{const{client:i,queryKey:n}=e.createPromiseClient(f0,{method:"getOrganizationAdvertising",params:[t]});return e.nanoquery.createFetcherStore(n,{fetcher:async()=>{var s;return(s=(await i.getOrganizationAdvertising({})).data)==null?void 0:s.attributes}})},ane=(t,e,i)=>{t.transport=new dw(e.host,{dedupeTime:1e3*60*5,refetchInterval:1e3*60*5,retryable:!0,webOS:e.webOS}),t.analyticsTransport=new dw(e.analyticsHost),t.sdk.host=t.transport.host,t.transport.setSdkKey(e.sdkKey),t.transport.setHeader("sl-sdk-version",e.version||"-"),t.transport.$headers.subscribe(n=>{t.analyticsTransport.$headers.getStore().set(n)}),t.sdk.onMount({name:"transport"},()=>()=>{t.transport.disconnect(),t.analyticsTransport.disconnect()}),i()};var Na;(function(t){t.SCHEMA="schema",t.EXTERNAL_TOKEN="eToken",t.TOKEN="token"})(Na||(Na={}));class ku extends dh{constructor(){super("user"),O(this,"setSchema",e=>{this.write(Na.SCHEMA,e)}),O(this,"getSchema",()=>this.read(Na.SCHEMA)),O(this,"setToken",e=>{this.write(Na.TOKEN,e)}),O(this,"getToken",()=>this.read(Na.TOKEN)),O(this,"setExternalToken",e=>{this.write(Na.EXTERNAL_TOKEN,e)}),O(this,"getExternalToken",()=>this.read(Na.EXTERNAL_TOKEN)),O(this,"removeToken",()=>{this.remove(Na.TOKEN)})}}var Za;(function(t){t.DISABLED="disabled",t.INITIALIZATION="initialization",t.READY="ready",t.FAILED="failed",t.SUSPENDED="suspended"})(Za||(Za={}));const one=t=>{const e=new ku,i=new Ys(Zi(e.getExternalToken()),"userKey"),n=new Ys(Zi(e.getToken()),"userToken"),s=new Sr(tne(n.getStore(),t),"user",({data:a,error:o,loading:l},c)=>{var u;if(!o)return(u=a==null?void 0:a.data)!=null&&u.id?a.data.id:l===!1?void 0:c}),r=new Sr(nne(n.getStore(),t),"userSettings");return{userKey:i,userToken:n,user:s,userSettings:r}},lne=t=>{const e=new Ys(Zi(void 0),"providerStreamId"),i=new Sr(Qie(e.getStore(),t),"slStreamId",r=>r==null?void 0:r.data),n=new Sr(qie(i.getAtomStore(),t),"streamSettings"),s=new Sr(ene(i.getAtomStore(),t),"streamSettings");return i.getAtomStore().listen(r=>{(r===""||r===void 0)&&(n.getStore().mutate(void 0),s.getStore().mutate(void 0))}),{providerStreamId:e,slStreamId:i,streamSettings:n,streamSummary:s}},cne=t=>{const e=new Ys(Zi(void 0),"enabled"),i=new Ys(Zi(Za.DISABLED),"status"),n=new Sr(sne(e.getStore(),t),"organizationSettings",o=>{var l;return(l=o==null?void 0:o.data)==null?void 0:l.id}),s=new Sr(rne(n.getAtomStore(),t),"organizationAdvertising"),r=one(t),a=lne(t);return{enabled:e,status:i,providerStreamId:a.providerStreamId,slStreamId:a.slStreamId,streamSettings:a.streamSettings,streamSummary:a.streamSummary,user:r.user,userKey:r.userKey,userToken:r.userToken,userSettings:r.userSettings,organizationSettings:n,organizationAdvertising:s}};let une=class extends ky{constructor(e){const i=cne(e),n=Zie(i);super(n,"core"),O(this,"stores"),O(this,"subscribe",s=>{let r;for(r in this.stores){const a=s[r];r in s&&a!==void 0&&this.stores[r].subscribe(s[r])}}),O(this,"unsubscribe",()=>this.getStore().off()),this.stores=i}getValue(){throw new Error("Not implemented")}getValues(){return this.stores}setValue(){throw new Error("Not implemented")}};const dne=(t,e,i)=>{t.store=new une(t.transport),t.stores=t.store.getValues(),t.sdk.enabled=t.stores.enabled.getStore(),t.sdk.status=t.stores.status.getStore(),t.sdk.sdkStore=Object.fromEntries(Object.entries(t.stores).map(([n,s])=>[n,s.getStore()])),t.sdk.organizationStore=()=>t.stores.organizationSettings.getStore(),t.sdk.streamStore=()=>t.stores.streamSettings.getStore(),t.sdk.streamSummary=()=>t.stores.streamSummary.getStore(),t.storeUnsubscribe=()=>{t.store.unsubscribe()},i()},hne=t=>{const{client:e}=t.createPromiseClient(CG,{method:"list"});return i=>e.list(i)},BG=t=>{const{client:e}=t.createPromiseClient(CG,{method:"summary"});return i=>e.summary(i)},fne=(t,e)=>{const{client:i,queryKey:n}=e.createPromiseClient(iR,{method:"getFriends",params:[t]});return e.nanoquery.createFetcherStore(n,{fetcher:async(s,r,a)=>{if(!a)return[];try{return(await i.getFriends({})).data}catch{return[]}}})},pne=(t,e)=>{const{client:i,queryKey:n}=e.createPromiseClient(Ls,{method:"get",params:[t]});return e.nanoquery.createFetcherStore(n,{fetcher:async(s,r,a)=>{var o;return(o=(await i.get({eventId:a})).data)==null?void 0:o.attributes},revalidateInterval:0,dedupeTime:1e3*60*60})},mne=(t,e,i)=>{const{client:n,queryKey:s}=i.createPromiseClient(Ls,{method:"syncQuestion",params:[t,e?"true":""]});return i.nanoquery.createFetcherStore(s,{fetcher:async(r,a,o,l)=>{var c,u,d,h;if(!o||l)return;const f=await n.syncQuestion({filter:{eventId:o}});if(((d=(u=(c=f.data)==null?void 0:c.attributes)==null?void 0:u.question)==null?void 0:d.type)!==Re.PROMOTION)return(h=f.data)==null?void 0:h.attributes},dedupeTime:1e3*60*10,revalidateInterval:0})},gne=async(t,e)=>{const{client:i}=e.createPromiseClient(Ls,{method:"item",params:[t]});return(await i.item({id:t})).data},yne=(t,e)=>{const{client:i}=e.createStreamClient(Ls),n=ha({eventId:t.get()||"",feedId:""});return t.subscribe((s="")=>{n.set({eventId:s,feedId:""})}),e.addSubscription(i.subscription,n,{name:"feedSubscription"})},bne=(t,e)=>{const{client:i}=e.createStreamClient(Ls);return e.addSubscription(i.questionSubscription,{questionId:t},{name:"questionSubscription"})},WG=async(t,e)=>{var i,n;const{client:s}=e.createPromiseClient(Ls,{method:"questionByUser",params:[t]});return(n=(i=(await s.questionByUser({questionId:t})).data)==null?void 0:i.attributes)==null?void 0:n.question},M1=(t,e)=>{const{client:i,queryKey:n,queryKeyStr:s}=e.createPromiseClient(Ls,{method:"questionByUser",params:[t]});let r=s;if(typeof t!="object"?r+=t:r+="atom",e.storeCache.has(r))return e.storeCache.get(r);{const a=e.nanoquery.createFetcherStore(n,{fetcher:async(o,l,c)=>{var u,d;return(d=(u=(await i.questionByUser({questionId:c})).data)==null?void 0:u.attributes)==null?void 0:d.question},dedupeTime:1/0,revalidateInterval:0});return e.storeCache.set(r,a),a}},GG=async(t,e)=>{var i;if(!t)return;const{client:n}=e.createPromiseClient(Ls,{method:"getQuestion",params:[t]}),s=await n.getQuestion({id:t});if(!((i=s.data)!=null&&i.attributes))return;const{options:r,notification:a,...o}=s.data.attributes,l=(r==null?void 0:r.options.case)==="promotion"?r==null?void 0:r.options.value:void 0;return{id:o.id,question:o,promotion:l,notification:a}},vne=(t,e,i,n,s,r,a)=>{const{client:o,queryKey:l}=a.createPromiseClient(Ls,{method:"list",params:[t,e,r?"true":""]});return a.nanoquery.createFetcherStore(l,{fetcher:async(c,u,d,h,f)=>{var p,m;if(!d||f)return[];const v=await o.list({eventId:d,filter:{types:h===Qo.ALLOWED?[]:[Re.FACTOID,Re.PROMOTION,Re.TWEET],statuses:[si.ACTIVE,si.RESOLVED]}}),g={eventId:d,userId:i.get(),organizationId:n.get()};for(const E of v.data)s.isQuestionReceived(g,E.id)||(Wt.emit("poll",{action:"received",payload:{isAd:((p=E.attributes)==null?void 0:p.adUnit)==fn.UNSET,questionId:E.id,questionType:(m=E.attributes)==null?void 0:m.type}}),s.saveQuestionReceived(g,E.id));return v.data},dedupeTime:1/0,revalidateInterval:0})},Ene=(t,e)=>{const{client:i,queryKey:n}=e.createPromiseClient(Ls,{method:"list",params:[t]});return e.nanoquery.createFetcherStore(n,{fetcher:async(s,r,a)=>{var o;if(!a)return;const l=(o=(await i.list({eventId:a,filter:{types:[Re.PROMOTION],statuses:[si.ACTIVE]},pagination:{page:0,pageSize:1}})).data)==null?void 0:o[0];if(l.type==="promotion")return GG(l.id,e)},dedupeTime:1/0,revalidateInterval:0})},Ane=(t,e,i,n,s)=>{const{client:r,queryKey:a}=s.createPromiseClient(Ls,{method:"betPack",params:[t,e,i]});return s.nanoquery.createFetcherStore(a,{fetcher:async(o,l,c,u,d)=>{var h;if(!c||!u||!d)return{timestamp:Date.now(),data:null};const f=await r.betPack({eventId:c,types:[Re.PREDICTION],statuses:[si.ACTIVE,si.RESOLVED],limit:5,sort:{field:"activated_at",order:"asc"}});return!f.data||!f.data.length?{timestamp:Date.now(),data:null}:{timestamp:Date.now(),data:(h=f.data)==null?void 0:h.reduce((p,m)=>{var v;const g=(v=m==null?void 0:m.attributes)==null?void 0:v.question;if(!(g!=null&&g.id))return p;const E={eventId:c,userId:u,organizationId:d};return n.isQuestionReceived(E,g.id)||(Wt.emit("poll",{action:"received",payload:{isAd:(g==null?void 0:g.adUnit)==fn.UNSET,questionId:g.id,questionType:g.type}}),n.saveQuestionReceived(E,g.id)),g.answers=g.answers.sort((A,R)=>A.id>R.id?1:-1),{...p,[g.id]:g}},{})}},dedupeTime:1/0,revalidateInterval:0})},Sne=(t,e,i)=>{const n=DA([e,i],()=>{var a,o;const l=e.get();if(!l)return;const c=(a=i.get().data)==null?void 0:a.find(d=>d.id===(l==null?void 0:l.questionId)),u=(o=l==null?void 0:l.question)==null?void 0:o.openedFrom;return c?(c.openedFrom=u,c):l.question}),s=DA(n,a=>a&&a.type==="question"?a.id:void 0),r=M1(s,t);return{$store:n,$extendedStore:r,updateExtendedQuestion:a=>{const o=r.get().data,l=(c,u)=>{if(!c||!u)return(c||u||[]).sort((p,m)=>p.id>m.id?1:-1);const d=c.sort((p,m)=>p.id>m.id?1:-1),h=u.sort((p,m)=>p.id>m.id?1:-1),f=[];for(let p=0;p<d.length;p++)f.push({...d[p],...h[p],correct:d[p].correct,youVoted:d[p].youVoted,pointsEarned:d[p].pointsEarned});return f};r.mutate({...a,options:o==null?void 0:o.options,subject:o==null?void 0:o.subject,appearance:o==null?void 0:o.appearance,answers:l(o==null?void 0:o.answers,a==null?void 0:a.answers)})}}};var Fu;(function(t){t.SHOWED="showed",t.EVENT="ev"})(Fu||(Fu={}));class Tne extends dh{constructor(){super("advertisement"),O(this,"setShowed",e=>{this.write(Fu.SHOWED,e,"true")}),O(this,"isViewed",e=>this.read(Fu.SHOWED,e)),O(this,"fireEvent",(e,i)=>{this.write(Fu.EVENT,i,e,"true")}),O(this,"isEventFired",(e,i)=>this.read(Fu.EVENT,i,e)==="true")}}const Cne=t=>{var e,i,n,s,r;const a=(i=(e=t.data)==null?void 0:e.attributes)==null?void 0:i.question;if((((r=(s=(n=t.data)==null?void 0:n.attributes)==null?void 0:s.feedItem)==null?void 0:r.type)==="promotion"?t.data.attributes.feedItem:void 0)===void 0||!a)return;const{options:o,notification:l,...c}=a,u=(o==null?void 0:o.options.case)==="promotion"?o.options.value:void 0;return{id:c.id,question:c,notification:l,promotion:u}},km=t=>t.startsWith("http://")||t.startsWith("https://")?new URL(t).toString():t,Rne=({gamOptions:t,gamBaseUrl:e})=>{const i=`${e}?`,n=[];for(const s in t){const r=s.replace(/([a-zA-Z])(?=[A-Z])/g,"$1_").toLowerCase(),a=t[s];if(a)if(typeof a=="string")n.push(`${r}=${km(a)}`);else if(Array.isArray(a))n.push(`${r}=${a.map(km).join(",")}`);else{const o=Object.entries(a).map(([l,c])=>Array.isArray(c)?`${l}=${c.map(km).join(",")}`:typeof c=="string"?`${l}=${km(c)}`:`${l}=${c}`).join("&").replaceAll("=","%3D").replaceAll("&","%26").replaceAll(",","%2C");n.push(`${r}=${o}`)}}return i+n.join("&")},Jc=t=>{var e,i,n;return(((e=t==null?void 0:t.promotion)==null?void 0:e.type)===at.INGAME_IAB11_LBAR||((i=t==null?void 0:t.promotion)==null?void 0:i.type)===at.INGAME_IAB21_LBAR)&&!!((n=t.promotion.additionalBanner)!=null&&n.imageUrl)},Ine=(t,e,i)=>{let n=!1;const s=i.transport,r=ks("advertisement"),a=new Tne,o=(g,E)=>{a.fireEvent(g,E)},l=(g,E)=>a.isEventFired(g,E),c=Ts({}),u=Ene(t,s),d=g=>{var E,A,R,I;const L=c.get(),F=(E=L.data)==null?void 0:E.question.id,B=(R=(A=L.data)==null?void 0:A.promotion)==null?void 0:R.type;F&&((I=c.get())!=null&&I.isOpened||(c.setKey("isOpened",!0),Wt.emit("advertisement",{action:"opened",payload:{id:F,type:B,hasBanner:Jc(L.data),openedFrom:g!=null&&g.fromNotification?"notification":"auto"}})),g!=null&&g.fromNotification&&(c.setKey("hasNotification",!1),Wt.emit("advertisement",{action:"notification-opened",payload:{id:F,type:B,hasBanner:Jc(L.data)}})))},h=()=>{var g,E,A,R;const I=c.get(),L=(g=I.data)==null?void 0:g.question.id,F=(A=(E=I.data)==null?void 0:E.promotion)==null?void 0:A.type,B=(R=c.get())==null?void 0:R.isOpened;L&&!B&&(r.debug({id:L},"markAsViewed: %o"),a.setShowed(L),c.setKey("isOpened",!0),Wt.emit("advertisement",{action:"viewed",payload:{id:L,type:F,hasBanner:Jc(I.data)}}))},f=(g,E)=>{var A;E?c.set({loading:!1,error:void 0,data:E,hasNotification:((A=E==null?void 0:E.notification)==null?void 0:A.enabled)===$g.NOTIFICATION_ENABLED,close:()=>p(E.question.id),togglePause:R=>m(E.question.id,R),toggleMute:R=>v(E.question.id,R),isViewed:!!a.isViewed(E.question.id),fireEvent:R=>o(g,R),isEventFired:R=>l(g,R)}):(c.setKey("loading",!0),GG(g,s).then(R=>{var I;return c.set({loading:!1,error:void 0,data:R,hasNotification:((I=R==null?void 0:R.notification)==null?void 0:I.enabled)===$g.NOTIFICATION_ENABLED,close:()=>p(R==null?void 0:R.question.id),togglePause:L=>m(R==null?void 0:R.question.id,L),toggleMute:L=>v(R==null?void 0:R.question.id,L),isViewed:R&&!!a.isViewed(R.question.id),fireEvent:L=>o(g,L),isEventFired:L=>l(g,L)})}).catch(R=>c.set({loading:!1,error:R,data:void 0,fireEvent:()=>{},isEventFired:()=>!1})))};c.subscribe((g,E)=>{var A,R,I,L,F,B,G,Z,j;if(!(((A=g.data)==null?void 0:A.id)===((R=E==null?void 0:E.data)==null?void 0:R.id)&&g.isPaused!==(E==null?void 0:E.isPaused))){if(((L=(I=g.data)==null?void 0:I.promotion)==null?void 0:L.type)===at.EXTERNAL_AD&&!(g!=null&&g.externalAd)&&((F=g.data.promotion.adCampaigns)!=null&&F.desktopWebSettings)){const pe=Rne(g.data.promotion.adCampaigns.desktopWebSettings);c.setKey("externalAd",{type:"gam",url:pe})}(B=g.data)!=null&&B.promotion&&!g.isOpened&&(Wt.emit("advertisement",{action:"received",payload:{id:g.data.question.id,type:g.data.promotion.type,hasNotification:!!g.hasNotification,hasBanner:Jc(g.data),isViewed:!!a.isViewed(g.data.question.id)},skipAnalytics:g.data.question.id===((G=E==null?void 0:E.data)==null?void 0:G.question.id)}),g.data.question.id!==((Z=E==null?void 0:E.data)==null?void 0:Z.question.id)&&!a.isViewed(g.data.question.id)&&Wt.emit("advertisement",{action:"notification-received",payload:{id:g.data.question.id,type:g.data.promotion.type,hasNotification:!0,hasBanner:Jc(g.data),isViewed:!1}})),!(g!=null&&g.data)&&(E!=null&&E.data)&&Wt.emit("advertisement",{action:"closed",payload:{id:E.data.question.id,type:(j=E.data.promotion)==null?void 0:j.type,hasNotification:!!E.hasNotification,hasBanner:Jc(E.data),isViewed:!!a.isViewed(E.data.question.id)}})}});const p=g=>{var E,A;(!g||((A=(E=c.get())==null?void 0:E.data)==null?void 0:A.question.id)===g)&&c.set({})},m=(g,E)=>{var A,R;((R=(A=c.get())==null?void 0:A.data)==null?void 0:R.question.id)===g&&c.setKey("isPaused",E)},v=(g,E)=>{var A,R;((R=(A=c.get())==null?void 0:A.data)==null?void 0:R.question.id)===g&&c.setKey("isMuted",E)};return{connect:()=>{n||(n=!0,u.subscribe((g,E)=>{g.data&&(!(E!=null&&E.data)||g.data.id!==E.data.id)&&f(g.data.question.id,g.data)}),e.addListener("promotion",g=>{const E=Cne(g);if(E){if(E.question.status===si.RESOLVED){p(E.question.id),r.debug({promotion:E},"resolved: %o");return}if(E.question.status===si.ACTIVE){r.debug({promotion:E},"active: %o"),f(E.question.id,E);return}r.debug({promotion:E},"skip: %o")}}))},hide:p,show:f,open:d,markAsViewed:h,$store:c}};var Ur;(function(t){t.ONBOARDING="onboarding",t.ONBOARDING_IO="onboarding_io",t.QUESTION_RECEIVED="q-received",t.QUESTION_OPENED="q-opened"})(Ur||(Ur={}));class wne extends dh{constructor(){super("gamification-session",window.sessionStorage),O(this,"writeValue",(e,i)=>{this.write(...e,i)}),O(this,"readValue",e=>this.read(...e))}}class _ne extends dh{constructor(){super("gamification"),O(this,"sessionStorage"),O(this,"saveQuestionReceived",({userId:e,eventId:i,organizationId:n},s)=>{this.write(Ur.QUESTION_RECEIVED,n,e,i,s,"1")}),O(this,"isQuestionReceived",({userId:e,eventId:i,organizationId:n},s)=>!!this.read(Ur.QUESTION_RECEIVED,n,e,i,s)),O(this,"saveQuestionOpened",({userId:e,eventId:i,organizationId:n},s)=>{this.write(Ur.QUESTION_OPENED,n,e,i,s,"1")}),O(this,"isQuestionOpened",({userId:e,eventId:i,organizationId:n},s)=>!!this.read(Ur.QUESTION_OPENED,n,e,i,s)),O(this,"saveOnboardingStatus",({userId:e,eventId:i,organizationId:n},s)=>{this.write(Ur.ONBOARDING,n,e,i,s)}),O(this,"getOnboardingStatus",({userId:e,eventId:i,organizationId:n})=>this.read(Ur.ONBOARDING,n,e,i)),O(this,"setOnboardingInstantOpen",({userId:e,eventId:i,organizationId:n})=>{this.sessionStorage.writeValue([Ur.ONBOARDING_IO,n,e,i],"1")}),O(this,"getOnboardingInstantOpen",({userId:e,eventId:i,organizationId:n})=>this.sessionStorage.readValue([Ur.ONBOARDING_IO,n,e,i])),this.sessionStorage=new wne}}var Qo;(function(t){t.ALLOWED="allowed",t.DISALLOWED="disallowed"})(Qo||(Qo={}));class xne{constructor(e){O(this,"slStreamId"),O(this,"organizationId"),O(this,"userId"),O(this,"interactiveAllowed"),O(this,"openedQuestionId"),O(this,"openedQuestion"),O(this,"activeQuestionId"),O(this,"feedList"),O(this,"betPack"),O(this,"moderationId"),O(this,"moderation"),O(this,"feedSubscription"),O(this,"questionSubscription"),O(this,"advertisement"),O(this,"storage"),O(this,"notifications"),O(this,"log"),O(this,"transport"),O(this,"cancels",new Set),O(this,"getCurrentSessionId",n=>{const s=n.eventId||this.slStreamId.get()||"",r=n.userId||this.userId.get()||"",a=n.organizationId||this.organizationId.get()||"",o=n.entity||"",l=n.prefix||"";return[a,s,r,l,o].join(":")}),O(this,"disconnect",()=>{var n;(n=this.feedSubscription)==null||n.disconnect(),this.questionSubscription!==void 0&&(this.transport.removeSubscription(this.questionSubscription),this.questionSubscription=void 0)}),O(this,"openQuestion",(n,s)=>{this.openedQuestionId.set({questionId:n,question:s}),this.notifications.markAsViewed(this.getCurrentSessionId({prefix:"notification",entity:n}))}),O(this,"closeQuestion",n=>{this.openedQuestionId.set(void 0),n&&this.notifications.markAsViewed(this.getCurrentSessionId({prefix:"notification",entity:n}))}),this.transport=e.transport,this.log=ks("gamification-background"),this.storage=new _ne,this.slStreamId=e.stores.slStreamId.getAtomStore(),this.organizationId=e.stores.organizationSettings.getAtomStore(),this.userId=e.stores.user.getAtomStore(),this.moderationId=new Ys(Zi(void 0),"moderationId").getStore(),this.interactiveAllowed=new Ys(Zi(Qo.DISALLOWED),"interactiveAllowed").getStore(),this.openedQuestionId=new Ys(Zi(void 0),"openedQuestionId").getStore(),this.notifications=e.notifications,this.moderation=new Sr(pne(this.slStreamId,e.transport),"gamification:moderation");const i=!!e.sdk.options.get().betPack;this.feedList=new Sr(vne(this.slStreamId,this.interactiveAllowed,this.userId,this.organizationId,this.storage,i,e.transport),"gamification:feedList"),this.betPack=new Sr(Ane(this.slStreamId,this.userId,this.organizationId,this.storage,e.transport),"gamification:betPack"),this.activeQuestionId=mne(this.slStreamId,i,e.transport),this.openedQuestion=Sne(e.transport,this.openedQuestionId,this.feedList.getStore()),this.cancels.add(this.openedQuestionId.listen(n=>{this.log.debug({item:n},"received question"),n!=null&&n.questionId?(this.log.info("cleanup on close question"),this.questionSubscription!==void 0&&(e.transport.removeSubscription(this.questionSubscription),this.questionSubscription=void 0),this.questionSubscription=bne(n.questionId,e.transport),this.questionSubscription.addListener("feed-subscription-opened-question",s=>{var r,a,o;const l=(a=(r=s.data)==null?void 0:r.attributes)==null?void 0:a.question;if(this.openedQuestion.updateExtendedQuestion(l),this.betPack&&(l==null?void 0:l.type)===Re.PREDICTION&&(l.status===si.ACTIVE||l.status===si.RESOLVED)){const c=((o=this.betPack.getValues().data)==null?void 0:o.data)||{},u=c==null?void 0:c[l.id];if(u){const d=[],h=u.answers.sort((p,m)=>p.id>m.id?1:-1),f=l.answers.sort((p,m)=>p.id>m.id?1:-1);for(let p=0;p<h.length;p++)d.push({...h[p],...f[p],correct:h[p].correct,youVoted:h[p].youVoted,pointsEarned:h[p].pointsEarned});this.betPack.getStore().mutate({timestamp:Date.now(),data:{...c,[l.id]:{...u,status:l.status,marketClosed:l.marketClosed,activatedAt:l.activatedAt,answerSetAt:l.answerSetAt,answers:d}}})}}}),this.questionSubscription.connect()):(this.log.info("cleanup on close question"),this.questionSubscription!==void 0&&(e.transport.removeSubscription(this.questionSubscription),this.questionSubscription=void 0))})),this.feedSubscription=yne(this.slStreamId,e.transport),this.cancels.add(this.feedSubscription.addListener("bet-pack-update",async n=>{var s,r,a;const o=(r=(s=n.data)==null?void 0:s.attributes)==null?void 0:r.question;if(this.betPack&&(o==null?void 0:o.type)===Re.PREDICTION&&(o.status===si.ACTIVE||o.status===si.RESOLVED)){const l=((a=this.betPack.getValues().data)==null?void 0:a.data)||{},c=l==null?void 0:l[o.id];if(c)this.betPack.getStore().mutate({timestamp:Date.now(),data:{...l,[o.id]:{...c,status:o.status,marketClosed:o.marketClosed,activatedAt:o.activatedAt,answerSetAt:o.answerSetAt}}});else if(!c&&Object.keys(l).length<5){const u=await WG(o.id,this.transport);this.betPack.getStore().mutate({timestamp:Date.now(),data:{...l,[o.id]:u}})}}})),this.cancels.add(this.feedSubscription.addListener("feed-subscription-active-question",n=>{var s,r,a,o;const l=(r=(s=this.activeQuestionId.get().data)==null?void 0:s.question)==null?void 0:r.id,c=(o=(a=n.data)==null?void 0:a.attributes)==null?void 0:o.question;if(!(!c||c.type===Re.PROMOTION)){if(c.status===si.RESOLVED){l===c.id&&this.activeQuestionId.mutate(void 0);return}window.requestAnimationFrame(()=>{var u;this.activeQuestionId.mutate((u=n.data)==null?void 0:u.attributes)})}})),this.cancels.add(this.feedSubscription.addListener("moderation update",n=>{window.requestAnimationFrame(()=>{var s,r,a,o;((r=(s=n.data)==null?void 0:s.attributes)==null?void 0:r.question)===void 0&&((o=(a=n.data)==null?void 0:a.attributes)!=null&&o.moderation)&&this.moderation.invalidate()})})),this.cancels.add(this.activeQuestionId.subscribe((n,s)=>{var r,a,o,l,c,u,d;(r=n.data)!=null&&r.feedItem&&((o=(a=n.data)==null?void 0:a.feedItem)==null?void 0:o.id)!==((c=(l=s==null?void 0:s.data)==null?void 0:l.feedItem)==null?void 0:c.id)&&e.onQuestionActivate({stage:"activate",id:n.data.feedItem.id,isViewed:!!this.notifications.isViewed(this.getCurrentSessionId({prefix:"notification",entity:n.data.feedItem.id})),hasNotification:!0,type:n.data.feedItem.type}),!((u=n.data)!=null&&u.feedItem)&&((d=s==null?void 0:s.data)!=null&&d.feedItem)&&e.onQuestionActivate({stage:"deactivate",id:s.data.feedItem.id,isViewed:!!this.notifications.isViewed(this.getCurrentSessionId({prefix:"notification",entity:s.data.feedItem.id})),hasNotification:!0,type:s.data.feedItem.type})})),this.feedSubscription.connect(),this.cancels.add(this.interactiveAllowed.listen(()=>{window.requestAnimationFrame(()=>{this.activeQuestionId.invalidate()})})),e.sdk.onMount({name:"gamification-background"},()=>()=>{this.activeQuestionId.off();for(const n of this.cancels)n(),this.cancels.delete(n)}),i||(this.advertisement=Ine(this.slStreamId,this.feedSubscription,e))}}class Nne{constructor(e){O(this,"notificationsList"),O(this,"store"),O(this,"timeouts"),O(this,"waitingQueue"),O(this,"activeQueue"),O(this,"options"),O(this,"logger"),O(this,"addToQueue",i=>{var n;if(this.store.has(i.id)){this.logger.debug({notification:i},"skip existed notification: %o");return}const s=i.close,r=i.action;if(this.store.set(i.id,{...i,close:(...a)=>{s&&s(...a),this.closeNotification(i.id)},action:(...a)=>{r&&r(...a),this.closeNotification(i.id,{animateHiding:!1})}}),this.waitingQueue.add(i.id),this.activeQueue.size===this.options.concurrency){const[a]=this.activeQueue;if(((n=this.store.get(a))==null?void 0:n.persistent)!==!0)this.closeNotification(a);else{const[o]=this.waitingQueue;this.waitingQueue.size>1&&this.closeNotification(o),this.tickWaitingQueue()}}else this.tickWaitingQueue()}),O(this,"tickWaitingQueue",()=>{if(this.activeQueue.size<this.options.concurrency){const[i]=this.waitingQueue;if(!i)return;this.activeQueue.add(i),this.waitingQueue.delete(i),this.logger.debug({job:i},"waiting queue tick"),this.tickActiveQueue(i)}else this.logger.debug({queueSize:this.activeQueue.size,concurrency:this.options.concurrency},"waiting queue tick skipped")}),O(this,"tickActiveQueue",i=>{if(!i)return;const n=this.store.get(i);if(!n){this.logger.debug({notificationId:i},"active queue tick skipped, notification not exist");return}Wt.emit("notification",{action:"received",payload:{type:n.type,questionId:n.data.questionId,questionType:n.data.questionType}});const s=setTimeout(()=>{const r=i,a=new Map(this.notificationsList.get());a.set(n.id,n),this.notificationsList.set(a);const o=setTimeout(()=>{this.logger.debug({notificationId:r,delay:n.autoHideDuration||5e3},"notification hiding by autoHideDuration"),this.closeNotification(r)},n.autoHideDuration||5e3);this.timeouts.set(r,o),this.logger.debug({notificationId:r,queue:[...a.values()]},"notification displayed")},n.delay||0);this.timeouts.set(i,s),this.logger.debug({notificationId:i},"active queue tick completed"),this.tickWaitingQueue()}),O(this,"closeNotification",(i,{animateHiding:n=!0}={})=>{const s=new Map(this.notificationsList.get()),r=s.get(i);if(r){const a=!(this.waitingQueue.size>=this.options.concurrency)&&n;r.hiding=a,this.notificationsList.set(s);const o=()=>{const l=new Map(this.notificationsList.get());l.delete(i),this.notificationsList.set(l);const c=this.timeouts.get(i);c!==void 0&&(clearTimeout(c),this.timeouts.delete(i)),this.logger.debug({notificationId:i},"notification hidden"),r.hiding&&Wt.emit("notification",{action:"closed",payload:{type:r.type,questionId:r.data.questionId,questionType:r.data.questionType}})};if(a){const l=setTimeout(o,this.options.animationDelay||0);this.timeouts.set(i,l)}else o()}return this.store.delete(i),this.activeQueue.delete(i),this.waitingQueue.delete(i),this.tickWaitingQueue(),this.logger.debug({notificationId:i},"notification hiding"),r}),O(this,"drain",()=>{this.store.clear(),this.timeouts.clear(),this.waitingQueue.clear(),this.activeQueue.clear(),this.notificationsList.off(),this.notificationsList.set(new Map)}),this.options=e,this.logger=ks("notifications"),this.store=new Map,this.timeouts=new Map,this.waitingQueue=new Set,this.activeQueue=new Set,this.notificationsList=Zi(new Map)}}var jg;(function(t){t.OPENED="opened"})(jg||(jg={}));class Vne extends dh{constructor(){super("notification"),O(this,"setOpened",e=>{this.write(jg.OPENED,e,"true")}),O(this,"isOpened",e=>this.read(jg.OPENED,e)),O(this,"clearNotification",()=>{this.clear()})}}class Lne{constructor(e={}){O(this,"queue"),O(this,"storage"),O(this,"isViewed",i=>this.storage.isOpened(i)),O(this,"add",i=>{if(!this.isViewed(i.id)){if(i.data&&i.emitEvent){const n=i.action;i.action=(...s)=>{n&&n(...s),Wt.emit("notification",{action:"opened",payload:{questionId:i.data.questionId,questionType:i.data.questionType}})}}this.queue.addToQueue(i)}}),O(this,"close",(i,{markAsViewed:n=!0,animateHiding:s}={})=>{this.queue.closeNotification(i,{animateHiding:s}),n&&this.markAsViewed(i)}),O(this,"update",(i,n)=>{var s;const r=(s=this.queue.notificationsList.get())==null?void 0:s.get(i);n(r)}),O(this,"getActiveNotification",()=>{const i=this.queue.notificationsList.get();if(!(i!=null&&i.size))return null;for(const n of i.values())if(n.type===Ha.ONBOARDING)return n;return i.values().next().value}),O(this,"getQueueStore",()=>this.queue.notificationsList),O(this,"markAsViewed",i=>{this.storage.setOpened(i)}),this.storage=new Vne,this.queue=new Nne({concurrency:1,animationDelay:1600,...e})}}const kne=(t,e,i)=>{t.notifications=new Lne(void 0),t.addNotification=t.notifications.add,t.sdk.getNotificationsStore=()=>t.notifications.getQueueStore(),t.sdk.getActiveNotification=()=>t.notifications.getActiveNotification(),t.sdk.onMount({name:"notifications"},()=>()=>{t.notifications.queue.drain()}),i()};var kd;(function(t){t.UNKNOWN="unknown",t.ALREADY_VOTED="already_voted"})(kd||(kd={}));const hw=async(t,e)=>{var i;const{client:n,createRequestOptions:s}=t.createPromiseClient(Ls,{method:"submitAnswer"}),r=s({retryAttempts:0});try{return await n.submitAnswer({data:e},{contextValues:r})}catch(a){throw((i=Nt.from(a))==null?void 0:i.code)===et.AlreadyExists?new Error(kd.ALREADY_VOTED):new Error(kd.UNKNOWN)}},DG=(t,e)=>{const{client:i,createRequestOptions:n}=t.createPromiseClient(Ls,{method:"submitInplay"}),s=n({retryAttempts:0});return i.submitInplay({data:{eventId:+e}},{contextValues:s})},Fne={pageSize:10},Une=(t,e,i,n,s)=>{let r=0;const a=Zi({pageSize:Fne.pageSize,page:0}),o=Ts({data:[],key:Date.now(),hasMore:!0,loading:void 0,error:void 0}),l=hne(t),c=async()=>{var h;const f=e.get(),p=((h=n==null?void 0:n.getStore().get().data)==null?void 0:h.map(m=>m.slId))||[];if(f&&(p!=null&&p.length)){const m=i.get();m&&p.push(m),o.setKey("loading",!0),o.setKey("data",[]);const v=await l({eventId:f,usersIds:p,leaderboardId:""});o.set({data:v.data.map((g,E)=>({...g.attributes,friendsRank:E+1})),hasMore:!1,key:Date.now(),loading:!1}),v.meta&&(r=Math.round(v.meta.count/v.meta.pageSize))}},u=()=>{c()},d=h=>{const f=a.get(),p=h||f.page+1;p<=r&&a.set({...f,page:p})};return wy(o,()=>{const h=e.listen(c),f=n==null?void 0:n.listen(c);return()=>{h(),f==null||f()}}),{$store:o,fetchMore:d,invalidate:u}};class Bne extends dh{constructor(){super("deep-link-context",window.sessionStorage),O(this,"get",this.read),O(this,"set",this.write),O(this,"del",this.remove)}}const fw="sldl",Fy="sldl_uid",MG="sldl_eid",ZG="sldl_e_eid",Wne=new Set([Fy,MG,ZG]),pw=t=>{const e={},i={};for(const[n,s]of t)Wne.has(n)?e[n]=s:i[n]=s;return{result:e,remain:i}},Gne=({hash:t,search:e})=>{if(t&&t.includes(fw)){const i=new URLSearchParams(t.substr(1));return{hash:pw(i)}}if(e&&e.includes(fw)){const i=new URLSearchParams(e);return{search:pw(i)}}return null},mw=ks("deep_link"),Kr={debug:(...t)=>{mw.debug(...t),localStorage.getItem("SL_DEBUG")&&console.log(...t)},trace:(...t)=>{mw.trace(...t),localStorage.getItem("SL_DEBUG")&&console.log(...t)}},Dne=(t,e)=>{const{hash:i,search:n}=window.location;if(Kr.debug({hash:i,search:n},"get deep link data from"),i||n){const s=Gne({hash:i,search:n});if(Kr.debug(s,"parse deep link result"),s){const{hash:r,search:a}=s,{result:o,remain:l}=r||a;if(Object.keys(o).length!==0){t.setValue("data",o);const c=Object.keys(l).length!==0;if(r){let u="";c&&(u=`#${new URLSearchParams(l).toString()}`,Kr.debug({updatedHash:u},"update hash")),window.history.replaceState(null,"",window.location.pathname+window.location.search+u)}if(a){let u="";c&&(u=`?${new URLSearchParams(l).toString()}`,Kr.debug({updatedSearch:u},"update search")),window.history.replaceState(null,"",window.location.pathname+u+window.location.hash)}e(o)}}}t.setValue("parsed",!0)},Mne=(t,e,i)=>{const n=new Bne,s=n.get("sl-deep-link-store");let r={};if(s)try{r=JSON.parse(s)}catch(o){Kr.debug(o)}t.deepLink={$store:new oc(Ts(r),"deep-link-context"),getDeepLinkData:()=>{const{data:o,used:l}=t.deepLink.$store.getValues();return{data:o,used:l}},deepLinkUsed:o=>{Kr.debug(`logged in with inviterId: ${o}`),t.deepLink.$store.setValue("used",!0)},onDeepLinkHandlers:new Set},t.sdk.getInviter=()=>{const{data:o,used:l}=t.deepLink.getDeepLinkData();return l?o==null?void 0:o[Fy]:void 0},t.sdk.inviteDisplayed=()=>{t.deepLink.$store.getStore().set({}),t.deepLink.$store.getStore().off(),n.del("sl-deep-link-store")},t.deepLink.$store.subscribe(o=>n.set("sl-deep-link-store",JSON.stringify(o))),t.sdk.addDeepLinkHandler=o=>{localStorage.getItem("SL_DEBUG")&&Kr.trace("adding deep link handler"),t.deepLink.onDeepLinkHandlers.add(o)},e.onDeepLinkHandled&&t.sdk.addDeepLinkHandler(e.onDeepLinkHandled),t.sdk.removeDeepLinkHandler=o=>{Kr.trace("removing deep link handler"),t.deepLink.onDeepLinkHandlers.delete(o)};const a=o=>{t.deepLink.$store.setValue("handled",!0),Kr.trace({size:t.deepLink.onDeepLinkHandlers.size},"deep link handled, call callbacks");for(const l of t.deepLink.onDeepLinkHandlers)try{Kr.trace("called handler"),l(o)}catch(c){console.error(c)}};Dne(t.deepLink.$store,a),i()},Zne=ks("bypass");class Pne extends Mie{constructor(e,i,n){super(),O(this,"$coreStore"),O(this,"deepLink"),O(this,"transport"),O(this,"bypassLogin"),O(this,"me",async()=>{var s;return this.$coreStore.getValues().user.invalidate(),(s=await this.$coreStore.getValues().user.getValue())==null?void 0:s.data}),O(this,"login",async(s,r)=>{var a,o,l;this.$coreStore.getValues().userKey.setValue(r);const{used:c,data:u}=this.deepLink.getDeepLinkData(),d=c?"":u==null?void 0:u[Fy];Zne.debug({inviterKey:d},"login with inviterKey");const h=await this.bypassLogin({schema:s,userKey:r,inviterKey:d,init:!1}),f=(a=h.meta)==null?void 0:a.jwt,p=(o=h.data)==null?void 0:o.id;if(!f||!p)throw new Error("internal: token missing");return(l=h.meta)!=null&&l.inviterKey&&this.deepLink.deepLinkUsed(h.meta.inviterKey),this.$coreStore.getValues().user.getStore().mutate({data:h.data}),this.saveUser(f,p),f}),O(this,"isAuthenticated",()=>this.me()),O(this,"logout",()=>{this.$coreStore.getValues().user.setValue(),this.$coreStore.getValues().userKey.setValue(),this.$coreStore.getValues().userToken.setValue(),this.transport.setAuth("",""),new ku().clear()}),O(this,"softLogout",()=>{const s=new ku;this.transport.setAuth("",""),s.setToken(""),this.reLogin()}),O(this,"reLogin",({skipLogin:s}={skipLogin:!1})=>{const r=new ku,a=r.getToken(),o=r.getExternalToken();if(this.$coreStore.getValues().userKey.setValue(o),a)return this.saveUser(a,""),this.me().then(l=>{if(l!=null&&l.id){const c=l.id;this.saveUser(a,c)}return l});if(o&&!a&&!s){const l=r.getSchema();l&&o&&this.login(l,o).catch(()=>{this.logout()})}}),O(this,"saveUser",(s,r)=>{this.transport.setAuth(s,r),this.$coreStore.getValues().userToken.setValue(s),new ku().setToken(s)}),O(this,"connect",()=>{this.transport.registerInterceptor(s=>async r=>{try{return await s(r)}catch(a){throw a.code&&(a.code===7||a.code===16)&&this.transport.getHeader("authorization")&&this.softLogout(),a}})}),this.$coreStore=e,this.deepLink=n,this.transport=i,this.bypassLogin=ine(this.transport),this.connect()}}const af=new ku,One=(t,e,i)=>{t.auth=new Pne(t.store,t.transport,t.deepLink),t.stores.status.listen(n=>{n===Za.READY&&t.auth.reLogin()}),t.sdk.userId=t.stores.user.getAtomStore,t.sdk.authorizationBypass=async(n,s)=>{if(!(af.getSchema()===n&&af.getExternalToken()===s&&t.transport.getHeader("authorization")))try{await t.auth.login(n,s),af.setSchema(n),af.setExternalToken(s)}catch{t.sdk.logout()}},t.sdk.logout=()=>{t.auth.logout(),af.clear()},t.sdk.getUserStore=()=>t.stores.user.getStore(),t.sdk.isUserAuthorized=()=>t.auth.isAuthenticated(),i()},gw=ks("video_player"),Fm={debug:(...t)=>{gw.debug(...t),localStorage.getItem("SL_DEBUG")&&console.log(...t)},trace:(...t)=>{gw.trace(...t),localStorage.getItem("SL_DEBUG")&&console.log(...t)}},Xne=(t,e,i)=>{t.videoPlayer={controllers:new Set},t.sdk.addVideoPlayerController=n=>{Fm.trace("adding video player controller"),t.videoPlayer.controllers.add(n)},e.videoPlayerController&&t.sdk.addVideoPlayerController(e.videoPlayerController),t.sdk.removeVideoPlayerController=n=>{Fm.trace("removing video player controller"),t.videoPlayer.controllers.delete(n)},t.sdk.controlVideoPlayer=n=>{Fm.trace("controlling video player");for(const s of t.videoPlayer.controllers){Fm.trace("calling video player controller");try{s(n)}catch(r){console.error(r)}}},i()},Yne={[Re.FACTOID]:"insight",[Re.POLL]:"poll",[Re.TRIVIA]:"trivia",[Re.PREDICTION]:"prediction",[Re.TWEET]:"tweet"},jc=t=>t===at.INGAME_IAB11||t===at.INGAME_IAB21||t===at.NFL_SHOP_OVERLAY||t===at.SHOP_OVERLAY,$ne=(t,e,i)=>{t.sdk.uiState=Ts({}),t.ui={enableAppNotification:function(){t.sdk.uiState.setKey("appNotification",!0)},disableAppNotification:function(){t.sdk.uiState.get().app||t.sdk.uiState.setKey("appNotification",!1)},enableOnboardingNotification:function(){t.sdk.uiState.setKey("onboardingNotification",!0)},disableOnboardingNotification:function(){t.sdk.uiState.setKey("onboardingNotification",!1)},enablePolymarket:function(){t.sdk.uiState.setKey("polymarket",!0)},disablePolymarket:function(){t.sdk.uiState.setKey("polymarket",!1)},enableApp:function(){t.sdk.uiState.set({app:!0,appNotification:!0})},disableApp:function(){t.sdk.uiState.set({...t.sdk.uiState.get(),onboardingNotification:!1,appBanner:!1,appSidebar:!1,appNotification:!1,app:!1})},enableExposedPauseAd:function(){t.sdk.uiState.set({...t.sdk.uiState.get(),exposedPauseAd:!0})},disableExposedPauseAd:function(){t.sdk.uiState.set({...t.sdk.uiState.get(),exposedPauseAd:!1})}},t.sdk.uiHandlers={enablePolymarket:t.ui.enablePolymarket,disablePolymarket:t.ui.disablePolymarket},e.onContentActivate&&(t.ui.onContentActivate=e.onContentActivate);const n=s=>{t.ui.onContentActivate&&t.ui.onContentActivate({...s,type:"advertisement"})};t.onQuestionActivate=({questionType:s,...r})=>{if(t.ui.enableAppNotification(),t.ui.onContentActivate){const a=r.type||s&&Yne[s]||"question";t.ui.onContentActivate({...r,type:a})}},t.sdk.onMount({name:"ui"},()=>{const s=o=>{var l,c,u,d,h;if(((l=o.slEventBus)==null?void 0:l.type)==="exposedPauseAd")switch(o.slEventBus.action){case"enabled":t.ui.enableExposedPauseAd();break;case"disabled":t.ui.disableExposedPauseAd();break}if(((c=o.slEventBus)==null?void 0:c.type)==="app")switch(o.slEventBus.action){case"open":t.ui.enableApp();break;case"close":t.ui.disableApp();break}if(((u=o.slEventBus)==null?void 0:u.type)==="poll"){const f=o.slEventBus.action,{hasBanner:p}=o.slEventBus.payload;switch(f){case"onboardingOpen":t.sdk.uiState.set({app:!0});break;case"opened":t.sdk.uiState.set({...t.sdk.uiState.get(),appBanner:p,appSidebar:!0});break;case"closed":t.sdk.uiState.set({...t.sdk.uiState.get(),appBanner:!1,appSidebar:!1});break}}if(((d=o.slEventBus)==null?void 0:d.type)==="notification"){const f=o.slEventBus.action;if(o.slEventBus.payload.type===Ha.ONBOARDING)switch(f){case"received":t.ui.enableOnboardingNotification();break;case"closed":t.ui.disableOnboardingNotification();break}else switch(f){case"received":t.ui.enableAppNotification();break;case"closed":t.ui.disableAppNotification();break}}if(((h=o.slEventBus)==null?void 0:h.type)==="advertisement"&&e.withAd){const f=o.slEventBus,{hasNotification:p,hasBanner:m,id:v,isViewed:g,type:E}=f.payload;switch(f.action){case"notification-opened":t.sdk.uiState.set({promotionExternalAd:E===at.EXTERNAL_AD,promotionBanner:m,promotionNotification:!1,promotionOverlay:jc(E),promotionSidebar:!jc(E)});break;case"received":if(t.sdk.closeFeature(),n({stage:"activate",id:v,hasNotification:p,hasBanner:m,isViewed:g}),!e.withAdNotification){t.sdk.uiState.set({promotionBanner:m,onboardingNotification:t.sdk.uiState.get().onboardingNotification,promotionOverlay:jc(E),promotionSidebar:!jc(E),promotionExternalAd:E===at.EXTERNAL_AD});break}p?t.sdk.uiState.set({onboardingNotification:t.sdk.uiState.get().onboardingNotification,promotionNotification:!0}):t.sdk.uiState.set({onboardingNotification:t.sdk.uiState.get().onboardingNotification,promotionBanner:m,promotionOverlay:jc(E),promotionSidebar:!jc(E),promotionExternalAd:E===at.EXTERNAL_AD});break;case"closed":t.sdk.uiState.set({...t.sdk.uiState.get(),promotionNotification:!1,promotionBanner:!1,promotionOverlay:!1,promotionExternalAd:!1,promotionSidebar:!1}),n({stage:"deactivate",id:v,hasNotification:p,hasBanner:m,isViewed:g});break}}},r=Wt.listen(s),a=t.activeFeature.subscribe(o=>{o||t.ui.disableApp()});return()=>{r(),a()}}),i()},Kne=(t,e,i)=>{const n={onMountedFired:!1},s=new Map,r=new Map;t.sdk=Object.create(null),t.sdk.options=Ts(e),t.sdk.withAuth=!1,t.sdk.onMount=({name:a,clear:o},l)=>{var c,u;if(s.has(a)){const d=r.get(a);d&&d(),s.delete(a),r.delete(a)}s.set(a,{cb:l,clear:o}),((u=(c=t==null?void 0:t.stores)==null?void 0:c.enabled)==null?void 0:u.get())==="on"&&r.set(a,l())},t.ready=()=>{t.stores.enabled.subscribe(a=>{a==="on"&&n.onMountedFired===!1&&(s.forEach(({cb:o},l)=>r.set(l,o())),n.onMountedFired=!0),a!=="on"&&n.onMountedFired===!0&&(r.forEach(o=>o()),r.clear(),s.forEach(({clear:o},l)=>o&&s.delete(l)),n.onMountedFired=!1)})},t.sdk.initializeApp=a=>(t.contextConfig=a,t.stores.enabled.get()==="on"?Promise.resolve({enabled:!0}):(t.storeSubscribe(),t.stores.enabled.setValue("on"),t.stores.status.setValue(Za.INITIALIZATION),new Promise(o=>{window.requestAnimationFrame(async()=>{try{const l=await t.stores.organizationSettings.getValue();return l?(t.stores.status.setValue(Za.READY),o({enabled:!!l})):(t.stores.status.setValue(Za.FAILED),o({err:"failed"}))}catch(l){return t.stores.enabled.setValue(),t.stores.status.setValue(Za.FAILED),o({err:`${l}`})}})}))),t.sdk.disableApp=()=>{t.stores.enabled.get()==="on"&&(t.stores.enabled.setValue(),t.stores.status.setValue(Za.DISABLED),t.stores.slStreamId.setValue(),t.stores.providerStreamId.setValue(),t.sdk.closeFeature(!0),t.storeUnsubscribe(),t.transport.disconnect())},t.sdk.createEventSession=(a,o)=>{o?t.stores.slStreamId.getStore().set({loading:!1,data:a}):t.stores.providerStreamId.setValue(a)},i()},zne=(t,e)=>{const{client:i,queryKey:n}=t.createPromiseClient(f0,{method:"generateDeepLink",params:e});return t.nanoquery.createFetcherStore(n,{fetcher:async(s,r,a,o)=>{var l;if(!a)return{};try{return(l=(await i.generateDeepLink({data:{gamification:!0,externalEventId:o,eventId:a}})).data)==null?void 0:l.attributes}catch{return}},dedupeTime:1e3*60*60*24,revalidateInterval:0})},Jne=(t,{web:e,mobile:i})=>{const{client:n}=t.createPromiseClient(bie,{method:"generate"});return n.generate({web:e,mobile:i})},yw=(t,e)=>{const i=new URLSearchParams(t);for(const[n,s]of Object.entries(e))i.append(n,s);return i.toString()},jne=(t,e,i,n)=>{const s=Ts({});return wy(s,()=>zne(t,[e,i]).subscribe(async({data:r,loading:a})=>{var o;const l=r===void 0&&a===!1?"https://streamlayer.io":r==null?void 0:r.url,c=n.get()||"",u=e.get()||"",d=i.get()||"",h={[Fy]:c,[MG]:u,[ZG]:d};if(!a&&l){s.setKey("loading",!0);let f=window.location.search,p=window.location.hash;f&&p||p?f=`?${yw(f,h)}`:p=`#${yw("",h)}`;const m=window.location.origin+window.location.pathname+f+p;try{const v=await Jne(t,{web:m,mobile:l});s.set({data:(o=v.data)==null?void 0:o.link,loading:!1})}catch{s.set({loading:!1,error:"Failed to generate short link",data:void 0})}}else s.setKey("loading",!0)})),{$store:s,fetch}};var _i;(function(t){t.Unset="unset",t.Required="required",t.Optional="optional",t.Completed="completed",t.Disabled="disabled",t.Unavailable="unavailable"})(_i||(_i={}));const Hne=(t,e,i,n)=>{const{inplayGame:s}=t.featureSettings.get(),r=e.getCurrentSessionId({prefix:"onboarding"});s&&i.add({type:Ha.ONBOARDING,id:r,action:t.openFeature,close:()=>{t.onboardingProcessed.set(!0)},persistent:!0,autoHideDuration:1e6,data:{questionId:"onboarding",questionType:Re.UNSET,onboarding:{...s,instantOpen:!n.getOnboardingInstantOpen({userId:e.userId.get()||"",organizationId:e.organizationId.get()||"",eventId:e.slStreamId.get()||""}),markIstantOpen:()=>{n.setOnboardingInstantOpen({userId:e.userId.get()||"",organizationId:e.organizationId.get()||"",eventId:e.slStreamId.get()||""}),i.update(r,a=>{var o;(o=a==null?void 0:a.data)!=null&&o.onboarding&&(a.data.onboarding.instantOpen=!0)})}}}})},Um=(t,e,i,n,s,r,a,o)=>{var l,c,u;try{const d=e.userId.get(),h=e.organizationId.get(),f=e.slStreamId.get();if(!d||!h||!f)return;const p=s.getOnboardingStatus({userId:d,organizationId:h,eventId:f});if(p===_i.Completed||o!=null&&o.skipOnboarding){t.set(_i.Completed);for(const A of r)A();o!=null&&o.skipOnboarding&&p!==_i.Completed&&(s.saveOnboardingStatus({organizationId:h,userId:d,eventId:f},_i.Completed),DG(a,f));return}const m=(l=e.moderation.getStore().value)==null?void 0:l.data,v=i.featureSettings.get().inplayGame;if(m===void 0||v===void 0)return;const g=(c=m==null?void 0:m.options)==null?void 0:c.onboardingEnabled,E=(u=v==null?void 0:v.titleCard)==null?void 0:u.optIn;g?E?t.set(_i.Required):t.set(_i.Optional):(E?t.set(_i.Unavailable):t.set(_i.Disabled),n.close(e.getCurrentSessionId({prefix:"onboarding"}),{markAsViewed:!1}))}catch(d){console.error(d)}},bw=(t,e,i,n,s)=>{let r=!!(s!=null&&s.skipOnboarding);const a=e.storage,o=Zi(_i.Unset);o.subscribe(c=>{c!==_i.Unset&&(c===_i.Optional||c===_i.Required?r===!1&&(Hne(t,e,n,a),r=!0):t.onboardingProcessed.set(!0),c===_i.Completed&&e.activeQuestionId.invalidate(),a.setOnboardingInstantOpen({userId:e.userId.get()||"",organizationId:e.organizationId.get()||"",eventId:e.slStreamId.get()||""}))});const l=[];return o.get()!==_i.Completed&&(l.push(e.userId.listen(c=>{c&&Um(o,e,t,n,a,l,i,s)})),l.push(e.moderation.listen(c=>{c.data&&Um(o,e,t,n,a,l,i,s)})),l.push(t.featureSettings.listen(c=>{c&&Um(o,e,t,n,a,l,i,s)}))),Um(o,e,t,n,a,l,i,s),{$store:o,submitInplay:async()=>{const c=e.slStreamId.get();if(c){await DG(i,c),o.set(_i.Completed),a.saveOnboardingStatus({organizationId:e.organizationId.get()||"",userId:e.userId.get()||"",eventId:c},_i.Completed),Wt.emit("poll",{action:"onboardingPassed",payload:{}}),t.openFeature();const u=e.getCurrentSessionId({prefix:"onboarding"});n.close(u)}}}},Qne=(t,e,i,n)=>{const s=Ts(void 0),r=BG(n),a=async()=>{var l,c;const u=t.get(),d=e.get(),h=i?(l=i.getStore().get().data)==null?void 0:l.map(m=>m.slId):[];if(!h||!u||!d)return;const f={eventId:u,userId:d,leaderboardId:"",usersIds:[...h,d]},p=await r(f);s.set((c=p.data)==null?void 0:c.attributes)},o=()=>{a()};return wy(s,()=>{o();const l=t.listen(a),c=i==null?void 0:i.listen(a),u=e.listen(a);return()=>{l(),c==null||c(),u()}}),{$store:s,invalidate:o}},qne=async(t,e,i,n,s)=>{var r,a,o;const l=BG(s),c=t.get(),u=e.get(),d=((r=i==null?void 0:i.getStore().get().data)==null?void 0:r.map(f=>f.slId))||[],h={eventId:c,userId:n,leaderboardId:"",usersIds:[...d,u]};return(o=(a=(await l(h)).data)==null?void 0:a.attributes)==null?void 0:o.summary},vw=new Set([Re.POLL,Re.PREDICTION,Re.TRIVIA]);class ese extends FG{constructor(e,i,n){if(super(e,i),O(this,"userSummary"),O(this,"feedList"),O(this,"betPack"),O(this,"friends"),O(this,"leaderboardId"),O(this,"leaderboardList"),O(this,"deepLink"),O(this,"onboardingStatus"),O(this,"openedQuestion"),O(this,"currentUserId"),O(this,"openedUser"),O(this,"closeFeature"),O(this,"openFeature"),O(this,"feedSubscription"),O(this,"activeQuestionId"),O(this,"openedQuestionId"),O(this,"advertisement"),O(this,"onboardingProcessed"),O(this,"friendsTabEnabled"),O(this,"skipOnboarding"),O(this,"notifications"),O(this,"transport"),O(this,"background"),O(this,"storage"),O(this,"submitAnswerTimeout"),O(this,"cancels",new Set),O(this,"onQuestionActivate"),O(this,"checkInteractiveFlag",()=>{var s,r,a,o,l;if(this.skipOnboarding)this.background.interactiveAllowed.set(Qo.ALLOWED);else{const c=this.onboardingStatus.$store.get(),u=(a=(r=(s=this.background.moderation.getStore().value)==null?void 0:s.data)==null?void 0:r.options)==null?void 0:a.onboardingEnabled,d=(l=(o=this.settings.getValues().inplayGame)==null?void 0:o.titleCard)==null?void 0:l.optIn,h=c===_i.Completed,f=!u||h||d!==!0;this.background.interactiveAllowed.set(f?Qo.ALLOWED:Qo.DISALLOWED)}}),O(this,"connect",()=>{this.onboardingProcessed.subscribe(s=>{s&&this.advertisement&&this.advertisement.connect()}),this.cancels.add(this.background.feedSubscription.addListener("feed-subscription-prediction-close",async s=>{var r,a,o,l,c,u,d,h,f,p,m,v,g;if(!this.isInteractiveAllowed)return;const E=(a=(r=s.data)==null?void 0:r.attributes)==null?void 0:a.question,A=(l=(o=s.data)==null?void 0:o.attributes)==null?void 0:l.feedItem;if(!E||!(A!=null&&A.attributes))return;const{status:R,type:I,id:L,answers:F}=E;if(R===si.RESOLVED&&I===Re.PREDICTION){const B=this.background.getCurrentSessionId({prefix:`notification-id:${L}`}),G=[...this.feedList.getValues().data||[]],Z=G.findIndex(H=>H.id===L),j=G[Z];let pe=(d=(u=(c=j==null?void 0:j.attributes)==null?void 0:c.attributes)==null?void 0:u.value)==null?void 0:d.answerId;const J=M1(L,this.transport),me=J.subscribe(()=>{});await J.fetch();let de=J.get().data;de||(de=await WG(L,this.transport),J.mutate(de)),me(),window.requestAnimationFrame(()=>{J.invalidate()}),pe||(pe=(h=de==null?void 0:de.answers.find(({youVoted:H})=>H))==null?void 0:h.id);const ye=F.find(({correct:H})=>H),Le=pe?F.find(({id:H})=>H===pe):void 0,ge=!!(Le!=null&&Le.correct);if(j&&((p=(f=G[Z])==null?void 0:f.attributes)==null?void 0:p.attributes.case)==="question"){try{G[Z].attributes.attributes.value.answerId=pe,G[Z].attributes.attributes.value.openForVoting=!1,pe&&(G[Z].attributes.attributes.value.status=ge?jo.WON:jo.LOST)}catch{}this.feedList.getStore().mutate(G)}if(!Le||!ye)return;((m=this.openedQuestionId.get())==null?void 0:m.questionId)!==E.id&&this.notifications.add({type:Ha.QUESTION_RESOLVED,action:()=>this.openQuestion(E.id,A),close:()=>this.closeQuestion(L),autoHideDuration:ge?15e3:14e3,id:B,emitEvent:!1,data:{questionId:L,questionType:Re.PREDICTION,question:{title:ge?`Congratulations! You answered correctly! You won ${ye.points} pts!`:`Better luck next time! Correct: ${ye==null?void 0:ye.text}!`,votedAnswer:{title:Le==null?void 0:Le.text,points:Le==null?void 0:Le.points},correctAnswerTitle:ye==null?void 0:ye.text,correct:!!ge,predictionResult:!0,questionTitle:E==null?void 0:E.subject},inApp:{notification:E.notification,appearance:E.appearance,sponsorship:E.sponsorship,adUnit:E==null?void 0:E.adUnit,sponsorLogo:(g=(v=E.promotion)==null?void 0:v.sponsor)==null?void 0:g.logo}}}),this.userSummary.invalidate()}})),aG(this.feedList.getStore(),()=>{this.cancels.add(this.feedList.subscribe(()=>{}))}),this.cancels.add(this.background.feedSubscription.addListener("feed-subscription-questions-list",s=>{var r,a,o,l,c,u,d;const h=[...((r=this.feedList.getStore().value)==null?void 0:r.data)||[]],f=(o=(a=s.data)==null?void 0:a.attributes)==null?void 0:o.feedItem,p=h.findIndex(m=>m.id===(f==null?void 0:f.id));if(f!=null&&f.attributes&&f.attributes.attributes.case!=="promotion"&&!(f.attributes.status!==si.ACTIVE&&f.attributes.status!==si.RESOLVED)&&!(!this.isInteractiveAllowed&&vw.has(f.attributes.type)&&((l=f==null?void 0:f.attributes)==null?void 0:l.adUnit)!==fn.STANDART)){if(p!==-1)if(f.attributes.attributes.case==="question"&&((c=h[p].attributes)==null?void 0:c.attributes.case)==="question"){const m=h[p];m.attributes&&(h[p]={...h[p],attributes:{...m.attributes,attributes:{...m.attributes.attributes,value:{...m.attributes.attributes.value,...f.attributes.attributes.value,answerId:m.attributes.attributes.value.answerId,status:m.attributes.attributes.value.status,openForVoting:m.attributes.attributes.value.openForVoting===!1?!1:f.attributes.attributes.value.openForVoting}}}})}else{const m=h[p];m.attributes&&f.attributes&&(h[p]={...h[p],attributes:{...m.attributes,attributes:{...m.attributes.attributes,value:{...m.attributes.attributes.value,...f.attributes.attributes.value}}}})}p===-1&&(h.unshift(f),Wt.emit("poll",{action:"received",payload:{isAd:((u=f.attributes)==null?void 0:u.adUnit)==fn.UNSET,questionId:f.id,questionType:(d=f.attributes)==null?void 0:d.type}})),this.feedList.getStore().mutate(h)}}))}),O(this,"disconnect",()=>{this.background.feedSubscription.removeListener("feed-subscription-prediction-close"),this.background.feedSubscription.removeListener("feed-subscription-questions-list")}),O(this,"betPackVote",async(s,r)=>{var a;if(!this.betPack)return;try{await hw(this.transport,{questionId:s,answerId:r})}catch(c){if(c.message===kd.ALREADY_VOTED){const u=M1(s,this.transport),d=u.subscribe(()=>{});u.invalidate(),d()}throw c}const o={...(a=this.betPack.getValues().data)==null?void 0:a.data},l=o==null?void 0:o[s];l&&(Wt.emit("poll",{action:"voted",payload:{questionId:s,isAd:(l==null?void 0:l.adUnit)==fn.UNSET,questionType:l.type}}),l.answers=l.answers.map(c=>c.id===r?{...c,youVoted:!0}:c),this.betPack.getStore().mutate({data:o,timestamp:Date.now()}))}),O(this,"submitAnswer",async(s,r)=>{const a=M1(s,this.transport),o=a.subscribe(()=>{}),l={...a.get().data||{}},c=()=>{var u,d;const h=this.feedList.getValues().data;if(!h)return;const f=h.findIndex(v=>v.id===s),p=h[f],m=((u=p==null?void 0:p.attributes)==null?void 0:u.attributes.case)==="question"&&p.attributes.attributes.value;if(m){Wt.emit("poll",{action:"voted",payload:{isAd:((d=p.attributes)==null?void 0:d.adUnit)==fn.UNSET,questionId:s,questionType:m.questionType}});const v=a.get().data;if(o(),v){const g=v.answers.find(I=>I.correct===!0),E=v.answers.findIndex(I=>I.id===r),A=v.answers[E],R=v.answers.every(({percentageDecimal:I},L)=>I===(l==null?void 0:l.answers[L].percentageDecimal));h[f].attributes.attributes.value.answerId=r,h[f].attributes.attributes.value.openForVoting=!1,h[f].attributes.attributes.value.text=(A==null?void 0:A.text)||"",g&&(h[f].attributes.attributes.value.status=g.id===r?jo.WON:jo.LOST),this.feedList.getStore().mutate([...h]),v.answers[E].correct=(g==null?void 0:g.id)===r,v.answers[E].youVoted=!0,R&&v.answers.forEach(I=>{I.percentageDecimal=0}),(g==null?void 0:g.id)===r&&(v.answers[E].pointsEarned=v.status===si.RESOLVED?0:g.points),a.mutate({...v})}this.submitAnswerTimeout&&clearTimeout(this.submitAnswerTimeout),this.submitAnswerTimeout=setTimeout(()=>{this.userSummary.invalidate()},1e3)}};try{await hw(this.transport,{questionId:s,answerId:r}),c()}catch(u){if(u.message===kd.ALREADY_VOTED){this.userSummary.invalidate();const d=a.subscribe(()=>{});a.invalidate(),d()}throw u}}),O(this,"openQuestion",(s,r)=>{var a,o,l,c,u,d,h,f,p,m,v;if(!s)return()=>{};const g=(r==null?void 0:r.openedFrom)==="bet-pack";this.notifications.close(this.background.getCurrentSessionId({prefix:"notification",entity:s}),{animateHiding:!1});let E=(a=r==null?void 0:r.attributes)==null?void 0:a.type,A=((o=r==null?void 0:r.attributes)==null?void 0:o.adUnit)===fn.STANDART&&!!((u=(c=(l=r==null?void 0:r.attributes)==null?void 0:l.adPromotion)==null?void 0:c.banner)!=null&&u.imageUrl);if(!E&&!g){const I=(h=(((d=this.feedList.getStore().value)==null?void 0:d.data)||[]).find(L=>L.id===s))==null?void 0:h.attributes;E=I==null?void 0:I.type,A=(I==null?void 0:I.adUnit)===fn.STANDART&&!!((p=(f=I==null?void 0:I.adPromotion)==null?void 0:f.banner)!=null&&p.imageUrl)}const R={eventId:this.background.slStreamId.get()||"",userId:this.background.userId.get()||"",organizationId:this.background.organizationId.get()||""};return Wt.emit("poll",{action:"opened",payload:{questionId:s,questionType:E,isAd:((m=r==null?void 0:r.attributes)==null?void 0:m.adUnit)==fn.UNSET,questionOpenedFrom:(r==null?void 0:r.openedFrom)==="bet-pack"?"list":r==null?void 0:r.openedFrom,hasBanner:A}}),this.storage.isQuestionOpened(R,s)||(Wt.emit("poll",{action:"viewed",payload:{questionId:s,questionType:E,isAd:((v=r==null?void 0:r.attributes)==null?void 0:v.adUnit)==fn.UNSET,questionOpenedFrom:(r==null?void 0:r.openedFrom)==="bet-pack"?"list":r==null?void 0:r.openedFrom}}),this.storage.saveQuestionOpened(R,s)),g||this.openFeature(),this.background.openQuestion(s,r?{...r,openedFrom:(r==null?void 0:r.openedFrom)==="bet-pack"?"list":r==null?void 0:r.openedFrom}:void 0)}),O(this,"getFeedItem",s=>gne(s,this.transport)),O(this,"isOpenedQuestion",s=>!!this.notifications.isViewed(s)),O(this,"closeQuestion",s=>(s&&(this.onQuestionActivate({stage:"deactivate",id:s,isViewed:!!this.notifications.isViewed(this.background.getCurrentSessionId({prefix:"notification",entity:s}))}),Wt.emit("poll",{action:"closed",payload:{questionId:s}})),this.background.closeQuestion(s))),O(this,"openUser",async s=>{var r,a,o,l,c,u;if(!this.leaderboardList)return;const d=(a=(r=this.leaderboardList)==null?void 0:r.$store.get().data)==null?void 0:a.find(f=>f.userId===s);if(!d){(o=this.openedUser)==null||o.set(d);return}if(d.summaryLoaded){(l=this.openedUser)==null||l.set(d);return}const h={...d};try{const f=await qne(this.background.slStreamId,this.background.userId,this.friends,s,this.transport);(f==null?void 0:f.inTop)!==void 0&&((u=this.leaderboardList)==null||u.$store.setKey("data",(c=this.leaderboardList.$store.get().data)==null?void 0:c.map(p=>(p.userId===s&&(p.inTop=f.inTop),p))),h.inTop=f.inTop)}catch(f){console.error(f)}this.openedUser.set(h)}),O(this,"closeUser",()=>{var s;(s=this.openedUser)==null||s.set(void 0)}),O(this,"openOnboarding",()=>{this.openFeature(),Wt.emit("poll",{action:"onboardingOpen",payload:{}})}),O(this,"showInApp",s=>{var r,a,o,l,c,u,d,h,f,p,m,v,g,E,A,R,I,L,F,B,G,Z,j,pe,J,me,de,ye,Le,ge,H;const ee=this.onboardingStatus.$store.get(),we=((a=(r=s==null?void 0:s.data)==null?void 0:r.question)==null?void 0:a.adUnit)===fn.STANDART;if(s&&s.data&&(we||ee&&ee!==_i.Unset)&&((o=s.data.question)==null?void 0:o.id)!==void 0&&((c=(l=s.data.question)==null?void 0:l.bypassNotifications)==null?void 0:c.inAppSilence)!==Fee.ON&&s.data.question.status===si.ACTIVE&&!s.data.question.marketClosed){if(vw.has(s.data.question.type))(this.isInteractiveAllowed||we)&&s.data.question.notification!==void 0&&this.notifications.add({type:Ha.QUESTION,action:()=>{var M,Q,se;return this.openQuestion((Q=(M=s.data)==null?void 0:M.question)==null?void 0:Q.id,(se=s.data)==null?void 0:se.feedItem)},close:()=>{var M,Q;return this.closeQuestion((Q=(M=s.data)==null?void 0:M.question)==null?void 0:Q.id)},autoHideDuration:1e3*60,id:this.background.getCurrentSessionId({prefix:"notification",entity:s.data.question.id}),emitEvent:!0,data:{questionId:s.data.question.id,questionType:s.data.question.type,question:{title:s.data.question.notification.title},inApp:{notification:s.data.question.notification,appearance:s.data.question.appearance,sponsorship:s.data.question.sponsorship,adUnit:(u=s.data.question)==null?void 0:u.adUnit,sponsorLogo:(h=(d=s.data.question.promotion)==null?void 0:d.sponsor)==null?void 0:h.logo}}});else if(s.data.question.type===Re.FACTOID){const M=(f=s.data.question.options)==null?void 0:f.options.value,Q=((p=s.data.question.notification)==null?void 0:p.useContentTexts)===F6.ENABLED?s.data.question.subject:((m=s.data.question.notification)==null?void 0:m.title)||"",se=((v=s.data.question.notification)==null?void 0:v.useContentTexts)===F6.ENABLED?M.body:(g=s.data.question.notification)==null?void 0:g.body,ne={heading:Q,body:se,imageMode:M==null?void 0:M.imageMode,image:M==null?void 0:M.image,video:{id:((E=M==null?void 0:M.video)==null?void 0:E.id)||"",url:((A=M==null?void 0:M.video)==null?void 0:A.url)||"",thumbnailUrl:((R=M==null?void 0:M.video)==null?void 0:R.thumbnailUrl)||""},webLink:{label:"",url:""}};this.notifications.add({type:Ha.QUESTION,action:()=>{var Ie,ke,De;return this.openQuestion((ke=(Ie=s==null?void 0:s.data)==null?void 0:Ie.question)==null?void 0:ke.id,(De=s==null?void 0:s.data)==null?void 0:De.feedItem)},close:()=>{var Ie,ke;return this.closeQuestion((ke=(Ie=s==null?void 0:s.data)==null?void 0:Ie.question)==null?void 0:ke.id)},autoHideDuration:1e3*120,emitEvent:!0,id:this.background.getCurrentSessionId({prefix:"notification",entity:s.data.question.id}),data:{questionId:s.data.question.id,questionType:s.data.question.type,insight:ne,inApp:{useMediaFromContent:(M==null?void 0:M.useAsNotification)===See.ENABLED,notification:s.data.question.notification,appearance:s.data.question.appearance,sponsorship:s.data.question.sponsorship,adUnit:(I=s.data.question)==null?void 0:I.adUnit,sponsorLogo:(F=(L=s.data.question.promotion)==null?void 0:L.sponsor)==null?void 0:F.logo,isVideo:(M==null?void 0:M.mode)===Lee.VIDEO}}})}else if(s.data.question.type===Re.TWEET&&s.data.question.notification!==void 0){const M=(B=s.data.question.options)==null?void 0:B.options.value,Q={image:"",video:""};if((J=(pe=(j=(Z=(G=M.tweetMeta)==null?void 0:G.tweet)==null?void 0:Z.meta)==null?void 0:j.extendedEntities)==null?void 0:pe.media)!=null&&J[0]){const ne=M.tweetMeta.tweet.meta.extendedEntities.media;if(ne){const Ie=ne.find(({type:ke})=>ke==="photo")||ne[0];Q.image=Ie.mediaUrlHttps,Ie.type==="video"&&(Q.video=Ie.url)}}const se={title:(me=s.data.question.notification)==null?void 0:me.title,body:(de=s.data.question.notification)==null?void 0:de.body,image:(ye=s.data.question.notification)==null?void 0:ye.image,account:((Le=M==null?void 0:M.tweetMeta)==null?void 0:Le.account)||"",accountVerified:!!((ge=M==null?void 0:M.tweetMeta)!=null&&ge.accountVerified),tweet:(H=M==null?void 0:M.tweetMeta)==null?void 0:H.tweet,tweetId:s.data.question.id,tweetMedia:Q};this.notifications.add({type:Ha.QUESTION,action:()=>{var ne,Ie,ke;return this.openQuestion((Ie=(ne=s.data)==null?void 0:ne.question)==null?void 0:Ie.id,(ke=s.data)==null?void 0:ke.feedItem)},close:()=>{var ne,Ie;return this.closeQuestion((Ie=(ne=s.data)==null?void 0:ne.question)==null?void 0:Ie.id)},autoHideDuration:1e3*120,emitEvent:!0,id:this.background.getCurrentSessionId({prefix:"notification",entity:s.data.question.id}),data:{questionId:s.data.question.id,questionType:s.data.question.type,tweet:se,inApp:{notification:s.data.question.notification,appearance:s.data.question.appearance,sponsorship:s.data.question.sponsorship}}})}}}),this.background=new xne(n),this.advertisement=this.background.advertisement,this.onQuestionActivate=n.onQuestionActivate,this.feedSubscription=this.background.feedSubscription,this.activeQuestionId=this.background.activeQuestionId,this.openedQuestionId=this.background.openedQuestionId,this.storage=this.background.storage,this.feedList=this.background.feedList,this.betPack=this.background.betPack,this.currentUserId=this.background.userId,this.onboardingProcessed=Zi(!n.sdk.withAuth),this.leaderboardId=new Ys(Zi(this.settings.getValue("pinnedLeaderboardId")),"pinnedLeaderboardId").getStore(),this.notifications=n.notifications,this.transport=n.transport,this.closeFeature=(s=!0)=>n.sdk.closeFeature(s),this.openFeature=()=>n.sdk.openFeature(ot.GAMES),this.openedQuestion=this.background.openedQuestion,this.deepLink=jne(this.transport,this.background.slStreamId,n.stores.providerStreamId.getStore(),this.background.userId),this.userSummary=Qne(this.background.slStreamId,this.background.userId,this.friends,this.transport),!n.sdk.options.get().hideFriends){this.friends=new Sr(fne(this.background.userId,n.transport),"gamification:friends"),this.openedUser=Zi(void 0);const s=this.leaderboardList=Une(this.transport,this.background.slStreamId,this.background.userId,this.friends);this.cancels.add(this.userSummary.$store.listen((r,a)=>{a!=null&&a.summary&&(r!=null&&r.summary)&&s.invalidate()}))}this.connect(),this.skipOnboarding=!!n.sdk.options.get().skipOnboarding,this.onboardingStatus=bw(this,this.background,n.transport,n.notifications,{skipOnboarding:n.sdk.options.get().skipOnboarding}),n.sdk.options.get().skipOnboarding||(this.onboardingStatus=bw(this,this.background,n.transport,n.notifications,{skipOnboarding:n.sdk.options.get().skipOnboarding})),this.cancels.add(this.onboardingStatus.$store.listen(this.checkInteractiveFlag)),this.cancels.add(this.background.moderation.getStore().listen(this.checkInteractiveFlag)),this.cancels.add(this.settings.subscribe(this.checkInteractiveFlag)),this.cancels.add(this.onboardingStatus.$store.listen((s,r)=>{(r===void 0||s!==_i.Unset)&&this.background.activeQuestionId.invalidate()})),this.background.activeQuestionId.listen(this.showInApp),this.friendsTabEnabled=Zi(!1),this.cancels.add(n.sdk.options.subscribe(s=>{s.friendsTab==="disabled"?this.friendsTabEnabled.set(!1):s.friendsTab==="enabled"&&this.friendsTabEnabled.set(!0)})),this.cancels.add(this.settings.subscribe(s=>{var r,a;n.sdk.options.get().friendsTab==="activatedGame"&&this.friendsTabEnabled.set(!!((a=(r=s.inplayGame)==null?void 0:r.titleCard)!=null&&a.optIn))})),n.sdk.onMount({name:"gamification",clear:!0},()=>()=>{for(const s of this.cancels)s(),this.cancels.delete(s)})}get isInteractiveAllowed(){return this.background.interactiveAllowed.get()===Qo.ALLOWED}}const tse={[ot.GAMES]:!0};class ise extends FG{constructor(e,i){super(e,i)}}const nse=(t,e,i)=>t.type===ot.GAMES?new ese(t,e,i):new ise(t,e),sse=(t,e,i)=>{t.features=new Map,t.sdk.featuresList=new Ys(Zi(new Set),"features-list"),t.activeFeature=new Ys(Zi(ot.UNSET),"activeFeature"),t.sdk.getFeatures=()=>t.features,t.sdk.getFeature=n=>t.features.get(n),t.sdk.getActiveFeature=()=>t.activeFeature.getStore(),t.sdk.openFeature=n=>{t.sdk.initializeApp().then(()=>{t.activeFeature.setValue(n)})},t.sdk.closeFeature=(n=!1)=>{const s=t.activeFeature.getValue();if(t.activeFeature.setValue(ot.UNSET),n&&s){t.features.delete(s);const r=t.sdk.featuresList.getValue();r&&r.delete(s),t.sdk.featuresList.setValue(r)}},t.initFeature=(n,s=Ma.ORGANIZATION)=>{if(n.type in tse&&!t.features.has(n.type)){const r=nse(n,s,t);t.features.set(n.type,r);let a=t.sdk.featuresList.getValue();a?a.add(n.type):a=new Set([n.type]),t.sdk.featuresList.setValue(new Set(a))}},t.updateFeature=(n,s)=>{var r;(r=t.features.get(n.type))==null||r.update(n,s)},t.destroyFeature=n=>{t.features.delete(n.type);const s=t.sdk.featuresList.getValue();s&&s.delete(n.type),t.sdk.featuresList.setValue(new Set(s))},t.reinitializeFeatures=async()=>{const n=await t.stores.organizationSettings.getValue();t.features.clear(),t.sdk.featuresList.setValue(new Set);for(const s of(n==null?void 0:n.overlays)||[])t.initFeature(s,Ma.ORGANIZATION)},t.stores.providerStreamId.listen(n=>{n||t.reinitializeFeatures()}),t.storeSubscribe=()=>{const n=(r,a)=>{var o;if(a!=null&&a.overlays&&!((o=t.contextConfig)!=null&&o.skipOrganizationSettings&&r===Ma.ORGANIZATION))for(const l of a.overlays)l.sdkEnable===!0&&(t.features.has(l.type)?t.updateFeature(l,r):t.initFeature(l,r))},s={organizationSettings:r=>{if(r.data)try{n(Ma.ORGANIZATION,r.data)}catch(a){console.log(a)}},streamSettings:r=>{if(r.data)try{n(Ma.STREAM,r.data)}catch(a){console.log(a)}}};t.store.subscribe(s)},i()},rse=(t,e,i)=>{const{client:n,queryKey:s}=i.createPromiseClient(Aie,{method:"getMarketWithSeries",params:[t,e]});return i.nanoquery.createFetcherStore(s,{fetcher:async(r,a,o,l)=>{if(l)try{return(await n.getMarketWithSeries({eventId:o,timeframe:Eie.TIMEFRAME_ALL})).event}catch{return}}})},ase=t=>{const e=t.stores.slStreamId.getAtomStore(),i=t.stores.user.getAtomStore();return rse(e,i,t.transport)};class ose extends kG{constructor(e){super(),O(this,"marketWithSeries"),O(this,"log"),O(this,"connect",()=>{this.log.debug("connect")}),O(this,"disconnect",()=>{this.marketWithSeries.off(),this.log.debug("disconnect")}),this.log=ks("polymarket"),this.marketWithSeries=ase(e)}}const lse=(t,e,i)=>{t.sdk.polymarket=new ose(t),t.sdk.onMount({name:"polymarket"},()=>(t.sdk.polymarket.connect(),()=>{t.sdk.polymarket.disconnect()})),i()};function sR(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{id:t.id||null,adId:t.adId||null,sequence:t.sequence||null,apiFramework:t.apiFramework||null,universalAdIds:[],creativeExtensions:[]}}const cse=["ADCATEGORIES","ADCOUNT","ADPLAYHEAD","ADSERVINGID","ADTYPE","APIFRAMEWORKS","APPBUNDLE","ASSETURI","BLOCKEDADCATEGORIES","BREAKMAXADLENGTH","BREAKMAXADS","BREAKMAXDURATION","BREAKMINADLENGTH","BREAKMINDURATION","BREAKPOSITION","CLICKPOS","CLICKTYPE","CLIENTUA","CONTENTID","CONTENTPLAYHEAD","CONTENTURI","DEVICEIP","DEVICEUA","DOMAIN","EXTENSIONS","GDPRCONSENT","IFA","IFATYPE","INVENTORYSTATE","LATLONG","LIMITADTRACKING","MEDIAMIME","MEDIAPLAYHEAD","OMIDPARTNER","PAGEURL","PLACEMENTTYPE","PLAYERCAPABILITIES","PLAYERSIZE","PLAYERSTATE","PODSEQUENCE","REGULATIONS","SERVERSIDE","SERVERUA","TRANSACTIONID","UNIVERSALADID","VASTVERSIONS","VERIFICATIONVENDORS"];function Ew(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=[],s=OG(t);!e.ERRORCODE||i.isCustomCode||/^[0-9]{3}$/.test(e.ERRORCODE)||(e.ERRORCODE=900),e.CACHEBUSTING=$G(Math.round(1e8*Math.random())),e.TIMESTAMP=new Date().toISOString(),e.RANDOM=e.random=e.CACHEBUSTING;for(const r in e)e[r]=YG(e[r]);for(const r in s){const a=s[r];typeof a=="string"&&n.push(PG(a,e))}return n}function PG(t,e){const i=(t=Aw(t,e)).match(/[^[\]]+(?=])/g);if(!i)return t;let n=i.filter(s=>cse.indexOf(s)>-1);return n.length===0?t:(n=n.reduce((s,r)=>(s[r]=-1,s),{}),Aw(t,n))}function Aw(t,e){let i=t;for(const n in e){const s=e[n];i=i.replace(new RegExp("(?:\\[|%%)(".concat(n,")(?:\\]|%%)"),"g"),s)}return i}function OG(t){return Array.isArray(t)?t.map(e=>e&&e.hasOwnProperty("url")?e.url:e):t}function Sw(t){return/^(https?:\/\/|\/\/)/.test(t)}function Tw(t,e){for(let i=0;i<e.length;i++)if(XG(e[i],t))return!0;return!1}function XG(t,e){if(t&&e){const i=Object.getOwnPropertyNames(t),n=Object.getOwnPropertyNames(e);return i.length===n.length&&t.id===e.id&&t.url===e.url}return!1}function YG(t){return encodeURIComponent(t).replace(/[!'()*]/g,e=>"%".concat(e.charCodeAt(0).toString(16)))}function $G(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8;return t.toString().padStart(e,"0")}const Rc={track:function(t,e,i){Ew(t,e,i).forEach(n=>{typeof window<"u"&&window!==null&&(new Image().src=n)})},resolveURLTemplates:Ew,extractURLsFromTemplates:OG,filterUrlTemplates:function(t){return t.reduce((e,i)=>{const n=i.url||i;return Sw(n)?e.validUrls.push(n):e.invalidUrls.push(n),e},{validUrls:[],invalidUrls:[]})},containsTemplateObject:Tw,isTemplateObjectEqual:XG,encodeURIComponentRFC3986:YG,replaceUrlMacros:PG,isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},flatten:function t(e){return e.reduce((i,n)=>i.concat(Array.isArray(n)?t(n):n),[])},joinArrayOfUniqueTemplateObjs:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const i=Array.isArray(t)?t:[],n=Array.isArray(e)?e:[];return i.concat(n).reduce((s,r)=>(Tw(r,s)||s.push(r),s),[])},isValidTimeValue:function(t){return Number.isFinite(t)&&t>=-2},addLeadingZeros:$G,isValidUrl:Sw,isBrowserEnvironment:function(){return typeof window<"u"},formatMacrosValues:function(t){return typeof t!="object"?t:JSON.stringify(t)}};function Cw(t){return["true","TRUE","True","1"].includes(t)}function use(t){if(t==null)return-1;if(Rc.isNumeric(t))return parseInt(t);const e=t.split(":");if(e.length!==3)return-1;const i=e[2].split(".");let n=parseInt(i[0]);i.length===2&&(n+=parseFloat("0.".concat(i[1])));const s=parseInt(60*e[1]),r=parseInt(60*e[0]*60);return isNaN(r)||isNaN(s)||isNaN(n)||s>3600||n>60?-1:r+s+n}const ve={childByName:function(t,e){return Array.from(t.childNodes).find(i=>i.nodeName===e)},childrenByName:function(t,e){return Array.from(t.childNodes).filter(i=>i.nodeName===e)},resolveVastAdTagURI:function(t,e){if(!e)return t;if(t.startsWith("//")){const{protocol:i}=location;return"".concat(i).concat(t)}if(!t.includes("://")){const i=e.slice(0,e.lastIndexOf("/"));return"".concat(i,"/").concat(t)}return t},parseBoolean:Cw,parseNodeText:function(t){return t&&(t.textContent||t.text||"").trim()},copyNodeAttribute:function(t,e,i){const n=e.getAttribute(t);n&&i.setAttribute(t,n)},parseAttributes:function(t){return Array.from(t.attributes).reduce((e,i)=>(e[i.nodeName]=i.nodeValue,e),{})},parseDuration:use,getStandAloneAds:function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).filter(t=>!parseInt(t.sequence,10))},getSortedAdPods:function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).filter(t=>parseInt(t.sequence,10)).sort((t,e)=>t.sequence-e.sequence)},assignAttributes:function(t,e){t&&Array.from(t).forEach(i=>{let{nodeName:n,nodeValue:s}=i;if(n&&s&&e.hasOwnProperty(n)){let r=s;typeof e[n]=="boolean"&&(r=Cw(r)),e[n]=r}})},mergeWrapperAdData:function(t,e){var i;t.errorURLTemplates=e.errorURLTemplates.concat(t.errorURLTemplates),t.impressionURLTemplates=e.impressionURLTemplates.concat(t.impressionURLTemplates),t.extensions=e.extensions.concat(t.extensions),e.viewableImpression.length>0&&(t.viewableImpression=[...t.viewableImpression,...e.viewableImpression]),t.followAdditionalWrappers=e.followAdditionalWrappers,t.allowMultipleAds=e.allowMultipleAds,t.fallbackOnNoAd=e.fallbackOnNoAd;const n=(e.creatives||[]).filter(o=>o&&o.type==="companion"),s=n.reduce((o,l)=>((l.variations||[]).forEach(c=>{(c.companionClickTrackingURLTemplates||[]).forEach(u=>{Rc.containsTemplateObject(u,o)||o.push(u)})}),o),[]);t.creatives=n.concat(t.creatives);const r=e.videoClickTrackingURLTemplates&&e.videoClickTrackingURLTemplates.length,a=e.videoCustomClickURLTemplates&&e.videoCustomClickURLTemplates.length;if(t.creatives.forEach(o=>{if(e.trackingEvents&&e.trackingEvents[o.type])for(const l in e.trackingEvents[o.type]){const c=e.trackingEvents[o.type][l];Array.isArray(o.trackingEvents[l])||(o.trackingEvents[l]=[]),o.trackingEvents[l]=o.trackingEvents[l].concat(c)}o.type==="linear"&&(r&&(o.videoClickTrackingURLTemplates=o.videoClickTrackingURLTemplates.concat(e.videoClickTrackingURLTemplates)),a&&(o.videoCustomClickURLTemplates=o.videoCustomClickURLTemplates.concat(e.videoCustomClickURLTemplates)),!e.videoClickThroughURLTemplate||o.videoClickThroughURLTemplate!==null&&o.videoClickThroughURLTemplate!==void 0||(o.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate)),o.type==="companion"&&s.length&&(o.variations||[]).forEach(l=>{l.companionClickTrackingURLTemplates=Rc.joinArrayOfUniqueTemplateObjs(l.companionClickTrackingURLTemplates,s)})}),e.adVerifications&&(t.adVerifications=t.adVerifications.concat(e.adVerifications)),e.blockedAdCategories&&(t.blockedAdCategories=t.blockedAdCategories.concat(e.blockedAdCategories)),(i=e.creatives)!==null&&i!==void 0&&i.length){const o=e.creatives.filter(l=>{var c;return((c=l.icons)===null||c===void 0?void 0:c.length)&&!l.mediaFiles.length});o.length&&(t.creatives=t.creatives.concat(o))}}};function dse(t,e){const i=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:s,adId:r,sequence:a,apiFramework:o}=sR(n);return{id:s,adId:r,sequence:a,apiFramework:o,type:"companion",required:null,variations:[]}}(e);return i.required=t.getAttribute("required")||null,i.variations=ve.childrenByName(t,"Companion").map(n=>{const s=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{id:o.id||null,adType:"companionAd",width:o.width||0,height:o.height||0,assetWidth:o.assetWidth||null,assetHeight:o.assetHeight||null,expandedWidth:o.expandedWidth||null,expandedHeight:o.expandedHeight||null,apiFramework:o.apiFramework||null,adSlotId:o.adSlotId||null,pxratio:o.pxratio||"1",renderingMode:o.renderingMode||"default",staticResources:[],htmlResources:[],iframeResources:[],adParameters:null,altText:null,companionClickThroughURLTemplate:null,companionClickTrackingURLTemplates:[],trackingEvents:{}}}(ve.parseAttributes(n));s.htmlResources=ve.childrenByName(n,"HTMLResource").reduce((o,l)=>{const c=ve.parseNodeText(l);return c?o.concat(c):o},[]),s.iframeResources=ve.childrenByName(n,"IFrameResource").reduce((o,l)=>{const c=ve.parseNodeText(l);return c?o.concat(c):o},[]),s.staticResources=ve.childrenByName(n,"StaticResource").reduce((o,l)=>{const c=ve.parseNodeText(l);return c?o.concat({url:c,creativeType:l.getAttribute("creativeType")||null}):o},[]),s.altText=ve.parseNodeText(ve.childByName(n,"AltText"))||null;const r=ve.childByName(n,"TrackingEvents");r&&ve.childrenByName(r,"Tracking").forEach(o=>{const l=o.getAttribute("event"),c=ve.parseNodeText(o);l&&c&&(Array.isArray(s.trackingEvents[l])||(s.trackingEvents[l]=[]),s.trackingEvents[l].push(c))}),s.companionClickTrackingURLTemplates=ve.childrenByName(n,"CompanionClickTracking").map(o=>({id:o.getAttribute("id")||null,url:ve.parseNodeText(o)})),s.companionClickThroughURLTemplate=ve.parseNodeText(ve.childByName(n,"CompanionClickThrough"))||null;const a=ve.childByName(n,"AdParameters");return a&&(s.adParameters={value:ve.parseNodeText(a),xmlEncoded:a.getAttribute("xmlEncoded")||null}),s}),i}function hse(t,e){let i;const n=function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:c,adId:u,sequence:d,apiFramework:h}=sR(l);return{id:c,adId:u,sequence:d,apiFramework:h,type:"linear",duration:0,skipDelay:null,mediaFiles:[],mezzanine:null,interactiveCreativeFile:null,closedCaptionFiles:[],videoClickThroughURLTemplate:null,videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[],adParameters:null,icons:[],trackingEvents:{}}}(e);n.duration=ve.parseDuration(ve.parseNodeText(ve.childByName(t,"Duration")));const s=t.getAttribute("skipoffset");if(s==null)n.skipDelay=null;else if(s.charAt(s.length-1)==="%"&&n.duration!==-1){const l=parseInt(s,10);n.skipDelay=n.duration*(l/100)}else n.skipDelay=ve.parseDuration(s);const r=ve.childByName(t,"VideoClicks");if(r){const l=ve.childByName(r,"ClickThrough");n.videoClickThroughURLTemplate=l?{id:l.getAttribute("id")||null,url:ve.parseNodeText(l)}:null,ve.childrenByName(r,"ClickTracking").forEach(c=>{n.videoClickTrackingURLTemplates.push({id:c.getAttribute("id")||null,url:ve.parseNodeText(c)})}),ve.childrenByName(r,"CustomClick").forEach(c=>{n.videoCustomClickURLTemplates.push({id:c.getAttribute("id")||null,url:ve.parseNodeText(c)})})}const a=ve.childByName(t,"AdParameters");a&&(n.adParameters={value:ve.parseNodeText(a),xmlEncoded:a.getAttribute("xmlEncoded")||null}),ve.childrenByName(t,"TrackingEvents").forEach(l=>{ve.childrenByName(l,"Tracking").forEach(c=>{let u=c.getAttribute("event");const d=ve.parseNodeText(c);if(u&&d){if(u==="progress"){if(i=c.getAttribute("offset"),!i)return;u=i.charAt(i.length-1)==="%"?"progress-".concat(i):"progress-".concat(ve.parseDuration(i))}Array.isArray(n.trackingEvents[u])||(n.trackingEvents[u]=[]),n.trackingEvents[u].push(d)}})}),ve.childrenByName(t,"MediaFiles").forEach(l=>{ve.childrenByName(l,"MediaFile").forEach(f=>{n.mediaFiles.push(function(p){const m={id:null,fileURL:null,fileSize:0,deliveryType:"progressive",mimeType:null,mediaType:null,codec:null,bitrate:0,minBitrate:0,maxBitrate:0,width:0,height:0,apiFramework:null,scalable:null,maintainAspectRatio:null};m.id=p.getAttribute("id"),m.fileURL=ve.parseNodeText(p),m.deliveryType=p.getAttribute("delivery"),m.codec=p.getAttribute("codec"),m.mimeType=p.getAttribute("type"),m.mediaType=p.getAttribute("mediaType")||"2D",m.apiFramework=p.getAttribute("apiFramework"),m.fileSize=parseInt(p.getAttribute("fileSize")||0),m.bitrate=parseInt(p.getAttribute("bitrate")||0),m.minBitrate=parseInt(p.getAttribute("minBitrate")||0),m.maxBitrate=parseInt(p.getAttribute("maxBitrate")||0),m.width=parseInt(p.getAttribute("width")||0),m.height=parseInt(p.getAttribute("height")||0);const v=p.getAttribute("scalable");v&&typeof v=="string"&&(m.scalable=ve.parseBoolean(v));const g=p.getAttribute("maintainAspectRatio");return g&&typeof g=="string"&&(m.maintainAspectRatio=ve.parseBoolean(g)),m}(f))});const c=ve.childByName(l,"InteractiveCreativeFile");c&&(n.interactiveCreativeFile=function(f){const p=function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{type:m.type||null,apiFramework:m.apiFramework||null,variableDuration:ve.parseBoolean(m.variableDuration),fileURL:null}}(ve.parseAttributes(f));return p.fileURL=ve.parseNodeText(f),p}(c));const u=ve.childByName(l,"ClosedCaptionFiles");u&&ve.childrenByName(u,"ClosedCaptionFile").forEach(f=>{const p=function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{type:m.type||null,language:m.language||null,fileURL:null}}(ve.parseAttributes(f));p.fileURL=ve.parseNodeText(f),n.closedCaptionFiles.push(p)});const d=ve.childByName(l,"Mezzanine"),h=function(f,p){const m={};let v=!1;return p.forEach(g=>{f&&f.getAttribute(g)?m[g]=f.getAttribute(g):v=!0}),v?null:m}(d,["delivery","type","width","height"]);if(h){const f={id:null,fileURL:null,delivery:null,codec:null,type:null,width:0,height:0,fileSize:0,mediaType:"2D"};f.id=d.getAttribute("id"),f.fileURL=ve.parseNodeText(d),f.delivery=h.delivery,f.codec=d.getAttribute("codec"),f.type=h.type,f.width=parseInt(h.width,10),f.height=parseInt(h.height,10),f.fileSize=parseInt(d.getAttribute("fileSize"),10),f.mediaType=d.getAttribute("mediaType")||"2D",n.mezzanine=f}});const o=ve.childByName(t,"Icons");return o&&ve.childrenByName(o,"Icon").forEach(l=>{n.icons.push(function(c){const u={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,pxratio:"1",iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null,iconClickFallbackImages:[],altText:null,hoverText:null};u.program=c.getAttribute("program"),u.height=parseInt(c.getAttribute("height")||0),u.width=parseInt(c.getAttribute("width")||0),u.xPosition=function(h){return["left","right"].indexOf(h)!==-1?h:parseInt(h||0)}(c.getAttribute("xPosition")),u.yPosition=function(h){return["top","bottom"].indexOf(h)!==-1?h:parseInt(h||0)}(c.getAttribute("yPosition")),u.apiFramework=c.getAttribute("apiFramework"),u.pxratio=c.getAttribute("pxratio")||"1",u.offset=ve.parseDuration(c.getAttribute("offset")),u.duration=ve.parseDuration(c.getAttribute("duration")),u.altText=c.getAttribute("altText"),u.hoverText=c.getAttribute("hoverText"),ve.childrenByName(c,"HTMLResource").forEach(h=>{u.type=h.getAttribute("creativeType")||"text/html",u.htmlResource=ve.parseNodeText(h)}),ve.childrenByName(c,"IFrameResource").forEach(h=>{u.type=h.getAttribute("creativeType")||0,u.iframeResource=ve.parseNodeText(h)}),ve.childrenByName(c,"StaticResource").forEach(h=>{u.type=h.getAttribute("creativeType")||0,u.staticResource=ve.parseNodeText(h)});const d=ve.childByName(c,"IconClicks");if(d){u.iconClickThroughURLTemplate=ve.parseNodeText(ve.childByName(d,"IconClickThrough")),ve.childrenByName(d,"IconClickTracking").forEach(f=>{u.iconClickTrackingURLTemplates.push({id:f.getAttribute("id")||null,url:ve.parseNodeText(f)})});const h=ve.childByName(d,"IconClickFallbackImages");h&&ve.childrenByName(h,"IconClickFallbackImage").forEach(f=>{u.iconClickFallbackImages.push({url:ve.parseNodeText(f)||null,width:f.getAttribute("width")||null,height:f.getAttribute("height")||null})})}return u.iconViewTrackingURLTemplate=ve.parseNodeText(ve.childByName(c,"IconViewTracking")),u}(l))}),n}function fse(t,e){const i=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:s,adId:r,sequence:a,apiFramework:o}=sR(n);return{id:s,adId:r,sequence:a,apiFramework:o,type:"nonlinear",variations:[],trackingEvents:{}}}(e);return ve.childrenByName(t,"TrackingEvents").forEach(n=>{let s,r;ve.childrenByName(n,"Tracking").forEach(a=>{s=a.getAttribute("event"),r=ve.parseNodeText(a),s&&r&&(Array.isArray(i.trackingEvents[s])||(i.trackingEvents[s]=[]),i.trackingEvents[s].push(r))})}),ve.childrenByName(t,"NonLinear").forEach(n=>{const s={id:null,width:0,height:0,expandedWidth:0,expandedHeight:0,scalable:!0,maintainAspectRatio:!0,minSuggestedDuration:0,apiFramework:"static",adType:"nonLinearAd",type:null,staticResource:null,htmlResource:null,iframeResource:null,nonlinearClickThroughURLTemplate:null,nonlinearClickTrackingURLTemplates:[],adParameters:null};s.id=n.getAttribute("id")||null,s.width=n.getAttribute("width"),s.height=n.getAttribute("height"),s.expandedWidth=n.getAttribute("expandedWidth"),s.expandedHeight=n.getAttribute("expandedHeight"),s.scalable=ve.parseBoolean(n.getAttribute("scalable")),s.maintainAspectRatio=ve.parseBoolean(n.getAttribute("maintainAspectRatio")),s.minSuggestedDuration=ve.parseDuration(n.getAttribute("minSuggestedDuration")),s.apiFramework=n.getAttribute("apiFramework"),ve.childrenByName(n,"HTMLResource").forEach(a=>{s.type=a.getAttribute("creativeType")||"text/html",s.htmlResource=ve.parseNodeText(a)}),ve.childrenByName(n,"IFrameResource").forEach(a=>{s.type=a.getAttribute("creativeType")||0,s.iframeResource=ve.parseNodeText(a)}),ve.childrenByName(n,"StaticResource").forEach(a=>{s.type=a.getAttribute("creativeType")||0,s.staticResource=ve.parseNodeText(a)});const r=ve.childByName(n,"AdParameters");r&&(s.adParameters={value:ve.parseNodeText(r),xmlEncoded:r.getAttribute("xmlEncoded")||null}),s.nonlinearClickThroughURLTemplate=ve.parseNodeText(ve.childByName(n,"NonLinearClickThrough")),ve.childrenByName(n,"NonLinearClickTracking").forEach(a=>{s.nonlinearClickTrackingURLTemplates.push({id:a.getAttribute("id")||null,url:ve.parseNodeText(a)})}),i.variations.push(s)}),i}function Rw(t){const e=[];return t.forEach(i=>{const n=KG(i);n&&e.push(n)}),e}function KG(t){if(t.nodeName==="#comment")return null;const e={name:null,value:null,attributes:{},children:[]},i=t.attributes,n=t.childNodes;if(e.name=t.nodeName,t.attributes){for(const r in i)if(i.hasOwnProperty(r)){const a=i[r];a.nodeName&&a.nodeValue&&(e.attributes[a.nodeName]=a.nodeValue)}}for(const r in n)if(n.hasOwnProperty(r)){const a=KG(n[r]);a&&e.children.push(a)}if(e.children.length===0||e.children.length===1&&["#cdata-section","#text"].indexOf(e.children[0].name)>=0){const r=ve.parseNodeText(t);r!==""&&(e.value=r),e.children=[]}return(s=e).value===null&&Object.keys(s.attributes).length===0&&s.children.length===0?null:e;var s}function pse(t){return t.getAttribute("AdID")||t.getAttribute("adID")||t.getAttribute("adId")||null}const Z1={Wrapper:{subElements:["VASTAdTagURI","Impression"]},BlockedAdCategories:{attributes:["authority"]},InLine:{subElements:["AdSystem","AdTitle","Impression","AdServingId","Creatives"]},Category:{attributes:["authority"]},Pricing:{attributes:["model","currency"]},Verification:{oneOfinLineResources:["JavaScriptResource","ExecutableResource"],attributes:["vendor"]},UniversalAdId:{attributes:["idRegistry"]},JavaScriptResource:{attributes:["apiFramework","browserOptional"]},ExecutableResource:{attributes:["apiFramework","type"]},Tracking:{attributes:["event"]},Creatives:{subElements:["Creative"]},Creative:{subElements:["UniversalAdId"]},Linear:{subElements:["MediaFiles","Duration"]},MediaFiles:{subElements:["MediaFile"]},MediaFile:{attributes:["delivery","type","width","height"]},Mezzanine:{attributes:["delivery","type","width","height"]},NonLinear:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},Companion:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},StaticResource:{attributes:["creativeType"]},Icons:{subElements:["Icon"]},Icon:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"]}};function Iw(t,e){if(!Z1[t.nodeName]||!Z1[t.nodeName].attributes)return;const i=Z1[t.nodeName].attributes.filter(n=>!t.getAttribute(n));i.length>0&&Fp({name:t.nodeName,parentName:t.parentNode.nodeName,attributes:i},e)}function ww(t,e,i){const n=Z1[t.nodeName],s=!i&&t.nodeName!=="Wrapper";if(!(!n||s)){if(n.subElements){const r=n.subElements.filter(a=>!ve.childByName(t,a));r.length>0&&Fp({name:t.nodeName,parentName:t.parentNode.nodeName,subElements:r},e)}!i||!n.oneOfinLineResources||n.oneOfinLineResources.some(r=>ve.childByName(t,r))||Fp({name:t.nodeName,parentName:t.parentNode.nodeName,oneOfResources:n.oneOfinLineResources},e)}}function _w(t){return t.children&&t.children.length!==0}function Fp(t,e){let{name:i,parentName:n,attributes:s,subElements:r,oneOfResources:a}=t,o="Element '".concat(i,"'");o+=s?" missing required attribute(s) '".concat(s.join(", "),"' "):r?" missing required sub element(s) '".concat(r.join(", "),"' "):a?" must provide one of the following '".concat(a.join(", "),"' "):" is empty",e("VAST-warning",{message:o,parentElement:n,specVersion:4.1})}const mse={verifyRequiredValues:function t(e,i,n){if(e&&e.nodeName)if(e.nodeName==="InLine"&&(n=!0),Iw(e,i),_w(e)){ww(e,i,n);for(let s=0;s<e.children.length;s++)t(e.children[s],i,n)}else ve.parseNodeText(e).length===0&&Fp({name:e.nodeName,parentName:e.parentNode.nodeName},i)},hasSubElements:_w,emitMissingValueWarning:Fp,verifyRequiredAttributes:Iw,verifyRequiredSubElements:ww};function gse(t,e){let{allowMultipleAds:i,followAdditionalWrappers:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=Array.from(t.childNodes).filter(r=>{const a=r.nodeName.toLowerCase();return a==="inline"||n!==!1&&a==="wrapper"});for(const r of s){if(ve.copyNodeAttribute("id",t,r),ve.copyNodeAttribute("sequence",t,r),ve.copyNodeAttribute("adType",t,r),r.nodeName==="Wrapper")return{ad:bse(r,e),type:"WRAPPER"};if(r.nodeName==="InLine")return{ad:yse(r,e,{allowMultipleAds:i}),type:"INLINE"};const a=r.nodeName.toLowerCase();e("VAST-warning",{message:"<".concat(r.nodeName,a==="inline"?"> must be written <InLine>":"> must be written <Wrapper>"),wrongNode:r})}}function yse(t,e){let{allowMultipleAds:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return i===!1&&t.getAttribute("sequence")?null:zG(t,e)}function zG(t,e){let i=[];e&&mse.verifyRequiredValues(t,e);const n=Array.from(t.childNodes),s=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{id:r.id||null,sequence:r.sequence||null,adType:r.adType||null,adServingId:null,categories:[],expires:null,viewableImpression:[],system:null,title:null,description:null,advertiser:null,pricing:null,survey:null,errorURLTemplates:[],impressionURLTemplates:[],creatives:[],extensions:[],adVerifications:[],blockedAdCategories:[],followAdditionalWrappers:!0,allowMultipleAds:!1,fallbackOnNoAd:null}}(ve.parseAttributes(t));return n.forEach(r=>{switch(r.nodeName){case"Error":s.errorURLTemplates.push(ve.parseNodeText(r));break;case"Impression":s.impressionURLTemplates.push({id:r.getAttribute("id")||null,url:ve.parseNodeText(r)});break;case"Creatives":s.creatives=function(a){const o=[];return a.forEach(l=>{const c={id:l.getAttribute("id")||null,adId:pse(l),sequence:l.getAttribute("sequence")||null,apiFramework:l.getAttribute("apiFramework")||null},u=[];let d;ve.childrenByName(l,"UniversalAdId").forEach(f=>{const p={idRegistry:f.getAttribute("idRegistry")||"unknown",value:ve.parseNodeText(f)};u.push(p)});const h=ve.childByName(l,"CreativeExtensions");h&&(d=Rw(ve.childrenByName(h,"CreativeExtension")));for(const f in l.childNodes){const p=l.childNodes[f];let m;switch(p.nodeName){case"Linear":m=hse(p,c);break;case"NonLinearAds":m=fse(p,c);break;case"CompanionAds":m=dse(p,c)}m&&(u&&(m.universalAdIds=u),d&&(m.creativeExtensions=d),o.push(m))}}),o}(ve.childrenByName(r,"Creative"));break;case"Extensions":{const a=ve.childrenByName(r,"Extension");s.extensions=Rw(a),s.adVerifications.length||(i=function(o){let l=null,c=[];return o.some(u=>l=ve.childByName(u,"AdVerifications")),l&&(c=xw(ve.childrenByName(l,"Verification"))),c}(a));break}case"AdVerifications":s.adVerifications=xw(ve.childrenByName(r,"Verification"));break;case"AdSystem":s.system={value:ve.parseNodeText(r),version:r.getAttribute("version")||null};break;case"AdTitle":s.title=ve.parseNodeText(r);break;case"AdServingId":s.adServingId=ve.parseNodeText(r);break;case"Category":s.categories.push({authority:r.getAttribute("authority")||null,value:ve.parseNodeText(r)});break;case"Expires":s.expires=parseInt(ve.parseNodeText(r),10);break;case"ViewableImpression":s.viewableImpression.push(function(a){const o=(l,c)=>{const u=ve.parseNodeText(c);return u&&l.push(u),l};return{id:a.getAttribute("id")||null,viewable:ve.childrenByName(a,"Viewable").reduce(o,[]),notViewable:ve.childrenByName(a,"NotViewable").reduce(o,[]),viewUndetermined:ve.childrenByName(a,"ViewUndetermined").reduce(o,[])}}(r));break;case"Description":s.description=ve.parseNodeText(r);break;case"Advertiser":s.advertiser={id:r.getAttribute("id")||null,value:ve.parseNodeText(r)};break;case"Pricing":s.pricing={value:ve.parseNodeText(r),model:r.getAttribute("model")||null,currency:r.getAttribute("currency")||null};break;case"Survey":s.survey={value:ve.parseNodeText(r),type:r.getAttribute("type")||null};break;case"BlockedAdCategories":s.blockedAdCategories.push({authority:r.getAttribute("authority")||null,value:ve.parseNodeText(r)})}}),i.length&&(s.adVerifications=s.adVerifications.concat(i)),s}function bse(t,e){const i=zG(t,e),n=t.getAttribute("followAdditionalWrappers"),s=t.getAttribute("allowMultipleAds"),r=t.getAttribute("fallbackOnNoAd");i.followAdditionalWrappers=!n||ve.parseBoolean(n),i.allowMultipleAds=!!s&&ve.parseBoolean(s),i.fallbackOnNoAd=r?ve.parseBoolean(r):null;let a=ve.childByName(t,"VASTAdTagURI");if(a?i.nextWrapperURL=ve.parseNodeText(a):(a=ve.childByName(t,"VASTAdTagURL"),a&&(i.nextWrapperURL=ve.parseNodeText(ve.childByName(a,"URL")))),i.creatives.forEach(o=>{if(["linear","nonlinear"].includes(o.type)){if(o.trackingEvents){i.trackingEvents||(i.trackingEvents={}),i.trackingEvents[o.type]||(i.trackingEvents[o.type]={});for(const l in o.trackingEvents){const c=o.trackingEvents[l];Array.isArray(i.trackingEvents[o.type][l])||(i.trackingEvents[o.type][l]=[]),c.forEach(u=>{i.trackingEvents[o.type][l].push(u)})}}o.videoClickTrackingURLTemplates&&(Array.isArray(i.videoClickTrackingURLTemplates)||(i.videoClickTrackingURLTemplates=[]),o.videoClickTrackingURLTemplates.forEach(l=>{i.videoClickTrackingURLTemplates.push(l)})),o.videoClickThroughURLTemplate&&(i.videoClickThroughURLTemplate=o.videoClickThroughURLTemplate),o.videoCustomClickURLTemplates&&(Array.isArray(i.videoCustomClickURLTemplates)||(i.videoCustomClickURLTemplates=[]),o.videoCustomClickURLTemplates.forEach(l=>{i.videoCustomClickURLTemplates.push(l)}))}}),i.nextWrapperURL)return i}function xw(t){const e=[];return t.forEach(i=>{const n={resource:null,vendor:null,browserOptional:!1,apiFramework:null,type:null,parameters:null,trackingEvents:{}},s=Array.from(i.childNodes);ve.assignAttributes(i.attributes,n),s.forEach(a=>{let{nodeName:o,textContent:l,attributes:c}=a;switch(o){case"JavaScriptResource":case"ExecutableResource":n.resource=l.trim(),ve.assignAttributes(c,n);break;case"VerificationParameters":n.parameters=l.trim()}});const r=ve.childByName(i,"TrackingEvents");r&&ve.childrenByName(r,"Tracking").forEach(a=>{const o=a.getAttribute("event"),l=ve.parseNodeText(a);o&&l&&(Array.isArray(n.trackingEvents[o])||(n.trackingEvents[o]=[]),n.trackingEvents[o].push(l))}),e.push(n)}),e}class vse{constructor(){this._handlers=[]}on(e,i){if(typeof i!="function")throw new TypeError("The handler argument must be of type Function. Received type ".concat(typeof i));if(!e)throw new TypeError("The event argument must be of type String. Received type ".concat(typeof e));return this._handlers.push({event:e,handler:i}),this}once(e,i){return this.on(e,function(n,s,r){const a={fired:!1,wrapFn:void 0};function o(){a.fired||(n.off(s,a.wrapFn),a.fired=!0,r.bind(n)(...arguments))}return a.wrapFn=o,o}(this,e,i))}off(e,i){return this._handlers=this._handlers.filter(n=>n.event!==e||n.handler!==i),this}emit(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];let r=!1;return this._handlers.forEach(a=>{a.event==="*"&&(r=!0,a.handler(e,...n)),a.event===e&&(r=!0,a.handler(...n))}),r}removeAllListeners(e){return e?(this._handlers=this._handlers.filter(i=>i.event!==e),this):(this._handlers=[],this)}listenerCount(e){return this._handlers.filter(i=>i.event===e).length}listeners(e){return this._handlers.reduce((i,n)=>(n.event===e&&i.push(n.handler),i),[])}eventNames(){return this._handlers.map(e=>e.event)}}let Nw=0,YA=0;const JG=(t,e)=>{!t||!e||t<=0||e<=0||(YA=(YA*Nw+8*t/e)/++Nw)},Ese={ERRORCODE:900,extensions:[]},Vw="VAST response version not supported";class Ase extends vse{constructor(){let{fetcher:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.maxWrapperDepth=null,this.rootErrorURLTemplates=[],this.errorURLTemplates=[],this.remainingAds=[],this.parsingOptions={},this.fetcher=e||null,this.keepFailedAdPod=!1}trackVastError(e,i){for(var n=arguments.length,s=new Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];this.emit("VAST-error",Object.assign({},Ese,i,...s)),Rc.track(e,i)}getErrorURLTemplates(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}getEstimatedBitrate(){return YA}initParsingStatus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.maxWrapperDepth=e.wrapperLimit||10,this.parsingOptions={allowMultipleAds:e.allowMultipleAds},this.keepFailedAdPod=e.keepFailedAdPod||!1,this.rootURL="",this.resetParsingStatus(),JG(e.byteLength,e.requestDuration)}resetParsingStatus(){this.errorURLTemplates=[],this.rootErrorURLTemplates=[],this.vastVersion=null}getRemainingAds(e){if(this.remainingAds.length===0)return Promise.reject(new Error("No more ads are available for the given VAST"));const i=e?this.remainingAds:[this.remainingAds.shift()];return this.errorURLTemplates=[],this.resolveAds(i,{wrapperDepth:0,url:this.rootURL}).then(n=>this.buildVASTResponse(n))}parseVAST(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.initParsingStatus(i),i.isRootVAST=!0,this.parse(e,i).then(n=>this.buildVASTResponse(n))}buildVASTResponse(e){const i=function(n){let{ads:s,errorURLTemplates:r,version:a}=n;return{ads:s||[],errorURLTemplates:r||[],version:a||null}}({ads:e,errorURLTemplates:this.getErrorURLTemplates(),version:this.vastVersion});return this.completeWrapperResolving(i),i}parseVastXml(e,i){let{isRootVAST:n=!1,url:s=null,wrapperDepth:r=0,allowMultipleAds:a,followAdditionalWrappers:o}=i;if(!e||!e.documentElement||e.documentElement.nodeName!=="VAST"){var l;this.emit("VAST-ad-parsed",{type:"ERROR",url:s,wrapperDepth:r});const h=(e==null||(l=e.documentElement)===null||l===void 0?void 0:l.nodeName)==="VideoAdServingTemplate";throw new Error(h?Vw:"Invalid VAST XMLDocument")}const c=[],u=e.documentElement.childNodes,d=e.documentElement.getAttribute("version");n&&d&&(this.vastVersion=d);for(const h in u){const f=u[h];if(f.nodeName==="Error"){const p=ve.parseNodeText(f);n?this.rootErrorURLTemplates.push(p):this.errorURLTemplates.push(p)}else if(f.nodeName==="Ad"){if(this.vastVersion&&parseFloat(this.vastVersion)<3)a=!0;else if(a===!1&&c.length>1)break;const p=gse(f,this.emit.bind(this),{allowMultipleAds:a,followAdditionalWrappers:o});p.ad?(c.push(p.ad),this.emit("VAST-ad-parsed",{type:p.type,url:s,wrapperDepth:r,adIndex:c.length-1,vastVersion:d})):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}return c}parse(e){let{url:i=null,resolveAll:n=!0,wrapperSequence:s=null,previousUrl:r=null,wrapperDepth:a=0,isRootVAST:o=!1,followAdditionalWrappers:l,allowMultipleAds:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=[];this.vastVersion&&parseFloat(this.vastVersion)<3&&o&&(c=!0);try{u=this.parseVastXml(e,{isRootVAST:o,url:i,wrapperDepth:a,allowMultipleAds:c,followAdditionalWrappers:l})}catch(d){return Promise.reject(d)}if(u.length===1&&s!=null&&(u[0].sequence=s),n===!1){const d=ve.getSortedAdPods(u),h=ve.getStandAloneAds(u);d.length?u=d:h.length&&(u=[h.shift()]),this.remainingAds=h}return this.resolveAds(u,{wrapperDepth:a,previousUrl:r,url:i})}resolveAds(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{wrapperDepth:i,previousUrl:n,url:s}=arguments.length>1?arguments[1]:void 0;const r=[];return n=s,e.forEach(a=>{const o=this.resolveWrappers(a,i,n);r.push(o)}),Promise.all(r).then(a=>Rc.flatten(a))}resolveWrappers(e,i,n){const s={...e};return new Promise(r=>{var a;if(i++,!s.nextWrapperURL)return delete s.nextWrapperURL,r(s);if(!this.fetcher)return s.VASTAdTagURI=s.nextWrapperURL,delete s.nextWrapperURL,r(s);if(i>=this.maxWrapperDepth)return s.errorCode=302,delete s.nextWrapperURL,r(s);s.nextWrapperURL=ve.resolveVastAdTagURI(s.nextWrapperURL,n);const o=(a=this.parsingOptions.allowMultipleAds)!==null&&a!==void 0?a:s.allowMultipleAds,l=s.sequence;this.fetcher.fetchVAST({url:s.nextWrapperURL,emitter:this.emit.bind(this),maxWrapperDepth:this.maxWrapperDepth}).then(c=>this.parse(c,{url:s.nextWrapperURL,previousUrl:n,wrapperSequence:l,wrapperDepth:i,followAdditionalWrappers:s.followAdditionalWrappers,allowMultipleAds:o}).then(u=>{if(delete s.nextWrapperURL,u.length===0)return s.creatives=[],r(s);u.forEach(d=>{d&&ve.mergeWrapperAdData(d,s)}),r(u)})).catch(c=>{s.errorCode=c.message===Vw?102:301,s.errorMessage=c.message,r(s)})})}completeWrapperResolving(e){if(e.ads.length===0)this.trackVastError(e.errorURLTemplates,{ERRORCODE:303});else for(let i=e.ads.length-1;i>=0;i--){const n=e.ads[i],s=!n.creatives.some(r=>{var a,o;return((a=r.mediaFiles)===null||a===void 0?void 0:a.length)>0||((o=r.variations)===null||o===void 0?void 0:o.length)>0});!n.errorCode&&!s||n.VASTAdTagURI||(this.trackVastError(n.errorURLTemplates.concat(e.errorURLTemplates),{ERRORCODE:n.errorCode||303},{ERRORMESSAGE:n.errorMessage||""},{extensions:n.extensions},{system:n.system}),this.keepFailedAdPod&&n.sequence?n.hasFailed=!0:e.ads.splice(i,1))}}}let Ta=null;const Sse={data:{},length:0,getItem(t){return this.data[t]},setItem(t,e){this.data[t]=e,this.length=Object.keys(this.data).length},removeItem(t){delete this.data[t],this.length=Object.keys(this.data).length},clear(){this.data={},this.length=0}};class Tse{constructor(){this.storage=this.initStorage()}initStorage(){if(Ta)return Ta;try{Ta=typeof window<"u"&&window!==null?window.localStorage||window.sessionStorage:null}catch{Ta=null}return Ta&&!this.isStorageDisabled(Ta)||(Ta=Sse,Ta.clear()),Ta}isStorageDisabled(e){const i="__VASTStorage__";try{if(e.setItem(i,i),e.getItem(i)!==i)return e.removeItem(i),!0}catch{return!0}return e.removeItem(i),!1}getItem(e){return this.storage.getItem(e)}setItem(e,i){return this.storage.setItem(e,i)}removeItem(e){return this.storage.removeItem(e)}clear(){return this.storage.clear()}}const $A=12e4,Cse={get:async function(t,e){try{const i=new AbortController,n=setTimeout(()=>{throw i.abort(),new Error("URLHandler: Request timed out after ".concat(e.timeout||$A," ms (408)"))},e.timeout||$A),s=await fetch(t,{...e,signal:i.signal,credentials:e.withCredentials?"include":"omit"}).finally(()=>{clearTimeout(n)}),r=function(a){return Rc.isBrowserEnvironment()&&window.location.protocol==="https:"&&a.url.includes("http://")?"URLHandler: Cannot go from HTTPS to HTTP.":a.status===200&&a.ok?null:"URLHandler: ".concat(a.statusText," (").concat(a.status,")")}(s);return r?{error:new Error(r),statusCode:s.status}:async function(a){const o=await a.text();let l;return l=Rc.isBrowserEnvironment()?new DOMParser:new(await NC(()=>import("./index-eShKGO10-DtLd8gWp.js"),[],import.meta.url).then(c=>c.i)).DOMParser,{xml:l.parseFromString(o,"text/xml"),details:{byteLength:o.length,statusCode:a.status,rawXml:o}}}(s)}catch(i){return{error:i,statusCode:i.name==="AbortError"?408:null}}}};class Rse{constructor(){this.URLTemplateFilters=[]}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.urlHandler=e.urlHandler||e.urlhandler||Cse,this.fetchingOptions={...e.fetchOptions,timeout:e.timeout||$A,withCredentials:!!e.withCredentials}}addURLTemplateFilter(e){typeof e=="function"&&this.URLTemplateFilters.push(e)}removeLastURLTemplateFilter(){this.URLTemplateFilters.pop()}countURLTemplateFilters(){return this.URLTemplateFilters.length}clearURLTemplateFilters(){this.URLTemplateFilters=[]}async fetchVAST(e){var i;let{url:n,maxWrapperDepth:s,emitter:r,wrapperDepth:a=0,previousUrl:o=null,wrapperAd:l=null}=e;const c=Date.now();this.URLTemplateFilters.forEach(h=>{n=h(n)}),r("VAST-resolving",{url:n,previousUrl:o,wrapperDepth:a,maxWrapperDepth:s,timeout:this.fetchingOptions.timeout,wrapperAd:l});const u=await this.urlHandler.get(n,this.fetchingOptions),d=Math.round(Date.now()-c);if(r("VAST-resolved",{url:n,previousUrl:o,wrapperDepth:a,error:(u==null?void 0:u.error)||null,duration:d,statusCode:(u==null?void 0:u.statusCode)||null,...u==null?void 0:u.details}),JG(u==null||(i=u.details)===null||i===void 0?void 0:i.byteLength,d),u.error)throw new Error(u.error);return u.xml}}class Ise{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Tse;this.cappingFreeLunch=e,this.cappingMinimumTimeInterval=i,this.fetcher=new Rse,this.vastParser=new Ase({fetcher:this.fetcher}),this.storage=n,this.lastSuccessfulAd===void 0&&(this.lastSuccessfulAd=0),this.totalCalls===void 0&&(this.totalCalls=0),this.totalCallsTimeout===void 0&&(this.totalCallsTimeout=0)}addURLTemplateFilter(e){this.fetcher.addURLTemplateFilter(e)}removeLastURLTemplateFilter(){this.fetcher.removeLastURLTemplateFilter()}countURLTemplateFilters(){return this.fetcher.countURLTemplateFilters()}clearURLTemplateFilters(){this.fetcher.clearURLTemplateFilters()}getParser(){return this.vastParser}get lastSuccessfulAd(){return this.storage.getItem("vast-client-last-successful-ad")}set lastSuccessfulAd(e){this.storage.setItem("vast-client-last-successful-ad",e)}get totalCalls(){return this.storage.getItem("vast-client-total-calls")}set totalCalls(e){this.storage.setItem("vast-client-total-calls",e)}get totalCallsTimeout(){return this.storage.getItem("vast-client-total-calls-timeout")}set totalCallsTimeout(e){this.storage.setItem("vast-client-total-calls-timeout",e)}hasRemainingAds(){return this.vastParser.remainingAds.length>0}getNextAds(e){return this.vastParser.getRemainingAds(e)}parseVAST(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.fetcher.setOptions(i),this.vastParser.parseVAST(e,i)}get(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=Date.now();return i.hasOwnProperty("resolveAll")||(i.resolveAll=!1),this.totalCallsTimeout<n?(this.totalCalls=1,this.totalCallsTimeout=n+36e5):this.totalCalls++,new Promise((s,r)=>{if(this.cappingFreeLunch>=this.totalCalls)return r(new Error("VAST call canceled  FreeLunch capping not reached yet ".concat(this.totalCalls,"/").concat(this.cappingFreeLunch)));const a=n-this.lastSuccessfulAd;if(a<0)this.lastSuccessfulAd=0;else if(a<this.cappingMinimumTimeInterval)return r(new Error("VAST call canceled  (".concat(this.cappingMinimumTimeInterval,")ms minimum interval reached")));this.vastParser.initParsingStatus(i),this.fetcher.setOptions(i),this.vastParser.rootURL=e,this.fetcher.fetchVAST({url:e,emitter:this.vastParser.emit.bind(this.vastParser),maxWrapperDepth:this.vastParser.maxWrapperDepth}).then(o=>(i.previousUrl=e,i.isRootVAST=!0,i.url=e,this.vastParser.parse(o,i).then(l=>{const c=this.vastParser.buildVASTResponse(l);s(c)}))).catch(o=>r(o))})}}const wse=new Ise,Uv=ks("ui:gam-static"),Lw=t=>new Promise((e,i)=>{const n=new Image;n.onload=()=>e(t),n.onerror=()=>i(),n.src=t}),_se=t=>(e,i,n)=>t.transport.nanoquery.createFetcherStore([e,i],{dedupeTime:n.prefetch?n.refetchInterval:1/0,revalidateInterval:n.refetchInterval>0?n.refetchInterval:0,fetcher:async s=>{var r,a,o,l,c,u,d,h,f,p;if(!s||typeof s!="string")throw new Error("no_valid_ad");Wt.emit("exposedPauseAd",{action:"load",payload:{}});try{const m=(await wse.get(s)).ads.find(v=>v.creatives.length>0);if(m){const v=m.id||"";Uv.debug(m,"validAd");const g=m.creatives.find(I=>I.type==="nonlinear");if(g){const I=g.adId||g.id||v;Uv.debug(g,"nonlinear");const L=(a=(r=g.variations)==null?void 0:r[0])==null?void 0:a.staticResource,F=(l=(o=g.variations)==null?void 0:o[0])==null?void 0:l.nonlinearClickThroughURLTemplate;if(L)return await Lw(L),Wt.emit("exposedPauseAd",{action:"loaded",payload:{id:I,parentId:v}}),{id:I,parentId:v,url:s,imageSrc:L,adUrl:F}}const E=m.creatives.find(I=>I.type==="companion");Uv.debug(E,"companion");const A=(h=(d=(u=(c=E==null?void 0:E.variations)==null?void 0:c[0])==null?void 0:u.staticResources)==null?void 0:d[0])==null?void 0:h.url,R=(p=(f=E==null?void 0:E.variations)==null?void 0:f[0])==null?void 0:p.companionClickThroughURLTemplate;if(A){const I=E.adId||E.id||v;return await Lw(A),Wt.emit("exposedPauseAd",{action:"loaded",payload:{id:I,parentId:v}}),{id:I,parentId:v,url:s,imageSrc:A,adUrl:R}}}throw new Error("no_valid_ad")}catch(m){throw console.error(m,"err"),new Error("no_valid_ad")}}});class xse extends kG{constructor(e){super(),O(this,"getExternalPauseAd"),O(this,"externalPauseAdStores",new Map),O(this,"externalPauseAdEnabled",new Map),O(this,"log"),O(this,"connect",()=>{this.log.debug("connect")}),O(this,"disconnect",()=>{this.log.debug("disconnect"),this.externalPauseAdStores.forEach(n=>{n.off()}),this.externalPauseAdEnabled.forEach(n=>{n.off()}),this.externalPauseAdEnabled.clear(),this.externalPauseAdStores.clear()}),this.log=ks("advertisement");const i=_se(e);this.getExternalPauseAd=(n,s)=>{if(this.externalPauseAdStores.has(n)){const o=this.externalPauseAdEnabled.get(n),l=this.externalPauseAdStores.get(n),c=o.get()===!1&&s.$enabled===!0;return o.set(s.$enabled),c&&window.requestAnimationFrame(()=>{l.revalidate()}),[l,n]}const r=Zi(s.$enabled),a=i(n,r,s);return this.externalPauseAdEnabled.set(n,r),this.externalPauseAdStores.set(n,a),[a,n]}}}const Nse=(t,e,i)=>{t.sdk.advertisement=new xse(t),t.sdk.onMount({name:"advertisement"},()=>(t.sdk.advertisement.connect(),()=>{t.sdk.advertisement.disconnect()})),i()};class Vse{constructor(e){O(this,"analytics"),O(this,"accepted",()=>{this.analytics.write("invitation",{common:{...this.analytics.commonStore.getValues(),kind:Et.INVITATION_ACCEPTED},category:U6.GAMES,from:zg.UNSET})}),O(this,"sent",({from:i})=>{this.analytics.write("invitation",{common:{...this.analytics.commonStore.getValues(),kind:Et.INVITATION_SENT},category:U6.GAMES,from:i||zg.UNSET})}),this.analytics=e,this.analytics.onConnect(()=>{const i=n=>{var s;if(((s=n.slEventBus)==null?void 0:s.type)==="invitation")switch(n.slEventBus.action){case"sent":this.sent(n.slEventBus.payload);break}};return Wt.listen(i)})}}class Lse{constructor(e){O(this,"analytics"),O(this,"tap",()=>{this.analytics.write("interactions",{common:{...this.analytics.commonStore.getValues(),kind:Et.INTERACTIONS},actionType:ow.TAP})}),O(this,"scroll",()=>{this.analytics.write("interactions",{common:{...this.analytics.commonStore.getValues(),kind:Et.INTERACTIONS},actionType:ow.SCROLL})}),this.analytics=e,this.analytics.onConnect(()=>{const i=n=>{var s;if(((s=n.slEventBus)==null?void 0:s.type)==="interactions")switch(n.slEventBus.action){case"tap":this.tap();break;case"scroll":this.scroll();break}};return Wt.listen(i)})}}const kse={[at.UNSET]:li.UNSET,[at.INGAME_IAB21]:li.PROMOTION_INGAME_IAB21,[at.INGAME_IAB21_SIDEBAR]:li.PROMOTION_INGAME_IAB21,[at.INGAME_IAB11_LBAR]:li.PROMOTION_INGAME_IAB11_LBAR,[at.INGAME_IAB11]:li.PROMOTION_INGAME_IAB11,[at.INGAME_IAB11_SIDEBAR]:li.PROMOTION_INGAME_IAB11,[at.INGAME_IAB21_LBAR]:li.PROMOTION_INGAME_IAB21_LBAR,[at.INGAME_IAB61]:li.PROMOTION_INGAME_IAB61,[at.INGAME_IAB61_SIDEBAR]:li.PROMOTION_INGAME_IAB61,[at.EXTERNAL_AD]:li.PROMOTION_GAM,[at.VIDEO_SIDE_BY_SIDE]:li.PROMOTION_VIDEO_SIDE_BY_SIDE,[at.PICTURE_IN_PICTURE]:li.PROMOTION_PICTURE_IN_PICTURE,[at.LOWER_THIRD]:li.PROMOTION_LOWER_THIRD,[at.SHOP_LBAR]:li.PROMOTION_SHOP_LBAR,[at.SHOP_OVERLAY]:li.PROMOTION_SHOP_OVERLAY,[at.SHOP_SIDEBAR]:li.PROMOTION_SHOP_SIDEBAR,[at.NFL_SHOP_LBAR]:li.PROMOTION_SHOP_LBAR,[at.NFL_SHOP_OVERLAY]:li.PROMOTION_SHOP_OVERLAY,[at.NFL_SHOP_SIDEBAR]:li.PROMOTION_SHOP_SIDEBAR,[at.STATS]:li.UNSET,[at.STANDARD]:li.UNSET,[at.SHOP]:li.UNSET,[at.NFL_SHOP]:li.UNSET},KA=t=>t?kse[t]:li.UNSET,Fse={25:Et.AD_VIDEO_Q25,50:Et.AD_VIDEO_Q50,75:Et.AD_VIDEO_Q75};class Use{constructor(e){O(this,"analytics"),O(this,"exposedPauseAdEnabled",({id:i,parentId:n})=>{const s=this.analytics.commonStore.getValues();this.analytics.write("games",{common:{...s,kind:Et.STREAM_PAUSED,topicId:i,parentTopicId:n,topicType:_t.EXPOSED_PAUSED_AD},pollOpenedFrom:ci.UNSET})}),O(this,"exposedPauseAdClosed",({id:i,parentId:n})=>{const s=this.analytics.commonStore.getValues();this.analytics.write("games",{common:{...s,kind:Et.EXTERNAL_AD_CLOSED,topicId:i,parentTopicId:n,topicType:_t.EXPOSED_PAUSED_AD},pollOpenedFrom:ci.UNSET})}),O(this,"exposedPauseAdDisabled",({id:i,parentId:n})=>{const s=this.analytics.commonStore.getValues();this.analytics.write("games",{common:{...s,kind:Et.STREAM_RESUMED,topicId:i,parentTopicId:n,topicType:_t.EXPOSED_PAUSED_AD},pollOpenedFrom:ci.UNSET})}),O(this,"exposedPauseAdOpened",({id:i,parentId:n})=>{const s=this.analytics.commonStore.getValues();this.analytics.write("games",{common:{...s,kind:Et.EXTERNAL_AD_RENDERED,topicId:i,parentTopicId:n,topicType:_t.EXPOSED_PAUSED_AD},pollOpenedFrom:ci.UNSET})}),O(this,"exposedPauseAdNavigated",({id:i,parentId:n})=>{const s=this.analytics.commonStore.getValues();this.analytics.write("games",{common:{...s,kind:Et.AD_INTERACTION_BANNER_NAVIGATED,topicId:i,parentTopicId:n,topicType:_t.EXPOSED_PAUSED_AD},pollOpenedFrom:ci.UNSET})}),O(this,"exposedPauseAdLoad",({id:i,parentId:n},s)=>{const r=this.analytics.commonStore.getValues();this.analytics.write("games",{common:{...r,kind:s?Et.EXTERNAL_AD_LOADED:Et.EXTERNAL_AD_REQUESTED,topicId:i,parentTopicId:n,topicType:_t.EXPOSED_PAUSED_AD},pollOpenedFrom:ci.UNSET})}),O(this,"received",({id:i},{topicSubType:n})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:Et.POLLS_RECEIVED,topicId:i,topicType:_t.POLLS_PROMOTION,topicSubType:n},pollOpenedFrom:ci.UNSET})}),O(this,"opened",({id:i,openedFrom:n},{topicSubType:s})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:Et.POLLS_OPENED,topicId:i,topicType:_t.POLLS_PROMOTION,topicSubType:s},pollOpenedFrom:n==="notification"?ci.IN_APP:ci.UNSET})}),O(this,"viewed",({id:i},{topicSubType:n})=>{}),O(this,"videoMuted",({id:i},{topicSubType:n,muted:s})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:i,kind:s?Et.AD_VIDEO_MUTED:Et.AD_VIDEO_UNMUTED,topicType:_t.POLLS_PROMOTION,topicSubType:n},pollOpenedFrom:ci.UNSET})}),O(this,"quartileCompleted",({id:i,quartile:n},{topicSubType:s})=>{n&&this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:i,kind:Fse[n],topicType:_t.POLLS_PROMOTION,topicSubType:s},pollOpenedFrom:ci.UNSET})}),O(this,"videoReplayed",({id:i},{topicSubType:n})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:i,kind:Et.AD_VIDEO_REPLAYED,topicType:_t.POLLS_PROMOTION,topicSubType:n},pollOpenedFrom:ci.UNSET})}),O(this,"videoPlay",({id:i},{topicSubType:n})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:i,kind:Et.AD_VIDEO_PLAYED,topicType:_t.POLLS_PROMOTION,topicSubType:n},pollOpenedFrom:ci.UNSET})}),O(this,"videoEnd",({id:i},{topicSubType:n})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:i,kind:Et.AD_VIDEO_COMPLETE,topicType:_t.POLLS_PROMOTION,topicSubType:n},pollOpenedFrom:ci.UNSET})}),O(this,"videoRendered",({id:i},{topicSubType:n})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:i,kind:Et.AD_VIDEO_RENDERED,topicType:_t.POLLS_PROMOTION,topicSubType:n},pollOpenedFrom:ci.UNSET})}),O(this,"buttonSelect",({id:i},{topicSubType:n})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:i,kind:Et.AD_INTERACTION_BUTTON_NAVIGATED,topicType:_t.POLLS_PROMOTION,topicSubType:n},pollOpenedFrom:ci.UNSET})}),O(this,"bannerSelect",({id:i},{topicSubType:n})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:i,kind:Et.AD_INTERACTION_BANNER_NAVIGATED,topicType:_t.POLLS_PROMOTION,topicSubType:n},pollOpenedFrom:ci.UNSET})}),O(this,"bannerShown",({id:i},{topicSubType:n})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),topicId:i,kind:Et.AD_BANNER_SHOWN,topicType:_t.POLLS_PROMOTION,topicSubType:n},pollOpenedFrom:ci.UNSET})}),this.analytics=e,this.analytics.onConnect(()=>{const i=n=>{var s,r,a;if(!((s=n.slEventBus)!=null&&s.skipAnalytics)){if(((r=n.slEventBus)==null?void 0:r.type)==="exposedPauseAd"){const o=n.slEventBus.payload;switch(n.slEventBus.action){case"enabled":this.exposedPauseAdEnabled(o);break;case"disabled":this.exposedPauseAdDisabled(o);break;case"closed":this.exposedPauseAdClosed(o);break;case"load":this.exposedPauseAdLoad(o,!1);break;case"loaded":this.exposedPauseAdLoad(o,!0);break;case"rendered":this.exposedPauseAdOpened(o);break;case"navigated":this.exposedPauseAdNavigated(o);break}}if(((a=n.slEventBus)==null?void 0:a.type)==="advertisement"){const o=n.slEventBus.payload,l=KA(o.type);switch(n.slEventBus.action){case"videoPlay":this.videoPlay(o,{topicSubType:l});break;case"videoEnd":this.videoEnd(o,{topicSubType:l});break;case"videoRendered":this.videoRendered(o,{topicSubType:l});break;case"buttonSelect":this.buttonSelect(o,{topicSubType:l});break;case"bannerSelect":this.bannerSelect(o,{topicSubType:l});break;case"bannerShown":this.bannerShown(o,{topicSubType:l});break;case"received":this.received(o,{topicSubType:l});break;case"opened":this.opened(o,{topicSubType:l});break;case"viewed":this.viewed(o,{topicSubType:l});break;case"videoMuted":case"videoUnmuted":this.videoMuted(o,{topicSubType:l,muted:n.slEventBus.action==="videoMuted"});break;case"videoReplayed":this.videoReplayed(o,{topicSubType:l});break;case"quartileCompleted":this.quartileCompleted(o,{topicSubType:l});break}}}};return Wt.listen(i)})}}const jf={[Re.UNSET]:_t.UNSET,[Re.FACTOID]:_t.POLLS_INSIGHT,[Re.POLL]:_t.POLLS_POLL,[Re.PREDICTION]:_t.POLLS_PREDICTION,[Re.PROMOTION]:_t.POLLS_PROMOTION,[Re.TRIVIA]:_t.POLLS_TRIVIA,[Re.TWEET]:_t.POLLS_TWITTER};Re.UNSET+"",xa.UNSET,Re.FACTOID+"",xa.POLLS,Re.POLL+"",xa.POLLS,Re.PREDICTION+"",xa.POLLS,Re.PROMOTION+"",xa.POLLS,Re.TRIVIA+"",xa.POLLS,Re.TWEET+"",xa.POLLS;const Bse={[ot.UNSET]:Ji.UNSET,[ot.INPLAY]:Ji.INPLAY,[ot.MESSAGING]:Ji.MESSAGING,[ot.STATISTICS]:Ji.STATS,[ot.BETTING]:Ji.BETTING,[ot.TWITTER]:Ji.TWITTER,[ot.MERCHANDISE]:Ji.MERCHANDISE,[ot.CONTESTS]:Ji.CONTESTS,[ot.VOICE_CHAT]:Ji.CALLING,[ot.TICKETS]:Ji.TICKETS,[ot.WHOIS_WATCHING]:Ji.WHOISWATCHING,[ot.PROFILE]:Ji.PROFILE,[ot.GAMES]:Ji.POLLS,[ot.GOLF_STATISTICS]:Ji.STATS,[ot.HIGHLIGHTS]:Ji.HIGHLIGHTS,[ot.PUBLIC_CHAT]:Ji.PUBLIC_CHAT};class Wse{constructor(e){O(this,"analytics"),O(this,"received",({questionId:i,questionType:n,topicSubType:s})=>{this.analytics.write("notification",{common:{...this.analytics.commonStore.getValues(),kind:Et.NOTIFICATION_RECEIVED,topicId:i,topicType:n?jf[n]:_t.UNSET,topicSubType:s},notificationKind:xa.POLLS,notificationType:lw.IN_APP})}),O(this,"opened",({questionId:i,questionType:n,topicSubType:s})=>{this.analytics.write("notification",{common:{...this.analytics.commonStore.getValues(),kind:Et.NOTIFICATION_OPENED,topicId:i,topicType:n?jf[n]:_t.UNSET,topicSubType:s},notificationKind:xa.POLLS,notificationType:lw.IN_APP})}),this.analytics=e,this.analytics.onConnect(()=>{const i=n=>{var s,r;if(((s=n.slEventBus)==null?void 0:s.type)==="notification")switch(n.slEventBus.action){case"rendered":this.received(n.slEventBus.payload);break;case"opened":this.opened(n.slEventBus.payload);break}if(((r=n.slEventBus)==null?void 0:r.type)==="advertisement")switch(n.slEventBus.action){case"notification-received":this.received({questionId:n.slEventBus.payload.id,questionType:Re.PROMOTION,topicSubType:KA(n.slEventBus.payload.type)});break;case"notification-opened":this.opened({questionId:n.slEventBus.payload.id,questionType:Re.PROMOTION,topicSubType:KA(n.slEventBus.payload.type)});break}};return Wt.listen(i)})}}class Gse{constructor(e){O(this,"analytics"),O(this,"received",({questionId:i,questionType:n})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:Et.POLLS_RECEIVED,topicId:i,topicType:n?jf[n]:_t.UNSET},pollOpenedFrom:ci.UNSET})}),O(this,"viewed",({questionId:i,questionType:n,questionOpenedFrom:s,isAd:r})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:r?Et.POLLS_AD_OPENED:Et.POLLS_OPENED,topicId:i,topicType:n?jf[n]:_t.UNSET},pollOpenedFrom:s==="list"?ci.PICK_HISTORY:ci.IN_APP})}),O(this,"voted",({questionId:i,questionType:n,isAd:s})=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:s?Et.POLLS_AD_VOTE:Et.POLLS_VOTE,topicId:i,topicType:n?jf[n]:_t.UNSET},pollOpenedFrom:ci.UNSET})}),O(this,"onboardingPassed",()=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:Et.GAMES_JOINED},pollOpenedFrom:ci.UNSET})}),O(this,"navigated",()=>{this.analytics.write("games",{common:{...this.analytics.commonStore.getValues(),kind:Et.POLLS_NAVIGATED},pollOpenedFrom:ci.UNSET})}),this.analytics=e,this.analytics.onConnect(()=>{const i=n=>{var s;if(((s=n.slEventBus)==null?void 0:s.type)==="poll")switch(n.slEventBus.action){case"voted":this.voted(n.slEventBus.payload);break;case"navigated":this.navigated();break;case"onboardingPassed":this.onboardingPassed();break;case"received":this.received(n.slEventBus.payload);break;case"viewed":this.viewed(n.slEventBus.payload);break}};return Wt.listen(i)})}}const Dse=({transport:t,$commonStore:e})=>{let i;const n=Zi(!1),s=3e4,{client:r,queryKey:a}=t.createPromiseClient(wG,{method:"send",params:[n]}),o=t.nanoquery.createFetcherStore(a,{fetcher:async()=>{const d=e.getStore().get();try{await r.unary({message:{case:"heartbeat",value:{common:{...d,kind:Et.SESSION_HEARTBEAT}}}})}catch(h){Pa.error(h,"send heartbeat failed")}return Date.now()},revalidateInterval:s}),l=()=>{Pa.debug("mounted heartbeat"),i=o.subscribe(()=>{})},c=()=>{Pa.debug("enabled heartbeat"),n.set(!0),o.lc===0&&l()},u=()=>{Pa.debug("disabled heartbeat"),n.set(!1)};return{enable:c,disable:u,mount:l,unmount:()=>{Pa.debug("unmounted heartbeat"),o.off(),i==null||i(),i=void 0,u()}}},Pa=ks("analytics");class Mse{constructor(e){O(this,"commonStore"),O(this,"notifications"),O(this,"polls"),O(this,"invitation"),O(this,"interactions"),O(this,"advertisement"),O(this,"heartbeat"),O(this,"analyticsClient"),O(this,"listeners"),O(this,"listenersCancels"),O(this,"connected",!1),O(this,"connect",()=>{this.writeCommon("sessionId",Ho()),this.heartbeat.enable(),this.listeners.forEach(n=>this.listenersCancels.add(n())),this.connected=!0,Pa.debug("analytics connected")}),O(this,"disconnect",()=>{this.writeCommon("sessionId",""),this.writeCommon("overlaySessionId",""),this.heartbeat.unmount(),this.listenersCancels.forEach(n=>n()),this.connected=!1,Pa.debug("analytics disconnected")}),O(this,"write",(n,s)=>{s&&this.analyticsClient.unary({message:{case:n,value:s}}).then(()=>{Pa.trace("send analytics success",n,s)}).catch(r=>{Pa.error(r,"send analytics failed")})}),O(this,"writeCommon",(n,s)=>{this.commonStore.setValue(n,s)}),O(this,"onConnect",n=>{this.listeners.add(n),this.connected&&this.listenersCancels.add(n())}),O(this,"connectToSDK",n=>{this.onConnect(()=>n.stores.slStreamId.getAtomStore().subscribe(s=>{this.writeCommon("eventId",s)})),this.onConnect(()=>n.sdk.getActiveFeature().subscribe(s=>{s&&this.writeCommon("category",Bse[s]),s!==ot.UNSET?this.writeCommon("overlaySessionId",Ho()):this.writeCommon("overlaySessionId","")})),this.onConnect(()=>{const s=r=>{var a,o,l;if(!r.slEventBus)return;const c=(a=r.slEventBus)==null?void 0:a.action;((o=r.slEventBus)==null?void 0:o.type)==="exposedPauseAd"&&((c==="disabled"||c==="closed")&&setTimeout(()=>{this.writeCommon("overlaySessionId",""),this.writeCommon("topicId",""),this.writeCommon("parentTopicId",""),this.writeCommon("topicType",_t.UNSET),this.writeCommon("category",Ji.UNSET)},200),c==="enabled"&&(this.writeCommon("overlaySessionId",Ho()),this.writeCommon("category",Ji.EXPOSED_PAUSED_AD))),((l=r.slEventBus)==null?void 0:l.type)==="advertisement"&&(c==="opened"&&this.writeCommon("overlaySessionId",Ho()),c==="closed"&&this.writeCommon("overlaySessionId",""))};return Wt.listen(s)}),this.onConnect(()=>{const s=window.matchMedia("(orientation: portrait)"),r=a=>{this.writeCommon("screenOrientation",a.matches?k6.PORTRAIT:k6.LANDSCAPE)};return s.addEventListener("change",r),()=>{s.removeEventListener("change",r)}}),this.onConnect(()=>n.deepLink.$store.subscribe(s=>{s!=null&&s.handled&&this.invitation.accepted()}))}),this.listeners=new Set,this.listenersCancels=new Set,this.commonStore=new oc(Ts({}),"common-analytics"),this.connectToSDK(e),this.heartbeat=Dse({transport:e.analyticsTransport,$commonStore:this.commonStore}),this.notifications=new Wse(this),this.polls=new Gse(this),this.invitation=new Vse(this),this.interactions=new Lse(this),this.advertisement=new Use(this);const{client:i}=e.analyticsTransport.createPromiseClient(wG,{method:"send"});this.analyticsClient=i}}const Zse=(t,e,i)=>{t.analytics=new Mse(t),t.sdk.onMount({name:"analytics"},()=>(t.analytics.connect(),t.sdk.writeOverlaySessionId=n=>{n===""?t.analytics.writeCommon("overlaySessionId",""):t.analytics.writeCommon("overlaySessionId",Ho())},()=>{t.analytics.disconnect()})),i()};var rR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Tc<"u"?Tc:typeof self<"u"?self:{};function Pse(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aR={exports:{}},oR={exports:{}};function Ose(t){var e=new t,i=e;function n(){var r=e;return r.next?e=r.next:(e=new t,i=e),r.next=null,r}function s(r){i.next=r,i=r}return{get:n,release:s}}var Xse=Ose,Yse=Xse;function jG(t,e,i){if(typeof t=="function"&&(i=e,e=t,t=null),!(i>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");var n=Yse($se),s=null,r=null,a=0,o=null,l={push:m,drain:Gs,saturated:Gs,pause:u,paused:!1,get concurrency(){return i},set concurrency(I){if(!(I>=1))throw new Error("fastqueue concurrency must be equal to or greater than 1");if(i=I,!l.paused)for(;s&&a<i;)a++,g()},running:c,resume:f,idle:p,length:d,getQueue:h,unshift:v,empty:Gs,kill:E,killAndDrain:A,error:R};return l;function c(){return a}function u(){l.paused=!0}function d(){for(var I=s,L=0;I;)I=I.next,L++;return L}function h(){for(var I=s,L=[];I;)L.push(I.value),I=I.next;return L}function f(){if(l.paused){if(l.paused=!1,s===null){a++,g();return}for(;s&&a<i;)a++,g()}}function p(){return a===0&&l.length()===0}function m(I,L){var F=n.get();F.context=t,F.release=g,F.value=I,F.callback=L||Gs,F.errorHandler=o,a>=i||l.paused?r?(r.next=F,r=F):(s=F,r=F,l.saturated()):(a++,e.call(t,F.value,F.worked))}function v(I,L){var F=n.get();F.context=t,F.release=g,F.value=I,F.callback=L||Gs,F.errorHandler=o,a>=i||l.paused?s?(F.next=s,s=F):(s=F,r=F,l.saturated()):(a++,e.call(t,F.value,F.worked))}function g(I){I&&n.release(I);var L=s;L&&a<=i?l.paused?a--:(r===s&&(r=null),s=L.next,L.next=null,e.call(t,L.value,L.worked),r===null&&l.empty()):--a===0&&l.drain()}function E(){s=null,r=null,l.drain=Gs}function A(){s=null,r=null,l.drain(),l.drain=Gs}function R(I){o=I}}function Gs(){}function $se(){this.value=null,this.callback=Gs,this.next=null,this.release=Gs,this.context=null,this.errorHandler=null;var t=this;this.worked=function(e,i){var n=t.callback,s=t.errorHandler,r=t.value;t.value=null,t.callback=Gs,t.errorHandler&&s(e,r),n.call(t.context,e,i),t.release(t)}}function Kse(t,e,i){typeof t=="function"&&(i=e,e=t,t=null);function n(u,d){e.call(this,u).then(function(h){d(null,h)},d)}var s=jG(t,n,i),r=s.push,a=s.unshift;return s.push=o,s.unshift=l,s.drained=c,s;function o(u){var d=new Promise(function(h,f){r(u,function(p,m){if(p){f(p);return}h(m)})});return d.catch(Gs),d}function l(u){var d=new Promise(function(h,f){a(u,function(p,m){if(p){f(p);return}h(m)})});return d.catch(Gs),d}function c(){if(s.idle())return new Promise(function(h){h()});var u=s.drain,d=new Promise(function(h){s.drain=function(){u(),h()}});return d}}oR.exports=jG;oR.exports.promise=Kse;var HG=oR.exports,lR={exports:{}},Hu=typeof Reflect=="object"?Reflect:null,kw=Hu&&typeof Hu.apply=="function"?Hu.apply:function(t,e,i){return Function.prototype.apply.call(t,e,i)},P1;Hu&&typeof Hu.ownKeys=="function"?P1=Hu.ownKeys:Object.getOwnPropertySymbols?P1=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:P1=function(t){return Object.getOwnPropertyNames(t)};function zse(t){console&&console.warn&&console.warn(t)}var QG=Number.isNaN||function(t){return t!==t};function Xt(){Xt.init.call(this)}lR.exports=Xt;lR.exports.once=Qse;Xt.EventEmitter=Xt;Xt.prototype._events=void 0;Xt.prototype._eventsCount=0;Xt.prototype._maxListeners=void 0;var Fw=10;function Uy(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(Xt,"defaultMaxListeners",{enumerable:!0,get:function(){return Fw},set:function(t){if(typeof t!="number"||t<0||QG(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");Fw=t}});Xt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Xt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||QG(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function qG(t){return t._maxListeners===void 0?Xt.defaultMaxListeners:t._maxListeners}Xt.prototype.getMaxListeners=function(){return qG(this)};Xt.prototype.emit=function(t){for(var e=[],i=1;i<arguments.length;i++)e.push(arguments[i]);var n=t==="error",s=this._events;if(s!==void 0)n=n&&s.error===void 0;else if(!n)return!1;if(n){var r;if(e.length>0&&(r=e[0]),r instanceof Error)throw r;var a=new Error("Unhandled error."+(r?" ("+r.message+")":""));throw a.context=r,a}var o=s[t];if(o===void 0)return!1;if(typeof o=="function")kw(o,this,e);else for(var l=o.length,c=sD(o,l),i=0;i<l;++i)kw(c[i],this,e);return!0};function eD(t,e,i,n){var s,r,a;if(Uy(i),r=t._events,r===void 0?(r=t._events=Object.create(null),t._eventsCount=0):(r.newListener!==void 0&&(t.emit("newListener",e,i.listener?i.listener:i),r=t._events),a=r[e]),a===void 0)a=r[e]=i,++t._eventsCount;else if(typeof a=="function"?a=r[e]=n?[i,a]:[a,i]:n?a.unshift(i):a.push(i),s=qG(t),s>0&&a.length>s&&!a.warned){a.warned=!0;var o=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");o.name="MaxListenersExceededWarning",o.emitter=t,o.type=e,o.count=a.length,zse(o)}return t}Xt.prototype.addListener=function(t,e){return eD(this,t,e,!1)};Xt.prototype.on=Xt.prototype.addListener;Xt.prototype.prependListener=function(t,e){return eD(this,t,e,!0)};function Jse(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function tD(t,e,i){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:i},s=Jse.bind(n);return s.listener=i,n.wrapFn=s,s}Xt.prototype.once=function(t,e){return Uy(e),this.on(t,tD(this,t,e)),this};Xt.prototype.prependOnceListener=function(t,e){return Uy(e),this.prependListener(t,tD(this,t,e)),this};Xt.prototype.removeListener=function(t,e){var i,n,s,r,a;if(Uy(e),n=this._events,n===void 0)return this;if(i=n[t],i===void 0)return this;if(i===e||i.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete n[t],n.removeListener&&this.emit("removeListener",t,i.listener||e));else if(typeof i!="function"){for(s=-1,r=i.length-1;r>=0;r--)if(i[r]===e||i[r].listener===e){a=i[r].listener,s=r;break}if(s<0)return this;s===0?i.shift():jse(i,s),i.length===1&&(n[t]=i[0]),n.removeListener!==void 0&&this.emit("removeListener",t,a||e)}return this};Xt.prototype.off=Xt.prototype.removeListener;Xt.prototype.removeAllListeners=function(t){var e,i,n;if(i=this._events,i===void 0)return this;if(i.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):i[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete i[t]),this;if(arguments.length===0){var s=Object.keys(i),r;for(n=0;n<s.length;++n)r=s[n],r!=="removeListener"&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=i[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(n=e.length-1;n>=0;n--)this.removeListener(t,e[n]);return this};function iD(t,e,i){var n=t._events;if(n===void 0)return[];var s=n[e];return s===void 0?[]:typeof s=="function"?i?[s.listener||s]:[s]:i?Hse(s):sD(s,s.length)}Xt.prototype.listeners=function(t){return iD(this,t,!0)};Xt.prototype.rawListeners=function(t){return iD(this,t,!1)};Xt.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):nD.call(t,e)};Xt.prototype.listenerCount=nD;function nD(t){var e=this._events;if(e!==void 0){var i=e[t];if(typeof i=="function")return 1;if(i!==void 0)return i.length}return 0}Xt.prototype.eventNames=function(){return this._eventsCount>0?P1(this._events):[]};function sD(t,e){for(var i=new Array(e),n=0;n<e;++n)i[n]=t[n];return i}function jse(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function Hse(t){for(var e=new Array(t.length),i=0;i<e.length;++i)e[i]=t[i].listener||t[i];return e}function Qse(t,e){return new Promise(function(i,n){function s(a){t.removeListener(e,r),n(a)}function r(){typeof t.removeListener=="function"&&t.removeListener("error",s),i([].slice.call(arguments))}rD(t,e,r,{once:!0}),e!=="error"&&qse(t,s,{once:!0})})}function qse(t,e,i){typeof t.on=="function"&&rD(t,"error",e,i)}function rD(t,e,i,n){if(typeof t.on=="function")n.once?t.once(e,i):t.on(e,i);else if(typeof t.addEventListener=="function")t.addEventListener(e,function s(r){n.once&&t.removeEventListener(e,s),i(r)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var aD=lR.exports,By={},oD={},lD=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),i=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;t[e]=n;for(e in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var s=Object.getOwnPropertySymbols(t);if(s.length!==1||s[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var r=Object.getOwnPropertyDescriptor(t,e);if(r.value!==n||r.enumerable!==!0)return!1}return!0},ere=lD,Wy=function(){return ere()&&!!Symbol.toStringTag},tre=Error,ire=EvalError,nre=RangeError,sre=ReferenceError,cD=SyntaxError,Gy=TypeError,rre=URIError,Uw=typeof Symbol<"u"&&Symbol,are=lD,ore=function(){return typeof Uw!="function"||typeof Symbol!="function"||typeof Uw("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:are()},Bv={__proto__:null,foo:{}},lre=Object,cre=function(){return{__proto__:Bv}.foo===Bv.foo&&!(Bv instanceof lre)},ure="Function.prototype.bind called on incompatible ",dre=Object.prototype.toString,hre=Math.max,fre="[object Function]",Bw=function(t,e){for(var i=[],n=0;n<t.length;n+=1)i[n]=t[n];for(var s=0;s<e.length;s+=1)i[s+t.length]=e[s];return i},pre=function(t,e){for(var i=[],n=e,s=0;n<t.length;n+=1,s+=1)i[s]=t[n];return i},mre=function(t,e){for(var i="",n=0;n<t.length;n+=1)i+=t[n],n+1<t.length&&(i+=e);return i},gre=function(t){var e=this;if(typeof e!="function"||dre.apply(e)!==fre)throw new TypeError(ure+e);for(var i=pre(arguments,1),n,s=function(){if(this instanceof n){var c=e.apply(this,Bw(i,arguments));return Object(c)===c?c:this}return e.apply(t,Bw(i,arguments))},r=hre(0,e.length-i.length),a=[],o=0;o<r;o++)a[o]="$"+o;if(n=Function("binder","return function ("+mre(a,",")+"){ return binder.apply(this,arguments); }")(s),e.prototype){var l=function(){};l.prototype=e.prototype,n.prototype=new l,l.prototype=null}return n},yre=gre,cR=Function.prototype.bind||yre,bre=Function.prototype.call,vre=Object.prototype.hasOwnProperty,Ere=cR,Are=Ere.call(bre,vre),vt,Sre=tre,Tre=ire,Cre=nre,Rre=sre,Fd=cD,Qu=Gy,Ire=rre,uD=Function,Wv=function(t){try{return uD('"use strict"; return ('+t+").constructor;")()}catch{}},lc=Object.getOwnPropertyDescriptor;if(lc)try{lc({},"")}catch{lc=null}var Gv=function(){throw new Qu},wre=lc?function(){try{return arguments.callee,Gv}catch{try{return lc(arguments,"callee").get}catch{return Gv}}}():Gv,Hc=ore(),_re=cre(),ji=Object.getPrototypeOf||(_re?function(t){return t.__proto__}:null),bu={},xre=typeof Uint8Array>"u"||!ji?vt:ji(Uint8Array),cc={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?vt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?vt:ArrayBuffer,"%ArrayIteratorPrototype%":Hc&&ji?ji([][Symbol.iterator]()):vt,"%AsyncFromSyncIteratorPrototype%":vt,"%AsyncFunction%":bu,"%AsyncGenerator%":bu,"%AsyncGeneratorFunction%":bu,"%AsyncIteratorPrototype%":bu,"%Atomics%":typeof Atomics>"u"?vt:Atomics,"%BigInt%":typeof BigInt>"u"?vt:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?vt:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?vt:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?vt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Sre,"%eval%":eval,"%EvalError%":Tre,"%Float32Array%":typeof Float32Array>"u"?vt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?vt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?vt:FinalizationRegistry,"%Function%":uD,"%GeneratorFunction%":bu,"%Int8Array%":typeof Int8Array>"u"?vt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?vt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?vt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Hc&&ji?ji(ji([][Symbol.iterator]())):vt,"%JSON%":typeof JSON=="object"?JSON:vt,"%Map%":typeof Map>"u"?vt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Hc||!ji?vt:ji(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?vt:Promise,"%Proxy%":typeof Proxy>"u"?vt:Proxy,"%RangeError%":Cre,"%ReferenceError%":Rre,"%Reflect%":typeof Reflect>"u"?vt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?vt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Hc||!ji?vt:ji(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?vt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Hc&&ji?ji(""[Symbol.iterator]()):vt,"%Symbol%":Hc?Symbol:vt,"%SyntaxError%":Fd,"%ThrowTypeError%":wre,"%TypedArray%":xre,"%TypeError%":Qu,"%Uint8Array%":typeof Uint8Array>"u"?vt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?vt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?vt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?vt:Uint32Array,"%URIError%":Ire,"%WeakMap%":typeof WeakMap>"u"?vt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?vt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?vt:WeakSet};if(ji)try{null.error}catch(t){var Nre=ji(ji(t));cc["%Error.prototype%"]=Nre}var Vre=function t(e){var i;if(e==="%AsyncFunction%")i=Wv("async function () {}");else if(e==="%GeneratorFunction%")i=Wv("function* () {}");else if(e==="%AsyncGeneratorFunction%")i=Wv("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(i=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var s=t("%AsyncGenerator%");s&&ji&&(i=ji(s.prototype))}return cc[e]=i,i},Ww={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},p0=cR,Hg=Are,Lre=p0.call(Function.call,Array.prototype.concat),kre=p0.call(Function.apply,Array.prototype.splice),Gw=p0.call(Function.call,String.prototype.replace),Qg=p0.call(Function.call,String.prototype.slice),Fre=p0.call(Function.call,RegExp.prototype.exec),Ure=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Bre=/\\(\\)?/g,Wre=function(t){var e=Qg(t,0,1),i=Qg(t,-1);if(e==="%"&&i!=="%")throw new Fd("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&e!=="%")throw new Fd("invalid intrinsic syntax, expected opening `%`");var n=[];return Gw(t,Ure,function(s,r,a,o){n[n.length]=a?Gw(o,Bre,"$1"):r||s}),n},Gre=function(t,e){var i=t,n;if(Hg(Ww,i)&&(n=Ww[i],i="%"+n[0]+"%"),Hg(cc,i)){var s=cc[i];if(s===bu&&(s=Vre(i)),typeof s>"u"&&!e)throw new Qu("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:s}}throw new Fd("intrinsic "+t+" does not exist!")},m0=function(t,e){if(typeof t!="string"||t.length===0)throw new Qu("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new Qu('"allowMissing" argument must be a boolean');if(Fre(/^%?[^%]*%?$/,t)===null)throw new Fd("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=Wre(t),n=i.length>0?i[0]:"",s=Gre("%"+n+"%",e),r=s.name,a=s.value,o=!1,l=s.alias;l&&(n=l[0],kre(i,Lre([0,1],l)));for(var c=1,u=!0;c<i.length;c+=1){var d=i[c],h=Qg(d,0,1),f=Qg(d,-1);if((h==='"'||h==="'"||h==="`"||f==='"'||f==="'"||f==="`")&&h!==f)throw new Fd("property names with quotes must have matching quotes");if((d==="constructor"||!u)&&(o=!0),n+="."+d,r="%"+n+"%",Hg(cc,r))a=cc[r];else if(a!=null){if(!(d in a)){if(!e)throw new Qu("base intrinsic for "+t+" exists, but the property is not available.");return}if(lc&&c+1>=i.length){var p=lc(a,d);u=!!p,u&&"get"in p&&!("originalValue"in p.get)?a=p.get:a=a[d]}else u=Hg(a,d),a=a[d];u&&!o&&(cc[r]=a)}}return a},dD={exports:{}},Dv,Dw;function uR(){if(Dw)return Dv;Dw=1;var t=m0,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Dv=e,Dv}var Dre=m0,O1=Dre("%Object.getOwnPropertyDescriptor%",!0);if(O1)try{O1([],"length")}catch{O1=null}var Dy=O1,Mw=uR(),Mre=cD,Qc=Gy,Zw=Dy,Zre=function(t,e,i){if(!t||typeof t!="object"&&typeof t!="function")throw new Qc("`obj` must be an object or a function`");if(typeof e!="string"&&typeof e!="symbol")throw new Qc("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Qc("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Qc("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Qc("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Qc("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,r=arguments.length>5?arguments[5]:null,a=arguments.length>6?arguments[6]:!1,o=!!Zw&&Zw(t,e);if(Mw)Mw(t,e,{configurable:r===null&&o?o.configurable:!r,enumerable:n===null&&o?o.enumerable:!n,value:i,writable:s===null&&o?o.writable:!s});else if(a||!n&&!s&&!r)t[e]=i;else throw new Mre("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},zA=uR(),hD=function(){return!!zA};hD.hasArrayLengthDefineBug=function(){if(!zA)return null;try{return zA([],"length",{value:1}).length!==1}catch{return!0}};var Pre=hD,Ore=m0,Pw=Zre,Xre=Pre(),Ow=Dy,Xw=Gy,Yre=Ore("%Math.floor%"),$re=function(t,e){if(typeof t!="function")throw new Xw("`fn` is not a function");if(typeof e!="number"||e<0||e>4294967295||Yre(e)!==e)throw new Xw("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],n=!0,s=!0;if("length"in t&&Ow){var r=Ow(t,"length");r&&!r.configurable&&(n=!1),r&&!r.writable&&(s=!1)}return(n||s||!i)&&(Xre?Pw(t,"length",e,!0,!0):Pw(t,"length",e)),t};(function(t){var e=cR,i=m0,n=$re,s=Gy,r=i("%Function.prototype.apply%"),a=i("%Function.prototype.call%"),o=i("%Reflect.apply%",!0)||e.call(a,r),l=uR(),c=i("%Math.max%");t.exports=function(d){if(typeof d!="function")throw new s("a function is required");var h=o(e,a,arguments);return n(h,1+c(0,d.length-(arguments.length-1)),!0)};var u=function(){return o(e,r,arguments)};l?l(t.exports,"apply",{value:u}):t.exports.apply=u})(dD);var dR=dD.exports,fD=m0,pD=dR,Kre=pD(fD("String.prototype.indexOf")),hR=function(t,e){var i=fD(t,!!e);return typeof i=="function"&&Kre(t,".prototype.")>-1?pD(i):i},zre=Wy(),Jre=hR,JA=Jre("Object.prototype.toString"),My=function(t){return zre&&t&&typeof t=="object"&&Symbol.toStringTag in t?!1:JA(t)==="[object Arguments]"},mD=function(t){return My(t)?!0:t!==null&&typeof t=="object"&&typeof t.length=="number"&&t.length>=0&&JA(t)!=="[object Array]"&&JA(t.callee)==="[object Function]"},jre=function(){return My(arguments)}();My.isLegacyArguments=mD;var Hre=jre?My:mD,Qre=Object.prototype.toString,qre=Function.prototype.toString,eae=/^\s*(?:function)?\*/,gD=Wy(),Mv=Object.getPrototypeOf,tae=function(){if(!gD)return!1;try{return Function("return function*() {}")()}catch{}},Zv,iae=function(t){if(typeof t!="function")return!1;if(eae.test(qre.call(t)))return!0;if(!gD){var e=Qre.call(t);return e==="[object GeneratorFunction]"}if(!Mv)return!1;if(typeof Zv>"u"){var i=tae();Zv=i?Mv(i):!1}return Mv(t)===Zv},yD=Function.prototype.toString,Uu=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,jA,X1;if(typeof Uu=="function"&&typeof Object.defineProperty=="function")try{jA=Object.defineProperty({},"length",{get:function(){throw X1}}),X1={},Uu(function(){throw 42},null,jA)}catch(t){t!==X1&&(Uu=null)}else Uu=null;var nae=/^\s*class\b/,HA=function(t){try{var e=yD.call(t);return nae.test(e)}catch{return!1}},Pv=function(t){try{return HA(t)?!1:(yD.call(t),!0)}catch{return!1}},Y1=Object.prototype.toString,sae="[object Object]",rae="[object Function]",aae="[object GeneratorFunction]",oae="[object HTMLAllCollection]",lae="[object HTML document.all class]",cae="[object HTMLCollection]",uae=typeof Symbol=="function"&&!!Symbol.toStringTag,dae=!(0 in[,]),QA=function(){return!1};if(typeof document=="object"){var hae=document.all;Y1.call(hae)===Y1.call(document.all)&&(QA=function(t){if((dae||!t)&&(typeof t>"u"||typeof t=="object"))try{var e=Y1.call(t);return(e===oae||e===lae||e===cae||e===sae)&&t("")==null}catch{}return!1})}var fae=Uu?function(t){if(QA(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;try{Uu(t,null,jA)}catch(e){if(e!==X1)return!1}return!HA(t)&&Pv(t)}:function(t){if(QA(t))return!0;if(!t||typeof t!="function"&&typeof t!="object")return!1;if(uae)return Pv(t);if(HA(t))return!1;var e=Y1.call(t);return e!==rae&&e!==aae&&!/^\[object HTML/.test(e)?!1:Pv(t)},pae=fae,mae=Object.prototype.toString,bD=Object.prototype.hasOwnProperty,gae=function(t,e,i){for(var n=0,s=t.length;n<s;n++)bD.call(t,n)&&(i==null?e(t[n],n,t):e.call(i,t[n],n,t))},yae=function(t,e,i){for(var n=0,s=t.length;n<s;n++)i==null?e(t.charAt(n),n,t):e.call(i,t.charAt(n),n,t)},bae=function(t,e,i){for(var n in t)bD.call(t,n)&&(i==null?e(t[n],n,t):e.call(i,t[n],n,t))},vae=function(t,e,i){if(!pae(e))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=i),mae.call(t)==="[object Array]"?gae(t,e,n):typeof t=="string"?yae(t,e,n):bae(t,e,n)},vD=vae,Eae=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"],Ov=Eae,Aae=typeof globalThis>"u"?rR:globalThis,ED=function(){for(var t=[],e=0;e<Ov.length;e++)typeof Aae[Ov[e]]=="function"&&(t[t.length]=Ov[e]);return t},qg=vD,Sae=ED,Yw=dR,fR=hR,$1=Dy,Tae=fR("Object.prototype.toString"),AD=Wy(),$w=typeof globalThis>"u"?rR:globalThis,qA=Sae(),pR=fR("String.prototype.slice"),Xv=Object.getPrototypeOf,Cae=fR("Array.prototype.indexOf",!0)||function(t,e){for(var i=0;i<t.length;i+=1)if(t[i]===e)return i;return-1},e2={__proto__:null};AD&&$1&&Xv?qg(qA,function(t){var e=new $w[t];if(Symbol.toStringTag in e){var i=Xv(e),n=$1(i,Symbol.toStringTag);if(!n){var s=Xv(i);n=$1(s,Symbol.toStringTag)}e2["$"+t]=Yw(n.get)}}):qg(qA,function(t){var e=new $w[t],i=e.slice||e.set;i&&(e2["$"+t]=Yw(i))});var Rae=function(t){var e=!1;return qg(e2,function(i,n){if(!e)try{"$"+i(t)===n&&(e=pR(n,1))}catch{}}),e},Iae=function(t){var e=!1;return qg(e2,function(i,n){if(!e)try{i(t),e=pR(n,1)}catch{}}),e},wae=function(t){if(!t||typeof t!="object")return!1;if(!AD){var e=pR(Tae(t),8,-1);return Cae(qA,e)>-1?e:e!=="Object"?!1:Iae(t)}return $1?Rae(t):null},t2=vD,_ae=ED,Kw=dR,mR=hR,K1=Dy,xae=mR("Object.prototype.toString"),SD=Wy(),zw=typeof globalThis>"u"?rR:globalThis,eS=_ae(),gR=mR("String.prototype.slice"),Yv=Object.getPrototypeOf,Nae=mR("Array.prototype.indexOf",!0)||function(t,e){for(var i=0;i<t.length;i+=1)if(t[i]===e)return i;return-1},i2={__proto__:null};SD&&K1&&Yv?t2(eS,function(t){var e=new zw[t];if(Symbol.toStringTag in e){var i=Yv(e),n=K1(i,Symbol.toStringTag);if(!n){var s=Yv(i);n=K1(s,Symbol.toStringTag)}i2["$"+t]=Kw(n.get)}}):t2(eS,function(t){var e=new zw[t],i=e.slice||e.set;i&&(i2["$"+t]=Kw(i))});var Vae=function(t){var e=!1;return t2(i2,function(i,n){if(!e)try{"$"+i(t)===n&&(e=gR(n,1))}catch{}}),e},Lae=function(t){var e=!1;return t2(i2,function(i,n){if(!e)try{i(t),e=gR(n,1)}catch{}}),e},kae=function(t){if(!t||typeof t!="object")return!1;if(!SD){var e=gR(xae(t),8,-1);return Nae(eS,e)>-1?e:e!=="Object"?!1:Lae(t)}return K1?Vae(t):null},Fae=kae,Uae=function(t){return!!Fae(t)};(function(t){var e=Hre,i=iae,n=wae,s=Uae;function r(le){return le.call.bind(le)}var a=typeof BigInt<"u",o=typeof Symbol<"u",l=r(Object.prototype.toString),c=r(Number.prototype.valueOf),u=r(String.prototype.valueOf),d=r(Boolean.prototype.valueOf);if(a)var h=r(BigInt.prototype.valueOf);if(o)var f=r(Symbol.prototype.valueOf);function p(le,Pe){if(typeof le!="object")return!1;try{return Pe(le),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=i,t.isTypedArray=s;function m(le){return typeof Promise<"u"&&le instanceof Promise||le!==null&&typeof le=="object"&&typeof le.then=="function"&&typeof le.catch=="function"}t.isPromise=m;function v(le){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(le):s(le)||Q(le)}t.isArrayBufferView=v;function g(le){return n(le)==="Uint8Array"}t.isUint8Array=g;function E(le){return n(le)==="Uint8ClampedArray"}t.isUint8ClampedArray=E;function A(le){return n(le)==="Uint16Array"}t.isUint16Array=A;function R(le){return n(le)==="Uint32Array"}t.isUint32Array=R;function I(le){return n(le)==="Int8Array"}t.isInt8Array=I;function L(le){return n(le)==="Int16Array"}t.isInt16Array=L;function F(le){return n(le)==="Int32Array"}t.isInt32Array=F;function B(le){return n(le)==="Float32Array"}t.isFloat32Array=B;function G(le){return n(le)==="Float64Array"}t.isFloat64Array=G;function Z(le){return n(le)==="BigInt64Array"}t.isBigInt64Array=Z;function j(le){return n(le)==="BigUint64Array"}t.isBigUint64Array=j;function pe(le){return l(le)==="[object Map]"}pe.working=typeof Map<"u"&&pe(new Map);function J(le){return typeof Map>"u"?!1:pe.working?pe(le):le instanceof Map}t.isMap=J;function me(le){return l(le)==="[object Set]"}me.working=typeof Set<"u"&&me(new Set);function de(le){return typeof Set>"u"?!1:me.working?me(le):le instanceof Set}t.isSet=de;function ye(le){return l(le)==="[object WeakMap]"}ye.working=typeof WeakMap<"u"&&ye(new WeakMap);function Le(le){return typeof WeakMap>"u"?!1:ye.working?ye(le):le instanceof WeakMap}t.isWeakMap=Le;function ge(le){return l(le)==="[object WeakSet]"}ge.working=typeof WeakSet<"u"&&ge(new WeakSet);function H(le){return ge(le)}t.isWeakSet=H;function ee(le){return l(le)==="[object ArrayBuffer]"}ee.working=typeof ArrayBuffer<"u"&&ee(new ArrayBuffer);function we(le){return typeof ArrayBuffer>"u"?!1:ee.working?ee(le):le instanceof ArrayBuffer}t.isArrayBuffer=we;function M(le){return l(le)==="[object DataView]"}M.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&M(new DataView(new ArrayBuffer(1),0,1));function Q(le){return typeof DataView>"u"?!1:M.working?M(le):le instanceof DataView}t.isDataView=Q;var se=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ne(le){return l(le)==="[object SharedArrayBuffer]"}function Ie(le){return typeof se>"u"?!1:(typeof ne.working>"u"&&(ne.working=ne(new se)),ne.working?ne(le):le instanceof se)}t.isSharedArrayBuffer=Ie;function ke(le){return l(le)==="[object AsyncFunction]"}t.isAsyncFunction=ke;function De(le){return l(le)==="[object Map Iterator]"}t.isMapIterator=De;function $e(le){return l(le)==="[object Set Iterator]"}t.isSetIterator=$e;function Je(le){return l(le)==="[object Generator]"}t.isGeneratorObject=Je;function ce(le){return l(le)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=ce;function $(le){return p(le,c)}t.isNumberObject=$;function te(le){return p(le,u)}t.isStringObject=te;function ue(le){return p(le,d)}t.isBooleanObject=ue;function be(le){return a&&p(le,h)}t.isBigIntObject=be;function xe(le){return o&&p(le,f)}t.isSymbolObject=xe;function Ge(le){return $(le)||te(le)||ue(le)||be(le)||xe(le)}t.isBoxedPrimitive=Ge;function Me(le){return typeof Uint8Array<"u"&&(we(le)||Ie(le))}t.isAnyArrayBuffer=Me,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(le){Object.defineProperty(t,le,{enumerable:!1,value:function(){throw new Error(le+" is not supported in userland")}})})})(oD);var Bae=function(t){return t&&typeof t=="object"&&typeof t.copy=="function"&&typeof t.fill=="function"&&typeof t.readUInt8=="function"},tS={exports:{}};typeof Object.create=="function"?tS.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:tS.exports=function(t,e){if(e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}};var Wae=tS.exports;(function(t){var e=Object.getOwnPropertyDescriptors||function(M){for(var Q=Object.keys(M),se={},ne=0;ne<Q.length;ne++)se[Q[ne]]=Object.getOwnPropertyDescriptor(M,Q[ne]);return se},i=/%[sdj%]/g;t.format=function(M){if(!I(M)){for(var Q=[],se=0;se<arguments.length;se++)Q.push(a(arguments[se]));return Q.join(" ")}for(var se=1,ne=arguments,Ie=ne.length,ke=String(M).replace(i,function(Je){if(Je==="%%")return"%";if(se>=Ie)return Je;switch(Je){case"%s":return String(ne[se++]);case"%d":return Number(ne[se++]);case"%j":try{return JSON.stringify(ne[se++])}catch{return"[Circular]"}default:return Je}}),De=ne[se];se<Ie;De=ne[++se])E(De)||!G(De)?ke+=" "+De:ke+=" "+a(De);return ke},t.deprecate=function(M,Q){if(typeof pt<"u"&&pt.noDeprecation===!0)return M;if(typeof pt>"u")return function(){return t.deprecate(M,Q).apply(this,arguments)};var se=!1;function ne(){if(!se){if(pt.throwDeprecation)throw new Error(Q);pt.traceDeprecation?console.trace(Q):console.error(Q),se=!0}return M.apply(this,arguments)}return ne};var n={},s=/^$/;if(pt.env.NODE_DEBUG){var r=pt.env.NODE_DEBUG;r=r.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),s=new RegExp("^"+r+"$","i")}t.debuglog=function(M){if(M=M.toUpperCase(),!n[M])if(s.test(M)){var Q=pt.pid;n[M]=function(){var se=t.format.apply(t,arguments);console.error("%s %d: %s",M,Q,se)}}else n[M]=function(){};return n[M]};function a(M,Q){var se={seen:[],stylize:l};return arguments.length>=3&&(se.depth=arguments[2]),arguments.length>=4&&(se.colors=arguments[3]),g(Q)?se.showHidden=Q:Q&&t._extend(se,Q),F(se.showHidden)&&(se.showHidden=!1),F(se.depth)&&(se.depth=2),F(se.colors)&&(se.colors=!1),F(se.customInspect)&&(se.customInspect=!0),se.colors&&(se.stylize=o),u(se,M,se.depth)}t.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function o(M,Q){var se=a.styles[Q];return se?"\x1B["+a.colors[se][0]+"m"+M+"\x1B["+a.colors[se][1]+"m":M}function l(M,Q){return M}function c(M){var Q={};return M.forEach(function(se,ne){Q[se]=!0}),Q}function u(M,Q,se){if(M.customInspect&&Q&&pe(Q.inspect)&&Q.inspect!==t.inspect&&!(Q.constructor&&Q.constructor.prototype===Q)){var ne=Q.inspect(se,M);return I(ne)||(ne=u(M,ne,se)),ne}var Ie=d(M,Q);if(Ie)return Ie;var ke=Object.keys(Q),De=c(ke);if(M.showHidden&&(ke=Object.getOwnPropertyNames(Q)),j(Q)&&(ke.indexOf("message")>=0||ke.indexOf("description")>=0))return h(Q);if(ke.length===0){if(pe(Q)){var $e=Q.name?": "+Q.name:"";return M.stylize("[Function"+$e+"]","special")}if(B(Q))return M.stylize(RegExp.prototype.toString.call(Q),"regexp");if(Z(Q))return M.stylize(Date.prototype.toString.call(Q),"date");if(j(Q))return h(Q)}var Je="",ce=!1,$=["{","}"];if(v(Q)&&(ce=!0,$=["[","]"]),pe(Q)){var te=Q.name?": "+Q.name:"";Je=" [Function"+te+"]"}if(B(Q)&&(Je=" "+RegExp.prototype.toString.call(Q)),Z(Q)&&(Je=" "+Date.prototype.toUTCString.call(Q)),j(Q)&&(Je=" "+h(Q)),ke.length===0&&(!ce||Q.length==0))return $[0]+Je+$[1];if(se<0)return B(Q)?M.stylize(RegExp.prototype.toString.call(Q),"regexp"):M.stylize("[Object]","special");M.seen.push(Q);var ue;return ce?ue=f(M,Q,se,De,ke):ue=ke.map(function(be){return p(M,Q,se,De,be,ce)}),M.seen.pop(),m(ue,Je,$)}function d(M,Q){if(F(Q))return M.stylize("undefined","undefined");if(I(Q)){var se="'"+JSON.stringify(Q).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return M.stylize(se,"string")}if(R(Q))return M.stylize(""+Q,"number");if(g(Q))return M.stylize(""+Q,"boolean");if(E(Q))return M.stylize("null","null")}function h(M){return"["+Error.prototype.toString.call(M)+"]"}function f(M,Q,se,ne,Ie){for(var ke=[],De=0,$e=Q.length;De<$e;++De)ge(Q,String(De))?ke.push(p(M,Q,se,ne,String(De),!0)):ke.push("");return Ie.forEach(function(Je){Je.match(/^\d+$/)||ke.push(p(M,Q,se,ne,Je,!0))}),ke}function p(M,Q,se,ne,Ie,ke){var De,$e,Je;if(Je=Object.getOwnPropertyDescriptor(Q,Ie)||{value:Q[Ie]},Je.get?Je.set?$e=M.stylize("[Getter/Setter]","special"):$e=M.stylize("[Getter]","special"):Je.set&&($e=M.stylize("[Setter]","special")),ge(ne,Ie)||(De="["+Ie+"]"),$e||(M.seen.indexOf(Je.value)<0?(E(se)?$e=u(M,Je.value,null):$e=u(M,Je.value,se-1),$e.indexOf(`
`)>-1&&(ke?$e=$e.split(`
`).map(function(ce){return"  "+ce}).join(`
`).slice(2):$e=`
`+$e.split(`
`).map(function(ce){return"   "+ce}).join(`
`))):$e=M.stylize("[Circular]","special")),F(De)){if(ke&&Ie.match(/^\d+$/))return $e;De=JSON.stringify(""+Ie),De.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(De=De.slice(1,-1),De=M.stylize(De,"name")):(De=De.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),De=M.stylize(De,"string"))}return De+": "+$e}function m(M,Q,se){var ne=M.reduce(function(Ie,ke){return ke.indexOf(`
`)>=0,Ie+ke.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ne>60?se[0]+(Q===""?"":Q+`
 `)+" "+M.join(`,
  `)+" "+se[1]:se[0]+Q+" "+M.join(", ")+" "+se[1]}t.types=oD;function v(M){return Array.isArray(M)}t.isArray=v;function g(M){return typeof M=="boolean"}t.isBoolean=g;function E(M){return M===null}t.isNull=E;function A(M){return M==null}t.isNullOrUndefined=A;function R(M){return typeof M=="number"}t.isNumber=R;function I(M){return typeof M=="string"}t.isString=I;function L(M){return typeof M=="symbol"}t.isSymbol=L;function F(M){return M===void 0}t.isUndefined=F;function B(M){return G(M)&&me(M)==="[object RegExp]"}t.isRegExp=B,t.types.isRegExp=B;function G(M){return typeof M=="object"&&M!==null}t.isObject=G;function Z(M){return G(M)&&me(M)==="[object Date]"}t.isDate=Z,t.types.isDate=Z;function j(M){return G(M)&&(me(M)==="[object Error]"||M instanceof Error)}t.isError=j,t.types.isNativeError=j;function pe(M){return typeof M=="function"}t.isFunction=pe;function J(M){return M===null||typeof M=="boolean"||typeof M=="number"||typeof M=="string"||typeof M=="symbol"||typeof M>"u"}t.isPrimitive=J,t.isBuffer=Bae;function me(M){return Object.prototype.toString.call(M)}function de(M){return M<10?"0"+M.toString(10):M.toString(10)}var ye=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function Le(){var M=new Date,Q=[de(M.getHours()),de(M.getMinutes()),de(M.getSeconds())].join(":");return[M.getDate(),ye[M.getMonth()],Q].join(" ")}t.log=function(){console.log("%s - %s",Le(),t.format.apply(t,arguments))},t.inherits=Wae,t._extend=function(M,Q){if(!Q||!G(Q))return M;for(var se=Object.keys(Q),ne=se.length;ne--;)M[se[ne]]=Q[se[ne]];return M};function ge(M,Q){return Object.prototype.hasOwnProperty.call(M,Q)}var H=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(M){if(typeof M!="function")throw new TypeError('The "original" argument must be of type Function');if(H&&M[H]){var Q=M[H];if(typeof Q!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Q,H,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Q}function Q(){for(var se,ne,Ie=new Promise(function($e,Je){se=$e,ne=Je}),ke=[],De=0;De<arguments.length;De++)ke.push(arguments[De]);ke.push(function($e,Je){$e?ne($e):se(Je)});try{M.apply(this,ke)}catch($e){ne($e)}return Ie}return Object.setPrototypeOf(Q,Object.getPrototypeOf(M)),H&&Object.defineProperty(Q,H,{value:Q,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Q,e(M))},t.promisify.custom=H;function ee(M,Q){if(!M){var se=new Error("Promise was rejected with a falsy value");se.reason=M,M=se}return Q(M)}function we(M){if(typeof M!="function")throw new TypeError('The "original" argument must be of type Function');function Q(){for(var se=[],ne=0;ne<arguments.length;ne++)se.push(arguments[ne]);var Ie=se.pop();if(typeof Ie!="function")throw new TypeError("The last argument must be of type Function");var ke=this,De=function(){return Ie.apply(ke,arguments)};M.apply(this,se).then(function($e){pt.nextTick(De.bind(null,null,$e))},function($e){pt.nextTick(ee.bind(null,$e,De))})}return Object.setPrototypeOf(Q,Object.getPrototypeOf(M)),Object.defineProperties(Q,e(M)),Q}t.callbackify=we})(By);const{inherits:Gae,format:$v}=By;function qc(t,e,i=Error){if(!t)throw new Error("Avvio error code must not be empty");if(!e)throw new Error("Avvio base error message must not be empty");function n(s,r,a){if(!new.target)return new n(s,r,a);Error.captureStackTrace(this,n),this.code=t,this.message=e,this.name="AvvioError",s&&r&&a?this.message=$v(e,s,r,a):s&&r?this.message=$v(e,s,r):s?this.message=$v(e,s):this.message=e}return n.prototype[Symbol.toStringTag]="Error",n.prototype.toString=function(){return`${this.name} [${this.code}]: ${this.message}`},Gae(n,i),n}var TD={AVV_ERR_EXPOSE_ALREADY_DEFINED:qc("AVV_ERR_EXPOSE_ALREADY_DEFINED","'%s' () is already defined, specify an expose option"),AVV_ERR_CALLBACK_NOT_FN:qc("AVV_ERR_CALLBACK_NOT_FN","Callback for '%s' hook is not a function. Received: '%s'"),AVV_ERR_PLUGIN_NOT_VALID:qc("AVV_ERR_PLUGIN_NOT_VALID","Plugin must be a function or a promise. Received: '%s'"),AVV_ERR_ROOT_PLG_BOOTED:qc("AVV_ERR_PLUGIN_NOT_VALID","Root plugin has already booted"),AVV_ERR_PARENT_PLG_LOADED:qc("AVV_ERR_PARENT_PLG_LOADED","Impossible to load '%s' plugin because the parent '%s' was already loaded"),AVV_ERR_READY_TIMEOUT:qc("AVV_ERR_READY_TIMEOUT","Plugin did not start in time: '%s'. You may have forgotten to call 'done' function or to resolve a Promise")},Dae=function t(e,i,n){i===void 0&&(i=""),n||(n={});var s=function(l){var c={"":"|","":"`","":"+","":"-","":"-"};return n.unicode===!1?c[l]:l};typeof e=="string"&&(e={label:e});var r=e.nodes||[],a=(e.label||"").split(`
`),o=`
`+i+(r.length?s(""):" ")+" ";return i+a.join(o)+`
`+r.map(function(l,c){var u=c===r.length-1,d=l.nodes&&l.nodes.length,h=i+(u?" ":s(""))+" ";return i+s(u?"":"")+s("")+s(d?"":"")+" "+t(l,h,n).slice(i.length+2)}).join("")};const Mae=Dae,Jw=Symbol("avvio.TimeTree.untrackNode"),Kv=Symbol("avvio.TimeTree.trackNode"),jw=Symbol("avvio.TimeTree.getParent"),Hw=Symbol("avvio.TimeTree.getNode"),Qw=Symbol("avvio.TimeTree.addNode");let Zae=class{constructor(){this.root=null,this.tableId=new Map,this.tableLabel=new Map}[Kv](t){this.tableId.set(t.id,t),this.tableLabel.has(t.label)?this.tableLabel.get(t.label).push(t):this.tableLabel.set(t.label,[t])}[Jw](t){this.tableId.delete(t.id);const e=this.tableLabel.get(t.label);if(e.id){this.tableLabel.delete(t.label);return}e.pop(),e.length===0&&this.tableLabel.delete(t.label)}[jw](t){if(t===null)return this.root;const e=this.tableLabel.get(t);return e.id?e:e[e.length-1]}[Hw](t){return this.tableId.get(t)}[Qw](t,e,i){if(t===null)return this.root={id:"root",label:e,start:i,nodes:[]},this[Kv](this.root),this.root.id;const n=this[jw](t),s=`${e}-${Math.random()}`,r={id:s,parent:t,start:i,label:e,nodes:[]};return n.nodes.push(r),this[Kv](r),s}start(t,e,i=Date.now()){return this[Qw](t,e,i)}stop(t,e=Date.now()){const i=this[Hw](t);i&&(i.stop=e,i.diff=i.stop-i.start||0,this[Jw](i))}toJSON(){return Object.assign({},this.root)}prittyPrint(){const t=i=>(i.label=`${i.label} ${i.diff} ms`,i.nodes.length>0&&(i.nodes=i.nodes.map(n=>t(n))),i),e=t(this.toJSON());return Mae(e)}};var Pae=Zae,yR={exports:{}},iS={exports:{}},zv,qw;function Oae(){if(qw)return zv;qw=1;var t=1e3,e=t*60,i=e*60,n=i*24,s=n*7,r=n*365.25;zv=function(u,d){d=d||{};var h=typeof u;if(h==="string"&&u.length>0)return a(u);if(h==="number"&&isFinite(u))return d.long?l(u):o(u);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(u))};function a(u){if(u=String(u),!(u.length>100)){var d=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(u);if(d){var h=parseFloat(d[1]),f=(d[2]||"ms").toLowerCase();switch(f){case"years":case"year":case"yrs":case"yr":case"y":return h*r;case"weeks":case"week":case"w":return h*s;case"days":case"day":case"d":return h*n;case"hours":case"hour":case"hrs":case"hr":case"h":return h*i;case"minutes":case"minute":case"mins":case"min":case"m":return h*e;case"seconds":case"second":case"secs":case"sec":case"s":return h*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return h;default:return}}}}function o(u){var d=Math.abs(u);return d>=n?Math.round(u/n)+"d":d>=i?Math.round(u/i)+"h":d>=e?Math.round(u/e)+"m":d>=t?Math.round(u/t)+"s":u+"ms"}function l(u){var d=Math.abs(u);return d>=n?c(u,d,n,"day"):d>=i?c(u,d,i,"hour"):d>=e?c(u,d,e,"minute"):d>=t?c(u,d,t,"second"):u+" ms"}function c(u,d,h,f){var p=d>=h*1.5;return Math.round(u/h)+" "+f+(p?"s":"")}return zv}function Xae(t){i.debug=i,i.default=i,i.coerce=l,i.disable=a,i.enable=s,i.enabled=o,i.humanize=Oae(),i.destroy=c,Object.keys(t).forEach(u=>{i[u]=t[u]}),i.names=[],i.skips=[],i.formatters={};function e(u){let d=0;for(let h=0;h<u.length;h++)d=(d<<5)-d+u.charCodeAt(h),d|=0;return i.colors[Math.abs(d)%i.colors.length]}i.selectColor=e;function i(u){let d,h=null,f,p;function m(...v){if(!m.enabled)return;const g=m,E=Number(new Date),A=E-(d||E);g.diff=A,g.prev=d,g.curr=E,d=E,v[0]=i.coerce(v[0]),typeof v[0]!="string"&&v.unshift("%O");let R=0;v[0]=v[0].replace(/%([a-zA-Z%])/g,(I,L)=>{if(I==="%%")return"%";R++;const F=i.formatters[L];if(typeof F=="function"){const B=v[R];I=F.call(g,B),v.splice(R,1),R--}return I}),i.formatArgs.call(g,v),(g.log||i.log).apply(g,v)}return m.namespace=u,m.useColors=i.useColors(),m.color=i.selectColor(u),m.extend=n,m.destroy=i.destroy,Object.defineProperty(m,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(f!==i.namespaces&&(f=i.namespaces,p=i.enabled(u)),p),set:v=>{h=v}}),typeof i.init=="function"&&i.init(m),m}function n(u,d){const h=i(this.namespace+(typeof d>"u"?":":d)+u);return h.log=this.log,h}function s(u){i.save(u),i.namespaces=u,i.names=[],i.skips=[];const d=(typeof u=="string"?u:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(const h of d)h[0]==="-"?i.skips.push(h.slice(1)):i.names.push(h)}function r(u,d){let h=0,f=0,p=-1,m=0;for(;h<u.length;)if(f<d.length&&(d[f]===u[h]||d[f]==="*"))d[f]==="*"?(p=f,m=h,f++):(h++,f++);else if(p!==-1)f=p+1,m++,h=m;else return!1;for(;f<d.length&&d[f]==="*";)f++;return f===d.length}function a(){const u=[...i.names,...i.skips.map(d=>"-"+d)].join(",");return i.enable(""),u}function o(u){for(const d of i.skips)if(r(u,d))return!1;for(const d of i.names)if(r(u,d))return!0;return!1}function l(u){return u instanceof Error?u.stack||u.message:u}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return i.enable(i.load()),i}var Yae=Xae;(function(t,e){e.formatArgs=n,e.save=s,e.load=r,e.useColors=i,e.storage=a(),e.destroy=(()=>{let l=!1;return()=>{l||(l=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function i(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let l;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(l=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(l[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function n(l){if(l[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+l[0]+(this.useColors?"%c ":" ")+"+"+t.exports.humanize(this.diff),!this.useColors)return;const c="color: "+this.color;l.splice(1,0,c,"color: inherit");let u=0,d=0;l[0].replace(/%[a-zA-Z%]/g,h=>{h!=="%%"&&(u++,h==="%c"&&(d=u))}),l.splice(d,0,c)}e.log=console.debug||console.log||(()=>{});function s(l){try{l?e.storage.setItem("debug",l):e.storage.removeItem("debug")}catch{}}function r(){let l;try{l=e.storage.getItem("debug")||e.storage.getItem("DEBUG")}catch{}return!l&&typeof pt<"u"&&"env"in pt&&(l=pt.env.DEBUG),l}function a(){try{return localStorage}catch{}}t.exports=Yae(e);const{formatters:o}=t.exports;o.j=function(l){try{return JSON.stringify(l)}catch(c){return"[UnexpectedJSONParseError]: "+c.message}}})(iS,iS.exports);var CD=iS.exports;const $ae=HG,Kae=aD.EventEmitter,zae=By.inherits,mn=CD("avvio"),{AVV_ERR_READY_TIMEOUT:Jae}=TD,Jv=Symbol.for("plugin-meta");function jae(t,e){return t[Jv]&&t[Jv].name?t[Jv].name:typeof e<"u"&&typeof e!="function"&&e.name?e.name:t.name?t.name:t.toString().split(`
`).slice(0,2).map(i=>i.trim()).join(" -- ")}function Hae(){const t={};return t.promise=new Promise((e,i)=>{t.resolve=e,t.reject=i}),t}function hh(t,e,i,n,s){this.started=!1,this.func=e,this.opts=i,this.onFinish=null,this.parent=t,this.timeout=s===void 0?t._timeout:s,this.name=jae(e,i),this.isAfter=n,this.q=$ae(t,Qae,1),this.q.pause(),this._error=null,this.loaded=!1,this._promise=null}zae(hh,Kae);hh.prototype.exec=function(t,e){const i=this.func;let n=!1;const s=this.name;if(this.parent._error&&!this.isAfter){mn("skipping loading of plugin as parent errored and it is not an after",s),pt.nextTick(e);return}if(this.isAfter)this.server=t;else try{this.server=this.parent.override(t,i,this.opts)}catch(l){return mn("override errored",s),e(l)}this.opts=typeof this.opts=="function"?this.opts(this.server):this.opts,mn("exec",s);let r;const a=l=>{if(n){mn("loading complete",s);return}this._error=l,mn(l?"exec errored":"exec completed",s),n=!0,r&&clearTimeout(r),e(l)};this.timeout>0&&(mn("setting up timeout",s,this.timeout),r=setTimeout(function(){mn("timed out",s),r=null;const l=new Jae(s);l.fn=i,a(l)},this.timeout)),this.started=!0,this.emit("start",this.server?this.server.name:null,this.name,Date.now());const o=i(this.server,this.opts,a);o&&typeof o.then=="function"&&(mn("exec: resolving promise",s),o.then(()=>pt.nextTick(a),l=>pt.nextTick(a,l)))};hh.prototype.loadedSoFar=function(){if(this.loaded)return Promise.resolve();const t=()=>{this.server.after((i,n)=>{this._error=i,this.q.pause(),i?(mn("rejecting promise",this.name,i),this._promise.reject(i)):(mn("resolving promise",this.name),this._promise.resolve()),this._promise=null,pt.nextTick(n,i)}),this.q.resume()};let e;return this._promise?e=Promise.resolve():(this._promise=Hae(),e=this._promise.promise,this.server?t():this.on("start",t)),e};hh.prototype.enqueue=function(t,e){mn("enqueue",this.name,t.name),this.emit("enqueue",this.server?this.server.name:null,this.name,Date.now()),this.q.push(t,e)};hh.prototype.finish=function(t,e){mn("finish",this.name,t);const i=()=>{this.loaded||(mn("loaded",this.name),this.emit("loaded",this.server?this.server.name:null,this.name,Date.now()),this.loaded=!0,e(t))};if(t){this._promise&&(this._promise.reject(t),this._promise=null),i();return}const n=()=>{if(mn("check",this.name,this.q.length(),this.q.running(),this._promise),this.q.length()===0&&this.q.running()===0)if(this._promise){const s=()=>{mn("wrap"),queueMicrotask(n)};this._promise.resolve(),this._promise.promise.then(s,s),this._promise=null}else i();else mn("delayed",this.name),this.q.drain=()=>{mn("drain",this.name),this.q.drain=qae,queueMicrotask(n)}};queueMicrotask(n),this.q.resume()};function Qae(t,e){const i=this;pt.nextTick(bR.bind(i),t,e)}function bR(t,e){if(typeof t.func.then=="function"){t.func.then(n=>{typeof n.default=="function"&&(n=n.default),t.func=n,bR.call(this,t,e)},e);return}const i=this._current[0];this._current.unshift(t),t.exec(i&&i.server||this._server,n=>{t.finish(n,s=>{this._current.shift(),e(s)})})}function qae(){}yR.exports=hh;yR.exports.loadPlugin=bR;var eoe=yR.exports;const e_=HG,toe=aD.EventEmitter,ioe=By.inherits,{AVV_ERR_EXPOSE_ALREADY_DEFINED:jv,AVV_ERR_CALLBACK_NOT_FN:Hf,AVV_ERR_PLUGIN_NOT_VALID:noe,AVV_ERR_ROOT_PLG_BOOTED:soe,AVV_ERR_READY_TIMEOUT:roe}=TD,aoe=Pae,nS=eoe,Ud=CD("avvio"),n2=Symbol("kAvvio"),Hv=Symbol("kThenifyDoNotWrap");function ooe(t,e,i){const n=e.expose||{},s=n.use||"use",r=n.after||"after",a=n.ready||"ready",o=n.onClose||"onClose",l=n.close||"close";if(t[s])throw new jv(s);if(t[r])throw new jv(r);if(t[a])throw new jv(a);t[s]=function(c,u){return i.use(c,u),this},Object.defineProperty(t,"then",{get:RD.bind(i)}),t[n2]=!0,t[r]=function(c){return typeof c!="function"?i._loadRegistered():(i.after(Qv(c,this)),this)},t[a]=function(c){if(c&&typeof c!="function")throw new Hf(a,typeof c);return i.ready(c?Qv(c,this):void 0)},t[o]=function(c){if(typeof c!="function")throw new Hf(o,typeof c);return i.onClose(hoe(c,this)),this},t[l]=function(c){if(c&&typeof c!="function")throw new Hf(l,typeof c);return c?(i.close(Qv(c,this)),this):i.close()}}function on(t,e,i){if(typeof t=="function"&&arguments.length===1&&(i=t,e={},t=null),typeof e=="function"&&(i=e,e={}),e=e||{},!(this instanceof on)){const n=new on(t,e,i);return t&&ooe(t,e,n),n}e.autostart!==!1&&(e.autostart=!0),t=t||this,this._timeout=Number(e.timeout)||0,this._server=t,this._current=[],this._error=null,this._isOnCloseHandlerKey=Symbol("isOnCloseHandler"),this._lastUsed=null,this.setMaxListeners(0),i&&this.once("start",i),this.started=!1,this.booted=!1,this.pluginTree=new aoe,this._readyQ=e_(this,ID,1),this._readyQ.pause(),this._readyQ.drain=()=>{this.emit("start"),this._readyQ.drain=t_},this._closeQ=e_(this,doe,1),this._closeQ.pause(),this._closeQ.drain=()=>{this.emit("close"),this._closeQ.drain=t_},this._doStart=null,this._root=new nS(this,loe.bind(this),e,!1,0),this._root.once("start",(n,s,r)=>{const a=this.pluginTree.start(null,s,r);this._root.once("loaded",(o,l,c)=>{this.pluginTree.stop(a,c)})}),nS.loadPlugin.call(this,this._root,n=>{Ud("root plugin ready");try{this.emit("preReady"),this._root=null}catch(s){n=n||this._error||s}if(n){if(this._error=n,this._readyQ.length()===0)throw n}else this.booted=!0;this._readyQ.resume()})}function loe(t,e,i){this._doStart=i,e.autostart&&this.start()}ioe(on,toe);on.prototype.start=function(){return this.started=!0,pt.nextTick(this._doStart),this};on.prototype.override=function(t,e,i){return t};function coe(t){if(t&&typeof t=="object"&&typeof t.default=="function"&&(t=t.default),!(t&&(typeof t=="function"||typeof t.then=="function")))throw new noe(typeof t);return t}on.prototype[n2]=!0;on.prototype.use=function(t,e){return this._lastUsed=this._addPlugin(t,e,!1),this};on.prototype._loadRegistered=function(){const t=this._current[0];return!this.started&&!this.booted&&pt.nextTick(()=>this._root.q.resume()),t?t.loadedSoFar():Promise.resolve()};Object.defineProperty(on.prototype,"then",{get:RD});on.prototype._addPlugin=function(t,e,i){if(t=coe(t),e=e||{},this.booted)throw new soe;const n=this._current[0],s=new nS(this,t,e,i);if(s.once("start",(r,a,o)=>{const l=this.pluginTree.start(n.name,a,o);s.once("loaded",(c,u,d)=>{this.pluginTree.stop(l,d)})}),n.loaded)throw new Error(s.name,n.name);return n.enqueue(s,r=>{r&&(this._error=r)}),s};on.prototype.after=function(t){if(!t)return this._loadRegistered();this._addPlugin(e.bind(this),{},!0);function e(i,n,s){ID.call(this,t,s)}return this};on.prototype.onClose=function(t){if(typeof t!="function")throw new Error("not a function");t[this._isOnCloseHandlerKey]=!0,this._closeQ.unshift(t,e.bind(this));function e(i){i&&(this._error=i)}return this};on.prototype.close=function(t){let e;if(t){if(typeof t!="function")throw new Hf("close",typeof t)}else e=new Promise(function(i,n){t=function(s){if(s)return n(s);i()}});return this.ready(()=>{this._error=null,this._closeQ.push(t),pt.nextTick(this._closeQ.resume.bind(this._closeQ))}),e};on.prototype.ready=function(t){if(t){if(typeof t!="function")throw new Hf("ready",typeof t);this._readyQ.push(t),queueMicrotask(this.start.bind(this));return}return new Promise((e,i)=>{this._readyQ.push(s),this.start();const n=this._current[0].server;function s(r,a,o){r?i(r):e(n),pt.nextTick(o)}})};on.prototype.prettyPrint=function(){return this.pluginTree.prittyPrint()};on.prototype.toJSON=function(){return this.pluginTree.toJSON()};function t_(){}function RD(){if(this.booted){Ud("thenify returning null because we are already booted");return}if(this[Hv]){this[Hv]=!1;return}return Ud("thenify"),(t,e)=>this._loadRegistered().then(()=>(this[Hv]=!0,t(this._server)),e)}function ID(t,e){const i=this._server,n=this._error;let s;if(this._error=null,t.length===0)this._error=n,s=t(),s&&!s[n2]&&typeof s.then=="function"?s.then(()=>pt.nextTick(e),r=>pt.nextTick(e,r)):pt.nextTick(e);else if(t.length===1)s=t(n),s&&!s[n2]&&typeof s.then=="function"?s.then(()=>pt.nextTick(e),r=>pt.nextTick(e,r)):pt.nextTick(e);else if(this._timeout===0){const r=a=>{this._error=a,e(this._error)};t.length===2?t(n,r):t(n,i,r)}else uoe.call(this,t,n,i,e)}function uoe(t,e,i,n){const s=t.name;Ud("setting up ready timeout",s,this._timeout);let r=setTimeout(()=>{Ud("timed out",s),r=null;const o=new roe(s);o.fn=t,this._error=o,n(o)},this._timeout);t.length===2?t(e,a.bind(this)):t(e,i,a.bind(this));function a(o){r&&(clearTimeout(r),this._error=o,n(this._error))}}function doe(t,e){const i=this._server,n=t[this._isOnCloseHandlerKey];if(t.length===0||t.length===1){let s;n?s=t(i):s=t(this._error),s&&typeof s.then=="function"?(Ud("resolving close/onClose promise"),s.then(()=>pt.nextTick(e),r=>pt.nextTick(e,r))):pt.nextTick(e)}else t.length===2?t(n?i:this._error,e):n?t(i,e):t(this._error,i,e)}function hoe(t,e){return i.bind(e);function i(n,s){let r;t.length===0?(r=t(),r&&r.then?r.then(function(){pt.nextTick(s)},s):pt.nextTick(s)):t.length===1?(r=t(this),r&&r.then?r.then(function(){pt.nextTick(s)},s):pt.nextTick(s)):t(this,s)}}function Qv(t,e){return i.bind(e);function i(n,s){let r;t?t.length===0?(r=t(),r&&r.then?r.then(function(){pt.nextTick(s,n)},s):pt.nextTick(s,n)):t.length===1?(r=t(n),r&&r.then?r.then(function(){pt.nextTick(s)},s):pt.nextTick(s)):t.length===2?t(n,s):t(n,this,s):pt.nextTick(s)}}aR.exports=on;aR.exports.express=function(t){return on(t,{expose:{use:"load"}})};var foe=aR.exports;const poe=Pse(foe);(function(){if(window.requestAnimationFrame&&window.cancelAnimationFrame)return;const t=["webkit","moz","ms","o"];for(const e of t)window.requestAnimationFrame=window.requestAnimationFrame||window[`${e}RequestAnimationFrame`],window.cancelAnimationFrame=window.cancelAnimationFrame||window[`${e}CancelAnimationFrame`]||window[`${e}CancelRequestAnimationFrame`];if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){let e=0;const i=!!(window.performance&&window.performance.now);window.requestAnimationFrame=function(n){const s=i?window.performance.now():new Date().getTime(),r=Math.max(0,16-(s-e)),a=window.setTimeout(function(){n(s+r)},r);return e=s+r,a},window.cancelAnimationFrame=clearTimeout}})();function moe(t,e=!0,i=!0,n={friendsTab:"enabled"}){const s=e?"https://grpc-sdk.streamlayer.io:443":"https://grpc-sdk.next.streamlayer.io:443",r=e?"https://grpc.streamlayer.io:443":"https://grpc.next.streamlayer.io:443",a=poe(Object.create({}),{autostart:!1});return a.use(Kne,{hideFriends:n.hideFriends,skipOnboarding:n.skipOnboarding,betPack:n.betPack,friendsTab:n.friendsTab,theme:n.theme,themeMode:n.themeMode}),a.use(Mne,{onDeepLinkHandled:n==null?void 0:n.onDeepLinkHandled}),a.use(Xne,{videoPlayerController:n==null?void 0:n.videoPlayerController}),a.use($ne,{onContentActivate:n==null?void 0:n.onContentActivate,withAd:n==null?void 0:n.withAd,withAdNotification:n==null?void 0:n.withAdNotification}),a.use(ane,{sdkKey:t,host:s,analyticsHost:r,version:n==null?void 0:n.version,webOS:n==null?void 0:n.webOS}),a.use(dne),a.use(One),a.use(sse),a.use(kne),a.use(Zse),a.use(lse),a.use(Nse),a.after((o,l,c)=>{if(o)throw o;l.ready(),c()}),i&&a.after(async(o,l,c)=>{if(o)throw o;await l.sdk.initializeApp(),c()}),a.onClose(()=>{console.log("close StreamLayer instance")}),a}function goe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wD={exports:{}},Bi=wD.exports={},Mr,Zr;function sS(){throw new Error("setTimeout has not been defined")}function rS(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Mr=setTimeout:Mr=sS}catch{Mr=sS}try{typeof clearTimeout=="function"?Zr=clearTimeout:Zr=rS}catch{Zr=rS}})();function _D(t){if(Mr===setTimeout)return setTimeout(t,0);if((Mr===sS||!Mr)&&setTimeout)return Mr=setTimeout,setTimeout(t,0);try{return Mr(t,0)}catch{try{return Mr.call(null,t,0)}catch{return Mr.call(this,t,0)}}}function yoe(t){if(Zr===clearTimeout)return clearTimeout(t);if((Zr===rS||!Zr)&&clearTimeout)return Zr=clearTimeout,clearTimeout(t);try{return Zr(t)}catch{try{return Zr.call(null,t)}catch{return Zr.call(this,t)}}}var Qa=[],qu=!1,jl,z1=-1;function boe(){!qu||!jl||(qu=!1,jl.length?Qa=jl.concat(Qa):z1=-1,Qa.length&&xD())}function xD(){if(!qu){var t=_D(boe);qu=!0;for(var e=Qa.length;e;){for(jl=Qa,Qa=[];++z1<e;)jl&&jl[z1].run();z1=-1,e=Qa.length}jl=null,qu=!1,yoe(t)}}Bi.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];Qa.push(new ND(t,e)),Qa.length===1&&!qu&&_D(xD)};function ND(t,e){this.fun=t,this.array=e}ND.prototype.run=function(){this.fun.apply(null,this.array)};Bi.title="browser";Bi.browser=!0;Bi.env={};Bi.argv=[];Bi.version="";Bi.versions={};function Ao(){}Bi.on=Ao;Bi.addListener=Ao;Bi.once=Ao;Bi.off=Ao;Bi.removeListener=Ao;Bi.removeAllListeners=Ao;Bi.emit=Ao;Bi.prependListener=Ao;Bi.prependOnceListener=Ao;Bi.listeners=function(t){return[]};Bi.binding=function(t){throw new Error("process.binding is not supported")};Bi.cwd=function(){return"/"};Bi.chdir=function(t){throw new Error("process.chdir is not supported")};Bi.umask=function(){return 0};var voe=wD.exports;const Eoe=goe(voe),Aoe=({sdkKey:t,plugins:e,production:i,autoEnable:n,onDeepLinkHandled:s,videoPlayerController:r,onContentActivate:a,hideFriends:o,skipOnboarding:l,withAdNotification:c,withAd:u,friendsTab:d,betPack:h,webOS:f})=>{const[p,m]=x.useState(null);return x.useEffect(()=>{let v=!1;if(!t)return console.error("streamlayer sdk key should be provided"),m(E=>(E!==null&&typeof E.disableApp=="function"&&E.disableApp(),null)),()=>{v=!0};const g=moe(t,i,n,{version:Eoe.env.APP_VERSION,onDeepLinkHandled:s,videoPlayerController:r,onContentActivate:a,skipOnboarding:l,withAdNotification:c,withAd:u,hideFriends:o,friendsTab:d,betPack:h,webOS:f});if(e)for(const E of e)g.use(E);return g.ready().then(E=>{v||(m(E.sdk),typeof window<"u")}).catch(E=>console.log(E)),()=>{v=!0,g.close(function(E){if(E)throw E})}},[t,i]),p};var Soe=Object.defineProperty,Toe=(t,e,i)=>e in t?Soe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Nf=(t,e,i)=>Toe(t,typeof e!="symbol"?e+"":e,i);const Coe=["trace","debug","info","warn","error","fatal"],Roe={trace:"debug",debug:"debug",info:"info",warn:"warn",error:"error",fatal:"error"},Ioe=typeof window<"u"&&!!window.localStorage.getItem("SL_DEBUG");function woe(t,e){return Ioe?(...i)=>{if(i.length!==0)if(typeof i[0]=="string")t(`[${e}]`,...i);else{const[n,...s]=i;t(`[${e}]`,...s,n)}}:()=>{}}function VD(t){const e=t.name||"app",i={level:"trace",child(n,s){return VD({...t,...n})}};for(const n of Coe){const s=Roe[n],r=(...a)=>console[s](...a);i[n]=woe(r,e)}return i}const _oe=VD({}),fh=(t,e)=>_oe.child({name:t},e);class xoe extends Event{constructor(e,i){super(e),Nf(this,"slEventBus"),this.slEventBus=i}}const Noe=fh("event-bus");class Voe{constructor(e="sl-event-bus"){Nf(this,"name"),Nf(this,"listeners"),Nf(this,"emit",(i,n)=>{const s=new xoe(this.name,{...n,type:i});Noe.debug(s,"Emitting event"),window.dispatchEvent(s)}),Nf(this,"destroy",()=>{this.listeners.forEach(i=>{window.removeEventListener(this.name,i),this.listeners.delete(i)}),this.listeners.clear()}),this.name=e,this.listeners=new Set}listen(e){return window.addEventListener(this.name,e),this.listeners.add(e),()=>{this.off(e)}}off(e){window.removeEventListener(this.name,e),this.listeners.delete(e)}}window.slStore=Object.create(null);var i_;(function(t){t.ORGANIZATION="ORGANIZATION",t.STREAM="STREAM"})(i_||(i_={}));ot.BETTING+"",ot.GAMES+"",ot.PUBLIC_CHAT+"",ot.TWITTER+"";var dl;(function(t){t.Ready="ready",t.Suspended="suspended"})(dl||(dl={}));const LD=V("div")({name:"Container",class:"cqg02m",propsAsIs:!1}),As=({children:t,style:e,loading:i})=>i?b.jsx(LD,{style:e,children:t}):t,Loe=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{d:"M8 4L16 12L8 20",stroke:"#6B6F73",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),koe=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"check"},x.createElement("path",{id:"Vector",d:"M4 13L9 18L20 6",stroke:"#107D57",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}))),Foe=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{d:"M10 6L16 12L10 18",stroke:"white",style:{stroke:"white",strokeOpacity:1},strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),Uoe=t=>x.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("rect",{width:16,height:16,rx:8,fill:"#CD2525"}),x.createElement("rect",{x:5.5,y:4.66669,width:8.24958,height:1.17851,rx:.589256,transform:"rotate(45 5.5 4.66669)",fill:"white"}),x.createElement("rect",{x:4.66669,y:10.5,width:8.24958,height:1.17851,rx:.589256,transform:"rotate(-45 4.66669 10.5)",fill:"white"})),Boe=t=>x.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("rect",{width:48,height:48,rx:24,fill:"#00BD60"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M37.3147 13.052C37.8383 13.5019 37.898 14.2912 37.448 14.8147L20.2605 34.8147C20.0292 35.0839 19.6944 35.2421 19.3395 35.2497C18.9847 35.2574 18.6433 35.1139 18.4006 34.8549L10.5881 26.5216C10.1159 26.018 10.1414 25.2269 10.6451 24.7548C11.1487 24.2826 11.9398 24.3081 12.4119 24.8118L19.2721 32.1292L35.552 13.1853C36.0019 12.6617 36.7911 12.602 37.3147 13.052Z",fill:"white"})),Woe=t=>x.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Frame 3469478"},x.createElement("path",{id:"Vector 4",d:"M1.62695 1.62598L10.3742 10.3745",stroke:"#6B6F73",strokeWidth:1.5,strokeLinecap:"round"}),x.createElement("path",{id:"Vector 5",d:"M1.62695 10.376L10.3742 1.62746",stroke:"#6B6F73",strokeWidth:1.5,strokeLinecap:"round"}))),Goe=t=>x.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("rect",{x:.56009,y:2.8074,width:16.55,height:16.55,rx:2.14375,transform:"rotate(-7.80777 0.56009 2.8074)",stroke:"#006747",style:{stroke:"#006747",stroke:"color(display-p3 0.0000 0.4039 0.2784)",strokeOpacity:1},strokeWidth:1.4}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.62237 4.17188C10.5053 4.17188 11.2837 4.37793 11.8733 4.76716L11.8732 4.76718C12.5572 5.21938 12.9636 5.89049 13.0796 6.75908C13.2656 8.14856 12.2625 9.08727 11.5284 9.77271C11.2207 10.0589 10.956 10.3079 10.8501 10.5183C10.7752 10.6652 10.7366 10.8269 10.6992 10.9839C10.698 10.989 10.6967 10.994 10.6955 10.9991L10.6952 11.0004C10.5952 11.4278 10.4915 11.8706 9.72822 11.9721C9.67385 11.9793 9.6209 11.9821 9.56938 11.9821C9.28746 11.9821 9.03705 11.8777 8.84673 11.6788C8.67931 11.5056 8.56912 11.2738 8.53621 11.0234C8.40767 10.0551 9.08301 9.37328 9.68028 8.77031L9.68384 8.76671C10.2176 8.23011 10.7199 7.72213 10.6354 7.08534C10.5496 6.43425 10.1275 6.07652 9.44917 6.07652C9.35902 6.07652 9.26601 6.08367 9.1687 6.09655C8.22588 6.22243 8.06263 6.74456 7.88952 7.29821L7.88941 7.29854C7.73775 7.78506 7.58034 8.28732 6.85055 8.38463C6.79188 8.39178 6.73178 8.39608 6.6731 8.39608C6.1279 8.39608 5.72868 8.05407 5.65856 7.52462C5.56127 6.80772 5.86319 6.0307 6.48137 5.39534C7.0924 4.77002 7.94814 4.34216 8.8296 4.22482C9.09577 4.19048 9.36193 4.17188 9.62237 4.17188ZM9.88998 12.7224C9.94722 12.7152 10.0059 12.7109 10.0631 12.7109C10.7228 12.7109 11.2866 13.2032 11.3753 13.8586C11.4697 14.5812 10.9618 15.2466 10.2391 15.3439C10.1804 15.3511 10.1218 15.3554 10.0645 15.3554C9.40485 15.3554 8.84107 14.8617 8.75378 14.2077C8.65791 13.4851 9.16732 12.8197 9.88998 12.7224Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}})),Doe=t=>x.createElement("svg",{width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("rect",{x:1,y:.5,width:23,height:23,rx:11.5,stroke:"#B1B3B3"}),x.createElement("path",{d:"M13.833 8L9.83301 12L13.833 16",stroke:"#B1B3B3",strokeLinecap:"round",strokeLinejoin:"round"})),Moe=t=>x.createElement("svg",{width:25,height:25,viewBox:"0 0 25 25",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Icon"},x.createElement("path",{id:"Icon_2",d:"M10.5 6.39844L16.5 12.3984L10.5 18.3984",stroke:"white",style:{stroke:"white",strokeOpacity:1},strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}))),Zoe=t=>x.createElement("svg",{width:64,height:65,viewBox:"0 0 64 65",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{d:"M43.852 8.90765C40.2818 7.13339 36.2575 6.13574 32.0002 6.13574C17.2726 6.13574 5.3335 18.0748 5.3335 32.8024C5.3335 47.53 17.2726 59.4691 32.0002 59.4691C46.7278 59.4691 58.6668 47.53 58.6668 32.8024C58.6668 31.8009 58.6116 30.8123 58.5041 29.8394M24.0002 30.1357L32.0002 38.1357L58.6668 11.4691",stroke:"#107D57",strokeWidth:2.5,strokeLinecap:"round",strokeLinejoin:"round"})),Poe=t=>x.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{id:"Selected",fillRule:"evenodd",clipRule:"evenodd",d:"M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM11.6057 5.43441C11.2933 5.12199 10.7868 5.12199 10.4744 5.43441L6.93812 9.97066L5.08382 8.73446C4.7162 8.48938 4.2195 8.58871 3.97442 8.95634C3.72934 9.32396 3.82868 9.82065 4.1963 10.0657L6.5963 11.6657C6.9136 11.8773 7.33609 11.8354 7.60574 11.5658L11.6057 6.56578C11.9182 6.25336 11.9182 5.74683 11.6057 5.43441Z",fill:"#107D57"})),Ooe=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Checkmark"},x.createElement("path",{id:"Selected",fillRule:"evenodd",clipRule:"evenodd",d:"M24 12.002C24 18.6294 18.6274 24.002 12 24.002C5.37258 24.002 0 18.6294 0 12.002C0 5.37454 5.37258 0.00195312 12 0.00195312C18.6274 0.00195312 24 5.37454 24 12.002ZM17.4086 8.15357C16.94 7.68494 16.1802 7.68494 15.7116 8.15357L10.4072 14.9579L7.62573 13.1036C7.07429 12.736 6.32925 12.885 5.96163 13.4365C5.59401 13.9879 5.74301 14.7329 6.29445 15.1006L9.89445 17.5006C10.3704 17.8179 11.0041 17.7551 11.4086 17.3506L17.4086 9.85063C17.8772 9.382 17.8772 8.6222 17.4086 8.15357Z",fill:"#FFFFFF"}))),Xoe=t=>x.createElement("svg",{width:12,height:20,viewBox:"0 0 12 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{id:"Icon / chevron.left",d:"M0 10C0 10.3818 0.145996 10.7075 0.449219 10.9995L9.20898 19.5684C9.44482 19.8154 9.75928 19.939 10.1187 19.939C10.8486 19.939 11.4214 19.3774 11.4214 18.6362C11.4214 18.2769 11.2754 17.9512 11.0283 17.7041L3.1333 10L11.0283 2.2959C11.2754 2.0376 11.4214 1.71191 11.4214 1.35254C11.4214 0.622559 10.8486 0.0610352 10.1187 0.0610352C9.75928 0.0610352 9.44482 0.18457 9.20898 0.431641L0.449219 9.00049C0.145996 9.29248 0.0112305 9.61816 0 10Z",fill:"white",fillOpacity:.6})),Yoe=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Chevron"},x.createElement("path",{id:"Chevron_2",d:"M6 11.999C6 12.1725 6.03134 12.334 6.09401 12.4837C6.15669 12.6334 6.25428 12.7756 6.3868 12.9103L14.0436 20.6565C14.2648 20.8855 14.5323 21 14.8459 21C15.0607 21 15.2544 20.9475 15.4271 20.8426C15.5998 20.7377 15.7384 20.5965 15.8431 20.4191C15.9477 20.2416 16 20.0425 16 19.8217C16 19.4989 15.8816 19.2134 15.6448 18.9654L8.74183 11.9971L15.6448 5.03271C15.8816 4.78709 16 4.5023 16 4.17834C16 3.95749 15.9477 3.75835 15.8431 3.58091C15.7384 3.40347 15.5998 3.26229 15.4271 3.15738C15.2544 3.05246 15.0607 3 14.8459 3C14.5323 3 14.2648 3.11169 14.0436 3.33508L6.3868 11.0878C6.25551 11.2225 6.15853 11.3644 6.09586 11.5134C6.03318 11.6625 6.00123 11.8244 6 11.999Z",fill:"white"}))),$oe=t=>x.createElement("svg",{width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Chevron"},x.createElement("path",{id:"Chevron_2",d:"M12 8.17222C12 8.28783 11.9781 8.39553 11.9342 8.49533C11.8903 8.59513 11.822 8.68992 11.7292 8.7797L6.36949 13.9439C6.21462 14.0965 6.02742 14.1729 5.80787 14.1729C5.65752 14.1729 5.52191 14.1379 5.40104 14.0679C5.28016 13.998 5.1831 13.9039 5.10986 13.7856C5.03662 13.6673 5 13.5345 5 13.3873C5 13.1721 5.08288 12.9818 5.24863 12.8164L10.0807 8.17095L5.24863 3.52799C5.08288 3.36425 5 3.17439 5 2.95841C5 2.81118 5.03662 2.67842 5.10986 2.56013C5.1831 2.44183 5.28016 2.34771 5.40104 2.27777C5.52191 2.20782 5.65752 2.17285 5.80787 2.17285C6.02742 2.17285 6.21462 2.24731 6.36949 2.39624L11.7292 7.56473C11.8211 7.65451 11.889 7.74909 11.9329 7.84846C11.9768 7.94784 11.9991 8.05576 12 8.17222Z",fill:"#FFFFFF"}))),Koe=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 -2.43189e-06C18.6274 -2.72158e-06 24 5.37258 24 12C24 18.6274 18.6274 24 12 24C5.37258 24 8.1423e-07 18.6274 5.24537e-07 12C2.34843e-07 5.37258 5.37258 -2.14219e-06 12 -2.43189e-06ZM11.9999 22.5883C17.8476 22.5883 22.5881 17.8478 22.5881 12.0001C22.5881 6.15238 17.8476 1.41187 11.9999 1.41187C6.15217 1.41187 1.41166 6.15239 1.41166 12.0001C1.41166 17.8478 6.15217 22.5883 11.9999 22.5883Z",fill:"white"}),x.createElement("path",{d:"M10.8547 7.5429C10.524 7.23657 10.0131 7.23657 9.68243 7.5429C9.31416 7.88401 9.31384 8.46633 9.68174 8.80784L13.1206 12L9.68175 15.1922C9.31384 15.5337 9.31416 16.116 9.68243 16.4571C10.0131 16.7634 10.524 16.7634 10.8547 16.4571L14.9802 12.6358C15.3505 12.2928 15.3505 11.7072 14.9802 11.3642L10.8547 7.5429Z",fill:"white"})),zoe=t=>x.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{d:"M1.62695 1.62598L10.3742 10.3745",stroke:"#6B6F73",strokeWidth:1.5,strokeLinecap:"round"}),x.createElement("path",{d:"M1.62695 10.376L10.3742 1.62746",stroke:"#6B6F73",strokeWidth:1.5,strokeLinecap:"round"})),Joe=t=>x.createElement("svg",{width:10,height:10,viewBox:"0 0 10 10",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Group 465"},x.createElement("rect",{id:"Rectangle 368",x:1.25,width:12.3744,height:1.76777,rx:.883884,transform:"rotate(45 1.25 0)",fill:"white"}),x.createElement("rect",{id:"Rectangle 369",y:8.75,width:12.3744,height:1.76777,rx:.883884,transform:"rotate(-45 0 8.75)",fill:"white"}))),joe=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("rect",{y:.00195312,width:24,height:24,rx:12,fill:"#F80022"}),x.createElement("rect",{x:8.25,y:7.00195,width:12.3744,height:1.76777,rx:.883884,transform:"rotate(45 8.25 7.00195)",fill:"white"}),x.createElement("rect",{x:7,y:15.752,width:12.3744,height:1.76777,rx:.883884,transform:"rotate(-45 7 15.752)",fill:"white"})),Hoe=t=>x.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Frame"},x.createElement("path",{id:"Vector",d:"M5.79479 6.80154C5.5243 6.53492 5.11861 6.53492 4.84812 6.80154C4.57768 7.06812 4.57768 7.46803 4.84812 7.73465L7.62043 10.6673C7.75567 10.8006 7.95852 10.8672 8.09376 10.8672C8.29661 10.8672 8.49945 10.8006 8.5671 10.6007L15.1936 2.40258C15.3964 2.13598 15.3964 1.66942 15.0583 1.46947C14.8555 1.26951 14.4498 1.26951 14.1793 1.60277L12.827 3.26904C11.6099 2.06932 9.85181 1.33616 8.09376 1.33616C4.37481 1.33616 1.33203 4.33546 1.33203 8.00128C1.33203 11.6671 4.37481 14.6663 8.09376 14.6663C11.8127 14.6663 14.8555 11.6671 14.8555 8.00128C14.8555 7.40141 14.7879 6.80154 14.5851 6.20168C14.4498 5.86843 14.1117 5.66848 13.7736 5.73514C13.4355 5.80176 13.2327 6.20168 13.3003 6.53492C13.4355 7.0015 13.5031 7.5347 13.5031 8.00128C13.5031 10.9339 11.0689 13.3333 8.09376 13.3333C5.11861 13.3333 2.68438 10.9339 2.68438 8.00128C2.68438 5.06861 5.11861 2.66918 8.09376 2.66918C9.58136 2.66918 10.9337 3.26904 12.0156 4.33546L8.09376 9.20096L5.79479 6.80154Z",fill:"white"}))),Qoe=t=>x.createElement("svg",{width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{d:"M15.8 22.0002H6C4 22.0002 2.5 20.5002 2.5 18.5002V8.7002C2.5 6.8002 4 5.2002 6 5.2002H15.8C17.7 5.2002 19.3 6.7002 19.3 8.7002V18.5002C19.2 20.5002 17.7 22.0002 15.8 22.0002ZM6 7.3002C5.2 7.3002 4.5 7.9002 4.5 8.7002V18.5002C4.5 19.3002 5.2 20.0002 6 20.0002H15.8C16.6 20.0002 17.3 19.3002 17.3 18.5002V8.7002C17.3 7.9002 16.6 7.2002 15.8 7.2002H6V7.3002Z",fill:"#107D57"}),x.createElement("path",{d:"M21.5016 17.9C20.9016 17.9 20.5016 17.5 20.5016 16.9V6.3C20.5016 5 19.5016 4 18.2016 4H7.60157C7.00156 4 6.60156 3.6 6.60156 3C6.60156 2.4 7.00156 2 7.60157 2H18.2016C20.6016 2 22.5016 3.9 22.5016 6.3V16.9C22.5016 17.5 22.1016 17.9 21.5016 17.9Z",fill:"#107D57"})),qoe=t=>x.createElement("svg",{width:35,height:35,viewBox:"0 0 35 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Features"},x.createElement("path",{id:"Icon",d:"M29.481 9.15331H24.5286V8.57275C24.5286 8.25228 24.282 7.99219 23.9783 7.99219H10.7717C10.468 7.99219 10.2215 8.25228 10.2215 8.57275V9.15331H5.26902C4.96527 9.15331 4.71875 9.4134 4.71875 9.73388V12.5945C4.71875 16.4366 7.68032 19.5612 11.322 19.5612C11.344 19.5612 11.3627 19.5508 11.3837 19.5484C12.3752 21.1508 13.9204 22.3491 15.7088 22.8205C15.6395 24.2719 15.2884 24.8688 14.2297 26.0183L13.9303 26.3411C12.416 27.9806 11.322 27.9511 11.322 29.2725C11.322 29.5929 11.5685 29.853 11.8723 29.853H22.8777C23.1815 29.853 23.428 29.5929 23.428 29.2725C23.428 27.9511 22.3341 27.9806 20.8197 26.3411L20.5215 26.0172C19.4628 24.8677 19.1117 24.2707 19.0423 22.8193C20.8307 22.3491 22.3759 21.1496 23.3675 19.5473C23.3873 19.5508 23.406 19.5612 23.428 19.5612C27.0697 19.5612 30.0313 16.4366 30.0313 12.5945V9.73388C30.0313 9.4134 29.7848 9.15331 29.481 9.15331ZM5.81929 12.5945V10.3144H10.2215V15.4973C10.2215 16.497 10.4196 17.4584 10.7717 18.342C7.99947 18.0459 5.81929 15.5971 5.81929 12.5945ZM28.9307 12.5945C28.9307 15.5971 26.7506 18.0459 23.9783 18.342C24.3305 17.4596 24.5286 16.4982 24.5286 15.4973V10.3144H28.9307V12.5945Z",fill:"white"}))),ele=t=>x.createElement("svg",{width:40,height:40,viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"CarbonUserAvatar 1"},x.createElement("g",{id:"Group 232"},x.createElement("path",{id:"Vector",d:"M19.9992 14.2861C19.2928 14.2861 18.6023 14.4956 18.015 14.888C17.4277 15.2805 16.9699 15.8382 16.6996 16.4908C16.4293 17.1434 16.3586 17.8615 16.4964 18.5543C16.6342 19.2471 16.9743 19.8835 17.4738 20.3829C17.9733 20.8824 18.6096 21.2226 19.3024 21.3604C19.9952 21.4982 20.7133 21.4274 21.3659 21.1571C22.0185 20.8868 22.5763 20.4291 22.9687 19.8417C23.3611 19.2544 23.5706 18.5639 23.5706 17.8576C23.5706 16.9104 23.1943 16.002 22.5245 15.3322C21.8548 14.6624 20.9464 14.2861 19.9992 14.2861ZM19.9992 20.0004C19.5753 20.0004 19.161 19.8747 18.8087 19.6393C18.4563 19.4038 18.1816 19.0692 18.0194 18.6776C17.8572 18.286 17.8148 17.8552 17.8975 17.4395C17.9802 17.0238 18.1843 16.642 18.4839 16.3423C18.7836 16.0426 19.1654 15.8386 19.5811 15.7559C19.9968 15.6732 20.4276 15.7156 20.8192 15.8778C21.2108 16.04 21.5454 16.3147 21.7809 16.6671C22.0163 17.0194 22.142 17.4337 22.142 17.8576C22.1415 18.4257 21.9155 18.9704 21.5138 19.3722C21.112 19.7739 20.5673 19.9999 19.9992 20.0004Z",fill:"white"}),x.createElement("path",{id:"Vector_2",d:"M20 10C18.0222 10 16.0888 10.5865 14.4443 11.6853C12.7998 12.7841 11.5181 14.3459 10.7612 16.1732C10.0043 18.0004 9.8063 20.0111 10.1922 21.9509C10.578 23.8907 11.5304 25.6725 12.9289 27.0711C14.3275 28.4696 16.1093 29.422 18.0491 29.8078C19.9889 30.1937 21.9996 29.9957 23.8268 29.2388C25.6541 28.4819 27.2159 27.2002 28.3147 25.5557C29.4135 23.9112 30 21.9778 30 20C29.997 17.3488 28.9424 14.807 27.0677 12.9323C25.193 11.0576 22.6512 10.003 20 10ZM15.7143 27.4121V26.4286C15.7149 25.8604 15.9408 25.3157 16.3425 24.914C16.7443 24.5122 17.289 24.2863 17.8571 24.2857H22.1429C22.711 24.2863 23.2557 24.5122 23.6575 24.914C24.0592 25.3157 24.2851 25.8604 24.2857 26.4286V27.4121C22.9851 28.1716 21.5061 28.5718 20 28.5718C18.4939 28.5718 17.0149 28.1716 15.7143 27.4121ZM25.7086 26.3757C25.6943 25.4388 25.3126 24.545 24.6457 23.8868C23.9787 23.2287 23.0799 22.8589 22.1429 22.8571H17.8571C16.9201 22.8589 16.0213 23.2287 15.3544 23.8868C14.6874 24.545 14.3057 25.4388 14.2914 26.3757C12.9961 25.2191 12.0827 23.6963 11.672 22.009C11.2614 20.3218 11.3729 18.5495 11.9919 16.927C12.6108 15.3046 13.708 13.9083 15.1381 12.9233C16.5682 11.9382 18.2638 11.4107 20.0004 11.4107C21.7369 11.4107 23.4325 11.9382 24.8626 12.9233C26.2927 13.9083 27.3899 15.3046 28.0088 16.927C28.6278 18.5495 28.7393 20.3218 28.3287 22.009C27.9181 23.6963 27.0039 25.2191 25.7086 26.3757Z",fill:"white"})))),tle=t=>x.createElement("svg",{width:12,height:13,viewBox:"0 0 12 13",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Features"},x.createElement("g",{id:"Icon"},x.createElement("path",{d:"M6.2368 7.85018C6.38779 7.85018 6.49435 7.75233 6.50322 7.59222C6.76084 5.50185 6.85854 5.44848 8.99025 5.09267C9.15897 5.07488 9.25666 4.98592 9.25666 4.8347C9.25666 4.69238 9.15896 4.60343 9.0258 4.57675L8.93118 4.55875C6.87281 4.16737 6.75701 4.14535 6.50322 2.08609C6.49435 1.92597 6.38779 1.82812 6.2368 1.82812C6.10356 1.82812 5.99699 1.92597 5.98805 2.07719C5.71277 4.20315 5.64167 4.26541 3.46555 4.57675C3.3323 4.59454 3.23461 4.69238 3.23461 4.8347C3.23461 4.97703 3.3323 5.07488 3.46555 5.09267L3.53156 5.10562C5.64296 5.51968 5.70672 5.53218 5.98805 7.61001C5.99699 7.75233 6.10356 7.85018 6.2368 7.85018Z",fill:"white",style:{fill:"white",fillOpacity:1}}),x.createElement("path",{d:"M7.8622 11.3244C7.9435 11.3244 8.00088 11.2718 8.00566 11.1855C8.14438 10.06 8.19699 10.0312 9.34483 9.83963C9.43568 9.83005 9.48828 9.78216 9.48828 9.70073C9.48828 9.62409 9.43568 9.57619 9.36397 9.56183L9.31302 9.55214C8.20467 9.34139 8.14231 9.32954 8.00566 8.2207C8.00088 8.13449 7.9435 8.0818 7.8622 8.0818C7.79046 8.0818 7.73307 8.13449 7.72826 8.21591C7.58003 9.36066 7.54175 9.39419 6.36999 9.56183C6.29824 9.57141 6.24564 9.62409 6.24564 9.70073C6.24564 9.77736 6.29824 9.83005 6.36999 9.83963L6.40553 9.84661C7.54244 10.0696 7.57678 10.0763 7.72826 11.1951C7.73307 11.2718 7.79046 11.3244 7.8622 11.3244Z",fill:"white",style:{fill:"white",fillOpacity:1}}),x.createElement("path",{d:"M2.61901 7.53919C2.61628 7.58846 2.58349 7.61857 2.53703 7.61857C2.49604 7.61857 2.46325 7.58846 2.46049 7.54467C2.37393 6.90533 2.35431 6.90149 1.70465 6.77408L1.68434 6.7701C1.64334 6.76462 1.61328 6.73452 1.61328 6.69073C1.61328 6.64693 1.64334 6.61683 1.68434 6.61135C2.35392 6.51556 2.37579 6.4964 2.46049 5.84226C2.46325 5.79573 2.49604 5.76562 2.53703 5.76562C2.58349 5.76562 2.61628 5.79573 2.61901 5.845C2.6971 6.47862 2.73273 6.48539 3.36607 6.60582L3.39519 6.61135C3.43616 6.61956 3.46622 6.64693 3.46622 6.69073C3.46622 6.73725 3.43616 6.76462 3.38425 6.7701C2.72834 6.87958 2.69828 6.896 2.61901 7.53919Z",fill:"white",style:{fill:"white",fillOpacity:1}})))),ile=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("rect",{width:24,height:24,rx:12,fill:"white",fillOpacity:.1}),x.createElement("rect",{x:8.25,y:7,width:12.3744,height:1.76777,rx:.883884,transform:"rotate(45 8.25 7)",fill:"white"}),x.createElement("rect",{x:7,y:15.75,width:12.3744,height:1.76777,rx:.883884,transform:"rotate(-45 7 15.75)",fill:"white"})),nle=t=>x.createElement("svg",{width:17,height:17,viewBox:"0 0 17 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{d:"M9.16683 2.66671H7.16683C5.29999 2.66671 4.36657 2.66671 3.65353 3.03002C3.02632 3.3496 2.51639 3.85953 2.19681 4.48674C1.8335 5.19978 1.8335 6.1332 1.8335 8.00004V9.33337C1.8335 11.2002 1.8335 12.1336 2.19681 12.8467C2.51639 13.4739 3.02632 13.9838 3.65353 14.3034C4.36657 14.6667 5.29999 14.6667 7.16683 14.6667H8.50016C10.367 14.6667 11.3004 14.6667 12.0135 14.3034C12.6407 13.9838 13.1506 13.4739 13.4702 12.8467C13.8335 12.1336 13.8335 11.2002 13.8335 9.33337V7.33337M8.50016 8.00004L15.1668 1.33337M15.1668 1.33337H11.8335M15.1668 1.33337V4.66671",stroke:"#107D57",strokeLinecap:"round",strokeLinejoin:"round"})),sle=t=>x.createElement("svg",{width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("rect",{width:32,height:32,rx:16,fill:"white"}),x.createElement("path",{d:"M10.4615 12.6875C9.44231 12.6875 8.61538 13.4665 8.61538 14.4266C8.61538 15.3868 9.44231 16.1658 10.4615 16.1658C11.4808 16.1658 12.3077 15.3868 12.3077 14.4266C12.3077 13.4665 11.4808 12.6875 10.4615 12.6875ZM10.4615 16.1658C9.10817 16.1658 8 17.2097 8 18.4846V19.7527C8 19.7527 8.61538 20.2237 10.4615 20.2237C12.3077 20.2237 12.9231 19.7527 12.9231 19.7527V18.4846C12.9231 17.2097 11.8149 16.1658 10.4615 16.1658ZM21.5385 12.6875C20.5192 12.6875 19.6923 13.4665 19.6923 14.4266C19.6923 15.3868 20.5192 16.1658 21.5385 16.1658C22.5577 16.1658 23.3846 15.3868 23.3846 14.4266C23.3846 13.4665 22.5577 12.6875 21.5385 12.6875ZM21.5385 16.1658C20.1851 16.1658 19.0769 17.2097 19.0769 18.4846V19.7527C19.0769 19.7527 19.6923 20.2237 21.5385 20.2237C23.3846 20.2237 24 19.7527 24 19.7527V18.4846C24 17.2097 22.8918 16.1658 21.5385 16.1658ZM16 15.0063C14.9808 15.0063 14.1538 15.7853 14.1538 16.7455C14.1538 17.7056 14.9808 18.4846 16 18.4846C17.0192 18.4846 17.8462 17.7056 17.8462 16.7455C17.8462 15.7853 17.0192 15.0063 16 15.0063ZM16 18.4846C14.6466 18.4846 13.5385 19.5285 13.5385 20.8034V22.0715C13.5385 22.0715 14.1538 22.5425 16 22.5425C17.8462 22.5425 18.4615 22.0715 18.4615 22.0715V20.8034C18.4615 19.5285 17.3534 18.4846 16 18.4846Z",fill:"#107D57"}),x.createElement("path",{opacity:.5,d:"M13.3908 9C12.3103 9 11.4336 9.82584 11.4336 10.8437C11.4336 11.8616 12.3103 12.6875 13.3908 12.6875C14.4713 12.6875 15.348 11.8616 15.348 10.8437C15.348 9.82584 14.4713 9 13.3908 9ZM13.3908 12.6875C13.1946 12.6875 12.9958 12.6827 12.7996 12.7451C13.192 13.2372 13.3908 13.8542 13.3908 14.5312C13.3908 14.7761 13.3296 15.0161 13.3296 15.261C13.8521 14.524 14.6956 14.0391 15.6742 13.9166C15.218 13.1796 14.3694 12.6875 13.3908 12.6875ZM18.61 9C17.5295 9 16.6528 9.82584 16.6528 10.8437C16.6528 11.8616 17.5295 12.6875 18.61 12.6875C19.6905 12.6875 20.5672 11.8616 20.5672 10.8437C20.5672 9.82584 19.6905 9 18.61 9ZM18.61 12.6875C17.6314 12.6875 16.7828 13.1796 16.3266 13.9166C17.3052 14.0391 18.1487 14.524 18.6712 15.261C18.6712 15.0161 18.61 14.7761 18.61 14.5312C18.61 13.8542 18.8088 13.2372 19.2012 12.7451C19.005 12.6827 18.8062 12.6875 18.61 12.6875Z",fill:"#107D57"})),rle=t=>x.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Share"},x.createElement("path",{id:"Vector",d:"M11 4.965V1.125L18 7.845L11 14.565V10.629C6 10.629 2.5 12.165 0 15.525C1 10.725 4 5.925 11 4.965Z",fill:"white"}))),ale=t=>x.createElement("svg",{width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"sc-ANdsN kTVWJE",...t},x.createElement("path",{d:"M6.6665 3.16669H4.99984C4.26346 3.16669 3.6665 3.76364 3.6665 4.50002V11.5C3.6665 12.2364 4.26346 12.8334 4.99984 12.8334H11.9998C12.7362 12.8334 13.3332 12.2364 13.3332 11.5V9.83335",stroke:"#ffffff",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),x.createElement("path",{d:"M13.3335 6.16669V3.16669H10.3335",stroke:"#ffffff",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),x.createElement("path",{d:"M13.1668 3.33331L8.3335 8.16665",stroke:"#ffffff",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})),ole=t=>x.createElement("svg",{width:17,height:18,viewBox:"0 0 17 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Group"},x.createElement("path",{id:"Vector",d:"M12.5396 12.431L15.8603 9.00169L12.5396 5.57239",stroke:"#EB5757",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),x.createElement("path",{id:"Vector_2",d:"M15.8602 9.00159H5.57227",stroke:"#EB5757",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),x.createElement("path",{id:"Vector_3",d:"M12.431 1L3.2862 1.00229C2.02422 1.00343 1 2.02651 1 3.28849V14.7138C1 15.3201 1.24087 15.9016 1.66961 16.3304C2.09836 16.7591 2.67987 17 3.2862 17H12.5396",stroke:"#EB5757",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}))),lle=t=>x.createElement("svg",{width:99,height:96,viewBox:"0 0 99 96",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Masters Logo Big"},x.createElement("path",{id:"Vector",d:"M67.4732 4.82378C66.1754 4.41151 64.8776 5.1433 63.5798 5.88539C63.117 6.15337 62.7951 6.60687 62.6844 7.13253L60.6421 16.9035C60.5616 17.2642 60.8836 17.594 61.2357 17.5116C63.3786 17.0065 65.4208 15.0894 67.5738 15.7594C69.9783 16.5118 72.3928 13.3888 74.7972 13.43V2.1543C72.3626 2.1646 69.8776 5.57618 67.4732 4.82378Z",fill:"white"}),x.createElement("path",{id:"Vector_2",d:"M98.1678 34.7754C97.6547 34.4147 97.3429 33.8272 97.3429 33.1882V31.4051C97.3429 29.8075 96.0752 28.5089 94.5159 28.5089H93.3891C92.041 28.5089 90.8035 29.1994 90.0691 30.3538L86.4272 36.1153C86.065 36.6822 85.4514 37.0223 84.7974 37.0223H82.3427C81.1253 37.0223 80.0086 37.7026 79.4251 38.8054C78.8215 39.9392 77.7752 40.7225 76.5679 40.9905V0.917313C76.5679 0.412276 76.1756 0 75.6726 0C75.1796 0 74.7772 0.412276 74.7772 0.917313V2.15414V13.4196V41.0111C73.5699 40.7431 72.5236 39.9598 71.92 38.8261C71.3465 37.7232 70.2298 37.043 69.0125 37.043H67.3626C66.0547 37.043 64.8676 37.8366 64.3344 39.0528L62.9661 42.2067C62.7448 42.7014 62.2619 43.0313 61.7287 43.0313C61.1955 43.0313 60.7126 42.7118 60.4913 42.2067L59.123 39.0528C58.5898 37.8263 57.4027 37.0327 56.0948 37.0327H9.52479C9.14249 37.0327 8.84068 37.3419 8.84068 37.7335C8.84068 38.5478 8.18674 39.2177 7.39196 39.2177H5.37986C4.99757 39.2177 4.69575 39.5269 4.69575 39.9186V42.3098C4.69575 44.5567 4.26315 46.7624 3.42813 48.834L2.20075 51.8643C1.05385 54.6884 0.510584 57.5846 0.520645 60.4396V67.4071C0.520645 69.2932 0.782218 71.1897 1.31542 73.0449C2.81444 78.2396 6.20483 82.4963 10.893 85.0215L18.3378 89.0412C18.4384 89.0928 18.539 89.1237 18.6497 89.1237L24.1528 89.1649C25.4405 89.1752 26.7081 89.5153 27.8248 90.1544L30.7826 91.8447C30.8832 91.9065 30.9939 91.9375 31.1146 91.9375H35.0684C36.4567 91.9375 37.825 92.3291 39.0121 93.0609C39.0121 93.0609 40.9437 94.2668 41.5977 94.6585C42.6439 95.2872 43.9116 95.885 46.1148 95.9984C46.6178 96.019 47.1108 95.8438 47.483 95.483C47.8553 95.1223 48.0666 94.6172 48.0666 94.0916V91.3809C48.0666 89.4123 49.2034 87.6292 50.964 86.8355L57.0003 84.1145C57.8252 83.7435 58.7508 83.6816 59.6059 83.9496L61.8595 84.6402C62.8152 84.9288 63.8313 84.9391 64.7972 84.6402L70.1493 83.0117C70.8636 82.7952 71.6081 82.7952 72.3325 83.022L74.5055 83.6507C75.5216 83.9496 76.2259 84.8979 76.2259 85.9801V91.4118C76.2259 93.937 78.238 95.9984 80.7028 95.9984C82.5439 95.9984 84.1636 94.7822 84.7169 92.9888C85.723 89.7421 86.2361 86.3614 86.2361 82.9499V80.6411C86.2361 79.0023 86.9001 77.415 88.0671 76.2916L90.2905 74.1375C91.7895 72.6739 92.6547 70.6228 92.6547 68.4996V55.616C92.6547 53.6164 93.2382 51.6994 94.3549 50.0606C94.4354 49.9472 94.4756 49.8029 94.4756 49.6586V46.6284C94.4756 44.6494 95.0591 42.7324 96.1557 41.1039L98.359 37.8263C98.4395 37.7129 98.4797 37.5686 98.4797 37.4346V35.3732C98.4797 34.9713 98.2584 34.8373 98.1678 34.7754ZM74.7872 69.2211C73.2882 68.9943 72.1816 68.2007 72.1816 67.2628C72.1816 66.3248 73.2882 65.5312 74.7872 65.3045V69.2211ZM76.5679 65.2941C78.0669 65.5209 79.1736 66.3145 79.1736 67.2525C79.1736 68.1904 78.0669 68.984 76.5679 69.2108V65.2941ZM12.6637 84.3928L11.5268 83.7847C8.45838 82.1356 6.00362 79.6619 4.32351 76.673V72.9109C6.24507 75.7556 8.85074 78.1881 12.05 79.9093L12.6637 80.2391V84.3928ZM18.3478 87.4643L15.3398 85.8461V81.6924L18.3378 83.3106H18.3478V87.4643ZM30.8832 90.2987L28.4989 88.9382C27.2011 88.1961 25.7322 87.7941 24.2534 87.7735V83.4343C25.5009 83.4652 26.7383 83.795 27.8349 84.4237L30.7927 86.1141C30.8229 86.1347 30.853 86.1244 30.8832 86.1347V90.2987ZM46.6983 91.3706V93.4835V94.0813C46.6983 94.2256 46.638 94.3596 46.5474 94.4523C46.4468 94.5451 46.3261 94.5966 46.1953 94.5863C44.2939 94.4833 43.1973 93.9782 42.3019 93.432C41.658 93.0403 39.7365 91.8447 39.7264 91.8447C38.5191 91.1026 37.161 90.68 35.7626 90.577V86.2377C36.9095 86.3408 38.0262 86.7016 39.0222 87.3097L40.6821 88.33C42.5031 89.4535 44.5756 90.0925 46.6983 90.2059V91.3706ZM63.1372 83.4446C62.8354 83.424 62.5436 83.3827 62.2519 83.3003L59.9983 82.6097C59.5154 82.4654 59.0124 82.4036 58.5194 82.4036V78.0644C58.8816 78.0644 59.2538 78.1056 59.6059 78.2087L61.8595 78.8992C62.272 79.0229 62.7046 79.0848 63.1372 79.1054V83.4446ZM77.2923 84.4959C76.8597 83.4549 75.9945 82.62 74.8878 82.3005L72.7248 81.6718C72.2117 81.5069 71.6785 81.445 71.1453 81.4554V77.1265C71.5578 77.1161 71.9703 77.1677 72.3727 77.3017L74.1534 77.8789C76.0347 78.487 77.3024 80.2494 77.3024 82.2696V84.4959H77.2923ZM83.5197 92.1848C83.4795 92.3085 83.4594 92.4322 83.4191 92.5559C83.0368 93.7721 81.9503 94.5863 80.7028 94.5863C80.5921 94.5863 80.4815 94.5657 80.3708 94.5554V90.2265C80.4513 90.2368 80.5318 90.2471 80.6223 90.2471C81.8396 90.2471 82.9362 89.5463 83.5197 88.495V92.1848ZM95.1799 38.0118C93.8217 40.032 93.1074 42.4025 93.1074 44.8556V46.9994L92.051 48.5661C90.6828 50.5965 89.9484 52.9774 89.9484 55.4408V66.2218C89.9484 67.9739 89.2442 69.6643 88.0067 70.8702L85.7834 73.0346C84.2944 74.4879 83.4694 76.539 83.5298 78.6519L83.5399 79.1363C83.6203 81.9398 83.2682 84.7226 82.5137 87.4127C82.2722 88.2682 81.4976 88.866 80.6223 88.866C79.5358 88.866 78.6605 87.959 78.6605 86.8562V82.2696C78.6605 79.631 77.0106 77.3326 74.5558 76.539L72.7751 75.9618C71.7892 75.6423 70.753 75.6423 69.767 75.9412L64.4149 77.5697C63.7106 77.7861 62.9661 77.7861 62.2519 77.5697L59.9983 76.8791C58.8313 76.5183 57.5637 76.6008 56.4469 77.1058L51.6883 79.2497C48.6501 80.6102 46.6883 83.6919 46.6883 87.0932V88.8454C44.817 88.732 42.986 88.1548 41.3763 87.1654L39.7163 86.145C38.3079 85.2792 36.7083 84.8257 35.0684 84.8257H31.3058L28.5089 83.2281C27.191 82.4757 25.692 82.0635 24.1729 82.0532L18.8307 82.0119L12.6938 78.7034C3.38789 73.653 -0.58601 62.367 3.45831 52.4208L4.68569 49.3906C5.6012 47.1437 6.06398 44.7628 6.06398 42.3304V40.6401H7.39196C8.70989 40.6401 9.81654 39.7021 10.1284 38.455H56.0948C56.8594 38.455 57.5637 38.9188 57.8755 39.6403L59.2438 42.7942C59.6764 43.8043 60.6522 44.4536 61.7287 44.4536C62.8052 44.4536 63.781 43.8043 64.2136 42.8045L65.5819 39.6506C65.8938 38.9291 66.5879 38.4653 67.3626 38.4653H69.0125C69.7268 38.4653 70.3807 38.8673 70.7228 39.5063C71.5679 41.1039 73.0769 42.1758 74.7872 42.4541V62.2639C72.0307 62.5731 69.918 64.2532 69.918 66.3042C69.918 68.5614 72.4934 70.3961 75.6726 70.3961C78.8517 70.3961 81.4272 68.5614 81.4272 66.3042C81.4272 64.2635 79.3145 62.5731 76.5579 62.2639V42.4438C78.2682 42.1655 79.7772 41.0936 80.6223 39.496C80.9644 38.857 81.6183 38.455 82.3326 38.455H84.7874C85.9141 38.455 86.9504 37.8778 87.5641 36.909L91.206 31.1371C91.6889 30.3847 92.4937 29.9312 93.379 29.9312H94.5058C95.3106 29.9312 95.9646 30.6012 95.9646 31.4257V33.2088C95.9646 34.0746 96.2865 34.8888 96.86 35.4969L95.1799 38.0118Z",fill:"white"}))),cle=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{d:"M2.25 10.0514C2.25 8.97447 3.12304 8.10142 4.2 8.10142H6.91992C7.2891 8.10142 7.64086 7.94446 7.88744 7.66971L10.4825 4.77808C11.2789 3.8907 12.75 4.45403 12.75 5.64636V18.3565C12.75 19.5488 11.2789 20.1121 10.4825 19.2248L7.88744 16.3331C7.64086 16.0584 7.2891 15.9014 6.91992 15.9014H4.2C3.12304 15.9014 2.25 15.0284 2.25 13.9514V10.0514Z",fill:"white",style:{fill:"white",fillOpacity:1}}),x.createElement("path",{d:"M18.0226 12.5545L19.8749 14.4067C20.1678 14.6996 20.6427 14.6996 20.9356 14.4067C21.2284 14.1138 21.2284 13.6389 20.9355 13.346L19.0833 11.4939L20.9355 9.64182C21.2284 9.34894 21.2284 8.87406 20.9356 8.58116C20.6427 8.28825 20.1678 8.28824 19.8749 8.58112L18.0226 10.4333L16.1703 8.58112C15.8774 8.28824 15.4025 8.28825 15.1096 8.58116C14.8167 8.87406 14.8167 9.34894 15.1096 9.64182L16.9619 11.4939L15.1096 13.346C14.8167 13.6389 14.8167 14.1138 15.1096 14.4067C15.4025 14.6996 15.8774 14.6996 16.1703 14.4067L18.0226 12.5545Z",fill:"white",style:{fill:"white",fillOpacity:1}})),ule=t=>x.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("circle",{opacity:.5,cx:24,cy:24,r:24,fill:"black",style:{fill:"black",fillOpacity:1}}),x.createElement("rect",{x:18,y:13.999,width:4,height:20,rx:1,fill:"white",style:{fill:"white",fillOpacity:1}}),x.createElement("rect",{x:26,y:13.999,width:4,height:20,rx:1,fill:"white",style:{fill:"white",fillOpacity:1}})),dle=t=>x.createElement("svg",{width:48,height:48,viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("circle",{opacity:.5,cx:24,cy:24.001,r:24,fill:"black"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M32.5432 24.7938C33.215 24.3331 33.2822 23.5173 32.5432 23.0567C23.7807 17.6245 19.6442 14.918 19.1356 14.5917C18.3486 14.083 17.6 14.6973 17.6 15.2059V32.7501C17.6 33.3259 18.5309 33.8442 19.1356 33.4795C20.2201 32.8172 31.8714 25.2641 32.5336 24.8034L32.5432 24.7938Z",fill:"white"})),hle=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{d:"M18.5625 5.0625V18.9375M15.6454 11.3897L7.18592 5.3471C6.68953 4.99253 6 5.34737 6 5.95739L6 18.0426C6 18.6526 6.68953 19.0075 7.18592 18.6529L15.6454 12.6103C16.0642 12.3112 16.0642 11.6888 15.6454 11.3897Z",stroke:"white",style:{stroke:"white",strokeOpacity:1},strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),fle=t=>x.createElement("svg",{width:16,height:15,viewBox:"0 0 16 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{id:"Start - You",d:"M8 0L9.79611 5.52786H15.6085L10.9062 8.94427L12.7023 14.4721L8 11.0557L3.29772 14.4721L5.09383 8.94427L0.391548 5.52786H6.20389L8 0Z",fill:"#F4D22A"})),ple=t=>x.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:22,height:22,viewBox:"0 0 22 22",fill:"none",...t},x.createElement("path",{d:"M5.5 2.78867V12.4137C5.5 13.1729 4.88426 13.75 4.125 13.75H1.375C0.615742 13.75 0 13.1343 0 12.4137V2.82734C0 2.06808 0.615742 1.49102 1.375 1.49102H4.125C4.88555 1.41367 5.5 1.99375 5.5 2.78867ZM22 12.3707C22 13.5094 21.077 14.4323 19.9375 14.4323H13.6426C14.621 16.0613 15.1259 17.9077 15.1259 18.5582C15.125 19.5714 14.3301 20.625 12.998 20.625C10.2854 20.625 11.8654 17.3529 8.34883 14.5406L7.64844 13.982C7.14141 13.5738 6.88359 12.9766 6.8793 12.375C6.87829 12.374 6.8793 12.375 6.8793 12.375L6.875 5.5C6.875 4.85117 7.18064 4.23973 7.7 3.85043L9.16695 2.75086C10.3555 1.85625 11.8035 1.375 13.2902 1.375H15.8125C16.952 1.375 17.875 2.29754 17.875 3.43664C17.875 3.59283 17.8544 3.74357 17.8215 3.88996C18.6484 4.15937 19.25 4.92422 19.25 5.84375C19.25 6.23683 19.1341 6.60043 18.9432 6.91281C19.8988 7.08984 20.625 7.92773 20.625 8.9332C20.625 9.47031 20.4148 9.955 20.0784 10.322C21.1492 10.3941 22 11.2793 22 12.3707Z",fill:"white"})),mle=t=>x.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{d:"M17.4777 8.95762C17.4777 8.70612 17.4177 8.47012 17.3172 8.25562C16.6467 6.09262 13.5077 6.25062 9.04275 6.14512C8.29625 6.12762 8.72325 5.24612 8.98525 3.31112C9.15575 2.05262 8.34425 0.120117 6.98025 0.120117C4.73125 0.120117 6.89475 1.89412 4.90625 6.28112C3.84375 8.62512 1.46875 7.31212 1.46875 9.66662V15.0261C1.46875 15.9426 1.55875 16.8236 2.84775 16.9686C4.09725 17.1091 3.81625 17.9996 5.61875 17.9996H14.6407C15.5597 17.9996 16.3072 17.2516 16.3072 16.3326C16.3072 15.9516 16.1737 15.6046 15.9582 15.3236C16.4682 15.0381 16.8182 14.4991 16.8182 13.8741C16.8182 13.4941 16.6852 13.1471 16.4702 12.8666C16.9817 12.5816 17.3327 12.0421 17.3327 11.4161C17.3327 10.9616 17.1487 10.5496 16.8522 10.2481C17.2307 9.94262 17.4777 9.48062 17.4777 8.95762Z",fill:"white"}),x.createElement("path",{d:"M11.5088 10.625H15.8108C16.3958 10.625 16.9448 10.312 17.2438 9.80849C17.3668 9.60099 17.2983 9.33249 17.0903 9.20899C16.8828 9.08549 16.6143 9.15499 16.4908 9.36249C16.3493 9.60199 16.0878 9.74999 15.8103 9.74999H11.4053C10.9688 9.74999 10.6138 9.39499 10.6138 8.95849C10.6138 8.52199 10.9688 8.16699 11.4053 8.16699H14.3488C14.5903 8.16699 14.7863 7.97099 14.7863 7.72949C14.7863 7.48799 14.5903 7.29199 14.3488 7.29199H11.4048C10.4858 7.29199 9.73828 8.03949 9.73828 8.95849C9.73828 9.47099 9.97578 9.92449 10.3408 10.2305C10.0333 10.533 9.84178 10.953 9.84178 11.417C9.84178 11.931 10.0808 12.386 10.4478 12.6915C10.1423 12.9935 9.95278 13.412 9.95278 13.875C9.95278 14.435 10.2323 14.929 10.6573 15.2315C10.3953 15.526 10.2313 15.9095 10.2313 16.3335C10.2313 17.2525 10.9788 18 11.8978 18H14.6398C15.2248 18 15.7743 17.6875 16.0733 17.184C16.1968 16.9765 16.1283 16.708 15.9208 16.5845C15.7128 16.462 15.4443 16.5295 15.3213 16.737C15.1788 16.9765 14.9173 17.125 14.6398 17.125H11.8978C11.4613 17.125 11.1063 16.77 11.1063 16.3335C11.1063 15.897 11.4613 15.542 11.8978 15.542H15.1508C15.7358 15.542 16.2858 15.229 16.5843 14.7255C16.7078 14.5175 16.6393 14.249 16.4318 14.126C16.2223 14.0005 15.9548 14.071 15.8323 14.2785C15.6878 14.522 15.4328 14.667 15.1508 14.667H11.6193C11.1828 14.667 10.8278 14.3115 10.8278 13.875C10.8278 13.4385 11.1828 13.0835 11.6193 13.0835H15.6648C16.2498 13.0835 16.7993 12.771 17.0983 12.2675C17.2218 12.06 17.1533 11.7915 16.9458 11.668C16.7373 11.545 16.4693 11.613 16.3463 11.8205C16.2018 12.0635 15.9468 12.2085 15.6648 12.2085H11.5088C11.0723 12.2085 10.7173 11.8535 10.7173 11.417C10.7173 10.9805 11.0718 10.625 11.5088 10.625Z",fill:"#107D57"})),gle=t=>x.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Trivia"},x.createElement("rect",{id:"Rectangle 328",x:.56009,y:2.8074,width:16.55,height:16.55,rx:2.14375,transform:"rotate(-7.80777 0.56009 2.8074)",stroke:"#006747",style:{stroke:"#006747",stroke:"color(display-p3 0.0000 0.4039 0.2784)",strokeOpacity:1},strokeWidth:1.4}),x.createElement("path",{id:"Union",fillRule:"evenodd",clipRule:"evenodd",d:"M9.62237 4.17188C10.5053 4.17188 11.2837 4.37793 11.8733 4.76716L11.8732 4.76718C12.5572 5.21938 12.9636 5.89049 13.0796 6.75908C13.2656 8.14856 12.2625 9.08727 11.5284 9.77271C11.2207 10.0589 10.956 10.3079 10.8501 10.5183C10.7752 10.6652 10.7366 10.8269 10.6992 10.9839C10.698 10.989 10.6967 10.994 10.6955 10.9991L10.6952 11.0004C10.5952 11.4278 10.4915 11.8706 9.72822 11.9721C9.67385 11.9793 9.6209 11.9821 9.56938 11.9821C9.28746 11.9821 9.03705 11.8777 8.84673 11.6788C8.67931 11.5056 8.56912 11.2738 8.53621 11.0234C8.40767 10.0551 9.08301 9.37328 9.68028 8.77031L9.68384 8.76671C10.2176 8.23011 10.7199 7.72213 10.6354 7.08534C10.5496 6.43425 10.1275 6.07652 9.44917 6.07652C9.35902 6.07652 9.26601 6.08367 9.1687 6.09655C8.22588 6.22243 8.06263 6.74456 7.88952 7.29821L7.88941 7.29854C7.73775 7.78506 7.58034 8.28732 6.85055 8.38463C6.79188 8.39178 6.73178 8.39608 6.6731 8.39608C6.1279 8.39608 5.72868 8.05407 5.65856 7.52462C5.56127 6.80772 5.86319 6.0307 6.48137 5.39534C7.0924 4.77002 7.94814 4.34216 8.8296 4.22482C9.09577 4.19048 9.36193 4.17188 9.62237 4.17188ZM9.88998 12.7224C9.94722 12.7152 10.0059 12.7109 10.0631 12.7109C10.7228 12.7109 11.2866 13.2032 11.3753 13.8586C11.4697 14.5812 10.9618 15.2466 10.2391 15.3439C10.1804 15.3511 10.1218 15.3554 10.0645 15.3554C9.40485 15.3554 8.84107 14.8617 8.75378 14.2077C8.65791 13.4851 9.16732 12.8197 9.88998 12.7224Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}))),yle=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{d:"M20.6087 5.32569H17.087V4.91284C17.087 4.68495 16.9117 4.5 16.6957 4.5H7.30435C7.08835 4.5 6.91305 4.68495 6.91305 4.91284V5.32569H3.3913C3.1753 5.32569 3 5.51064 3 5.73853V7.77273C3 10.5049 5.106 12.7269 7.69566 12.7269C7.71131 12.7269 7.72462 12.7194 7.73948 12.7178C8.44462 13.8572 9.5434 14.7093 10.8151 15.0446C10.7658 16.0767 10.5162 16.5012 9.76331 17.3186L9.55044 17.5481C8.47357 18.714 7.69566 18.693 7.69566 19.6326C7.69566 19.8605 7.87096 20.0455 8.08696 20.0455H15.9131C16.1291 20.0455 16.3044 19.8605 16.3044 19.6326C16.3044 18.693 15.5265 18.714 14.4496 17.5481L14.2375 17.3178C13.4846 16.5003 13.235 16.0759 13.1857 15.0437C14.4574 14.7093 15.5562 13.8564 16.2613 12.717C16.2754 12.7194 16.2887 12.7269 16.3044 12.7269C18.894 12.7269 21 10.5049 21 7.77273V5.73853C21 5.51064 20.8247 5.32569 20.6087 5.32569ZM3.78261 7.77273V6.15138H6.91305V9.83695C6.91305 10.5479 7.05392 11.2315 7.30435 11.8599C5.33296 11.6493 3.78261 9.90796 3.78261 7.77273ZM20.2174 7.77273C20.2174 9.90796 18.6671 11.6493 16.6957 11.8599C16.9461 11.2324 17.087 10.5487 17.087 9.83695V6.15138H20.2174V7.77273Z",fill:"#107D57",style:{fill:"#107D57",fill:"color(display-p3 0.0627 0.4902 0.3412)",fillOpacity:1}})),ble=t=>x.createElement("svg",{width:12,height:12,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Trophy"},x.createElement("path",{id:"Combined Shape",fillRule:"evenodd",clipRule:"evenodd",d:"M2.76916 3.50002C2.76916 4.49786 2.94705 5.38348 3.30282 6.15692C2.62493 6.01847 2.05883 5.74872 1.6045 5.34768C1.15017 4.94663 0.923008 4.55992 0.923008 4.18752V3.50002H2.76916ZM11.0768 3.50002V4.18752C11.0768 4.55992 10.8497 4.94663 10.3953 5.34768C9.941 5.74872 9.3749 6.01847 8.69701 6.15692C9.05278 5.38348 9.23066 4.49786 9.23066 3.50002H11.0768ZM12 4.1875V3.27083C12 3.07986 11.9327 2.91754 11.7981 2.78385C11.6635 2.65017 11.5 2.58333 11.3077 2.58333H9.23077V1.89583C9.23077 1.58073 9.11779 1.31098 8.89183 1.08659C8.66586 0.862195 8.39423 0.75 8.07692 0.75H3.92308C3.60577 0.75 3.33414 0.862195 3.10817 1.08659C2.88221 1.31098 2.76923 1.58073 2.76923 1.89583V2.58333H0.692308C0.499999 2.58333 0.336539 2.65017 0.201923 2.78385C0.067307 2.91754 0 3.07986 0 3.27083V4.1875C0 4.52648 0.0997586 4.86784 0.299279 5.21159C0.498799 5.55534 0.768027 5.86567 1.10697 6.14258C1.44592 6.41949 1.86178 6.65223 2.35457 6.84082C2.84736 7.02941 3.36538 7.13563 3.90865 7.15951C4.11058 7.41732 4.33894 7.6441 4.59375 7.83984C4.77644 8.00217 4.90264 8.17524 4.97236 8.35905C5.04207 8.54286 5.07692 8.75651 5.07692 9C5.07692 9.25781 5.00361 9.47504 4.85697 9.65169C4.71034 9.82834 4.47596 9.91667 4.15385 9.91667C3.79327 9.91667 3.47236 10.0253 3.19111 10.2425C2.90985 10.4597 2.76923 10.7331 2.76923 11.0625V11.5208C2.76923 11.5877 2.79087 11.6426 2.83413 11.6855C2.8774 11.7285 2.93269 11.75 3 11.75H9C9.06731 11.75 9.1226 11.7285 9.16586 11.6855C9.20913 11.6426 9.23077 11.5877 9.23077 11.5208V11.0625C9.23077 10.7331 9.09015 10.4597 8.80889 10.2425C8.52764 10.0253 8.20673 9.91667 7.84615 9.91667C7.52404 9.91667 7.28966 9.82834 7.14303 9.65169C6.99639 9.47504 6.92308 9.25781 6.92308 9C6.92308 8.75651 6.95793 8.54286 7.02764 8.35905C7.09736 8.17524 7.22356 8.00217 7.40625 7.83984C7.66106 7.6441 7.88942 7.41732 8.09135 7.15951C8.63462 7.13563 9.15264 7.02941 9.64543 6.84082C10.1382 6.65223 10.5541 6.41949 10.893 6.14258C11.232 5.86567 11.5012 5.55534 11.7007 5.21159C11.9002 4.86784 12 4.52648 12 4.1875ZM5.07033 5.38491L6.0383 4.87503L7.00627 5.38491L6.8214 4.30497L7.60451 3.54016L6.52228 3.3826L6.0383 2.40003L5.55431 3.3826L4.47209 3.54016L5.25519 4.30497L5.07033 5.38491Z",fill:"white"}))),vle=t=>x.createElement("svg",{width:40,height:39,viewBox:"0 0 40 39",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("rect",{x:.796875,width:38.4,height:38.4,rx:19.2,fill:"#FFB600"}),x.createElement("path",{d:"M31.2752 10.8509H26.5795V10.3005C26.5795 9.99661 26.3458 9.75 26.0578 9.75H13.536C13.248 9.75 13.0143 9.99661 13.0143 10.3005V10.8509H8.31861C8.03061 10.8509 7.79688 11.0975 7.79688 11.4014V14.1136C7.79688 17.7566 10.6049 20.7192 14.0578 20.7192C14.0786 20.7192 14.0964 20.7092 14.1162 20.707C15.0564 22.2263 16.5214 23.3625 18.2171 23.8094C18.1513 25.1856 17.8185 25.7516 16.8146 26.8415L16.5308 27.1475C15.095 28.702 14.0578 28.674 14.0578 29.9268C14.0578 30.2307 14.2915 30.4773 14.5795 30.4773H25.0143C25.3023 30.4773 25.536 30.2307 25.536 29.9268C25.536 28.674 24.4988 28.702 23.063 27.1475L22.7802 26.8404C21.7764 25.7505 21.4435 25.1845 21.3778 23.8083C23.0734 23.3625 24.5385 22.2252 25.4786 20.7059C25.4974 20.7092 25.5152 20.7192 25.536 20.7192C28.9889 20.7192 31.7969 17.7566 31.7969 14.1136V11.4014C31.7969 11.0975 31.5632 10.8509 31.2752 10.8509ZM8.84035 14.1136V11.9518H13.0143V16.8659C13.0143 17.8138 13.2021 18.7254 13.536 19.5632C10.9075 19.2825 8.84035 16.9606 8.84035 14.1136ZM30.7534 14.1136C30.7534 16.9606 28.6863 19.2825 26.0578 19.5632C26.3917 18.7265 26.5795 17.8149 26.5795 16.8659V11.9518H30.7534V14.1136Z",fill:"white"})),Ele=t=>x.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Trophy"},x.createElement("path",{id:"Combined Shape",fillRule:"evenodd",clipRule:"evenodd",d:"M3.69197 4.66662C3.69197 5.99705 3.92914 7.17787 4.4035 8.20912C3.49966 8.02451 2.74487 7.66486 2.1391 7.13014C1.53333 6.59542 1.23046 6.0798 1.23046 5.58328V4.66662H3.69197ZM14.7686 4.66662V5.58328C14.7686 6.0798 14.4658 6.59542 13.86 7.13014C13.2542 7.66486 12.4994 8.02451 11.5956 8.20912C12.0699 7.17787 12.3071 5.99705 12.3071 4.66662H14.7686ZM15.9998 5.58329V4.36108C15.9998 4.10645 15.9101 3.89002 15.7306 3.71178C15.5511 3.53354 15.3332 3.44442 15.0768 3.44442H12.3076V2.52776C12.3076 2.10763 12.1569 1.74797 11.8556 1.44878C11.5544 1.14959 11.1922 1 10.7691 1H5.23072C4.80764 1 4.44547 1.14959 4.14419 1.44878C3.84291 1.74797 3.69227 2.10763 3.69227 2.52776V3.44442H0.923068C0.666659 3.44442 0.448714 3.53354 0.269228 3.71178C0.0897418 3.89002 0 4.10645 0 4.36108V5.58329C0 6.03525 0.13301 6.49039 0.399034 6.94872C0.665059 7.40705 1.02403 7.82082 1.47595 8.19003C1.92787 8.55924 2.48234 8.86957 3.13939 9.12101C3.79644 9.37246 4.48713 9.51409 5.21149 9.54592C5.48071 9.88967 5.7852 10.192 6.12494 10.453C6.36853 10.6695 6.53679 10.9002 6.62974 11.1453C6.72269 11.3904 6.76916 11.6752 6.76916 11.9999C6.76916 12.3436 6.67141 12.6333 6.4759 12.8688C6.28038 13.1043 5.96789 13.2221 5.53841 13.2221C5.05764 13.2221 4.62976 13.3669 4.25476 13.6566C3.87977 13.9462 3.69227 14.3106 3.69227 14.7499V15.361C3.69227 15.4501 3.72112 15.5233 3.77881 15.5806C3.8365 15.6379 3.91022 15.6665 3.99996 15.6665H11.9999C12.0896 15.6665 12.1633 15.6379 12.221 15.5806C12.2787 15.5233 12.3076 15.4501 12.3076 15.361V14.7499C12.3076 14.3106 12.1201 13.9462 11.7451 13.6566C11.3701 13.3669 10.9422 13.2221 10.4614 13.2221C10.0319 13.2221 9.71945 13.1043 9.52394 12.8688C9.32843 12.6333 9.23068 12.3436 9.23068 11.9999C9.23068 11.6752 9.27715 11.3904 9.3701 11.1453C9.46305 10.9002 9.63131 10.6695 9.8749 10.453C10.2146 10.192 10.5191 9.88967 10.7884 9.54592C11.5127 9.51409 12.2034 9.37246 12.8604 9.12101C13.5175 8.86957 14.072 8.55924 14.5239 8.19003C14.9758 7.82082 15.3348 7.40705 15.6008 6.94872C15.8668 6.49039 15.9998 6.03525 15.9998 5.58329ZM6.76047 7.1798L8.05109 6.49997L9.3417 7.1798L9.09521 5.73989L10.1393 4.72015L8.69639 4.51007L8.05109 3.2L7.40578 4.51007L5.96283 4.72015L7.00696 5.73989L6.76047 7.1798Z",fill:"#F2C94C"}))),Ale=t=>x.createElement("svg",{width:14,height:14,viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.9234 2.06117C12.6527 2.79041 12.797 3.88306 12.3564 4.75616L12.3698 4.78833C13.2984 5.09432 13.9688 5.96888 13.9688 7C13.9688 8.03112 13.2984 8.90568 12.3698 9.21167L12.3565 9.24364C12.7971 10.1167 12.6527 11.2094 11.9235 11.9386C11.1944 12.6678 10.1019 12.8122 9.22883 12.3718L9.19604 12.3854C8.89006 13.314 8.0155 13.9844 6.98438 13.9844C5.95325 13.9844 5.07869 13.314 4.77271 12.3854L4.74027 12.3719C3.8673 12.8121 2.77506 12.6676 2.04603 11.9386C1.31703 11.2096 1.17255 10.1174 1.61259 9.24445L1.59899 9.21167C0.670333 8.90568 0 8.03112 0 7C0 5.96888 0.670334 5.09432 1.59899 4.78833L1.61267 4.75535C1.17263 3.8824 1.31711 2.79023 2.04611 2.06123C2.77519 1.33215 3.86754 1.18772 4.74054 1.62795L4.77271 1.61461C5.07869 0.685958 5.95325 0.015625 6.98438 0.015625C8.0155 0.015625 8.89006 0.685958 9.19604 1.61461L9.22857 1.6281C10.1016 1.18761 11.1942 1.33196 11.9234 2.06117ZM9.80606 4.98029C9.97643 4.7077 9.89356 4.34862 9.62098 4.17825C9.34839 4.00788 8.98931 4.09075 8.81894 4.36333L6.29655 8.39915L5.06781 7.17041C4.84051 6.94311 4.47199 6.94311 4.24469 7.17041C4.01739 7.39771 4.01739 7.76623 4.24469 7.99353L5.99079 9.73962C6.11621 9.86504 6.29197 9.92642 6.4682 9.90635C6.64444 9.88628 6.8019 9.78695 6.89591 9.63654L9.80606 4.98029Z",fill:"#0092E9"})),Sle=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.3616 7.95688C15.7313 7.77023 16.1824 7.91869 16.3691 8.28847C16.9328 9.40532 17.25 10.6674 17.25 12.0014C17.25 13.3354 16.9328 14.5975 16.3691 15.7144C16.1824 16.0841 15.7313 16.2326 15.3616 16.0459C14.9918 15.8593 14.8433 15.4082 15.03 15.0385C15.4903 14.1264 15.75 13.0953 15.75 12.0014C15.75 10.9075 15.4903 9.87641 15.03 8.96438C14.8433 8.5946 14.9918 8.14353 15.3616 7.95688Z",fill:"white",style:{fill:"white",fillOpacity:1}}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.507 5.93713C18.87 5.73776 19.326 5.87048 19.5254 6.23356C20.4656 7.94589 21 9.91236 21 12.0014C21 14.0905 20.4656 16.057 19.5254 17.7693C19.326 18.1324 18.87 18.2651 18.507 18.0657C18.1439 17.8663 18.0112 17.4104 18.2105 17.0473C19.0323 15.5506 19.5 13.8318 19.5 12.0014C19.5 10.1711 19.0323 8.45221 18.2105 6.95552C18.0112 6.59244 18.1439 6.13649 18.507 5.93713Z",fill:"white",style:{fill:"white",fillOpacity:1}}),x.createElement("path",{d:"M2.25 10.0514C2.25 8.97447 3.12304 8.10142 4.2 8.10142H6.91992C7.2891 8.10142 7.64086 7.94446 7.88744 7.66971L10.4825 4.77808C11.2789 3.8907 12.75 4.45403 12.75 5.64636V18.3565C12.75 19.5488 11.2789 20.1122 10.4825 19.2248L7.88744 16.3331C7.64086 16.0584 7.2891 15.9014 6.91992 15.9014H4.2C3.12304 15.9014 2.25 15.0284 2.25 13.9514V10.0514Z",fill:"white",style:{fill:"white",fillOpacity:1}})),Tle=t=>x.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Chevron Up"},x.createElement("path",{id:"Vector",d:"M4 9.6001L8 5.6001L12 9.6001",stroke:"#107D57",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}))),Cle=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"cross"},x.createElement("path",{id:"Vector",d:"M6 18L18 6M6 6L18 18",stroke:"#BA0C2F",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}))),Rle=t=>x.createElement("svg",{width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Friends"},x.createElement("path",{id:"Vector",d:"M4.19231 7.03125C2.66346 7.03125 1.42308 8.19973 1.42308 9.63994C1.42308 11.0802 2.66346 12.2486 4.19231 12.2486C5.72115 12.2486 6.96154 11.0802 6.96154 9.63994C6.96154 8.19973 5.72115 7.03125 4.19231 7.03125ZM4.19231 12.2486C2.16226 12.2486 0.5 13.8145 0.5 15.7269V17.629C0.5 17.629 1.42308 18.3356 4.19231 18.3356C6.96154 18.3356 7.88461 17.629 7.88461 17.629V15.7269C7.88461 13.8145 6.22236 12.2486 4.19231 12.2486ZM20.8077 7.03125C19.2788 7.03125 18.0385 8.19973 18.0385 9.63994C18.0385 11.0802 19.2788 12.2486 20.8077 12.2486C22.3365 12.2486 23.5769 11.0802 23.5769 9.63994C23.5769 8.19973 22.3365 7.03125 20.8077 7.03125ZM20.8077 12.2486C18.7776 12.2486 17.1154 13.8145 17.1154 15.7269V17.629C17.1154 17.629 18.0385 18.3356 20.8077 18.3356C23.5769 18.3356 24.5 17.629 24.5 17.629V15.7269C24.5 13.8145 22.8377 12.2486 20.8077 12.2486ZM12.5 10.5095C10.9712 10.5095 9.73077 11.678 9.73077 13.1182C9.73077 14.5584 10.9712 15.7269 12.5 15.7269C14.0288 15.7269 15.2692 14.5584 15.2692 13.1182C15.2692 11.678 14.0288 10.5095 12.5 10.5095ZM12.5 15.7269C10.47 15.7269 8.80769 17.2928 8.80769 19.2051V21.1073C8.80769 21.1073 9.73077 21.8138 12.5 21.8138C15.2692 21.8138 16.1923 21.1073 16.1923 21.1073V19.2051C16.1923 17.2928 14.53 15.7269 12.5 15.7269Z",fill:"white"}),x.createElement("path",{id:"Vector_2",d:"M8.58473 1.5C6.96392 1.5 5.64893 2.73876 5.64893 4.2656C5.64893 5.79245 6.96392 7.03121 8.58473 7.03121C10.2055 7.03121 11.5205 5.79245 11.5205 4.2656C11.5205 2.73876 10.2055 1.5 8.58473 1.5ZM8.58473 7.03121C8.29038 7.03121 7.99221 7.024 7.69787 7.11763C8.28656 7.85584 8.58473 8.78131 8.58473 9.79681C8.58473 10.1641 8.49298 10.5242 8.49298 10.8915C9.27663 9.78601 10.5419 9.05859 12.0098 8.87494C11.3256 7.76942 10.0526 7.03121 8.58473 7.03121ZM16.4135 1.5C14.7927 1.5 13.4777 2.73876 13.4777 4.2656C13.4777 5.79245 14.7927 7.03121 16.4135 7.03121C18.0343 7.03121 19.3493 5.79245 19.3493 4.2656C19.3493 2.73876 18.0343 1.5 16.4135 1.5ZM16.4135 7.03121C14.9456 7.03121 13.6727 7.76942 12.9884 8.87494C14.4563 9.05859 15.7216 9.78601 16.5053 10.8915C16.5053 10.5242 16.4135 10.1641 16.4135 9.79681C16.4135 8.78131 16.7117 7.85584 17.3004 7.11763C17.006 7.024 16.7079 7.03121 16.4135 7.03121Z",fill:"white",fillOpacity:.4}))),Ile=t=>x.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 200 200",...t},x.createElement("radialGradient",{id:"a9",cx:.66,fx:.66,cy:.3125,fy:.3125,gradientTransform:"scale(1.5)"},x.createElement("stop",{offset:0,stopColor:"#006944"}),x.createElement("stop",{offset:.3,stopColor:"#006944",stopOpacity:.9}),x.createElement("stop",{offset:.6,stopColor:"#006944",stopOpacity:.6}),x.createElement("stop",{offset:.8,stopColor:"#006944",stopOpacity:.3}),x.createElement("stop",{offset:1,stopColor:"#006944",stopOpacity:0})),x.createElement("circle",{"transform-origin":"center",fill:"none",stroke:"url(#a9)",strokeWidth:17,strokeLinecap:"round",strokeDasharray:"200 1000",strokeDashoffset:0,cx:100,cy:100,r:70},x.createElement("animateTransform",{type:"rotate",attributeName:"transform",calcMode:"spline",dur:1.8,values:"360;0",keyTimes:"0;1",keySplines:"0 0 1 1",repeatCount:"indefinite"})),x.createElement("circle",{"transform-origin":"center",fill:"none",opacity:.2,stroke:"#006944",strokeWidth:17,strokeLinecap:"round",cx:100,cy:100,r:70})),wle=t=>x.createElement("svg",{width:86,height:21,viewBox:"0 0 86 21",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{d:"M39.7699 17.519L41.7975 10.3564C42.019 9.57525 42.5964 8.94819 43.3515 8.66775L43.4069 8.43457H40.5888L35.8028 14.1928L33.9712 8.43457H31.393L31.3309 8.66775C31.7723 8.88885 32.0156 9.54952 32.0156 10.087V10.1204C32.0156 13.1879 29.7696 18.4607 26.6104 18.4607C25.3827 18.4607 24.7463 17.5842 24.7463 16.8536C24.7463 15.9687 25.4791 15.3393 26.2522 15.3393C26.6778 15.3393 26.8988 15.4303 27.0895 15.5088C27.2342 15.5684 27.3615 15.6208 27.5475 15.6208C27.8106 15.6208 28.0628 15.4845 28.1888 15.2511C28.3867 14.8845 28.2367 14.4368 27.8748 14.2614L27.6773 14.1661C25.8352 13.2706 23.6992 14.6266 23.6992 16.6919V16.7205C23.6992 18.2238 24.8674 19.4811 26.3546 19.5336C30.1873 19.6694 32.751 14.4452 33.1588 10.6214L33.4534 11.656L34.9632 16.2284H35.5351L40.2511 10.5434L38.2726 17.5264C38.0457 18.3275 37.4171 18.948 36.6191 19.1592L36.5637 19.3923H40.3559L40.4177 19.1592C39.8575 18.8252 39.5911 18.1508 39.7699 17.519Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M49.2539 12.3311C47.4839 12.3332 45.5808 12.5062 44.568 15.4136C44.443 15.7724 44.3314 16.1004 44.2299 16.3988C43.6403 18.1314 43.3898 18.8676 42.8227 18.8676C42.6317 18.8676 42.5473 18.6987 42.4545 18.5128C42.3409 18.2851 42.2145 18.0318 41.8638 18.0318C41.5768 18.0318 41.2768 18.2645 41.2552 18.6014C41.2175 19.1835 41.9922 19.5357 42.576 19.5357C44.3546 19.5357 45.0362 18.2246 45.2587 17.6138C45.2876 17.534 45.4446 17.1017 45.6299 16.5923H47.499L47.1824 17.7708C47.0152 18.3926 46.6713 18.9015 46.0895 19.1617L46.0394 19.3947H49.0969L49.1536 19.1617C48.7397 18.8167 48.5601 18.2634 48.6943 17.7482L49.8448 13.3292C49.9332 12.9901 50.1656 12.7105 50.4806 12.5642L50.5306 12.3311H49.2539ZM47.6519 16.0223H45.8369C46.043 15.4562 46.2403 14.9158 46.3069 14.7388C46.766 13.5136 47.6389 13.0178 48.4845 12.9485L48.4757 12.9558L47.6519 16.0223Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),x.createElement("path",{d:"M64.9086 12.2791C64.9086 12.4194 64.8148 12.6704 64.7165 12.8348C64.487 13.2187 64.077 13.5109 63.6767 13.6265L63.4976 13.678C63 13.8213 62.489 13.794 61.9847 13.6879L60.8352 17.7483C60.6891 18.2633 60.8565 18.8168 61.2623 19.1616L61.2001 19.395H58.0542L58.1098 19.1616C58.6973 18.9016 59.1413 18.3925 59.3228 17.7712L60.6376 13.2639C59.4267 12.8561 59.1564 12.8823 58.8962 13.2526C58.7642 13.4721 58.7796 13.7795 58.7931 14.0483C58.7962 14.1086 58.7991 14.1673 58.8003 14.2223C58.8062 14.5193 58.6037 14.7795 58.316 14.842C57.9611 14.9189 57.6305 14.6359 57.6492 14.2698V14.2688C57.6508 14.2386 57.6651 14.1553 57.6846 14.0529C57.8161 13.356 58.2541 12.7534 58.8816 12.4351L58.892 12.4299L58.8972 12.4272C59.5396 12.1051 60.5191 12.3038 61.3075 12.5205C61.3166 12.5234 61.3246 12.5252 61.3335 12.5276C61.5009 12.574 61.6597 12.6208 61.8043 12.6636V12.6662C63.3842 13.1244 63.7271 13.1473 63.9416 12.8802C64.0349 12.7644 64.0788 12.527 64.0755 12.3059C64.0716 12.0932 64.2202 11.9086 64.4259 11.8637C64.6827 11.8078 64.9221 12.0139 64.9086 12.2791Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),x.createElement("path",{d:"M65.9742 12.3311L65.9123 12.5645C66.302 12.8363 66.4774 13.327 66.3516 13.7863L65.1826 17.7661C65.0012 18.3879 64.5572 18.8968 63.9697 19.1568L63.9141 19.3899H69.5602L70.0661 17.524H69.8285L69.7432 17.7028C69.4261 18.3695 68.758 18.7939 68.0255 18.7939H66.4015L67.2661 15.6704L67.956 15.6696C68.4214 15.6693 68.7712 16.0981 68.6821 16.5592H68.9197L69.4872 14.448H69.2496C69.112 14.8385 68.7468 15.0995 68.3361 15.0998L67.4239 15.1008L68.0239 12.9329L69.745 12.9316C70.3068 12.9311 70.7274 13.4515 70.6151 14.0077H70.8527L71.3034 12.3311H65.9742Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M72.9481 12.334H76.7502C77.7432 12.334 78.4622 13.2914 78.195 14.2577C77.9634 15.0938 77.2093 15.6717 76.3501 15.6723L75.871 15.6725C76.1731 15.6725 76.4653 15.8923 76.5235 16.1297C76.6323 16.575 76.8508 17.403 76.9765 17.8796L76.9891 17.9274C77.1191 18.4223 77.4099 18.7968 77.8116 19.0376L78.0151 19.1594L77.9597 19.3929H76.5378C75.969 19.3929 75.7192 19.0153 75.5289 18.3677C75.3836 17.8722 75.2017 16.4314 75.1884 16.3138C75.1484 15.9493 74.8437 15.6736 74.4808 15.6733H74.2406L73.6643 17.7456C73.5187 18.2606 73.6859 18.8141 74.0917 19.1589L74.0295 19.3926H70.8867L70.9421 19.1589C71.5298 18.8989 71.9736 18.39 72.155 17.7682L73.3456 13.7013C73.4277 13.2683 73.251 12.8216 72.886 12.5672L72.9481 12.334ZM75.395 15.1028C76.0496 15.1028 76.6259 14.6685 76.8136 14.0354C76.9763 13.4866 76.5692 12.9344 76.0015 12.9346L75.0017 12.9352L74.3984 15.1036L75.395 15.1028Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),x.createElement("path",{d:"M55.8673 12.6932C55.7651 12.6932 55.5452 12.6228 55.2078 12.481C54.8701 12.3392 54.529 12.2686 54.1851 12.2686C53.4713 12.2686 52.8755 12.502 52.3883 13.0009C51.9828 13.4161 51.8027 13.8769 51.8027 14.2758C51.8027 14.7004 52.0486 15.1996 52.5412 15.6032C52.9175 15.9119 53.3062 16.2101 53.6975 16.5103C53.7898 16.5812 53.8823 16.6521 53.9748 16.7233C54.4843 17.1353 54.7393 17.5153 54.7393 17.8244C54.7393 18.5029 54.3023 18.8679 53.3977 18.8679C52.4785 18.8679 51.8429 18.1875 51.6391 16.9132H51.3906L50.668 19.3933H50.897C51.1957 19.182 51.4081 19.0459 51.8411 19.0459C52.0058 19.0459 52.1751 19.1238 52.3786 19.2175C52.6859 19.3588 53.0713 19.5362 53.6377 19.5362C54.3894 19.5362 54.9845 19.3786 55.4942 18.8634C55.9276 18.4134 56.1441 17.7832 56.1441 17.268C56.1441 16.7916 55.8485 16.2362 55.332 15.8361C55.0681 15.6317 54.793 15.4404 54.5168 15.2482C54.3292 15.1177 54.1411 14.9869 53.9556 14.8514C53.4585 14.478 53.21 14.161 53.21 13.8134C53.21 13.6198 53.3057 13.4271 53.497 13.2341C53.7388 12.9896 54.0627 12.9355 54.496 12.9355C55.3655 12.9355 55.9741 13.425 56.0253 14.4546H56.2546L56.861 12.2686H56.6318C56.3895 12.5519 56.1347 12.6932 55.8673 12.6932Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),x.createElement("path",{d:"M84.2951 14.4543C84.2441 13.4247 83.6353 12.9353 82.7658 12.9353C82.3325 12.9353 82.0086 12.9894 81.7665 13.2338C81.5755 13.4268 81.4798 13.6201 81.4798 13.8128C81.4798 14.1605 81.7283 14.478 82.2256 14.8511C82.4108 14.9864 82.5985 15.117 82.7858 15.2473C83.0623 15.4397 83.3377 15.6313 83.6021 15.8361C84.1183 16.2363 84.4139 16.7916 84.4139 17.268C84.4139 17.7829 84.1974 18.4128 83.764 18.8634C83.2542 19.3781 82.6592 19.5362 81.9074 19.5362C81.341 19.5362 80.9556 19.3588 80.6483 19.2175C80.4448 19.1238 80.2755 19.0459 80.1107 19.0459C79.6778 19.0459 79.4655 19.182 79.167 19.3933H78.9375L79.6602 16.9132H79.9087C80.1127 18.1873 80.7483 18.8676 81.6675 18.8676C82.5721 18.8676 83.0091 18.5026 83.0091 17.8241C83.0091 17.5153 82.7538 17.1354 82.2446 16.7231C82.15 16.6502 82.0554 16.5777 81.961 16.5052C81.5718 16.2067 81.1852 15.9102 80.811 15.6032C80.3184 15.199 80.0724 14.7006 80.0724 14.2755C80.0724 13.8769 80.2526 13.4158 80.6581 13.0006C81.1453 12.502 81.7411 12.2686 82.4546 12.2686C82.7988 12.2686 83.1396 12.3392 83.4773 12.4807C83.815 12.6223 84.0349 12.6929 84.1368 12.6929C84.4048 12.6929 84.6593 12.5514 84.9013 12.2686H85.1308L84.5246 14.4543H84.2951Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.4366 7.2801C21.4366 7.10548 21.2957 6.96289 21.1226 6.96289H20.88C20.6903 6.96289 20.5153 7.059 20.4126 7.21996L19.6278 8.4452C19.4953 8.65133 19.2714 8.77422 19.0281 8.77422H18.4981C18.3442 8.77422 18.203 8.8593 18.1295 8.99611C17.9478 9.33563 17.6228 9.56329 17.2542 9.62264V13.8311C17.848 13.896 18.3023 14.2547 18.3023 14.6885C18.3023 15.1685 17.7471 15.5576 17.0616 15.5576C16.3766 15.5576 15.8209 15.1685 15.8209 14.6885C15.8209 14.2547 16.2755 13.896 16.8687 13.8311V9.62264C16.5001 9.56277 16.1754 9.33511 15.9942 8.99637C15.9209 8.85956 15.78 8.77474 15.6261 8.77474H15.2708C15.1052 8.77474 14.9552 8.87295 14.8876 9.02578L14.5923 9.69643C14.4982 9.90965 14.2877 10.0478 14.0563 10.0478C13.8249 10.0478 13.6144 9.90965 13.5208 9.69564L13.225 9.02604C13.1579 8.87348 13.0074 8.77474 12.8423 8.77474H2.93715C2.87113 9.04127 2.63171 9.23926 2.34784 9.23926H2.06112V9.59927C2.06112 10.1174 1.96104 10.622 1.76425 11.0994L1.49962 11.7425C0.628527 13.8561 1.48429 16.2538 3.48955 17.3207L4.81218 18.0241L5.96298 18.0325C6.28922 18.0349 6.61208 18.1213 6.89673 18.282L7.49982 18.6223H8.31372C8.66648 18.6223 9.01273 18.7195 9.31506 18.9027L9.67301 19.121C10.0208 19.3318 10.4136 19.4542 10.8178 19.4781V19.1055C10.8178 18.3833 11.2405 17.7292 11.8948 17.4393L12.919 16.9845C13.1597 16.8777 13.4309 16.8609 13.6833 16.9368L14.1694 17.0833C14.3222 17.1295 14.4829 17.1295 14.6347 17.0841L15.7876 16.7388C16.0007 16.6747 16.2251 16.6768 16.4364 16.7437L16.8198 16.8656C17.3486 17.0334 17.7037 17.5223 17.7037 18.0827V19.0566C17.7037 19.2922 17.8934 19.4841 18.1271 19.4841C18.3143 19.4841 18.4815 19.357 18.5337 19.1756C18.6977 18.6039 18.7726 18.0126 18.7554 17.4175L18.7539 17.3144C18.7411 16.8656 18.9187 16.431 19.24 16.1214L19.7191 15.6614C19.9853 15.4048 20.1381 15.0451 20.1381 14.6732V12.3819C20.1381 11.8575 20.2946 11.3526 20.5907 10.9214L20.8179 10.5897V10.1342C20.8179 9.61266 20.9726 9.11033 21.265 8.68126L21.63 8.14506C21.507 8.01534 21.4366 7.84203 21.4366 7.65848V7.2801Z",fill:"#FCE300",style:{fill:"#FCE300",fill:"color(display-p3 0.9882 0.8902 0.0000)",fillOpacity:1}}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.16479 19.1581C8.95111 19.0284 8.71091 18.953 8.46344 18.9305V19.8514C8.7642 19.8745 9.05691 19.9643 9.3166 20.1218C9.31738 20.1221 9.73122 20.3763 9.87082 20.4587C10.064 20.573 10.2987 20.6817 10.7094 20.7029C10.7383 20.7042 10.7648 20.694 10.7856 20.6743C10.8072 20.6533 10.8191 20.6255 10.8191 20.5953V19.7736C10.3619 19.7492 9.91605 19.6148 9.523 19.3758L9.16479 19.1581Z",fill:"white",style:{fill:"white",fillOpacity:1}}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.7527 18.5415C6.51744 18.4083 6.25099 18.3369 5.98116 18.3314V19.2523C6.30116 19.2578 6.61752 19.3429 6.89645 19.5002L7.40934 19.7898V18.9065C7.40284 18.9036 7.39582 18.9044 7.38932 18.9009L6.7527 18.5415Z",fill:"white",style:{fill:"white",fillOpacity:1}}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.5993 17.2219C13.5226 17.1988 13.4436 17.1904 13.3651 17.1904V18.1123C13.4722 18.1123 13.5796 18.1239 13.6838 18.1551L14.1699 18.3022C14.2323 18.3205 14.2962 18.33 14.3602 18.3334V17.4125C14.2676 17.4086 14.1754 17.3954 14.0854 17.3687L13.5993 17.2219Z",fill:"white",style:{fill:"white",fillOpacity:1}}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.731 17.1493L16.3481 17.0275C16.2623 17.0002 16.1729 16.9891 16.0843 16.9915V17.9121C16.1987 17.9098 16.313 17.9245 16.424 17.9589L16.8896 18.0912C17.1282 18.1598 17.3151 18.3362 17.409 18.5576V18.0823C17.409 17.6532 17.1366 17.2782 16.731 17.1493Z",fill:"white",style:{fill:"white",fillOpacity:1}}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1277 19.7819C18.1092 19.7819 18.0923 19.7777 18.0739 19.7764V20.6957C18.0978 20.6983 18.1209 20.7028 18.1454 20.7028C18.4139 20.7028 18.6491 20.5292 18.7305 20.2708C18.7388 20.2448 18.7443 20.2175 18.7521 20.1915V19.409C18.627 19.6338 18.3902 19.7819 18.1277 19.7819Z",fill:"white",style:{fill:"white",fillOpacity:1}}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.6875 16.096V16.8948C2.04935 17.5315 2.57913 18.0549 3.23993 18.4062L3.48402 18.5359V17.6534L3.35275 17.5838C2.66232 17.2167 2.10186 16.7005 1.6875 16.096Z",fill:"white",style:{fill:"white",fillOpacity:1}}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.06076 17.9608V18.8434L4.70907 19.1879V18.3048C4.70829 18.3048 4.70725 18.3048 4.70647 18.3043L4.06076 17.9608Z",fill:"white",style:{fill:"white",fillOpacity:1}}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.8159 14.8958C17.8159 14.6949 17.577 14.5274 17.2541 14.4785V15.313C17.577 15.2637 17.8159 15.0966 17.8159 14.8958Z",fill:"white",style:{fill:"white",fillOpacity:1}}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16.3086 14.8958C16.3086 15.0966 16.5475 15.2637 16.8704 15.313V14.4785C16.5475 14.5274 16.3086 14.6949 16.3086 14.8958Z",fill:"white",style:{fill:"white",fillOpacity:1}}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15.2923 1.62988C15.0123 1.54322 14.7326 1.69736 14.4526 1.85623C14.3536 1.91268 14.2831 2.00879 14.259 2.12092L13.8189 4.19615C13.8025 4.27282 13.8708 4.34214 13.9468 4.32481C14.4095 4.2182 14.8496 3.80962 15.3123 3.95246C15.8309 4.11317 16.3492 3.44987 16.8678 3.45775V1.06348C16.3464 1.06584 15.8111 1.79006 15.2923 1.62988",fill:"#BA0C2F",style:{fill:"#BA0C2F",fill:"color(display-p3 0.7294 0.0471 0.1843)",fillOpacity:1}}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.2656 8.68074C20.9732 9.11033 20.8185 9.6124 20.8185 10.1336V10.5895L20.5913 10.9211C20.2949 11.352 20.1384 11.857 20.1384 12.3816V14.6727C20.1384 15.0445 19.9859 15.4046 19.7197 15.6608L19.2406 16.1214C18.919 16.4305 18.742 16.8651 18.7545 17.3141L18.7563 17.417C18.7732 18.012 18.6983 18.6037 18.5343 19.1756C18.482 19.3568 18.3149 19.4836 18.1277 19.4836C17.894 19.4836 17.7043 19.2916 17.7043 19.0561V18.0822C17.7043 17.5221 17.3492 17.0334 16.8204 16.8651L16.437 16.7435C16.2257 16.6763 16.0013 16.6747 15.7882 16.7382L14.6353 17.0835C14.4835 17.129 14.3226 17.129 14.17 17.0833L13.6839 16.9365C13.4317 16.8603 13.1603 16.8771 12.9196 16.9843L11.8954 17.4388C11.2411 17.729 10.8184 18.3828 10.8184 19.1049V19.4778C10.4142 19.4542 10.0214 19.3315 9.67385 19.1204L9.31564 18.9027C9.01332 18.7192 8.66706 18.622 8.31431 18.622H7.5004L6.89731 18.2817C6.61241 18.1208 6.28981 18.0344 5.96357 18.032L4.81276 18.0239L3.49013 17.3204C1.48461 16.2538 0.62911 13.8558 1.50021 11.7422L1.76484 11.0994C1.96162 10.6218 2.0617 10.1168 2.0617 9.59901V9.239H2.34843C2.63229 9.239 2.87171 9.04075 2.93774 8.77422H12.8429C13.008 8.77422 13.1585 8.87295 13.2256 9.02578L13.5211 9.69564C13.615 9.90912 13.8255 10.0475 14.0569 10.0475C14.2882 10.0475 14.4988 9.90939 14.5929 9.6959L14.8885 9.02525C14.9558 8.87269 15.1058 8.77422 15.2714 8.77422H15.6267C15.7806 8.77422 15.9215 8.85956 15.9948 8.99611C16.176 9.33484 16.5007 9.56251 16.8693 9.62238V13.8309C16.2761 13.896 15.8214 14.2544 15.8214 14.6882C15.8214 15.1685 16.3772 15.5574 17.0622 15.5574C17.7477 15.5574 18.3029 15.1685 18.3029 14.6882C18.3029 14.2544 17.8485 13.896 17.2548 13.8309V9.62264C17.6234 9.56277 17.9484 9.33511 18.1301 8.99611C18.2036 8.8593 18.3445 8.77396 18.4987 8.77396H19.029C19.272 8.77396 19.4958 8.65107 19.6282 8.44494L20.4132 7.21944C20.5159 7.05847 20.6908 6.96263 20.8806 6.96263H21.1234C21.2963 6.96263 21.4372 7.10495 21.4372 7.27957V7.65796C21.4372 7.84151 21.5076 8.01508 21.6306 8.14454L21.2656 8.68074ZM18.7515 20.1908C18.7437 20.2171 18.7382 20.2441 18.7299 20.2704C18.6486 20.5291 18.4133 20.7026 18.1448 20.7026C18.1203 20.7026 18.0972 20.6979 18.0733 20.6953V19.7757C18.0912 19.7775 18.1086 19.7812 18.1271 19.7812C18.3891 19.7812 18.6265 19.6331 18.7515 19.4086V20.1908ZM17.4081 18.5572C17.3143 18.3358 17.1279 18.1591 16.8893 18.0908L16.4235 17.9585C16.3125 17.9241 16.1981 17.9094 16.0837 17.9117V16.9911C16.1726 16.9887 16.2615 16.9998 16.3473 17.0273L16.7305 17.1489C17.136 17.2778 17.4081 17.6528 17.4081 18.0819V18.5572ZM14.3601 18.3327C14.2957 18.3296 14.2317 18.3204 14.1693 18.3015L13.6832 18.155C13.5795 18.1232 13.4719 18.1119 13.3645 18.1119V17.19C13.4435 17.19 13.5226 17.1986 13.5987 17.2212L14.0848 17.3683C14.1748 17.3953 14.2673 17.4084 14.3601 17.4121V18.3327ZM10.8185 20.5951C10.8185 20.6251 10.8061 20.6529 10.7847 20.6739C10.764 20.6939 10.7374 20.7038 10.7086 20.7028C10.2979 20.6815 10.0631 20.5726 9.86998 20.4583C9.73039 20.3756 9.31628 20.122 9.31576 20.1217C9.05607 19.9636 8.76311 19.8743 8.46286 19.851V18.9301C8.71008 18.9526 8.95001 19.028 9.16395 19.1577L9.5219 19.3754C9.91521 19.6144 10.3608 19.7488 10.8185 19.7732V20.5951ZM7.40902 19.7897L6.89588 19.4998C6.61669 19.3422 6.30059 19.2574 5.98059 19.2519V18.331C6.25016 18.3362 6.51661 18.4082 6.75238 18.5411L7.38901 18.9008C7.39498 18.9042 7.40252 18.9034 7.40902 18.9058V19.7897ZM4.70824 19.1875L4.06018 18.8427V17.9604L4.7059 18.3039C4.70668 18.3042 4.70772 18.3039 4.70824 18.3042V19.1875ZM3.48345 18.5355L3.23935 18.4058C2.57856 18.0545 2.04904 17.5309 1.68693 16.8944V16.0956C2.10129 16.7001 2.66174 17.2163 3.35191 17.5831L3.48345 17.653V18.5355ZM17.2536 14.4781C17.5762 14.527 17.8153 14.6945 17.8153 14.8954C17.8153 15.0962 17.5762 15.2638 17.2536 15.3129V14.4781ZM16.8698 15.3129C16.5474 15.2638 16.308 15.0962 16.308 14.8954C16.308 14.6945 16.5474 14.527 16.8698 14.4781V15.3129ZM21.9089 7.99494C21.7979 7.91906 21.7314 7.79328 21.7314 7.65778V7.27939C21.7314 6.94065 21.4582 6.66494 21.1229 6.66494H20.8801C20.59 6.66494 20.3227 6.81172 20.1649 7.05777L19.3804 8.28274C19.3027 8.40405 19.1709 8.47627 19.0284 8.47627H18.4981C18.2361 8.47627 17.9954 8.62095 17.8698 8.8557C17.7401 9.09702 17.5137 9.26271 17.2543 9.31891V0.800046C17.2543 0.692385 17.1682 0.605469 17.0616 0.605469C16.9553 0.605469 16.8688 0.692385 16.8688 0.800046V9.31891C16.6093 9.26245 16.3832 9.09676 16.2537 8.85465C16.1292 8.62148 15.8887 8.47627 15.6262 8.47627H15.2708C14.9893 8.47627 14.733 8.64432 14.6189 8.90402L14.323 9.57467C14.2763 9.68049 14.1715 9.74929 14.0563 9.74929C13.9409 9.74929 13.8364 9.68049 13.7899 9.57441L13.4943 8.90455C13.3799 8.64432 13.1239 8.47627 12.8424 8.47627H2.80773C2.72611 8.47627 2.66034 8.54296 2.66034 8.62515C2.66034 8.79951 2.51996 8.94078 2.34788 8.94078H1.91376C1.83239 8.94078 1.76637 9.00748 1.76637 9.08967V9.59883C1.76637 10.077 1.67434 10.5434 1.49186 10.9848L1.22775 11.6273C0.981833 12.2234 0.866155 12.8405 0.867194 13.4463V14.9262C0.867194 15.3261 0.924384 15.7287 1.03954 16.1247C1.36162 17.2291 2.0939 18.1329 3.10251 18.6694L4.70667 19.5223C4.72747 19.5336 4.75113 19.5396 4.77452 19.5399L5.96094 19.5488C6.23779 19.5506 6.51178 19.6239 6.75327 19.7599L7.38989 20.1194C7.41199 20.1317 7.43642 20.1383 7.46164 20.1383H8.31376C8.61296 20.1383 8.90697 20.2208 9.16276 20.3762C9.16276 20.3762 9.57998 20.6314 9.72009 20.7149C9.94521 20.8481 10.2189 20.9749 10.6926 20.9996C10.8002 21.0046 10.9065 20.9662 10.9871 20.8896C11.0666 20.8129 11.1127 20.7058 11.1127 20.5949V20.0178C11.1127 19.5997 11.357 19.2208 11.7365 19.0525L13.0376 18.4751C13.2146 18.3971 13.4137 18.384 13.5988 18.4401L14.0849 18.5869C14.2921 18.6489 14.5113 18.6494 14.719 18.5877L15.8716 18.2419C16.0242 18.1962 16.1864 18.1965 16.3416 18.244L16.81 18.3774C17.0278 18.4396 17.1804 18.6434 17.1804 18.8724V20.0259C17.1804 20.5634 17.613 21.0004 18.1449 21.0004C18.5426 21.0004 18.8904 20.7428 19.0105 20.3605C19.2281 19.6698 19.338 18.9517 19.338 18.2264V17.7359C19.338 17.3874 19.4818 17.0503 19.7326 16.8111L20.212 16.3534C20.5351 16.0425 20.7207 15.6058 20.7207 15.1549V12.4203C20.7207 11.9965 20.847 11.5879 21.0862 11.2392C21.1034 11.2145 21.113 11.1849 21.113 11.1547V10.51C21.113 10.0891 21.2375 9.68338 21.4738 9.33624L21.9479 8.6396C21.9651 8.61517 21.9742 8.58576 21.9742 8.5553V8.11836C21.9742 8.03538 21.9266 8.00676 21.9089 7.99494Z",fill:"#006747",style:{fill:"#006747",fill:"color(display-p3 0.0000 0.4039 0.2784)",fillOpacity:1}})),_le=t=>x.createElement("svg",{width:154,height:37,viewBox:"0 0 154 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{d:"M70.9776 30.8796L74.668 18.1381C75.0696 16.7473 76.1186 15.6318 77.4936 15.1371L77.5928 14.7217H72.466L63.7623 24.9662L60.431 14.7217H55.7389L55.6255 15.1371C56.4288 15.5291 56.8683 16.7052 56.8683 17.662V17.7227C56.8683 23.1787 52.781 32.5598 47.0352 32.5598C44.8002 32.5598 43.6425 31.0009 43.6425 29.7035C43.6425 28.1306 44.975 27.0105 46.3831 27.0105C47.744 27.0105 47.9519 27.5099 48.741 27.5099C49.2182 27.5099 49.6766 27.2672 49.9081 26.8518C50.2672 26.1984 49.9931 25.4049 49.3363 25.0922L48.9772 24.9242C45.6271 23.3327 41.7383 25.7457 41.7383 29.4188V29.4701C41.7383 32.1444 43.8646 34.38 46.5674 34.4733C53.5417 34.716 58.2055 25.4236 58.9473 18.6188L59.486 20.4577L62.2313 28.5927H63.2709L71.8518 18.4741L68.2512 30.8936C67.8401 32.3171 66.6966 33.4232 65.2412 33.7966L65.142 34.212H72.0408L72.1542 33.7966C71.1383 33.2039 70.6516 32.0044 70.9776 30.8796Z",fill:"white"}),x.createElement("path",{d:"M88.2952 21.6521H88.2385C85.016 21.6568 81.5571 21.9648 79.7143 27.1361C78.1692 31.4813 77.7487 33.2828 76.539 33.2828C75.7641 33.2828 75.9531 31.794 74.7954 31.794C74.2709 31.794 73.7275 32.2094 73.6897 32.8068C73.6236 33.8429 75.0317 34.4683 76.0949 34.4683C79.3316 34.4683 80.5696 32.1347 80.9759 31.0472C81.0279 30.9072 81.3162 30.1371 81.6517 29.2317H85.0538L84.4773 31.3273C84.1749 32.4334 83.5464 33.3388 82.488 33.8009L82.3982 34.2163H87.9597L88.0637 33.8009C87.3124 33.1848 86.9816 32.2 87.2273 31.2853L89.3206 23.4257C89.4812 22.8236 89.9018 22.3242 90.4783 22.0628L90.568 21.6475H88.7536H88.2952V21.6521ZM85.3231 28.2189H82.0202C82.3935 27.2108 82.7526 26.2493 82.8755 25.9366C83.7118 23.757 85.2995 22.8749 86.8399 22.7536L86.8257 22.7676L85.3231 28.2189Z",fill:"white"}),x.createElement("path",{d:"M116.358 22.5486C116.538 22.2545 116.708 21.8112 116.708 21.5591C116.732 21.0877 116.297 20.7237 115.829 20.8217C115.456 20.9011 115.187 21.2324 115.191 21.6058C115.196 21.9978 115.12 22.4226 114.95 22.6279C114.558 23.104 113.934 23.062 111.062 22.2452V22.2405C110.797 22.1659 110.509 22.0819 110.206 21.9978C110.187 21.9932 110.173 21.9885 110.159 21.9838C108.723 21.6011 106.941 21.2464 105.774 21.8205C105.765 21.8252 105.755 21.8298 105.746 21.8345C104.602 22.3992 103.808 23.4727 103.567 24.7142C103.53 24.8962 103.506 25.0455 103.501 25.0969C103.468 25.7456 104.068 26.2544 104.711 26.1143C105.235 26.0023 105.604 25.5403 105.59 25.0129C105.58 24.4808 105.472 23.7667 105.765 23.286C106.237 22.6279 106.729 22.5812 108.935 23.3047L106.544 31.323C106.214 32.4291 105.406 33.3345 104.338 33.7966L104.238 34.212H109.961L110.074 33.7966C109.337 33.1852 109.03 32.1957 109.299 31.2809L111.392 24.0561C112.309 24.2428 113.24 24.2941 114.147 24.0374L114.473 23.9441C115.196 23.7527 115.943 23.2347 116.358 22.5486Z",fill:"white"}),x.createElement("path",{d:"M118.649 21.6523L118.536 22.0677C119.245 22.5531 119.561 23.4259 119.335 24.2427L117.208 31.3228C116.877 32.429 116.069 33.3344 115.002 33.7964L114.902 34.2118H117.931H118.21H125.18L126.101 30.8934H125.666L125.51 31.2108C124.934 32.3963 123.72 33.1524 122.382 33.1524H119.429L121.003 27.5937H122.259C123.105 27.5937 123.743 28.3545 123.582 29.1759H124.012L125.043 25.4188H124.613C124.362 26.1142 123.696 26.5763 122.949 26.5809H121.291L122.382 22.7258L125.515 22.7211C126.536 22.7211 127.301 23.6452 127.098 24.6347H127.528L128.35 21.6523H118.649Z",fill:"white"}),x.createElement("path",{d:"M138.251 21.6582H131.333L131.22 22.0736C131.881 22.5263 132.207 23.3197 132.056 24.0898L129.892 31.324C129.561 32.4301 128.753 33.3356 127.685 33.7976L127.586 34.213H133.303L133.417 33.7976C132.68 33.1862 132.373 32.2014 132.637 31.282L133.686 27.5949H134.126C134.787 27.5949 135.34 28.085 135.416 28.7337C135.439 28.9437 135.77 31.506 136.035 32.3881C136.379 33.5409 136.833 34.213 137.868 34.213H140.453L140.552 33.7976L140.183 33.5829C139.451 33.1536 138.922 32.4908 138.685 31.6087C138.463 30.7779 138.043 29.2284 137.84 28.4117C137.736 27.9916 137.202 27.5996 136.654 27.5996H137.523C139.087 27.5996 140.457 26.5681 140.878 25.0839C141.365 23.3617 140.056 21.6582 138.251 21.6582ZM138.369 24.6872C138.029 25.812 136.98 26.5868 135.789 26.5868H133.974L135.071 22.7317H136.89C137.925 22.727 138.662 23.7118 138.369 24.6872Z",fill:"white"}),x.createElement("path",{d:"M100.265 22.2961C100.081 22.2961 99.6794 22.1701 99.0651 21.9181C98.4508 21.6661 97.8318 21.54 97.2034 21.54C95.904 21.54 94.8219 21.9554 93.9336 22.8422C93.1964 23.5796 92.8704 24.401 92.8704 25.1105C92.8704 25.8665 93.3193 26.7533 94.2124 27.4721C95.0582 28.1488 95.937 28.8022 96.8206 29.465C97.7468 30.1977 98.2098 30.8745 98.2098 31.4252C98.2098 32.634 97.416 33.2828 95.7669 33.2828C94.0942 33.2828 92.9366 32.074 92.568 29.8057H92.1144L90.8008 34.2162H91.226C91.7694 33.8382 92.1569 33.6001 92.946 33.6001C93.6973 33.6001 94.5006 34.4729 96.2158 34.4729C97.5814 34.4729 98.6682 34.1929 99.5943 33.2781C100.383 32.4753 100.776 31.3552 100.776 30.4404C100.776 29.591 100.237 28.6062 99.2966 27.8921C98.4886 27.2807 97.6286 26.7347 96.7923 26.1419C95.8898 25.4792 95.4362 24.9144 95.4362 24.2937C95.4362 23.9483 95.611 23.6076 95.9559 23.2622C96.3954 22.8282 96.986 22.7302 97.7751 22.7302C99.3581 22.7302 100.464 23.5983 100.558 25.4325H100.974L102.08 21.5447H101.664C101.215 22.0441 100.752 22.2961 100.265 22.2961Z",fill:"white"}),x.createElement("path",{d:"M149.201 22.7304C150.784 22.7304 151.89 23.6032 151.984 25.4327H152.4L153.501 21.5449H153.085C152.646 22.049 152.182 22.301 151.696 22.301C151.512 22.301 151.11 22.175 150.496 21.923C149.881 21.6709 149.262 21.5449 148.634 21.5449C147.334 21.5449 146.252 21.9603 145.364 22.8471C144.627 23.5845 144.296 24.4059 144.296 25.1153C144.296 25.8714 144.745 26.7582 145.638 27.477C146.484 28.1537 147.363 28.8071 148.246 29.4699C149.173 30.2026 149.636 30.8794 149.636 31.4301C149.636 32.6389 148.842 33.2876 147.193 33.2876C145.52 33.2876 144.362 32.0788 143.994 29.8106H143.54L142.227 34.2211H142.642C143.186 33.843 143.573 33.605 144.358 33.605C145.109 33.605 145.912 34.4778 147.627 34.4778C148.993 34.4778 150.075 34.1978 151.006 33.283C151.795 32.4802 152.187 31.3601 152.187 30.4453C152.187 29.6005 151.649 28.6111 150.708 27.897C149.9 27.2856 149.04 26.7395 148.204 26.1468C147.301 25.4841 146.848 24.9193 146.848 24.2986C146.848 23.9532 147.023 23.6125 147.368 23.2671C147.826 22.8237 148.412 22.7304 149.201 22.7304Z",fill:"white"}),x.createElement("path",{d:"M26.5433 2.60035C26.0377 2.44633 25.5321 2.72169 25.0265 3.00173C24.8469 3.09974 24.7194 3.27243 24.6768 3.46845L23.883 7.13222C23.8547 7.26757 23.9775 7.38891 24.1145 7.36091C24.9509 7.17422 25.7447 6.4508 26.5811 6.70283C27.5167 6.98753 28.4522 5.81606 29.3878 5.83006V1.60156C28.4475 1.60623 27.4789 2.88505 26.5433 2.60035Z",fill:"white"}),x.createElement("path",{d:"M38.4856 13.8398C38.2871 13.7044 38.1643 13.4851 38.1643 13.2471V12.5796C38.1643 11.9822 37.6729 11.4922 37.0633 11.4922H36.6239C36.0994 11.4922 35.6174 11.7536 35.3339 12.1876L33.9164 14.3485C33.7746 14.5632 33.5383 14.6892 33.2832 14.6892H32.3287C31.8562 14.6892 31.4215 14.9459 31.1947 15.3566C30.9631 15.7814 30.552 16.0754 30.0843 16.1734V1.1403C30.0843 0.94894 29.9283 0.794922 29.7346 0.794922C29.5409 0.794922 29.3849 0.94894 29.3849 1.1403V1.60702V5.83552V16.1827C28.9171 16.0847 28.506 15.7907 28.2745 15.3613C28.0524 14.9506 27.6177 14.6939 27.1405 14.6939H26.4979C25.9875 14.6939 25.5292 14.9879 25.3213 15.45L24.7873 16.6308C24.7023 16.8175 24.5133 16.9388 24.3054 16.9388C24.0975 16.9388 23.9085 16.8175 23.8234 16.6308L23.2895 15.45C23.0816 14.9926 22.6232 14.6939 22.1129 14.6939H4.00135C3.85487 14.6939 3.73674 14.8106 3.73674 14.9553C3.73674 15.2633 3.48158 15.5107 3.17444 15.5107H2.39007C2.24359 15.5107 2.12546 15.6273 2.12546 15.772V16.6728C2.12546 17.5176 1.96008 18.339 1.62931 19.1184L1.15207 20.2526C0.707907 21.3027 0.5 22.3901 0.5 23.4589V26.0726C0.5 26.7773 0.603954 27.4914 0.811861 28.1868C1.39306 30.1377 2.7161 31.7339 4.53529 32.6767L7.43182 34.1842C7.46962 34.2029 7.51214 34.2122 7.55467 34.2122L9.69517 34.2309C10.196 34.2355 10.6875 34.3616 11.1269 34.6043L12.2751 35.239C12.3129 35.2623 12.3602 35.2717 12.4074 35.2717H13.9431C14.4818 35.2717 15.0157 35.4163 15.474 35.6917C15.474 35.6917 16.2253 36.1444 16.4805 36.2891C16.8869 36.5225 17.3783 36.7465 18.2335 36.7932C18.4273 36.8025 18.621 36.7325 18.7675 36.5972C18.9092 36.4618 18.9943 36.2704 18.9943 36.0791V35.0616C18.9943 34.3242 19.4337 33.6521 20.1189 33.3581L22.4673 32.3406C22.7886 32.2006 23.1477 32.1773 23.4832 32.28L24.3621 32.5367C24.7354 32.644 25.1323 32.6487 25.5056 32.5367L27.5846 31.9253C27.8587 31.8459 28.1517 31.8459 28.4304 31.9299L29.2763 32.1633C29.6684 32.2706 29.9472 32.6347 29.9472 33.0361V35.071C29.9472 36.0184 30.7269 36.7932 31.6861 36.7932C32.4043 36.7932 33.0328 36.3405 33.2501 35.6637C33.6423 34.4456 33.8408 33.1761 33.8408 31.8973V31.0292C33.8408 30.4131 34.1006 29.8204 34.5543 29.3956L35.419 28.5882C36.0002 28.0421 36.3356 27.2674 36.3356 26.474V21.6481C36.3356 20.9013 36.5625 20.1779 36.9972 19.5618C37.0302 19.5198 37.0444 19.4638 37.0444 19.4125V18.2737C37.0444 17.5316 37.2712 16.8128 37.6965 16.2014L38.5517 14.9739C38.5848 14.9319 38.599 14.8806 38.599 14.8246V14.0545C38.6037 13.9098 38.5139 13.8585 38.4856 13.8398ZM30.0843 25.2838C30.6654 25.3725 31.1002 25.6665 31.1002 26.0212C31.1002 26.3759 30.6702 26.67 30.0843 26.7587V25.2838ZM5.22516 32.4433L4.78572 32.2146C3.59026 31.5939 2.63577 30.6698 1.9837 29.545V28.1355C2.73028 29.2043 3.74619 30.1144 4.98891 30.7631L5.22516 30.8845V32.4433ZM7.43654 33.5961L6.2647 32.9894V31.4305L7.43182 32.0373H7.43654V33.5961ZM12.3129 34.6556L11.3868 34.1422C10.8812 33.8622 10.3142 33.7128 9.73297 33.7035V32.0793C10.2197 32.0886 10.7016 32.2146 11.1269 32.448L12.2751 33.0827C12.2846 33.0874 12.2987 33.0874 12.3129 33.0921V34.6556ZM18.4603 35.0616V35.8551V36.0791C18.4603 36.1304 18.4367 36.1818 18.3989 36.2191C18.3611 36.2564 18.3139 36.2705 18.2619 36.2705C17.52 36.2331 17.0948 36.0418 16.7498 35.8411C16.4994 35.6964 15.7528 35.2483 15.7481 35.2483C15.2803 34.9683 14.7511 34.8143 14.2077 34.7723V33.1387C14.6519 33.1808 15.0866 33.3114 15.474 33.5401L16.1214 33.9228C16.8302 34.3429 17.6382 34.5809 18.4603 34.6276V35.0616ZM24.8582 32.0886C24.7448 32.084 24.6267 32.0653 24.5133 32.0326L23.6344 31.7713C23.4454 31.7152 23.2517 31.6966 23.0579 31.6966V30.0677C23.1997 30.0677 23.3414 30.0817 23.4832 30.1237L24.3621 30.3804C24.5227 30.4271 24.6928 30.4504 24.8582 30.4598V32.0886ZM30.363 32.4807C30.1929 32.0886 29.8574 31.7759 29.4275 31.6592L28.5864 31.4259C28.3879 31.3652 28.18 31.3419 27.9721 31.3419V29.7177C28.1328 29.713 28.2934 29.7317 28.4493 29.783L29.1392 29.9977C29.8716 30.2264 30.363 30.8891 30.363 31.6452V32.4807ZM32.787 35.365C32.7729 35.4117 32.7634 35.4584 32.7492 35.505C32.6028 35.9624 32.1775 36.2658 31.6955 36.2658C31.653 36.2658 31.6105 36.2564 31.568 36.2518V34.6323C31.601 34.6369 31.6294 34.6416 31.6625 34.6416C32.135 34.6416 32.565 34.3802 32.7918 33.9835V35.365H32.787ZM37.3232 15.0486C36.794 15.8047 36.5152 16.6915 36.5152 17.6109V18.4137L36.1041 19.0017C35.5702 19.7625 35.2867 20.6539 35.2867 21.578V25.6245C35.2867 26.2779 35.0126 26.9173 34.5306 27.3654L33.6659 28.1775C33.0847 28.7236 32.7634 29.489 32.787 30.2824L32.7918 30.4644C32.8248 31.5146 32.6878 32.56 32.3901 33.5681C32.2956 33.8902 31.9932 34.1142 31.6577 34.1142C31.2372 34.1142 30.8923 33.7782 30.8923 33.3581V31.6452C30.8923 30.6558 30.2496 29.7923 29.2952 29.4983L28.6053 29.2836C28.2225 29.1669 27.8209 29.1623 27.4334 29.2743L25.3544 29.881C25.0803 29.9604 24.7873 29.9604 24.5133 29.881L23.6344 29.6243C23.1808 29.489 22.6894 29.5217 22.2547 29.7083L20.4071 30.5111C19.2258 31.0245 18.4651 32.1773 18.4651 33.4515V34.1095C17.7374 34.0675 17.0286 33.8528 16.4002 33.4795L15.7528 33.0967C15.2047 32.7747 14.581 32.602 13.9431 32.602H12.4736L11.3868 31.9999C10.8717 31.7152 10.2905 31.5659 9.69989 31.5612L7.62082 31.5472L5.23461 30.3057C1.61514 28.4249 0.0700101 24.1917 1.64349 20.4579L2.12073 19.3238C2.47512 18.4837 2.6594 17.5922 2.6594 16.6775V16.0427H3.17444C3.68476 16.0427 4.11948 15.6927 4.2376 15.2213H22.1176C22.4153 15.2213 22.6894 15.394 22.8075 15.6647L23.3414 16.8455C23.5115 17.2235 23.8896 17.4662 24.3101 17.4662C24.7259 17.4662 25.1087 17.2235 25.2788 16.8455L25.8127 15.66C25.9356 15.3893 26.2049 15.2166 26.5026 15.2166H27.1452C27.424 15.2166 27.6791 15.366 27.8114 15.6087C28.1375 16.2061 28.7234 16.6075 29.3897 16.7148V24.145C28.317 24.2617 27.4949 24.8918 27.4949 25.6572C27.4949 26.5066 28.4966 27.1927 29.7346 27.1927C30.9726 27.1927 31.9743 26.5066 31.9743 25.6572C31.9743 24.8918 31.1521 24.257 30.0795 24.145V16.7101C30.7458 16.6028 31.3317 16.2014 31.6577 15.604C31.79 15.3613 32.0452 15.212 32.324 15.212H33.2785C33.7179 15.212 34.1195 14.9926 34.3605 14.6286L35.7781 12.4676C35.9624 12.1829 36.2789 12.0149 36.6239 12.0149H37.0633C37.3752 12.0149 37.6303 12.2669 37.6303 12.575V13.2424C37.6303 13.5644 37.7579 13.8725 37.98 14.1012L37.3232 15.0486ZM29.3849 25.2838V26.7587C28.8037 26.67 28.3737 26.3759 28.3737 26.0212C28.3737 25.6665 28.8037 25.3678 29.3849 25.2838Z",fill:"white"})),xle=t=>x.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Group 483737"},x.createElement("g",{id:"Icon / Live"},x.createElement("path",{id:"circle-path",fillRule:"evenodd",clipRule:"evenodd",d:"M9 17C4.58172 17 1 13.4183 1 9C1 4.58172 4.58172 1 9 1C13.4183 1 17 4.58172 17 9C17 13.4183 13.4183 17 9 17Z",stroke:"#107D57"}),x.createElement("path",{id:"Combined Shape",fillRule:"evenodd",clipRule:"evenodd",d:"M10.6432 6.12891C10.9551 6.12891 11.2103 6.37162 11.2302 6.67846L11.2315 6.71714V7.55879L13.3334 6.46776C13.6362 6.31058 13.9959 6.51777 14.0195 6.85057L14.0207 6.88543V11.1406C14.0207 11.4763 13.6813 11.7002 13.3764 11.578L13.345 11.5641L11.2315 10.54V11.2818C11.2315 11.5937 10.9887 11.8489 10.6819 11.8688L10.6432 11.8701H5.11851C4.80663 11.8701 4.55144 11.6274 4.53152 11.3205L4.53027 11.2818V6.71714C4.53027 6.40526 4.77299 6.15007 5.07983 6.13016L5.11851 6.12891H10.6432ZM10.2897 7.07007H5.4709V10.9289H10.2897V7.07007ZM13.0792 7.65972L11.2396 8.61454V9.49831L13.0792 10.3896V7.65972Z",fill:"#107D57"})))),Nle=t=>x.createElement("svg",{width:14,height:17,viewBox:"0 0 14 17",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Icon / Games"},x.createElement("path",{id:"Icon / Games_2",d:"M6.27412 2.68557L6.27411 2.68557C5.62309 2.63368 5.0525 3.12172 5.00064 3.7713L5.00064 3.77134L4.14164 14.5465C4.14163 14.5465 4.14163 14.5465 4.14163 14.5465C4.08978 15.1963 4.57588 15.7681 5.22739 15.82C5.22741 15.82 5.22742 15.82 5.22744 15.82L11.3107 16.3052L11.3108 16.3052C11.9618 16.3571 12.5324 15.869 12.5842 15.2194L12.5842 15.2194L13.4432 4.4443C13.4951 3.79528 13.0091 3.22266 12.3575 3.17076C12.3575 3.17076 12.3574 3.17076 12.3574 3.17076L6.27412 2.68557ZM8.15378 7.95339C8.06822 8.08171 8.00584 8.22011 7.96597 8.36701L7.39679 8.32084C7.47153 7.93067 7.63452 7.64794 7.86868 7.44845C8.15963 7.20058 8.54037 7.08303 9.04377 7.12388C9.36277 7.14976 9.62596 7.23281 9.84206 7.36455L9.84205 7.36458L9.84603 7.36693C10.0639 7.49535 10.2189 7.65832 10.3213 7.85605C10.4234 8.05317 10.4683 8.27793 10.4483 8.53948C10.4345 8.71901 10.392 8.86521 10.3278 8.98465L10.3277 8.98461L10.3242 8.99151C10.2546 9.12905 10.1759 9.23612 10.0908 9.31799L10.0907 9.31793L10.0855 9.32326C9.98974 9.41994 9.85909 9.53313 9.69013 9.66317C9.48159 9.8217 9.31317 9.96772 9.19518 10.0999L9.19509 10.0998L9.18961 10.1063C9.10272 10.2092 9.04052 10.3244 9.00219 10.449L8.46556 10.4054C8.49427 10.3132 8.5356 10.2357 8.58714 10.17C8.70826 10.0178 8.8862 9.84033 9.1277 9.63726C9.33755 9.46764 9.50811 9.30895 9.63088 9.16198L9.39343 8.96362L9.63088 9.16198C9.77451 8.99005 9.86011 8.79 9.87715 8.56784C9.89609 8.32086 9.82923 8.08941 9.6571 7.90614C9.48861 7.71582 9.25493 7.62752 9.00193 7.60699L8.97691 7.91539L9.00193 7.60699C8.67115 7.58016 8.35479 7.66584 8.15766 7.94771L8.1576 7.94766L8.15378 7.95339ZM8.84046 11.5393L8.84024 11.5394L8.84882 11.5493C8.9033 11.6122 8.9274 11.681 8.92009 11.7763C8.91337 11.8639 8.88049 11.9307 8.81121 11.9916L8.81117 11.9915L8.8063 11.996C8.74838 12.0491 8.68489 12.0727 8.59225 12.0652C8.49804 12.0575 8.43752 12.0248 8.38914 11.9687C8.34013 11.9019 8.31721 11.826 8.32494 11.7253L8.01644 11.7016L8.32494 11.7253C8.33288 11.6218 8.36807 11.5555 8.42399 11.5042L8.2147 11.2763L8.42377 11.5044C8.48168 11.4513 8.54518 11.4277 8.63782 11.4352C8.73051 11.4427 8.79051 11.4764 8.84046 11.5393Z",stroke:"#107D57",strokeWidth:.618817}),x.createElement("path",{id:"Icon / Games_3",d:"M7.74941 0.00278796L1.66605 0.487981C1.18503 0.526267 0.82584 0.949506 0.864126 1.42843L1.72313 12.2036C1.76142 12.6832 2.18327 13.0438 2.66359 13.0055L3.18754 12.9637L3.97219 3.12062C4.0418 2.24421 4.81101 1.58916 5.68742 1.65878L8.7776 1.90524L8.68986 0.804714C8.65157 0.32509 8.22973 -0.0354984 7.74941 0.00278796Z",fill:"#107D57"}))),Vle=t=>x.createElement("svg",{width:19,height:14,viewBox:"0 0 19 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Icon / LeaderBoard"},x.createElement("path",{id:"Combined Shape",fillRule:"evenodd",clipRule:"evenodd",d:"M16.8236 2.46643C16.436 2.23624 16.1759 1.81093 16.1759 1.32432C16.1759 0.59292 16.7636 0 17.4885 0C18.2134 0 18.8011 0.59292 18.8011 1.32432C18.8011 1.81093 18.541 2.23624 18.1534 2.46643C18.5192 2.51678 18.8011 2.83327 18.8011 3.2162V10.7838C18.8011 11.2017 18.4653 11.5405 18.051 11.5405H16.926L16.9147 11.5404H10.9255V11.5406V13.2433C10.9255 13.6612 10.5897 14 10.1755 14H8.67539C8.26115 14 7.92534 13.6612 7.92534 13.2433V11.5406V11.5404H1.93622L1.92493 11.5405H0.799856C0.385614 11.5405 0.0498047 11.2017 0.0498047 10.7838V3.2162C0.0498047 2.83328 0.331692 2.51678 0.697521 2.46643C0.309923 2.23624 0.0498047 1.81093 0.0498047 1.32432C0.0498047 0.59292 0.637471 0 1.36239 0C2.08732 0 2.67498 0.59292 2.67498 1.32432C2.67498 1.81093 2.41487 2.23624 2.02727 2.46643C2.16328 2.48515 2.28769 2.54066 2.39032 2.62269C4.78264 1.62379 7.12768 1.12793 9.42545 1.13511C11.7225 1.14228 14.0669 1.63872 16.4584 2.62442C16.5615 2.54144 16.6867 2.48528 16.8236 2.46643ZM1.92494 10.7837L1.92493 3.21617H0.799862V10.7837H1.92494ZM16.1759 3.32547C13.8707 2.37522 11.6209 1.89875 9.42314 1.89189C7.2272 1.88503 4.97905 2.36051 2.675 3.32285V10.7837H16.1759V3.32547ZM17.4885 1.89189C17.7992 1.89189 18.0511 1.63779 18.0511 1.32433C18.0511 1.01087 17.7992 0.75676 17.4885 0.75676C17.1778 0.75676 16.926 1.01087 16.926 1.32433C16.926 1.63779 17.1778 1.89189 17.4885 1.89189ZM16.926 3.21617V10.7837H18.0511V3.21617H16.926ZM8.67538 13.2432V11.5405H10.1755V13.2432H8.67538ZM1.3624 1.89189C1.67308 1.89189 1.92494 1.63779 1.92494 1.32433C1.92494 1.01087 1.67308 0.75676 1.3624 0.75676C1.05172 0.75676 0.799862 1.01087 0.799862 1.32433C0.799862 1.63779 1.05172 1.89189 1.3624 1.89189Z",fill:"#107D57"}))),Lle=t=>x.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{clipPath:"url(#clip0_1664_3009)"},x.createElement("path",{d:"M21 19V5C21 3.9 20.1 3 19 3H5C3.9 3 3 3.9 3 5V19C3 20.1 3.9 21 5 21H19C20.1 21 21 20.1 21 19ZM8.5 13.5L11 16.51L14.5 12L19 18H5L8.5 13.5Z",fill:"#B6B9C6"})),x.createElement("defs",null,x.createElement("clipPath",{id:"clip0_1664_3009"},x.createElement("rect",{width:24,height:24,fill:"white"})))),kle=t=>x.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"check"},x.createElement("path",{id:"Vector",d:"M3.59985 10.8L7.59985 14.8L16.3999 5.20001",stroke:"white",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"}))),Fle=t=>x.createElement("svg",{width:20,height:20,viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"cross"},x.createElement("path",{id:"Vector",d:"M5.19995 14.8L14.8 5.20001M5.19995 5.20001L14.8 14.8",stroke:"white",strokeWidth:1.2,strokeLinecap:"round",strokeLinejoin:"round"}))),Ule=t=>x.createElement("svg",{width:32,height:32,viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 2.46154C8.52291 2.46154 2.46154 8.52291 2.46154 16C2.46154 23.4771 8.52291 29.5385 16 29.5385C23.4771 29.5385 29.5385 23.4771 29.5385 16C29.5385 8.52291 23.4771 2.46154 16 2.46154ZM0 16C0 7.16344 7.16344 0 16 0C24.8366 0 32 7.16344 32 16C32 24.8366 24.8366 32 16 32C7.16344 32 0 24.8366 0 16Z",fill:"#FFB600"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M16 8.20513C16.6797 8.20513 17.2308 8.75616 17.2308 9.4359V17.641C17.2308 18.3208 16.6797 18.8718 16 18.8718C15.3203 18.8718 14.7692 18.3208 14.7692 17.641V9.4359C14.7692 8.75616 15.3203 8.20513 16 8.20513Z",fill:"#FFB600"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.7692 22.5641C14.7692 21.8844 15.3203 21.3333 16 21.3333H16.0164C16.6961 21.3333 17.2472 21.8844 17.2472 22.5641C17.2472 23.2438 16.6961 23.7949 16.0164 23.7949H16C15.3203 23.7949 14.7692 23.2438 14.7692 22.5641Z",fill:"#FFB600"})),Ble=t=>x.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Icon/Insight"},x.createElement("path",{id:"Fill-1",fillRule:"evenodd",clipRule:"evenodd",d:"M9.3336 9.33644C8.59749 10.0725 7.40264 10.0725 6.66652 9.33644C5.93041 8.60039 5.93041 7.40565 6.66652 6.6696C7.40264 5.93355 8.59749 5.93355 9.3336 6.6696C10.0697 7.40565 10.0697 8.60039 9.3336 9.33644Z",fill:"#107D57"}),x.createElement("path",{id:"Fill-3",fillRule:"evenodd",clipRule:"evenodd",d:"M12.3345 12.3306C11.7818 12.8833 10.8863 12.8827 10.3342 12.3306C9.78211 11.7786 9.78145 10.8832 10.3342 10.3305C10.8869 9.77781 11.7824 9.77847 12.3345 10.3305C12.8866 10.8825 12.8873 11.7779 12.3345 12.3306Z",fill:"#107D57"}),x.createElement("path",{id:"Fill-5",fillRule:"evenodd",clipRule:"evenodd",d:"M5.66586 5.66365C5.11311 6.21635 4.21831 6.21635 3.66556 5.66365C3.11281 5.11094 3.11281 4.21622 3.66556 3.66352C4.21831 3.11081 5.11311 3.11081 5.66586 3.66352C6.21861 4.21622 6.21861 5.11094 5.66586 5.66365Z",fill:"#107D57"}),x.createElement("path",{id:"Fill-7",fillRule:"evenodd",clipRule:"evenodd",d:"M12.3345 5.66365C11.7818 6.21635 10.8869 6.21635 10.3342 5.66365C9.78145 5.11094 9.78145 4.21622 10.3342 3.66352C10.8869 3.11081 11.7818 3.11081 12.3345 3.66352C12.8873 4.21622 12.8873 5.11094 12.3345 5.66365Z",fill:"#107D57"}),x.createElement("path",{id:"Fill-9",fillRule:"evenodd",clipRule:"evenodd",d:"M5.66586 12.3306C5.11378 12.8827 4.21831 12.8833 3.66556 12.3306C3.11281 11.7779 3.11347 10.8825 3.66556 10.3305C4.21764 9.77847 5.11311 9.77781 5.66586 10.3305C6.21861 10.8832 6.21795 11.7786 5.66586 12.3306Z",fill:"#107D57"}),x.createElement("path",{id:"Fill-11",opacity:.5,fillRule:"evenodd",clipRule:"evenodd",d:"M8.66683 1.99964C8.29877 2.36766 7.70135 2.36766 7.33329 1.99964C6.96524 1.63162 6.96524 1.03425 7.33329 0.666221C7.70135 0.298198 8.29877 0.298198 8.66683 0.666221C9.03489 1.03425 9.03489 1.63162 8.66683 1.99964Z",fill:"#107D57"}),x.createElement("path",{id:"Fill-13",opacity:.5,fillRule:"evenodd",clipRule:"evenodd",d:"M15.3332 8.66676C14.9652 9.03478 14.3684 9.03545 13.9997 8.66675C13.631 8.29806 13.6316 7.70136 13.9997 7.33334C14.3677 6.96531 14.9645 6.96464 15.3332 7.33334C15.7019 7.70203 15.7013 8.29873 15.3332 8.66676Z",fill:"#107D57"}),x.createElement("path",{id:"Fill-15",opacity:.5,fillRule:"evenodd",clipRule:"evenodd",d:"M8.66683 15.3339C8.29811 15.7026 7.70202 15.7026 7.33329 15.3339C6.96457 14.9652 6.96457 14.3691 7.33329 14.0004C7.70202 13.6318 8.29811 13.6318 8.66683 14.0005C9.03555 14.3691 9.03555 14.9652 8.66683 15.3339Z",fill:"#107D57"}),x.createElement("path",{id:"Fill-17",opacity:.5,fillRule:"evenodd",clipRule:"evenodd",d:"M2.00033 8.66676C1.6316 9.03545 1.03484 9.03478 0.666788 8.66676C0.298732 8.29873 0.298065 7.70203 0.666788 7.33334C1.03551 6.96465 1.63227 6.96531 2.00033 7.33334C2.36838 7.70136 2.36905 8.29806 2.00033 8.66676Z",fill:"#107D57"}))),Wle=t=>x.createElement("svg",{width:23,height:19,viewBox:"0 0 23 19",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.406282 4.85302C0.406282 2.58132 2.24786 0.739746 4.51956 0.739746H18.2305C20.5022 0.739746 22.3437 2.58132 22.3437 4.85302C22.3437 7.12472 20.5022 8.96629 18.2305 8.96629H4.51955C2.24785 8.96629 0.406282 7.12472 0.406282 4.85302ZM1.97322 4.85306C1.97322 3.44677 3.11324 2.30675 4.51953 2.30675H16.0759V7.39937H4.51953C3.11324 7.39937 1.97322 6.25935 1.97322 4.85306Z",fill:"white"}),x.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.40625 14.6465C0.40625 12.3748 2.24783 10.5332 4.51952 10.5332H18.2304C20.5021 10.5332 22.3437 12.3748 22.3437 14.6465C22.3437 16.9182 20.5021 18.7597 18.2304 18.7597H4.51952C2.24782 18.7597 0.40625 16.9182 0.40625 14.6465ZM1.97322 14.6465C1.97322 13.2402 3.11324 12.1002 4.51953 12.1002H12.1585V17.1928H4.51953C3.11324 17.1928 1.97322 16.0528 1.97322 14.6465Z",fill:"white"})),Gle=t=>x.createElement("svg",{width:35,height:35,viewBox:"0 0 35 35",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{d:"M18.0391 21.544C18.4637 21.544 18.7634 21.2688 18.7884 20.8184C19.5129 14.9393 19.7877 14.7892 25.7831 13.7885C26.2576 13.7384 26.5324 13.4882 26.5324 13.0629C26.5324 12.6627 26.2576 12.4125 25.8831 12.3374L25.617 12.2868C19.8278 11.1861 19.5021 11.1241 18.7884 5.33245C18.7634 4.88213 18.4637 4.60693 18.0391 4.60693C17.6643 4.60693 17.3646 4.88213 17.3394 5.30743C16.5652 11.2867 16.3652 11.4618 10.2449 12.3374C9.87015 12.3875 9.59537 12.6627 9.59537 13.0629C9.59537 13.4632 9.87015 13.7384 10.2449 13.7885L10.4306 13.8249C16.3689 14.9894 16.5482 15.0246 17.3394 20.8685C17.3646 21.2688 17.6643 21.544 18.0391 21.544Z",fill:"white"}),x.createElement("path",{d:"M22.6105 31.3153C22.8391 31.3153 23.0005 31.1672 23.014 30.9247C23.4041 27.759 23.5521 27.6781 26.7804 27.1393C27.0359 27.1124 27.1838 26.9776 27.1838 26.7486C27.1838 26.5331 27.0359 26.3984 26.8342 26.358L26.6909 26.3307C23.5737 25.738 23.3983 25.7047 23.014 22.5861C23.0005 22.3436 22.8391 22.1954 22.6105 22.1954C22.4087 22.1954 22.2473 22.3436 22.2338 22.5726C21.8169 25.7922 21.7092 25.8865 18.4136 26.358C18.2119 26.3849 18.0639 26.5331 18.0639 26.7486C18.0639 26.9642 18.2119 27.1124 18.4136 27.1393L18.5136 27.1589C21.7112 27.786 21.8077 27.8049 22.2338 30.9516C22.2473 31.1672 22.4087 31.3153 22.6105 31.3153Z",fill:"white"}),x.createElement("path",{d:"M7.86401 20.6693C7.85634 20.8079 7.76411 20.8925 7.63346 20.8925C7.51815 20.8925 7.42593 20.8079 7.41819 20.6847C7.17473 18.8866 7.11956 18.8758 5.29238 18.5174L5.23526 18.5062C5.11995 18.4908 5.0354 18.4062 5.0354 18.283C5.0354 18.1598 5.11995 18.0752 5.23526 18.0598C7.11844 17.7903 7.17996 17.7365 7.41819 15.8967C7.42593 15.7658 7.51815 15.6811 7.63346 15.6811C7.76411 15.6811 7.85634 15.7658 7.86401 15.9044C8.08364 17.6864 8.18385 17.7055 9.96513 18.0442L10.047 18.0598C10.1623 18.0829 10.2468 18.1598 10.2468 18.283C10.2468 18.4139 10.1623 18.4908 10.0162 18.5062C8.1715 18.8141 8.08695 18.8603 7.86401 20.6693Z",fill:"white"})),Dle=t=>x.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Icon/Notification/Trivia"},x.createElement("path",{id:"Notification/Icon/Trivia",fillRule:"evenodd",clipRule:"evenodd",d:"M2.01663 1.3808C0.739913 1.55586 -0.153153 2.73276 0.021912 4.00948L1.3808 13.9196C1.55586 15.1963 2.73276 16.0894 4.00948 15.9143L13.9196 14.5554C15.1963 14.3803 16.0894 13.2034 15.9143 11.9267L14.5554 2.01663C14.3803 0.739913 13.2034 -0.153153 11.9267 0.021912L2.01663 1.3808ZM9.59613 3.788C9.11431 3.46991 8.47813 3.30151 7.7566 3.30151C7.54377 3.30151 7.32625 3.31671 7.10872 3.34478C6.38836 3.44067 5.68901 3.79034 5.18965 4.30138C4.68445 4.82062 4.4377 5.45563 4.51722 6.04151C4.57452 6.4742 4.90078 6.7537 5.34635 6.7537C5.39429 6.7537 5.44341 6.7502 5.49136 6.74435C6.08778 6.66483 6.21642 6.25436 6.34036 5.85675L6.34045 5.85648C6.48192 5.40401 6.61534 4.97731 7.38585 4.87444C7.46537 4.86391 7.54138 4.85806 7.61506 4.85806C8.16939 4.85806 8.51436 5.15042 8.58454 5.68252C8.65353 6.20293 8.24307 6.61807 7.80684 7.0566L7.80393 7.05954C7.31582 7.55231 6.7639 8.1095 6.86895 8.90083C6.89585 9.10548 6.9859 9.29493 7.12272 9.43644C7.27826 9.599 7.4829 9.68436 7.71331 9.68436C7.75541 9.68436 7.79868 9.68203 7.84311 9.67618C8.46691 9.59324 8.55162 9.23139 8.63338 8.8821L8.63365 8.88097L8.63661 8.86859C8.66723 8.7403 8.69877 8.60813 8.75995 8.48804C8.84649 8.31613 9.06283 8.11265 9.31428 7.87875C9.9142 7.31858 10.734 6.55143 10.582 5.41589C10.4872 4.70603 10.1551 4.15757 9.59611 3.78802L9.59613 3.788ZM8.11605 10.28C8.06927 10.28 8.02132 10.2836 7.97454 10.2894C7.38396 10.3689 6.96765 10.9127 7.04599 11.5033C7.11733 12.0377 7.57808 12.4412 8.1172 12.4412C8.16397 12.4412 8.21192 12.4377 8.25987 12.4318C8.85045 12.3523 9.2656 11.8085 9.18842 11.2179C9.11591 10.6823 8.65517 10.28 8.11605 10.28Z",fill:"white",fillOpacity:.5}))),Mle=t=>x.createElement("svg",{width:17,height:16,viewBox:"0 0 17 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("rect",{x:.5,width:16,height:16,rx:8,fill:"white",style:{fill:"white",fillOpacity:1}}),x.createElement("path",{d:"M4.75 8.5L7.09375 11L12.25 5",stroke:"#107D57",style:{stroke:"#107D57",stroke:"color(display-p3 0.0627 0.4902 0.3412)",strokeOpacity:1},strokeLinecap:"round",strokeLinejoin:"round"})),Zle=t=>x.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("path",{id:"Selected",fillRule:"evenodd",clipRule:"evenodd",d:"M16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8ZM11.6057 5.43441C11.2933 5.12199 10.7868 5.12199 10.4744 5.43441L6.93812 9.97066L5.08382 8.73446C4.7162 8.48938 4.2195 8.58871 3.97442 8.95634C3.72934 9.32396 3.82868 9.82065 4.1963 10.0657L6.5963 11.6657C6.9136 11.8773 7.33609 11.8354 7.60574 11.5658L11.6057 6.56578C11.9182 6.25336 11.9182 5.74683 11.6057 5.43441Z",fill:"#107D57"})),Ple=t=>x.createElement("svg",{width:103,height:18,viewBox:"0 0 103 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{clipPath:"url(#clip0_6919_104497)"},x.createElement("path",{d:"M9.89618 3.45801C9.91951 3.45801 9.94451 3.46134 9.96784 3.46134C9.97618 3.46134 9.98284 3.46134 9.99118 3.46467H9.99784C10.0095 3.46467 10.0212 3.46801 10.0312 3.46801C10.0412 3.46801 10.0462 3.46801 10.0545 3.47134C10.0762 3.47467 10.0962 3.47467 10.1178 3.47634C10.1412 3.47967 10.1662 3.48134 10.1895 3.48467H10.2012C10.2462 3.48967 10.2945 3.49634 10.3395 3.50467C10.4512 3.52467 10.5595 3.54801 10.6662 3.57801C10.6928 3.58301 10.7178 3.59301 10.7445 3.60134H10.7478C10.7745 3.60967 10.7995 3.61801 10.8262 3.62467C10.8528 3.63301 10.8778 3.64134 10.9045 3.65134C10.9312 3.65967 10.9562 3.66801 10.9795 3.67967C11.0012 3.68801 11.0212 3.69634 11.0428 3.70634C11.0495 3.70967 11.0578 3.71134 11.0645 3.71467C11.0828 3.72301 11.1012 3.72967 11.1195 3.73801C11.1262 3.74134 11.1312 3.74301 11.1378 3.74634C11.1562 3.75467 11.1712 3.76134 11.1895 3.76967C11.1962 3.77301 11.2045 3.77467 11.2128 3.78134C11.2345 3.78967 11.2528 3.79801 11.2728 3.80967C11.2762 3.80967 11.2795 3.81301 11.2812 3.81301C11.3045 3.82467 11.3295 3.83634 11.3512 3.84801C11.3695 3.85634 11.3878 3.86801 11.4062 3.87634C11.4212 3.88134 11.4328 3.89134 11.4462 3.89967C11.4645 3.91134 11.4828 3.91967 11.5012 3.93134C11.5045 3.93467 11.5078 3.93467 11.5095 3.93634L11.5728 3.97467H11.5762L15.2178 6.18801L15.4412 6.32467C16.3228 6.90801 16.9028 7.88467 16.9028 8.99301C16.9028 10.1013 16.3262 11.0763 15.4445 11.6613L15.2095 11.803L11.5745 14.0113H11.5712L11.5078 14.0497C11.5078 14.0497 11.5012 14.053 11.4995 14.0547C11.4812 14.0663 11.4628 14.0747 11.4445 14.0863C11.4595 14.078 11.4745 14.0697 11.4895 14.0597L5.94951 17.433C5.94951 17.433 5.94618 17.433 5.94618 17.4363L5.74451 17.558H5.74118C5.19784 17.863 4.55784 18.0247 3.87784 17.993C2.73618 17.938 1.75784 17.3463 1.19284 16.4847C0.837844 15.9413 0.64451 15.2913 0.681177 14.6013C0.71451 13.983 0.922844 13.4147 1.26118 12.9397L1.26951 12.9247L4.04451 8.99634L6.77784 5.12634C6.81118 5.07967 6.84784 5.03301 6.87784 4.98467C6.87451 4.98967 6.86951 4.99967 6.86284 5.00467C6.87118 4.98967 6.88118 4.97634 6.88951 4.96134C6.88951 4.95801 6.89284 4.95801 6.89284 4.95634C6.89618 4.95301 6.89951 4.94801 6.90118 4.94467C6.90118 4.94467 6.90118 4.94134 6.90451 4.94134C6.91951 4.92134 6.93451 4.90134 6.94618 4.87801C6.96118 4.85801 6.97618 4.83801 6.99118 4.81634C7.00618 4.79634 7.02118 4.77634 7.03618 4.75467C7.03951 4.75134 7.03951 4.74967 7.04284 4.74634C7.04618 4.74301 7.04618 4.74134 7.04951 4.74134C7.06451 4.72134 7.07951 4.70134 7.09784 4.67967C7.10951 4.66467 7.12118 4.65134 7.13451 4.63634C7.16784 4.59801 7.20118 4.56134 7.23784 4.52301C7.25284 4.50801 7.26451 4.49467 7.27951 4.47967C7.30118 4.45634 7.32118 4.43634 7.34618 4.41634C7.36451 4.39967 7.38284 4.38134 7.40118 4.36467C7.41951 4.34801 7.43451 4.33301 7.45284 4.31801C7.45618 4.31467 7.45951 4.31301 7.45951 4.31301C7.47118 4.30134 7.48118 4.29301 7.49284 4.28467C7.50451 4.27301 7.51951 4.26134 7.53284 4.25301C7.53618 4.24967 7.53951 4.24801 7.54118 4.24801C7.55951 4.23301 7.57451 4.21967 7.59284 4.20467C7.60784 4.18967 7.62618 4.17801 7.64118 4.16634C7.65618 4.15467 7.66784 4.14634 7.68284 4.13467C7.70118 4.11967 7.71951 4.10801 7.73784 4.09467C7.75284 4.08634 7.76451 4.07467 7.77951 4.06634C7.78618 4.06134 7.79451 4.05467 7.80284 4.05134C7.81784 4.03967 7.83284 4.03134 7.84784 4.02301C7.85118 4.01967 7.85618 4.01801 7.85951 4.01467C7.87784 4.00301 7.89618 3.99134 7.91118 3.98301C7.91784 3.97801 7.92618 3.97467 7.93284 3.96801C7.94784 3.95967 7.95951 3.95134 7.97451 3.94134C7.98284 3.93634 7.99284 3.92967 8.00118 3.92467C8.01618 3.91634 8.03451 3.90801 8.04951 3.89634C8.05284 3.89301 8.05784 3.89134 8.06451 3.88801C8.08618 3.87634 8.10451 3.86467 8.12451 3.85634C8.12784 3.85301 8.13118 3.85301 8.13618 3.85134C8.15784 3.83967 8.17784 3.82801 8.19951 3.81967C8.19951 3.81967 8.20284 3.81967 8.20284 3.81634C8.22618 3.80467 8.24784 3.79301 8.27284 3.78134C8.27284 3.78134 8.27618 3.78134 8.27618 3.77801C8.29451 3.76967 8.31284 3.76134 8.33284 3.75134C8.34118 3.74801 8.35118 3.74301 8.35951 3.73967C8.37118 3.73467 8.38284 3.72801 8.39618 3.72467C8.41118 3.71967 8.42284 3.71301 8.43784 3.70801C8.46118 3.69967 8.48284 3.69134 8.50784 3.68134C8.52284 3.67634 8.53451 3.66967 8.54951 3.66634C8.57118 3.65801 8.59118 3.65134 8.61284 3.64301C8.63118 3.63801 8.65284 3.63134 8.66951 3.62301C8.75451 3.59634 8.83784 3.57134 8.92284 3.54967C8.94118 3.54467 8.96284 3.54134 8.97951 3.53801C9.08451 3.51467 9.19451 3.49467 9.30284 3.48301C9.32951 3.47967 9.35784 3.47801 9.38451 3.47467C9.42118 3.47134 9.45951 3.46967 9.49618 3.46634C9.51118 3.46634 9.52284 3.46301 9.53784 3.46301H9.55951C9.58951 3.46301 9.61618 3.45967 9.64784 3.45967H9.73784C9.79451 3.45967 9.84284 3.45967 9.89451 3.46301L9.89618 3.45801ZM10.6662 14.413C10.5612 14.4413 10.4512 14.4647 10.3395 14.4863C10.4512 14.4663 10.5595 14.443 10.6662 14.413ZM9.56118 14.5313H9.56951C9.56118 14.5313 9.54784 14.5313 9.53951 14.528C9.54618 14.528 9.55451 14.5313 9.56118 14.5313ZM7.08784 13.293C7.05451 13.253 7.02451 13.2147 6.99451 13.1747C7.02451 13.2147 7.05784 13.253 7.08784 13.293ZM6.90284 13.043C6.90284 13.043 6.90618 13.0463 6.90618 13.048C6.90284 13.0447 6.90284 13.043 6.89951 13.0363C6.89618 13.033 6.89618 13.0297 6.89284 13.0247C6.86951 12.9897 6.84784 12.953 6.82284 12.918C6.84451 12.953 6.86784 12.9913 6.88951 13.0247C6.89618 13.0297 6.89784 13.0363 6.90118 13.0413L6.90284 13.043ZM6.89451 13.0263C6.85784 12.968 6.81951 12.913 6.77618 12.858L6.89451 13.0263Z",fill:"#1652A8",style:{fill:"#1652A8",fill:"color(display-p3 0.0863 0.3216 0.6588)",fillOpacity:1}}),x.createElement("g",{opacity:.85},x.createElement("path",{d:"M5.77088 0.453306L5.97588 0.578306L5.97921 0.581639L11.5225 3.94997C11.5075 3.94164 11.4925 3.93331 11.4775 3.92331C11.4959 3.93497 11.5142 3.94331 11.5325 3.95497C11.5359 3.95831 11.5392 3.95831 11.5409 3.95997L11.6042 3.99831H11.6075L15.2492 6.21164L15.4725 6.34831C16.3542 6.93164 16.9342 7.9083 16.9342 9.01664C16.9342 10.125 16.3575 11.1 15.4759 11.685L15.2409 11.8266L11.6059 14.035H11.6025L11.5392 14.0733C11.5392 14.0733 11.5325 14.0766 11.5309 14.0783C11.5125 14.09 11.4942 14.0983 11.4759 14.11C11.4642 14.1183 11.4492 14.125 11.4359 14.1333C11.4175 14.145 11.3992 14.1533 11.3809 14.1616C11.3575 14.1733 11.3359 14.185 11.3109 14.1966C11.3075 14.2 11.3042 14.2 11.3025 14.2C11.2842 14.2116 11.2625 14.22 11.2425 14.2283C11.2359 14.2316 11.2275 14.2333 11.2192 14.24C11.2009 14.2483 11.1859 14.255 11.1675 14.2633C11.1609 14.2666 11.1592 14.2683 11.1525 14.2683C11.1309 14.2766 11.1109 14.285 11.0859 14.2966C11.0625 14.3083 11.0342 14.3166 11.0109 14.325C10.9875 14.3333 10.9592 14.345 10.9359 14.3533C10.9092 14.3616 10.8842 14.37 10.8575 14.38C10.8309 14.3883 10.8059 14.3966 10.7792 14.4033H10.7759C10.7492 14.4116 10.7242 14.4183 10.6975 14.4266C10.5925 14.455 10.4825 14.4783 10.3709 14.4983C10.3259 14.5066 10.2775 14.5133 10.2325 14.5183C10.2259 14.5183 10.2242 14.5183 10.2209 14.5216C10.1975 14.525 10.1725 14.5283 10.1492 14.53C10.1009 14.5366 10.0525 14.5383 10.0042 14.5416C9.92921 14.5483 9.85254 14.5483 9.77754 14.5483H9.68088C9.65421 14.5483 9.62921 14.545 9.60254 14.545C9.59421 14.545 9.58088 14.545 9.57254 14.5416C9.53254 14.5383 9.49088 14.5366 9.45254 14.5333C9.27421 14.5166 9.09588 14.4866 8.92754 14.4466C8.90421 14.44 8.87921 14.435 8.85254 14.4266C8.81921 14.4183 8.78588 14.41 8.74921 14.3983C8.73088 14.3933 8.70921 14.3866 8.69254 14.3816C8.66588 14.3733 8.64088 14.365 8.61421 14.355C8.58754 14.3466 8.56254 14.3383 8.53921 14.3266C8.51588 14.3183 8.48754 14.3066 8.46421 14.2983C8.44088 14.29 8.41921 14.2816 8.39754 14.27C8.38921 14.2666 8.38254 14.265 8.37421 14.2583C8.35588 14.25 8.33754 14.2416 8.31754 14.2316C8.31754 14.2316 8.31421 14.2316 8.31421 14.2283C8.29088 14.2166 8.26588 14.205 8.24254 14.1933C8.21921 14.1816 8.19421 14.17 8.17088 14.155C8.14754 14.1433 8.12254 14.1283 8.10088 14.1166C8.07754 14.105 8.05254 14.09 8.03088 14.0766C8.00754 14.0616 7.98588 14.0483 7.96088 14.0366C7.93754 14.0216 7.91588 14.0083 7.89421 13.9933C7.87254 13.9783 7.85254 13.965 7.83088 13.95C7.82754 13.95 7.82754 13.9466 7.82421 13.945C7.80588 13.9333 7.78754 13.9183 7.76754 13.905C7.76421 13.9016 7.76088 13.9016 7.75921 13.9C7.74088 13.885 7.72254 13.8733 7.70421 13.86C7.70088 13.8566 7.69588 13.855 7.69254 13.8483C7.67421 13.8333 7.65588 13.82 7.63754 13.805C7.63754 13.805 7.63421 13.805 7.63421 13.8016C7.61588 13.7866 7.59754 13.7733 7.57754 13.755C7.57421 13.7516 7.57088 13.7516 7.56921 13.7483C7.55421 13.7366 7.53921 13.7216 7.52421 13.71C7.51754 13.705 7.51254 13.6983 7.50588 13.695C7.49421 13.6833 7.47921 13.6716 7.46588 13.66C7.43921 13.6366 7.41421 13.6133 7.39088 13.5866C7.37254 13.57 7.35754 13.5516 7.33921 13.535C7.32754 13.5233 7.31754 13.5116 7.30588 13.5C7.29421 13.4883 7.28421 13.48 7.27588 13.4683C7.25754 13.4516 7.24254 13.43 7.22421 13.4133C7.19088 13.375 7.15754 13.3383 7.12421 13.2966C7.09088 13.2566 7.06088 13.2183 7.03088 13.1783C7.01588 13.1583 7.00088 13.1383 6.98588 13.1166C6.97088 13.0966 6.95588 13.0766 6.94421 13.0533C6.94088 13.05 6.94088 13.0483 6.93754 13.0416C6.93421 13.0383 6.93421 13.0366 6.93088 13.03C6.90754 12.995 6.88588 12.9583 6.86088 12.9233C6.88254 12.9583 6.90588 12.995 6.92754 13.03C6.89088 12.9716 6.85254 12.9166 6.80921 12.8616L4.07921 8.99664L1.34088 5.12997L1.23254 4.97664L1.22921 4.97164C0.92421 4.51164 0.737543 3.97497 0.707543 3.39497C0.670877 2.70497 0.86421 2.05164 1.22088 1.50997C1.78588 0.648306 2.76588 0.0566391 3.90421 -2.75556e-05C4.58421 -0.0150276 5.22421 0.148306 5.77088 0.453306Z",fill:"url(#paint0_linear_6919_104497)",style:{}})),x.createElement("path",{d:"M32.4132 12.862C31.2015 12.862 30.4482 12.0503 30.4482 10.7203V8.4453H32.6632V7.02697H30.4482V4.72363L28.8548 5.9053V7.0253H27.9648V8.44363H28.8548V10.7053C28.8548 12.9953 30.1982 14.412 32.4282 14.412H32.7682V12.862H32.4132Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),x.createElement("path",{d:"M19.9812 12.5767L21.4028 11.4651C22.0395 12.4867 22.8995 13.0351 23.9962 13.0351C25.1962 13.0351 25.9512 12.2651 25.9512 11.3017C25.9512 10.1901 24.7662 9.83506 23.5212 9.43506C22.0545 8.96172 20.4695 8.36839 20.4695 6.38339C20.4695 4.73839 21.9362 3.43506 23.9362 3.43506C25.5812 3.43506 26.6028 4.07172 27.4328 5.03506L26.1145 6.01339C25.6262 5.25839 24.8995 4.85839 23.9362 4.85839C22.8395 4.85839 22.1278 5.51006 22.1278 6.35506C22.1278 7.39172 23.2695 7.73339 24.5128 8.14839C25.9945 8.65172 27.6095 9.29006 27.6095 11.3051C27.6095 12.9651 26.2462 14.5501 24.0095 14.5501C22.1578 14.5501 20.8978 13.7651 19.9795 12.5801L19.9812 12.5767Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),x.createElement("path",{d:"M38.2695 10.7367C38.2695 8.56503 39.9379 6.8667 42.1095 6.8667C44.2812 6.8667 45.9062 8.4467 45.9062 10.6334V11.2534H39.7912C39.9979 12.39 40.8845 13.1434 42.1695 13.1434C43.1745 13.1434 43.9429 12.6117 44.3262 11.8134L45.6262 12.5367C44.9762 13.7484 43.8095 14.545 42.1695 14.545C39.8362 14.545 38.2695 12.8767 38.2695 10.735V10.7367ZM39.8645 9.91003H44.2962C44.0595 8.8467 43.2479 8.25503 42.1095 8.25503C40.9712 8.25503 40.1595 8.93503 39.8645 9.91003Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),x.createElement("path",{d:"M33.7549 10.72C33.7549 8.42999 35.0982 7.02832 37.3282 7.02832H38.0366V8.56499H37.3132C36.1016 8.56499 35.3199 9.40665 35.3349 10.7367V14.415H33.7549V10.7233V10.72Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),x.createElement("path",{d:"M46.6882 10.7218C46.6882 8.56517 48.3865 6.88184 50.5132 6.88184C52.6399 6.88184 54.3082 8.56517 54.3082 10.7218V14.4135H52.7582V13.4535C52.2415 14.1468 51.4432 14.5468 50.4682 14.5468C48.3565 14.5468 46.6865 12.8935 46.6865 10.7218H46.6882ZM52.7882 10.7218C52.7882 9.40684 51.7832 8.3585 50.5132 8.3585C49.2432 8.3585 48.2382 9.40684 48.2382 10.7218C48.2382 12.0368 49.2282 13.0852 50.5132 13.0852C51.7982 13.0852 52.7882 12.0218 52.7882 10.7218Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),x.createElement("path",{d:"M55.3027 10.2717C55.3027 8.30667 56.6461 6.875 58.6411 6.875C59.7777 6.875 60.6944 7.33333 61.2694 8.10167C61.8161 7.33333 62.7027 6.875 63.8394 6.875C65.8477 6.875 67.2511 8.27833 67.2511 10.2717V14.4067H65.6711V10.2867C65.6711 9.165 64.9177 8.38167 63.8394 8.38167C62.7611 8.38167 62.0527 9.18 62.0677 10.2433V14.4083H60.4877V10.2883C60.4877 9.16667 59.7194 8.38333 58.6411 8.38333C57.5627 8.38333 56.8694 9.18167 56.8827 10.245V14.41H55.3027V10.275V10.2717Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),x.createElement("path",{d:"M68.2646 3.62695H69.8746V12.872H74.2313V14.4086H68.2646V3.62695Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),x.createElement("path",{d:"M89.418 10.7367C89.418 8.56503 91.0863 6.8667 93.258 6.8667C95.4296 6.8667 97.0546 8.4467 97.0546 10.6334V11.2534H90.9396C91.1463 12.39 92.033 13.1434 93.318 13.1434C94.323 13.1434 95.0913 12.6117 95.4746 11.8134L96.7746 12.5367C96.1246 13.7484 94.958 14.545 93.318 14.545C90.9846 14.545 89.418 12.8767 89.418 10.735V10.7367ZM91.013 9.91003H95.4446C95.208 8.8467 94.3963 8.25503 93.258 8.25503C92.1196 8.25503 91.308 8.93503 91.013 9.91003Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),x.createElement("path",{d:"M74.4948 10.7218C74.4948 8.56517 76.1932 6.88184 78.3198 6.88184C80.4465 6.88184 82.1148 8.56517 82.1148 10.7218V14.4135H80.5648V13.4535C80.0482 14.1468 79.2498 14.5468 78.2748 14.5468C76.1632 14.5468 74.4932 12.8935 74.4932 10.7218H74.4948ZM80.5948 10.7218C80.5948 9.40684 79.5898 8.3585 78.3198 8.3585C77.0498 8.3585 76.0448 9.40684 76.0448 10.7218C76.0448 12.0368 77.0348 13.0852 78.3198 13.0852C79.6048 13.0852 80.5948 12.0218 80.5948 10.7218Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),x.createElement("path",{d:"M85.0381 14.0498L81.9814 7.0498H83.6798L85.8364 12.1748L87.8748 7.0498H89.5431L85.0831 17.8465H83.4581L85.0381 14.0515V14.0498Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}}),x.createElement("path",{d:"M98.041 10.7151C98.041 8.4251 99.3843 7.02344 101.614 7.02344H102.323V8.5601H101.599C100.388 8.5601 99.606 9.40177 99.621 10.7318V14.4101H98.041V10.7184V10.7151Z",fill:"#687C8B",style:{fill:"#687C8B",fill:"color(display-p3 0.4078 0.4863 0.5451)",fillOpacity:1}})),x.createElement("defs",null,x.createElement("linearGradient",{id:"paint0_linear_6919_104497",x1:4.31754,y1:8.70664,x2:13.6359,y2:3.59497,gradientUnits:"userSpaceOnUse"},x.createElement("stop",{offset:.2,stopColor:"#1589EE",style:{stopColor:"#1589EE",stopColor:"color(display-p3 0.0824 0.5373 0.9333)",stopOpacity:1}}),x.createElement("stop",{offset:1,stopColor:"#5EB4FF",style:{stopColor:"#5EB4FF",stopColor:"color(display-p3 0.3686 0.7059 1.0000)",stopOpacity:1}})),x.createElement("clipPath",{id:"clip0_6919_104497"},x.createElement("rect",{width:101.648,height:18,fill:"white",style:{fill:"white",fillOpacity:1},transform:"translate(0.675781)"})))),Ole=t=>x.createElement("svg",{width:18,height:18,viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},x.createElement("g",{id:"Frame 3469523"},x.createElement("rect",{x:.5,y:.5,width:17,height:17,rx:8.5,fill:"black"}),x.createElement("rect",{x:.5,y:.5,width:17,height:17,rx:8.5,stroke:"#F2F2F1"}),x.createElement("g",{id:"layer1"},x.createElement("path",{id:"path1009",d:"M5.10046 5L8.32856 9.3097L5.08008 12.8137H5.81118L8.65522 9.74589L10.9531 12.8137H13.4411L10.0314 8.26155L13.055 5H12.3239L9.70471 7.82536L7.58843 5H5.10046ZM6.1756 5.53771H7.31858L12.3658 12.2759H11.2228L6.1756 5.53771Z",fill:"white"})))),n_={"invite-game-icon":Rle,"icon-trophy":Ele,"icon-trophy-green":ble,"icon-trophy-solid":vle,"icon-trivia":Dle,"icon-thumb-down":ple,"icon-thumb-up":mle,"icon-star":fle,"icon-prediction":Gle,"icon-insight":Ble,"icon-poll":Wle,"icon-play":dle,"icon-pause":ule,"icon-masters-logo":lle,"icon-logout":ole,"icon-link":ale,"icon-external-link":nle,"icon-invite-arrow":rle,"icon-friends":sle,"icon-exit":ile,"icon-default-user-avatar":ele,"icon-copy":Qoe,"icon-cross":Woe,"icon-close":joe,"icon-close-btn-white":Joe,"icon-close-btn-gray":zoe,"icon-circle-arrow-right":Koe,"icon-chevron":$oe,"icon-chevron-white-left":Yoe,"icon-chevron-left":Xoe,"icon-check":koe,"icon-check-white":Ooe,"icon-check-green":Poe,"icon-check-circle":Zoe,"icon-correct":Boe,"icon-btn-channels":xle,"icon-btn-feature-groups":Nle,"icon-btn-leaderboard":Vle,"icon-arrow":Loe,"icon-twitter-verified":Ale,"icon-trophy-bet-pack":yle,"icon-trivia-transparent":gle,dashboard:qoe,iconMute:cle,iconUnMute:Sle,correct:kle,iconSkip:hle,incorrect:Fle,questionExpired:Ule,selected:Zle,selectedBetPack:Mle,circleClose:Uoe,incorrectVoted:Cle,mastersLogo:wle,streamLayerLogo:Ple,twitter:Ole,iconUp:Tle,iconCopySuccess:Hoe,chevronRight:Foe,noImageIcon:Lle,iconArrowRight:Moe,iconEarlyPrediction:tle,iconArrowPrev:Doe,mastersLogoWhite:_le,loader:Ile,fgIcon:Goe},Ke=({name:t,style:e,className:i,...n})=>{if(!n_[t])return b.jsx("span",{children:t});const s=n_[t];return b.jsx(s,{"data-testid":"svg-icon",style:e,className:i,...n})};var qa=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function g0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Xle(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var i=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};i.prototype=e.prototype}else i={};return Object.defineProperty(i,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(i,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),i}var kD={exports:{}},qv,s_;function Gc(){if(s_)return qv;s_=1;function t(e){var i=typeof e;return e!=null&&(i=="object"||i=="function")}return qv=t,qv}var e3,r_;function FD(){if(r_)return e3;r_=1;var t=typeof qa=="object"&&qa&&qa.Object===Object&&qa;return e3=t,e3}var t3,a_;function ba(){if(a_)return t3;a_=1;var t=FD(),e=typeof self=="object"&&self&&self.Object===Object&&self,i=t||e||Function("return this")();return t3=i,t3}var i3,o_;function Yle(){if(o_)return i3;o_=1;var t=ba(),e=function(){return t.Date.now()};return i3=e,i3}var n3,l_;function $le(){if(l_)return n3;l_=1;var t=/\s/;function e(i){for(var n=i.length;n--&&t.test(i.charAt(n)););return n}return n3=e,n3}var s3,c_;function Kle(){if(c_)return s3;c_=1;var t=$le(),e=/^\s+/;function i(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return s3=i,s3}var zle=ba(),Jle=zle.Symbol,y0=Jle,u_=y0,UD=Object.prototype,jle=UD.hasOwnProperty,Hle=UD.toString,of=u_?u_.toStringTag:void 0;function Qle(t){var e=jle.call(t,of),i=t[of];try{t[of]=void 0;var n=!0}catch{}var s=Hle.call(t);return n&&(e?t[of]=i:delete t[of]),s}var qle=Qle,ece=Object.prototype,tce=ece.toString;function ice(t){return tce.call(t)}var nce=ice,d_=y0,sce=qle,rce=nce,ace="[object Null]",oce="[object Undefined]",h_=d_?d_.toStringTag:void 0;function lce(t){return t==null?t===void 0?oce:ace:h_&&h_ in Object(t)?sce(t):rce(t)}var b0=lce,r3,f_;function ph(){if(f_)return r3;f_=1;function t(e){return e!=null&&typeof e=="object"}return r3=t,r3}var a3,p_;function v0(){if(p_)return a3;p_=1;var t=b0,e=ph(),i="[object Symbol]";function n(s){return typeof s=="symbol"||e(s)&&t(s)==i}return a3=n,a3}var o3,m_;function cce(){if(m_)return o3;m_=1;var t=Kle(),e=Gc(),i=v0(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;function l(c){if(typeof c=="number")return c;if(i(c))return n;if(e(c)){var u=typeof c.valueOf=="function"?c.valueOf():c;c=e(u)?u+"":u}if(typeof c!="string")return c===0?c:+c;c=t(c);var d=r.test(c);return d||a.test(c)?o(c.slice(2),d?2:8):s.test(c)?n:+c}return o3=l,o3}var l3,g_;function BD(){if(g_)return l3;g_=1;var t=Gc(),e=Yle(),i=cce(),n="Expected a function",s=Math.max,r=Math.min;function a(o,l,c){var u,d,h,f,p,m,v=0,g=!1,E=!1,A=!0;if(typeof o!="function")throw new TypeError(n);l=i(l)||0,t(c)&&(g=!!c.leading,E="maxWait"in c,h=E?s(i(c.maxWait)||0,l):h,A="trailing"in c?!!c.trailing:A);function R(J){var me=u,de=d;return u=d=void 0,v=J,f=o.apply(de,me),f}function I(J){return v=J,p=setTimeout(B,l),g?R(J):f}function L(J){var me=J-m,de=J-v,ye=l-me;return E?r(ye,h-de):ye}function F(J){var me=J-m,de=J-v;return m===void 0||me>=l||me<0||E&&de>=h}function B(){var J=e();if(F(J))return G(J);p=setTimeout(B,L(J))}function G(J){return p=void 0,A&&u?R(J):(u=d=void 0,f)}function Z(){p!==void 0&&clearTimeout(p),v=0,u=m=d=p=void 0}function j(){return p===void 0?f:G(e())}function pe(){var J=e(),me=F(J);if(u=arguments,d=this,m=J,me){if(p===void 0)return I(m);if(E)return clearTimeout(p),p=setTimeout(B,l),R(m)}return p===void 0&&(p=setTimeout(B,l)),f}return pe.cancel=Z,pe.flush=j,pe}return l3=a,l3}var c3,y_;function WD(){if(y_)return c3;y_=1;var t=b0,e=Gc(),i="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",r="[object Proxy]";function a(o){if(!e(o))return!1;var l=t(o);return l==n||l==s||l==i||l==r}return c3=a,c3}var uce=ba(),dce=uce["__core-js_shared__"],hce=dce,u3=hce,b_=function(){var t=/[^.]+$/.exec(u3&&u3.keys&&u3.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function fce(t){return!!b_&&b_ in t}var pce=fce,mce=Function.prototype,gce=mce.toString;function yce(t){if(t!=null){try{return gce.call(t)}catch{}try{return t+""}catch{}}return""}var GD=yce,bce=WD(),vce=pce,Ece=Gc(),Ace=GD,Sce=/[\\^$.*+?()[\]{}|]/g,Tce=/^\[object .+?Constructor\]$/,Cce=Function.prototype,Rce=Object.prototype,Ice=Cce.toString,wce=Rce.hasOwnProperty,_ce=RegExp("^"+Ice.call(wce).replace(Sce,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xce(t){if(!Ece(t)||vce(t))return!1;var e=bce(t)?_ce:Tce;return e.test(Ace(t))}var Nce=xce;function Vce(t,e){return t==null?void 0:t[e]}var Lce=Vce,kce=Nce,Fce=Lce;function Uce(t,e){var i=Fce(t,e);return kce(i)?i:void 0}var Dc=Uce,Bce=Dc,Wce=Bce(Object,"create"),Zy=Wce,v_=Zy;function Gce(){this.__data__=v_?v_(null):{},this.size=0}var Dce=Gce;function Mce(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Zce=Mce,Pce=Zy,Oce="__lodash_hash_undefined__",Xce=Object.prototype,Yce=Xce.hasOwnProperty;function $ce(t){var e=this.__data__;if(Pce){var i=e[t];return i===Oce?void 0:i}return Yce.call(e,t)?e[t]:void 0}var Kce=$ce,zce=Zy,Jce=Object.prototype,jce=Jce.hasOwnProperty;function Hce(t){var e=this.__data__;return zce?e[t]!==void 0:jce.call(e,t)}var Qce=Hce,qce=Zy,eue="__lodash_hash_undefined__";function tue(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=qce&&e===void 0?eue:e,this}var iue=tue,nue=Dce,sue=Zce,rue=Kce,aue=Qce,oue=iue;function mh(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}mh.prototype.clear=nue;mh.prototype.delete=sue;mh.prototype.get=rue;mh.prototype.has=aue;mh.prototype.set=oue;var lue=mh;function cue(){this.__data__=[],this.size=0}var uue=cue,d3,E_;function vR(){if(E_)return d3;E_=1;function t(e,i){return e===i||e!==e&&i!==i}return d3=t,d3}var due=vR();function hue(t,e){for(var i=t.length;i--;)if(due(t[i][0],e))return i;return-1}var Py=hue,fue=Py,pue=Array.prototype,mue=pue.splice;function gue(t){var e=this.__data__,i=fue(e,t);if(i<0)return!1;var n=e.length-1;return i==n?e.pop():mue.call(e,i,1),--this.size,!0}var yue=gue,bue=Py;function vue(t){var e=this.__data__,i=bue(e,t);return i<0?void 0:e[i][1]}var Eue=vue,Aue=Py;function Sue(t){return Aue(this.__data__,t)>-1}var Tue=Sue,Cue=Py;function Rue(t,e){var i=this.__data__,n=Cue(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}var Iue=Rue,wue=uue,_ue=yue,xue=Eue,Nue=Tue,Vue=Iue;function gh(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}gh.prototype.clear=wue;gh.prototype.delete=_ue;gh.prototype.get=xue;gh.prototype.has=Nue;gh.prototype.set=Vue;var Oy=gh,Lue=Dc,kue=ba(),Fue=Lue(kue,"Map"),ER=Fue,A_=lue,Uue=Oy,Bue=ER;function Wue(){this.size=0,this.__data__={hash:new A_,map:new(Bue||Uue),string:new A_}}var Gue=Wue;function Due(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var Mue=Due,Zue=Mue;function Pue(t,e){var i=t.__data__;return Zue(e)?i[typeof e=="string"?"string":"hash"]:i.map}var Xy=Pue,Oue=Xy;function Xue(t){var e=Oue(this,t).delete(t);return this.size-=e?1:0,e}var Yue=Xue,$ue=Xy;function Kue(t){return $ue(this,t).get(t)}var zue=Kue,Jue=Xy;function jue(t){return Jue(this,t).has(t)}var Hue=jue,Que=Xy;function que(t,e){var i=Que(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}var ede=que,tde=Gue,ide=Yue,nde=zue,sde=Hue,rde=ede;function yh(t){var e=-1,i=t==null?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}yh.prototype.clear=tde;yh.prototype.delete=ide;yh.prototype.get=nde;yh.prototype.has=sde;yh.prototype.set=rde;var AR=yh,ade="__lodash_hash_undefined__";function ode(t){return this.__data__.set(t,ade),this}var lde=ode;function cde(t){return this.__data__.has(t)}var ude=cde,dde=AR,hde=lde,fde=ude;function s2(t){var e=-1,i=t==null?0:t.length;for(this.__data__=new dde;++e<i;)this.add(t[e])}s2.prototype.add=s2.prototype.push=hde;s2.prototype.has=fde;var DD=s2;function pde(t,e,i,n){for(var s=t.length,r=i+(n?1:-1);n?r--:++r<s;)if(e(t[r],r,t))return r;return-1}var mde=pde;function gde(t){return t!==t}var yde=gde;function bde(t,e,i){for(var n=i-1,s=t.length;++n<s;)if(t[n]===e)return n;return-1}var vde=bde,Ede=mde,Ade=yde,Sde=vde;function Tde(t,e,i){return e===e?Sde(t,e,i):Ede(t,Ade,i)}var Cde=Tde,Rde=Cde;function Ide(t,e){var i=t==null?0:t.length;return!!i&&Rde(t,e,0)>-1}var wde=Ide;function _de(t,e,i){for(var n=-1,s=t==null?0:t.length;++n<s;)if(i(e,t[n]))return!0;return!1}var xde=_de;function Nde(t,e){for(var i=-1,n=t==null?0:t.length,s=Array(n);++i<n;)s[i]=e(t[i],i,t);return s}var SR=Nde,h3,S_;function TR(){if(S_)return h3;S_=1;function t(e){return function(i){return e(i)}}return h3=t,h3}function Vde(t,e){return t.has(e)}var MD=Vde,f3,T_;function Lde(){if(T_)return f3;T_=1;var t=DD,e=wde,i=xde,n=SR,s=TR(),r=MD,a=200;function o(l,c,u,d){var h=-1,f=e,p=!0,m=l.length,v=[],g=c.length;if(!m)return v;u&&(c=n(c,s(u))),d?(f=i,p=!1):c.length>=a&&(f=r,p=!1,c=new t(c));e:for(;++h<m;){var E=l[h],A=u==null?E:u(E);if(E=d||E!==0?E:0,p&&A===A){for(var R=g;R--;)if(c[R]===A)continue e;v.push(E)}else f(c,A,d)||v.push(E)}return v}return f3=o,f3}var p3,C_;function ZD(){if(C_)return p3;C_=1;function t(e,i){for(var n=-1,s=i.length,r=e.length;++n<s;)e[r+n]=i[n];return e}return p3=t,p3}var m3,R_;function kde(){if(R_)return m3;R_=1;var t=b0,e=ph(),i="[object Arguments]";function n(s){return e(s)&&t(s)==i}return m3=n,m3}var g3,I_;function CR(){if(I_)return g3;I_=1;var t=kde(),e=ph(),i=Object.prototype,n=i.hasOwnProperty,s=i.propertyIsEnumerable,r=t(function(){return arguments}())?t:function(a){return e(a)&&n.call(a,"callee")&&!s.call(a,"callee")};return g3=r,g3}var Fde=Array.isArray,tr=Fde,y3,w_;function Ude(){if(w_)return y3;w_=1;var t=y0,e=CR(),i=tr,n=t?t.isConcatSpreadable:void 0;function s(r){return i(r)||e(r)||!!(n&&r&&r[n])}return y3=s,y3}var b3,__;function PD(){if(__)return b3;__=1;var t=ZD(),e=Ude();function i(n,s,r,a,o){var l=-1,c=n.length;for(r||(r=e),o||(o=[]);++l<c;){var u=n[l];s>0&&r(u)?s>1?i(u,s-1,r,a,o):t(o,u):a||(o[o.length]=u)}return o}return b3=i,b3}function Bde(t){return t}var E0=Bde,v3,x_;function Wde(){if(x_)return v3;x_=1;function t(e,i,n){switch(n.length){case 0:return e.call(i);case 1:return e.call(i,n[0]);case 2:return e.call(i,n[0],n[1]);case 3:return e.call(i,n[0],n[1],n[2])}return e.apply(i,n)}return v3=t,v3}var E3,N_;function Gde(){if(N_)return E3;N_=1;var t=Wde(),e=Math.max;function i(n,s,r){return s=e(s===void 0?n.length-1:s,0),function(){for(var a=arguments,o=-1,l=e(a.length-s,0),c=Array(l);++o<l;)c[o]=a[s+o];o=-1;for(var u=Array(s+1);++o<s;)u[o]=a[o];return u[s]=r(c),t(n,this,u)}}return E3=i,E3}var A3,V_;function Dde(){if(V_)return A3;V_=1;function t(e){return function(){return e}}return A3=t,A3}var Mde=Dc,Zde=function(){try{var t=Mde(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Pde=Zde,S3,L_;function Ode(){if(L_)return S3;L_=1;var t=Dde(),e=Pde,i=E0,n=e?function(s,r){return e(s,"toString",{configurable:!0,enumerable:!1,value:t(r),writable:!0})}:i;return S3=n,S3}var T3,k_;function Xde(){if(k_)return T3;k_=1;var t=800,e=16,i=Date.now;function n(s){var r=0,a=0;return function(){var o=i(),l=e-(o-a);if(a=o,l>0){if(++r>=t)return arguments[0]}else r=0;return s.apply(void 0,arguments)}}return T3=n,T3}var C3,F_;function Yde(){if(F_)return C3;F_=1;var t=Ode(),e=Xde(),i=e(t);return C3=i,C3}var R3,U_;function OD(){if(U_)return R3;U_=1;var t=E0,e=Gde(),i=Yde();function n(s,r){return i(e(s,r,t),s+"")}return R3=n,R3}var I3,B_;function RR(){if(B_)return I3;B_=1;var t=9007199254740991;function e(i){return typeof i=="number"&&i>-1&&i%1==0&&i<=t}return I3=e,I3}var w3,W_;function A0(){if(W_)return w3;W_=1;var t=WD(),e=RR();function i(n){return n!=null&&e(n.length)&&!t(n)}return w3=i,w3}var _3,G_;function $de(){if(G_)return _3;G_=1;var t=A0(),e=ph();function i(n){return e(n)&&t(n)}return _3=i,_3}var x3,D_;function Kde(){if(D_)return x3;D_=1;var t=Lde(),e=PD(),i=OD(),n=$de(),s=i(function(r,a){return n(r)?t(r,e(a,1,n,!0)):[]});return x3=s,x3}var N3,M_;function XD(){if(M_)return N3;M_=1;function t(e,i){for(var n=-1,s=e==null?0:e.length,r=0,a=[];++n<s;){var o=e[n];i(o,n,e)&&(a[r++]=o)}return a}return N3=t,N3}var V3,Z_;function zde(){if(Z_)return V3;Z_=1;function t(e){return function(i,n,s){for(var r=-1,a=Object(i),o=s(i),l=o.length;l--;){var c=o[e?l:++r];if(n(a[c],c,a)===!1)break}return i}}return V3=t,V3}var L3,P_;function Jde(){if(P_)return L3;P_=1;var t=zde(),e=t();return L3=e,L3}function jde(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}var Hde=jde,r2={exports:{}};function Qde(){return!1}var qde=Qde;r2.exports;(function(t,e){var i=ba(),n=qde,s=e&&!e.nodeType&&e,r=s&&!0&&t&&!t.nodeType&&t,a=r&&r.exports===s,o=a?i.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||n;t.exports=c})(r2,r2.exports);var YD=r2.exports,k3,O_;function IR(){if(O_)return k3;O_=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function i(n,s){var r=typeof n;return s=s??t,!!s&&(r=="number"||r!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<s}return k3=i,k3}var ehe=b0,the=RR(),ihe=ph(),nhe="[object Arguments]",she="[object Array]",rhe="[object Boolean]",ahe="[object Date]",ohe="[object Error]",lhe="[object Function]",che="[object Map]",uhe="[object Number]",dhe="[object Object]",hhe="[object RegExp]",fhe="[object Set]",phe="[object String]",mhe="[object WeakMap]",ghe="[object ArrayBuffer]",yhe="[object DataView]",bhe="[object Float32Array]",vhe="[object Float64Array]",Ehe="[object Int8Array]",Ahe="[object Int16Array]",She="[object Int32Array]",The="[object Uint8Array]",Che="[object Uint8ClampedArray]",Rhe="[object Uint16Array]",Ihe="[object Uint32Array]",ni={};ni[bhe]=ni[vhe]=ni[Ehe]=ni[Ahe]=ni[She]=ni[The]=ni[Che]=ni[Rhe]=ni[Ihe]=!0;ni[nhe]=ni[she]=ni[ghe]=ni[rhe]=ni[yhe]=ni[ahe]=ni[ohe]=ni[lhe]=ni[che]=ni[uhe]=ni[dhe]=ni[hhe]=ni[fhe]=ni[phe]=ni[mhe]=!1;function whe(t){return ihe(t)&&the(t.length)&&!!ni[ehe(t)]}var _he=whe,a2={exports:{}};a2.exports;(function(t,e){var i=FD(),n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,r=s&&s.exports===n,a=r&&i.process,o=function(){try{var l=s&&s.require&&s.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(a2,a2.exports);var xhe=a2.exports,Nhe=_he,Vhe=TR(),X_=xhe,Y_=X_&&X_.isTypedArray,Lhe=Y_?Vhe(Y_):Nhe,$D=Lhe,khe=Hde,Fhe=CR(),Uhe=tr,Bhe=YD,Whe=IR(),Ghe=$D,Dhe=Object.prototype,Mhe=Dhe.hasOwnProperty;function Zhe(t,e){var i=Uhe(t),n=!i&&Fhe(t),s=!i&&!n&&Bhe(t),r=!i&&!n&&!s&&Ghe(t),a=i||n||s||r,o=a?khe(t.length,String):[],l=o.length;for(var c in t)(e||Mhe.call(t,c))&&!(a&&(c=="length"||s&&(c=="offset"||c=="parent")||r&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Whe(c,l)))&&o.push(c);return o}var Phe=Zhe,Ohe=Object.prototype;function Xhe(t){var e=t&&t.constructor,i=typeof e=="function"&&e.prototype||Ohe;return t===i}var Yhe=Xhe;function $he(t,e){return function(i){return t(e(i))}}var Khe=$he,zhe=Khe,Jhe=zhe(Object.keys,Object),jhe=Jhe,Hhe=Yhe,Qhe=jhe,qhe=Object.prototype,efe=qhe.hasOwnProperty;function tfe(t){if(!Hhe(t))return Qhe(t);var e=[];for(var i in Object(t))efe.call(t,i)&&i!="constructor"&&e.push(i);return e}var ife=tfe,nfe=Phe,sfe=ife,rfe=A0();function afe(t){return rfe(t)?nfe(t):sfe(t)}var wR=afe,F3,$_;function _R(){if($_)return F3;$_=1;var t=Jde(),e=wR;function i(n,s){return n&&t(n,s,e)}return F3=i,F3}var U3,K_;function ofe(){if(K_)return U3;K_=1;var t=A0();function e(i,n){return function(s,r){if(s==null)return s;if(!t(s))return i(s,r);for(var a=s.length,o=n?a:-1,l=Object(s);(n?o--:++o<a)&&r(l[o],o,l)!==!1;);return s}}return U3=e,U3}var B3,z_;function xR(){if(z_)return B3;z_=1;var t=_R(),e=ofe(),i=e(t);return B3=i,B3}var W3,J_;function lfe(){if(J_)return W3;J_=1;var t=xR();function e(i,n){var s=[];return t(i,function(r,a,o){n(r,a,o)&&s.push(r)}),s}return W3=e,W3}var cfe=Oy;function ufe(){this.__data__=new cfe,this.size=0}var dfe=ufe;function hfe(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}var ffe=hfe;function pfe(t){return this.__data__.get(t)}var mfe=pfe;function gfe(t){return this.__data__.has(t)}var yfe=gfe,bfe=Oy,vfe=ER,Efe=AR,Afe=200;function Sfe(t,e){var i=this.__data__;if(i instanceof bfe){var n=i.__data__;if(!vfe||n.length<Afe-1)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new Efe(n)}return i.set(t,e),this.size=i.size,this}var Tfe=Sfe,Cfe=Oy,Rfe=dfe,Ife=ffe,wfe=mfe,_fe=yfe,xfe=Tfe;function bh(t){var e=this.__data__=new Cfe(t);this.size=e.size}bh.prototype.clear=Rfe;bh.prototype.delete=Ife;bh.prototype.get=wfe;bh.prototype.has=_fe;bh.prototype.set=xfe;var KD=bh;function Nfe(t,e){for(var i=-1,n=t==null?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}var Vfe=Nfe,Lfe=DD,kfe=Vfe,Ffe=MD,Ufe=1,Bfe=2;function Wfe(t,e,i,n,s,r){var a=i&Ufe,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var c=r.get(t),u=r.get(e);if(c&&u)return c==e&&u==t;var d=-1,h=!0,f=i&Bfe?new Lfe:void 0;for(r.set(t,e),r.set(e,t);++d<o;){var p=t[d],m=e[d];if(n)var v=a?n(m,p,d,e,t,r):n(p,m,d,t,e,r);if(v!==void 0){if(v)continue;h=!1;break}if(f){if(!kfe(e,function(g,E){if(!Ffe(f,E)&&(p===g||s(p,g,i,n,r)))return f.push(E)})){h=!1;break}}else if(!(p===m||s(p,m,i,n,r))){h=!1;break}}return r.delete(t),r.delete(e),h}var zD=Wfe,Gfe=ba(),Dfe=Gfe.Uint8Array,Mfe=Dfe;function Zfe(t){var e=-1,i=Array(t.size);return t.forEach(function(n,s){i[++e]=[s,n]}),i}var Pfe=Zfe;function Ofe(t){var e=-1,i=Array(t.size);return t.forEach(function(n){i[++e]=n}),i}var Xfe=Ofe,j_=y0,H_=Mfe,Yfe=vR(),$fe=zD,Kfe=Pfe,zfe=Xfe,Jfe=1,jfe=2,Hfe="[object Boolean]",Qfe="[object Date]",qfe="[object Error]",epe="[object Map]",tpe="[object Number]",ipe="[object RegExp]",npe="[object Set]",spe="[object String]",rpe="[object Symbol]",ape="[object ArrayBuffer]",ope="[object DataView]",Q_=j_?j_.prototype:void 0,G3=Q_?Q_.valueOf:void 0;function lpe(t,e,i,n,s,r,a){switch(i){case ope:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ape:return!(t.byteLength!=e.byteLength||!r(new H_(t),new H_(e)));case Hfe:case Qfe:case tpe:return Yfe(+t,+e);case qfe:return t.name==e.name&&t.message==e.message;case ipe:case spe:return t==e+"";case epe:var o=Kfe;case npe:var l=n&Jfe;if(o||(o=zfe),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;n|=jfe,a.set(t,e);var u=$fe(o(t),o(e),n,s,r,a);return a.delete(t),u;case rpe:if(G3)return G3.call(t)==G3.call(e)}return!1}var cpe=lpe,upe=ZD(),dpe=tr;function hpe(t,e,i){var n=e(t);return dpe(t)?n:upe(n,i(t))}var fpe=hpe;function ppe(){return[]}var mpe=ppe,gpe=XD(),ype=mpe,bpe=Object.prototype,vpe=bpe.propertyIsEnumerable,q_=Object.getOwnPropertySymbols,Epe=q_?function(t){return t==null?[]:(t=Object(t),gpe(q_(t),function(e){return vpe.call(t,e)}))}:ype,Ape=Epe,Spe=fpe,Tpe=Ape,Cpe=wR;function Rpe(t){return Spe(t,Cpe,Tpe)}var Ipe=Rpe,ex=Ipe,wpe=1,_pe=Object.prototype,xpe=_pe.hasOwnProperty;function Npe(t,e,i,n,s,r){var a=i&wpe,o=ex(t),l=o.length,c=ex(e),u=c.length;if(l!=u&&!a)return!1;for(var d=l;d--;){var h=o[d];if(!(a?h in e:xpe.call(e,h)))return!1}var f=r.get(t),p=r.get(e);if(f&&p)return f==e&&p==t;var m=!0;r.set(t,e),r.set(e,t);for(var v=a;++d<l;){h=o[d];var g=t[h],E=e[h];if(n)var A=a?n(E,g,h,e,t,r):n(g,E,h,t,e,r);if(!(A===void 0?g===E||s(g,E,i,n,r):A)){m=!1;break}v||(v=h=="constructor")}if(m&&!v){var R=t.constructor,I=e.constructor;R!=I&&"constructor"in t&&"constructor"in e&&!(typeof R=="function"&&R instanceof R&&typeof I=="function"&&I instanceof I)&&(m=!1)}return r.delete(t),r.delete(e),m}var Vpe=Npe,Lpe=Dc,kpe=ba(),Fpe=Lpe(kpe,"DataView"),Upe=Fpe,Bpe=Dc,Wpe=ba(),Gpe=Bpe(Wpe,"Promise"),Dpe=Gpe,Mpe=Dc,Zpe=ba(),Ppe=Mpe(Zpe,"Set"),Ope=Ppe,Xpe=Dc,Ype=ba(),$pe=Xpe(Ype,"WeakMap"),Kpe=$pe,aS=Upe,oS=ER,lS=Dpe,cS=Ope,uS=Kpe,JD=b0,vh=GD,tx="[object Map]",zpe="[object Object]",ix="[object Promise]",nx="[object Set]",sx="[object WeakMap]",rx="[object DataView]",Jpe=vh(aS),jpe=vh(oS),Hpe=vh(lS),Qpe=vh(cS),qpe=vh(uS),Gl=JD;(aS&&Gl(new aS(new ArrayBuffer(1)))!=rx||oS&&Gl(new oS)!=tx||lS&&Gl(lS.resolve())!=ix||cS&&Gl(new cS)!=nx||uS&&Gl(new uS)!=sx)&&(Gl=function(t){var e=JD(t),i=e==zpe?t.constructor:void 0,n=i?vh(i):"";if(n)switch(n){case Jpe:return rx;case jpe:return tx;case Hpe:return ix;case Qpe:return nx;case qpe:return sx}return e});var e0e=Gl,D3=KD,t0e=zD,i0e=cpe,n0e=Vpe,ax=e0e,ox=tr,lx=YD,s0e=$D,r0e=1,cx="[object Arguments]",ux="[object Array]",Bm="[object Object]",a0e=Object.prototype,dx=a0e.hasOwnProperty;function o0e(t,e,i,n,s,r){var a=ox(t),o=ox(e),l=a?ux:ax(t),c=o?ux:ax(e);l=l==cx?Bm:l,c=c==cx?Bm:c;var u=l==Bm,d=c==Bm,h=l==c;if(h&&lx(t)){if(!lx(e))return!1;a=!0,u=!1}if(h&&!u)return r||(r=new D3),a||s0e(t)?t0e(t,e,i,n,s,r):i0e(t,e,l,i,n,s,r);if(!(i&r0e)){var f=u&&dx.call(t,"__wrapped__"),p=d&&dx.call(e,"__wrapped__");if(f||p){var m=f?t.value():t,v=p?e.value():e;return r||(r=new D3),s(m,v,i,n,r)}}return h?(r||(r=new D3),n0e(t,e,i,n,s,r)):!1}var l0e=o0e,c0e=l0e,hx=ph();function jD(t,e,i,n,s){return t===e?!0:t==null||e==null||!hx(t)&&!hx(e)?t!==t&&e!==e:c0e(t,e,i,n,jD,s)}var HD=jD,u0e=KD,d0e=HD,h0e=1,f0e=2;function p0e(t,e,i,n){var s=i.length,r=s,a=!n;if(t==null)return!r;for(t=Object(t);s--;){var o=i[s];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++s<r;){o=i[s];var l=o[0],c=t[l],u=o[1];if(a&&o[2]){if(c===void 0&&!(l in t))return!1}else{var d=new u0e;if(n)var h=n(c,u,l,t,e,d);if(!(h===void 0?d0e(u,c,h0e|f0e,n,d):h))return!1}}return!0}var m0e=p0e,g0e=Gc();function y0e(t){return t===t&&!g0e(t)}var QD=y0e,b0e=QD,v0e=wR;function E0e(t){for(var e=v0e(t),i=e.length;i--;){var n=e[i],s=t[n];e[i]=[n,s,b0e(s)]}return e}var A0e=E0e;function S0e(t,e){return function(i){return i==null?!1:i[t]===e&&(e!==void 0||t in Object(i))}}var qD=S0e,T0e=m0e,C0e=A0e,R0e=qD;function I0e(t){var e=C0e(t);return e.length==1&&e[0][2]?R0e(e[0][0],e[0][1]):function(i){return i===t||T0e(i,t,e)}}var w0e=I0e,_0e=tr,x0e=v0(),N0e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,V0e=/^\w*$/;function L0e(t,e){if(_0e(t))return!1;var i=typeof t;return i=="number"||i=="symbol"||i=="boolean"||t==null||x0e(t)?!0:V0e.test(t)||!N0e.test(t)||e!=null&&t in Object(e)}var NR=L0e,eM=AR,k0e="Expected a function";function VR(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(k0e);var i=function(){var n=arguments,s=e?e.apply(this,n):n[0],r=i.cache;if(r.has(s))return r.get(s);var a=t.apply(this,n);return i.cache=r.set(s,a)||r,a};return i.cache=new(VR.Cache||eM),i}VR.Cache=eM;var F0e=VR,U0e=F0e,B0e=500;function W0e(t){var e=U0e(t,function(n){return i.size===B0e&&i.clear(),n}),i=e.cache;return e}var G0e=W0e,D0e=G0e,M0e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Z0e=/\\(\\)?/g,P0e=D0e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(M0e,function(i,n,s,r){e.push(s?r.replace(Z0e,"$1"):n||i)}),e}),O0e=P0e,M3,fx;function X0e(){if(fx)return M3;fx=1;var t=y0,e=SR,i=tr,n=v0(),s=t?t.prototype:void 0,r=s?s.toString:void 0;function a(o){if(typeof o=="string")return o;if(i(o))return e(o,a)+"";if(n(o))return r?r.call(o):"";var l=o+"";return l=="0"&&1/o==-1/0?"-0":l}return M3=a,M3}var Z3,px;function tM(){if(px)return Z3;px=1;var t=X0e();function e(i){return i==null?"":t(i)}return Z3=e,Z3}var Y0e=tr,$0e=NR,K0e=O0e,z0e=tM();function J0e(t,e){return Y0e(t)?t:$0e(t,e)?[t]:K0e(z0e(t))}var iM=J0e,j0e=v0();function H0e(t){if(typeof t=="string"||j0e(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var Yy=H0e,Q0e=iM,q0e=Yy;function eme(t,e){e=Q0e(e,t);for(var i=0,n=e.length;t!=null&&i<n;)t=t[q0e(e[i++])];return i&&i==n?t:void 0}var LR=eme,tme=LR;function ime(t,e,i){var n=t==null?void 0:tme(t,e);return n===void 0?i:n}var nme=ime;function sme(t,e){return t!=null&&e in Object(t)}var rme=sme,ame=iM,ome=CR(),lme=tr,cme=IR(),ume=RR(),dme=Yy;function hme(t,e,i){e=ame(e,t);for(var n=-1,s=e.length,r=!1;++n<s;){var a=dme(e[n]);if(!(r=t!=null&&i(t,a)))break;t=t[a]}return r||++n!=s?r:(s=t==null?0:t.length,!!s&&ume(s)&&cme(a,s)&&(lme(t)||ome(t)))}var fme=hme,pme=rme,mme=fme;function gme(t,e){return t!=null&&mme(t,e,pme)}var yme=gme,bme=HD,vme=nme,Eme=yme,Ame=NR,Sme=QD,Tme=qD,Cme=Yy,Rme=1,Ime=2;function wme(t,e){return Ame(t)&&Sme(e)?Tme(Cme(t),e):function(i){var n=vme(i,t);return n===void 0&&n===e?Eme(i,t):bme(e,n,Rme|Ime)}}var _me=wme;function xme(t){return function(e){return e==null?void 0:e[t]}}var Nme=xme,Vme=LR;function Lme(t){return function(e){return Vme(e,t)}}var kme=Lme,Fme=Nme,Ume=kme,Bme=NR,Wme=Yy;function Gme(t){return Bme(t)?Fme(Wme(t)):Ume(t)}var Dme=Gme,Mme=w0e,Zme=_me,Pme=E0,Ome=tr,Xme=Dme;function Yme(t){return typeof t=="function"?t:t==null?Pme:typeof t=="object"?Ome(t)?Zme(t[0],t[1]):Mme(t):Xme(t)}var kR=Yme,P3,mx;function $me(){if(mx)return P3;mx=1;var t=XD(),e=lfe(),i=kR,n=tr;function s(r,a){var o=n(r)?t:e;return o(r,i(a))}return P3=s,P3}var O3,gx;function Kme(){if(gx)return O3;gx=1;function t(e,i,n){var s;return n(e,function(r,a,o){if(i(r,a,o))return s=a,!1}),s}return O3=t,O3}var X3,yx;function zme(){if(yx)return X3;yx=1;var t=Kme(),e=_R(),i=kR;function n(s,r){return t(s,i(r),e)}return X3=n,X3}var Y3,bx;function Jme(){if(bx)return Y3;bx=1;function t(e){return e&&e.length?e[0]:void 0}return Y3=t,Y3}var $3,vx;function jme(){return vx||(vx=1,$3=Jme()),$3}var K3,Ex;function Hme(){if(Ex)return K3;Ex=1;function t(e,i){for(var n=-1,s=e==null?0:e.length;++n<s&&i(e[n],n,e)!==!1;);return e}return K3=t,K3}var z3,Ax;function nM(){if(Ax)return z3;Ax=1;var t=E0;function e(i){return typeof i=="function"?i:t}return z3=e,z3}var J3,Sx;function Qme(){if(Sx)return J3;Sx=1;var t=Hme(),e=xR(),i=nM(),n=tr;function s(r,a){var o=n(r)?t:e;return o(r,i(a))}return J3=s,J3}var j3,Tx;function qme(){if(Tx)return j3;Tx=1;var t=_R(),e=nM();function i(n,s){return n&&t(n,e(s))}return j3=i,j3}var H3,Cx;function e1e(){if(Cx)return H3;Cx=1;function t(){}return H3=t,H3}var Q3,Rx;function t1e(){if(Rx)return Q3;Rx=1;var t=xR(),e=A0();function i(n,s){var r=-1,a=e(n)?Array(n.length):[];return t(n,function(o,l,c){a[++r]=s(o,l,c)}),a}return Q3=i,Q3}var q3,Ix;function i1e(){if(Ix)return q3;Ix=1;function t(e,i){var n=e.length;for(e.sort(i);n--;)e[n]=e[n].value;return e}return q3=t,q3}var eE,wx;function n1e(){if(wx)return eE;wx=1;var t=v0();function e(i,n){if(i!==n){var s=i!==void 0,r=i===null,a=i===i,o=t(i),l=n!==void 0,c=n===null,u=n===n,d=t(n);if(!c&&!d&&!o&&i>n||o&&l&&u&&!c&&!d||r&&l&&u||!s&&u||!a)return 1;if(!r&&!o&&!d&&i<n||d&&s&&a&&!r&&!o||c&&s&&a||!l&&a||!u)return-1}return 0}return eE=e,eE}var tE,_x;function s1e(){if(_x)return tE;_x=1;var t=n1e();function e(i,n,s){for(var r=-1,a=i.criteria,o=n.criteria,l=a.length,c=s.length;++r<l;){var u=t(a[r],o[r]);if(u){if(r>=c)return u;var d=s[r];return u*(d=="desc"?-1:1)}}return i.index-n.index}return tE=e,tE}var iE,xx;function r1e(){if(xx)return iE;xx=1;var t=SR,e=LR,i=kR,n=t1e(),s=i1e(),r=TR(),a=s1e(),o=E0,l=tr;function c(u,d,h){d.length?d=t(d,function(m){return l(m)?function(v){return e(v,m.length===1?m[0]:m)}:m}):d=[o];var f=-1;d=t(d,r(i));var p=n(u,function(m,v,g){var E=t(d,function(A){return A(m)});return{criteria:E,index:++f,value:m}});return s(p,function(m,v){return a(m,v,h)})}return iE=c,iE}var nE,Nx;function a1e(){if(Nx)return nE;Nx=1;var t=vR(),e=A0(),i=IR(),n=Gc();function s(r,a,o){if(!n(o))return!1;var l=typeof a;return(l=="number"?e(o)&&i(a,o.length):l=="string"&&a in o)?t(o[a],r):!1}return nE=s,nE}var sE,Vx;function o1e(){if(Vx)return sE;Vx=1;var t=PD(),e=r1e(),i=OD(),n=a1e(),s=i(function(r,a){if(r==null)return[];var o=a.length;return o>1&&n(r,a[0],a[1])?a=[]:o>2&&n(a[0],a[1],a[2])&&(a=[a[0]]),e(r,t(a,1),[])});return sE=s,sE}var rE,Lx;function l1e(){if(Lx)return rE;Lx=1;var t=BD(),e=Gc(),i="Expected a function";function n(s,r,a){var o=!0,l=!0;if(typeof s!="function")throw new TypeError(i);return e(a)&&(o="leading"in a?!!a.leading:o,l="trailing"in a?!!a.trailing:l),t(s,r,{leading:o,maxWait:r,trailing:l})}return rE=n,rE}var aE,kx;function c1e(){if(kx)return aE;kx=1;var t=tM(),e=0;function i(n){var s=++e;return t(n)+s}return aE=i,aE}(function(t,e){(function(i,n){t.exports=n(BD(),Kde(),$me(),zme(),jme(),Qme(),qme(),e1e(),o1e(),l1e(),c1e(),tn)})(qa,function(i,n,s,r,a,o,l,c,u,d,h,f){return function(){var p={654:function(v,g,E){var A,R=this&&this.__assign||function(){return R=Object.assign||function(ce){for(var $,te=1,ue=arguments.length;te<ue;te++)for(var be in $=arguments[te])Object.prototype.hasOwnProperty.call($,be)&&(ce[be]=$[be]);return ce},R.apply(this,arguments)},I=this&&this.__createBinding||(Object.create?function(ce,$,te,ue){ue===void 0&&(ue=te);var be=Object.getOwnPropertyDescriptor($,te);be&&!("get"in be?!$.__esModule:be.writable||be.configurable)||(be={enumerable:!0,get:function(){return $[te]}}),Object.defineProperty(ce,ue,be)}:function(ce,$,te,ue){ue===void 0&&(ue=te),ce[ue]=$[te]}),L=this&&this.__setModuleDefault||(Object.create?function(ce,$){Object.defineProperty(ce,"default",{enumerable:!0,value:$})}:function(ce,$){ce.default=$}),F=this&&this.__importStar||function(ce){if(ce&&ce.__esModule)return ce;var $={};if(ce!=null)for(var te in ce)te!=="default"&&Object.prototype.hasOwnProperty.call(ce,te)&&I($,ce,te);return L($,ce),$},B=this&&this.__spreadArray||function(ce,$,te){if(te||arguments.length===2)for(var ue,be=0,xe=$.length;be<xe;be++)!ue&&be in $||(ue||(ue=Array.prototype.slice.call($,0,be)),ue[be]=$[be]);return ce.concat(ue||Array.prototype.slice.call($))},G=this&&this.__importDefault||function(ce){return ce&&ce.__esModule?ce:{default:ce}};Object.defineProperty(g,"__esModule",{value:!0}),g.updateRtl=g.doesFocusableExist=g.getCurrentFocusKey=g.updateAllLayouts=g.resume=g.pause=g.navigateByDirection=g.setFocus=g.setKeyMap=g.destroy=g.setThrottle=g.init=g.SpatialNavigation=g.ROOT_FOCUS_KEY=void 0;var Z=G(E(150)),j=G(E(117)),pe=G(E(747)),J=G(E(23)),me=G(E(842)),de=G(E(682)),ye=G(E(784)),Le=G(E(432)),ge=G(E(67)),H=G(E(35)),ee=G(E(119)),we=F(E(964)),M="left",Q="right",se="up",ne="down",Ie="enter",ke=((A={}).left=[37,"ArrowLeft"],A.up=[38,"ArrowUp"],A.right=[39,"ArrowRight"],A.down=[40,"ArrowDown"],A.enter=[13,"Enter"],A);g.ROOT_FOCUS_KEY="SN:ROOT";var De=["#0FF","#FF0","#F0F"],$e={leading:!0,trailing:!1},Je=function(){function ce(){this.focusableComponents={},this.focusKey=null,this.parentsHavingFocusedChild=[],this.domNodeFocusOptions={},this.enabled=!1,this.nativeMode=!1,this.throttle=0,this.throttleKeypresses=!1,this.useGetBoundingClientRect=!1,this.shouldFocusDOMNode=!1,this.shouldUseNativeEvents=!1,this.writingDirection=ee.default.LTR,this.pressedKeys={},this.paused=!1,this.keyDownEventListener=null,this.keyUpEventListener=null,this.keyMap=ke,this.pause=this.pause.bind(this),this.resume=this.resume.bind(this),this.setFocus=this.setFocus.bind(this),this.updateAllLayouts=this.updateAllLayouts.bind(this),this.navigateByDirection=this.navigateByDirection.bind(this),this.init=this.init.bind(this),this.setThrottle=this.setThrottle.bind(this),this.destroy=this.destroy.bind(this),this.setKeyMap=this.setKeyMap.bind(this),this.getCurrentFocusKey=this.getCurrentFocusKey.bind(this),this.doesFocusableExist=this.doesFocusableExist.bind(this),this.updateRtl=this.updateRtl.bind(this),this.setFocusDebounced=(0,Z.default)(this.setFocus,300,{leading:!1,trailing:!0}),this.debug=!1,this.visualDebugger=null,this.logIndex=0,this.distanceCalculationMethod="corners"}return ce.getCutoffCoordinate=function($,te,ue,be,xe){var Ge=$?be.top:xe===ee.default.LTR?be.left:be.right,Me=$?be.bottom:xe===ee.default.LTR?be.right:be.left;return te?ue?Ge:Me:ue?Me:Ge},ce.getRefCorners=function($,te,ue){var be={a:{x:0,y:0},b:{x:0,y:0}};switch($){case se:var xe=te?ue.bottom:ue.top;be.a={x:ue.left,y:xe},be.b={x:ue.right,y:xe};break;case ne:xe=te?ue.top:ue.bottom,be.a={x:ue.left,y:xe},be.b={x:ue.right,y:xe};break;case M:var Ge=te?ue.right:ue.left;be.a={x:Ge,y:ue.top},be.b={x:Ge,y:ue.bottom};break;case Q:Ge=te?ue.left:ue.right,be.a={x:Ge,y:ue.top},be.b={x:Ge,y:ue.bottom}}return be},ce.isAdjacentSlice=function($,te,ue){var be=$.a,xe=$.b,Ge=te.a,Me=te.b,le=ue?"x":"y",Pe=be[le],ht=xe[le],rt=Ge[le],st=Me[le],He=.2*(ht-Pe);return Math.max(0,Math.min(ht,st)-Math.max(Pe,rt))>=He},ce.getPrimaryAxisDistance=function($,te,ue){var be=$.a,xe=te.a,Ge=ue?"y":"x";return Math.abs(xe[Ge]-be[Ge])},ce.getSecondaryAxisDistance=function($,te,ue,be,xe){if(xe)return xe($,te,ue,be);var Ge=$.a,Me=$.b,le=te.a,Pe=te.b,ht=ue?"x":"y",rt=Ge[ht],st=Me[ht],He=le[ht],bt=Pe[ht];if(be==="center"){var tt=(rt+st)/2,gt=(He+bt)/2;return Math.abs(tt-gt)}if(be==="edges"){var Ft=Math.min(rt,st),Yt=Math.min(He,bt),W=Math.max(rt,st),_=Math.max(He,bt),N=Math.abs(Ft-Yt),X=Math.abs(W-_);return Math.min(N,X)}var q=[Math.abs(He-rt),Math.abs(He-st),Math.abs(bt-rt),Math.abs(bt-st)];return Math.min.apply(Math,q)},ce.prototype.sortSiblingsByPriority=function($,te,ue,be){var xe=this,Ge=ue===ne||ue===se,Me=ce.getRefCorners(ue,!1,te);return(0,Le.default)($,function(le){var Pe=ce.getRefCorners(ue,!0,le.layout),ht=ce.isAdjacentSlice(Me,Pe,Ge),rt=ht?ce.getPrimaryAxisDistance:ce.getSecondaryAxisDistance,st=ht?ce.getSecondaryAxisDistance:ce.getPrimaryAxisDistance,He=rt(Me,Pe,Ge,xe.distanceCalculationMethod,xe.customDistanceCalculationFunction),bt=st(Me,Pe,Ge,xe.distanceCalculationMethod,xe.customDistanceCalculationFunction),tt=5*He+bt,gt=(tt+1)/(ht?5:1);return xe.log("smartNavigate","distance (primary, secondary, total weighted) for ".concat(le.focusKey," relative to ").concat(be," is"),He,bt,tt),xe.log("smartNavigate","priority for ".concat(le.focusKey," relative to ").concat(be," is"),gt),xe.visualDebugger&&(xe.visualDebugger.drawPoint(Pe.a.x,Pe.a.y,"yellow",6),xe.visualDebugger.drawPoint(Pe.b.x,Pe.b.y,"yellow",6)),gt})},ce.prototype.init=function($){var te=this,ue=$===void 0?{}:$,be=ue.debug,xe=be!==void 0&&be,Ge=ue.visualDebug,Me=Ge!==void 0&&Ge,le=ue.nativeMode,Pe=le!==void 0&&le,ht=ue.throttle,rt=ht===void 0?0:ht,st=ue.throttleKeypresses,He=st!==void 0&&st,bt=ue.useGetBoundingClientRect,tt=bt!==void 0&&bt,gt=ue.shouldFocusDOMNode,Ft=gt!==void 0&&gt,Yt=ue.domNodeFocusOptions,W=Yt===void 0?{}:Yt,_=ue.shouldUseNativeEvents,N=_!==void 0&&_,X=ue.rtl,q=X!==void 0&&X,ae=ue.distanceCalculationMethod,Ce=ae===void 0?"corners":ae,ut=ue.customDistanceCalculationFunction,jt=ut===void 0?void 0:ut;if(!this.enabled&&(this.domNodeFocusOptions=W,this.enabled=!0,this.nativeMode=Pe,this.throttleKeypresses=He,this.useGetBoundingClientRect=tt,this.shouldFocusDOMNode=Ft&&!Pe,this.shouldUseNativeEvents=N,this.writingDirection=q?ee.default.RTL:ee.default.LTR,this.distanceCalculationMethod=Ce,this.customDistanceCalculationFunction=jt,this.debug=xe,!this.nativeMode&&(Number.isInteger(rt)&&rt>0&&(this.throttle=rt),this.bindEventHandlers(),Me))){this.visualDebugger=new H.default(this.writingDirection);var Ut=function(){requestAnimationFrame(function(){te.visualDebugger.clearLayouts(),(0,ye.default)(te.focusableComponents,function($t,Rt){te.visualDebugger.drawLayout($t.layout,Rt,$t.parentFocusKey)}),Ut()})};Ut()}},ce.prototype.setThrottle=function($){var te=$===void 0?{}:$,ue=te.throttle,be=ue===void 0?0:ue,xe=te.throttleKeypresses,Ge=xe!==void 0&&xe;this.throttleKeypresses=Ge,this.nativeMode||(this.unbindEventHandlers(),Number.isInteger(be)&&(this.throttle=be),this.bindEventHandlers())},ce.prototype.destroy=function(){this.enabled&&(this.enabled=!1,this.nativeMode=!1,this.throttle=0,this.throttleKeypresses=!1,this.focusKey=null,this.parentsHavingFocusedChild=[],this.focusableComponents={},this.paused=!1,this.keyMap=ke,this.unbindEventHandlers())},ce.prototype.getEventType=function($){return(0,J.default)(this.getKeyMap(),function(te){return te.includes($)})},ce.getKeyCode=function($){return $.keyCode||$.code||$.key},ce.prototype.bindEventHandlers=function(){var $=this;typeof window<"u"&&window.addEventListener&&(this.keyDownEventListener=function(te){if($.paused!==!0){$.debug&&($.logIndex+=1);var ue=ce.getKeyCode(te),be=$.getEventType(ue);if(be){$.pressedKeys[be]=$.pressedKeys[be]?$.pressedKeys[be]+1:1,$.shouldUseNativeEvents||(te.preventDefault(),te.stopPropagation());var xe={pressedKeys:$.pressedKeys};if(be===Ie&&$.focusKey)$.onEnterPress(xe);else{var Ge=$.onArrowPress(be,xe)===!1;if($.visualDebugger&&$.visualDebugger.clear(),Ge)$.log("keyDownEventListener","default navigation prevented");else{var Me=(0,J.default)($.getKeyMap(),function(le){return le.includes(ue)});$.smartNavigate(Me,null,{event:te})}}}}},this.throttle&&(this.keyDownEventListenerThrottled=(0,ge.default)(this.keyDownEventListener.bind(this),this.throttle,$e)),this.keyUpEventListener=function(te){var ue=ce.getKeyCode(te),be=$.getEventType(ue);delete $.pressedKeys[be],$.throttle&&!$.throttleKeypresses&&$.keyDownEventListenerThrottled.cancel(),be===Ie&&$.focusKey&&$.onEnterRelease(),!$.focusKey||be!==M&&be!==Q&&be!==se&&be!==ne||$.onArrowRelease(be)},window.addEventListener("keyup",this.keyUpEventListener),window.addEventListener("keydown",this.throttle?this.keyDownEventListenerThrottled:this.keyDownEventListener))},ce.prototype.unbindEventHandlers=function(){if(typeof window<"u"&&window.removeEventListener){window.removeEventListener("keyup",this.keyUpEventListener),this.keyUpEventListener=null;var $=this.throttle?this.keyDownEventListenerThrottled:this.keyDownEventListener;window.removeEventListener("keydown",$),this.keyDownEventListener=null}},ce.prototype.onEnterPress=function($){var te=this.focusableComponents[this.focusKey];te?te.focusable?te.onEnterPress&&te.onEnterPress($):this.log("onEnterPress","componentNotFocusable"):this.log("onEnterPress","noComponent")},ce.prototype.onEnterRelease=function(){var $=this.focusableComponents[this.focusKey];$?$.focusable?$.onEnterRelease&&$.onEnterRelease():this.log("onEnterRelease","componentNotFocusable"):this.log("onEnterRelease","noComponent")},ce.prototype.onArrowPress=function($,te){var ue=this.focusableComponents[this.focusKey];if(ue)return ue&&ue.onArrowPress&&ue.onArrowPress($,te);this.log("onArrowPress","noComponent")},ce.prototype.onArrowRelease=function($){var te=this.focusableComponents[this.focusKey];te?te.focusable?te.onArrowRelease&&te.onArrowRelease($):this.log("onArrowRelease","componentNotFocusable"):this.log("onArrowRelease","noComponent")},ce.prototype.navigateByDirection=function($,te){if(this.paused!==!0&&this.enabled&&!this.nativeMode){var ue=[ne,se,M,Q];ue.includes($)?(this.log("navigateByDirection","direction",$),this.smartNavigate($,null,te)):this.log("navigateByDirection","Invalid direction. You passed: `".concat($,"`, but you can use only these: "),ue)}},ce.prototype.smartNavigate=function($,te,ue){var be=this;if(!this.nativeMode){var xe=$===ne||$===se,Ge=$===ne||(this.writingDirection===ee.default.LTR?$===Q:$===M);this.log("smartNavigate","direction",$),this.log("smartNavigate","fromParentFocusKey",te),this.log("smartNavigate","this.focusKey",this.focusKey),te||(0,ye.default)(this.focusableComponents,function(Yt){Yt.layoutUpdated=!1});var Me=this.focusableComponents[te||this.focusKey];if(te||Me){if(this.log("smartNavigate","currentComponent",Me?Me.focusKey:void 0,Me?Me.node:void 0,Me),Me){this.updateLayout(Me.focusKey);var le=Me.parentFocusKey,Pe=Me.focusKey,ht=Me.layout,rt=ce.getCutoffCoordinate(xe,Ge,!1,ht,this.writingDirection),st=(0,pe.default)(this.focusableComponents,function(Yt){if(Yt.parentFocusKey===le&&Yt.focusable){be.updateLayout(Yt.focusKey);var W=ce.getCutoffCoordinate(xe,Ge,!0,Yt.layout,be.writingDirection);return xe||be.writingDirection===ee.default.LTR?Ge?W>=rt:W<=rt:Ge?W<=rt:W>=rt}return!1});if(this.debug&&(this.log("smartNavigate","currentCutoffCoordinate",rt),this.log("smartNavigate","siblings","".concat(st.length," elements:"),st.map(function(Yt){return Yt.focusKey}).join(", "),st.map(function(Yt){return Yt.node}),st.map(function(Yt){return Yt}))),this.visualDebugger){var He=ce.getRefCorners($,!1,ht);this.visualDebugger.drawPoint(He.a.x,He.a.y),this.visualDebugger.drawPoint(He.b.x,He.b.y)}var bt=this.sortSiblingsByPriority(st,ht,$,Pe),tt=(0,me.default)(bt);if(this.log("smartNavigate","nextComponent",tt?tt.focusKey:void 0,tt?tt.node:void 0,tt),tt)this.setFocus(tt.focusKey,ue);else{var gt=this.focusableComponents[le],Ft=gt!=null&&gt.isFocusBoundary?gt.focusBoundaryDirections||[$]:[];gt&&Ft.includes($)||this.smartNavigate($,le,ue)}}}else this.setFocus(this.getForcedFocusKey())}},ce.prototype.saveLastFocusedChildKey=function($,te){$&&(this.log("saveLastFocusedChildKey","".concat($.focusKey," lastFocusedChildKey set"),te),$.lastFocusedChildKey=te)},ce.prototype.log=function($,te){for(var ue=[],be=2;be<arguments.length;be++)ue[be-2]=arguments[be];this.debug&&console.log.apply(console,B(["%c".concat($,"%c").concat(te),"background: ".concat(De[this.logIndex%De.length],"; color: black; padding: 1px 5px;"),"background: #333; color: #BADA55; padding: 1px 5px;"],ue,!1))},ce.prototype.getCurrentFocusKey=function(){return this.focusKey},ce.prototype.getForcedFocusKey=function(){var $,te=(0,pe.default)(this.focusableComponents,function(be){return be.focusable&&be.forceFocus}),ue=this.sortSiblingsByPriority(te,{x:0,y:0,width:0,height:0,left:0,top:0,right:0,bottom:0,node:null},"down",g.ROOT_FOCUS_KEY);return($=(0,me.default)(ue))===null||$===void 0?void 0:$.focusKey},ce.prototype.getNextFocusKey=function($){var te=this,ue=this.focusableComponents[$];if(!ue||this.nativeMode)return $;var be=(0,pe.default)(this.focusableComponents,function(le){return le.parentFocusKey===$&&le.focusable});if(be.length>0){var xe=ue.lastFocusedChildKey,Ge=ue.preferredChildFocusKey;if(this.log("getNextFocusKey","lastFocusedChildKey is",xe),this.log("getNextFocusKey","preferredChildFocusKey is",Ge),xe&&ue.saveLastFocusedChild&&this.isParticipatingFocusableComponent(xe))return this.log("getNextFocusKey","lastFocusedChildKey will be focused",xe),this.getNextFocusKey(xe);if(Ge&&this.isParticipatingFocusableComponent(Ge))return this.log("getNextFocusKey","preferredChildFocusKey will be focused",Ge),this.getNextFocusKey(Ge);be.forEach(function(le){return te.updateLayout(le.focusKey)});var Me=function(le,Pe){var ht=Pe===ee.default.LTR?function(st){var He=st.layout;return Math.abs(He.left)+Math.abs(He.top)}:function(st){var He=st.layout;return Math.abs(window.innerWidth-He.right)+Math.abs(He.top)},rt=(0,Le.default)(le,ht);return(0,me.default)(rt)}(be,this.writingDirection).focusKey;return this.log("getNextFocusKey","childKey will be focused",Me),this.getNextFocusKey(Me)}return this.log("getNextFocusKey","targetFocusKey",$),$},ce.prototype.addFocusable=function($){var te=$.focusKey,ue=$.node,be=$.parentFocusKey,xe=$.onEnterPress,Ge=$.onEnterRelease,Me=$.onArrowPress,le=$.onArrowRelease,Pe=$.onFocus,ht=$.onBlur,rt=$.saveLastFocusedChild,st=$.trackChildren,He=$.onUpdateFocus,bt=$.onUpdateHasFocusedChild,tt=$.preferredChildFocusKey,gt=$.autoRestoreFocus,Ft=$.forceFocus,Yt=$.focusable,W=$.isFocusBoundary,_=$.focusBoundaryDirections;if(this.focusableComponents[te]={focusKey:te,node:ue,parentFocusKey:be,onEnterPress:xe,onEnterRelease:Ge,onArrowPress:Me,onArrowRelease:le,onFocus:Pe,onBlur:ht,onUpdateFocus:He,onUpdateHasFocusedChild:bt,saveLastFocusedChild:rt,trackChildren:st,preferredChildFocusKey:tt,focusable:Yt,isFocusBoundary:W,focusBoundaryDirections:_,autoRestoreFocus:gt,forceFocus:Ft,lastFocusedChildKey:null,layout:{x:0,y:0,width:0,height:0,left:0,top:0,right:0,bottom:0,node:ue},layoutUpdated:!1},ue||console.warn('Component added without a node reference. This will result in its coordinates being empty and may cause lost focus. Check the "ref" passed to "useFocusable": ',this.focusableComponents[te]),!this.nativeMode){this.updateLayout(te),this.log("addFocusable","Component added: ",this.focusableComponents[te]),te===this.focusKey&&this.setFocus(tt||te);for(var N=this.focusableComponents[this.focusKey];N;){if(N.parentFocusKey===te){this.updateParentsHasFocusedChild(this.focusKey,{}),this.updateParentsLastFocusedChild(this.focusKey);break}N=this.focusableComponents[N.parentFocusKey]}}},ce.prototype.removeFocusable=function($){var te=$.focusKey,ue=this.focusableComponents[te];if(ue){var be=ue.parentFocusKey;(0,ue.onUpdateFocus)(!1),this.log("removeFocusable","Component removed: ",ue),delete this.focusableComponents[te];var xe=this.parentsHavingFocusedChild.includes(te);this.parentsHavingFocusedChild=this.parentsHavingFocusedChild.filter(function(le){return le!==te});var Ge=this.focusableComponents[be],Me=te===this.focusKey;if(Ge&&Ge.lastFocusedChildKey===te&&(Ge.lastFocusedChildKey=null),this.nativeMode)return;(Me||xe)&&Ge&&Ge.autoRestoreFocus&&(this.log("removeFocusable","Component removed: ",Me?"Leaf component":"Container component","Auto restoring focus to: ",be),this.setFocusDebounced(be))}},ce.prototype.getNodeLayoutByFocusKey=function($){var te=this.focusableComponents[$];return te?(this.updateLayout(te.focusKey),te.layout):null},ce.prototype.setCurrentFocusedKey=function($,te){var ue,be,xe,Ge;if(this.isFocusableComponent(this.focusKey)&&$!==this.focusKey){var Me=this.focusableComponents[this.focusKey];Me.onUpdateFocus(!1),Me.onBlur(this.getNodeLayoutByFocusKey(this.focusKey),te),(be=(ue=Me.node)===null||ue===void 0?void 0:ue.removeAttribute)===null||be===void 0||be.call(ue,"data-focused"),this.log("setCurrentFocusedKey","onBlur",Me)}if(this.focusKey=$,this.isFocusableComponent(this.focusKey)){var le=this.focusableComponents[this.focusKey];this.shouldFocusDOMNode&&le.node&&le.node.focus(this.domNodeFocusOptions),(Ge=(xe=le.node)===null||xe===void 0?void 0:xe.setAttribute)===null||Ge===void 0||Ge.call(xe,"data-focused","true"),le.onUpdateFocus(!0),le.onFocus(this.getNodeLayoutByFocusKey(this.focusKey),te),this.log("setCurrentFocusedKey","onFocus",le)}},ce.prototype.updateParentsHasFocusedChild=function($,te){for(var ue=this,be=[],xe=this.focusableComponents[$];xe;){var Ge=xe.parentFocusKey,Me=this.focusableComponents[Ge];if(Me){var le=Me.focusKey;be.push(le)}xe=Me}var Pe=(0,j.default)(this.parentsHavingFocusedChild,be),ht=(0,j.default)(be,this.parentsHavingFocusedChild);(0,de.default)(Pe,function(rt){var st=ue.focusableComponents[rt];st&&st.trackChildren&&st.onUpdateHasFocusedChild(!1),ue.onIntermediateNodeBecameBlurred(rt,te)}),(0,de.default)(ht,function(rt){var st=ue.focusableComponents[rt];st&&st.trackChildren&&st.onUpdateHasFocusedChild(!0),ue.onIntermediateNodeBecameFocused(rt,te)}),this.parentsHavingFocusedChild=be},ce.prototype.updateParentsLastFocusedChild=function($){for(var te=this.focusableComponents[$];te;){var ue=te.parentFocusKey,be=this.focusableComponents[ue];be&&this.saveLastFocusedChildKey(be,te.focusKey),te=be}},ce.prototype.getKeyMap=function(){return this.keyMap},ce.prototype.setKeyMap=function($){this.keyMap=R(R({},this.getKeyMap()),function(te){var ue={};return Object.entries(te).forEach(function(be){var xe=be[0],Ge=be[1];ue[xe]=Array.isArray(Ge)?Ge:[Ge]}),ue}($))},ce.prototype.isFocusableComponent=function($){return!!this.focusableComponents[$]},ce.prototype.isParticipatingFocusableComponent=function($){return this.isFocusableComponent($)&&this.focusableComponents[$].focusable},ce.prototype.onIntermediateNodeBecameFocused=function($,te){this.isParticipatingFocusableComponent($)&&this.focusableComponents[$].onFocus(this.getNodeLayoutByFocusKey($),te)},ce.prototype.onIntermediateNodeBecameBlurred=function($,te){this.isParticipatingFocusableComponent($)&&this.focusableComponents[$].onBlur(this.getNodeLayoutByFocusKey($),te)},ce.prototype.pause=function(){this.paused=!0},ce.prototype.resume=function(){this.paused=!1},ce.prototype.setFocus=function($,te){if(te===void 0&&(te={}),this.setFocusDebounced.cancel(),this.enabled){this.log("setFocus","focusKey",$),$&&$!==g.ROOT_FOCUS_KEY||($=this.getForcedFocusKey());var ue=this.getNextFocusKey($);this.log("setFocus","newFocusKey",ue),this.setCurrentFocusedKey(ue,te),this.updateParentsHasFocusedChild(ue,te),this.updateParentsLastFocusedChild(ue)}},ce.prototype.updateAllLayouts=function(){var $=this;this.enabled&&!this.nativeMode&&(0,ye.default)(this.focusableComponents,function(te,ue){$.updateLayout(ue)})},ce.prototype.updateLayout=function($){var te=this.focusableComponents[$];if(te&&!this.nativeMode&&!te.layoutUpdated){var ue=te.node,be=this.useGetBoundingClientRect?(0,we.getBoundingClientRect)(ue):(0,we.default)(ue);te.layout=R(R({},be),{node:ue})}},ce.prototype.updateFocusable=function($,te){var ue=te.node,be=te.preferredChildFocusKey,xe=te.focusable,Ge=te.isFocusBoundary,Me=te.focusBoundaryDirections,le=te.onEnterPress,Pe=te.onEnterRelease,ht=te.onArrowPress,rt=te.onFocus,st=te.onBlur;if(!this.nativeMode){var He=this.focusableComponents[$];He&&(He.preferredChildFocusKey=be,He.focusable=xe,He.isFocusBoundary=Ge,He.focusBoundaryDirections=Me,He.onEnterPress=le,He.onEnterRelease=Pe,He.onArrowPress=ht,He.onFocus=rt,He.onBlur=st,ue&&(He.node=ue))}},ce.prototype.isNativeMode=function(){return this.nativeMode},ce.prototype.doesFocusableExist=function($){return!!this.focusableComponents[$]},ce.prototype.updateRtl=function($){this.writingDirection=$?ee.default.RTL:ee.default.LTR},ce}();g.SpatialNavigation=new Je,g.init=g.SpatialNavigation.init,g.setThrottle=g.SpatialNavigation.setThrottle,g.destroy=g.SpatialNavigation.destroy,g.setKeyMap=g.SpatialNavigation.setKeyMap,g.setFocus=g.SpatialNavigation.setFocus,g.navigateByDirection=g.SpatialNavigation.navigateByDirection,g.pause=g.SpatialNavigation.pause,g.resume=g.SpatialNavigation.resume,g.updateAllLayouts=g.SpatialNavigation.updateAllLayouts,g.getCurrentFocusKey=g.SpatialNavigation.getCurrentFocusKey,g.doesFocusableExist=g.SpatialNavigation.doesFocusableExist,g.updateRtl=g.SpatialNavigation.updateRtl},35:function(v,g,E){var A=this&&this.__importDefault||function(G){return G&&G.__esModule?G:{default:G}};Object.defineProperty(g,"__esModule",{value:!0});var R=A(E(119)),I=typeof window<"u"&&window.document,L=I?window.innerWidth:0,F=I?window.innerHeight:0,B=function(){function G(Z){I&&(this.debugCtx=G.createCanvas("sn-debug","1010",Z),this.layoutsCtx=G.createCanvas("sn-layouts","1000",Z),this.writingDirection=Z)}return G.createCanvas=function(Z,j,pe){var J=document.querySelector("#".concat(Z))||document.createElement("canvas");J.setAttribute("id",Z),J.setAttribute("dir",pe===R.default.LTR?"ltr":"rtl");var me=J.getContext("2d");return J.style.zIndex=j,J.style.position="fixed",J.style.top="0",J.style.left="0",document.body.appendChild(J),J.width=L,J.height=F,me},G.prototype.clear=function(){I&&this.debugCtx.clearRect(0,0,L,F)},G.prototype.clearLayouts=function(){I&&this.layoutsCtx.clearRect(0,0,L,F)},G.prototype.drawLayout=function(Z,j,pe){if(I){this.layoutsCtx.strokeStyle="green",this.layoutsCtx.strokeRect(Z.left,Z.top,Z.width,Z.height),this.layoutsCtx.font="8px monospace",this.layoutsCtx.fillStyle="red";var J=this.writingDirection===R.default.LTR?"left":"right",me=Z[J];this.layoutsCtx.fillText(j,me,Z.top+10),this.layoutsCtx.fillText(pe,me,Z.top+25),this.layoutsCtx.fillText("".concat(J,": ").concat(me),me,Z.top+40),this.layoutsCtx.fillText("top: ".concat(Z.top),me,Z.top+55)}},G.prototype.drawPoint=function(Z,j,pe,J){pe===void 0&&(pe="blue"),J===void 0&&(J=10),I&&(this.debugCtx.strokeStyle=pe,this.debugCtx.lineWidth=3,this.debugCtx.strokeRect(Z-J/2,j-J/2,J,J))},G}();g.default=B},119:function(v,g){var E;Object.defineProperty(g,"__esModule",{value:!0}),function(A){A[A.LTR=0]="LTR",A[A.RTL=1]="RTL"}(E||(E={})),g.default=E},607:function(v,g,E){var A=this&&this.__createBinding||(Object.create?function(I,L,F,B){B===void 0&&(B=F);var G=Object.getOwnPropertyDescriptor(L,F);G&&!("get"in G?!L.__esModule:G.writable||G.configurable)||(G={enumerable:!0,get:function(){return L[F]}}),Object.defineProperty(I,B,G)}:function(I,L,F,B){B===void 0&&(B=F),I[B]=L[F]}),R=this&&this.__exportStar||function(I,L){for(var F in I)F==="default"||Object.prototype.hasOwnProperty.call(L,F)||A(L,I,F)};Object.defineProperty(g,"__esModule",{value:!0}),R(E(79),g),R(E(445),g),R(E(654),g)},964:function(v,g){Object.defineProperty(g,"__esModule",{value:!0}),g.getBoundingClientRect=void 0;var E=function(A){for(var R=A.offsetParent,I=A.offsetHeight,L=A.offsetWidth,F=A.offsetLeft,B=A.offsetTop;R&&R.nodeType===1;)F+=R.offsetLeft-R.scrollLeft,B+=R.offsetTop-R.scrollTop,R=R.offsetParent;return{height:I,left:F,top:B,width:L}};g.default=function(A){var R=A&&A.parentElement;if(A&&R){var I=E(R),L=E(A),F=L.height,B=L.left,G=L.top,Z=L.width;return{x:B-I.left,y:G-I.top,width:Z,height:F,left:B,top:G,get right(){return this.left+this.width},get bottom(){return this.top+this.height}}}return{x:0,y:0,width:0,height:0,left:0,top:0,right:0,bottom:0}},g.getBoundingClientRect=function(A){if(A&&A.getBoundingClientRect){var R=A.getBoundingClientRect();return{x:R.x,y:R.y,width:R.width,height:R.height,left:R.left,top:R.top,get right(){return this.left+this.width},get bottom(){return this.top+this.height}}}return{x:0,y:0,width:0,height:0,left:0,top:0,right:0,bottom:0}}},445:function(v,g,E){Object.defineProperty(g,"__esModule",{value:!0}),g.useFocusContext=g.FocusContext=void 0;var A=E(156),R=E(654);g.FocusContext=(0,A.createContext)(R.ROOT_FOCUS_KEY),g.FocusContext.displayName="FocusContext",g.useFocusContext=function(){return(0,A.useContext)(g.FocusContext)}},79:function(v,g,E){var A=this&&this.__importDefault||function(G){return G&&G.__esModule?G:{default:G}};Object.defineProperty(g,"__esModule",{value:!0}),g.useFocusable=void 0;var R=E(156),I=A(E(604)),L=A(E(461)),F=E(654),B=E(445);g.useFocusable=function(G){var Z=G===void 0?{}:G,j=Z.focusable,pe=j===void 0||j,J=Z.saveLastFocusedChild,me=J===void 0||J,de=Z.trackChildren,ye=de!==void 0&&de,Le=Z.autoRestoreFocus,ge=Le===void 0||Le,H=Z.forceFocus,ee=H!==void 0&&H,we=Z.isFocusBoundary,M=we!==void 0&&we,Q=Z.focusBoundaryDirections,se=Z.focusKey,ne=Z.preferredChildFocusKey,Ie=Z.onEnterPress,ke=Ie===void 0?I.default:Ie,De=Z.onEnterRelease,$e=De===void 0?I.default:De,Je=Z.onArrowPress,ce=Je===void 0?function(){return!0}:Je,$=Z.onArrowRelease,te=$===void 0?I.default:$,ue=Z.onFocus,be=ue===void 0?I.default:ue,xe=Z.onBlur,Ge=xe===void 0?I.default:xe,Me=Z.extraProps,le=(0,R.useCallback)(function(ae){ke(Me,ae)},[ke,Me]),Pe=(0,R.useCallback)(function(){$e(Me)},[$e,Me]),ht=(0,R.useCallback)(function(ae,Ce){return ce(ae,Me,Ce)},[Me,ce]),rt=(0,R.useCallback)(function(ae){te(ae,Me)},[te,Me]),st=(0,R.useCallback)(function(ae,Ce){be(ae,Me,Ce)},[Me,be]),He=(0,R.useCallback)(function(ae,Ce){Ge(ae,Me,Ce)},[Me,Ge]),bt=(0,R.useRef)(null),tt=(0,R.useState)(!1),gt=tt[0],Ft=tt[1],Yt=(0,R.useState)(!1),W=Yt[0],_=Yt[1],N=(0,B.useFocusContext)(),X=(0,R.useMemo)(function(){return se||(0,L.default)("sn:focusable-item-")},[se]),q=(0,R.useCallback)(function(ae){ae===void 0&&(ae={}),F.SpatialNavigation.setFocus(X,ae)},[X]);return(0,R.useEffect)(function(){var ae=bt.current;return F.SpatialNavigation.addFocusable({focusKey:X,node:ae,parentFocusKey:N,preferredChildFocusKey:ne,onEnterPress:le,onEnterRelease:Pe,onArrowPress:ht,onArrowRelease:rt,onFocus:st,onBlur:He,onUpdateFocus:function(Ce){return Ce===void 0&&(Ce=!1),Ft(Ce)},onUpdateHasFocusedChild:function(Ce){return Ce===void 0&&(Ce=!1),_(Ce)},saveLastFocusedChild:me,trackChildren:ye,isFocusBoundary:M,focusBoundaryDirections:Q,autoRestoreFocus:ge,forceFocus:ee,focusable:pe}),function(){F.SpatialNavigation.removeFocusable({focusKey:X})}},[]),(0,R.useEffect)(function(){var ae=bt.current;F.SpatialNavigation.updateFocusable(X,{node:ae,preferredChildFocusKey:ne,focusable:pe,isFocusBoundary:M,focusBoundaryDirections:Q,onEnterPress:le,onEnterRelease:Pe,onArrowPress:ht,onArrowRelease:rt,onFocus:st,onBlur:He})},[X,ne,pe,M,Q,le,Pe,ht,rt,st,He]),{ref:bt,focusSelf:q,focused:gt,hasFocusedChild:W,focusKey:X}}},150:function(v){v.exports=i},117:function(v){v.exports=n},747:function(v){v.exports=s},23:function(v){v.exports=r},842:function(v){v.exports=a},682:function(v){v.exports=o},784:function(v){v.exports=l},604:function(v){v.exports=c},432:function(v){v.exports=u},67:function(v){v.exports=d},461:function(v){v.exports=h},156:function(v){v.exports=f}},m={};return function v(g){var E=m[g];if(E!==void 0)return E.exports;var A=m[g]={exports:{}};return p[g].call(A.exports,A,A.exports,v),A.exports}(607)}()})})(kD);var sM=kD.exports,Fx=typeof window>"u"?x.useEffect:x.useLayoutEffect,u1e=({isPlaying:t,duration:e,startAt:i=0,updateInterval:n=0,onComplete:s,onUpdate:r})=>{let[a,o]=x.useState(i),l=x.useRef(0),c=x.useRef(i),u=x.useRef(i*-1e3),d=x.useRef(null),h=x.useRef(null),f=x.useRef(null),p=g=>{let E=g/1e3;if(h.current===null){h.current=E,d.current=requestAnimationFrame(p);return}let A=E-h.current,R=l.current+A;h.current=E,l.current=R;let I=c.current+(n===0?R:(R/n|0)*n),L=c.current+R,F=typeof e=="number"&&L>=e;o(F?e:I),F||(d.current=requestAnimationFrame(p))},m=()=>{d.current&&cancelAnimationFrame(d.current),f.current&&clearTimeout(f.current),h.current=null},v=x.useCallback(g=>{m(),l.current=0;let E=typeof g=="number"?g:i;c.current=E,o(E),t&&(d.current=requestAnimationFrame(p))},[t,i]);return Fx(()=>{if(r==null||r(a),e&&a>=e){u.current+=e*1e3;let{shouldRepeat:g=!1,delay:E=0,newStartAt:A}=(s==null?void 0:s(u.current/1e3))||{};g&&(f.current=setTimeout(()=>v(A),E*1e3))}},[a,e]),Fx(()=>(t&&(d.current=requestAnimationFrame(p)),m),[t,e,n]),{elapsedTime:a,reset:v}},d1e=(t,e,i)=>{let n=t/2,s=e/2,r=n-s,a=2*r,o=i==="clockwise"?"1,0":"0,1",l=2*Math.PI*r;return{path:`m ${n},${s} a ${r},${r} 0 ${o} 0,${a} a ${r},${r} 0 ${o} 0,-${a}`,pathLength:l}},Ux=(t,e)=>t===0||t===e?0:typeof e=="number"?t-e:0,h1e=t=>({position:"relative",width:t,height:t}),f1e={display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",left:0,top:0,width:"100%",height:"100%"},rM=(t,e,i,n,s)=>{if(n===0)return e;let r=(s?n-t:t)/n;return e+i*r},Bx=t=>{var e,i;return(i=(e=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,(n,s,r,a)=>`#${s}${s}${r}${r}${a}${a}`).substring(1).match(/.{2}/g))==null?void 0:e.map(n=>parseInt(n,16)))!=null?i:[]},p1e=(t,e)=>{var i;let{colors:n,colorsTime:s,isSmoothColorTransition:r=!0}=t;if(typeof n=="string")return n;let a=(i=s==null?void 0:s.findIndex((h,f)=>h>=e&&e>=s[f+1]))!=null?i:-1;if(!s||a===-1)return n[0];if(!r)return n[a];let o=s[a]-e,l=s[a]-s[a+1],c=Bx(n[a]),u=Bx(n[a+1]),d=!!t.isGrowing;return`rgb(${c.map((h,f)=>rM(o,h,u[f]-h,l,d)|0).join(",")})`},m1e=t=>{let{duration:e,initialRemainingTime:i,updateInterval:n,size:s=180,strokeWidth:r=12,trailStrokeWidth:a,isPlaying:o=!1,isGrowing:l=!1,rotation:c="clockwise",onComplete:u,onUpdate:d}=t,h=x.useRef(),f=Math.max(r,a??0),{path:p,pathLength:m}=d1e(s,f,c),{elapsedTime:v}=u1e({isPlaying:o,duration:e,startAt:Ux(e,i),updateInterval:n,onUpdate:typeof d=="function"?E=>{let A=Math.ceil(e-E);A!==h.current&&(h.current=A,d(A))}:void 0,onComplete:typeof u=="function"?E=>{var A;let{shouldRepeat:R,delay:I,newInitialRemainingTime:L}=(A=u(E))!=null?A:{};if(R)return{shouldRepeat:R,delay:I,newStartAt:Ux(e,L)}}:void 0}),g=e-v;return{elapsedTime:v,path:p,pathLength:m,remainingTime:Math.ceil(g),rotation:c,size:s,stroke:p1e(t,g),strokeDashoffset:rM(v,0,m,e,l),strokeWidth:r}},FR=t=>{let{children:e,strokeLinecap:i,trailColor:n,trailStrokeWidth:s}=t,{path:r,pathLength:a,stroke:o,strokeDashoffset:l,remainingTime:c,elapsedTime:u,size:d,strokeWidth:h}=m1e(t);return tn.createElement("div",{style:h1e(d)},tn.createElement("svg",{viewBox:`0 0 ${d} ${d}`,width:d,height:d,xmlns:"http://www.w3.org/2000/svg"},tn.createElement("path",{d:r,fill:"none",stroke:n??"#d9d9d9",strokeWidth:s??h}),tn.createElement("path",{d:r,fill:"none",stroke:o,strokeLinecap:i??"round",strokeWidth:h,strokeDasharray:a,strokeDashoffset:l})),typeof e=="function"&&tn.createElement("div",{style:f1e},e({remainingTime:c,elapsedTime:u,color:o})))};FR.displayName="CountdownCircleTimer";const g1e=t=>{const{Component:e,options:i,customOptions:n,autoFocus:s,...r}=t,a=sM.useFocusable({...i,...n,onEnterPress:()=>{var o;return(o=t.onClick)==null?void 0:o.call(t,{currentTarget:a.ref.current,stopPropagation:()=>{}})}});return x.useEffect(()=>{s&&a.focusSelf()},[]),b.jsx(e,{...r,...a,"data-is-with-focus":"true"})};function va(t,e){return({webos:i,options:n,...s})=>i?b.jsx(g1e,{Component:t,options:e,customOptions:n,...s}):b.jsx(t,{...s})}const y1e=[10,10,1,0],b1e=V("div")({name:"RemainingTimeCircle",class:"r165427",propsAsIs:!1}),v1e=V("div")({name:"RemainingTime",class:"r17garf3",propsAsIs:!1}),E1e=aQ,dS=oQ,Wx=lQ,A1e=({className:t,duration:e=30,onTimerExpired:i,isPlaying:n=!0})=>b.jsx(FR,{isPlaying:n,strokeWidth:0,duration:e,colors:dS,size:24,onComplete:i,children:({remainingTime:s})=>b.jsx(v1e,{className:t,children:e===0?0:s})}),S1e=({isPlaying:t=!0,duration:e=30,onTimerExpired:i})=>{const[n,s]=x.useState(e>10?E1e:dS),[r,a]=x.useState(2);x.useEffect(()=>{e===0&&(a(0),s(Wx))},[e]);const o=({remainingTime:u})=>b.jsx(b1e,{children:e===0?0:u}),l=x.useCallback(()=>{i==null||i(),s(Wx)},[i,s]),c=x.useCallback(u=>{u===10&&s(dS)},[s]);return b.jsx(FR,{isPlaying:t,duration:e,colors:rQ,colorsTime:y1e,size:32,strokeWidth:r,trailStrokeWidth:2,trailColor:n,onComplete:l,onUpdate:c,children:o})},T1e=({height:t="37px",width:e="37px"})=>b.jsx("div",{style:{height:t,width:e},children:b.jsx(Ke,{name:"loader"})}),C1e=V("div")({name:"CloseIconWrap",class:"c3v6bv6",propsAsIs:!1}),R1e=V("div")({name:"TimerWrap",class:"teuhmro",propsAsIs:!1}),I1e=()=>Ke,w1e=V(I1e())({name:"Icon",class:"i17rfxv5",propsAsIs:!0}),Up=({close:t,className:e,timerClassName:i,skipIcon:n,isPlaying:s=!0,duration:r=0,autoClose:a})=>{const[o,l]=x.useState(r===0);x.useEffect(()=>{l(!r)},[r]);const c=x.useCallback(()=>{a===wee.ENABLED?t==null||t():l(!0)},[a,t]);return o?b.jsxs(C1e,{"data-a":"intr",onClick:t,className:e,style:n?{width:"auto"}:{},children:[n&&b.jsx("span",{"data-a":"intr",children:"Skip"}),b.jsx(w1e,{"data-a":"intr",name:n?"iconSkip":"icon-cross"})]}):b.jsx(R1e,{children:b.jsx(A1e,{className:i,isPlaying:s,duration:r,onTimerExpired:c})})},_1e=V("div")({name:"Container",class:"c1bgb86j",propsAsIs:!1}),x1e=V("video")({name:"Player",class:"p6703cq",propsAsIs:!1}),N1e=V("img")({name:"Poster",class:"p12ow7zo",propsAsIs:!1}),o2=V("div")({name:"Control",class:"cdpal9o",propsAsIs:!1}),V1e="t1xke4ml",L1e="h1yzxv57",k1e=V("div")({name:"VideoControls",class:"vxo8xch",propsAsIs:!1}),UR=V("button")({name:"ControlBtn",class:"coyuzu0",propsAsIs:!1}),F1e=()=>UR,U1e=V(F1e())({name:"MuteIcon",class:"musmi9a",propsAsIs:!0}),B1e=()=>UR,W1e=V(B1e())({name:"PauseIcon",class:"p1qe7rum",propsAsIs:!0}),G1e=()=>UR,D1e=V(G1e())({name:"PlayIcon",class:"psevery",propsAsIs:!0}),aM=V("button")({name:"WebOSIconButton",class:"w1q3u7py",propsAsIs:!1}),M1e=()=>aM,$y=V(M1e())({name:"WebOSIconButtonAnimation",class:"wdlqvum",propsAsIs:!0}),Z1e=()=>$y,P1e=V(Z1e())({name:"WebOSIconButtonPlay",class:"w1ylz9ea",propsAsIs:!0}),O1e=()=>$y,X1e=V(O1e())({name:"WebOSIconButtonPause",class:"w1iylt55",propsAsIs:!0}),Y1e=()=>$y,$1e=V(Y1e())({name:"WebOSIconButtonMute",class:"w8h4h7",propsAsIs:!0}),K1e=()=>$y,z1e=V(K1e())({name:"WebOSIconButtonUnmute",class:"w12l12kt",propsAsIs:!0}),J1e=t=>{for(const e of t)e.isIntersecting?e.target instanceof HTMLVideoElement&&e.target.autoplay&&e.target.play():e.target instanceof HTMLVideoElement&&!e.target.paused&&e.target.pause()},oM=new IntersectionObserver(J1e,{threshold:.5}),BR=new Set,j1e=t=>{oM.observe(t),BR.add(t)},H1e=t=>{oM.unobserve(t),BR.delete(t)},lM=()=>{for(const t of BR)t instanceof HTMLVideoElement&&!t.paused&&t.pause()};function Q1e(...t){return x.useCallback(e=>{for(const i of t)i!==null&&(typeof i=="function"?i(e):i&&(i.current=e))},[...t])}const q1e=va(_1e),ege=({loading:t,autoPlay:e,played:i,playing:n,isMuted:s,unmute:r,mute:a,togglePlaying:o})=>!t&&!e&&!i?b.jsx(o2,{children:n?b.jsx(Ke,{name:"icon-pause"}):b.jsx(Ke,{name:"icon-play"})}):i?b.jsxs(k1e,{children:[n?b.jsx(W1e,{onClick:o}):b.jsx(D1e,{onClick:o}),b.jsx(U1e,{className:Ot(!s&&"muted"),onClick:s?r:a})]}):null,tge=({loading:t,autoPlay:e,playMuted:i,playing:n,played:s,unmute:r,mute:a,isMuted:o,hasNotPausedVideo:l,hasInteractedWithAudio:c})=>b.jsxs(b.Fragment,{children:[!t&&!(e&&i)&&b.jsx(o2,{"data-control-btn":"true",children:n?l?null:b.jsx(P1e,{children:b.jsx(Ke,{name:"icon-play"})}):s?b.jsx(X1e,{children:b.jsx(Ke,{name:"icon-pause"})}):b.jsx(aM,{"data-control-icon":"true",children:b.jsx(Ke,{name:"icon-play"})})}),!t&&e&&i&&c&&b.jsx(o2,{children:o?b.jsx($1e,{onClick:r,children:b.jsx(Ke,{name:"iconMute"})}):b.jsx(z1e,{onClick:a,children:b.jsx(Ke,{name:"iconUnMute"})})})]}),Eh=x.forwardRef(({poster:t,source:e,aspectRatio:i,controlVideo:n,onReplay:s,onPlay:r,onPause:a,onEnd:o,onRender:l,onMute:c,onQuartile:u,autoPlay:d,playMuted:h,className:f,muted:p,webos:m,hasNotPausedVideo:v},g)=>{const E=x.useRef(null),A=Q1e(E,g),R=x.useRef(!1),I=x.useRef(!1),L=x.useRef(new Set),[F,B]=x.useState(!1),[G,Z]=x.useState(!1),[j,pe]=x.useState(!1),[J,me]=x.useState(!0),[de,ye]=x.useState(h),[Le,ge]=x.useState(!1);x.useEffect(()=>{e&&(ye(h),B(!1))},[e]);const H=x.useCallback(()=>{n==null||n({muted:!1})},[n]),ee=x.useCallback(()=>{n==null||n({muted:!0})},[n]),we=x.useCallback(ne=>{ne==null||ne.stopPropagation(),E.current&&(E.current.muted=!0),ye(!0)},[]),M=x.useCallback(ne=>{ne==null||ne.stopPropagation(),E.current&&(E.current.muted=!1),ye(!1),Le||ge(!0)},[Le]);x.useEffect(()=>{p!==void 0&&(p?we():M())},[we,p,M]);const Q=ne=>{var Ie;(Ie=ne.stopPropagation)==null||Ie.call(ne);const ke=E==null?void 0:E.current;if(ke)if(G)ke.pause();else{const De=E==null?void 0:E.current;if(!De)return;lM(),De.play().catch($e=>console.log($e)),me(!1)}},se=()=>{var ne;(ne=E==null?void 0:E.current)==null||ne.load(),me(!0)};return x.useEffect(()=>()=>{H()},[H]),x.useEffect(()=>{const ne=E.current;return ne?(I.current=ne.muted,ye(ne.muted),j1e(ne),()=>{H1e(ne)}):()=>{}},[]),x.useEffect(()=>{l==null||l()},[l]),x.useEffect(()=>{L.current.clear(),R.current=!1},[e]),b.jsxs(q1e,{webos:m,onClick:d&&h?de?M:we:Q,"data-a":"intr",autoFocus:!0,options:{focusKey:"video-play-btn"},className:Ot(G&&!m&&V1e,d&&L1e,f),style:i?{aspectRatio:i}:{},children:[b.jsx(x1e,{ref:A,src:e,autoPlay:d,onPlay:()=>{B(!0),R.current&&(s==null||s(),L.current.clear()),Z(!0),me(!1),r==null||r(),h?we():ee()},onTimeUpdate:ne=>{const Ie=ne.target.duration,ke=ne.target.currentTime;if(Ie&&ke){const De=Math.floor(ke/Ie*100);De>=25&&De<50&&!L.current.has(25)?(u==null||u(25),L.current.add(25)):De>=50&&De<75&&!L.current.has(50)?(u==null||u(50),L.current.add(50)):De>=75&&!L.current.has(75)&&(u==null||u(75),L.current.add(75))}},onVolumeChange:ne=>{const Ie=ne.target.muted;I.current!==Ie&&(c==null||c(Ie),I.current=Ie,(Ie!==p||p===void 0)&&(Ie?H():ee()))},onError:async ne=>{try{if(ne.target instanceof HTMLVideoElement){pe(!0);const Ie=await(await fetch(ne.target.src)).blob(),ke=URL.createObjectURL(Ie);ne.target.src=ke}}catch(Ie){console.error("video fallback fetch failed",Ie),Z(!0),me(!0)}finally{pe(!1),H()}},onPause:()=>{Z(!1),a==null||a(),H()},onEnded:()=>{Z(!1),R.current=!0,se(),o==null||o(),H()},style:{visibility:J?"hidden":"visible"},controls:!1,playsInline:!0}),b.jsx(N1e,{src:t,style:{visibility:J?"visible":"hidden"}}),!m&&b.jsx(ege,{loading:j,autoPlay:d,played:F,playing:G,isMuted:de,unmute:M,mute:we,togglePlaying:Q}),m&&b.jsx(tge,{loading:j,autoPlay:d,playMuted:h,playing:G,played:F,unmute:M,mute:we,isMuted:de,hasNotPausedVideo:v,hasInteractedWithAudio:Le}),j&&b.jsx(o2,{children:b.jsx(T1e,{})})]})}),Ah={[Re.TWEET]:{label:"Insight",iconName:"icon-insight"},[Re.PROMOTION]:{label:"Insight",iconName:"icon-insight"},[Re.UNSET]:void 0,[Re.FACTOID]:{label:"Insight",iconName:"icon-insight"},[Re.POLL]:{label:"Poll",iconName:"icon-poll"},[Re.TRIVIA]:{label:"Trivia",iconName:"icon-trivia"},[Re.PREDICTION]:{label:"Prediction",iconName:"icon-prediction"}},ige={[Re.TWEET]:"Learn more",[Re.FACTOID]:"Learn more",[Re.POLL]:"Answer",[Re.TRIVIA]:"Answer",[Re.PREDICTION]:"Answer",[Re.PROMOTION]:"",[Re.UNSET]:""},WR=t=>t.split(/\s+/).map(e=>e[0]).join("").toUpperCase(),cM=t=>t?t.toLocaleString("en-US"):"0",nge=t=>{const e=new Date(t);if(!e)return"";const i=new Date,n=Math.floor(i.getTime()-e.getTime());return n<6e4?`${Math.floor(n/1e3)}s`:n<36e5?`${Math.floor(n/6e4)}m`:n<864e5?`${Math.floor(n/36e5)}h`:e.getFullYear()===i.getFullYear()?`${e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}`:`${e.toLocaleDateString("en-US",{month:"2-digit",day:"2-digit",year:"2-digit"})}`},sge=V("div")({name:"Container",class:"cjq447q",propsAsIs:!1}),rge=V("div")({name:"ImageContainer",class:"i14egogb",propsAsIs:!1}),age=V("img")({name:"Image",class:"i2g9g4l",propsAsIs:!1}),oge=()=>Ke,lge=V(oge())({name:"TwitterIcon",class:"t1c454nm",propsAsIs:!0}),cge=V("div")({name:"Details",class:"d11nigc3",propsAsIs:!1}),uge=V("div")({name:"Name",class:"nrxa4k8",propsAsIs:!1}),dge=V("div")({name:"UserNameAndDate",class:"u1p051g3",propsAsIs:!1}),uM=({image:t,name:e,userName:i,verified:n,createdTweet:s})=>{const r=s&&nge(s);return b.jsxs(sge,{children:[t&&b.jsxs(rge,{children:[b.jsx(age,{className:"SL_AccountImage",src:t}),b.jsx(lge,{name:"twitter"})]}),b.jsxs(cge,{children:[e&&b.jsxs(uge,{className:"SL_TweetAccountName",children:[e," ",n&&b.jsx(Ke,{name:"icon-twitter-verified"})]}),i&&b.jsxs(dge,{className:"SL_TweetAccountUserName",children:["@",i," ",r&&` ${r}`]})]})]})},hge=V("div")({name:"Container",class:"c1kzqw87",propsAsIs:!1}),fge=V("div")({name:"Details",class:"d9r1hf9",propsAsIs:!1}),pge=V("div")({name:"Body",class:"bezygt5",propsAsIs:!1}),lf=V("div")({name:"ImagesContainer",class:"i1y8f7ym",propsAsIs:!1}),oE=V("div")({name:"ImagesBlock",class:"i18gwonx",propsAsIs:!1}),dM=V("img")({name:"Image",class:"i3g0xjd",propsAsIs:!1}),mge=()=>dM,No=V(mge())({name:"ImageFullSize",class:"io8rt7p",propsAsIs:!0}),gge=()=>dM,lE=V(gge())({name:"ImageHalfSize",class:"i4hn3ox",propsAsIs:!0}),yge=new RegExp("\\s?https?://t.co[^\\s]+(\\s+)?$"),hM=t=>t==null?void 0:t.replace(yge,""),GR=x.memo(({image:t,body:e,muted:i,account:n,accountVerified:s,tweet:r,isDetail:a,controlVideo:o})=>{var l,c,u,d,h;const f=(c=(l=r==null?void 0:r.meta)==null?void 0:l.extendedEntities)==null?void 0:c.media,p=f==null?void 0:f.find(({type:v})=>v==="photo"),m=x.useMemo(()=>{var v,g,E,A;return(A=(E=(g=(v=f==null?void 0:f[0])==null?void 0:v.videoInfo)==null?void 0:g.variants)==null?void 0:E.findLast(({contentType:R})=>R==="video/mp4"))==null?void 0:A.url},[f]);return b.jsxs(hge,{children:[b.jsxs(fge,{children:[b.jsx(uM,{image:t,name:(u=r==null?void 0:r.meta)==null?void 0:u.accountName,userName:n,verified:s,createdTweet:r==null?void 0:r.date}),b.jsx(pge,{children:hM(e)}),!a&&p&&b.jsx(lf,{children:b.jsx(No,{src:f==null?void 0:f[0].mediaUrlHttps})}),a&&p&&b.jsxs(b.Fragment,{children:[(f==null?void 0:f.length)===1&&b.jsx(lf,{children:b.jsx(No,{src:f[0].mediaUrlHttps})}),(f==null?void 0:f.length)===2&&b.jsxs(lf,{children:[b.jsx(lE,{src:f[0].mediaUrlHttps}),b.jsx(lE,{src:f[1].mediaUrlHttps})]}),(f==null?void 0:f.length)===3&&b.jsxs(lf,{children:[b.jsx(lE,{src:f[0].mediaUrlHttps}),b.jsxs(oE,{children:[b.jsx(No,{src:f[1].mediaUrlHttps}),b.jsx(No,{src:f[2].mediaUrlHttps})]})]}),(f==null?void 0:f.length)===4&&b.jsxs(lf,{children:[b.jsxs(oE,{children:[b.jsx(No,{src:f[0].mediaUrlHttps}),b.jsx(No,{src:f[1].mediaUrlHttps})]}),b.jsxs(oE,{children:[b.jsx(No,{src:f[2].mediaUrlHttps}),b.jsx(No,{src:f[3].mediaUrlHttps})]})]})]})]}),!p&&(((d=f==null?void 0:f[0])==null?void 0:d.type)==="video"||((h=f==null?void 0:f[0])==null?void 0:h.type)==="animated_gif")&&m&&b.jsx(Eh,{muted:i,source:m,poster:f[0].mediaUrlHttps,controlVideo:o})]})}),fM=`
  .sl-hide-on-modal {
    height: 0 !important;
    opacity: 0 !important;
    overflow: hidden !important;
    transition: none;
  }
`,bge=({containerId:t="SlLayoutContainer",url:e})=>`
  #${t||"SlLayoutContainer"},
  #${t||"SlLayoutContainer"} .StreamLayerSDK>.StreamLayerSDKTheme > * {
    --color-sdk-container-bg: transparent !important;
  }

  #${t||"SlLayoutContainer"}::before {
    content: '';
    display: block;
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    background-color: #1a1a1a;
    background-size: cover !important;
    background-position: center !important;
    background-repeat: no-repeat !important;
    background-image: ${e} !important;
    z-index: 0;

    opacity: 0;
    animation: fade-sl-bg-in 0.3s linear forwards;
  }

  #${t||"SlLayoutContainer"} > div {
    position: relative;
    z-index: 1;
  }

  @keyframes fade-sl-bg-in {
    from {
      opacity: 0;
    }
    to {
      opacity: 1;
    }
  }

  ${fM}
`,pM=({containerId:t,landscapeUrl:e,portraitUrl:i})=>{const[n,s]=x.useState(!1),r=x.useMemo(()=>{const a=window.innerWidth,o=window.innerHeight;return s(!1),a>o?e:i},[e,i]);return x.useEffect(()=>{if(r){const a=new Image;a.src=r,a.onload=function(){s(!0)}}},[r]),x.useMemo(()=>{const a=r?`url("${r}")`:void 0;return a&&n?b.jsx("style",{children:bge({containerId:t,url:a})}):null},[t,r,n])},DR=V("div")({name:"QuestionItem",class:"q1w97g3p",propsAsIs:!1}),vge=V("div")({name:"QuestionCaption",class:"q2sl39u",propsAsIs:!1}),Ege=V("div")({name:"QuestionBody",class:"qd5h0uc",propsAsIs:!1}),Age=V("div")({name:"QuestionAction",class:"q105uluy",propsAsIs:!1}),Sge=()=>Ke,J1=V(Sge())({name:"QuestionActionIcon",class:"q1fa0b9h",propsAsIs:!0}),Tge=()=>J1,Cge=V(Tge())({name:"QuestionCheckIcon",class:"qxlt78s",propsAsIs:!0}),Rge=()=>Ke,Ige=V(Rge())({name:"QuestionTypeIcon",class:"qmg0vkx",propsAsIs:!0}),wge=V("div")({name:"QuestionTypeLabel",class:"q1uz5j1g",propsAsIs:!1}),_ge=V("div")({name:"QuestionContent",class:"qc3icwa",propsAsIs:!1}),mM=V("button")({name:"PlayButton",class:"p169lohr",propsAsIs:!1}),xge=V("div")({name:"SkeletonContainer",class:"s1f43z3r",propsAsIs:!1}),Nge=()=>LD,Vge=V(Nge())({name:"SkeletonButton",class:"s16k8geu",propsAsIs:!0}),Lge={[jo.LOST]:b.jsx(J1,{name:"incorrectVoted"}),[jo.WON]:b.jsx(Cge,{name:"icon-check"}),[jo.UNSET]:b.jsx(J1,{name:"icon-arrow"}),[jo.DNP]:b.jsx(J1,{name:"icon-arrow"})},kge=()=>b.jsxs(xge,{children:[b.jsx(As,{loading:!0,style:{width:"35%"}}),b.jsx(As,{loading:!0,style:{width:"70%"}}),b.jsx(Vge,{})]}),MR=({questionTypeData:t,questionType:e,questionStatus:i})=>b.jsxs(vge,{className:"SL_QuestionCaption",children:[b.jsx(Ige,{className:"SL_QuestionTypeIcon","data-testid":"question-type-icon","data-type-trivia":e===Re.TRIVIA,"data-type-poll":e===Re.POLL,name:t.iconName}),b.jsxs(wge,{className:"SL_QuestionTypeLabel",children:[t.label,e===Re.TRIVIA&&i===si.RESOLVED&&"  Expired"]})]}),Fge=({questionId:t,questionType:e,questionStatus:i,subject:n,openForVoting:s,status:r})=>{const a=Ah[e],o=Lge[r];return a?b.jsxs(DR,{"data-a":"intr","data-name":t,children:[b.jsxs(_ge,{children:[b.jsx(MR,{questionTypeData:a,questionType:e,questionStatus:i}),b.jsx(Ege,{children:n||""})]}),b.jsx(Age,{children:s?b.jsx(mM,{"data-a":"intr","data-name":t,children:"Play"}):o})]}):null};var Gx;(function(t){t.OPENED="opened"})(Gx||(Gx={}));const Uge=V("div")({name:"Container",class:"c1vwopgc",propsAsIs:!1}),Bge=V("div")({name:"QuestionTypeWrap",class:"qyktpt0",propsAsIs:!1}),Wge=()=>Ke,Gge=V(Wge())({name:"QuestionTypeIcon",class:"q951jdx",propsAsIs:!0}),Dge=V("span")({name:"QuestionTypeTitle",class:"qss5f0e",propsAsIs:!1}),Mge=V("button")({name:"CloseIconWrap",class:"c1ao1jtv",propsAsIs:!1}),Zge=()=>Ke,Pge=V(Zge())({name:"CloseIcon",class:"cvsl7l3",propsAsIs:!0}),Oge=va(Mge,{}),gM=({webos:t,type:e,closeTimer:i,close:n,label:s,mastersApp:r})=>{const a=e?Ah[e]:{label:s,iconName:void 0};return b.jsxs(Uge,{children:[b.jsxs(Bge,{children:[(a==null?void 0:a.iconName)&&b.jsx(Gge,{"data-type-trivia":e===Re.TRIVIA,"data-type-poll":e===Re.POLL,"data-type-prediction":e===Re.PREDICTION,"data-masters-app":!!r,name:a.iconName}),(a==null?void 0:a.label)&&b.jsx(Dge,{children:a.label})]}),i!=null&&i.seconds?b.jsx(Up,{close:n,autoClose:i.auto,duration:i.seconds}):b.jsx(Oge,{webos:t,"data-a":"intr",onClick:n,type:"button","data-close-btn":"true",children:b.jsx(Pge,{"data-a":"intr",name:"icon-cross"})})]})},Xge="data:image/svg+xml,%3csvg%20width='103'%20height='18'%20viewBox='0%200%20103%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_6919_104497)'%3e%3cpath%20d='M9.89618%203.45801C9.91951%203.45801%209.94451%203.46134%209.96784%203.46134C9.97618%203.46134%209.98284%203.46134%209.99118%203.46467H9.99784C10.0095%203.46467%2010.0212%203.46801%2010.0312%203.46801C10.0412%203.46801%2010.0462%203.46801%2010.0545%203.47134C10.0762%203.47467%2010.0962%203.47467%2010.1178%203.47634C10.1412%203.47967%2010.1662%203.48134%2010.1895%203.48467H10.2012C10.2462%203.48967%2010.2945%203.49634%2010.3395%203.50467C10.4512%203.52467%2010.5595%203.54801%2010.6662%203.57801C10.6928%203.58301%2010.7178%203.59301%2010.7445%203.60134H10.7478C10.7745%203.60967%2010.7995%203.61801%2010.8262%203.62467C10.8528%203.63301%2010.8778%203.64134%2010.9045%203.65134C10.9312%203.65967%2010.9562%203.66801%2010.9795%203.67967C11.0012%203.68801%2011.0212%203.69634%2011.0428%203.70634C11.0495%203.70967%2011.0578%203.71134%2011.0645%203.71467C11.0828%203.72301%2011.1012%203.72967%2011.1195%203.73801C11.1262%203.74134%2011.1312%203.74301%2011.1378%203.74634C11.1562%203.75467%2011.1712%203.76134%2011.1895%203.76967C11.1962%203.77301%2011.2045%203.77467%2011.2128%203.78134C11.2345%203.78967%2011.2528%203.79801%2011.2728%203.80967C11.2762%203.80967%2011.2795%203.81301%2011.2812%203.81301C11.3045%203.82467%2011.3295%203.83634%2011.3512%203.84801C11.3695%203.85634%2011.3878%203.86801%2011.4062%203.87634C11.4212%203.88134%2011.4328%203.89134%2011.4462%203.89967C11.4645%203.91134%2011.4828%203.91967%2011.5012%203.93134C11.5045%203.93467%2011.5078%203.93467%2011.5095%203.93634L11.5728%203.97467H11.5762L15.2178%206.18801L15.4412%206.32467C16.3228%206.90801%2016.9028%207.88467%2016.9028%208.99301C16.9028%2010.1013%2016.3262%2011.0763%2015.4445%2011.6613L15.2095%2011.803L11.5745%2014.0113H11.5712L11.5078%2014.0497C11.5078%2014.0497%2011.5012%2014.053%2011.4995%2014.0547C11.4812%2014.0663%2011.4628%2014.0747%2011.4445%2014.0863C11.4595%2014.078%2011.4745%2014.0697%2011.4895%2014.0597L5.94951%2017.433C5.94951%2017.433%205.94618%2017.433%205.94618%2017.4363L5.74451%2017.558H5.74118C5.19784%2017.863%204.55784%2018.0247%203.87784%2017.993C2.73618%2017.938%201.75784%2017.3463%201.19284%2016.4847C0.837844%2015.9413%200.64451%2015.2913%200.681177%2014.6013C0.71451%2013.983%200.922844%2013.4147%201.26118%2012.9397L1.26951%2012.9247L4.04451%208.99634L6.77784%205.12634C6.81118%205.07967%206.84784%205.03301%206.87784%204.98467C6.87451%204.98967%206.86951%204.99967%206.86284%205.00467C6.87118%204.98967%206.88118%204.97634%206.88951%204.96134C6.88951%204.95801%206.89284%204.95801%206.89284%204.95634C6.89618%204.95301%206.89951%204.94801%206.90118%204.94467C6.90118%204.94467%206.90118%204.94134%206.90451%204.94134C6.91951%204.92134%206.93451%204.90134%206.94618%204.87801C6.96118%204.85801%206.97618%204.83801%206.99118%204.81634C7.00618%204.79634%207.02118%204.77634%207.03618%204.75467C7.03951%204.75134%207.03951%204.74967%207.04284%204.74634C7.04618%204.74301%207.04618%204.74134%207.04951%204.74134C7.06451%204.72134%207.07951%204.70134%207.09784%204.67967C7.10951%204.66467%207.12118%204.65134%207.13451%204.63634C7.16784%204.59801%207.20118%204.56134%207.23784%204.52301C7.25284%204.50801%207.26451%204.49467%207.27951%204.47967C7.30118%204.45634%207.32118%204.43634%207.34618%204.41634C7.36451%204.39967%207.38284%204.38134%207.40118%204.36467C7.41951%204.34801%207.43451%204.33301%207.45284%204.31801C7.45618%204.31467%207.45951%204.31301%207.45951%204.31301C7.47118%204.30134%207.48118%204.29301%207.49284%204.28467C7.50451%204.27301%207.51951%204.26134%207.53284%204.25301C7.53618%204.24967%207.53951%204.24801%207.54118%204.24801C7.55951%204.23301%207.57451%204.21967%207.59284%204.20467C7.60784%204.18967%207.62618%204.17801%207.64118%204.16634C7.65618%204.15467%207.66784%204.14634%207.68284%204.13467C7.70118%204.11967%207.71951%204.10801%207.73784%204.09467C7.75284%204.08634%207.76451%204.07467%207.77951%204.06634C7.78618%204.06134%207.79451%204.05467%207.80284%204.05134C7.81784%204.03967%207.83284%204.03134%207.84784%204.02301C7.85118%204.01967%207.85618%204.01801%207.85951%204.01467C7.87784%204.00301%207.89618%203.99134%207.91118%203.98301C7.91784%203.97801%207.92618%203.97467%207.93284%203.96801C7.94784%203.95967%207.95951%203.95134%207.97451%203.94134C7.98284%203.93634%207.99284%203.92967%208.00118%203.92467C8.01618%203.91634%208.03451%203.90801%208.04951%203.89634C8.05284%203.89301%208.05784%203.89134%208.06451%203.88801C8.08618%203.87634%208.10451%203.86467%208.12451%203.85634C8.12784%203.85301%208.13118%203.85301%208.13618%203.85134C8.15784%203.83967%208.17784%203.82801%208.19951%203.81967C8.19951%203.81967%208.20284%203.81967%208.20284%203.81634C8.22618%203.80467%208.24784%203.79301%208.27284%203.78134C8.27284%203.78134%208.27618%203.78134%208.27618%203.77801C8.29451%203.76967%208.31284%203.76134%208.33284%203.75134C8.34118%203.74801%208.35118%203.74301%208.35951%203.73967C8.37118%203.73467%208.38284%203.72801%208.39618%203.72467C8.41118%203.71967%208.42284%203.71301%208.43784%203.70801C8.46118%203.69967%208.48284%203.69134%208.50784%203.68134C8.52284%203.67634%208.53451%203.66967%208.54951%203.66634C8.57118%203.65801%208.59118%203.65134%208.61284%203.64301C8.63118%203.63801%208.65284%203.63134%208.66951%203.62301C8.75451%203.59634%208.83784%203.57134%208.92284%203.54967C8.94118%203.54467%208.96284%203.54134%208.97951%203.53801C9.08451%203.51467%209.19451%203.49467%209.30284%203.48301C9.32951%203.47967%209.35784%203.47801%209.38451%203.47467C9.42118%203.47134%209.45951%203.46967%209.49618%203.46634C9.51118%203.46634%209.52284%203.46301%209.53784%203.46301H9.55951C9.58951%203.46301%209.61618%203.45967%209.64784%203.45967H9.73784C9.79451%203.45967%209.84284%203.45967%209.89451%203.46301L9.89618%203.45801ZM10.6662%2014.413C10.5612%2014.4413%2010.4512%2014.4647%2010.3395%2014.4863C10.4512%2014.4663%2010.5595%2014.443%2010.6662%2014.413ZM9.56118%2014.5313H9.56951C9.56118%2014.5313%209.54784%2014.5313%209.53951%2014.528C9.54618%2014.528%209.55451%2014.5313%209.56118%2014.5313ZM7.08784%2013.293C7.05451%2013.253%207.02451%2013.2147%206.99451%2013.1747C7.02451%2013.2147%207.05784%2013.253%207.08784%2013.293ZM6.90284%2013.043C6.90284%2013.043%206.90618%2013.0463%206.90618%2013.048C6.90284%2013.0447%206.90284%2013.043%206.89951%2013.0363C6.89618%2013.033%206.89618%2013.0297%206.89284%2013.0247C6.86951%2012.9897%206.84784%2012.953%206.82284%2012.918C6.84451%2012.953%206.86784%2012.9913%206.88951%2013.0247C6.89618%2013.0297%206.89784%2013.0363%206.90118%2013.0413L6.90284%2013.043ZM6.89451%2013.0263C6.85784%2012.968%206.81951%2012.913%206.77618%2012.858L6.89451%2013.0263Z'%20fill='%231652A8'%20style='fill:%231652A8;fill:color(display-p3%200.0863%200.3216%200.6588);fill-opacity:1;'/%3e%3cg%20opacity='0.85'%3e%3cpath%20d='M5.77088%200.453306L5.97588%200.578306L5.97921%200.581639L11.5225%203.94997C11.5075%203.94164%2011.4925%203.93331%2011.4775%203.92331C11.4959%203.93497%2011.5142%203.94331%2011.5325%203.95497C11.5359%203.95831%2011.5392%203.95831%2011.5409%203.95997L11.6042%203.99831H11.6075L15.2492%206.21164L15.4725%206.34831C16.3542%206.93164%2016.9342%207.9083%2016.9342%209.01664C16.9342%2010.125%2016.3575%2011.1%2015.4759%2011.685L15.2409%2011.8266L11.6059%2014.035H11.6025L11.5392%2014.0733C11.5392%2014.0733%2011.5325%2014.0766%2011.5309%2014.0783C11.5125%2014.09%2011.4942%2014.0983%2011.4759%2014.11C11.4642%2014.1183%2011.4492%2014.125%2011.4359%2014.1333C11.4175%2014.145%2011.3992%2014.1533%2011.3809%2014.1616C11.3575%2014.1733%2011.3359%2014.185%2011.3109%2014.1966C11.3075%2014.2%2011.3042%2014.2%2011.3025%2014.2C11.2842%2014.2116%2011.2625%2014.22%2011.2425%2014.2283C11.2359%2014.2316%2011.2275%2014.2333%2011.2192%2014.24C11.2009%2014.2483%2011.1859%2014.255%2011.1675%2014.2633C11.1609%2014.2666%2011.1592%2014.2683%2011.1525%2014.2683C11.1309%2014.2766%2011.1109%2014.285%2011.0859%2014.2966C11.0625%2014.3083%2011.0342%2014.3166%2011.0109%2014.325C10.9875%2014.3333%2010.9592%2014.345%2010.9359%2014.3533C10.9092%2014.3616%2010.8842%2014.37%2010.8575%2014.38C10.8309%2014.3883%2010.8059%2014.3966%2010.7792%2014.4033H10.7759C10.7492%2014.4116%2010.7242%2014.4183%2010.6975%2014.4266C10.5925%2014.455%2010.4825%2014.4783%2010.3709%2014.4983C10.3259%2014.5066%2010.2775%2014.5133%2010.2325%2014.5183C10.2259%2014.5183%2010.2242%2014.5183%2010.2209%2014.5216C10.1975%2014.525%2010.1725%2014.5283%2010.1492%2014.53C10.1009%2014.5366%2010.0525%2014.5383%2010.0042%2014.5416C9.92921%2014.5483%209.85254%2014.5483%209.77754%2014.5483H9.68088C9.65421%2014.5483%209.62921%2014.545%209.60254%2014.545C9.59421%2014.545%209.58088%2014.545%209.57254%2014.5416C9.53254%2014.5383%209.49088%2014.5366%209.45254%2014.5333C9.27421%2014.5166%209.09588%2014.4866%208.92754%2014.4466C8.90421%2014.44%208.87921%2014.435%208.85254%2014.4266C8.81921%2014.4183%208.78588%2014.41%208.74921%2014.3983C8.73088%2014.3933%208.70921%2014.3866%208.69254%2014.3816C8.66588%2014.3733%208.64088%2014.365%208.61421%2014.355C8.58754%2014.3466%208.56254%2014.3383%208.53921%2014.3266C8.51588%2014.3183%208.48754%2014.3066%208.46421%2014.2983C8.44088%2014.29%208.41921%2014.2816%208.39754%2014.27C8.38921%2014.2666%208.38254%2014.265%208.37421%2014.2583C8.35588%2014.25%208.33754%2014.2416%208.31754%2014.2316C8.31754%2014.2316%208.31421%2014.2316%208.31421%2014.2283C8.29088%2014.2166%208.26588%2014.205%208.24254%2014.1933C8.21921%2014.1816%208.19421%2014.17%208.17088%2014.155C8.14754%2014.1433%208.12254%2014.1283%208.10088%2014.1166C8.07754%2014.105%208.05254%2014.09%208.03088%2014.0766C8.00754%2014.0616%207.98588%2014.0483%207.96088%2014.0366C7.93754%2014.0216%207.91588%2014.0083%207.89421%2013.9933C7.87254%2013.9783%207.85254%2013.965%207.83088%2013.95C7.82754%2013.95%207.82754%2013.9466%207.82421%2013.945C7.80588%2013.9333%207.78754%2013.9183%207.76754%2013.905C7.76421%2013.9016%207.76088%2013.9016%207.75921%2013.9C7.74088%2013.885%207.72254%2013.8733%207.70421%2013.86C7.70088%2013.8566%207.69588%2013.855%207.69254%2013.8483C7.67421%2013.8333%207.65588%2013.82%207.63754%2013.805C7.63754%2013.805%207.63421%2013.805%207.63421%2013.8016C7.61588%2013.7866%207.59754%2013.7733%207.57754%2013.755C7.57421%2013.7516%207.57088%2013.7516%207.56921%2013.7483C7.55421%2013.7366%207.53921%2013.7216%207.52421%2013.71C7.51754%2013.705%207.51254%2013.6983%207.50588%2013.695C7.49421%2013.6833%207.47921%2013.6716%207.46588%2013.66C7.43921%2013.6366%207.41421%2013.6133%207.39088%2013.5866C7.37254%2013.57%207.35754%2013.5516%207.33921%2013.535C7.32754%2013.5233%207.31754%2013.5116%207.30588%2013.5C7.29421%2013.4883%207.28421%2013.48%207.27588%2013.4683C7.25754%2013.4516%207.24254%2013.43%207.22421%2013.4133C7.19088%2013.375%207.15754%2013.3383%207.12421%2013.2966C7.09088%2013.2566%207.06088%2013.2183%207.03088%2013.1783C7.01588%2013.1583%207.00088%2013.1383%206.98588%2013.1166C6.97088%2013.0966%206.95588%2013.0766%206.94421%2013.0533C6.94088%2013.05%206.94088%2013.0483%206.93754%2013.0416C6.93421%2013.0383%206.93421%2013.0366%206.93088%2013.03C6.90754%2012.995%206.88588%2012.9583%206.86088%2012.9233C6.88254%2012.9583%206.90588%2012.995%206.92754%2013.03C6.89088%2012.9716%206.85254%2012.9166%206.80921%2012.8616L4.07921%208.99664L1.34088%205.12997L1.23254%204.97664L1.22921%204.97164C0.92421%204.51164%200.737543%203.97497%200.707543%203.39497C0.670877%202.70497%200.86421%202.05164%201.22088%201.50997C1.78588%200.648306%202.76588%200.0566391%203.90421%20-2.75556e-05C4.58421%20-0.0150276%205.22421%200.148306%205.77088%200.453306Z'%20fill='url(%23paint0_linear_6919_104497)'%20style=''/%3e%3c/g%3e%3cpath%20d='M32.4132%2012.862C31.2015%2012.862%2030.4482%2012.0503%2030.4482%2010.7203V8.4453H32.6632V7.02697H30.4482V4.72363L28.8548%205.9053V7.0253H27.9648V8.44363H28.8548V10.7053C28.8548%2012.9953%2030.1982%2014.412%2032.4282%2014.412H32.7682V12.862H32.4132Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M19.9812%2012.5767L21.4028%2011.4651C22.0395%2012.4867%2022.8995%2013.0351%2023.9962%2013.0351C25.1962%2013.0351%2025.9512%2012.2651%2025.9512%2011.3017C25.9512%2010.1901%2024.7662%209.83506%2023.5212%209.43506C22.0545%208.96172%2020.4695%208.36839%2020.4695%206.38339C20.4695%204.73839%2021.9362%203.43506%2023.9362%203.43506C25.5812%203.43506%2026.6028%204.07172%2027.4328%205.03506L26.1145%206.01339C25.6262%205.25839%2024.8995%204.85839%2023.9362%204.85839C22.8395%204.85839%2022.1278%205.51006%2022.1278%206.35506C22.1278%207.39172%2023.2695%207.73339%2024.5128%208.14839C25.9945%208.65172%2027.6095%209.29006%2027.6095%2011.3051C27.6095%2012.9651%2026.2462%2014.5501%2024.0095%2014.5501C22.1578%2014.5501%2020.8978%2013.7651%2019.9795%2012.5801L19.9812%2012.5767Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M38.2695%2010.7367C38.2695%208.56503%2039.9379%206.8667%2042.1095%206.8667C44.2812%206.8667%2045.9062%208.4467%2045.9062%2010.6334V11.2534H39.7912C39.9979%2012.39%2040.8845%2013.1434%2042.1695%2013.1434C43.1745%2013.1434%2043.9429%2012.6117%2044.3262%2011.8134L45.6262%2012.5367C44.9762%2013.7484%2043.8095%2014.545%2042.1695%2014.545C39.8362%2014.545%2038.2695%2012.8767%2038.2695%2010.735V10.7367ZM39.8645%209.91003H44.2962C44.0595%208.8467%2043.2479%208.25503%2042.1095%208.25503C40.9712%208.25503%2040.1595%208.93503%2039.8645%209.91003Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M33.7549%2010.72C33.7549%208.42999%2035.0982%207.02832%2037.3282%207.02832H38.0366V8.56499H37.3132C36.1016%208.56499%2035.3199%209.40665%2035.3349%2010.7367V14.415H33.7549V10.7233V10.72Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M46.6882%2010.7218C46.6882%208.56517%2048.3865%206.88184%2050.5132%206.88184C52.6399%206.88184%2054.3082%208.56517%2054.3082%2010.7218V14.4135H52.7582V13.4535C52.2415%2014.1468%2051.4432%2014.5468%2050.4682%2014.5468C48.3565%2014.5468%2046.6865%2012.8935%2046.6865%2010.7218H46.6882ZM52.7882%2010.7218C52.7882%209.40684%2051.7832%208.3585%2050.5132%208.3585C49.2432%208.3585%2048.2382%209.40684%2048.2382%2010.7218C48.2382%2012.0368%2049.2282%2013.0852%2050.5132%2013.0852C51.7982%2013.0852%2052.7882%2012.0218%2052.7882%2010.7218Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M55.3027%2010.2717C55.3027%208.30667%2056.6461%206.875%2058.6411%206.875C59.7777%206.875%2060.6944%207.33333%2061.2694%208.10167C61.8161%207.33333%2062.7027%206.875%2063.8394%206.875C65.8477%206.875%2067.2511%208.27833%2067.2511%2010.2717V14.4067H65.6711V10.2867C65.6711%209.165%2064.9177%208.38167%2063.8394%208.38167C62.7611%208.38167%2062.0527%209.18%2062.0677%2010.2433V14.4083H60.4877V10.2883C60.4877%209.16667%2059.7194%208.38333%2058.6411%208.38333C57.5627%208.38333%2056.8694%209.18167%2056.8827%2010.245V14.41H55.3027V10.275V10.2717Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M68.2646%203.62695H69.8746V12.872H74.2313V14.4086H68.2646V3.62695Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M89.418%2010.7367C89.418%208.56503%2091.0863%206.8667%2093.258%206.8667C95.4296%206.8667%2097.0546%208.4467%2097.0546%2010.6334V11.2534H90.9396C91.1463%2012.39%2092.033%2013.1434%2093.318%2013.1434C94.323%2013.1434%2095.0913%2012.6117%2095.4746%2011.8134L96.7746%2012.5367C96.1246%2013.7484%2094.958%2014.545%2093.318%2014.545C90.9846%2014.545%2089.418%2012.8767%2089.418%2010.735V10.7367ZM91.013%209.91003H95.4446C95.208%208.8467%2094.3963%208.25503%2093.258%208.25503C92.1196%208.25503%2091.308%208.93503%2091.013%209.91003Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M74.4948%2010.7218C74.4948%208.56517%2076.1932%206.88184%2078.3198%206.88184C80.4465%206.88184%2082.1148%208.56517%2082.1148%2010.7218V14.4135H80.5648V13.4535C80.0482%2014.1468%2079.2498%2014.5468%2078.2748%2014.5468C76.1632%2014.5468%2074.4932%2012.8935%2074.4932%2010.7218H74.4948ZM80.5948%2010.7218C80.5948%209.40684%2079.5898%208.3585%2078.3198%208.3585C77.0498%208.3585%2076.0448%209.40684%2076.0448%2010.7218C76.0448%2012.0368%2077.0348%2013.0852%2078.3198%2013.0852C79.6048%2013.0852%2080.5948%2012.0218%2080.5948%2010.7218Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M85.0381%2014.0498L81.9814%207.0498H83.6798L85.8364%2012.1748L87.8748%207.0498H89.5431L85.0831%2017.8465H83.4581L85.0381%2014.0515V14.0498Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3cpath%20d='M98.041%2010.7151C98.041%208.4251%2099.3843%207.02344%20101.614%207.02344H102.323V8.5601H101.599C100.388%208.5601%2099.606%209.40177%2099.621%2010.7318V14.4101H98.041V10.7184V10.7151Z'%20fill='%23687C8B'%20style='fill:%23687C8B;fill:color(display-p3%200.4078%200.4863%200.5451);fill-opacity:1;'/%3e%3c/g%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_6919_104497'%20x1='4.31754'%20y1='8.70664'%20x2='13.6359'%20y2='3.59497'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0.2'%20stop-color='%231589EE'%20style='stop-color:%231589EE;stop-color:color(display-p3%200.0824%200.5373%200.9333);stop-opacity:1;'/%3e%3cstop%20offset='1'%20stop-color='%235EB4FF'%20style='stop-color:%235EB4FF;stop-color:color(display-p3%200.3686%200.7059%201.0000);stop-opacity:1;'/%3e%3c/linearGradient%3e%3cclipPath%20id='clip0_6919_104497'%3e%3crect%20width='101.648'%20height='18'%20fill='white'%20style='fill:white;fill-opacity:1;'%20transform='translate(0.675781)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",cE=V("div")({name:"SponsorLogoWrap",class:"s8p5v5z",propsAsIs:!1}),Yge=()=>Ke,$ge=V(Yge())({name:"SponsorLogo",class:"s755yti",propsAsIs:!0}),Kge=V("img")({name:"AdSponsorLogo",class:"a1dflj8e",propsAsIs:!1}),zge=({mastersApp:t,sponsorLogo:e})=>t?b.jsx(cE,{children:b.jsx($ge,{name:"mastersLogo"})}):e?b.jsx(cE,{children:b.jsx(Kge,{src:e,alt:"ad-sponsor-logo"})}):b.jsx(cE,{children:b.jsx("img",{src:Xge,alt:"stream-layer-logo"})}),Jge=V("div")({name:"Container",class:"cq8qxhy",propsAsIs:!1}),jge=V("div")({name:"VideoWrapper",class:"v18kj6dc",propsAsIs:!1}),Hge=()=>Eh,Qge=V(Hge())({name:"FocusableVideo",class:"fv2nwib",propsAsIs:!0}),Dx=V("div")({name:"VideoStatus",class:"v8ptucg",propsAsIs:!1}),Mx="caip8y5",qge=V("div")({name:"Content",class:"ccgc65e",propsAsIs:!1}),e2e=V("h3")({name:"Title",class:"t1q3iml2",propsAsIs:!1}),t2e=V("div")({name:"Description",class:"d1y2pxs8",propsAsIs:!1}),i2e=V("img")({name:"Image",class:"ig2j4fc",propsAsIs:!1}),n2e=V("div")({name:"ImageContainer",class:"i3dd6iy",propsAsIs:!1}),s2e=({instantView:t,isDetail:e,notification:i,controlVideo:n,muted:s})=>{var r,a;const o=x.useRef(null),[l,c]=x.useState(!1),[u,d]=x.useState(void 0),h=(t==null?void 0:t.playVideoMuted)===nG.ENABLED,f=e&&(t==null?void 0:t.autoPlayVideo)===Kg.ENABLED,p=h&&f,m=t==null?void 0:t.heading,v=t==null?void 0:t.body,g=m||v,[E,A]=x.useState(!0),R=i==null?void 0:i.title,I=i==null?void 0:i.body;return b.jsxs(Jge,{children:[((r=t==null?void 0:t.video)==null?void 0:r.url)&&b.jsxs(jge,{children:[b.jsx(Qge,{className:Mx,source:t.video.url,poster:t.video.thumbnailUrl,controlVideo:n,muted:s,autoPlay:e&&t.autoPlayVideo===Kg.ENABLED,ref:o,onPause:()=>{c==null||c(!0),A(!1)},onMute:L=>{d(L)},onPlay:()=>{c==null||c(!1)},playMuted:h,hasNotPausedVideo:E,webos:!0}),l&&!E&&b.jsxs(Dx,{children:[b.jsx(Ke,{name:"icon-pause"}),"PAUSED"]}),u&&p&&b.jsxs(Dx,{children:[b.jsx(Ke,{name:"iconMute"}),"MUTED"]})]}),(t==null?void 0:t.image)&&!((a=t==null?void 0:t.video)!=null&&a.url)&&b.jsx(n2e,{className:Mx,"data-rounded":t.imageMode===Pt.ROUNDED,children:b.jsx(i2e,{src:t==null?void 0:t.image})}),b.jsxs(qge,{children:[b.jsx(e2e,{children:e&&g?m:R}),b.jsx(t2e,{children:e&&g?v:I})]})]})},r2e=V("div")({name:"Container",class:"cgn5uen",propsAsIs:!1}),Zx="c1px8nt6",a2e=V("div")({name:"Content",class:"c5et2jt",propsAsIs:!1}),o2e=V("h3")({name:"Title",class:"t1i2kpk2",propsAsIs:!1}),l2e=V("div")({name:"Description",class:"dd3lh3p",propsAsIs:!1}),c2e=V("img")({name:"Image",class:"i1gfjeu5",propsAsIs:!1}),u2e=V("div")({name:"ImageContainer",class:"i58y999",propsAsIs:!1}),yM=({instantView:t,isDetail:e,notification:i,controlVideo:n,muted:s})=>{var r,a;const o=t==null?void 0:t.heading,l=t==null?void 0:t.body,c=o||l,u=i==null?void 0:i.title,d=i==null?void 0:i.body;return b.jsxs(r2e,{children:[((r=t==null?void 0:t.video)==null?void 0:r.url)&&b.jsx(Eh,{className:Zx,source:t.video.url,poster:t.video.thumbnailUrl,controlVideo:n,muted:s,autoPlay:e&&t.autoPlayVideo===Kg.ENABLED}),(t==null?void 0:t.image)&&!((a=t==null?void 0:t.video)!=null&&a.url)&&b.jsx(u2e,{className:Zx,"data-rounded":t.imageMode===Pt.ROUNDED,children:b.jsx(c2e,{src:t==null?void 0:t.image})}),b.jsxs(a2e,{children:[b.jsx(o2e,{children:e&&c?o:u}),b.jsx(l2e,{children:e&&c?l:d})]})]})},d2e=V("div")({name:"Container",class:"c1euiow",propsAsIs:!1}),h2e=V("a")({name:"WebLinkBtn",class:"w19zie3h",propsAsIs:!1}),f2e=()=>Ke,p2e=V(f2e())({name:"WebLinkIcon",class:"wyg5v7z",propsAsIs:!0}),m2e=({instantView:t,...e})=>b.jsxs(d2e,{children:[e.webos?b.jsx(s2e,{instantView:t,...e,isDetail:!0}):b.jsx(yM,{instantView:t,...e,isDetail:!0}),(t==null?void 0:t.webLink)&&b.jsxs(h2e,{href:t==null?void 0:t.webLink.url,target:"_blank","data-a":"web-link",children:[t==null?void 0:t.webLink.label,b.jsx(p2e,{name:"icon-external-link"})]})]}),g2e=V("div")({name:"Container",class:"c1dcxmvf",propsAsIs:!1}),y2e=V("blockquote")({name:"Quote",class:"qb4q22c",propsAsIs:!1}),b2e=t=>b.jsxs(g2e,{children:[t.title&&b.jsx(y2e,{children:t.title}),b.jsx(GR,{...t,isDetail:!0})]});var ZR={},hS={exports:{}};(function(t,e){(function(i,n){n(e)})(Cf,function(i){var n=function(){return n=Object.assign||function(r){for(var a,o=1,l=arguments.length;o<l;o++)for(var c in a=arguments[o])Object.prototype.hasOwnProperty.call(a,c)&&(r[c]=a[c]);return r},n.apply(this,arguments)},s=function(){function r(a,o,l){var c=this;this.endVal=o,this.options=l,this.version="2.9.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(u){c.startTime||(c.startTime=u);var d=u-c.startTime;c.remaining=c.duration-d,c.useEasing?c.countDown?c.frameVal=c.startVal-c.easingFn(d,0,c.startVal-c.endVal,c.duration):c.frameVal=c.easingFn(d,c.startVal,c.endVal-c.startVal,c.duration):c.frameVal=c.startVal+(c.endVal-c.startVal)*(d/c.duration);var h=c.countDown?c.frameVal<c.endVal:c.frameVal>c.endVal;c.frameVal=h?c.endVal:c.frameVal,c.frameVal=Number(c.frameVal.toFixed(c.options.decimalPlaces)),c.printValue(c.frameVal),d<c.duration?c.rAF=requestAnimationFrame(c.count):c.finalEndVal!==null?c.update(c.finalEndVal):c.options.onCompleteCallback&&c.options.onCompleteCallback()},this.formatNumber=function(u){var d,h,f,p,m=u<0?"-":"";d=Math.abs(u).toFixed(c.options.decimalPlaces);var v=(d+="").split(".");if(h=v[0],f=v.length>1?c.options.decimal+v[1]:"",c.options.useGrouping){p="";for(var g=3,E=0,A=0,R=h.length;A<R;++A)c.options.useIndianSeparators&&A===4&&(g=2,E=1),A!==0&&E%g==0&&(p=c.options.separator+p),E++,p=h[R-A-1]+p;h=p}return c.options.numerals&&c.options.numerals.length&&(h=h.replace(/[0-9]/g,function(I){return c.options.numerals[+I]}),f=f.replace(/[0-9]/g,function(I){return c.options.numerals[+I]})),m+c.options.prefix+h+f+c.options.suffix},this.easeOutExpo=function(u,d,h,f){return h*(1-Math.pow(2,-10*u/f))*1024/1023+d},this.options=n(n({},this.defaults),l),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.el=typeof a=="string"?document.getElementById(a):a,o=o??this.parse(this.el.innerHTML),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(o),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,a):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return c.handleScroll(c)}),window.onscroll=function(){window.onScrollFns.forEach(function(u){return u()})},this.handleScroll(this)))}return r.prototype.handleScroll=function(a){if(a&&window&&!a.once){var o=window.innerHeight+window.scrollY,l=a.el.getBoundingClientRect(),c=l.top+window.pageYOffset,u=l.top+l.height+window.pageYOffset;u<o&&u>window.scrollY&&a.paused?(a.paused=!1,setTimeout(function(){return a.start()},a.options.scrollSpyDelay),a.options.scrollSpyOnce&&(a.once=!0)):(window.scrollY>u||c>o)&&!a.paused&&a.reset()}},r.prototype.determineDirectionAndSmartEasing=function(){var a=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>a;var o=a-this.startVal;if(Math.abs(o)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=a;var l=this.countDown?1:-1;this.endVal=a+l*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=a,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},r.prototype.start=function(a){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),a&&(this.options.onCompleteCallback=a),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},r.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},r.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},r.prototype.update=function(a){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(a),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},r.prototype.printValue=function(a){var o;if(this.el){var l=this.formattingFn(a);!((o=this.options.plugin)===null||o===void 0)&&o.render?this.options.plugin.render(this.el,l):this.el.tagName==="INPUT"?this.el.value=l:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=l:this.el.innerHTML=l}},r.prototype.ensureNumber=function(a){return typeof a=="number"&&!isNaN(a)},r.prototype.validateValue=function(a){var o=Number(a);return this.ensureNumber(o)?o:(this.error="[CountUp] invalid start or end value: ".concat(a),null)},r.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},r.prototype.parse=function(a){var o=function(d){return d.replace(/([.,' ])/g,"\\$1")},l=o(this.options.separator),c=o(this.options.decimal),u=a.replace(new RegExp(l,"g"),"").replace(new RegExp(c,"g"),".");return parseFloat(u)},r}();i.CountUp=s})})(hS,hS.exports);var v2e=hS.exports;Object.defineProperty(ZR,"__esModule",{value:!0});var Qi=x,E2e=v2e;function A2e(t,e){var i=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i!=null){var n,s,r,a,o=[],l=!0,c=!1;try{if(r=(i=i.call(t)).next,e!==0)for(;!(l=(n=r.call(i)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(u){c=!0,s=u}finally{try{if(!l&&i.return!=null&&(a=i.return(),Object(a)!==a))return}finally{if(c)throw s}}return o}}function Px(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),i.push.apply(i,n)}return i}function l2(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?Px(Object(i),!0).forEach(function(n){C2e(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):Px(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function S2e(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function T2e(t){var e=S2e(t,"string");return typeof e=="symbol"?e:String(e)}function C2e(t,e,i){return e=T2e(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},fS.apply(this,arguments)}function R2e(t,e){if(t==null)return{};var i={},n=Object.keys(t),s,r;for(r=0;r<n.length;r++)s=n[r],!(e.indexOf(s)>=0)&&(i[s]=t[s]);return i}function bM(t,e){if(t==null)return{};var i=R2e(t,e),n,s;if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(s=0;s<r.length;s++)n=r[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function I2e(t,e){return w2e(t)||A2e(t,e)||_2e(t,e)||x2e()}function w2e(t){if(Array.isArray(t))return t}function _2e(t,e){if(t){if(typeof t=="string")return Ox(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ox(t,e)}}function Ox(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function x2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var N2e=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Qi.useLayoutEffect:Qi.useEffect;function fr(t){var e=Qi.useRef(t);return N2e(function(){e.current=t}),Qi.useCallback(function(){for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return e.current.apply(void 0,n)},[])}var V2e=function(e,i){var n=i.decimal,s=i.decimals,r=i.duration,a=i.easingFn,o=i.end,l=i.formattingFn,c=i.numerals,u=i.prefix,d=i.separator,h=i.start,f=i.suffix,p=i.useEasing,m=i.useGrouping,v=i.useIndianSeparators,g=i.enableScrollSpy,E=i.scrollSpyDelay,A=i.scrollSpyOnce,R=i.plugin;return new E2e.CountUp(e,o,{startVal:h,duration:r,decimal:n,decimalPlaces:s,easingFn:a,formattingFn:l,numerals:c,separator:d,prefix:u,suffix:f,plugin:R,useEasing:p,useIndianSeparators:v,useGrouping:m,enableScrollSpy:g,scrollSpyDelay:E,scrollSpyOnce:A})},L2e=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],k2e={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},vM=function(e){var i=Object.fromEntries(Object.entries(e).filter(function(G){var Z=I2e(G,2),j=Z[1];return j!==void 0})),n=Qi.useMemo(function(){return l2(l2({},k2e),i)},[e]),s=n.ref,r=n.startOnMount,a=n.enableReinitialize,o=n.delay,l=n.onEnd,c=n.onStart,u=n.onPauseResume,d=n.onReset,h=n.onUpdate,f=bM(n,L2e),p=Qi.useRef(),m=Qi.useRef(),v=Qi.useRef(!1),g=fr(function(){return V2e(typeof s=="string"?s:s.current,f)}),E=fr(function(G){var Z=p.current;if(Z&&!G)return Z;var j=g();return p.current=j,j}),A=fr(function(){var G=function(){return E(!0).start(function(){l==null||l({pauseResume:R,reset:I,start:F,update:L})})};o&&o>0?m.current=setTimeout(G,o*1e3):G(),c==null||c({pauseResume:R,reset:I,update:L})}),R=fr(function(){E().pauseResume(),u==null||u({reset:I,start:F,update:L})}),I=fr(function(){E().el&&(m.current&&clearTimeout(m.current),E().reset(),d==null||d({pauseResume:R,start:F,update:L}))}),L=fr(function(G){E().update(G),h==null||h({pauseResume:R,reset:I,start:F})}),F=fr(function(){I(),A()}),B=fr(function(G){r&&(G&&I(),A())});return Qi.useEffect(function(){v.current?a&&B(!0):(v.current=!0,B())},[a,v,B,o,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.formattingFn]),Qi.useEffect(function(){return function(){I()}},[I]),{start:F,pauseResume:R,reset:I,update:L,getCountUp:E}},F2e=["className","redraw","containerProps","children","style"],U2e=function(e){var i=e.className,n=e.redraw,s=e.containerProps,r=e.children,a=e.style,o=bM(e,F2e),l=Qi.useRef(null),c=Qi.useRef(!1),u=vM(l2(l2({},o),{},{ref:l,startOnMount:typeof r!="function"||e.delay===0,enableReinitialize:!1})),d=u.start,h=u.reset,f=u.update,p=u.pauseResume,m=u.getCountUp,v=fr(function(){d()}),g=fr(function(R){e.preserveValue||h(),f(R)}),E=fr(function(){if(typeof e.children=="function"&&!(l.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}m()});Qi.useEffect(function(){E()},[E]),Qi.useEffect(function(){c.current&&g(e.end)},[e.end,g]);var A=n&&e;return Qi.useEffect(function(){n&&c.current&&v()},[v,n,A]),Qi.useEffect(function(){!n&&c.current&&v()},[v,n,e.start,e.suffix,e.prefix,e.duration,e.separator,e.decimals,e.decimal,e.className,e.formattingFn]),Qi.useEffect(function(){c.current=!0},[]),typeof r=="function"?r({countUpRef:l,start:d,reset:h,update:f,pauseResume:p,getCountUp:m}):Qi.createElement("span",fS({className:i,ref:l,style:a},s),typeof e.start<"u"?m().formattingFn(e.start):"")},B2e=ZR.default=U2e;ZR.useCountUp=vM;const S0=({value:t=0,decimals:e,duration:i=1,preserveValue:n=!0,...s})=>{const[,r]=t.toString().split("."),a=e??((r==null?void 0:r.length)||0);return b.jsx(B2e,{end:t,...s,duration:i,decimals:a,enableScrollSpy:!1,preserveValue:n})},W2e=V("div")({name:"SDKContainer",class:"sopqfe6",propsAsIs:!1}),EM=V("div")({name:"SDKScrollContainer",class:"s102vcph",propsAsIs:!1}),PR=V("div")({name:"SDKContentContainer",class:"s1meqjjv",propsAsIs:!1}),G2e=()=>PR,OR=V(G2e())({name:"SDKWhiteContainer",class:"s1burm22",propsAsIs:!0}),D2e=()=>OR,M2e=V(D2e())({name:"SDKSummaryContainer",class:"sm5r3j5",propsAsIs:!0}),Z2e=V("div")({name:"TabsContainer",class:"tysxwr6",propsAsIs:!1}),P2e=()=>PR,O2e=V(P2e())({name:"LeaderboardContainer",class:"l9er3b1",propsAsIs:!0}),X2e=()=>OR,Y2e=V(X2e())({name:"TabsNavContainer",class:"t19dtrb3",propsAsIs:!0}),$2e=V("div")({name:"UserSummaryContainer",class:"u1552n3j",propsAsIs:!1});var K2e=Object.defineProperty,z2e=(t,e,i)=>e in t?K2e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,J2e=(t,e,i)=>z2e(t,e+"",i);let j2e=class{constructor(){J2e(this,"observers",new Set)}subscribe(e){this.observers.add(e)}unsubscribe(e){this.observers.delete(e)}notify(e){this.observers.forEach(i=>i(e))}};const cf=new j2e,H2e={hiding:!1,finished:!1},AM=()=>{const[t,e]=x.useState(H2e),i=x.useRef(null);x.useEffect(()=>{const r=a=>{e(a)};return cf.subscribe(r),()=>{cf.unsubscribe(r)}},[]);const n=x.useCallback(r=>{const a={hiding:!0,finished:!1};i.current&&clearTimeout(i.current),r!=null&&r.delay?i.current=setTimeout(()=>{cf.notify(a)},r==null?void 0:r.delay):cf.notify(a)},[]),s=x.useCallback(()=>{t.hiding&&(i.current=null,cf.notify({hiding:!1,finished:!0}))},[t.hiding]);return{...t,runAnimation:n,onAnimationEnd:s}},Q2e=V("div")({name:"Container",class:"c1pgyo67",propsAsIs:!1}),q2e="sx17qu6",eye="h1692c5m",Sh=({children:t,style:e,className:i,enabled:n=!0,hiding:s,onAnimationEnd:r})=>b.jsx(Q2e,{style:e,className:Ot(i,n&&q2e,n&&s&&eye),onAnimationEnd:r,children:t}),tye=()=>Sh,iye=V(tye())({name:"GrowingContainer",class:"gck55ev",propsAsIs:!0}),SM=({children:t,style:e,enabled:i,animate:n,...s})=>{const r=x.useRef(null);return b.jsx(iye,{...s,enabled:i&&n,style:{...e,...(()=>{const a=r==null?void 0:r.current,o=a&&window.getComputedStyle(a),l=o==null?void 0:o.getPropertyValue("height");return i?{height:n?l:0}:{}})()},children:b.jsx("div",{ref:r,children:t})})},nye=V("div")({name:"Container",class:"c1gcvmcj",propsAsIs:!1}),sye=V("div")({name:"Title",class:"tnr592a",propsAsIs:!1}),rye=V("div")({name:"Description",class:"d1e8jqpv",propsAsIs:!1}),aye=()=>Ke,oye=V(aye())({name:"Icon",class:"i1vs651k",propsAsIs:!0}),lye=({icon:t,title:e,description:i})=>b.jsxs(nye,{children:[b.jsx(oye,{name:t}),b.jsx(sye,{children:e}),b.jsx(rye,{children:i})]}),cye=()=>SM,uye=V(cye())({name:"ShowInContainer",class:"s16sbdnm",propsAsIs:!0}),wl=V("div")({name:"FeedbackContainer",class:"fbhorgl",propsAsIs:!1}),Xx="s1g20ja7",dye=V("div")({name:"Container",class:"c455ozj",propsAsIs:!1}),hye=()=>Ke,Yx=V(hye())({name:"IconPrediction",class:"i1913njx",propsAsIs:!0}),uf=V("div")({name:"FeedbackIconWrap",class:"fzfk69z",propsAsIs:!1}),Wm=V("div")({name:"FeedbackHeader",class:"fx87qaj",propsAsIs:!1}),fye=V("span")({name:"FeedbackTitle",class:"fvek9ew",propsAsIs:!1}),Pl=V("span")({name:"FeedbackDescription",class:"f1kbtp09",propsAsIs:!1}),pye=V("div")({name:"FeedbackTitleWrap",class:"f4i8rro",propsAsIs:!1}),mye=V("div")({name:"FeedbackResultDescriptionWrap",class:"fqyssr",propsAsIs:!1}),gye=()=>Pl,yye=V(gye())({name:"FeedbackDynamicDescription",class:"fyv794i",propsAsIs:!0}),bye=()=>Pl,vye=V(bye())({name:"FeedbackResultDescription",class:"f1jkj9vx",propsAsIs:!0}),uE=V("div")({name:"FeedbackText",class:"f1pxh3a6",propsAsIs:!1}),Eye=V("span")({name:"DynamicWrap",class:"d1afvufn",propsAsIs:!1}),Aye=V("div")({name:"EarlyFeedbackDescription",class:"eq8u24d",propsAsIs:!1}),$x=({feedbackMessages:t,questionVotedCorrectly:e,questionVoted:i,questionType:n,hasCorrectAnswer:s,showExpiredNotification:r,showClosedNotificationTrivia:a,votedInCurrentRender:o,votedAfterQuestionClosed:l,voteErrorMessage:c,enteredAnActiveQuestion:u,marketClosed:d,percentsAnimated:h,votedAnswer:f,isEarlyPrediction:p,correctAnswer:m,onAnimationEnd:v})=>{const g=i&&(n===Re.TRIVIA||n===Re.PREDICTION),E=n===Re.PREDICTION&&!s,A=d&&n===Re.PREDICTION&&!i||n===Re.PREDICTION&&l&&o&&u,R=g&&E,I=g&&s,L=n===Re.PREDICTION&&i&&o&&s,F=i&&n===Re.POLL&&o,B=e?"correct":"incorrect",G=e?t==null?void 0:t.correctFeedback:t==null?void 0:t.incorrectFeedback;return r||a||R||I||A||F||L||c?b.jsx(uye,{enabled:o,animate:!c&&r?!0:h,onAnimationEnd:v,children:b.jsxs(dye,{"data-prediction":E,children:[c&&!A&&b.jsxs(wl,{children:[!p&&b.jsx(Yx,{name:"questionExpired"}),b.jsx(Pl,{children:c})]}),!c&&r&&b.jsxs(wl,{children:[!p&&b.jsx(uf,{children:b.jsx(Ke,{name:"questionExpired"})}),b.jsxs("div",{children:[b.jsx(Wm,{children:b.jsx(Pl,{children:"Question Expired"})}),b.jsx(uE,{children:"You can still answer to see if you're correct, but no points are awarded for expired questions."})]})]}),!c&&a&&b.jsxs(wl,{className:Ot(Xx),children:[b.jsx(uf,{children:b.jsx(Ke,{name:"questionExpired"})}),b.jsxs("div",{children:[b.jsx(Wm,{children:b.jsx(Pl,{children:"Question Closed"})}),b.jsx(uE,{children:"This question was answered after the moderator closed the question. So the points for this answer wont tally."})]})]}),A&&b.jsxs(wl,{children:[!p&&b.jsx(uf,{children:b.jsx(Ke,{name:"questionExpired"})}),b.jsxs("div",{children:[b.jsx(Wm,{children:b.jsx(Pl,{children:p?s?"The results are already in!":"Question is Closed":"Question Closed"})}),b.jsx(uE,{children:p?b.jsx(Aye,{children:s?`Correct: ${m==null?void 0:m.text}`:"Event affecting the outcome has occurred."}):"This event has already taken place, so the ability to make a prediction on its outcome is no longer available."})]})]}),!c&&R&&b.jsxs(wl,{children:[!p&&b.jsx(Yx,{name:"icon-prediction"}),b.jsxs(yye,{children:["Your pick has been recorded. ",b.jsx(Eye,{children:"Well notify you of the result."})]})]}),!c&&F&&b.jsxs(wl,{children:[!p&&b.jsx(uf,{"data-feedback-type":"correct",children:b.jsx(Ke,{name:"correct"})}),b.jsx(Pl,{children:"Thanks for answering. Please stay tuned for the next question."})]}),!c&&(I||L)&&b.jsxs(wl,{className:Ot(a&&Xx),children:[!p&&b.jsx(uf,{"data-feedback-type":B,children:b.jsx(Ke,{name:B})}),b.jsx("div",{children:b.jsxs(Wm,{children:[p?b.jsx(pye,{children:B==="incorrect"?b.jsxs(b.Fragment,{children:[b.jsx("div",{children:"So close!"}),b.jsx("div",{children:"Better luck next time"})]}):b.jsxs(b.Fragment,{children:[b.jsx("div",{children:"Thats correct!"}),b.jsx("div",{children:"You chose wisely."})]})}):b.jsx(fye,{"data-feedback-type":B,children:G==null?void 0:G.title}),p?b.jsxs(mye,{children:[b.jsxs("div",{children:["Your pick: ",f==null?void 0:f.text]}),b.jsx("div",{children:B==="incorrect"?`Correct: ${m==null?void 0:m.text}`:""})]}):b.jsx(vye,{children:G==null?void 0:G.description})]})})]})]})}):null},Sye=V("div")({name:"Container",class:"c1hygj0s",propsAsIs:!1}),Tye=V("div")({name:"Title",class:"t1r84tez",propsAsIs:!1}),Cye=V("div")({name:"Description",class:"d1aj1a7k",propsAsIs:!1}),Rye=V("div")({name:"AdditionalDescription",class:"ax09ezs",propsAsIs:!1}),Iye=()=>Ke,wye=V(Iye())({name:"Icon",class:"inkrac",propsAsIs:!0}),_ye=({icon:t,title:e,description:i,additionalDescription:n})=>b.jsxs(Sye,{children:[t&&b.jsx(wye,{name:t}),b.jsx(Tye,{children:e}),b.jsx(Cye,{children:i}),n&&b.jsx(Rye,{children:n})]}),TM=V("div")({name:"Container",class:"c14ielyq",propsAsIs:!1}),xye=()=>EM,Nye=V(xye())({name:"QuestionScrollContainer",class:"q1tlqx57",propsAsIs:!0}),Vye=V("div")({name:"TopShadow",class:"t1hq58md",propsAsIs:!1}),Lye=V("div")({name:"BottomShadow",class:"b1c8nxcx",propsAsIs:!1}),kye=V("div")({name:"SponsorLogo",class:"siozuc3",propsAsIs:!1}),CM=V("div")({name:"Content",class:"cpnc44r",propsAsIs:!1}),Fye=V("div")({name:"Title",class:"tq7p3w0",propsAsIs:!1}),Uye=V("div")({name:"OptionsWrap",class:"o1jlfj9g",propsAsIs:!1}),RM=V("div")({name:"Options",class:"o84pmnd",propsAsIs:!1}),Bye=()=>Sh,Kx=V(Bye())({name:"AlertContainer",class:"a1dybjw9",propsAsIs:!0}),Wye=V("div")({name:"EarlyPrediction",class:"e1l05ict",propsAsIs:!1}),Gye=()=>Ke,Dye=V(Gye())({name:"EarlyPredictionIcon",class:"ez9juex",propsAsIs:!0}),Mye=()=>Ke,Zye=V(Mye())({name:"SponsorIcon",class:"s8p4aob",propsAsIs:!0}),Pye=V("button")({name:"ButtonContainer",class:"b1b6dl8t",propsAsIs:!1}),Oye=V("div")({name:"ButtonPctWrap",class:"b4iik8i",propsAsIs:!1}),Xye=V("div")({name:"ButtonPct",class:"b1gq1lnf",propsAsIs:!1}),Yye=V("span")({name:"ButtonBody",class:"b1j65z51",propsAsIs:!1}),$ye=V("div")({name:"IconContainer",class:"i19tpfua",propsAsIs:!1}),Kye=V("div")({name:"IconWrap",class:"i1tubmma",propsAsIs:!1}),IM=V("img")({name:"Icon",class:"i1grrgwj",propsAsIs:!1}),zye=()=>IM,Jye=V(zye())({name:"IconDefault",class:"ibemyq8",propsAsIs:!0}),jye=()=>IM,Hye=V(jye())({name:"IconCircle",class:"i1dceht",propsAsIs:!0}),Qye=V("span")({name:"Title",class:"t116q4vq",propsAsIs:!1}),qye=V("span")({name:"Indicators",class:"i17ajcu2",propsAsIs:!1}),ebe=V("div")({name:"PtsWrap",class:"pu9kmlb",propsAsIs:!1}),tbe=V("span")({name:"Pts",class:"p1j2j0s0",propsAsIs:!1}),ibe=V("span")({name:"Percentage",class:"p1mzj1sj",propsAsIs:!1}),nbe=()=>Ke,sbe=V(nbe())({name:"CheckIcon",class:"cichgz8",propsAsIs:!0}),zx={[Pt.CENTERED]:t=>b.jsx(Jye,{"data-testid":"vote-icon",alt:"option-icon",src:t}),[Pt.TRANSPARENT]:t=>b.jsx($ye,{"data-testid":"vote-icon",children:b.jsx(Kye,{style:{backgroundImage:`url(${t})`}})}),[Pt.ROUNDED]:t=>b.jsx(Hye,{"data-testid":"vote-icon",alt:"option-icon",src:t}),[Pt.NONE]:()=>null,[Pt.UNSET]:()=>null},rbe=({questionType:t,hasCorrectAnswer:e,correct:i,youVoted:n,questionVoted:s})=>{if(t===Re.POLL&&n)return"voted";if(t===Re.PREDICTION){if(!e&&s)return n?"voted":"unset";if(e&&s)return n?i?"correct":"incorrect":"unset";if(n)return"correct"}return t===Re.TRIVIA&&s&&n?i?"correct":"incorrect":"unset"},abe=({questionType:t,questionVoted:e,correct:i,hasCorrectAnswer:n,questionStatus:s})=>t===Re.TRIVIA?e&&i:t===Re.PREDICTION?e&&i&&n||s===si.RESOLVED&&i:!1,obe=va(Pye),lbe=t=>{var e;const{id:i,icon:n,text:s,percentageDecimal:r,points:a,onVote:o,markThatVoted:l,firstOption:c,onPercentsAnimated:u,youSelected:d,youVoted:h,questionVoted:f,imageMode:p,answerTimeExpired:m,questionStatus:v,isLoading:g,questionType:E,correct:A,hasCorrectAnswer:R,marketClosed:I,isEarlyPrediction:L,isAd:F,webos:B}=t,[G,Z]=x.useState(0),j=rbe(t),pe=abe({questionType:E,questionVoted:f,correct:A,hasCorrectAnswer:R,questionStatus:v}),J=I&&E===Re.PREDICTION,me=f||J,de=E===Re.PREDICTION&&!f&&!I&&!F,ye=f&&!d&&j!=="incorrect"&&!h;return x.useLayoutEffect(()=>{Z(0),requestAnimationFrame(()=>{Z(r)})},[r]),b.jsxs(obe,{value:i,webos:B,autoFocus:c,"data-selected":d,"data-answer-state":j,disabled:f||g||m||J,"data-is-not-checked":ye,"data-a":"intr",onClick:Le=>{l(E===Re.PREDICTION?I:v===si.RESOLVED),o(Le)},"data-is-ad":F,children:[b.jsx(Oye,{children:b.jsx(Xye,{"data-answer-state":j,"data-is-not-checked":ye,style:{width:`${me?G:0}%`},onTransitionEnd:()=>{J||u==null||u()},"data-is-ad":F})}),b.jsxs(Yye,{"data-a":"intr",children:[n&&p&&((e=zx[p])==null?void 0:e.call(zx,n)),b.jsx(Qye,{"data-a":"intr",children:s}),de&&b.jsxs(ebe,{children:[a,b.jsx(tbe,{children:"pts"})]}),me&&b.jsxs(qye,{children:[pe&&b.jsx(sbe,{name:L?"selectedBetPack":"selected"}),b.jsx(ibe,{children:b.jsx(S0,{value:r,suffix:"%"})})]})]})]})},cbe=()=>SM,ube=V(cbe())({name:"ShowInContainer",class:"sie6cqo",propsAsIs:!0}),dbe=V("div")({name:"WinBarContainer",class:"wgizw4u",propsAsIs:!1}),hbe=V("div")({name:"Content",class:"c1l3ucjp",propsAsIs:!1}),fbe=V("div")({name:"Title",class:"tx7j799",propsAsIs:!1}),pbe=()=>Ke,mbe=V(pbe())({name:"WinIcon",class:"w4lwuj0",propsAsIs:!0}),gbe=V("div")({name:"Points",class:"po9i64o",propsAsIs:!1}),ybe=V("span")({name:"PointsCount",class:"pe5g05h",propsAsIs:!1}),bbe=V("span")({name:"PointsUnits",class:"p1hdtpmb",propsAsIs:!1}),vbe=({title:t,points:e,isPlayingTimer:i,isTimer:n,animatePoints:s,questionType:r,timerDuration:a,votedInCurrentRender:o,percentsAnimated:l,onTimerExpired:c})=>b.jsx(ube,{enabled:r===Re.PREDICTION&&o,animate:l,children:b.jsxs(dbe,{style:{justifyContent:r===Re.PREDICTION?"center":"space-between"},children:[b.jsxs(hbe,{children:[t&&b.jsx(fbe,{children:t}),e!==void 0&&r!==Re.POLL&&b.jsxs(b.Fragment,{children:[b.jsx(mbe,{name:"icon-trophy"}),b.jsxs(gbe,{children:[b.jsx(ybe,{children:s?b.jsx(S0,{value:e,delay:.3}):e}),b.jsx(bbe,{children:"PTS"})]})]})]}),n&&r!==Re.PREDICTION&&b.jsx(S1e,{isPlaying:i,onTimerExpired:c,duration:a})]})}),Ebe=(t,e)=>{switch(t){case"already_voted":return e===Re.POLL?"Youve already answered this question on another device.":"Youve already answered this question on another device. So the points for this answer won't tally.";default:return"Something went wrong, please try again"}},Abe=()=>b.jsx(TM,{children:b.jsxs(CM,{children:[b.jsx(As,{loading:!0,style:{height:"40px",borderRadius:"100px"}}),b.jsx(As,{loading:!0,style:{height:"24px",margin:"16px 0"}}),b.jsx(RM,{children:Array.from({length:5}).map((t,e)=>b.jsx(As,{loading:!0,style:{height:"44px"}},e))})]})}),Sbe=({openedQuestion:t,isLoading:e,vote:i,close:n,isEarlyPrediction:s,mastersApp:r,webos:a})=>{var o,l;const c=t.subject,u=t.type,d=t.status,h=(o=t.options)==null?void 0:o.options,f=t.marketClosed,p=t.id,m=x.useRef(),v=x.useRef(),g=r?!1:(t==null?void 0:t.adUnit)===fn.STANDART,[E,A]=x.useState(!1),[R,I]=x.useState(!1),[L,F]=x.useState(!0),[B,G]=x.useState(!1),[Z,j]=x.useState(!1),[pe,J]=x.useState(""),[me,de]=x.useState(""),[ye,Le]=x.useState(!1),[ge,H]=x.useState(!1),[ee,we]=x.useState(!1),{runAnimation:M,finished:Q}=AM();x.useEffect(()=>{Q&&n(p)},[n,Q]),x.useEffect(()=>{u===Re.PREDICTION?f&&F(!1):d===si.RESOLVED&&F(!1)},[]);const se=x.useCallback(tt=>{I(tt),A(!0)},[]),ne=x.useCallback(()=>{s&&A(!1)},[s]),Ie=x.useRef(!1),ke=x.useCallback(()=>{v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{we(!0),M({delay:5500})},4e3)},[M]),De=x.useCallback(async tt=>{if(!Ie.current&&(Ie.current=!0,p)){const gt=tt.currentTarget.value;J(gt);try{await i(p,gt),g&&ke()}catch(Ft){de(Ebe(Ft.message,u)),J(""),console.error("Error while voting",Ft),Ie.current=!1}}},[u,p,J,i,g,ke]),$e=x.useCallback(()=>{G(!0),M({delay:3500})},[M]),Je=x.useCallback(()=>{j(!0),M({delay:3500})},[M]),ce=t==null?void 0:t.answers.find(tt=>tt.youVoted===!0),$=x.useMemo(()=>!!(t!=null&&t.answers.find(tt=>tt.correct===!0)),[t]),te=x.useMemo(()=>t==null?void 0:t.answers.find(tt=>tt.correct===!0),[t]);x.useEffect(()=>{ce&&E&&!ge&&(m.current=setTimeout(Je,1e4),H(!0))},[ce]),x.useEffect(()=>()=>{clearTimeout(m.current),clearTimeout(v.current)},[]);const ue=x.useMemo(()=>t?t.answers.map(tt=>{var gt;return{...tt,questionVoted:!!ce,youSelected:pe===tt.id,isLoading:e,hasCorrectAnswer:$,questionType:t.type,answerTimeExpired:B,questionStatus:d,imageMode:(gt=t.appearance)==null?void 0:gt.images,onVote:De}}):[],[$,B,e,t,ce,d,De,pe]);x.useEffect(()=>{const tt=ue.some(({percentageDecimal:Ft})=>Ft!==0),gt=ce&&u===Re.PREDICTION;me&&(s||!tt||f&&gt)&&Le(!0)},[ue,me,s,f,u,ce]);const be=h&&(h.case==="trivia"||h.case==="prediction")?h.value:void 0,xe=d===si.RESOLVED&&u===Re.TRIVIA&&!ce&&!L,Ge=u===Re.TRIVIA&&R,Me=x.useMemo(()=>g?!1:u===Re.PREDICTION?s?!1:!!(ce&&!$||ce&&$&&te!=null&&te.youVoted):!0,[u,ce,$,te,s,g]),le=x.useMemo(()=>{if(u===Re.PREDICTION&&ce&&(!$||$&&te!=null&&te.youVoted))return ce.points;if(!(xe||B))return ce?ce.correct?ce.pointsEarned:0:te==null?void 0:te.points},[B,ce,te,xe,u,$]),Pe=x.useMemo(()=>u===Re.PREDICTION&&ce?$?$&&te!=null&&te.youVoted?"You won":"":"To win":xe||B?"Time expired":u===Re.POLL?"Time remaining":ce?"You won":"To win",[B,u,ce,xe,$,te]),ht=!Me||Me&&u===Re.PREDICTION&&E&&!ye,rt=(u===Re.TRIVIA||u===Re.PREDICTION)&&ce&&$&&(te==null?void 0:te.youVoted),st=ce||xe||Ge||u===Re.TRIVIA&&d===si.RESOLVED&&L,He=!s&&(B||Z)||ee,bt=()=>{const tt=()=>u===Re.TRIVIA?ce!=null&&ce.correct?`That's correct!
You chose wisely.`:`So close!
Better luck next time.`:u===Re.POLL?`Thanks for answering.
Please stay tuned for the next question.`:u===Re.PREDICTION?"Stay tuned to see if your prediction was correct.":"",gt=()=>u===Re.TRIVIA?`Your Pick: ${te==null?void 0:te.text}`:u===Re.POLL||u===Re.PREDICTION?`Your Pick: ${ce==null?void 0:ce.text}`:"",Ft=()=>u===Re.TRIVIA&&(h==null?void 0:h.case)==="trivia"?h==null?void 0:h.value.explanation:u===Re.PREDICTION?c:"";return ee?b.jsx(Kx,{children:b.jsx(_ye,{title:tt(),description:gt(),...ce!=null&&ce.correct||u===Re.POLL||u===Re.PREDICTION?{icon:"icon-correct"}:{},...u===Re.TRIVIA||u===Re.PREDICTION?{additionalDescription:Ft()}:{}})}):!s&&(B||Z)?b.jsx(Kx,{children:b.jsx(lye,{icon:"icon-check-circle",title:"More to come...",description:Z?b.jsxs(b.Fragment,{children:["Stay tuned for more questions ",b.jsx("br",{})," and insights."]}):b.jsxs(b.Fragment,{children:["Watch for additional enhanced stream ",b.jsx("br",{})," interactive experience."]})})}):null};return b.jsxs(Nye,{children:[s&&b.jsx(Vye,{}),b.jsx(TM,{style:s?{marginTop:"-40px"}:{},children:b.jsxs(CM,{children:[!s&&!g&&b.jsx($x,{feedbackMessages:be,questionVoted:!!ce,questionVotedCorrectly:ce==null?void 0:ce.correct,questionType:u,hasCorrectAnswer:$,showExpiredNotification:xe,showClosedNotificationTrivia:Ge,votedInCurrentRender:E,votedAfterQuestionClosed:R,enteredAnActiveQuestion:L,marketClosed:f,percentsAnimated:ye,voteErrorMessage:me,votedAnswer:ce}),Me&&b.jsx(vbe,{title:Pe,points:le,onTimerExpired:$e,questionType:t.type,isTimer:!e,isPlayingTimer:!ce,animatePoints:rt,timerDuration:st?0:Number(((l=t==null?void 0:t.appearance)==null?void 0:l.autoHideInterval)||"30"),votedInCurrentRender:E,percentsAnimated:ye}),He?bt():b.jsxs(b.Fragment,{children:[s&&b.jsxs(Wye,{children:[b.jsx(Dye,{name:"iconEarlyPrediction"}),"EARLY PREDICTION"]}),b.jsx(Fye,{style:ht?{marginTop:0}:{},children:c}),s&&b.jsx($x,{feedbackMessages:be,questionVoted:!!ce,questionVotedCorrectly:ce==null?void 0:ce.correct,questionType:u,hasCorrectAnswer:$,showExpiredNotification:xe,showClosedNotificationTrivia:Ge,votedInCurrentRender:E,votedAfterQuestionClosed:R,enteredAnActiveQuestion:L,marketClosed:f,percentsAnimated:ye,voteErrorMessage:me,isEarlyPrediction:s,correctAnswer:te,votedAnswer:ce,onAnimationEnd:ne}),b.jsxs(Uye,{children:[b.jsx(RM,{children:ue.sort((tt,gt)=>tt.id>gt.id?1:-1).map((tt,gt)=>b.jsx(lbe,{...tt,firstOption:gt===0,markThatVoted:se,onPercentsAnimated:()=>Le(!0),votedAfterQuestionClosed:R,enteredAnActiveQuestion:L,marketClosed:f,isEarlyPrediction:s,isAd:g,webos:a},tt.id))}),s&&b.jsxs(b.Fragment,{children:[b.jsx(Lye,{}),b.jsx(kye,{children:b.jsx(Zye,{name:"mastersLogoWhite"})})]})]})]})]})})]})},di=new Voe;let lr=[],Vo=0;const Gm=4,wM=t=>{let e=[],i={get(){return i.lc||i.listen(()=>{})(),i.value},lc:0,listen(n){return i.lc=e.push(n),()=>{for(let r=Vo+Gm;r<lr.length;)lr[r]===n?lr.splice(r,Gm):r+=Gm;let s=e.indexOf(n);~s&&(e.splice(s,1),--i.lc||i.off())}},notify(n,s){let r=!lr.length;for(let a of e)lr.push(a,i.value,n,s);if(r){for(Vo=0;Vo<lr.length;Vo+=Gm)lr[Vo](lr[Vo+1],lr[Vo+2],lr[Vo+3]);lr.length=0}},off(){},set(n){let s=i.value;s!==n&&(i.value=n,i.notify(s))},subscribe(n){let s=i.listen(n);return n(i.value),s},value:t};return i},XR=(t={})=>{let e=wM(t);return e.setKey=function(i,n){let s=e.value;typeof n>"u"&&i in e.value?(e.value={...e.value},delete e.value[i],e.notify(s,i)):e.value[i]!==n&&(e.value={...e.value,[i]:n},e.notify(s,i))},e},_M=t=>[e=>(...i)=>(t&&di.emit(t==null?void 0:t.type,t),e?e(i):null)],Tbe=t=>{const e=t.target;e instanceof HTMLAnchorElement&&e.target==="_blank"&&e.getAttribute("data-a")==="web-link"&&di.emit("poll",{action:"navigated",payload:{}}),e instanceof Element&&e.getAttribute("data-a")==="intr"&&di.emit("interactions",{action:"tap",payload:{}})},xM=(t,e)=>{const i=window.innerWidth<ro.xl;x.useEffect(()=>{const n=i&&e.useDomNode?document:t.current,s=r=>{e.listener(r,t)};return e.enabled&&(n==null||n.addEventListener(e.event,s)),()=>{n==null||n.removeEventListener(e.event,s)}},[i,e.enabled,e.listener])},NM=t=>ha(t),Cbe=t=>{const e=dt(t.getActiveFeature()),i=dt(t.streamStore()),[n,s]=x.useState(null);return x.useEffect(()=>{const r=t.getFeatures();if(!e)s(null);else for(const[a,o]of r)a===e?(o.status.get()===dl.Suspended&&o.enable(),s(o)):o.status.get()===dl.Ready&&o.disable();return()=>{for(const[,a]of r)a.status.get()===dl.Ready&&a.disable()}},[e,t,i]),[e,n]},Rbe=V("div")({name:"Container",class:"c1zy8a",propsAsIs:!1}),Ibe=V("div")({name:"Title",class:"t1vih9p5",propsAsIs:!1}),wbe=V("div")({name:"Indicator",class:"i1fbnvpb",propsAsIs:!1}),Jx=({indicator:t,title:e})=>b.jsxs(Rbe,{children:[b.jsx(Ibe,{children:e}),b.jsx(wbe,{children:t})]}),_be=V("div")({name:"Container",class:"ctmhwyc",propsAsIs:!1}),xbe=V("div")({name:"Indicator",class:"i1jri200",propsAsIs:!1}),Nbe=V("div")({name:"Title",class:"t8s05oq",propsAsIs:!1}),Dm=({indicator:t,title:e})=>b.jsxs(_be,{children:[b.jsx(xbe,{children:t}),b.jsx(Nbe,{children:e})]}),Vbe=V("div")({name:"Container",class:"c1yrpn9o",propsAsIs:!1}),Lbe=V("div")({name:"TopInfo",class:"t17fwahh",propsAsIs:!1}),kbe=V("div")({name:"BottomInfo",class:"by6w7e9",propsAsIs:!1}),Fbe=V("div")({name:"User",class:"u1g7arbm",propsAsIs:!1}),Ube=V("img")({name:"Avatar",class:"a1ldeata",propsAsIs:!1}),Bbe=V("div")({name:"UserInfo",class:"u10d4koz",propsAsIs:!1}),Wbe=V("div")({name:"UserName",class:"u1q6roj0",propsAsIs:!1}),Gbe=V("div")({name:"UserRating",class:"ui0m425",propsAsIs:!1}),Dbe=V("img")({name:"TrophyIcon",class:"t1el3mrn",propsAsIs:!1}),Mbe=V("div")({name:"RtsContainer",class:"r2vgnxv",propsAsIs:!1}),Zbe=V("div")({name:"RtsDivider",class:"roqn06j",propsAsIs:!1}),Pbe=V("div")({name:"Rts",class:"r15adx7c",propsAsIs:!1}),jx=V("div")({name:"RtsIndicator",class:"rv59lta",propsAsIs:!1}),Hx=V("div")({name:"RtsLabel",class:"r55lotb",propsAsIs:!1}),Obe=V("div")({name:"Divider",class:"d1knfgqt",propsAsIs:!1}),Xbe=V("div")({name:"Ranks",class:"r1mqo824",propsAsIs:!1}),Ybe=V("div")({name:"Statistics",class:"sxareh6",propsAsIs:!1}),$be=V("div")({name:"AvatarPlaceholder",class:"amcu48h",propsAsIs:!1}),Kbe=V("button")({name:"UserAccountBtn",class:"u32nfkp",propsAsIs:!1}),zbe="data:image/svg+xml,%3csvg%20width='16'%20height='16'%20viewBox='0%200%2016%2016'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='Trophy'%3e%3cpath%20id='Combined%20Shape'%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M3.69197%204.66662C3.69197%205.99705%203.92914%207.17787%204.4035%208.20912C3.49966%208.02451%202.74487%207.66486%202.1391%207.13014C1.53333%206.59542%201.23046%206.0798%201.23046%205.58328V4.66662H3.69197ZM14.7686%204.66662V5.58328C14.7686%206.0798%2014.4658%206.59542%2013.86%207.13014C13.2542%207.66486%2012.4994%208.02451%2011.5956%208.20912C12.0699%207.17787%2012.3071%205.99705%2012.3071%204.66662H14.7686ZM15.9998%205.58329V4.36108C15.9998%204.10645%2015.9101%203.89002%2015.7306%203.71178C15.5511%203.53354%2015.3332%203.44442%2015.0768%203.44442H12.3076V2.52776C12.3076%202.10763%2012.1569%201.74797%2011.8556%201.44878C11.5544%201.14959%2011.1922%201%2010.7691%201H5.23072C4.80764%201%204.44547%201.14959%204.14419%201.44878C3.84291%201.74797%203.69227%202.10763%203.69227%202.52776V3.44442H0.923068C0.666659%203.44442%200.448714%203.53354%200.269228%203.71178C0.0897418%203.89002%200%204.10645%200%204.36108V5.58329C0%206.03525%200.13301%206.49039%200.399034%206.94872C0.665059%207.40705%201.02403%207.82082%201.47595%208.19003C1.92787%208.55924%202.48234%208.86957%203.13939%209.12101C3.79644%209.37246%204.48713%209.51409%205.21149%209.54592C5.48071%209.88967%205.7852%2010.192%206.12494%2010.453C6.36853%2010.6695%206.53679%2010.9002%206.62974%2011.1453C6.72269%2011.3904%206.76916%2011.6752%206.76916%2011.9999C6.76916%2012.3436%206.67141%2012.6333%206.4759%2012.8688C6.28038%2013.1043%205.96789%2013.2221%205.53841%2013.2221C5.05764%2013.2221%204.62976%2013.3669%204.25476%2013.6566C3.87977%2013.9462%203.69227%2014.3106%203.69227%2014.7499V15.361C3.69227%2015.4501%203.72112%2015.5233%203.77881%2015.5806C3.8365%2015.6379%203.91022%2015.6665%203.99996%2015.6665H11.9999C12.0896%2015.6665%2012.1633%2015.6379%2012.221%2015.5806C12.2787%2015.5233%2012.3076%2015.4501%2012.3076%2015.361V14.7499C12.3076%2014.3106%2012.1201%2013.9462%2011.7451%2013.6566C11.3701%2013.3669%2010.9422%2013.2221%2010.4614%2013.2221C10.0319%2013.2221%209.71945%2013.1043%209.52394%2012.8688C9.32843%2012.6333%209.23068%2012.3436%209.23068%2011.9999C9.23068%2011.6752%209.27715%2011.3904%209.3701%2011.1453C9.46305%2010.9002%209.63131%2010.6695%209.8749%2010.453C10.2146%2010.192%2010.5191%209.88967%2010.7884%209.54592C11.5127%209.51409%2012.2034%209.37246%2012.8604%209.12101C13.5175%208.86957%2014.072%208.55924%2014.5239%208.19003C14.9758%207.82082%2015.3348%207.40705%2015.6008%206.94872C15.8668%206.49039%2015.9998%206.03525%2015.9998%205.58329ZM6.76047%207.1798L8.05109%206.49997L9.3417%207.1798L9.09521%205.73989L10.1393%204.72015L8.69639%204.51007L8.05109%203.2L7.40578%204.51007L5.96283%204.72015L7.00696%205.73989L6.76047%207.1798Z'%20fill='%23F2C94C'/%3e%3c/g%3e%3c/svg%3e",VM=({loading:t,hideFriendsRank:e,avatar:i,name:n,points:s,friendsRank:r,rank:a,streak:o,correct:l,incorrect:c,inTop:u,successRate:d})=>b.jsxs(Vbe,{"data-loading":t,children:[b.jsx(Lbe,{children:b.jsx(As,{loading:t,children:b.jsxs(Fbe,{children:[b.jsxs(Kbe,{children:[i&&b.jsx(Ube,{alt:"avatar",src:i}),!i&&b.jsx($be,{children:WR(n||"")})]}),b.jsxs(Bbe,{children:[b.jsx(Wbe,{children:n}),b.jsxs(Gbe,{children:[b.jsxs(Mbe,{children:[b.jsxs(Pbe,{children:[b.jsx(Dbe,{alt:"rank-icon",src:zbe}),b.jsxs(jx,{children:[cM(s),b.jsx(Hx,{children:"PTS"})]})]}),e&&b.jsxs(jx,{children:[b.jsx(Zbe,{}),a||0,b.jsx(Hx,{children:"global rank"})]})]}),!e&&b.jsxs(b.Fragment,{children:[b.jsx(Obe,{}),b.jsxs("div",{children:["TOP ",u||0,"%"]})]})]})]})]})})}),b.jsxs(kbe,{children:[!e&&b.jsxs(Xbe,{children:[b.jsx(As,{loading:t,style:{width:"100%"},children:b.jsx(Jx,{indicator:r||0,title:"Friends rank"})}),b.jsx(As,{loading:t,style:{width:"100%"},children:b.jsx(Jx,{indicator:a||0,title:"Global rank"})})]}),b.jsx(As,{loading:t,children:b.jsxs(Ybe,{children:[b.jsx(Dm,{indicator:o||0,title:"Win streak"}),b.jsx(Dm,{indicator:l||0,title:"Correct"}),b.jsx(Dm,{indicator:c||0,title:"Incorrect"}),b.jsx(Dm,{indicator:`${d||0}%`,title:"Succ. rate"})]})})]})]}),Jbe=V("div")({name:"StaticContainer",class:"svm502q",propsAsIs:!1}),jbe=`
  .sl-pill-button {
    display: none !important;
  }
`,LM=()=>window.innerWidth>=ro.md&&window.innerWidth<ro.lg?76:53,Qx=t=>{var e;const i=LM();return Math.round((((e=t.current)==null?void 0:e.getBoundingClientRect().y)||0)-i)<=0},kM=({children:t,container:e,useContainer:i,staticStyles:n})=>{const[s]=x.useState(()=>Qx(e)),[r,a]=x.useState(!1);return x.useEffect(()=>{if(!e.current||!s)return a(!0),()=>{};const o=window.scrollY;return a(!0),()=>{Qx(e)&&window.scrollTo({top:o,behavior:"instant"})}},[]),x.useEffect(()=>{if(r&&e.current&&s){const o=LM();window.scrollTo({top:e.current.offsetTop-o,behavior:"instant"})}},[r]),!e.current||!r?null:i?xp.createPortal(b.jsxs(Jbe,{className:"StaticContainer",children:[t,b.jsx("style",{children:fM}),b.jsx("style",{children:jbe})]}),e.current,"modal-node"):xp.createPortal(b.jsxs(b.Fragment,{children:[t,b.jsx("style",{children:n})]}),e.current,"modal-node")},Hbe=V("button")({name:"Container",class:"cpjnajb",propsAsIs:!1}),Qbe=V("div")({name:"Content",class:"c4m6kaz",propsAsIs:!1}),qbe=V("span")({name:"Title",class:"t1h8t9cc",propsAsIs:!1}),eve=()=>b.jsx(Hbe,{children:b.jsxs(Qbe,{children:[b.jsx(Ke,{name:"iconCopySuccess"}),b.jsx(qbe,{children:"Link Copied to Clipboard"})]})}),FM=t=>{const e=x.useRef(),[i,n]=x.useState(null),s=x.useCallback(async r=>{var a;if(r&&(a=navigator==null?void 0:navigator.clipboard)!=null&&a.writeText){e.current&&(clearTimeout(e.current),n(null));try{await navigator.clipboard.writeText(r),t.current&&(n(xp.createPortal(b.jsx(eve,{}),t.current)),e.current=setTimeout(()=>{n(null)},1e3))}catch(o){console.error("Unable to copy to clipboard",o)}}},[t]);return x.useEffect(()=>()=>{clearTimeout(e.current)},[]),[s,i]};let $s;typeof window<"u"?$s=window:typeof self<"u"?$s=self:$s=Tc;let pS=null,mS=null;const qx=20,dE=$s.clearTimeout,eN=$s.setTimeout,hE=$s.cancelAnimationFrame||$s.mozCancelAnimationFrame||$s.webkitCancelAnimationFrame,tN=$s.requestAnimationFrame||$s.mozRequestAnimationFrame||$s.webkitRequestAnimationFrame;hE==null||tN==null?(pS=dE,mS=function(e){return eN(e,qx)}):(pS=function([e,i]){hE(e),dE(i)},mS=function(e){const i=tN(function(){dE(n),e()}),n=eN(function(){hE(i),e()},qx);return[i,n]});function tve(t){let e,i,n,s,r,a,o;const l=typeof document<"u"&&document.attachEvent;if(!l){a=function(g){const E=g.__resizeTriggers__,A=E.firstElementChild,R=E.lastElementChild,I=A.firstElementChild;R.scrollLeft=R.scrollWidth,R.scrollTop=R.scrollHeight,I.style.width=A.offsetWidth+1+"px",I.style.height=A.offsetHeight+1+"px",A.scrollLeft=A.scrollWidth,A.scrollTop=A.scrollHeight},r=function(g){return g.offsetWidth!==g.__resizeLast__.width||g.offsetHeight!==g.__resizeLast__.height},o=function(g){if(g.target.className&&typeof g.target.className.indexOf=="function"&&g.target.className.indexOf("contract-trigger")<0&&g.target.className.indexOf("expand-trigger")<0)return;const E=this;a(this),this.__resizeRAF__&&pS(this.__resizeRAF__),this.__resizeRAF__=mS(function(){r(E)&&(E.__resizeLast__.width=E.offsetWidth,E.__resizeLast__.height=E.offsetHeight,E.__resizeListeners__.forEach(function(I){I.call(E,g)}))})};let h=!1,f="";n="animationstart";const p="Webkit Moz O ms".split(" ");let m="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),v="";{const g=document.createElement("fakeelement");if(g.style.animationName!==void 0&&(h=!0),h===!1){for(let E=0;E<p.length;E++)if(g.style[p[E]+"AnimationName"]!==void 0){v=p[E],f="-"+v.toLowerCase()+"-",n=m[E],h=!0;break}}}i="resizeanim",e="@"+f+"keyframes "+i+" { from { opacity: 0; } to { opacity: 0; } } ",s=f+"animation: 1ms "+i+"; "}const c=function(h){if(!h.getElementById("detectElementResize")){const f=(e||"")+".resize-triggers { "+(s||"")+'visibility: hidden; opacity: 0; } .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1; } .resize-triggers > div { background: #eee; overflow: auto; } .contract-trigger:before { width: 200%; height: 200%; }',p=h.head||h.getElementsByTagName("head")[0],m=h.createElement("style");m.id="detectElementResize",m.type="text/css",t!=null&&m.setAttribute("nonce",t),m.styleSheet?m.styleSheet.cssText=f:m.appendChild(h.createTextNode(f)),p.appendChild(m)}};return{addResizeListener:function(h,f){if(l)h.attachEvent("onresize",f);else{if(!h.__resizeTriggers__){const p=h.ownerDocument,m=$s.getComputedStyle(h);m&&m.position==="static"&&(h.style.position="relative"),c(p),h.__resizeLast__={},h.__resizeListeners__=[],(h.__resizeTriggers__=p.createElement("div")).className="resize-triggers";const v=p.createElement("div");v.className="expand-trigger",v.appendChild(p.createElement("div"));const g=p.createElement("div");g.className="contract-trigger",h.__resizeTriggers__.appendChild(v),h.__resizeTriggers__.appendChild(g),h.appendChild(h.__resizeTriggers__),a(h),h.addEventListener("scroll",o,!0),n&&(h.__resizeTriggers__.__animationListener__=function(A){A.animationName===i&&a(h)},h.__resizeTriggers__.addEventListener(n,h.__resizeTriggers__.__animationListener__))}h.__resizeListeners__.push(f)}},removeResizeListener:function(h,f){if(l)h.detachEvent("onresize",f);else if(h.__resizeListeners__.splice(h.__resizeListeners__.indexOf(f),1),!h.__resizeListeners__.length){h.removeEventListener("scroll",o,!0),h.__resizeTriggers__.__animationListener__&&(h.__resizeTriggers__.removeEventListener(n,h.__resizeTriggers__.__animationListener__),h.__resizeTriggers__.__animationListener__=null);try{h.__resizeTriggers__=!h.removeChild(h.__resizeTriggers__)}catch{}}}}}class ive extends x.Component{constructor(...e){super(...e),this.state={height:this.props.defaultHeight||0,scaledHeight:this.props.defaultHeight||0,scaledWidth:this.props.defaultWidth||0,width:this.props.defaultWidth||0},this._autoSizer=null,this._detectElementResize=null,this._parentNode=null,this._resizeObserver=null,this._timeoutId=null,this._onResize=()=>{this._timeoutId=null;const{disableHeight:i,disableWidth:n,onResize:s}=this.props;if(this._parentNode){const r=window.getComputedStyle(this._parentNode)||{},a=parseFloat(r.paddingLeft||"0"),o=parseFloat(r.paddingRight||"0"),l=parseFloat(r.paddingTop||"0"),c=parseFloat(r.paddingBottom||"0"),u=this._parentNode.getBoundingClientRect(),d=u.height-l-c,h=u.width-a-o,f=this._parentNode.offsetHeight-l-c,p=this._parentNode.offsetWidth-a-o;(!i&&(this.state.height!==f||this.state.scaledHeight!==d)||!n&&(this.state.width!==p||this.state.scaledWidth!==h))&&(this.setState({height:f,width:p,scaledHeight:d,scaledWidth:h}),typeof s=="function"&&s({height:f,scaledHeight:d,scaledWidth:h,width:p}))}},this._setRef=i=>{this._autoSizer=i}}componentDidMount(){const{nonce:e}=this.props,i=this._autoSizer?this._autoSizer.parentNode:null;if(i!=null&&i.ownerDocument&&i.ownerDocument.defaultView&&i instanceof i.ownerDocument.defaultView.HTMLElement){this._parentNode=i;const n=i.ownerDocument.defaultView.ResizeObserver;n!=null?(this._resizeObserver=new n(()=>{this._timeoutId=setTimeout(this._onResize,0)}),this._resizeObserver.observe(i)):(this._detectElementResize=tve(e),this._detectElementResize.addResizeListener(i,this._onResize)),this._onResize()}}componentWillUnmount(){this._parentNode&&(this._detectElementResize&&this._detectElementResize.removeResizeListener(this._parentNode,this._onResize),this._timeoutId!==null&&clearTimeout(this._timeoutId),this._resizeObserver&&this._resizeObserver.disconnect())}render(){const{children:e,defaultHeight:i,defaultWidth:n,disableHeight:s=!1,disableWidth:r=!1,doNotBailOutOnEmptyChildren:a=!1,nonce:o,onResize:l,style:c={},tagName:u="div",...d}=this.props,{height:h,scaledHeight:f,scaledWidth:p,width:m}=this.state,v={overflow:"visible"},g={};let E=!1;return s||(h===0&&(E=!0),v.height=0,g.height=h,g.scaledHeight=f),r||(m===0&&(E=!0),v.width=0,g.width=m,g.scaledWidth=p),a&&(E=!1),x.createElement(u,{ref:this._setRef,style:{...v,...c},...d},!E&&e(g))}}const nve=V("div")({name:"Container",class:"c1itm4k7",propsAsIs:!1}),sve=V("div")({name:"IconContainer",class:"i1w4fsni",propsAsIs:!1}),rve=()=>Ke,ave=V(rve())({name:"InviteGameIcon",class:"i19m85r1",propsAsIs:!0}),ove=V("div")({name:"Content",class:"c1mbu204",propsAsIs:!1}),lve=V("div")({name:"Heading",class:"h1amdqtv",propsAsIs:!1}),cve=V("div")({name:"Subtext",class:"s1lhlj9j",propsAsIs:!1}),uve=V("div")({name:"LinkContainer",class:"l1wot35e",propsAsIs:!1}),dve=V("div")({name:"LinkInfo",class:"l1jdw39q",propsAsIs:!1}),hve=V("span")({name:"LinkTitle",class:"l1cr5mk",propsAsIs:!1}),fve=V("span")({name:"LinkAddress",class:"lvi87q4",propsAsIs:!1}),pve=()=>Ke,mve=V(pve())({name:"LinkIcon",class:"l1pqlvw3",propsAsIs:!0}),UM=({inviteLink:t,inviteCardTitle:e,inviteCardSubtext:i,primaryColor:n,className:s})=>{const r=x.useRef(null),[a,o]=FM(r),[l]=_M({type:"invitation",action:"sent",payload:{from:zg.MENU}});return b.jsxs(nve,{className:s,children:[b.jsx(sve,{style:{backgroundColor:n},children:b.jsx(ave,{name:"invite-game-icon"})}),b.jsxs(ove,{children:[b.jsx(lve,{children:e||""}),b.jsx(cve,{children:i||""})]}),t&&b.jsxs(uve,{ref:r,"data-a":"intr",onClick:l(()=>a(t)),children:[b.jsxs(dve,{children:[b.jsx(hve,{children:"Invite link"}),b.jsx(fve,{children:t})]}),b.jsx(mve,{name:"icon-copy"})]}),o]})},gve=()=>DR,yve=V(gve())({name:"Container",class:"cll3md7",propsAsIs:!0}),bve=()=>mM,vve=V(bve())({name:"ActionBtn",class:"a10g1iik",propsAsIs:!0}),Eve=({questionId:t,...e})=>b.jsxs(yve,{"data-a":"intr","data-name":t,children:[b.jsx(yM,{questionId:t,...e}),b.jsx(vve,{"data-a":"intr","data-name":t,children:"View Insight"})]}),Ave=()=>DR,Sve=V(Ave())({name:"Container",class:"cl56x6b",propsAsIs:!0}),Tve=V("button")({name:"ActionButton",class:"a11pzf92",propsAsIs:!1}),Cve=V("blockquote")({name:"Quote",class:"q1hbaleq",propsAsIs:!1}),Rve=({...t})=>b.jsxs(Sve,{"data-a":"intr","data-name":t.tweetId,children:[t.title&&b.jsx(Cve,{children:t.title}),b.jsx(GR,{...t}),b.jsx(Tve,{"data-a":"intr","data-name":t.tweetId,children:"View Insight"})]}),iN=V("div")({name:"QuestionsContainer",class:"qvghv3l",propsAsIs:!1}),Ive=({questions:t,openQuestion:e,controlVideo:i})=>{const n=s=>{const r=s.target.getAttribute("data-name");r&&(lM(),e(r,{openedFrom:"list"}))};return t?b.jsx(iN,{"data-a":"intr",onClick:n,children:t==null?void 0:t.map(s=>{var r,a,o;if(s.type==="question"&&((r=s.attributes)==null?void 0:r.attributes.case)==="question"){const l=s.attributes.attributes.value;return b.jsx(Fge,{...l},l.questionId)}if(s.type==="insight"&&((a=s.attributes)==null?void 0:a.attributes.case)==="insight"){const l=s.attributes.attributes.value;return b.jsx(Eve,{controlVideo:i,...l},l.questionId)}if(s.type==="tweet"&&((o=s.attributes)==null?void 0:o.attributes.case)==="tweet"){const l=s.attributes.attributes.value,c=s.attributes.id;return b.jsx(Rve,{controlVideo:i,...l,tweetId:c},c)}return null})}):b.jsx(iN,{children:Array.from({length:5}).map((s,r)=>b.jsx(kge,{},r))})},wve=V("div")({name:"InsightContainer",class:"i1pqqgpo",propsAsIs:!1}),_ve=V("img")({name:"Image",class:"igj7luu",propsAsIs:!1}),xve=V("div")({name:"ImageContainer",class:"i1qne9g6",propsAsIs:!1}),Nve=V("div")({name:"InsightContent",class:"itpr98r",propsAsIs:!1}),Vve=V("h3")({name:"Title",class:"t17iaqp8",propsAsIs:!1}),Lve=V("div")({name:"Description",class:"d16t3y7s",propsAsIs:!1}),kve=V("button")({name:"ActionBtn",class:"a12495er",propsAsIs:!1}),Fve=({video:t,image:e,imageMode:i,heading:n,body:s,action:r,controlVideo:a})=>b.jsxs(wve,{children:[(t==null?void 0:t.url)&&b.jsx(Eh,{source:t.url,poster:t.thumbnailUrl,controlVideo:a}),e&&!(t!=null&&t.url)&&b.jsx(xve,{"data-rounded":i===Pt.ROUNDED,children:b.jsx(_ve,{src:e,alt:n})}),b.jsxs(Nve,{children:[b.jsx(Vve,{children:n}),b.jsx(Lve,{children:s}),r&&b.jsx(kve,{onClick:r,children:"View Insight"})]})]}),Uve=V("div")({name:"Container",class:"c1eptrjd",propsAsIs:!1}),Bve=V("div")({name:"CloseIconWrap",class:"crylm65",propsAsIs:!1}),Wve=()=>Ke,Gve=V(Wve())({name:"CloseIcon",class:"c9mrcz7",propsAsIs:!0}),Dve=V("div")({name:"Header",class:"hw3lzv4",propsAsIs:!1}),Mve=()=>Ke,Zve=V(Mve())({name:"TypeIcon",class:"t1rrb3kf",propsAsIs:!0}),Pve=V("span")({name:"TypeName",class:"t1ydnjov",propsAsIs:!1}),Ove=V("div")({name:"Question",class:"qlf90cl",propsAsIs:!1}),Xve=V("button")({name:"AnswerButton",class:"a1e0nhcl",propsAsIs:!1}),Yve=V("div")({name:"Container",class:"c1t4f0x4",propsAsIs:!1}),$ve=V("button")({name:"ActionBtn",class:"a16w1nl6",propsAsIs:!1}),Kve=V("div")({name:"QuoteWrap",class:"q14u54rf",propsAsIs:!1}),zve=V("blockquote")({name:"Quote",class:"q1hxm6zo",propsAsIs:!1}),Jve=({action:t,...e})=>b.jsxs(Yve,{children:[e.title&&b.jsx(Kve,{children:b.jsx(zve,{children:e.title})}),b.jsx(GR,{...e}),t&&b.jsx($ve,{onClick:t,children:"View Insight"})]}),nN=({close:t,action:e,controlVideo:i,data:{questionType:n,question:s,insight:r,tweet:a}})=>{const o=Ah[n];return o?b.jsxs(Uve,{onClick:e,style:n===Re.TWEET?{paddingTop:"12px"}:{},children:[b.jsx(Bve,{"data-a":"intr",onClick:l=>{l.stopPropagation(),t&&t(l)},children:b.jsx(Gve,{name:"icon-cross"})}),n!==Re.TWEET&&b.jsxs(Dve,{children:[b.jsx(Zve,{"data-type-trivia":n===Re.TRIVIA,"data-type-poll":n===Re.POLL,name:o.iconName}),b.jsx(Pve,{children:o.label})]}),n===Re.FACTOID&&r&&b.jsx(Fve,{...r,action:e,controlVideo:i}),n===Re.TWEET&&a&&b.jsx(Jve,{...a,action:e,controlVideo:i}),n!==Re.FACTOID&&n!==Re.TWEET&&b.jsxs(b.Fragment,{children:[b.jsx(Ove,{children:s==null?void 0:s.title}),b.jsx(Xve,{children:"Answer"})]})]}):null},eu=V("div")({name:"BGWrap",class:"b1dqe0sz",propsAsIs:!1}),us=V("div")({name:"BGLineBase",class:"b1v6w7ni",propsAsIs:!1}),jve=()=>us,Hve=V(jve())({name:"BGOneLineOne",class:"b2nqb1p",propsAsIs:!0}),Qve=()=>us,qve=V(Qve())({name:"BGOneLineTwo",class:"b1xxgmbk",propsAsIs:!0}),e3e=()=>us,t3e=V(e3e())({name:"BGOneLineThree",class:"b63lwcb",propsAsIs:!0}),i3e=()=>us,sN=V(i3e())({name:"BGTwoLineOne",class:"b2iah4",propsAsIs:!0}),n3e=()=>us,rN=V(n3e())({name:"BGTwoLineTwo",class:"b1xezvf6",propsAsIs:!0}),s3e=()=>us,aN=V(s3e())({name:"BGTwoLineThree",class:"b1jz1hg0",propsAsIs:!0}),r3e=()=>us,oN=V(r3e())({name:"BGThreeLineOne",class:"b18ho1tk",propsAsIs:!0}),a3e=()=>us,lN=V(a3e())({name:"BGThreeLineTwo",class:"b14uvjfm",propsAsIs:!0}),o3e=()=>us,cN=V(o3e())({name:"BGThreeLineThree",class:"b11c3ns7",propsAsIs:!0}),l3e=()=>us,uN=V(l3e())({name:"BGThreeLineFour",class:"b1bqhhet",propsAsIs:!0}),c3e=()=>us,u3e=V(c3e())({name:"BGFourLineOne",class:"b1xyzi7o",propsAsIs:!0}),d3e=()=>us,h3e=V(d3e())({name:"BGFourLineTwo",class:"byo0rup",propsAsIs:!0}),f3e=()=>us,p3e=V(f3e())({name:"BGFourLineThree",class:"b1oyiqgv",propsAsIs:!0}),m3e=()=>us,g3e=V(m3e())({name:"BGFourLineFour",class:"bx3ddqw",propsAsIs:!0}),y3e=({step:t,correct:e})=>b.jsxs(b.Fragment,{children:[b.jsxs(eu,{"data-active":t===1,"data-first-screen":"true",children:[b.jsx(Hve,{}),b.jsx(qve,{}),b.jsx(t3e,{})]}),b.jsxs(eu,{"data-active":t===2,children:[b.jsx(sN,{}),b.jsx(rN,{}),b.jsx(aN,{})]}),b.jsxs(eu,{"data-active":t===3,children:[b.jsx(sN,{}),b.jsx(rN,{}),b.jsx(aN,{})]}),e?b.jsxs(b.Fragment,{children:[b.jsxs(eu,{"data-active":t===4,"data-correct":"true",children:[b.jsx(oN,{}),b.jsx(lN,{}),b.jsx(cN,{}),b.jsx(uN,{})]}),b.jsxs(eu,{"data-active":t===5,"data-correct":"true",children:[b.jsx(oN,{}),b.jsx(lN,{}),b.jsx(cN,{}),b.jsx(uN,{})]})]}):b.jsxs(eu,{"data-active":t===4,"data-correct":"false",children:[b.jsx(u3e,{}),b.jsx(h3e,{}),b.jsx(p3e,{}),b.jsx(g3e,{})]})]}),b3e=118,v3e=()=>Sh,E3e=V(v3e())({name:"Container",class:"c10131zw",propsAsIs:!0}),A3e=V("div")({name:"InnerContainer",class:"ir6k2eo",propsAsIs:!1}),_l=V("div")({name:"Content",class:"c1hwoq9l",propsAsIs:!1}),Vf=V("div")({name:"Title",class:"t4ujo4g",propsAsIs:!1}),S3e=()=>Vf,T3e=V(S3e())({name:"PointsTitle",class:"p1pjil1h",propsAsIs:!0}),Mm=V("div")({name:"Subtitle",class:"s1iorwr9",propsAsIs:!1}),dN=V("div")({name:"SubtitleFG",class:"s51sv9d",propsAsIs:!1}),Zm=V("div")({name:"AnswerText",class:"a1lbk2ye",propsAsIs:!1}),C3e=()=>Ke,BM=V(C3e())({name:"FeedbackIcon",class:"frcvk3t",propsAsIs:!0}),R3e=()=>BM,hN=V(R3e())({name:"FeedbackIconCorrect",class:"f33p82r",propsAsIs:!0}),I3e=()=>BM,w3e=V(I3e())({name:"FeedbackIconIncorrect",class:"f12r9net",propsAsIs:!0}),fN=V("div")({name:"CloseIconWrap",class:"c1fw6699",propsAsIs:!1}),_3e=()=>Ke,pN=V(_3e())({name:"CloseIcon",class:"c115o126",propsAsIs:!0}),x3e="data:image/svg+xml,%3csvg%20width='154'%20height='37'%20viewBox='0%200%20154%2037'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M70.9776%2030.8796L74.668%2018.1381C75.0696%2016.7473%2076.1186%2015.6318%2077.4936%2015.1371L77.5928%2014.7217H72.466L63.7623%2024.9662L60.431%2014.7217H55.7389L55.6255%2015.1371C56.4288%2015.5291%2056.8683%2016.7052%2056.8683%2017.662V17.7227C56.8683%2023.1787%2052.781%2032.5598%2047.0352%2032.5598C44.8002%2032.5598%2043.6425%2031.0009%2043.6425%2029.7035C43.6425%2028.1306%2044.975%2027.0105%2046.3831%2027.0105C47.744%2027.0105%2047.9519%2027.5099%2048.741%2027.5099C49.2182%2027.5099%2049.6766%2027.2672%2049.9081%2026.8518C50.2672%2026.1984%2049.9931%2025.4049%2049.3363%2025.0922L48.9772%2024.9242C45.6271%2023.3327%2041.7383%2025.7457%2041.7383%2029.4188V29.4701C41.7383%2032.1444%2043.8646%2034.38%2046.5674%2034.4733C53.5417%2034.716%2058.2055%2025.4236%2058.9473%2018.6188L59.486%2020.4577L62.2313%2028.5927H63.2709L71.8518%2018.4741L68.2512%2030.8936C67.8401%2032.3171%2066.6966%2033.4232%2065.2412%2033.7966L65.142%2034.212H72.0408L72.1542%2033.7966C71.1383%2033.2039%2070.6516%2032.0044%2070.9776%2030.8796Z'%20fill='white'/%3e%3cpath%20d='M88.2952%2021.6521H88.2385C85.016%2021.6568%2081.5571%2021.9648%2079.7143%2027.1361C78.1692%2031.4813%2077.7487%2033.2828%2076.539%2033.2828C75.7641%2033.2828%2075.9531%2031.794%2074.7954%2031.794C74.2709%2031.794%2073.7275%2032.2094%2073.6897%2032.8068C73.6236%2033.8429%2075.0317%2034.4683%2076.0949%2034.4683C79.3316%2034.4683%2080.5696%2032.1347%2080.9759%2031.0472C81.0279%2030.9072%2081.3162%2030.1371%2081.6517%2029.2317H85.0538L84.4773%2031.3273C84.1749%2032.4334%2083.5464%2033.3388%2082.488%2033.8009L82.3982%2034.2163H87.9597L88.0637%2033.8009C87.3124%2033.1848%2086.9816%2032.2%2087.2273%2031.2853L89.3206%2023.4257C89.4812%2022.8236%2089.9018%2022.3242%2090.4783%2022.0628L90.568%2021.6475H88.7536H88.2952V21.6521ZM85.3231%2028.2189H82.0202C82.3935%2027.2108%2082.7526%2026.2493%2082.8755%2025.9366C83.7118%2023.757%2085.2995%2022.8749%2086.8399%2022.7536L86.8257%2022.7676L85.3231%2028.2189Z'%20fill='white'/%3e%3cpath%20d='M116.358%2022.5486C116.538%2022.2545%20116.708%2021.8112%20116.708%2021.5591C116.732%2021.0877%20116.297%2020.7237%20115.829%2020.8217C115.456%2020.9011%20115.187%2021.2324%20115.191%2021.6058C115.196%2021.9978%20115.12%2022.4226%20114.95%2022.6279C114.558%2023.104%20113.934%2023.062%20111.062%2022.2452V22.2405C110.797%2022.1659%20110.509%2022.0819%20110.206%2021.9978C110.187%2021.9932%20110.173%2021.9885%20110.159%2021.9838C108.723%2021.6011%20106.941%2021.2464%20105.774%2021.8205C105.765%2021.8252%20105.755%2021.8298%20105.746%2021.8345C104.602%2022.3992%20103.808%2023.4727%20103.567%2024.7142C103.53%2024.8962%20103.506%2025.0455%20103.501%2025.0969C103.468%2025.7456%20104.068%2026.2544%20104.711%2026.1143C105.235%2026.0023%20105.604%2025.5403%20105.59%2025.0129C105.58%2024.4808%20105.472%2023.7667%20105.765%2023.286C106.237%2022.6279%20106.729%2022.5812%20108.935%2023.3047L106.544%2031.323C106.214%2032.4291%20105.406%2033.3345%20104.338%2033.7966L104.238%2034.212H109.961L110.074%2033.7966C109.337%2033.1852%20109.03%2032.1957%20109.299%2031.2809L111.392%2024.0561C112.309%2024.2428%20113.24%2024.2941%20114.147%2024.0374L114.473%2023.9441C115.196%2023.7527%20115.943%2023.2347%20116.358%2022.5486Z'%20fill='white'/%3e%3cpath%20d='M118.649%2021.6523L118.536%2022.0677C119.245%2022.5531%20119.561%2023.4259%20119.335%2024.2427L117.208%2031.3228C116.877%2032.429%20116.069%2033.3344%20115.002%2033.7964L114.902%2034.2118H117.931H118.21H125.18L126.101%2030.8934H125.666L125.51%2031.2108C124.934%2032.3963%20123.72%2033.1524%20122.382%2033.1524H119.429L121.003%2027.5937H122.259C123.105%2027.5937%20123.743%2028.3545%20123.582%2029.1759H124.012L125.043%2025.4188H124.613C124.362%2026.1142%20123.696%2026.5763%20122.949%2026.5809H121.291L122.382%2022.7258L125.515%2022.7211C126.536%2022.7211%20127.301%2023.6452%20127.098%2024.6347H127.528L128.35%2021.6523H118.649Z'%20fill='white'/%3e%3cpath%20d='M138.251%2021.6582H131.333L131.22%2022.0736C131.881%2022.5263%20132.207%2023.3197%20132.056%2024.0898L129.892%2031.324C129.561%2032.4301%20128.753%2033.3356%20127.685%2033.7976L127.586%2034.213H133.303L133.417%2033.7976C132.68%2033.1862%20132.373%2032.2014%20132.637%2031.282L133.686%2027.5949H134.126C134.787%2027.5949%20135.34%2028.085%20135.416%2028.7337C135.439%2028.9437%20135.77%2031.506%20136.035%2032.3881C136.379%2033.5409%20136.833%2034.213%20137.868%2034.213H140.453L140.552%2033.7976L140.183%2033.5829C139.451%2033.1536%20138.922%2032.4908%20138.685%2031.6087C138.463%2030.7779%20138.043%2029.2284%20137.84%2028.4117C137.736%2027.9916%20137.202%2027.5996%20136.654%2027.5996H137.523C139.087%2027.5996%20140.457%2026.5681%20140.878%2025.0839C141.365%2023.3617%20140.056%2021.6582%20138.251%2021.6582ZM138.369%2024.6872C138.029%2025.812%20136.98%2026.5868%20135.789%2026.5868H133.974L135.071%2022.7317H136.89C137.925%2022.727%20138.662%2023.7118%20138.369%2024.6872Z'%20fill='white'/%3e%3cpath%20d='M100.265%2022.2961C100.081%2022.2961%2099.6794%2022.1701%2099.0651%2021.9181C98.4508%2021.6661%2097.8318%2021.54%2097.2034%2021.54C95.904%2021.54%2094.8219%2021.9554%2093.9336%2022.8422C93.1964%2023.5796%2092.8704%2024.401%2092.8704%2025.1105C92.8704%2025.8665%2093.3193%2026.7533%2094.2124%2027.4721C95.0582%2028.1488%2095.937%2028.8022%2096.8206%2029.465C97.7468%2030.1977%2098.2098%2030.8745%2098.2098%2031.4252C98.2098%2032.634%2097.416%2033.2828%2095.7669%2033.2828C94.0942%2033.2828%2092.9366%2032.074%2092.568%2029.8057H92.1144L90.8008%2034.2162H91.226C91.7694%2033.8382%2092.1569%2033.6001%2092.946%2033.6001C93.6973%2033.6001%2094.5006%2034.4729%2096.2158%2034.4729C97.5814%2034.4729%2098.6682%2034.1929%2099.5943%2033.2781C100.383%2032.4753%20100.776%2031.3552%20100.776%2030.4404C100.776%2029.591%20100.237%2028.6062%2099.2966%2027.8921C98.4886%2027.2807%2097.6286%2026.7347%2096.7923%2026.1419C95.8898%2025.4792%2095.4362%2024.9144%2095.4362%2024.2937C95.4362%2023.9483%2095.611%2023.6076%2095.9559%2023.2622C96.3954%2022.8282%2096.986%2022.7302%2097.7751%2022.7302C99.3581%2022.7302%20100.464%2023.5983%20100.558%2025.4325H100.974L102.08%2021.5447H101.664C101.215%2022.0441%20100.752%2022.2961%20100.265%2022.2961Z'%20fill='white'/%3e%3cpath%20d='M149.201%2022.7304C150.784%2022.7304%20151.89%2023.6032%20151.984%2025.4327H152.4L153.501%2021.5449H153.085C152.646%2022.049%20152.182%2022.301%20151.696%2022.301C151.512%2022.301%20151.11%2022.175%20150.496%2021.923C149.881%2021.6709%20149.262%2021.5449%20148.634%2021.5449C147.334%2021.5449%20146.252%2021.9603%20145.364%2022.8471C144.627%2023.5845%20144.296%2024.4059%20144.296%2025.1153C144.296%2025.8714%20144.745%2026.7582%20145.638%2027.477C146.484%2028.1537%20147.363%2028.8071%20148.246%2029.4699C149.173%2030.2026%20149.636%2030.8794%20149.636%2031.4301C149.636%2032.6389%20148.842%2033.2876%20147.193%2033.2876C145.52%2033.2876%20144.362%2032.0788%20143.994%2029.8106H143.54L142.227%2034.2211H142.642C143.186%2033.843%20143.573%2033.605%20144.358%2033.605C145.109%2033.605%20145.912%2034.4778%20147.627%2034.4778C148.993%2034.4778%20150.075%2034.1978%20151.006%2033.283C151.795%2032.4802%20152.187%2031.3601%20152.187%2030.4453C152.187%2029.6005%20151.649%2028.6111%20150.708%2027.897C149.9%2027.2856%20149.04%2026.7395%20148.204%2026.1468C147.301%2025.4841%20146.848%2024.9193%20146.848%2024.2986C146.848%2023.9532%20147.023%2023.6125%20147.368%2023.2671C147.826%2022.8237%20148.412%2022.7304%20149.201%2022.7304Z'%20fill='white'/%3e%3cpath%20d='M26.5433%202.60035C26.0377%202.44633%2025.5321%202.72169%2025.0265%203.00173C24.8469%203.09974%2024.7194%203.27243%2024.6768%203.46845L23.883%207.13222C23.8547%207.26757%2023.9775%207.38891%2024.1145%207.36091C24.9509%207.17422%2025.7447%206.4508%2026.5811%206.70283C27.5167%206.98753%2028.4522%205.81606%2029.3878%205.83006V1.60156C28.4475%201.60623%2027.4789%202.88505%2026.5433%202.60035Z'%20fill='white'/%3e%3cpath%20d='M38.4856%2013.8398C38.2871%2013.7044%2038.1643%2013.4851%2038.1643%2013.2471V12.5796C38.1643%2011.9822%2037.6729%2011.4922%2037.0633%2011.4922H36.6239C36.0994%2011.4922%2035.6174%2011.7536%2035.3339%2012.1876L33.9164%2014.3485C33.7746%2014.5632%2033.5383%2014.6892%2033.2832%2014.6892H32.3287C31.8562%2014.6892%2031.4215%2014.9459%2031.1947%2015.3566C30.9631%2015.7814%2030.552%2016.0754%2030.0843%2016.1734V1.1403C30.0843%200.94894%2029.9283%200.794922%2029.7346%200.794922C29.5409%200.794922%2029.3849%200.94894%2029.3849%201.1403V1.60702V5.83552V16.1827C28.9171%2016.0847%2028.506%2015.7907%2028.2745%2015.3613C28.0524%2014.9506%2027.6177%2014.6939%2027.1405%2014.6939H26.4979C25.9875%2014.6939%2025.5292%2014.9879%2025.3213%2015.45L24.7873%2016.6308C24.7023%2016.8175%2024.5133%2016.9388%2024.3054%2016.9388C24.0975%2016.9388%2023.9085%2016.8175%2023.8234%2016.6308L23.2895%2015.45C23.0816%2014.9926%2022.6232%2014.6939%2022.1129%2014.6939H4.00135C3.85487%2014.6939%203.73674%2014.8106%203.73674%2014.9553C3.73674%2015.2633%203.48158%2015.5107%203.17444%2015.5107H2.39007C2.24359%2015.5107%202.12546%2015.6273%202.12546%2015.772V16.6728C2.12546%2017.5176%201.96008%2018.339%201.62931%2019.1184L1.15207%2020.2526C0.707907%2021.3027%200.5%2022.3901%200.5%2023.4589V26.0726C0.5%2026.7773%200.603954%2027.4914%200.811861%2028.1868C1.39306%2030.1377%202.7161%2031.7339%204.53529%2032.6767L7.43182%2034.1842C7.46962%2034.2029%207.51214%2034.2122%207.55467%2034.2122L9.69517%2034.2309C10.196%2034.2355%2010.6875%2034.3616%2011.1269%2034.6043L12.2751%2035.239C12.3129%2035.2623%2012.3602%2035.2717%2012.4074%2035.2717H13.9431C14.4818%2035.2717%2015.0157%2035.4163%2015.474%2035.6917C15.474%2035.6917%2016.2253%2036.1444%2016.4805%2036.2891C16.8869%2036.5225%2017.3783%2036.7465%2018.2335%2036.7932C18.4273%2036.8025%2018.621%2036.7325%2018.7675%2036.5972C18.9092%2036.4618%2018.9943%2036.2704%2018.9943%2036.0791V35.0616C18.9943%2034.3242%2019.4337%2033.6521%2020.1189%2033.3581L22.4673%2032.3406C22.7886%2032.2006%2023.1477%2032.1773%2023.4832%2032.28L24.3621%2032.5367C24.7354%2032.644%2025.1323%2032.6487%2025.5056%2032.5367L27.5846%2031.9253C27.8587%2031.8459%2028.1517%2031.8459%2028.4304%2031.9299L29.2763%2032.1633C29.6684%2032.2706%2029.9472%2032.6347%2029.9472%2033.0361V35.071C29.9472%2036.0184%2030.7269%2036.7932%2031.6861%2036.7932C32.4043%2036.7932%2033.0328%2036.3405%2033.2501%2035.6637C33.6423%2034.4456%2033.8408%2033.1761%2033.8408%2031.8973V31.0292C33.8408%2030.4131%2034.1006%2029.8204%2034.5543%2029.3956L35.419%2028.5882C36.0002%2028.0421%2036.3356%2027.2674%2036.3356%2026.474V21.6481C36.3356%2020.9013%2036.5625%2020.1779%2036.9972%2019.5618C37.0302%2019.5198%2037.0444%2019.4638%2037.0444%2019.4125V18.2737C37.0444%2017.5316%2037.2712%2016.8128%2037.6965%2016.2014L38.5517%2014.9739C38.5848%2014.9319%2038.599%2014.8806%2038.599%2014.8246V14.0545C38.6037%2013.9098%2038.5139%2013.8585%2038.4856%2013.8398ZM30.0843%2025.2838C30.6654%2025.3725%2031.1002%2025.6665%2031.1002%2026.0212C31.1002%2026.3759%2030.6702%2026.67%2030.0843%2026.7587V25.2838ZM5.22516%2032.4433L4.78572%2032.2146C3.59026%2031.5939%202.63577%2030.6698%201.9837%2029.545V28.1355C2.73028%2029.2043%203.74619%2030.1144%204.98891%2030.7631L5.22516%2030.8845V32.4433ZM7.43654%2033.5961L6.2647%2032.9894V31.4305L7.43182%2032.0373H7.43654V33.5961ZM12.3129%2034.6556L11.3868%2034.1422C10.8812%2033.8622%2010.3142%2033.7128%209.73297%2033.7035V32.0793C10.2197%2032.0886%2010.7016%2032.2146%2011.1269%2032.448L12.2751%2033.0827C12.2846%2033.0874%2012.2987%2033.0874%2012.3129%2033.0921V34.6556ZM18.4603%2035.0616V35.8551V36.0791C18.4603%2036.1304%2018.4367%2036.1818%2018.3989%2036.2191C18.3611%2036.2564%2018.3139%2036.2705%2018.2619%2036.2705C17.52%2036.2331%2017.0948%2036.0418%2016.7498%2035.8411C16.4994%2035.6964%2015.7528%2035.2483%2015.7481%2035.2483C15.2803%2034.9683%2014.7511%2034.8143%2014.2077%2034.7723V33.1387C14.6519%2033.1808%2015.0866%2033.3114%2015.474%2033.5401L16.1214%2033.9228C16.8302%2034.3429%2017.6382%2034.5809%2018.4603%2034.6276V35.0616ZM24.8582%2032.0886C24.7448%2032.084%2024.6267%2032.0653%2024.5133%2032.0326L23.6344%2031.7713C23.4454%2031.7152%2023.2517%2031.6966%2023.0579%2031.6966V30.0677C23.1997%2030.0677%2023.3414%2030.0817%2023.4832%2030.1237L24.3621%2030.3804C24.5227%2030.4271%2024.6928%2030.4504%2024.8582%2030.4598V32.0886ZM30.363%2032.4807C30.1929%2032.0886%2029.8574%2031.7759%2029.4275%2031.6592L28.5864%2031.4259C28.3879%2031.3652%2028.18%2031.3419%2027.9721%2031.3419V29.7177C28.1328%2029.713%2028.2934%2029.7317%2028.4493%2029.783L29.1392%2029.9977C29.8716%2030.2264%2030.363%2030.8891%2030.363%2031.6452V32.4807ZM32.787%2035.365C32.7729%2035.4117%2032.7634%2035.4584%2032.7492%2035.505C32.6028%2035.9624%2032.1775%2036.2658%2031.6955%2036.2658C31.653%2036.2658%2031.6105%2036.2564%2031.568%2036.2518V34.6323C31.601%2034.6369%2031.6294%2034.6416%2031.6625%2034.6416C32.135%2034.6416%2032.565%2034.3802%2032.7918%2033.9835V35.365H32.787ZM37.3232%2015.0486C36.794%2015.8047%2036.5152%2016.6915%2036.5152%2017.6109V18.4137L36.1041%2019.0017C35.5702%2019.7625%2035.2867%2020.6539%2035.2867%2021.578V25.6245C35.2867%2026.2779%2035.0126%2026.9173%2034.5306%2027.3654L33.6659%2028.1775C33.0847%2028.7236%2032.7634%2029.489%2032.787%2030.2824L32.7918%2030.4644C32.8248%2031.5146%2032.6878%2032.56%2032.3901%2033.5681C32.2956%2033.8902%2031.9932%2034.1142%2031.6577%2034.1142C31.2372%2034.1142%2030.8923%2033.7782%2030.8923%2033.3581V31.6452C30.8923%2030.6558%2030.2496%2029.7923%2029.2952%2029.4983L28.6053%2029.2836C28.2225%2029.1669%2027.8209%2029.1623%2027.4334%2029.2743L25.3544%2029.881C25.0803%2029.9604%2024.7873%2029.9604%2024.5133%2029.881L23.6344%2029.6243C23.1808%2029.489%2022.6894%2029.5217%2022.2547%2029.7083L20.4071%2030.5111C19.2258%2031.0245%2018.4651%2032.1773%2018.4651%2033.4515V34.1095C17.7374%2034.0675%2017.0286%2033.8528%2016.4002%2033.4795L15.7528%2033.0967C15.2047%2032.7747%2014.581%2032.602%2013.9431%2032.602H12.4736L11.3868%2031.9999C10.8717%2031.7152%2010.2905%2031.5659%209.69989%2031.5612L7.62082%2031.5472L5.23461%2030.3057C1.61514%2028.4249%200.0700101%2024.1917%201.64349%2020.4579L2.12073%2019.3238C2.47512%2018.4837%202.6594%2017.5922%202.6594%2016.6775V16.0427H3.17444C3.68476%2016.0427%204.11948%2015.6927%204.2376%2015.2213H22.1176C22.4153%2015.2213%2022.6894%2015.394%2022.8075%2015.6647L23.3414%2016.8455C23.5115%2017.2235%2023.8896%2017.4662%2024.3101%2017.4662C24.7259%2017.4662%2025.1087%2017.2235%2025.2788%2016.8455L25.8127%2015.66C25.9356%2015.3893%2026.2049%2015.2166%2026.5026%2015.2166H27.1452C27.424%2015.2166%2027.6791%2015.366%2027.8114%2015.6087C28.1375%2016.2061%2028.7234%2016.6075%2029.3897%2016.7148V24.145C28.317%2024.2617%2027.4949%2024.8918%2027.4949%2025.6572C27.4949%2026.5066%2028.4966%2027.1927%2029.7346%2027.1927C30.9726%2027.1927%2031.9743%2026.5066%2031.9743%2025.6572C31.9743%2024.8918%2031.1521%2024.257%2030.0795%2024.145V16.7101C30.7458%2016.6028%2031.3317%2016.2014%2031.6577%2015.604C31.79%2015.3613%2032.0452%2015.212%2032.324%2015.212H33.2785C33.7179%2015.212%2034.1195%2014.9926%2034.3605%2014.6286L35.7781%2012.4676C35.9624%2012.1829%2036.2789%2012.0149%2036.6239%2012.0149H37.0633C37.3752%2012.0149%2037.6303%2012.2669%2037.6303%2012.575V13.2424C37.6303%2013.5644%2037.7579%2013.8725%2037.98%2014.1012L37.3232%2015.0486ZM29.3849%2025.2838V26.7587C28.8037%2026.67%2028.3737%2026.3759%2028.3737%2026.0212C28.3737%2025.6665%2028.8037%2025.3678%2029.3849%2025.2838Z'%20fill='white'/%3e%3c/svg%3e",N3e="data:image/svg+xml,%3csvg%20width='159'%20height='28'%20viewBox='0%200%20159%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_6919_71839)'%3e%3cpath%20d='M4.13243%2025.9198C5.34921%2026.9052%207.05161%2027.0267%208.39597%2026.224L22.9838%2017.5138C25.4013%2016.0703%2025.4117%2012.5721%2023.0028%2011.1144L17.4686%207.76522C15.4767%206.55981%2012.8918%207.10053%2011.5501%209.00325L3.27399%2020.7399C2.14132%2022.3462%202.44805%2024.5556%203.97544%2025.7926L4.13243%2025.9198Z'%20stroke='white'%20style='stroke:white;stroke-opacity:1;'%20stroke-width='2.33333'/%3e%3cpath%20d='M4.11673%202.57147C5.33939%201.58127%207.0516%201.46387%208.39797%202.27791L22.9843%2011.0971C25.3835%2012.5477%2025.3874%2016.0265%2022.9914%2017.4824L17.5405%2020.7946C15.5485%2022.005%2012.9594%2021.4661%2011.6157%2019.5615L3.27518%207.7386C2.142%206.1323%202.44856%203.92248%203.97619%202.68529L4.11673%202.57147Z'%20stroke='white'%20style='stroke:white;stroke-opacity:1;'%20stroke-width='2.33333'/%3e%3cpath%20d='M49.8088%2020.0063C47.924%2020.0063%2046.7521%2018.7437%2046.7521%2016.6748V13.1359H50.1977V10.9296H46.7521V7.34668L44.2736%209.18483V10.9271H42.8892V13.1333H44.2736V16.6515C44.2736%2020.2137%2046.3632%2022.4174%2049.8321%2022.4174H50.361V20.0063H49.8088Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M30.4704%2019.5631L32.6818%2017.8339C33.6722%2019.4231%2035.01%2020.2761%2036.7159%2020.2761C38.5826%2020.2761%2039.757%2019.0783%2039.757%2017.5798C39.757%2015.8505%2037.9137%2015.2983%2035.977%2014.6761C33.6956%2013.9398%2031.23%2013.0168%2031.23%209.92907C31.23%207.37018%2033.5115%205.34277%2036.6226%205.34277C39.1815%205.34277%2040.7707%206.33314%2042.0618%207.83166L40.0111%209.35351C39.2515%208.17907%2038.1211%207.55685%2036.6226%207.55685C34.9167%207.55685%2033.8096%208.57055%2033.8096%209.88499C33.8096%2011.4976%2035.5856%2012.0291%2037.5196%2012.6746C39.8244%2013.4576%2042.3367%2014.4506%2042.3367%2017.585C42.3367%2020.1672%2040.2159%2022.6328%2036.7367%2022.6328C33.8563%2022.6328%2031.8963%2021.4117%2030.4678%2019.5683L30.4704%2019.5631Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M58.9189%2016.7007C58.9189%2013.3225%2061.5141%2010.6807%2064.8923%2010.6807C68.2704%2010.6807%2070.7982%2013.1384%2070.7982%2016.5399V17.5044H61.286C61.6075%2019.2725%2062.9867%2020.4444%2064.9856%2020.4444C66.5489%2020.4444%2067.7441%2019.6173%2068.3404%2018.3755L70.3627%2019.5007C69.3515%2021.3855%2067.5367%2022.6247%2064.9856%2022.6247C61.356%2022.6247%2058.9189%2020.0296%2058.9189%2016.6981V16.7007ZM61.4001%2015.4147H68.2938C67.9256%2013.7607%2066.663%2012.8403%2064.8923%2012.8403C63.1215%2012.8403%2061.8589%2013.8981%2061.4001%2015.4147Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M51.8955%2016.6752C51.8955%2013.113%2053.9851%2010.9326%2057.454%2010.9326H58.5559V13.323H57.4307C55.5459%2013.323%2054.33%2014.6322%2054.3533%2016.7011V22.423H51.8955V16.6804V16.6752Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M72.0138%2016.6774C72.0138%2013.3226%2074.6557%2010.7041%2077.9638%2010.7041C81.272%2010.7041%2083.8672%2013.3226%2083.8672%2016.6774V22.42H81.456V20.9267C80.6523%2022.0052%2079.4105%2022.6274%2077.8938%2022.6274C74.609%2022.6274%2072.0112%2020.0556%2072.0112%2016.6774H72.0138ZM81.5027%2016.6774C81.5027%2014.6319%2079.9394%2013.0011%2077.9638%2013.0011C75.9883%2013.0011%2074.4249%2014.6319%2074.4249%2016.6774C74.4249%2018.723%2075.9649%2020.3537%2077.9638%2020.3537C79.9627%2020.3537%2081.5027%2018.6997%2081.5027%2016.6774Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M85.4155%2015.978C85.4155%2012.9214%2087.5052%2010.6943%2090.6085%2010.6943C92.3766%2010.6943%2093.8026%2011.4073%2094.697%2012.6025C95.5474%2011.4073%2096.9266%2010.6943%2098.6948%2010.6943C101.819%2010.6943%20104.002%2012.8773%20104.002%2015.978V22.4103H101.544V16.0014C101.544%2014.2566%20100.372%2013.038%2098.6948%2013.038C97.0174%2013.038%2095.9155%2014.2799%2095.9389%2015.934V22.4129H93.4811V16.004C93.4811%2014.2592%2092.2859%2013.0406%2090.6085%2013.0406C88.9311%2013.0406%2087.8526%2014.2825%2087.8733%2015.9366V22.4154H85.4155V15.9832V15.978Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M105.578%205.6416H108.082V20.0227H114.859V22.4131H105.578V5.6416Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M138.483%2016.7007C138.483%2013.3225%20141.078%2010.6807%20144.456%2010.6807C147.834%2010.6807%20150.362%2013.1384%20150.362%2016.5399V17.5044H140.85C141.171%2019.2725%20142.551%2020.4444%20144.55%2020.4444C146.113%2020.4444%20147.308%2019.6173%20147.904%2018.3755L149.927%2019.5007C148.916%2021.3855%20147.101%2022.6247%20144.55%2022.6247C140.92%2022.6247%20138.483%2020.0296%20138.483%2016.6981V16.7007ZM140.964%2015.4147H147.858C147.49%2013.7607%20146.227%2012.8403%20144.456%2012.8403C142.685%2012.8403%20141.423%2013.8981%20140.964%2015.4147Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M115.269%2016.6774C115.269%2013.3226%20117.911%2010.7041%20121.219%2010.7041C124.527%2010.7041%20127.122%2013.3226%20127.122%2016.6774V22.42H124.711V20.9267C123.907%2022.0052%20122.665%2022.6274%20121.149%2022.6274C117.864%2022.6274%20115.266%2020.0556%20115.266%2016.6774H115.269ZM124.758%2016.6774C124.758%2014.6319%20123.194%2013.0011%20121.219%2013.0011C119.243%2013.0011%20117.68%2014.6319%20117.68%2016.6774C117.68%2018.723%20119.22%2020.3537%20121.219%2020.3537C123.218%2020.3537%20124.758%2018.6997%20124.758%2016.6774Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M131.67%2021.8547L126.915%2010.9658H129.557L132.912%2018.938L136.082%2010.9658H138.678L131.74%2027.7606H129.212L131.67%2021.8573V21.8547Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3cpath%20d='M151.897%2016.6674C151.897%2013.1052%20153.987%2010.9248%20157.455%2010.9248H158.557V13.3152H157.432C155.547%2013.3152%20154.331%2014.6244%20154.355%2016.6933V22.4152H151.897V16.6726V16.6674Z'%20fill='white'%20style='fill:white;fill-opacity:1;'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_6919_71839'%3e%3crect%20width='158.12'%20height='28'%20fill='white'%20style='fill:white;fill-opacity:1;'%20transform='translate(0.44043)'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",V3e=(t,e,i)=>t===e?"translateY(0px)":t>e?`translateY(${i}px)`:"translateY(-100%)",L3e=({close:t,votedAnswer:e,mastersApp:i,correct:n,correctAnswerTitle:s,questionTitle:r,saveHeight:a,style:o,hiding:l})=>{const[c,u]=x.useState(1),d=x.useRef({});x.useEffect(()=>{const m=setInterval(()=>{u(v=>n&&v>4||!n&&v>3?v:++v)},3e3);return()=>clearInterval(m)},[n]),x.useEffect(()=>{var m,v;d.current[c]&&a(((v=(m=d.current[c])==null?void 0:m.getBoundingClientRect())==null?void 0:v.height)||b3e)},[c,a]);const h=m=>v=>{d.current&&(d.current[m]=v)},f=m=>({transform:V3e(m,c,o.height)}),p={...o};return i&&p.height&&typeof p.height=="number"&&(p.height+=32),b.jsx(E3e,{style:o.height?p:{...o,paddingTop:0,paddingBottom:0},hiding:l,children:b.jsxs(A3e,{style:{height:o.height,minHeight:o.height,backgroundColor:c>3?n?"var(--color-sdk-prediction-result-success-bg)":"var(--color-sdk-prediction-result-incorrect-bg)":"var(--color-primary-1)"},children:[b.jsx(y3e,{step:c,correct:n}),i&&b.jsxs(_l,{ref:h(1),style:f(1),children:[b.jsx("img",{alt:"sponsor-logo",src:x3e}),b.jsx(dN,{children:"Featured Groups +"})]}),!i&&b.jsx(_l,{ref:h(1),style:f(1),children:b.jsx("img",{alt:"sponsor-logo",src:N3e})}),b.jsxs(_l,{ref:h(2),style:f(2),children:[b.jsx(Vf,{children:"Prediction results are in!"}),i&&b.jsx(dN,{children:"Featured Groups +"})]}),b.jsxs(_l,{ref:h(3),style:f(3),children:[b.jsx(Vf,{children:r}),b.jsx(Mm,{children:b.jsxs(Zm,{children:[b.jsx("span",{children:"Your Pick:"})," ",e==null?void 0:e.title]})})]}),n?b.jsxs(b.Fragment,{children:[b.jsxs(_l,{ref:h(4),style:{...f(4),color:"var(--color-sdk-prediction-result-success-text)"},children:[b.jsxs(Vf,{children:["Congratulations!",b.jsx("br",{}),"You answered correctly."]}),b.jsxs(Mm,{children:[b.jsx(hN,{name:"selected"}),b.jsxs(Zm,{children:[b.jsx("span",{children:"Your Pick:"})," ",e==null?void 0:e.title]})]})]}),b.jsxs(_l,{ref:h(5),style:{...f(5),color:"var(--color-sdk-prediction-result-success-text)"},children:[b.jsx(T3e,{children:c===5&&b.jsx(S0,{delay:.5,prefix:"+",suffix:" points",value:e==null?void 0:e.points})}),b.jsxs(Mm,{children:[b.jsx(hN,{name:"selected"}),b.jsxs(Zm,{children:[b.jsx("span",{children:"Your Pick:"})," ",e==null?void 0:e.title]})]}),b.jsx(fN,{"data-a":"intr",onClick:t,children:b.jsx(pN,{name:"icon-cross"})})]})]}):b.jsxs(_l,{ref:h(4),style:f(4),children:[b.jsxs(Vf,{style:{color:"var(--color-sdk-prediction-result-error-title)"},children:["Better luck next time!",b.jsx("br",{}),"Correct: ",s,"."]}),b.jsxs(Mm,{style:{color:"var(--color-sdk-prediction-result-error-subtitle)"},children:[b.jsx(w3e,{name:"circleClose"}),b.jsxs(Zm,{children:[b.jsx("span",{children:"Your Pick:"})," ",e==null?void 0:e.title]})]}),b.jsx(fN,{"data-a":"intr",onClick:t,children:b.jsx(pN,{name:"icon-cross"})})]})]})})},k3e=t=>{const[e,i]=x.useState(!1),[n,s]=x.useState(!1),r=x.useRef(null),a=x.useCallback(()=>{s(!0),r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{s(!1)},1e3)},[]),o=x.useCallback(async l=>{i(!0);const c=l.map(u=>new Promise((d,h)=>{const f=new Image;f.onload=()=>d(u),f.onerror=()=>h(),f.src=u}));await Promise.allSettled(c),i(!1)},[]);return x.useEffect(()=>{t&&(a(),o(t))},[t,a,o]),{loading:e,throttled:n}},F3e=V("div")({name:"Container",class:"cl51m2q",propsAsIs:!1}),U3e=V("img")({name:"Avatar",class:"a2yhhhr",propsAsIs:!1}),B3e=V("div")({name:"AvatarPlaceholder",class:"a1dtxxlr",propsAsIs:!1}),W3e=V("div")({name:"Content",class:"c12clm3w",propsAsIs:!1}),G3e=V("span")({name:"Name",class:"n14lctn7",propsAsIs:!1}),D3e=({avatar:t,name:e})=>b.jsxs(F3e,{children:[t&&b.jsx(U3e,{src:t}),!t&&b.jsx(B3e,{children:WR(e||"")}),b.jsxs(W3e,{children:[b.jsxs(G3e,{children:[e," "]}),"is waiting for you!"]})]}),M3e=V("div")({name:"Container",class:"c1htq1lb",propsAsIs:!1}),Z3e=V("div")({name:"Graphic",class:"gjyzpp7",propsAsIs:!1}),P3e=V("img")({name:"GraphicImage",class:"g16mldgz",propsAsIs:!1}),O3e=V("div")({name:"Headline",class:"h69js65",propsAsIs:!1}),X3e=V("div")({name:"TaglineContainer",class:"tmm7qmo",propsAsIs:!1}),Y3e=V("div")({name:"Tagline",class:"t17knuw2",propsAsIs:!1}),$3e=V("div")({name:"Content",class:"c1b74psg",propsAsIs:!1}),K3e=V("div")({name:"StepsContainer",class:"s1y99ug7",propsAsIs:!1}),z3e=V("span")({name:"StepIndicator",class:"sgf3v5n",propsAsIs:!1}),J3e=V("div")({name:"InvitingUserWrap",class:"i1sj6gn8",propsAsIs:!1}),j3e=({loading:t,steps:e,currentStep:i,inviterName:n})=>{const{headline:s,tagline:r}=e[i];return b.jsxs(M3e,{children:[r&&b.jsx(X3e,{children:b.jsx(As,{loading:t,children:b.jsx(Y3e,{children:r})})}),b.jsxs($3e,{"data-welcome-screen":i===0,children:[b.jsx(Z3e,{children:b.jsx(As,{loading:t,children:e.map(({graphicSrc:a},o)=>b.jsx(P3e,{src:a,"data-active":i===o}))})}),s&&b.jsx(As,{loading:t,children:b.jsx(O3e,{children:s})})]}),n&&i===0&&b.jsx(J3e,{children:b.jsx(D3e,{name:n})}),b.jsx(K3e,{style:t?{visibility:"hidden"}:{},children:Array.from({length:e.length}).map((a,o)=>b.jsx(z3e,{"data-active":i===o},o))})]})},H3e=V("div")({name:"Container",class:"cm0bev",propsAsIs:!1}),Q3e=V("div")({name:"Content",class:"ce7x737",propsAsIs:!1}),q3e=V("div")({name:"Title",class:"tc2tor6",propsAsIs:!1}),eEe=V("div")({name:"RulesList",class:"r1k5klql",propsAsIs:!1}),tEe=V("div")({name:"RulesItem",class:"r1tf3ft2",propsAsIs:!1}),iEe=V("div")({name:"RuleIcon",class:"rwpvg1k",propsAsIs:!1}),nEe=V("div")({name:"RuleText",class:"rbxiag0",propsAsIs:!1}),sEe=V("button")({name:"TermsButton",class:"t6cyrry",propsAsIs:!1}),rEe=({rules:t,rulesTitle:e,termsText:i,primaryColor:n,openTerms:s})=>b.jsxs(H3e,{children:[b.jsxs(Q3e,{children:[b.jsx(q3e,{children:e}),b.jsx(eEe,{children:t==null?void 0:t.map(({label:r,icon:a},o)=>b.jsxs(tEe,{children:[a&&b.jsx(iEe,{style:{backgroundColor:n},children:b.jsx(Ke,{name:a,"data-icon":a})}),b.jsx(nEe,{children:r})]},o))})]}),i&&b.jsx(sEe,{"data-a":"intr",onClick:s,children:"See Terms and Conditions"})]}),aEe=V("div")({name:"Container",class:"cj0g35h",propsAsIs:!1}),oEe=V("div")({name:"Content",class:"c1xkhrbn",propsAsIs:!1}),lEe=V("div")({name:"Title",class:"tifzb8b",propsAsIs:!1}),cEe=V("div")({name:"ScrollingText",class:"stduw5c",propsAsIs:!1}),uEe=({termsTitle:t,termsText:e})=>b.jsx(aEe,{children:b.jsxs(oEe,{children:[b.jsx(lEe,{children:t}),b.jsx(cEe,{children:e})]})}),dEe=V("button")({name:"SButton",class:"s1nve60q",propsAsIs:!1}),hEe=V("span")({name:"ButtonLabel",class:"b1xoswwx",propsAsIs:!1}),fEe=({disabled:t,variant:e="primary",onClick:i,children:n,...s})=>b.jsx(dEe,{"data-a":"intr",onClick:i,disabled:t,"data-variant":e,...s,children:b.jsx(hEe,{children:n})}),pEe=V("div")({name:"Container",class:"c18uddbs",propsAsIs:!1}),mEe=V("div")({name:"Content",class:"cvcfjf6",propsAsIs:!1}),gEe=V("div")({name:"OnboardingHeader",class:"o1ie27lw",propsAsIs:!1}),yEe=V("button")({name:"CloseBtn",class:"c15cjkwi",propsAsIs:!1}),bEe=()=>Ke,vEe=V(bEe())({name:"IconClose",class:"i1mavjt2",propsAsIs:!0}),EEe=V("div")({name:"OnboardingFooter",class:"o1x0dyzv",propsAsIs:!1}),AEe=()=>fEe,SEe=V(AEe())({name:"OnboardingActionBtn",class:"o1jfi9c3",propsAsIs:!0}),tu={steps:!1,rules:!1,inviteCard:!1},TEe=({gamification:t,steps:e,rules:i,rulesBtnLabel:n,rulesTitle:s,termsTitle:r,termsText:a,primaryColor:o,inviteLink:l,inviteCardTitle:c,inviteCardSubtext:u,inviteCardBtnLabel:d,loading:h,inviterName:f,sdk:p,onClose:m})=>{const[v,g]=x.useState(0),[E,A]=x.useState(!1),[R,I]=x.useState(tu);x.useEffect(()=>{e!=null&&e.length?I({...tu,steps:!0}):i!=null&&i.length?I({...tu,rules:!0}):I({...tu,inviteCard:!0})},[]);const L=x.useMemo(()=>R.steps&&v===0?"Continue":R.rules?E||!n?"Got it":n:R.inviteCard?d||"Play Now":"Next",[R,v,E,n,d]),F=x.useCallback(()=>{e!=null&&e.length&&v<e.length-1?g(G=>++G):i!=null&&i.length&&R.steps?I({...tu,rules:!0}):R.rules&&I({...tu,inviteCard:!0})},[v,e==null?void 0:e.length,i==null?void 0:i.length,R,g,I]),B=async()=>{R.inviteCard?await t.onboardingStatus.submitInplay():R.rules&&E?A(!1):F()};return x.useEffect(()=>{!h&&f&&p.inviteDisplayed()},[h,f,p]),b.jsx(ive,{children:({width:G,height:Z})=>b.jsxs(pEe,{style:{width:G,height:Z,maxHeight:Z},children:[b.jsx(gEe,{children:b.jsx(yEe,{"data-a":"intr",onClick:m,children:b.jsx(vEe,{name:"icon-close-btn-gray"})})}),b.jsxs(mEe,{children:[R.steps&&(e==null?void 0:e.length)&&b.jsx(j3e,{loading:h,steps:e,currentStep:v,inviterName:f}),R.rules&&!E&&b.jsx(rEe,{rules:i,rulesTitle:s,termsText:a,primaryColor:o,openTerms:()=>A(!0)}),R.rules&&E&&b.jsx(uEe,{termsTitle:r,termsText:a}),R.inviteCard&&b.jsx(UM,{inviteLink:l,inviteCardTitle:c,inviteCardSubtext:u,primaryColor:o})]}),b.jsx(EEe,{children:b.jsx(As,{loading:h,style:{width:"100%"},children:b.jsx(SEe,{"data-a":"intr",onClick:B,children:L})})})]})})},CEe=V("button")({name:"Container",class:"crkmfw1",propsAsIs:!1}),REe=V("div")({name:"Content",class:"c11awpy4",propsAsIs:!1}),IEe=V("span")({name:"Title",class:"t154z7mh",propsAsIs:!1}),wEe=({title:t,onClick:e,className:i,style:n})=>b.jsx(CEe,{"data-a":"intr",onClick:e,className:i,style:n,children:b.jsxs(REe,{"data-a":"intr",children:[b.jsx(Ke,{"data-a":"intr",name:"iconUp"}),t&&b.jsx(IEe,{"data-a":"intr",children:t})]})}),Mo=({event:t,internal:e})=>{const i=So(),n=NEe();return x.useEffect(()=>{i&&(t&&(i.createEventSession(t,e),n&&(n.current=t)),!t&&n!=null&&n.current&&(i.createEventSession("",e),n.current=""))},[t,e,n,i]),null};var gS=(t=>(t[t.UNSET=0]="UNSET",t[t.CONNECTED=1]="CONNECTED",t[t.READY=2]="READY",t))(gS||{});const _Ee={status:0,sdk:null},Ic=x.createContext(_Ee),xEe=({sdkKey:t,theme:e,themeMode:i,plugins:n,children:s,event:r,production:a=!0,autoEnable:o=!0,withAdNotification:l,withAd:c=!0,betPack:u=!1,hideFriends:d,skipOnboarding:h,friendsTab:f="enabled",onDeepLinkHandled:p,videoPlayerController:m,onContentActivate:v,containerId:g,webOS:E})=>{const A=Aoe({sdkKey:t,plugins:n,production:a,autoEnable:o,onDeepLinkHandled:p,videoPlayerController:m,onContentActivate:v,hideFriends:d,skipOnboarding:h,withAdNotification:l,withAd:c,friendsTab:f,betPack:u,webOS:E}),R=x.useRef(""),I=x.useMemo(()=>A?{sdk:A,status:2,event:R}:{status:1,sdk:null,event:R},[A]);return x.useEffect(()=>{A&&(A.options.setKey("friendsTab",f),A.options.setKey("theme",e),A.options.setKey("themeMode",i),A.options.setKey("skipOnboarding",h),A.options.setKey("betPack",u),A.options.setKey("containerId",g))},[A,f,e,i,h,u,g]),x.useEffect(()=>()=>{p&&(A==null||A.removeDeepLinkHandler(p)),m&&(A==null||A.removeVideoPlayerController(m))},[A]),x.useEffect(()=>{localStorage.getItem("SL_DEBUG")&&console.log("StreamLayerProvider mounted with props:",{sdkKey:!!t,onDeepLinkHandled:!!p,videoPlayerController:!!m})},[t,p,m]),b.jsxs(Ic.Provider,{value:I,children:[r!==void 0&&b.jsx(Mo,{event:r}),s]})},So=()=>{const{sdk:t}=x.useContext(Ic);return t},NEe=()=>{const{event:t}=x.useContext(Ic);return t},Mc=()=>{const{sdk:t}=x.useContext(Ic),[e,i]=x.useState({});return x.useEffect(()=>{var n;return t!=null&&t.options?(n=t==null?void 0:t.options)==null?void 0:n.subscribe(s=>{i({theme:s.theme,themeMode:s.themeMode})}):()=>{}},[t==null?void 0:t.options]),e},Th=()=>{const{sdk:t}=x.useContext(Ic),[e,i]=x.useState({});return x.useEffect(()=>t!=null&&t.uiState?t==null?void 0:t.uiState.subscribe(n=>{i({...n})}):()=>{},[t==null?void 0:t.uiState]),e},Lf="StreamLayerCSSReset",VEe="ttkj0ah",Zc=({children:t,customTheme:e,themeMode:i,style:n})=>b.jsx("div",{className:"StreamLayerSDKTheme",children:b.jsx("div",{className:Ot(VEe,i,e),style:n,children:t})});var WM="Expected a function",mN=NaN,LEe="[object Symbol]",kEe=/^\s+|\s+$/g,FEe=/^[-+]0x[0-9a-f]+$/i,UEe=/^0b[01]+$/i,BEe=/^0o[0-7]+$/i,WEe=parseInt,GEe=typeof Cf=="object"&&Cf&&Cf.Object===Object&&Cf,DEe=typeof self=="object"&&self&&self.Object===Object&&self,MEe=GEe||DEe||Function("return this")(),ZEe=Object.prototype,PEe=ZEe.toString,OEe=Math.max,XEe=Math.min,fE=function(){return MEe.Date.now()};function YEe(t,e,i){var n,s,r,a,o,l,c=0,u=!1,d=!1,h=!0;if(typeof t!="function")throw new TypeError(WM);e=gN(e)||0,c2(i)&&(u=!!i.leading,d="maxWait"in i,r=d?OEe(gN(i.maxWait)||0,e):r,h="trailing"in i?!!i.trailing:h);function f(L){var F=n,B=s;return n=s=void 0,c=L,a=t.apply(B,F),a}function p(L){return c=L,o=setTimeout(g,e),u?f(L):a}function m(L){var F=L-l,B=L-c,G=e-F;return d?XEe(G,r-B):G}function v(L){var F=L-l,B=L-c;return l===void 0||F>=e||F<0||d&&B>=r}function g(){var L=fE();if(v(L))return E(L);o=setTimeout(g,m(L))}function E(L){return o=void 0,h&&n?f(L):(n=s=void 0,a)}function A(){o!==void 0&&clearTimeout(o),c=0,n=l=s=o=void 0}function R(){return o===void 0?a:E(fE())}function I(){var L=fE(),F=v(L);if(n=arguments,s=this,l=L,F){if(o===void 0)return p(l);if(d)return o=setTimeout(g,e),f(l)}return o===void 0&&(o=setTimeout(g,e)),a}return I.cancel=A,I.flush=R,I}function $Ee(t,e,i){var n=!0,s=!0;if(typeof t!="function")throw new TypeError(WM);return c2(i)&&(n="leading"in i?!!i.leading:n,s="trailing"in i?!!i.trailing:s),YEe(t,e,{leading:n,maxWait:e,trailing:s})}function c2(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function KEe(t){return!!t&&typeof t=="object"}function zEe(t){return typeof t=="symbol"||KEe(t)&&PEe.call(t)==LEe}function gN(t){if(typeof t=="number")return t;if(zEe(t))return mN;if(c2(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=c2(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(kEe,"");var i=UEe.test(t);return i||BEe.test(t)?WEe(t.slice(2),i?2:8):FEe.test(t)?mN:+t}var JEe=$Ee;const u2=UT(JEe),GM=x.createContext({sdk:null,topNavigation:!1}),Ky=()=>x.useContext(GM),jEe=V("div")({name:"QuestionAdvertisementContainer",class:"qwludgs",propsAsIs:!1}),HEe=V("div")({name:"QuestionAdvertisementText",class:"qvce6pv",propsAsIs:!1}),QEe=V("div")({name:"QuestionAdvertisementImage",class:"qsid7hx",propsAsIs:!1}),qEe=({sponsorLogo:t,id:e,hasBanner:i,setAdShowed:n})=>{const s=x.useRef();return x.useEffect(()=>(s.current=setTimeout(()=>{n(!0)},5e3),()=>{clearTimeout(s.current)}),[n,e,i]),b.jsxs(jEe,{children:[b.jsx(HEe,{children:"PRESENTED BY"}),b.jsx(QEe,{children:b.jsx("img",{src:t,alt:"ad-sponsor-logo"})})]})},yN=V("div")({name:"QuestionContainer",class:"q14ckf9e",propsAsIs:!1}),e5e=({openedQuestion:t,muted:e,webos:i})=>{var n,s;const{sdk:r}=Ky();return((n=t==null?void 0:t.attributes)==null?void 0:n.attributes.case)==="insight"?b.jsx(m2e,{...t.attributes.attributes.value,muted:e,controlVideo:r==null?void 0:r.controlVideoPlayer,webos:i}):((s=t==null?void 0:t.attributes)==null?void 0:s.attributes.case)==="tweet"?b.jsx(b2e,{...t.attributes.attributes.value,muted:e,controlVideo:r==null?void 0:r.controlVideoPlayer}):null},t5e=({extendedQuestion:t,vote:e,close:i,webos:n})=>{const{loading:s,data:r}=t;return r?b.jsx(Sbe,{webos:n,vote:e,close:i,openedQuestion:r,isLoading:!!s}):b.jsx(Abe,{})},i5e=({gamification:t,sdk:e,muted:i,skipAutoClose:n,hideSponsor:s,className:r,hideHeader:a,webos:o})=>{var l,c,u,d,h,f,p,m,v,g,E,A,R,I,L,F;const B=dt(t.openedQuestion.$store),G=dt(t.openedQuestion.$extendedStore),[Z,j]=x.useState(!1),pe=dt(e.options),J=((l=B==null?void 0:B.attributes)==null?void 0:l.type)===Re.FACTOID,me=(c=B==null?void 0:B.attributes)==null?void 0:c.backgroundImage,de=(u=G.data)==null?void 0:u.backgroundImage,ye=J?me==null?void 0:me.landscapeUrl:de==null?void 0:de.landscapeUrl,Le=J?me==null?void 0:me.portraitUrl:de==null?void 0:de.portraitUrl,ge=pM({containerId:pe.containerId,landscapeUrl:ye,portraitUrl:Le});if(!B)return null;const H=B.type,ee=((h=(d=G.data)==null?void 0:d.options)==null?void 0:h.options.case)==="factoid"?G.data.options.options.value.closeTimer:void 0;return G.data&&G.data.adUnit===fn.STANDART&&!Z?b.jsxs(yN,{className:r,children:[ge,b.jsx(qEe,{id:G.data.id,hasBanner:!!((p=(f=G.data.promotion)==null?void 0:f.banner)!=null&&p.imageUrl),setAdShowed:j,sponsorLogo:((v=(m=G.data.promotion)==null?void 0:m.sponsor)==null?void 0:v.logo)||((g=G.data.sponsorship)==null?void 0:g.logo)||""})]}):b.jsxs(yN,{className:r,children:[ge,!a&&b.jsx(gM,{closeTimer:n?void 0:ee,close:t.closeQuestion,type:((E=B.attributes)==null?void 0:E.type)||Re.UNSET,webos:o}),H==="question"&&b.jsx(t5e,{webos:o,vote:t.submitAnswer,close:t.closeQuestion,extendedQuestion:G}),H!=="question"&&b.jsx(e5e,{muted:i,openedQuestion:B,webos:o}),!s&&b.jsx(zge,{sponsorLogo:((I=(R=(A=G.data)==null?void 0:A.promotion)==null?void 0:R.sponsor)==null?void 0:I.logo)||((F=(L=G.data)==null?void 0:L.sponsorship)==null?void 0:F.logo)})]})};var DM={exports:{}},n5e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",s5e=n5e,r5e=s5e;function MM(){}function ZM(){}ZM.resetWarningCache=MM;var a5e=function(){function t(n,s,r,a,o,l){if(l!==r5e){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var i={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ZM,resetWarningCache:MM};return i.PropTypes=i,i};DM.exports=a5e();var o5e=DM.exports;const ps=UT(o5e);class yS extends x.Component{constructor(e){super(e),this.scrollListener=this.scrollListener.bind(this),this.eventListenerOptions=this.eventListenerOptions.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this)}componentDidMount(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}componentDidUpdate(){if(this.props.isReverse&&this.loadMore){const e=this.getParentElement(this.scrollComponent);e.scrollTop=e.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}componentWillUnmount(){this.detachScrollListener(),this.detachMousewheelListener()}isPassiveSupported(){let e=!1;const i={get passive(){e=!0}};try{document.addEventListener("test",null,i),document.removeEventListener("test",null,i)}catch{}return e}eventListenerOptions(){let e=this.props.useCapture;return this.isPassiveSupported()?e={useCapture:this.props.useCapture,passive:!0}:e={passive:!1},e}setDefaultLoader(e){this.defaultLoader=e}detachMousewheelListener(){let e=window;this.props.useWindow===!1&&(e=this.scrollComponent.parentNode),e.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}detachScrollListener(){let e=window;this.props.useWindow===!1&&(e=this.getParentElement(this.scrollComponent)),e.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),e.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}getParentElement(e){const i=this.props.getScrollParent&&this.props.getScrollParent();return i??(e&&e.parentNode)}filterProps(e){return e}attachScrollListener(){const e=this.getParentElement(this.scrollComponent);if(!this.props.hasMore||!e)return;let i=window;this.props.useWindow===!1&&(i=e),i.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),i.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),i.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}mousewheelListener(e){e.deltaY===1&&!this.isPassiveSupported()&&e.preventDefault()}scrollListener(){const e=this.scrollComponent,i=window,n=this.getParentElement(e);let s;if(this.props.useWindow){const r=document.documentElement||document.body.parentNode||document.body,a=i.pageYOffset!==void 0?i.pageYOffset:r.scrollTop;this.props.isReverse?s=a:s=this.calculateOffset(e,a)}else this.props.isReverse?s=n.scrollTop:s=e.scrollHeight-n.scrollTop-n.clientHeight;s<Number(this.props.threshold)&&e&&e.offsetParent!==null&&(this.detachScrollListener(),this.beforeScrollHeight=n.scrollHeight,this.beforeScrollTop=n.scrollTop,typeof this.props.loadMore=="function"&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}calculateOffset(e,i){return e?this.calculateTopPosition(e)+(e.offsetHeight-i-window.innerHeight):0}calculateTopPosition(e){return e?e.offsetTop+this.calculateTopPosition(e.offsetParent):0}render(){const e=this.filterProps(this.props),{children:i,element:n,hasMore:s,initialLoad:r,isReverse:a,loader:o,loadMore:l,pageStart:c,ref:u,threshold:d,useCapture:h,useWindow:f,getScrollParent:p,...m}=e;m.ref=g=>{this.scrollComponent=g,u&&u(g)};const v=[i];return s&&(o?a?v.unshift(o):v.push(o):this.defaultLoader&&(a?v.unshift(this.defaultLoader):v.push(this.defaultLoader))),tn.createElement(n,m,v)}}Sa(yS,"propTypes",{children:ps.node.isRequired,element:ps.node,hasMore:ps.bool,initialLoad:ps.bool,isReverse:ps.bool,loader:ps.node,loadMore:ps.func.isRequired,pageStart:ps.number,ref:ps.func,getScrollParent:ps.func,threshold:ps.number,useCapture:ps.bool,useWindow:ps.bool}),Sa(yS,"defaultProps",{element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null});Re.FACTOID+"",Re.POLL+"",Re.TRIVIA+"",Re.PREDICTION+"",Re.TWEET+"";const T0=V("div")({name:"Media",class:"m1bcvojl",propsAsIs:!1}),l5e=()=>T0,c5e=V(l5e())({name:"MediaImgBottom",class:"m58gin0",propsAsIs:!0}),u5e=()=>T0,pE=V(u5e())({name:"MediaImgSolid",class:"m1atm8do",propsAsIs:!0}),d5e=()=>T0,h5e=V(d5e())({name:"MediaImgRounded",class:"myx3xoi",propsAsIs:!0}),f5e=()=>T0,p5e=V(f5e())({name:"MediaImgCentered",class:"m1bwv0gx",propsAsIs:!0}),m5e=()=>T0,g5e=V(m5e())({name:"MediaImgInsight",class:"mntjanp",propsAsIs:!0}),y5e=V("div")({name:"VideoIcon",class:"v1kofb47",propsAsIs:!1}),b5e={[Pt.UNSET]:pE,[Pt.NONE]:pE,[Pt.ROUNDED]:h5e,[Pt.CENTERED]:p5e,[Pt.TRANSPARENT]:c5e,[Pt.SOLID]:pE},bN=({src:t,imageMode:e=Pt.UNSET,withVideo:i,fromInsight:n})=>{if(e===Pt.NONE)return null;const s=n?g5e:b5e[e];return b.jsxs(s,{children:[b.jsx("img",{src:t,alt:""}),i&&b.jsx(y5e,{children:b.jsx(Ke,{name:"icon-play"})})]})},v5e=V("div")({name:"NotificationContent",class:"nuraq9m",propsAsIs:!1}),E5e=V("div")({name:"NotificationContainer",class:"ns1nzpg",propsAsIs:!1}),PM=V("div")({name:"Body",class:"b1j59nzs",propsAsIs:!1}),A5e=V("div")({name:"Title",class:"t9vmnpp",propsAsIs:!1}),S5e=V("button")({name:"Button",class:"b14ivj5k",propsAsIs:!1}),T5e=()=>Ke,C5e=V(T5e())({name:"StyledChevronRight",class:"s1atci8n",propsAsIs:!0}),R5e=V("div")({name:"QuoteWrap",class:"q4w8jgs",propsAsIs:!1}),I5e=V("blockquote")({name:"Quote",class:"qaa0kez",propsAsIs:!1}),w5e=V("div")({name:"Body",class:"b1wvd52w",propsAsIs:!1}),_5e=V("div")({name:"Container",class:"ccvukea",propsAsIs:!1}),x5e=({image:t,tweet:e,account:i,accountVerified:n,body:s,title:r})=>{var a;return b.jsxs(_5e,{children:[r&&b.jsx(R5e,{children:b.jsx(I5e,{children:r})}),b.jsx(uM,{image:t,name:(a=e==null?void 0:e.meta)==null?void 0:a.accountName,userName:i,verified:n,createdTweet:e==null?void 0:e.date}),b.jsx(w5e,{children:hM(s)})]})},N5e=({title:t,questionType:e,questionTypeData:i})=>b.jsxs(PM,{children:[b.jsx(MR,{questionTypeData:i,questionType:e,questionStatus:si.UNSET}),t&&b.jsx(A5e,{children:t})]}),V5e=({tweet:t})=>t?b.jsx(PM,{children:b.jsx(x5e,{...t,controlVideo:()=>{}})}):null,L5e=({action:t,questionType:e,inApp:i,insight:n,tweet:s})=>{var r;const a=Ah[e],o=ige[e];if(!a||!i||!i.notification)return null;const{title:l,image:c,imageMode:u}=i.notification;let d=c;e===Re.TWEET&&s!=null&&s.tweetMedia&&(d=s.tweetMedia.image),u===Pt.NONE&&(d="");const h=i.useMediaFromContent&&(n==null?void 0:n.image),f=e===Re.TWEET&&((r=s==null?void 0:s.tweetMedia)==null?void 0:r.video)||e===Re.FACTOID&&(n==null?void 0:n.video);return b.jsx(E5e,{"data-a":"intr",className:"SL_InApp",onClick:t,children:b.jsxs(v5e,{style:d?{}:{paddingLeft:"1.5rem"},children:[d&&!h&&b.jsx(bN,{src:d,imageMode:u,withVideo:!!f}),h&&b.jsx(bN,{src:h,fromInsight:!0,withVideo:!!f}),e===Re.TWEET?b.jsx(V5e,{tweet:s}):b.jsx(N5e,{questionTypeData:a,questionType:e,title:l}),b.jsx(S5e,{name:"inapp-button",children:o||"Open"}),b.jsx(C5e,{name:"chevronRight"})]})})},k5e=()=>({color:t})=>t||"transparent",vN=V("div")({name:"MediaComponentWrap",class:"mek728j",propsAsIs:!1,vars:{"mek728j-0":[k5e()]}}),Pc=V("div")({name:"Media",class:"m461t56",propsAsIs:!1}),F5e=()=>Pc,U5e=V(F5e())({name:"MediaImgBottom",class:"m22bh04",propsAsIs:!0}),B5e=()=>Pc,W5e=V(B5e())({name:"MediaVideo",class:"m17u1e34",propsAsIs:!0}),G5e=()=>Pc,D5e=V(G5e())({name:"MediaImgContentMedia",class:"m4j3eds",propsAsIs:!0}),M5e=()=>Pc,Z5e=V(M5e())({name:"MediaImgSolid",class:"m1lp3swr",propsAsIs:!0}),P5e=()=>Pc,O5e=V(P5e())({name:"MediaImgRounded",class:"mc7lij",propsAsIs:!0}),X5e=()=>Pc,Y5e=V(X5e())({name:"MediaImgCentered",class:"mwwaw7o",propsAsIs:!0}),$5e=()=>Pc,bS=V($5e())({name:"MediaNone",class:"mqfzyyr",propsAsIs:!0}),K5e="v170mtgf",z5e={[Pt.UNSET]:bS,[Pt.NONE]:bS,[Pt.ROUNDED]:O5e,[Pt.CENTERED]:Y5e,[Pt.TRANSPARENT]:U5e,[Pt.SOLID]:Z5e},EN=({src:t,imageMode:e=Pt.UNSET,withVideo:i,color:n,useContentMedia:s,thumbnailUrl:r})=>{if(!t)return b.jsx(vN,{color:n,children:b.jsx(bS,{})});const a=s===GA.ENABLED?D5e:z5e[e];return b.jsx(vN,{color:n,children:i?b.jsx(W5e,{children:b.jsx(Eh,{className:K5e,source:t,poster:r||""})}):b.jsx(a,{children:b.jsx("img",{src:t,alt:""})})})},J5e=()=>({withoutPadding:t})=>t?"0px":"1rem",OM=V("div")({name:"NotificationContent",class:"n1p3bk1c",propsAsIs:!1,vars:{"n1p3bk1c-0":[J5e()]}}),j5e=V("div")({name:"MainContent",class:"m1g211mu",propsAsIs:!1}),H5e=()=>Ke,Q5e=V(H5e())({name:"StyledChevronRight",class:"sx1hq4c",propsAsIs:!0}),XM=V("div")({name:"NotificationContainer",class:"n1fcriet",propsAsIs:!1}),q5e=()=>({questionType:t})=>t===Re.FACTOID?"7.3rem":"4.5rem",eAe=()=>({webos:t})=>t?"11px 0px 8px 0px":"11px 0px",tAe=()=>({imageMode:t,webos:e})=>e?"330px":t===Pt.SOLID?"310px":t===Pt.CENTERED||t===Pt.ROUNDED||t===Pt.TRANSPARENT?"370px":"430px",iAe=V("div")({name:"Body",class:"b1byyovs",propsAsIs:!1,vars:{"b1byyovs-0":[q5e()],"b1byyovs-1":[eAe()],"b1byyovs-2":[tAe()]}}),nAe=()=>({webos:t})=>t?"0.85rem":"1.033rem",sAe=()=>({webos:t})=>t?"0.95rem":"1.25rem",rAe=()=>({webos:t})=>t?"4.7rem":"2.25rem",aAe=()=>({webos:t})=>t?"pre-wrap":"nowrap",oAe=V("div")({name:"Title",class:"t1y5k5id",propsAsIs:!1,vars:{"t1y5k5id-0":[nAe()],"t1y5k5id-1":[sAe()],"t1y5k5id-2":[rAe()],"t1y5k5id-3":[aAe()]}}),lAe=V("div")({name:"Description",class:"dw9eb7l",propsAsIs:!1}),cAe=V("div")({name:"LogoImgContainer",class:"ldu8wgy",propsAsIs:!1}),YM=V("img")({name:"LogoImg",class:"ln4a3eh",propsAsIs:!1}),uAe=()=>XM,dAe=V(uAe())({name:"NotificationInterstitialContainer",class:"no2k63v",propsAsIs:!0}),hAe=V("div")({name:"TVButtons",class:"th9nn6a",propsAsIs:!1}),$M=V("button")({name:"TVButton",class:"t1eee77p",propsAsIs:!1}),fAe=()=>$M,pAe=V(fAe())({name:"DismissButton",class:"ds000hw",propsAsIs:!0}),mAe=()=>$M,gAe=V(mAe())({name:"AnswerButton",class:"a1nz9hoe",propsAsIs:!0}),yAe=({title:t,questionType:e,questionTypeData:i,description:n,imageMode:s,webos:r})=>b.jsxs(iAe,{imageMode:s,questionType:e,webos:r,children:[b.jsx(MR,{questionTypeData:i,questionType:e,questionStatus:si.UNSET}),t&&b.jsx(oAe,{webos:r,children:t}),n&&b.jsx(lAe,{children:n})]}),bAe=va(dAe),vAe=va(pAe),EAe=va(gAe),AAe=({className:t,sponsorLogo:e,onClick:i,webos:n})=>b.jsx(bAe,{className:t,autoFocus:!0,webos:n,onClick:i,"data-webos":n,children:b.jsx(OM,{withoutPadding:!0,children:b.jsx(YM,{src:e})})}),SAe=({action:t,close:e,questionType:i,inApp:n,insight:s,color:r,webos:a,className:o})=>{var l,c,u;const[d,h]=x.useState(!1),f=x.useRef();x.useEffect(()=>(n!=null&&n.sponsorLogo&&(h(!0),f.current=setTimeout(()=>{h(!1)},5e3)),()=>clearTimeout(f.current)),[n==null?void 0:n.sponsorLogo]);const p=Ah[i];if(!p||!n||!n.notification)return null;const{title:m,image:v,imageMode:g,useContentMedia:E}=n.notification,A=i===Re.FACTOID?s==null?void 0:s.heading:m,R=i===Re.FACTOID?s==null?void 0:s.body:"",I=v,L=i===Re.FACTOID&&((l=s==null?void 0:s.video)==null?void 0:l.url)&&(n==null?void 0:n.isVideo)&&E===GA.ENABLED,F=E===GA.ENABLED?L?(c=s==null?void 0:s.video)==null?void 0:c.url:s==null?void 0:s.image:"";return n!=null&&n.sponsorLogo&&d?b.jsx(AAe,{className:o,sponsorLogo:n==null?void 0:n.sponsorLogo,webos:a,onClick:()=>h(!1)}):b.jsxs(XM,{"data-a":"intr",className:Ot("SL_InApp",o),onClick:B=>{a||t==null||t(B)},"data-is-insight":i===Re.FACTOID,"data-webos":a,children:[(n==null?void 0:n.sponsorLogo)&&b.jsx(cAe,{children:b.jsx(YM,{src:n==null?void 0:n.sponsorLogo})}),b.jsxs(OM,{children:[b.jsxs(j5e,{children:[!F&&b.jsx(EN,{src:I,imageMode:g,withVideo:!!L,color:r}),F&&b.jsx(EN,{src:F,imageMode:g,withVideo:!!L,color:r,useContentMedia:E,thumbnailUrl:(u=s==null?void 0:s.video)==null?void 0:u.thumbnailUrl}),b.jsx(yAe,{questionTypeData:p,questionType:i,title:A,description:R,imageMode:g,webos:a})]}),!a&&b.jsx(Q5e,{name:"chevronRight"}),a&&b.jsxs(hAe,{children:[b.jsx(vAe,{webos:!0,"data-close-btn":"true",onClick:B=>{B.stopPropagation(),e==null||e(B)},children:"Dismiss"}),b.jsx(EAe,{webos:!0,autoFocus:!0,onClick:t,children:"Answer"})]})]})]})},TAe=V("div")({name:"NotificationContainer",class:"n11jcrxe",propsAsIs:!1}),AN=V("img")({name:"Icon",class:"i1vmpt6u",propsAsIs:!1}),CAe=V("div")({name:"IconContainer",class:"i180665s",propsAsIs:!1}),RAe=()=>Ke,IAe=V(RAe())({name:"TitleIcon",class:"t16zzzei",propsAsIs:!0}),wAe=()=>Up,_Ae=V(wAe())({name:"Close",class:"c1sur0q2",propsAsIs:!0}),xAe=V("div")({name:"Body",class:"bai9j52",propsAsIs:!1}),NAe=V("div")({name:"Title",class:"t1bnt25p",propsAsIs:!1}),VAe=V("div")({name:"Description",class:"dmixjec",propsAsIs:!1}),LAe=V("button")({name:"Button",class:"b1ubkw1q",propsAsIs:!1}),kAe=({open:t,close:e,...i})=>{var n,s;return b.jsxs(TAe,{"data-a":"intr",onClick:()=>{t==null||t(),i&&i.markIstantOpen()},children:[b.jsxs(CAe,{children:[b.jsx(AN,{className:"on-light",src:"https://cdn.streamlayer.io/assets/sdk-web/onboarding-steps/notification.png"}),b.jsx(AN,{className:"on-dark",src:"https://cdn.streamlayer.io/assets/sdk-web/onboarding-steps/notification-dark.png"})]}),b.jsxs(xAe,{children:[b.jsxs(NAe,{children:[b.jsx(IAe,{name:"icon-trophy-solid"}),(n=i==null?void 0:i.titleCard)==null?void 0:n.title]}),b.jsxs(VAe,{children:[b.jsx("span",{children:(s=i==null?void 0:i.titleCard)==null?void 0:s.subtitle}),b.jsx(LAe,{name:"inapp-button",children:"Play Now"})]})]}),b.jsx(_Ae,{close:r=>{r==null||r.stopPropagation(),e==null||e()}})]})},FAe=V("div")({name:"Container",class:"cef8huz",propsAsIs:!1}),UAe=()=>Ke,BAe=V(UAe())({name:"CheckIcon",class:"c1mo15kk",propsAsIs:!0}),WAe=()=>Ke,GAe=V(WAe())({name:"PredictionIcon",class:"p16zkqnm",propsAsIs:!0}),DAe=V("div")({name:"PredictionIconContainer",class:"pjszi7a",propsAsIs:!1}),MAe=V("div")({name:"BodyContainer",class:"bftbmo3",propsAsIs:!1}),ZAe=V("div")({name:"Body",class:"barrbyu",propsAsIs:!1}),PAe=V("div")({name:"Subtitle",class:"sz7237i",propsAsIs:!1}),OAe=({step:t,children:e,answer:i,state:n="pending"})=>{const[s,r]=x.useState(0),[a]=x.useState(()=>new ResizeObserver(l=>{window.requestAnimationFrame(()=>{var c,u;r(((u=(c=l==null?void 0:l[0])==null?void 0:c.contentRect)==null?void 0:u.width)??0)})})),o=x.useCallback(l=>{l?a.observe(l):a.disconnect()},[a]);return x.useEffect(()=>()=>{a.disconnect()},[a]),b.jsxs(FAe,{children:[b.jsx(DAe,{children:b.jsx(GAe,{name:"icon-prediction"})}),b.jsx(MAe,{style:{minWidth:`${s}px`},children:b.jsx(ZAe,{children:e},t)}),b.jsx(PAe,{ref:o,className:n,children:b.jsxs("div",{children:[b.jsx(BAe,{name:"icon-check"}),"Your Pick: ",i]})})]})},XAe=V("div")({name:"Container",class:"ckyzolp",propsAsIs:!1}),YR=V("div")({name:"Line",class:"l16t1zr7",propsAsIs:!1}),YAe=()=>YR,$Ae=V(YAe())({name:"Line1",class:"le78kvg",propsAsIs:!0}),KAe=()=>YR,zAe=V(KAe())({name:"Line2",class:"l1o7966d",propsAsIs:!0}),JAe=()=>YR,jAe=V(JAe())({name:"Line3",class:"lu9lyxq",propsAsIs:!0}),HAe=()=>b.jsxs(XAe,{children:[b.jsx($Ae,{children:b.jsx("div",{})}),b.jsx(zAe,{children:b.jsx("div",{})}),b.jsx(jAe,{children:b.jsx("div",{})})]}),QAe=V("div")({name:"Container",class:"c10jy6zf",propsAsIs:!1}),qAe=()=>Ke,eSe=V(qAe())({name:"CheckIcon",class:"c1c7scay",propsAsIs:!0}),tSe=()=>b.jsxs(QAe,{children:[b.jsx(eSe,{name:"icon-check"})," Prediction results are in!"]}),iSe=V("div")({name:"Container",class:"cf6k2yy",propsAsIs:!1}),nSe=V("div")({name:"Caption",class:"c1c8xjus",propsAsIs:!1}),sSe=V("div")({name:"Title",class:"t1d1uekn",propsAsIs:!1}),rSe=({title:t})=>b.jsxs(iSe,{children:[b.jsx(nSe,{children:"Results for"}),b.jsx(sSe,{children:t})]}),KM=V("div")({name:"Container",class:"c181a1as",propsAsIs:!1}),zM=V("div")({name:"Title",class:"t1cduox6",propsAsIs:!1}),aSe=()=>Ke,JM=V(aSe())({name:"CorrectIcon",class:"c1onrv6j",propsAsIs:!0}),oSe=()=>JM,lSe=V(oSe())({name:"InCorrectIcon",class:"i17n9o7e",propsAsIs:!0}),cSe=()=>b.jsxs(KM,{children:[b.jsxs(zM,{children:["Congratulations!",b.jsx("br",{}),"You answered correctly."]}),b.jsx(JM,{name:"icon-check"})]}),uSe=({title:t})=>b.jsxs(KM,{children:[b.jsxs(zM,{children:["Better luck next time!",b.jsx("br",{}),"Correct: ",t]}),b.jsx(lSe,{name:"icon-cross"})]}),dSe=V("div")({name:"Container",class:"cnxgcs2",propsAsIs:!1}),hSe=V("div")({name:"Title",class:"t903f8n",propsAsIs:!1}),fSe=()=>Ke,pSe=V(fSe())({name:"CheckIcon",class:"ceyu3qj",propsAsIs:!0}),mSe=({points:t})=>b.jsxs(dSe,{children:[b.jsxs(hSe,{children:["You won ",b.jsx(S0,{delay:.5,prefix:"+",suffix:" points",value:t})]}),b.jsx(pSe,{name:"icon-trophy-solid"})]}),SN=V("div")({name:"Container",class:"cq3agu2",propsAsIs:!1}),TN=V("div")({name:"Body",class:"b16qj0do",propsAsIs:!1}),CN={1:3e3,2:4e3,3:4e3,4:4e3},gSe=({close:t,action:e,setStep:i,votedAnswer:n,correct:s,correctAnswerTitle:r,questionTitle:a,step:o})=>{if(x.useEffect(()=>{if(i){const c=setTimeout(()=>{CN[o+1]&&(s||o<3)?i(o+1):t==null||t()},CN[o]);return()=>{c&&clearTimeout(c)}}return()=>{}},[i,o,t,s]),o===1)return b.jsx(SN,{children:b.jsx(TN,{children:b.jsx(tSe,{})})});let l="pending";return(o===3||o===4)&&(l=s?"correct":"incorrect"),b.jsx(SN,{"data-a":"intr",onClick:()=>e==null?void 0:e(),children:b.jsxs(TN,{children:[o!==1&&b.jsx(HAe,{},o),b.jsxs(OAe,{state:l,step:o,answer:(n==null?void 0:n.title)||"unknown",children:[o===2&&b.jsx(rSe,{title:a||"unknown"}),o===3&&s&&b.jsx(cSe,{}),o===3&&!s&&b.jsx(uSe,{title:r||"unknown"}),o===4&&b.jsx(mSe,{points:(n==null?void 0:n.points)||0})]})]})})},ySe=({close:t,action:e,votedAnswer:i,correct:n,correctAnswerTitle:s,questionTitle:r})=>{const[a,o]=x.useState(1);return b.jsx(gSe,{close:t,action:e,votedAnswer:i,correct:n,correctAnswerTitle:s,questionTitle:r,setStep:o,step:a,title:""})},bSe=V("div")({name:"NotificationContainer",class:"n1i4h28u",propsAsIs:!1}),vSe=({className:t,...e})=>b.jsx(bSe,{className:t,children:b.jsx(ySe,{...e})}),ESe=V("div")({name:"Container",class:"cwa9tgs",propsAsIs:!1}),ASe=V("div")({name:"BodyContainer",class:"b1xx7swj",propsAsIs:!1}),SSe=V("div")({name:"Body",class:"b1a21en",propsAsIs:!1}),TSe=({step:t,children:e,state:i="pending"})=>{const[n,s]=x.useState(0);return x.useEffect(()=>{const r=new ResizeObserver(a=>{window.requestAnimationFrame(()=>{var o,l;const c=((l=(o=a==null?void 0:a[0])==null?void 0:o.contentRect)==null?void 0:l.width)??0;s(c)})});return()=>{r.disconnect()}},[]),b.jsx(ESe,{style:{padding:`${t===3&&i==="incorrect"||t===1?"5px 100px":"5px 40px"}`},children:b.jsx(ASe,{style:{minWidth:`${n}px`},children:b.jsx(SSe,{children:e},t)})})},CSe=V("div")({name:"Container",class:"c1nd5cu8",propsAsIs:!1}),$R=V("div")({name:"Line",class:"lgbipw0",propsAsIs:!1}),RSe=()=>$R,ISe=V(RSe())({name:"Line1",class:"l1anth16",propsAsIs:!0}),wSe=()=>$R,_Se=V(wSe())({name:"Line2",class:"l193yd7v",propsAsIs:!0}),xSe=()=>$R,NSe=V(xSe())({name:"Line3",class:"lhbflsp",propsAsIs:!0}),VSe=()=>b.jsxs(CSe,{children:[b.jsx(ISe,{children:b.jsx("div",{})}),b.jsx(_Se,{children:b.jsx("div",{})}),b.jsx(NSe,{children:b.jsx("div",{})})]}),LSe=V("div")({name:"Container",class:"c1lvd429",propsAsIs:!1}),kSe=()=>Ke,FSe=V(kSe())({name:"PredictionIcon",class:"p1n4m87t",propsAsIs:!0}),USe=()=>b.jsxs(LSe,{children:[b.jsx(FSe,{name:"icon-prediction"})," Prediction results are in!"]}),BSe=()=>Ke,WSe=V(BSe())({name:"CheckIcon",class:"c126r8f9",propsAsIs:!0}),GSe=V("div")({name:"Answer",class:"a1o2rpgl",propsAsIs:!1}),DSe=V("div")({name:"Container",class:"cej6ci1",propsAsIs:!1}),MSe=V("div")({name:"Title",class:"tob24mr",propsAsIs:!1}),ZSe=({title:t,answer:e})=>b.jsxs(DSe,{children:[b.jsx(MSe,{children:t}),b.jsxs(GSe,{children:[b.jsx(WSe,{name:"icon-prediction"}),"Your Pick: ",e]})]}),jM=V("div")({name:"Container",class:"c1lesal4",propsAsIs:!1}),HM=V("div")({name:"Title",class:"tv66n4w",propsAsIs:!1}),PSe=()=>Ke,OSe=V(PSe())({name:"CorrectIcon",class:"cx0vlv2",propsAsIs:!0}),QM=V("div")({name:"Answer",class:"akfh4v5",propsAsIs:!1}),XSe=({answer:t})=>b.jsxs(jM,{children:[b.jsx(HM,{children:"Congratulations! You answered correctly."}),b.jsxs(QM,{children:[b.jsx(OSe,{name:"icon-correct"}),"Your Pick: ",t]})]}),YSe=({title:t,answer:e})=>b.jsxs(jM,{children:[b.jsxs(HM,{children:["Better luck next time!",b.jsx("br",{}),"Correct: ",t]}),b.jsxs(QM,{children:["Your Pick: ",e]})]}),RN=V("div")({name:"Container",class:"cmox3ot",propsAsIs:!1}),IN=V("div")({name:"Body",class:"bqq1ix4",propsAsIs:!1}),wN={1:3e3,2:4e3,3:4e3},$Se=({close:t,action:e,setStep:i,votedAnswer:n,correct:s,correctAnswerTitle:r,questionTitle:a,step:o})=>{if(x.useEffect(()=>{if(i){const c=setTimeout(()=>{wN[o+1]&&(s||o<3)?i(o+1):t==null||t()},wN[o]);return()=>{c&&clearTimeout(c)}}return()=>{}},[i,o,t,s]),o===1)return b.jsx(RN,{children:b.jsx(IN,{children:b.jsx(USe,{})})});let l="pending";return o===3&&(l=s?"correct":"incorrect"),b.jsx(RN,{"data-a":"intr",onClick:()=>e==null?void 0:e(),children:b.jsxs(IN,{children:[o!==1&&b.jsx(VSe,{},o),b.jsxs(TSe,{state:l,step:o,children:[o===2&&b.jsx(ZSe,{title:a||"unknown",answer:(n==null?void 0:n.title)||"unknown"}),o===3&&s&&b.jsx(XSe,{answer:(n==null?void 0:n.title)||"unknown"}),o===3&&!s&&b.jsx(YSe,{title:r||"unknown",answer:(n==null?void 0:n.title)||"unknown"})]})]})})},KSe=({close:t,action:e,votedAnswer:i,correct:n,correctAnswerTitle:s,questionTitle:r})=>{const[a,o]=x.useState(1);return b.jsx($Se,{close:t,action:e,votedAnswer:i,correct:n,correctAnswerTitle:s,questionTitle:r,setStep:o,step:a,title:""})},qM=V("div")({name:"NotificationContainer",class:"nn0nqh6",propsAsIs:!1}),zSe=()=>({withoutPadding:t})=>t?"0px":"1rem",JSe=V("div")({name:"NotificationContent",class:"n1bcdf3j",propsAsIs:!1,vars:{"n1bcdf3j-0":[zSe()]}}),eZ=V("img")({name:"LogoImg",class:"l8jorbq",propsAsIs:!1}),jSe=()=>qM,HSe=V(jSe())({name:"NotificationInterstitialContainer",class:"nf920y3",propsAsIs:!0}),QSe=V("div")({name:"LogoImgContainer",class:"lzsmehn",propsAsIs:!1}),qSe=({className:t,sponsorLogo:e,onClick:i})=>b.jsx(HSe,{className:t,onClick:i,children:b.jsx(JSe,{withoutPadding:!0,children:b.jsx(eZ,{src:e})})}),eTe=({className:t,...e})=>{var i,n,s,r,a;const[o,l]=x.useState(!1),c=x.useRef();return x.useEffect(()=>{var u;return(u=e==null?void 0:e.inApp)!=null&&u.sponsorLogo&&(l(!0),c.current=setTimeout(()=>{l(!1)},5e3)),()=>clearTimeout(c.current)},[(i=e==null?void 0:e.inApp)==null?void 0:i.sponsorLogo]),(n=e==null?void 0:e.inApp)!=null&&n.sponsorLogo&&o?b.jsx(qSe,{className:t,sponsorLogo:(s=e.inApp)==null?void 0:s.sponsorLogo,onClick:()=>l(!1)}):b.jsx(qM,{className:t,children:b.jsxs("div",{children:[((r=e==null?void 0:e.inApp)==null?void 0:r.sponsorLogo)&&b.jsx(QSe,{children:b.jsx(eZ,{src:(a=e==null?void 0:e.inApp)==null?void 0:a.sponsorLogo})}),b.jsx(KSe,{...e})]})})},tTe=({sdk:t,webos:e})=>{var i,n,s,r,a,o,l,c;const[u]=x.useState(t.getNotificationsStore()),d=dt(u),h=t.getFeature(ot.GAMES),f=x.useMemo(()=>t.getActiveNotification(),[t,d]);return x.useEffect(()=>{f&&di.emit("notification",{action:"rendered",payload:{questionId:f.data.questionId,questionType:f.data.questionType}})},[f]),f&&f.type===cl.QUESTION_RESOLVED?f.data.question&&f.data.questionType===Re.PREDICTION?f&&((i=f.data.inApp)==null?void 0:i.adUnit)===fn.STANDART?b.jsx(eTe,{action:f.action,close:f.close,...f.data.question,inApp:f.data.inApp}):b.jsx(vSe,{action:f.action,close:f.close,...f.data.question}):null:f&&f.type===cl.ONBOARDING?f.data.onboarding?b.jsx(kAe,{open:h==null?void 0:h.openOnboarding,close:f.close,...f.data.onboarding}):null:f&&((n=f.data.inApp)==null?void 0:n.adUnit)===fn.STANDART?b.jsx(SAe,{...f.data,action:f.action,close:f.close,color:((a=(r=(s=f==null?void 0:f.data)==null?void 0:s.inApp)==null?void 0:r.notification)==null?void 0:a.indicatorColor)||((c=(l=(o=f==null?void 0:f.data)==null?void 0:o.inApp)==null?void 0:l.appearance)==null?void 0:c.primaryColor),webos:e}):f&&b.jsx(L5e,{...f.data,action:f.action})},iTe=({theme:t})=>{const e=So(),i=Mc(),n=Th();return e&&(n.appNotification||n.onboardingNotification)?n.app&&!n.onboardingNotification?null:b.jsx("div",{className:"StreamLayerSDK",children:b.jsx(Zc,{customTheme:t??i.theme,themeMode:i.themeMode,children:b.jsx(tTe,{sdk:e})})}):null};var nTe=Object.defineProperty,sTe=(t,e,i)=>e in t?nTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Gn=(t,e,i)=>sTe(t,typeof e!="symbol"?e+"":e,i);const _N=Object.keys(ro),xN=()=>{const t=window.innerWidth;let e="sm";for(let i=_N.length-1;i>0;i--){const n=_N[i];if(!(t<ro[n])&&t>=ro[n]){e=n;break}}return{name:e,size:ro[e]}},NN=t=>{var e;return(((e=t.current)==null?void 0:e.getBoundingClientRect().y)||0)<-68},d2=()=>window.matchMedia("(orientation: landscape)").matches,rTe=t=>{const[e]=x.useState(()=>XR({screen:xN(),sdkInView:NN(t),sdkInDesktopView:d2()}));return x.useEffect(()=>{const i=u2(()=>{e.setKey("sdkInView",NN(t))},200),n=u2(()=>{const s=xN();e.setKey("screen",s),e.setKey("sdkInDesktopView",d2())},200);return window.addEventListener("scroll",i),window.addEventListener("resize",n),()=>{window.removeEventListener("scroll",i),window.removeEventListener("resize",n)}},[e,t]),[e]},KR=(t,e,i)=>{const n=e>=ro.lg&&e<ro.xl?75:52;t.current&&window.scrollTo({top:t.current.offsetTop-n,...i})},aTe=15,oTe=(t,e)=>{const i=x.useRef(null),n=x.useRef(0),[s]=x.useState(XR({scrollPosition:0,tabsShown:!0,scrollDirection:"forward"})),r=dt(e);return x.useEffect(()=>{const a=d2()?i.current:window;if(!a)return()=>{};const o=u2(l=>{var c;const u=l.target;if(!u)return;let d=0;d2()?d=u.scrollTop:d=((c=t.current)==null?void 0:c.getBoundingClientRect().y)||0;const h=n.current-d;if(aTe>Math.abs(h))return;const f=n.current<d?"forward":"backward";n.current=d,s.set({scrollPosition:Math.round(d),scrollDirection:f,tabsShown:s.get().tabsShown})},200);return a.addEventListener("scroll",o),()=>{a.removeEventListener("scroll",o)}},[s,t,r.screen]),[i,s]},mE=V("div")({name:"LoadingContainer",class:"lclc0ej",propsAsIs:!1}),lTe=({feature:t,sdk:e,children:i,className:n,noWait:s})=>{const r=dt(t.status),a=dt(e.sdkStore.slStreamId);if(!s){if(a!=null&&a.loading&&!a.data)return b.jsx(mE,{className:n,children:"Event is loading..."});if(!(a!=null&&a.data))return b.jsx(mE,{className:n,children:"Event is forbidden..."});if(r!==dl.Ready)return b.jsx(mE,{className:n,children:"Wait feature..."})}return i},cTe=V("div")({name:"Container",class:"c115qtkr",propsAsIs:!1}),uTe=V("div")({name:"STabs",class:"sxnslc8",propsAsIs:!1}),dTe=V("button")({name:"Button",class:"b1umzux0",propsAsIs:!1}),hTe=V("span")({name:"Title",class:"tspsaas",propsAsIs:!1});var kf=(t=>(t.HOME="home",t.LEADERBOARD="leaderboard",t))(kf||{});const VN=({title:t,active:e,onClick:i})=>b.jsx(dTe,{"data-a":"intr",onClick:i,"data-selected":e,children:b.jsx(hTe,{"data-a":"intr",children:t})}),fTe=({activePage:t="home",toggleActivePage:e})=>b.jsx(cTe,{children:b.jsxs(uTe,{"data-position":t==="home"?"left":"right",children:[b.jsx(VN,{title:"Home",active:t==="home",onClick:()=>e("home")}),b.jsx(VN,{title:"Friends",active:t==="leaderboard",onClick:()=>e("leaderboard")})]})}),pTe=V("div")({name:"Container",class:"c1ux29ft",propsAsIs:!1}),mTe=()=>Ke,gTe=V(mTe())({name:"FriendsIcon",class:"f10ncfg2",propsAsIs:!0}),yTe=V("div")({name:"Content",class:"c1yc07bd",propsAsIs:!1}),bTe=V("div")({name:"Title",class:"tj6cq7w",propsAsIs:!1}),vTe=V("div")({name:"Description",class:"d1ag78xo",propsAsIs:!1}),ETe=()=>Ke,ATe=V(ETe())({name:"ArrowInviteIcon",class:"awohrz6",propsAsIs:!0}),STe=({title:t,description:e,onClick:i,className:n})=>{const[s]=_M({type:"invitation",action:"sent",payload:{from:zg.TITLE_CARD}});return b.jsxs(pTe,{"data-a":"intr",onClick:s(i),className:n,children:[b.jsx(gTe,{name:"icon-friends"}),b.jsxs(yTe,{children:[b.jsx(bTe,{children:t}),b.jsx(vTe,{children:e})]}),b.jsx(ATe,{name:"icon-copy"})]})};function TTe(t){var e=t.lastRenderedStartIndex,i=t.lastRenderedStopIndex,n=t.startIndex,s=t.stopIndex;return!(n>i||s<e)}function CTe(t){for(var e=t.isItemLoaded,i=t.itemCount,n=t.minimumBatchSize,s=t.startIndex,r=t.stopIndex,a=[],o=null,l=null,c=s;c<=r;c++){var u=e(c);u?l!==null&&(a.push(o,l),o=l=null):(l=c,o===null&&(o=c))}if(l!==null){for(var d=Math.min(Math.max(l,o+n-1),i-1),h=l+1;h<=d&&!e(h);h++)l=h;a.push(o,l)}if(a.length)for(;a[1]-a[0]+1<n&&a[0]>0;){var f=a[0]-1;if(!e(f))a[0]=f;else break}return a}var RTe=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},ITe=function(){function t(e,i){for(var n=0;n<i.length;n++){var s=i[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),wTe=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},LN=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t};(function(t){wTe(e,t);function e(){var i,n,s,r;RTe(this,e);for(var a=arguments.length,o=Array(a),l=0;l<a;l++)o[l]=arguments[l];return r=(n=(s=LN(this,(i=e.__proto__||Object.getPrototypeOf(e)).call.apply(i,[this].concat(o))),s),s._lastRenderedStartIndex=-1,s._lastRenderedStopIndex=-1,s._memoizedUnloadedRanges=[],s._onItemsRendered=function(c){var u=c.visibleStartIndex,d=c.visibleStopIndex;s._lastRenderedStartIndex=u,s._lastRenderedStopIndex=d,s._ensureRowsLoaded(u,d)},s._setRef=function(c){s._listRef=c},n),LN(s,r)}return ITe(e,[{key:"resetloadMoreItemsCache",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._memoizedUnloadedRanges=[],n&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var n=this.props.children;return n({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(n,s){var r=this.props,a=r.isItemLoaded,o=r.itemCount,l=r.minimumBatchSize,c=l===void 0?10:l,u=r.threshold,d=u===void 0?15:u,h=CTe({isItemLoaded:a,itemCount:o,minimumBatchSize:c,startIndex:Math.max(0,n-d),stopIndex:Math.min(o-1,s+d)});(this._memoizedUnloadedRanges.length!==h.length||this._memoizedUnloadedRanges.some(function(f,p){return h[p]!==f}))&&(this._memoizedUnloadedRanges=h,this._loadUnloadedRanges(h))}},{key:"_loadUnloadedRanges",value:function(n){for(var s=this,r=this.props.loadMoreItems||this.props.loadMoreRows,a=function(c){var u=n[c],d=n[c+1],h=r(u,d);h!=null&&h.then(function(){if(TTe({lastRenderedStartIndex:s._lastRenderedStartIndex,lastRenderedStopIndex:s._lastRenderedStopIndex,startIndex:u,stopIndex:d})){if(s._listRef==null)return;typeof s._listRef.resetAfterIndex=="function"?s._listRef.resetAfterIndex(u,!0):(typeof s._listRef._getItemStyleCache=="function"&&s._listRef._getItemStyleCache(-1),s._listRef.forceUpdate())}})},o=0;o<n.length;o+=2)a(o)}}]),e})(x.PureComponent);const _Te=V("div")({name:"Container",class:"culdu4a",propsAsIs:!1}),xTe=V("div")({name:"Position",class:"pwf8e69",propsAsIs:!1}),NTe=V("img")({name:"Avatar",class:"atf4yh4",propsAsIs:!1}),VTe=V("div")({name:"AvatarPlaceholder",class:"a1dg29ja",propsAsIs:!1}),LTe=V("div")({name:"Content",class:"c10a68rc",propsAsIs:!1}),kTe=V("div")({name:"NameContainer",class:"nc4kck5",propsAsIs:!1}),FTe=V("span")({name:"Name",class:"njsrqgr",propsAsIs:!1}),UTe=()=>Ke,BTe=V(UTe())({name:"CurrentUserBadge",class:"c17uc4zr",propsAsIs:!0}),WTe=({friendsRank:t,avatar:e,name:i,userId:n,points:s,isCurrentUser:r,style:a})=>b.jsxs(_Te,{"data-name":n,style:a,children:[b.jsx(xTe,{children:t||0}),b.jsxs(LTe,{children:[e?b.jsx(NTe,{alt:"leaderboard-item-avatar",src:e}):b.jsx(VTe,{children:WR(i||"")}),b.jsxs(kTe,{children:[b.jsx(FTe,{children:i||""}),r&&b.jsx(BTe,{name:"icon-star"})]})]}),b.jsx("div",{children:cM(s)})]}),GTe=V("div")({name:"Container",class:"c16btbfp",propsAsIs:!1}),DTe=({items:t,currentUserId:e,openItemDetail:i,fetchMore:n,scrollNode:s,hasMore:r})=>{const a=x.useCallback(o=>{const l=o.target.getAttribute("data-name");l&&i(l)},[i]);return b.jsx(yS,{loadMore:n,initialLoad:!1,hasMore:r,useWindow:!1,getScrollParent:()=>s.current,children:b.jsx(GTe,{"data-a":"intr",onClick:a,children:t.map(o=>b.jsx(WTe,{...o,isCurrentUser:!!e&&e===o.userId},o.userId))})})},MTe=V("div")({name:"InviteFriendsContainer",class:"i1c9dygq",propsAsIs:!1}),ZTe=({deepLink:t})=>b.jsx(MTe,{children:b.jsx(UM,{inviteLink:t,inviteCardTitle:"Its More Fun With Friends",inviteCardSubtext:"Invite and compete against your friends for the top spot on the leaderboard."})}),PTe=V("div")({name:"InviteLinkContainer",class:"i1odbhm4",propsAsIs:!1}),OTe=({gamification:t,scrollNode:e,scrollStore:i,leaderboardList:n})=>{const s=x.useRef(null),{data:r,hasMore:a,loading:o,key:l}=dt(n.$store),{data:c}=dt(t.deepLink.$store),[u,d]=FM(s);return!r.length&&!o?b.jsx(ZTe,{deepLink:c}):b.jsxs(b.Fragment,{children:[b.jsx(DTe,{items:r,scrollNode:e,scrollStore:i,fetchMore:n.fetchMore,hasMore:a,openItemDetail:t.openUser,currentUserId:t.currentUserId.get()},l),c&&b.jsx(PTe,{ref:s,children:b.jsx(STe,{"data-a":"intr",onClick:()=>u(c),title:"Invite Friends",description:"Challenge them now!"})}),d]})},XTe=({gamification:t,scrollNode:e,scrollStore:i})=>t.leaderboardList?b.jsx(OTe,{leaderboardList:t.leaderboardList,gamification:t,scrollNode:e,scrollStore:i}):null,YTe=({store:t,openQuestion:e})=>{const{sdk:i}=Ky(),n=dt(t);return b.jsx(Ive,{openQuestion:e,questions:n.data,controlVideo:i==null?void 0:i.controlVideoPlayer})},$Te=({userSummary:t})=>{var e;const[i,n]=x.useState(void 0);return x.useEffect(()=>{const s=t.$store.subscribe(r=>{r&&n(r)});return()=>{s()}},[t]),b.jsx(VM,{loading:!(i!=null&&i.summary),...i==null?void 0:i.summary,successRate:(e=i==null?void 0:i.percentage)==null?void 0:e.correct})},KTe=({gamification:t,className:e,scrollStore:i,scrollNode:n,appNode:s,style:r,responsiveStore:a})=>{const{tabsShown:o}=dt(i,{keys:["tabsShown"]}),l=dt(t.friendsTabEnabled),[c,u]=x.useState(kf.HOME),[,d]=_Q(),{sdkInDesktopView:h,screen:f}=dt(a,{keys:["sdkInDesktopView"]}),p=v=>{d(()=>{var g;u(v),h===!1&&(((g=s.current)==null?void 0:g.getBoundingClientRect().y)||0)<0&&KR(s,f.size,{behavior:"instant"})})};x.useEffect(()=>i.subscribe(v=>{if(v.scrollPosition===0){i.setKey("tabsShown",!0);return}a.get().sdkInDesktopView?i.setKey("tabsShown",v.scrollDirection==="backward"):i.setKey("tabsShown",v.scrollDirection==="forward")}),[i,a]),x.useEffect(()=>{l||u(kf.HOME)},[l]);let m="0px";return h?m=o?"0px":"calc(0px - var(--header-height))":m=o?"var(--header-height)":"0px",b.jsxs(Z2e,{className:Ot(e,"SL-Tabs","sl-hide-on-modal"),style:r,children:[l&&b.jsx(Y2e,{style:{top:m},children:b.jsx(fTe,{activePage:c,toggleActivePage:p})}),c===kf.HOME&&b.jsxs(b.Fragment,{children:[b.jsx(M2e,{children:b.jsx($2e,{children:b.jsx($Te,{userSummary:t.userSummary})})}),b.jsx(PR,{style:{flex:1},children:b.jsx(YTe,{openQuestion:t.openQuestion,store:t.feedList.getStore()})})]}),c===kf.LEADERBOARD&&b.jsx(O2e,{children:b.jsx(XTe,{scrollStore:i,scrollNode:n,gamification:t})})]})},zTe=()=>Sh,kN=V(zTe())({name:"OpenedContainer",class:"ouvguos",propsAsIs:!0}),FN="t1eu4lbg",JTe=V("div")({name:"UserContainer",class:"uuv2xqo",propsAsIs:!1}),jTe=({correct:t,incorrect:e})=>{const i=t+e;return i===0?0:Math.round(t/i*100)},HTe=({gamification:t,scrollStore:e,className:i,appNode:n,scrollNode:s,responsiveStore:r})=>b.jsx(KTe,{appNode:n,scrollStore:e,scrollNode:s,className:i,gamification:t,responsiveStore:r}),QTe=({gamification:t,muted:e,sdk:i,className:n,appNode:s,responsiveStore:r})=>{const{topNavigation:a}=Ky(),o=dt(t.openedQuestionId),l=dt(t.openedQuestion.$store),c=dt(t.openedUser||NM(void 0)),{sdkInDesktopView:u}=dt(r,{keys:["sdkInDesktopView"]}),{hiding:d,onAnimationEnd:h}=AM();if(!o&&!c)return null;const f=l?b.jsx(kN,{className:Ot(n,!a&&FN),hiding:d,onAnimationEnd:h,children:b.jsx(i5e,{muted:e,sdk:i,gamification:t})}):c?b.jsx(kN,{className:Ot(n,!a&&FN),hiding:d,onAnimationEnd:h,children:b.jsxs(JTe,{children:[b.jsx(gM,{label:"Friend's Rank",close:t.closeUser}),b.jsx(OR,{children:b.jsx(VM,{...c,successRate:jTe(c)})})]})}):null;return b.jsx(kM,{container:s,useContainer:!u,children:f})},qTe=x.lazy(()=>NC(()=>Promise.resolve().then(()=>IK),void 0,import.meta.url)),eCe=({sdk:t,feature:e,className:i,scrollStore:n,appNode:s,scrollNode:r,responsiveStore:a})=>{const o=x.useMemo(()=>e&&e.featureConfig.get().type===ot.GAMES?b.jsx(lTe,{className:i,sdk:t,feature:e,children:b.jsx(qTe,{appNode:s,scrollStore:n,scrollNode:r,className:i,responsiveStore:a,gamification:e})}):null,[t,e,i,a,n,r,s]);return b.jsx(x.Suspense,{fallback:b.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:"page loading..."}),children:o})},tCe=({feature:t,sdk:e,muted:i,className:n,appNode:s,responsiveStore:r})=>t&&t.featureConfig.get().type===ot.GAMES?b.jsx(QTe,{className:n,appNode:s,muted:i,sdk:e,responsiveStore:r,gamification:t}):null;window.dispatchEvent(new CustomEvent("grpc_devtools_loaded"));function iCe(t){return t instanceof DOMException&&(t.code===22||t.code===1014||t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED")}let nCe=class{constructor(e="main",i=window.localStorage){Gn(this,"delimiter",":"),Gn(this,"prefix"),Gn(this,"storage"),Gn(this,"clear",()=>{for(const n in window.localStorage)n.startsWith(this.prefix)&&this.storage.removeItem(n)}),Gn(this,"generateKey",n=>`${this.prefix}${this.delimiter}${n.join(this.delimiter)}`),Gn(this,"write",(...n)=>{const s=n.pop()||"",r=this.generateKey(n);try{this.storage.setItem(r,s)}catch(a){iCe(a)&&this.storage===window.sessionStorage&&(window.sessionStorage.removeItem("slstreamlogs"),this.storage.setItem(r,s))}}),Gn(this,"read",(...n)=>{const s=this.storage.getItem(this.generateKey(n));return s===null?void 0:s}),Gn(this,"remove",(...n)=>{this.storage.removeItem(this.generateKey(n))}),this.prefix=`sl-sdk${this.delimiter}${e}`,this.storage=i}};var UN;(function(t){t.Init="init",t.Ready="ready",t.Connecting="connecting",t.Connected="connected",t.Disconnected="disconnected",t.Failed="failed",t.Reconnect="reconnect",t.Reconnecting="reconnecting"})(UN||(UN={}));fh("grpc:stream");et.Unknown,et.Internal,et.DeadlineExceeded,et.ResourceExhausted,et.FailedPrecondition,et.Unavailable,et.DataLoss;fh("grpc:retry");Jg(10,{description:"Number of attempts to retry"}),Jg(3e4,{description:"Max delay between retries in milliseconds"});var Va;(function(t){t.SCHEMA="schema",t.EXTERNAL_TOKEN="eToken",t.TOKEN="token"})(Va||(Va={}));let sCe=class extends nCe{constructor(){super("user"),Gn(this,"setSchema",e=>{this.write(Va.SCHEMA,e)}),Gn(this,"getSchema",()=>this.read(Va.SCHEMA)),Gn(this,"setToken",e=>{this.write(Va.TOKEN,e)}),Gn(this,"getToken",()=>this.read(Va.TOKEN)),Gn(this,"setExternalToken",e=>{this.write(Va.EXTERNAL_TOKEN,e)}),Gn(this,"getExternalToken",()=>this.read(Va.EXTERNAL_TOKEN)),Gn(this,"removeToken",()=>{this.remove(Va.TOKEN)})}};var BN;(function(t){t.DISABLED="disabled",t.INITIALIZATION="initialization",t.READY="ready",t.FAILED="failed",t.SUSPENDED="suspended"})(BN||(BN={}));var WN;(function(t){t.SHOWED="showed",t.EVENT="ev"})(WN||(WN={}));var GN;(function(t){t.ONBOARDING="onboarding",t.ONBOARDING_IO="onboarding_io",t.QUESTION_RECEIVED="q-received",t.QUESTION_OPENED="q-opened"})(GN||(GN={}));var DN;(function(t){t.ALLOWED="allowed",t.DISALLOWED="disallowed"})(DN||(DN={}));var MN;(function(t){t.UNKNOWN="unknown",t.ALREADY_VOTED="already_voted"})(MN||(MN={}));fh("deep_link");fh("bypass");new sCe;fh("video_player");var ZN;(function(t){t.Unset="unset",t.Required="required",t.Optional="optional",t.Completed="completed",t.Disabled="disabled",t.Unavailable="unavailable"})(ZN||(ZN={}));Re.POLL,Re.PREDICTION,Re.TRIVIA;const rCe={[ot.GAMES]:!0},aCe=V("div")({name:"Buttons",class:"b5o8qbl",propsAsIs:!1}),oCe=({children:t,className:e})=>b.jsx(aCe,{className:e,children:t}),tZ=V("div")({name:"Navigation",class:"n6tbwuy",propsAsIs:!1}),lCe=()=>oCe,PN=V(lCe())({name:"NavigationItems",class:"n1up4z7v",propsAsIs:!0}),cCe=V("button")({name:"SButton",class:"sxxa0c",propsAsIs:!1}),uCe=V("span")({name:"ButtonIcon",class:"b193dcyu",propsAsIs:!1}),dCe=V("span")({name:"ButtonLabel",class:"b40tuix",propsAsIs:!1}),hCe="s14xk0af",fCe="ha3mg7c",pCe="h103yr45",Pm=({disabled:t,active:e,onClick:i,label:n,icon:s,id:r})=>b.jsx(cCe,{onClick:i,"data-a":"intr",disabled:t,className:Ot(e&&hCe,!e&&(r==="channels"||r==="featuredGroups")&&fCe,!e&&r==="leaderboard"&&pCe),children:b.jsxs(b.Fragment,{children:[s&&b.jsx(uCe,{children:s}),b.jsx(dCe,{children:n})]})}),mCe=()=>Ke,gCe=V(mCe())({name:"ButtonIcon",class:"b11wpe79",propsAsIs:!0}),yCe=V("div")({name:"Container",class:"calnblm",propsAsIs:!1}),bCe=V("div")({name:"Title",class:"t1438p52",propsAsIs:!1}),vCe=V("div")({name:"CloseIconWrap",class:"c17srj38",propsAsIs:!1}),ECe=()=>Ke,ACe=V(ECe())({name:"CloseIcon",class:"clqia8k",propsAsIs:!0}),SCe=()=>Ke,TCe=V(SCe())({name:"DashboardIcon",class:"df5w958",propsAsIs:!0}),CCe="h12x6aiv",RCe=x.forwardRef(({sdk:t,className:e},i)=>{const n=()=>{t.closeFeature()};return b.jsxs(tZ,{className:Ot(e,CCe),children:[b.jsxs(yCe,{children:[b.jsxs(bCe,{children:[b.jsx(TCe,{name:"dashboard"}),"Dashboard"]}),b.jsx(vCe,{"data-a":"intr",onClick:n,children:b.jsx(ACe,{name:"icon-cross"})})]}),b.jsx("div",{ref:i})]})}),ICe=x.forwardRef(({sdk:t,className:e},i)=>{const n=dt(t.sdkStore.organizationSettings),s=dt(t.sdkStore.streamSettings),r=dt(t.getActiveFeature()),a=x.useMemo(()=>{const l=(s==null?void 0:s.data)||(n==null?void 0:n.data);return l!=null&&l.overlays?l.overlays:[]},[n,s]),o=x.useMemo(()=>[...a.filter(({enableSdkButton:l,type:c})=>c===ot.GAMES||l).map(l=>({id:l.type,onClick:()=>t.openFeature(l.type),disabled:!(l.type in rCe),label:l.name,icon:b.jsx("img",{src:l.icon,alt:""}),position:l.position*10}))].sort((l,c)=>l.position-c.position),[a,t]);return b.jsxs(tZ,{className:e,children:[o.length!==0&&b.jsx(PN,{children:[b.jsx(Pm,{id:"Channels",onClick:()=>t.closeFeature(),label:"Channels",active:r===0},"Channels"),...o.map(l=>l.id===ot.GAMES?b.jsx(Pm,{...l,active:l.id===r,label:"StreamLayer +",id:"featuredGroups",icon:b.jsx(gCe,{name:"icon-btn-feature-groups","data-selected":l.id===r})},l.id):b.jsx(Pm,{...l,icon:void 0,active:l.id===r},l.id))]}),!o.length&&b.jsx(PN,{children:[b.jsx(Pm,{id:"empty",label:"No Features...",active:!1,disabled:!0},"empty")]}),b.jsx("div",{ref:i})]})}),wCe=V("div")({name:"Container",class:"c1qjj4d4",propsAsIs:!1}),_Ce=V("div")({name:"CloseIconWrap",class:"c1lg6b8a",propsAsIs:!1}),xCe=()=>Ke,NCe=V(xCe())({name:"CloseIcon",class:"c159el66",propsAsIs:!0}),VCe=V("div")({name:"Title",class:"t16xmufv",propsAsIs:!1}),LCe=V("img")({name:"SponsorLogo",class:"s83lc21",propsAsIs:!1}),kCe=V("div")({name:"PresentsTitle",class:"p1p7igia",propsAsIs:!1}),FCe=V("div")({name:"Subtitle",class:"s1eftsbu",propsAsIs:!1}),UCe=V("div")({name:"Description",class:"d8uezec",propsAsIs:!1}),BCe=V("button")({name:"ActionButton",class:"a1h1bk90",propsAsIs:!1}),ON=({close:t,action:e,onboarding:i})=>{var n,s,r,a,o,l,c,u;return b.jsxs(wCe,{children:[b.jsx(_Ce,{"data-a":"intr",onClick:t,children:b.jsx(NCe,{name:"icon-cross"})}),((s=(n=i==null?void 0:i.titleCard)==null?void 0:n.media)==null?void 0:s.sponsorLogo)&&b.jsxs(VCe,{children:[b.jsx(LCe,{alt:"sponsor-logo",src:(a=(r=i==null?void 0:i.titleCard)==null?void 0:r.media)==null?void 0:a.sponsorLogo}),b.jsx(kCe,{children:"PRESENTS"})]}),((o=i==null?void 0:i.titleCard)==null?void 0:o.title)&&b.jsx(FCe,{children:(l=i==null?void 0:i.titleCard)==null?void 0:l.title}),((c=i==null?void 0:i.titleCard)==null?void 0:c.subtitle)&&b.jsx(UCe,{children:(u=i==null?void 0:i.titleCard)==null?void 0:u.subtitle}),b.jsx(BCe,{"data-a":"intr",onClick:e,children:"Play Now"})]})},vS=[{graphicSrc:"https://cdn.streamlayer.io/assets/sdk-web/onboarding-steps/dark/step_1.png",tagline:"",headline:b.jsxs(b.Fragment,{children:["Welcome to ",b.jsx("br",{})," Live Challenge"]})},{graphicSrc:"https://cdn.streamlayer.io/assets/sdk-web/onboarding-steps/dark/step_2.png",headline:"Live insights, polls, trivia and predictions."},{graphicSrc:"https://cdn.streamlayer.io/assets/sdk-web/onboarding-steps/dark/step_3.png",headline:"Win points and play against friends."}],WCe=V("div")({name:"OnboardingContainer",class:"o1xni1kr",propsAsIs:!1}),GCe=()=>Sh,DCe=V(GCe())({name:"OnboardingNotificationContainer",class:"o1vnouv7",propsAsIs:!0}),XN=V("div")({name:"InnerContainer",class:"i59uefw",propsAsIs:!1}),MCe=V("div")({name:"OnboardingOverlap",class:"ovnr8ov",propsAsIs:!1}),ZCe=({deepLink:t,onboardingOpts:e,notification:i,gamification:n,loading:s,sdk:r,throttled:a})=>{var o,l,c,u,d,h,f;const p=dt(n.friends?n.friends.getStore():NM({data:[]})),[m,v]=x.useState(void 0),g=x.useMemo(()=>{var E,A;const R=r.getInviter();return R?(A=(E=p.data)==null?void 0:E.find(({slId:I})=>I===R))==null?void 0:A.name:""},[p.data,r]);return x.useEffect(()=>{const E=t.$store.subscribe(A=>{A&&v(A.data)});return()=>{E()}},[t.$store]),b.jsxs(WCe,{children:[b.jsx(TEe,{loading:s,rules:[{label:"Answer as many questions as you like.",icon:"icon-btn-feature-groups"},{label:"Win points for each correct trivia or prediction answer.",icon:"icon-thumb-up"},{label:"Top the leader board and best your friends.",icon:"icon-trophy"}],rulesBtnLabel:(o=e.rules)==null?void 0:o.buttonLabel,rulesTitle:(l=e.rules)==null?void 0:l.heading,termsTitle:"Terms and Conditions",termsText:(c=e.rules)==null?void 0:c.terms,steps:vS,primaryColor:(u=e.inviteCard)==null?void 0:u.iconColor,inviteLink:m,inviteCardTitle:(d=e.inviteCard)==null?void 0:d.heading,inviteCardSubtext:(h=e.inviteCard)==null?void 0:h.subtext,inviteCardBtnLabel:(f=e.inviteCard)==null?void 0:f.buttonLabel,onClose:()=>{var E;(E=i.close)==null||E.call(i)},gamification:n,sdk:r,inviterName:g}),a&&b.jsx(MCe,{})]})},PCe=({sdk:t,notification:e,saveHeight:i,style:n,appNode:s,sdkInDesktopView:r,responsiveStore:a})=>{const o=x.useRef(null),l=e.data.onboarding,[c,u]=x.useState(l==null?void 0:l.instantOpen),d=t.getFeature(ot.GAMES),h=x.useMemo(()=>vS==null?void 0:vS.map(({graphicSrc:v})=>v),[]),{screen:f}=dt(a,{keys:["screen"]});x.useLayoutEffect(()=>{var v;i(((v=o.current)==null?void 0:v.getBoundingClientRect().height)||0)},[i]);const{loading:p,throttled:m}=k3e(h);return c&&d&&l&&s.current?b.jsx(kM,{container:s,useContainer:!r,children:b.jsx(ZCe,{throttled:m,notification:e,setOpened:u,gamification:d,onboardingOpts:l,deepLink:d.deepLink,loading:p,renderToNode:s,sdk:t})}):b.jsxs(b.Fragment,{children:[b.jsx(XN,{ref:o,style:{position:"absolute",visibility:"hidden"},children:b.jsx(ON,{close:()=>{},action:()=>{},onboarding:l})}),b.jsx(DCe,{style:n,hiding:e.hiding,children:b.jsx(XN,{children:b.jsx(ON,{close:e.close,action:()=>{var v;u(!0),(((v=s.current)==null?void 0:v.getBoundingClientRect().y)||0)<0&&KR(s,f.size,{behavior:"smooth"})},onboarding:l})})})]})},OCe=()=>Sh,XCe=V(OCe())({name:"Container",class:"c8ol1ve",propsAsIs:!0}),iZ=V("div")({name:"InnerContainer",class:"iqfywam",propsAsIs:!1}),YCe=()=>iZ,$Ce=V(YCe())({name:"HiddenContainer",class:"hokmtod",propsAsIs:!0}),KCe=V("div")({name:"NotificationRefreshing",class:"n192d1q8",propsAsIs:!1}),zCe=()=>wEe,JCe=V(zCe())({name:"Pill",class:"p1lha68t",propsAsIs:!0}),jCe=t=>{const[e,i]=x.useState(0),n=x.useRef(null),s=x.useMemo(()=>new ResizeObserver(o=>{window.requestAnimationFrame(()=>{var l;if(Array.isArray(o)){for(const c of o)if(c.contentBoxSize){const u=(l=n.current)==null?void 0:l.getBoundingClientRect();u&&i(u.height)}}})}),[]),r=x.useCallback(o=>{n.current=o},[]),a=x.useCallback(o=>{i(o)},[]);return x.useEffect(()=>{const o=n.current;return o?(s.observe(o),()=>{s.unobserve(o)}):()=>{}},[t]),x.useEffect(()=>()=>{s.disconnect()}),[r,e,a]},HCe=({sdk:t,notification:e,appNode:i,responsiveStore:n,hasActiveFeature:s})=>{var r,a;const{sdkInDesktopView:o}=dt(n,{keys:["sdkInDesktopView"]}),{sdk:l}=Ky(),[c,u,d]=jCe(e.id);let h=u;return s||(h="auto"),e.type===cl.QUESTION?b.jsxs(b.Fragment,{children:[b.jsx($Ce,{ref:c,children:b.jsx(nN,{...e})}),b.jsxs(XCe,{style:{height:e.hiding?0:h},hiding:e.hiding,children:[b.jsx(iZ,{style:{height:"100%"},children:b.jsx(nN,{...e,controlVideo:l==null?void 0:l.controlVideoPlayer})}),b.jsx(KCe,{},e.id)]})]}):e.type===cl.QUESTION_RESOLVED&&(a=(r=e.data)==null?void 0:r.question)!=null&&a.predictionResult?b.jsx(L3e,{style:{height:e.hiding?0:u},saveHeight:d,close:e.close,hiding:e.hiding,...e.data.question}):e.type===cl.ONBOARDING?b.jsx(PCe,{style:{height:e.hiding?0:h},saveHeight:d,sdk:t,notification:e,sdkInDesktopView:o,appNode:i,responsiveStore:n}):null},QCe="p7vfi6t",qCe=({pill:t,setPill:e,appNode:i,headerNode:n,scrollNode:s,responsiveStore:r,scrollStore:a})=>{var o,l;const{screen:c}=dt(r,{keys:["screen"]}),{tabsShown:u,scrollPosition:d}=dt(a,{keys:["tabsShown","scrollPosition"]});x.useEffect(()=>{r.get().sdkInDesktopView?d<50&&e(null):d>-50&&e(null)},[d,r,e]);const h=r.get().sdkInDesktopView?i:n;return!t||!h.current?null:xp.createPortal(b.jsx(JCe,{title:t.type===cl.QUESTION_RESOLVED?"Prediction result":`New ${((l=Ah[(o=t.data)==null?void 0:o.questionType])==null?void 0:l.label)||"notification"}`,"data-a":"intr",onClick:()=>{var f;r.get().sdkInDesktopView?(f=s.current)==null||f.scrollTo({top:0,behavior:"smooth"}):KR(i,c.size,{behavior:"smooth"}),e(null)},className:Ot(u&&QCe,"sl-pill-button")}),h.current)},eRe=({sdk:t,headerNode:e,scrollNode:i,responsiveStore:n,appNode:s,scrollStore:r,hasActiveFeature:a})=>{const[o]=x.useState(t.getNotificationsStore()),l=dt(o),[c,u]=x.useState(null),d=x.useMemo(()=>t.getActiveNotification(),[t,l]);return x.useEffect(()=>{d&&di.emit("notification",{action:"rendered",payload:{questionId:d.data.questionId,questionType:d.data.questionType}})},[d]),x.useEffect(()=>{const{sdkInDesktopView:h,sdkInView:f}=n.get();d&&(h||f)&&(!h&&f&&u(d),h&&window.requestAnimationFrame(()=>{r.get().scrollPosition!==0&&u(d)}))},[d]),x.useEffect(()=>{d||u(null)},[d]),b.jsxs(b.Fragment,{children:[!c&&d&&b.jsx(HCe,{appNode:s,sdk:t,hasActiveFeature:a,notification:d,responsiveStore:n}),c&&b.jsx(qCe,{pill:c,setPill:u,appNode:s,notification:d,headerNode:e,scrollNode:i,scrollStore:r,responsiveStore:n})]})},tRe=t=>{const e=dt(t.status),i=dt(t.sdkStore.slStreamId),n=dt(t.userId()),s=dt(t.getActiveFeature()),r=e==="ready"&&!!i.data;return x.useEffect(()=>{const a=t.getFeature(ot.GAMES);a&&s!==ot.GAMES&&(a.closeQuestion(),a.closeUser()),a==null||a.openedQuestionId.subscribe(o=>{o&&s!==ot.GAMES&&t.openFeature(ot.GAMES)})},[s,t]),{sdkReady:r,activeFeature:s,isLogged:!!n}},iRe=({sdk:t,className:e,scrollStore:i,appNode:n,scrollNode:s,responsiveStore:r})=>{const[,a]=Cbe(t);return b.jsx(eCe,{className:e,scrollNode:s,appNode:n,scrollStore:i,feature:a,responsiveStore:r,sdk:t})},nRe=({sdk:t,muted:e,className:i,appNode:n,responsiveStore:s})=>{const r=dt(t.featuresList.getStore());return r?Array.from(r,a=>{const o=t.getFeature(a);return o?b.jsx(tCe,{className:i,muted:e,appNode:n,feature:o,responsiveStore:s,sdk:t},a):null}):null},sRe=({sdk:t,muted:e,topNavigation:i})=>{const[n,s]=x.useState(!0),r=x.useRef(null),a=dt(t.uiState),o=x.useRef(null),[l]=rTe(r),[c,u]=oTe(r,l),{sdkReady:d,activeFeature:h,isLogged:f}=tRe(t),p=!!d;xM(r,{enabled:p,event:"click",listener:Tbe});const m=x.useMemo(()=>({sdk:t,topNavigation:i}),[t,i]);return x.useEffect(()=>{NC(()=>Promise.resolve().then(()=>IK),void 0,import.meta.url)},[]),b.jsx(GM.Provider,{value:m,children:b.jsxs(W2e,{ref:v=>{r.current=v,s(!!v)},className:i?"":"c10llmat",children:[p&&i&&a.app&&b.jsx(ICe,{className:Ot(Lf,"sl-hide-on-modal"),sdk:t,ref:o}),p&&!i&&!!h&&a.app&&b.jsx(RCe,{className:Ot(Lf,"sl-hide-on-modal"),sdk:t,ref:o}),b.jsxs(EM,{className:"sl-hide-on-modal",ref:c,"data-nav":(!!h&&p).toString(),children:[p&&a.app&&b.jsx(eRe,{sdk:t,scrollNode:c,headerNode:o,appNode:r,scrollStore:u,responsiveStore:l,hasActiveFeature:!!h}),p&&a.app&&b.jsx(iRe,{scrollStore:u,responsiveStore:l,scrollNode:c,appNode:r,className:Lf,sdk:t}),p&&n&&b.jsx(nRe,{muted:e,responsiveStore:l,appNode:r,className:Lf,sdk:t})]}),p&&!f&&n&&a.app&&b.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%",height:"100%"},children:"You are not logged in."})]})})},YN=({event:t,topNavigation:e,theme:i,muted:n,withSidebarNotification:s=!0})=>{const{sdk:r,status:a}=x.useContext(Ic),o=Th(),l=Mc(),{event:c}=x.useContext(Ic);if(a===gS.UNSET)throw new Error("Wrap app in `StreamLayerProvider`");return a===gS.CONNECTED?b.jsx("div",{className:"StreamLayerSDK",children:"wait"}):r===null?b.jsx("div",{className:"StreamLayerSDK",children:"sdk not initialized"}):!o.app&&!o.appNotification&&!o.appSidebar||!o.app&&!o.appSidebar&&o.appNotification&&!s?null:b.jsx("div",{className:"StreamLayerSDK",children:b.jsx(Zc,{customTheme:i??l.theme,themeMode:l.themeMode,children:b.jsx(sRe,{sdk:r,muted:n,event:(c==null?void 0:c.current)||t,topNavigation:e})})})},rRe=V("div")({name:"PointsContainer",class:"psiob9b",propsAsIs:!1}),aRe=V("div")({name:"PointsIcon",class:"p1gqe4lh",propsAsIs:!1}),oRe=()=>Ke,lRe=V(oRe())({name:"PointsSvg",class:"p15syg2y",propsAsIs:!0}),cRe=V("div")({name:"PointsBody",class:"p12n4f2h",propsAsIs:!1}),uRe=V("div")({name:"PointsTitle",class:"poqmx89",propsAsIs:!1}),dRe=V("div")({name:"PointsValue",class:"prj9b3v",propsAsIs:!1}),hRe=({points:t,onClick:e})=>b.jsxs(rRe,{className:Lf,onClick:e,children:[b.jsx(aRe,{children:b.jsx(lRe,{name:"icon-trophy-solid"})}),b.jsxs(cRe,{children:[b.jsx(uRe,{children:"Total points"}),b.jsx(dRe,{children:b.jsx(S0,{value:t})})]})]}),fRe=({gamification:t})=>{const e=t.userSummary.$store,[i,n]=x.useState(0);return x.useEffect(()=>{const s=e.subscribe(r=>{var a;(a=r==null?void 0:r.summary)!=null&&a.points&&n(r.summary.points)});return()=>{s()}},[e]),b.jsx(hRe,{points:i,onClick:()=>{const s=t.status.get();s===dl.Suspended?(t.openFeature(),di.emit("app",{action:"open",payload:{}}),di.emit("interactions",{action:"tap",payload:{}})):s===dl.Ready&&(t.closeFeature(!1),di.emit("app",{action:"close",payload:{}}),di.emit("interactions",{action:"tap",payload:{}}))}})},pRe=({sdk:t})=>{if(!dt(t.featuresList.getStore()))return null;const e=t.getFeature(ot.GAMES);return e?b.jsx(fRe,{gamification:e}):null},mRe=({theme:t})=>{const e=So(),i=Mc();return e?b.jsx("div",{className:"StreamLayerSDK",children:b.jsx(Zc,{customTheme:t??i.theme,themeMode:i.themeMode,children:b.jsx(pRe,{sdk:e})})}):null},gRe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i;function nZ(t){return typeof t=="string"&&gRe.test(t)}function $N(t){if(!nZ(t))throw TypeError("Invalid UUID");let e;return Uint8Array.of((e=parseInt(t.slice(0,8),16))>>>24,e>>>16&255,e>>>8&255,e&255,(e=parseInt(t.slice(9,13),16))>>>8,e&255,(e=parseInt(t.slice(14,18),16))>>>8,e&255,(e=parseInt(t.slice(19,23),16))>>>8,e&255,(e=parseInt(t.slice(24,36),16))/1099511627776&255,e/4294967296&255,e>>>24&255,e>>>16&255,e>>>8&255,e&255)}function yRe(t){t=unescape(encodeURIComponent(t));const e=new Uint8Array(t.length);for(let i=0;i<t.length;++i)e[i]=t.charCodeAt(i);return e}const bRe="6ba7b810-9dad-11d1-80b4-00c04fd430c8",vRe="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function ERe(t,e,i,n,s,r){const a=typeof i=="string"?yRe(i):i,o=typeof n=="string"?$N(n):n;if(typeof n=="string"&&(n=$N(n)),(n==null?void 0:n.length)!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+a.length);if(l.set(o),l.set(a,o.length),l=e(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,s){r=r||0;for(let c=0;c<16;++c)s[r+c]=l[c];return s}return lG(l)}function ARe(t,e,i,n){switch(t){case 0:return e&i^~e&n;case 1:return e^i^n;case 2:return e&i^e&n^i&n;case 3:return e^i^n}}function gE(t,e){return t<<e|t>>>32-e}function SRe(t){const e=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520],n=new Uint8Array(t.length+1);n.set(t),n[t.length]=128,t=n;const s=t.length/4+2,r=Math.ceil(s/16),a=new Array(r);for(let o=0;o<r;++o){const l=new Uint32Array(16);for(let c=0;c<16;++c)l[c]=t[o*64+c*4]<<24|t[o*64+c*4+1]<<16|t[o*64+c*4+2]<<8|t[o*64+c*4+3];a[o]=l}a[r-1][14]=(t.length-1)*8/Math.pow(2,32),a[r-1][14]=Math.floor(a[r-1][14]),a[r-1][15]=(t.length-1)*8&4294967295;for(let o=0;o<r;++o){const l=new Uint32Array(80);for(let p=0;p<16;++p)l[p]=a[o][p];for(let p=16;p<80;++p)l[p]=gE(l[p-3]^l[p-8]^l[p-14]^l[p-16],1);let c=i[0],u=i[1],d=i[2],h=i[3],f=i[4];for(let p=0;p<80;++p){const m=Math.floor(p/20),v=gE(c,5)+ARe(m,u,d,h)+f+e[m]+l[p]>>>0;f=h,h=d,d=gE(u,30)>>>0,u=c,c=v}i[0]=i[0]+c>>>0,i[1]=i[1]+u>>>0,i[2]=i[2]+d>>>0,i[3]=i[3]+h>>>0,i[4]=i[4]+f>>>0}return Uint8Array.of(i[0]>>24,i[0]>>16,i[0]>>8,i[0],i[1]>>24,i[1]>>16,i[1]>>8,i[1],i[2]>>24,i[2]>>16,i[2]>>8,i[2],i[3]>>24,i[3]>>16,i[3]>>8,i[3],i[4]>>24,i[4]>>16,i[4]>>8,i[4])}function h2(t,e,i,n){return ERe(80,SRe,t,e,i,n)}h2.DNS=bRe;h2.URL=vRe;function Li(){return Li=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)({}).hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Li.apply(null,arguments)}const TRe=V("div")({name:"Container",class:"c5b6wdg",propsAsIs:!1}),CRe="a1rlj479",RRe="s35f1di",IRe="sj4471g",wRe="b12050d8",_Re="b1d5ybek",xRe=t=>t==="left"||t==="right"?RRe:wRe,NRe=t=>t==="left"||t==="right"?IRe:_Re,VRe=t=>t==="left"?"avdxyl3":t==="right"?"a1bisd08":t==="top"?"a1u9y2aj":"a1qqaks",zR=({children:t,style:e,className:i,enabled:n=!0,hiding:s,direction:r="left",onAnimationEnd:a})=>b.jsx(TRe,{style:e,className:Ot(i,CRe,VRe(r),n&&!s&&xRe(r),n&&s&&NRe(r)),onAnimationEnd:a,children:t}),LRe=V("a")({name:"Link",class:"l1sgte8c",propsAsIs:!1}),kRe=V("div")({name:"BannerContainer",class:"b7yfc72",propsAsIs:!1}),FRe=()=>LRe,URe=V(FRe())({name:"BannerLink",class:"bejjq94",propsAsIs:!0}),sZ=({promotion:t,promotionId:e,hiding:i,isEventFired:n,fireEvent:s,direction:r="bottom"})=>{const a=(t==null?void 0:t.adUnit)===fn.STANDART,o=a?t.banner:t.additionalBanner;if(x.useEffect(()=>{o!=null&&o.imageUrl&&t.type&&e&&(n!=null&&n("banner-showed")||(di.emit("advertisement",{action:"bannerShown",payload:{id:e,type:t.type}}),s==null||s("banner-showed")))},[o==null?void 0:o.imageUrl,s,n,t.type,e]),!(o!=null&&o.imageUrl))return null;let l=o==null?void 0:o.url;return l&&l.indexOf("http")!==0&&(l=`https://${l}`),b.jsx(zR,{direction:r,hiding:i,children:b.jsx(kRe,{className:"BannerContainer","data-is-ad":a,children:b.jsx(URe,{as:l?"a":"span",className:"BannerLink",href:l,style:{backgroundImage:`url(${o.imageUrl})`,cursor:l?"pointer":"default"},"data-promo-id":e,"data-promo-type":t.type,"data-a":"banner",target:"_blank","data-is-ad":a})})})},BRe=({cardId:t,promotion:e,direction:i="bottom"})=>b.jsx(sZ,{promotion:e,promotionId:t,direction:i,hiding:!1}),WRe=V("div")({name:"NotificationContent",class:"n18wsqoo",propsAsIs:!1}),GRe=V("div")({name:"Body",class:"b1ia90c2",propsAsIs:!1}),DRe=V("div")({name:"Title",class:"tg2z08v",propsAsIs:!1}),MRe=V("div")({name:"Text",class:"t59zdk1",propsAsIs:!1}),vu=V("div")({name:"MediaImgBottom",class:"m1ab9fq",propsAsIs:!1}),ZRe=()=>vu,PRe=V(ZRe())({name:"MediaImgMiddle",class:"m9fsr0y",propsAsIs:!0}),KN=V("img")({name:"CtaIcon",class:"cvi9y5q",propsAsIs:!1}),ORe=V("div")({name:"Logo",class:"l5mq0z",propsAsIs:!1}),XRe=V("div")({name:"Footer",class:"f1mse0ft",propsAsIs:!1}),YRe=V("div")({name:"Vector",class:"v1hcloah",propsAsIs:!1}),$Re=V("div")({name:"NotificationContainer",class:"n3n65jf",propsAsIs:!1}),rZ=V("button")({name:"TVButton",class:"tkkfuqy",propsAsIs:!1}),KRe=()=>rZ,zRe=V(KRe())({name:"DismissButton",class:"dh9vato",propsAsIs:!0}),JRe=()=>rZ,aZ=V(JRe())({name:"OpenButton",class:"oeah8gv",propsAsIs:!0}),jRe={[Zs.UNSET]:vu,[Zs.FIT]:vu,[Zs.CENTERED]:vu,[Zs.SOLID]:vu,[Zs.BOTTOM]:vu,[Zs.MIDDLE]:PRe},HRe=({src:t,imagePosition:e})=>{const i=jRe[e];return b.jsx(i,{children:b.jsx("img",{src:t,alt:""})})},QRe=va(zRe),qRe=va(aZ),e4e=({notification:t,open:e,close:i,webos:n})=>{if(!t||!t.promotion||t.enabled!==$g.NOTIFICATION_ENABLED)return null;const{title:s,body:r,image:a,promotion:o}=t,{sponsorLogo:l,sponsorLogoMode:c,imagePosition:u,ctaButton:d}=o;return b.jsxs($Re,{"data-webos":n,className:"SL_Lower_Third_Notification",onClick:n?void 0:e,children:[b.jsxs(WRe,{children:[b.jsx(HRe,{src:a,imagePosition:u}),b.jsxs(GRe,{children:[s&&b.jsx(DRe,{children:s}),r&&b.jsx(MRe,{children:r})]})]}),b.jsxs(XRe,{children:[c!==iG.NOTIFICATION_SPONSOR_LOGO_NONE&&b.jsxs(b.Fragment,{children:[b.jsx(ORe,{children:b.jsx("img",{src:l,alt:s})}),b.jsx(YRe,{})]}),n?b.jsxs(b.Fragment,{children:[b.jsx(QRe,{webos:!0,onClick:i,children:"Dismiss"}),b.jsxs(qRe,{webos:!0,autoFocus:!0,style:{color:d==null?void 0:d.textColor,backgroundColor:d==null?void 0:d.color},onClick:e,children:[(d==null?void 0:d.ctaIcon)&&(d==null?void 0:d.ctaIconMode)===WA.CTA_ICON_TRANSPARENT&&b.jsx(KN,{src:d==null?void 0:d.ctaIcon,alt:"cta-icon"}),(d==null?void 0:d.label)||"Open"]})]}):b.jsxs(aZ,{name:"promo-button",style:{color:d==null?void 0:d.textColor,backgroundColor:d==null?void 0:d.color},children:[(d==null?void 0:d.ctaIcon)&&(d==null?void 0:d.ctaIconMode)===WA.CTA_ICON_TRANSPARENT&&b.jsx(KN,{src:d==null?void 0:d.ctaIcon,alt:"cta-icon"}),(d==null?void 0:d.label)||"Open"]})]})]})},t4e=V("div")({name:"NotificationContent",class:"n1ku6hz",propsAsIs:!1}),i4e=V("div")({name:"NotificationContainer",class:"nbxqmol",propsAsIs:!1}),n4e=V("div")({name:"Body",class:"b1gu3eml",propsAsIs:!1}),s4e=V("div")({name:"Title",class:"t1u17zva",propsAsIs:!1}),r4e=V("div")({name:"Text",class:"t10ko1g",propsAsIs:!1}),zy=V("div")({name:"Media",class:"mntc42e",propsAsIs:!1}),a4e=()=>zy,zN=V(a4e())({name:"MediaImgFit",class:"ml060eo",propsAsIs:!0}),o4e=()=>zy,oZ=V(o4e())({name:"MediaImgCentered",class:"m1vqlvig",propsAsIs:!0}),l4e=()=>oZ,c4e=V(l4e())({name:"MediaImgBottom",class:"m1e7tvi5",propsAsIs:!0}),u4e=()=>zy,d4e=V(u4e())({name:"MediaImgSolid",class:"mqvntt2",propsAsIs:!0}),h4e=()=>zy,f4e=V(h4e())({name:"MediaImgMiddle",class:"m12jtj3u",propsAsIs:!0}),p4e=V("img")({name:"CtaIcon",class:"ckq1frv",propsAsIs:!1}),m4e=()=>Ke,g4e=V(m4e())({name:"StyledChevronRight",class:"s9mjmz3",propsAsIs:!0}),y4e=V("div")({name:"Logo",class:"l1cf50a7",propsAsIs:!1}),lZ=V("button")({name:"TVButton",class:"thdqfl0",propsAsIs:!1}),b4e=()=>lZ,v4e=V(b4e())({name:"DismissButton",class:"d11pe8bx",propsAsIs:!0}),E4e=()=>lZ,A4e=V(E4e())({name:"OpenButton",class:"oy9k0kp",propsAsIs:!0}),S4e={[Zs.UNSET]:zN,[Zs.FIT]:zN,[Zs.CENTERED]:oZ,[Zs.BOTTOM]:c4e,[Zs.SOLID]:d4e,[Zs.MIDDLE]:f4e},T4e=({src:t,imagePosition:e})=>{const i=S4e[e];return b.jsx(i,{children:b.jsx("img",{src:t,alt:""})})},C4e=va(v4e),R4e=va(A4e),I4e=({notification:t,open:e,promotionId:i,hiding:n,direction:s="left",close:r,webos:a})=>{if(!t||!t.promotion||t.enabled!==$g.NOTIFICATION_ENABLED)return null;if(t.promotion.mode===tG.LOWER_THIRD)return b.jsx(e4e,{notification:t,open:e,close:r,webos:a});const{title:o,body:l,image:c,promotion:u}=t,{sponsorLogo:d,sponsorLogoMode:h,imagePosition:f,ctaButton:p}=u,m=v=>{v.stopPropagation(),r==null||r()};return b.jsx(zR,{className:"SL_Rich_Notification",direction:s,hiding:n,children:b.jsxs(i4e,{onClick:a?()=>{}:e,children:[h!==iG.NOTIFICATION_SPONSOR_LOGO_NONE&&d&&b.jsx(y4e,{children:b.jsx("img",{src:d,alt:o})}),b.jsxs(t4e,{children:[b.jsx(T4e,{src:c,imagePosition:f}),b.jsxs(n4e,{children:[o&&b.jsx(s4e,{children:o}),l&&b.jsx(r4e,{children:l})]}),a&&b.jsx(C4e,{webos:!0,onClick:m,children:"Dismiss"}),b.jsxs(R4e,{webos:a,autoFocus:a,onClick:a?e:()=>{},name:"promo-button",style:{color:p==null?void 0:p.textColor,backgroundColor:p==null?void 0:p.color},children:[(p==null?void 0:p.ctaIcon)&&(p==null?void 0:p.ctaIconMode)===WA.CTA_ICON_TRANSPARENT&&b.jsx(p4e,{src:p==null?void 0:p.ctaIcon,alt:"cta-icon"}),(p==null?void 0:p.label)||"Open"]}),b.jsx(g4e,{name:"chevronRight"})]})]})})},w4e=V("div")({name:"OverlayContainer",class:"okzhq2w",propsAsIs:!1}),cZ=V("div")({name:"PromoOverlay",class:"pmgz5i",propsAsIs:!1}),uZ=V("div")({name:"Header",class:"hyxi3jt",propsAsIs:!1}),dZ=V("div")({name:"HeaderContent",class:"h149e3gp",propsAsIs:!1}),hZ="h10toh7",JN=V("img")({name:"SponsorLogo",class:"s1jyea6t",propsAsIs:!1}),_4e=V("div")({name:"SponsorName",class:"szpfa3h",propsAsIs:!1}),fZ=V("div")({name:"Media",class:"m1crmu01",propsAsIs:!1}),x4e=V("img")({name:"PromoImg",class:"p1l37r8s",propsAsIs:!1}),N4e="s1nmch9k",jN=V("div")({name:"Content",class:"c1er0ljd",propsAsIs:!1}),V4e=V("div")({name:"Description",class:"dydopmr",propsAsIs:!1}),L4e=V("div")({name:"Sponsor",class:"s1w6nt04",propsAsIs:!1}),k4e=V("div")({name:"SponsorText",class:"s1evcmtq",propsAsIs:!1}),pZ=V("div")({name:"ADLogo",class:"awodx0x",propsAsIs:!1}),F4e=V("span")({name:"SponsoredText",class:"s1q3n6oi",propsAsIs:!1}),mZ=V("div")({name:"ActionBtnWrap",class:"a8d4xfk",propsAsIs:!1}),gZ=V("a")({name:"ActionButton",class:"at6oobh",propsAsIs:!1}),U4e=V("div")({name:"Title",class:"t1gyg7tt",propsAsIs:!1}),B4e="h17rwbtk",W4e=V("div")({name:"Container",class:"c10m2bce",propsAsIs:!1}),HN=V("div")({name:"Item",class:"ig23yq5",propsAsIs:!1}),G4e=V("div")({name:"Dot",class:"d1f6aqua",propsAsIs:!1}),D4e=({time:t,adCount:e,adPosition:i})=>{const n=Math.floor(t/60),s=t-n*60;return n===0&&s===0&&e===i?null:b.jsxs(W4e,{children:[e>1&&b.jsxs(b.Fragment,{children:[b.jsxs(HN,{children:[i," of ",e]}),b.jsx(G4e,{})]}),b.jsxs(HN,{children:[n,":",s<10?`0${s}`:s]})]})},M4e=V("a")({name:"WhyThisAdLink",class:"w13o8uld",propsAsIs:!1}),Z4e=({whyThisAd:t})=>{const[e,i]=x.useState(!1);return!t.iconClickThroughURLTemplate||!t.staticResource?null:b.jsxs(M4e,{style:{width:t.width,height:t.height,[t.xPosition]:3,[t.yPosition]:11},href:t.iconClickThroughURLTemplate,target:"_blank",rel:"noreferrer",children:[!e&&b.jsx("img",{alt:"ad choice",src:t.staticResource,onLoad:()=>i(!1),onError:()=>i(!0)}),e&&b.jsx("span",{children:"ad choice"})]})},P4e=V("div")({name:"VideoControls",class:"v1xzooj9",propsAsIs:!1}),yZ=V("button")({name:"ControlBtn",class:"c1bo41vr",propsAsIs:!1}),O4e=()=>yZ,X4e=V(O4e())({name:"MuteIcon",class:"m13efyu8",propsAsIs:!0}),Y4e=()=>yZ,$4e=V(Y4e())({name:"PauseIcon",class:"pladkgh",propsAsIs:!0}),K4e=V("div")({name:"Container",class:"cjnga56",propsAsIs:!1}),z4e=V("div")({name:"ControlsContainer",class:"c7qs1am",propsAsIs:!1}),QN="m12n261r",qN="m16vcml8",e7="m1078nk6";function JR(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{id:t.id||null,adId:t.adId||null,sequence:t.sequence||null,apiFramework:t.apiFramework||null,universalAdIds:[],creativeExtensions:[]}}const J4e=["ADCATEGORIES","ADCOUNT","ADPLAYHEAD","ADSERVINGID","ADTYPE","APIFRAMEWORKS","APPBUNDLE","ASSETURI","BLOCKEDADCATEGORIES","BREAKMAXADLENGTH","BREAKMAXADS","BREAKMAXDURATION","BREAKMINADLENGTH","BREAKMINDURATION","BREAKPOSITION","CLICKPOS","CLICKTYPE","CLIENTUA","CONTENTID","CONTENTPLAYHEAD","CONTENTURI","DEVICEIP","DEVICEUA","DOMAIN","EXTENSIONS","GDPRCONSENT","IFA","IFATYPE","INVENTORYSTATE","LATLONG","LIMITADTRACKING","MEDIAMIME","MEDIAPLAYHEAD","OMIDPARTNER","PAGEURL","PLACEMENTTYPE","PLAYERCAPABILITIES","PLAYERSIZE","PLAYERSTATE","PODSEQUENCE","REGULATIONS","SERVERSIDE","SERVERUA","TRANSACTIONID","UNIVERSALADID","VASTVERSIONS","VERIFICATIONVENDORS"];function t7(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const n=[],s=vZ(t);!e.ERRORCODE||i.isCustomCode||/^[0-9]{3}$/.test(e.ERRORCODE)||(e.ERRORCODE=900),e.CACHEBUSTING=SZ(Math.round(1e8*Math.random())),e.TIMESTAMP=new Date().toISOString(),e.RANDOM=e.random=e.CACHEBUSTING;for(const r in e)e[r]=AZ(e[r]);for(const r in s){const a=s[r];typeof a=="string"&&n.push(bZ(a,e))}return n}function bZ(t,e){const i=(t=i7(t,e)).match(/[^[\]]+(?=])/g);if(!i)return t;let n=i.filter(s=>J4e.indexOf(s)>-1);return n.length===0?t:(n=n.reduce((s,r)=>(s[r]=-1,s),{}),i7(t,n))}function i7(t,e){let i=t;for(const n in e){const s=e[n];i=i.replace(new RegExp("(?:\\[|%%)(".concat(n,")(?:\\]|%%)"),"g"),s)}return i}function vZ(t){return Array.isArray(t)?t.map(e=>e&&e.hasOwnProperty("url")?e.url:e):t}function n7(t){return/^(https?:\/\/|\/\/)/.test(t)}function s7(t,e){for(let i=0;i<e.length;i++)if(EZ(e[i],t))return!0;return!1}function EZ(t,e){if(t&&e){const i=Object.getOwnPropertyNames(t),n=Object.getOwnPropertyNames(e);return i.length===n.length&&t.id===e.id&&t.url===e.url}return!1}function AZ(t){return encodeURIComponent(t).replace(/[!'()*]/g,e=>"%".concat(e.charCodeAt(0).toString(16)))}function SZ(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:8;return t.toString().padStart(e,"0")}const zt={track:function(t,e,i){t7(t,e,i).forEach(n=>{typeof window<"u"&&window!==null&&(new Image().src=n)})},resolveURLTemplates:t7,extractURLsFromTemplates:vZ,filterUrlTemplates:function(t){return t.reduce((e,i)=>{const n=i.url||i;return n7(n)?e.validUrls.push(n):e.invalidUrls.push(n),e},{validUrls:[],invalidUrls:[]})},containsTemplateObject:s7,isTemplateObjectEqual:EZ,encodeURIComponentRFC3986:AZ,replaceUrlMacros:bZ,isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},flatten:function t(e){return e.reduce((i,n)=>i.concat(Array.isArray(n)?t(n):n),[])},joinArrayOfUniqueTemplateObjs:function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];const i=Array.isArray(t)?t:[],n=Array.isArray(e)?e:[];return i.concat(n).reduce((s,r)=>(s7(r,s)||s.push(r),s),[])},isValidTimeValue:function(t){return Number.isFinite(t)&&t>=-2},addLeadingZeros:SZ,isValidUrl:n7,isBrowserEnvironment:function(){return typeof window<"u"},formatMacrosValues:function(t){return typeof t!="object"?t:JSON.stringify(t)}};function r7(t){return["true","TRUE","True","1"].includes(t)}function j4e(t){if(t==null)return-1;if(zt.isNumeric(t))return parseInt(t);const e=t.split(":");if(e.length!==3)return-1;const i=e[2].split(".");let n=parseInt(i[0]);i.length===2&&(n+=parseFloat("0.".concat(i[1])));const s=parseInt(60*e[1]),r=parseInt(60*e[0]*60);return isNaN(r)||isNaN(s)||isNaN(n)||s>3600||n>60?-1:r+s+n}const Ee={childByName:function(t,e){return Array.from(t.childNodes).find(i=>i.nodeName===e)},childrenByName:function(t,e){return Array.from(t.childNodes).filter(i=>i.nodeName===e)},resolveVastAdTagURI:function(t,e){if(!e)return t;if(t.startsWith("//")){const{protocol:i}=location;return"".concat(i).concat(t)}if(!t.includes("://")){const i=e.slice(0,e.lastIndexOf("/"));return"".concat(i,"/").concat(t)}return t},parseBoolean:r7,parseNodeText:function(t){return t&&(t.textContent||t.text||"").trim()},copyNodeAttribute:function(t,e,i){const n=e.getAttribute(t);n&&i.setAttribute(t,n)},parseAttributes:function(t){return Array.from(t.attributes).reduce((e,i)=>(e[i.nodeName]=i.nodeValue,e),{})},parseDuration:j4e,getStandAloneAds:function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).filter(t=>!parseInt(t.sequence,10))},getSortedAdPods:function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).filter(t=>parseInt(t.sequence,10)).sort((t,e)=>t.sequence-e.sequence)},assignAttributes:function(t,e){t&&Array.from(t).forEach(i=>{let{nodeName:n,nodeValue:s}=i;if(n&&s&&e.hasOwnProperty(n)){let r=s;typeof e[n]=="boolean"&&(r=r7(r)),e[n]=r}})},mergeWrapperAdData:function(t,e){var i;t.errorURLTemplates=e.errorURLTemplates.concat(t.errorURLTemplates),t.impressionURLTemplates=e.impressionURLTemplates.concat(t.impressionURLTemplates),t.extensions=e.extensions.concat(t.extensions),e.viewableImpression.length>0&&(t.viewableImpression=[...t.viewableImpression,...e.viewableImpression]),t.followAdditionalWrappers=e.followAdditionalWrappers,t.allowMultipleAds=e.allowMultipleAds,t.fallbackOnNoAd=e.fallbackOnNoAd;const n=(e.creatives||[]).filter(o=>o&&o.type==="companion"),s=n.reduce((o,l)=>((l.variations||[]).forEach(c=>{(c.companionClickTrackingURLTemplates||[]).forEach(u=>{zt.containsTemplateObject(u,o)||o.push(u)})}),o),[]);t.creatives=n.concat(t.creatives);const r=e.videoClickTrackingURLTemplates&&e.videoClickTrackingURLTemplates.length,a=e.videoCustomClickURLTemplates&&e.videoCustomClickURLTemplates.length;if(t.creatives.forEach(o=>{if(e.trackingEvents&&e.trackingEvents[o.type])for(const l in e.trackingEvents[o.type]){const c=e.trackingEvents[o.type][l];Array.isArray(o.trackingEvents[l])||(o.trackingEvents[l]=[]),o.trackingEvents[l]=o.trackingEvents[l].concat(c)}o.type==="linear"&&(r&&(o.videoClickTrackingURLTemplates=o.videoClickTrackingURLTemplates.concat(e.videoClickTrackingURLTemplates)),a&&(o.videoCustomClickURLTemplates=o.videoCustomClickURLTemplates.concat(e.videoCustomClickURLTemplates)),!e.videoClickThroughURLTemplate||o.videoClickThroughURLTemplate!==null&&o.videoClickThroughURLTemplate!==void 0||(o.videoClickThroughURLTemplate=e.videoClickThroughURLTemplate)),o.type==="companion"&&s.length&&(o.variations||[]).forEach(l=>{l.companionClickTrackingURLTemplates=zt.joinArrayOfUniqueTemplateObjs(l.companionClickTrackingURLTemplates,s)})}),e.adVerifications&&(t.adVerifications=t.adVerifications.concat(e.adVerifications)),e.blockedAdCategories&&(t.blockedAdCategories=t.blockedAdCategories.concat(e.blockedAdCategories)),(i=e.creatives)!==null&&i!==void 0&&i.length){const o=e.creatives.filter(l=>{var c;return((c=l.icons)===null||c===void 0?void 0:c.length)&&!l.mediaFiles.length});o.length&&(t.creatives=t.creatives.concat(o))}}};function H4e(t,e){const i=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:s,adId:r,sequence:a,apiFramework:o}=JR(n);return{id:s,adId:r,sequence:a,apiFramework:o,type:"companion",required:null,variations:[]}}(e);return i.required=t.getAttribute("required")||null,i.variations=Ee.childrenByName(t,"Companion").map(n=>{const s=function(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{id:o.id||null,adType:"companionAd",width:o.width||0,height:o.height||0,assetWidth:o.assetWidth||null,assetHeight:o.assetHeight||null,expandedWidth:o.expandedWidth||null,expandedHeight:o.expandedHeight||null,apiFramework:o.apiFramework||null,adSlotId:o.adSlotId||null,pxratio:o.pxratio||"1",renderingMode:o.renderingMode||"default",staticResources:[],htmlResources:[],iframeResources:[],adParameters:null,altText:null,companionClickThroughURLTemplate:null,companionClickTrackingURLTemplates:[],trackingEvents:{}}}(Ee.parseAttributes(n));s.htmlResources=Ee.childrenByName(n,"HTMLResource").reduce((o,l)=>{const c=Ee.parseNodeText(l);return c?o.concat(c):o},[]),s.iframeResources=Ee.childrenByName(n,"IFrameResource").reduce((o,l)=>{const c=Ee.parseNodeText(l);return c?o.concat(c):o},[]),s.staticResources=Ee.childrenByName(n,"StaticResource").reduce((o,l)=>{const c=Ee.parseNodeText(l);return c?o.concat({url:c,creativeType:l.getAttribute("creativeType")||null}):o},[]),s.altText=Ee.parseNodeText(Ee.childByName(n,"AltText"))||null;const r=Ee.childByName(n,"TrackingEvents");r&&Ee.childrenByName(r,"Tracking").forEach(o=>{const l=o.getAttribute("event"),c=Ee.parseNodeText(o);l&&c&&(Array.isArray(s.trackingEvents[l])||(s.trackingEvents[l]=[]),s.trackingEvents[l].push(c))}),s.companionClickTrackingURLTemplates=Ee.childrenByName(n,"CompanionClickTracking").map(o=>({id:o.getAttribute("id")||null,url:Ee.parseNodeText(o)})),s.companionClickThroughURLTemplate=Ee.parseNodeText(Ee.childByName(n,"CompanionClickThrough"))||null;const a=Ee.childByName(n,"AdParameters");return a&&(s.adParameters={value:Ee.parseNodeText(a),xmlEncoded:a.getAttribute("xmlEncoded")||null}),s}),i}function Q4e(t,e){let i;const n=function(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:c,adId:u,sequence:d,apiFramework:h}=JR(l);return{id:c,adId:u,sequence:d,apiFramework:h,type:"linear",duration:0,skipDelay:null,mediaFiles:[],mezzanine:null,interactiveCreativeFile:null,closedCaptionFiles:[],videoClickThroughURLTemplate:null,videoClickTrackingURLTemplates:[],videoCustomClickURLTemplates:[],adParameters:null,icons:[],trackingEvents:{}}}(e);n.duration=Ee.parseDuration(Ee.parseNodeText(Ee.childByName(t,"Duration")));const s=t.getAttribute("skipoffset");if(s==null)n.skipDelay=null;else if(s.charAt(s.length-1)==="%"&&n.duration!==-1){const l=parseInt(s,10);n.skipDelay=n.duration*(l/100)}else n.skipDelay=Ee.parseDuration(s);const r=Ee.childByName(t,"VideoClicks");if(r){const l=Ee.childByName(r,"ClickThrough");n.videoClickThroughURLTemplate=l?{id:l.getAttribute("id")||null,url:Ee.parseNodeText(l)}:null,Ee.childrenByName(r,"ClickTracking").forEach(c=>{n.videoClickTrackingURLTemplates.push({id:c.getAttribute("id")||null,url:Ee.parseNodeText(c)})}),Ee.childrenByName(r,"CustomClick").forEach(c=>{n.videoCustomClickURLTemplates.push({id:c.getAttribute("id")||null,url:Ee.parseNodeText(c)})})}const a=Ee.childByName(t,"AdParameters");a&&(n.adParameters={value:Ee.parseNodeText(a),xmlEncoded:a.getAttribute("xmlEncoded")||null}),Ee.childrenByName(t,"TrackingEvents").forEach(l=>{Ee.childrenByName(l,"Tracking").forEach(c=>{let u=c.getAttribute("event");const d=Ee.parseNodeText(c);if(u&&d){if(u==="progress"){if(i=c.getAttribute("offset"),!i)return;u=i.charAt(i.length-1)==="%"?"progress-".concat(i):"progress-".concat(Ee.parseDuration(i))}Array.isArray(n.trackingEvents[u])||(n.trackingEvents[u]=[]),n.trackingEvents[u].push(d)}})}),Ee.childrenByName(t,"MediaFiles").forEach(l=>{Ee.childrenByName(l,"MediaFile").forEach(f=>{n.mediaFiles.push(function(p){const m={id:null,fileURL:null,fileSize:0,deliveryType:"progressive",mimeType:null,mediaType:null,codec:null,bitrate:0,minBitrate:0,maxBitrate:0,width:0,height:0,apiFramework:null,scalable:null,maintainAspectRatio:null};m.id=p.getAttribute("id"),m.fileURL=Ee.parseNodeText(p),m.deliveryType=p.getAttribute("delivery"),m.codec=p.getAttribute("codec"),m.mimeType=p.getAttribute("type"),m.mediaType=p.getAttribute("mediaType")||"2D",m.apiFramework=p.getAttribute("apiFramework"),m.fileSize=parseInt(p.getAttribute("fileSize")||0),m.bitrate=parseInt(p.getAttribute("bitrate")||0),m.minBitrate=parseInt(p.getAttribute("minBitrate")||0),m.maxBitrate=parseInt(p.getAttribute("maxBitrate")||0),m.width=parseInt(p.getAttribute("width")||0),m.height=parseInt(p.getAttribute("height")||0);const v=p.getAttribute("scalable");v&&typeof v=="string"&&(m.scalable=Ee.parseBoolean(v));const g=p.getAttribute("maintainAspectRatio");return g&&typeof g=="string"&&(m.maintainAspectRatio=Ee.parseBoolean(g)),m}(f))});const c=Ee.childByName(l,"InteractiveCreativeFile");c&&(n.interactiveCreativeFile=function(f){const p=function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{type:m.type||null,apiFramework:m.apiFramework||null,variableDuration:Ee.parseBoolean(m.variableDuration),fileURL:null}}(Ee.parseAttributes(f));return p.fileURL=Ee.parseNodeText(f),p}(c));const u=Ee.childByName(l,"ClosedCaptionFiles");u&&Ee.childrenByName(u,"ClosedCaptionFile").forEach(f=>{const p=function(){let m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{type:m.type||null,language:m.language||null,fileURL:null}}(Ee.parseAttributes(f));p.fileURL=Ee.parseNodeText(f),n.closedCaptionFiles.push(p)});const d=Ee.childByName(l,"Mezzanine"),h=function(f,p){const m={};let v=!1;return p.forEach(g=>{f&&f.getAttribute(g)?m[g]=f.getAttribute(g):v=!0}),v?null:m}(d,["delivery","type","width","height"]);if(h){const f={id:null,fileURL:null,delivery:null,codec:null,type:null,width:0,height:0,fileSize:0,mediaType:"2D"};f.id=d.getAttribute("id"),f.fileURL=Ee.parseNodeText(d),f.delivery=h.delivery,f.codec=d.getAttribute("codec"),f.type=h.type,f.width=parseInt(h.width,10),f.height=parseInt(h.height,10),f.fileSize=parseInt(d.getAttribute("fileSize"),10),f.mediaType=d.getAttribute("mediaType")||"2D",n.mezzanine=f}});const o=Ee.childByName(t,"Icons");return o&&Ee.childrenByName(o,"Icon").forEach(l=>{n.icons.push(function(c){const u={program:null,height:0,width:0,xPosition:0,yPosition:0,apiFramework:null,offset:null,duration:0,type:null,staticResource:null,htmlResource:null,iframeResource:null,pxratio:"1",iconClickThroughURLTemplate:null,iconClickTrackingURLTemplates:[],iconViewTrackingURLTemplate:null,iconClickFallbackImages:[],altText:null,hoverText:null};u.program=c.getAttribute("program"),u.height=parseInt(c.getAttribute("height")||0),u.width=parseInt(c.getAttribute("width")||0),u.xPosition=function(h){return["left","right"].indexOf(h)!==-1?h:parseInt(h||0)}(c.getAttribute("xPosition")),u.yPosition=function(h){return["top","bottom"].indexOf(h)!==-1?h:parseInt(h||0)}(c.getAttribute("yPosition")),u.apiFramework=c.getAttribute("apiFramework"),u.pxratio=c.getAttribute("pxratio")||"1",u.offset=Ee.parseDuration(c.getAttribute("offset")),u.duration=Ee.parseDuration(c.getAttribute("duration")),u.altText=c.getAttribute("altText"),u.hoverText=c.getAttribute("hoverText"),Ee.childrenByName(c,"HTMLResource").forEach(h=>{u.type=h.getAttribute("creativeType")||"text/html",u.htmlResource=Ee.parseNodeText(h)}),Ee.childrenByName(c,"IFrameResource").forEach(h=>{u.type=h.getAttribute("creativeType")||0,u.iframeResource=Ee.parseNodeText(h)}),Ee.childrenByName(c,"StaticResource").forEach(h=>{u.type=h.getAttribute("creativeType")||0,u.staticResource=Ee.parseNodeText(h)});const d=Ee.childByName(c,"IconClicks");if(d){u.iconClickThroughURLTemplate=Ee.parseNodeText(Ee.childByName(d,"IconClickThrough")),Ee.childrenByName(d,"IconClickTracking").forEach(f=>{u.iconClickTrackingURLTemplates.push({id:f.getAttribute("id")||null,url:Ee.parseNodeText(f)})});const h=Ee.childByName(d,"IconClickFallbackImages");h&&Ee.childrenByName(h,"IconClickFallbackImage").forEach(f=>{u.iconClickFallbackImages.push({url:Ee.parseNodeText(f)||null,width:f.getAttribute("width")||null,height:f.getAttribute("height")||null})})}return u.iconViewTrackingURLTemplate=Ee.parseNodeText(Ee.childByName(c,"IconViewTracking")),u}(l))}),n}function q4e(t,e){const i=function(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{id:s,adId:r,sequence:a,apiFramework:o}=JR(n);return{id:s,adId:r,sequence:a,apiFramework:o,type:"nonlinear",variations:[],trackingEvents:{}}}(e);return Ee.childrenByName(t,"TrackingEvents").forEach(n=>{let s,r;Ee.childrenByName(n,"Tracking").forEach(a=>{s=a.getAttribute("event"),r=Ee.parseNodeText(a),s&&r&&(Array.isArray(i.trackingEvents[s])||(i.trackingEvents[s]=[]),i.trackingEvents[s].push(r))})}),Ee.childrenByName(t,"NonLinear").forEach(n=>{const s={id:null,width:0,height:0,expandedWidth:0,expandedHeight:0,scalable:!0,maintainAspectRatio:!0,minSuggestedDuration:0,apiFramework:"static",adType:"nonLinearAd",type:null,staticResource:null,htmlResource:null,iframeResource:null,nonlinearClickThroughURLTemplate:null,nonlinearClickTrackingURLTemplates:[],adParameters:null};s.id=n.getAttribute("id")||null,s.width=n.getAttribute("width"),s.height=n.getAttribute("height"),s.expandedWidth=n.getAttribute("expandedWidth"),s.expandedHeight=n.getAttribute("expandedHeight"),s.scalable=Ee.parseBoolean(n.getAttribute("scalable")),s.maintainAspectRatio=Ee.parseBoolean(n.getAttribute("maintainAspectRatio")),s.minSuggestedDuration=Ee.parseDuration(n.getAttribute("minSuggestedDuration")),s.apiFramework=n.getAttribute("apiFramework"),Ee.childrenByName(n,"HTMLResource").forEach(a=>{s.type=a.getAttribute("creativeType")||"text/html",s.htmlResource=Ee.parseNodeText(a)}),Ee.childrenByName(n,"IFrameResource").forEach(a=>{s.type=a.getAttribute("creativeType")||0,s.iframeResource=Ee.parseNodeText(a)}),Ee.childrenByName(n,"StaticResource").forEach(a=>{s.type=a.getAttribute("creativeType")||0,s.staticResource=Ee.parseNodeText(a)});const r=Ee.childByName(n,"AdParameters");r&&(s.adParameters={value:Ee.parseNodeText(r),xmlEncoded:r.getAttribute("xmlEncoded")||null}),s.nonlinearClickThroughURLTemplate=Ee.parseNodeText(Ee.childByName(n,"NonLinearClickThrough")),Ee.childrenByName(n,"NonLinearClickTracking").forEach(a=>{s.nonlinearClickTrackingURLTemplates.push({id:a.getAttribute("id")||null,url:Ee.parseNodeText(a)})}),i.variations.push(s)}),i}function a7(t){const e=[];return t.forEach(i=>{const n=TZ(i);n&&e.push(n)}),e}function TZ(t){if(t.nodeName==="#comment")return null;const e={name:null,value:null,attributes:{},children:[]},i=t.attributes,n=t.childNodes;if(e.name=t.nodeName,t.attributes){for(const r in i)if(i.hasOwnProperty(r)){const a=i[r];a.nodeName&&a.nodeValue&&(e.attributes[a.nodeName]=a.nodeValue)}}for(const r in n)if(n.hasOwnProperty(r)){const a=TZ(n[r]);a&&e.children.push(a)}if(e.children.length===0||e.children.length===1&&["#cdata-section","#text"].indexOf(e.children[0].name)>=0){const r=Ee.parseNodeText(t);r!==""&&(e.value=r),e.children=[]}return(s=e).value===null&&Object.keys(s.attributes).length===0&&s.children.length===0?null:e;var s}function e9e(t){return t.getAttribute("AdID")||t.getAttribute("adID")||t.getAttribute("adId")||null}const j1={Wrapper:{subElements:["VASTAdTagURI","Impression"]},BlockedAdCategories:{attributes:["authority"]},InLine:{subElements:["AdSystem","AdTitle","Impression","AdServingId","Creatives"]},Category:{attributes:["authority"]},Pricing:{attributes:["model","currency"]},Verification:{oneOfinLineResources:["JavaScriptResource","ExecutableResource"],attributes:["vendor"]},UniversalAdId:{attributes:["idRegistry"]},JavaScriptResource:{attributes:["apiFramework","browserOptional"]},ExecutableResource:{attributes:["apiFramework","type"]},Tracking:{attributes:["event"]},Creatives:{subElements:["Creative"]},Creative:{subElements:["UniversalAdId"]},Linear:{subElements:["MediaFiles","Duration"]},MediaFiles:{subElements:["MediaFile"]},MediaFile:{attributes:["delivery","type","width","height"]},Mezzanine:{attributes:["delivery","type","width","height"]},NonLinear:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},Companion:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"],attributes:["width","height"]},StaticResource:{attributes:["creativeType"]},Icons:{subElements:["Icon"]},Icon:{oneOfinLineResources:["StaticResource","IFrameResource","HTMLResource"]}};function o7(t,e){if(!j1[t.nodeName]||!j1[t.nodeName].attributes)return;const i=j1[t.nodeName].attributes.filter(n=>!t.getAttribute(n));i.length>0&&Bp({name:t.nodeName,parentName:t.parentNode.nodeName,attributes:i},e)}function l7(t,e,i){const n=j1[t.nodeName],s=!i&&t.nodeName!=="Wrapper";if(!(!n||s)){if(n.subElements){const r=n.subElements.filter(a=>!Ee.childByName(t,a));r.length>0&&Bp({name:t.nodeName,parentName:t.parentNode.nodeName,subElements:r},e)}!i||!n.oneOfinLineResources||n.oneOfinLineResources.some(r=>Ee.childByName(t,r))||Bp({name:t.nodeName,parentName:t.parentNode.nodeName,oneOfResources:n.oneOfinLineResources},e)}}function c7(t){return t.children&&t.children.length!==0}function Bp(t,e){let{name:i,parentName:n,attributes:s,subElements:r,oneOfResources:a}=t,o="Element '".concat(i,"'");o+=s?" missing required attribute(s) '".concat(s.join(", "),"' "):r?" missing required sub element(s) '".concat(r.join(", "),"' "):a?" must provide one of the following '".concat(a.join(", "),"' "):" is empty",e("VAST-warning",{message:o,parentElement:n,specVersion:4.1})}const t9e={verifyRequiredValues:function t(e,i,n){if(e&&e.nodeName)if(e.nodeName==="InLine"&&(n=!0),o7(e,i),c7(e)){l7(e,i,n);for(let s=0;s<e.children.length;s++)t(e.children[s],i,n)}else Ee.parseNodeText(e).length===0&&Bp({name:e.nodeName,parentName:e.parentNode.nodeName},i)},hasSubElements:c7,emitMissingValueWarning:Bp,verifyRequiredAttributes:o7,verifyRequiredSubElements:l7};function i9e(t,e){let{allowMultipleAds:i,followAdditionalWrappers:n}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const s=Array.from(t.childNodes).filter(r=>{const a=r.nodeName.toLowerCase();return a==="inline"||n!==!1&&a==="wrapper"});for(const r of s){if(Ee.copyNodeAttribute("id",t,r),Ee.copyNodeAttribute("sequence",t,r),Ee.copyNodeAttribute("adType",t,r),r.nodeName==="Wrapper")return{ad:s9e(r,e),type:"WRAPPER"};if(r.nodeName==="InLine")return{ad:n9e(r,e,{allowMultipleAds:i}),type:"INLINE"};const a=r.nodeName.toLowerCase();e("VAST-warning",{message:"<".concat(r.nodeName,a==="inline"?"> must be written <InLine>":"> must be written <Wrapper>"),wrongNode:r})}}function n9e(t,e){let{allowMultipleAds:i}=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return i===!1&&t.getAttribute("sequence")?null:CZ(t,e)}function CZ(t,e){let i=[];e&&t9e.verifyRequiredValues(t,e);const n=Array.from(t.childNodes),s=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{id:r.id||null,sequence:r.sequence||null,adType:r.adType||null,adServingId:null,categories:[],expires:null,viewableImpression:[],system:null,title:null,description:null,advertiser:null,pricing:null,survey:null,errorURLTemplates:[],impressionURLTemplates:[],creatives:[],extensions:[],adVerifications:[],blockedAdCategories:[],followAdditionalWrappers:!0,allowMultipleAds:!1,fallbackOnNoAd:null}}(Ee.parseAttributes(t));return n.forEach(r=>{switch(r.nodeName){case"Error":s.errorURLTemplates.push(Ee.parseNodeText(r));break;case"Impression":s.impressionURLTemplates.push({id:r.getAttribute("id")||null,url:Ee.parseNodeText(r)});break;case"Creatives":s.creatives=function(a){const o=[];return a.forEach(l=>{const c={id:l.getAttribute("id")||null,adId:e9e(l),sequence:l.getAttribute("sequence")||null,apiFramework:l.getAttribute("apiFramework")||null},u=[];let d;Ee.childrenByName(l,"UniversalAdId").forEach(f=>{const p={idRegistry:f.getAttribute("idRegistry")||"unknown",value:Ee.parseNodeText(f)};u.push(p)});const h=Ee.childByName(l,"CreativeExtensions");h&&(d=a7(Ee.childrenByName(h,"CreativeExtension")));for(const f in l.childNodes){const p=l.childNodes[f];let m;switch(p.nodeName){case"Linear":m=Q4e(p,c);break;case"NonLinearAds":m=q4e(p,c);break;case"CompanionAds":m=H4e(p,c)}m&&(u&&(m.universalAdIds=u),d&&(m.creativeExtensions=d),o.push(m))}}),o}(Ee.childrenByName(r,"Creative"));break;case"Extensions":{const a=Ee.childrenByName(r,"Extension");s.extensions=a7(a),s.adVerifications.length||(i=function(o){let l=null,c=[];return o.some(u=>l=Ee.childByName(u,"AdVerifications")),l&&(c=u7(Ee.childrenByName(l,"Verification"))),c}(a));break}case"AdVerifications":s.adVerifications=u7(Ee.childrenByName(r,"Verification"));break;case"AdSystem":s.system={value:Ee.parseNodeText(r),version:r.getAttribute("version")||null};break;case"AdTitle":s.title=Ee.parseNodeText(r);break;case"AdServingId":s.adServingId=Ee.parseNodeText(r);break;case"Category":s.categories.push({authority:r.getAttribute("authority")||null,value:Ee.parseNodeText(r)});break;case"Expires":s.expires=parseInt(Ee.parseNodeText(r),10);break;case"ViewableImpression":s.viewableImpression.push(function(a){const o=(l,c)=>{const u=Ee.parseNodeText(c);return u&&l.push(u),l};return{id:a.getAttribute("id")||null,viewable:Ee.childrenByName(a,"Viewable").reduce(o,[]),notViewable:Ee.childrenByName(a,"NotViewable").reduce(o,[]),viewUndetermined:Ee.childrenByName(a,"ViewUndetermined").reduce(o,[])}}(r));break;case"Description":s.description=Ee.parseNodeText(r);break;case"Advertiser":s.advertiser={id:r.getAttribute("id")||null,value:Ee.parseNodeText(r)};break;case"Pricing":s.pricing={value:Ee.parseNodeText(r),model:r.getAttribute("model")||null,currency:r.getAttribute("currency")||null};break;case"Survey":s.survey={value:Ee.parseNodeText(r),type:r.getAttribute("type")||null};break;case"BlockedAdCategories":s.blockedAdCategories.push({authority:r.getAttribute("authority")||null,value:Ee.parseNodeText(r)})}}),i.length&&(s.adVerifications=s.adVerifications.concat(i)),s}function s9e(t,e){const i=CZ(t,e),n=t.getAttribute("followAdditionalWrappers"),s=t.getAttribute("allowMultipleAds"),r=t.getAttribute("fallbackOnNoAd");i.followAdditionalWrappers=!n||Ee.parseBoolean(n),i.allowMultipleAds=!!s&&Ee.parseBoolean(s),i.fallbackOnNoAd=r?Ee.parseBoolean(r):null;let a=Ee.childByName(t,"VASTAdTagURI");if(a?i.nextWrapperURL=Ee.parseNodeText(a):(a=Ee.childByName(t,"VASTAdTagURL"),a&&(i.nextWrapperURL=Ee.parseNodeText(Ee.childByName(a,"URL")))),i.creatives.forEach(o=>{if(["linear","nonlinear"].includes(o.type)){if(o.trackingEvents){i.trackingEvents||(i.trackingEvents={}),i.trackingEvents[o.type]||(i.trackingEvents[o.type]={});for(const l in o.trackingEvents){const c=o.trackingEvents[l];Array.isArray(i.trackingEvents[o.type][l])||(i.trackingEvents[o.type][l]=[]),c.forEach(u=>{i.trackingEvents[o.type][l].push(u)})}}o.videoClickTrackingURLTemplates&&(Array.isArray(i.videoClickTrackingURLTemplates)||(i.videoClickTrackingURLTemplates=[]),o.videoClickTrackingURLTemplates.forEach(l=>{i.videoClickTrackingURLTemplates.push(l)})),o.videoClickThroughURLTemplate&&(i.videoClickThroughURLTemplate=o.videoClickThroughURLTemplate),o.videoCustomClickURLTemplates&&(Array.isArray(i.videoCustomClickURLTemplates)||(i.videoCustomClickURLTemplates=[]),o.videoCustomClickURLTemplates.forEach(l=>{i.videoCustomClickURLTemplates.push(l)}))}}),i.nextWrapperURL)return i}function u7(t){const e=[];return t.forEach(i=>{const n={resource:null,vendor:null,browserOptional:!1,apiFramework:null,type:null,parameters:null,trackingEvents:{}},s=Array.from(i.childNodes);Ee.assignAttributes(i.attributes,n),s.forEach(a=>{let{nodeName:o,textContent:l,attributes:c}=a;switch(o){case"JavaScriptResource":case"ExecutableResource":n.resource=l.trim(),Ee.assignAttributes(c,n);break;case"VerificationParameters":n.parameters=l.trim()}});const r=Ee.childByName(i,"TrackingEvents");r&&Ee.childrenByName(r,"Tracking").forEach(a=>{const o=a.getAttribute("event"),l=Ee.parseNodeText(a);o&&l&&(Array.isArray(n.trackingEvents[o])||(n.trackingEvents[o]=[]),n.trackingEvents[o].push(l))}),e.push(n)}),e}let RZ=class{constructor(){this._handlers=[]}on(e,i){if(typeof i!="function")throw new TypeError("The handler argument must be of type Function. Received type ".concat(typeof i));if(!e)throw new TypeError("The event argument must be of type String. Received type ".concat(typeof e));return this._handlers.push({event:e,handler:i}),this}once(e,i){return this.on(e,function(n,s,r){const a={fired:!1,wrapFn:void 0};function o(){a.fired||(n.off(s,a.wrapFn),a.fired=!0,r.bind(n)(...arguments))}return a.wrapFn=o,o}(this,e,i))}off(e,i){return this._handlers=this._handlers.filter(n=>n.event!==e||n.handler!==i),this}emit(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];let r=!1;return this._handlers.forEach(a=>{a.event==="*"&&(r=!0,a.handler(e,...n)),a.event===e&&(r=!0,a.handler(...n))}),r}removeAllListeners(e){return e?(this._handlers=this._handlers.filter(i=>i.event!==e),this):(this._handlers=[],this)}listenerCount(e){return this._handlers.filter(i=>i.event===e).length}listeners(e){return this._handlers.reduce((i,n)=>(n.event===e&&i.push(n.handler),i),[])}eventNames(){return this._handlers.map(e=>e.event)}},d7=0,ES=0;const IZ=(t,e)=>{!t||!e||t<=0||e<=0||(ES=(ES*d7+8*t/e)/++d7)},r9e={ERRORCODE:900,extensions:[]},h7="VAST response version not supported";class a9e extends RZ{constructor(){let{fetcher:e}=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};super(),this.maxWrapperDepth=null,this.rootErrorURLTemplates=[],this.errorURLTemplates=[],this.remainingAds=[],this.parsingOptions={},this.fetcher=e||null,this.keepFailedAdPod=!1}trackVastError(e,i){for(var n=arguments.length,s=new Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];this.emit("VAST-error",Object.assign({},r9e,i,...s)),zt.track(e,i)}getErrorURLTemplates(){return this.rootErrorURLTemplates.concat(this.errorURLTemplates)}getEstimatedBitrate(){return ES}initParsingStatus(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.maxWrapperDepth=e.wrapperLimit||10,this.parsingOptions={allowMultipleAds:e.allowMultipleAds},this.keepFailedAdPod=e.keepFailedAdPod||!1,this.rootURL="",this.resetParsingStatus(),IZ(e.byteLength,e.requestDuration)}resetParsingStatus(){this.errorURLTemplates=[],this.rootErrorURLTemplates=[],this.vastVersion=null}getRemainingAds(e){if(this.remainingAds.length===0)return Promise.reject(new Error("No more ads are available for the given VAST"));const i=e?this.remainingAds:[this.remainingAds.shift()];return this.errorURLTemplates=[],this.resolveAds(i,{wrapperDepth:0,url:this.rootURL}).then(n=>this.buildVASTResponse(n))}parseVAST(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.initParsingStatus(i),i.isRootVAST=!0,this.parse(e,i).then(n=>this.buildVASTResponse(n))}buildVASTResponse(e){const i=function(n){let{ads:s,errorURLTemplates:r,version:a}=n;return{ads:s||[],errorURLTemplates:r||[],version:a||null}}({ads:e,errorURLTemplates:this.getErrorURLTemplates(),version:this.vastVersion});return this.completeWrapperResolving(i),i}parseVastXml(e,i){let{isRootVAST:n=!1,url:s=null,wrapperDepth:r=0,allowMultipleAds:a,followAdditionalWrappers:o}=i;if(!e||!e.documentElement||e.documentElement.nodeName!=="VAST"){var l;this.emit("VAST-ad-parsed",{type:"ERROR",url:s,wrapperDepth:r});const h=(e==null||(l=e.documentElement)===null||l===void 0?void 0:l.nodeName)==="VideoAdServingTemplate";throw new Error(h?h7:"Invalid VAST XMLDocument")}const c=[],u=e.documentElement.childNodes,d=e.documentElement.getAttribute("version");n&&d&&(this.vastVersion=d);for(const h in u){const f=u[h];if(f.nodeName==="Error"){const p=Ee.parseNodeText(f);n?this.rootErrorURLTemplates.push(p):this.errorURLTemplates.push(p)}else if(f.nodeName==="Ad"){if(this.vastVersion&&parseFloat(this.vastVersion)<3)a=!0;else if(a===!1&&c.length>1)break;const p=i9e(f,this.emit.bind(this),{allowMultipleAds:a,followAdditionalWrappers:o});p.ad?(c.push(p.ad),this.emit("VAST-ad-parsed",{type:p.type,url:s,wrapperDepth:r,adIndex:c.length-1,vastVersion:d})):this.trackVastError(this.getErrorURLTemplates(),{ERRORCODE:101})}}return c}parse(e){let{url:i=null,resolveAll:n=!0,wrapperSequence:s=null,previousUrl:r=null,wrapperDepth:a=0,isRootVAST:o=!1,followAdditionalWrappers:l,allowMultipleAds:c}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},u=[];this.vastVersion&&parseFloat(this.vastVersion)<3&&o&&(c=!0);try{u=this.parseVastXml(e,{isRootVAST:o,url:i,wrapperDepth:a,allowMultipleAds:c,followAdditionalWrappers:l})}catch(d){return Promise.reject(d)}if(u.length===1&&s!=null&&(u[0].sequence=s),n===!1){const d=Ee.getSortedAdPods(u),h=Ee.getStandAloneAds(u);d.length?u=d:h.length&&(u=[h.shift()]),this.remainingAds=h}return this.resolveAds(u,{wrapperDepth:a,previousUrl:r,url:i})}resolveAds(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],{wrapperDepth:i,previousUrl:n,url:s}=arguments.length>1?arguments[1]:void 0;const r=[];return n=s,e.forEach(a=>{const o=this.resolveWrappers(a,i,n);r.push(o)}),Promise.all(r).then(a=>zt.flatten(a))}resolveWrappers(e,i,n){const s={...e};return new Promise(r=>{var a;if(i++,!s.nextWrapperURL)return delete s.nextWrapperURL,r(s);if(!this.fetcher)return s.VASTAdTagURI=s.nextWrapperURL,delete s.nextWrapperURL,r(s);if(i>=this.maxWrapperDepth)return s.errorCode=302,delete s.nextWrapperURL,r(s);s.nextWrapperURL=Ee.resolveVastAdTagURI(s.nextWrapperURL,n);const o=(a=this.parsingOptions.allowMultipleAds)!==null&&a!==void 0?a:s.allowMultipleAds,l=s.sequence;this.fetcher.fetchVAST({url:s.nextWrapperURL,emitter:this.emit.bind(this),maxWrapperDepth:this.maxWrapperDepth}).then(c=>this.parse(c,{url:s.nextWrapperURL,previousUrl:n,wrapperSequence:l,wrapperDepth:i,followAdditionalWrappers:s.followAdditionalWrappers,allowMultipleAds:o}).then(u=>{if(delete s.nextWrapperURL,u.length===0)return s.creatives=[],r(s);u.forEach(d=>{d&&Ee.mergeWrapperAdData(d,s)}),r(u)})).catch(c=>{s.errorCode=c.message===h7?102:301,s.errorMessage=c.message,r(s)})})}completeWrapperResolving(e){if(e.ads.length===0)this.trackVastError(e.errorURLTemplates,{ERRORCODE:303});else for(let i=e.ads.length-1;i>=0;i--){const n=e.ads[i],s=!n.creatives.some(r=>{var a,o;return((a=r.mediaFiles)===null||a===void 0?void 0:a.length)>0||((o=r.variations)===null||o===void 0?void 0:o.length)>0});!n.errorCode&&!s||n.VASTAdTagURI||(this.trackVastError(n.errorURLTemplates.concat(e.errorURLTemplates),{ERRORCODE:n.errorCode||303},{ERRORMESSAGE:n.errorMessage||""},{extensions:n.extensions},{system:n.system}),this.keepFailedAdPod&&n.sequence?n.hasFailed=!0:e.ads.splice(i,1))}}}let Ca=null;const o9e={data:{},length:0,getItem(t){return this.data[t]},setItem(t,e){this.data[t]=e,this.length=Object.keys(this.data).length},removeItem(t){delete this.data[t],this.length=Object.keys(this.data).length},clear(){this.data={},this.length=0}};let l9e=class{constructor(){this.storage=this.initStorage()}initStorage(){if(Ca)return Ca;try{Ca=typeof window<"u"&&window!==null?window.localStorage||window.sessionStorage:null}catch{Ca=null}return Ca&&!this.isStorageDisabled(Ca)||(Ca=o9e,Ca.clear()),Ca}isStorageDisabled(e){const i="__VASTStorage__";try{if(e.setItem(i,i),e.getItem(i)!==i)return e.removeItem(i),!0}catch{return!0}return e.removeItem(i),!1}getItem(e){return this.storage.getItem(e)}setItem(e,i){return this.storage.setItem(e,i)}removeItem(e){return this.storage.removeItem(e)}clear(){return this.storage.clear()}};const AS=12e4,c9e={get:async function(t,e){try{const i=new AbortController,n=setTimeout(()=>{throw i.abort(),new Error("URLHandler: Request timed out after ".concat(e.timeout||AS," ms (408)"))},e.timeout||AS),s=await fetch(t,{...e,signal:i.signal,credentials:e.withCredentials?"include":"omit"}).finally(()=>{clearTimeout(n)}),r=function(a){return zt.isBrowserEnvironment()&&window.location.protocol==="https:"&&a.url.includes("http://")?"URLHandler: Cannot go from HTTPS to HTTP.":a.status===200&&a.ok?null:"URLHandler: ".concat(a.statusText," (").concat(a.status,")")}(s);return r?{error:new Error(r),statusCode:s.status}:async function(a){const o=await a.text();let l;return l=zt.isBrowserEnvironment()?new DOMParser:new(await Promise.resolve().then(()=>pIe)).DOMParser,{xml:l.parseFromString(o,"text/xml"),details:{byteLength:o.length,statusCode:a.status,rawXml:o}}}(s)}catch(i){return{error:i,statusCode:i.name==="AbortError"?408:null}}}};let u9e=class{constructor(){this.URLTemplateFilters=[]}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.urlHandler=e.urlHandler||e.urlhandler||c9e,this.fetchingOptions={...e.fetchOptions,timeout:e.timeout||AS,withCredentials:!!e.withCredentials}}addURLTemplateFilter(e){typeof e=="function"&&this.URLTemplateFilters.push(e)}removeLastURLTemplateFilter(){this.URLTemplateFilters.pop()}countURLTemplateFilters(){return this.URLTemplateFilters.length}clearURLTemplateFilters(){this.URLTemplateFilters=[]}async fetchVAST(e){var i;let{url:n,maxWrapperDepth:s,emitter:r,wrapperDepth:a=0,previousUrl:o=null,wrapperAd:l=null}=e;const c=Date.now();this.URLTemplateFilters.forEach(h=>{n=h(n)}),r("VAST-resolving",{url:n,previousUrl:o,wrapperDepth:a,maxWrapperDepth:s,timeout:this.fetchingOptions.timeout,wrapperAd:l});const u=await this.urlHandler.get(n,this.fetchingOptions),d=Math.round(Date.now()-c);if(r("VAST-resolved",{url:n,previousUrl:o,wrapperDepth:a,error:(u==null?void 0:u.error)||null,duration:d,statusCode:(u==null?void 0:u.statusCode)||null,...u==null?void 0:u.details}),IZ(u==null||(i=u.details)===null||i===void 0?void 0:i.byteLength,d),u.error)throw new Error(u.error);return u.xml}},d9e=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new l9e;this.cappingFreeLunch=e,this.cappingMinimumTimeInterval=i,this.fetcher=new u9e,this.vastParser=new a9e({fetcher:this.fetcher}),this.storage=n,this.lastSuccessfulAd===void 0&&(this.lastSuccessfulAd=0),this.totalCalls===void 0&&(this.totalCalls=0),this.totalCallsTimeout===void 0&&(this.totalCallsTimeout=0)}addURLTemplateFilter(e){this.fetcher.addURLTemplateFilter(e)}removeLastURLTemplateFilter(){this.fetcher.removeLastURLTemplateFilter()}countURLTemplateFilters(){return this.fetcher.countURLTemplateFilters()}clearURLTemplateFilters(){this.fetcher.clearURLTemplateFilters()}getParser(){return this.vastParser}get lastSuccessfulAd(){return this.storage.getItem("vast-client-last-successful-ad")}set lastSuccessfulAd(e){this.storage.setItem("vast-client-last-successful-ad",e)}get totalCalls(){return this.storage.getItem("vast-client-total-calls")}set totalCalls(e){this.storage.setItem("vast-client-total-calls",e)}get totalCallsTimeout(){return this.storage.getItem("vast-client-total-calls-timeout")}set totalCallsTimeout(e){this.storage.setItem("vast-client-total-calls-timeout",e)}hasRemainingAds(){return this.vastParser.remainingAds.length>0}getNextAds(e){return this.vastParser.getRemainingAds(e)}parseVAST(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.fetcher.setOptions(i),this.vastParser.parseVAST(e,i)}get(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=Date.now();return i.hasOwnProperty("resolveAll")||(i.resolveAll=!1),this.totalCallsTimeout<n?(this.totalCalls=1,this.totalCallsTimeout=n+36e5):this.totalCalls++,new Promise((s,r)=>{if(this.cappingFreeLunch>=this.totalCalls)return r(new Error("VAST call canceled  FreeLunch capping not reached yet ".concat(this.totalCalls,"/").concat(this.cappingFreeLunch)));const a=n-this.lastSuccessfulAd;if(a<0)this.lastSuccessfulAd=0;else if(a<this.cappingMinimumTimeInterval)return r(new Error("VAST call canceled  (".concat(this.cappingMinimumTimeInterval,")ms minimum interval reached")));this.vastParser.initParsingStatus(i),this.fetcher.setOptions(i),this.vastParser.rootURL=e,this.fetcher.fetchVAST({url:e,emitter:this.vastParser.emit.bind(this.vastParser),maxWrapperDepth:this.vastParser.maxWrapperDepth}).then(o=>(i.previousUrl=e,i.isRootVAST=!0,i.url=e,this.vastParser.parse(o,i).then(l=>{const c=this.vastParser.buildVASTResponse(l);s(c)}))).catch(o=>r(o))})}},h9e=class extends RZ{constructor(e,i,n){var s;let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,a=arguments.length>4&&arguments[4]!==void 0&&arguments[4];super(),this.ad=i,this.creative=n,this.variation=r,this.muted=a,this.impressed=!1,this.skippable=!1,this.trackingEvents={},this.trackedProgressEvents=[],this.lastPercentage=0,this._alreadyTriggeredQuartiles={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"];for(const o in this.creative.trackingEvents){const l=this.creative.trackingEvents[o];this.trackingEvents[o]=l.slice(0)}this.viewableImpressionTrackers=((s=this.ad.viewableImpression)===null||s===void 0?void 0:s.reduce((o,l)=>(o.notViewable.push(...l.notViewable),o.viewUndetermined.push(...l.viewUndetermined),o.viewable.push(...l.viewable),o),{notViewable:[],viewUndetermined:[],viewable:[]}))||{},Object.entries(this.viewableImpressionTrackers).forEach(o=>{let[l,c]=o;c.length&&(this.trackingEvents[l]=c)}),function(o){return o.type==="linear"}(this.creative)?this._initLinearTracking():this._initVariationTracking(),e&&this.on("start",()=>{e.lastSuccessfulAd=Date.now()})}_initLinearTracking(){this.linear=!0,this.skipDelay=this.creative.skipDelay,this.setDuration(this.creative.duration),this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates}_initVariationTracking(){if(this.linear=!1,this.skipDelay=-1,this.variation){for(const e in this.variation.trackingEvents){const i=this.variation.trackingEvents[e];this.trackingEvents[e]?this.trackingEvents[e]=this.trackingEvents[e].concat(i.slice(0)):this.trackingEvents[e]=i.slice(0)}this.variation.adType==="nonLinearAd"?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates,this.setDuration(this.variation.minSuggestedDuration)):function(e){return e.adType==="companionAd"}(this.variation)&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates)}}setDuration(e){zt.isValidTimeValue(e)?(this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}):this.emit("TRACKER-error",{message:"the duration provided is not valid. duration: ".concat(e)})}setProgress(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(!zt.isValidTimeValue(e)||typeof i!="object")return void this.emit("TRACKER-error",{message:"One given setProgress parameter has the wrong type. progress: ".concat(e,", macros: ").concat(zt.formatMacrosValues(i))});const s=this.skipDelay||-1;if(s===-1||this.skippable||(s>e?this.emit("skip-countdown",s-e):(this.skippable=!0,this.emit("skip-countdown",0))),this.assetDuration>0){const r=Math.round(e/this.assetDuration*100),a=[];if(e>0){a.push("start");for(let o=this.lastPercentage;o<r;o++)a.push("progress-".concat(o+1,"%"));a.push("progress-".concat(e));for(const o in this.quartiles)this.isQuartileReached(o,this.quartiles[o],e)&&(a.push(o),this._alreadyTriggeredQuartiles[o]=!0);this.lastPercentage=r}a.forEach(o=>{this.track(o,{macros:i,once:n})}),e<this.progress&&(this.track("rewind",{macros:i}),this.trackedProgressEvents&&this.trackedProgressEvents.splice(0))}this.progress=e}isQuartileReached(e,i,n){let s=!1;return i<=n&&!this._alreadyTriggeredQuartiles[e]&&(s=!0),s}setMuted(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="boolean"&&typeof i=="object"?(this.muted!==e&&this.track(e?"mute":"unmute",{macros:i}),this.muted=e):this.emit("TRACKER-error",{message:"One given setMuted parameter has the wrong type. muted: ".concat(e,", macros: ").concat(zt.formatMacrosValues(i))})}setPaused(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="boolean"&&typeof i=="object"?(this.paused!==e&&this.track(e?"pause":"resume",{macros:i}),this.paused=e):this.emit("TRACKER-error",{message:"One given setPaused parameter has the wrong type. paused: ".concat(e,", macros: ").concat(zt.formatMacrosValues(i))})}setFullscreen(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="boolean"&&typeof i=="object"?(this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen",{macros:i}),this.fullscreen=e):this.emit("TRACKER-error",{message:"One given setFullScreen parameter has the wrong type. fullscreen: ".concat(e,", macros: ").concat(zt.formatMacrosValues(i))})}setExpand(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="boolean"&&typeof i=="object"?(this.expanded!==e&&(this.track(e?"expand":"collapse",{macros:i}),this.track(e?"playerExpand":"playerCollapse",{macros:i})),this.expanded=e):this.emit("TRACKER-error",{message:"One given setExpand parameter has the wrong type. expanded: ".concat(e,", macros: ").concat(zt.formatMacrosValues(i))})}setSkipDelay(e){zt.isValidTimeValue(e)?this.skipDelay=e:this.emit("TRACKER-error",{message:"setSkipDelay parameter does not have a valid value. duration: ".concat(e)})}trackImpression(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.impressed||(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates,e),this.track("creativeView",{macros:e})):this.emit("TRACKER-error",{message:"trackImpression parameter has the wrong type. macros: ".concat(e)})}trackViewableImpression(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];typeof e=="object"?this.track("viewable",{macros:e,once:i}):this.emit("TRACKER-error",{message:"trackViewableImpression given macros has the wrong type. macros: ".concat(e)})}trackNotViewableImpression(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];typeof e=="object"?this.track("notViewable",{macros:e,once:i}):this.emit("TRACKER-error",{message:"trackNotViewableImpression given macros has the wrong type. macros: ".concat(e)})}trackUndeterminedImpression(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];typeof e=="object"?this.track("viewUndetermined",{macros:e,once:i}):this.emit("TRACKER-error",{message:"trackUndeterminedImpression given macros has the wrong type. macros: ".concat(e)})}error(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];typeof e=="object"&&typeof i=="boolean"?this.trackURLs(this.ad.errorURLTemplates,e,{isCustomCode:i}):this.emit("TRACKER-error",{message:"One given error parameter has the wrong type. macros: ".concat(zt.formatMacrosValues(e),", isCustomCode: ").concat(i)})}errorWithCode(e){let i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];typeof e=="string"&&typeof i=="boolean"?(this.error({ERRORCODE:e},i),console.log("The method errorWithCode is deprecated, please use vast tracker error method instead")):this.emit("TRACKER-error",{message:"One given errorWithCode parameter has the wrong type. errorCode: ".concat(e,", isCustomCode: ").concat(i)})}complete(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("complete",{macros:e}):this.emit("TRACKER-error",{message:"complete given macros has the wrong type. macros: ".concat(e)})}notUsed(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?(this.track("notUsed",{macros:e}),this.trackingEvents=[]):this.emit("TRACKER-error",{message:"notUsed given macros has the wrong type. macros: ".concat(e)})}otherAdInteraction(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("otherAdInteraction",{macros:e}):this.emit("TRACKER-error",{message:"otherAdInteraction given macros has the wrong type. macros: ".concat(e)})}acceptInvitation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("acceptInvitation",{macros:e}):this.emit("TRACKER-error",{message:"acceptInvitation given macros has the wrong type. macros: ".concat(e)})}adExpand(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("adExpand",{macros:e}):this.emit("TRACKER-error",{message:"adExpand given macros has the wrong type. macros: ".concat(e)})}adCollapse(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("adCollapse",{macros:e}):this.emit("TRACKER-error",{message:"adCollapse given macros has the wrong type. macros: ".concat(e)})}minimize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("minimize",{macros:e}):this.emit("TRACKER-error",{message:"minimize given macros has the wrong type. macros: ".concat(e)})}verificationNotExecuted(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof e!="string"||typeof i!="object")return void this.emit("TRACKER-error",{message:"One given verificationNotExecuted parameter has to wrong type. vendor: ".concat(e,", macros: ").concat(zt.formatMacrosValues(i))});if(!this.ad||!this.ad.adVerifications||!this.ad.adVerifications.length)throw new Error("No adVerifications provided");if(!e)throw new Error("No vendor provided, unable to find associated verificationNotExecuted");const n=this.ad.adVerifications.find(r=>r.vendor===e);if(!n)throw new Error("No associated verification element found for vendor: ".concat(e));const s=n.trackingEvents;if(s&&s.verificationNotExecuted){const r=s.verificationNotExecuted;this.trackURLs(r,i),this.emit("verificationNotExecuted",{trackingURLTemplates:r})}}overlayViewDuration(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};typeof e=="string"&&typeof i=="object"?(i.ADPLAYHEAD=e,this.track("overlayViewDuration",{macros:i})):this.emit("TRACKER-error",{message:"One given overlayViewDuration parameters has the wrong type. formattedDuration: ".concat(e,", macros: ").concat(zt.formatMacrosValues(i))})}close(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track(this.linear?"closeLinear":"close",{macros:e}):this.emit("TRACKER-error",{message:"close given macros has the wrong type. macros: ".concat(e)})}skip(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("skip",{macros:e}):this.emit("TRACKER-error",{message:"skip given macros has the wrong type. macros: ".concat(e)})}load(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};typeof e=="object"?this.track("loaded",{macros:e}):this.emit("TRACKER-error",{message:"load given macros has the wrong type. macros: ".concat(e)})}click(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==null&&typeof e!="string"||typeof i!="object")return void this.emit("TRACKER-error",{message:"One given click parameter has the wrong type. fallbackClickThroughURL: ".concat(e,", macros: ").concat(zt.formatMacrosValues(i))});this.clickTrackingURLTemplates&&this.clickTrackingURLTemplates.length&&this.trackURLs(this.clickTrackingURLTemplates,i);const n=this.clickThroughURLTemplate||e,s={...i};if(n){this.progress&&(s.ADPLAYHEAD=this.progressFormatted());const r=zt.resolveURLTemplates([n],s)[0];this.emit("clickthrough",r)}}trackProgressEvents(e,i,n){const s=parseFloat(e.split("-")[1]);Object.entries(this.trackingEvents).filter(r=>{let[a]=r;return a.startsWith("progress-")}).map(r=>{let[a,o]=r;return{name:a,time:parseFloat(a.split("-")[1]),urls:o}}).filter(r=>{let{time:a}=r;return a<=s&&a>this.progress}).forEach(r=>{let{name:a,urls:o}=r;!n&&this.trackedProgressEvents.includes(a)||(this.emit(a,{trackingURLTemplates:o}),this.trackURLs(o,i),n?delete this.trackingEvents[a]:this.trackedProgressEvents.push(a))})}track(e){let{macros:i={},once:n=!1}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(typeof i!="object")return void this.emit("TRACKER-error",{message:"track given macros has the wrong type. macros: ".concat(i)});e==="closeLinear"&&!this.trackingEvents[e]&&this.trackingEvents.close&&(e="close"),e.startsWith("progress-")&&!e.endsWith("%")&&this.trackProgressEvents(e,i,n);const s=this.trackingEvents[e],r=this.emitAlwaysEvents.indexOf(e)>-1;s?(this.emit(e,{trackingURLTemplates:s}),this.trackURLs(s,i)):r&&this.emit(e,null),n&&(delete this.trackingEvents[e],r&&this.emitAlwaysEvents.splice(this.emitAlwaysEvents.indexOf(e),1))}trackURLs(e){var i;let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{validUrls:r,invalidUrls:a}=zt.filterUrlTemplates(e);a.length&&this.emit("TRACKER-error",{message:"Provided urls are malformed. url: ".concat(a)});const o={...n};this.linear&&(this.creative&&this.creative.mediaFiles&&this.creative.mediaFiles[0]&&this.creative.mediaFiles[0].fileURL&&(o.ASSETURI=this.creative.mediaFiles[0].fileURL),this.progress&&(o.ADPLAYHEAD=this.progressFormatted())),(i=this.creative)!==null&&i!==void 0&&(i=i.universalAdIds)!==null&&i!==void 0&&i.length&&(o.UNIVERSALADID=this.creative.universalAdIds.map(l=>l.idRegistry.concat(" ",l.value)).join(",")),this.ad&&(this.ad.sequence&&(o.PODSEQUENCE=this.ad.sequence),this.ad.adType&&(o.ADTYPE=this.ad.adType),this.ad.adServingId&&(o.ADSERVINGID=this.ad.adServingId),this.ad.categories&&this.ad.categories.length&&(o.ADCATEGORIES=this.ad.categories.map(l=>l.value).join(",")),this.ad.blockedAdCategories&&this.ad.blockedAdCategories.length&&(o.BLOCKEDADCATEGORIES=this.ad.blockedAdCategories.map(l=>l.value).join(","))),zt.track(r,o,s)}convertToTimecode(e){if(!zt.isValidTimeValue(e))return"";const i=1e3*e,n=Math.floor(i/36e5),s=Math.floor(i/6e4%60),r=Math.floor(i/1e3%60),a=Math.floor(i%1e3);return"".concat(zt.addLeadingZeros(n,2),":").concat(zt.addLeadingZeros(s,2),":").concat(zt.addLeadingZeros(r,2),".").concat(zt.addLeadingZeros(a,3))}progressFormatted(){return this.convertToTimecode(this.progress)}};var Ff;typeof window<"u"?Ff=window:typeof qa<"u"?Ff=qa:typeof self<"u"?Ff=self:Ff={};var Jy=Ff;const K=g0(Jy),f9e={},p9e=Object.freeze(Object.defineProperty({__proto__:null,default:f9e},Symbol.toStringTag,{value:"Module"})),m9e=Xle(p9e);var f7=typeof qa<"u"?qa:typeof window<"u"?window:{},g9e=m9e,Uf;typeof document<"u"?Uf=document:(Uf=f7["__GLOBAL_DOCUMENT_CACHE@4"],Uf||(Uf=f7["__GLOBAL_DOCUMENT_CACHE@4"]=g9e));var wZ=Uf;const Fe=g0(wZ);var jR={exports:{}},_Z={exports:{}};(function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(i){for(var n=1;n<arguments.length;n++){var s=arguments[n];for(var r in s)({}).hasOwnProperty.call(s,r)&&(i[r]=s[r])}return i},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(_Z);var y9e=_Z.exports,b9e=E9e,v9e=Object.prototype.toString;function E9e(t){if(!t)return!1;var e=v9e.call(t);return e==="[object Function]"||typeof t=="function"&&e!=="[object RegExp]"||typeof window<"u"&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)}function A9e(t,e){var i=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(i)return(i=i.call(t)).next.bind(i);if(Array.isArray(t)||(i=S9e(t))||e){i&&(t=i);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S9e(t,e){if(t){if(typeof t=="string")return p7(t,e);var i=Object.prototype.toString.call(t).slice(8,-1);if(i==="Object"&&t.constructor&&(i=t.constructor.name),i==="Map"||i==="Set")return Array.from(t);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return p7(t,e)}}function p7(t,e){(e==null||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var T9e=function(){function t(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.typeToInterceptorsMap_=new Map,this.enabled_=!1},e.addInterceptor=function(n,s){this.typeToInterceptorsMap_.has(n)||this.typeToInterceptorsMap_.set(n,new Set);var r=this.typeToInterceptorsMap_.get(n);return r.has(s)?!1:(r.add(s),!0)},e.removeInterceptor=function(n,s){var r=this.typeToInterceptorsMap_.get(n);return r&&r.has(s)?(r.delete(s),!0):!1},e.clearInterceptorsByType=function(n){var s=this.typeToInterceptorsMap_.get(n);return s?(this.typeToInterceptorsMap_.delete(n),this.typeToInterceptorsMap_.set(n,new Set),!0):!1},e.clear=function(){return this.typeToInterceptorsMap_.size?(this.typeToInterceptorsMap_=new Map,!0):!1},e.getForType=function(n){return this.typeToInterceptorsMap_.get(n)||new Set},e.execute=function(n,s){for(var r=this.getForType(n),a=A9e(r),o;!(o=a()).done;){var l=o.value;try{s=l(s)}catch{}}return s},t}(),C9e=T9e,R9e=function(){function t(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1}var e=t.prototype;return e.getIsEnabled=function(){return this.enabled_},e.enable=function(){this.enabled_=!0},e.disable=function(){this.enabled_=!1},e.reset=function(){this.maxAttempts_=1,this.delayFactor_=.1,this.fuzzFactor_=.1,this.initialDelay_=1e3,this.enabled_=!1},e.getMaxAttempts=function(){return this.maxAttempts_},e.setMaxAttempts=function(n){this.maxAttempts_=n},e.getDelayFactor=function(){return this.delayFactor_},e.setDelayFactor=function(n){this.delayFactor_=n},e.getFuzzFactor=function(){return this.fuzzFactor_},e.setFuzzFactor=function(n){this.fuzzFactor_=n},e.getInitialDelay=function(){return this.initialDelay_},e.setInitialDelay=function(n){this.initialDelay_=n},e.createRetry=function(n){var s=n===void 0?{}:n,r=s.maxAttempts,a=s.delayFactor,o=s.fuzzFactor,l=s.initialDelay;return new I9e({maxAttempts:r||this.maxAttempts_,delayFactor:a||this.delayFactor_,fuzzFactor:o||this.fuzzFactor_,initialDelay:l||this.initialDelay_})},t}(),I9e=function(){function t(i){this.maxAttempts_=i.maxAttempts,this.delayFactor_=i.delayFactor,this.fuzzFactor_=i.fuzzFactor,this.currentDelay_=i.initialDelay,this.currentAttempt_=1}var e=t.prototype;return e.moveToNextAttempt=function(){this.currentAttempt_++;var n=this.currentDelay_*this.delayFactor_;this.currentDelay_=this.currentDelay_+n},e.shouldRetry=function(){return this.currentAttempt_<this.maxAttempts_},e.getCurrentDelay=function(){return this.currentDelay_},e.getCurrentMinPossibleDelay=function(){return(1-this.fuzzFactor_)*this.currentDelay_},e.getCurrentMaxPossibleDelay=function(){return(1+this.fuzzFactor_)*this.currentDelay_},e.getCurrentFuzzedDelay=function(){var n=this.getCurrentMinPossibleDelay(),s=this.getCurrentMaxPossibleDelay();return n+Math.random()*(s-n)},t}(),w9e=R9e,_9e=Jy,x9e=function(e,i){return i===void 0&&(i=!1),function(n,s,r){if(n){e(n);return}if(s.statusCode>=400&&s.statusCode<=599){var a=r;if(i)if(_9e.TextDecoder){var o=N9e(s.headers&&s.headers["content-type"]);try{a=new TextDecoder(o).decode(r)}catch{}}else a=String.fromCharCode.apply(null,new Uint8Array(r));e({cause:a});return}e(null,r)}};function N9e(t){return t===void 0&&(t=""),t.toLowerCase().split(";").reduce(function(e,i){var n=i.split("="),s=n[0],r=n[1];return s.trim()==="charset"?r.trim():e},"utf-8")}var V9e=x9e,xZ=Jy,L9e=y9e,k9e=b9e,NZ=C9e,F9e=w9e;wi.httpHandler=V9e;wi.requestInterceptorsStorage=new NZ;wi.responseInterceptorsStorage=new NZ;wi.retryManager=new F9e;/**
 * @license
 * slighly modified parse-headers 2.0.2 <https://github.com/kesla/parse-headers/>
 * Copyright (c) 2014 David Bjrklund
 * Available under the MIT license
 * <https://github.com/kesla/parse-headers/blob/master/LICENCE>
 */var U9e=function(e){var i={};return e&&e.trim().split(`
`).forEach(function(n){var s=n.indexOf(":"),r=n.slice(0,s).trim().toLowerCase(),a=n.slice(s+1).trim();typeof i[r]>"u"?i[r]=a:Array.isArray(i[r])?i[r].push(a):i[r]=[i[r],a]}),i};jR.exports=wi;jR.exports.default=wi;wi.XMLHttpRequest=xZ.XMLHttpRequest||D9e;wi.XDomainRequest="withCredentials"in new wi.XMLHttpRequest?wi.XMLHttpRequest:xZ.XDomainRequest;B9e(["get","put","post","patch","head","delete"],function(t){wi[t==="delete"?"del":t]=function(e,i,n){return i=VZ(e,i,n),i.method=t.toUpperCase(),HR(i)}});function B9e(t,e){for(var i=0;i<t.length;i++)e(t[i])}function W9e(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}function VZ(t,e,i){var n=t;return k9e(e)?(i=e,typeof t=="string"&&(n={uri:t})):n=L9e({},e,{uri:t}),n.callback=i,n}function wi(t,e,i){return e=VZ(t,e,i),HR(e)}function HR(t){if(typeof t.callback>"u")throw new Error("callback argument missing");if(t.requestType&&wi.requestInterceptorsStorage.getIsEnabled()){var e={uri:t.uri||t.url,headers:t.headers||{},body:t.body,metadata:t.metadata||{},retry:t.retry,timeout:t.timeout},i=wi.requestInterceptorsStorage.execute(t.requestType,e);t.uri=i.uri,t.headers=i.headers,t.body=i.body,t.metadata=i.metadata,t.retry=i.retry,t.timeout=i.timeout}var n=!1,s=function(I,L,F){n||(n=!0,t.callback(I,L,F))};function r(){c.readyState===4&&!wi.responseInterceptorsStorage.getIsEnabled()&&setTimeout(l,0)}function a(){var R=void 0;if(c.response?R=c.response:R=c.responseText||G9e(c),g)try{R=JSON.parse(R)}catch{}return R}function o(R){if(clearTimeout(E),clearTimeout(t.retryTimeout),R instanceof Error||(R=new Error(""+(R||"Unknown XMLHttpRequest Error"))),R.statusCode=0,!d&&wi.retryManager.getIsEnabled()&&t.retry&&t.retry.shouldRetry()){t.retryTimeout=setTimeout(function(){t.retry.moveToNextAttempt(),t.xhr=c,HR(t)},t.retry.getCurrentFuzzedDelay());return}if(t.requestType&&wi.responseInterceptorsStorage.getIsEnabled()){var I={headers:A.headers||{},body:A.body,responseUrl:c.responseURL,responseType:c.responseType},L=wi.responseInterceptorsStorage.execute(t.requestType,I);A.body=L.body,A.headers=L.headers}return s(R,A)}function l(){if(!d){var R;clearTimeout(E),clearTimeout(t.retryTimeout),t.useXDR&&c.status===void 0?R=200:R=c.status===1223?204:c.status;var I=A,L=null;if(R!==0?(I={body:a(),statusCode:R,method:f,headers:{},url:h,rawRequest:c},c.getAllResponseHeaders&&(I.headers=U9e(c.getAllResponseHeaders()))):L=new Error("Internal XMLHttpRequest Error"),t.requestType&&wi.responseInterceptorsStorage.getIsEnabled()){var F={headers:I.headers||{},body:I.body,responseUrl:c.responseURL,responseType:c.responseType},B=wi.responseInterceptorsStorage.execute(t.requestType,F);I.body=B.body,I.headers=B.headers}return s(L,I,I.body)}}var c=t.xhr||null;c||(t.cors||t.useXDR?c=new wi.XDomainRequest:c=new wi.XMLHttpRequest);var u,d,h=c.url=t.uri||t.url,f=c.method=t.method||"GET",p=t.body||t.data,m=c.headers=t.headers||{},v=!!t.sync,g=!1,E,A={body:void 0,headers:{},statusCode:0,method:f,url:h,rawRequest:c};if("json"in t&&t.json!==!1&&(g=!0,m.accept||m.Accept||(m.Accept="application/json"),f!=="GET"&&f!=="HEAD"&&(m["content-type"]||m["Content-Type"]||(m["Content-Type"]="application/json"),p=JSON.stringify(t.json===!0?p:t.json))),c.onreadystatechange=r,c.onload=l,c.onerror=o,c.onprogress=function(){},c.onabort=function(){d=!0,clearTimeout(t.retryTimeout)},c.ontimeout=o,c.open(f,h,!v,t.username,t.password),v||(c.withCredentials=!!t.withCredentials),!v&&t.timeout>0&&(E=setTimeout(function(){if(!d){d=!0,c.abort("timeout");var R=new Error("XMLHttpRequest timeout");R.code="ETIMEDOUT",o(R)}},t.timeout)),c.setRequestHeader)for(u in m)m.hasOwnProperty(u)&&c.setRequestHeader(u,m[u]);else if(t.headers&&!W9e(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(c.responseType=t.responseType),"beforeSend"in t&&typeof t.beforeSend=="function"&&t.beforeSend(c),c.send(p||null),c}function G9e(t){try{if(t.responseType==="document")return t.responseXML;var e=t.responseXML&&t.responseXML.documentElement.nodeName==="parsererror";if(t.responseType===""&&!e)return t.responseXML}catch{}return null}function D9e(){}var M9e=jR.exports;const LZ=g0(M9e);var kZ={exports:{}},m7=wZ,QR=Object.create||function(){function t(){}return function(e){if(arguments.length!==1)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function vs(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}vs.prototype=QR(Error.prototype);vs.prototype.constructor=vs;vs.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}};function qR(t){function e(n,s,r,a){return(n|0)*3600+(s|0)*60+(r|0)+(a|0)/1e3}var i=t.match(/^(\d+):(\d{1,2})(:\d{1,2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function Qf(){this.values=QR(null)}Qf.prototype={set:function(t,e){!this.get(t)&&e!==""&&(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e),e>=0&&e<=100)?(this.set(t,e),!0):!1}};function Bf(t,e,i,n){var s=n?t.split(n):[t];for(var r in s)if(typeof s[r]=="string"){var a=s[r].split(i);if(a.length===2){var o=a[0].trim(),l=a[1].trim();e(o,l)}}}function Z9e(t,e,i){var n=t;function s(){var o=qR(t);if(o===null)throw new vs(vs.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function r(o,l){var c=new Qf;Bf(o,function(u,d){switch(u){case"region":for(var h=i.length-1;h>=0;h--)if(i[h].id===d){c.set(u,i[h].region);break}break;case"vertical":c.alt(u,d,["rl","lr"]);break;case"line":var f=d.split(","),p=f[0];c.integer(u,p),c.percent(u,p)&&c.set("snapToLines",!1),c.alt(u,p,["auto"]),f.length===2&&c.alt("lineAlign",f[1],["start","center","end"]);break;case"position":f=d.split(","),c.percent(u,f[0]),f.length===2&&c.alt("positionAlign",f[1],["start","center","end"]);break;case"size":c.percent(u,d);break;case"align":c.alt(u,d,["start","center","end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");try{l.line=c.get("line","auto")}catch{}l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100);try{l.align=c.get("align","center")}catch{l.align=c.get("align","middle")}try{l.position=c.get("position","auto")}catch{l.position=c.get("position",{start:0,left:0,center:50,middle:50,end:100,right:100},l.align)}l.positionAlign=c.get("positionAlign",{start:"start",left:"start",center:"center",middle:"center",end:"end",right:"end"},l.align)}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=s(),a(),t.substr(0,3)!=="-->")throw new vs(vs.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.substr(3),a(),e.endTime=s(),a(),r(t,e)}var yE=m7.createElement&&m7.createElement("textarea"),P9e={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},g7={white:"rgba(255,255,255,1)",lime:"rgba(0,255,0,1)",cyan:"rgba(0,255,255,1)",red:"rgba(255,0,0,1)",yellow:"rgba(255,255,0,1)",magenta:"rgba(255,0,255,1)",blue:"rgba(0,0,255,1)",black:"rgba(0,0,0,1)"},O9e={v:"title",lang:"lang"},y7={rt:"ruby"};function FZ(t,e){function i(){if(!e)return null;function p(v){return e=e.substr(v.length),v}var m=e.match(/^([^<]*)(<[^>]*>?)?/);return p(m[1]?m[1]:m[2])}function n(p){return yE.innerHTML=p,p=yE.textContent,yE.textContent="",p}function s(p,m){return!y7[m.localName]||y7[m.localName]===p.localName}function r(p,m){var v=P9e[p];if(!v)return null;var g=t.document.createElement(v),E=O9e[p];return E&&m&&(g[E]=m.trim()),g}for(var a=t.document.createElement("div"),o=a,l,c=[];(l=i())!==null;){if(l[0]==="<"){if(l[1]==="/"){c.length&&c[c.length-1]===l.substr(2).replace(">","")&&(c.pop(),o=o.parentNode);continue}var u=qR(l.substr(1,l.length-2)),d;if(u){d=t.document.createProcessingInstruction("timestamp",u),o.appendChild(d);continue}var h=l.match(/^<([^.\s/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!h||(d=r(h[1],h[3]),!d)||!s(o,d))continue;if(h[2]){var f=h[2].split(".");f.forEach(function(p){var m=/^bg_/.test(p),v=m?p.slice(3):p;if(g7.hasOwnProperty(v)){var g=m?"background-color":"color",E=g7[v];d.style[g]=E}}),d.className=f.join(" ")}c.push(h[1]),o.appendChild(d),o=d;continue}o.appendChild(t.document.createTextNode(n(l)))}return a}var b7=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function X9e(t){for(var e=0;e<b7.length;e++){var i=b7[e];if(t>=i[0]&&t<=i[1])return!0}return!1}function Y9e(t){var e=[],i="",n;if(!t||!t.childNodes)return"ltr";function s(o,l){for(var c=l.childNodes.length-1;c>=0;c--)o.push(l.childNodes[c])}function r(o){if(!o||!o.length)return null;var l=o.pop(),c=l.textContent||l.innerText;if(c){var u=c.match(/^.*(\n|\r)/);return u?(o.length=0,u[0]):c}if(l.tagName==="ruby")return r(o);if(l.childNodes)return s(o,l),r(o)}for(s(e,t);i=r(e);)for(var a=0;a<i.length;a++)if(n=i.charCodeAt(a),X9e(n))return"rtl";return"ltr"}function $9e(t){if(typeof t.line=="number"&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,n=0,s=0;s<i.length&&i[s]!==e;s++)i[s].mode==="showing"&&n++;return++n*-1}function jy(){}jy.prototype.applyStyles=function(t,e){e=e||this.div;for(var i in t)t.hasOwnProperty(i)&&(e.style[i]=t[i])};jy.prototype.formatStyle=function(t,e){return t===0?0:t+e};function f2(t,e,i){jy.call(this),this.cue=e,this.cueDiv=FZ(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:Y9e(this.cueDiv),writingMode:e.vertical===""?"horizontal-tb":e.vertical==="lr"?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:e.align==="middle"?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var s=0;switch(e.positionAlign){case"start":case"line-left":s=e.position;break;case"center":s=e.position-e.size/2;break;case"end":case"line-right":s=e.position-e.size;break}e.vertical===""?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(r){this.applyStyles({top:this.formatStyle(r.top,"px"),bottom:this.formatStyle(r.bottom,"px"),left:this.formatStyle(r.left,"px"),right:this.formatStyle(r.right,"px"),height:this.formatStyle(r.height,"px"),width:this.formatStyle(r.width,"px")})}}f2.prototype=QR(jy.prototype);f2.prototype.constructor=f2;function Zn(t){var e,i,n,s;if(t.div){i=t.div.offsetHeight,n=t.div.offsetWidth,s=t.div.offsetTop;var r=(r=t.div.childNodes)&&(r=r[0])&&r.getClientRects&&r.getClientRects();t=t.div.getBoundingClientRect(),e=r?Math.max(r[0]&&r[0].height||0,t.height/r.length):0}this.left=t.left,this.right=t.right,this.top=t.top||s,this.height=t.height||i,this.bottom=t.bottom||s+(t.height||i),this.width=t.width||n,this.lineHeight=e!==void 0?e:t.lineHeight}Zn.prototype.move=function(t,e){switch(e=e!==void 0?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e;break}};Zn.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top};Zn.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1};Zn.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right};Zn.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}};Zn.prototype.intersectPercentage=function(t){var e=Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left)),i=Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top)),n=e*i;return n/(this.height*this.width)};Zn.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}};Zn.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t;var s={left:t.left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||i};return s};function K9e(t,e,i,n){function s(v,g){for(var E,A=new Zn(v),R=1,I=0;I<g.length;I++){for(;v.overlapsOppositeAxis(i,g[I])||v.within(i)&&v.overlapsAny(n);)v.move(g[I]);if(v.within(i))return v;var L=v.intersectPercentage(i);R>L&&(E=new Zn(v),R=L),v=new Zn(A)}return E||A}var r=new Zn(e),a=e.cue,o=$9e(a),l=[];if(a.snapToLines){var c;switch(a.vertical){case"":l=["+y","-y"],c="height";break;case"rl":l=["+x","-x"],c="width";break;case"lr":l=["-x","+x"],c="width";break}var u=r.lineHeight,d=u*Math.round(o),h=i[c]+u,f=l[0];Math.abs(d)>h&&(d=d<0?-1:1,d*=Math.ceil(h/u)*u),o<0&&(d+=a.vertical===""?i.height:i.width,l=l.reverse()),r.move(f,d)}else{var p=r.lineHeight/i.height*100;switch(a.lineAlign){case"center":o-=p/2;break;case"end":o-=p;break}switch(a.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")});break}l=["+y","-x","+x","-y"],r=new Zn(e)}var m=s(r,l);e.move(m.toCSSCompatValues(i))}function Ch(){}Ch.StringDecoder=function(){return{decode:function(t){if(!t)return"";if(typeof t!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}};Ch.convertCueToDOMTree=function(t,e){return!t||!e?null:FZ(t,e)};var z9e=.05,J9e="sans-serif",j9e="1.5%";Ch.processCues=function(t,e,i){if(!t||!e||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var n=t.document.createElement("div");n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin=j9e,i.appendChild(n);function s(u){for(var d=0;d<u.length;d++)if(u[d].hasBeenReset||!u[d].displayState)return!0;return!1}if(!s(e)){for(var r=0;r<e.length;r++)n.appendChild(e[r].displayState);return}var a=[],o=Zn.getSimpleBoxPosition(n),l=Math.round(o.height*z9e*100)/100,c={font:l+"px "+J9e};(function(){for(var u,d,h=0;h<e.length;h++)d=e[h],u=new f2(t,d,c),n.appendChild(u.div),K9e(t,u,o,a),d.displayState=u.div,a.push(Zn.getSimpleBoxPosition(u))})()};Ch.Parser=function(t,e,i){i||(i=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]};Ch.Parser.prototype={reportOrThrowError:function(t){if(t instanceof vs)this.onparsingerror&&this.onparsingerror(t);else throw t},parse:function(t){var e=this;t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));function i(){for(var u=e.buffer,d=0;d<u.length&&u[d]!=="\r"&&u[d]!==`
`;)++d;var h=u.substr(0,d);return u[d]==="\r"&&++d,u[d]===`
`&&++d,e.buffer=u.substr(d),h}function n(u){var d=new Qf;if(Bf(u,function(f,p){switch(f){case"id":d.set(f,p);break;case"width":d.percent(f,p);break;case"lines":d.integer(f,p);break;case"regionanchor":case"viewportanchor":var m=p.split(",");if(m.length!==2)break;var v=new Qf;if(v.percent("x",m[0]),v.percent("y",m[1]),!v.has("x")||!v.has("y"))break;d.set(f+"X",v.get("x")),d.set(f+"Y",v.get("y"));break;case"scroll":d.alt(f,p,["up"]);break}},/=/,/\s/),d.has("id")){var h=new(e.vttjs.VTTRegion||e.window.VTTRegion);h.width=d.get("width",100),h.lines=d.get("lines",3),h.regionAnchorX=d.get("regionanchorX",0),h.regionAnchorY=d.get("regionanchorY",100),h.viewportAnchorX=d.get("viewportanchorX",0),h.viewportAnchorY=d.get("viewportanchorY",100),h.scroll=d.get("scroll",""),e.onregion&&e.onregion(h),e.regionList.push({id:d.get("id"),region:h})}}function s(u){var d=new Qf;Bf(u,function(h,f){switch(h){case"MPEGT":d.integer(h+"S",f);break;case"LOCA":d.set(h+"L",qR(f));break}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:d.get("MPEGTS"),LOCAL:d.get("LOCAL")})}function r(u){u.match(/X-TIMESTAMP-MAP/)?Bf(u,function(d,h){switch(d){case"X-TIMESTAMP-MAP":s(h);break}},/=/):Bf(u,function(d,h){switch(d){case"Region":n(h);break}},/:/)}try{var a;if(e.state==="INITIAL"){if(!/\r\n|\n/.test(e.buffer))return this;a=i();var o=a.match(/^WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new vs(vs.Errors.BadSignature);e.state="HEADER"}for(var l=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(l?l=!1:a=i(),e.state){case"HEADER":/:/.test(a)?r(a):a||(e.state="ID");continue;case"NOTE":a||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(a)){e.state="NOTE";break}if(!a)continue;e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,"");try{e.cue.align="center"}catch{e.cue.align="middle"}if(e.state="CUE",a.indexOf("-->")===-1){e.cue.id=a;continue}case"CUE":try{Z9e(a,e.cue,e.regionList)}catch(u){e.reportOrThrowError(u),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var c=a.indexOf("-->")!==-1;if(!a||c&&(l=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+=`
`),e.cue.text+=a.replace(/\u2028/g,`
`).replace(/u2029/g,`
`);continue;case"BADCUE":a||(e.state="ID");continue}}}catch(u){e.reportOrThrowError(u),e.state==="CUETEXT"&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state=e.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this},flush:function(){var t=this;try{if(t.buffer+=t.decoder.decode(),(t.cue||t.state==="HEADER")&&(t.buffer+=`

`,t.parse()),t.state==="INITIAL")throw new vs(vs.Errors.BadSignature)}catch(e){t.reportOrThrowError(e)}return t.onflush&&t.onflush(),this}};var H9e=Ch,Q9e="auto",q9e={"":1,lr:1,rl:1},e8e={start:1,center:1,end:1,left:1,right:1,auto:1,"line-left":1,"line-right":1};function t8e(t){if(typeof t!="string")return!1;var e=q9e[t.toLowerCase()];return e?t.toLowerCase():!1}function bE(t){if(typeof t!="string")return!1;var e=e8e[t.toLowerCase()];return e?t.toLowerCase():!1}function UZ(t,e,i){this.hasBeenReset=!1;var n="",s=!1,r=t,a=e,o=i,l=null,c="",u=!0,d="auto",h="start",f="auto",p="auto",m=100,v="center";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(g){n=""+g}},pauseOnExit:{enumerable:!0,get:function(){return s},set:function(g){s=!!g}},startTime:{enumerable:!0,get:function(){return r},set:function(g){if(typeof g!="number")throw new TypeError("Start time must be set to a number.");r=g,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return a},set:function(g){if(typeof g!="number")throw new TypeError("End time must be set to a number.");a=g,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return o},set:function(g){o=""+g,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(g){l=g,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return c},set:function(g){var E=t8e(g);if(E===!1)throw new SyntaxError("Vertical: an invalid or illegal direction string was specified.");c=E,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return u},set:function(g){u=!!g,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return d},set:function(g){if(typeof g!="number"&&g!==Q9e)throw new SyntaxError("Line: an invalid number or illegal string was specified.");d=g,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return h},set:function(g){var E=bE(g);E?(h=E,this.hasBeenReset=!0):console.warn("lineAlign: an invalid or illegal string was specified.")}},position:{enumerable:!0,get:function(){return f},set:function(g){if(g<0||g>100)throw new Error("Position must be between 0 and 100.");f=g,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return p},set:function(g){var E=bE(g);E?(p=E,this.hasBeenReset=!0):console.warn("positionAlign: an invalid or illegal string was specified.")}},size:{enumerable:!0,get:function(){return m},set:function(g){if(g<0||g>100)throw new Error("Size must be between 0 and 100.");m=g,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return v},set:function(g){var E=bE(g);if(!E)throw new SyntaxError("align: an invalid or illegal alignment string was specified.");v=E,this.hasBeenReset=!0}}}),this.displayState=void 0}UZ.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var i8e=UZ,n8e={"":!0,up:!0};function s8e(t){if(typeof t!="string")return!1;var e=n8e[t.toLowerCase()];return e?t.toLowerCase():!1}function df(t){return typeof t=="number"&&t>=0&&t<=100}function r8e(){var t=100,e=3,i=0,n=100,s=0,r=100,a="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(o){if(!df(o))throw new Error("Width must be between 0 and 100.");t=o}},lines:{enumerable:!0,get:function(){return e},set:function(o){if(typeof o!="number")throw new TypeError("Lines must be set to a number.");e=o}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(o){if(!df(o))throw new Error("RegionAnchorX must be between 0 and 100.");n=o}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(o){if(!df(o))throw new Error("RegionAnchorY must be between 0 and 100.");i=o}},viewportAnchorY:{enumerable:!0,get:function(){return r},set:function(o){if(!df(o))throw new Error("ViewportAnchorY must be between 0 and 100.");r=o}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(o){if(!df(o))throw new Error("ViewportAnchorX must be between 0 and 100.");s=o}},scroll:{enumerable:!0,get:function(){return a},set:function(o){var l=s8e(o);l===!1?console.warn("Scroll: an invalid or illegal string was specified."):a=l}}})}var a8e=r8e,fo=Jy,Oc=kZ.exports={WebVTT:H9e,VTTCue:i8e,VTTRegion:a8e};fo.vttjs=Oc;fo.WebVTT=Oc.WebVTT;var o8e=Oc.VTTCue,l8e=Oc.VTTRegion,c8e=fo.VTTCue,u8e=fo.VTTRegion;Oc.shim=function(){fo.VTTCue=o8e,fo.VTTRegion=l8e};Oc.restore=function(){fo.VTTCue=c8e,fo.VTTRegion=u8e};fo.VTTCue||Oc.shim();var d8e=kZ.exports;const v7=g0(d8e);var E7="https://example.com",Hy=function(e,i){if(/^[a-z]+:/i.test(i))return i;/^data:/.test(e)&&(e=K.location&&K.location.href||"");var n=/^\/\//.test(e),s=!K.location&&!/\/\//i.test(e);e=new K.URL(e,K.location||E7);var r=new URL(i,e);return s?r.href.slice(E7.length):n?r.href.slice(r.protocol.length):r.href},e4=function(){function t(){this.listeners={}}var e=t.prototype;return e.on=function(n,s){this.listeners[n]||(this.listeners[n]=[]),this.listeners[n].push(s)},e.off=function(n,s){if(!this.listeners[n])return!1;var r=this.listeners[n].indexOf(s);return this.listeners[n]=this.listeners[n].slice(0),this.listeners[n].splice(r,1),r>-1},e.trigger=function(n){var s=this.listeners[n];if(s)if(arguments.length===2)for(var r=s.length,a=0;a<r;++a)s[a].call(this,arguments[1]);else for(var o=Array.prototype.slice.call(arguments,1),l=s.length,c=0;c<l;++c)s[c].apply(this,o)},e.dispose=function(){this.listeners={}},e.pipe=function(n){this.on("data",function(s){n.push(s)})},t}(),BZ={},Qy={};Qy.byteLength=p8e;Qy.toByteArray=g8e;Qy.fromByteArray=v8e;var qr=[],Bs=[],h8e=typeof Uint8Array<"u"?Uint8Array:Array,vE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var iu=0,f8e=vE.length;iu<f8e;++iu)qr[iu]=vE[iu],Bs[vE.charCodeAt(iu)]=iu;Bs[45]=62;Bs[95]=63;function WZ(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=t.indexOf("=");i===-1&&(i=e);var n=i===e?0:4-i%4;return[i,n]}function p8e(t){var e=WZ(t),i=e[0],n=e[1];return(i+n)*3/4-n}function m8e(t,e,i){return(e+i)*3/4-i}function g8e(t){var e,i=WZ(t),n=i[0],s=i[1],r=new h8e(m8e(t,n,s)),a=0,o=s>0?n-4:n,l;for(l=0;l<o;l+=4)e=Bs[t.charCodeAt(l)]<<18|Bs[t.charCodeAt(l+1)]<<12|Bs[t.charCodeAt(l+2)]<<6|Bs[t.charCodeAt(l+3)],r[a++]=e>>16&255,r[a++]=e>>8&255,r[a++]=e&255;return s===2&&(e=Bs[t.charCodeAt(l)]<<2|Bs[t.charCodeAt(l+1)]>>4,r[a++]=e&255),s===1&&(e=Bs[t.charCodeAt(l)]<<10|Bs[t.charCodeAt(l+1)]<<4|Bs[t.charCodeAt(l+2)]>>2,r[a++]=e>>8&255,r[a++]=e&255),r}function y8e(t){return qr[t>>18&63]+qr[t>>12&63]+qr[t>>6&63]+qr[t&63]}function b8e(t,e,i){for(var n,s=[],r=e;r<i;r+=3)n=(t[r]<<16&16711680)+(t[r+1]<<8&65280)+(t[r+2]&255),s.push(y8e(n));return s.join("")}function v8e(t){for(var e,i=t.length,n=i%3,s=[],r=16383,a=0,o=i-n;a<o;a+=r)s.push(b8e(t,a,a+r>o?o:a+r));return n===1?(e=t[i-1],s.push(qr[e>>2]+qr[e<<4&63]+"==")):n===2&&(e=(t[i-2]<<8)+t[i-1],s.push(qr[e>>10]+qr[e>>4&63]+qr[e<<2&63]+"=")),s.join("")}var t4={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */t4.read=function(t,e,i,n,s){var r,a,o=s*8-n-1,l=(1<<o)-1,c=l>>1,u=-7,d=i?s-1:0,h=i?-1:1,f=t[e+d];for(d+=h,r=f&(1<<-u)-1,f>>=-u,u+=o;u>0;r=r*256+t[e+d],d+=h,u-=8);for(a=r&(1<<-u)-1,r>>=-u,u+=n;u>0;a=a*256+t[e+d],d+=h,u-=8);if(r===0)r=1-c;else{if(r===l)return a?NaN:(f?-1:1)*(1/0);a=a+Math.pow(2,n),r=r-c}return(f?-1:1)*a*Math.pow(2,r-n)};t4.write=function(t,e,i,n,s,r){var a,o,l,c=r*8-s-1,u=(1<<c)-1,d=u>>1,h=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:r-1,p=n?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,a=u):(a=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+d>=1?e+=h/l:e+=h*Math.pow(2,1-d),e*l>=2&&(a++,l/=2),a+d>=u?(o=0,a=u):a+d>=1?(o=(e*l-1)*Math.pow(2,s),a=a+d):(o=e*Math.pow(2,d-1)*Math.pow(2,s),a=0));s>=8;t[i+f]=o&255,f+=p,o/=256,s-=8);for(a=a<<s|o,c+=s;c>0;t[i+f]=a&255,f+=p,a/=256,c-=8);t[i+f-p]|=m*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Qy,i=t4,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=u,t.SlowBuffer=I,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s;const{Uint8Array:r,ArrayBuffer:a,SharedArrayBuffer:o}=globalThis;u.TYPED_ARRAY_SUPPORT=l(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function l(){try{const W=new r(1),_={foo:function(){return 42}};return Object.setPrototypeOf(_,r.prototype),Object.setPrototypeOf(W,_),W.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(u.isBuffer(this))return this.byteOffset}});function c(W){if(W>s)throw new RangeError('The value "'+W+'" is invalid for option "size"');const _=new r(W);return Object.setPrototypeOf(_,u.prototype),_}function u(W,_,N){if(typeof W=="number"){if(typeof _=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return p(W)}return d(W,_,N)}u.poolSize=8192;function d(W,_,N){if(typeof W=="string")return m(W,_);if(a.isView(W))return g(W);if(W==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W);if(bt(W,a)||W&&bt(W.buffer,a)||typeof o<"u"&&(bt(W,o)||W&&bt(W.buffer,o)))return E(W,_,N);if(typeof W=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const X=W.valueOf&&W.valueOf();if(X!=null&&X!==W)return u.from(X,_,N);const q=A(W);if(q)return q;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof W[Symbol.toPrimitive]=="function")return u.from(W[Symbol.toPrimitive]("string"),_,N);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof W)}u.from=function(W,_,N){return d(W,_,N)},Object.setPrototypeOf(u.prototype,r.prototype),Object.setPrototypeOf(u,r);function h(W){if(typeof W!="number")throw new TypeError('"size" argument must be of type number');if(W<0)throw new RangeError('The value "'+W+'" is invalid for option "size"')}function f(W,_,N){return h(W),W<=0?c(W):_!==void 0?typeof N=="string"?c(W).fill(_,N):c(W).fill(_):c(W)}u.alloc=function(W,_,N){return f(W,_,N)};function p(W){return h(W),c(W<0?0:R(W)|0)}u.allocUnsafe=function(W){return p(W)},u.allocUnsafeSlow=function(W){return p(W)};function m(W,_){if((typeof _!="string"||_==="")&&(_="utf8"),!u.isEncoding(_))throw new TypeError("Unknown encoding: "+_);const N=L(W,_)|0;let X=c(N);const q=X.write(W,_);return q!==N&&(X=X.slice(0,q)),X}function v(W){const _=W.length<0?0:R(W.length)|0,N=c(_);for(let X=0;X<_;X+=1)N[X]=W[X]&255;return N}function g(W){if(bt(W,r)){const _=new r(W);return E(_.buffer,_.byteOffset,_.byteLength)}return v(W)}function E(W,_,N){if(_<0||W.byteLength<_)throw new RangeError('"offset" is outside of buffer bounds');if(W.byteLength<_+(N||0))throw new RangeError('"length" is outside of buffer bounds');let X;return _===void 0&&N===void 0?X=new r(W):N===void 0?X=new r(W,_):X=new r(W,_,N),Object.setPrototypeOf(X,u.prototype),X}function A(W){if(u.isBuffer(W)){const _=R(W.length)|0,N=c(_);return N.length===0||W.copy(N,0,0,_),N}if(W.length!==void 0)return typeof W.length!="number"||tt(W.length)?c(0):v(W);if(W.type==="Buffer"&&Array.isArray(W.data))return v(W.data)}function R(W){if(W>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return W|0}function I(W){return+W!=W&&(W=0),u.alloc(+W)}u.isBuffer=function(_){return _!=null&&_._isBuffer===!0&&_!==u.prototype},u.compare=function(_,N){if(bt(_,r)&&(_=u.from(_,_.offset,_.byteLength)),bt(N,r)&&(N=u.from(N,N.offset,N.byteLength)),!u.isBuffer(_)||!u.isBuffer(N))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(_===N)return 0;let X=_.length,q=N.length;for(let ae=0,Ce=Math.min(X,q);ae<Ce;++ae)if(_[ae]!==N[ae]){X=_[ae],q=N[ae];break}return X<q?-1:q<X?1:0},u.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(_,N){if(!Array.isArray(_))throw new TypeError('"list" argument must be an Array of Buffers');if(_.length===0)return u.alloc(0);let X;if(N===void 0)for(N=0,X=0;X<_.length;++X)N+=_[X].length;const q=u.allocUnsafe(N);let ae=0;for(X=0;X<_.length;++X){let Ce=_[X];if(bt(Ce,r))ae+Ce.length>q.length?(u.isBuffer(Ce)||(Ce=u.from(Ce)),Ce.copy(q,ae)):r.prototype.set.call(q,Ce,ae);else if(u.isBuffer(Ce))Ce.copy(q,ae);else throw new TypeError('"list" argument must be an Array of Buffers');ae+=Ce.length}return q};function L(W,_){if(u.isBuffer(W))return W.length;if(a.isView(W)||bt(W,a))return W.byteLength;if(typeof W!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof W);const N=W.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&N===0)return 0;let q=!1;for(;;)switch(_){case"ascii":case"latin1":case"binary":return N;case"utf8":case"utf-8":return Pe(W).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N*2;case"hex":return N>>>1;case"base64":return st(W).length;default:if(q)return X?-1:Pe(W).length;_=(""+_).toLowerCase(),q=!0}}u.byteLength=L;function F(W,_,N){let X=!1;if((_===void 0||_<0)&&(_=0),_>this.length||((N===void 0||N>this.length)&&(N=this.length),N<=0)||(N>>>=0,_>>>=0,N<=_))return"";for(W||(W="utf8");;)switch(W){case"hex":return M(this,_,N);case"utf8":case"utf-8":return Le(this,_,N);case"ascii":return ee(this,_,N);case"latin1":case"binary":return we(this,_,N);case"base64":return ye(this,_,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,_,N);default:if(X)throw new TypeError("Unknown encoding: "+W);W=(W+"").toLowerCase(),X=!0}}u.prototype._isBuffer=!0;function B(W,_,N){const X=W[_];W[_]=W[N],W[N]=X}u.prototype.swap16=function(){const _=this.length;if(_%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let N=0;N<_;N+=2)B(this,N,N+1);return this},u.prototype.swap32=function(){const _=this.length;if(_%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let N=0;N<_;N+=4)B(this,N,N+3),B(this,N+1,N+2);return this},u.prototype.swap64=function(){const _=this.length;if(_%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let N=0;N<_;N+=8)B(this,N,N+7),B(this,N+1,N+6),B(this,N+2,N+5),B(this,N+3,N+4);return this},u.prototype.toString=function(){const _=this.length;return _===0?"":arguments.length===0?Le(this,0,_):F.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(_){if(!u.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_?!0:u.compare(this,_)===0},u.prototype.inspect=function(){let _="";const N=t.INSPECT_MAX_BYTES;return _=this.toString("hex",0,N).replace(/(.{2})/g,"$1 ").trim(),this.length>N&&(_+=" ... "),"<Buffer "+_+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(_,N,X,q,ae){if(bt(_,r)&&(_=u.from(_,_.offset,_.byteLength)),!u.isBuffer(_))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof _);if(N===void 0&&(N=0),X===void 0&&(X=_?_.length:0),q===void 0&&(q=0),ae===void 0&&(ae=this.length),N<0||X>_.length||q<0||ae>this.length)throw new RangeError("out of range index");if(q>=ae&&N>=X)return 0;if(q>=ae)return-1;if(N>=X)return 1;if(N>>>=0,X>>>=0,q>>>=0,ae>>>=0,this===_)return 0;let Ce=ae-q,ut=X-N;const jt=Math.min(Ce,ut),Ut=this.slice(q,ae),$t=_.slice(N,X);for(let Rt=0;Rt<jt;++Rt)if(Ut[Rt]!==$t[Rt]){Ce=Ut[Rt],ut=$t[Rt];break}return Ce<ut?-1:ut<Ce?1:0};function G(W,_,N,X,q){if(W.length===0)return-1;if(typeof N=="string"?(X=N,N=0):N>2147483647?N=2147483647:N<-2147483648&&(N=-2147483648),N=+N,tt(N)&&(N=q?0:W.length-1),N<0&&(N=W.length+N),N>=W.length){if(q)return-1;N=W.length-1}else if(N<0)if(q)N=0;else return-1;if(typeof _=="string"&&(_=u.from(_,X)),u.isBuffer(_))return _.length===0?-1:Z(W,_,N,X,q);if(typeof _=="number")return _=_&255,typeof r.prototype.indexOf=="function"?q?r.prototype.indexOf.call(W,_,N):r.prototype.lastIndexOf.call(W,_,N):Z(W,[_],N,X,q);throw new TypeError("val must be string, number or Buffer")}function Z(W,_,N,X,q){let ae=1,Ce=W.length,ut=_.length;if(X!==void 0&&(X=String(X).toLowerCase(),X==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(W.length<2||_.length<2)return-1;ae=2,Ce/=2,ut/=2,N/=2}function jt($t,Rt){return ae===1?$t[Rt]:$t.readUInt16BE(Rt*ae)}let Ut;if(q){let $t=-1;for(Ut=N;Ut<Ce;Ut++)if(jt(W,Ut)===jt(_,$t===-1?0:Ut-$t)){if($t===-1&&($t=Ut),Ut-$t+1===ut)return $t*ae}else $t!==-1&&(Ut-=Ut-$t),$t=-1}else for(N+ut>Ce&&(N=Ce-ut),Ut=N;Ut>=0;Ut--){let $t=!0;for(let Rt=0;Rt<ut;Rt++)if(jt(W,Ut+Rt)!==jt(_,Rt)){$t=!1;break}if($t)return Ut}return-1}u.prototype.includes=function(_,N,X){return this.indexOf(_,N,X)!==-1},u.prototype.indexOf=function(_,N,X){return G(this,_,N,X,!0)},u.prototype.lastIndexOf=function(_,N,X){return G(this,_,N,X,!1)};function j(W,_,N,X){N=Number(N)||0;const q=W.length-N;X?(X=Number(X),X>q&&(X=q)):X=q;const ae=_.length;X>ae/2&&(X=ae/2);let Ce;for(Ce=0;Ce<X;++Ce){const ut=parseInt(_.substr(Ce*2,2),16);if(tt(ut))return Ce;W[N+Ce]=ut}return Ce}function pe(W,_,N,X){return He(Pe(_,W.length-N),W,N,X)}function J(W,_,N,X){return He(ht(_),W,N,X)}function me(W,_,N,X){return He(st(_),W,N,X)}function de(W,_,N,X){return He(rt(_,W.length-N),W,N,X)}u.prototype.write=function(_,N,X,q){if(N===void 0)q="utf8",X=this.length,N=0;else if(X===void 0&&typeof N=="string")q=N,X=this.length,N=0;else if(isFinite(N))N=N>>>0,isFinite(X)?(X=X>>>0,q===void 0&&(q="utf8")):(q=X,X=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ae=this.length-N;if((X===void 0||X>ae)&&(X=ae),_.length>0&&(X<0||N<0)||N>this.length)throw new RangeError("Attempt to write outside buffer bounds");q||(q="utf8");let Ce=!1;for(;;)switch(q){case"hex":return j(this,_,N,X);case"utf8":case"utf-8":return pe(this,_,N,X);case"ascii":case"latin1":case"binary":return J(this,_,N,X);case"base64":return me(this,_,N,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,_,N,X);default:if(Ce)throw new TypeError("Unknown encoding: "+q);q=(""+q).toLowerCase(),Ce=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ye(W,_,N){return _===0&&N===W.length?e.fromByteArray(W):e.fromByteArray(W.slice(_,N))}function Le(W,_,N){N=Math.min(W.length,N);const X=[];let q=_;for(;q<N;){const ae=W[q];let Ce=null,ut=ae>239?4:ae>223?3:ae>191?2:1;if(q+ut<=N){let jt,Ut,$t,Rt;switch(ut){case 1:ae<128&&(Ce=ae);break;case 2:jt=W[q+1],(jt&192)===128&&(Rt=(ae&31)<<6|jt&63,Rt>127&&(Ce=Rt));break;case 3:jt=W[q+1],Ut=W[q+2],(jt&192)===128&&(Ut&192)===128&&(Rt=(ae&15)<<12|(jt&63)<<6|Ut&63,Rt>2047&&(Rt<55296||Rt>57343)&&(Ce=Rt));break;case 4:jt=W[q+1],Ut=W[q+2],$t=W[q+3],(jt&192)===128&&(Ut&192)===128&&($t&192)===128&&(Rt=(ae&15)<<18|(jt&63)<<12|(Ut&63)<<6|$t&63,Rt>65535&&Rt<1114112&&(Ce=Rt))}}Ce===null?(Ce=65533,ut=1):Ce>65535&&(Ce-=65536,X.push(Ce>>>10&1023|55296),Ce=56320|Ce&1023),X.push(Ce),q+=ut}return H(X)}const ge=4096;function H(W){const _=W.length;if(_<=ge)return String.fromCharCode.apply(String,W);let N="",X=0;for(;X<_;)N+=String.fromCharCode.apply(String,W.slice(X,X+=ge));return N}function ee(W,_,N){let X="";N=Math.min(W.length,N);for(let q=_;q<N;++q)X+=String.fromCharCode(W[q]&127);return X}function we(W,_,N){let X="";N=Math.min(W.length,N);for(let q=_;q<N;++q)X+=String.fromCharCode(W[q]);return X}function M(W,_,N){const X=W.length;(!_||_<0)&&(_=0),(!N||N<0||N>X)&&(N=X);let q="";for(let ae=_;ae<N;++ae)q+=gt[W[ae]];return q}function Q(W,_,N){const X=W.slice(_,N);let q="";for(let ae=0;ae<X.length-1;ae+=2)q+=String.fromCharCode(X[ae]+X[ae+1]*256);return q}u.prototype.slice=function(_,N){const X=this.length;_=~~_,N=N===void 0?X:~~N,_<0?(_+=X,_<0&&(_=0)):_>X&&(_=X),N<0?(N+=X,N<0&&(N=0)):N>X&&(N=X),N<_&&(N=_);const q=this.subarray(_,N);return Object.setPrototypeOf(q,u.prototype),q};function se(W,_,N){if(W%1!==0||W<0)throw new RangeError("offset is not uint");if(W+_>N)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(_,N,X){_=_>>>0,N=N>>>0,X||se(_,N,this.length);let q=this[_],ae=1,Ce=0;for(;++Ce<N&&(ae*=256);)q+=this[_+Ce]*ae;return q},u.prototype.readUintBE=u.prototype.readUIntBE=function(_,N,X){_=_>>>0,N=N>>>0,X||se(_,N,this.length);let q=this[_+--N],ae=1;for(;N>0&&(ae*=256);)q+=this[_+--N]*ae;return q},u.prototype.readUint8=u.prototype.readUInt8=function(_,N){return _=_>>>0,N||se(_,1,this.length),this[_]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(_,N){return _=_>>>0,N||se(_,2,this.length),this[_]|this[_+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(_,N){return _=_>>>0,N||se(_,2,this.length),this[_]<<8|this[_+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(_,N){return _=_>>>0,N||se(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+this[_+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(_,N){return _=_>>>0,N||se(_,4,this.length),this[_]*16777216+(this[_+1]<<16|this[_+2]<<8|this[_+3])},u.prototype.readBigUInt64LE=Ft(function(_){_=_>>>0,xe(_,"offset");const N=this[_],X=this[_+7];(N===void 0||X===void 0)&&Ge(_,this.length-8);const q=N+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24,ae=this[++_]+this[++_]*2**8+this[++_]*2**16+X*2**24;return BigInt(q)+(BigInt(ae)<<BigInt(32))}),u.prototype.readBigUInt64BE=Ft(function(_){_=_>>>0,xe(_,"offset");const N=this[_],X=this[_+7];(N===void 0||X===void 0)&&Ge(_,this.length-8);const q=N*2**24+this[++_]*2**16+this[++_]*2**8+this[++_],ae=this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+X;return(BigInt(q)<<BigInt(32))+BigInt(ae)}),u.prototype.readIntLE=function(_,N,X){_=_>>>0,N=N>>>0,X||se(_,N,this.length);let q=this[_],ae=1,Ce=0;for(;++Ce<N&&(ae*=256);)q+=this[_+Ce]*ae;return ae*=128,q>=ae&&(q-=Math.pow(2,8*N)),q},u.prototype.readIntBE=function(_,N,X){_=_>>>0,N=N>>>0,X||se(_,N,this.length);let q=N,ae=1,Ce=this[_+--q];for(;q>0&&(ae*=256);)Ce+=this[_+--q]*ae;return ae*=128,Ce>=ae&&(Ce-=Math.pow(2,8*N)),Ce},u.prototype.readInt8=function(_,N){return _=_>>>0,N||se(_,1,this.length),this[_]&128?(255-this[_]+1)*-1:this[_]},u.prototype.readInt16LE=function(_,N){_=_>>>0,N||se(_,2,this.length);const X=this[_]|this[_+1]<<8;return X&32768?X|4294901760:X},u.prototype.readInt16BE=function(_,N){_=_>>>0,N||se(_,2,this.length);const X=this[_+1]|this[_]<<8;return X&32768?X|4294901760:X},u.prototype.readInt32LE=function(_,N){return _=_>>>0,N||se(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},u.prototype.readInt32BE=function(_,N){return _=_>>>0,N||se(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},u.prototype.readBigInt64LE=Ft(function(_){_=_>>>0,xe(_,"offset");const N=this[_],X=this[_+7];(N===void 0||X===void 0)&&Ge(_,this.length-8);const q=this[_+4]+this[_+5]*2**8+this[_+6]*2**16+(X<<24);return(BigInt(q)<<BigInt(32))+BigInt(N+this[++_]*2**8+this[++_]*2**16+this[++_]*2**24)}),u.prototype.readBigInt64BE=Ft(function(_){_=_>>>0,xe(_,"offset");const N=this[_],X=this[_+7];(N===void 0||X===void 0)&&Ge(_,this.length-8);const q=(N<<24)+this[++_]*2**16+this[++_]*2**8+this[++_];return(BigInt(q)<<BigInt(32))+BigInt(this[++_]*2**24+this[++_]*2**16+this[++_]*2**8+X)}),u.prototype.readFloatLE=function(_,N){return _=_>>>0,N||se(_,4,this.length),i.read(this,_,!0,23,4)},u.prototype.readFloatBE=function(_,N){return _=_>>>0,N||se(_,4,this.length),i.read(this,_,!1,23,4)},u.prototype.readDoubleLE=function(_,N){return _=_>>>0,N||se(_,8,this.length),i.read(this,_,!0,52,8)},u.prototype.readDoubleBE=function(_,N){return _=_>>>0,N||se(_,8,this.length),i.read(this,_,!1,52,8)};function ne(W,_,N,X,q,ae){if(!u.isBuffer(W))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>q||_<ae)throw new RangeError('"value" argument is out of bounds');if(N+X>W.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(_,N,X,q){if(_=+_,N=N>>>0,X=X>>>0,!q){const ut=Math.pow(2,8*X)-1;ne(this,_,N,X,ut,0)}let ae=1,Ce=0;for(this[N]=_&255;++Ce<X&&(ae*=256);)this[N+Ce]=_/ae&255;return N+X},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(_,N,X,q){if(_=+_,N=N>>>0,X=X>>>0,!q){const ut=Math.pow(2,8*X)-1;ne(this,_,N,X,ut,0)}let ae=X-1,Ce=1;for(this[N+ae]=_&255;--ae>=0&&(Ce*=256);)this[N+ae]=_/Ce&255;return N+X},u.prototype.writeUint8=u.prototype.writeUInt8=function(_,N,X){return _=+_,N=N>>>0,X||ne(this,_,N,1,255,0),this[N]=_&255,N+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(_,N,X){return _=+_,N=N>>>0,X||ne(this,_,N,2,65535,0),this[N]=_&255,this[N+1]=_>>>8,N+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(_,N,X){return _=+_,N=N>>>0,X||ne(this,_,N,2,65535,0),this[N]=_>>>8,this[N+1]=_&255,N+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(_,N,X){return _=+_,N=N>>>0,X||ne(this,_,N,4,4294967295,0),this[N+3]=_>>>24,this[N+2]=_>>>16,this[N+1]=_>>>8,this[N]=_&255,N+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(_,N,X){return _=+_,N=N>>>0,X||ne(this,_,N,4,4294967295,0),this[N]=_>>>24,this[N+1]=_>>>16,this[N+2]=_>>>8,this[N+3]=_&255,N+4};function Ie(W,_,N,X,q){be(_,X,q,W,N,7);let ae=Number(_&BigInt(4294967295));W[N++]=ae,ae=ae>>8,W[N++]=ae,ae=ae>>8,W[N++]=ae,ae=ae>>8,W[N++]=ae;let Ce=Number(_>>BigInt(32)&BigInt(4294967295));return W[N++]=Ce,Ce=Ce>>8,W[N++]=Ce,Ce=Ce>>8,W[N++]=Ce,Ce=Ce>>8,W[N++]=Ce,N}function ke(W,_,N,X,q){be(_,X,q,W,N,7);let ae=Number(_&BigInt(4294967295));W[N+7]=ae,ae=ae>>8,W[N+6]=ae,ae=ae>>8,W[N+5]=ae,ae=ae>>8,W[N+4]=ae;let Ce=Number(_>>BigInt(32)&BigInt(4294967295));return W[N+3]=Ce,Ce=Ce>>8,W[N+2]=Ce,Ce=Ce>>8,W[N+1]=Ce,Ce=Ce>>8,W[N]=Ce,N+8}u.prototype.writeBigUInt64LE=Ft(function(_,N=0){return Ie(this,_,N,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Ft(function(_,N=0){return ke(this,_,N,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(_,N,X,q){if(_=+_,N=N>>>0,!q){const jt=Math.pow(2,8*X-1);ne(this,_,N,X,jt-1,-jt)}let ae=0,Ce=1,ut=0;for(this[N]=_&255;++ae<X&&(Ce*=256);)_<0&&ut===0&&this[N+ae-1]!==0&&(ut=1),this[N+ae]=(_/Ce>>0)-ut&255;return N+X},u.prototype.writeIntBE=function(_,N,X,q){if(_=+_,N=N>>>0,!q){const jt=Math.pow(2,8*X-1);ne(this,_,N,X,jt-1,-jt)}let ae=X-1,Ce=1,ut=0;for(this[N+ae]=_&255;--ae>=0&&(Ce*=256);)_<0&&ut===0&&this[N+ae+1]!==0&&(ut=1),this[N+ae]=(_/Ce>>0)-ut&255;return N+X},u.prototype.writeInt8=function(_,N,X){return _=+_,N=N>>>0,X||ne(this,_,N,1,127,-128),_<0&&(_=255+_+1),this[N]=_&255,N+1},u.prototype.writeInt16LE=function(_,N,X){return _=+_,N=N>>>0,X||ne(this,_,N,2,32767,-32768),this[N]=_&255,this[N+1]=_>>>8,N+2},u.prototype.writeInt16BE=function(_,N,X){return _=+_,N=N>>>0,X||ne(this,_,N,2,32767,-32768),this[N]=_>>>8,this[N+1]=_&255,N+2},u.prototype.writeInt32LE=function(_,N,X){return _=+_,N=N>>>0,X||ne(this,_,N,4,2147483647,-2147483648),this[N]=_&255,this[N+1]=_>>>8,this[N+2]=_>>>16,this[N+3]=_>>>24,N+4},u.prototype.writeInt32BE=function(_,N,X){return _=+_,N=N>>>0,X||ne(this,_,N,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),this[N]=_>>>24,this[N+1]=_>>>16,this[N+2]=_>>>8,this[N+3]=_&255,N+4},u.prototype.writeBigInt64LE=Ft(function(_,N=0){return Ie(this,_,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Ft(function(_,N=0){return ke(this,_,N,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function De(W,_,N,X,q,ae){if(N+X>W.length)throw new RangeError("Index out of range");if(N<0)throw new RangeError("Index out of range")}function $e(W,_,N,X,q){return _=+_,N=N>>>0,q||De(W,_,N,4),i.write(W,_,N,X,23,4),N+4}u.prototype.writeFloatLE=function(_,N,X){return $e(this,_,N,!0,X)},u.prototype.writeFloatBE=function(_,N,X){return $e(this,_,N,!1,X)};function Je(W,_,N,X,q){return _=+_,N=N>>>0,q||De(W,_,N,8),i.write(W,_,N,X,52,8),N+8}u.prototype.writeDoubleLE=function(_,N,X){return Je(this,_,N,!0,X)},u.prototype.writeDoubleBE=function(_,N,X){return Je(this,_,N,!1,X)},u.prototype.copy=function(_,N,X,q){if(!u.isBuffer(_))throw new TypeError("argument should be a Buffer");if(X||(X=0),!q&&q!==0&&(q=this.length),N>=_.length&&(N=_.length),N||(N=0),q>0&&q<X&&(q=X),q===X||_.length===0||this.length===0)return 0;if(N<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("sourceEnd out of bounds");q>this.length&&(q=this.length),_.length-N<q-X&&(q=_.length-N+X);const ae=q-X;return this===_&&typeof r.prototype.copyWithin=="function"?this.copyWithin(N,X,q):r.prototype.set.call(_,this.subarray(X,q),N),ae},u.prototype.fill=function(_,N,X,q){if(typeof _=="string"){if(typeof N=="string"?(q=N,N=0,X=this.length):typeof X=="string"&&(q=X,X=this.length),q!==void 0&&typeof q!="string")throw new TypeError("encoding must be a string");if(typeof q=="string"&&!u.isEncoding(q))throw new TypeError("Unknown encoding: "+q);if(_.length===1){const Ce=_.charCodeAt(0);(q==="utf8"&&Ce<128||q==="latin1")&&(_=Ce)}}else typeof _=="number"?_=_&255:typeof _=="boolean"&&(_=Number(_));if(N<0||this.length<N||this.length<X)throw new RangeError("Out of range index");if(X<=N)return this;N=N>>>0,X=X===void 0?this.length:X>>>0,_||(_=0);let ae;if(typeof _=="number")for(ae=N;ae<X;++ae)this[ae]=_;else{const Ce=u.isBuffer(_)?_:u.from(_,q),ut=Ce.length;if(ut===0)throw new TypeError('The value "'+_+'" is invalid for argument "value"');for(ae=0;ae<X-N;++ae)this[ae+N]=Ce[ae%ut]}return this};const ce={};function $(W,_,N){ce[W]=class extends N{constructor(){super(),Object.defineProperty(this,"message",{value:_.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${W}]`,this.stack,delete this.name}get code(){return W}set code(q){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:q,writable:!0})}toString(){return`${this.name} [${W}]: ${this.message}`}}}$("ERR_BUFFER_OUT_OF_BOUNDS",function(W){return W?`${W} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),$("ERR_INVALID_ARG_TYPE",function(W,_){return`The "${W}" argument must be of type number. Received type ${typeof _}`},TypeError),$("ERR_OUT_OF_RANGE",function(W,_,N){let X=`The value of "${W}" is out of range.`,q=N;return Number.isInteger(N)&&Math.abs(N)>2**32?q=te(String(N)):typeof N=="bigint"&&(q=String(N),(N>BigInt(2)**BigInt(32)||N<-(BigInt(2)**BigInt(32)))&&(q=te(q)),q+="n"),X+=` It must be ${_}. Received ${q}`,X},RangeError);function te(W){let _="",N=W.length;const X=W[0]==="-"?1:0;for(;N>=X+4;N-=3)_=`_${W.slice(N-3,N)}${_}`;return`${W.slice(0,N)}${_}`}function ue(W,_,N){xe(_,"offset"),(W[_]===void 0||W[_+N]===void 0)&&Ge(_,W.length-(N+1))}function be(W,_,N,X,q,ae){if(W>N||W<_){const Ce=typeof _=="bigint"?"n":"";let ut;throw _===0||_===BigInt(0)?ut=`>= 0${Ce} and < 2${Ce} ** ${(ae+1)*8}${Ce}`:ut=`>= -(2${Ce} ** ${(ae+1)*8-1}${Ce}) and < 2 ** ${(ae+1)*8-1}${Ce}`,new ce.ERR_OUT_OF_RANGE("value",ut,W)}ue(X,q,ae)}function xe(W,_){if(typeof W!="number")throw new ce.ERR_INVALID_ARG_TYPE(_,"number",W)}function Ge(W,_,N){throw Math.floor(W)!==W?(xe(W,N),new ce.ERR_OUT_OF_RANGE("offset","an integer",W)):_<0?new ce.ERR_BUFFER_OUT_OF_BOUNDS:new ce.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${_}`,W)}const Me=/[^+/0-9A-Za-z-_]/g;function le(W){if(W=W.split("=")[0],W=W.trim().replace(Me,""),W.length<2)return"";for(;W.length%4!==0;)W=W+"=";return W}function Pe(W,_){_=_||1/0;let N;const X=W.length;let q=null;const ae=[];for(let Ce=0;Ce<X;++Ce){if(N=W.charCodeAt(Ce),N>55295&&N<57344){if(!q){if(N>56319){(_-=3)>-1&&ae.push(239,191,189);continue}else if(Ce+1===X){(_-=3)>-1&&ae.push(239,191,189);continue}q=N;continue}if(N<56320){(_-=3)>-1&&ae.push(239,191,189),q=N;continue}N=(q-55296<<10|N-56320)+65536}else q&&(_-=3)>-1&&ae.push(239,191,189);if(q=null,N<128){if((_-=1)<0)break;ae.push(N)}else if(N<2048){if((_-=2)<0)break;ae.push(N>>6|192,N&63|128)}else if(N<65536){if((_-=3)<0)break;ae.push(N>>12|224,N>>6&63|128,N&63|128)}else if(N<1114112){if((_-=4)<0)break;ae.push(N>>18|240,N>>12&63|128,N>>6&63|128,N&63|128)}else throw new Error("Invalid code point")}return ae}function ht(W){const _=[];for(let N=0;N<W.length;++N)_.push(W.charCodeAt(N)&255);return _}function rt(W,_){let N,X,q;const ae=[];for(let Ce=0;Ce<W.length&&!((_-=2)<0);++Ce)N=W.charCodeAt(Ce),X=N>>8,q=N%256,ae.push(q),ae.push(X);return ae}function st(W){return e.toByteArray(le(W))}function He(W,_,N,X){let q;for(q=0;q<X&&!(q+N>=_.length||q>=W.length);++q)_[q+N]=W[q];return q}function bt(W,_){return W instanceof _||W!=null&&W.constructor!=null&&W.constructor.name!=null&&W.constructor.name===_.name}function tt(W){return W!==W}const gt=function(){const W="0123456789abcdef",_=new Array(256);for(let N=0;N<16;++N){const X=N*16;for(let q=0;q<16;++q)_[X+q]=W[N]+W[q]}return _}();function Ft(W){return typeof BigInt>"u"?Yt:W}function Yt(){throw new Error("BigInt not supported")}})(BZ);const E8e=BZ.Buffer;var A8e=function(e){return K.atob?K.atob(e):E8e.from(e,"base64").toString("binary")};function GZ(t){for(var e=A8e(t),i=new Uint8Array(e.length),n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}/*! @name m3u8-parser @version 7.2.0 @license Apache-2.0 */class S8e extends e4{constructor(){super(),this.buffer=""}push(e){let i;for(this.buffer+=e,i=this.buffer.indexOf(`
`);i>-1;i=this.buffer.indexOf(`
`))this.trigger("data",this.buffer.substring(0,i)),this.buffer=this.buffer.substring(i+1)}}const T8e="	",EE=function(t){const e=/([0-9.]*)?@?([0-9.]*)?/.exec(t||""),i={};return e[1]&&(i.length=parseInt(e[1],10)),e[2]&&(i.offset=parseInt(e[2],10)),i},C8e=function(){const i="(?:"+"[^=]*"+")=(?:"+'"[^"]*"|[^,]*'+")";return new RegExp("(?:^|,)("+i+")")},kn=function(t){const e={};if(!t)return e;const i=t.split(C8e());let n=i.length,s;for(;n--;)i[n]!==""&&(s=/([^=]*)=(.*)/.exec(i[n]).slice(1),s[0]=s[0].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^['"](.*)['"]$/g,"$1"),e[s[0]]=s[1]);return e},A7=t=>{const e=t.split("x"),i={};return e[0]&&(i.width=parseInt(e[0],10)),e[1]&&(i.height=parseInt(e[1],10)),i};class R8e extends e4{constructor(){super(),this.customParsers=[],this.tagMappers=[]}push(e){let i,n;if(e=e.trim(),e.length===0)return;if(e[0]!=="#"){this.trigger("data",{type:"uri",uri:e});return}this.tagMappers.reduce((r,a)=>{const o=a(e);return o===e?r:r.concat([o])},[e]).forEach(r=>{for(let a=0;a<this.customParsers.length;a++)if(this.customParsers[a].call(this,r))return;if(r.indexOf("#EXT")!==0){this.trigger("data",{type:"comment",text:r.slice(1)});return}if(r=r.replace("\r",""),i=/^#EXTM3U/.exec(r),i){this.trigger("data",{type:"tag",tagType:"m3u"});return}if(i=/^#EXTINF:([0-9\.]*)?,?(.*)?$/.exec(r),i){n={type:"tag",tagType:"inf"},i[1]&&(n.duration=parseFloat(i[1])),i[2]&&(n.title=i[2]),this.trigger("data",n);return}if(i=/^#EXT-X-TARGETDURATION:([0-9.]*)?/.exec(r),i){n={type:"tag",tagType:"targetduration"},i[1]&&(n.duration=parseInt(i[1],10)),this.trigger("data",n);return}if(i=/^#EXT-X-VERSION:([0-9.]*)?/.exec(r),i){n={type:"tag",tagType:"version"},i[1]&&(n.version=parseInt(i[1],10)),this.trigger("data",n);return}if(i=/^#EXT-X-MEDIA-SEQUENCE:(\-?[0-9.]*)?/.exec(r),i){n={type:"tag",tagType:"media-sequence"},i[1]&&(n.number=parseInt(i[1],10)),this.trigger("data",n);return}if(i=/^#EXT-X-DISCONTINUITY-SEQUENCE:(\-?[0-9.]*)?/.exec(r),i){n={type:"tag",tagType:"discontinuity-sequence"},i[1]&&(n.number=parseInt(i[1],10)),this.trigger("data",n);return}if(i=/^#EXT-X-PLAYLIST-TYPE:(.*)?$/.exec(r),i){n={type:"tag",tagType:"playlist-type"},i[1]&&(n.playlistType=i[1]),this.trigger("data",n);return}if(i=/^#EXT-X-BYTERANGE:(.*)?$/.exec(r),i){n=Li(EE(i[1]),{type:"tag",tagType:"byterange"}),this.trigger("data",n);return}if(i=/^#EXT-X-ALLOW-CACHE:(YES|NO)?/.exec(r),i){n={type:"tag",tagType:"allow-cache"},i[1]&&(n.allowed=!/NO/.test(i[1])),this.trigger("data",n);return}if(i=/^#EXT-X-MAP:(.*)$/.exec(r),i){if(n={type:"tag",tagType:"map"},i[1]){const a=kn(i[1]);a.URI&&(n.uri=a.URI),a.BYTERANGE&&(n.byterange=EE(a.BYTERANGE))}this.trigger("data",n);return}if(i=/^#EXT-X-STREAM-INF:(.*)$/.exec(r),i){n={type:"tag",tagType:"stream-inf"},i[1]&&(n.attributes=kn(i[1]),n.attributes.RESOLUTION&&(n.attributes.RESOLUTION=A7(n.attributes.RESOLUTION)),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),n.attributes["PROGRAM-ID"]&&(n.attributes["PROGRAM-ID"]=parseInt(n.attributes["PROGRAM-ID"],10))),this.trigger("data",n);return}if(i=/^#EXT-X-MEDIA:(.*)$/.exec(r),i){n={type:"tag",tagType:"media"},i[1]&&(n.attributes=kn(i[1])),this.trigger("data",n);return}if(i=/^#EXT-X-ENDLIST/.exec(r),i){this.trigger("data",{type:"tag",tagType:"endlist"});return}if(i=/^#EXT-X-DISCONTINUITY/.exec(r),i){this.trigger("data",{type:"tag",tagType:"discontinuity"});return}if(i=/^#EXT-X-PROGRAM-DATE-TIME:(.*)$/.exec(r),i){n={type:"tag",tagType:"program-date-time"},i[1]&&(n.dateTimeString=i[1],n.dateTimeObject=new Date(i[1])),this.trigger("data",n);return}if(i=/^#EXT-X-KEY:(.*)$/.exec(r),i){n={type:"tag",tagType:"key"},i[1]&&(n.attributes=kn(i[1]),n.attributes.IV&&(n.attributes.IV.substring(0,2).toLowerCase()==="0x"&&(n.attributes.IV=n.attributes.IV.substring(2)),n.attributes.IV=n.attributes.IV.match(/.{8}/g),n.attributes.IV[0]=parseInt(n.attributes.IV[0],16),n.attributes.IV[1]=parseInt(n.attributes.IV[1],16),n.attributes.IV[2]=parseInt(n.attributes.IV[2],16),n.attributes.IV[3]=parseInt(n.attributes.IV[3],16),n.attributes.IV=new Uint32Array(n.attributes.IV))),this.trigger("data",n);return}if(i=/^#EXT-X-START:(.*)$/.exec(r),i){n={type:"tag",tagType:"start"},i[1]&&(n.attributes=kn(i[1]),n.attributes["TIME-OFFSET"]=parseFloat(n.attributes["TIME-OFFSET"]),n.attributes.PRECISE=/YES/.test(n.attributes.PRECISE)),this.trigger("data",n);return}if(i=/^#EXT-X-CUE-OUT-CONT:(.*)?$/.exec(r),i){n={type:"tag",tagType:"cue-out-cont"},i[1]?n.data=i[1]:n.data="",this.trigger("data",n);return}if(i=/^#EXT-X-CUE-OUT:(.*)?$/.exec(r),i){n={type:"tag",tagType:"cue-out"},i[1]?n.data=i[1]:n.data="",this.trigger("data",n);return}if(i=/^#EXT-X-CUE-IN:?(.*)?$/.exec(r),i){n={type:"tag",tagType:"cue-in"},i[1]?n.data=i[1]:n.data="",this.trigger("data",n);return}if(i=/^#EXT-X-SKIP:(.*)$/.exec(r),i&&i[1]){n={type:"tag",tagType:"skip"},n.attributes=kn(i[1]),n.attributes.hasOwnProperty("SKIPPED-SEGMENTS")&&(n.attributes["SKIPPED-SEGMENTS"]=parseInt(n.attributes["SKIPPED-SEGMENTS"],10)),n.attributes.hasOwnProperty("RECENTLY-REMOVED-DATERANGES")&&(n.attributes["RECENTLY-REMOVED-DATERANGES"]=n.attributes["RECENTLY-REMOVED-DATERANGES"].split(T8e)),this.trigger("data",n);return}if(i=/^#EXT-X-PART:(.*)$/.exec(r),i&&i[1]){n={type:"tag",tagType:"part"},n.attributes=kn(i[1]),["DURATION"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseFloat(n.attributes[a]))}),["INDEPENDENT","GAP"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=/YES/.test(n.attributes[a]))}),n.attributes.hasOwnProperty("BYTERANGE")&&(n.attributes.byterange=EE(n.attributes.BYTERANGE)),this.trigger("data",n);return}if(i=/^#EXT-X-SERVER-CONTROL:(.*)$/.exec(r),i&&i[1]){n={type:"tag",tagType:"server-control"},n.attributes=kn(i[1]),["CAN-SKIP-UNTIL","PART-HOLD-BACK","HOLD-BACK"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseFloat(n.attributes[a]))}),["CAN-SKIP-DATERANGES","CAN-BLOCK-RELOAD"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=/YES/.test(n.attributes[a]))}),this.trigger("data",n);return}if(i=/^#EXT-X-PART-INF:(.*)$/.exec(r),i&&i[1]){n={type:"tag",tagType:"part-inf"},n.attributes=kn(i[1]),["PART-TARGET"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseFloat(n.attributes[a]))}),this.trigger("data",n);return}if(i=/^#EXT-X-PRELOAD-HINT:(.*)$/.exec(r),i&&i[1]){n={type:"tag",tagType:"preload-hint"},n.attributes=kn(i[1]),["BYTERANGE-START","BYTERANGE-LENGTH"].forEach(function(a){if(n.attributes.hasOwnProperty(a)){n.attributes[a]=parseInt(n.attributes[a],10);const o=a==="BYTERANGE-LENGTH"?"length":"offset";n.attributes.byterange=n.attributes.byterange||{},n.attributes.byterange[o]=n.attributes[a],delete n.attributes[a]}}),this.trigger("data",n);return}if(i=/^#EXT-X-RENDITION-REPORT:(.*)$/.exec(r),i&&i[1]){n={type:"tag",tagType:"rendition-report"},n.attributes=kn(i[1]),["LAST-MSN","LAST-PART"].forEach(function(a){n.attributes.hasOwnProperty(a)&&(n.attributes[a]=parseInt(n.attributes[a],10))}),this.trigger("data",n);return}if(i=/^#EXT-X-DATERANGE:(.*)$/.exec(r),i&&i[1]){n={type:"tag",tagType:"daterange"},n.attributes=kn(i[1]),["ID","CLASS"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=String(n.attributes[o]))}),["START-DATE","END-DATE"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=new Date(n.attributes[o]))}),["DURATION","PLANNED-DURATION"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=parseFloat(n.attributes[o]))}),["END-ON-NEXT"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=/YES/i.test(n.attributes[o]))}),["SCTE35-CMD"," SCTE35-OUT","SCTE35-IN"].forEach(function(o){n.attributes.hasOwnProperty(o)&&(n.attributes[o]=n.attributes[o].toString(16))});const a=/^X-([A-Z]+-)+[A-Z]+$/;for(const o in n.attributes){if(!a.test(o))continue;const l=/[0-9A-Fa-f]{6}/g.test(n.attributes[o]),c=/^\d+(\.\d+)?$/.test(n.attributes[o]);n.attributes[o]=l?n.attributes[o].toString(16):c?parseFloat(n.attributes[o]):String(n.attributes[o])}this.trigger("data",n);return}if(i=/^#EXT-X-INDEPENDENT-SEGMENTS/.exec(r),i){this.trigger("data",{type:"tag",tagType:"independent-segments"});return}if(i=/^#EXT-X-I-FRAMES-ONLY/.exec(r),i){this.trigger("data",{type:"tag",tagType:"i-frames-only"});return}if(i=/^#EXT-X-CONTENT-STEERING:(.*)$/.exec(r),i){n={type:"tag",tagType:"content-steering"},n.attributes=kn(i[1]),this.trigger("data",n);return}if(i=/^#EXT-X-I-FRAME-STREAM-INF:(.*)$/.exec(r),i){n={type:"tag",tagType:"i-frame-playlist"},n.attributes=kn(i[1]),n.attributes.URI&&(n.uri=n.attributes.URI),n.attributes.BANDWIDTH&&(n.attributes.BANDWIDTH=parseInt(n.attributes.BANDWIDTH,10)),n.attributes.RESOLUTION&&(n.attributes.RESOLUTION=A7(n.attributes.RESOLUTION)),n.attributes["AVERAGE-BANDWIDTH"]&&(n.attributes["AVERAGE-BANDWIDTH"]=parseInt(n.attributes["AVERAGE-BANDWIDTH"],10)),n.attributes["FRAME-RATE"]&&(n.attributes["FRAME-RATE"]=parseFloat(n.attributes["FRAME-RATE"])),this.trigger("data",n);return}if(i=/^#EXT-X-DEFINE:(.*)$/.exec(r),i){n={type:"tag",tagType:"define"},n.attributes=kn(i[1]),this.trigger("data",n);return}this.trigger("data",{type:"tag",data:r.slice(4)})})}addParser({expression:e,customType:i,dataParser:n,segment:s}){typeof n!="function"&&(n=r=>r),this.customParsers.push(r=>{if(e.exec(r))return this.trigger("data",{type:"custom",data:n(r),customType:i,segment:s}),!0})}addTagMapper({expression:e,map:i}){const n=s=>e.test(s)?i(s):s;this.tagMappers.push(n)}}const I8e=t=>t.toLowerCase().replace(/-(\w)/g,e=>e[1].toUpperCase()),Lo=function(t){const e={};return Object.keys(t).forEach(function(i){e[I8e(i)]=t[i]}),e},AE=function(t){const{serverControl:e,targetDuration:i,partTargetDuration:n}=t;if(!e)return;const s="#EXT-X-SERVER-CONTROL",r="holdBack",a="partHoldBack",o=i&&i*3,l=n&&n*2;i&&!e.hasOwnProperty(r)&&(e[r]=o,this.trigger("info",{message:`${s} defaulting HOLD-BACK to targetDuration * 3 (${o}).`})),o&&e[r]<o&&(this.trigger("warn",{message:`${s} clamping HOLD-BACK (${e[r]}) to targetDuration * 3 (${o})`}),e[r]=o),n&&!e.hasOwnProperty(a)&&(e[a]=n*3,this.trigger("info",{message:`${s} defaulting PART-HOLD-BACK to partTargetDuration * 3 (${e[a]}).`})),n&&e[a]<l&&(this.trigger("warn",{message:`${s} clamping PART-HOLD-BACK (${e[a]}) to partTargetDuration * 2 (${l}).`}),e[a]=l)};class w8e extends e4{constructor(e={}){super(),this.lineStream=new S8e,this.parseStream=new R8e,this.lineStream.pipe(this.parseStream),this.mainDefinitions=e.mainDefinitions||{},this.params=new URL(e.uri,"https://a.com").searchParams,this.lastProgramDateTime=null;const i=this,n=[];let s={},r,a,o=!1;const l=function(){},c={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u="urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed";let d=0;this.manifest={allowCache:!0,discontinuityStarts:[],dateRanges:[],iFramePlaylists:[],segments:[]};let h=0,f=0;const p={};this.on("end",()=>{s.uri||!s.parts&&!s.preloadHints||(!s.map&&r&&(s.map=r),!s.key&&a&&(s.key=a),!s.timeline&&typeof d=="number"&&(s.timeline=d),this.manifest.preloadSegment=s)}),this.parseStream.on("data",function(m){let v,g;if(i.manifest.definitions){for(const E in i.manifest.definitions)if(m.uri&&(m.uri=m.uri.replace(`{$${E}}`,i.manifest.definitions[E])),m.attributes)for(const A in m.attributes)typeof m.attributes[A]=="string"&&(m.attributes[A]=m.attributes[A].replace(`{$${E}}`,i.manifest.definitions[E]))}({tag(){({version(){m.version&&(this.manifest.version=m.version)},"allow-cache"(){this.manifest.allowCache=m.allowed,"allowed"in m||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange(){const E={};"length"in m&&(s.byterange=E,E.length=m.length,"offset"in m||(m.offset=h)),"offset"in m&&(s.byterange=E,E.offset=m.offset),h=E.offset+E.length},endlist(){this.manifest.endList=!0},inf(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),m.title&&(s.title=m.title),m.duration>0&&(s.duration=m.duration),m.duration===0&&(s.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=n},key(){if(!m.attributes){this.trigger("warn",{message:"ignoring key declaration without attribute list"});return}if(m.attributes.METHOD==="NONE"){a=null;return}if(!m.attributes.URI){this.trigger("warn",{message:"ignoring key declaration without URI"});return}if(m.attributes.KEYFORMAT==="com.apple.streamingkeydelivery"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.apple.fps.1_0"]={attributes:m.attributes};return}if(m.attributes.KEYFORMAT==="com.microsoft.playready"){this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.microsoft.playready"]={uri:m.attributes.URI};return}if(m.attributes.KEYFORMAT===u){if(["SAMPLE-AES","SAMPLE-AES-CTR","SAMPLE-AES-CENC"].indexOf(m.attributes.METHOD)===-1){this.trigger("warn",{message:"invalid key method provided for Widevine"});return}if(m.attributes.METHOD==="SAMPLE-AES-CENC"&&this.trigger("warn",{message:"SAMPLE-AES-CENC is deprecated, please use SAMPLE-AES-CTR instead"}),m.attributes.URI.substring(0,23)!=="data:text/plain;base64,"){this.trigger("warn",{message:"invalid key URI provided for Widevine"});return}if(!(m.attributes.KEYID&&m.attributes.KEYID.substring(0,2)==="0x")){this.trigger("warn",{message:"invalid key ID provided for Widevine"});return}this.manifest.contentProtection=this.manifest.contentProtection||{},this.manifest.contentProtection["com.widevine.alpha"]={attributes:{schemeIdUri:m.attributes.KEYFORMAT,keyId:m.attributes.KEYID.substring(2)},pssh:GZ(m.attributes.URI.split(",")[1])};return}m.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:m.attributes.METHOD||"AES-128",uri:m.attributes.URI},typeof m.attributes.IV<"u"&&(a.iv=m.attributes.IV)},"media-sequence"(){if(!isFinite(m.number)){this.trigger("warn",{message:"ignoring invalid media sequence: "+m.number});return}this.manifest.mediaSequence=m.number},"discontinuity-sequence"(){if(!isFinite(m.number)){this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+m.number});return}this.manifest.discontinuitySequence=m.number,d=m.number},"playlist-type"(){if(!/VOD|EVENT/.test(m.playlistType)){this.trigger("warn",{message:"ignoring unknown playlist type: "+m.playlist});return}this.manifest.playlistType=m.playlistType},map(){r={},m.uri&&(r.uri=m.uri),m.byterange&&(r.byterange=m.byterange),a&&(r.key=a)},"stream-inf"(){if(this.manifest.playlists=n,this.manifest.mediaGroups=this.manifest.mediaGroups||c,!m.attributes){this.trigger("warn",{message:"ignoring empty stream-inf attributes"});return}s.attributes||(s.attributes={}),Li(s.attributes,m.attributes)},media(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||c,!(m.attributes&&m.attributes.TYPE&&m.attributes["GROUP-ID"]&&m.attributes.NAME)){this.trigger("warn",{message:"ignoring incomplete or missing media group"});return}const E=this.manifest.mediaGroups[m.attributes.TYPE];E[m.attributes["GROUP-ID"]]=E[m.attributes["GROUP-ID"]]||{},v=E[m.attributes["GROUP-ID"]],g={default:/yes/i.test(m.attributes.DEFAULT)},g.default?g.autoselect=!0:g.autoselect=/yes/i.test(m.attributes.AUTOSELECT),m.attributes.LANGUAGE&&(g.language=m.attributes.LANGUAGE),m.attributes.URI&&(g.uri=m.attributes.URI),m.attributes["INSTREAM-ID"]&&(g.instreamId=m.attributes["INSTREAM-ID"]),m.attributes.CHARACTERISTICS&&(g.characteristics=m.attributes.CHARACTERISTICS),m.attributes.FORCED&&(g.forced=/yes/i.test(m.attributes.FORCED)),v[m.attributes.NAME]=g},discontinuity(){d+=1,s.discontinuity=!0,this.manifest.discontinuityStarts.push(n.length)},"program-date-time"(){typeof this.manifest.dateTimeString>"u"&&(this.manifest.dateTimeString=m.dateTimeString,this.manifest.dateTimeObject=m.dateTimeObject),s.dateTimeString=m.dateTimeString,s.dateTimeObject=m.dateTimeObject;const{lastProgramDateTime:E}=this;this.lastProgramDateTime=new Date(m.dateTimeString).getTime(),E===null&&this.manifest.segments.reduceRight((A,R)=>(R.programDateTime=A-R.duration*1e3,R.programDateTime),this.lastProgramDateTime)},targetduration(){if(!isFinite(m.duration)||m.duration<0){this.trigger("warn",{message:"ignoring invalid target duration: "+m.duration});return}this.manifest.targetDuration=m.duration,AE.call(this,this.manifest)},start(){if(!m.attributes||isNaN(m.attributes["TIME-OFFSET"])){this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"});return}this.manifest.start={timeOffset:m.attributes["TIME-OFFSET"],precise:m.attributes.PRECISE}},"cue-out"(){s.cueOut=m.data},"cue-out-cont"(){s.cueOutCont=m.data},"cue-in"(){s.cueIn=m.data},skip(){this.manifest.skip=Lo(m.attributes),this.warnOnMissingAttributes_("#EXT-X-SKIP",m.attributes,["SKIPPED-SEGMENTS"])},part(){o=!0;const E=this.manifest.segments.length,A=Lo(m.attributes);s.parts=s.parts||[],s.parts.push(A),A.byterange&&(A.byterange.hasOwnProperty("offset")||(A.byterange.offset=f),f=A.byterange.offset+A.byterange.length);const R=s.parts.length-1;this.warnOnMissingAttributes_(`#EXT-X-PART #${R} for segment #${E}`,m.attributes,["URI","DURATION"]),this.manifest.renditionReports&&this.manifest.renditionReports.forEach((I,L)=>{I.hasOwnProperty("lastPart")||this.trigger("warn",{message:`#EXT-X-RENDITION-REPORT #${L} lacks required attribute(s): LAST-PART`})})},"server-control"(){const E=this.manifest.serverControl=Lo(m.attributes);E.hasOwnProperty("canBlockReload")||(E.canBlockReload=!1,this.trigger("info",{message:"#EXT-X-SERVER-CONTROL defaulting CAN-BLOCK-RELOAD to false"})),AE.call(this,this.manifest),E.canSkipDateranges&&!E.hasOwnProperty("canSkipUntil")&&this.trigger("warn",{message:"#EXT-X-SERVER-CONTROL lacks required attribute CAN-SKIP-UNTIL which is required when CAN-SKIP-DATERANGES is set"})},"preload-hint"(){const E=this.manifest.segments.length,A=Lo(m.attributes),R=A.type&&A.type==="PART";s.preloadHints=s.preloadHints||[],s.preloadHints.push(A),A.byterange&&(A.byterange.hasOwnProperty("offset")||(A.byterange.offset=R?f:0,R&&(f=A.byterange.offset+A.byterange.length)));const I=s.preloadHints.length-1;if(this.warnOnMissingAttributes_(`#EXT-X-PRELOAD-HINT #${I} for segment #${E}`,m.attributes,["TYPE","URI"]),!!A.type)for(let L=0;L<s.preloadHints.length-1;L++){const F=s.preloadHints[L];F.type&&F.type===A.type&&this.trigger("warn",{message:`#EXT-X-PRELOAD-HINT #${I} for segment #${E} has the same TYPE ${A.type} as preload hint #${L}`})}},"rendition-report"(){const E=Lo(m.attributes);this.manifest.renditionReports=this.manifest.renditionReports||[],this.manifest.renditionReports.push(E);const A=this.manifest.renditionReports.length-1,R=["LAST-MSN","URI"];o&&R.push("LAST-PART"),this.warnOnMissingAttributes_(`#EXT-X-RENDITION-REPORT #${A}`,m.attributes,R)},"part-inf"(){this.manifest.partInf=Lo(m.attributes),this.warnOnMissingAttributes_("#EXT-X-PART-INF",m.attributes,["PART-TARGET"]),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),AE.call(this,this.manifest)},daterange(){this.manifest.dateRanges.push(Lo(m.attributes));const E=this.manifest.dateRanges.length-1;this.warnOnMissingAttributes_(`#EXT-X-DATERANGE #${E}`,m.attributes,["ID","START-DATE"]);const A=this.manifest.dateRanges[E];A.endDate&&A.startDate&&new Date(A.endDate)<new Date(A.startDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE END-DATE must be equal to or later than the value of the START-DATE"}),A.duration&&A.duration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE DURATION must not be negative"}),A.plannedDuration&&A.plannedDuration<0&&this.trigger("warn",{message:"EXT-X-DATERANGE PLANNED-DURATION must not be negative"});const R=!!A.endOnNext;if(R&&!A.class&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must have a CLASS attribute"}),R&&(A.duration||A.endDate)&&this.trigger("warn",{message:"EXT-X-DATERANGE with an END-ON-NEXT=YES attribute must not contain DURATION or END-DATE attributes"}),A.duration&&A.endDate){const L=A.startDate.getTime()+A.duration*1e3;this.manifest.dateRanges[E].endDate=new Date(L)}if(!p[A.id])p[A.id]=A;else{for(const L in p[A.id])if(A[L]&&JSON.stringify(p[A.id][L])!==JSON.stringify(A[L])){this.trigger("warn",{message:"EXT-X-DATERANGE tags with the same ID in a playlist must have the same attributes values"});break}const I=this.manifest.dateRanges.findIndex(L=>L.id===A.id);this.manifest.dateRanges[I]=Li(this.manifest.dateRanges[I],A),p[A.id]=Li(p[A.id],A),this.manifest.dateRanges.pop()}},"independent-segments"(){this.manifest.independentSegments=!0},"i-frames-only"(){this.manifest.iFramesOnly=!0,this.requiredCompatibilityversion(this.manifest.version,4)},"content-steering"(){this.manifest.contentSteering=Lo(m.attributes),this.warnOnMissingAttributes_("#EXT-X-CONTENT-STEERING",m.attributes,["SERVER-URI"])},define(){this.manifest.definitions=this.manifest.definitions||{};const E=(A,R)=>{if(A in this.manifest.definitions){this.trigger("error",{message:`EXT-X-DEFINE: Duplicate name ${A}`});return}this.manifest.definitions[A]=R};if("QUERYPARAM"in m.attributes){if("NAME"in m.attributes||"IMPORT"in m.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}const A=this.params.get(m.attributes.QUERYPARAM);if(!A){this.trigger("error",{message:`EXT-X-DEFINE: No query param ${m.attributes.QUERYPARAM}`});return}E(m.attributes.QUERYPARAM,decodeURIComponent(A));return}if("NAME"in m.attributes){if("IMPORT"in m.attributes){this.trigger("error",{message:"EXT-X-DEFINE: Invalid attributes"});return}if(!("VALUE"in m.attributes)||typeof m.attributes.VALUE!="string"){this.trigger("error",{message:`EXT-X-DEFINE: No value for ${m.attributes.NAME}`});return}E(m.attributes.NAME,m.attributes.VALUE);return}if("IMPORT"in m.attributes){if(!this.mainDefinitions[m.attributes.IMPORT]){this.trigger("error",{message:`EXT-X-DEFINE: No value ${m.attributes.IMPORT} to import, or IMPORT used on main playlist`});return}E(m.attributes.IMPORT,this.mainDefinitions[m.attributes.IMPORT]);return}this.trigger("error",{message:"EXT-X-DEFINE: No attribute"})},"i-frame-playlist"(){this.manifest.iFramePlaylists.push({attributes:m.attributes,uri:m.uri,timeline:d}),this.warnOnMissingAttributes_("#EXT-X-I-FRAME-STREAM-INF",m.attributes,["BANDWIDTH","URI"])}}[m.tagType]||l).call(i)},uri(){s.uri=m.uri,n.push(s),this.manifest.targetDuration&&!("duration"in s)&&(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),s.duration=this.manifest.targetDuration),a&&(s.key=a),s.timeline=d,r&&(s.map=r),f=0,this.lastProgramDateTime!==null&&(s.programDateTime=this.lastProgramDateTime,this.lastProgramDateTime+=s.duration*1e3),s={}},comment(){},custom(){m.segment?(s.custom=s.custom||{},s.custom[m.customType]=m.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[m.customType]=m.data)}})[m.type].call(i)})}requiredCompatibilityversion(e,i){(e<i||!e)&&this.trigger("warn",{message:`manifest must be at least version ${i}`})}warnOnMissingAttributes_(e,i,n){const s=[];n.forEach(function(r){i.hasOwnProperty(r)||s.push(r)}),s.length&&this.trigger("warn",{message:`${e} lacks required attribute(s): ${s.join(", ")}`})}push(e){this.lineStream.push(e)}end(){this.lineStream.push(`
`),this.manifest.dateRanges.length&&this.lastProgramDateTime===null&&this.trigger("warn",{message:"A playlist with EXT-X-DATERANGE tag must contain atleast one EXT-X-PROGRAM-DATE-TIME tag"}),this.lastProgramDateTime=null,this.trigger("end")}addParser(e){this.parseStream.addParser(e)}addTagMapper(e){this.parseStream.addTagMapper(e)}}var uc={mp4:/^(av0?1|avc0?[1234]|vp0?9|flac|opus|mp3|mp4a|mp4v|stpp.ttml.im1t)/,webm:/^(vp0?[89]|av0?1|opus|vorbis)/,ogg:/^(vp0?[89]|theora|flac|opus|vorbis)/,video:/^(av0?1|avc0?[1234]|vp0?[89]|hvc1|hev1|theora|mp4v)/,audio:/^(mp4a|flac|vorbis|opus|ac-[34]|ec-3|alac|mp3|speex|aac)/,text:/^(stpp.ttml.im1t)/,muxerVideo:/^(avc0?1)/,muxerAudio:/^(mp4a)/,muxerText:/a^/},_8e=["video","audio","text"],S7=["Video","Audio","Text"],DZ=function(e){return e&&e.replace(/avc1\.(\d+)\.(\d+)/i,function(i,n,s){var r=("00"+Number(n).toString(16)).slice(-2),a=("00"+Number(s).toString(16)).slice(-2);return"avc1."+r+"00"+a})},Pr=function(e){e===void 0&&(e="");var i=e.split(","),n=[];return i.forEach(function(s){s=s.trim();var r;_8e.forEach(function(a){var o=uc[a].exec(s.toLowerCase());if(!(!o||o.length<=1)){r=a;var l=s.substring(0,o[1].length),c=s.replace(l,"");n.push({type:l,details:c,mediaType:a})}}),r||n.push({type:s,details:"",mediaType:"unknown"})}),n},x8e=function(e,i){if(!e.mediaGroups.AUDIO||!i)return null;var n=e.mediaGroups.AUDIO[i];if(!n)return null;for(var s in n){var r=n[s];if(r.default&&r.playlists)return Pr(r.playlists[0].attributes.CODECS)}return null},MZ=function(e){return e===void 0&&(e=""),uc.audio.test(e.trim().toLowerCase())},N8e=function(e){return e===void 0&&(e=""),uc.text.test(e.trim().toLowerCase())},Bd=function(e){if(!(!e||typeof e!="string")){var i=e.toLowerCase().split(",").map(function(r){return DZ(r.trim())}),n="video";i.length===1&&MZ(i[0])?n="audio":i.length===1&&N8e(i[0])&&(n="application");var s="mp4";return i.every(function(r){return uc.mp4.test(r)})?s="mp4":i.every(function(r){return uc.webm.test(r)})?s="webm":i.every(function(r){return uc.ogg.test(r)})&&(s="ogg"),n+"/"+s+';codecs="'+e+'"'}},qf=function(e,i){return e===void 0&&(e=""),i===void 0&&(i=!1),K.MediaSource&&K.MediaSource.isTypeSupported&&K.MediaSource.isTypeSupported(Bd(e))||i&&K.ManagedMediaSource&&K.ManagedMediaSource.isTypeSupported&&K.ManagedMediaSource.isTypeSupported(Bd(e))||!1},SE=function(e){return e===void 0&&(e=""),e.toLowerCase().split(",").every(function(i){i=i.trim();for(var n=0;n<S7.length;n++){var s=S7[n];if(uc["muxer"+s].test(i))return!0}return!1})},T7="mp4a.40.2",V8e="avc1.4d400d",L8e=/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i,k8e=/^application\/dash\+xml/i,ZZ=function(e){return L8e.test(e)?"hls":k8e.test(e)?"dash":e==="application/vnd.videojs.vhs+json"?"vhs-json":null},F8e=function(e){return e.toString(2).length},U8e=function(e){return Math.ceil(F8e(e)/8)},PZ=function(e){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},B8e=function(e){return PZ(e)},je=function(e){return e instanceof Uint8Array?e:(!Array.isArray(e)&&!B8e(e)&&!(e instanceof ArrayBuffer)&&(typeof e!="number"||typeof e=="number"&&e!==e?e=0:e=[e]),new Uint8Array(e&&e.buffer||e,e&&e.byteOffset||0,e&&e.byteLength||0))},pn=K.BigInt||Number,SS=[pn("0x1"),pn("0x100"),pn("0x10000"),pn("0x1000000"),pn("0x100000000"),pn("0x10000000000"),pn("0x1000000000000"),pn("0x100000000000000"),pn("0x10000000000000000")];(function(){var t=new Uint16Array([65484]),e=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return e[0]===255?"big":e[0]===204?"little":"unknown"})();var W8e=function(e,i){var n=i===void 0?{}:i,s=n.signed,r=s===void 0?!1:s,a=n.le,o=a===void 0?!1:a;e=je(e);var l=o?"reduce":"reduceRight",c=e[l]?e[l]:Array.prototype[l],u=c.call(e,function(h,f,p){var m=o?p:Math.abs(p+1-e.length);return h+pn(f)*SS[m]},pn(0));if(r){var d=SS[e.length]/pn(2)-pn(1);u=pn(u),u>d&&(u-=d,u-=d,u-=pn(2))}return Number(u)},G8e=function(e,i){var n={},s=n.le,r=s===void 0?!1:s;(typeof e!="bigint"&&typeof e!="number"||typeof e=="number"&&e!==e)&&(e=0),e=pn(e);for(var a=U8e(e),o=new Uint8Array(new ArrayBuffer(a)),l=0;l<a;l++){var c=r?l:Math.abs(l+1-o.length);o[c]=Number(e/SS[l]&pn(255)),e<0&&(o[c]=Math.abs(~o[c]),o[c]-=l===0?1:2)}return o},OZ=function(e,i){if(typeof e!="string"&&e&&typeof e.toString=="function"&&(e=e.toString()),typeof e!="string")return new Uint8Array;i||(e=unescape(encodeURIComponent(e)));for(var n=new Uint8Array(e.length),s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n},D8e=function(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];if(i=i.filter(function(o){return o&&(o.byteLength||o.length)&&typeof o!="string"}),i.length<=1)return je(i[0]);var s=i.reduce(function(o,l,c){return o+(l.byteLength||l.length)},0),r=new Uint8Array(s),a=0;return i.forEach(function(o){o=je(o),r.set(o,a),a+=o.byteLength}),r},ui=function(e,i,n){var s=n===void 0?{}:n,r=s.offset,a=r===void 0?0:r,o=s.mask,l=o===void 0?[]:o;e=je(e),i=je(i);var c=i.every?i.every:Array.prototype.every;return i.length&&e.length-a>=i.length&&c.call(i,function(u,d){var h=l[d]?l[d]&e[a+d]:e[a+d];return u===h})},M8e=function(e,i,n){i.forEach(function(s){for(var r in e.mediaGroups[s])for(var a in e.mediaGroups[s][r]){var o=e.mediaGroups[s][r][a];n(o,s,r,a)}})},Al={},To={};function Z8e(t,e,i){if(i===void 0&&(i=Array.prototype),t&&typeof i.find=="function")return i.find.call(t,e);for(var n=0;n<t.length;n++)if(Object.prototype.hasOwnProperty.call(t,n)){var s=t[n];if(e.call(void 0,s,n,t))return s}}function i4(t,e){return e===void 0&&(e=Object),e&&typeof e.freeze=="function"?e.freeze(t):t}function P8e(t,e){if(t===null||typeof t!="object")throw new TypeError("target is not an object");for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}var XZ=i4({HTML:"text/html",isHTML:function(t){return t===XZ.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),YZ=i4({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(t){return t===YZ.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});To.assign=P8e;To.find=Z8e;To.freeze=i4;To.MIME_TYPE=XZ;To.NAMESPACE=YZ;var $Z=To,la=$Z.find,Wp=$Z.NAMESPACE;function O8e(t){return t!==""}function X8e(t){return t?t.split(/[\t\n\f\r ]+/).filter(O8e):[]}function Y8e(t,e){return t.hasOwnProperty(e)||(t[e]=!0),t}function C7(t){if(!t)return[];var e=X8e(t);return Object.keys(e.reduce(Y8e,{}))}function $8e(t){return function(e){return t&&t.indexOf(e)!==-1}}function C0(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}function ds(t,e){var i=t.prototype;if(!(i instanceof e)){let n=function(){};n.prototype=e.prototype,n=new n,C0(i,n),t.prototype=i=n}i.constructor!=t&&(typeof t!="function"&&console.error("unknown Class:"+t),i.constructor=t)}var hs={},Ks=hs.ELEMENT_NODE=1,Wd=hs.ATTRIBUTE_NODE=2,p2=hs.TEXT_NODE=3,KZ=hs.CDATA_SECTION_NODE=4,zZ=hs.ENTITY_REFERENCE_NODE=5,K8e=hs.ENTITY_NODE=6,JZ=hs.PROCESSING_INSTRUCTION_NODE=7,jZ=hs.COMMENT_NODE=8,HZ=hs.DOCUMENT_NODE=9,QZ=hs.DOCUMENT_TYPE_NODE=10,po=hs.DOCUMENT_FRAGMENT_NODE=11,z8e=hs.NOTATION_NODE=12,Vn={},ln={};Vn.INDEX_SIZE_ERR=(ln[1]="Index size error",1);Vn.DOMSTRING_SIZE_ERR=(ln[2]="DOMString size error",2);var Qn=Vn.HIERARCHY_REQUEST_ERR=(ln[3]="Hierarchy request error",3);Vn.WRONG_DOCUMENT_ERR=(ln[4]="Wrong document",4);Vn.INVALID_CHARACTER_ERR=(ln[5]="Invalid character",5);Vn.NO_DATA_ALLOWED_ERR=(ln[6]="No data allowed",6);Vn.NO_MODIFICATION_ALLOWED_ERR=(ln[7]="No modification allowed",7);var qZ=Vn.NOT_FOUND_ERR=(ln[8]="Not found",8);Vn.NOT_SUPPORTED_ERR=(ln[9]="Not supported",9);var R7=Vn.INUSE_ATTRIBUTE_ERR=(ln[10]="Attribute in use",10);Vn.INVALID_STATE_ERR=(ln[11]="Invalid state",11);Vn.SYNTAX_ERR=(ln[12]="Syntax error",12);Vn.INVALID_MODIFICATION_ERR=(ln[13]="Invalid modification",13);Vn.NAMESPACE_ERR=(ln[14]="Invalid namespace",14);Vn.INVALID_ACCESS_ERR=(ln[15]="Invalid access",15);function Vi(t,e){if(e instanceof Error)var i=e;else i=this,Error.call(this,ln[t]),this.message=ln[t],Error.captureStackTrace&&Error.captureStackTrace(this,Vi);return i.code=t,e&&(this.message=this.message+": "+e),i}Vi.prototype=Error.prototype;C0(Vn,Vi);function ao(){}ao.prototype={length:0,item:function(t){return t>=0&&t<this.length?this[t]:null},toString:function(t,e){for(var i=[],n=0;n<this.length;n++)Bu(this[n],i,t,e);return i.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}};function Gd(t,e){this._node=t,this._refresh=e,n4(this)}function n4(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var i=t._refresh(t._node);if(dP(t,"length",i.length),!t.$$length||i.length<t.$$length)for(var n=i.length;n in t;n++)Object.prototype.hasOwnProperty.call(t,n)&&delete t[n];C0(i,t),t._inc=e}}Gd.prototype.item=function(t){return n4(this),this[t]||null};ds(Gd,ao);function m2(){}function eP(t,e){for(var i=t.length;i--;)if(t[i]===e)return i}function I7(t,e,i,n){if(n?e[eP(e,n)]=i:e[e.length++]=i,t){i.ownerElement=t;var s=t.ownerDocument;s&&(n&&nP(s,t,n),J8e(s,t,i))}}function w7(t,e,i){var n=eP(e,i);if(n>=0){for(var s=e.length-1;n<s;)e[n]=e[++n];if(e.length=s,t){var r=t.ownerDocument;r&&(nP(r,t,i),i.ownerElement=null)}}else throw new Vi(qZ,new Error(t.tagName+"@"+i))}m2.prototype={length:0,item:ao.prototype.item,getNamedItem:function(t){for(var e=this.length;e--;){var i=this[e];if(i.nodeName==t)return i}},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!=this._ownerElement)throw new Vi(R7);var i=this.getNamedItem(t.nodeName);return I7(this._ownerElement,this,t,i),i},setNamedItemNS:function(t){var e=t.ownerElement,i;if(e&&e!=this._ownerElement)throw new Vi(R7);return i=this.getNamedItemNS(t.namespaceURI,t.localName),I7(this._ownerElement,this,t,i),i},removeNamedItem:function(t){var e=this.getNamedItem(t);return w7(this._ownerElement,this,e),e},removeNamedItemNS:function(t,e){var i=this.getNamedItemNS(t,e);return w7(this._ownerElement,this,i),i},getNamedItemNS:function(t,e){for(var i=this.length;i--;){var n=this[i];if(n.localName==e&&n.namespaceURI==t)return n}return null}};function tP(){}tP.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,i){var n=new R0;if(n.implementation=this,n.childNodes=new ao,n.doctype=i||null,i&&n.appendChild(i),e){var s=n.createElementNS(t,e);n.appendChild(s)}return n},createDocumentType:function(t,e,i){var n=new qy;return n.name=t,n.nodeName=t,n.publicId=e||"",n.systemId=i||"",n}};function Mt(){}Mt.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(t,e){return g2(this,t,e)},replaceChild:function(t,e){g2(this,t,e,rP),e&&this.removeChild(e)},removeChild:function(t){return sP(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(t){return TS(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&e.nodeType==p2&&t.nodeType==p2?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(t){for(var e=this;e;){var i=e._nsMap;if(i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)&&i[n]===t)return n}e=e.nodeType==Wd?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var i=e._nsMap;if(i&&Object.prototype.hasOwnProperty.call(i,t))return i[t];e=e.nodeType==Wd?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){var e=this.lookupPrefix(t);return e==null}};function iP(t){return t=="<"&&"&lt;"||t==">"&&"&gt;"||t=="&"&&"&amp;"||t=='"'&&"&quot;"||"&#"+t.charCodeAt()+";"}C0(hs,Mt);C0(hs,Mt.prototype);function Gp(t,e){if(e(t))return!0;if(t=t.firstChild)do if(Gp(t,e))return!0;while(t=t.nextSibling)}function R0(){this.ownerDocument=this}function J8e(t,e,i){t&&t._inc++;var n=i.namespaceURI;n===Wp.XMLNS&&(e._nsMap[i.prefix?i.localName:""]=i.value)}function nP(t,e,i,n){t&&t._inc++;var s=i.namespaceURI;s===Wp.XMLNS&&delete e._nsMap[i.prefix?i.localName:""]}function s4(t,e,i){if(t&&t._inc){t._inc++;var n=e.childNodes;if(i)n[n.length++]=i;else{for(var s=e.firstChild,r=0;s;)n[r++]=s,s=s.nextSibling;n.length=r,delete n[n.length]}}}function sP(t,e){var i=e.previousSibling,n=e.nextSibling;return i?i.nextSibling=n:t.firstChild=n,n?n.previousSibling=i:t.lastChild=i,e.parentNode=null,e.previousSibling=null,e.nextSibling=null,s4(t.ownerDocument,t),e}function j8e(t){return t&&(t.nodeType===Mt.DOCUMENT_NODE||t.nodeType===Mt.DOCUMENT_FRAGMENT_NODE||t.nodeType===Mt.ELEMENT_NODE)}function H8e(t){return t&&(ca(t)||r4(t)||mo(t)||t.nodeType===Mt.DOCUMENT_FRAGMENT_NODE||t.nodeType===Mt.COMMENT_NODE||t.nodeType===Mt.PROCESSING_INSTRUCTION_NODE)}function mo(t){return t&&t.nodeType===Mt.DOCUMENT_TYPE_NODE}function ca(t){return t&&t.nodeType===Mt.ELEMENT_NODE}function r4(t){return t&&t.nodeType===Mt.TEXT_NODE}function _7(t,e){var i=t.childNodes||[];if(la(i,ca)||mo(e))return!1;var n=la(i,mo);return!(e&&n&&i.indexOf(n)>i.indexOf(e))}function x7(t,e){var i=t.childNodes||[];function n(r){return ca(r)&&r!==e}if(la(i,n))return!1;var s=la(i,mo);return!(e&&s&&i.indexOf(s)>i.indexOf(e))}function Q8e(t,e,i){if(!j8e(t))throw new Vi(Qn,"Unexpected parent node type "+t.nodeType);if(i&&i.parentNode!==t)throw new Vi(qZ,"child not in parent");if(!H8e(e)||mo(e)&&t.nodeType!==Mt.DOCUMENT_NODE)throw new Vi(Qn,"Unexpected node type "+e.nodeType+" for parent node type "+t.nodeType)}function q8e(t,e,i){var n=t.childNodes||[],s=e.childNodes||[];if(e.nodeType===Mt.DOCUMENT_FRAGMENT_NODE){var r=s.filter(ca);if(r.length>1||la(s,r4))throw new Vi(Qn,"More than one element or text in fragment");if(r.length===1&&!_7(t,i))throw new Vi(Qn,"Element in fragment can not be inserted before doctype")}if(ca(e)&&!_7(t,i))throw new Vi(Qn,"Only one element can be added and only after doctype");if(mo(e)){if(la(n,mo))throw new Vi(Qn,"Only one doctype is allowed");var a=la(n,ca);if(i&&n.indexOf(a)<n.indexOf(i))throw new Vi(Qn,"Doctype can only be inserted before an element");if(!i&&a)throw new Vi(Qn,"Doctype can not be appended since element is present")}}function rP(t,e,i){var n=t.childNodes||[],s=e.childNodes||[];if(e.nodeType===Mt.DOCUMENT_FRAGMENT_NODE){var r=s.filter(ca);if(r.length>1||la(s,r4))throw new Vi(Qn,"More than one element or text in fragment");if(r.length===1&&!x7(t,i))throw new Vi(Qn,"Element in fragment can not be inserted before doctype")}if(ca(e)&&!x7(t,i))throw new Vi(Qn,"Only one element can be added and only after doctype");if(mo(e)){if(la(n,function(l){return mo(l)&&l!==i}))throw new Vi(Qn,"Only one doctype is allowed");var a=la(n,ca);if(i&&n.indexOf(a)<n.indexOf(i))throw new Vi(Qn,"Doctype can only be inserted before an element")}}function g2(t,e,i,n){Q8e(t,e,i),t.nodeType===Mt.DOCUMENT_NODE&&(n||q8e)(t,e,i);var s=e.parentNode;if(s&&s.removeChild(e),e.nodeType===po){var r=e.firstChild;if(r==null)return e;var a=e.lastChild}else r=a=e;var o=i?i.previousSibling:t.lastChild;r.previousSibling=o,a.nextSibling=i,o?o.nextSibling=r:t.firstChild=r,i==null?t.lastChild=a:i.previousSibling=a;do{r.parentNode=t;var l=t.ownerDocument||t;Dp(r,l)}while(r!==a&&(r=r.nextSibling));return s4(t.ownerDocument||t,t),e.nodeType==po&&(e.firstChild=e.lastChild=null),e}function Dp(t,e){if(t.ownerDocument!==e){if(t.ownerDocument=e,t.nodeType===Ks&&t.attributes)for(var i=0;i<t.attributes.length;i++){var n=t.attributes.item(i);n&&(n.ownerDocument=e)}for(var s=t.firstChild;s;)Dp(s,e),s=s.nextSibling}}function eIe(t,e){e.parentNode&&e.parentNode.removeChild(e),e.parentNode=t,e.previousSibling=t.lastChild,e.nextSibling=null,e.previousSibling?e.previousSibling.nextSibling=e:t.firstChild=e,t.lastChild=e,s4(t.ownerDocument,t,e);var i=t.ownerDocument||t;return Dp(e,i),e}R0.prototype={nodeName:"#document",nodeType:HZ,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(t.nodeType==po){for(var i=t.firstChild;i;){var n=i.nextSibling;this.insertBefore(i,e),i=n}return t}return g2(this,t,e),Dp(t,this),this.documentElement===null&&t.nodeType===Ks&&(this.documentElement=t),t},removeChild:function(t){return this.documentElement==t&&(this.documentElement=null),sP(this,t)},replaceChild:function(t,e){g2(this,t,e,rP),Dp(t,this),e&&this.removeChild(e),ca(t)&&(this.documentElement=t)},importNode:function(t,e){return uP(this,t,e)},getElementById:function(t){var e=null;return Gp(this.documentElement,function(i){if(i.nodeType==Ks&&i.getAttribute("id")==t)return e=i,!0}),e},getElementsByClassName:function(t){var e=C7(t);return new Gd(this,function(i){var n=[];return e.length>0&&Gp(i.documentElement,function(s){if(s!==i&&s.nodeType===Ks){var r=s.getAttribute("class");if(r){var a=t===r;if(!a){var o=C7(r);a=e.every($8e(o))}a&&n.push(s)}}}),n})},createElement:function(t){var e=new wc;e.ownerDocument=this,e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new ao;var i=e.attributes=new m2;return i._ownerElement=e,e},createDocumentFragment:function(){var t=new eb;return t.ownerDocument=this,t.childNodes=new ao,t},createTextNode:function(t){var e=new a4;return e.ownerDocument=this,e.appendData(t),e},createComment:function(t){var e=new o4;return e.ownerDocument=this,e.appendData(t),e},createCDATASection:function(t){var e=new l4;return e.ownerDocument=this,e.appendData(t),e},createProcessingInstruction:function(t,e){var i=new u4;return i.ownerDocument=this,i.tagName=i.nodeName=i.target=t,i.nodeValue=i.data=e,i},createAttribute:function(t){var e=new y2;return e.ownerDocument=this,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){var e=new c4;return e.ownerDocument=this,e.nodeName=t,e},createElementNS:function(t,e){var i=new wc,n=e.split(":"),s=i.attributes=new m2;return i.childNodes=new ao,i.ownerDocument=this,i.nodeName=e,i.tagName=e,i.namespaceURI=t,n.length==2?(i.prefix=n[0],i.localName=n[1]):i.localName=e,s._ownerElement=i,i},createAttributeNS:function(t,e){var i=new y2,n=e.split(":");return i.ownerDocument=this,i.nodeName=e,i.name=e,i.namespaceURI=t,i.specified=!0,n.length==2?(i.prefix=n[0],i.localName=n[1]):i.localName=e,i}};ds(R0,Mt);function wc(){this._nsMap={}}wc.prototype={nodeType:Ks,hasAttribute:function(t){return this.getAttributeNode(t)!=null},getAttribute:function(t){var e=this.getAttributeNode(t);return e&&e.value||""},getAttributeNode:function(t){return this.attributes.getNamedItem(t)},setAttribute:function(t,e){var i=this.ownerDocument.createAttribute(t);i.value=i.nodeValue=""+e,this.setAttributeNode(i)},removeAttribute:function(t){var e=this.getAttributeNode(t);e&&this.removeAttributeNode(e)},appendChild:function(t){return t.nodeType===po?this.insertBefore(t,null):eIe(this,t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);i&&this.removeAttributeNode(i)},hasAttributeNS:function(t,e){return this.getAttributeNodeNS(t,e)!=null},getAttributeNS:function(t,e){var i=this.getAttributeNodeNS(t,e);return i&&i.value||""},setAttributeNS:function(t,e,i){var n=this.ownerDocument.createAttributeNS(t,e);n.value=n.nodeValue=""+i,this.setAttributeNode(n)},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByTagName:function(t){return new Gd(this,function(e){var i=[];return Gp(e,function(n){n!==e&&n.nodeType==Ks&&(t==="*"||n.tagName==t)&&i.push(n)}),i})},getElementsByTagNameNS:function(t,e){return new Gd(this,function(i){var n=[];return Gp(i,function(s){s!==i&&s.nodeType===Ks&&(t==="*"||s.namespaceURI===t)&&(e==="*"||s.localName==e)&&n.push(s)}),n})}};R0.prototype.getElementsByTagName=wc.prototype.getElementsByTagName;R0.prototype.getElementsByTagNameNS=wc.prototype.getElementsByTagNameNS;ds(wc,Mt);function y2(){}y2.prototype.nodeType=Wd;ds(y2,Mt);function I0(){}I0.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},appendChild:function(t){throw new Error(ln[Qn])},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,i){var n=this.data.substring(0,t),s=this.data.substring(t+e);i=n+i+s,this.nodeValue=this.data=i,this.length=i.length}};ds(I0,Mt);function a4(){}a4.prototype={nodeName:"#text",nodeType:p2,splitText:function(t){var e=this.data,i=e.substring(t);e=e.substring(0,t),this.data=this.nodeValue=e,this.length=e.length;var n=this.ownerDocument.createTextNode(i);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};ds(a4,I0);function o4(){}o4.prototype={nodeName:"#comment",nodeType:jZ};ds(o4,I0);function l4(){}l4.prototype={nodeName:"#cdata-section",nodeType:KZ};ds(l4,I0);function qy(){}qy.prototype.nodeType=QZ;ds(qy,Mt);function aP(){}aP.prototype.nodeType=z8e;ds(aP,Mt);function oP(){}oP.prototype.nodeType=K8e;ds(oP,Mt);function c4(){}c4.prototype.nodeType=zZ;ds(c4,Mt);function eb(){}eb.prototype.nodeName="#document-fragment";eb.prototype.nodeType=po;ds(eb,Mt);function u4(){}u4.prototype.nodeType=JZ;ds(u4,Mt);function lP(){}lP.prototype.serializeToString=function(t,e,i){return cP.call(t,e,i)};Mt.prototype.toString=cP;function cP(t,e){var i=[],n=this.nodeType==9&&this.documentElement||this,s=n.prefix,r=n.namespaceURI;if(r&&s==null){var s=n.lookupPrefix(r);if(s==null)var a=[{namespace:r,prefix:null}]}return Bu(this,i,t,e,a),i.join("")}function N7(t,e,i){var n=t.prefix||"",s=t.namespaceURI;if(!s||n==="xml"&&s===Wp.XML||s===Wp.XMLNS)return!1;for(var r=i.length;r--;){var a=i[r];if(a.prefix===n)return a.namespace!==s}return!0}function TE(t,e,i){t.push(" ",e,'="',i.replace(/[<>&"\t\n\r]/g,iP),'"')}function Bu(t,e,i,n,s){if(s||(s=[]),n)if(t=n(t),t){if(typeof t=="string"){e.push(t);return}}else return;switch(t.nodeType){case Ks:var r=t.attributes,a=r.length,g=t.firstChild,o=t.tagName;i=Wp.isHTML(t.namespaceURI)||i;var l=o;if(!i&&!t.prefix&&t.namespaceURI){for(var c,u=0;u<r.length;u++)if(r.item(u).name==="xmlns"){c=r.item(u).value;break}if(!c)for(var d=s.length-1;d>=0;d--){var h=s[d];if(h.prefix===""&&h.namespace===t.namespaceURI){c=h.namespace;break}}if(c!==t.namespaceURI)for(var d=s.length-1;d>=0;d--){var h=s[d];if(h.namespace===t.namespaceURI){h.prefix&&(l=h.prefix+":"+o);break}}}e.push("<",l);for(var f=0;f<a;f++){var p=r.item(f);p.prefix=="xmlns"?s.push({prefix:p.localName,namespace:p.value}):p.nodeName=="xmlns"&&s.push({prefix:"",namespace:p.value})}for(var f=0;f<a;f++){var p=r.item(f);if(N7(p,i,s)){var m=p.prefix||"",v=p.namespaceURI;TE(e,m?"xmlns:"+m:"xmlns",v),s.push({prefix:m,namespace:v})}Bu(p,e,i,n,s)}if(o===l&&N7(t,i,s)){var m=t.prefix||"",v=t.namespaceURI;TE(e,m?"xmlns:"+m:"xmlns",v),s.push({prefix:m,namespace:v})}if(g||i&&!/^(?:meta|link|img|br|hr|input)$/i.test(o)){if(e.push(">"),i&&/^script$/i.test(o))for(;g;)g.data?e.push(g.data):Bu(g,e,i,n,s.slice()),g=g.nextSibling;else for(;g;)Bu(g,e,i,n,s.slice()),g=g.nextSibling;e.push("</",l,">")}else e.push("/>");return;case HZ:case po:for(var g=t.firstChild;g;)Bu(g,e,i,n,s.slice()),g=g.nextSibling;return;case Wd:return TE(e,t.name,t.value);case p2:return e.push(t.data.replace(/[<&>]/g,iP));case KZ:return e.push("<![CDATA[",t.data,"]]>");case jZ:return e.push("<!--",t.data,"-->");case QZ:var E=t.publicId,A=t.systemId;if(e.push("<!DOCTYPE ",t.name),E)e.push(" PUBLIC ",E),A&&A!="."&&e.push(" ",A),e.push(">");else if(A&&A!=".")e.push(" SYSTEM ",A,">");else{var R=t.internalSubset;R&&e.push(" [",R,"]"),e.push(">")}return;case JZ:return e.push("<?",t.target," ",t.data,"?>");case zZ:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function uP(t,e,i){var n;switch(e.nodeType){case Ks:n=e.cloneNode(!1),n.ownerDocument=t;case po:break;case Wd:i=!0;break}if(n||(n=e.cloneNode(!1)),n.ownerDocument=t,n.parentNode=null,i)for(var s=e.firstChild;s;)n.appendChild(uP(t,s,i)),s=s.nextSibling;return n}function TS(t,e,i){var n=new e.constructor;for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){var r=e[s];typeof r!="object"&&r!=n[s]&&(n[s]=r)}switch(e.childNodes&&(n.childNodes=new ao),n.ownerDocument=t,n.nodeType){case Ks:var a=e.attributes,o=n.attributes=new m2,l=a.length;o._ownerElement=n;for(var c=0;c<l;c++)n.setAttributeNode(TS(t,a.item(c),!0));break;case Wd:i=!0}if(i)for(var u=e.firstChild;u;)n.appendChild(TS(t,u,i)),u=u.nextSibling;return n}function dP(t,e,i){t[e]=i}try{if(Object.defineProperty){let t=function(e){switch(e.nodeType){case Ks:case po:var i=[];for(e=e.firstChild;e;)e.nodeType!==7&&e.nodeType!==8&&i.push(t(e)),e=e.nextSibling;return i.join("");default:return e.nodeValue}};Object.defineProperty(Gd.prototype,"length",{get:function(){return n4(this),this.$$length}}),Object.defineProperty(Mt.prototype,"textContent",{get:function(){return t(this)},set:function(e){switch(this.nodeType){case Ks:case po:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),dP=function(e,i,n){e["$$"+i]=n}}}catch{}Al.DocumentType=qy;Al.DOMException=Vi;Al.DOMImplementation=tP;Al.Element=wc;Al.Node=Mt;Al.NodeList=ao;Al.XMLSerializer=lP;var tb={},hP={};(function(t){var e=To.freeze;t.XML_ENTITIES=e({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=e({Aacute:"",aacute:"",Abreve:"",abreve:"",ac:"",acd:"",acE:"",Acirc:"",acirc:"",acute:"",Acy:"",acy:"",AElig:"",aelig:"",af:"",Afr:"",afr:"",Agrave:"",agrave:"",alefsym:"",aleph:"",Alpha:"",alpha:"",Amacr:"",amacr:"",amalg:"",AMP:"&",amp:"&",And:"",and:"",andand:"",andd:"",andslope:"",andv:"",ang:"",ange:"",angle:"",angmsd:"",angmsdaa:"",angmsdab:"",angmsdac:"",angmsdad:"",angmsdae:"",angmsdaf:"",angmsdag:"",angmsdah:"",angrt:"",angrtvb:"",angrtvbd:"",angsph:"",angst:"",angzarr:"",Aogon:"",aogon:"",Aopf:"",aopf:"",ap:"",apacir:"",apE:"",ape:"",apid:"",apos:"'",ApplyFunction:"",approx:"",approxeq:"",Aring:"",aring:"",Ascr:"",ascr:"",Assign:"",ast:"*",asymp:"",asympeq:"",Atilde:"",atilde:"",Auml:"",auml:"",awconint:"",awint:"",backcong:"",backepsilon:"",backprime:"",backsim:"",backsimeq:"",Backslash:"",Barv:"",barvee:"",Barwed:"",barwed:"",barwedge:"",bbrk:"",bbrktbrk:"",bcong:"",Bcy:"",bcy:"",bdquo:"",becaus:"",Because:"",because:"",bemptyv:"",bepsi:"",bernou:"",Bernoullis:"",Beta:"",beta:"",beth:"",between:"",Bfr:"",bfr:"",bigcap:"",bigcirc:"",bigcup:"",bigodot:"",bigoplus:"",bigotimes:"",bigsqcup:"",bigstar:"",bigtriangledown:"",bigtriangleup:"",biguplus:"",bigvee:"",bigwedge:"",bkarow:"",blacklozenge:"",blacksquare:"",blacktriangle:"",blacktriangledown:"",blacktriangleleft:"",blacktriangleright:"",blank:"",blk12:"",blk14:"",blk34:"",block:"",bne:"=",bnequiv:"",bNot:"",bnot:"",Bopf:"",bopf:"",bot:"",bottom:"",bowtie:"",boxbox:"",boxDL:"",boxDl:"",boxdL:"",boxdl:"",boxDR:"",boxDr:"",boxdR:"",boxdr:"",boxH:"",boxh:"",boxHD:"",boxHd:"",boxhD:"",boxhd:"",boxHU:"",boxHu:"",boxhU:"",boxhu:"",boxminus:"",boxplus:"",boxtimes:"",boxUL:"",boxUl:"",boxuL:"",boxul:"",boxUR:"",boxUr:"",boxuR:"",boxur:"",boxV:"",boxv:"",boxVH:"",boxVh:"",boxvH:"",boxvh:"",boxVL:"",boxVl:"",boxvL:"",boxvl:"",boxVR:"",boxVr:"",boxvR:"",boxvr:"",bprime:"",Breve:"",breve:"",brvbar:"",Bscr:"",bscr:"",bsemi:"",bsim:"",bsime:"",bsol:"\\",bsolb:"",bsolhsub:"",bull:"",bullet:"",bump:"",bumpE:"",bumpe:"",Bumpeq:"",bumpeq:"",Cacute:"",cacute:"",Cap:"",cap:"",capand:"",capbrcup:"",capcap:"",capcup:"",capdot:"",CapitalDifferentialD:"",caps:"",caret:"",caron:"",Cayleys:"",ccaps:"",Ccaron:"",ccaron:"",Ccedil:"",ccedil:"",Ccirc:"",ccirc:"",Cconint:"",ccups:"",ccupssm:"",Cdot:"",cdot:"",cedil:"",Cedilla:"",cemptyv:"",cent:"",CenterDot:"",centerdot:"",Cfr:"",cfr:"",CHcy:"",chcy:"",check:"",checkmark:"",Chi:"",chi:"",cir:"",circ:"",circeq:"",circlearrowleft:"",circlearrowright:"",circledast:"",circledcirc:"",circleddash:"",CircleDot:"",circledR:"",circledS:"",CircleMinus:"",CirclePlus:"",CircleTimes:"",cirE:"",cire:"",cirfnint:"",cirmid:"",cirscir:"",ClockwiseContourIntegral:"",CloseCurlyDoubleQuote:"",CloseCurlyQuote:"",clubs:"",clubsuit:"",Colon:"",colon:":",Colone:"",colone:"",coloneq:"",comma:",",commat:"@",comp:"",compfn:"",complement:"",complexes:"",cong:"",congdot:"",Congruent:"",Conint:"",conint:"",ContourIntegral:"",Copf:"",copf:"",coprod:"",Coproduct:"",COPY:"",copy:"",copysr:"",CounterClockwiseContourIntegral:"",crarr:"",Cross:"",cross:"",Cscr:"",cscr:"",csub:"",csube:"",csup:"",csupe:"",ctdot:"",cudarrl:"",cudarrr:"",cuepr:"",cuesc:"",cularr:"",cularrp:"",Cup:"",cup:"",cupbrcap:"",CupCap:"",cupcap:"",cupcup:"",cupdot:"",cupor:"",cups:"",curarr:"",curarrm:"",curlyeqprec:"",curlyeqsucc:"",curlyvee:"",curlywedge:"",curren:"",curvearrowleft:"",curvearrowright:"",cuvee:"",cuwed:"",cwconint:"",cwint:"",cylcty:"",Dagger:"",dagger:"",daleth:"",Darr:"",dArr:"",darr:"",dash:"",Dashv:"",dashv:"",dbkarow:"",dblac:"",Dcaron:"",dcaron:"",Dcy:"",dcy:"",DD:"",dd:"",ddagger:"",ddarr:"",DDotrahd:"",ddotseq:"",deg:"",Del:"",Delta:"",delta:"",demptyv:"",dfisht:"",Dfr:"",dfr:"",dHar:"",dharl:"",dharr:"",DiacriticalAcute:"",DiacriticalDot:"",DiacriticalDoubleAcute:"",DiacriticalGrave:"`",DiacriticalTilde:"",diam:"",Diamond:"",diamond:"",diamondsuit:"",diams:"",die:"",DifferentialD:"",digamma:"",disin:"",div:"",divide:"",divideontimes:"",divonx:"",DJcy:"",djcy:"",dlcorn:"",dlcrop:"",dollar:"$",Dopf:"",dopf:"",Dot:"",dot:"",DotDot:"",doteq:"",doteqdot:"",DotEqual:"",dotminus:"",dotplus:"",dotsquare:"",doublebarwedge:"",DoubleContourIntegral:"",DoubleDot:"",DoubleDownArrow:"",DoubleLeftArrow:"",DoubleLeftRightArrow:"",DoubleLeftTee:"",DoubleLongLeftArrow:"",DoubleLongLeftRightArrow:"",DoubleLongRightArrow:"",DoubleRightArrow:"",DoubleRightTee:"",DoubleUpArrow:"",DoubleUpDownArrow:"",DoubleVerticalBar:"",DownArrow:"",Downarrow:"",downarrow:"",DownArrowBar:"",DownArrowUpArrow:"",DownBreve:"",downdownarrows:"",downharpoonleft:"",downharpoonright:"",DownLeftRightVector:"",DownLeftTeeVector:"",DownLeftVector:"",DownLeftVectorBar:"",DownRightTeeVector:"",DownRightVector:"",DownRightVectorBar:"",DownTee:"",DownTeeArrow:"",drbkarow:"",drcorn:"",drcrop:"",Dscr:"",dscr:"",DScy:"",dscy:"",dsol:"",Dstrok:"",dstrok:"",dtdot:"",dtri:"",dtrif:"",duarr:"",duhar:"",dwangle:"",DZcy:"",dzcy:"",dzigrarr:"",Eacute:"",eacute:"",easter:"",Ecaron:"",ecaron:"",ecir:"",Ecirc:"",ecirc:"",ecolon:"",Ecy:"",ecy:"",eDDot:"",Edot:"",eDot:"",edot:"",ee:"",efDot:"",Efr:"",efr:"",eg:"",Egrave:"",egrave:"",egs:"",egsdot:"",el:"",Element:"",elinters:"",ell:"",els:"",elsdot:"",Emacr:"",emacr:"",empty:"",emptyset:"",EmptySmallSquare:"",emptyv:"",EmptyVerySmallSquare:"",emsp:"",emsp13:"",emsp14:"",ENG:"",eng:"",ensp:"",Eogon:"",eogon:"",Eopf:"",eopf:"",epar:"",eparsl:"",eplus:"",epsi:"",Epsilon:"",epsilon:"",epsiv:"",eqcirc:"",eqcolon:"",eqsim:"",eqslantgtr:"",eqslantless:"",Equal:"",equals:"=",EqualTilde:"",equest:"",Equilibrium:"",equiv:"",equivDD:"",eqvparsl:"",erarr:"",erDot:"",Escr:"",escr:"",esdot:"",Esim:"",esim:"",Eta:"",eta:"",ETH:"",eth:"",Euml:"",euml:"",euro:"",excl:"!",exist:"",Exists:"",expectation:"",ExponentialE:"",exponentiale:"",fallingdotseq:"",Fcy:"",fcy:"",female:"",ffilig:"",fflig:"",ffllig:"",Ffr:"",ffr:"",filig:"",FilledSmallSquare:"",FilledVerySmallSquare:"",fjlig:"fj",flat:"",fllig:"",fltns:"",fnof:"",Fopf:"",fopf:"",ForAll:"",forall:"",fork:"",forkv:"",Fouriertrf:"",fpartint:"",frac12:"",frac13:"",frac14:"",frac15:"",frac16:"",frac18:"",frac23:"",frac25:"",frac34:"",frac35:"",frac38:"",frac45:"",frac56:"",frac58:"",frac78:"",frasl:"",frown:"",Fscr:"",fscr:"",gacute:"",Gamma:"",gamma:"",Gammad:"",gammad:"",gap:"",Gbreve:"",gbreve:"",Gcedil:"",Gcirc:"",gcirc:"",Gcy:"",gcy:"",Gdot:"",gdot:"",gE:"",ge:"",gEl:"",gel:"",geq:"",geqq:"",geqslant:"",ges:"",gescc:"",gesdot:"",gesdoto:"",gesdotol:"",gesl:"",gesles:"",Gfr:"",gfr:"",Gg:"",gg:"",ggg:"",gimel:"",GJcy:"",gjcy:"",gl:"",gla:"",glE:"",glj:"",gnap:"",gnapprox:"",gnE:"",gne:"",gneq:"",gneqq:"",gnsim:"",Gopf:"",gopf:"",grave:"`",GreaterEqual:"",GreaterEqualLess:"",GreaterFullEqual:"",GreaterGreater:"",GreaterLess:"",GreaterSlantEqual:"",GreaterTilde:"",Gscr:"",gscr:"",gsim:"",gsime:"",gsiml:"",Gt:"",GT:">",gt:">",gtcc:"",gtcir:"",gtdot:"",gtlPar:"",gtquest:"",gtrapprox:"",gtrarr:"",gtrdot:"",gtreqless:"",gtreqqless:"",gtrless:"",gtrsim:"",gvertneqq:"",gvnE:"",Hacek:"",hairsp:"",half:"",hamilt:"",HARDcy:"",hardcy:"",hArr:"",harr:"",harrcir:"",harrw:"",Hat:"^",hbar:"",Hcirc:"",hcirc:"",hearts:"",heartsuit:"",hellip:"",hercon:"",Hfr:"",hfr:"",HilbertSpace:"",hksearow:"",hkswarow:"",hoarr:"",homtht:"",hookleftarrow:"",hookrightarrow:"",Hopf:"",hopf:"",horbar:"",HorizontalLine:"",Hscr:"",hscr:"",hslash:"",Hstrok:"",hstrok:"",HumpDownHump:"",HumpEqual:"",hybull:"",hyphen:"",Iacute:"",iacute:"",ic:"",Icirc:"",icirc:"",Icy:"",icy:"",Idot:"",IEcy:"",iecy:"",iexcl:"",iff:"",Ifr:"",ifr:"",Igrave:"",igrave:"",ii:"",iiiint:"",iiint:"",iinfin:"",iiota:"",IJlig:"",ijlig:"",Im:"",Imacr:"",imacr:"",image:"",ImaginaryI:"",imagline:"",imagpart:"",imath:"",imof:"",imped:"",Implies:"",in:"",incare:"",infin:"",infintie:"",inodot:"",Int:"",int:"",intcal:"",integers:"",Integral:"",intercal:"",Intersection:"",intlarhk:"",intprod:"",InvisibleComma:"",InvisibleTimes:"",IOcy:"",iocy:"",Iogon:"",iogon:"",Iopf:"",iopf:"",Iota:"",iota:"",iprod:"",iquest:"",Iscr:"",iscr:"",isin:"",isindot:"",isinE:"",isins:"",isinsv:"",isinv:"",it:"",Itilde:"",itilde:"",Iukcy:"",iukcy:"",Iuml:"",iuml:"",Jcirc:"",jcirc:"",Jcy:"",jcy:"",Jfr:"",jfr:"",jmath:"",Jopf:"",jopf:"",Jscr:"",jscr:"",Jsercy:"",jsercy:"",Jukcy:"",jukcy:"",Kappa:"",kappa:"",kappav:"",Kcedil:"",kcedil:"",Kcy:"",kcy:"",Kfr:"",kfr:"",kgreen:"",KHcy:"",khcy:"",KJcy:"",kjcy:"",Kopf:"",kopf:"",Kscr:"",kscr:"",lAarr:"",Lacute:"",lacute:"",laemptyv:"",lagran:"",Lambda:"",lambda:"",Lang:"",lang:"",langd:"",langle:"",lap:"",Laplacetrf:"",laquo:"",Larr:"",lArr:"",larr:"",larrb:"",larrbfs:"",larrfs:"",larrhk:"",larrlp:"",larrpl:"",larrsim:"",larrtl:"",lat:"",lAtail:"",latail:"",late:"",lates:"",lBarr:"",lbarr:"",lbbrk:"",lbrace:"{",lbrack:"[",lbrke:"",lbrksld:"",lbrkslu:"",Lcaron:"",lcaron:"",Lcedil:"",lcedil:"",lceil:"",lcub:"{",Lcy:"",lcy:"",ldca:"",ldquo:"",ldquor:"",ldrdhar:"",ldrushar:"",ldsh:"",lE:"",le:"",LeftAngleBracket:"",LeftArrow:"",Leftarrow:"",leftarrow:"",LeftArrowBar:"",LeftArrowRightArrow:"",leftarrowtail:"",LeftCeiling:"",LeftDoubleBracket:"",LeftDownTeeVector:"",LeftDownVector:"",LeftDownVectorBar:"",LeftFloor:"",leftharpoondown:"",leftharpoonup:"",leftleftarrows:"",LeftRightArrow:"",Leftrightarrow:"",leftrightarrow:"",leftrightarrows:"",leftrightharpoons:"",leftrightsquigarrow:"",LeftRightVector:"",LeftTee:"",LeftTeeArrow:"",LeftTeeVector:"",leftthreetimes:"",LeftTriangle:"",LeftTriangleBar:"",LeftTriangleEqual:"",LeftUpDownVector:"",LeftUpTeeVector:"",LeftUpVector:"",LeftUpVectorBar:"",LeftVector:"",LeftVectorBar:"",lEg:"",leg:"",leq:"",leqq:"",leqslant:"",les:"",lescc:"",lesdot:"",lesdoto:"",lesdotor:"",lesg:"",lesges:"",lessapprox:"",lessdot:"",lesseqgtr:"",lesseqqgtr:"",LessEqualGreater:"",LessFullEqual:"",LessGreater:"",lessgtr:"",LessLess:"",lesssim:"",LessSlantEqual:"",LessTilde:"",lfisht:"",lfloor:"",Lfr:"",lfr:"",lg:"",lgE:"",lHar:"",lhard:"",lharu:"",lharul:"",lhblk:"",LJcy:"",ljcy:"",Ll:"",ll:"",llarr:"",llcorner:"",Lleftarrow:"",llhard:"",lltri:"",Lmidot:"",lmidot:"",lmoust:"",lmoustache:"",lnap:"",lnapprox:"",lnE:"",lne:"",lneq:"",lneqq:"",lnsim:"",loang:"",loarr:"",lobrk:"",LongLeftArrow:"",Longleftarrow:"",longleftarrow:"",LongLeftRightArrow:"",Longleftrightarrow:"",longleftrightarrow:"",longmapsto:"",LongRightArrow:"",Longrightarrow:"",longrightarrow:"",looparrowleft:"",looparrowright:"",lopar:"",Lopf:"",lopf:"",loplus:"",lotimes:"",lowast:"",lowbar:"_",LowerLeftArrow:"",LowerRightArrow:"",loz:"",lozenge:"",lozf:"",lpar:"(",lparlt:"",lrarr:"",lrcorner:"",lrhar:"",lrhard:"",lrm:"",lrtri:"",lsaquo:"",Lscr:"",lscr:"",Lsh:"",lsh:"",lsim:"",lsime:"",lsimg:"",lsqb:"[",lsquo:"",lsquor:"",Lstrok:"",lstrok:"",Lt:"",LT:"<",lt:"<",ltcc:"",ltcir:"",ltdot:"",lthree:"",ltimes:"",ltlarr:"",ltquest:"",ltri:"",ltrie:"",ltrif:"",ltrPar:"",lurdshar:"",luruhar:"",lvertneqq:"",lvnE:"",macr:"",male:"",malt:"",maltese:"",Map:"",map:"",mapsto:"",mapstodown:"",mapstoleft:"",mapstoup:"",marker:"",mcomma:"",Mcy:"",mcy:"",mdash:"",mDDot:"",measuredangle:"",MediumSpace:"",Mellintrf:"",Mfr:"",mfr:"",mho:"",micro:"",mid:"",midast:"*",midcir:"",middot:"",minus:"",minusb:"",minusd:"",minusdu:"",MinusPlus:"",mlcp:"",mldr:"",mnplus:"",models:"",Mopf:"",mopf:"",mp:"",Mscr:"",mscr:"",mstpos:"",Mu:"",mu:"",multimap:"",mumap:"",nabla:"",Nacute:"",nacute:"",nang:"",nap:"",napE:"",napid:"",napos:"",napprox:"",natur:"",natural:"",naturals:"",nbsp:"",nbump:"",nbumpe:"",ncap:"",Ncaron:"",ncaron:"",Ncedil:"",ncedil:"",ncong:"",ncongdot:"",ncup:"",Ncy:"",ncy:"",ndash:"",ne:"",nearhk:"",neArr:"",nearr:"",nearrow:"",nedot:"",NegativeMediumSpace:"",NegativeThickSpace:"",NegativeThinSpace:"",NegativeVeryThinSpace:"",nequiv:"",nesear:"",nesim:"",NestedGreaterGreater:"",NestedLessLess:"",NewLine:`
`,nexist:"",nexists:"",Nfr:"",nfr:"",ngE:"",nge:"",ngeq:"",ngeqq:"",ngeqslant:"",nges:"",nGg:"",ngsim:"",nGt:"",ngt:"",ngtr:"",nGtv:"",nhArr:"",nharr:"",nhpar:"",ni:"",nis:"",nisd:"",niv:"",NJcy:"",njcy:"",nlArr:"",nlarr:"",nldr:"",nlE:"",nle:"",nLeftarrow:"",nleftarrow:"",nLeftrightarrow:"",nleftrightarrow:"",nleq:"",nleqq:"",nleqslant:"",nles:"",nless:"",nLl:"",nlsim:"",nLt:"",nlt:"",nltri:"",nltrie:"",nLtv:"",nmid:"",NoBreak:"",NonBreakingSpace:"",Nopf:"",nopf:"",Not:"",not:"",NotCongruent:"",NotCupCap:"",NotDoubleVerticalBar:"",NotElement:"",NotEqual:"",NotEqualTilde:"",NotExists:"",NotGreater:"",NotGreaterEqual:"",NotGreaterFullEqual:"",NotGreaterGreater:"",NotGreaterLess:"",NotGreaterSlantEqual:"",NotGreaterTilde:"",NotHumpDownHump:"",NotHumpEqual:"",notin:"",notindot:"",notinE:"",notinva:"",notinvb:"",notinvc:"",NotLeftTriangle:"",NotLeftTriangleBar:"",NotLeftTriangleEqual:"",NotLess:"",NotLessEqual:"",NotLessGreater:"",NotLessLess:"",NotLessSlantEqual:"",NotLessTilde:"",NotNestedGreaterGreater:"",NotNestedLessLess:"",notni:"",notniva:"",notnivb:"",notnivc:"",NotPrecedes:"",NotPrecedesEqual:"",NotPrecedesSlantEqual:"",NotReverseElement:"",NotRightTriangle:"",NotRightTriangleBar:"",NotRightTriangleEqual:"",NotSquareSubset:"",NotSquareSubsetEqual:"",NotSquareSuperset:"",NotSquareSupersetEqual:"",NotSubset:"",NotSubsetEqual:"",NotSucceeds:"",NotSucceedsEqual:"",NotSucceedsSlantEqual:"",NotSucceedsTilde:"",NotSuperset:"",NotSupersetEqual:"",NotTilde:"",NotTildeEqual:"",NotTildeFullEqual:"",NotTildeTilde:"",NotVerticalBar:"",npar:"",nparallel:"",nparsl:"",npart:"",npolint:"",npr:"",nprcue:"",npre:"",nprec:"",npreceq:"",nrArr:"",nrarr:"",nrarrc:"",nrarrw:"",nRightarrow:"",nrightarrow:"",nrtri:"",nrtrie:"",nsc:"",nsccue:"",nsce:"",Nscr:"",nscr:"",nshortmid:"",nshortparallel:"",nsim:"",nsime:"",nsimeq:"",nsmid:"",nspar:"",nsqsube:"",nsqsupe:"",nsub:"",nsubE:"",nsube:"",nsubset:"",nsubseteq:"",nsubseteqq:"",nsucc:"",nsucceq:"",nsup:"",nsupE:"",nsupe:"",nsupset:"",nsupseteq:"",nsupseteqq:"",ntgl:"",Ntilde:"",ntilde:"",ntlg:"",ntriangleleft:"",ntrianglelefteq:"",ntriangleright:"",ntrianglerighteq:"",Nu:"",nu:"",num:"#",numero:"",numsp:"",nvap:"",nVDash:"",nVdash:"",nvDash:"",nvdash:"",nvge:"",nvgt:">",nvHarr:"",nvinfin:"",nvlArr:"",nvle:"",nvlt:"<",nvltrie:"",nvrArr:"",nvrtrie:"",nvsim:"",nwarhk:"",nwArr:"",nwarr:"",nwarrow:"",nwnear:"",Oacute:"",oacute:"",oast:"",ocir:"",Ocirc:"",ocirc:"",Ocy:"",ocy:"",odash:"",Odblac:"",odblac:"",odiv:"",odot:"",odsold:"",OElig:"",oelig:"",ofcir:"",Ofr:"",ofr:"",ogon:"",Ograve:"",ograve:"",ogt:"",ohbar:"",ohm:"",oint:"",olarr:"",olcir:"",olcross:"",oline:"",olt:"",Omacr:"",omacr:"",Omega:"",omega:"",Omicron:"",omicron:"",omid:"",ominus:"",Oopf:"",oopf:"",opar:"",OpenCurlyDoubleQuote:"",OpenCurlyQuote:"",operp:"",oplus:"",Or:"",or:"",orarr:"",ord:"",order:"",orderof:"",ordf:"",ordm:"",origof:"",oror:"",orslope:"",orv:"",oS:"",Oscr:"",oscr:"",Oslash:"",oslash:"",osol:"",Otilde:"",otilde:"",Otimes:"",otimes:"",otimesas:"",Ouml:"",ouml:"",ovbar:"",OverBar:"",OverBrace:"",OverBracket:"",OverParenthesis:"",par:"",para:"",parallel:"",parsim:"",parsl:"",part:"",PartialD:"",Pcy:"",pcy:"",percnt:"%",period:".",permil:"",perp:"",pertenk:"",Pfr:"",pfr:"",Phi:"",phi:"",phiv:"",phmmat:"",phone:"",Pi:"",pi:"",pitchfork:"",piv:"",planck:"",planckh:"",plankv:"",plus:"+",plusacir:"",plusb:"",pluscir:"",plusdo:"",plusdu:"",pluse:"",PlusMinus:"",plusmn:"",plussim:"",plustwo:"",pm:"",Poincareplane:"",pointint:"",Popf:"",popf:"",pound:"",Pr:"",pr:"",prap:"",prcue:"",prE:"",pre:"",prec:"",precapprox:"",preccurlyeq:"",Precedes:"",PrecedesEqual:"",PrecedesSlantEqual:"",PrecedesTilde:"",preceq:"",precnapprox:"",precneqq:"",precnsim:"",precsim:"",Prime:"",prime:"",primes:"",prnap:"",prnE:"",prnsim:"",prod:"",Product:"",profalar:"",profline:"",profsurf:"",prop:"",Proportion:"",Proportional:"",propto:"",prsim:"",prurel:"",Pscr:"",pscr:"",Psi:"",psi:"",puncsp:"",Qfr:"",qfr:"",qint:"",Qopf:"",qopf:"",qprime:"",Qscr:"",qscr:"",quaternions:"",quatint:"",quest:"?",questeq:"",QUOT:'"',quot:'"',rAarr:"",race:"",Racute:"",racute:"",radic:"",raemptyv:"",Rang:"",rang:"",rangd:"",range:"",rangle:"",raquo:"",Rarr:"",rArr:"",rarr:"",rarrap:"",rarrb:"",rarrbfs:"",rarrc:"",rarrfs:"",rarrhk:"",rarrlp:"",rarrpl:"",rarrsim:"",Rarrtl:"",rarrtl:"",rarrw:"",rAtail:"",ratail:"",ratio:"",rationals:"",RBarr:"",rBarr:"",rbarr:"",rbbrk:"",rbrace:"}",rbrack:"]",rbrke:"",rbrksld:"",rbrkslu:"",Rcaron:"",rcaron:"",Rcedil:"",rcedil:"",rceil:"",rcub:"}",Rcy:"",rcy:"",rdca:"",rdldhar:"",rdquo:"",rdquor:"",rdsh:"",Re:"",real:"",realine:"",realpart:"",reals:"",rect:"",REG:"",reg:"",ReverseElement:"",ReverseEquilibrium:"",ReverseUpEquilibrium:"",rfisht:"",rfloor:"",Rfr:"",rfr:"",rHar:"",rhard:"",rharu:"",rharul:"",Rho:"",rho:"",rhov:"",RightAngleBracket:"",RightArrow:"",Rightarrow:"",rightarrow:"",RightArrowBar:"",RightArrowLeftArrow:"",rightarrowtail:"",RightCeiling:"",RightDoubleBracket:"",RightDownTeeVector:"",RightDownVector:"",RightDownVectorBar:"",RightFloor:"",rightharpoondown:"",rightharpoonup:"",rightleftarrows:"",rightleftharpoons:"",rightrightarrows:"",rightsquigarrow:"",RightTee:"",RightTeeArrow:"",RightTeeVector:"",rightthreetimes:"",RightTriangle:"",RightTriangleBar:"",RightTriangleEqual:"",RightUpDownVector:"",RightUpTeeVector:"",RightUpVector:"",RightUpVectorBar:"",RightVector:"",RightVectorBar:"",ring:"",risingdotseq:"",rlarr:"",rlhar:"",rlm:"",rmoust:"",rmoustache:"",rnmid:"",roang:"",roarr:"",robrk:"",ropar:"",Ropf:"",ropf:"",roplus:"",rotimes:"",RoundImplies:"",rpar:")",rpargt:"",rppolint:"",rrarr:"",Rrightarrow:"",rsaquo:"",Rscr:"",rscr:"",Rsh:"",rsh:"",rsqb:"]",rsquo:"",rsquor:"",rthree:"",rtimes:"",rtri:"",rtrie:"",rtrif:"",rtriltri:"",RuleDelayed:"",ruluhar:"",rx:"",Sacute:"",sacute:"",sbquo:"",Sc:"",sc:"",scap:"",Scaron:"",scaron:"",sccue:"",scE:"",sce:"",Scedil:"",scedil:"",Scirc:"",scirc:"",scnap:"",scnE:"",scnsim:"",scpolint:"",scsim:"",Scy:"",scy:"",sdot:"",sdotb:"",sdote:"",searhk:"",seArr:"",searr:"",searrow:"",sect:"",semi:";",seswar:"",setminus:"",setmn:"",sext:"",Sfr:"",sfr:"",sfrown:"",sharp:"",SHCHcy:"",shchcy:"",SHcy:"",shcy:"",ShortDownArrow:"",ShortLeftArrow:"",shortmid:"",shortparallel:"",ShortRightArrow:"",ShortUpArrow:"",shy:"",Sigma:"",sigma:"",sigmaf:"",sigmav:"",sim:"",simdot:"",sime:"",simeq:"",simg:"",simgE:"",siml:"",simlE:"",simne:"",simplus:"",simrarr:"",slarr:"",SmallCircle:"",smallsetminus:"",smashp:"",smeparsl:"",smid:"",smile:"",smt:"",smte:"",smtes:"",SOFTcy:"",softcy:"",sol:"/",solb:"",solbar:"",Sopf:"",sopf:"",spades:"",spadesuit:"",spar:"",sqcap:"",sqcaps:"",sqcup:"",sqcups:"",Sqrt:"",sqsub:"",sqsube:"",sqsubset:"",sqsubseteq:"",sqsup:"",sqsupe:"",sqsupset:"",sqsupseteq:"",squ:"",Square:"",square:"",SquareIntersection:"",SquareSubset:"",SquareSubsetEqual:"",SquareSuperset:"",SquareSupersetEqual:"",SquareUnion:"",squarf:"",squf:"",srarr:"",Sscr:"",sscr:"",ssetmn:"",ssmile:"",sstarf:"",Star:"",star:"",starf:"",straightepsilon:"",straightphi:"",strns:"",Sub:"",sub:"",subdot:"",subE:"",sube:"",subedot:"",submult:"",subnE:"",subne:"",subplus:"",subrarr:"",Subset:"",subset:"",subseteq:"",subseteqq:"",SubsetEqual:"",subsetneq:"",subsetneqq:"",subsim:"",subsub:"",subsup:"",succ:"",succapprox:"",succcurlyeq:"",Succeeds:"",SucceedsEqual:"",SucceedsSlantEqual:"",SucceedsTilde:"",succeq:"",succnapprox:"",succneqq:"",succnsim:"",succsim:"",SuchThat:"",Sum:"",sum:"",sung:"",Sup:"",sup:"",sup1:"",sup2:"",sup3:"",supdot:"",supdsub:"",supE:"",supe:"",supedot:"",Superset:"",SupersetEqual:"",suphsol:"",suphsub:"",suplarr:"",supmult:"",supnE:"",supne:"",supplus:"",Supset:"",supset:"",supseteq:"",supseteqq:"",supsetneq:"",supsetneqq:"",supsim:"",supsub:"",supsup:"",swarhk:"",swArr:"",swarr:"",swarrow:"",swnwar:"",szlig:"",Tab:"	",target:"",Tau:"",tau:"",tbrk:"",Tcaron:"",tcaron:"",Tcedil:"",tcedil:"",Tcy:"",tcy:"",tdot:"",telrec:"",Tfr:"",tfr:"",there4:"",Therefore:"",therefore:"",Theta:"",theta:"",thetasym:"",thetav:"",thickapprox:"",thicksim:"",ThickSpace:"",thinsp:"",ThinSpace:"",thkap:"",thksim:"",THORN:"",thorn:"",Tilde:"",tilde:"",TildeEqual:"",TildeFullEqual:"",TildeTilde:"",times:"",timesb:"",timesbar:"",timesd:"",tint:"",toea:"",top:"",topbot:"",topcir:"",Topf:"",topf:"",topfork:"",tosa:"",tprime:"",TRADE:"",trade:"",triangle:"",triangledown:"",triangleleft:"",trianglelefteq:"",triangleq:"",triangleright:"",trianglerighteq:"",tridot:"",trie:"",triminus:"",TripleDot:"",triplus:"",trisb:"",tritime:"",trpezium:"",Tscr:"",tscr:"",TScy:"",tscy:"",TSHcy:"",tshcy:"",Tstrok:"",tstrok:"",twixt:"",twoheadleftarrow:"",twoheadrightarrow:"",Uacute:"",uacute:"",Uarr:"",uArr:"",uarr:"",Uarrocir:"",Ubrcy:"",ubrcy:"",Ubreve:"",ubreve:"",Ucirc:"",ucirc:"",Ucy:"",ucy:"",udarr:"",Udblac:"",udblac:"",udhar:"",ufisht:"",Ufr:"",ufr:"",Ugrave:"",ugrave:"",uHar:"",uharl:"",uharr:"",uhblk:"",ulcorn:"",ulcorner:"",ulcrop:"",ultri:"",Umacr:"",umacr:"",uml:"",UnderBar:"_",UnderBrace:"",UnderBracket:"",UnderParenthesis:"",Union:"",UnionPlus:"",Uogon:"",uogon:"",Uopf:"",uopf:"",UpArrow:"",Uparrow:"",uparrow:"",UpArrowBar:"",UpArrowDownArrow:"",UpDownArrow:"",Updownarrow:"",updownarrow:"",UpEquilibrium:"",upharpoonleft:"",upharpoonright:"",uplus:"",UpperLeftArrow:"",UpperRightArrow:"",Upsi:"",upsi:"",upsih:"",Upsilon:"",upsilon:"",UpTee:"",UpTeeArrow:"",upuparrows:"",urcorn:"",urcorner:"",urcrop:"",Uring:"",uring:"",urtri:"",Uscr:"",uscr:"",utdot:"",Utilde:"",utilde:"",utri:"",utrif:"",uuarr:"",Uuml:"",uuml:"",uwangle:"",vangrt:"",varepsilon:"",varkappa:"",varnothing:"",varphi:"",varpi:"",varpropto:"",vArr:"",varr:"",varrho:"",varsigma:"",varsubsetneq:"",varsubsetneqq:"",varsupsetneq:"",varsupsetneqq:"",vartheta:"",vartriangleleft:"",vartriangleright:"",Vbar:"",vBar:"",vBarv:"",Vcy:"",vcy:"",VDash:"",Vdash:"",vDash:"",vdash:"",Vdashl:"",Vee:"",vee:"",veebar:"",veeeq:"",vellip:"",Verbar:"",verbar:"|",Vert:"",vert:"|",VerticalBar:"",VerticalLine:"|",VerticalSeparator:"",VerticalTilde:"",VeryThinSpace:"",Vfr:"",vfr:"",vltri:"",vnsub:"",vnsup:"",Vopf:"",vopf:"",vprop:"",vrtri:"",Vscr:"",vscr:"",vsubnE:"",vsubne:"",vsupnE:"",vsupne:"",Vvdash:"",vzigzag:"",Wcirc:"",wcirc:"",wedbar:"",Wedge:"",wedge:"",wedgeq:"",weierp:"",Wfr:"",wfr:"",Wopf:"",wopf:"",wp:"",wr:"",wreath:"",Wscr:"",wscr:"",xcap:"",xcirc:"",xcup:"",xdtri:"",Xfr:"",xfr:"",xhArr:"",xharr:"",Xi:"",xi:"",xlArr:"",xlarr:"",xmap:"",xnis:"",xodot:"",Xopf:"",xopf:"",xoplus:"",xotime:"",xrArr:"",xrarr:"",Xscr:"",xscr:"",xsqcup:"",xuplus:"",xutri:"",xvee:"",xwedge:"",Yacute:"",yacute:"",YAcy:"",yacy:"",Ycirc:"",ycirc:"",Ycy:"",ycy:"",yen:"",Yfr:"",yfr:"",YIcy:"",yicy:"",Yopf:"",yopf:"",Yscr:"",yscr:"",YUcy:"",yucy:"",Yuml:"",yuml:"",Zacute:"",zacute:"",Zcaron:"",zcaron:"",Zcy:"",zcy:"",Zdot:"",zdot:"",zeetrf:"",ZeroWidthSpace:"",Zeta:"",zeta:"",Zfr:"",zfr:"",ZHcy:"",zhcy:"",zigrarr:"",Zopf:"",zopf:"",Zscr:"",zscr:"",zwj:"",zwnj:""}),t.entityMap=t.HTML_ENTITIES})(hP);var d4={},Mp=To.NAMESPACE,CS=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,V7=new RegExp("[\\-\\.0-9"+CS.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),L7=new RegExp("^"+CS.source+V7.source+"*(?::"+CS.source+V7.source+"*)?$"),hf=0,ko=1,nu=2,ff=3,su=4,ru=5,pf=6,Om=7;function Dd(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,Dd)}Dd.prototype=new Error;Dd.prototype.name=Dd.name;function fP(){}fP.prototype={parse:function(t,e,i){var n=this.domBuilder;n.startDocument(),pP(e,e={}),tIe(t,e,i,n,this.errorHandler),n.endDocument()}};function tIe(t,e,i,n,s){function r(ye){if(ye>65535){ye-=65536;var Le=55296+(ye>>10),ge=56320+(ye&1023);return String.fromCharCode(Le,ge)}else return String.fromCharCode(ye)}function a(ye){var Le=ye.slice(1,-1);return Object.hasOwnProperty.call(i,Le)?i[Le]:Le.charAt(0)==="#"?r(parseInt(Le.substr(1).replace("x","0x"))):(s.error("entity not found:"+ye),ye)}function o(ye){if(ye>m){var Le=t.substring(m,ye).replace(/&#?\w+;/g,a);h&&l(m),n.characters(Le,0,ye-m),m=ye}}function l(ye,Le){for(;ye>=u&&(Le=d.exec(t));)c=Le.index,u=c+Le[0].length,h.lineNumber++;h.columnNumber=ye-c+1}for(var c=0,u=0,d=/.*(?:\r\n?|\n)|.*$/g,h=n.locator,f=[{currentNSMap:e}],p={},m=0;;){try{var v=t.indexOf("<",m);if(v<0){if(!t.substr(m).match(/^\s*$/)){var g=n.doc,E=g.createTextNode(t.substr(m));g.appendChild(E),n.currentElement=E}return}switch(v>m&&o(v),t.charAt(v+1)){case"/":var j=t.indexOf(">",v+3),A=t.substring(v+2,j).replace(/[ \t\n\r]+$/g,""),R=f.pop();j<0?(A=t.substring(v+2).replace(/[\s<].*/,""),s.error("end tag name: "+A+" is not complete:"+R.tagName),j=v+1+A.length):A.match(/\s</)&&(A=A.replace(/[\s<].*/,""),s.error("end tag name: "+A+" maybe not complete"),j=v+1+A.length);var I=R.localNSMap,L=R.tagName==A,F=L||R.tagName&&R.tagName.toLowerCase()==A.toLowerCase();if(F){if(n.endElement(R.uri,R.localName,A),I)for(var B in I)Object.prototype.hasOwnProperty.call(I,B)&&n.endPrefixMapping(B);L||s.fatalError("end tag name: "+A+" is not match the current start tagName:"+R.tagName)}else f.push(R);j++;break;case"?":h&&l(v),j=aIe(t,v,n);break;case"!":h&&l(v),j=rIe(t,v,n,s);break;default:h&&l(v);var G=new mP,Z=f[f.length-1].currentNSMap,j=iIe(t,v,G,Z,a,s),pe=G.length;if(!G.closed&&sIe(t,j,G.tagName,p)&&(G.closed=!0,i.nbsp||s.warning("unclosed xml attribute")),h&&pe){for(var J=k7(h,{}),me=0;me<pe;me++){var de=G[me];l(de.offset),de.locator=k7(h,{})}n.locator=J,F7(G,n,Z)&&f.push(G),n.locator=h}else F7(G,n,Z)&&f.push(G);Mp.isHTML(G.uri)&&!G.closed?j=nIe(t,j,G.tagName,a,n):j++}}catch(ye){if(ye instanceof Dd)throw ye;s.error("element parse error: "+ye),j=-1}j>m?m=j:o(Math.max(v,m)+1)}}function k7(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function iIe(t,e,i,n,s,r){function a(h,f,p){i.attributeNames.hasOwnProperty(h)&&r.fatalError("Attribute "+h+" redefined"),i.addValue(h,f.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,s),p)}for(var o,l,c=++e,u=hf;;){var d=t.charAt(c);switch(d){case"=":if(u===ko)o=t.slice(e,c),u=ff;else if(u===nu)u=ff;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(u===ff||u===ko)if(u===ko&&(r.warning('attribute value must after "="'),o=t.slice(e,c)),e=c+1,c=t.indexOf(d,e),c>0)l=t.slice(e,c),a(o,l,e-1),u=ru;else throw new Error("attribute value no end '"+d+"' match");else if(u==su)l=t.slice(e,c),a(o,l,e),r.warning('attribute "'+o+'" missed start quot('+d+")!!"),e=c+1,u=ru;else throw new Error('attribute value must after "="');break;case"/":switch(u){case hf:i.setTagName(t.slice(e,c));case ru:case pf:case Om:u=Om,i.closed=!0;case su:case ko:break;case nu:i.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return r.error("unexpected end of input"),u==hf&&i.setTagName(t.slice(e,c)),c;case">":switch(u){case hf:i.setTagName(t.slice(e,c));case ru:case pf:case Om:break;case su:case ko:l=t.slice(e,c),l.slice(-1)==="/"&&(i.closed=!0,l=l.slice(0,-1));case nu:u===nu&&(l=o),u==su?(r.warning('attribute "'+l+'" missed quot(")!'),a(o,l,e)):((!Mp.isHTML(n[""])||!l.match(/^(?:disabled|checked|selected)$/i))&&r.warning('attribute "'+l+'" missed value!! "'+l+'" instead!!'),a(l,l,e));break;case ff:throw new Error("attribute value missed!!")}return c;case"":d=" ";default:if(d<=" ")switch(u){case hf:i.setTagName(t.slice(e,c)),u=pf;break;case ko:o=t.slice(e,c),u=nu;break;case su:var l=t.slice(e,c);r.warning('attribute "'+l+'" missed quot(")!!'),a(o,l,e);case ru:u=pf;break}else switch(u){case nu:i.tagName,(!Mp.isHTML(n[""])||!o.match(/^(?:disabled|checked|selected)$/i))&&r.warning('attribute "'+o+'" missed value!! "'+o+'" instead2!!'),a(o,o,e),e=c,u=ko;break;case ru:r.warning('attribute space is required"'+o+'"!!');case pf:u=ko,e=c;break;case ff:u=su,e=c;break;case Om:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function F7(t,e,i){for(var n=t.tagName,s=null,d=t.length;d--;){var r=t[d],a=r.qName,o=r.value,h=a.indexOf(":");if(h>0)var l=r.prefix=a.slice(0,h),c=a.slice(h+1),u=l==="xmlns"&&c;else c=a,l=null,u=a==="xmlns"&&"";r.localName=c,u!==!1&&(s==null&&(s={},pP(i,i={})),i[u]=s[u]=o,r.uri=Mp.XMLNS,e.startPrefixMapping(u,o))}for(var d=t.length;d--;){r=t[d];var l=r.prefix;l&&(l==="xml"&&(r.uri=Mp.XML),l!=="xmlns"&&(r.uri=i[l||""]))}var h=n.indexOf(":");h>0?(l=t.prefix=n.slice(0,h),c=t.localName=n.slice(h+1)):(l=null,c=t.localName=n);var f=t.uri=i[l||""];if(e.startElement(f,c,n,t),t.closed){if(e.endElement(f,c,n),s)for(l in s)Object.prototype.hasOwnProperty.call(s,l)&&e.endPrefixMapping(l)}else return t.currentNSMap=i,t.localNSMap=s,!0}function nIe(t,e,i,n,s){if(/^(?:script|textarea)$/i.test(i)){var r=t.indexOf("</"+i+">",e),a=t.substring(e+1,r);if(/[&<]/.test(a))return/^script$/i.test(i)?(s.characters(a,0,a.length),r):(a=a.replace(/&#?\w+;/g,n),s.characters(a,0,a.length),r)}return e+1}function sIe(t,e,i,n){var s=n[i];return s==null&&(s=t.lastIndexOf("</"+i+">"),s<e&&(s=t.lastIndexOf("</"+i)),n[i]=s),s<e}function pP(t,e){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}function rIe(t,e,i,n){var s=t.charAt(e+2);switch(s){case"-":if(t.charAt(e+3)==="-"){var r=t.indexOf("-->",e+4);return r>e?(i.comment(t,e+4,r-e-4),r+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(t.substr(e+3,6)=="CDATA["){var r=t.indexOf("]]>",e+9);return i.startCDATA(),i.characters(t,e+9,r-e-9),i.endCDATA(),r+3}var a=oIe(t,e),o=a.length;if(o>1&&/!doctype/i.test(a[0][0])){var l=a[1][0],c=!1,u=!1;o>3&&(/^public$/i.test(a[2][0])?(c=a[3][0],u=o>4&&a[4][0]):/^system$/i.test(a[2][0])&&(u=a[3][0]));var d=a[o-1];return i.startDTD(l,c,u),i.endDTD(),d.index+d[0].length}}return-1}function aIe(t,e,i){var n=t.indexOf("?>",e);if(n){var s=t.substring(e,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return s?(s[0].length,i.processingInstruction(s[1],s[2]),n+2):-1}return-1}function mP(){this.attributeNames={}}mP.prototype={setTagName:function(t){if(!L7.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,i){if(!L7.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:i}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}};function oIe(t,e){var i,n=[],s=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(s.lastIndex=e,s.exec(t);i=s.exec(t);)if(n.push(i),i[1])return n}d4.XMLReader=fP;d4.ParseError=Dd;var lIe=To,cIe=Al,U7=hP,gP=d4,uIe=cIe.DOMImplementation,B7=lIe.NAMESPACE,dIe=gP.ParseError,hIe=gP.XMLReader;function yP(t){return t.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function bP(t){this.options=t||{locator:{}}}bP.prototype.parseFromString=function(t,e){var i=this.options,n=new hIe,s=i.domBuilder||new w0,r=i.errorHandler,a=i.locator,o=i.xmlns||{},l=/\/x?html?$/.test(e),c=l?U7.HTML_ENTITIES:U7.XML_ENTITIES;a&&s.setDocumentLocator(a),n.errorHandler=fIe(r,s,a),n.domBuilder=i.domBuilder||s,l&&(o[""]=B7.HTML),o.xml=o.xml||B7.XML;var u=i.normalizeLineEndings||yP;return t&&typeof t=="string"?n.parse(u(t),o,c):n.errorHandler.error("invalid doc source"),s.doc};function fIe(t,e,i){if(!t){if(e instanceof w0)return e;t=e}var n={},s=t instanceof Function;i=i||{};function r(a){var o=t[a];!o&&s&&(o=t.length==2?function(l){t(a,l)}:t),n[a]=o&&function(l){o("[xmldom "+a+"]	"+l+RS(i))}||function(){}}return r("warning"),r("error"),r("fatalError"),n}function w0(){this.cdata=!1}function au(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}w0.prototype={startDocument:function(){this.doc=new uIe().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(t,e,i,n){var s=this.doc,r=s.createElementNS(t,i||e),a=n.length;Xm(this,r),this.currentElement=r,this.locator&&au(this.locator,r);for(var o=0;o<a;o++){var t=n.getURI(o),l=n.getValue(o),i=n.getQName(o),c=s.createAttributeNS(t,i);this.locator&&au(n.getLocator(o),c),c.value=c.nodeValue=l,r.setAttributeNode(c)}},endElement:function(t,e,i){var n=this.currentElement;n.tagName,this.currentElement=n.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){var i=this.doc.createProcessingInstruction(t,e);this.locator&&au(this.locator,i),Xm(this,i)},ignorableWhitespace:function(t,e,i){},characters:function(t,e,i){if(t=W7.apply(this,arguments),t){if(this.cdata)var n=this.doc.createCDATASection(t);else var n=this.doc.createTextNode(t);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(t)&&this.doc.appendChild(n),this.locator&&au(this.locator,n)}},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){(this.locator=t)&&(t.lineNumber=0)},comment:function(t,e,i){t=W7.apply(this,arguments);var n=this.doc.createComment(t);this.locator&&au(this.locator,n),Xm(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,i){var n=this.doc.implementation;if(n&&n.createDocumentType){var s=n.createDocumentType(t,e,i);this.locator&&au(this.locator,s),Xm(this,s),this.doc.doctype=s}},warning:function(t){console.warn("[xmldom warning]	"+t,RS(this.locator))},error:function(t){console.error("[xmldom error]	"+t,RS(this.locator))},fatalError:function(t){throw new dIe(t,this.locator)}};function RS(t){if(t)return`
@`+(t.systemId||"")+"#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}function W7(t,e,i){return typeof t=="string"?t.substr(e,i):t.length>=e+i||e?new java.lang.String(t,e,i)+"":t}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){w0.prototype[t]=function(){return null}});function Xm(t,e){t.currentElement?t.currentElement.appendChild(e):t.doc.appendChild(e)}tb.__DOMHandler=w0;tb.normalizeLineEndings=yP;tb.DOMParser=bP;var vP=tb.DOMParser;const pIe=Object.freeze(Object.defineProperty({__proto__:null,DOMParser:vP},Symbol.toStringTag,{value:"Module"}));/*! @name mpd-parser @version 1.3.1 @license Apache-2.0 */const G7=t=>!!t&&typeof t=="object",nn=(...t)=>t.reduce((e,i)=>(typeof i!="object"||Object.keys(i).forEach(n=>{Array.isArray(e[n])&&Array.isArray(i[n])?e[n]=e[n].concat(i[n]):G7(e[n])&&G7(i[n])?e[n]=nn(e[n],i[n]):e[n]=i[n]}),e),{}),EP=t=>Object.keys(t).map(e=>t[e]),mIe=(t,e)=>{const i=[];for(let n=t;n<e;n++)i.push(n);return i},Md=t=>t.reduce((e,i)=>e.concat(i),[]),AP=t=>{if(!t.length)return[];const e=[];for(let i=0;i<t.length;i++)e.push(t[i]);return e},gIe=(t,e)=>t.reduce((i,n,s)=>(n[e]&&i.push(s),i),[]),yIe=(t,e)=>EP(t.reduce((i,n)=>(n.forEach(s=>{i[e(s)]=s}),i),{}));var Zd={INVALID_NUMBER_OF_PERIOD:"INVALID_NUMBER_OF_PERIOD",DASH_EMPTY_MANIFEST:"DASH_EMPTY_MANIFEST",DASH_INVALID_XML:"DASH_INVALID_XML",NO_BASE_URL:"NO_BASE_URL",SEGMENT_TIME_UNSPECIFIED:"SEGMENT_TIME_UNSPECIFIED",UNSUPPORTED_UTC_TIMING_SCHEME:"UNSUPPORTED_UTC_TIMING_SCHEME"};const Zp=({baseUrl:t="",source:e="",range:i="",indexRange:n=""})=>{const s={uri:e,resolvedUri:Hy(t||"",e)};if(i||n){const a=(i||n).split("-");let o=K.BigInt?K.BigInt(a[0]):parseInt(a[0],10),l=K.BigInt?K.BigInt(a[1]):parseInt(a[1],10);o<Number.MAX_SAFE_INTEGER&&typeof o=="bigint"&&(o=Number(o)),l<Number.MAX_SAFE_INTEGER&&typeof l=="bigint"&&(l=Number(l));let c;typeof l=="bigint"||typeof o=="bigint"?c=K.BigInt(l)-K.BigInt(o)+K.BigInt(1):c=l-o+1,typeof c=="bigint"&&c<Number.MAX_SAFE_INTEGER&&(c=Number(c)),s.byterange={length:c,offset:o}}return s},bIe=t=>{let e;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=K.BigInt(t.offset)+K.BigInt(t.length)-K.BigInt(1):e=t.offset+t.length-1,`${t.offset}-${e}`},D7=t=>(t&&typeof t!="number"&&(t=parseInt(t,10)),isNaN(t)?null:t),vIe={static(t){const{duration:e,timescale:i=1,sourceDuration:n,periodDuration:s}=t,r=D7(t.endNumber),a=e/i;return typeof r=="number"?{start:0,end:r}:typeof s=="number"?{start:0,end:s/a}:{start:0,end:n/a}},dynamic(t){const{NOW:e,clientOffset:i,availabilityStartTime:n,timescale:s=1,duration:r,periodStart:a=0,minimumUpdatePeriod:o=0,timeShiftBufferDepth:l=1/0}=t,c=D7(t.endNumber),u=(e+i)/1e3,d=n+a,f=u+o-d,p=Math.ceil(f*s/r),m=Math.floor((u-d-l)*s/r),v=Math.floor((u-d)*s/r);return{start:Math.max(0,m),end:typeof c=="number"?c:Math.min(p,v)}}},EIe=t=>e=>{const{duration:i,timescale:n=1,periodStart:s,startNumber:r=1}=t;return{number:r+e,duration:i/n,timeline:s,time:e*i}},h4=t=>{const{type:e,duration:i,timescale:n=1,periodDuration:s,sourceDuration:r}=t,{start:a,end:o}=vIe[e](t),l=mIe(a,o).map(EIe(t));if(e==="static"){const c=l.length-1,u=typeof s=="number"?s:r;l[c].duration=u-i/n*c}return l},SP=t=>{const{baseUrl:e,initialization:i={},sourceDuration:n,indexRange:s="",periodStart:r,presentationTime:a,number:o=0,duration:l}=t;if(!e)throw new Error(Zd.NO_BASE_URL);const c=Zp({baseUrl:e,source:i.sourceURL,range:i.range}),u=Zp({baseUrl:e,source:e,indexRange:s});if(u.map=c,l){const d=h4(t);d.length&&(u.duration=d[0].duration,u.timeline=d[0].timeline)}else n&&(u.duration=n,u.timeline=r);return u.presentationTime=a||r,u.number=o,[u]},f4=(t,e,i)=>{const n=t.sidx.map?t.sidx.map:null,s=t.sidx.duration,r=t.timeline||0,a=t.sidx.byterange,o=a.offset+a.length,l=e.timescale,c=e.references.filter(v=>v.referenceType!==1),u=[],d=t.endList?"static":"dynamic",h=t.sidx.timeline;let f=h,p=t.mediaSequence||0,m;typeof e.firstOffset=="bigint"?m=K.BigInt(o)+e.firstOffset:m=o+e.firstOffset;for(let v=0;v<c.length;v++){const g=e.references[v],E=g.referencedSize,A=g.subsegmentDuration;let R;typeof m=="bigint"?R=m+K.BigInt(E)-K.BigInt(1):R=m+E-1;const I=`${m}-${R}`,F=SP({baseUrl:i,timescale:l,timeline:r,periodStart:h,presentationTime:f,number:p,duration:A,sourceDuration:s,indexRange:I,type:d})[0];n&&(F.map=n),u.push(F),typeof m=="bigint"?m+=K.BigInt(E):m+=E,f+=A/l,p++}return t.segments=u,t},AIe=["AUDIO","SUBTITLES"],SIe=1/60,TP=t=>yIe(t,({timeline:e})=>e).sort((e,i)=>e.timeline>i.timeline?1:-1),TIe=(t,e)=>{for(let i=0;i<t.length;i++)if(t[i].attributes.NAME===e)return t[i];return null},M7=t=>{let e=[];return M8e(t,AIe,(i,n,s,r)=>{e=e.concat(i.playlists||[])}),e},Z7=({playlist:t,mediaSequence:e})=>{t.mediaSequence=e,t.segments.forEach((i,n)=>{i.number=t.mediaSequence+n})},CIe=({oldPlaylists:t,newPlaylists:e,timelineStarts:i})=>{e.forEach(n=>{n.discontinuitySequence=i.findIndex(function({timeline:l}){return l===n.timeline});const s=TIe(t,n.attributes.NAME);if(!s||n.sidx)return;const r=n.segments[0],a=s.segments.findIndex(function(l){return Math.abs(l.presentationTime-r.presentationTime)<SIe});if(a===-1){Z7({playlist:n,mediaSequence:s.mediaSequence+s.segments.length}),n.segments[0].discontinuity=!0,n.discontinuityStarts.unshift(0),(!s.segments.length&&n.timeline>s.timeline||s.segments.length&&n.timeline>s.segments[s.segments.length-1].timeline)&&n.discontinuitySequence--;return}s.segments[a].discontinuity&&!r.discontinuity&&(r.discontinuity=!0,n.discontinuityStarts.unshift(0),n.discontinuitySequence--),Z7({playlist:n,mediaSequence:s.segments[a].number})})},RIe=({oldManifest:t,newManifest:e})=>{const i=t.playlists.concat(M7(t)),n=e.playlists.concat(M7(e));return e.timelineStarts=TP([t.timelineStarts,e.timelineStarts]),CIe({oldPlaylists:i,newPlaylists:n,timelineStarts:e.timelineStarts}),e},ib=t=>t&&t.uri+"-"+bIe(t.byterange),CE=t=>{const e=t.reduce(function(n,s){return n[s.attributes.baseUrl]||(n[s.attributes.baseUrl]=[]),n[s.attributes.baseUrl].push(s),n},{});let i=[];return Object.values(e).forEach(n=>{const s=EP(n.reduce((r,a)=>{const o=a.attributes.id+(a.attributes.lang||"");return r[o]?(a.segments&&(a.segments[0]&&(a.segments[0].discontinuity=!0),r[o].segments.push(...a.segments)),a.attributes.contentProtection&&(r[o].attributes.contentProtection=a.attributes.contentProtection)):(r[o]=a,r[o].attributes.timelineStarts=[]),r[o].attributes.timelineStarts.push({start:a.attributes.periodStart,timeline:a.attributes.periodStart}),r},{}));i=i.concat(s)}),i.map(n=>(n.discontinuityStarts=gIe(n.segments||[],"discontinuity"),n))},p4=(t,e)=>{const i=ib(t.sidx),n=i&&e[i]&&e[i].sidx;return n&&f4(t,n,t.sidx.resolvedUri),t},IIe=(t,e={})=>{if(!Object.keys(e).length)return t;for(const i in t)t[i]=p4(t[i],e);return t},wIe=({attributes:t,segments:e,sidx:i,mediaSequence:n,discontinuitySequence:s,discontinuityStarts:r},a)=>{const o={attributes:{NAME:t.id,BANDWIDTH:t.bandwidth,CODECS:t.codecs,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuitySequence:s,discontinuityStarts:r,timelineStarts:t.timelineStarts,mediaSequence:n,segments:e};return t.contentProtection&&(o.contentProtection=t.contentProtection),t.serviceLocation&&(o.attributes.serviceLocation=t.serviceLocation),i&&(o.sidx=i),a&&(o.attributes.AUDIO="audio",o.attributes.SUBTITLES="subs"),o},_Ie=({attributes:t,segments:e,mediaSequence:i,discontinuityStarts:n,discontinuitySequence:s})=>{typeof e>"u"&&(e=[{uri:t.baseUrl,timeline:t.periodStart,resolvedUri:t.baseUrl||"",duration:t.sourceDuration,number:0}],t.duration=t.sourceDuration);const r={NAME:t.id,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1};t.codecs&&(r.CODECS=t.codecs);const a={attributes:r,uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,timelineStarts:t.timelineStarts,discontinuityStarts:n,discontinuitySequence:s,mediaSequence:i,segments:e};return t.serviceLocation&&(a.attributes.serviceLocation=t.serviceLocation),a},xIe=(t,e={},i=!1)=>{let n;const s=t.reduce((r,a)=>{const o=a.attributes.role&&a.attributes.role.value||"",l=a.attributes.lang||"";let c=a.attributes.label||"main";if(l&&!a.attributes.label){const d=o?` (${o})`:"";c=`${a.attributes.lang}${d}`}r[c]||(r[c]={language:l,autoselect:!0,default:o==="main",playlists:[],uri:""});const u=p4(wIe(a,i),e);return r[c].playlists.push(u),typeof n>"u"&&o==="main"&&(n=a,n.default=!0),r},{});if(!n){const r=Object.keys(s)[0];s[r].default=!0}return s},NIe=(t,e={})=>t.reduce((i,n)=>{const s=n.attributes.label||n.attributes.lang||"text",r=n.attributes.lang||"und";return i[s]||(i[s]={language:r,default:!1,autoselect:!1,playlists:[],uri:""}),i[s].playlists.push(p4(_Ie(n),e)),i},{}),VIe=t=>t.reduce((e,i)=>(i&&i.forEach(n=>{const{channel:s,language:r}=n;e[r]={autoselect:!1,default:!1,instreamId:s,language:r},n.hasOwnProperty("aspectRatio")&&(e[r].aspectRatio=n.aspectRatio),n.hasOwnProperty("easyReader")&&(e[r].easyReader=n.easyReader),n.hasOwnProperty("3D")&&(e[r]["3D"]=n["3D"])}),e),{}),LIe=({attributes:t,segments:e,sidx:i,discontinuityStarts:n})=>{const s={attributes:{NAME:t.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:t.width,height:t.height},CODECS:t.codecs,BANDWIDTH:t.bandwidth,"PROGRAM-ID":1},uri:"",endList:t.type==="static",timeline:t.periodStart,resolvedUri:t.baseUrl||"",targetDuration:t.duration,discontinuityStarts:n,timelineStarts:t.timelineStarts,segments:e};return t.frameRate&&(s.attributes["FRAME-RATE"]=t.frameRate),t.contentProtection&&(s.contentProtection=t.contentProtection),t.serviceLocation&&(s.attributes.serviceLocation=t.serviceLocation),i&&(s.sidx=i),s},kIe=({attributes:t})=>t.mimeType==="video/mp4"||t.mimeType==="video/webm"||t.contentType==="video",FIe=({attributes:t})=>t.mimeType==="audio/mp4"||t.mimeType==="audio/webm"||t.contentType==="audio",UIe=({attributes:t})=>t.mimeType==="text/vtt"||t.contentType==="text",BIe=(t,e)=>{t.forEach(i=>{i.mediaSequence=0,i.discontinuitySequence=e.findIndex(function({timeline:n}){return n===i.timeline}),i.segments&&i.segments.forEach((n,s)=>{n.number=s})})},P7=t=>t?Object.keys(t).reduce((e,i)=>{const n=t[i];return e.concat(n.playlists)},[]):[],WIe=({dashPlaylists:t,locations:e,contentSteering:i,sidxMapping:n={},previousManifest:s,eventStream:r})=>{if(!t.length)return{};const{sourceDuration:a,type:o,suggestedPresentationDelay:l,minimumUpdatePeriod:c}=t[0].attributes,u=CE(t.filter(kIe)).map(LIe),d=CE(t.filter(FIe)),h=CE(t.filter(UIe)),f=t.map(R=>R.attributes.captionServices).filter(Boolean),p={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:"",duration:a,playlists:IIe(u,n)};c>=0&&(p.minimumUpdatePeriod=c*1e3),e&&(p.locations=e),i&&(p.contentSteering=i),o==="dynamic"&&(p.suggestedPresentationDelay=l),r&&r.length>0&&(p.eventStream=r);const m=p.playlists.length===0,v=d.length?xIe(d,n,m):null,g=h.length?NIe(h,n):null,E=u.concat(P7(v),P7(g)),A=E.map(({timelineStarts:R})=>R);return p.timelineStarts=TP(A),BIe(E,p.timelineStarts),v&&(p.mediaGroups.AUDIO.audio=v),g&&(p.mediaGroups.SUBTITLES.subs=g),f.length&&(p.mediaGroups["CLOSED-CAPTIONS"].cc=VIe(f)),s?RIe({oldManifest:s,newManifest:p}):p},GIe=(t,e,i)=>{const{NOW:n,clientOffset:s,availabilityStartTime:r,timescale:a=1,periodStart:o=0,minimumUpdatePeriod:l=0}=t,c=(n+s)/1e3,u=r+o,h=c+l-u;return Math.ceil((h*a-e)/i)},CP=(t,e)=>{const{type:i,minimumUpdatePeriod:n=0,media:s="",sourceDuration:r,timescale:a=1,startNumber:o=1,periodStart:l}=t,c=[];let u=-1;for(let d=0;d<e.length;d++){const h=e[d],f=h.d,p=h.r||0,m=h.t||0;u<0&&(u=m),m&&m>u&&(u=m);let v;if(p<0){const A=d+1;A===e.length?i==="dynamic"&&n>0&&s.indexOf("$Number$")>0?v=GIe(t,u,f):v=(r*a-u)/f:v=(e[A].t-u)/f}else v=p+1;const g=o+c.length+v;let E=o+c.length;for(;E<g;)c.push({number:E,duration:f/a,time:u,timeline:l}),u+=f,E++}return c},DIe=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,MIe=t=>(e,i,n,s)=>{if(e==="$$")return"$";if(typeof t[i]>"u")return e;const r=""+t[i];return i==="RepresentationID"||(n?s=parseInt(s,10):s=1,r.length>=s)?r:`${new Array(s-r.length+1).join("0")}${r}`},O7=(t,e)=>t.replace(DIe,MIe(e)),ZIe=(t,e)=>!t.duration&&!e?[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodStart}]:t.duration?h4(t):CP(t,e),PIe=(t,e)=>{const i={RepresentationID:t.id,Bandwidth:t.bandwidth||0},{initialization:n={sourceURL:"",range:""}}=t,s=Zp({baseUrl:t.baseUrl,source:O7(n.sourceURL,i),range:n.range});return ZIe(t,e).map(a=>{i.Number=a.number,i.Time=a.time;const o=O7(t.media||"",i),l=t.timescale||1,c=t.presentationTimeOffset||0,u=t.periodStart+(a.time-c)/l;return{uri:o,timeline:a.timeline,duration:a.duration,resolvedUri:Hy(t.baseUrl||"",o),map:s,number:a.number,presentationTime:u}})},OIe=(t,e)=>{const{baseUrl:i,initialization:n={}}=t,s=Zp({baseUrl:i,source:n.sourceURL,range:n.range}),r=Zp({baseUrl:i,source:e.media,range:e.mediaRange});return r.map=s,r},XIe=(t,e)=>{const{duration:i,segmentUrls:n=[],periodStart:s}=t;if(!i&&!e||i&&e)throw new Error(Zd.SEGMENT_TIME_UNSPECIFIED);const r=n.map(l=>OIe(t,l));let a;return i&&(a=h4(t)),e&&(a=CP(t,e)),a.map((l,c)=>{if(r[c]){const u=r[c],d=t.timescale||1,h=t.presentationTimeOffset||0;return u.timeline=l.timeline,u.duration=l.duration,u.number=l.number,u.presentationTime=s+(l.time-h)/d,u}}).filter(l=>l)},YIe=({attributes:t,segmentInfo:e})=>{let i,n;e.template?(n=PIe,i=nn(t,e.template)):e.base?(n=SP,i=nn(t,e.base)):e.list&&(n=XIe,i=nn(t,e.list));const s={attributes:t};if(!n)return s;const r=n(i,e.segmentTimeline);if(i.duration){const{duration:a,timescale:o=1}=i;i.duration=a/o}else r.length?i.duration=r.reduce((a,o)=>Math.max(a,Math.ceil(o.duration)),0):i.duration=0;return s.attributes=i,s.segments=r,e.base&&i.indexRange&&(s.sidx=r[0],s.segments=[]),s},$Ie=t=>t.map(YIe),hi=(t,e)=>AP(t.childNodes).filter(({tagName:i})=>i===e),_0=t=>t.textContent.trim(),KIe=t=>parseFloat(t.split("/").reduce((e,i)=>e/i)),ou=t=>{const o=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!o)return 0;const[l,c,u,d,h,f]=o.slice(1);return parseFloat(l||0)*31536e3+parseFloat(c||0)*2592e3+parseFloat(u||0)*86400+parseFloat(d||0)*3600+parseFloat(h||0)*60+parseFloat(f||0)},zIe=t=>(/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(t)&&(t+="Z"),Date.parse(t)),X7={mediaPresentationDuration(t){return ou(t)},availabilityStartTime(t){return zIe(t)/1e3},minimumUpdatePeriod(t){return ou(t)},suggestedPresentationDelay(t){return ou(t)},type(t){return t},timeShiftBufferDepth(t){return ou(t)},start(t){return ou(t)},width(t){return parseInt(t,10)},height(t){return parseInt(t,10)},bandwidth(t){return parseInt(t,10)},frameRate(t){return KIe(t)},startNumber(t){return parseInt(t,10)},timescale(t){return parseInt(t,10)},presentationTimeOffset(t){return parseInt(t,10)},duration(t){const e=parseInt(t,10);return isNaN(e)?ou(t):e},d(t){return parseInt(t,10)},t(t){return parseInt(t,10)},r(t){return parseInt(t,10)},presentationTime(t){return parseInt(t,10)},DEFAULT(t){return t}},Gi=t=>t&&t.attributes?AP(t.attributes).reduce((e,i)=>{const n=X7[i.name]||X7.DEFAULT;return e[i.name]=n(i.value),e},{}):{},JIe={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime","urn:mpeg:dash:mp4protection:2011":"mp4protection"},nb=(t,e)=>e.length?Md(t.map(function(i){return e.map(function(n){const s=_0(n),r=Hy(i.baseUrl,s),a=nn(Gi(n),{baseUrl:r});return r!==s&&!a.serviceLocation&&i.serviceLocation&&(a.serviceLocation=i.serviceLocation),a})})):t,m4=t=>{const e=hi(t,"SegmentTemplate")[0],i=hi(t,"SegmentList")[0],n=i&&hi(i,"SegmentURL").map(d=>nn({tag:"SegmentURL"},Gi(d))),s=hi(t,"SegmentBase")[0],r=i||e,a=r&&hi(r,"SegmentTimeline")[0],o=i||s||e,l=o&&hi(o,"Initialization")[0],c=e&&Gi(e);c&&l?c.initialization=l&&Gi(l):c&&c.initialization&&(c.initialization={sourceURL:c.initialization});const u={template:c,segmentTimeline:a&&hi(a,"S").map(d=>Gi(d)),list:i&&nn(Gi(i),{segmentUrls:n,initialization:Gi(l)}),base:s&&nn(Gi(s),{initialization:Gi(l)})};return Object.keys(u).forEach(d=>{u[d]||delete u[d]}),u},jIe=(t,e,i)=>n=>{const s=hi(n,"BaseURL"),r=nb(e,s),a=nn(t,Gi(n)),o=m4(n);return r.map(l=>({segmentInfo:nn(i,o),attributes:nn(a,l)}))},HIe=t=>t.reduce((e,i)=>{const n=Gi(i);n.schemeIdUri&&(n.schemeIdUri=n.schemeIdUri.toLowerCase());const s=JIe[n.schemeIdUri];if(s){e[s]={attributes:n};const r=hi(i,"cenc:pssh")[0];if(r){const a=_0(r);e[s].pssh=a&&GZ(a)}}return e},{}),QIe=t=>{if(t.schemeIdUri==="urn:scte:dash:cc:cea-608:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(i=>{let n,s;return s=i,/^CC\d=/.test(i)?[n,s]=i.split("="):/^CC\d$/.test(i)&&(n=i),{channel:n,language:s}});if(t.schemeIdUri==="urn:scte:dash:cc:cea-708:2015")return(typeof t.value!="string"?[]:t.value.split(";")).map(i=>{const n={channel:void 0,language:void 0,aspectRatio:1,easyReader:0,"3D":0};if(/=/.test(i)){const[s,r=""]=i.split("=");n.channel=s,n.language=i,r.split(",").forEach(a=>{const[o,l]=a.split(":");o==="lang"?n.language=l:o==="er"?n.easyReader=Number(l):o==="war"?n.aspectRatio=Number(l):o==="3D"&&(n["3D"]=Number(l))})}else n.language=i;return n.channel&&(n.channel="SERVICE"+n.channel),n})},qIe=t=>Md(hi(t.node,"EventStream").map(e=>{const i=Gi(e),n=i.schemeIdUri;return hi(e,"Event").map(s=>{const r=Gi(s),a=r.presentationTime||0,o=i.timescale||1,l=r.duration||0,c=a/o+t.attributes.start;return{schemeIdUri:n,value:i.value,id:r.id,start:c,end:c+l/o,messageData:_0(s)||r.messageData,contentEncoding:i.contentEncoding,presentationTimeOffset:i.presentationTimeOffset||0}})})),e6e=(t,e,i)=>n=>{const s=Gi(n),r=nb(e,hi(n,"BaseURL")),a=hi(n,"Role")[0],o={role:Gi(a)};let l=nn(t,s,o);const c=hi(n,"Accessibility")[0],u=QIe(Gi(c));u&&(l=nn(l,{captionServices:u}));const d=hi(n,"Label")[0];if(d&&d.childNodes.length){const v=d.childNodes[0].nodeValue.trim();l=nn(l,{label:v})}const h=HIe(hi(n,"ContentProtection"));Object.keys(h).length&&(l=nn(l,{contentProtection:h}));const f=m4(n),p=hi(n,"Representation"),m=nn(i,f);return Md(p.map(jIe(l,r,m)))},t6e=(t,e)=>(i,n)=>{const s=nb(e,hi(i.node,"BaseURL")),r=nn(t,{periodStart:i.attributes.start});typeof i.attributes.duration=="number"&&(r.periodDuration=i.attributes.duration);const a=hi(i.node,"AdaptationSet"),o=m4(i.node);return Md(a.map(e6e(r,s,o)))},i6e=(t,e)=>{if(t.length>1&&e({type:"warn",message:"The MPD manifest should contain no more than one ContentSteering tag"}),!t.length)return null;const i=nn({serverURL:_0(t[0])},Gi(t[0]));return i.queryBeforeStart=i.queryBeforeStart==="true",i},n6e=({attributes:t,priorPeriodAttributes:e,mpdType:i})=>typeof t.start=="number"?t.start:e&&typeof e.start=="number"&&typeof e.duration=="number"?e.start+e.duration:!e&&i==="static"?0:null,s6e=(t,e={})=>{const{manifestUri:i="",NOW:n=Date.now(),clientOffset:s=0,eventHandler:r=function(){}}=e,a=hi(t,"Period");if(!a.length)throw new Error(Zd.INVALID_NUMBER_OF_PERIOD);const o=hi(t,"Location"),l=Gi(t),c=nb([{baseUrl:i}],hi(t,"BaseURL")),u=hi(t,"ContentSteering");l.type=l.type||"static",l.sourceDuration=l.mediaPresentationDuration||0,l.NOW=n,l.clientOffset=s,o.length&&(l.locations=o.map(_0));const d=[];return a.forEach((h,f)=>{const p=Gi(h),m=d[f-1];p.start=n6e({attributes:p,priorPeriodAttributes:m?m.attributes:null,mpdType:l.type}),d.push({node:h,attributes:p})}),{locations:l.locations,contentSteeringInfo:i6e(u,r),representationInfo:Md(d.map(t6e(l,c))),eventStream:Md(d.map(qIe))}},RP=t=>{if(t==="")throw new Error(Zd.DASH_EMPTY_MANIFEST);const e=new vP;let i,n;try{i=e.parseFromString(t,"application/xml"),n=i&&i.documentElement.tagName==="MPD"?i.documentElement:null}catch{}if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(Zd.DASH_INVALID_XML);return n},r6e=t=>{const e=hi(t,"UTCTiming")[0];if(!e)return null;const i=Gi(e);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error(Zd.UNSUPPORTED_UTC_TIMING_SCHEME)}return i},a6e=(t,e={})=>{const i=s6e(RP(t),e),n=$Ie(i.representationInfo);return WIe({dashPlaylists:n,locations:i.locations,contentSteering:i.contentSteeringInfo,sidxMapping:e.sidxMapping,previousManifest:e.previousManifest,eventStream:i.eventStream})},o6e=t=>r6e(RP(t));var l6e=Math.pow(2,32),c6e=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i;return e.getBigUint64?(i=e.getBigUint64(0),i<Number.MAX_SAFE_INTEGER?Number(i):i):e.getUint32(0)*l6e+e.getUint32(4)},u6e={getUint64:c6e},Y7=u6e.getUint64,d6e=function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:e.getUint32(4),timescale:e.getUint32(8)},n=12;i.version===0?(i.earliestPresentationTime=e.getUint32(n),i.firstOffset=e.getUint32(n+4),n+=8):(i.earliestPresentationTime=Y7(t.subarray(n)),i.firstOffset=Y7(t.subarray(n+8)),n+=16),n+=2;var s=e.getUint16(n);for(n+=2;s>0;n+=12,s--)i.references.push({referenceType:(t[n]&128)>>>7,referencedSize:e.getUint32(n)&2147483647,subsegmentDuration:e.getUint32(n+4),startsWithSap:!!(t[n+8]&128),sapType:(t[n+8]&112)>>>4,sapDeltaTime:e.getUint32(n+8)&268435455});return i},h6e=d6e;const f6e=g0(h6e);var p6e=je([73,68,51]),m6e=function(e,i){i===void 0&&(i=0),e=je(e);var n=e[i+5],s=e[i+6]<<21|e[i+7]<<14|e[i+8]<<7|e[i+9],r=(n&16)>>4;return r?s+20:s+10},Wf=function t(e,i){return i===void 0&&(i=0),e=je(e),e.length-i<10||!ui(e,p6e,{offset:i})?i:(i+=m6e(e,i),t(e,i))},$7=function(e){return typeof e=="string"?OZ(e):e},g6e=function(e){return Array.isArray(e)?e.map(function(i){return $7(i)}):[$7(e)]},y6e=function t(e,i,n){n===void 0&&(n=!1),i=g6e(i),e=je(e);var s=[];if(!i.length)return s;for(var r=0;r<e.length;){var a=(e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3])>>>0,o=e.subarray(r+4,r+8);if(a===0)break;var l=r+a;if(l>e.length){if(n)break;l=e.length}var c=e.subarray(r+8,l);ui(o,i[0])&&(i.length===1?s.push(c):s.push.apply(s,t(c,i.slice(1),n))),r=l}return s},Ym={EBML:je([26,69,223,163]),DocType:je([66,130]),Segment:je([24,83,128,103]),SegmentInfo:je([21,73,169,102]),Tracks:je([22,84,174,107]),Track:je([174]),TrackNumber:je([215]),DefaultDuration:je([35,227,131]),TrackEntry:je([174]),TrackType:je([131]),FlagDefault:je([136]),CodecID:je([134]),CodecPrivate:je([99,162]),VideoTrack:je([224]),AudioTrack:je([225]),Cluster:je([31,67,182,117]),Timestamp:je([231]),TimestampScale:je([42,215,177]),BlockGroup:je([160]),BlockDuration:je([155]),Block:je([161]),SimpleBlock:je([163])},IS=[128,64,32,16,8,4,2,1],b6e=function(e){for(var i=1,n=0;n<IS.length&&!(e&IS[n]);n++)i++;return i},b2=function(e,i,n,s){n===void 0&&(n=!0),s===void 0&&(s=!1);var r=b6e(e[i]),a=e.subarray(i,i+r);return n&&(a=Array.prototype.slice.call(e,i,i+r),a[0]^=IS[r-1]),{length:r,value:W8e(a,{signed:s}),bytes:a}},K7=function t(e){return typeof e=="string"?e.match(/.{1,2}/g).map(function(i){return t(i)}):typeof e=="number"?G8e(e):e},v6e=function(e){return Array.isArray(e)?e.map(function(i){return K7(i)}):[K7(e)]},E6e=function t(e,i,n){if(n>=i.length)return i.length;var s=b2(i,n,!1);if(ui(e.bytes,s.bytes))return n;var r=b2(i,n+s.length);return t(e,i,n+r.length+r.value+s.length)},z7=function t(e,i){i=v6e(i),e=je(e);var n=[];if(!i.length)return n;for(var s=0;s<e.length;){var r=b2(e,s,!1),a=b2(e,s+r.length),o=s+r.length+a.length;a.value===127&&(a.value=E6e(r,e,o),a.value!==e.length&&(a.value-=o));var l=o+a.value>e.length?e.length:o+a.value,c=e.subarray(o,l);ui(i[0],r.bytes)&&(i.length===1?n.push(c):n=n.concat(t(c,i.slice(1))));var u=r.length+a.length+c.length;s+=u}return n},A6e=je([0,0,0,1]),S6e=je([0,0,1]),T6e=je([0,0,3]),C6e=function(e){for(var i=[],n=1;n<e.length-2;)ui(e.subarray(n,n+3),T6e)&&(i.push(n+2),n++),n++;if(i.length===0)return e;var s=e.length-i.length,r=new Uint8Array(s),a=0;for(n=0;n<s;a++,n++)a===i[0]&&(a++,i.shift()),r[n]=e[a];return r},IP=function(e,i,n,s){e=je(e),n=[].concat(n);for(var r=0,a,o=0;r<e.length&&(o<s||a);){var l=void 0;if(ui(e.subarray(r),A6e)?l=4:ui(e.subarray(r),S6e)&&(l=3),!l){r++;continue}if(o++,a)return C6e(e.subarray(a,r));var c=void 0;i==="h264"?c=e[r+l]&31:i==="h265"&&(c=e[r+l]>>1&63),n.indexOf(c)!==-1&&(a=r+l),r+=l+(i==="h264"?1:2)}return e.subarray(0,0)},R6e=function(e,i,n){return IP(e,"h264",i,n)},I6e=function(e,i,n){return IP(e,"h265",i,n)},Fn={webm:je([119,101,98,109]),matroska:je([109,97,116,114,111,115,107,97]),flac:je([102,76,97,67]),ogg:je([79,103,103,83]),ac3:je([11,119]),riff:je([82,73,70,70]),avi:je([65,86,73]),wav:je([87,65,86,69]),"3gp":je([102,116,121,112,51,103]),mp4:je([102,116,121,112]),fmp4:je([115,116,121,112]),mov:je([102,116,121,112,113,116]),moov:je([109,111,111,118]),moof:je([109,111,111,102])},Pd={aac:function(e){var i=Wf(e);return ui(e,[255,16],{offset:i,mask:[255,22]})},mp3:function(e){var i=Wf(e);return ui(e,[255,2],{offset:i,mask:[255,6]})},webm:function(e){var i=z7(e,[Ym.EBML,Ym.DocType])[0];return ui(i,Fn.webm)},mkv:function(e){var i=z7(e,[Ym.EBML,Ym.DocType])[0];return ui(i,Fn.matroska)},mp4:function(e){if(Pd["3gp"](e)||Pd.mov(e))return!1;if(ui(e,Fn.mp4,{offset:4})||ui(e,Fn.fmp4,{offset:4})||ui(e,Fn.moof,{offset:4})||ui(e,Fn.moov,{offset:4}))return!0},mov:function(e){return ui(e,Fn.mov,{offset:4})},"3gp":function(e){return ui(e,Fn["3gp"],{offset:4})},ac3:function(e){var i=Wf(e);return ui(e,Fn.ac3,{offset:i})},ts:function(e){if(e.length<189&&e.length>=1)return e[0]===71;for(var i=0;i+188<e.length&&i<188;){if(e[i]===71&&e[i+188]===71)return!0;i+=1}return!1},flac:function(e){var i=Wf(e);return ui(e,Fn.flac,{offset:i})},ogg:function(e){return ui(e,Fn.ogg)},avi:function(e){return ui(e,Fn.riff)&&ui(e,Fn.avi,{offset:8})},wav:function(e){return ui(e,Fn.riff)&&ui(e,Fn.wav,{offset:8})},h264:function(e){return R6e(e,7,3).length},h265:function(e){return I6e(e,[32,33],3).length}},wS=Object.keys(Pd).filter(function(t){return t!=="ts"&&t!=="h264"&&t!=="h265"}).concat(["ts","h264","h265"]);wS.forEach(function(t){var e=Pd[t];Pd[t]=function(i){return e(je(i))}});var w6e=Pd,g4=function(e){e=je(e);for(var i=0;i<wS.length;i++){var n=wS[i];if(w6e[n](e))return n}return""},_6e=function(e){return y6e(e,["moof"]).length>0},x6e=9e4,Hl={ONE_SECOND_IN_TS:x6e},_S="8.21.0";const Oa={},ml=function(t,e){return Oa[t]=Oa[t]||[],e&&(Oa[t]=Oa[t].concat(e)),Oa[t]},N6e=function(t,e){ml(t,e)},wP=function(t,e){const i=ml(t).indexOf(e);return i<=-1?!1:(Oa[t]=Oa[t].slice(),Oa[t].splice(i,1),!0)},V6e=function(t,e){ml(t,[].concat(e).map(i=>{const n=(...s)=>(wP(t,n),i(...s));return n}))},v2={prefixed:!0},H1=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror","fullscreen"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"]],J7=H1[0];let Gf;for(let t=0;t<H1.length;t++)if(H1[t][1]in Fe){Gf=H1[t];break}if(Gf){for(let t=0;t<Gf.length;t++)v2[J7[t]]=Gf[t];v2.prefixed=Gf[0]!==J7[0]}let jn=[];const L6e=(t,e,i)=>(n,s,r)=>{const a=e.levels[s],o=new RegExp(`^(${a})$`);let l=t;if(n!=="log"&&r.unshift(n.toUpperCase()+":"),i&&(l=`%c${t}`,r.unshift(i)),r.unshift(l+":"),jn){jn.push([].concat(r));const u=jn.length-1e3;jn.splice(0,u>0?u:0)}if(!K.console)return;let c=K.console[n];!c&&n==="debug"&&(c=K.console.info||K.console.log),!(!c||!a||!o.test(n))&&c[Array.isArray(r)?"apply":"call"](K.console,r)};function xS(t,e=":",i=""){let n="info",s;function r(...a){s("log",n,a)}return s=L6e(t,r,i),r.createLogger=(a,o,l)=>{const c=o!==void 0?o:e,u=l!==void 0?l:i,d=`${t} ${c} ${a}`;return xS(d,c,u)},r.createNewLogger=(a,o,l)=>xS(a,o,l),r.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},r.level=a=>{if(typeof a=="string"){if(!r.levels.hasOwnProperty(a))throw new Error(`"${a}" in not a valid log level`);n=a}return n},r.history=()=>jn?[].concat(jn):[],r.history.filter=a=>(jn||[]).filter(o=>new RegExp(`.*${a}.*`).test(o[0])),r.history.clear=()=>{jn&&(jn.length=0)},r.history.disable=()=>{jn!==null&&(jn.length=0,jn=null)},r.history.enable=()=>{jn===null&&(jn=[])},r.error=(...a)=>s("error",n,a),r.warn=(...a)=>s("warn",n,a),r.debug=(...a)=>s("debug",n,a),r}const mt=xS("VIDEOJS"),_P=mt.createLogger,k6e=Object.prototype.toString,xP=function(t){return fa(t)?Object.keys(t):[]};function ed(t,e){xP(t).forEach(i=>e(t[i],i))}function NP(t,e,i=0){return xP(t).reduce((n,s)=>e(n,t[s],s),i)}function fa(t){return!!t&&typeof t=="object"}function Od(t){return fa(t)&&k6e.call(t)==="[object Object]"&&t.constructor===Object}function Zt(...t){const e={};return t.forEach(i=>{i&&ed(i,(n,s)=>{if(!Od(n)){e[s]=n;return}Od(e[s])||(e[s]={}),e[s]=Zt(e[s],n)})}),e}function VP(t={}){const e=[];for(const i in t)if(t.hasOwnProperty(i)){const n=t[i];e.push(n)}return e}function sb(t,e,i,n=!0){const s=a=>Object.defineProperty(t,e,{value:a,enumerable:!0,writable:!0}),r={configurable:!0,enumerable:!0,get(){const a=i();return s(a),a}};return n&&(r.set=s),Object.defineProperty(t,e,r)}var F6e=Object.freeze({__proto__:null,each:ed,reduce:NP,isObject:fa,isPlain:Od,merge:Zt,values:VP,defineLazyProperty:sb});let y4=!1,LP=null,wr=!1,kP,FP=!1,td=!1,id=!1,pa=!1,b4=null,rb=null;const U6e=!!(K.cast&&K.cast.framework&&K.cast.framework.CastReceiverContext);let UP=null,E2=!1,ab=!1,A2=!1,ob=!1,S2=!1,T2=!1,C2=!1;const Pp=!!(Rh()&&("ontouchstart"in K||K.navigator.maxTouchPoints||K.DocumentTouch&&K.document instanceof K.DocumentTouch)),Fo=K.navigator&&K.navigator.userAgentData;Fo&&Fo.platform&&Fo.brands&&(wr=Fo.platform==="Android",td=!!Fo.brands.find(t=>t.brand==="Microsoft Edge"),id=!!Fo.brands.find(t=>t.brand==="Chromium"),pa=!td&&id,b4=rb=(Fo.brands.find(t=>t.brand==="Chromium")||{}).version||null,ab=Fo.platform==="Windows");if(!id){const t=K.navigator&&K.navigator.userAgent||"";y4=/iPod/i.test(t),LP=function(){const e=t.match(/OS (\d+)_/i);return e&&e[1]?e[1]:null}(),wr=/Android/i.test(t),kP=function(){const e=t.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!e)return null;const i=e[1]&&parseFloat(e[1]),n=e[2]&&parseFloat(e[2]);return i&&n?parseFloat(e[1]+"."+e[2]):i||null}(),FP=/Firefox/i.test(t),td=/Edg/i.test(t),id=/Chrome/i.test(t)||/CriOS/i.test(t),pa=!td&&id,b4=rb=function(){const e=t.match(/(Chrome|CriOS)\/(\d+)/);return e&&e[2]?parseFloat(e[2]):null}(),UP=function(){const e=/MSIE\s(\d+)\.\d/.exec(t);let i=e&&parseFloat(e[1]);return!i&&/Trident\/7.0/i.test(t)&&/rv:11.0/.test(t)&&(i=11),i}(),S2=/Tizen/i.test(t),T2=/Web0S/i.test(t),C2=S2||T2,E2=/Safari/i.test(t)&&!pa&&!wr&&!td&&!C2,ab=/Windows/i.test(t),A2=/iPad/i.test(t)||E2&&Pp&&!/iPhone/i.test(t),ob=/iPhone/i.test(t)&&!A2}const wn=ob||A2||y4,lb=(E2||wn)&&!pa;var BP=Object.freeze({__proto__:null,get IS_IPOD(){return y4},get IOS_VERSION(){return LP},get IS_ANDROID(){return wr},get ANDROID_VERSION(){return kP},get IS_FIREFOX(){return FP},get IS_EDGE(){return td},get IS_CHROMIUM(){return id},get IS_CHROME(){return pa},get CHROMIUM_VERSION(){return b4},get CHROME_VERSION(){return rb},IS_CHROMECAST_RECEIVER:U6e,get IE_VERSION(){return UP},get IS_SAFARI(){return E2},get IS_WINDOWS(){return ab},get IS_IPAD(){return A2},get IS_IPHONE(){return ob},get IS_TIZEN(){return S2},get IS_WEBOS(){return T2},get IS_SMART_TV(){return C2},TOUCH_ENABLED:Pp,IS_IOS:wn,IS_ANY_SAFARI:lb});function j7(t){return typeof t=="string"&&!!t.trim()}function B6e(t){if(t.indexOf(" ")>=0)throw new Error("class has illegal whitespace characters")}function Rh(){return Fe===K.document}function Ih(t){return fa(t)&&t.nodeType===1}function WP(){try{return K.parent!==K.self}catch{return!0}}function GP(t){return function(e,i){if(!j7(e))return Fe[t](null);j7(i)&&(i=Fe.querySelector(i));const n=Ih(i)?i:Fe;return n[t]&&n[t](e)}}function it(t="div",e={},i={},n){const s=Fe.createElement(t);return Object.getOwnPropertyNames(e).forEach(function(r){const a=e[r];r==="textContent"?Sl(s,a):(s[r]!==a||r==="tabIndex")&&(s[r]=a)}),Object.getOwnPropertyNames(i).forEach(function(r){s.setAttribute(r,i[r])}),n&&v4(s,n),s}function Sl(t,e){return typeof t.textContent>"u"?t.innerText=e:t.textContent=e,t}function NS(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function ep(t,e){return B6e(e),t.classList.contains(e)}function dc(t,...e){return t.classList.add(...e.reduce((i,n)=>i.concat(n.split(/\s+/)),[])),t}function cb(t,...e){return t?(t.classList.remove(...e.reduce((i,n)=>i.concat(n.split(/\s+/)),[])),t):(mt.warn("removeClass was called with an element that doesn't exist"),null)}function DP(t,e,i){return typeof i=="function"&&(i=i(t,e)),typeof i!="boolean"&&(i=void 0),e.split(/\s+/).forEach(n=>t.classList.toggle(n,i)),t}function MP(t,e){Object.getOwnPropertyNames(e).forEach(function(i){const n=e[i];n===null||typeof n>"u"||n===!1?t.removeAttribute(i):t.setAttribute(i,n===!0?"":n)})}function Oo(t){const e={},i=["autoplay","controls","playsinline","loop","muted","default","defaultMuted"];if(t&&t.attributes&&t.attributes.length>0){const n=t.attributes;for(let s=n.length-1;s>=0;s--){const r=n[s].name;let a=n[s].value;i.includes(r)&&(a=a!==null),e[r]=a}}return e}function ZP(t,e){return t.getAttribute(e)}function Xd(t,e,i){t.setAttribute(e,i)}function ub(t,e){t.removeAttribute(e)}function PP(){Fe.body.focus(),Fe.onselectstart=function(){return!1}}function OP(){Fe.onselectstart=function(){return!0}}function Yd(t){if(t&&t.getBoundingClientRect&&t.parentNode){const e=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(n=>{e[n]!==void 0&&(i[n]=e[n])}),i.height||(i.height=parseFloat($d(t,"height"))),i.width||(i.width=parseFloat($d(t,"width"))),i}}function Op(t){if(!t||t&&!t.offsetParent)return{left:0,top:0,width:0,height:0};const e=t.offsetWidth,i=t.offsetHeight;let n=0,s=0;for(;t.offsetParent&&t!==Fe[v2.fullscreenElement];)n+=t.offsetLeft,s+=t.offsetTop,t=t.offsetParent;return{left:n,top:s,width:e,height:i}}function db(t,e){const i={x:0,y:0};if(wn){let u=t;for(;u&&u.nodeName.toLowerCase()!=="html";){const d=$d(u,"transform");if(/^matrix/.test(d)){const h=d.slice(7,-1).split(/,\s/).map(Number);i.x+=h[4],i.y+=h[5]}else if(/^matrix3d/.test(d)){const h=d.slice(9,-1).split(/,\s/).map(Number);i.x+=h[12],i.y+=h[13]}if(u.assignedSlot&&u.assignedSlot.parentElement&&K.WebKitCSSMatrix){const h=K.getComputedStyle(u.assignedSlot.parentElement).transform,f=new K.WebKitCSSMatrix(h);i.x+=f.m41,i.y+=f.m42}u=u.parentNode||u.host}}const n={},s=Op(e.target),r=Op(t),a=r.width,o=r.height;let l=e.offsetY-(r.top-s.top),c=e.offsetX-(r.left-s.left);return e.changedTouches&&(c=e.changedTouches[0].pageX-r.left,l=e.changedTouches[0].pageY+r.top,wn&&(c-=i.x,l-=i.y)),n.y=1-Math.max(0,Math.min(1,l/o)),n.x=Math.max(0,Math.min(1,c/a)),n}function XP(t){return fa(t)&&t.nodeType===3}function hb(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function YP(t){return typeof t=="function"&&(t=t()),(Array.isArray(t)?t:[t]).map(e=>{if(typeof e=="function"&&(e=e()),Ih(e)||XP(e))return e;if(typeof e=="string"&&/\S/.test(e))return Fe.createTextNode(e)}).filter(e=>e)}function v4(t,e){return YP(e).forEach(i=>t.appendChild(i)),t}function $P(t,e){return v4(hb(t),e)}function Xp(t){return t.button===void 0&&t.buttons===void 0||t.button===0&&t.buttons===void 0||t.type==="mouseup"&&t.button===0&&t.buttons===0||t.type==="mousedown"&&t.button===0&&t.buttons===0?!0:!(t.button!==0||t.buttons!==1)}const gl=GP("querySelector"),KP=GP("querySelectorAll");function $d(t,e){if(!t||!e)return"";if(typeof K.getComputedStyle=="function"){let i;try{i=K.getComputedStyle(t)}catch{return""}return i?i.getPropertyValue(e)||i[e]:""}return""}function zP(t){[...Fe.styleSheets].forEach(e=>{try{const i=[...e.cssRules].map(s=>s.cssText).join(""),n=Fe.createElement("style");n.textContent=i,t.document.head.appendChild(n)}catch{const n=Fe.createElement("link");n.rel="stylesheet",n.type=e.type,n.media=e.media.mediaText,n.href=e.href,t.document.head.appendChild(n)}})}var JP=Object.freeze({__proto__:null,isReal:Rh,isEl:Ih,isInFrame:WP,createEl:it,textContent:Sl,prependTo:NS,hasClass:ep,addClass:dc,removeClass:cb,toggleClass:DP,setAttributes:MP,getAttributes:Oo,getAttribute:ZP,setAttribute:Xd,removeAttribute:ub,blockTextSelection:PP,unblockTextSelection:OP,getBoundingClientRect:Yd,findPosition:Op,getPointerPosition:db,isTextNode:XP,emptyEl:hb,normalizeContent:YP,appendContent:v4,insertContent:$P,isSingleLeftClick:Xp,$:gl,$$:KP,computedStyle:$d,copyStyleSheetsToWindow:zP});let jP=!1,VS;const W6e=function(){if(VS.options.autoSetup===!1)return;const t=Array.prototype.slice.call(Fe.getElementsByTagName("video")),e=Array.prototype.slice.call(Fe.getElementsByTagName("audio")),i=Array.prototype.slice.call(Fe.getElementsByTagName("video-js")),n=t.concat(e,i);if(n&&n.length>0)for(let s=0,r=n.length;s<r;s++){const a=n[s];if(a&&a.getAttribute)a.player===void 0&&a.getAttribute("data-setup")!==null&&VS(a);else{LS(1);break}}else jP||LS(1)};function LS(t,e){Rh()&&(e&&(VS=e),K.setTimeout(W6e,t))}function kS(){jP=!0,K.removeEventListener("load",kS)}Rh()&&(Fe.readyState==="complete"?kS():K.addEventListener("load",kS));const HP=function(t){const e=Fe.createElement("style");return e.className=t,e},QP=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e};var Pn=new WeakMap;const G6e=3;let D6e=G6e;function Hs(){return D6e++}function H7(t,e){if(!Pn.has(t))return;const i=Pn.get(t);i.handlers[e].length===0&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),Object.getOwnPropertyNames(i).length===0&&Pn.delete(t)}function E4(t,e,i,n){i.forEach(function(s){t(e,s,n)})}function fb(t){if(t.fixed_)return t;function e(){return!0}function i(){return!1}if(!t||!t.isPropagationStopped||!t.isImmediatePropagationStopped){const n=t||K.event;t={};const s=["layerX","layerY","keyLocation","path","webkitMovementX","webkitMovementY","mozPressure","mozInputSource"];for(const r in n)s.includes(r)||r==="returnValue"&&n.preventDefault||(t[r]=n[r]);if(t.target||(t.target=t.srcElement||Fe),t.relatedTarget||(t.relatedTarget=t.fromElement===t.target?t.toElement:t.fromElement),t.preventDefault=function(){n.preventDefault&&n.preventDefault(),t.returnValue=!1,n.returnValue=!1,t.defaultPrevented=!0},t.defaultPrevented=!1,t.stopPropagation=function(){n.stopPropagation&&n.stopPropagation(),t.cancelBubble=!0,n.cancelBubble=!0,t.isPropagationStopped=e},t.isPropagationStopped=i,t.stopImmediatePropagation=function(){n.stopImmediatePropagation&&n.stopImmediatePropagation(),t.isImmediatePropagationStopped=e,t.stopPropagation()},t.isImmediatePropagationStopped=i,t.clientX!==null&&t.clientX!==void 0){const r=Fe.documentElement,a=Fe.body;t.pageX=t.clientX+(r&&r.scrollLeft||a&&a.scrollLeft||0)-(r&&r.clientLeft||a&&a.clientLeft||0),t.pageY=t.clientY+(r&&r.scrollTop||a&&a.scrollTop||0)-(r&&r.clientTop||a&&a.clientTop||0)}t.which=t.charCode||t.keyCode,t.button!==null&&t.button!==void 0&&(t.button=t.button&1?0:t.button&4?1:t.button&2?2:0)}return t.fixed_=!0,t}let $m;const M6e=function(){if(typeof $m!="boolean"){$m=!1;try{const t=Object.defineProperty({},"passive",{get(){$m=!0}});K.addEventListener("test",null,t),K.removeEventListener("test",null,t)}catch{}}return $m},Z6e=["touchstart","touchmove"];function ws(t,e,i){if(Array.isArray(e))return E4(ws,t,e,i);Pn.has(t)||Pn.set(t,{});const n=Pn.get(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),i.guid||(i.guid=Hs()),n.handlers[e].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(s,r){if(n.disabled)return;s=fb(s);const a=n.handlers[s.type];if(a){const o=a.slice(0);for(let l=0,c=o.length;l<c&&!s.isImmediatePropagationStopped();l++)try{o[l].call(t,s,r)}catch(u){mt.error(u)}}}),n.handlers[e].length===1)if(t.addEventListener){let s=!1;M6e()&&Z6e.indexOf(e)>-1&&(s={passive:!0}),t.addEventListener(e,n.dispatcher,s)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function _n(t,e,i){if(!Pn.has(t))return;const n=Pn.get(t);if(!n.handlers)return;if(Array.isArray(e))return E4(_n,t,e,i);const s=function(a,o){n.handlers[o]=[],H7(a,o)};if(e===void 0){for(const a in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},a)&&s(t,a);return}const r=n.handlers[e];if(r){if(!i){s(t,e);return}if(i.guid)for(let a=0;a<r.length;a++)r[a].guid===i.guid&&r.splice(a--,1);H7(t,e)}}function wh(t,e,i){const n=Pn.has(t)?Pn.get(t):{},s=t.parentNode||t.ownerDocument;if(typeof e=="string"?e={type:e,target:t}:e.target||(e.target=t),e=fb(e),n.dispatcher&&n.dispatcher.call(t,e,i),s&&!e.isPropagationStopped()&&e.bubbles===!0)wh.call(null,s,e,i);else if(!s&&!e.defaultPrevented&&e.target&&e.target[e.type]){Pn.has(e.target)||Pn.set(e.target,{});const r=Pn.get(e.target);e.target[e.type]&&(r.disabled=!0,typeof e.target[e.type]=="function"&&e.target[e.type](),r.disabled=!1)}return!e.defaultPrevented}function pb(t,e,i){if(Array.isArray(e))return E4(pb,t,e,i);const n=function(){_n(t,e,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||Hs(),ws(t,e,n)}function A4(t,e,i){const n=function(){_n(t,e,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||Hs(),ws(t,e,n)}var P6e=Object.freeze({__proto__:null,fixEvent:fb,on:ws,off:_n,trigger:wh,one:pb,any:A4});const Qs=30,qt=function(t,e,i){e.guid||(e.guid=Hs());const n=e.bind(t);return n.guid=i?i+"_"+e.guid:e.guid,n},ma=function(t,e){let i=K.performance.now();return function(...s){const r=K.performance.now();r-i>=e&&(t(...s),i=r)}},qP=function(t,e,i,n=K){let s;const r=()=>{n.clearTimeout(s),s=null},a=function(){const o=this,l=arguments;let c=function(){s=null,c=null,i||t.apply(o,l)};!s&&i&&t.apply(o,l),n.clearTimeout(s),s=n.setTimeout(c,e)};return a.cancel=r,a};var O6e=Object.freeze({__proto__:null,UPDATE_REFRESH_INTERVAL:Qs,bind_:qt,throttle:ma,debounce:qP});let mf;class _s{on(e,i){const n=this.addEventListener;this.addEventListener=()=>{},ws(this,e,i),this.addEventListener=n}off(e,i){_n(this,e,i)}one(e,i){const n=this.addEventListener;this.addEventListener=()=>{},pb(this,e,i),this.addEventListener=n}any(e,i){const n=this.addEventListener;this.addEventListener=()=>{},A4(this,e,i),this.addEventListener=n}trigger(e){const i=e.type||e;typeof e=="string"&&(e={type:i}),e=fb(e),this.allowedEvents_[i]&&this["on"+i]&&this["on"+i](e),wh(this,e)}queueTrigger(e){mf||(mf=new Map);const i=e.type||e;let n=mf.get(this);n||(n=new Map,mf.set(this,n));const s=n.get(i);n.delete(i),K.clearTimeout(s);const r=K.setTimeout(()=>{n.delete(i),n.size===0&&(n=null,mf.delete(this)),this.trigger(e)},0);n.set(i,r)}}_s.prototype.allowedEvents_={};_s.prototype.addEventListener=_s.prototype.on;_s.prototype.removeEventListener=_s.prototype.off;_s.prototype.dispatchEvent=_s.prototype.trigger;const mb=t=>typeof t.name=="function"?t.name():typeof t.name=="string"?t.name:t.name_?t.name_:t.constructor&&t.constructor.name?t.constructor.name:typeof t,oo=t=>t instanceof _s||!!t.eventBusEl_&&["on","one","off","trigger"].every(e=>typeof t[e]=="function"),X6e=(t,e)=>{oo(t)?e():(t.eventedCallbacks||(t.eventedCallbacks=[]),t.eventedCallbacks.push(e))},FS=t=>typeof t=="string"&&/\S/.test(t)||Array.isArray(t)&&!!t.length,R2=(t,e,i)=>{if(!t||!t.nodeName&&!oo(t))throw new Error(`Invalid target for ${mb(e)}#${i}; must be a DOM node or evented object.`)},eO=(t,e,i)=>{if(!FS(t))throw new Error(`Invalid event type for ${mb(e)}#${i}; must be a non-empty string or array.`)},tO=(t,e,i)=>{if(typeof t!="function")throw new Error(`Invalid listener for ${mb(e)}#${i}; must be a function.`)},RE=(t,e,i)=>{const n=e.length<3||e[0]===t||e[0]===t.eventBusEl_;let s,r,a;return n?(s=t.eventBusEl_,e.length>=3&&e.shift(),[r,a]=e):(s=e[0],r=e[1],a=e[2]),R2(s,t,i),eO(r,t,i),tO(a,t,i),a=qt(t,a),{isTargetingSelf:n,target:s,type:r,listener:a}},xl=(t,e,i,n)=>{R2(t,t,e),t.nodeName?P6e[e](t,i,n):t[e](i,n)},Y6e={on(...t){const{isTargetingSelf:e,target:i,type:n,listener:s}=RE(this,t,"on");if(xl(i,"on",n,s),!e){const r=()=>this.off(i,n,s);r.guid=s.guid;const a=()=>this.off("dispose",r);a.guid=s.guid,xl(this,"on","dispose",r),xl(i,"on","dispose",a)}},one(...t){const{isTargetingSelf:e,target:i,type:n,listener:s}=RE(this,t,"one");if(e)xl(i,"one",n,s);else{const r=(...a)=>{this.off(i,n,r),s.apply(null,a)};r.guid=s.guid,xl(i,"one",n,r)}},any(...t){const{isTargetingSelf:e,target:i,type:n,listener:s}=RE(this,t,"any");if(e)xl(i,"any",n,s);else{const r=(...a)=>{this.off(i,n,r),s.apply(null,a)};r.guid=s.guid,xl(i,"any",n,r)}},off(t,e,i){if(!t||FS(t))_n(this.eventBusEl_,t,e);else{const n=t,s=e;R2(n,this,"off"),eO(s,this,"off"),tO(i,this,"off"),i=qt(this,i),this.off("dispose",i),n.nodeName?(_n(n,s,i),_n(n,"dispose",i)):oo(n)&&(n.off(s,i),n.off("dispose",i))}},trigger(t,e){R2(this.eventBusEl_,this,"trigger");const i=t&&typeof t!="string"?t.type:t;if(!FS(i))throw new Error(`Invalid event type for ${mb(this)}#trigger; must be a non-empty string or object with a type key that has a non-empty value.`);return wh(this.eventBusEl_,t,e)}};function S4(t,e={}){const{eventBusKey:i}=e;if(i){if(!t[i].nodeName)throw new Error(`The eventBusKey "${i}" does not refer to an element.`);t.eventBusEl_=t[i]}else t.eventBusEl_=it("span",{className:"vjs-event-bus"});return Object.assign(t,Y6e),t.eventedCallbacks&&t.eventedCallbacks.forEach(n=>{n()}),t.on("dispose",()=>{t.off(),[t,t.el_,t.eventBusEl_].forEach(function(n){n&&Pn.has(n)&&Pn.delete(n)}),K.setTimeout(()=>{t.eventBusEl_=null},0)}),t}const $6e={state:{},setState(t){typeof t=="function"&&(t=t());let e;return ed(t,(i,n)=>{this.state[n]!==i&&(e=e||{},e[n]={from:this.state[n],to:i}),this.state[n]=i}),e&&oo(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function iO(t,e){return Object.assign(t,$6e),t.state=Object.assign({},t.state,e),typeof t.handleStateChanged=="function"&&oo(t)&&t.on("statechanged",t.handleStateChanged),t}const tp=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toLowerCase())},Ri=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},nO=function(t,e){return Ri(t)===Ri(e)};var K6e=Object.freeze({__proto__:null,toLowerCase:tp,toTitleCase:Ri,titleCaseEquals:nO});class Te{constructor(e,i,n){if(!e&&this.play?this.player_=e=this:this.player_=e,this.isDisposed_=!1,this.parentComponent_=null,this.options_=Zt({},this.options_),i=this.options_=Zt(this.options_,i),this.id_=i.id||i.el&&i.el.id,!this.id_){const s=e&&e.id&&e.id()||"no_player";this.id_=`${s}_component_${Hs()}`}this.name_=i.name||null,i.el?this.el_=i.el:i.createEl!==!1&&(this.el_=this.createEl()),i.className&&this.el_&&i.className.split(" ").forEach(s=>this.addClass(s)),["on","off","one","any","trigger"].forEach(s=>{this[s]=void 0}),i.evented!==!1&&(S4(this,{eventBusKey:this.el_?"el_":null}),this.handleLanguagechange=this.handleLanguagechange.bind(this),this.on(this.player_,"languagechange",this.handleLanguagechange)),iO(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},this.setTimeoutIds_=new Set,this.setIntervalIds_=new Set,this.rafIds_=new Set,this.namedRafs_=new Map,this.clearingTimersOnDispose_=!1,i.initChildren!==!1&&this.initChildren(),this.ready(n),i.reportTouchActivity!==!1&&this.enableTouchActivity()}dispose(e={}){if(!this.isDisposed_){if(this.readyQueue_&&(this.readyQueue_.length=0),this.trigger({type:"dispose",bubbles:!1}),this.isDisposed_=!0,this.children_)for(let i=this.children_.length-1;i>=0;i--)this.children_[i].dispose&&this.children_[i].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.parentComponent_=null,this.el_&&(this.el_.parentNode&&(e.restoreEl?this.el_.parentNode.replaceChild(e.restoreEl,this.el_):this.el_.parentNode.removeChild(this.el_)),this.el_=null),this.player_=null}}isDisposed(){return!!this.isDisposed_}player(){return this.player_}options(e){return e?(this.options_=Zt(this.options_,e),this.options_):this.options_}el(){return this.el_}createEl(e,i,n){return it(e,i,n)}localize(e,i,n=e){const s=this.player_.language&&this.player_.language(),r=this.player_.languages&&this.player_.languages(),a=r&&r[s],o=s&&s.split("-")[0],l=r&&r[o];let c=n;return a&&a[e]?c=a[e]:l&&l[e]&&(c=l[e]),i&&(c=c.replace(/\{(\d+)\}/g,function(u,d){const h=i[d-1];let f=h;return typeof h>"u"&&(f=u),f})),c}handleLanguagechange(){}contentEl(){return this.contentEl_||this.el_}id(){return this.id_}name(){return this.name_}children(){return this.children_}getChildById(e){return this.childIndex_[e]}getChild(e){if(e)return this.childNameIndex_[e]}getDescendant(...e){e=e.reduce((n,s)=>n.concat(s),[]);let i=this;for(let n=0;n<e.length;n++)if(i=i.getChild(e[n]),!i||!i.getChild)return;return i}setIcon(e,i=this.el()){if(!this.player_.options_.experimentalSvgIcons)return;const n="http://www.w3.org/2000/svg",s=it("span",{className:"vjs-icon-placeholder vjs-svg-icon"},{"aria-hidden":"true"}),r=Fe.createElementNS(n,"svg");r.setAttributeNS(null,"viewBox","0 0 512 512");const a=Fe.createElementNS(n,"use");return r.appendChild(a),a.setAttributeNS(null,"href",`#vjs-icon-${e}`),s.appendChild(r),this.iconIsSet_?i.replaceChild(s,i.querySelector(".vjs-icon-placeholder")):i.appendChild(s),this.iconIsSet_=!0,s}addChild(e,i={},n=this.children_.length){let s,r;if(typeof e=="string"){r=Ri(e);const a=i.componentClass||r;i.name=r;const o=Te.getComponent(a);if(!o)throw new Error(`Component ${a} does not exist`);if(typeof o!="function")return null;s=new o(this.player_||this,i)}else s=e;if(s.parentComponent_&&s.parentComponent_.removeChild(s),this.children_.splice(n,0,s),s.parentComponent_=this,typeof s.id=="function"&&(this.childIndex_[s.id()]=s),r=r||s.name&&Ri(s.name()),r&&(this.childNameIndex_[r]=s,this.childNameIndex_[tp(r)]=s),typeof s.el=="function"&&s.el()){let a=null;this.children_[n+1]&&(this.children_[n+1].el_?a=this.children_[n+1].el_:Ih(this.children_[n+1])&&(a=this.children_[n+1])),this.contentEl().insertBefore(s.el(),a)}return s}removeChild(e){if(typeof e=="string"&&(e=this.getChild(e)),!e||!this.children_)return;let i=!1;for(let s=this.children_.length-1;s>=0;s--)if(this.children_[s]===e){i=!0,this.children_.splice(s,1);break}if(!i)return;e.parentComponent_=null,this.childIndex_[e.id()]=null,this.childNameIndex_[Ri(e.name())]=null,this.childNameIndex_[tp(e.name())]=null;const n=e.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(e.el())}initChildren(){const e=this.options_.children;if(e){const i=this.options_,n=a=>{const o=a.name;let l=a.opts;if(i[o]!==void 0&&(l=i[o]),l===!1)return;l===!0&&(l={}),l.playerOptions=this.options_.playerOptions;const c=this.addChild(o,l);c&&(this[o]=c)};let s;const r=Te.getComponent("Tech");Array.isArray(e)?s=e:s=Object.keys(e),s.concat(Object.keys(this.options_).filter(function(a){return!s.some(function(o){return typeof o=="string"?a===o:a===o.name})})).map(a=>{let o,l;return typeof a=="string"?(o=a,l=e[o]||this.options_[o]||{}):(o=a.name,l=a),{name:o,opts:l}}).filter(a=>{const o=Te.getComponent(a.opts.componentClass||Ri(a.name));return o&&!r.isTech(o)}).forEach(n)}}buildCSSClass(){return""}ready(e,i=!1){if(e){if(!this.isReady_){this.readyQueue_=this.readyQueue_||[],this.readyQueue_.push(e);return}i?e.call(this):this.setTimeout(e,1)}}triggerReady(){this.isReady_=!0,this.setTimeout(function(){const e=this.readyQueue_;this.readyQueue_=[],e&&e.length>0&&e.forEach(function(i){i.call(this)},this),this.trigger("ready")},1)}$(e,i){return gl(e,i||this.contentEl())}$$(e,i){return KP(e,i||this.contentEl())}hasClass(e){return ep(this.el_,e)}addClass(...e){dc(this.el_,...e)}removeClass(...e){cb(this.el_,...e)}toggleClass(e,i){DP(this.el_,e,i)}show(){this.removeClass("vjs-hidden")}hide(){this.addClass("vjs-hidden")}lockShowing(){this.addClass("vjs-lock-showing")}unlockShowing(){this.removeClass("vjs-lock-showing")}getAttribute(e){return ZP(this.el_,e)}setAttribute(e,i){Xd(this.el_,e,i)}removeAttribute(e){ub(this.el_,e)}width(e,i){return this.dimension("width",e,i)}height(e,i){return this.dimension("height",e,i)}dimensions(e,i){this.width(e,!0),this.height(i)}dimension(e,i,n){if(i!==void 0){(i===null||i!==i)&&(i=0),(""+i).indexOf("%")!==-1||(""+i).indexOf("px")!==-1?this.el_.style[e]=i:i==="auto"?this.el_.style[e]="":this.el_.style[e]=i+"px",n||this.trigger("componentresize");return}if(!this.el_)return 0;const s=this.el_.style[e],r=s.indexOf("px");return parseInt(r!==-1?s.slice(0,r):this.el_["offset"+Ri(e)],10)}currentDimension(e){let i=0;if(e!=="width"&&e!=="height")throw new Error("currentDimension only accepts width or height value");if(i=$d(this.el_,e),i=parseFloat(i),i===0||isNaN(i)){const n=`offset${Ri(e)}`;i=this.el_[n]}return i}currentDimensions(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}}currentWidth(){return this.currentDimension("width")}currentHeight(){return this.currentDimension("height")}getPositions(){const e=this.el_.getBoundingClientRect(),i={x:e.x,y:e.y,width:e.width,height:e.height,top:e.top,right:e.right,bottom:e.bottom,left:e.left},n={x:e.left+e.width/2,y:e.top+e.height/2,width:0,height:0,top:e.top+e.height/2,right:e.left+e.width/2,bottom:e.top+e.height/2,left:e.left+e.width/2};return{boundingClientRect:i,center:n}}focus(){this.el_.focus()}blur(){this.el_.blur()}handleKeyDown(e){this.player_&&(e.key!=="Tab"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled)&&e.stopPropagation(),this.player_.handleKeyDown(e))}handleKeyPress(e){this.handleKeyDown(e)}emitTapEvents(){let e=0,i=null;const n=10,s=200;let r;this.on("touchstart",function(o){o.touches.length===1&&(i={pageX:o.touches[0].pageX,pageY:o.touches[0].pageY},e=K.performance.now(),r=!0)}),this.on("touchmove",function(o){if(o.touches.length>1)r=!1;else if(i){const l=o.touches[0].pageX-i.pageX,c=o.touches[0].pageY-i.pageY;Math.sqrt(l*l+c*c)>n&&(r=!1)}});const a=function(){r=!1};this.on("touchleave",a),this.on("touchcancel",a),this.on("touchend",function(o){i=null,r===!0&&K.performance.now()-e<s&&(o.preventDefault(),this.trigger("tap"))})}enableTouchActivity(){if(!this.player()||!this.player().reportUserActivity)return;const e=qt(this.player(),this.player().reportUserActivity);let i;this.on("touchstart",function(){e(),this.clearInterval(i),i=this.setInterval(e,250)});const n=function(s){e(),this.clearInterval(i)};this.on("touchmove",e),this.on("touchend",n),this.on("touchcancel",n)}setTimeout(e,i){var n;return e=qt(this,e),this.clearTimersOnDispose_(),n=K.setTimeout(()=>{this.setTimeoutIds_.has(n)&&this.setTimeoutIds_.delete(n),e()},i),this.setTimeoutIds_.add(n),n}clearTimeout(e){return this.setTimeoutIds_.has(e)&&(this.setTimeoutIds_.delete(e),K.clearTimeout(e)),e}setInterval(e,i){e=qt(this,e),this.clearTimersOnDispose_();const n=K.setInterval(e,i);return this.setIntervalIds_.add(n),n}clearInterval(e){return this.setIntervalIds_.has(e)&&(this.setIntervalIds_.delete(e),K.clearInterval(e)),e}requestAnimationFrame(e){this.clearTimersOnDispose_();var i;return e=qt(this,e),i=K.requestAnimationFrame(()=>{this.rafIds_.has(i)&&this.rafIds_.delete(i),e()}),this.rafIds_.add(i),i}requestNamedAnimationFrame(e,i){this.namedRafs_.has(e)&&this.cancelNamedAnimationFrame(e),this.clearTimersOnDispose_(),i=qt(this,i);const n=this.requestAnimationFrame(()=>{i(),this.namedRafs_.has(e)&&this.namedRafs_.delete(e)});return this.namedRafs_.set(e,n),e}cancelNamedAnimationFrame(e){this.namedRafs_.has(e)&&(this.cancelAnimationFrame(this.namedRafs_.get(e)),this.namedRafs_.delete(e))}cancelAnimationFrame(e){return this.rafIds_.has(e)&&(this.rafIds_.delete(e),K.cancelAnimationFrame(e)),e}clearTimersOnDispose_(){this.clearingTimersOnDispose_||(this.clearingTimersOnDispose_=!0,this.one("dispose",()=>{[["namedRafs_","cancelNamedAnimationFrame"],["rafIds_","cancelAnimationFrame"],["setTimeoutIds_","clearTimeout"],["setIntervalIds_","clearInterval"]].forEach(([e,i])=>{this[e].forEach((n,s)=>this[i](s))}),this.clearingTimersOnDispose_=!1}))}getIsDisabled(){return!!this.el_.disabled}getIsExpresslyInert(){return this.el_.inert&&!this.el_.ownerDocument.documentElement.inert}getIsFocusable(e){return(e||this.el_).tabIndex>=0&&!(this.getIsDisabled()||this.getIsExpresslyInert())}getIsAvailableToBeFocused(e){function i(r){const a=K.getComputedStyle(r,null),o=a.getPropertyValue("visibility");return a.getPropertyValue("display")!=="none"&&!["hidden","collapse"].includes(o)}function n(r){return!(!i(r.parentElement)||!i(r)||r.style.opacity==="0"||K.getComputedStyle(r).height==="0px"||K.getComputedStyle(r).width==="0px")}function s(r){if(r.offsetWidth+r.offsetHeight+r.getBoundingClientRect().height+r.getBoundingClientRect().width===0)return!1;const a={x:r.getBoundingClientRect().left+r.offsetWidth/2,y:r.getBoundingClientRect().top+r.offsetHeight/2};if(a.x<0||a.x>(Fe.documentElement.clientWidth||K.innerWidth)||a.y<0||a.y>(Fe.documentElement.clientHeight||K.innerHeight))return!1;let o=Fe.elementFromPoint(a.x,a.y);for(;o;){if(o===r)return!0;if(o.parentNode)o=o.parentNode;else return!1}}return e||(e=this.el()),!!(s(e)&&n(e)&&(!e.parentElement||e.tabIndex>=0))}static registerComponent(e,i){if(typeof e!="string"||!e)throw new Error(`Illegal component name, "${e}"; must be a non-empty string.`);const n=Te.getComponent("Tech"),s=n&&n.isTech(i),r=Te===i||Te.prototype.isPrototypeOf(i.prototype);if(s||!r){let o;throw s?o="techs must be registered using Tech.registerTech()":o="must be a Component subclass",new Error(`Illegal component, "${e}"; ${o}.`)}e=Ri(e),Te.components_||(Te.components_={});const a=Te.getComponent("Player");if(e==="Player"&&a&&a.players){const o=a.players,l=Object.keys(o);if(o&&l.length>0&&l.map(c=>o[c]).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return Te.components_[e]=i,Te.components_[tp(e)]=i,i}static getComponent(e){if(!(!e||!Te.components_))return Te.components_[e]}}Te.registerComponent("Component",Te);function z6e(t,e,i){if(typeof e!="number"||e<0||e>i)throw new Error(`Failed to execute '${t}' on 'TimeRanges': The index provided (${e}) is non-numeric or out of bounds (0-${i}).`)}function Q7(t,e,i,n){return z6e(t,n,i.length-1),i[n][e]}function IE(t){let e;return t===void 0||t.length===0?e={length:0,start(){throw new Error("This TimeRanges object is empty")},end(){throw new Error("This TimeRanges object is empty")}}:e={length:t.length,start:Q7.bind(null,"start",0,t),end:Q7.bind(null,"end",1,t)},K.Symbol&&K.Symbol.iterator&&(e[K.Symbol.iterator]=()=>(t||[]).values()),e}function Tr(t,e){return Array.isArray(t)?IE(t):t===void 0||e===void 0?IE():IE([[t,e]])}const sO=function(t,e){t=t<0?0:t;let i=Math.floor(t%60),n=Math.floor(t/60%60),s=Math.floor(t/3600);const r=Math.floor(e/60%60),a=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(s=n=i="-"),s=s>0||a>0?s+":":"",n=((s||r>=10)&&n<10?"0"+n:n)+":",i=i<10?"0"+i:i,s+n+i};let T4=sO;function rO(t){T4=t}function aO(){T4=sO}function _c(t,e=t){return T4(t,e)}var J6e=Object.freeze({__proto__:null,createTimeRanges:Tr,createTimeRange:Tr,setFormatTime:rO,resetFormatTime:aO,formatTime:_c});function oO(t,e){let i=0,n,s;if(!e)return 0;(!t||!t.length)&&(t=Tr(0,0));for(let r=0;r<t.length;r++)n=t.start(r),s=t.end(r),s>e&&(s=e),i+=s-n;return i/e}function Ei(t){if(t instanceof Ei)return t;typeof t=="number"?this.code=t:typeof t=="string"?this.message=t:fa(t)&&(typeof t.code=="number"&&(this.code=t.code),Object.assign(this,t)),this.message||(this.message=Ei.defaultMessages[this.code]||"")}Ei.prototype.code=0;Ei.prototype.message="";Ei.prototype.status=null;Ei.prototype.metadata=null;Ei.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"];Ei.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};Ei.MEDIA_ERR_CUSTOM=0;Ei.prototype.MEDIA_ERR_CUSTOM=0;Ei.MEDIA_ERR_ABORTED=1;Ei.prototype.MEDIA_ERR_ABORTED=1;Ei.MEDIA_ERR_NETWORK=2;Ei.prototype.MEDIA_ERR_NETWORK=2;Ei.MEDIA_ERR_DECODE=3;Ei.prototype.MEDIA_ERR_DECODE=3;Ei.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Ei.prototype.MEDIA_ERR_SRC_NOT_SUPPORTED=4;Ei.MEDIA_ERR_ENCRYPTED=5;Ei.prototype.MEDIA_ERR_ENCRYPTED=5;function ip(t){return t!=null&&typeof t.then=="function"}function ea(t){ip(t)&&t.then(null,e=>{})}const US=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce((i,n,s)=>(t[n]&&(i[n]=t[n]),i),{cues:t.cues&&Array.prototype.map.call(t.cues,function(i){return{startTime:i.startTime,endTime:i.endTime,text:i.text,id:i.id}})})},j6e=function(t){const e=t.$$("track"),i=Array.prototype.map.call(e,s=>s.track);return Array.prototype.map.call(e,function(s){const r=US(s.track);return s.src&&(r.src=s.src),r}).concat(Array.prototype.filter.call(t.textTracks(),function(s){return i.indexOf(s)===-1}).map(US))},H6e=function(t,e){return t.forEach(function(i){const n=e.addRemoteTextTrack(i).track;!i.src&&i.cues&&i.cues.forEach(s=>n.addCue(s))}),e.textTracks()};var q7={textTracksToJson:j6e,jsonToTextTracks:H6e,trackToJson_:US};const wE="vjs-modal-dialog";class _h extends Te{constructor(e,i){super(e,i),this.handleKeyDown_=n=>this.handleKeyDown(n),this.close_=n=>this.close(n),this.opened_=this.hasBeenOpened_=this.hasBeenFilled_=!1,this.closeable(!this.options_.uncloseable),this.content(this.options_.content),this.contentEl_=it("div",{className:`${wE}-content`},{role:"document"}),this.descEl_=it("p",{className:`${wE}-description vjs-control-text`,id:this.el().getAttribute("aria-describedby")}),Sl(this.descEl_,this.description()),this.el_.appendChild(this.descEl_),this.el_.appendChild(this.contentEl_)}createEl(){return super.createEl("div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":`${this.id()}_description`,"aria-hidden":"true","aria-label":this.label(),role:"dialog","aria-live":"polite"})}dispose(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,super.dispose()}buildCSSClass(){return`${wE} vjs-hidden ${super.buildCSSClass()}`}label(){return this.localize(this.options_.label||"Modal Window")}description(){let e=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(e+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),e}open(){if(this.opened_){this.options_.fillAlways&&this.fill();return}const e=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!e.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&e.pause(),this.on("keydown",this.handleKeyDown_),this.hadControls_=e.controls(),e.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}opened(e){return typeof e=="boolean"&&this[e?"open":"close"](),this.opened_}close(){if(!this.opened_)return;const e=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&e.play(),this.off("keydown",this.handleKeyDown_),this.hadControls_&&e.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger({type:"modalclose",bubbles:!0}),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}closeable(e){if(typeof e=="boolean"){const i=this.closeable_=!!e;let n=this.getChild("closeButton");if(i&&!n){const s=this.contentEl_;this.contentEl_=this.el_,n=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=s,this.on(n,"close",this.close_)}!i&&n&&(this.off(n,"close",this.close_),this.removeChild(n),n.dispose())}return this.closeable_}fill(){this.fillWith(this.content())}fillWith(e){const i=this.contentEl(),n=i.parentNode,s=i.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,n.removeChild(i),this.empty(),$P(i,e),this.trigger("modalfill"),s?n.insertBefore(i,s):n.appendChild(i);const r=this.getChild("closeButton");r&&n.appendChild(r.el_),this.trigger("aftermodalfill")}empty(){this.trigger("beforemodalempty"),hb(this.contentEl()),this.trigger("modalempty")}content(e){return typeof e<"u"&&(this.content_=e),this.content_}conditionalFocus_(){const e=Fe.activeElement,i=this.player_.el_;this.previouslyActiveEl_=null,(i.contains(e)||i===e)&&(this.previouslyActiveEl_=e,this.focus())}conditionalBlur_(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null)}handleKeyDown(e){if(this.trigger({type:"modalKeydown",originalEvent:e,target:this,bubbles:!0}),e.stopPropagation(),e.key==="Escape"&&this.closeable()){e.preventDefault(),this.close();return}if(e.key!=="Tab")return;const i=this.focusableEls_(),n=this.el_.querySelector(":focus");let s;for(let r=0;r<i.length;r++)if(n===i[r]){s=r;break}Fe.activeElement===this.el_&&(s=0),e.shiftKey&&s===0?(i[i.length-1].focus(),e.preventDefault()):!e.shiftKey&&s===i.length-1&&(i[0].focus(),e.preventDefault())}focusableEls_(){const e=this.el_.querySelectorAll("*");return Array.prototype.filter.call(e,i=>(i instanceof K.HTMLAnchorElement||i instanceof K.HTMLAreaElement)&&i.hasAttribute("href")||(i instanceof K.HTMLInputElement||i instanceof K.HTMLSelectElement||i instanceof K.HTMLTextAreaElement||i instanceof K.HTMLButtonElement)&&!i.hasAttribute("disabled")||i instanceof K.HTMLIFrameElement||i instanceof K.HTMLObjectElement||i instanceof K.HTMLEmbedElement||i.hasAttribute("tabindex")&&i.getAttribute("tabindex")!==-1||i.hasAttribute("contenteditable"))}}_h.prototype.options_={pauseOnOpen:!0,temporary:!0};Te.registerComponent("ModalDialog",_h);class Kd extends _s{constructor(e=[]){super(),this.tracks_=[],Object.defineProperty(this,"length",{get(){return this.tracks_.length}});for(let i=0;i<e.length;i++)this.addTrack(e[i])}addTrack(e){const i=this.tracks_.length;""+i in this||Object.defineProperty(this,i,{get(){return this.tracks_[i]}}),this.tracks_.indexOf(e)===-1&&(this.tracks_.push(e),this.trigger({track:e,type:"addtrack",target:this})),e.labelchange_=()=>{this.trigger({track:e,type:"labelchange",target:this})},oo(e)&&e.addEventListener("labelchange",e.labelchange_)}removeTrack(e){let i;for(let n=0,s=this.length;n<s;n++)if(this[n]===e){i=this[n],i.off&&i.off(),this.tracks_.splice(n,1);break}i&&this.trigger({track:i,type:"removetrack",target:this})}getTrackById(e){let i=null;for(let n=0,s=this.length;n<s;n++){const r=this[n];if(r.id===e){i=r;break}}return i}}Kd.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack",labelchange:"labelchange"};for(const t in Kd.prototype.allowedEvents_)Kd.prototype["on"+t]=null;const _E=function(t,e){for(let i=0;i<t.length;i++)!Object.keys(t[i]).length||e.id===t[i].id||(t[i].enabled=!1)};class Q6e extends Kd{constructor(e=[]){for(let i=e.length-1;i>=0;i--)if(e[i].enabled){_E(e,e[i]);break}super(e),this.changing_=!1}addTrack(e){e.enabled&&_E(this,e),super.addTrack(e),e.addEventListener&&(e.enabledChange_=()=>{this.changing_||(this.changing_=!0,_E(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("enabledchange",e.enabledChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.enabledChange_&&(e.removeEventListener("enabledchange",e.enabledChange_),e.enabledChange_=null)}}const xE=function(t,e){for(let i=0;i<t.length;i++)!Object.keys(t[i]).length||e.id===t[i].id||(t[i].selected=!1)};class q6e extends Kd{constructor(e=[]){for(let i=e.length-1;i>=0;i--)if(e[i].selected){xE(e,e[i]);break}super(e),this.changing_=!1,Object.defineProperty(this,"selectedIndex",{get(){for(let i=0;i<this.length;i++)if(this[i].selected)return i;return-1},set(){}})}addTrack(e){e.selected&&xE(this,e),super.addTrack(e),e.addEventListener&&(e.selectedChange_=()=>{this.changing_||(this.changing_=!0,xE(this,e),this.changing_=!1,this.trigger("change"))},e.addEventListener("selectedchange",e.selectedChange_))}removeTrack(e){super.removeTrack(e),e.removeEventListener&&e.selectedChange_&&(e.removeEventListener("selectedchange",e.selectedChange_),e.selectedChange_=null)}}class lO extends Kd{addTrack(e){super.addTrack(e),this.queueChange_||(this.queueChange_=()=>this.queueTrigger("change")),this.triggerSelectedlanguagechange||(this.triggerSelectedlanguagechange_=()=>this.trigger("selectedlanguagechange")),e.addEventListener("modechange",this.queueChange_),["metadata","chapters"].indexOf(e.kind)===-1&&e.addEventListener("modechange",this.triggerSelectedlanguagechange_)}removeTrack(e){super.removeTrack(e),e.removeEventListener&&(this.queueChange_&&e.removeEventListener("modechange",this.queueChange_),this.selectedlanguagechange_&&e.removeEventListener("modechange",this.triggerSelectedlanguagechange_))}}class ewe{constructor(e=[]){this.trackElements_=[],Object.defineProperty(this,"length",{get(){return this.trackElements_.length}});for(let i=0,n=e.length;i<n;i++)this.addTrackElement_(e[i])}addTrackElement_(e){const i=this.trackElements_.length;""+i in this||Object.defineProperty(this,i,{get(){return this.trackElements_[i]}}),this.trackElements_.indexOf(e)===-1&&this.trackElements_.push(e)}getTrackElementByTrack_(e){let i;for(let n=0,s=this.trackElements_.length;n<s;n++)if(e===this.trackElements_[n].track){i=this.trackElements_[n];break}return i}removeTrackElement_(e){for(let i=0,n=this.trackElements_.length;i<n;i++)if(e===this.trackElements_[i]){this.trackElements_[i].track&&typeof this.trackElements_[i].track.off=="function"&&this.trackElements_[i].track.off(),typeof this.trackElements_[i].off=="function"&&this.trackElements_[i].off(),this.trackElements_.splice(i,1);break}}}class I2{constructor(e){I2.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get(){return this.length_}})}setCues_(e){const i=this.length||0;let n=0;const s=e.length;this.cues_=e,this.length_=e.length;const r=function(a){""+a in this||Object.defineProperty(this,""+a,{get(){return this.cues_[a]}})};if(i<s)for(n=i;n<s;n++)r.call(this,n)}getCueById(e){let i=null;for(let n=0,s=this.length;n<s;n++){const r=this[n];if(r.id===e){i=r;break}}return i}}const twe={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},iwe={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},nwe={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},eV={disabled:"disabled",hidden:"hidden",showing:"showing"};class C4 extends _s{constructor(e={}){super();const i={id:e.id||"vjs_track_"+Hs(),kind:e.kind||"",language:e.language||""};let n=e.label||"";for(const s in i)Object.defineProperty(this,s,{get(){return i[s]},set(){}});Object.defineProperty(this,"label",{get(){return n},set(s){s!==n&&(n=s,this.trigger("labelchange"))}})}}const R4=function(t){return new URL(t,Fe.baseURI)},cO=function(t){return new URL(t,Fe.baseURI).href},I4=function(t){if(typeof t=="string"){const i=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/.exec(t);if(i)return i.pop().toLowerCase()}return""},gb=function(t,e=K.location){return R4(t).origin!==e.origin};var swe=Object.freeze({__proto__:null,parseUrl:R4,getAbsoluteURL:cO,getFileExtension:I4,isCrossOrigin:gb});const tV=function(t,e){const i=new K.WebVTT.Parser(K,K.vttjs,K.WebVTT.StringDecoder()),n=[];i.oncue=function(s){e.addCue(s)},i.onparsingerror=function(s){n.push(s)},i.onflush=function(){e.trigger({type:"loadeddata",target:e})},i.parse(t),n.length>0&&(K.console&&K.console.groupCollapsed&&K.console.groupCollapsed(`Text Track parsing errors for ${e.src}`),n.forEach(s=>mt.error(s)),K.console&&K.console.groupEnd&&K.console.groupEnd()),i.flush()},iV=function(t,e){const i={uri:t},n=gb(t);n&&(i.cors=n);const s=e.tech_.crossOrigin()==="use-credentials";s&&(i.withCredentials=s),LZ(i,qt(this,function(r,a,o){if(r)return mt.error(r,a);e.loaded_=!0,typeof K.WebVTT!="function"?e.tech_&&e.tech_.any(["vttjsloaded","vttjserror"],l=>{if(l.type==="vttjserror"){mt.error(`vttjs failed to load, stopping trying to process ${e.src}`);return}return tV(o,e)}):tV(o,e)}))};class x0 extends C4{constructor(e={}){if(!e.tech)throw new Error("A tech was not provided.");const i=Zt(e,{kind:nwe[e.kind]||"subtitles",language:e.language||e.srclang||""});let n=eV[i.mode]||"disabled";const s=i.default;(i.kind==="metadata"||i.kind==="chapters")&&(n="hidden"),super(i),this.tech_=i.tech,this.cues_=[],this.activeCues_=[],this.preload_=this.tech_.preloadTextTracks!==!1;const r=new I2(this.cues_),a=new I2(this.activeCues_);let o=!1;this.timeupdateHandler=qt(this,function(c={}){if(!this.tech_.isDisposed()){if(!this.tech_.isReady_){c.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler));return}this.activeCues=this.activeCues,o&&(this.trigger("cuechange"),o=!1),c.type!=="timeupdate"&&(this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler))}});const l=()=>{this.stopTracking()};this.tech_.one("dispose",l),n!=="disabled"&&this.startTracking(),Object.defineProperties(this,{default:{get(){return s},set(){}},mode:{get(){return n},set(c){eV[c]&&n!==c&&(n=c,!this.preload_&&n!=="disabled"&&this.cues.length===0&&iV(this.src,this),this.stopTracking(),n!=="disabled"&&this.startTracking(),this.trigger("modechange"))}},cues:{get(){return this.loaded_?r:null},set(){}},activeCues:{get(){if(!this.loaded_)return null;if(this.cues.length===0)return a;const c=this.tech_.currentTime(),u=[];for(let d=0,h=this.cues.length;d<h;d++){const f=this.cues[d];f.startTime<=c&&f.endTime>=c&&u.push(f)}if(o=!1,u.length!==this.activeCues_.length)o=!0;else for(let d=0;d<u.length;d++)this.activeCues_.indexOf(u[d])===-1&&(o=!0);return this.activeCues_=u,a.setCues_(this.activeCues_),a},set(){}}}),i.src?(this.src=i.src,this.preload_||(this.loaded_=!0),(this.preload_||i.kind!=="subtitles"&&i.kind!=="captions")&&iV(this.src,this)):this.loaded_=!0}startTracking(){this.rvf_=this.tech_.requestVideoFrameCallback(this.timeupdateHandler),this.tech_.on("timeupdate",this.timeupdateHandler)}stopTracking(){this.rvf_&&(this.tech_.cancelVideoFrameCallback(this.rvf_),this.rvf_=void 0),this.tech_.off("timeupdate",this.timeupdateHandler)}addCue(e){let i=e;if(!("getCueAsHTML"in i)){i=new K.vttjs.VTTCue(e.startTime,e.endTime,e.text);for(const s in e)s in i||(i[s]=e[s]);i.id=e.id,i.originalCue_=e}const n=this.tech_.textTracks();for(let s=0;s<n.length;s++)n[s]!==this&&n[s].removeCue(i);this.cues_.push(i),this.cues.setCues_(this.cues_)}removeCue(e){let i=this.cues_.length;for(;i--;){const n=this.cues_[i];if(n===e||n.originalCue_&&n.originalCue_===e){this.cues_.splice(i,1),this.cues.setCues_(this.cues_);break}}}}x0.prototype.allowedEvents_={cuechange:"cuechange"};class uO extends C4{constructor(e={}){const i=Zt(e,{kind:iwe[e.kind]||""});super(i);let n=!1;Object.defineProperty(this,"enabled",{get(){return n},set(s){typeof s!="boolean"||s===n||(n=s,this.trigger("enabledchange"))}}),i.enabled&&(this.enabled=i.enabled),this.loaded_=!0}}class dO extends C4{constructor(e={}){const i=Zt(e,{kind:twe[e.kind]||""});super(i);let n=!1;Object.defineProperty(this,"selected",{get(){return n},set(s){typeof s!="boolean"||s===n||(n=s,this.trigger("selectedchange"))}}),i.selected&&(this.selected=i.selected)}}class go extends _s{constructor(e={}){super();let i;const n=new x0(e);this.kind=n.kind,this.src=n.src,this.srclang=n.language,this.label=n.label,this.default=n.default,Object.defineProperties(this,{readyState:{get(){return i}},track:{get(){return n}}}),i=go.NONE,n.addEventListener("loadeddata",()=>{i=go.LOADED,this.trigger({type:"load",target:this})})}}go.prototype.allowedEvents_={load:"load"};go.NONE=0;go.LOADING=1;go.LOADED=2;go.ERROR=3;const zs={audio:{ListClass:Q6e,TrackClass:uO,capitalName:"Audio"},video:{ListClass:q6e,TrackClass:dO,capitalName:"Video"},text:{ListClass:lO,TrackClass:x0,capitalName:"Text"}};Object.keys(zs).forEach(function(t){zs[t].getterName=`${t}Tracks`,zs[t].privateName=`${t}Tracks_`});const zd={remoteText:{ListClass:lO,TrackClass:x0,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:ewe,TrackClass:go,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Mn=Object.assign({},zs,zd);zd.names=Object.keys(zd);zs.names=Object.keys(zs);Mn.names=[].concat(zd.names).concat(zs.names);function rwe(t,e,i,n,s={}){const r=t.textTracks();s.kind=e,i&&(s.label=i),n&&(s.language=n),s.tech=t;const a=new Mn.text.TrackClass(s);return r.addTrack(a),a}class lt extends Te{constructor(e={},i=function(){}){e.reportTouchActivity=!1,super(null,e,i),this.onDurationChange_=n=>this.onDurationChange(n),this.trackProgress_=n=>this.trackProgress(n),this.trackCurrentTime_=n=>this.trackCurrentTime(n),this.stopTrackingCurrentTime_=n=>this.stopTrackingCurrentTime(n),this.disposeSourceHandler_=n=>this.disposeSourceHandler(n),this.queuedHanders_=new Set,this.hasStarted_=!1,this.on("playing",function(){this.hasStarted_=!0}),this.on("loadstart",function(){this.hasStarted_=!1}),Mn.names.forEach(n=>{const s=Mn[n];e&&e[s.getterName]&&(this[s.privateName]=e[s.getterName])}),this.featuresProgressEvents||this.manualProgressOn(),this.featuresTimeupdateEvents||this.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(n=>{e[`native${n}Tracks`]===!1&&(this[`featuresNative${n}Tracks`]=!1)}),e.nativeCaptions===!1||e.nativeTextTracks===!1?this.featuresNativeTextTracks=!1:(e.nativeCaptions===!0||e.nativeTextTracks===!0)&&(this.featuresNativeTextTracks=!0),this.featuresNativeTextTracks||this.emulateTextTracks(),this.preloadTextTracks=e.preloadTextTracks!==!1,this.autoRemoteTextTracks_=new Mn.text.ListClass,this.initTrackListeners(),e.nativeControlsForTouch||this.emitTapEvents(),this.constructor&&(this.name_=this.constructor.name||"Unknown Tech")}triggerSourceset(e){this.isReady_||this.one("ready",()=>this.setTimeout(()=>this.triggerSourceset(e),1)),this.trigger({src:e,type:"sourceset"})}manualProgressOn(){this.on("durationchange",this.onDurationChange_),this.manualProgress=!0,this.one("ready",this.trackProgress_)}manualProgressOff(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange_)}trackProgress(e){this.stopTrackingProgress(),this.progressInterval=this.setInterval(qt(this,function(){const i=this.bufferedPercent();this.bufferedPercent_!==i&&this.trigger("progress"),this.bufferedPercent_=i,i===1&&this.stopTrackingProgress()}),500)}onDurationChange(e){this.duration_=this.duration()}buffered(){return Tr(0,0)}bufferedPercent(){return oO(this.buffered(),this.duration_)}stopTrackingProgress(){this.clearInterval(this.progressInterval)}manualTimeUpdatesOn(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime_),this.on("pause",this.stopTrackingCurrentTime_)}manualTimeUpdatesOff(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime_),this.off("pause",this.stopTrackingCurrentTime_)}trackCurrentTime(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)}stopTrackingCurrentTime(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}dispose(){this.clearTracks(zs.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),super.dispose()}clearTracks(e){e=[].concat(e),e.forEach(i=>{const n=this[`${i}Tracks`]()||[];let s=n.length;for(;s--;){const r=n[s];i==="text"&&this.removeRemoteTextTrack(r),n.removeTrack(r)}})}cleanupAutoTextTracks(){const e=this.autoRemoteTextTracks_||[];let i=e.length;for(;i--;){const n=e[i];this.removeRemoteTextTrack(n)}}reset(){}crossOrigin(){}setCrossOrigin(){}error(e){return e!==void 0&&(this.error_=new Ei(e),this.trigger("error")),this.error_}played(){return this.hasStarted_?Tr(0,0):Tr()}play(){}setScrubbing(e){}scrubbing(){}setCurrentTime(e){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})}initTrackListeners(){zs.names.forEach(e=>{const i=zs[e],n=()=>{this.trigger(`${e}trackchange`)},s=this[i.getterName]();s.addEventListener("removetrack",n),s.addEventListener("addtrack",n),this.on("dispose",()=>{s.removeEventListener("removetrack",n),s.removeEventListener("addtrack",n)})})}addWebVttScript_(){if(!K.WebVTT)if(Fe.body.contains(this.el())){if(!this.options_["vtt.js"]&&Od(v7)&&Object.keys(v7).length>0){this.trigger("vttjsloaded");return}const e=Fe.createElement("script");e.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",e.onload=()=>{this.trigger("vttjsloaded")},e.onerror=()=>{this.trigger("vttjserror")},this.on("dispose",()=>{e.onload=null,e.onerror=null}),K.WebVTT=!0,this.el().parentNode.appendChild(e)}else this.ready(this.addWebVttScript_)}emulateTextTracks(){const e=this.textTracks(),i=this.remoteTextTracks(),n=o=>e.addTrack(o.track),s=o=>e.removeTrack(o.track);i.on("addtrack",n),i.on("removetrack",s),this.addWebVttScript_();const r=()=>this.trigger("texttrackchange"),a=()=>{r();for(let o=0;o<e.length;o++){const l=e[o];l.removeEventListener("cuechange",r),l.mode==="showing"&&l.addEventListener("cuechange",r)}};a(),e.addEventListener("change",a),e.addEventListener("addtrack",a),e.addEventListener("removetrack",a),this.on("dispose",function(){i.off("addtrack",n),i.off("removetrack",s),e.removeEventListener("change",a),e.removeEventListener("addtrack",a),e.removeEventListener("removetrack",a);for(let o=0;o<e.length;o++)e[o].removeEventListener("cuechange",r)})}addTextTrack(e,i,n){if(!e)throw new Error("TextTrack kind is required but was not provided");return rwe(this,e,i,n)}createRemoteTextTrack(e){const i=Zt(e,{tech:this});return new zd.remoteTextEl.TrackClass(i)}addRemoteTextTrack(e={},i){const n=this.createRemoteTextTrack(e);return typeof i!="boolean"&&(i=!1),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),i===!1&&this.ready(()=>this.autoRemoteTextTracks_.addTrack(n.track)),n}removeRemoteTextTrack(e){const i=this.remoteTextTrackEls().getTrackElementByTrack_(e);this.remoteTextTrackEls().removeTrackElement_(i),this.remoteTextTracks().removeTrack(e),this.autoRemoteTextTracks_.removeTrack(e)}getVideoPlaybackQuality(){return{}}requestPictureInPicture(){return Promise.reject()}disablePictureInPicture(){return!0}setDisablePictureInPicture(){}requestVideoFrameCallback(e){const i=Hs();return!this.isReady_||this.paused()?(this.queuedHanders_.add(i),this.one("playing",()=>{this.queuedHanders_.has(i)&&(this.queuedHanders_.delete(i),e())})):this.requestNamedAnimationFrame(i,e),i}cancelVideoFrameCallback(e){this.queuedHanders_.has(e)?this.queuedHanders_.delete(e):this.cancelNamedAnimationFrame(e)}setPoster(){}playsinline(){}setPlaysinline(){}overrideNativeAudioTracks(e){}overrideNativeVideoTracks(e){}canPlayType(e){return""}static canPlayType(e){return""}static canPlaySource(e,i){return lt.canPlayType(e.type)}static isTech(e){return e.prototype instanceof lt||e instanceof lt||e===lt}static registerTech(e,i){if(lt.techs_||(lt.techs_={}),!lt.isTech(i))throw new Error(`Tech ${e} must be a Tech`);if(!lt.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!lt.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return e=Ri(e),lt.techs_[e]=i,lt.techs_[tp(e)]=i,e!=="Tech"&&lt.defaultTechOrder_.push(e),i}static getTech(e){if(e){if(lt.techs_&&lt.techs_[e])return lt.techs_[e];if(e=Ri(e),K&&K.videojs&&K.videojs[e])return mt.warn(`The ${e} tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)`),K.videojs[e]}}}Mn.names.forEach(function(t){const e=Mn[t];lt.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}});lt.prototype.featuresVolumeControl=!0;lt.prototype.featuresMuteControl=!0;lt.prototype.featuresFullscreenResize=!1;lt.prototype.featuresPlaybackRate=!1;lt.prototype.featuresProgressEvents=!1;lt.prototype.featuresSourceset=!1;lt.prototype.featuresTimeupdateEvents=!1;lt.prototype.featuresNativeTextTracks=!1;lt.prototype.featuresVideoFrameCallback=!1;lt.withSourceHandlers=function(t){t.registerSourceHandler=function(i,n){let s=t.sourceHandlers;s||(s=t.sourceHandlers=[]),n===void 0&&(n=s.length),s.splice(n,0,i)},t.canPlayType=function(i){const n=t.sourceHandlers||[];let s;for(let r=0;r<n.length;r++)if(s=n[r].canPlayType(i),s)return s;return""},t.selectSourceHandler=function(i,n){const s=t.sourceHandlers||[];let r;for(let a=0;a<s.length;a++)if(r=s[a].canHandleSource(i,n),r)return s[a];return null},t.canPlaySource=function(i,n){const s=t.selectSourceHandler(i,n);return s?s.canHandleSource(i,n):""},["seekable","seeking","duration"].forEach(function(i){const n=this[i];typeof n=="function"&&(this[i]=function(){return this.sourceHandler_&&this.sourceHandler_[i]?this.sourceHandler_[i].apply(this.sourceHandler_,arguments):n.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(i){let n=t.selectSourceHandler(i,this.options_);n||(t.nativeSourceHandler?n=t.nativeSourceHandler:mt.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler_),n!==t.nativeSourceHandler&&(this.currentSource_=i),this.sourceHandler_=n.handleSource(i,this,this.options_),this.one("dispose",this.disposeSourceHandler_)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}};Te.registerComponent("Tech",lt);lt.registerTech("Tech",lt);lt.defaultTechOrder_=[];const hc={},w2={},_2={};function awe(t,e){hc[t]=hc[t]||[],hc[t].push(e)}function owe(t,e,i){t.setTimeout(()=>Dl(e,hc[e.type],i,t),1)}function lwe(t,e){t.forEach(i=>i.setTech&&i.setTech(e))}function cwe(t,e,i){return t.reduceRight(w4(i),e[i]())}function uwe(t,e,i,n){return e[i](t.reduce(w4(i),n))}function nV(t,e,i,n=null){const s="call"+Ri(i),r=t.reduce(w4(s),n),a=r===_2,o=a?null:e[i](r);return fwe(t,i,o,a),o}const dwe={buffered:1,currentTime:1,duration:1,muted:1,played:1,paused:1,seekable:1,volume:1,ended:1},hwe={setCurrentTime:1,setMuted:1,setVolume:1},sV={play:1,pause:1};function w4(t){return(e,i)=>e===_2?_2:i[t]?i[t](e):e}function fwe(t,e,i,n){for(let s=t.length-1;s>=0;s--){const r=t[s];r[e]&&r[e](n,i)}}function pwe(t){w2.hasOwnProperty(t.id())&&delete w2[t.id()]}function mwe(t,e){const i=w2[t.id()];let n=null;if(i==null)return n=e(t),w2[t.id()]=[[e,n]],n;for(let s=0;s<i.length;s++){const[r,a]=i[s];r===e&&(n=a)}return n===null&&(n=e(t),i.push([e,n])),n}function Dl(t={},e=[],i,n,s=[],r=!1){const[a,...o]=e;if(typeof a=="string")Dl(t,hc[a],i,n,s,r);else if(a){const l=mwe(n,a);if(!l.setSource)return s.push(l),Dl(t,o,i,n,s,r);l.setSource(Object.assign({},t),function(c,u){if(c)return Dl(t,o,i,n,s,r);s.push(l),Dl(u,t.type===u.type?o:hc[u.type],i,n,s,r)})}else o.length?Dl(t,o,i,n,s,r):r?i(t,s):Dl(t,hc["*"],i,n,s,!0)}const gwe={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",m4a:"audio/mp4",mp3:"audio/mpeg",aac:"audio/aac",caf:"audio/x-caf",flac:"audio/flac",oga:"audio/ogg",wav:"audio/wav",m3u8:"application/x-mpegURL",mpd:"application/dash+xml",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",png:"image/png",svg:"image/svg+xml",webp:"image/webp"},x2=function(t=""){const e=I4(t);return gwe[e.toLowerCase()]||""},ywe=(t,e)=>{if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;const i=t.cache_.sources.filter(s=>s.src===e);if(i.length)return i[0].type;const n=t.$$("source");for(let s=0;s<n.length;s++){const r=n[s];if(r.type&&r.src&&r.src===e)return r.type}return x2(e)},hO=function(t){if(Array.isArray(t)){let e=[];t.forEach(function(i){i=hO(i),Array.isArray(i)?e=e.concat(i):fa(i)&&e.push(i)}),t=e}else typeof t=="string"&&t.trim()?t=[rV({src:t})]:fa(t)&&typeof t.src=="string"&&t.src&&t.src.trim()?t=[rV(t)]:t=[];return t};function rV(t){if(!t.type){const e=x2(t.src);e&&(t.type=e)}return t}var bwe=`<svg xmlns="http://www.w3.org/2000/svg">
  <defs>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play">
      <path d="M16 10v28l22-14z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-pause">
      <path d="M12 38h8V10h-8v28zm16-28v28h8V10h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-audio">
      <path d="M24 2C14.06 2 6 10.06 6 20v14c0 3.31 2.69 6 6 6h6V24h-8v-4c0-7.73 6.27-14 14-14s14 6.27 14 14v4h-8v16h6c3.31 0 6-2.69 6-6V20c0-9.94-8.06-18-18-18z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-captions">
      <path d="M38 8H10c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM22 22h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2zm14 0h-3v-1h-4v6h4v-1h3v2a2 2 0 0 1-2 2h-6a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-subtitles">
      <path d="M40 8H8c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zM8 24h8v4H8v-4zm20 12H8v-4h20v4zm12 0h-8v-4h8v4zm0-8H20v-4h20v4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-enter">
      <path d="M14 28h-4v10h10v-4h-6v-6zm-4-8h4v-6h6v-4H10v10zm24 14h-6v4h10V28h-4v6zm-6-24v4h6v6h4V10H28z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-fullscreen-exit">
      <path d="M10 32h6v6h4V28H10v4zm6-16h-6v4h10V10h-4v6zm12 22h4v-6h6v-4H28v10zm4-22v-6h-4v10h10v-4h-6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-play-circle">
      <path d="M20 33l12-9-12-9v18zm4-29C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-mute">
      <path d="M33 24c0-3.53-2.04-6.58-5-8.05v4.42l4.91 4.91c.06-.42.09-.85.09-1.28zm5 0c0 1.88-.41 3.65-1.08 5.28l3.03 3.03C41.25 29.82 42 27 42 24c0-8.56-5.99-15.72-14-17.54v4.13c5.78 1.72 10 7.07 10 13.41zM8.55 6L6 8.55 15.45 18H6v12h8l10 10V26.55l8.51 8.51c-1.34 1.03-2.85 1.86-4.51 2.36v4.13a17.94 17.94 0 0 0 7.37-3.62L39.45 42 42 39.45l-18-18L8.55 6zM24 8l-4.18 4.18L24 16.36V8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-low">
      <path d="M14 18v12h8l10 10V8L22 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-medium">
      <path d="M37 24c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zm-27-6v12h8l10 10V8L18 18h-8z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-volume-high">
      <path d="M6 18v12h8l10 10V8L14 18H6zm27 6c0-3.53-2.04-6.58-5-8.05v16.11c2.96-1.48 5-4.53 5-8.06zM28 6.46v4.13c5.78 1.72 10 7.07 10 13.41s-4.22 11.69-10 13.41v4.13c8.01-1.82 14-8.97 14-17.54S36.01 8.28 28 6.46z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-spinner">
      <path d="M18.8 21l9.53-16.51C26.94 4.18 25.49 4 24 4c-4.8 0-9.19 1.69-12.64 4.51l7.33 12.69.11-.2zm24.28-3c-1.84-5.85-6.3-10.52-11.99-12.68L23.77 18h19.31zm.52 2H28.62l.58 1 9.53 16.5C41.99 33.94 44 29.21 44 24c0-1.37-.14-2.71-.4-4zm-26.53 4l-7.8-13.5C6.01 14.06 4 18.79 4 24c0 1.37.14 2.71.4 4h14.98l-2.31-4zM4.92 30c1.84 5.85 6.3 10.52 11.99 12.68L24.23 30H4.92zm22.54 0l-7.8 13.51c1.4.31 2.85.49 4.34.49 4.8 0 9.19-1.69 12.64-4.51L29.31 26.8 27.46 30z"></path>
    </symbol>
    <symbol viewBox="0 0 24 24" id="vjs-icon-hd">
      <path d="M19 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-8 12H9.5v-2h-2v2H6V9h1.5v2.5h2V9H11v6zm2-6h4c.55 0 1 .45 1 1v4c0 .55-.45 1-1 1h-4V9zm1.5 4.5h2v-3h-2v3z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-chapters">
      <path d="M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z"></path>
    </symbol>
    <symbol viewBox="0 0 40 40" id="vjs-icon-downloading">
      <path d="M18.208 36.875q-3.208-.292-5.979-1.729-2.771-1.438-4.812-3.729-2.042-2.292-3.188-5.229-1.146-2.938-1.146-6.23 0-6.583 4.334-11.416 4.333-4.834 10.833-5.5v3.166q-5.167.75-8.583 4.646Q6.25 14.75 6.25 19.958q0 5.209 3.396 9.104 3.396 3.896 8.562 4.646zM20 28.417L11.542 20l2.083-2.083 4.917 4.916v-11.25h2.916v11.25l4.875-4.916L28.417 20zm1.792 8.458v-3.167q1.833-.25 3.541-.958 1.709-.708 3.167-1.875l2.333 2.292q-1.958 1.583-4.25 2.541-2.291.959-4.791 1.167zm6.791-27.792q-1.541-1.125-3.25-1.854-1.708-.729-3.541-1.021V3.042q2.5.25 4.77 1.208 2.271.958 4.271 2.5zm4.584 21.584l-2.25-2.25q1.166-1.5 1.854-3.209.687-1.708.937-3.541h3.209q-.292 2.5-1.229 4.791-.938 2.292-2.521 4.209zm.541-12.417q-.291-1.833-.958-3.562-.667-1.73-1.833-3.188l2.375-2.208q1.541 1.916 2.458 4.208.917 2.292 1.167 4.75z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download">
      <path d="M10.8 40.55q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h26.35v-7.7h3.4v7.7q0 1.4-1 2.4t-2.4 1zM24 32.1L13.9 22.05l2.45-2.45 5.95 5.95V7.15h3.4v18.4l5.95-5.95 2.45 2.45z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-done">
      <path d="M9.8 40.5v-3.45h28.4v3.45zm9.2-9.05L7.4 19.85l2.45-2.35L19 26.65l19.2-19.2 2.4 2.4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-file-download-off">
      <path d="M4.9 4.75L43.25 43.1 41 45.3l-4.75-4.75q-.05.05-.075.025-.025-.025-.075-.025H10.8q-1.35 0-2.375-1T7.4 37.15v-7.7h3.4v7.7h22.05l-7-7-1.85 1.8L13.9 21.9l1.85-1.85L2.7 7zm26.75 14.7l2.45 2.45-3.75 3.8-2.45-2.5zM25.7 7.15V21.1l-3.4-3.45V7.15z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-share">
      <path d="M36 32.17c-1.52 0-2.89.59-3.93 1.54L17.82 25.4c.11-.45.18-.92.18-1.4s-.07-.95-.18-1.4l14.1-8.23c1.07 1 2.5 1.62 4.08 1.62 3.31 0 6-2.69 6-6s-2.69-6-6-6-6 2.69-6 6c0 .48.07.95.18 1.4l-14.1 8.23c-1.07-1-2.5-1.62-4.08-1.62-3.31 0-6 2.69-6 6s2.69 6 6 6c1.58 0 3.01-.62 4.08-1.62l14.25 8.31c-.1.42-.16.86-.16 1.31A5.83 5.83 0 1 0 36 32.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cog">
      <path d="M38.86 25.95c.08-.64.14-1.29.14-1.95s-.06-1.31-.14-1.95l4.23-3.31c.38-.3.49-.84.24-1.28l-4-6.93c-.25-.43-.77-.61-1.22-.43l-4.98 2.01c-1.03-.79-2.16-1.46-3.38-1.97L29 4.84c-.09-.47-.5-.84-1-.84h-8c-.5 0-.91.37-.99.84l-.75 5.3a14.8 14.8 0 0 0-3.38 1.97L9.9 10.1a1 1 0 0 0-1.22.43l-4 6.93c-.25.43-.14.97.24 1.28l4.22 3.31C9.06 22.69 9 23.34 9 24s.06 1.31.14 1.95l-4.22 3.31c-.38.3-.49.84-.24 1.28l4 6.93c.25.43.77.61 1.22.43l4.98-2.01c1.03.79 2.16 1.46 3.38 1.97l.75 5.3c.08.47.49.84.99.84h8c.5 0 .91-.37.99-.84l.75-5.3a14.8 14.8 0 0 0 3.38-1.97l4.98 2.01a1 1 0 0 0 1.22-.43l4-6.93c.25-.43.14-.97-.24-1.28l-4.22-3.31zM24 31c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-square">
      <path d="M36 8H12c-2.21 0-4 1.79-4 4v24c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 28H12V12h24v24z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle">
      <circle cx="24" cy="24" r="20"></circle>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-outline">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-circle-inner-circle">
      <path d="M24 4C12.97 4 4 12.97 4 24s8.97 20 20 20 20-8.97 20-20S35.03 4 24 4zm0 36c-8.82 0-16-7.18-16-16S15.18 8 24 8s16 7.18 16 16-7.18 16-16 16zm6-16c0 3.31-2.69 6-6 6s-6-2.69-6-6 2.69-6 6-6 6 2.69 6 6z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cancel">
      <path d="M24 4C12.95 4 4 12.95 4 24s8.95 20 20 20 20-8.95 20-20S35.05 4 24 4zm10 27.17L31.17 34 24 26.83 16.83 34 14 31.17 21.17 24 14 16.83 16.83 14 24 21.17 31.17 14 34 16.83 26.83 24 34 31.17z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-replay">
      <path d="M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-repeat">
      <path d="M14 14h20v6l8-8-8-8v6H10v12h4v-8zm20 20H14v-6l-8 8 8 8v-6h24V26h-4v8z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-5">
      <path d="M17.689 98l-8.697 8.696 8.697 8.697 2.486-2.485-4.32-4.319h1.302c4.93 0 9.071 1.722 12.424 5.165 3.352 3.443 5.029 7.638 5.029 12.584h3.55c0-2.958-.553-5.73-1.658-8.313-1.104-2.583-2.622-4.841-4.555-6.774-1.932-1.932-4.19-3.45-6.773-4.555-2.584-1.104-5.355-1.657-8.313-1.657H15.5l4.615-4.615zm-8.08 21.659v13.861h11.357v5.008H9.609V143h12.7c.834 0 1.55-.298 2.146-.894.596-.597.895-1.31.895-2.145v-7.781c0-.835-.299-1.55-.895-2.147a2.929 2.929 0 0 0-2.147-.894h-8.227v-5.096H25.35v-4.384z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-10">
      <path d="M42.315 125.63c0-4.997-1.694-9.235-5.08-12.713-3.388-3.479-7.571-5.218-12.552-5.218h-1.315l4.363 4.363-2.51 2.51-8.787-8.786L25.221 97l2.45 2.45-4.662 4.663h1.375c2.988 0 5.788.557 8.397 1.673 2.61 1.116 4.892 2.65 6.844 4.602 1.953 1.953 3.487 4.234 4.602 6.844 1.116 2.61 1.674 5.41 1.674 8.398zM8.183 142v-19.657H3.176V117.8h9.643V142zm13.63 0c-1.156 0-2.127-.393-2.912-1.178-.778-.778-1.168-1.746-1.168-2.902v-16.04c0-1.156.393-2.127 1.178-2.912.779-.779 1.746-1.168 2.902-1.168h7.696c1.156 0 2.126.392 2.911 1.177.779.78 1.168 1.747 1.168 2.903v16.04c0 1.156-.392 2.127-1.177 2.912-.779.779-1.746 1.168-2.902 1.168zm.556-4.636h6.583v-15.02H22.37z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-replay-30">
      <path d="M26.047 97l-8.733 8.732 8.733 8.733 2.496-2.494-4.336-4.338h1.307c4.95 0 9.108 1.73 12.474 5.187 3.367 3.458 5.051 7.668 5.051 12.635h3.565c0-2.97-.556-5.751-1.665-8.346-1.109-2.594-2.633-4.862-4.574-6.802-1.94-1.941-4.208-3.466-6.803-4.575-2.594-1.109-5.375-1.664-8.345-1.664H23.85l4.634-4.634zM2.555 117.531v4.688h10.297v5.25H5.873v4.687h6.979v5.156H2.555V142H13.36c1.061 0 1.95-.395 2.668-1.186.718-.79 1.076-1.772 1.076-2.94v-16.218c0-1.168-.358-2.149-1.076-2.94-.717-.79-1.607-1.185-2.668-1.185zm22.482.14c-1.149 0-2.11.39-2.885 1.165-.78.78-1.172 1.744-1.172 2.893v15.943c0 1.149.388 2.11 1.163 2.885.78.78 1.745 1.172 2.894 1.172h7.649c1.148 0 2.11-.388 2.884-1.163.78-.78 1.17-1.745 1.17-2.894v-15.943c0-1.15-.386-2.111-1.16-2.885-.78-.78-1.746-1.172-2.894-1.172zm.553 4.518h6.545v14.93H25.59z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-5">
      <path d="M29.508 97l-2.431 2.43 4.625 4.625h-1.364c-2.965 0-5.742.554-8.332 1.66-2.589 1.107-4.851 2.629-6.788 4.566-1.937 1.937-3.458 4.2-4.565 6.788-1.107 2.59-1.66 5.367-1.66 8.331h3.557c0-4.957 1.68-9.16 5.04-12.611 3.36-3.45 7.51-5.177 12.451-5.177h1.304l-4.326 4.33 2.49 2.49 8.715-8.716zm-9.783 21.61v13.89h11.382v5.018H19.725V142h12.727a2.93 2.93 0 0 0 2.15-.896 2.93 2.93 0 0 0 .896-2.15v-7.798c0-.837-.299-1.554-.896-2.152a2.93 2.93 0 0 0-2.15-.896h-8.245V123h11.29v-4.392z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-10">
      <path d="M23.119 97l-2.386 2.383 4.538 4.538h-1.339c-2.908 0-5.633.543-8.173 1.63-2.54 1.085-4.76 2.577-6.66 4.478-1.9 1.9-3.392 4.12-4.478 6.66-1.085 2.54-1.629 5.264-1.629 8.172h3.49c0-4.863 1.648-8.986 4.944-12.372 3.297-3.385 7.368-5.078 12.216-5.078h1.279l-4.245 4.247 2.443 2.442 8.55-8.55zm-9.52 21.45v4.42h4.871V142h4.513v-23.55zm18.136 0c-1.125 0-2.066.377-2.824 1.135-.764.764-1.148 1.709-1.148 2.834v15.612c0 1.124.38 2.066 1.139 2.824.764.764 1.708 1.145 2.833 1.145h7.489c1.125 0 2.066-.378 2.824-1.136.764-.764 1.145-1.709 1.145-2.833v-15.612c0-1.125-.378-2.067-1.136-2.825-.764-.764-1.708-1.145-2.833-1.145zm.54 4.42h6.408v14.617h-6.407z"></path>
    </symbol>
    <symbol viewBox="0 96 48 48" id="vjs-icon-forward-30">
      <path d="M25.549 97l-2.437 2.434 4.634 4.635H26.38c-2.97 0-5.753.555-8.347 1.664-2.594 1.109-4.861 2.633-6.802 4.574-1.94 1.94-3.465 4.207-4.574 6.802-1.109 2.594-1.664 5.377-1.664 8.347h3.565c0-4.967 1.683-9.178 5.05-12.636 3.366-3.458 7.525-5.187 12.475-5.187h1.307l-4.335 4.338 2.495 2.494 8.732-8.732zm-11.553 20.53v4.689h10.297v5.249h-6.978v4.688h6.978v5.156H13.996V142h10.808c1.06 0 1.948-.395 2.666-1.186.718-.79 1.077-1.771 1.077-2.94v-16.217c0-1.169-.36-2.15-1.077-2.94-.718-.79-1.605-1.186-2.666-1.186zm21.174.168c-1.149 0-2.11.389-2.884 1.163-.78.78-1.172 1.745-1.172 2.894v15.942c0 1.15.388 2.11 1.162 2.885.78.78 1.745 1.17 2.894 1.17h7.649c1.149 0 2.11-.386 2.885-1.16.78-.78 1.17-1.746 1.17-2.895v-15.942c0-1.15-.387-2.11-1.161-2.885-.78-.78-1.745-1.172-2.894-1.172zm.552 4.516h6.542v14.931h-6.542z"></path>
    </symbol>
    <symbol viewBox="0 0 512 512" id="vjs-icon-audio-description">
      <g fill-rule="evenodd"><path d="M227.29 381.351V162.993c50.38-1.017 89.108-3.028 117.631 17.126 27.374 19.342 48.734 56.965 44.89 105.325-4.067 51.155-41.335 94.139-89.776 98.475-24.085 2.155-71.972 0-71.972 0s-.84-1.352-.773-2.568m48.755-54.804c31.43 1.26 53.208-16.633 56.495-45.386 4.403-38.51-21.188-63.552-58.041-60.796v103.612c-.036 1.466.575 2.22 1.546 2.57"></path><path d="M383.78 381.328c13.336 3.71 17.387-11.06 23.215-21.408 12.722-22.571 22.294-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.226 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M425.154 381.328c13.336 3.71 17.384-11.061 23.215-21.408 12.721-22.571 22.291-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.511c-.586 3.874 2.226 7.315 3.866 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894"></path><path d="M466.26 381.328c13.337 3.71 17.385-11.061 23.216-21.408 12.722-22.571 22.292-51.594 22.445-84.774.221-47.594-18.343-82.517-35.6-106.182h-8.51c-.587 3.874 2.225 7.315 3.865 10.276 13.166 23.762 25.367 56.553 25.54 94.194.2 43.176-14.162 79.278-30.955 107.894M4.477 383.005H72.58l18.573-28.484 64.169-.135s.065 19.413.065 28.62h48.756V160.307h-58.816c-5.653 9.537-140.85 222.697-140.85 222.697zm152.667-145.282v71.158l-40.453-.27 40.453-70.888z"></path></g>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-next-item">
      <path d="M12 36l17-12-17-12v24zm20-24v24h4V12h-4z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-previous-item">
      <path d="M12 12h4v24h-4zm7 12l17 12V12z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-shuffle">
      <path d="M21.17 18.34L10.83 8 8 10.83l10.34 10.34 2.83-2.83zM29 8l4.09 4.09L8 37.17 10.83 40l25.09-25.09L40 19V8H29zm.66 18.83l-2.83 2.83 6.26 6.26L29 40h11V29l-4.09 4.09-6.25-6.26z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-cast">
      <path d="M42 6H6c-2.21 0-4 1.79-4 4v6h4v-6h36v28H28v4h14c2.21 0 4-1.79 4-4V10c0-2.21-1.79-4-4-4zM2 36v6h6c0-3.31-2.69-6-6-6zm0-8v4c5.52 0 10 4.48 10 10h4c0-7.73-6.27-14-14-14zm0-8v4c9.94 0 18 8.06 18 18h4c0-12.15-9.85-22-22-22z"></path>
    </symbol>
    <symbol viewBox="0 0 48 48" id="vjs-icon-picture-in-picture-enter">
      <path d="M38 22H22v11.99h16V22zm8 16V9.96C46 7.76 44.2 6 42 6H6C3.8 6 2 7.76 2 9.96V38c0 2.2 1.8 4 4 4h36c2.2 0 4-1.8 4-4zm-4 .04H6V9.94h36v28.1z"></path>
    </symbol>
    <symbol viewBox="0 0 22 18" id="vjs-icon-picture-in-picture-exit">
      <path d="M18 4H4v10h14V4zm4 12V1.98C22 .88 21.1 0 20 0H2C.9 0 0 .88 0 1.98V16c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zm-2 .02H2V1.97h18v14.05z"></path>
      <path fill="none" d="M-1-3h24v24H-1z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-facebook">
      <path d="M1343 12v264h-157q-86 0-116 36t-30 108v189h293l-39 296h-254v759H734V905H479V609h255V391q0-186 104-288.5T1115 0q147 0 228 12z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-linkedin">
      <path d="M477 625v991H147V625h330zm21-306q1 73-50.5 122T312 490h-2q-82 0-132-49t-50-122q0-74 51.5-122.5T314 148t133 48.5T498 319zm1166 729v568h-329v-530q0-105-40.5-164.5T1168 862q-63 0-105.5 34.5T999 982q-11 30-11 81v553H659q2-399 2-647t-1-296l-1-48h329v144h-2q20-32 41-56t56.5-52 87-43.5T1285 602q171 0 275 113.5t104 332.5z"></path>
    </symbol>
    <symbol viewBox="0 0 1200 1227" id="vjs-icon-twitter">
      <path d="M714.163 519.284L1160.89 0H1055.03L667.137 450.887L357.328 0H0L468.492 681.821L0 1226.37H105.866L515.491 750.218L842.672 1226.37H1200L714.137 519.284H714.163ZM569.165 687.828L521.697 619.934L144.011 79.6944H306.615L611.412 515.685L658.88 583.579L1055.08 1150.3H892.476L569.165 687.854V687.828Z"/>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-tumblr">
      <path d="M1328 1329l80 237q-23 35-111 66t-177 32q-104 2-190.5-26T787 1564t-95-106-55.5-120-16.5-118V676H452V461q72-26 129-69.5t91-90 58-102 34-99T779 12q1-5 4.5-8.5T791 0h244v424h333v252h-334v518q0 30 6.5 56t22.5 52.5 49.5 41.5 81.5 14q78-2 134-29z"></path>
    </symbol>
    <symbol viewBox="0 0 1792 1792" id="vjs-icon-pinterest">
      <path d="M1664 896q0 209-103 385.5T1281.5 1561 896 1664q-111 0-218-32 59-93 78-164 9-34 54-211 20 39 73 67.5t114 28.5q121 0 216-68.5t147-188.5 52-270q0-114-59.5-214T1180 449t-255-63q-105 0-196 29t-154.5 77-109 110.5-67 129.5T377 866q0 104 40 183t117 111q30 12 38-20 2-7 8-31t8-30q6-23-11-43-51-61-51-151 0-151 104.5-259.5T904 517q151 0 235.5 82t84.5 213q0 170-68.5 289T980 1220q-61 0-98-43.5T859 1072q8-35 26.5-93.5t30-103T927 800q0-50-27-83t-77-33q-62 0-105 57t-43 142q0 73 25 122l-99 418q-17 70-13 177-206-91-333-281T128 896q0-209 103-385.5T510.5 231 896 128t385.5 103T1561 510.5 1664 896z"></path>
    </symbol>
  </defs>
</svg>`;const aV=S2?10009:T2?461:8,lu={codes:{play:415,pause:19,ff:417,rw:412,back:aV},names:{415:"play",19:"pause",417:"ff",412:"rw",[aV]:"back"},isEventKey(t,e){return e=e.toLowerCase(),!!(this.names[t.keyCode]&&this.names[t.keyCode]===e)},getEventName(t){if(this.names[t.keyCode])return this.names[t.keyCode];if(this.codes[t.code]){const e=this.codes[t.code];return this.names[e]}return null}},oV=5;class vwe extends _s{constructor(e){super(),this.player_=e,this.focusableComponents=[],this.isListening_=!1,this.isPaused_=!1,this.onKeyDown_=this.onKeyDown_.bind(this),this.lastFocusedComponent_=null}start(){this.isListening_||(this.player_.on("keydown",this.onKeyDown_),this.player_.on("modalKeydown",this.onKeyDown_),this.player_.on("loadedmetadata",()=>{this.focus(this.updateFocusableComponents()[0])}),this.player_.on("modalclose",()=>{this.refocusComponent()}),this.player_.on("focusin",this.handlePlayerFocus_.bind(this)),this.player_.on("focusout",this.handlePlayerBlur_.bind(this)),this.isListening_=!0,this.player_.errorDisplay&&this.player_.errorDisplay.on("aftermodalfill",()=>{this.updateFocusableComponents(),this.focusableComponents.length&&(this.focusableComponents.length>1?this.focusableComponents[1].focus():this.focusableComponents[0].focus())}))}stop(){this.player_.off("keydown",this.onKeyDown_),this.isListening_=!1}onKeyDown_(e){const i=e.originalEvent?e.originalEvent:e;if(["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"].includes(i.key)){if(this.isPaused_)return;i.preventDefault();const n=i.key.substring(5).toLowerCase();this.move(n)}else if(lu.isEventKey(i,"play")||lu.isEventKey(i,"pause")||lu.isEventKey(i,"ff")||lu.isEventKey(i,"rw")){i.preventDefault();const n=lu.getEventName(i);this.performMediaAction_(n)}else lu.isEventKey(i,"Back")&&e.target&&typeof e.target.closeable=="function"&&e.target.closeable()&&(i.preventDefault(),e.target.close())}performMediaAction_(e){if(this.player_)switch(e){case"play":this.player_.paused()&&this.player_.play();break;case"pause":this.player_.paused()||this.player_.pause();break;case"ff":this.userSeek_(this.player_.currentTime()+oV);break;case"rw":this.userSeek_(this.player_.currentTime()-oV);break}}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}pause(){this.isPaused_=!0}resume(){this.isPaused_=!1}handlePlayerBlur_(e){const i=e.relatedTarget;let n=null;const s=this.getCurrentComponent(e.target);i&&(n=!!i.closest(".video-js"),i.classList.contains("vjs-text-track-settings")&&!this.isPaused_&&this.searchForTrackSelect_()),(!e.currentTarget.contains(e.relatedTarget)&&!n||!i)&&(s&&s.name()==="CloseButton"?this.refocusComponent():(this.pause(),s&&s.el()&&(this.lastFocusedComponent_=s)))}handlePlayerFocus_(){this.getCurrentComponent()&&this.getCurrentComponent().getIsFocusable()&&this.resume()}updateFocusableComponents(){const e=this.player_,i=[];function n(s){for(const r of s)r.hasOwnProperty("el_")&&r.getIsFocusable()&&r.getIsAvailableToBeFocused(r.el())&&i.push(r),r.hasOwnProperty("children_")&&r.children_.length>0&&n(r.children_)}return e.children_.forEach(s=>{if(s.hasOwnProperty("el_"))if(s.getIsFocusable&&s.getIsAvailableToBeFocused&&s.getIsFocusable()&&s.getIsAvailableToBeFocused(s.el())){i.push(s);return}else s.hasOwnProperty("children_")&&s.children_.length>0?n(s.children_):s.hasOwnProperty("items")&&s.items.length>0?n(s.items):this.findSuitableDOMChild(s)&&i.push(s);if(s.name_==="ErrorDisplay"&&s.opened_){const r=s.el_.querySelector(".vjs-errors-ok-button-container");r&&r.querySelectorAll("button").forEach((o,l)=>{i.push({name:()=>"ModalButton"+(l+1),el:()=>o,getPositions:()=>{const c=o.getBoundingClientRect(),u={x:c.x,y:c.y,width:c.width,height:c.height,top:c.top,right:c.right,bottom:c.bottom,left:c.left},d={x:c.left+c.width/2,y:c.top+c.height/2,width:0,height:0,top:c.top+c.height/2,right:c.left+c.width/2,bottom:c.top+c.height/2,left:c.left+c.width/2};return{boundingClientRect:u,center:d}},getIsAvailableToBeFocused:()=>!0,getIsFocusable:c=>!0,focus:()=>o.focus()})})}}),this.focusableComponents=i,this.focusableComponents}findSuitableDOMChild(e){function i(n){if(e.getIsFocusable(n)&&e.getIsAvailableToBeFocused(n))return n;for(let s=0;s<n.children.length;s++){const r=n.children[s],a=i(r);if(a)return a}return null}return e.el()?i(e.el()):null}getCurrentComponent(e){this.updateFocusableComponents();const i=e||document.activeElement;if(this.focusableComponents.length){for(const n of this.focusableComponents)if(n.el()===i)return n}}add(e){const i=[...this.focusableComponents];e.hasOwnProperty("el_")&&e.getIsFocusable()&&e.getIsAvailableToBeFocused(e.el())&&i.push(e),this.focusableComponents=i,this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents})}remove(e){for(let i=0;i<this.focusableComponents.length;i++)if(this.focusableComponents[i].name()===e.name()){this.focusableComponents.splice(i,1),this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents});return}}clear(){this.focusableComponents.length>0&&(this.focusableComponents=[],this.trigger({type:"focusableComponentsChanged",focusableComponents:this.focusableComponents}))}move(e){const i=this.getCurrentComponent();if(!i)return;const n=i.getPositions(),s=this.focusableComponents.filter(a=>a!==i&&this.isInDirection_(n.boundingClientRect,a.getPositions().boundingClientRect,e)),r=this.findBestCandidate_(n.center,s,e);r?this.focus(r):this.trigger({type:"endOfFocusableComponents",direction:e,focusedComponent:i})}findBestCandidate_(e,i,n){let s=1/0,r=null;for(const a of i){const o=a.getPositions().center,l=this.calculateDistance_(e,o,n);l<s&&(s=l,r=a)}return r}isInDirection_(e,i,n){switch(n){case"right":return i.left>=e.right;case"left":return i.right<=e.left;case"down":return i.top>=e.bottom;case"up":return i.bottom<=e.top;default:return!1}}refocusComponent(){if(this.lastFocusedComponent_){this.player_.userActive()||this.player_.userActive(!0),this.updateFocusableComponents();for(let e=0;e<this.focusableComponents.length;e++)if(this.focusableComponents[e].name()===this.lastFocusedComponent_.name()){this.focus(this.focusableComponents[e]);return}}else this.focus(this.updateFocusableComponents()[0])}focus(e){typeof e=="object"&&(e.getIsAvailableToBeFocused(e.el())?e.focus():this.findSuitableDOMChild(e)&&this.findSuitableDOMChild(e).focus())}calculateDistance_(e,i,n){const s=Math.abs(e.x-i.x),r=Math.abs(e.y-i.y);let a;switch(n){case"right":case"left":a=s+r*100;break;case"up":a=r*2+s*.5;break;case"down":a=r*5+s;break;default:a=s+r}return a}searchForTrackSelect_(){const e=this;for(const i of e.updateFocusableComponents())if(i.constructor.name==="TextTrackSelect"){e.focus(i);break}}}class Ewe extends Te{constructor(e,i,n){const s=Zt({createEl:!1},i);if(super(e,s,n),!i.playerOptions.sources||i.playerOptions.sources.length===0)for(let r=0,a=i.playerOptions.techOrder;r<a.length;r++){const o=Ri(a[r]);let l=lt.getTech(o);if(o||(l=Te.getComponent(o)),l&&l.isSupported()){e.loadTech_(o);break}}else e.src(i.playerOptions.sources)}}Te.registerComponent("MediaLoader",Ewe);class yb extends Te{constructor(e,i){super(e,i),this.options_.controlText&&this.controlText(this.options_.controlText),this.handleMouseOver_=n=>this.handleMouseOver(n),this.handleMouseOut_=n=>this.handleMouseOut(n),this.handleClick_=n=>this.handleClick(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.emitTapEvents(),this.enable()}createEl(e="div",i={},n={}){i=Object.assign({className:this.buildCSSClass(),tabIndex:0},i),e==="button"&&mt.error(`Creating a ClickableComponent with an HTML element of ${e} is not supported; use a Button instead.`),n=Object.assign({role:"button"},n),this.tabIndex_=i.tabIndex;const s=it(e,i,n);return this.player_.options_.experimentalSvgIcons||s.appendChild(it("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(s),s}dispose(){this.controlTextEl_=null,super.dispose()}createControlTextEl(e){return this.controlTextEl_=it("span",{className:"vjs-control-text"},{"aria-live":"polite"}),e&&e.appendChild(this.controlTextEl_),this.controlText(this.controlText_,e),this.controlTextEl_}controlText(e,i=this.el()){if(e===void 0)return this.controlText_||"Need Text";const n=this.localize(e);this.controlText_=e,Sl(this.controlTextEl_,n),!this.nonIconControl&&!this.player_.options_.noUITitleAttributes&&i.setAttribute("title",n)}buildCSSClass(){return`vjs-control vjs-button ${super.buildCSSClass()}`}enable(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),typeof this.tabIndex_<"u"&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick_),this.on("keydown",this.handleKeyDown_))}disable(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),typeof this.tabIndex_<"u"&&this.el_.removeAttribute("tabIndex"),this.off("mouseover",this.handleMouseOver_),this.off("mouseout",this.handleMouseOut_),this.off(["tap","click"],this.handleClick_),this.off("keydown",this.handleKeyDown_)}handleLanguagechange(){this.controlText(this.controlText_)}handleClick(e){this.options_.clickHandler&&this.options_.clickHandler.call(this,arguments)}handleKeyDown(e){e.key===" "||e.key==="Enter"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Te.registerComponent("ClickableComponent",yb);class BS extends yb{constructor(e,i){super(e,i),this.update(),this.update_=n=>this.update(n),e.on("posterchange",this.update_)}dispose(){this.player().off("posterchange",this.update_),super.dispose()}createEl(){return it("div",{className:"vjs-poster"})}crossOrigin(e){if(typeof e>"u")return this.$("img")?this.$("img").crossOrigin:this.player_.tech_&&this.player_.tech_.isReady_?this.player_.crossOrigin():this.player_.options_.crossOrigin||this.player_.options_.crossorigin||null;if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){this.player_.log.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.$("img")&&(this.$("img").crossOrigin=e)}update(e){const i=this.player().poster();this.setSrc(i),i?this.show():this.hide()}setSrc(e){if(!e){this.el_.textContent="";return}this.$("img")||this.el_.appendChild(it("picture",{className:"vjs-poster",tabIndex:-1},{},it("img",{loading:"lazy",crossOrigin:this.crossOrigin()},{alt:""}))),this.$("img").src=e}handleClick(e){this.player_.controls()&&(this.player_.tech(!0)&&this.player_.tech(!0).focus(),this.player_.paused()?ea(this.player_.play()):this.player_.pause())}}BS.prototype.crossorigin=BS.prototype.crossOrigin;Te.registerComponent("PosterImage",BS);const Fs="#222",lV="#ccc",Awe={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function NE(t,e){let i;if(t.length===4)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else if(t.length===7)i=t.slice(1);else throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function Vr(t,e,i){try{t.style[e]=i}catch{return}}function cV(t){return t?`${t}px`:""}class Swe extends Te{constructor(e,i,n){super(e,i,n);const s=a=>this.updateDisplay(a),r=a=>{this.updateDisplayOverlay(),this.updateDisplay(a)};e.on("loadstart",a=>this.toggleDisplay(a)),e.on("texttrackchange",s),e.on("loadedmetadata",a=>{this.updateDisplayOverlay(),this.preselectTrack(a)}),e.ready(qt(this,function(){if(e.tech_&&e.tech_.featuresNativeTextTracks){this.hide();return}e.on("fullscreenchange",r),e.on("playerresize",r);const a=K.screen.orientation||K,o=K.screen.orientation?"change":"orientationchange";a.addEventListener(o,r),e.on("dispose",()=>a.removeEventListener(o,r));const l=this.options_.playerOptions.tracks||[];for(let c=0;c<l.length;c++)this.player_.addRemoteTextTrack(l[c],!0);this.preselectTrack()}))}preselectTrack(){const e={captions:1,subtitles:1},i=this.player_.textTracks(),n=this.player_.cache_.selectedLanguage;let s,r,a;for(let o=0;o<i.length;o++){const l=i[o];n&&n.enabled&&n.language&&n.language===l.language&&l.kind in e?l.kind===n.kind?a=l:a||(a=l):n&&!n.enabled?(a=null,s=null,r=null):l.default&&(l.kind==="descriptions"&&!s?s=l:l.kind in e&&!r&&(r=l))}a?a.mode="showing":r?r.mode="showing":s&&(s.mode="showing")}toggleDisplay(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()}createEl(){return super.createEl("div",{className:"vjs-text-track-display"},{translate:"yes","aria-live":"off","aria-atomic":"true"})}clearDisplay(){typeof K.WebVTT=="function"&&K.WebVTT.processCues(K,[],this.el_)}updateDisplay(){const e=this.player_.textTracks(),i=this.options_.allowMultipleShowingTracks;if(this.clearDisplay(),i){const a=[];for(let o=0;o<e.length;++o){const l=e[o];l.mode==="showing"&&a.push(l)}this.updateForTrack(a);return}let n=null,s=null,r=e.length;for(;r--;){const a=e[r];a.mode==="showing"&&(a.kind==="descriptions"?n=a:s=a)}if(s?(this.getAttribute("aria-live")!=="off"&&this.setAttribute("aria-live","off"),this.updateForTrack(s)):n&&(this.getAttribute("aria-live")!=="assertive"&&this.setAttribute("aria-live","assertive"),this.updateForTrack(n)),!K.CSS.supports("inset","10px")){const a=this.el_,o=a.querySelectorAll(".vjs-text-track-cue"),l=this.player_.controlBar.el_.getBoundingClientRect().height,c=this.player_.el_.getBoundingClientRect().height;a.style="",Vr(a,"position","relative"),Vr(a,"height",c-l+"px"),Vr(a,"top","unset"),C2?Vr(a,"bottom",c+"px"):Vr(a,"bottom","0px"),o.length>0&&o.forEach(u=>{if(u.style.inset){const d=u.style.inset.split(" ");d.length===3&&Object.assign(u.style,{top:d[0],right:d[1],bottom:d[2],left:"unset"})}})}}updateDisplayOverlay(){if(!this.player_.videoHeight()||!K.CSS.supports("inset-inline: 10px"))return;const e=this.player_.currentWidth(),i=this.player_.currentHeight(),n=e/i,s=this.player_.videoWidth()/this.player_.videoHeight();let r=0,a=0;Math.abs(n-s)>.1&&(n>s?r=Math.round((e-i*s)/2):a=Math.round((i-e/s)/2)),Vr(this.el_,"insetInline",cV(r)),Vr(this.el_,"insetBlock",cV(a))}updateDisplayState(e){const i=this.player_.textTrackSettings.getValues(),n=e.activeCues;let s=n.length;for(;s--;){const r=n[s];if(!r)continue;const a=r.displayState;if(i.color&&(a.firstChild.style.color=i.color),i.textOpacity&&Vr(a.firstChild,"color",NE(i.color||"#fff",i.textOpacity)),i.backgroundColor&&(a.firstChild.style.backgroundColor=i.backgroundColor),i.backgroundOpacity&&Vr(a.firstChild,"backgroundColor",NE(i.backgroundColor||"#000",i.backgroundOpacity)),i.windowColor&&(i.windowOpacity?Vr(a,"backgroundColor",NE(i.windowColor,i.windowOpacity)):a.style.backgroundColor=i.windowColor),i.edgeStyle&&(i.edgeStyle==="dropshadow"?a.firstChild.style.textShadow=`2px 2px 3px ${Fs}, 2px 2px 4px ${Fs}, 2px 2px 5px ${Fs}`:i.edgeStyle==="raised"?a.firstChild.style.textShadow=`1px 1px ${Fs}, 2px 2px ${Fs}, 3px 3px ${Fs}`:i.edgeStyle==="depressed"?a.firstChild.style.textShadow=`1px 1px ${lV}, 0 1px ${lV}, -1px -1px ${Fs}, 0 -1px ${Fs}`:i.edgeStyle==="uniform"&&(a.firstChild.style.textShadow=`0 0 4px ${Fs}, 0 0 4px ${Fs}, 0 0 4px ${Fs}, 0 0 4px ${Fs}`)),i.fontPercent&&i.fontPercent!==1){const o=K.parseFloat(a.style.fontSize);a.style.fontSize=o*i.fontPercent+"px",a.style.height="auto",a.style.top="auto"}i.fontFamily&&i.fontFamily!=="default"&&(i.fontFamily==="small-caps"?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=Awe[i.fontFamily])}}updateForTrack(e){if(Array.isArray(e)||(e=[e]),typeof K.WebVTT!="function"||e.every(n=>!n.activeCues))return;const i=[];for(let n=0;n<e.length;++n){const s=e[n];for(let r=0;r<s.activeCues.length;++r)i.push(s.activeCues[r])}K.WebVTT.processCues(K,i,this.el_);for(let n=0;n<e.length;++n){const s=e[n];for(let r=0;r<s.activeCues.length;++r){const a=s.activeCues[r].displayState;dc(a,"vjs-text-track-cue","vjs-text-track-cue-"+(s.language?s.language:n)),s.language&&Xd(a,"lang",s.language)}this.player_.textTrackSettings&&this.updateDisplayState(s)}}}Te.registerComponent("TextTrackDisplay",Swe);class Twe extends Te{createEl(){const e=this.player_.isAudio(),i=this.localize(e?"Audio Player":"Video Player"),n=it("span",{className:"vjs-control-text",textContent:this.localize("{1} is loading.",[i])}),s=super.createEl("div",{className:"vjs-loading-spinner",dir:"ltr"});return s.appendChild(n),s}handleLanguagechange(){this.$(".vjs-control-text").textContent=this.localize("{1} is loading.",[this.player_.isAudio()?"Audio Player":"Video Player"])}}Te.registerComponent("LoadingSpinner",Twe);class xn extends yb{createEl(e,i={},n={}){e="button",i=Object.assign({className:this.buildCSSClass()},i),n=Object.assign({type:"button"},n);const s=it(e,i,n);return this.player_.options_.experimentalSvgIcons||s.appendChild(it("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),this.createControlTextEl(s),s}addChild(e,i={}){const n=this.constructor.name;return mt.warn(`Adding an actionable (user controllable) child to a Button (${n}) is not supported; use a ClickableComponent instead.`),Te.prototype.addChild.call(this,e,i)}enable(){super.enable(),this.el_.removeAttribute("disabled")}disable(){super.disable(),this.el_.setAttribute("disabled","disabled")}handleKeyDown(e){if(e.key===" "||e.key==="Enter"){e.stopPropagation();return}super.handleKeyDown(e)}}Te.registerComponent("Button",xn);class fO extends xn{constructor(e,i){super(e,i),this.mouseused_=!1,this.setIcon("play"),this.on("mousedown",n=>this.handleMouseDown(n))}buildCSSClass(){return"vjs-big-play-button"}handleClick(e){const i=this.player_.play();if(this.mouseused_&&"clientX"in e&&"clientY"in e){ea(i),this.player_.tech(!0)&&this.player_.tech(!0).focus();return}const n=this.player_.getChild("controlBar"),s=n&&n.getChild("playToggle");if(!s){this.player_.tech(!0).focus();return}const r=()=>s.focus();ip(i)?i.then(r,()=>{}):this.setTimeout(r,1)}handleKeyDown(e){this.mouseused_=!1,super.handleKeyDown(e)}handleMouseDown(e){this.mouseused_=!0}}fO.prototype.controlText_="Play Video";Te.registerComponent("BigPlayButton",fO);class Cwe extends xn{constructor(e,i){super(e,i),this.setIcon("cancel"),this.controlText(i&&i.controlText||this.localize("Close"))}buildCSSClass(){return`vjs-close-button ${super.buildCSSClass()}`}handleClick(e){this.trigger({type:"close",bubbles:!1})}handleKeyDown(e){e.key==="Escape"?(e.preventDefault(),e.stopPropagation(),this.trigger("click")):super.handleKeyDown(e)}}Te.registerComponent("CloseButton",Cwe);class pO extends xn{constructor(e,i={}){super(e,i),i.replay=i.replay===void 0||i.replay,this.setIcon("play"),this.on(e,"play",n=>this.handlePlay(n)),this.on(e,"pause",n=>this.handlePause(n)),i.replay&&this.on(e,"ended",n=>this.handleEnded(n))}buildCSSClass(){return`vjs-play-control ${super.buildCSSClass()}`}handleClick(e){this.player_.paused()?ea(this.player_.play()):this.player_.pause()}handleSeeked(e){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(e):this.handlePlay(e)}handlePlay(e){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.setIcon("pause"),this.controlText("Pause")}handlePause(e){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.setIcon("play"),this.controlText("Play")}handleEnded(e){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.setIcon("replay"),this.controlText("Replay"),this.one(this.player_,"seeked",i=>this.handleSeeked(i))}}pO.prototype.controlText_="Play";Te.registerComponent("PlayToggle",pO);class xh extends Te{constructor(e,i){super(e,i),this.on(e,["timeupdate","ended","seeking"],n=>this.update(n)),this.updateTextNode_()}createEl(){const e=this.buildCSSClass(),i=super.createEl("div",{className:`${e} vjs-time-control vjs-control`}),n=it("span",{className:"vjs-control-text",textContent:`${this.localize(this.labelText_)}`},{role:"presentation"});return i.appendChild(n),this.contentEl_=it("span",{className:`${e}-display`},{role:"presentation"}),i.appendChild(this.contentEl_),i}dispose(){this.contentEl_=null,this.textNode_=null,super.dispose()}update(e){!this.player_.options_.enableSmoothSeeking&&e.type==="seeking"||this.updateContent(e)}updateTextNode_(e=0){e=_c(e),this.formattedTime_!==e&&(this.formattedTime_=e,this.requestNamedAnimationFrame("TimeDisplay#updateTextNode_",()=>{if(!this.contentEl_)return;let i=this.textNode_;i&&this.contentEl_.firstChild!==i&&(i=null,mt.warn("TimeDisplay#updateTextnode_: Prevented replacement of text node element since it was no longer a child of this node. Appending a new node instead.")),this.textNode_=Fe.createTextNode(this.formattedTime_),this.textNode_&&(i?this.contentEl_.replaceChild(this.textNode_,i):this.contentEl_.appendChild(this.textNode_))}))}updateContent(e){}}xh.prototype.labelText_="Time";xh.prototype.controlText_="Time";Te.registerComponent("TimeDisplay",xh);class _4 extends xh{buildCSSClass(){return"vjs-current-time"}updateContent(e){let i;this.player_.ended()?i=this.player_.duration():i=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime(),this.updateTextNode_(i)}}_4.prototype.labelText_="Current Time";_4.prototype.controlText_="Current Time";Te.registerComponent("CurrentTimeDisplay",_4);class x4 extends xh{constructor(e,i){super(e,i);const n=s=>this.updateContent(s);this.on(e,"durationchange",n),this.on(e,"loadstart",n),this.on(e,"loadedmetadata",n)}buildCSSClass(){return"vjs-duration"}updateContent(e){const i=this.player_.duration();this.updateTextNode_(i)}}x4.prototype.labelText_="Duration";x4.prototype.controlText_="Duration";Te.registerComponent("DurationDisplay",x4);class Rwe extends Te{createEl(){const e=super.createEl("div",{className:"vjs-time-control vjs-time-divider"},{"aria-hidden":!0}),i=super.createEl("div"),n=super.createEl("span",{textContent:"/"});return i.appendChild(n),e.appendChild(i),e}}Te.registerComponent("TimeDivider",Rwe);class N4 extends xh{constructor(e,i){super(e,i),this.on(e,"durationchange",n=>this.updateContent(n))}buildCSSClass(){return"vjs-remaining-time"}createEl(){const e=super.createEl();return this.options_.displayNegative!==!1&&e.insertBefore(it("span",{},{"aria-hidden":!0},"-"),this.contentEl_),e}updateContent(e){if(typeof this.player_.duration()!="number")return;let i;this.player_.ended()?i=0:this.player_.remainingTimeDisplay?i=this.player_.remainingTimeDisplay():i=this.player_.remainingTime(),this.updateTextNode_(i)}}N4.prototype.labelText_="Remaining Time";N4.prototype.controlText_="Remaining Time";Te.registerComponent("RemainingTimeDisplay",N4);class Iwe extends Te{constructor(e,i){super(e,i),this.updateShowing(),this.on(this.player(),"durationchange",n=>this.updateShowing(n))}createEl(){const e=super.createEl("div",{className:"vjs-live-control vjs-control"});return this.contentEl_=it("div",{className:"vjs-live-display"},{"aria-live":"off"}),this.contentEl_.appendChild(it("span",{className:"vjs-control-text",textContent:`${this.localize("Stream Type")}`})),this.contentEl_.appendChild(Fe.createTextNode(this.localize("LIVE"))),e.appendChild(this.contentEl_),e}dispose(){this.contentEl_=null,super.dispose()}updateShowing(e){this.player().duration()===1/0?this.show():this.hide()}}Te.registerComponent("LiveDisplay",Iwe);class mO extends xn{constructor(e,i){super(e,i),this.updateLiveEdgeStatus(),this.player_.liveTracker&&(this.updateLiveEdgeStatusHandler_=n=>this.updateLiveEdgeStatus(n),this.on(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_))}createEl(){const e=super.createEl("button",{className:"vjs-seek-to-live-control vjs-control"});return this.setIcon("circle",e),this.textEl_=it("span",{className:"vjs-seek-to-live-text",textContent:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e}updateLiveEdgeStatus(){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))}handleClick(){this.player_.liveTracker.seekToLiveEdge()}dispose(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatusHandler_),this.textEl_=null,super.dispose()}}mO.prototype.controlText_="Seek to live, currently playing live";Te.registerComponent("SeekToLive",mO);function N0(t,e,i){return t=Number(t),Math.min(i,Math.max(e,isNaN(t)?e:t))}var wwe=Object.freeze({__proto__:null,clamp:N0});class V4 extends Te{constructor(e,i){super(e,i),this.handleMouseDown_=n=>this.handleMouseDown(n),this.handleMouseUp_=n=>this.handleMouseUp(n),this.handleKeyDown_=n=>this.handleKeyDown(n),this.handleClick_=n=>this.handleClick(n),this.handleMouseMove_=n=>this.handleMouseMove(n),this.update_=n=>this.update(n),this.bar=this.getChild(this.options_.barName),this.vertical(!!this.options_.vertical),this.enable()}enabled(){return this.enabled_}enable(){this.enabled()||(this.on("mousedown",this.handleMouseDown_),this.on("touchstart",this.handleMouseDown_),this.on("keydown",this.handleKeyDown_),this.on("click",this.handleClick_),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)}disable(){if(!this.enabled())return;const e=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown_),this.off("touchstart",this.handleMouseDown_),this.off("keydown",this.handleKeyDown_),this.off("click",this.handleClick_),this.off(this.player_,"controlsvisible",this.update_),this.off(e,"mousemove",this.handleMouseMove_),this.off(e,"mouseup",this.handleMouseUp_),this.off(e,"touchmove",this.handleMouseMove_),this.off(e,"touchend",this.handleMouseUp_),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}createEl(e,i={},n={}){return i.className=i.className+" vjs-slider",i=Object.assign({tabIndex:0},i),n=Object.assign({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100},n),super.createEl(e,i,n)}handleMouseDown(e){const i=this.bar.el_.ownerDocument;e.type==="mousedown"&&e.preventDefault(),e.type==="touchstart"&&!pa&&e.preventDefault(),PP(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(i,"mousemove",this.handleMouseMove_),this.on(i,"mouseup",this.handleMouseUp_),this.on(i,"touchmove",this.handleMouseMove_),this.on(i,"touchend",this.handleMouseUp_),this.handleMouseMove(e,!0)}handleMouseMove(e){}handleMouseUp(e){const i=this.bar.el_.ownerDocument;OP(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(i,"mousemove",this.handleMouseMove_),this.off(i,"mouseup",this.handleMouseUp_),this.off(i,"touchmove",this.handleMouseMove_),this.off(i,"touchend",this.handleMouseUp_),this.update()}update(){if(!this.el_||!this.bar)return;const e=this.getProgress();return e===this.progress_||(this.progress_=e,this.requestNamedAnimationFrame("Slider#update",()=>{const i=this.vertical()?"height":"width";this.bar.el().style[i]=(e*100).toFixed(2)+"%"})),e}getProgress(){return Number(N0(this.getPercent(),0,1).toFixed(4))}calculateDistance(e){const i=db(this.el_,e);return this.vertical()?i.y:i.x}handleKeyDown(e){const i=this.options_.playerOptions.spatialNavigation,n=i&&i.enabled,s=i&&i.horizontalSeek;n?s&&e.key==="ArrowLeft"||!s&&e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):s&&e.key==="ArrowRight"||!s&&e.key==="ArrowUp"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e):e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepBack()):e.key==="ArrowUp"||e.key==="ArrowRight"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):super.handleKeyDown(e)}handleClick(e){e.stopPropagation(),e.preventDefault()}vertical(e){if(e===void 0)return this.vertical_||!1;this.vertical_=!!e,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")}}Te.registerComponent("Slider",V4);const VE=(t,e)=>N0(t/e*100,0,100).toFixed(2)+"%";class _we extends Te{constructor(e,i){super(e,i),this.partEls_=[],this.on(e,"progress",n=>this.update(n))}createEl(){const e=super.createEl("div",{className:"vjs-load-progress"}),i=it("span",{className:"vjs-control-text"}),n=it("span",{textContent:this.localize("Loaded")}),s=Fe.createTextNode(": ");return this.percentageEl_=it("span",{className:"vjs-control-text-loaded-percentage",textContent:"0%"}),e.appendChild(i),i.appendChild(n),i.appendChild(s),i.appendChild(this.percentageEl_),e}dispose(){this.partEls_=null,this.percentageEl_=null,super.dispose()}update(e){this.requestNamedAnimationFrame("LoadProgressBar#update",()=>{const i=this.player_.liveTracker,n=this.player_.buffered(),s=i&&i.isLive()?i.seekableEnd():this.player_.duration(),r=this.player_.bufferedEnd(),a=this.partEls_,o=VE(r,s);this.percent_!==o&&(this.el_.style.width=o,Sl(this.percentageEl_,o),this.percent_=o);for(let l=0;l<n.length;l++){const c=n.start(l),u=n.end(l);let d=a[l];d||(d=this.el_.appendChild(it()),a[l]=d),!(d.dataset.start===c&&d.dataset.end===u)&&(d.dataset.start=c,d.dataset.end=u,d.style.left=VE(c,r),d.style.width=VE(u-c,r))}for(let l=a.length;l>n.length;l--)this.el_.removeChild(a[l-1]);a.length=n.length})}}Te.registerComponent("LoadProgressBar",_we);class xwe extends Te{constructor(e,i){super(e,i),this.update=ma(qt(this,this.update),Qs)}createEl(){return super.createEl("div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})}update(e,i,n){const s=Op(this.el_),r=Yd(this.player_.el()),a=e.width*i;if(!r||!s)return;let o=e.left-r.left+a,l=e.width-a+(r.right-e.right);l||(l=e.width-a,o=a);let c=s.width/2;o<c?c+=c-o:l<c&&(c=l),c<0?c=0:c>s.width&&(c=s.width),c=Math.round(c),this.el_.style.right=`-${c}px`,this.write(n)}write(e){Sl(this.el_,e)}updateTime(e,i,n,s){this.requestNamedAnimationFrame("TimeTooltip#updateTime",()=>{let r;const a=this.player_.duration();if(this.player_.liveTracker&&this.player_.liveTracker.isLive()){const o=this.player_.liveTracker.liveWindow(),l=o-i*o;r=(l<1?"":"-")+_c(l,o)}else r=_c(n,a);this.update(e,i,r),s&&s()})}}Te.registerComponent("TimeTooltip",xwe);class L4 extends Te{constructor(e,i){super(e,i),this.setIcon("circle"),this.update=ma(qt(this,this.update),Qs)}createEl(){return super.createEl("div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})}update(e,i){const n=this.getChild("timeTooltip");if(!n)return;const s=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();n.updateTime(e,i,s)}}L4.prototype.options_={children:[]};!wn&&!wr&&L4.prototype.options_.children.push("timeTooltip");Te.registerComponent("PlayProgressBar",L4);class gO extends Te{constructor(e,i){super(e,i),this.update=ma(qt(this,this.update),Qs)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,i){const n=i*this.player_.duration();this.getChild("timeTooltip").updateTime(e,i,n,()=>{this.el_.style.left=`${e.width*i}px`})}}gO.prototype.options_={children:["timeTooltip"]};Te.registerComponent("MouseTimeDisplay",gO);const Km=5,uV=12;class bb extends V4{constructor(e,i){i=Zt(bb.prototype.options_,i),i.children=[...i.children];const n=e.options_.disableSeekWhileScrubbingOnMobile&&(wn||wr);(!wn&&!wr||n)&&i.children.splice(1,0,"mouseTimeDisplay"),super(e,i),this.shouldDisableSeekWhileScrubbingOnMobile_=n,this.pendingSeekTime_=null,this.setEventHandlers_()}setEventHandlers_(){this.update_=qt(this,this.update),this.update=ma(this.update_,Qs),this.on(this.player_,["durationchange","timeupdate"],this.update),this.on(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.enableIntervalHandler_=e=>this.enableInterval_(e),this.disableIntervalHandler_=e=>this.disableInterval_(e),this.on(this.player_,["playing"],this.enableIntervalHandler_),this.on(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Fe&&"visibilityState"in Fe&&this.on(Fe,"visibilitychange",this.toggleVisibility_)}toggleVisibility_(e){Fe.visibilityState==="hidden"?(this.cancelNamedAnimationFrame("SeekBar#update"),this.cancelNamedAnimationFrame("Slider#update"),this.disableInterval_(e)):(!this.player_.ended()&&!this.player_.paused()&&this.enableInterval_(),this.update())}enableInterval_(){this.updateInterval||(this.updateInterval=this.setInterval(this.update,Qs))}disableInterval_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&e&&e.type!=="ended"||this.updateInterval&&(this.clearInterval(this.updateInterval),this.updateInterval=null)}createEl(){return super.createEl("div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})}update(e){if(Fe.visibilityState==="hidden")return;const i=super.update();return this.requestNamedAnimationFrame("SeekBar#update",()=>{const n=this.player_.ended()?this.player_.duration():this.getCurrentTime_(),s=this.player_.liveTracker;let r=this.player_.duration();s&&s.isLive()&&(r=this.player_.liveTracker.liveCurrentTime()),this.percent_!==i&&(this.el_.setAttribute("aria-valuenow",(i*100).toFixed(2)),this.percent_=i),(this.currentTime_!==n||this.duration_!==r)&&(this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[_c(n,r),_c(r,r)],"{1} of {2}")),this.currentTime_=n,this.duration_=r),this.bar&&this.bar.update(Yd(this.el()),this.getProgress())}),i}userSeek_(e){this.player_.liveTracker&&this.player_.liveTracker.isLive()&&this.player_.liveTracker.nextSeekedFromUser(),this.player_.currentTime(e)}getCurrentTime_(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()}getPercent(){if(this.pendingSeekTime_)return this.pendingSeekTime_/this.player_.duration();const e=this.getCurrentTime_();let i;const n=this.player_.liveTracker;return n&&n.isLive()?(i=(e-n.seekableStart())/n.liveWindow(),n.atLiveEdge()&&(i=1)):i=e/this.player_.duration(),i}handleMouseDown(e){Xp(e)&&(e.stopPropagation(),this.videoWasPlaying=!this.player_.paused(),this.shouldDisableSeekWhileScrubbingOnMobile_||this.player_.pause(),super.handleMouseDown(e))}handleMouseMove(e,i=!1){if(!Xp(e)||isNaN(this.player_.duration()))return;!i&&!this.player_.scrubbing()&&this.player_.scrubbing(!0);let n;const s=this.calculateDistance(e),r=this.player_.liveTracker;if(!r||!r.isLive())n=s*this.player_.duration(),n===this.player_.duration()&&(n=n-.1);else{if(s>=.99){r.seekToLiveEdge();return}const a=r.seekableStart(),o=r.liveCurrentTime();if(n=a+s*r.liveWindow(),n>=o&&(n=o),n<=a&&(n=a+.1),n===1/0)return}this.shouldDisableSeekWhileScrubbingOnMobile_?this.pendingSeekTime_=n:this.userSeek_(n),this.player_.options_.enableSmoothSeeking&&this.update()}enable(){super.enable();const e=this.getChild("mouseTimeDisplay");e&&e.show()}disable(){super.disable();const e=this.getChild("mouseTimeDisplay");e&&e.hide()}handleMouseUp(e){super.handleMouseUp(e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.pendingSeekTime_&&(this.userSeek_(this.pendingSeekTime_),this.pendingSeekTime_=null),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying?ea(this.player_.play()):this.update_()}stepForward(){this.userSeek_(this.player_.currentTime()+Km)}stepBack(){this.userSeek_(this.player_.currentTime()-Km)}handleAction(e){this.player_.paused()?this.player_.play():this.player_.pause()}handleKeyDown(e){const i=this.player_.liveTracker;if(e.key===" "||e.key==="Enter")e.preventDefault(),e.stopPropagation(),this.handleAction(e);else if(e.key==="Home")e.preventDefault(),e.stopPropagation(),this.userSeek_(0);else if(e.key==="End")e.preventDefault(),e.stopPropagation(),i&&i.isLive()?this.userSeek_(i.liveCurrentTime()):this.userSeek_(this.player_.duration());else if(/^[0-9]$/.test(e.key)){e.preventDefault(),e.stopPropagation();const n=parseInt(e.key,10)*.1;i&&i.isLive()?this.userSeek_(i.seekableStart()+i.liveWindow()*n):this.userSeek_(this.player_.duration()*n)}else e.key==="PageDown"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()-Km*uV)):e.key==="PageUp"?(e.preventDefault(),e.stopPropagation(),this.userSeek_(this.player_.currentTime()+Km*uV)):super.handleKeyDown(e)}dispose(){this.disableInterval_(),this.off(this.player_,["durationchange","timeupdate"],this.update),this.off(this.player_,["ended"],this.update_),this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.update),this.off(this.player_,["playing"],this.enableIntervalHandler_),this.off(this.player_,["ended","pause","waiting"],this.disableIntervalHandler_),"hidden"in Fe&&"visibilityState"in Fe&&this.off(Fe,"visibilitychange",this.toggleVisibility_),super.dispose()}}bb.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"};Te.registerComponent("SeekBar",bb);class yO extends Te{constructor(e,i){super(e,i),this.handleMouseMove=ma(qt(this,this.handleMouseMove),Qs),this.throttledHandleMouseSeek=ma(qt(this,this.handleMouseSeek),Qs),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.handleMouseDownHandler_=n=>this.handleMouseDown(n),this.enable()}createEl(){return super.createEl("div",{className:"vjs-progress-control vjs-control"})}handleMouseMove(e){const i=this.getChild("seekBar");if(!i)return;const n=i.getChild("playProgressBar"),s=i.getChild("mouseTimeDisplay");if(!n&&!s)return;const r=i.el(),a=Op(r);let o=db(r,e).x;o=N0(o,0,1),s&&s.update(a,o),n&&n.update(a,i.getProgress())}handleMouseSeek(e){const i=this.getChild("seekBar");i&&i.handleMouseMove(e)}enabled(){return this.enabled_}disable(){if(this.children().forEach(e=>e.disable&&e.disable()),!!this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDownHandler_),this.off(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeListenersAddedOnMousedownAndTouchstart(),this.addClass("disabled"),this.enabled_=!1,this.player_.scrubbing())){const e=this.getChild("seekBar");this.player_.scrubbing(!1),e.videoWasPlaying&&ea(this.player_.play())}}enable(){this.children().forEach(e=>e.enable&&e.enable()),!this.enabled()&&(this.on(["mousedown","touchstart"],this.handleMouseDownHandler_),this.on(this.el_,["mousemove","touchmove"],this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)}removeListenersAddedOnMousedownAndTouchstart(){const e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUpHandler_),this.off(e,"touchend",this.handleMouseUpHandler_)}handleMouseDown(e){const i=this.el_.ownerDocument,n=this.getChild("seekBar");n&&n.handleMouseDown(e),this.on(i,"mousemove",this.throttledHandleMouseSeek),this.on(i,"touchmove",this.throttledHandleMouseSeek),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const i=this.getChild("seekBar");i&&i.handleMouseUp(e),this.removeListenersAddedOnMousedownAndTouchstart()}}yO.prototype.options_={children:["seekBar"]};Te.registerComponent("ProgressControl",yO);class bO extends xn{constructor(e,i){super(e,i),this.setIcon("picture-in-picture-enter"),this.on(e,["enterpictureinpicture","leavepictureinpicture"],n=>this.handlePictureInPictureChange(n)),this.on(e,["disablepictureinpicturechanged","loadedmetadata"],n=>this.handlePictureInPictureEnabledChange(n)),this.on(e,["loadedmetadata","audioonlymodechange","audiopostermodechange"],()=>this.handlePictureInPictureAudioModeChange()),this.disable()}buildCSSClass(){return`vjs-picture-in-picture-control vjs-hidden ${super.buildCSSClass()}`}handlePictureInPictureAudioModeChange(){if(!(this.player_.currentType().substring(0,5)==="audio"||this.player_.audioPosterMode()||this.player_.audioOnlyMode())){this.show();return}this.player_.isInPictureInPicture()&&this.player_.exitPictureInPicture(),this.hide()}handlePictureInPictureEnabledChange(){Fe.pictureInPictureEnabled&&this.player_.disablePictureInPicture()===!1||this.player_.options_.enableDocumentPictureInPicture&&"documentPictureInPicture"in K?this.enable():this.disable()}handlePictureInPictureChange(e){this.player_.isInPictureInPicture()?(this.setIcon("picture-in-picture-exit"),this.controlText("Exit Picture-in-Picture")):(this.setIcon("picture-in-picture-enter"),this.controlText("Picture-in-Picture")),this.handlePictureInPictureEnabledChange()}handleClick(e){this.player_.isInPictureInPicture()?this.player_.exitPictureInPicture():this.player_.requestPictureInPicture()}show(){typeof Fe.exitPictureInPicture=="function"&&super.show()}}bO.prototype.controlText_="Picture-in-Picture";Te.registerComponent("PictureInPictureToggle",bO);class vO extends xn{constructor(e,i){super(e,i),this.setIcon("fullscreen-enter"),this.on(e,"fullscreenchange",n=>this.handleFullscreenChange(n)),Fe[e.fsApi_.fullscreenEnabled]===!1&&this.disable()}buildCSSClass(){return`vjs-fullscreen-control ${super.buildCSSClass()}`}handleFullscreenChange(e){this.player_.isFullscreen()?(this.controlText("Exit Fullscreen"),this.setIcon("fullscreen-exit")):(this.controlText("Fullscreen"),this.setIcon("fullscreen-enter"))}handleClick(e){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()}}vO.prototype.controlText_="Fullscreen";Te.registerComponent("FullscreenToggle",vO);const Nwe=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class Vwe extends Te{createEl(){const e=super.createEl("div",{className:"vjs-volume-level"});return this.setIcon("circle",e),e.appendChild(super.createEl("span",{className:"vjs-control-text"})),e}}Te.registerComponent("VolumeLevel",Vwe);class Lwe extends Te{constructor(e,i){super(e,i),this.update=ma(qt(this,this.update),Qs)}createEl(){return super.createEl("div",{className:"vjs-volume-tooltip"},{"aria-hidden":"true"})}update(e,i,n,s){if(!n){const r=Yd(this.el_),a=Yd(this.player_.el()),o=e.width*i;if(!a||!r)return;const l=e.left-a.left+o,c=e.width-o+(a.right-e.right);let u=r.width/2;l<u?u+=u-l:c<u&&(u=c),u<0?u=0:u>r.width&&(u=r.width),this.el_.style.right=`-${u}px`}this.write(`${s}%`)}write(e){Sl(this.el_,e)}updateVolume(e,i,n,s,r){this.requestNamedAnimationFrame("VolumeLevelTooltip#updateVolume",()=>{this.update(e,i,n,s.toFixed(0)),r&&r()})}}Te.registerComponent("VolumeLevelTooltip",Lwe);class EO extends Te{constructor(e,i){super(e,i),this.update=ma(qt(this,this.update),Qs)}createEl(){return super.createEl("div",{className:"vjs-mouse-display"})}update(e,i,n){const s=100*i;this.getChild("volumeLevelTooltip").updateVolume(e,i,n,s,()=>{n?this.el_.style.bottom=`${e.height*i}px`:this.el_.style.left=`${e.width*i}px`})}}EO.prototype.options_={children:["volumeLevelTooltip"]};Te.registerComponent("MouseVolumeLevelDisplay",EO);class vb extends V4{constructor(e,i){super(e,i),this.on("slideractive",n=>this.updateLastVolume_(n)),this.on(e,"volumechange",n=>this.updateARIAAttributes(n)),e.ready(()=>this.updateARIAAttributes())}createEl(){return super.createEl("div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})}handleMouseDown(e){Xp(e)&&super.handleMouseDown(e)}handleMouseMove(e){const i=this.getChild("mouseVolumeLevelDisplay");if(i){const n=this.el(),s=Yd(n),r=this.vertical();let a=db(n,e);a=r?a.y:a.x,a=N0(a,0,1),i.update(s,a,r)}Xp(e)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(e)))}checkMuted(){this.player_.muted()&&this.player_.muted(!1)}getPercent(){return this.player_.muted()?0:this.player_.volume()}stepForward(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)}stepBack(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)}updateARIAAttributes(e){const i=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",i),this.el_.setAttribute("aria-valuetext",i+"%")}volumeAsPercentage_(){return Math.round(this.player_.volume()*100)}updateLastVolume_(){const e=this.player_.volume();this.one("sliderinactive",()=>{this.player_.volume()===0&&this.player_.lastVolume_(e)})}}vb.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"};!wn&&!wr&&vb.prototype.options_.children.splice(0,0,"mouseVolumeLevelDisplay");vb.prototype.playerEvent="volumechange";Te.registerComponent("VolumeBar",vb);class AO extends Te{constructor(e,i={}){i.vertical=i.vertical||!1,(typeof i.volumeBar>"u"||Od(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),super(e,i),Nwe(this,e),this.throttledHandleMouseMove=ma(qt(this,this.handleMouseMove),Qs),this.handleMouseUpHandler_=n=>this.handleMouseUp(n),this.on("mousedown",n=>this.handleMouseDown(n)),this.on("touchstart",n=>this.handleMouseDown(n)),this.on("mousemove",n=>this.handleMouseMove(n)),this.on(this.volumeBar,["focus","slideractive"],()=>{this.volumeBar.addClass("vjs-slider-active"),this.addClass("vjs-slider-active"),this.trigger("slideractive")}),this.on(this.volumeBar,["blur","sliderinactive"],()=>{this.volumeBar.removeClass("vjs-slider-active"),this.removeClass("vjs-slider-active"),this.trigger("sliderinactive")})}createEl(){let e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),super.createEl("div",{className:`vjs-volume-control vjs-control ${e}`})}handleMouseDown(e){const i=this.el_.ownerDocument;this.on(i,"mousemove",this.throttledHandleMouseMove),this.on(i,"touchmove",this.throttledHandleMouseMove),this.on(i,"mouseup",this.handleMouseUpHandler_),this.on(i,"touchend",this.handleMouseUpHandler_)}handleMouseUp(e){const i=this.el_.ownerDocument;this.off(i,"mousemove",this.throttledHandleMouseMove),this.off(i,"touchmove",this.throttledHandleMouseMove),this.off(i,"mouseup",this.handleMouseUpHandler_),this.off(i,"touchend",this.handleMouseUpHandler_)}handleMouseMove(e){this.volumeBar.handleMouseMove(e)}}AO.prototype.options_={children:["volumeBar"]};Te.registerComponent("VolumeControl",AO);const kwe=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})};class SO extends xn{constructor(e,i){super(e,i),kwe(this,e),this.on(e,["loadstart","volumechange"],n=>this.update(n))}buildCSSClass(){return`vjs-mute-control ${super.buildCSSClass()}`}handleClick(e){const i=this.player_.volume(),n=this.player_.lastVolume_();if(i===0){const s=n<.1?.1:n;this.player_.volume(s),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())}update(e){this.updateIcon_(),this.updateControlText_()}updateIcon_(){const e=this.player_.volume();let i=3;this.setIcon("volume-high"),wn&&this.player_.tech_&&this.player_.tech_.el_&&this.player_.muted(this.player_.tech_.el_.muted),e===0||this.player_.muted()?(this.setIcon("volume-mute"),i=0):e<.33?(this.setIcon("volume-low"),i=1):e<.67&&(this.setIcon("volume-medium"),i=2),cb(this.el_,[0,1,2,3].reduce((n,s)=>n+`${s?" ":""}vjs-vol-${s}`,"")),dc(this.el_,`vjs-vol-${i}`)}updateControlText_(){const i=this.player_.muted()||this.player_.volume()===0?"Unmute":"Mute";this.controlText()!==i&&this.controlText(i)}}SO.prototype.controlText_="Mute";Te.registerComponent("MuteToggle",SO);class TO extends Te{constructor(e,i={}){typeof i.inline<"u"?i.inline=i.inline:i.inline=!0,(typeof i.volumeControl>"u"||Od(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),super(e,i),this.handleKeyPressHandler_=n=>this.handleKeyPress(n),this.on(e,["loadstart"],n=>this.volumePanelState_(n)),this.on(this.muteToggle,"keyup",n=>this.handleKeyPress(n)),this.on(this.volumeControl,"keyup",n=>this.handleVolumeControlKeyUp(n)),this.on("keydown",n=>this.handleKeyPress(n)),this.on("mouseover",n=>this.handleMouseOver(n)),this.on("mouseout",n=>this.handleMouseOut(n)),this.on(this.volumeControl,["slideractive"],this.sliderActive_),this.on(this.volumeControl,["sliderinactive"],this.sliderInactive_)}sliderActive_(){this.addClass("vjs-slider-active")}sliderInactive_(){this.removeClass("vjs-slider-active")}volumePanelState_(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")}createEl(){let e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),super.createEl("div",{className:`vjs-volume-panel vjs-control ${e}`})}dispose(){this.handleMouseOut(),super.dispose()}handleVolumeControlKeyUp(e){e.key==="Escape"&&this.muteToggle.focus()}handleMouseOver(e){this.addClass("vjs-hover"),ws(Fe,"keyup",this.handleKeyPressHandler_)}handleMouseOut(e){this.removeClass("vjs-hover"),_n(Fe,"keyup",this.handleKeyPressHandler_)}handleKeyPress(e){e.key==="Escape"&&this.handleMouseOut()}}TO.prototype.options_={children:["muteToggle","volumeControl"]};Te.registerComponent("VolumePanel",TO);class CO extends xn{constructor(e,i){super(e,i),this.validOptions=[5,10,30],this.skipTime=this.getSkipForwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`forward-${this.skipTime}`),this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipForwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.forward}buildCSSClass(){return`vjs-skip-forward-${this.getSkipForwardTime()} ${super.buildCSSClass()}`}handleClick(e){if(isNaN(this.player_.duration()))return;const i=this.player_.currentTime(),n=this.player_.liveTracker,s=n&&n.isLive()?n.seekableEnd():this.player_.duration();let r;i+this.skipTime<=s?r=i+this.skipTime:r=s,this.player_.currentTime(r)}handleLanguagechange(){this.controlText(this.localize("Skip forward {1} seconds",[this.skipTime]))}}CO.prototype.controlText_="Skip Forward";Te.registerComponent("SkipForward",CO);class RO extends xn{constructor(e,i){super(e,i),this.validOptions=[5,10,30],this.skipTime=this.getSkipBackwardTime(),this.skipTime&&this.validOptions.includes(this.skipTime)?(this.setIcon(`replay-${this.skipTime}`),this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime.toLocaleString(e.language())])),this.show()):this.hide()}getSkipBackwardTime(){const e=this.options_.playerOptions;return e.controlBar&&e.controlBar.skipButtons&&e.controlBar.skipButtons.backward}buildCSSClass(){return`vjs-skip-backward-${this.getSkipBackwardTime()} ${super.buildCSSClass()}`}handleClick(e){const i=this.player_.currentTime(),n=this.player_.liveTracker,s=n&&n.isLive()&&n.seekableStart();let r;s&&i-this.skipTime<=s?r=s:i>=this.skipTime?r=i-this.skipTime:r=0,this.player_.currentTime(r)}handleLanguagechange(){this.controlText(this.localize("Skip backward {1} seconds",[this.skipTime]))}}RO.prototype.controlText_="Skip Backward";Te.registerComponent("SkipBackward",RO);class IO extends Te{constructor(e,i){super(e,i),i&&(this.menuButton_=i.menuButton),this.focusedChild_=-1,this.on("keydown",n=>this.handleKeyDown(n)),this.boundHandleBlur_=n=>this.handleBlur(n),this.boundHandleTapClick_=n=>this.handleTapClick(n)}addEventListenerForItem(e){e instanceof Te&&(this.on(e,"blur",this.boundHandleBlur_),this.on(e,["tap","click"],this.boundHandleTapClick_))}removeEventListenerForItem(e){e instanceof Te&&(this.off(e,"blur",this.boundHandleBlur_),this.off(e,["tap","click"],this.boundHandleTapClick_))}removeChild(e){typeof e=="string"&&(e=this.getChild(e)),this.removeEventListenerForItem(e),super.removeChild(e)}addItem(e){const i=this.addChild(e);i&&this.addEventListenerForItem(i)}createEl(){const e=this.options_.contentElType||"ul";this.contentEl_=it(e,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");const i=super.createEl("div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),ws(i,"click",function(n){n.preventDefault(),n.stopImmediatePropagation()}),i}dispose(){this.contentEl_=null,this.boundHandleBlur_=null,this.boundHandleTapClick_=null,super.dispose()}handleBlur(e){const i=e.relatedTarget||Fe.activeElement;if(!this.children().some(n=>n.el()===i)){const n=this.menuButton_;n&&n.buttonPressed_&&i!==n.el().firstChild&&n.unpressButton()}}handleTapClick(e){if(this.menuButton_){this.menuButton_.unpressButton();const i=this.children();if(!Array.isArray(i))return;const n=i.filter(s=>s.el()===e.target)[0];if(!n)return;n.name()!=="CaptionSettingsMenuItem"&&this.menuButton_.focus()}}handleKeyDown(e){e.key==="ArrowLeft"||e.key==="ArrowDown"?(e.preventDefault(),e.stopPropagation(),this.stepForward()):(e.key==="ArrowRight"||e.key==="ArrowUp")&&(e.preventDefault(),e.stopPropagation(),this.stepBack())}stepForward(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_+1),this.focus(e)}stepBack(){let e=0;this.focusedChild_!==void 0&&(e=this.focusedChild_-1),this.focus(e)}focus(e=0){const i=this.children().slice();i.length&&i[0].hasClass("vjs-menu-title")&&i.shift(),i.length>0&&(e<0?e=0:e>=i.length&&(e=i.length-1),this.focusedChild_=e,i[e].el_.focus())}}Te.registerComponent("Menu",IO);class k4 extends Te{constructor(e,i={}){super(e,i),this.menuButton_=new xn(e,i),this.menuButton_.controlText(this.controlText_),this.menuButton_.el_.setAttribute("aria-haspopup","true");const n=xn.prototype.buildCSSClass();this.menuButton_.el_.className=this.buildCSSClass()+" "+n,this.menuButton_.removeClass("vjs-control"),this.addChild(this.menuButton_),this.update(),this.enabled_=!0;const s=r=>this.handleClick(r);this.handleMenuKeyUp_=r=>this.handleMenuKeyUp(r),this.on(this.menuButton_,"tap",s),this.on(this.menuButton_,"click",s),this.on(this.menuButton_,"keydown",r=>this.handleKeyDown(r)),this.on(this.menuButton_,"mouseenter",()=>{this.addClass("vjs-hover"),this.menu.show(),ws(Fe,"keyup",this.handleMenuKeyUp_)}),this.on("mouseleave",r=>this.handleMouseLeave(r)),this.on("keydown",r=>this.handleSubmenuKeyDown(r))}update(){const e=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=e,this.addChild(e),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?(this.hide(),this.menu.contentEl_.removeAttribute("role")):(this.show(),this.menu.contentEl_.setAttribute("role","menu"))}createMenu(){const e=new IO(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){const i=it("li",{className:"vjs-menu-title",textContent:Ri(this.options_.title),tabIndex:-1}),n=new Te(this.player_,{el:i});e.addItem(n)}if(this.items=this.createItems(),this.items)for(let i=0;i<this.items.length;i++)e.addItem(this.items[i]);return e}createItems(){}createEl(){return super.createEl("div",{className:this.buildWrapperCSSClass()},{})}setIcon(e){super.setIcon(e,this.menuButton_.el_)}buildWrapperCSSClass(){let e="vjs-menu-button";this.options_.inline===!0?e+="-inline":e+="-popup";const i=xn.prototype.buildCSSClass();return`vjs-menu-button ${e} ${i} ${super.buildCSSClass()}`}buildCSSClass(){let e="vjs-menu-button";return this.options_.inline===!0?e+="-inline":e+="-popup",`vjs-menu-button ${e} ${super.buildCSSClass()}`}controlText(e,i=this.menuButton_.el()){return this.menuButton_.controlText(e,i)}dispose(){this.handleMouseLeave(),super.dispose()}handleClick(e){this.buttonPressed_?this.unpressButton():this.pressButton()}handleMouseLeave(e){this.removeClass("vjs-hover"),_n(Fe,"keyup",this.handleMenuKeyUp_)}focus(){this.menuButton_.focus()}blur(){this.menuButton_.blur()}handleKeyDown(e){e.key==="Escape"||e.key==="Tab"?(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus())):(e.key==="Up"||e.key==="Down"&&!(this.player_.options_.playerOptions.spatialNavigation&&this.player_.options_.playerOptions.spatialNavigation.enabled))&&(this.buttonPressed_||(e.preventDefault(),this.pressButton()))}handleMenuKeyUp(e){(e.key==="Escape"||e.key==="Tab")&&this.removeClass("vjs-hover")}handleSubmenuKeyPress(e){this.handleSubmenuKeyDown(e)}handleSubmenuKeyDown(e){(e.key==="Escape"||e.key==="Tab")&&(this.buttonPressed_&&this.unpressButton(),!e.key==="Tab"&&(e.preventDefault(),this.menuButton_.focus()))}pressButton(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),wn&&WP())return;this.menu.focus()}}unpressButton(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))}disable(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()}enable(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()}}Te.registerComponent("MenuButton",k4);class F4 extends k4{constructor(e,i){const n=i.tracks;if(super(e,i),this.items.length<=1&&this.hide(),!n)return;const s=qt(this,this.update);n.addEventListener("removetrack",s),n.addEventListener("addtrack",s),n.addEventListener("labelchange",s),this.player_.on("ready",s),this.player_.on("dispose",function(){n.removeEventListener("removetrack",s),n.removeEventListener("addtrack",s),n.removeEventListener("labelchange",s)})}}Te.registerComponent("TrackButton",F4);class V0 extends yb{constructor(e,i){super(e,i),this.selectable=i.selectable,this.isSelected_=i.selected||!1,this.multiSelectable=i.multiSelectable,this.selected(this.isSelected_),this.selectable?this.multiSelectable?this.el_.setAttribute("role","menuitemcheckbox"):this.el_.setAttribute("role","menuitemradio"):this.el_.setAttribute("role","menuitem")}createEl(e,i,n){this.nonIconControl=!0;const s=super.createEl("li",Object.assign({className:"vjs-menu-item",tabIndex:-1},i),n),r=it("span",{className:"vjs-menu-item-text",textContent:this.localize(this.options_.label)});return this.player_.options_.experimentalSvgIcons?s.appendChild(r):s.replaceChild(r,s.querySelector(".vjs-icon-placeholder")),s}handleKeyDown(e){["Tab","Escape","ArrowUp","ArrowLeft","ArrowRight","ArrowDown"].includes(e.key)||super.handleKeyDown(e)}handleClick(e){this.selected(!0)}selected(e){this.selectable&&(e?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))}}Te.registerComponent("MenuItem",V0);class L0 extends V0{constructor(e,i){const n=i.track,s=e.textTracks();i.label=n.label||n.language||"Unknown",i.selected=n.mode==="showing",super(e,i),this.track=n,this.kinds=(i.kinds||[i.kind||this.track.kind]).filter(Boolean);const r=(...o)=>{this.handleTracksChange.apply(this,o)},a=(...o)=>{this.handleSelectedLanguageChange.apply(this,o)};if(e.on(["loadstart","texttrackchange"],r),s.addEventListener("change",r),s.addEventListener("selectedlanguagechange",a),this.on("dispose",function(){e.off(["loadstart","texttrackchange"],r),s.removeEventListener("change",r),s.removeEventListener("selectedlanguagechange",a)}),s.onchange===void 0){let o;this.on(["tap","click"],function(){if(typeof K.Event!="object")try{o=new K.Event("change")}catch{}o||(o=Fe.createEvent("Event"),o.initEvent("change",!0,!0)),s.dispatchEvent(o)})}this.handleTracksChange()}handleClick(e){const i=this.track,n=this.player_.textTracks();if(super.handleClick(e),!!n)for(let s=0;s<n.length;s++){const r=n[s];this.kinds.indexOf(r.kind)!==-1&&(r===i?r.mode!=="showing"&&(r.mode="showing"):r.mode!=="disabled"&&(r.mode="disabled"))}}handleTracksChange(e){const i=this.track.mode==="showing";i!==this.isSelected_&&this.selected(i)}handleSelectedLanguageChange(e){if(this.track.mode==="showing"){const i=this.player_.cache_.selectedLanguage;if(i&&i.enabled&&i.language===this.track.language&&i.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}}dispose(){this.track=null,super.dispose()}}Te.registerComponent("TextTrackMenuItem",L0);class wO extends L0{constructor(e,i){i.track={player:e,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,super(e,i)}handleTracksChange(e){const i=this.player().textTracks();let n=!0;for(let s=0,r=i.length;s<r;s++){const a=i[s];if(this.options_.kinds.indexOf(a.kind)>-1&&a.mode==="showing"){n=!1;break}}n!==this.isSelected_&&this.selected(n)}handleSelectedLanguageChange(e){const i=this.player().textTracks();let n=!0;for(let s=0,r=i.length;s<r;s++){const a=i[s];if(["captions","descriptions","subtitles"].indexOf(a.kind)>-1&&a.mode==="showing"){n=!1;break}}n&&(this.player_.cache_.selectedLanguage={enabled:!1})}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.label),super.handleLanguagechange()}}Te.registerComponent("OffTextTrackMenuItem",wO);class Nh extends F4{constructor(e,i={}){i.tracks=e.textTracks(),super(e,i)}createItems(e=[],i=L0){let n;this.label_&&(n=`${this.label_} off`),e.push(new wO(this.player_,{kinds:this.kinds_,kind:this.kind_,label:n})),this.hideThreshold_+=1;const s=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(let r=0;r<s.length;r++){const a=s[r];if(this.kinds_.indexOf(a.kind)>-1){const o=new i(this.player_,{track:a,kinds:this.kinds_,kind:this.kind_,selectable:!0,multiSelectable:!1});o.addClass(`vjs-${a.kind}-menu-item`),e.push(o)}}return e}}Te.registerComponent("TextTrackButton",Nh);class _O extends V0{constructor(e,i){const n=i.track,s=i.cue,r=e.currentTime();i.selectable=!0,i.multiSelectable=!1,i.label=s.text,i.selected=s.startTime<=r&&r<s.endTime,super(e,i),this.track=n,this.cue=s}handleClick(e){super.handleClick(),this.player_.currentTime(this.cue.startTime)}}Te.registerComponent("ChaptersTrackMenuItem",_O);class U4 extends Nh{constructor(e,i,n){super(e,i,n),this.setIcon("chapters"),this.selectCurrentItem_=()=>{this.items.forEach(s=>{s.selected(this.track_.activeCues[0]===s.cue)})}}buildCSSClass(){return`vjs-chapters-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-chapters-button ${super.buildWrapperCSSClass()}`}update(e){if(e&&e.track&&e.track.kind!=="chapters")return;const i=this.findChaptersTrack();i!==this.track_?(this.setTrack(i),super.update()):(!this.items||i&&i.cues&&i.cues.length!==this.items.length)&&super.update()}setTrack(e){if(this.track_!==e){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){const i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.removeEventListener("load",this.updateHandler_),this.track_.removeEventListener("cuechange",this.selectCurrentItem_),this.track_=null}if(this.track_=e,this.track_){this.track_.mode="hidden";const i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_),this.track_.addEventListener("cuechange",this.selectCurrentItem_)}}}findChaptersTrack(){const e=this.player_.textTracks()||[];for(let i=e.length-1;i>=0;i--){const n=e[i];if(n.kind===this.kind_)return n}}getMenuCaption(){return this.track_&&this.track_.label?this.track_.label:this.localize(Ri(this.kind_))}createMenu(){return this.options_.title=this.getMenuCaption(),super.createMenu()}createItems(){const e=[];if(!this.track_)return e;const i=this.track_.cues;if(!i)return e;for(let n=0,s=i.length;n<s;n++){const r=i[n],a=new _O(this.player_,{track:this.track_,cue:r});e.push(a)}return e}}U4.prototype.kind_="chapters";U4.prototype.controlText_="Chapters";Te.registerComponent("ChaptersButton",U4);class B4 extends Nh{constructor(e,i,n){super(e,i,n),this.setIcon("audio-description");const s=e.textTracks(),r=qt(this,this.handleTracksChange);s.addEventListener("change",r),this.on("dispose",function(){s.removeEventListener("change",r)})}handleTracksChange(e){const i=this.player().textTracks();let n=!1;for(let s=0,r=i.length;s<r;s++){const a=i[s];if(a.kind!==this.kind_&&a.mode==="showing"){n=!0;break}}n?this.disable():this.enable()}buildCSSClass(){return`vjs-descriptions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-descriptions-button ${super.buildWrapperCSSClass()}`}}B4.prototype.kind_="descriptions";B4.prototype.controlText_="Descriptions";Te.registerComponent("DescriptionsButton",B4);class W4 extends Nh{constructor(e,i,n){super(e,i,n),this.setIcon("subtitles")}buildCSSClass(){return`vjs-subtitles-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subtitles-button ${super.buildWrapperCSSClass()}`}}W4.prototype.kind_="subtitles";W4.prototype.controlText_="Subtitles";Te.registerComponent("SubtitlesButton",W4);class G4 extends L0{constructor(e,i){i.track={player:e,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",super(e,i),this.addClass("vjs-texttrack-settings"),this.controlText(", opens "+i.kind+" settings dialog")}handleClick(e){this.player().getChild("textTrackSettings").open()}handleLanguagechange(){this.$(".vjs-menu-item-text").textContent=this.player_.localize(this.options_.kind+" settings"),super.handleLanguagechange()}}Te.registerComponent("CaptionSettingsMenuItem",G4);class D4 extends Nh{constructor(e,i,n){super(e,i,n),this.setIcon("captions")}buildCSSClass(){return`vjs-captions-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-captions-button ${super.buildWrapperCSSClass()}`}createItems(){const e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new G4(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),super.createItems(e)}}D4.prototype.kind_="captions";D4.prototype.controlText_="Captions";Te.registerComponent("CaptionsButton",D4);class xO extends L0{createEl(e,i,n){const s=super.createEl(e,i,n),r=s.querySelector(".vjs-menu-item-text");return this.options_.track.kind==="captions"&&(this.player_.options_.experimentalSvgIcons?this.setIcon("captions",s):r.appendChild(it("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(it("span",{className:"vjs-control-text",textContent:` ${this.localize("Captions")}`}))),s}}Te.registerComponent("SubsCapsMenuItem",xO);class M4 extends Nh{constructor(e,i={}){super(e,i),this.label_="subtitles",this.setIcon("subtitles"),["en","en-us","en-ca","fr-ca"].indexOf(this.player_.language_)>-1&&(this.label_="captions",this.setIcon("captions")),this.menuButton_.controlText(Ri(this.label_))}buildCSSClass(){return`vjs-subs-caps-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-subs-caps-button ${super.buildWrapperCSSClass()}`}createItems(){let e=[];return!(this.player().tech_&&this.player().tech_.featuresNativeTextTracks)&&this.player().getChild("textTrackSettings")&&(e.push(new G4(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=super.createItems(e,xO),e}}M4.prototype.kinds_=["captions","subtitles"];M4.prototype.controlText_="Subtitles";Te.registerComponent("SubsCapsButton",M4);class NO extends V0{constructor(e,i){const n=i.track,s=e.audioTracks();i.label=n.label||n.language||"Unknown",i.selected=n.enabled,super(e,i),this.track=n,this.addClass(`vjs-${n.kind}-menu-item`);const r=(...a)=>{this.handleTracksChange.apply(this,a)};s.addEventListener("change",r),this.on("dispose",()=>{s.removeEventListener("change",r)})}createEl(e,i,n){const s=super.createEl(e,i,n),r=s.querySelector(".vjs-menu-item-text");return["main-desc","descriptions"].indexOf(this.options_.track.kind)>=0&&(r.appendChild(it("span",{className:"vjs-icon-placeholder"},{"aria-hidden":!0})),r.appendChild(it("span",{className:"vjs-control-text",textContent:" "+this.localize("Descriptions")}))),s}handleClick(e){if(super.handleClick(e),this.track.enabled=!0,this.player_.tech_.featuresNativeAudioTracks){const i=this.player_.audioTracks();for(let n=0;n<i.length;n++){const s=i[n];s!==this.track&&(s.enabled=s===this.track)}}}handleTracksChange(e){this.selected(this.track.enabled)}}Te.registerComponent("AudioTrackMenuItem",NO);class VO extends F4{constructor(e,i={}){i.tracks=e.audioTracks(),super(e,i),this.setIcon("audio")}buildCSSClass(){return`vjs-audio-button ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-audio-button ${super.buildWrapperCSSClass()}`}createItems(e=[]){this.hideThreshold_=1;const i=this.player_.audioTracks();for(let n=0;n<i.length;n++){const s=i[n];e.push(new NO(this.player_,{track:s,selectable:!0,multiSelectable:!1}))}return e}}VO.prototype.controlText_="Audio Track";Te.registerComponent("AudioTrackButton",VO);class Z4 extends V0{constructor(e,i){const n=i.rate,s=parseFloat(n,10);i.label=n,i.selected=s===e.playbackRate(),i.selectable=!0,i.multiSelectable=!1,super(e,i),this.label=n,this.rate=s,this.on(e,"ratechange",r=>this.update(r))}handleClick(e){super.handleClick(),this.player().playbackRate(this.rate)}update(e){this.selected(this.player().playbackRate()===this.rate)}}Z4.prototype.contentElType="button";Te.registerComponent("PlaybackRateMenuItem",Z4);class LO extends k4{constructor(e,i){super(e,i),this.menuButton_.el_.setAttribute("aria-describedby",this.labelElId_),this.updateVisibility(),this.updateLabel(),this.on(e,"loadstart",n=>this.updateVisibility(n)),this.on(e,"ratechange",n=>this.updateLabel(n)),this.on(e,"playbackrateschange",n=>this.handlePlaybackRateschange(n))}createEl(){const e=super.createEl();return this.labelElId_="vjs-playback-rate-value-label-"+this.id_,this.labelEl_=it("div",{className:"vjs-playback-rate-value",id:this.labelElId_,textContent:"1x"}),e.appendChild(this.labelEl_),e}dispose(){this.labelEl_=null,super.dispose()}buildCSSClass(){return`vjs-playback-rate ${super.buildCSSClass()}`}buildWrapperCSSClass(){return`vjs-playback-rate ${super.buildWrapperCSSClass()}`}createItems(){const e=this.playbackRates(),i=[];for(let n=e.length-1;n>=0;n--)i.push(new Z4(this.player(),{rate:e[n]+"x"}));return i}handlePlaybackRateschange(e){this.update()}playbackRates(){const e=this.player();return e.playbackRates&&e.playbackRates()||[]}playbackRateSupported(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0}updateVisibility(e){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")}updateLabel(e){this.playbackRateSupported()&&(this.labelEl_.textContent=this.player().playbackRate()+"x")}}LO.prototype.controlText_="Playback Rate";Te.registerComponent("PlaybackRateMenuButton",LO);class kO extends Te{buildCSSClass(){return`vjs-spacer ${super.buildCSSClass()}`}createEl(e="div",i={},n={}){return i.className||(i.className=this.buildCSSClass()),super.createEl(e,i,n)}}Te.registerComponent("Spacer",kO);class Fwe extends kO{buildCSSClass(){return`vjs-custom-control-spacer ${super.buildCSSClass()}`}createEl(){return super.createEl("div",{className:this.buildCSSClass(),textContent:""})}}Te.registerComponent("CustomControlSpacer",Fwe);class FO extends Te{createEl(){return super.createEl("div",{className:"vjs-control-bar",dir:"ltr"})}}FO.prototype.options_={children:["playToggle","skipBackward","skipForward","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","pictureInPictureToggle","fullscreenToggle"]};Te.registerComponent("ControlBar",FO);class UO extends _h{constructor(e,i){super(e,i),this.on(e,"error",n=>{this.open(n)})}buildCSSClass(){return`vjs-error-display ${super.buildCSSClass()}`}content(){const e=this.player().error();return e?this.localize(e.message):""}}UO.prototype.options_=Object.assign({},_h.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0});Te.registerComponent("ErrorDisplay",UO);class BO extends Te{constructor(e,i={}){super(e,i),this.el_.setAttribute("aria-labelledby",this.selectLabelledbyIds)}createEl(){return this.selectLabelledbyIds=[this.options_.legendId,this.options_.labelId].join(" ").trim(),it("select",{id:this.options_.id},{},this.options_.SelectOptions.map(i=>{const n=(this.options_.labelId?this.options_.labelId:`vjs-track-option-${Hs()}`)+"-"+i[1].replace(/\W+/g,""),s=it("option",{id:n,value:this.localize(i[0]),textContent:this.localize(i[1])});return s.setAttribute("aria-labelledby",`${this.selectLabelledbyIds} ${n}`),s}))}}Te.registerComponent("TextTrackSelect",BO);class fc extends Te{constructor(e,i={}){super(e,i);const n=it("legend",{textContent:this.localize(this.options_.legendText),id:this.options_.legendId});this.el().appendChild(n);const s=this.options_.selects;for(const r of s){const a=this.options_.selectConfigs[r],o=a.className,l=a.id.replace("%s",this.options_.id_);let c=null;const u=`vjs_select_${Hs()}`;if(this.options_.type==="colors"){c=it("span",{className:o});const h=it("label",{id:l,className:"vjs-label",textContent:this.localize(a.label)});h.setAttribute("for",u),c.appendChild(h)}const d=new BO(e,{SelectOptions:a.options,legendId:this.options_.legendId,id:u,labelId:l});this.addChild(d),this.options_.type==="colors"&&(c.appendChild(d.el()),this.el().appendChild(c))}}createEl(){return it("fieldset",{className:this.options_.className})}}Te.registerComponent("TextTrackFieldset",fc);class WO extends Te{constructor(e,i={}){super(e,i);const n=this.options_.textTrackComponentid,s=new fc(e,{id_:n,legendId:`captions-text-legend-${n}`,legendText:this.localize("Text"),className:"vjs-fg vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(s);const r=new fc(e,{id_:n,legendId:`captions-background-${n}`,legendText:this.localize("Text Background"),className:"vjs-bg vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(r);const a=new fc(e,{id_:n,legendId:`captions-window-${n}`,legendText:this.localize("Caption Area Background"),className:"vjs-window vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"colors"});this.addChild(a)}createEl(){return it("div",{className:"vjs-track-settings-colors"})}}Te.registerComponent("TextTrackSettingsColors",WO);class GO extends Te{constructor(e,i={}){super(e,i);const n=this.options_.textTrackComponentid,s=new fc(e,{id_:n,legendId:`captions-font-size-${n}`,legendText:"Font Size",className:"vjs-font-percent vjs-track-setting",selects:this.options_.fieldSets[0],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(s);const r=new fc(e,{id_:n,legendId:`captions-edge-style-${n}`,legendText:this.localize("Text Edge Style"),className:"vjs-edge-style vjs-track-setting",selects:this.options_.fieldSets[1],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(r);const a=new fc(e,{id_:n,legendId:`captions-font-family-${n}`,legendText:this.localize("Font Family"),className:"vjs-font-family vjs-track-setting",selects:this.options_.fieldSets[2],selectConfigs:this.options_.selectConfigs,type:"font"});this.addChild(a)}createEl(){return it("div",{className:"vjs-track-settings-font"})}}Te.registerComponent("TextTrackSettingsFont",GO);class DO extends Te{constructor(e,i={}){super(e,i);const n=this.localize("restore all settings to the default values"),s=new xn(e,{controlText:n,className:"vjs-default-button"});s.el().classList.remove("vjs-control","vjs-button"),s.el().textContent=this.localize("Reset"),this.addChild(s);const r=new xn(e,{controlText:n,className:"vjs-done-button"});r.el().classList.remove("vjs-control","vjs-button"),r.el().textContent=this.localize("Done"),this.addChild(r)}createEl(){return it("div",{className:"vjs-track-settings-controls"})}}Te.registerComponent("TrackSettingsControls",DO);const LE="vjs-text-track-settings",dV=["#000","Black"],hV=["#00F","Blue"],fV=["#0FF","Cyan"],pV=["#0F0","Green"],mV=["#F0F","Magenta"],gV=["#F00","Red"],yV=["#FFF","White"],bV=["#FF0","Yellow"],kE=["1","Opaque"],FE=["0.5","Semi-Transparent"],vV=["0","Transparent"],Xo={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[dV,yV,gV,pV,hV,bV,mV,fV],className:"vjs-bg-color"},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Opacity",options:[kE,FE,vV],className:"vjs-bg-opacity vjs-opacity"},color:{selector:".vjs-text-color > select",id:"captions-foreground-color-%s",label:"Color",options:[yV,dV,gV,pV,hV,bV,mV,fV],className:"vjs-text-color"},edgeStyle:{selector:".vjs-edge-style > select",id:"",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Drop shadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:t=>t==="1.00"?null:Number(t)},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Opacity",options:[kE,FE],className:"vjs-text-opacity vjs-opacity"},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color",className:"vjs-window-color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Opacity",options:[vV,FE,kE],className:"vjs-window-opacity vjs-opacity"}};Xo.windowColor.options=Xo.backgroundColor.options;function MO(t,e){if(e&&(t=e(t)),t&&t!=="none")return t}function Uwe(t,e){const i=t.options[t.options.selectedIndex].value;return MO(i,e)}function Bwe(t,e,i){if(e){for(let n=0;n<t.options.length;n++)if(MO(t.options[n].value,i)===e){t.selectedIndex=n;break}}}class Wwe extends _h{constructor(e,i){i.temporary=!1,super(e,i),this.updateDisplay=this.updateDisplay.bind(this),this.fill(),this.hasBeenOpened_=this.hasBeenFilled_=!0,this.renderModalComponents(e),this.endDialog=it("p",{className:"vjs-control-text",textContent:this.localize("End of dialog window.")}),this.el().appendChild(this.endDialog),this.setDefaults(),i.persistTextTrackSettings===void 0&&(this.options_.persistTextTrackSettings=this.options_.playerOptions.persistTextTrackSettings),this.bindFunctionsToSelectsAndButtons(),this.options_.persistTextTrackSettings&&this.restoreSettings()}renderModalComponents(e){const i=new WO(e,{textTrackComponentid:this.id_,selectConfigs:Xo,fieldSets:[["color","textOpacity"],["backgroundColor","backgroundOpacity"],["windowColor","windowOpacity"]]});this.addChild(i);const n=new GO(e,{textTrackComponentid:this.id_,selectConfigs:Xo,fieldSets:[["fontPercent"],["edgeStyle"],["fontFamily"]]});this.addChild(n);const s=new DO(e);this.addChild(s)}bindFunctionsToSelectsAndButtons(){this.on(this.$(".vjs-done-button"),["click","tap"],()=>{this.saveSettings(),this.close()}),this.on(this.$(".vjs-default-button"),["click","tap"],()=>{this.setDefaults(),this.updateDisplay()}),ed(Xo,e=>{this.on(this.$(e.selector),"change",this.updateDisplay)})}dispose(){this.endDialog=null,super.dispose()}label(){return this.localize("Caption Settings Dialog")}description(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")}buildCSSClass(){return super.buildCSSClass()+" vjs-text-track-settings"}getValues(){return NP(Xo,(e,i,n)=>{const s=Uwe(this.$(i.selector),i.parser);return s!==void 0&&(e[n]=s),e},{})}setValues(e){ed(Xo,(i,n)=>{Bwe(this.$(i.selector),e[n],i.parser)})}setDefaults(){ed(Xo,e=>{const i=e.hasOwnProperty("default")?e.default:0;this.$(e.selector).selectedIndex=i})}restoreSettings(){let e;try{e=JSON.parse(K.localStorage.getItem(LE))}catch(i){mt.warn(i)}e&&this.setValues(e)}saveSettings(){if(!this.options_.persistTextTrackSettings)return;const e=this.getValues();try{Object.keys(e).length?K.localStorage.setItem(LE,JSON.stringify(e)):K.localStorage.removeItem(LE)}catch(i){mt.warn(i)}}updateDisplay(){const e=this.player_.getChild("textTrackDisplay");e&&e.updateDisplay()}handleLanguagechange(){this.fill(),this.renderModalComponents(this.player_),this.bindFunctionsToSelectsAndButtons()}}Te.registerComponent("TextTrackSettings",Wwe);class Gwe extends Te{constructor(e,i){let n=i.ResizeObserver||K.ResizeObserver;i.ResizeObserver===null&&(n=!1);const s=Zt({createEl:!n,reportTouchActivity:!1},i);super(e,s),this.ResizeObserver=i.ResizeObserver||K.ResizeObserver,this.loadListener_=null,this.resizeObserver_=null,this.debouncedHandler_=qP(()=>{this.resizeHandler()},100,!1,this),n?(this.resizeObserver_=new this.ResizeObserver(this.debouncedHandler_),this.resizeObserver_.observe(e.el())):(this.loadListener_=()=>{if(!this.el_||!this.el_.contentWindow)return;const r=this.debouncedHandler_;let a=this.unloadListener_=function(){_n(this,"resize",r),_n(this,"unload",a),a=null};ws(this.el_.contentWindow,"unload",a),ws(this.el_.contentWindow,"resize",r)},this.one("load",this.loadListener_))}createEl(){return super.createEl("iframe",{className:"vjs-resize-manager",tabIndex:-1,title:this.localize("No content")},{"aria-hidden":"true"})}resizeHandler(){!this.player_||!this.player_.trigger||this.player_.trigger("playerresize")}dispose(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.loadListener_&&this.off("load",this.loadListener_),this.el_&&this.el_.contentWindow&&this.unloadListener_&&this.unloadListener_.call(this.el_.contentWindow),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null,super.dispose()}}Te.registerComponent("ResizeManager",Gwe);const Dwe={trackingThreshold:20,liveTolerance:15};class Mwe extends Te{constructor(e,i){const n=Zt(Dwe,i,{createEl:!1});super(e,n),this.trackLiveHandler_=()=>this.trackLive_(),this.handlePlay_=s=>this.handlePlay(s),this.handleFirstTimeupdate_=s=>this.handleFirstTimeupdate(s),this.handleSeeked_=s=>this.handleSeeked(s),this.seekToLiveEdge_=s=>this.seekToLiveEdge(s),this.reset_(),this.on(this.player_,"durationchange",s=>this.handleDurationchange(s)),this.on(this.player_,"canplay",()=>this.toggleTracking())}trackLive_(){const e=this.player_.seekable();if(!e||!e.length)return;const i=Number(K.performance.now().toFixed(4)),n=this.lastTime_===-1?0:(i-this.lastTime_)/1e3;this.lastTime_=i,this.pastSeekEnd_=this.pastSeekEnd()+n;const s=this.liveCurrentTime(),r=this.player_.currentTime();let a=this.player_.paused()||this.seekedBehindLive_||Math.abs(s-r)>this.options_.liveTolerance;(!this.timeupdateSeen_||s===1/0)&&(a=!1),a!==this.behindLiveEdge_&&(this.behindLiveEdge_=a,this.trigger("liveedgechange"))}handleDurationchange(){this.toggleTracking()}toggleTracking(){this.player_.duration()===1/0&&this.liveWindow()>=this.options_.trackingThreshold?(this.player_.options_.liveui&&this.player_.addClass("vjs-liveui"),this.startTracking()):(this.player_.removeClass("vjs-liveui"),this.stopTracking())}startTracking(){this.isTracking()||(this.timeupdateSeen_||(this.timeupdateSeen_=this.player_.hasStarted()),this.trackingInterval_=this.setInterval(this.trackLiveHandler_,Qs),this.trackLive_(),this.on(this.player_,["play","pause"],this.trackLiveHandler_),this.timeupdateSeen_?this.on(this.player_,"seeked",this.handleSeeked_):(this.one(this.player_,"play",this.handlePlay_),this.one(this.player_,"timeupdate",this.handleFirstTimeupdate_)))}handleFirstTimeupdate(){this.timeupdateSeen_=!0,this.on(this.player_,"seeked",this.handleSeeked_)}handleSeeked(){const e=Math.abs(this.liveCurrentTime()-this.player_.currentTime());this.seekedBehindLive_=this.nextSeekedFromUser_&&e>2,this.nextSeekedFromUser_=!1,this.trackLive_()}handlePlay(){this.one(this.player_,"timeupdate",this.seekToLiveEdge_)}reset_(){this.lastTime_=-1,this.pastSeekEnd_=0,this.lastSeekEnd_=-1,this.behindLiveEdge_=!0,this.timeupdateSeen_=!1,this.seekedBehindLive_=!1,this.nextSeekedFromUser_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.off(this.player_,["play","pause"],this.trackLiveHandler_),this.off(this.player_,"seeked",this.handleSeeked_),this.off(this.player_,"play",this.handlePlay_),this.off(this.player_,"timeupdate",this.handleFirstTimeupdate_),this.off(this.player_,"timeupdate",this.seekToLiveEdge_)}nextSeekedFromUser(){this.nextSeekedFromUser_=!0}stopTracking(){this.isTracking()&&(this.reset_(),this.trigger("liveedgechange"))}seekableEnd(){const e=this.player_.seekable(),i=[];let n=e?e.length:0;for(;n--;)i.push(e.end(n));return i.length?i.sort()[i.length-1]:1/0}seekableStart(){const e=this.player_.seekable(),i=[];let n=e?e.length:0;for(;n--;)i.push(e.start(n));return i.length?i.sort()[0]:0}liveWindow(){const e=this.liveCurrentTime();return e===1/0?0:e-this.seekableStart()}isLive(){return this.isTracking()}atLiveEdge(){return!this.behindLiveEdge()}liveCurrentTime(){return this.pastSeekEnd()+this.seekableEnd()}pastSeekEnd(){const e=this.seekableEnd();return this.lastSeekEnd_!==-1&&e!==this.lastSeekEnd_&&(this.pastSeekEnd_=0),this.lastSeekEnd_=e,this.pastSeekEnd_}behindLiveEdge(){return this.behindLiveEdge_}isTracking(){return typeof this.trackingInterval_=="number"}seekToLiveEdge(){this.seekedBehindLive_=!1,!this.atLiveEdge()&&(this.nextSeekedFromUser_=!1,this.player_.currentTime(this.liveCurrentTime()))}dispose(){this.stopTracking(),super.dispose()}}Te.registerComponent("LiveTracker",Mwe);class Zwe extends Te{constructor(e,i){super(e,i),this.on("statechanged",n=>this.updateDom_()),this.updateDom_()}createEl(){return this.els={title:it("div",{className:"vjs-title-bar-title",id:`vjs-title-bar-title-${Hs()}`}),description:it("div",{className:"vjs-title-bar-description",id:`vjs-title-bar-description-${Hs()}`})},it("div",{className:"vjs-title-bar"},{},VP(this.els))}updateDom_(){const e=this.player_.tech_,i=e&&e.el_,n={title:"aria-labelledby",description:"aria-describedby"};["title","description"].forEach(s=>{const r=this.state[s],a=this.els[s],o=n[s];hb(a),r&&Sl(a,r),i&&(i.removeAttribute(o),r&&i.setAttribute(o,a.id))}),this.state.title||this.state.description?this.show():this.hide()}update(e){this.setState(e)}dispose(){const e=this.player_.tech_,i=e&&e.el_;i&&(i.removeAttribute("aria-labelledby"),i.removeAttribute("aria-describedby")),super.dispose(),this.els=null}}Te.registerComponent("TitleBar",Zwe);const Pwe={initialDisplay:4e3,position:[],takeFocus:!1};class Owe extends xn{constructor(e,i){i=Zt(Pwe,i),super(e,i),this.controlText(i.controlText),this.hide(),this.on(this.player_,["useractive","userinactive"],n=>{this.removeClass("force-display")})}buildCSSClass(){return`vjs-transient-button focus-visible ${this.options_.position.map(e=>`vjs-${e}`).join(" ")}`}createEl(){const e=it("button",{},{type:"button",class:this.buildCSSClass()},it("span"));return this.controlTextEl_=e.querySelector("span"),e}show(){super.show(),this.addClass("force-display"),this.options_.takeFocus&&this.el().focus({preventScroll:!0}),this.forceDisplayTimeout=this.player_.setTimeout(()=>{this.removeClass("force-display")},this.options_.initialDisplay)}hide(){this.removeClass("force-display"),super.hide()}dispose(){this.player_.clearTimeout(this.forceDisplayTimeout),super.dispose()}}Te.registerComponent("TransientButton",Owe);const WS=t=>{const e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;const i=t.$$("source"),n=[];let s="";if(!i.length)return!1;for(let r=0;r<i.length;r++){const a=i[r].src;a&&n.indexOf(a)===-1&&n.push(a)}return n.length?(n.length===1&&(s=n[0]),t.triggerSourceset(s),!0):!1},Xwe=Object.defineProperty({},"innerHTML",{get(){return this.cloneNode(!0).innerHTML},set(t){const e=Fe.createElement(this.nodeName.toLowerCase());e.innerHTML=t;const i=Fe.createDocumentFragment();for(;e.childNodes.length;)i.appendChild(e.childNodes[0]);return this.innerText="",K.Element.prototype.appendChild.call(this,i),this.innerHTML}}),ZO=(t,e)=>{let i={};for(let n=0;n<t.length&&(i=Object.getOwnPropertyDescriptor(t[n],e),!(i&&i.set&&i.get));n++);return i.enumerable=!0,i.configurable=!0,i},Ywe=t=>ZO([t.el(),K.HTMLMediaElement.prototype,K.Element.prototype,Xwe],"innerHTML"),EV=function(t){const e=t.el();if(e.resetSourceWatch_)return;const i={},n=Ywe(t),s=r=>(...a)=>{const o=r.apply(e,a);return WS(t),o};["append","appendChild","insertAdjacentHTML"].forEach(r=>{e[r]&&(i[r]=e[r],e[r]=s(i[r]))}),Object.defineProperty(e,"innerHTML",Zt(n,{set:s(n.set)})),e.resetSourceWatch_=()=>{e.resetSourceWatch_=null,Object.keys(i).forEach(r=>{e[r]=i[r]}),Object.defineProperty(e,"innerHTML",n)},t.one("sourceset",e.resetSourceWatch_)},$we=Object.defineProperty({},"src",{get(){return this.hasAttribute("src")?cO(K.Element.prototype.getAttribute.call(this,"src")):""},set(t){return K.Element.prototype.setAttribute.call(this,"src",t),t}}),Kwe=t=>ZO([t.el(),K.HTMLMediaElement.prototype,$we],"src"),zwe=function(t){if(!t.featuresSourceset)return;const e=t.el();if(e.resetSourceset_)return;const i=Kwe(t),n=e.setAttribute,s=e.load;Object.defineProperty(e,"src",Zt(i,{set:r=>{const a=i.set.call(e,r);return t.triggerSourceset(e.src),a}})),e.setAttribute=(r,a)=>{const o=n.call(e,r,a);return/src/i.test(r)&&t.triggerSourceset(e.src),o},e.load=()=>{const r=s.call(e);return WS(t)||(t.triggerSourceset(""),EV(t)),r},e.currentSrc?t.triggerSourceset(e.currentSrc):WS(t)||EV(t),e.resetSourceset_=()=>{e.resetSourceset_=null,e.load=s,e.setAttribute=n,Object.defineProperty(e,"src",i),e.resetSourceWatch_&&e.resetSourceWatch_()}};class Oe extends lt{constructor(e,i){super(e,i);const n=e.source;let s=!1;if(this.featuresVideoFrameCallback=this.featuresVideoFrameCallback&&this.el_.tagName==="VIDEO",n&&(this.el_.currentSrc!==n.src||e.tag&&e.tag.initNetworkState_===3)?this.setSource(n):this.handleLateInit_(this.el_),e.enableSourceset&&this.setupSourcesetHandling_(),this.isScrubbing_=!1,this.el_.hasChildNodes()){const r=this.el_.childNodes;let a=r.length;const o=[];for(;a--;){const l=r[a];l.nodeName.toLowerCase()==="track"&&(this.featuresNativeTextTracks?(this.remoteTextTrackEls().addTrackElement_(l),this.remoteTextTracks().addTrack(l.track),this.textTracks().addTrack(l.track),!s&&!this.el_.hasAttribute("crossorigin")&&gb(l.src)&&(s=!0)):o.push(l))}for(let l=0;l<o.length;l++)this.el_.removeChild(o[l])}this.proxyNativeTracks_(),this.featuresNativeTextTracks&&s&&mt.warn(`Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.
This may prevent text tracks from loading.`),this.restoreMetadataTracksInIOSNativePlayer_(),(Pp||ob)&&e.nativeControlsForTouch===!0&&this.setControls(!0),this.proxyWebkitFullscreen_(),this.triggerReady()}dispose(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),Oe.disposeMediaElement(this.el_),this.options_=null,super.dispose()}setupSourcesetHandling_(){zwe(this)}restoreMetadataTracksInIOSNativePlayer_(){const e=this.textTracks();let i;const n=()=>{i=[];for(let r=0;r<e.length;r++){const a=e[r];a.kind==="metadata"&&i.push({track:a,storedMode:a.mode})}};n(),e.addEventListener("change",n),this.on("dispose",()=>e.removeEventListener("change",n));const s=()=>{for(let r=0;r<i.length;r++){const a=i[r];a.track.mode==="disabled"&&a.track.mode!==a.storedMode&&(a.track.mode=a.storedMode)}e.removeEventListener("change",s)};this.on("webkitbeginfullscreen",()=>{e.removeEventListener("change",n),e.removeEventListener("change",s),e.addEventListener("change",s)}),this.on("webkitendfullscreen",()=>{e.removeEventListener("change",n),e.addEventListener("change",n),e.removeEventListener("change",s)})}overrideNative_(e,i){if(i!==this[`featuresNative${e}Tracks`])return;const n=e.toLowerCase();this[`${n}TracksListeners_`]&&Object.keys(this[`${n}TracksListeners_`]).forEach(s=>{this.el()[`${n}Tracks`].removeEventListener(s,this[`${n}TracksListeners_`][s])}),this[`featuresNative${e}Tracks`]=!i,this[`${n}TracksListeners_`]=null,this.proxyNativeTracksForType_(n)}overrideNativeAudioTracks(e){this.overrideNative_("Audio",e)}overrideNativeVideoTracks(e){this.overrideNative_("Video",e)}proxyNativeTracksForType_(e){const i=zs[e],n=this.el()[i.getterName],s=this[i.getterName]();if(!this[`featuresNative${i.capitalName}Tracks`]||!n||!n.addEventListener)return;const r={change:o=>{const l={type:"change",target:s,currentTarget:s,srcElement:s};s.trigger(l),e==="text"&&this[zd.remoteText.getterName]().trigger(l)},addtrack(o){s.addTrack(o.track)},removetrack(o){s.removeTrack(o.track)}},a=function(){const o=[];for(let l=0;l<s.length;l++){let c=!1;for(let u=0;u<n.length;u++)if(n[u]===s[l]){c=!0;break}c||o.push(s[l])}for(;o.length;)s.removeTrack(o.shift())};this[i.getterName+"Listeners_"]=r,Object.keys(r).forEach(o=>{const l=r[o];n.addEventListener(o,l),this.on("dispose",c=>n.removeEventListener(o,l))}),this.on("loadstart",a),this.on("dispose",o=>this.off("loadstart",a))}proxyNativeTracks_(){zs.names.forEach(e=>{this.proxyNativeTracksForType_(e)})}createEl(){let e=this.options_.tag;if(!e||!(this.options_.playerElIngest||this.movingMediaElementInDOM)){if(e){const n=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(n,e),Oe.disposeMediaElement(e),e=n}else{e=Fe.createElement("video");const n=this.options_.tag&&Oo(this.options_.tag),s=Zt({},n);(!Pp||this.options_.nativeControlsForTouch!==!0)&&delete s.controls,MP(e,Object.assign(s,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}typeof this.options_.preload<"u"&&Xd(e,"preload",this.options_.preload),this.options_.disablePictureInPicture!==void 0&&(e.disablePictureInPicture=this.options_.disablePictureInPicture);const i=["loop","muted","playsinline","autoplay"];for(let n=0;n<i.length;n++){const s=i[n],r=this.options_[s];typeof r<"u"&&(r?Xd(e,s,s):ub(e,s),e[s]=r)}return e}handleLateInit_(e){if(e.networkState===0||e.networkState===3)return;if(e.readyState===0){let n=!1;const s=function(){n=!0};this.on("loadstart",s);const r=function(){n||this.trigger("loadstart")};this.on("loadedmetadata",r),this.ready(function(){this.off("loadstart",s),this.off("loadedmetadata",r),n||this.trigger("loadstart")});return}const i=["loadstart"];i.push("loadedmetadata"),e.readyState>=2&&i.push("loadeddata"),e.readyState>=3&&i.push("canplay"),e.readyState>=4&&i.push("canplaythrough"),this.ready(function(){i.forEach(function(n){this.trigger(n)},this)})}setScrubbing(e){this.isScrubbing_=e}scrubbing(){return this.isScrubbing_}setCurrentTime(e){try{this.isScrubbing_&&this.el_.fastSeek&&lb?this.el_.fastSeek(e):this.el_.currentTime=e}catch(i){mt(i,"Video is not ready. (Video.js)")}}duration(){if(this.el_.duration===1/0&&wr&&pa&&this.el_.currentTime===0){const e=()=>{this.el_.currentTime>0&&(this.el_.duration===1/0&&this.trigger("durationchange"),this.off("timeupdate",e))};return this.on("timeupdate",e),NaN}return this.el_.duration||NaN}width(){return this.el_.offsetWidth}height(){return this.el_.offsetHeight}proxyWebkitFullscreen_(){if(!("webkitDisplayingFullscreen"in this.el_))return;const e=function(){this.trigger("fullscreenchange",{isFullscreen:!1}),this.el_.controls&&!this.options_.nativeControlsForTouch&&this.controls()&&(this.el_.controls=!1)},i=function(){"webkitPresentationMode"in this.el_&&this.el_.webkitPresentationMode!=="picture-in-picture"&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0,nativeIOSFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",()=>{this.off("webkitbeginfullscreen",i),this.off("webkitendfullscreen",e)})}supportsFullScreen(){return typeof this.el_.webkitEnterFullScreen=="function"}enterFullScreen(){const e=this.el_;if(e.paused&&e.networkState<=e.HAVE_METADATA)ea(this.el_.play()),this.setTimeout(function(){e.pause();try{e.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}},0);else try{e.webkitEnterFullScreen()}catch(i){this.trigger("fullscreenerror",i)}}exitFullScreen(){if(!this.el_.webkitDisplayingFullscreen){this.trigger("fullscreenerror",new Error("The video is not fullscreen"));return}this.el_.webkitExitFullScreen()}requestPictureInPicture(){return this.el_.requestPictureInPicture()}requestVideoFrameCallback(e){return this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.requestVideoFrameCallback(e):super.requestVideoFrameCallback(e)}cancelVideoFrameCallback(e){this.featuresVideoFrameCallback&&!this.el_.webkitKeys?this.el_.cancelVideoFrameCallback(e):super.cancelVideoFrameCallback(e)}src(e){if(e===void 0)return this.el_.src;this.setSrc(e)}addSourceElement(e,i){if(!e)return mt.error("Invalid source URL."),!1;const n={src:e};i&&(n.type=i);const s=it("source",{},n);return this.el_.appendChild(s),!0}removeSourceElement(e){if(!e)return mt.error("Source URL is required to remove the source element."),!1;const i=this.el_.querySelectorAll("source");for(const n of i)if(n.src===e)return this.el_.removeChild(n),!0;return mt.warn(`No matching source element found with src: ${e}`),!1}reset(){Oe.resetMediaElement(this.el_)}currentSrc(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc}setControls(e){this.el_.controls=!!e}addTextTrack(e,i,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(e,i,n):super.addTextTrack(e,i,n)}createRemoteTextTrack(e){if(!this.featuresNativeTextTracks)return super.createRemoteTextTrack(e);const i=Fe.createElement("track");return e.kind&&(i.kind=e.kind),e.label&&(i.label=e.label),(e.language||e.srclang)&&(i.srclang=e.language||e.srclang),e.default&&(i.default=e.default),e.id&&(i.id=e.id),e.src&&(i.src=e.src),i}addRemoteTextTrack(e,i){const n=super.addRemoteTextTrack(e,i);return this.featuresNativeTextTracks&&this.el().appendChild(n),n}removeRemoteTextTrack(e){if(super.removeRemoteTextTrack(e),this.featuresNativeTextTracks){const i=this.$$("track");let n=i.length;for(;n--;)(e===i[n]||e===i[n].track)&&this.el().removeChild(i[n])}}getVideoPlaybackQuality(){if(typeof this.el().getVideoPlaybackQuality=="function")return this.el().getVideoPlaybackQuality();const e={};return typeof this.el().webkitDroppedFrameCount<"u"&&typeof this.el().webkitDecodedFrameCount<"u"&&(e.droppedVideoFrames=this.el().webkitDroppedFrameCount,e.totalVideoFrames=this.el().webkitDecodedFrameCount),K.performance&&(e.creationTime=K.performance.now()),e}}sb(Oe,"TEST_VID",function(){if(!Rh())return;const t=Fe.createElement("video"),e=Fe.createElement("track");return e.kind="captions",e.srclang="en",e.label="English",t.appendChild(e),t});Oe.isSupported=function(){try{Oe.TEST_VID.volume=.5}catch{return!1}return!!(Oe.TEST_VID&&Oe.TEST_VID.canPlayType)};Oe.canPlayType=function(t){return Oe.TEST_VID.canPlayType(t)};Oe.canPlaySource=function(t,e){return Oe.canPlayType(t.type)};Oe.canControlVolume=function(){try{const t=Oe.TEST_VID.volume;Oe.TEST_VID.volume=t/2+.1;const e=t!==Oe.TEST_VID.volume;return e&&wn?(K.setTimeout(()=>{Oe&&Oe.prototype&&(Oe.prototype.featuresVolumeControl=t!==Oe.TEST_VID.volume)}),!1):e}catch{return!1}};Oe.canMuteVolume=function(){try{const t=Oe.TEST_VID.muted;return Oe.TEST_VID.muted=!t,Oe.TEST_VID.muted?Xd(Oe.TEST_VID,"muted","muted"):ub(Oe.TEST_VID,"muted","muted"),t!==Oe.TEST_VID.muted}catch{return!1}};Oe.canControlPlaybackRate=function(){if(wr&&pa&&rb<58)return!1;try{const t=Oe.TEST_VID.playbackRate;return Oe.TEST_VID.playbackRate=t/2+.1,t!==Oe.TEST_VID.playbackRate}catch{return!1}};Oe.canOverrideAttributes=function(){try{const t=()=>{};Object.defineProperty(Fe.createElement("video"),"src",{get:t,set:t}),Object.defineProperty(Fe.createElement("audio"),"src",{get:t,set:t}),Object.defineProperty(Fe.createElement("video"),"innerHTML",{get:t,set:t}),Object.defineProperty(Fe.createElement("audio"),"innerHTML",{get:t,set:t})}catch{return!1}return!0};Oe.supportsNativeTextTracks=function(){return lb||wn&&pa};Oe.supportsNativeVideoTracks=function(){return!!(Oe.TEST_VID&&Oe.TEST_VID.videoTracks)};Oe.supportsNativeAudioTracks=function(){return!!(Oe.TEST_VID&&Oe.TEST_VID.audioTracks)};Oe.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"];[["featuresMuteControl","canMuteVolume"],["featuresPlaybackRate","canControlPlaybackRate"],["featuresSourceset","canOverrideAttributes"],["featuresNativeTextTracks","supportsNativeTextTracks"],["featuresNativeVideoTracks","supportsNativeVideoTracks"],["featuresNativeAudioTracks","supportsNativeAudioTracks"]].forEach(function([t,e]){sb(Oe.prototype,t,()=>Oe[e](),!0)});Oe.prototype.featuresVolumeControl=Oe.canControlVolume();Oe.prototype.movingMediaElementInDOM=!wn;Oe.prototype.featuresFullscreenResize=!0;Oe.prototype.featuresProgressEvents=!0;Oe.prototype.featuresTimeupdateEvents=!0;Oe.prototype.featuresVideoFrameCallback=!!(Oe.TEST_VID&&Oe.TEST_VID.requestVideoFrameCallback);Oe.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()}};Oe.resetMediaElement=function(t){if(!t)return;const e=t.querySelectorAll("source");let i=e.length;for(;i--;)t.removeChild(e[i]);t.removeAttribute("src"),typeof t.load=="function"&&function(){try{t.load()}catch{}}()};["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Oe.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}});["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Oe.prototype["set"+Ri(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}});["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","disablePictureInPicture","played","networkState","readyState","videoWidth","videoHeight","crossOrigin"].forEach(function(t){Oe.prototype[t]=function(){return this.el_[t]}});["volume","src","poster","preload","playbackRate","defaultPlaybackRate","disablePictureInPicture","crossOrigin"].forEach(function(t){Oe.prototype["set"+Ri(t)]=function(e){this.el_[t]=e}});["pause","load","play"].forEach(function(t){Oe.prototype[t]=function(){return this.el_[t]()}});lt.withSourceHandlers(Oe);Oe.nativeSourceHandler={};Oe.nativeSourceHandler.canPlayType=function(t){try{return Oe.TEST_VID.canPlayType(t)}catch{return""}};Oe.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Oe.nativeSourceHandler.canPlayType(t.type);if(t.src){const i=I4(t.src);return Oe.nativeSourceHandler.canPlayType(`video/${i}`)}return""};Oe.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)};Oe.nativeSourceHandler.dispose=function(){};Oe.registerSourceHandler(Oe.nativeSourceHandler);lt.registerTech("Html5",Oe);const PO=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],UE={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},GS=["tiny","xsmall","small","medium","large","xlarge","huge"],Q1={};GS.forEach(t=>{const e=t.charAt(0)==="x"?`x-${t.substring(1)}`:t;Q1[t]=`vjs-layout-${e}`});const Jwe={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0};class ri extends Te{constructor(e,i,n){if(e.id=e.id||i.id||`vjs_video_${Hs()}`,i=Object.assign(ri.getTagSettings(e),i),i.initChildren=!1,i.createEl=!1,i.evented=!1,i.reportTouchActivity=!1,!i.language){const a=e.closest("[lang]");a&&(i.language=a.getAttribute("lang"))}if(super(null,i,n),this.boundDocumentFullscreenChange_=a=>this.documentFullscreenChange_(a),this.boundFullWindowOnEscKey_=a=>this.fullWindowOnEscKey(a),this.boundUpdateStyleEl_=a=>this.updateStyleEl_(a),this.boundApplyInitTime_=a=>this.applyInitTime_(a),this.boundUpdateCurrentBreakpoint_=a=>this.updateCurrentBreakpoint_(a),this.boundHandleTechClick_=a=>this.handleTechClick_(a),this.boundHandleTechDoubleClick_=a=>this.handleTechDoubleClick_(a),this.boundHandleTechTouchStart_=a=>this.handleTechTouchStart_(a),this.boundHandleTechTouchMove_=a=>this.handleTechTouchMove_(a),this.boundHandleTechTouchEnd_=a=>this.handleTechTouchEnd_(a),this.boundHandleTechTap_=a=>this.handleTechTap_(a),this.boundUpdatePlayerHeightOnAudioOnlyMode_=a=>this.updatePlayerHeightOnAudioOnlyMode_(a),this.isFullscreen_=!1,this.log=_P(this.id_),this.fsApi_=v2,this.isPosterFromTech_=!1,this.queuedCallbacks_=[],this.isReady_=!1,this.hasStarted_=!1,this.userActive_=!1,this.debugEnabled_=!1,this.audioOnlyMode_=!1,this.audioPosterMode_=!1,this.audioOnlyCache_={controlBarHeight:null,playerHeight:null,hiddenChildren:[]},!this.options_||!this.options_.techOrder||!this.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(this.tag=e,this.tagAttributes=e&&Oo(e),this.language(this.options_.language),i.languages){const a={};Object.getOwnPropertyNames(i.languages).forEach(function(o){a[o.toLowerCase()]=i.languages[o]}),this.languages_=a}else this.languages_=ri.prototype.options_.languages;this.resetCache_(),this.poster_=i.poster||"",this.controls_=!!i.controls,e.controls=!1,e.removeAttribute("controls"),this.changingSrc_=!1,this.playCallbacks_=[],this.playTerminatedQueue_=[],e.hasAttribute("autoplay")?this.autoplay(!0):this.autoplay(this.options_.autoplay),i.plugins&&Object.keys(i.plugins).forEach(a=>{if(typeof this[a]!="function")throw new Error(`plugin "${a}" does not exist`)}),this.scrubbing_=!1,this.el_=this.createEl(),S4(this,{eventBusKey:"el_"}),this.fsApi_.requestFullscreen&&(ws(Fe,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),this.on(this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_)),this.fluid_&&this.on(["playerreset","resize"],this.boundUpdateStyleEl_);const s=Zt(this.options_);if(i.plugins&&Object.keys(i.plugins).forEach(a=>{this[a](i.plugins[a])}),i.debug&&this.debug(!0),this.options_.playerOptions=s,this.middleware_=[],this.playbackRates(i.playbackRates),i.experimentalSvgIcons){const o=new K.DOMParser().parseFromString(bwe,"image/svg+xml");if(o.querySelector("parsererror"))mt.warn("Failed to load SVG Icons. Falling back to Font Icons."),this.options_.experimentalSvgIcons=null;else{const c=o.documentElement;c.style.display="none",this.el_.appendChild(c),this.addClass("vjs-svg-icons-enabled")}}this.initChildren(),this.isAudio(e.nodeName.toLowerCase()==="audio"),this.controls()?this.addClass("vjs-controls-enabled"):this.addClass("vjs-controls-disabled"),this.el_.setAttribute("role","region"),this.isAudio()?this.el_.setAttribute("aria-label",this.localize("Audio Player")):this.el_.setAttribute("aria-label",this.localize("Video Player")),this.isAudio()&&this.addClass("vjs-audio"),i.spatialNavigation&&i.spatialNavigation.enabled&&(this.spatialNavigation=new vwe(this),this.addClass("vjs-spatial-navigation-enabled")),Pp&&this.addClass("vjs-touch-enabled"),wn||this.addClass("vjs-workinghover"),ri.players[this.id_]=this;const r=_S.split(".")[0];this.addClass(`vjs-v${r}`),this.userActive(!0),this.reportUserActivity(),this.one("play",a=>this.listenForUserActivity_(a)),this.on("keydown",a=>this.handleKeyDown(a)),this.on("languagechange",a=>this.handleLanguagechange(a)),this.breakpoints(this.options_.breakpoints),this.responsive(this.options_.responsive),this.on("ready",()=>{this.audioPosterMode(this.options_.audioPosterMode),this.audioOnlyMode(this.options_.audioOnlyMode)})}dispose(){this.trigger("dispose"),this.off("dispose"),_n(Fe,this.fsApi_.fullscreenchange,this.boundDocumentFullscreenChange_),_n(Fe,"keydown",this.boundFullWindowOnEscKey_),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),ri.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),pwe(this),Mn.names.forEach(e=>{const i=Mn[e],n=this[i.getterName]();n&&n.off&&n.off()}),super.dispose({restoreEl:this.options_.restoreEl})}createEl(){let e=this.tag,i,n=this.playerElIngest_=e.parentNode&&e.parentNode.hasAttribute&&e.parentNode.hasAttribute("data-vjs-player");const s=this.tag.tagName.toLowerCase()==="video-js";n?i=this.el_=e.parentNode:s||(i=this.el_=super.createEl("div"));const r=Oo(e);if(s){for(i=this.el_=e,e=this.tag=Fe.createElement("video");i.children.length;)e.appendChild(i.firstChild);ep(i,"video-js")||dc(i,"video-js"),i.appendChild(e),n=this.playerElIngest_=i,Object.keys(i).forEach(l=>{try{e[l]=i[l]}catch{}})}e.setAttribute("tabindex","-1"),r.tabindex="-1",pa&&ab&&(e.setAttribute("role","application"),r.role="application"),e.removeAttribute("width"),e.removeAttribute("height"),"width"in r&&delete r.width,"height"in r&&delete r.height,Object.getOwnPropertyNames(r).forEach(function(l){s&&l==="class"||i.setAttribute(l,r[l]),s&&e.setAttribute(l,r[l])}),e.playerId=e.id,e.id+="_html5_api",e.className="vjs-tech",e.player=i.player=this,this.addClass("vjs-paused");const a=["IS_SMART_TV","IS_TIZEN","IS_WEBOS","IS_ANDROID","IS_IPAD","IS_IPHONE","IS_CHROMECAST_RECEIVER"].filter(l=>BP[l]).map(l=>"vjs-device-"+l.substring(3).toLowerCase().replace(/\_/g,"-"));if(this.addClass(...a),K.VIDEOJS_NO_DYNAMIC_STYLE!==!0){this.styleEl_=HP("vjs-styles-dimensions");const l=gl(".vjs-styles-defaults"),c=gl("head");c.insertBefore(this.styleEl_,l?l.nextSibling:c.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio),this.crossOrigin(this.options_.crossOrigin||this.options_.crossorigin);const o=e.getElementsByTagName("a");for(let l=0;l<o.length;l++){const c=o.item(l);dc(c,"vjs-hidden"),c.setAttribute("hidden","hidden")}return e.initNetworkState_=e.networkState,e.parentNode&&!n&&e.parentNode.insertBefore(i,e),NS(e,i),this.children_.unshift(e),this.el_.setAttribute("lang",this.language_),this.el_.setAttribute("translate","no"),this.el_=i,i}crossOrigin(e){if(typeof e>"u")return this.techGet_("crossOrigin");if(e!==null&&e!=="anonymous"&&e!=="use-credentials"){mt.warn(`crossOrigin must be null,  "anonymous" or "use-credentials", given "${e}"`);return}this.techCall_("setCrossOrigin",e),this.posterImage&&this.posterImage.crossOrigin(e)}width(e){return this.dimension("width",e)}height(e){return this.dimension("height",e)}dimension(e,i){const n=e+"_";if(i===void 0)return this[n]||0;if(i===""||i==="auto"){this[n]=void 0,this.updateStyleEl_();return}const s=parseFloat(i);if(isNaN(s)){mt.error(`Improper value "${i}" supplied for for ${e}`);return}this[n]=s,this.updateStyleEl_()}fluid(e){if(e===void 0)return!!this.fluid_;this.fluid_=!!e,oo(this)&&this.off(["playerreset","resize"],this.boundUpdateStyleEl_),e?(this.addClass("vjs-fluid"),this.fill(!1),X6e(this,()=>{this.on(["playerreset","resize"],this.boundUpdateStyleEl_)})):this.removeClass("vjs-fluid"),this.updateStyleEl_()}fill(e){if(e===void 0)return!!this.fill_;this.fill_=!!e,e?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")}aspectRatio(e){if(e===void 0)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(e))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=e,this.fluid(!0),this.updateStyleEl_()}updateStyleEl_(){if(K.VIDEOJS_NO_DYNAMIC_STYLE===!0){const o=typeof this.width_=="number"?this.width_:this.options_.width,l=typeof this.height_=="number"?this.height_:this.options_.height,c=this.tech_&&this.tech_.el();c&&(o>=0&&(c.width=o),l>=0&&(c.height=l));return}let e,i,n,s;this.aspectRatio_!==void 0&&this.aspectRatio_!=="auto"?n=this.aspectRatio_:this.videoWidth()>0?n=this.videoWidth()+":"+this.videoHeight():n="16:9";const r=n.split(":"),a=r[1]/r[0];this.width_!==void 0?e=this.width_:this.height_!==void 0?e=this.height_/a:e=this.videoWidth()||300,this.height_!==void 0?i=this.height_:i=e*a,/^[^a-zA-Z]/.test(this.id())?s="dimensions-"+this.id():s=this.id()+"-dimensions",this.addClass(s),QP(this.styleEl_,`
      .${s} {
        width: ${e}px;
        height: ${i}px;
      }

      .${s}.vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: ${a*100}%;
      }
    `)}loadTech_(e,i){this.tech_&&this.unloadTech_();const n=Ri(e),s=e.charAt(0).toLowerCase()+e.slice(1);n!=="Html5"&&this.tag&&(lt.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;let r=this.autoplay();(typeof this.autoplay()=="string"||this.autoplay()===!0&&this.options_.normalizeAutoplay)&&(r=!1);const a={source:i,autoplay:r,nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:`${this.id()}_${s}_api`,playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,disablePictureInPicture:this.options_.disablePictureInPicture,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Mn.names.forEach(l=>{const c=Mn[l];a[c.getterName]=this[c.privateName]}),Object.assign(a,this.options_[n]),Object.assign(a,this.options_[s]),Object.assign(a,this.options_[e.toLowerCase()]),this.tag&&(a.tag=this.tag),i&&i.src===this.cache_.src&&this.cache_.currentTime>0&&(a.startTime=this.cache_.currentTime);const o=lt.getTech(e);if(!o)throw new Error(`No Tech named '${n}' exists! '${n}' should be registered using videojs.registerTech()'`);this.tech_=new o(a),this.tech_.ready(qt(this,this.handleTechReady_),!0),q7.jsonToTextTracks(this.textTracksJson_||[],this.tech_),PO.forEach(l=>{this.on(this.tech_,l,c=>this[`handleTech${Ri(l)}_`](c))}),Object.keys(UE).forEach(l=>{this.on(this.tech_,l,c=>{if(this.tech_.playbackRate()===0&&this.tech_.seeking()){this.queuedCallbacks_.push({callback:this[`handleTech${UE[l]}_`].bind(this),event:c});return}this[`handleTech${UE[l]}_`](c)})}),this.on(this.tech_,"loadstart",l=>this.handleTechLoadStart_(l)),this.on(this.tech_,"sourceset",l=>this.handleTechSourceset_(l)),this.on(this.tech_,"waiting",l=>this.handleTechWaiting_(l)),this.on(this.tech_,"ended",l=>this.handleTechEnded_(l)),this.on(this.tech_,"seeking",l=>this.handleTechSeeking_(l)),this.on(this.tech_,"play",l=>this.handleTechPlay_(l)),this.on(this.tech_,"pause",l=>this.handleTechPause_(l)),this.on(this.tech_,"durationchange",l=>this.handleTechDurationChange_(l)),this.on(this.tech_,"fullscreenchange",(l,c)=>this.handleTechFullscreenChange_(l,c)),this.on(this.tech_,"fullscreenerror",(l,c)=>this.handleTechFullscreenError_(l,c)),this.on(this.tech_,"enterpictureinpicture",l=>this.handleTechEnterPictureInPicture_(l)),this.on(this.tech_,"leavepictureinpicture",l=>this.handleTechLeavePictureInPicture_(l)),this.on(this.tech_,"error",l=>this.handleTechError_(l)),this.on(this.tech_,"posterchange",l=>this.handleTechPosterChange_(l)),this.on(this.tech_,"textdata",l=>this.handleTechTextData_(l)),this.on(this.tech_,"ratechange",l=>this.handleTechRateChange_(l)),this.on(this.tech_,"loadedmetadata",this.boundUpdateStyleEl_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode!==this.el()&&(n!=="Html5"||!this.tag)&&NS(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)}unloadTech_(){Mn.names.forEach(e=>{const i=Mn[e];this[i.privateName]=this[i.getterName]()}),this.textTracksJson_=q7.textTracksToJson(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1}tech(e){return e===void 0&&mt.warn(`Using the tech directly can be dangerous. I hope you know what you're doing.
See https://github.com/videojs/video.js/issues/2617 for more info.
`),this.tech_}version(){return{"video.js":_S}}addTechControlsListeners_(){this.removeTechControlsListeners_(),this.on(this.tech_,"click",this.boundHandleTechClick_),this.on(this.tech_,"dblclick",this.boundHandleTechDoubleClick_),this.on(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.on(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.on(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.on(this.tech_,"tap",this.boundHandleTechTap_)}removeTechControlsListeners_(){this.off(this.tech_,"tap",this.boundHandleTechTap_),this.off(this.tech_,"touchstart",this.boundHandleTechTouchStart_),this.off(this.tech_,"touchmove",this.boundHandleTechTouchMove_),this.off(this.tech_,"touchend",this.boundHandleTechTouchEnd_),this.off(this.tech_,"click",this.boundHandleTechClick_),this.off(this.tech_,"dblclick",this.boundHandleTechDoubleClick_)}handleTechReady_(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()}handleTechLoadStart_(){this.removeClass("vjs-ended","vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):this.trigger("loadstart"),this.manualAutoplay_(this.autoplay()===!0&&this.options_.normalizeAutoplay?"play":this.autoplay())}manualAutoplay_(e){if(!this.tech_||typeof e!="string")return;const i=()=>{const s=this.muted();this.muted(!0);const r=()=>{this.muted(s)};this.playTerminatedQueue_.push(r);const a=this.play();if(ip(a))return a.catch(o=>{throw r(),new Error(`Rejection at manualAutoplay. Restoring muted value. ${o||""}`)})};let n;if(e==="any"&&!this.muted()?(n=this.play(),ip(n)&&(n=n.catch(i))):e==="muted"&&!this.muted()?n=i():n=this.play(),!!ip(n))return n.then(()=>{this.trigger({type:"autoplay-success",autoplay:e})}).catch(()=>{this.trigger({type:"autoplay-failure",autoplay:e})})}updateSourceCaches_(e=""){let i=e,n="";typeof i!="string"&&(i=e.src,n=e.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],i&&!n&&(n=ywe(this,i)),this.cache_.source=Zt({},e,{src:i,type:n});const s=this.cache_.sources.filter(l=>l.src&&l.src===i),r=[],a=this.$$("source"),o=[];for(let l=0;l<a.length;l++){const c=Oo(a[l]);r.push(c),c.src&&c.src===i&&o.push(c.src)}o.length&&!s.length?this.cache_.sources=r:s.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=i}handleTechSourceset_(e){if(!this.changingSrc_){let i=r=>this.updateSourceCaches_(r);const n=this.currentSource().src,s=e.src;n&&!/^blob:/.test(n)&&/^blob:/.test(s)&&(!this.lastSource_||this.lastSource_.tech!==s&&this.lastSource_.player!==n)&&(i=()=>{}),i(s),e.src||this.tech_.any(["sourceset","loadstart"],r=>{if(r.type==="sourceset")return;const a=this.techGet_("currentSrc");this.lastSource_.tech=a,this.updateSourceCaches_(a)})}this.lastSource_={player:this.currentSource().src,tech:e.src},this.trigger({src:e.src,type:"sourceset"})}hasStarted(e){if(e===void 0)return this.hasStarted_;e!==this.hasStarted_&&(this.hasStarted_=e,this.hasStarted_?this.addClass("vjs-has-started"):this.removeClass("vjs-has-started"))}handleTechPlay_(){this.removeClass("vjs-ended","vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")}handleTechRateChange_(){this.tech_.playbackRate()>0&&this.cache_.lastPlaybackRate===0&&(this.queuedCallbacks_.forEach(e=>e.callback(e.event)),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")}handleTechWaiting_(){this.addClass("vjs-waiting"),this.trigger("waiting");const e=this.currentTime(),i=()=>{e!==this.currentTime()&&(this.removeClass("vjs-waiting"),this.off("timeupdate",i))};this.on("timeupdate",i)}handleTechCanPlay_(){this.removeClass("vjs-waiting"),this.trigger("canplay")}handleTechCanPlayThrough_(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")}handleTechPlaying_(){this.removeClass("vjs-waiting"),this.trigger("playing")}handleTechSeeking_(){this.addClass("vjs-seeking"),this.trigger("seeking")}handleTechSeeked_(){this.removeClass("vjs-seeking","vjs-ended"),this.trigger("seeked")}handleTechPause_(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")}handleTechEnded_(){this.addClass("vjs-ended"),this.removeClass("vjs-waiting"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")}handleTechDurationChange_(){this.duration(this.techGet_("duration"))}handleTechClick_(e){this.controls_&&(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.click===void 0||this.options_.userActions.click!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.click=="function"?this.options_.userActions.click.call(this,e):this.paused()?ea(this.play()):this.pause())}handleTechDoubleClick_(e){if(!this.controls_)return;Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),n=>n.contains(e.target))||(this.options_===void 0||this.options_.userActions===void 0||this.options_.userActions.doubleClick===void 0||this.options_.userActions.doubleClick!==!1)&&(this.options_!==void 0&&this.options_.userActions!==void 0&&typeof this.options_.userActions.doubleClick=="function"?this.options_.userActions.doubleClick.call(this,e):this.isInPictureInPicture()&&!Fe.pictureInPictureElement?this.exitPictureInPicture():this.isFullscreen()?this.exitFullscreen():this.requestFullscreen())}handleTechTap_(){this.userActive(!this.userActive())}handleTechTouchStart_(){this.userWasActive=this.userActive()}handleTechTouchMove_(){this.userWasActive&&this.reportUserActivity()}handleTechTouchEnd_(e){e.cancelable&&e.preventDefault()}toggleFullscreenClass_(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")}documentFullscreenChange_(e){const i=e.target.player;if(i&&i!==this)return;const n=this.el();let s=Fe[this.fsApi_.fullscreenElement]===n;!s&&n.matches&&(s=n.matches(":"+this.fsApi_.fullscreen)),this.isFullscreen(s)}handleTechFullscreenChange_(e,i){i&&(i.nativeIOSFullscreen&&(this.addClass("vjs-ios-native-fs"),this.tech_.one("webkitendfullscreen",()=>{this.removeClass("vjs-ios-native-fs")})),this.isFullscreen(i.isFullscreen))}handleTechFullscreenError_(e,i){this.trigger("fullscreenerror",i)}togglePictureInPictureClass_(){this.isInPictureInPicture()?this.addClass("vjs-picture-in-picture"):this.removeClass("vjs-picture-in-picture")}handleTechEnterPictureInPicture_(e){this.isInPictureInPicture(!0)}handleTechLeavePictureInPicture_(e){this.isInPictureInPicture(!1)}handleTechError_(){const e=this.tech_.error();e&&this.error(e)}handleTechTextData_(){let e=null;arguments.length>1&&(e=arguments[1]),this.trigger("textdata",e)}getCache(){return this.cache_}resetCache_(){this.cache_={currentTime:0,initTime:0,inactivityTimeout:this.options_.inactivityTimeout,duration:NaN,lastVolume:1,lastPlaybackRate:this.defaultPlaybackRate(),media:null,src:"",source:{},sources:[],playbackRates:[],volume:1}}techCall_(e,i){this.ready(function(){if(e in hwe)return uwe(this.middleware_,this.tech_,e,i);if(e in sV)return nV(this.middleware_,this.tech_,e,i);try{this.tech_&&this.tech_[e](i)}catch(n){throw mt(n),n}},!0)}techGet_(e){if(!(!this.tech_||!this.tech_.isReady_)){if(e in dwe)return cwe(this.middleware_,this.tech_,e);if(e in sV)return nV(this.middleware_,this.tech_,e);try{return this.tech_[e]()}catch(i){throw this.tech_[e]===void 0?(mt(`Video.js: ${e} method not defined for ${this.techName_} playback technology.`,i),i):i.name==="TypeError"?(mt(`Video.js: ${e} unavailable on ${this.techName_} playback technology element.`,i),this.tech_.isReady_=!1,i):(mt(i),i)}}}play(){return new Promise(e=>{this.play_(e)})}play_(e=ea){this.playCallbacks_.push(e);const i=!!(!this.changingSrc_&&(this.src()||this.currentSrc())),n=!!(lb||wn);if(this.waitToPlay_&&(this.off(["ready","loadstart"],this.waitToPlay_),this.waitToPlay_=null),!this.isReady_||!i){this.waitToPlay_=a=>{this.play_()},this.one(["ready","loadstart"],this.waitToPlay_),!i&&n&&this.load();return}const s=this.techGet_("play");n&&this.hasClass("vjs-ended")&&this.resetProgressBar_(),s===null?this.runPlayTerminatedQueue_():this.runPlayCallbacks_(s)}runPlayTerminatedQueue_(){const e=this.playTerminatedQueue_.slice(0);this.playTerminatedQueue_=[],e.forEach(function(i){i()})}runPlayCallbacks_(e){const i=this.playCallbacks_.slice(0);this.playCallbacks_=[],this.playTerminatedQueue_=[],i.forEach(function(n){n(e)})}pause(){this.techCall_("pause")}paused(){return this.techGet_("paused")!==!1}played(){return this.techGet_("played")||Tr(0,0)}scrubbing(e){if(typeof e>"u")return this.scrubbing_;this.scrubbing_=!!e,this.techCall_("setScrubbing",this.scrubbing_),e?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")}currentTime(e){if(e===void 0)return this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime;if(e<0&&(e=0),!this.isReady_||this.changingSrc_||!this.tech_||!this.tech_.isReady_){this.cache_.initTime=e,this.off("canplay",this.boundApplyInitTime_),this.one("canplay",this.boundApplyInitTime_);return}this.techCall_("setCurrentTime",e),this.cache_.initTime=0,isFinite(e)&&(this.cache_.currentTime=Number(e))}applyInitTime_(){this.currentTime(this.cache_.initTime)}duration(e){if(e===void 0)return this.cache_.duration!==void 0?this.cache_.duration:NaN;e=parseFloat(e),e<0&&(e=1/0),e!==this.cache_.duration&&(this.cache_.duration=e,e===1/0?this.addClass("vjs-live"):this.removeClass("vjs-live"),isNaN(e)||this.trigger("durationchange"))}remainingTime(){return this.duration()-this.currentTime()}remainingTimeDisplay(){return Math.floor(this.duration())-Math.floor(this.currentTime())}buffered(){let e=this.techGet_("buffered");return(!e||!e.length)&&(e=Tr(0,0)),e}seekable(){let e=this.techGet_("seekable");return(!e||!e.length)&&(e=Tr(0,0)),e}seeking(){return this.techGet_("seeking")}ended(){return this.techGet_("ended")}networkState(){return this.techGet_("networkState")}readyState(){return this.techGet_("readyState")}bufferedPercent(){return oO(this.buffered(),this.duration())}bufferedEnd(){const e=this.buffered(),i=this.duration();let n=e.end(e.length-1);return n>i&&(n=i),n}volume(e){let i;if(e!==void 0){i=Math.max(0,Math.min(1,e)),this.cache_.volume=i,this.techCall_("setVolume",i),i>0&&this.lastVolume_(i);return}return i=parseFloat(this.techGet_("volume")),isNaN(i)?1:i}muted(e){if(e!==void 0){this.techCall_("setMuted",e);return}return this.techGet_("muted")||!1}defaultMuted(e){return e!==void 0&&this.techCall_("setDefaultMuted",e),this.techGet_("defaultMuted")||!1}lastVolume_(e){if(e!==void 0&&e!==0){this.cache_.lastVolume=e;return}return this.cache_.lastVolume}supportsFullScreen(){return this.techGet_("supportsFullScreen")||!1}isFullscreen(e){if(e!==void 0){const i=this.isFullscreen_;this.isFullscreen_=!!e,this.isFullscreen_!==i&&this.fsApi_.prefixed&&this.trigger("fullscreenchange"),this.toggleFullscreenClass_();return}return this.isFullscreen_}requestFullscreen(e){this.isInPictureInPicture()&&this.exitPictureInPicture();const i=this;return new Promise((n,s)=>{function r(){i.off("fullscreenerror",o),i.off("fullscreenchange",a)}function a(){r(),n()}function o(c,u){r(),s(u)}i.one("fullscreenchange",a),i.one("fullscreenerror",o);const l=i.requestFullscreenHelper_(e);l&&(l.then(r,r),l.then(n,s))})}requestFullscreenHelper_(e){let i;if(this.fsApi_.prefixed||(i=this.options_.fullscreen&&this.options_.fullscreen.options||{},e!==void 0&&(i=e)),this.fsApi_.requestFullscreen){const n=this.el_[this.fsApi_.requestFullscreen](i);return n&&n.then(()=>this.isFullscreen(!0),()=>this.isFullscreen(!1)),n}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("enterFullScreen"):this.enterFullWindow()}exitFullscreen(){const e=this;return new Promise((i,n)=>{function s(){e.off("fullscreenerror",a),e.off("fullscreenchange",r)}function r(){s(),i()}function a(l,c){s(),n(c)}e.one("fullscreenchange",r),e.one("fullscreenerror",a);const o=e.exitFullscreenHelper_();o&&(o.then(s,s),o.then(i,n))})}exitFullscreenHelper_(){if(this.fsApi_.requestFullscreen){const e=Fe[this.fsApi_.exitFullscreen]();return e&&ea(e.then(()=>this.isFullscreen(!1))),e}else this.tech_.supportsFullScreen()&&!this.options_.preferFullWindow?this.techCall_("exitFullScreen"):this.exitFullWindow()}enterFullWindow(){this.isFullscreen(!0),this.isFullWindow=!0,this.docOrigOverflow=Fe.documentElement.style.overflow,ws(Fe,"keydown",this.boundFullWindowOnEscKey_),Fe.documentElement.style.overflow="hidden",dc(Fe.body,"vjs-full-window"),this.trigger("enterFullWindow")}fullWindowOnEscKey(e){e.key==="Escape"&&this.isFullscreen()===!0&&(this.isFullWindow?this.exitFullWindow():this.exitFullscreen())}exitFullWindow(){this.isFullscreen(!1),this.isFullWindow=!1,_n(Fe,"keydown",this.boundFullWindowOnEscKey_),Fe.documentElement.style.overflow=this.docOrigOverflow,cb(Fe.body,"vjs-full-window"),this.trigger("exitFullWindow")}disablePictureInPicture(e){if(e===void 0)return this.techGet_("disablePictureInPicture");this.techCall_("setDisablePictureInPicture",e),this.options_.disablePictureInPicture=e,this.trigger("disablepictureinpicturechanged")}isInPictureInPicture(e){if(e!==void 0){this.isInPictureInPicture_=!!e,this.togglePictureInPictureClass_();return}return!!this.isInPictureInPicture_}requestPictureInPicture(){if(this.options_.enableDocumentPictureInPicture&&K.documentPictureInPicture){const e=Fe.createElement(this.el().tagName);return e.classList=this.el().classList,e.classList.add("vjs-pip-container"),this.posterImage&&e.appendChild(this.posterImage.el().cloneNode(!0)),this.titleBar&&e.appendChild(this.titleBar.el().cloneNode(!0)),e.appendChild(it("p",{className:"vjs-pip-text"},{},this.localize("Playing in picture-in-picture"))),K.documentPictureInPicture.requestWindow({width:this.videoWidth(),height:this.videoHeight()}).then(i=>(zP(i),this.el_.parentNode.insertBefore(e,this.el_),i.document.body.appendChild(this.el_),i.document.body.classList.add("vjs-pip-window"),this.player_.isInPictureInPicture(!0),this.player_.trigger({type:"enterpictureinpicture",pipWindow:i}),i.addEventListener("pagehide",n=>{const s=n.target.querySelector(".video-js");e.parentNode.replaceChild(s,e),this.player_.isInPictureInPicture(!1),this.player_.trigger("leavepictureinpicture")}),i))}return"pictureInPictureEnabled"in Fe&&this.disablePictureInPicture()===!1?this.techGet_("requestPictureInPicture"):Promise.reject("No PiP mode is available")}exitPictureInPicture(){if(K.documentPictureInPicture&&K.documentPictureInPicture.window)return K.documentPictureInPicture.window.close(),Promise.resolve();if("pictureInPictureEnabled"in Fe)return Fe.exitPictureInPicture()}handleKeyDown(e){const{userActions:i}=this.options_;!i||!i.hotkeys||(s=>{const r=s.tagName.toLowerCase();if(s.isContentEditable)return!0;const a=["button","checkbox","hidden","radio","reset","submit"];return r==="input"?a.indexOf(s.type)===-1:["textarea"].indexOf(r)!==-1})(this.el_.ownerDocument.activeElement)||(typeof i.hotkeys=="function"?i.hotkeys.call(this,e):this.handleHotkeys(e))}handleHotkeys(e){const i=this.options_.userActions?this.options_.userActions.hotkeys:{},{fullscreenKey:n=a=>e.key.toLowerCase()==="f",muteKey:s=a=>e.key.toLowerCase()==="m",playPauseKey:r=a=>e.key.toLowerCase()==="k"||e.key.toLowerCase()===" "}=i;if(n.call(this,e)){e.preventDefault(),e.stopPropagation();const a=Te.getComponent("FullscreenToggle");Fe[this.fsApi_.fullscreenEnabled]!==!1&&a.prototype.handleClick.call(this,e)}else s.call(this,e)?(e.preventDefault(),e.stopPropagation(),Te.getComponent("MuteToggle").prototype.handleClick.call(this,e)):r.call(this,e)&&(e.preventDefault(),e.stopPropagation(),Te.getComponent("PlayToggle").prototype.handleClick.call(this,e))}canPlayType(e){let i;for(let n=0,s=this.options_.techOrder;n<s.length;n++){const r=s[n];let a=lt.getTech(r);if(a||(a=Te.getComponent(r)),!a){mt.error(`The "${r}" tech is undefined. Skipped browser support check for that tech.`);continue}if(a.isSupported()&&(i=a.canPlayType(e),i))return i}return""}selectSource(e){const i=this.options_.techOrder.map(o=>[o,lt.getTech(o)]).filter(([o,l])=>l?l.isSupported():(mt.error(`The "${o}" tech is undefined. Skipped browser support check for that tech.`),!1)),n=function(o,l,c){let u;return o.some(d=>l.some(h=>{if(u=c(d,h),u)return!0})),u};let s;const r=o=>(l,c)=>o(c,l),a=([o,l],c)=>{if(l.canPlaySource(c,this.options_[o.toLowerCase()]))return{source:c,tech:o}};return this.options_.sourceOrder?s=n(e,i,r(a)):s=n(i,e,a),s||!1}handleSrc_(e,i){if(typeof e>"u")return this.cache_.src||"";this.resetRetryOnError_&&this.resetRetryOnError_();const n=hO(e);if(!n.length){this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0);return}if(this.changingSrc_=!0,i||(this.cache_.sources=n),this.updateSourceCaches_(n[0]),owe(this,n[0],(s,r)=>{if(this.middleware_=r,i||(this.cache_.sources=n),this.updateSourceCaches_(s),this.src_(s)){if(n.length>1)return this.handleSrc_(n.slice(1));this.changingSrc_=!1,this.setTimeout(function(){this.error({code:4,message:this.options_.notSupportedMessage})},0),this.triggerReady();return}lwe(r,this.tech_)}),n.length>1){const s=()=>{this.error(null),this.handleSrc_(n.slice(1),!0)},r=()=>{this.off("error",s)};this.one("error",s),this.one("playing",r),this.resetRetryOnError_=()=>{this.off("error",s),this.off("playing",r)}}}src(e){return this.handleSrc_(e,!1)}src_(e){const i=this.selectSource([e]);return i?nO(i.tech,this.techName_)?(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",e):this.techCall_("src",e.src),this.changingSrc_=!1},!0),!1):(this.changingSrc_=!0,this.loadTech_(i.tech,i.source),this.tech_.ready(()=>{this.changingSrc_=!1}),!1):!0}addSourceElement(e,i){return this.tech_?this.tech_.addSourceElement(e,i):!1}removeSourceElement(e){return this.tech_?this.tech_.removeSourceElement(e):!1}load(){if(this.tech_&&this.tech_.vhs){this.src(this.currentSource());return}this.techCall_("load")}reset(){if(this.paused())this.doReset_();else{const e=this.play();ea(e.then(()=>this.doReset_()))}}doReset_(){this.tech_&&this.tech_.clearTracks("text"),this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.resetCache_(),this.poster(""),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),this.resetControlBarUI_(),this.error(null),this.titleBar&&this.titleBar.update({title:void 0,description:void 0}),oo(this)&&this.trigger("playerreset")}resetControlBarUI_(){this.resetProgressBar_(),this.resetPlaybackRate_(),this.resetVolumeBar_()}resetProgressBar_(){this.currentTime(0);const{currentTimeDisplay:e,durationDisplay:i,progressControl:n,remainingTimeDisplay:s}=this.controlBar||{},{seekBar:r}=n||{};e&&e.updateContent(),i&&i.updateContent(),s&&s.updateContent(),r&&(r.update(),r.loadProgressBar&&r.loadProgressBar.update())}resetPlaybackRate_(){this.playbackRate(this.defaultPlaybackRate()),this.handleTechRateChange_()}resetVolumeBar_(){this.volume(1),this.trigger("volumechange")}currentSources(){const e=this.currentSource(),i=[];return Object.keys(e).length!==0&&i.push(e),this.cache_.sources||i}currentSource(){return this.cache_.source||{}}currentSrc(){return this.currentSource()&&this.currentSource().src||""}currentType(){return this.currentSource()&&this.currentSource().type||""}preload(e){if(e!==void 0){this.techCall_("setPreload",e),this.options_.preload=e;return}return this.techGet_("preload")}autoplay(e){if(e===void 0)return this.options_.autoplay||!1;let i;typeof e=="string"&&/(any|play|muted)/.test(e)||e===!0&&this.options_.normalizeAutoplay?(this.options_.autoplay=e,this.manualAutoplay_(typeof e=="string"?e:"play"),i=!1):e?this.options_.autoplay=!0:this.options_.autoplay=!1,i=typeof i>"u"?this.options_.autoplay:i,this.tech_&&this.techCall_("setAutoplay",i)}playsinline(e){return e!==void 0&&(this.techCall_("setPlaysinline",e),this.options_.playsinline=e),this.techGet_("playsinline")}loop(e){if(e!==void 0){this.techCall_("setLoop",e),this.options_.loop=e;return}return this.techGet_("loop")}poster(e){if(e===void 0)return this.poster_;e||(e=""),e!==this.poster_&&(this.poster_=e,this.techCall_("setPoster",e),this.isPosterFromTech_=!1,this.trigger("posterchange"))}handleTechPosterChange_(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){const e=this.tech_.poster()||"";e!==this.poster_&&(this.poster_=e,this.isPosterFromTech_=!0,this.trigger("posterchange"))}}controls(e){if(e===void 0)return!!this.controls_;e=!!e,this.controls_!==e&&(this.controls_=e,this.usingNativeControls()&&this.techCall_("setControls",e),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))}usingNativeControls(e){if(e===void 0)return!!this.usingNativeControls_;e=!!e,this.usingNativeControls_!==e&&(this.usingNativeControls_=e,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))}error(e){if(e===void 0)return this.error_||null;if(ml("beforeerror").forEach(i=>{const n=i(this,e);if(!(fa(n)&&!Array.isArray(n)||typeof n=="string"||typeof n=="number"||n===null)){this.log.error("please return a value that MediaError expects in beforeerror hooks");return}e=n}),this.options_.suppressNotSupportedError&&e&&e.code===4){const i=function(){this.error(e)};this.options_.suppressNotSupportedError=!1,this.any(["click","touchstart"],i),this.one("loadstart",function(){this.off(["click","touchstart"],i)});return}if(e===null){this.error_=null,this.removeClass("vjs-error"),this.errorDisplay&&this.errorDisplay.close();return}this.error_=new Ei(e),this.addClass("vjs-error"),mt.error(`(CODE:${this.error_.code} ${Ei.errorTypes[this.error_.code]})`,this.error_.message,this.error_),this.trigger("error"),ml("error").forEach(i=>i(this,this.error_))}reportUserActivity(e){this.userActivity_=!0}userActive(e){if(e===void 0)return this.userActive_;if(e=!!e,e!==this.userActive_){if(this.userActive_=e,this.userActive_){this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),this.trigger("useractive");return}this.tech_&&this.tech_.one("mousemove",function(i){i.stopPropagation(),i.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}}listenForUserActivity_(){let e,i,n;const s=qt(this,this.reportUserActivity),r=function(d){(d.screenX!==i||d.screenY!==n)&&(i=d.screenX,n=d.screenY,s())},a=function(){s(),this.clearInterval(e),e=this.setInterval(s,250)},o=function(d){s(),this.clearInterval(e)};this.on("mousedown",a),this.on("mousemove",r),this.on("mouseup",o),this.on("mouseleave",o);const l=this.getChild("controlBar");l&&!wn&&!wr&&(l.on("mouseenter",function(d){this.player().options_.inactivityTimeout!==0&&(this.player().cache_.inactivityTimeout=this.player().options_.inactivityTimeout),this.player().options_.inactivityTimeout=0}),l.on("mouseleave",function(d){this.player().options_.inactivityTimeout=this.player().cache_.inactivityTimeout})),this.on("keydown",s),this.on("keyup",s);let c;const u=function(){if(!this.userActivity_)return;this.userActivity_=!1,this.userActive(!0),this.clearTimeout(c);const d=this.options_.inactivityTimeout;d<=0||(c=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},d))};this.setInterval(u,250)}playbackRate(e){if(e!==void 0){this.techCall_("setPlaybackRate",e);return}return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1}defaultPlaybackRate(e){return e!==void 0?this.techCall_("setDefaultPlaybackRate",e):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1}isAudio(e){if(e!==void 0){this.isAudio_=!!e;return}return!!this.isAudio_}updatePlayerHeightOnAudioOnlyMode_(){const e=this.getChild("ControlBar");!e||this.audioOnlyCache_.controlBarHeight===e.currentHeight()||(this.audioOnlyCache_.controlBarHeight=e.currentHeight(),this.height(this.audioOnlyCache_.controlBarHeight))}enableAudioOnlyUI_(){this.addClass("vjs-audio-only-mode");const e=this.children(),i=this.getChild("ControlBar"),n=i&&i.currentHeight();e.forEach(s=>{s!==i&&s.el_&&!s.hasClass("vjs-hidden")&&(s.hide(),this.audioOnlyCache_.hiddenChildren.push(s))}),this.audioOnlyCache_.playerHeight=this.currentHeight(),this.audioOnlyCache_.controlBarHeight=n,this.on("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.height(n),this.trigger("audioonlymodechange")}disableAudioOnlyUI_(){this.removeClass("vjs-audio-only-mode"),this.off("playerresize",this.boundUpdatePlayerHeightOnAudioOnlyMode_),this.audioOnlyCache_.hiddenChildren.forEach(e=>e.show()),this.height(this.audioOnlyCache_.playerHeight),this.trigger("audioonlymodechange")}audioOnlyMode(e){if(typeof e!="boolean"||e===this.audioOnlyMode_)return this.audioOnlyMode_;if(this.audioOnlyMode_=e,e){const i=[];return this.isInPictureInPicture()&&i.push(this.exitPictureInPicture()),this.isFullscreen()&&i.push(this.exitFullscreen()),this.audioPosterMode()&&i.push(this.audioPosterMode(!1)),Promise.all(i).then(()=>this.enableAudioOnlyUI_())}return Promise.resolve().then(()=>this.disableAudioOnlyUI_())}enablePosterModeUI_(){(this.tech_&&this.tech_).hide(),this.addClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}disablePosterModeUI_(){(this.tech_&&this.tech_).show(),this.removeClass("vjs-audio-poster-mode"),this.trigger("audiopostermodechange")}audioPosterMode(e){return typeof e!="boolean"||e===this.audioPosterMode_?this.audioPosterMode_:(this.audioPosterMode_=e,e?this.audioOnlyMode()?this.audioOnlyMode(!1).then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.enablePosterModeUI_()}):Promise.resolve().then(()=>{this.disablePosterModeUI_()}))}addTextTrack(e,i,n){if(this.tech_)return this.tech_.addTextTrack(e,i,n)}addRemoteTextTrack(e,i){if(this.tech_)return this.tech_.addRemoteTextTrack(e,i)}removeRemoteTextTrack(e={}){let{track:i}=e;if(i||(i=e),this.tech_)return this.tech_.removeRemoteTextTrack(i)}getVideoPlaybackQuality(){return this.techGet_("getVideoPlaybackQuality")}videoWidth(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0}videoHeight(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0}language(e){if(e===void 0)return this.language_;this.language_!==String(e).toLowerCase()&&(this.language_=String(e).toLowerCase(),oo(this)&&this.trigger("languagechange"))}languages(){return Zt(ri.prototype.options_.languages,this.languages_)}toJSON(){const e=Zt(this.options_),i=e.tracks;e.tracks=[];for(let n=0;n<i.length;n++){let s=i[n];s=Zt(s),s.player=void 0,e.tracks[n]=s}return e}createModal(e,i){i=i||{},i.content=e||"";const n=new _h(this,i);return this.addChild(n),n.on("dispose",()=>{this.removeChild(n)}),n.open(),n}updateCurrentBreakpoint_(){if(!this.responsive())return;const e=this.currentBreakpoint(),i=this.currentWidth();for(let n=0;n<GS.length;n++){const s=GS[n],r=this.breakpoints_[s];if(i<=r){if(e===s)return;e&&this.removeClass(Q1[e]),this.addClass(Q1[s]),this.breakpoint_=s;break}}}removeCurrentBreakpoint_(){const e=this.currentBreakpointClass();this.breakpoint_="",e&&this.removeClass(e)}breakpoints(e){return e===void 0?Object.assign(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=Object.assign({},Jwe,e),this.updateCurrentBreakpoint_(),Object.assign(this.breakpoints_))}responsive(e){if(e===void 0)return this.responsive_;e=!!e;const i=this.responsive_;if(e!==i)return this.responsive_=e,e?(this.on("playerresize",this.boundUpdateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.boundUpdateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),e}currentBreakpoint(){return this.breakpoint_}currentBreakpointClass(){return Q1[this.breakpoint_]||""}loadMedia(e,i){if(!e||typeof e!="object")return;const n=this.crossOrigin();this.reset(),this.cache_.media=Zt(e);const{artist:s,artwork:r,description:a,poster:o,src:l,textTracks:c,title:u}=this.cache_.media;!r&&o&&(this.cache_.media.artwork=[{src:o,type:x2(o)}]),n&&this.crossOrigin(n),l&&this.src(l),o&&this.poster(o),Array.isArray(c)&&c.forEach(d=>this.addRemoteTextTrack(d,!1)),this.titleBar&&this.titleBar.update({title:u,description:a||s||""}),this.ready(i)}getMedia(){if(!this.cache_.media){const e=this.poster(),i=this.currentSources(),n=Array.prototype.map.call(this.remoteTextTracks(),r=>({kind:r.kind,label:r.label,language:r.language,src:r.src})),s={src:i,textTracks:n};return e&&(s.poster=e,s.artwork=[{src:s.poster,type:x2(s.poster)}]),s}return Zt(this.cache_.media)}static getTagSettings(e){const i={sources:[],tracks:[]},n=Oo(e),s=n["data-setup"];if(ep(e,"vjs-fill")&&(n.fill=!0),ep(e,"vjs-fluid")&&(n.fluid=!0),s!==null)try{Object.assign(n,JSON.parse(s||"{}"))}catch(r){mt.error("data-setup",r)}if(Object.assign(i,n),e.hasChildNodes()){const r=e.childNodes;for(let a=0,o=r.length;a<o;a++){const l=r[a],c=l.nodeName.toLowerCase();c==="source"?i.sources.push(Oo(l)):c==="track"&&i.tracks.push(Oo(l))}}return i}debug(e){if(e===void 0)return this.debugEnabled_;e?(this.trigger("debugon"),this.previousLogLevel_=this.log.level,this.log.level("debug"),this.debugEnabled_=!0):(this.trigger("debugoff"),this.log.level(this.previousLogLevel_),this.previousLogLevel_=void 0,this.debugEnabled_=!1)}playbackRates(e){if(e===void 0)return this.cache_.playbackRates;Array.isArray(e)&&e.every(i=>typeof i=="number")&&(this.cache_.playbackRates=e,this.trigger("playbackrateschange"))}}Mn.names.forEach(function(t){const e=Mn[t];ri.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}});ri.prototype.crossorigin=ri.prototype.crossOrigin;ri.players={};const gf=K.navigator;ri.prototype.options_={techOrder:lt.defaultTechOrder_,html5:{},enableSourceset:!0,inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","titleBar","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:gf&&(gf.languages&&gf.languages[0]||gf.userLanguage||gf.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",normalizeAutoplay:!1,fullscreen:{options:{navigationUI:"hide"}},breakpoints:{},responsive:!1,audioOnlyMode:!1,audioPosterMode:!1,spatialNavigation:{enabled:!1,horizontalSeek:!1},enableSmoothSeeking:!1,disableSeekWhileScrubbingOnMobile:!1};PO.forEach(function(t){ri.prototype[`handleTech${Ri(t)}_`]=function(){return this.trigger(t)}});Te.registerComponent("Player",ri);const N2="plugin",nd="activePlugins_",Wu={},V2=t=>Wu.hasOwnProperty(t),q1=t=>V2(t)?Wu[t]:void 0,OO=(t,e)=>{t[nd]=t[nd]||{},t[nd][e]=!0},L2=(t,e,i)=>{const n=(i?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)},jwe=function(t,e){const i=function(){L2(this,{name:t,plugin:e,instance:null},!0);const n=e.apply(this,arguments);return OO(this,t),L2(this,{name:t,plugin:e,instance:n}),n};return Object.keys(e).forEach(function(n){i[n]=e[n]}),i},AV=(t,e)=>(e.prototype.name=t,function(...i){L2(this,{name:t,plugin:e,instance:null},!0);const n=new e(this,...i);return this[t]=()=>n,L2(this,n.getEventHash()),n});class os{constructor(e){if(this.constructor===os)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,this.log||(this.log=this.player.log.createLogger(this.name)),S4(this),delete this.trigger,iO(this,this.constructor.defaultState),OO(e,this.name),this.dispose=this.dispose.bind(this),e.on("dispose",this.dispose)}version(){return this.constructor.VERSION}getEventHash(e={}){return e.name=this.name,e.plugin=this.constructor,e.instance=this,e}trigger(e,i={}){return wh(this.eventBusEl_,e,this.getEventHash(i))}handleStateChanged(e){}dispose(){const{name:e,player:i}=this;this.trigger("dispose"),this.off(),i.off("dispose",this.dispose),i[nd][e]=!1,this.player=this.state=null,i[e]=AV(e,Wu[e])}static isBasic(e){const i=typeof e=="string"?q1(e):e;return typeof i=="function"&&!os.prototype.isPrototypeOf(i.prototype)}static registerPlugin(e,i){if(typeof e!="string")throw new Error(`Illegal plugin name, "${e}", must be a string, was ${typeof e}.`);if(V2(e))mt.warn(`A plugin named "${e}" already exists. You may want to avoid re-registering plugins!`);else if(ri.prototype.hasOwnProperty(e))throw new Error(`Illegal plugin name, "${e}", cannot share a name with an existing player method!`);if(typeof i!="function")throw new Error(`Illegal plugin for "${e}", must be a function, was ${typeof i}.`);return Wu[e]=i,e!==N2&&(os.isBasic(i)?ri.prototype[e]=jwe(e,i):ri.prototype[e]=AV(e,i)),i}static deregisterPlugin(e){if(e===N2)throw new Error("Cannot de-register base plugin.");V2(e)&&(delete Wu[e],delete ri.prototype[e])}static getPlugins(e=Object.keys(Wu)){let i;return e.forEach(n=>{const s=q1(n);s&&(i=i||{},i[n]=s)}),i}static getPluginVersion(e){const i=q1(e);return i&&i.VERSION||""}}os.getPlugin=q1;os.BASE_PLUGIN_NAME=N2;os.registerPlugin(N2,os);ri.prototype.usingPlugin=function(t){return!!this[nd]&&this[nd][t]===!0};ri.prototype.hasPlugin=function(t){return!!V2(t)};function Hwe(t,e){let i=!1;return function(...n){return i||mt.warn(t),i=!0,e.apply(this,n)}}function _r(t,e,i,n){return Hwe(`${e} is deprecated and will be removed in ${t}.0; please use ${i} instead.`,n)}var Qwe={NetworkBadStatus:"networkbadstatus",NetworkRequestFailed:"networkrequestfailed",NetworkRequestAborted:"networkrequestaborted",NetworkRequestTimeout:"networkrequesttimeout",NetworkBodyParserFailed:"networkbodyparserfailed",StreamingHlsPlaylistParserError:"streaminghlsplaylistparsererror",StreamingDashManifestParserError:"streamingdashmanifestparsererror",StreamingContentSteeringParserError:"streamingcontentsteeringparsererror",StreamingVttParserError:"streamingvttparsererror",StreamingFailedToSelectNextSegment:"streamingfailedtoselectnextsegment",StreamingFailedToDecryptSegment:"streamingfailedtodecryptsegment",StreamingFailedToTransmuxSegment:"streamingfailedtotransmuxsegment",StreamingFailedToAppendSegment:"streamingfailedtoappendsegment",StreamingCodecsChangeError:"streamingcodecschangeerror"};const XO=t=>t.indexOf("#")===0?t.slice(1):t;function he(t,e,i){let n=he.getPlayer(t);if(n)return e&&mt.warn(`Player "${t}" is already initialised. Options will not be applied.`),i&&n.ready(i),n;const s=typeof t=="string"?gl("#"+XO(t)):t;if(!Ih(s))throw new TypeError("The element or ID supplied is not valid. (videojs)");const a=("getRootNode"in s?s.getRootNode()instanceof K.ShadowRoot:!1)?s.getRootNode():s.ownerDocument.body;(!s.ownerDocument.defaultView||!a.contains(s))&&mt.warn("The element supplied is not included in the DOM"),e=e||{},e.restoreEl===!0&&(e.restoreEl=(s.parentNode&&s.parentNode.hasAttribute&&s.parentNode.hasAttribute("data-vjs-player")?s.parentNode:s).cloneNode(!0)),ml("beforesetup").forEach(l=>{const c=l(s,Zt(e));if(!fa(c)||Array.isArray(c)){mt.error("please return an object in beforesetup hooks");return}e=Zt(e,c)});const o=Te.getComponent("Player");return n=new o(s,e,i),ml("setup").forEach(l=>l(n)),n}he.hooks_=Oa;he.hooks=ml;he.hook=N6e;he.hookOnce=V6e;he.removeHook=wP;if(K.VIDEOJS_NO_DYNAMIC_STYLE!==!0&&Rh()){let t=gl(".vjs-styles-defaults");if(!t){t=HP("vjs-styles-defaults");const e=gl("head");e&&e.insertBefore(t,e.firstChild),QP(t,`
      .video-js {
        width: 300px;
        height: 150px;
      }

      .vjs-fluid:not(.vjs-audio-only-mode) {
        padding-top: 56.25%
      }
    `)}}LS(1,he);he.VERSION=_S;he.options=ri.prototype.options_;he.getPlayers=()=>ri.players;he.getPlayer=t=>{const e=ri.players;let i;if(typeof t=="string"){const n=XO(t),s=e[n];if(s)return s;i=gl("#"+n)}else i=t;if(Ih(i)){const{player:n,playerId:s}=i;if(n||e[s])return n||e[s]}};he.getAllPlayers=()=>Object.keys(ri.players).map(t=>ri.players[t]).filter(Boolean);he.players=ri.players;he.getComponent=Te.getComponent;he.registerComponent=(t,e)=>(lt.isTech(e)&&mt.warn(`The ${t} tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)`),Te.registerComponent.call(Te,t,e));he.getTech=lt.getTech;he.registerTech=lt.registerTech;he.use=awe;Object.defineProperty(he,"middleware",{value:{},writeable:!1,enumerable:!0});Object.defineProperty(he.middleware,"TERMINATOR",{value:_2,writeable:!1,enumerable:!0});he.browser=BP;he.obj=F6e;he.mergeOptions=_r(9,"videojs.mergeOptions","videojs.obj.merge",Zt);he.defineLazyProperty=_r(9,"videojs.defineLazyProperty","videojs.obj.defineLazyProperty",sb);he.bind=_r(9,"videojs.bind","native Function.prototype.bind",qt);he.registerPlugin=os.registerPlugin;he.deregisterPlugin=os.deregisterPlugin;he.plugin=(t,e)=>(mt.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),os.registerPlugin(t,e));he.getPlugins=os.getPlugins;he.getPlugin=os.getPlugin;he.getPluginVersion=os.getPluginVersion;he.addLanguage=function(t,e){return t=(""+t).toLowerCase(),he.options.languages=Zt(he.options.languages,{[t]:e}),he.options.languages[t]};he.log=mt;he.createLogger=_P;he.time=J6e;he.createTimeRange=_r(9,"videojs.createTimeRange","videojs.time.createTimeRanges",Tr);he.createTimeRanges=_r(9,"videojs.createTimeRanges","videojs.time.createTimeRanges",Tr);he.formatTime=_r(9,"videojs.formatTime","videojs.time.formatTime",_c);he.setFormatTime=_r(9,"videojs.setFormatTime","videojs.time.setFormatTime",rO);he.resetFormatTime=_r(9,"videojs.resetFormatTime","videojs.time.resetFormatTime",aO);he.parseUrl=_r(9,"videojs.parseUrl","videojs.url.parseUrl",R4);he.isCrossOrigin=_r(9,"videojs.isCrossOrigin","videojs.url.isCrossOrigin",gb);he.EventTarget=_s;he.any=A4;he.on=ws;he.one=pb;he.off=_n;he.trigger=wh;he.xhr=LZ;he.TextTrack=x0;he.AudioTrack=uO;he.VideoTrack=dO;["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(t=>{he[t]=function(){return mt.warn(`videojs.${t}() is deprecated; use videojs.dom.${t}() instead`),JP[t].apply(null,arguments)}});he.computedStyle=_r(9,"videojs.computedStyle","videojs.dom.computedStyle",$d);he.dom=JP;he.fn=O6e;he.num=wwe;he.str=K6e;he.url=swe;he.Error=Qwe;/*! @name videojs-contrib-quality-levels @version 4.1.0 @license Apache-2.0 */class qwe{constructor(e){let i=this;return i.id=e.id,i.label=i.id,i.width=e.width,i.height=e.height,i.bitrate=e.bandwidth,i.frameRate=e.frameRate,i.enabled_=e.enabled,Object.defineProperty(i,"enabled",{get(){return i.enabled_()},set(n){i.enabled_(n)}}),i}}class k2 extends he.EventTarget{constructor(){super();let e=this;return e.levels_=[],e.selectedIndex_=-1,Object.defineProperty(e,"selectedIndex",{get(){return e.selectedIndex_}}),Object.defineProperty(e,"length",{get(){return e.levels_.length}}),e[Symbol.iterator]=()=>e.levels_.values(),e}addQualityLevel(e){let i=this.getQualityLevelById(e.id);if(i)return i;const n=this.levels_.length;return i=new qwe(e),""+n in this||Object.defineProperty(this,n,{get(){return this.levels_[n]}}),this.levels_.push(i),this.trigger({qualityLevel:i,type:"addqualitylevel"}),i}removeQualityLevel(e){let i=null;for(let n=0,s=this.length;n<s;n++)if(this[n]===e){i=this.levels_.splice(n,1)[0],this.selectedIndex_===n?this.selectedIndex_=-1:this.selectedIndex_>n&&this.selectedIndex_--;break}return i&&this.trigger({qualityLevel:e,type:"removequalitylevel"}),i}getQualityLevelById(e){for(let i=0,n=this.length;i<n;i++){const s=this[i];if(s.id===e)return s}return null}dispose(){this.selectedIndex_=-1,this.levels_.length=0}}k2.prototype.allowedEvents_={change:"change",addqualitylevel:"addqualitylevel",removequalitylevel:"removequalitylevel"};for(const t in k2.prototype.allowedEvents_)k2.prototype["on"+t]=null;var YO="4.1.0";const e_e=function(t,e){const i=t.qualityLevels,n=new k2,s=function(){n.dispose(),t.qualityLevels=i,t.off("dispose",s)};return t.on("dispose",s),t.qualityLevels=()=>n,t.qualityLevels.VERSION=YO,n},$O=function(t){return e_e(this,he.obj.merge({},t))};he.registerPlugin("qualityLevels",$O);$O.VERSION=YO;/*! @name @videojs/http-streaming @version 3.16.2 @license Apache-2.0 */const qn=Hy,F2=(t,e)=>e&&e.responseURL&&t!==e.responseURL?e.responseURL:t,ir=t=>he.log.debug?he.log.debug.bind(he,"VHS:",`${t} >`):function(){};function Vt(...t){const e=he.obj||he;return(e.merge||e.mergeOptions).apply(e,t)}function sn(...t){const e=he.time||he;return(e.createTimeRanges||e.createTimeRanges).apply(e,t)}function t_e(t){if(t.length===0)return"Buffered Ranges are empty";let e=`Buffered Ranges: 
`;for(let i=0;i<t.length;i++){const n=t.start(i),s=t.end(i);e+=`${n} --> ${s}. Duration (${s-n})
`}return e}const ta=1/30,ia=ta*3,KO=function(t,e){const i=[];let n;if(t&&t.length)for(n=0;n<t.length;n++)e(t.start(n),t.end(n))&&i.push([t.start(n),t.end(n)]);return sn(i)},Gu=function(t,e){return KO(t,function(i,n){return i-ia<=e&&n+ia>=e})},zm=function(t,e){return KO(t,function(i){return i-ta>=e})},i_e=function(t){if(t.length<2)return sn();const e=[];for(let i=1;i<t.length;i++){const n=t.end(i-1),s=t.start(i);e.push([n,s])}return sn(e)},n_e=function(t,e){let i=null,n=null,s=0;const r=[],a=[];if(!t||!t.length||!e||!e.length)return sn();let o=t.length;for(;o--;)r.push({time:t.start(o),type:"start"}),r.push({time:t.end(o),type:"end"});for(o=e.length;o--;)r.push({time:e.start(o),type:"start"}),r.push({time:e.end(o),type:"end"});for(r.sort(function(l,c){return l.time-c.time}),o=0;o<r.length;o++)r[o].type==="start"?(s++,s===2&&(i=r[o].time)):r[o].type==="end"&&(s--,s===1&&(n=r[o].time)),i!==null&&n!==null&&(a.push([i,n]),i=null,n=null);return sn(a)},zO=t=>{const e=[];if(!t||!t.length)return"";for(let i=0;i<t.length;i++)e.push(t.start(i)+" => "+t.end(i));return e.join(", ")},s_e=function(t,e,i=1){return((t.length?t.end(t.length-1):0)-e)/i},Ql=t=>{const e=[];for(let i=0;i<t.length;i++)e.push({start:t.start(i),end:t.end(i)});return e},r_e=function(t,e){if(t===e)return!1;if(!t&&e||!e&&t||t.length!==e.length)return!0;for(let i=0;i<t.length;i++)if(t.start(i)!==e.start(i)||t.end(i)!==e.end(i))return!0;return!1},BE=function(t){if(!(!t||!t.length||!t.end))return t.end(t.length-1)},P4=function(t,e){let i=0;if(!t||!t.length)return i;for(let n=0;n<t.length;n++){const s=t.start(n),r=t.end(n);if(!(e>r)){if(e>s&&e<=r){i+=r-e;continue}i+=r-s}}return i},O4=(t,e)=>{if(!e.preload)return e.duration;let i=0;return(e.parts||[]).forEach(function(n){i+=n.duration}),(e.preloadHints||[]).forEach(function(n){n.type==="PART"&&(i+=t.partTargetDuration)}),i},DS=t=>(t.segments||[]).reduce((e,i,n)=>(i.parts?i.parts.forEach(function(s,r){e.push({duration:s.duration,segmentIndex:n,partIndex:r,part:s,segment:i})}):e.push({duration:i.duration,segmentIndex:n,partIndex:null,segment:i,part:null}),e),[]),JO=t=>{const e=t.segments&&t.segments.length&&t.segments[t.segments.length-1];return e&&e.parts||[]},jO=({preloadSegment:t})=>{if(!t)return;const{parts:e,preloadHints:i}=t;let n=(i||[]).reduce((s,r)=>s+(r.type==="PART"?1:0),0);return n+=e&&e.length?e.length:0,n},HO=(t,e)=>{if(e.endList)return 0;if(t&&t.suggestedPresentationDelay)return t.suggestedPresentationDelay;const i=JO(e).length>0;return i&&e.serverControl&&e.serverControl.partHoldBack?e.serverControl.partHoldBack:i&&e.partTargetDuration?e.partTargetDuration*3:e.serverControl&&e.serverControl.holdBack?e.serverControl.holdBack:e.targetDuration?e.targetDuration*3:0},a_e=function(t,e){let i=0,n=e-t.mediaSequence,s=t.segments[n];if(s){if(typeof s.start<"u")return{result:s.start,precise:!0};if(typeof s.end<"u")return{result:s.end-s.duration,precise:!0}}for(;n--;){if(s=t.segments[n],typeof s.end<"u")return{result:i+s.end,precise:!0};if(i+=O4(t,s),typeof s.start<"u")return{result:i+s.start,precise:!0}}return{result:i,precise:!1}},o_e=function(t,e){let i=0,n,s=e-t.mediaSequence;for(;s<t.segments.length;s++){if(n=t.segments[s],typeof n.start<"u")return{result:n.start-i,precise:!0};if(i+=O4(t,n),typeof n.end<"u")return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}},QO=function(t,e,i){if(typeof e>"u"&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence)return 0;const n=a_e(t,e);if(n.precise)return n.result;const s=o_e(t,e);return s.precise?s.result:n.result+i},qO=function(t,e,i){if(!t)return 0;if(typeof i!="number"&&(i=0),typeof e>"u"){if(t.totalDuration)return t.totalDuration;if(!t.endList)return K.Infinity}return QO(t,e,i)},np=function({defaultDuration:t,durationList:e,startIndex:i,endIndex:n}){let s=0;if(i>n&&([i,n]=[n,i]),i<0){for(let r=i;r<Math.min(0,n);r++)s+=t;i=0}for(let r=i;r<n;r++)s+=e[r].duration;return s},eX=function(t,e,i,n){if(!t||!t.segments)return null;if(t.endList)return qO(t);if(e===null)return null;e=e||0;let s=QO(t,t.mediaSequence+t.segments.length,e);return i&&(n=typeof n=="number"?n:HO(null,t),s-=n),Math.max(0,s)},l_e=function(t,e,i){const s=e||0;let r=eX(t,e,!0,i);return r===null?sn():(r<s&&(r=s),sn(s,r))},c_e=function({playlist:t,currentTime:e,startingSegmentIndex:i,startingPartIndex:n,startTime:s,exactManifestTimings:r}){let a=e-s;const o=DS(t);let l=0;for(let c=0;c<o.length;c++){const u=o[c];if(i===u.segmentIndex&&!(typeof n=="number"&&typeof u.partIndex=="number"&&n!==u.partIndex)){l=c;break}}if(a<0){if(l>0)for(let c=l-1;c>=0;c--){const u=o[c];if(a+=u.duration,r){if(a<0)continue}else if(a+ta<=0)continue;return{partIndex:u.partIndex,segmentIndex:u.segmentIndex,startTime:s-np({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:c})}}return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e}}if(l<0){for(let c=l;c<0;c++)if(a-=t.targetDuration,a<0)return{partIndex:o[0]&&o[0].partIndex||null,segmentIndex:o[0]&&o[0].segmentIndex||0,startTime:e};l=0}for(let c=l;c<o.length;c++){const u=o[c];a-=u.duration;const d=u.duration>ta,h=a===0,f=d&&a+ta>=0;if(!((h||f)&&c!==o.length-1)){if(r){if(a>0)continue}else if(a-ta>=0)continue;return{partIndex:u.partIndex,segmentIndex:u.segmentIndex,startTime:s+np({defaultDuration:t.targetDuration,durationList:o,startIndex:l,endIndex:c})}}}return{segmentIndex:o[o.length-1].segmentIndex,partIndex:o[o.length-1].partIndex,startTime:e}},tX=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},X4=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Eb=function(t){const e=tX(t);return!t.disabled&&!e},u_e=function(t){return t.disabled},d_e=function(t){for(let e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},iX=function(t,e){return e.attributes&&e.attributes[t]},h_e=function(t,e,i,n=0){return iX("BANDWIDTH",i)?(t*i.attributes.BANDWIDTH-n*8)/e:NaN},MS=(t,e)=>{if(t.playlists.length===1)return!0;const i=e.attributes.BANDWIDTH||Number.MAX_VALUE;return t.playlists.filter(n=>Eb(n)?(n.attributes.BANDWIDTH||0)<i:!1).length===0},Y4=(t,e)=>!t&&!e||!t&&e||t&&!e?!1:!!(t===e||t.id&&e.id&&t.id===e.id||t.resolvedUri&&e.resolvedUri&&t.resolvedUri===e.resolvedUri||t.uri&&e.uri&&t.uri===e.uri),SV=function(t,e){const i=t&&t.mediaGroups&&t.mediaGroups.AUDIO||{};let n=!1;for(const s in i){for(const r in i[s])if(n=e(i[s][r]),n)break;if(n)break}return!!n},k0=t=>{if(!t||!t.playlists||!t.playlists.length)return SV(t,i=>i.playlists&&i.playlists.length||i.uri);for(let e=0;e<t.playlists.length;e++){const i=t.playlists[e],n=i.attributes&&i.attributes.CODECS;if(!(n&&n.split(",").every(r=>MZ(r))||SV(t,r=>Y4(i,r))))return!1}return!0};var ts={liveEdgeDelay:HO,duration:qO,seekable:l_e,getMediaInfoForTime:c_e,isEnabled:Eb,isDisabled:u_e,isExcluded:tX,isIncompatible:X4,playlistEnd:eX,isAes:d_e,hasAttribute:iX,estimateSegmentRequestTime:h_e,isLowestEnabledRendition:MS,isAudioOnly:k0,playlistMatch:Y4,segmentDurationWithParts:O4};const{log:nX}=he,sd=(t,e)=>`${t}-${e}`,sX=(t,e,i)=>`placeholder-uri-${t}-${e}-${i}`,f_e=({onwarn:t,oninfo:e,manifestString:i,customTagParsers:n=[],customTagMappers:s=[],llhls:r})=>{const a=new w8e;t&&a.on("warn",t),e&&a.on("info",e),n.forEach(c=>a.addParser(c)),s.forEach(c=>a.addTagMapper(c)),a.push(i),a.end();const o=a.manifest;if(r||(["preloadSegment","skip","serverControl","renditionReports","partInf","partTargetDuration"].forEach(function(c){o.hasOwnProperty(c)&&delete o[c]}),o.segments&&o.segments.forEach(function(c){["parts","preloadHints"].forEach(function(u){c.hasOwnProperty(u)&&delete c[u]})})),!o.targetDuration){let c=10;o.segments&&o.segments.length&&(c=o.segments.reduce((u,d)=>Math.max(u,d.duration),0)),t&&t({message:`manifest has no targetDuration defaulting to ${c}`}),o.targetDuration=c}const l=JO(o);if(l.length&&!o.partTargetDuration){const c=l.reduce((u,d)=>Math.max(u,d.duration),0);t&&(t({message:`manifest has no partTargetDuration defaulting to ${c}`}),nX.error("LL-HLS manifest has parts but lacks required #EXT-X-PART-INF:PART-TARGET value. See https://datatracker.ietf.org/doc/html/draft-pantos-hls-rfc8216bis-09#section-4.4.3.7. Playback is not guaranteed.")),o.partTargetDuration=c}return o},Vh=(t,e)=>{t.mediaGroups&&["AUDIO","SUBTITLES"].forEach(i=>{if(t.mediaGroups[i])for(const n in t.mediaGroups[i])for(const s in t.mediaGroups[i][n]){const r=t.mediaGroups[i][n][s];e(r,i,n,s)}})},rX=({playlist:t,uri:e,id:i})=>{t.id=i,t.playlistErrors_=0,e&&(t.uri=e),t.attributes=t.attributes||{}},p_e=t=>{let e=t.playlists.length;for(;e--;){const i=t.playlists[e];rX({playlist:i,id:sd(e,i.uri)}),i.resolvedUri=qn(t.uri,i.uri),t.playlists[i.id]=i,t.playlists[i.uri]=i,i.attributes.BANDWIDTH||nX.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute.")}},m_e=t=>{Vh(t,e=>{e.uri&&(e.resolvedUri=qn(t.uri,e.uri))})},g_e=(t,e)=>{const i=sd(0,e),n={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:K.location.href,resolvedUri:K.location.href,playlists:[{uri:e,id:i,resolvedUri:e,attributes:{}}]};return n.playlists[i]=n.playlists[0],n.playlists[e]=n.playlists[0],n},aX=(t,e,i=sX)=>{t.uri=e;for(let s=0;s<t.playlists.length;s++)if(!t.playlists[s].uri){const r=`placeholder-uri-${s}`;t.playlists[s].uri=r}const n=k0(t);Vh(t,(s,r,a,o)=>{if(!s.playlists||!s.playlists.length){if(n&&r==="AUDIO"&&!s.uri)for(let l=0;l<t.playlists.length;l++){const c=t.playlists[l];if(c.attributes&&c.attributes.AUDIO&&c.attributes.AUDIO===a)return}s.playlists=[Li({},s)]}s.playlists.forEach(function(l,c){const u=i(r,a,o,l),d=sd(c,u);l.uri?l.resolvedUri=l.resolvedUri||qn(t.uri,l.uri):(l.uri=c===0?u:d,l.resolvedUri=l.uri),l.id=l.id||d,l.attributes=l.attributes||{},t.playlists[l.id]=l,t.playlists[l.uri]=l})}),p_e(t),m_e(t)};class TV{constructor(){this.offset_=null,this.pendingDateRanges_=new Map,this.processedDateRanges_=new Map}setOffset(e=[]){if(this.offset_!==null||!e.length)return;const[i]=e;i.programDateTime!==void 0&&(this.offset_=i.programDateTime/1e3)}setPendingDateRanges(e=[]){if(!e.length)return;const[i]=e,n=i.startDate.getTime();this.trimProcessedDateRanges_(n),this.pendingDateRanges_=e.reduce((s,r)=>(s.set(r.id,r),s),new Map)}processDateRange(e){this.pendingDateRanges_.delete(e.id),this.processedDateRanges_.set(e.id,e)}getDateRangesToProcess(){if(this.offset_===null)return[];const e={},i=[];this.pendingDateRanges_.forEach((n,s)=>{if(!this.processedDateRanges_.has(s)&&(n.startTime=n.startDate.getTime()/1e3-this.offset_,n.processDateRange=()=>this.processDateRange(n),i.push(n),!!n.class))if(e[n.class]){const r=e[n.class].push(n);n.classListIndex=r-1}else e[n.class]=[n],n.classListIndex=0});for(const n of i){const s=e[n.class]||[];n.endDate?n.endTime=n.endDate.getTime()/1e3-this.offset_:n.endOnNext&&s[n.classListIndex+1]?n.endTime=s[n.classListIndex+1].startTime:n.duration?n.endTime=n.startTime+n.duration:n.plannedDuration?n.endTime=n.startTime+n.plannedDuration:n.endTime=n.startTime}return i}trimProcessedDateRanges_(e){new Map(this.processedDateRanges_).forEach((n,s)=>{n.startDate.getTime()<e&&this.processedDateRanges_.delete(s)})}}const oX=22,pc=({requestType:t,request:e,error:i,parseFailure:n})=>{const s=e.status<200||e.status>299,r=e.status>=400&&e.status<=499,a={uri:e.uri,requestType:t},o=s&&!r||n;if(i&&r)a.error=Li({},i),a.errorType=he.Error.NetworkRequestFailed;else if(e.aborted)a.errorType=he.Error.NetworkRequestAborted;else if(e.timedout)a.erroType=he.Error.NetworkRequestTimeout;else if(o){const l=n?he.Error.NetworkBodyParserFailed:he.Error.NetworkBadStatus;a.errorType=l,a.status=e.status,a.headers=e.headers}return a},{EventTarget:y_e}=he,b_e=(t,e)=>{if(e.endList||!e.serverControl)return t;const i={};if(e.serverControl.canBlockReload){const{preloadSegment:n}=e;let s=e.mediaSequence+e.segments.length;if(n){const r=n.parts||[],a=jO(e)-1;a>-1&&a!==r.length-1&&(i._HLS_part=a),(a>-1||r.length)&&s--}i._HLS_msn=s}if(e.serverControl&&e.serverControl.canSkipUntil&&(i._HLS_skip=e.serverControl.canSkipDateranges?"v2":"YES"),Object.keys(i).length){const n=new K.URL(t);["_HLS_skip","_HLS_msn","_HLS_part"].forEach(function(s){i.hasOwnProperty(s)&&n.searchParams.set(s,i[s])}),t=n.toString()}return t},v_e=(t,e)=>{if(!t)return e;const i=Vt(t,e);if(t.preloadHints&&!e.preloadHints&&delete i.preloadHints,t.parts&&!e.parts)delete i.parts;else if(t.parts&&e.parts)for(let n=0;n<e.parts.length;n++)t.parts&&t.parts[n]&&(i.parts[n]=Vt(t.parts[n],e.parts[n]));return!t.skipped&&e.skipped&&(i.skipped=!1),t.preload&&!e.preload&&(i.preload=!1),i},E_e=(t,e,i)=>{const n=t.slice(),s=e.slice();i=i||0;const r=[];let a;for(let o=0;o<s.length;o++){const l=n[o+i],c=s[o];l?(a=l.map||a,r.push(v_e(l,c))):(a&&!c.map&&(c.map=a),r.push(c))}return r},lX=(t,e)=>{!t.resolvedUri&&t.uri&&(t.resolvedUri=qn(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=qn(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=qn(e,t.map.uri)),t.map&&t.map.key&&!t.map.key.resolvedUri&&(t.map.key.resolvedUri=qn(e,t.map.key.uri)),t.parts&&t.parts.length&&t.parts.forEach(i=>{i.resolvedUri||(i.resolvedUri=qn(e,i.uri))}),t.preloadHints&&t.preloadHints.length&&t.preloadHints.forEach(i=>{i.resolvedUri||(i.resolvedUri=qn(e,i.uri))})},cX=function(t){const e=t.segments||[],i=t.preloadSegment;if(i&&i.parts&&i.parts.length){if(i.preloadHints){for(let n=0;n<i.preloadHints.length;n++)if(i.preloadHints[n].type==="MAP")return e}i.duration=t.targetDuration,i.preload=!0,e.push(i)}return e},uX=(t,e)=>t===e||t.segments&&e.segments&&t.segments.length===e.segments.length&&t.endList===e.endList&&t.mediaSequence===e.mediaSequence&&t.preloadSegment===e.preloadSegment,ZS=(t,e,i=uX)=>{const n=Vt(t,{}),s=n.playlists[e.id];if(!s||i(s,e))return null;e.segments=cX(e);const r=Vt(s,e);if(r.preloadSegment&&!e.preloadSegment&&delete r.preloadSegment,s.segments){if(e.skip){e.segments=e.segments||[];for(let a=0;a<e.skip.skippedSegments;a++)e.segments.unshift({skipped:!0})}r.segments=E_e(s.segments,e.segments,e.mediaSequence-s.mediaSequence)}r.segments.forEach(a=>{lX(a,r.resolvedUri)});for(let a=0;a<n.playlists.length;a++)n.playlists[a].id===e.id&&(n.playlists[a]=r);return n.playlists[e.id]=r,n.playlists[e.uri]=r,Vh(t,(a,o,l,c)=>{if(a.playlists)for(let u=0;u<a.playlists.length;u++)e.id===a.playlists[u].id&&(a.playlists[u]=r)}),n},PS=(t,e)=>{const i=t.segments||[],n=i[i.length-1],s=n&&n.parts&&n.parts[n.parts.length-1],r=s&&s.duration||n&&n.duration;return e&&r?r*1e3:(t.partTargetDuration||t.targetDuration||10)*500},CV=(t,e,i)=>{if(!t)return;const n=[];return t.forEach(s=>{if(!s.attributes)return;const{BANDWIDTH:r,RESOLUTION:a,CODECS:o}=s.attributes;n.push({id:s.id,bandwidth:r,resolution:a,codecs:o})}),{type:e,isLive:i,renditions:n}};let Du=class extends y_e{constructor(e,i,n={}){if(super(),!e)throw new Error("A non-empty playlist URL or object is required");this.logger_=ir("PlaylistLoader");const{withCredentials:s=!1}=n;this.src=e,this.vhs_=i,this.withCredentials=s,this.addDateRangesToTextTrack_=n.addDateRangesToTextTrack;const r=i.options_;this.customTagParsers=r&&r.customTagParsers||[],this.customTagMappers=r&&r.customTagMappers||[],this.llhls=r&&r.llhls,this.dateRangesStorage_=new TV,this.state="HAVE_NOTHING",this.handleMediaupdatetimeout_=this.handleMediaupdatetimeout_.bind(this),this.on("mediaupdatetimeout",this.handleMediaupdatetimeout_),this.on("loadedplaylist",this.handleLoadedPlaylist_.bind(this))}handleLoadedPlaylist_(){const e=this.media();if(!e)return;this.dateRangesStorage_.setOffset(e.segments),this.dateRangesStorage_.setPendingDateRanges(e.dateRanges);const i=this.dateRangesStorage_.getDateRangesToProcess();!i.length||!this.addDateRangesToTextTrack_||this.addDateRangesToTextTrack_(i)}handleMediaupdatetimeout_(){if(this.state!=="HAVE_METADATA")return;const e=this.media();let i=qn(this.main.uri,e.uri);this.llhls&&(i=b_e(i,e)),this.state="HAVE_CURRENT_METADATA",this.request=this.vhs_.xhr({uri:i,withCredentials:this.withCredentials,requestType:"hls-playlist"},(n,s)=>{if(this.request){if(n)return this.playlistRequestError(this.request,this.media(),"HAVE_METADATA");this.haveMetadata({playlistString:this.request.responseText,url:this.media().uri,id:this.media().id})}})}playlistRequestError(e,i,n){const{uri:s,id:r}=i;this.request=null,n&&(this.state=n),this.error={playlist:this.main.playlists[r],status:e.status,message:`HLS playlist request error at URL: ${s}.`,responseText:e.responseText,code:e.status>=500?4:2,metadata:pc({requestType:e.requestType,request:e,error:e.error})},this.trigger("error")}parseManifest_({url:e,manifestString:i}){try{return f_e({onwarn:({message:n})=>this.logger_(`m3u8-parser warn for ${e}: ${n}`),oninfo:({message:n})=>this.logger_(`m3u8-parser info for ${e}: ${n}`),manifestString:i,customTagParsers:this.customTagParsers,customTagMappers:this.customTagMappers,llhls:this.llhls})}catch(n){this.error=n,this.error.metadata={errorType:he.Error.StreamingHlsPlaylistParserError,error:n}}}haveMetadata({playlistString:e,playlistObject:i,url:n,id:s}){this.request=null,this.state="HAVE_METADATA";const r={playlistInfo:{type:"media",uri:n}};this.trigger({type:"playlistparsestart",metadata:r});const a=i||this.parseManifest_({url:n,manifestString:e});a.lastRequest=Date.now(),rX({playlist:a,uri:n,id:s});const o=ZS(this.main,a);this.targetDuration=a.partTargetDuration||a.targetDuration,this.pendingMedia_=null,o?(this.main=o,this.media_=this.main.playlists[s]):this.trigger("playlistunchanged"),this.updateMediaUpdateTimeout_(PS(this.media(),!!o)),r.parsedPlaylist=CV(this.main.playlists,r.playlistInfo.type,!this.media_.endList),this.trigger({type:"playlistparsecomplete",metadata:r}),this.trigger("loadedplaylist")}dispose(){this.trigger("dispose"),this.stopRequest(),K.clearTimeout(this.mediaUpdateTimeout),K.clearTimeout(this.finalRenditionTimeout),this.dateRangesStorage_=new TV,this.off()}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e,i){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);if(typeof e=="string"){if(!this.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.main.playlists[e]}if(K.clearTimeout(this.finalRenditionTimeout),i){const o=(e.partTargetDuration||e.targetDuration)/2*1e3||5e3;this.finalRenditionTimeout=K.setTimeout(this.media.bind(this,e,!1),o);return}const n=this.state,s=!this.media_||e.id!==this.media_.id,r=this.main.playlists[e.id];if(r&&r.endList||e.endList&&e.segments.length){this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=e,s&&(this.trigger("mediachanging"),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange"));return}if(this.updateMediaUpdateTimeout_(PS(e,!0)),!s)return;if(this.state="SWITCHING_MEDIA",this.request){if(e.resolvedUri===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.pendingMedia_=e;const a={playlistInfo:{type:"media",uri:e.uri}};this.trigger({type:"playlistrequeststart",metadata:a}),this.request=this.vhs_.xhr({uri:e.resolvedUri,withCredentials:this.withCredentials,requestType:"hls-playlist"},(o,l)=>{if(this.request){if(e.lastRequest=Date.now(),e.resolvedUri=F2(e.resolvedUri,l),o)return this.playlistRequestError(this.request,e,n);this.trigger({type:"playlistrequestcomplete",metadata:a}),this.haveMetadata({playlistString:l.responseText,url:e.uri,id:e.id}),n==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}})}pause(){this.mediaUpdateTimeout&&(K.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),this.stopRequest(),this.state==="HAVE_NOTHING"&&(this.started=!1),this.state==="SWITCHING_MEDIA"?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MAIN_MANIFEST":this.state==="HAVE_CURRENT_METADATA"&&(this.state="HAVE_METADATA")}load(e){this.mediaUpdateTimeout&&(K.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null);const i=this.media();if(e){const n=i?(i.partTargetDuration||i.targetDuration)/2*1e3:5e3;this.mediaUpdateTimeout=K.setTimeout(()=>{this.mediaUpdateTimeout=null,this.load()},n);return}if(!this.started){this.start();return}i&&!i.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist")}updateMediaUpdateTimeout_(e){this.mediaUpdateTimeout&&(K.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null),!(!this.media()||this.media().endList)&&(this.mediaUpdateTimeout=K.setTimeout(()=>{this.mediaUpdateTimeout=null,this.trigger("mediaupdatetimeout"),this.updateMediaUpdateTimeout_(e)},e))}start(){if(this.started=!0,typeof this.src=="object"){this.src.uri||(this.src.uri=K.location.href),this.src.resolvedUri=this.src.uri,setTimeout(()=>{this.setupInitialPlaylist(this.src)},0);return}const e={playlistInfo:{type:"multivariant",uri:this.src}};this.trigger({type:"playlistrequeststart",metadata:e}),this.request=this.vhs_.xhr({uri:this.src,withCredentials:this.withCredentials,requestType:"hls-playlist"},(i,n)=>{if(!this.request)return;if(this.request=null,i)return this.error={status:n.status,message:`HLS playlist request error at URL: ${this.src}.`,responseText:n.responseText,code:2,metadata:pc({requestType:n.requestType,request:n,error:i})},this.state==="HAVE_NOTHING"&&(this.started=!1),this.trigger("error");this.trigger({type:"playlistrequestcomplete",metadata:e}),this.src=F2(this.src,n),this.trigger({type:"playlistparsestart",metadata:e});const s=this.parseManifest_({manifestString:n.responseText,url:this.src});e.parsedPlaylist=CV(s.playlists,e.playlistInfo.type,!1),this.trigger({type:"playlistparsecomplete",metadata:e}),this.setupInitialPlaylist(s)})}srcUri(){return typeof this.src=="string"?this.src:this.src.uri}setupInitialPlaylist(e){if(this.state="HAVE_MAIN_MANIFEST",e.playlists){this.main=e,aX(this.main,this.srcUri()),e.playlists.forEach(n=>{n.segments=cX(n),n.segments.forEach(s=>{lX(s,n.resolvedUri)})}),this.trigger("loadedplaylist"),this.request||this.media(this.main.playlists[0]);return}const i=this.srcUri()||K.location.href;this.main=g_e(e,i),this.haveMetadata({playlistObject:e,url:i,id:this.main.playlists[0].id}),this.trigger("loadedmetadata")}updateOrDeleteClone(e,i){const n=this.main,s=e.ID;let r=n.playlists.length;for(;r--;){const a=n.playlists[r];if(a.attributes["PATHWAY-ID"]===s){const o=a.resolvedUri,l=a.id;if(i){const c=this.createCloneURI_(a.resolvedUri,e),u=sd(s,c),d=this.createCloneAttributes_(s,a.attributes),h=this.createClonePlaylist_(a,u,e,d);n.playlists[r]=h,n.playlists[u]=h,n.playlists[c]=h}else n.playlists.splice(r,1);delete n.playlists[l],delete n.playlists[o]}}this.updateOrDeleteCloneMedia(e,i)}updateOrDeleteCloneMedia(e,i){const n=this.main,s=e.ID;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(r=>{if(!(!n.mediaGroups[r]||!n.mediaGroups[r][s])){for(const a in n.mediaGroups[r])if(a===s){for(const o in n.mediaGroups[r][a])n.mediaGroups[r][a][o].playlists.forEach((c,u)=>{const d=n.playlists[c.id],h=d.id,f=d.resolvedUri;delete n.playlists[h],delete n.playlists[f]});delete n.mediaGroups[r][a]}}}),i&&this.createClonedMediaGroups_(e)}addClonePathway(e,i={}){const n=this.main,s=n.playlists.length,r=this.createCloneURI_(i.resolvedUri,e),a=sd(e.ID,r),o=this.createCloneAttributes_(e.ID,i.attributes),l=this.createClonePlaylist_(i,a,e,o);n.playlists[s]=l,n.playlists[a]=l,n.playlists[r]=l,this.createClonedMediaGroups_(e)}createClonedMediaGroups_(e){const i=e.ID,n=e["BASE-ID"],s=this.main;["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(r=>{if(!(!s.mediaGroups[r]||s.mediaGroups[r][i]))for(const a in s.mediaGroups[r]){if(a===n)s.mediaGroups[r][i]={};else continue;for(const o in s.mediaGroups[r][a]){const l=s.mediaGroups[r][a][o];s.mediaGroups[r][i][o]=Li({},l);const c=s.mediaGroups[r][i][o],u=this.createCloneURI_(l.resolvedUri,e);c.resolvedUri=u,c.uri=u,c.playlists=[],l.playlists.forEach((d,h)=>{const f=s.playlists[d.id],p=sX(r,i,o),m=sd(i,p);if(f&&!s.playlists[m]){const v=this.createClonePlaylist_(f,m,e),g=v.resolvedUri;s.playlists[m]=v,s.playlists[g]=v}c.playlists[h]=this.createClonePlaylist_(d,m,e)})}}})}createClonePlaylist_(e,i,n,s){const r=this.createCloneURI_(e.resolvedUri,n),a={resolvedUri:r,uri:r,id:i};return e.segments&&(a.segments=[]),s&&(a.attributes=s),Vt(e,a)}createCloneURI_(e,i){const n=new URL(e);n.hostname=i["URI-REPLACEMENT"].HOST;const s=i["URI-REPLACEMENT"].PARAMS;for(const r of Object.keys(s))n.searchParams.set(r,s[r]);return n.href}createCloneAttributes_(e,i){const n={"PATHWAY-ID":e};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(s=>{i[s]&&(n[s]=e)}),n}getKeyIdSet(e){if(e.contentProtection){const i=new Set;for(const n in e.contentProtection){const s=e.contentProtection[n].attributes.keyId;s&&i.add(s.toLowerCase())}return i}}};const OS=function(t,e,i,n){const s=t.responseType==="arraybuffer"?t.response:t.responseText;!e&&s&&(t.responseTime=Date.now(),t.roundTripTime=t.responseTime-t.requestTime,t.bytesReceived=s.byteLength||s.length,t.bandwidth||(t.bandwidth=Math.floor(t.bytesReceived/t.roundTripTime*8*1e3))),i.headers&&(t.responseHeaders=i.headers),e&&e.code==="ETIMEDOUT"&&(t.timedout=!0),!e&&!t.aborted&&i.statusCode!==200&&i.statusCode!==206&&i.statusCode!==0&&(e=new Error("XHR Failed with a response of: "+(t&&(s||t.responseText)))),n(e,t)},A_e=(t,e)=>{if(!t||!t.size)return;let i=e;return t.forEach(n=>{i=n(i)}),i},S_e=(t,e,i,n)=>{!t||!t.size||t.forEach(s=>{s(e,i,n)})},dX=function(){const t=function e(i,n){i=Vt({timeout:45e3},i);const s=e.beforeRequest||he.Vhs.xhr.beforeRequest,r=e._requestCallbackSet||he.Vhs.xhr._requestCallbackSet||new Set,a=e._responseCallbackSet||he.Vhs.xhr._responseCallbackSet;s&&typeof s=="function"&&(he.log.warn("beforeRequest is deprecated, use onRequest instead."),r.add(s));const o=he.Vhs.xhr.original===!0?he.xhr:he.Vhs.xhr,l=A_e(r,i);r.delete(s);const c=o(l||i,function(d,h){return S_e(a,c,d,h),OS(c,d,h,n)}),u=c.abort;return c.abort=function(){return c.aborted=!0,u.apply(c,arguments)},c.uri=i.uri,c.requestType=i.requestType,c.requestTime=Date.now(),c};return t.original=!0,t},T_e=function(t){let e;const i=t.offset;return typeof t.offset=="bigint"||typeof t.length=="bigint"?e=K.BigInt(t.offset)+K.BigInt(t.length)-K.BigInt(1):e=t.offset+t.length-1,"bytes="+i+"-"+e},XS=function(t){const e={};return t.byterange&&(e.Range=T_e(t.byterange)),e},C_e=function(t,e){return t.start(e)+"-"+t.end(e)},R_e=function(t,e){const i=t.toString(16);return"00".substring(0,2-i.length)+i+(e%2?" ":"")},I_e=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},hX=function(t){const e={};return Object.keys(t).forEach(i=>{const n=t[i];PZ(n)?e[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[i]=n}),e},U2=function(t){const e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},fX=function(t){return t.resolvedUri},pX=t=>{const e=Array.prototype.slice.call(t),i=16;let n="",s,r;for(let a=0;a<e.length/i;a++)s=e.slice(a*i,a*i+i).map(R_e).join(""),r=e.slice(a*i,a*i+i).map(I_e).join(""),n+=s+" "+r+`
`;return n},w_e=({bytes:t})=>pX(t),__e=t=>{let e="",i;for(i=0;i<t.length;i++)e+=C_e(t,i)+" ";return e};var x_e=Object.freeze({__proto__:null,createTransferableMessage:hX,initSegmentId:U2,segmentKeyId:fX,hexDump:pX,tagDump:w_e,textRanges:__e});const mX=.25,N_e=(t,e)=>{if(!e.dateTimeObject)return null;const i=e.videoTimingInfo.transmuxerPrependedSeconds,s=e.videoTimingInfo.transmuxedPresentationStart+i,r=t-s;return new Date(e.dateTimeObject.getTime()+r*1e3)},V_e=t=>t.transmuxedPresentationEnd-t.transmuxedPresentationStart-t.transmuxerPrependedSeconds,L_e=(t,e)=>{let i;try{i=new Date(t)}catch{return null}if(!e||!e.segments||e.segments.length===0)return null;let n=e.segments[0];if(i<new Date(n.dateTimeObject))return null;for(let l=0;l<e.segments.length-1;l++){n=e.segments[l];const c=new Date(e.segments[l+1].dateTimeObject);if(i<c)break}const s=e.segments[e.segments.length-1],r=s.dateTimeObject,a=s.videoTimingInfo?V_e(s.videoTimingInfo):s.duration+s.duration*mX,o=new Date(r.getTime()+a*1e3);return i>o?null:(i>new Date(r)&&(n=s),{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:ts.duration(e,e.mediaSequence+e.segments.indexOf(n)),type:n.videoTimingInfo?"accurate":"estimate"})},k_e=(t,e)=>{if(!e||!e.segments||e.segments.length===0)return null;let i=0,n;for(let r=0;r<e.segments.length&&(n=e.segments[r],i=n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationEnd:i+n.duration,!(t<=i));r++);const s=e.segments[e.segments.length-1];if(s.videoTimingInfo&&s.videoTimingInfo.transmuxedPresentationEnd<t)return null;if(t>i){if(t>i+s.duration*mX)return null;n=s}return{segment:n,estimatedStart:n.videoTimingInfo?n.videoTimingInfo.transmuxedPresentationStart:i-n.duration,type:n.videoTimingInfo?"accurate":"estimate"}},F_e=(t,e)=>{let i,n;try{i=new Date(t),n=new Date(e)}catch{}const s=i.getTime();return(n.getTime()-s)/1e3},U_e=t=>{if(!t.segments||t.segments.length===0)return!1;for(let e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0},B_e=({playlist:t,time:e=void 0,callback:i})=>{if(!i)throw new Error("getProgramTime: callback must be provided");if(!t||e===void 0)return i({message:"getProgramTime: playlist and time must be provided"});const n=k_e(e,t);if(!n)return i({message:"valid programTime was not found"});if(n.type==="estimate")return i({message:"Accurate programTime could not be determined. Please seek to e.seekTime and try again",seekTime:n.estimatedStart});const s={mediaSeconds:e},r=N_e(e,n.segment);return r&&(s.programDateTime=r.toISOString()),i(null,s)},gX=({programTime:t,playlist:e,retryCount:i=2,seekTo:n,pauseAfterSeek:s=!0,tech:r,callback:a})=>{if(!a)throw new Error("seekToProgramTime: callback must be provided");if(typeof t>"u"||!e||!n)return a({message:"seekToProgramTime: programTime, seekTo and playlist must be provided"});if(!e.endList&&!r.hasStarted_)return a({message:"player must be playing a live stream to start buffering"});if(!U_e(e))return a({message:"programDateTime tags must be provided in the manifest "+e.resolvedUri});const o=L_e(t,e);if(!o)return a({message:`${t} was not found in the stream`});const l=o.segment,c=F_e(l.dateTimeObject,t);if(o.type==="estimate"){if(i===0)return a({message:`${t} is not buffered yet. Try again`});n(o.estimatedStart+c),r.one("seeked",()=>{gX({programTime:t,playlist:e,retryCount:i-1,seekTo:n,pauseAfterSeek:s,tech:r,callback:a})});return}const u=l.start+c,d=()=>a(null,r.currentTime());r.one("seeked",d),s&&r.pause(),n(u)},WE=(t,e)=>{if(t.readyState===4)return e()},W_e=(t,e,i,n)=>{let s=[],r,a=!1;const o=function(d,h,f,p){return h.abort(),a=!0,i(d,h,f,p)},l=function(d,h){if(a)return;if(d)return d.metadata=pc({requestType:n,request:h,error:d}),o(d,h,"",s);const f=h.responseText.substring(s&&s.byteLength||0,h.responseText.length);if(s=D8e(s,OZ(f,!0)),r=r||Wf(s),s.length<10||r&&s.length<r+2)return WE(h,()=>o(d,h,"",s));const p=g4(s);return p==="ts"&&s.length<188?WE(h,()=>o(d,h,"",s)):!p&&s.length<376?WE(h,()=>o(d,h,"",s)):o(null,h,p,s)},u=e({uri:t,beforeSend(d){d.overrideMimeType("text/plain; charset=x-user-defined"),d.addEventListener("progress",function({total:h,loaded:f}){return OS(d,null,{statusCode:d.status},l)})}},function(d,h){return OS(u,d,h,l)});return u},{EventTarget:G_e}=he,RV=function(t,e){if(!uX(t,e)||t.sidx&&e.sidx&&(t.sidx.offset!==e.sidx.offset||t.sidx.length!==e.sidx.length))return!1;if(!t.sidx&&e.sidx||t.sidx&&!e.sidx||t.segments&&!e.segments||!t.segments&&e.segments)return!1;if(!t.segments&&!e.segments)return!0;for(let i=0;i<t.segments.length;i++){const n=t.segments[i],s=e.segments[i];if(n.uri!==s.uri)return!1;if(!n.byterange&&!s.byterange)continue;const r=n.byterange,a=s.byterange;if(r&&!a||!r&&a||r.offset!==a.offset||r.length!==a.length)return!1}return!0},D_e=(t,e,i,n)=>{const s=n.attributes.NAME||i;return`placeholder-uri-${t}-${e}-${s}`},M_e=({mainXml:t,srcUrl:e,clientOffset:i,sidxMapping:n,previousManifest:s})=>{const r=a6e(t,{manifestUri:e,clientOffset:i,sidxMapping:n,previousManifest:s});return aX(r,e,D_e),r},Z_e=(t,e)=>{Vh(t,(i,n,s,r)=>{(!e.mediaGroups[n][s]||!(r in e.mediaGroups[n][s]))&&delete t.mediaGroups[n][s][r]})},P_e=(t,e,i)=>{let n=!0,s=Vt(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod,timelineStarts:e.timelineStarts});for(let r=0;r<e.playlists.length;r++){const a=e.playlists[r];if(a.sidx){const l=ib(a.sidx);i&&i[l]&&i[l].sidx&&f4(a,i[l].sidx,a.sidx.resolvedUri)}const o=ZS(s,a,RV);o&&(s=o,n=!1)}return Vh(e,(r,a,o,l)=>{if(r.playlists&&r.playlists.length){const c=r.playlists[0].id,u=ZS(s,r.playlists[0],RV);u&&(s=u,l in s.mediaGroups[a][o]||(s.mediaGroups[a][o][l]=r),s.mediaGroups[a][o][l].playlists[0]=s.playlists[c],n=!1)}}),Z_e(s,e),e.minimumUpdatePeriod!==t.minimumUpdatePeriod&&(n=!1),n?null:s},O_e=(t,e)=>(!t.map&&!e.map||!!(t.map&&e.map&&t.map.byterange.offset===e.map.byterange.offset&&t.map.byterange.length===e.map.byterange.length))&&t.uri===e.uri&&t.byterange.offset===e.byterange.offset&&t.byterange.length===e.byterange.length,IV=(t,e)=>{const i={};for(const n in t){const r=t[n].sidx;if(r){const a=ib(r);if(!e[a])break;const o=e[a].sidxInfo;O_e(o,r)&&(i[a]=e[a])}}return i},X_e=(t,e)=>{let n=IV(t.playlists,e);return Vh(t,(s,r,a,o)=>{if(s.playlists&&s.playlists.length){const l=s.playlists;n=Vt(n,IV(l,e))}}),n};class YS extends G_e{constructor(e,i,n={},s){super(),this.isPaused_=!0,this.mainPlaylistLoader_=s||this,s||(this.isMain_=!0);const{withCredentials:r=!1}=n;if(this.vhs_=i,this.withCredentials=r,this.addMetadataToTextTrack=n.addMetadataToTextTrack,!e)throw new Error("A non-empty playlist URL or object is required");this.on("minimumUpdatePeriod",()=>{this.refreshXml_()}),this.on("mediaupdatetimeout",()=>{this.refreshMedia_(this.media().id)}),this.state="HAVE_NOTHING",this.loadedPlaylists_={},this.logger_=ir("DashPlaylistLoader"),this.isMain_?(this.mainPlaylistLoader_.srcUrl=e,this.mainPlaylistLoader_.sidxMapping_={}):this.childPlaylist_=e}get isPaused(){return this.isPaused_}requestErrored_(e,i,n){if(!this.request)return!0;if(this.request=null,e)return this.error=typeof e=="object"&&!(e instanceof Error)?e:{status:i.status,message:"DASH request error at URL: "+i.uri,response:i.response,code:2,metadata:e.metadata},n&&(this.state=n),this.trigger("error"),!0}addSidxSegments_(e,i,n){const s=e.sidx&&ib(e.sidx);if(!e.sidx||!s||this.mainPlaylistLoader_.sidxMapping_[s]){K.clearTimeout(this.mediaRequest_),this.mediaRequest_=K.setTimeout(()=>n(!1),0);return}const r=F2(e.sidx.resolvedUri),a=(l,c)=>{if(this.requestErrored_(l,c,i))return;const u=this.mainPlaylistLoader_.sidxMapping_,{requestType:d}=c;let h;try{h=f6e(je(c.response).subarray(8))}catch(f){f.metadata=pc({requestType:d,request:c,parseFailure:!0}),this.requestErrored_(f,c,i);return}return u[s]={sidxInfo:e.sidx,sidx:h},f4(e,h,e.sidx.resolvedUri),n(!0)},o="dash-sidx";this.request=W_e(r,this.vhs_.xhr,(l,c,u,d)=>{if(l)return a(l,c);if(!u||u!=="mp4"){const p=u||"unknown";return a({status:c.status,message:`Unsupported ${p} container type for sidx segment at URL: ${r}`,response:"",playlist:e,internal:!0,playlistExclusionDuration:1/0,code:2},c)}const{offset:h,length:f}=e.sidx.byterange;if(d.length>=f+h)return a(l,{response:d.subarray(h,h+f),status:c.status,uri:c.uri});this.request=this.vhs_.xhr({uri:r,responseType:"arraybuffer",requestType:"dash-sidx",headers:XS({byterange:e.sidx.byterange})},a)},o)}dispose(){this.isPaused_=!0,this.trigger("dispose"),this.stopRequest(),this.loadedPlaylists_={},K.clearTimeout(this.minimumUpdatePeriodTimeout_),K.clearTimeout(this.mediaRequest_),K.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.mediaRequest_=null,this.minimumUpdatePeriodTimeout_=null,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.off()}hasPendingRequest(){return this.request||this.mediaRequest_}stopRequest(){if(this.request){const e=this.request;this.request=null,e.onreadystatechange=null,e.abort()}}media(e){if(!e)return this.media_;if(this.state==="HAVE_NOTHING")throw new Error("Cannot switch media playlist from "+this.state);const i=this.state;if(typeof e=="string"){if(!this.mainPlaylistLoader_.main.playlists[e])throw new Error("Unknown playlist URI: "+e);e=this.mainPlaylistLoader_.main.playlists[e]}const n=!this.media_||e.id!==this.media_.id;if(n&&this.loadedPlaylists_[e.id]&&this.loadedPlaylists_[e.id].endList){this.state="HAVE_METADATA",this.media_=e,n&&(this.trigger("mediachanging"),this.trigger("mediachange"));return}n&&(this.media_&&this.trigger("mediachanging"),this.addSidxSegments_(e,i,s=>{this.haveMetadata({startingState:i,playlist:e})}))}haveMetadata({startingState:e,playlist:i}){this.state="HAVE_METADATA",this.loadedPlaylists_[i.id]=i,K.clearTimeout(this.mediaRequest_),this.mediaRequest_=null,this.refreshMedia_(i.id),e==="HAVE_MAIN_MANIFEST"?this.trigger("loadedmetadata"):this.trigger("mediachange")}pause(){this.isPaused_=!0,this.mainPlaylistLoader_.createMupOnMedia_&&(this.off("loadedmetadata",this.mainPlaylistLoader_.createMupOnMedia_),this.mainPlaylistLoader_.createMupOnMedia_=null),this.stopRequest(),K.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null,this.isMain_&&(K.clearTimeout(this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_),this.mainPlaylistLoader_.minimumUpdatePeriodTimeout_=null),this.state==="HAVE_NOTHING"&&(this.started=!1)}load(e){this.isPaused_=!1,K.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=null;const i=this.media();if(e){const n=i?i.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=K.setTimeout(()=>this.load(),n);return}if(!this.started){this.start();return}i&&!i.endList?(this.isMain_&&!this.minimumUpdatePeriodTimeout_&&(this.trigger("minimumUpdatePeriod"),this.updateMinimumUpdatePeriodTimeout_()),this.trigger("mediaupdatetimeout")):this.trigger("loadedplaylist")}start(){if(this.started=!0,!this.isMain_){K.clearTimeout(this.mediaRequest_),this.mediaRequest_=K.setTimeout(()=>this.haveMain_(),0);return}this.requestMain_((e,i)=>{this.haveMain_(),!this.hasPendingRequest()&&!this.media_&&this.media(this.mainPlaylistLoader_.main.playlists[0])})}requestMain_(e){const i={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestrequeststart",metadata:i}),this.request=this.vhs_.xhr({uri:this.mainPlaylistLoader_.srcUrl,withCredentials:this.withCredentials,requestType:"dash-manifest"},(n,s)=>{if(n){const{requestType:a}=s;n.metadata=pc({requestType:a,request:s,error:n})}if(this.requestErrored_(n,s)){this.state==="HAVE_NOTHING"&&(this.started=!1);return}this.trigger({type:"manifestrequestcomplete",metadata:i});const r=s.responseText!==this.mainPlaylistLoader_.mainXml_;if(this.mainPlaylistLoader_.mainXml_=s.responseText,s.responseHeaders&&s.responseHeaders.date?this.mainLoaded_=Date.parse(s.responseHeaders.date):this.mainLoaded_=Date.now(),this.mainPlaylistLoader_.srcUrl=F2(this.mainPlaylistLoader_.srcUrl,s),r){this.handleMain_(),this.syncClientServerClock_(()=>e(s,r));return}return e(s,r)})}syncClientServerClock_(e){const i=o6e(this.mainPlaylistLoader_.mainXml_);if(i===null)return this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e();if(i.method==="DIRECT")return this.mainPlaylistLoader_.clientOffset_=i.value-Date.now(),e();this.request=this.vhs_.xhr({uri:qn(this.mainPlaylistLoader_.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials,requestType:"dash-clock-sync"},(n,s)=>{if(!this.request)return;if(n){const{requestType:a}=s;return this.error.metadata=pc({requestType:a,request:s,error:n}),this.mainPlaylistLoader_.clientOffset_=this.mainLoaded_-Date.now(),e()}let r;i.method==="HEAD"?!s.responseHeaders||!s.responseHeaders.date?r=this.mainLoaded_:r=Date.parse(s.responseHeaders.date):r=Date.parse(s.responseText),this.mainPlaylistLoader_.clientOffset_=r-Date.now(),e()})}haveMain_(){this.state="HAVE_MAIN_MANIFEST",this.isMain_?this.trigger("loadedplaylist"):this.media_||this.media(this.childPlaylist_)}handleMain_(){K.clearTimeout(this.mediaRequest_),this.mediaRequest_=null;const e=this.mainPlaylistLoader_.main,i={manifestInfo:{uri:this.mainPlaylistLoader_.srcUrl}};this.trigger({type:"manifestparsestart",metadata:i});let n;try{n=M_e({mainXml:this.mainPlaylistLoader_.mainXml_,srcUrl:this.mainPlaylistLoader_.srcUrl,clientOffset:this.mainPlaylistLoader_.clientOffset_,sidxMapping:this.mainPlaylistLoader_.sidxMapping_,previousManifest:e})}catch(r){this.error=r,this.error.metadata={errorType:he.Error.StreamingDashManifestParserError,error:r},this.trigger("error")}e&&(n=P_e(e,n,this.mainPlaylistLoader_.sidxMapping_)),this.mainPlaylistLoader_.main=n||e;const s=this.mainPlaylistLoader_.main.locations&&this.mainPlaylistLoader_.main.locations[0];if(s&&s!==this.mainPlaylistLoader_.srcUrl&&(this.mainPlaylistLoader_.srcUrl=s),(!e||n&&n.minimumUpdatePeriod!==e.minimumUpdatePeriod)&&this.updateMinimumUpdatePeriodTimeout_(),this.addEventStreamToMetadataTrack_(n),n){const{duration:r,endList:a}=n,o=[];n.playlists.forEach(c=>{o.push({id:c.id,bandwidth:c.attributes.BANDWIDTH,resolution:c.attributes.RESOLUTION,codecs:c.attributes.CODECS})});const l={duration:r,isLive:!a,renditions:o};i.parsedManifest=l,this.trigger({type:"manifestparsecomplete",metadata:i})}return!!n}updateMinimumUpdatePeriodTimeout_(){const e=this.mainPlaylistLoader_;e.createMupOnMedia_&&(e.off("loadedmetadata",e.createMupOnMedia_),e.createMupOnMedia_=null),e.minimumUpdatePeriodTimeout_&&(K.clearTimeout(e.minimumUpdatePeriodTimeout_),e.minimumUpdatePeriodTimeout_=null);let i=e.main&&e.main.minimumUpdatePeriod;if(i===0&&(e.media()?i=e.media().targetDuration*1e3:(e.createMupOnMedia_=e.updateMinimumUpdatePeriodTimeout_,e.one("loadedmetadata",e.createMupOnMedia_))),typeof i!="number"||i<=0){i<0&&this.logger_(`found invalid minimumUpdatePeriod of ${i}, not setting a timeout`);return}this.createMUPTimeout_(i)}createMUPTimeout_(e){const i=this.mainPlaylistLoader_;i.minimumUpdatePeriodTimeout_=K.setTimeout(()=>{i.minimumUpdatePeriodTimeout_=null,i.trigger("minimumUpdatePeriod"),i.createMUPTimeout_(e)},e)}refreshXml_(){this.requestMain_((e,i)=>{i&&(this.media_&&(this.media_=this.mainPlaylistLoader_.main.playlists[this.media_.id]),this.mainPlaylistLoader_.sidxMapping_=X_e(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.sidxMapping_),this.addSidxSegments_(this.media(),this.state,n=>{this.refreshMedia_(this.media().id)}))})}refreshMedia_(e){if(!e)throw new Error("refreshMedia_ must take a media id");this.media_&&this.isMain_&&this.handleMain_();const i=this.mainPlaylistLoader_.main.playlists,n=!this.media_||this.media_!==i[e];if(n?this.media_=i[e]:this.trigger("playlistunchanged"),!this.mediaUpdateTimeout){const s=()=>{this.media().endList||(this.mediaUpdateTimeout=K.setTimeout(()=>{this.trigger("mediaupdatetimeout"),s()},PS(this.media(),!!n)))};s()}this.trigger("loadedplaylist")}addEventStreamToMetadataTrack_(e){if(e&&this.mainPlaylistLoader_.main.eventStream){const i=this.mainPlaylistLoader_.main.eventStream.map(n=>({cueTime:n.start,frames:[{data:n.messageData}]}));this.addMetadataToTextTrack("EventStream",i,this.mainPlaylistLoader_.main.duration)}}getKeyIdSet(e){if(e.contentProtection){const i=new Set;for(const n in e.contentProtection){const s=e.contentProtection[n].attributes["cenc:default_KID"];s&&i.add(s.replace(/-/g,"").toLowerCase())}return i}}}var qi={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,BACK_BUFFER_LENGTH:30,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:16,BUFFER_LOW_WATER_LINE_RATE:1,BUFFER_HIGH_WATER_LINE:30};const Y_e=t=>{const e=new Uint8Array(new ArrayBuffer(t.length));for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e.buffer},yX=function(t){return t.on=t.addEventListener,t.off=t.removeEventListener,t},$_e=function(t){try{return URL.createObjectURL(new Blob([t],{type:"application/javascript"}))}catch{const i=new BlobBuilder;return i.append(t),URL.createObjectURL(i.getBlob())}},bX=function(t){return function(){const e=$_e(t),i=yX(new Worker(e));i.objURL=e;const n=i.terminate;return i.on=i.addEventListener,i.off=i.removeEventListener,i.terminate=function(){return URL.revokeObjectURL(e),n.call(this)},i}},vX=function(t){return`var browserWorkerPolyFill = ${yX.toString()};
browserWorkerPolyFill(self);
`+t},EX=function(t){return t.toString().replace(/^function.+?{/,"").slice(0,-1)},K_e=vX(EX(function(){var t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Tc<"u"?Tc:typeof self<"u"?self:{},e=function(){this.init=function(){var y={};this.on=function(S,C){y[S]||(y[S]=[]),y[S]=y[S].concat(C)},this.off=function(S,C){var T;return y[S]?(T=y[S].indexOf(C),y[S]=y[S].slice(),y[S].splice(T,1),T>-1):!1},this.trigger=function(S){var C,T,w,k;if(C=y[S],!!C)if(arguments.length===2)for(w=C.length,T=0;T<w;++T)C[T].call(this,arguments[1]);else{for(k=[],T=arguments.length,T=1;T<arguments.length;++T)k.push(arguments[T]);for(w=C.length,T=0;T<w;++T)C[T].apply(this,k)}},this.dispose=function(){y={}}}};e.prototype.pipe=function(y){return this.on("data",function(S){y.push(S)}),this.on("done",function(S){y.flush(S)}),this.on("partialdone",function(S){y.partialFlush(S)}),this.on("endedtimeline",function(S){y.endTimeline(S)}),this.on("reset",function(S){y.reset(S)}),y},e.prototype.push=function(y){this.trigger("data",y)},e.prototype.flush=function(y){this.trigger("done",y)},e.prototype.partialFlush=function(y){this.trigger("partialdone",y)},e.prototype.endTimeline=function(y){this.trigger("endedtimeline",y)},e.prototype.reset=function(y){this.trigger("reset",y)};var i=e,n=Math.pow(2,32),s=function(y){var S=new DataView(y.buffer,y.byteOffset,y.byteLength),C;return S.getBigUint64?(C=S.getBigUint64(0),C<Number.MAX_SAFE_INTEGER?Number(C):C):S.getUint32(0)*n+S.getUint32(4)},r={getUint64:s,MAX_UINT32:n},a=r.MAX_UINT32,o,l,c,u,d,h,f,p,m,v,g,E,A,R,I,L,F,B,G,Z,j,pe,J,me,de,ye,Le,ge,H,ee,we,M,Q,se,ne,Ie;(function(){var y;if(J={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],pasp:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},!(typeof Uint8Array>"u")){for(y in J)J.hasOwnProperty(y)&&(J[y]=[y.charCodeAt(0),y.charCodeAt(1),y.charCodeAt(2),y.charCodeAt(3)]);me=new Uint8Array([105,115,111,109]),ye=new Uint8Array([97,118,99,49]),de=new Uint8Array([0,0,0,1]),Le=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),ge=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),H={video:Le,audio:ge},M=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),we=new Uint8Array([0,0,0,0,0,0,0,0]),Q=new Uint8Array([0,0,0,0,0,0,0,0]),se=Q,ne=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Ie=Q,ee=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}})(),o=function(y){var S=[],C=0,T,w,k;for(T=1;T<arguments.length;T++)S.push(arguments[T]);for(T=S.length;T--;)C+=S[T].byteLength;for(w=new Uint8Array(C+8),k=new DataView(w.buffer,w.byteOffset,w.byteLength),k.setUint32(0,w.byteLength),w.set(y,4),T=0,C=8;T<S.length;T++)w.set(S[T],C),C+=S[T].byteLength;return w},l=function(){return o(J.dinf,o(J.dref,M))},c=function(y){return o(J.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,y.audioobjecttype<<3|y.samplingfrequencyindex>>>1,y.samplingfrequencyindex<<7|y.channelcount<<3,6,1,2]))},u=function(){return o(J.ftyp,me,de,me,ye)},L=function(y){return o(J.hdlr,H[y])},d=function(y){return o(J.mdat,y)},I=function(y){var S=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,y.duration>>>24&255,y.duration>>>16&255,y.duration>>>8&255,y.duration&255,85,196,0,0]);return y.samplerate&&(S[12]=y.samplerate>>>24&255,S[13]=y.samplerate>>>16&255,S[14]=y.samplerate>>>8&255,S[15]=y.samplerate&255),o(J.mdhd,S)},R=function(y){return o(J.mdia,I(y),L(y.type),f(y))},h=function(y){return o(J.mfhd,new Uint8Array([0,0,0,0,(y&4278190080)>>24,(y&16711680)>>16,(y&65280)>>8,y&255]))},f=function(y){return o(J.minf,y.type==="video"?o(J.vmhd,ee):o(J.smhd,we),l(),B(y))},p=function(y,S){for(var C=[],T=S.length;T--;)C[T]=Z(S[T]);return o.apply(null,[J.moof,h(y)].concat(C))},m=function(y){for(var S=y.length,C=[];S--;)C[S]=E(y[S]);return o.apply(null,[J.moov,g(4294967295)].concat(C).concat(v(y)))},v=function(y){for(var S=y.length,C=[];S--;)C[S]=j(y[S]);return o.apply(null,[J.mvex].concat(C))},g=function(y){var S=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(y&4278190080)>>24,(y&16711680)>>16,(y&65280)>>8,y&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return o(J.mvhd,S)},F=function(y){var S=y.samples||[],C=new Uint8Array(4+S.length),T,w;for(w=0;w<S.length;w++)T=S[w].flags,C[w+4]=T.dependsOn<<4|T.isDependedOn<<2|T.hasRedundancy;return o(J.sdtp,C)},B=function(y){return o(J.stbl,G(y),o(J.stts,Ie),o(J.stsc,se),o(J.stsz,ne),o(J.stco,Q))},function(){var y,S;G=function(C){return o(J.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),C.type==="video"?y(C):S(C))},y=function(C){var T=C.sps||[],w=C.pps||[],k=[],D=[],P,Y;for(P=0;P<T.length;P++)k.push((T[P].byteLength&65280)>>>8),k.push(T[P].byteLength&255),k=k.concat(Array.prototype.slice.call(T[P]));for(P=0;P<w.length;P++)D.push((w[P].byteLength&65280)>>>8),D.push(w[P].byteLength&255),D=D.concat(Array.prototype.slice.call(w[P]));if(Y=[J.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(C.width&65280)>>8,C.width&255,(C.height&65280)>>8,C.height&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o(J.avcC,new Uint8Array([1,C.profileIdc,C.profileCompatibility,C.levelIdc,255].concat([T.length],k,[w.length],D))),o(J.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192]))],C.sarRatio){var z=C.sarRatio[0],ie=C.sarRatio[1];Y.push(o(J.pasp,new Uint8Array([(z&4278190080)>>24,(z&16711680)>>16,(z&65280)>>8,z&255,(ie&4278190080)>>24,(ie&16711680)>>16,(ie&65280)>>8,ie&255])))}return o.apply(null,Y)},S=function(C){return o(J.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(C.channelcount&65280)>>8,C.channelcount&255,(C.samplesize&65280)>>8,C.samplesize&255,0,0,0,0,(C.samplerate&65280)>>8,C.samplerate&255,0,0]),c(C))}}(),A=function(y){var S=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(y.id&4278190080)>>24,(y.id&16711680)>>16,(y.id&65280)>>8,y.id&255,0,0,0,0,(y.duration&4278190080)>>24,(y.duration&16711680)>>16,(y.duration&65280)>>8,y.duration&255,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(y.width&65280)>>8,y.width&255,0,0,(y.height&65280)>>8,y.height&255,0,0]);return o(J.tkhd,S)},Z=function(y){var S,C,T,w,k,D,P;return S=o(J.tfhd,new Uint8Array([0,0,0,58,(y.id&4278190080)>>24,(y.id&16711680)>>16,(y.id&65280)>>8,y.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),D=Math.floor(y.baseMediaDecodeTime/a),P=Math.floor(y.baseMediaDecodeTime%a),C=o(J.tfdt,new Uint8Array([1,0,0,0,D>>>24&255,D>>>16&255,D>>>8&255,D&255,P>>>24&255,P>>>16&255,P>>>8&255,P&255])),k=92,y.type==="audio"?(T=pe(y,k),o(J.traf,S,C,T)):(w=F(y),T=pe(y,w.length+k),o(J.traf,S,C,T,w))},E=function(y){return y.duration=y.duration||4294967295,o(J.trak,A(y),R(y))},j=function(y){var S=new Uint8Array([0,0,0,0,(y.id&4278190080)>>24,(y.id&16711680)>>16,(y.id&65280)>>8,y.id&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return y.type!=="video"&&(S[S.length-1]=0),o(J.trex,S)},function(){var y,S,C;C=function(T,w){var k=0,D=0,P=0,Y=0;return T.length&&(T[0].duration!==void 0&&(k=1),T[0].size!==void 0&&(D=2),T[0].flags!==void 0&&(P=4),T[0].compositionTimeOffset!==void 0&&(Y=8)),[0,0,k|D|P|Y,1,(T.length&4278190080)>>>24,(T.length&16711680)>>>16,(T.length&65280)>>>8,T.length&255,(w&4278190080)>>>24,(w&16711680)>>>16,(w&65280)>>>8,w&255]},S=function(T,w){var k,D,P,Y,z,ie;for(Y=T.samples||[],w+=20+16*Y.length,P=C(Y,w),D=new Uint8Array(P.length+Y.length*16),D.set(P),k=P.length,ie=0;ie<Y.length;ie++)z=Y[ie],D[k++]=(z.duration&4278190080)>>>24,D[k++]=(z.duration&16711680)>>>16,D[k++]=(z.duration&65280)>>>8,D[k++]=z.duration&255,D[k++]=(z.size&4278190080)>>>24,D[k++]=(z.size&16711680)>>>16,D[k++]=(z.size&65280)>>>8,D[k++]=z.size&255,D[k++]=z.flags.isLeading<<2|z.flags.dependsOn,D[k++]=z.flags.isDependedOn<<6|z.flags.hasRedundancy<<4|z.flags.paddingValue<<1|z.flags.isNonSyncSample,D[k++]=z.flags.degradationPriority&61440,D[k++]=z.flags.degradationPriority&15,D[k++]=(z.compositionTimeOffset&4278190080)>>>24,D[k++]=(z.compositionTimeOffset&16711680)>>>16,D[k++]=(z.compositionTimeOffset&65280)>>>8,D[k++]=z.compositionTimeOffset&255;return o(J.trun,D)},y=function(T,w){var k,D,P,Y,z,ie;for(Y=T.samples||[],w+=20+8*Y.length,P=C(Y,w),k=new Uint8Array(P.length+Y.length*8),k.set(P),D=P.length,ie=0;ie<Y.length;ie++)z=Y[ie],k[D++]=(z.duration&4278190080)>>>24,k[D++]=(z.duration&16711680)>>>16,k[D++]=(z.duration&65280)>>>8,k[D++]=z.duration&255,k[D++]=(z.size&4278190080)>>>24,k[D++]=(z.size&16711680)>>>16,k[D++]=(z.size&65280)>>>8,k[D++]=z.size&255;return o(J.trun,k)},pe=function(T,w){return T.type==="audio"?y(T,w):S(T,w)}}();var ke={ftyp:u,mdat:d,moof:p,moov:m,initSegment:function(y){var S=u(),C=m(y),T;return T=new Uint8Array(S.byteLength+C.byteLength),T.set(S),T.set(C,S.byteLength),T}},De=function(y){var S,C,T=[],w=[];for(w.byteLength=0,w.nalCount=0,w.duration=0,T.byteLength=0,S=0;S<y.length;S++)C=y[S],C.nalUnitType==="access_unit_delimiter_rbsp"?(T.length&&(T.duration=C.dts-T.dts,w.byteLength+=T.byteLength,w.nalCount+=T.length,w.duration+=T.duration,w.push(T)),T=[C],T.byteLength=C.data.byteLength,T.pts=C.pts,T.dts=C.dts):(C.nalUnitType==="slice_layer_without_partitioning_rbsp_idr"&&(T.keyFrame=!0),T.duration=C.dts-T.dts,T.byteLength+=C.data.byteLength,T.push(C));return w.length&&(!T.duration||T.duration<=0)&&(T.duration=w[w.length-1].duration),w.byteLength+=T.byteLength,w.nalCount+=T.length,w.duration+=T.duration,w.push(T),w},$e=function(y){var S,C,T=[],w=[];for(T.byteLength=0,T.nalCount=0,T.duration=0,T.pts=y[0].pts,T.dts=y[0].dts,w.byteLength=0,w.nalCount=0,w.duration=0,w.pts=y[0].pts,w.dts=y[0].dts,S=0;S<y.length;S++)C=y[S],C.keyFrame?(T.length&&(w.push(T),w.byteLength+=T.byteLength,w.nalCount+=T.nalCount,w.duration+=T.duration),T=[C],T.nalCount=C.length,T.byteLength=C.byteLength,T.pts=C.pts,T.dts=C.dts,T.duration=C.duration):(T.duration+=C.duration,T.nalCount+=C.length,T.byteLength+=C.byteLength,T.push(C));return w.length&&T.duration<=0&&(T.duration=w[w.length-1].duration),w.byteLength+=T.byteLength,w.nalCount+=T.nalCount,w.duration+=T.duration,w.push(T),w},Je=function(y){var S;return!y[0][0].keyFrame&&y.length>1&&(S=y.shift(),y.byteLength-=S.byteLength,y.nalCount-=S.nalCount,y[0][0].dts=S.dts,y[0][0].pts=S.pts,y[0][0].duration+=S.duration),y},ce=function(){return{size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}}},$=function(y,S){var C=ce();return C.dataOffset=S,C.compositionTimeOffset=y.pts-y.dts,C.duration=y.duration,C.size=4*y.length,C.size+=y.byteLength,y.keyFrame&&(C.flags.dependsOn=2,C.flags.isNonSyncSample=0),C},te=function(y,S){var C,T,w,k,D,P=S||0,Y=[];for(C=0;C<y.length;C++)for(k=y[C],T=0;T<k.length;T++)D=k[T],w=$(D,P),P+=w.size,Y.push(w);return Y},ue=function(y){var S,C,T,w,k,D,P=0,Y=y.byteLength,z=y.nalCount,ie=Y+4*z,Se=new Uint8Array(ie),Ze=new DataView(Se.buffer);for(S=0;S<y.length;S++)for(w=y[S],C=0;C<w.length;C++)for(k=w[C],T=0;T<k.length;T++)D=k[T],Ze.setUint32(P,D.data.byteLength),P+=4,Se.set(D.data,P),P+=D.data.byteLength;return Se},be=function(y,S){var C,T=S||0,w=[];return C=$(y,T),w.push(C),w},xe=function(y){var S,C,T=0,w=y.byteLength,k=y.length,D=w+4*k,P=new Uint8Array(D),Y=new DataView(P.buffer);for(S=0;S<y.length;S++)C=y[S],Y.setUint32(T,C.data.byteLength),T+=4,P.set(C.data,T),T+=C.data.byteLength;return P},Ge={groupNalsIntoFrames:De,groupFramesIntoGops:$e,extendFirstKeyFrame:Je,generateSampleTable:te,concatenateNalData:ue,generateSampleTableForFrame:be,concatenateNalDataForFrame:xe},Me=[33,16,5,32,164,27],le=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Pe=function(y){for(var S=[];y--;)S.push(0);return S},ht=function(y){return Object.keys(y).reduce(function(S,C){return S[C]=new Uint8Array(y[C].reduce(function(T,w){return T.concat(w)},[])),S},{})},rt,st=function(){if(!rt){var y={96e3:[Me,[227,64],Pe(154),[56]],88200:[Me,[231],Pe(170),[56]],64e3:[Me,[248,192],Pe(240),[56]],48e3:[Me,[255,192],Pe(268),[55,148,128],Pe(54),[112]],44100:[Me,[255,192],Pe(268),[55,163,128],Pe(84),[112]],32e3:[Me,[255,192],Pe(268),[55,234],Pe(226),[112]],24e3:[Me,[255,192],Pe(268),[55,255,128],Pe(268),[111,112],Pe(126),[224]],16e3:[Me,[255,192],Pe(268),[55,255,128],Pe(268),[111,255],Pe(269),[223,108],Pe(195),[1,192]],12e3:[le,Pe(268),[3,127,248],Pe(268),[6,255,240],Pe(268),[13,255,224],Pe(268),[27,253,128],Pe(259),[56]],11025:[le,Pe(268),[3,127,248],Pe(268),[6,255,240],Pe(268),[13,255,224],Pe(268),[27,255,192],Pe(268),[55,175,128],Pe(108),[112]],8e3:[le,Pe(268),[3,121,16],Pe(47),[7]]};rt=ht(y)}return rt},He=9e4,bt,tt,gt,Ft,Yt,W,_;bt=function(y){return y*He},tt=function(y,S){return y*S},gt=function(y){return y/He},Ft=function(y,S){return y/S},Yt=function(y,S){return bt(Ft(y,S))},W=function(y,S){return tt(gt(y),S)},_=function(y,S,C){return gt(C?y:y-S)};var N={ONE_SECOND_IN_TS:He,secondsToVideoTs:bt,secondsToAudioTs:tt,videoTsToSeconds:gt,audioTsToSeconds:Ft,audioTsToVideoTs:Yt,videoTsToAudioTs:W,metadataTsToSeconds:_},X=st,q=N,ae=function(y){var S,C,T=0;for(S=0;S<y.length;S++)C=y[S],T+=C.data.byteLength;return T},Ce=function(y,S,C,T){var w,k=0,D=0,P=0,Y=0,z,ie,Se;if(S.length&&(w=q.audioTsToVideoTs(y.baseMediaDecodeTime,y.samplerate),k=Math.ceil(q.ONE_SECOND_IN_TS/(y.samplerate/1024)),C&&T&&(D=w-Math.max(C,T),P=Math.floor(D/k),Y=P*k),!(P<1||Y>q.ONE_SECOND_IN_TS/2))){for(z=X()[y.samplerate],z||(z=S[0].data),ie=0;ie<P;ie++)Se=S[0],S.splice(0,0,{data:z,dts:Se.dts-k,pts:Se.pts-k});return y.baseMediaDecodeTime-=Math.floor(q.videoTsToAudioTs(Y,y.samplerate)),Y}},ut=function(y,S,C){return S.minSegmentDts>=C?y:(S.minSegmentDts=1/0,y.filter(function(T){return T.dts>=C?(S.minSegmentDts=Math.min(S.minSegmentDts,T.dts),S.minSegmentPts=S.minSegmentDts,!0):!1}))},jt=function(y){var S,C,T=[];for(S=0;S<y.length;S++)C=y[S],T.push({size:C.data.byteLength,duration:1024});return T},Ut=function(y){var S,C,T=0,w=new Uint8Array(ae(y));for(S=0;S<y.length;S++)C=y[S],w.set(C.data,T),T+=C.data.byteLength;return w},$t={prefixWithSilence:Ce,trimAdtsFramesByEarliestDts:ut,generateSampleTable:jt,concatenateFrameData:Ut},Rt=N.ONE_SECOND_IN_TS,wK=function(y,S){typeof S.pts=="number"&&(y.timelineStartInfo.pts===void 0&&(y.timelineStartInfo.pts=S.pts),y.minSegmentPts===void 0?y.minSegmentPts=S.pts:y.minSegmentPts=Math.min(y.minSegmentPts,S.pts),y.maxSegmentPts===void 0?y.maxSegmentPts=S.pts:y.maxSegmentPts=Math.max(y.maxSegmentPts,S.pts)),typeof S.dts=="number"&&(y.timelineStartInfo.dts===void 0&&(y.timelineStartInfo.dts=S.dts),y.minSegmentDts===void 0?y.minSegmentDts=S.dts:y.minSegmentDts=Math.min(y.minSegmentDts,S.dts),y.maxSegmentDts===void 0?y.maxSegmentDts=S.dts:y.maxSegmentDts=Math.max(y.maxSegmentDts,S.dts))},_K=function(y){delete y.minSegmentDts,delete y.maxSegmentDts,delete y.minSegmentPts,delete y.maxSegmentPts},xK=function(y,S){var C,T,w=y.minSegmentDts;return S||(w-=y.timelineStartInfo.dts),C=y.timelineStartInfo.baseMediaDecodeTime,C+=w,C=Math.max(0,C),y.type==="audio"&&(T=y.samplerate/Rt,C*=T,C=Math.floor(C)),C},NK={clearDtsInfo:_K,calculateTrackBaseMediaDecodeTime:xK,collectDtsInfo:wK},$9=4,VK=128,LK=function(y){for(var S=0,C={payloadType:-1,payloadSize:0},T=0,w=0;S<y.byteLength&&y[S]!==VK;){for(;y[S]===255;)T+=255,S++;for(T+=y[S++];y[S]===255;)w+=255,S++;if(w+=y[S++],!C.payload&&T===$9){var k=String.fromCharCode(y[S+3],y[S+4],y[S+5],y[S+6]);if(k==="GA94"){C.payloadType=T,C.payloadSize=w,C.payload=y.subarray(S,S+w);break}else C.payload=void 0}S+=w,T=0,w=0}return C},kK=function(y){return y.payload[0]!==181||(y.payload[1]<<8|y.payload[2])!==49||String.fromCharCode(y.payload[3],y.payload[4],y.payload[5],y.payload[6])!=="GA94"||y.payload[7]!==3?null:y.payload.subarray(8,y.payload.length-1)},FK=function(y,S){var C=[],T,w,k,D;if(!(S[0]&64))return C;for(w=S[0]&31,T=0;T<w;T++)k=T*3,D={type:S[k+2]&3,pts:y},S[k+2]&4&&(D.ccData=S[k+3]<<8|S[k+4],C.push(D));return C},UK=function(y){for(var S=y.byteLength,C=[],T=1,w,k;T<S-2;)y[T]===0&&y[T+1]===0&&y[T+2]===3?(C.push(T+2),T+=2):T++;if(C.length===0)return y;w=S-C.length,k=new Uint8Array(w);var D=0;for(T=0;T<w;D++,T++)D===C[0]&&(D++,C.shift()),k[T]=y[D];return k},K9={parseSei:LK,parseUserData:kK,parseCaptionPackets:FK,discardEmulationPreventionBytes:UK,USER_DATA_REGISTERED_ITU_T_T35:$9},kb=i,D0=K9,Kn=function(y){y=y||{},Kn.prototype.init.call(this),this.parse708captions_=typeof y.parse708captions=="boolean"?y.parse708captions:!0,this.captionPackets_=[],this.ccStreams_=[new oi(0,0),new oi(0,1),new oi(1,0),new oi(1,1)],this.parse708captions_&&(this.cc708Stream_=new Kt({captionServices:y.captionServices})),this.reset(),this.ccStreams_.forEach(function(S){S.on("data",this.trigger.bind(this,"data")),S.on("partialdone",this.trigger.bind(this,"partialdone")),S.on("done",this.trigger.bind(this,"done"))},this),this.parse708captions_&&(this.cc708Stream_.on("data",this.trigger.bind(this,"data")),this.cc708Stream_.on("partialdone",this.trigger.bind(this,"partialdone")),this.cc708Stream_.on("done",this.trigger.bind(this,"done")))};Kn.prototype=new kb,Kn.prototype.push=function(y){var S,C,T;if(y.nalUnitType==="sei_rbsp"&&(S=D0.parseSei(y.escapedRBSP),!!S.payload&&S.payloadType===D0.USER_DATA_REGISTERED_ITU_T_T35&&(C=D0.parseUserData(S),!!C))){if(y.dts<this.latestDts_){this.ignoreNextEqualDts_=!0;return}else if(y.dts===this.latestDts_&&this.ignoreNextEqualDts_){this.numSameDts_--,this.numSameDts_||(this.ignoreNextEqualDts_=!1);return}T=D0.parseCaptionPackets(y.pts,C),this.captionPackets_=this.captionPackets_.concat(T),this.latestDts_!==y.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=y.dts}},Kn.prototype.flushCCStreams=function(y){this.ccStreams_.forEach(function(S){return y==="flush"?S.flush():S.partialFlush()},this)},Kn.prototype.flushStream=function(y){if(!this.captionPackets_.length){this.flushCCStreams(y);return}this.captionPackets_.forEach(function(S,C){S.presortIndex=C}),this.captionPackets_.sort(function(S,C){return S.pts===C.pts?S.presortIndex-C.presortIndex:S.pts-C.pts}),this.captionPackets_.forEach(function(S){S.type<2?this.dispatchCea608Packet(S):this.dispatchCea708Packet(S)},this),this.captionPackets_.length=0,this.flushCCStreams(y)},Kn.prototype.flush=function(){return this.flushStream("flush")},Kn.prototype.partialFlush=function(){return this.flushStream("partialFlush")},Kn.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(y){y.reset()})},Kn.prototype.dispatchCea608Packet=function(y){this.setsTextOrXDSActive(y)?this.activeCea608Channel_[y.type]=null:this.setsChannel1Active(y)?this.activeCea608Channel_[y.type]=0:this.setsChannel2Active(y)&&(this.activeCea608Channel_[y.type]=1),this.activeCea608Channel_[y.type]!==null&&this.ccStreams_[(y.type<<1)+this.activeCea608Channel_[y.type]].push(y)},Kn.prototype.setsChannel1Active=function(y){return(y.ccData&30720)===4096},Kn.prototype.setsChannel2Active=function(y){return(y.ccData&30720)===6144},Kn.prototype.setsTextOrXDSActive=function(y){return(y.ccData&28928)===256||(y.ccData&30974)===4138||(y.ccData&30974)===6186},Kn.prototype.dispatchCea708Packet=function(y){this.parse708captions_&&this.cc708Stream_.push(y)};var BK={127:9834,4128:32,4129:160,4133:8230,4138:352,4140:338,4144:9608,4145:8216,4146:8217,4147:8220,4148:8221,4149:8226,4153:8482,4154:353,4156:339,4157:8480,4159:376,4214:8539,4215:8540,4216:8541,4217:8542,4218:9168,4219:9124,4220:9123,4221:9135,4222:9126,4223:9121,4256:12600},WK=function(y){var S=BK[y]||y;return y&4096&&y===S?"":String.fromCharCode(S)},M0=function(y){return 32<=y&&y<=127||160<=y&&y<=255},Ea=function(y){this.windowNum=y,this.reset()};Ea.prototype.reset=function(){this.clearText(),this.pendingNewLine=!1,this.winAttr={},this.penAttr={},this.penLoc={},this.penColor={},this.visible=0,this.rowLock=0,this.columnLock=0,this.priority=0,this.relativePositioning=0,this.anchorVertical=0,this.anchorHorizontal=0,this.anchorPoint=0,this.rowCount=1,this.virtualRowCount=this.rowCount+1,this.columnCount=41,this.windowStyle=0,this.penStyle=0},Ea.prototype.getText=function(){return this.rows.join(`
`)},Ea.prototype.clearText=function(){this.rows=[""],this.rowIdx=0},Ea.prototype.newLine=function(y){for(this.rows.length>=this.virtualRowCount&&typeof this.beforeRowOverflow=="function"&&this.beforeRowOverflow(y),this.rows.length>0&&(this.rows.push(""),this.rowIdx++);this.rows.length>this.virtualRowCount;)this.rows.shift(),this.rowIdx--},Ea.prototype.isEmpty=function(){return this.rows.length===0?!0:this.rows.length===1?this.rows[0]==="":!1},Ea.prototype.addText=function(y){this.rows[this.rowIdx]+=y},Ea.prototype.backspace=function(){if(!this.isEmpty()){var y=this.rows[this.rowIdx];this.rows[this.rowIdx]=y.substr(0,y.length-1)}};var Z0=function(y,S,C){this.serviceNum=y,this.text="",this.currentWindow=new Ea(-1),this.windows=[],this.stream=C,typeof S=="string"&&this.createTextDecoder(S)};Z0.prototype.init=function(y,S){this.startPts=y;for(var C=0;C<8;C++)this.windows[C]=new Ea(C),typeof S=="function"&&(this.windows[C].beforeRowOverflow=S)},Z0.prototype.setCurrentWindow=function(y){this.currentWindow=this.windows[y]},Z0.prototype.createTextDecoder=function(y){if(typeof TextDecoder>"u")this.stream.trigger("log",{level:"warn",message:"The `encoding` option is unsupported without TextDecoder support"});else try{this.textDecoder_=new TextDecoder(y)}catch(S){this.stream.trigger("log",{level:"warn",message:"TextDecoder could not be created with "+y+" encoding. "+S})}};var Kt=function(y){y=y||{},Kt.prototype.init.call(this);var S=this,C=y.captionServices||{},T={},w;Object.keys(C).forEach(k=>{w=C[k],/^SERVICE/.test(k)&&(T[k]=w.encoding)}),this.serviceEncodings=T,this.current708Packet=null,this.services={},this.push=function(k){k.type===3?(S.new708Packet(),S.add708Bytes(k)):(S.current708Packet===null&&S.new708Packet(),S.add708Bytes(k))}};Kt.prototype=new kb,Kt.prototype.new708Packet=function(){this.current708Packet!==null&&this.push708Packet(),this.current708Packet={data:[],ptsVals:[]}},Kt.prototype.add708Bytes=function(y){var S=y.ccData,C=S>>>8,T=S&255;this.current708Packet.ptsVals.push(y.pts),this.current708Packet.data.push(C),this.current708Packet.data.push(T)},Kt.prototype.push708Packet=function(){var y=this.current708Packet,S=y.data,C=null,T=null,w=0,k=S[w++];for(y.seq=k>>6,y.sizeCode=k&63;w<S.length;w++)k=S[w++],C=k>>5,T=k&31,C===7&&T>0&&(k=S[w++],C=k),this.pushServiceBlock(C,w,T),T>0&&(w+=T-1)},Kt.prototype.pushServiceBlock=function(y,S,C){var T,w=S,k=this.current708Packet.data,D=this.services[y];for(D||(D=this.initService(y,w));w<S+C&&w<k.length;w++)T=k[w],M0(T)?w=this.handleText(w,D):T===24?w=this.multiByteCharacter(w,D):T===16?w=this.extendedCommands(w,D):128<=T&&T<=135?w=this.setCurrentWindow(w,D):152<=T&&T<=159?w=this.defineWindow(w,D):T===136?w=this.clearWindows(w,D):T===140?w=this.deleteWindows(w,D):T===137?w=this.displayWindows(w,D):T===138?w=this.hideWindows(w,D):T===139?w=this.toggleWindows(w,D):T===151?w=this.setWindowAttributes(w,D):T===144?w=this.setPenAttributes(w,D):T===145?w=this.setPenColor(w,D):T===146?w=this.setPenLocation(w,D):T===143?D=this.reset(w,D):T===8?D.currentWindow.backspace():T===12?D.currentWindow.clearText():T===13?D.currentWindow.pendingNewLine=!0:T===14?D.currentWindow.clearText():T===141&&w++},Kt.prototype.extendedCommands=function(y,S){var C=this.current708Packet.data,T=C[++y];return M0(T)&&(y=this.handleText(y,S,{isExtended:!0})),y},Kt.prototype.getPts=function(y){return this.current708Packet.ptsVals[Math.floor(y/2)]},Kt.prototype.initService=function(y,S){var T="SERVICE"+y,C=this,T,w;return T in this.serviceEncodings&&(w=this.serviceEncodings[T]),this.services[y]=new Z0(y,w,C),this.services[y].init(this.getPts(S),function(k){C.flushDisplayed(k,C.services[y])}),this.services[y]},Kt.prototype.handleText=function(y,S,C){var T=C&&C.isExtended,w=C&&C.isMultiByte,k=this.current708Packet.data,D=T?4096:0,P=k[y],Y=k[y+1],z=S.currentWindow,ie,Se;function Ze(_e){return _e.map(ze=>("0"+(ze&255).toString(16)).slice(-2)).join("")}if(w?(Se=[P,Y],y++):Se=[P],S.textDecoder_&&!T)ie=S.textDecoder_.decode(new Uint8Array(Se));else if(w){const _e=Ze(Se);ie=String.fromCharCode(parseInt(_e,16))}else ie=WK(D|P);return z.pendingNewLine&&!z.isEmpty()&&z.newLine(this.getPts(y)),z.pendingNewLine=!1,z.addText(ie),y},Kt.prototype.multiByteCharacter=function(y,S){var C=this.current708Packet.data,T=C[y+1],w=C[y+2];return M0(T)&&M0(w)&&(y=this.handleText(++y,S,{isMultiByte:!0})),y},Kt.prototype.setCurrentWindow=function(y,S){var C=this.current708Packet.data,T=C[y],w=T&7;return S.setCurrentWindow(w),y},Kt.prototype.defineWindow=function(y,S){var C=this.current708Packet.data,T=C[y],w=T&7;S.setCurrentWindow(w);var k=S.currentWindow;return T=C[++y],k.visible=(T&32)>>5,k.rowLock=(T&16)>>4,k.columnLock=(T&8)>>3,k.priority=T&7,T=C[++y],k.relativePositioning=(T&128)>>7,k.anchorVertical=T&127,T=C[++y],k.anchorHorizontal=T,T=C[++y],k.anchorPoint=(T&240)>>4,k.rowCount=T&15,T=C[++y],k.columnCount=T&63,T=C[++y],k.windowStyle=(T&56)>>3,k.penStyle=T&7,k.virtualRowCount=k.rowCount+1,y},Kt.prototype.setWindowAttributes=function(y,S){var C=this.current708Packet.data,T=C[y],w=S.currentWindow.winAttr;return T=C[++y],w.fillOpacity=(T&192)>>6,w.fillRed=(T&48)>>4,w.fillGreen=(T&12)>>2,w.fillBlue=T&3,T=C[++y],w.borderType=(T&192)>>6,w.borderRed=(T&48)>>4,w.borderGreen=(T&12)>>2,w.borderBlue=T&3,T=C[++y],w.borderType+=(T&128)>>5,w.wordWrap=(T&64)>>6,w.printDirection=(T&48)>>4,w.scrollDirection=(T&12)>>2,w.justify=T&3,T=C[++y],w.effectSpeed=(T&240)>>4,w.effectDirection=(T&12)>>2,w.displayEffect=T&3,y},Kt.prototype.flushDisplayed=function(y,S){for(var C=[],T=0;T<8;T++)S.windows[T].visible&&!S.windows[T].isEmpty()&&C.push(S.windows[T].getText());S.endPts=y,S.text=C.join(`

`),this.pushCaption(S),S.startPts=y},Kt.prototype.pushCaption=function(y){y.text!==""&&(this.trigger("data",{startPts:y.startPts,endPts:y.endPts,text:y.text,stream:"cc708_"+y.serviceNum}),y.text="",y.startPts=y.endPts)},Kt.prototype.displayWindows=function(y,S){var C=this.current708Packet.data,T=C[++y],w=this.getPts(y);this.flushDisplayed(w,S);for(var k=0;k<8;k++)T&1<<k&&(S.windows[k].visible=1);return y},Kt.prototype.hideWindows=function(y,S){var C=this.current708Packet.data,T=C[++y],w=this.getPts(y);this.flushDisplayed(w,S);for(var k=0;k<8;k++)T&1<<k&&(S.windows[k].visible=0);return y},Kt.prototype.toggleWindows=function(y,S){var C=this.current708Packet.data,T=C[++y],w=this.getPts(y);this.flushDisplayed(w,S);for(var k=0;k<8;k++)T&1<<k&&(S.windows[k].visible^=1);return y},Kt.prototype.clearWindows=function(y,S){var C=this.current708Packet.data,T=C[++y],w=this.getPts(y);this.flushDisplayed(w,S);for(var k=0;k<8;k++)T&1<<k&&S.windows[k].clearText();return y},Kt.prototype.deleteWindows=function(y,S){var C=this.current708Packet.data,T=C[++y],w=this.getPts(y);this.flushDisplayed(w,S);for(var k=0;k<8;k++)T&1<<k&&S.windows[k].reset();return y},Kt.prototype.setPenAttributes=function(y,S){var C=this.current708Packet.data,T=C[y],w=S.currentWindow.penAttr;return T=C[++y],w.textTag=(T&240)>>4,w.offset=(T&12)>>2,w.penSize=T&3,T=C[++y],w.italics=(T&128)>>7,w.underline=(T&64)>>6,w.edgeType=(T&56)>>3,w.fontStyle=T&7,y},Kt.prototype.setPenColor=function(y,S){var C=this.current708Packet.data,T=C[y],w=S.currentWindow.penColor;return T=C[++y],w.fgOpacity=(T&192)>>6,w.fgRed=(T&48)>>4,w.fgGreen=(T&12)>>2,w.fgBlue=T&3,T=C[++y],w.bgOpacity=(T&192)>>6,w.bgRed=(T&48)>>4,w.bgGreen=(T&12)>>2,w.bgBlue=T&3,T=C[++y],w.edgeRed=(T&48)>>4,w.edgeGreen=(T&12)>>2,w.edgeBlue=T&3,y},Kt.prototype.setPenLocation=function(y,S){var C=this.current708Packet.data,T=C[y],w=S.currentWindow.penLoc;return S.currentWindow.pendingNewLine=!0,T=C[++y],w.row=T&15,T=C[++y],w.column=T&63,y},Kt.prototype.reset=function(y,S){var C=this.getPts(y);return this.flushDisplayed(C,S),this.initService(S.serviceNum,y)};var GK={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},P0=function(y){return y===null?"":(y=GK[y]||y,String.fromCharCode(y))},O0=14,DK=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Cl=function(){for(var y=[],S=O0+1;S--;)y.push({text:"",indent:0,offset:0});return y},oi=function(y,S){oi.prototype.init.call(this),this.field_=y||0,this.dataChannel_=S||0,this.name_="CC"+((this.field_<<1|this.dataChannel_)+1),this.setConstants(),this.reset(),this.push=function(C){var T,w,k,D,P;if(T=C.ccData&32639,T===this.lastControlCode_){this.lastControlCode_=null;return}if((T&61440)===4096?this.lastControlCode_=T:T!==this.PADDING_&&(this.lastControlCode_=null),k=T>>>8,D=T&255,T!==this.PADDING_)if(T===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(T===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(C.pts),this.flushDisplayed(C.pts),w=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=w,this.startPts_=C.pts;else if(T===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(C.pts);else if(T===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(C.pts);else if(T===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(C.pts);else if(T===this.CARRIAGE_RETURN_)this.clearFormatting(C.pts),this.flushDisplayed(C.pts),this.shiftRowsUp_(),this.startPts_=C.pts;else if(T===this.BACKSPACE_)this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1);else if(T===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(C.pts),this.displayed_=Cl();else if(T===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Cl();else if(T===this.RESUME_DIRECT_CAPTIONING_)this.mode_!=="paintOn"&&(this.flushDisplayed(C.pts),this.displayed_=Cl()),this.mode_="paintOn",this.startPts_=C.pts;else if(this.isSpecialCharacter(k,D))k=(k&3)<<8,P=P0(k|D),this[this.mode_](C.pts,P),this.column_++;else if(this.isExtCharacter(k,D))this.mode_==="popOn"?this.nonDisplayed_[this.row_].text=this.nonDisplayed_[this.row_].text.slice(0,-1):this.displayed_[this.row_].text=this.displayed_[this.row_].text.slice(0,-1),k=(k&3)<<8,P=P0(k|D),this[this.mode_](C.pts,P),this.column_++;else if(this.isMidRowCode(k,D))this.clearFormatting(C.pts),this[this.mode_](C.pts," "),this.column_++,(D&14)===14&&this.addFormatting(C.pts,["i"]),(D&1)===1&&this.addFormatting(C.pts,["u"]);else if(this.isOffsetControlCode(k,D)){const z=D&3;this.nonDisplayed_[this.row_].offset=z,this.column_+=z}else if(this.isPAC(k,D)){var Y=DK.indexOf(T&7968);if(this.mode_==="rollUp"&&(Y-this.rollUpRows_+1<0&&(Y=this.rollUpRows_-1),this.setRollUp(C.pts,Y)),Y!==this.row_&&Y>=0&&Y<=14&&(this.clearFormatting(C.pts),this.row_=Y),D&1&&this.formatting_.indexOf("u")===-1&&this.addFormatting(C.pts,["u"]),(T&16)===16){const z=(T&14)>>1;this.column_=z*4,this.nonDisplayed_[this.row_].indent+=z}this.isColorPAC(D)&&(D&14)===14&&this.addFormatting(C.pts,["i"])}else this.isNormalChar(k)&&(D===0&&(D=null),P=P0(k),P+=P0(D),this[this.mode_](C.pts,P),this.column_+=P.length)}};oi.prototype=new kb,oi.prototype.flushDisplayed=function(y){const S=T=>{this.trigger("log",{level:"warn",message:"Skipping a malformed 608 caption at index "+T+"."})},C=[];this.displayed_.forEach((T,w)=>{if(T&&T.text&&T.text.length){try{T.text=T.text.trim()}catch{S(w)}T.text.length&&C.push({text:T.text,line:w+1,position:10+Math.min(70,T.indent*10)+T.offset*2.5})}else T==null&&S(w)}),C.length&&this.trigger("data",{startPts:this.startPts_,endPts:y,content:C,stream:this.name_})},oi.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Cl(),this.nonDisplayed_=Cl(),this.lastControlCode_=null,this.column_=0,this.row_=O0,this.rollUpRows_=2,this.formatting_=[]},oi.prototype.setConstants=function(){this.dataChannel_===0?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):this.dataChannel_===1&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=this.CONTROL_|32,this.END_OF_CAPTION_=this.CONTROL_|47,this.ROLL_UP_2_ROWS_=this.CONTROL_|37,this.ROLL_UP_3_ROWS_=this.CONTROL_|38,this.ROLL_UP_4_ROWS_=this.CONTROL_|39,this.CARRIAGE_RETURN_=this.CONTROL_|45,this.RESUME_DIRECT_CAPTIONING_=this.CONTROL_|41,this.BACKSPACE_=this.CONTROL_|33,this.ERASE_DISPLAYED_MEMORY_=this.CONTROL_|44,this.ERASE_NON_DISPLAYED_MEMORY_=this.CONTROL_|46},oi.prototype.isSpecialCharacter=function(y,S){return y===this.EXT_&&S>=48&&S<=63},oi.prototype.isExtCharacter=function(y,S){return(y===this.EXT_+1||y===this.EXT_+2)&&S>=32&&S<=63},oi.prototype.isMidRowCode=function(y,S){return y===this.EXT_&&S>=32&&S<=47},oi.prototype.isOffsetControlCode=function(y,S){return y===this.OFFSET_&&S>=33&&S<=35},oi.prototype.isPAC=function(y,S){return y>=this.BASE_&&y<this.BASE_+8&&S>=64&&S<=127},oi.prototype.isColorPAC=function(y){return y>=64&&y<=79||y>=96&&y<=127},oi.prototype.isNormalChar=function(y){return y>=32&&y<=127},oi.prototype.setRollUp=function(y,S){if(this.mode_!=="rollUp"&&(this.row_=O0,this.mode_="rollUp",this.flushDisplayed(y),this.nonDisplayed_=Cl(),this.displayed_=Cl()),S!==void 0&&S!==this.row_)for(var C=0;C<this.rollUpRows_;C++)this.displayed_[S-C]=this.displayed_[this.row_-C],this.displayed_[this.row_-C]={text:"",indent:0,offset:0};S===void 0&&(S=this.row_),this.topRow_=S-this.rollUpRows_+1},oi.prototype.addFormatting=function(y,S){this.formatting_=this.formatting_.concat(S);var C=S.reduce(function(T,w){return T+"<"+w+">"},"");this[this.mode_](y,C)},oi.prototype.clearFormatting=function(y){if(this.formatting_.length){var S=this.formatting_.reverse().reduce(function(C,T){return C+"</"+T+">"},"");this.formatting_=[],this[this.mode_](y,S)}},oi.prototype.popOn=function(y,S){var C=this.nonDisplayed_[this.row_].text;C+=S,this.nonDisplayed_[this.row_].text=C},oi.prototype.rollUp=function(y,S){var C=this.displayed_[this.row_].text;C+=S,this.displayed_[this.row_].text=C},oi.prototype.shiftRowsUp_=function(){var y;for(y=0;y<this.topRow_;y++)this.displayed_[y]={text:"",indent:0,offset:0};for(y=this.row_+1;y<O0+1;y++)this.displayed_[y]={text:"",indent:0,offset:0};for(y=this.topRow_;y<this.row_;y++)this.displayed_[y]=this.displayed_[y+1];this.displayed_[this.row_]={text:"",indent:0,offset:0}},oi.prototype.paintOn=function(y,S){var C=this.displayed_[this.row_].text;C+=S,this.displayed_[this.row_].text=C};var z9={CaptionStream:Kn,Cea608Stream:oi,Cea708Stream:Kt},X0={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},MK=i,ZK=8589934592,PK=4294967296,J9="shared",Fb=function(y,S){var C=1;for(y>S&&(C=-1);Math.abs(S-y)>PK;)y+=C*ZK;return y},Ub=function(y){var S,C;Ub.prototype.init.call(this),this.type_=y||J9,this.push=function(T){if(T.type==="metadata"){this.trigger("data",T);return}this.type_!==J9&&T.type!==this.type_||(C===void 0&&(C=T.dts),T.dts=Fb(T.dts,C),T.pts=Fb(T.pts,C),S=T.dts,this.trigger("data",T))},this.flush=function(){C=S,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.discontinuity=function(){C=void 0,S=void 0},this.reset=function(){this.discontinuity(),this.trigger("reset")}};Ub.prototype=new MK;var j9={TimestampRolloverStream:Ub,handleRollover:Fb},OK=(y,S,C)=>{if(!y)return-1;for(var T=C;T<y.length;T++)if(y[T]===S)return T;return-1},XK={typedArrayIndexOf:OK},Y0=XK.typedArrayIndexOf,$0={Utf8:3},H9=function(y,S,C){var T,w="";for(T=S;T<C;T++)w+="%"+("00"+y[T].toString(16)).slice(-2);return w},Fh=function(y,S,C){return decodeURIComponent(H9(y,S,C))},Uh=function(y,S,C){return unescape(H9(y,S,C))},Bh=function(y){return y[0]<<21|y[1]<<14|y[2]<<7|y[3]},Wh={APIC:function(y){var S=1,C,T,w="-->";y.data[0]===$0.Utf8&&(C=Y0(y.data,0,S),!(C<0)&&(y.mimeType=Uh(y.data,S,C),S=C+1,y.pictureType=y.data[S],S++,T=Y0(y.data,0,S),!(T<0)&&(y.description=Fh(y.data,S,T),S=T+1,y.mimeType===w?y.url=Uh(y.data,S,y.data.length):y.pictureData=y.data.subarray(S,y.data.length))))},"T*":function(y){y.data[0]===$0.Utf8&&(y.value=Fh(y.data,1,y.data.length).replace(/\0*$/,""),y.values=y.value.split("\0"))},TXXX:function(y){var S;y.data[0]===$0.Utf8&&(S=Y0(y.data,0,1),S!==-1&&(y.description=Fh(y.data,1,S),y.value=Fh(y.data,S+1,y.data.length).replace(/\0*$/,""),y.data=y.value))},"W*":function(y){y.url=Uh(y.data,0,y.data.length).replace(/\0.*$/,"")},WXXX:function(y){var S;y.data[0]===$0.Utf8&&(S=Y0(y.data,0,1),S!==-1&&(y.description=Fh(y.data,1,S),y.url=Uh(y.data,S+1,y.data.length).replace(/\0.*$/,"")))},PRIV:function(y){var S;for(S=0;S<y.data.length;S++)if(y.data[S]===0){y.owner=Uh(y.data,0,S);break}y.privateData=y.data.subarray(S+1),y.data=y.privateData}},YK=function(y){var S,C,T=10,w=0,k=[];if(!(y.length<10||y[0]!==73||y[1]!==68||y[2]!==51)){w=Bh(y.subarray(6,10)),w+=10;var D=y[5]&64;D&&(T+=4,T+=Bh(y.subarray(10,14)),w-=Bh(y.subarray(16,20)));do{if(S=Bh(y.subarray(T+4,T+8)),S<1)break;C=String.fromCharCode(y[T],y[T+1],y[T+2],y[T+3]);var P={id:C,data:y.subarray(T+10,T+S+10)};P.key=P.id,Wh[P.id]?Wh[P.id](P):P.id[0]==="T"?Wh["T*"](P):P.id[0]==="W"&&Wh["W*"](P),k.push(P),T+=10,T+=S}while(T<w);return k}},Q9={parseId3Frames:YK,parseSyncSafeInteger:Bh,frameParsers:Wh},$K=i,KK=X0,Ro=Q9,K0;K0=function(y){var S={descriptor:y&&y.descriptor},C=0,T=[],w=0,k;if(K0.prototype.init.call(this),this.dispatchType=KK.METADATA_STREAM_TYPE.toString(16),S.descriptor)for(k=0;k<S.descriptor.length;k++)this.dispatchType+=("00"+S.descriptor[k].toString(16)).slice(-2);this.push=function(D){var P,Y,z,ie,Se,Ze;if(D.type==="timed-metadata"){if(D.dataAlignmentIndicator&&(w=0,T.length=0),T.length===0&&(D.data.length<10||D.data[0]!==73||D.data[1]!==68||D.data[2]!==51)){this.trigger("log",{level:"warn",message:"Skipping unrecognized metadata packet"});return}if(T.push(D),w+=D.data.byteLength,T.length===1&&(C=Ro.parseSyncSafeInteger(D.data.subarray(6,10)),C+=10),!(w<C)){for(P={data:new Uint8Array(C),frames:[],pts:T[0].pts,dts:T[0].dts},Se=0;Se<C;)P.data.set(T[0].data.subarray(0,C-Se),Se),Se+=T[0].data.byteLength,w-=T[0].data.byteLength,T.shift();Y=10,P.data[5]&64&&(Y+=4,Y+=Ro.parseSyncSafeInteger(P.data.subarray(10,14)),C-=Ro.parseSyncSafeInteger(P.data.subarray(16,20)));do{if(z=Ro.parseSyncSafeInteger(P.data.subarray(Y+4,Y+8)),z<1){this.trigger("log",{level:"warn",message:"Malformed ID3 frame encountered. Skipping remaining metadata parsing."});break}if(Ze=String.fromCharCode(P.data[Y],P.data[Y+1],P.data[Y+2],P.data[Y+3]),ie={id:Ze,data:P.data.subarray(Y+10,Y+z+10)},ie.key=ie.id,Ro.frameParsers[ie.id]?Ro.frameParsers[ie.id](ie):ie.id[0]==="T"?Ro.frameParsers["T*"](ie):ie.id[0]==="W"&&Ro.frameParsers["W*"](ie),ie.owner==="com.apple.streaming.transportStreamTimestamp"){var _e=ie.data,ze=(_e[3]&1)<<30|_e[4]<<22|_e[5]<<14|_e[6]<<6|_e[7]>>>2;ze*=4,ze+=_e[7]&3,ie.timeStamp=ze,P.pts===void 0&&P.dts===void 0&&(P.pts=ie.timeStamp,P.dts=ie.timeStamp),this.trigger("timestamp",ie)}P.frames.push(ie),Y+=10,Y+=z}while(Y<C);this.trigger("data",P)}}}},K0.prototype=new $K;var zK=K0,Bb=i,Wb=z9,nr=X0,JK=j9.TimestampRolloverStream,z0,Gh,J0,Xc=188,Gb=71;z0=function(){var y=new Uint8Array(Xc),S=0;z0.prototype.init.call(this),this.push=function(C){var T=0,w=Xc,k;for(S?(k=new Uint8Array(C.byteLength+S),k.set(y.subarray(0,S)),k.set(C,S),S=0):k=C;w<k.byteLength;){if(k[T]===Gb&&k[w]===Gb){this.trigger("data",k.subarray(T,w)),T+=Xc,w+=Xc;continue}T++,w++}T<k.byteLength&&(y.set(k.subarray(T),0),S=k.byteLength-T)},this.flush=function(){S===Xc&&y[0]===Gb&&(this.trigger("data",y),S=0),this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")},this.reset=function(){S=0,this.trigger("reset")}},z0.prototype=new Bb,Gh=function(){var y,S,C,T;Gh.prototype.init.call(this),T=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,y=function(w,k){var D=0;k.payloadUnitStartIndicator&&(D+=w[D]+1),k.type==="pat"?S(w.subarray(D),k):C(w.subarray(D),k)},S=function(w,k){k.section_number=w[7],k.last_section_number=w[8],T.pmtPid=(w[10]&31)<<8|w[11],k.pmtPid=T.pmtPid},C=function(w,k){var D,P,Y,z;if(w[5]&1){for(T.programMapTable={video:null,audio:null,"timed-metadata":{}},D=(w[1]&15)<<8|w[2],P=3+D-4,Y=(w[10]&15)<<8|w[11],z=12+Y;z<P;){var ie=w[z],Se=(w[z+1]&31)<<8|w[z+2];ie===nr.H264_STREAM_TYPE&&T.programMapTable.video===null?T.programMapTable.video=Se:ie===nr.ADTS_STREAM_TYPE&&T.programMapTable.audio===null?T.programMapTable.audio=Se:ie===nr.METADATA_STREAM_TYPE&&(T.programMapTable["timed-metadata"][Se]=ie),z+=((w[z+3]&15)<<8|w[z+4])+5}k.programMapTable=T.programMapTable}},this.push=function(w){var k={},D=4;if(k.payloadUnitStartIndicator=!!(w[1]&64),k.pid=w[1]&31,k.pid<<=8,k.pid|=w[2],(w[3]&48)>>>4>1&&(D+=w[D]+1),k.pid===0)k.type="pat",y(w.subarray(D),k),this.trigger("data",k);else if(k.pid===this.pmtPid)for(k.type="pmt",y(w.subarray(D),k),this.trigger("data",k);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else this.programMapTable===void 0?this.packetsWaitingForPmt.push([w,D,k]):this.processPes_(w,D,k)},this.processPes_=function(w,k,D){D.pid===this.programMapTable.video?D.streamType=nr.H264_STREAM_TYPE:D.pid===this.programMapTable.audio?D.streamType=nr.ADTS_STREAM_TYPE:D.streamType=this.programMapTable["timed-metadata"][D.pid],D.type="pes",D.data=w.subarray(k),this.trigger("data",D)}},Gh.prototype=new Bb,Gh.STREAM_TYPES={h264:27,adts:15},J0=function(){var y=this,S=!1,C={data:[],size:0},T={data:[],size:0},w={data:[],size:0},k,D=function(Y,z){var ie;const Se=Y[0]<<16|Y[1]<<8|Y[2];z.data=new Uint8Array,Se===1&&(z.packetLength=6+(Y[4]<<8|Y[5]),z.dataAlignmentIndicator=(Y[6]&4)!==0,ie=Y[7],ie&192&&(z.pts=(Y[9]&14)<<27|(Y[10]&255)<<20|(Y[11]&254)<<12|(Y[12]&255)<<5|(Y[13]&254)>>>3,z.pts*=4,z.pts+=(Y[13]&6)>>>1,z.dts=z.pts,ie&64&&(z.dts=(Y[14]&14)<<27|(Y[15]&255)<<20|(Y[16]&254)<<12|(Y[17]&255)<<5|(Y[18]&254)>>>3,z.dts*=4,z.dts+=(Y[18]&6)>>>1)),z.data=Y.subarray(9+Y[8]))},P=function(Y,z,ie){var Se=new Uint8Array(Y.size),Ze={type:z},_e=0,ze=0,ft=!1,Ki;if(!(!Y.data.length||Y.size<9)){for(Ze.trackId=Y.data[0].pid,_e=0;_e<Y.data.length;_e++)Ki=Y.data[_e],Se.set(Ki.data,ze),ze+=Ki.data.byteLength;D(Se,Ze),ft=z==="video"||Ze.packetLength<=Y.size,(ie||ft)&&(Y.size=0,Y.data.length=0),ft&&y.trigger("data",Ze)}};J0.prototype.init.call(this),this.push=function(Y){({pat:function(){},pes:function(){var z,ie;switch(Y.streamType){case nr.H264_STREAM_TYPE:z=C,ie="video";break;case nr.ADTS_STREAM_TYPE:z=T,ie="audio";break;case nr.METADATA_STREAM_TYPE:z=w,ie="timed-metadata";break;default:return}Y.payloadUnitStartIndicator&&P(z,ie,!0),z.data.push(Y),z.size+=Y.data.byteLength},pmt:function(){var z={type:"metadata",tracks:[]};k=Y.programMapTable,k.video!==null&&z.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.video,codec:"avc",type:"video"}),k.audio!==null&&z.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.audio,codec:"adts",type:"audio"}),S=!0,y.trigger("data",z)}})[Y.type]()},this.reset=function(){C.size=0,C.data.length=0,T.size=0,T.data.length=0,this.trigger("reset")},this.flushStreams_=function(){P(C,"video"),P(T,"audio"),P(w,"timed-metadata")},this.flush=function(){if(!S&&k){var Y={type:"metadata",tracks:[]};k.video!==null&&Y.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.video,codec:"avc",type:"video"}),k.audio!==null&&Y.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+k.audio,codec:"adts",type:"audio"}),y.trigger("data",Y)}S=!1,this.flushStreams_(),this.trigger("done")}},J0.prototype=new Bb;var q9={PAT_PID:0,MP2T_PACKET_LENGTH:Xc,TransportPacketStream:z0,TransportParseStream:Gh,ElementaryStream:J0,TimestampRolloverStream:JK,CaptionStream:Wb.CaptionStream,Cea608Stream:Wb.Cea608Stream,Cea708Stream:Wb.Cea708Stream,MetadataStream:zK};for(var Db in nr)nr.hasOwnProperty(Db)&&(q9[Db]=nr[Db]);var jK=q9,HK=i,QK=N.ONE_SECOND_IN_TS,j0,e8=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];j0=function(y){var S,C=0;j0.prototype.init.call(this),this.skipWarn_=function(T,w){this.trigger("log",{level:"warn",message:`adts skiping bytes ${T} to ${w} in frame ${C} outside syncword`})},this.push=function(T){var w=0,k,D,P,Y,z;if(y||(C=0),T.type==="audio"){S&&S.length?(P=S,S=new Uint8Array(P.byteLength+T.data.byteLength),S.set(P),S.set(T.data,P.byteLength)):S=T.data;for(var ie;w+7<S.length;){if(S[w]!==255||(S[w+1]&246)!==240){typeof ie!="number"&&(ie=w),w++;continue}if(typeof ie=="number"&&(this.skipWarn_(ie,w),ie=null),D=(~S[w+1]&1)*2,k=(S[w+3]&3)<<11|S[w+4]<<3|(S[w+5]&224)>>5,Y=((S[w+6]&3)+1)*1024,z=Y*QK/e8[(S[w+2]&60)>>>2],S.byteLength-w<k)break;this.trigger("data",{pts:T.pts+C*z,dts:T.dts+C*z,sampleCount:Y,audioobjecttype:(S[w+2]>>>6&3)+1,channelcount:(S[w+2]&1)<<2|(S[w+3]&192)>>>6,samplerate:e8[(S[w+2]&60)>>>2],samplingfrequencyindex:(S[w+2]&60)>>>2,samplesize:16,data:S.subarray(w+7+D,w+k)}),C++,w+=k}typeof ie=="number"&&(this.skipWarn_(ie,w),ie=null),S=S.subarray(w)}},this.flush=function(){C=0,this.trigger("done")},this.reset=function(){S=void 0,this.trigger("reset")},this.endTimeline=function(){S=void 0,this.trigger("endedtimeline")}},j0.prototype=new HK;var qK=j0,t8;t8=function(y){var S=y.byteLength,C=0,T=0;this.length=function(){return 8*S},this.bitsAvailable=function(){return 8*S+T},this.loadWord=function(){var w=y.byteLength-S,k=new Uint8Array(4),D=Math.min(4,S);if(D===0)throw new Error("no bytes available");k.set(y.subarray(w,w+D)),C=new DataView(k.buffer).getUint32(0),T=D*8,S-=D},this.skipBits=function(w){var k;T>w?(C<<=w,T-=w):(w-=T,k=Math.floor(w/8),w-=k*8,S-=k,this.loadWord(),C<<=w,T-=w)},this.readBits=function(w){var k=Math.min(T,w),D=C>>>32-k;return T-=k,T>0?C<<=k:S>0&&this.loadWord(),k=w-k,k>0?D<<k|this.readBits(k):D},this.skipLeadingZeros=function(){var w;for(w=0;w<T;++w)if(C&2147483648>>>w)return C<<=w,T-=w,w;return this.loadWord(),w+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var w=this.skipLeadingZeros();return this.readBits(w+1)-1},this.readExpGolomb=function(){var w=this.readUnsignedExpGolomb();return 1&w?1+w>>>1:-1*(w>>>1)},this.readBoolean=function(){return this.readBits(1)===1},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};var ez=t8,i8=i,tz=ez,H0,Q0,n8;Q0=function(){var y=0,S,C;Q0.prototype.init.call(this),this.push=function(T){var w;C?(w=new Uint8Array(C.byteLength+T.data.byteLength),w.set(C),w.set(T.data,C.byteLength),C=w):C=T.data;for(var k=C.byteLength;y<k-3;y++)if(C[y+2]===1){S=y+5;break}for(;S<k;)switch(C[S]){case 0:if(C[S-1]!==0){S+=2;break}else if(C[S-2]!==0){S++;break}y+3!==S-2&&this.trigger("data",C.subarray(y+3,S-2));do S++;while(C[S]!==1&&S<k);y=S-2,S+=3;break;case 1:if(C[S-1]!==0||C[S-2]!==0){S+=3;break}this.trigger("data",C.subarray(y+3,S-2)),y=S-2,S+=3;break;default:S+=3;break}C=C.subarray(y),S-=y,y=0},this.reset=function(){C=null,y=0,this.trigger("reset")},this.flush=function(){C&&C.byteLength>3&&this.trigger("data",C.subarray(y+3)),C=null,y=0,this.trigger("done")},this.endTimeline=function(){this.flush(),this.trigger("endedtimeline")}},Q0.prototype=new i8,n8={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},H0=function(){var y=new Q0,S,C,T,w,k,D,P;H0.prototype.init.call(this),S=this,this.push=function(Y){Y.type==="video"&&(C=Y.trackId,T=Y.pts,w=Y.dts,y.push(Y))},y.on("data",function(Y){var z={trackId:C,pts:T,dts:w,data:Y,nalUnitTypeCode:Y[0]&31};switch(z.nalUnitTypeCode){case 5:z.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:z.nalUnitType="sei_rbsp",z.escapedRBSP=k(Y.subarray(1));break;case 7:z.nalUnitType="seq_parameter_set_rbsp",z.escapedRBSP=k(Y.subarray(1)),z.config=D(z.escapedRBSP);break;case 8:z.nalUnitType="pic_parameter_set_rbsp";break;case 9:z.nalUnitType="access_unit_delimiter_rbsp";break}S.trigger("data",z)}),y.on("done",function(){S.trigger("done")}),y.on("partialdone",function(){S.trigger("partialdone")}),y.on("reset",function(){S.trigger("reset")}),y.on("endedtimeline",function(){S.trigger("endedtimeline")}),this.flush=function(){y.flush()},this.partialFlush=function(){y.partialFlush()},this.reset=function(){y.reset()},this.endTimeline=function(){y.endTimeline()},P=function(Y,z){var ie=8,Se=8,Ze,_e;for(Ze=0;Ze<Y;Ze++)Se!==0&&(_e=z.readExpGolomb(),Se=(ie+_e+256)%256),ie=Se===0?ie:Se},k=function(Y){for(var z=Y.byteLength,ie=[],Se=1,Ze,_e;Se<z-2;)Y[Se]===0&&Y[Se+1]===0&&Y[Se+2]===3?(ie.push(Se+2),Se+=2):Se++;if(ie.length===0)return Y;Ze=z-ie.length,_e=new Uint8Array(Ze);var ze=0;for(Se=0;Se<Ze;ze++,Se++)ze===ie[0]&&(ze++,ie.shift()),_e[Se]=Y[ze];return _e},D=function(Y){var z=0,ie=0,Se=0,Ze=0,_e,ze,ft,Ki,fs,wo,Yh,$h,Kh,zh,um,ei=[1,1],Jh,rr;if(_e=new tz(Y),ze=_e.readUnsignedByte(),Ki=_e.readUnsignedByte(),ft=_e.readUnsignedByte(),_e.skipUnsignedExpGolomb(),n8[ze]&&(fs=_e.readUnsignedExpGolomb(),fs===3&&_e.skipBits(1),_e.skipUnsignedExpGolomb(),_e.skipUnsignedExpGolomb(),_e.skipBits(1),_e.readBoolean()))for(um=fs!==3?8:12,rr=0;rr<um;rr++)_e.readBoolean()&&(rr<6?P(16,_e):P(64,_e));if(_e.skipUnsignedExpGolomb(),wo=_e.readUnsignedExpGolomb(),wo===0)_e.readUnsignedExpGolomb();else if(wo===1)for(_e.skipBits(1),_e.skipExpGolomb(),_e.skipExpGolomb(),Yh=_e.readUnsignedExpGolomb(),rr=0;rr<Yh;rr++)_e.skipExpGolomb();if(_e.skipUnsignedExpGolomb(),_e.skipBits(1),$h=_e.readUnsignedExpGolomb(),Kh=_e.readUnsignedExpGolomb(),zh=_e.readBits(1),zh===0&&_e.skipBits(1),_e.skipBits(1),_e.readBoolean()&&(z=_e.readUnsignedExpGolomb(),ie=_e.readUnsignedExpGolomb(),Se=_e.readUnsignedExpGolomb(),Ze=_e.readUnsignedExpGolomb()),_e.readBoolean()&&_e.readBoolean()){switch(Jh=_e.readUnsignedByte(),Jh){case 1:ei=[1,1];break;case 2:ei=[12,11];break;case 3:ei=[10,11];break;case 4:ei=[16,11];break;case 5:ei=[40,33];break;case 6:ei=[24,11];break;case 7:ei=[20,11];break;case 8:ei=[32,11];break;case 9:ei=[80,33];break;case 10:ei=[18,11];break;case 11:ei=[15,11];break;case 12:ei=[64,33];break;case 13:ei=[160,99];break;case 14:ei=[4,3];break;case 15:ei=[3,2];break;case 16:ei=[2,1];break;case 255:{ei=[_e.readUnsignedByte()<<8|_e.readUnsignedByte(),_e.readUnsignedByte()<<8|_e.readUnsignedByte()];break}}ei&&ei[0]/ei[1]}return{profileIdc:ze,levelIdc:ft,profileCompatibility:Ki,width:($h+1)*16-z*2-ie*2,height:(2-zh)*(Kh+1)*16-Se*2-Ze*2,sarRatio:ei}}},H0.prototype=new i8;var iz={H264Stream:H0},nz=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],s8=function(y,S){var C=y[S+6]<<21|y[S+7]<<14|y[S+8]<<7|y[S+9],T=y[S+5],w=(T&16)>>4;return C=C>=0?C:0,w?C+20:C+10},r8=function(y,S){return y.length-S<10||y[S]!==73||y[S+1]!==68||y[S+2]!==51?S:(S+=s8(y,S),r8(y,S))},sz=function(y){var S=r8(y,0);return y.length>=S+2&&(y[S]&255)===255&&(y[S+1]&240)===240&&(y[S+1]&22)===16},a8=function(y){return y[0]<<21|y[1]<<14|y[2]<<7|y[3]},rz=function(y,S,C){var T,w="";for(T=S;T<C;T++)w+="%"+("00"+y[T].toString(16)).slice(-2);return w},az=function(y,S,C){return unescape(rz(y,S,C))},oz=function(y,S){var C=(y[S+5]&224)>>5,T=y[S+4]<<3,w=y[S+3]&6144;return w|T|C},lz=function(y,S){return y[S]===73&&y[S+1]===68&&y[S+2]===51?"timed-metadata":y[S]&!0&&(y[S+1]&240)===240?"audio":null},cz=function(y){for(var S=0;S+5<y.length;){if(y[S]!==255||(y[S+1]&246)!==240){S++;continue}return nz[(y[S+2]&60)>>>2]}return null},uz=function(y){var S,C,T,w;S=10,y[5]&64&&(S+=4,S+=a8(y.subarray(10,14)));do{if(C=a8(y.subarray(S+4,S+8)),C<1)return null;if(w=String.fromCharCode(y[S],y[S+1],y[S+2],y[S+3]),w==="PRIV"){T=y.subarray(S+10,S+C+10);for(var k=0;k<T.byteLength;k++)if(T[k]===0){var D=az(T,0,k);if(D==="com.apple.streaming.transportStreamTimestamp"){var P=T.subarray(k+1),Y=(P[3]&1)<<30|P[4]<<22|P[5]<<14|P[6]<<6|P[7]>>>2;return Y*=4,Y+=P[7]&3,Y}break}}S+=10,S+=C}while(S<y.byteLength);return null},Mb={isLikelyAacData:sz,parseId3TagSize:s8,parseAdtsSize:oz,parseType:lz,parseSampleRate:cz,parseAacTimestamp:uz},dz=i,o8=Mb,q0;q0=function(){var y=new Uint8Array,S=0;q0.prototype.init.call(this),this.setTimestamp=function(C){S=C},this.push=function(C){var T=0,w=0,k,D,P,Y;for(y.length?(Y=y.length,y=new Uint8Array(C.byteLength+Y),y.set(y.subarray(0,Y)),y.set(C,Y)):y=C;y.length-w>=3;){if(y[w]===73&&y[w+1]===68&&y[w+2]===51){if(y.length-w<10||(T=o8.parseId3TagSize(y,w),w+T>y.length))break;D={type:"timed-metadata",data:y.subarray(w,w+T)},this.trigger("data",D),w+=T;continue}else if((y[w]&255)===255&&(y[w+1]&240)===240){if(y.length-w<7||(T=o8.parseAdtsSize(y,w),w+T>y.length))break;P={type:"audio",data:y.subarray(w,w+T),pts:S,dts:S},this.trigger("data",P),w+=T;continue}w++}k=y.length-w,k>0?y=y.subarray(w):y=new Uint8Array},this.reset=function(){y=new Uint8Array,this.trigger("reset")},this.endTimeline=function(){y=new Uint8Array,this.trigger("endedtimeline")}},q0.prototype=new dz;var hz=q0,fz=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],pz=fz,mz=["width","height","profileIdc","levelIdc","profileCompatibility","sarRatio"],gz=mz,em=i,Dh=ke,Mh=Ge,tm=$t,sr=NK,Aa=jK,im=N,l8=qK,yz=iz.H264Stream,bz=hz,vz=Mb.isLikelyAacData,Ez=N.ONE_SECOND_IN_TS,c8=pz,u8=gz,nm,Zh,sm,Rl,Az=function(y,S){S.stream=y,this.trigger("log",S)},d8=function(y,S){for(var C=Object.keys(S),T=0;T<C.length;T++){var w=C[T];w==="headOfPipeline"||!S[w].on||S[w].on("log",Az.bind(y,w))}},h8=function(y,S){var C;if(y.length!==S.length)return!1;for(C=0;C<y.length;C++)if(y[C]!==S[C])return!1;return!0},f8=function(y,S,C,T,w,k){var D=C-S,P=T-S,Y=w-C;return{start:{dts:y,pts:y+D},end:{dts:y+P,pts:y+Y},prependedContentDuration:k,baseMediaDecodeTime:y}};Zh=function(y,S){var C=[],T,w=0,k=0,D=1/0;S=S||{},T=S.firstSequenceNumber||0,Zh.prototype.init.call(this),this.push=function(P){sr.collectDtsInfo(y,P),y&&c8.forEach(function(Y){y[Y]=P[Y]}),C.push(P)},this.setEarliestDts=function(P){w=P},this.setVideoBaseMediaDecodeTime=function(P){D=P},this.setAudioAppendStart=function(P){k=P},this.flush=function(){var P,Y,z,ie,Se,Ze,_e;if(C.length===0){this.trigger("done","AudioSegmentStream");return}P=tm.trimAdtsFramesByEarliestDts(C,y,w),y.baseMediaDecodeTime=sr.calculateTrackBaseMediaDecodeTime(y,S.keepOriginalTimestamps),_e=tm.prefixWithSilence(y,P,k,D),y.samples=tm.generateSampleTable(P),z=Dh.mdat(tm.concatenateFrameData(P)),C=[],Y=Dh.moof(T,[y]),ie=new Uint8Array(Y.byteLength+z.byteLength),T++,ie.set(Y),ie.set(z,Y.byteLength),sr.clearDtsInfo(y),Se=Math.ceil(Ez*1024/y.samplerate),P.length&&(Ze=P.length*Se,this.trigger("segmentTimingInfo",f8(im.audioTsToVideoTs(y.baseMediaDecodeTime,y.samplerate),P[0].dts,P[0].pts,P[0].dts+Ze,P[0].pts+Ze,_e||0)),this.trigger("timingInfo",{start:P[0].pts,end:P[0].pts+Ze})),this.trigger("data",{track:y,boxes:ie}),this.trigger("done","AudioSegmentStream")},this.reset=function(){sr.clearDtsInfo(y),C=[],this.trigger("reset")}},Zh.prototype=new em,nm=function(y,S){var C,T=[],w=[],k,D;S=S||{},C=S.firstSequenceNumber||0,nm.prototype.init.call(this),delete y.minPTS,this.gopCache_=[],this.push=function(P){sr.collectDtsInfo(y,P),P.nalUnitType==="seq_parameter_set_rbsp"&&!k&&(k=P.config,y.sps=[P.data],u8.forEach(function(Y){y[Y]=k[Y]},this)),P.nalUnitType==="pic_parameter_set_rbsp"&&!D&&(D=P.data,y.pps=[P.data]),T.push(P)},this.flush=function(){for(var P,Y,z,ie,Se,Ze,_e=0,ze,ft;T.length&&T[0].nalUnitType!=="access_unit_delimiter_rbsp";)T.shift();if(T.length===0){this.resetStream_(),this.trigger("done","VideoSegmentStream");return}if(P=Mh.groupNalsIntoFrames(T),z=Mh.groupFramesIntoGops(P),z[0][0].keyFrame||(Y=this.getGopForFusion_(T[0],y),Y?(_e=Y.duration,z.unshift(Y),z.byteLength+=Y.byteLength,z.nalCount+=Y.nalCount,z.pts=Y.pts,z.dts=Y.dts,z.duration+=Y.duration):z=Mh.extendFirstKeyFrame(z)),w.length){var Ki;if(S.alignGopsAtEnd?Ki=this.alignGopsAtEnd_(z):Ki=this.alignGopsAtStart_(z),!Ki){this.gopCache_.unshift({gop:z.pop(),pps:y.pps,sps:y.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),T=[],this.resetStream_(),this.trigger("done","VideoSegmentStream");return}sr.clearDtsInfo(y),z=Ki}sr.collectDtsInfo(y,z),y.samples=Mh.generateSampleTable(z),Se=Dh.mdat(Mh.concatenateNalData(z)),y.baseMediaDecodeTime=sr.calculateTrackBaseMediaDecodeTime(y,S.keepOriginalTimestamps),this.trigger("processedGopsInfo",z.map(function(fs){return{pts:fs.pts,dts:fs.dts,byteLength:fs.byteLength}})),ze=z[0],ft=z[z.length-1],this.trigger("segmentTimingInfo",f8(y.baseMediaDecodeTime,ze.dts,ze.pts,ft.dts+ft.duration,ft.pts+ft.duration,_e)),this.trigger("timingInfo",{start:z[0].pts,end:z[z.length-1].pts+z[z.length-1].duration}),this.gopCache_.unshift({gop:z.pop(),pps:y.pps,sps:y.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),T=[],this.trigger("baseMediaDecodeTime",y.baseMediaDecodeTime),this.trigger("timelineStartInfo",y.timelineStartInfo),ie=Dh.moof(C,[y]),Ze=new Uint8Array(ie.byteLength+Se.byteLength),C++,Ze.set(ie),Ze.set(Se,ie.byteLength),this.trigger("data",{track:y,boxes:Ze}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.reset=function(){this.resetStream_(),T=[],this.gopCache_.length=0,w.length=0,this.trigger("reset")},this.resetStream_=function(){sr.clearDtsInfo(y),k=void 0,D=void 0},this.getGopForFusion_=function(P){var Y=45e3,z=1/0,ie,Se,Ze,_e,ze;for(ze=0;ze<this.gopCache_.length;ze++)_e=this.gopCache_[ze],Ze=_e.gop,!(!(y.pps&&h8(y.pps[0],_e.pps[0]))||!(y.sps&&h8(y.sps[0],_e.sps[0])))&&(Ze.dts<y.timelineStartInfo.dts||(ie=P.dts-Ze.dts-Ze.duration,ie>=-1e4&&ie<=Y&&(!Se||z>ie)&&(Se=_e,z=ie)));return Se?Se.gop:null},this.alignGopsAtStart_=function(P){var Y,z,ie,Se,Ze,_e,ze,ft;for(Ze=P.byteLength,_e=P.nalCount,ze=P.duration,Y=z=0;Y<w.length&&z<P.length&&(ie=w[Y],Se=P[z],ie.pts!==Se.pts);){if(Se.pts>ie.pts){Y++;continue}z++,Ze-=Se.byteLength,_e-=Se.nalCount,ze-=Se.duration}return z===0?P:z===P.length?null:(ft=P.slice(z),ft.byteLength=Ze,ft.duration=ze,ft.nalCount=_e,ft.pts=ft[0].pts,ft.dts=ft[0].dts,ft)},this.alignGopsAtEnd_=function(P){var Y,z,ie,Se,Ze,_e;for(Y=w.length-1,z=P.length-1,Ze=null,_e=!1;Y>=0&&z>=0;){if(ie=w[Y],Se=P[z],ie.pts===Se.pts){_e=!0;break}if(ie.pts>Se.pts){Y--;continue}Y===w.length-1&&(Ze=z),z--}if(!_e&&Ze===null)return null;var ze;if(_e?ze=z:ze=Ze,ze===0)return P;var ft=P.slice(ze),Ki=ft.reduce(function(fs,wo){return fs.byteLength+=wo.byteLength,fs.duration+=wo.duration,fs.nalCount+=wo.nalCount,fs},{byteLength:0,duration:0,nalCount:0});return ft.byteLength=Ki.byteLength,ft.duration=Ki.duration,ft.nalCount=Ki.nalCount,ft.pts=ft[0].pts,ft.dts=ft[0].dts,ft},this.alignGopsWith=function(P){w=P}},nm.prototype=new em,Rl=function(y,S){this.numberOfTracks=0,this.metadataStream=S,y=y||{},typeof y.remux<"u"?this.remuxTracks=!!y.remux:this.remuxTracks=!0,typeof y.keepOriginalTimestamps=="boolean"?this.keepOriginalTimestamps=y.keepOriginalTimestamps:this.keepOriginalTimestamps=!1,this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,Rl.prototype.init.call(this),this.push=function(C){if(C.content||C.text)return this.pendingCaptions.push(C);if(C.frames)return this.pendingMetadata.push(C);this.pendingTracks.push(C.track),this.pendingBytes+=C.boxes.byteLength,C.track.type==="video"&&(this.videoTrack=C.track,this.pendingBoxes.push(C.boxes)),C.track.type==="audio"&&(this.audioTrack=C.track,this.pendingBoxes.unshift(C.boxes))}},Rl.prototype=new em,Rl.prototype.flush=function(y){var S=0,C={captions:[],captionStreams:{},metadata:[],info:{}},T,w,k,D=0,P;if(this.pendingTracks.length<this.numberOfTracks){if(y!=="VideoSegmentStream"&&y!=="AudioSegmentStream")return;if(this.remuxTracks)return;if(this.pendingTracks.length===0){this.emittedTracks++,this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0);return}}if(this.videoTrack?(D=this.videoTrack.timelineStartInfo.pts,u8.forEach(function(Y){C.info[Y]=this.videoTrack[Y]},this)):this.audioTrack&&(D=this.audioTrack.timelineStartInfo.pts,c8.forEach(function(Y){C.info[Y]=this.audioTrack[Y]},this)),this.videoTrack||this.audioTrack){for(this.pendingTracks.length===1?C.type=this.pendingTracks[0].type:C.type="combined",this.emittedTracks+=this.pendingTracks.length,k=Dh.initSegment(this.pendingTracks),C.initSegment=new Uint8Array(k.byteLength),C.initSegment.set(k),C.data=new Uint8Array(this.pendingBytes),P=0;P<this.pendingBoxes.length;P++)C.data.set(this.pendingBoxes[P],S),S+=this.pendingBoxes[P].byteLength;for(P=0;P<this.pendingCaptions.length;P++)T=this.pendingCaptions[P],T.startTime=im.metadataTsToSeconds(T.startPts,D,this.keepOriginalTimestamps),T.endTime=im.metadataTsToSeconds(T.endPts,D,this.keepOriginalTimestamps),C.captionStreams[T.stream]=!0,C.captions.push(T);for(P=0;P<this.pendingMetadata.length;P++)w=this.pendingMetadata[P],w.cueTime=im.metadataTsToSeconds(w.pts,D,this.keepOriginalTimestamps),C.metadata.push(w);for(C.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",C),P=0;P<C.captions.length;P++)T=C.captions[P],this.trigger("caption",T);for(P=0;P<C.metadata.length;P++)w=C.metadata[P],this.trigger("id3Frame",w)}this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},Rl.prototype.setRemux=function(y){this.remuxTracks=y},sm=function(y){var S=this,C=!0,T,w;sm.prototype.init.call(this),y=y||{},this.baseMediaDecodeTime=y.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var k={};this.transmuxPipeline_=k,k.type="aac",k.metadataStream=new Aa.MetadataStream,k.aacStream=new bz,k.audioTimestampRolloverStream=new Aa.TimestampRolloverStream("audio"),k.timedMetadataTimestampRolloverStream=new Aa.TimestampRolloverStream("timed-metadata"),k.adtsStream=new l8,k.coalesceStream=new Rl(y,k.metadataStream),k.headOfPipeline=k.aacStream,k.aacStream.pipe(k.audioTimestampRolloverStream).pipe(k.adtsStream),k.aacStream.pipe(k.timedMetadataTimestampRolloverStream).pipe(k.metadataStream).pipe(k.coalesceStream),k.metadataStream.on("timestamp",function(D){k.aacStream.setTimestamp(D.timeStamp)}),k.aacStream.on("data",function(D){D.type!=="timed-metadata"&&D.type!=="audio"||k.audioSegmentStream||(w=w||{timelineStartInfo:{baseMediaDecodeTime:S.baseMediaDecodeTime},codec:"adts",type:"audio"},k.coalesceStream.numberOfTracks++,k.audioSegmentStream=new Zh(w,y),k.audioSegmentStream.on("log",S.getLogTrigger_("audioSegmentStream")),k.audioSegmentStream.on("timingInfo",S.trigger.bind(S,"audioTimingInfo")),k.adtsStream.pipe(k.audioSegmentStream).pipe(k.coalesceStream),S.trigger("trackinfo",{hasAudio:!!w,hasVideo:!!T}))}),k.coalesceStream.on("data",this.trigger.bind(this,"data")),k.coalesceStream.on("done",this.trigger.bind(this,"done")),d8(this,k)},this.setupTsPipeline=function(){var k={};this.transmuxPipeline_=k,k.type="ts",k.metadataStream=new Aa.MetadataStream,k.packetStream=new Aa.TransportPacketStream,k.parseStream=new Aa.TransportParseStream,k.elementaryStream=new Aa.ElementaryStream,k.timestampRolloverStream=new Aa.TimestampRolloverStream,k.adtsStream=new l8,k.h264Stream=new yz,k.captionStream=new Aa.CaptionStream(y),k.coalesceStream=new Rl(y,k.metadataStream),k.headOfPipeline=k.packetStream,k.packetStream.pipe(k.parseStream).pipe(k.elementaryStream).pipe(k.timestampRolloverStream),k.timestampRolloverStream.pipe(k.h264Stream),k.timestampRolloverStream.pipe(k.adtsStream),k.timestampRolloverStream.pipe(k.metadataStream).pipe(k.coalesceStream),k.h264Stream.pipe(k.captionStream).pipe(k.coalesceStream),k.elementaryStream.on("data",function(D){var P;if(D.type==="metadata"){for(P=D.tracks.length;P--;)!T&&D.tracks[P].type==="video"?(T=D.tracks[P],T.timelineStartInfo.baseMediaDecodeTime=S.baseMediaDecodeTime):!w&&D.tracks[P].type==="audio"&&(w=D.tracks[P],w.timelineStartInfo.baseMediaDecodeTime=S.baseMediaDecodeTime);T&&!k.videoSegmentStream&&(k.coalesceStream.numberOfTracks++,k.videoSegmentStream=new nm(T,y),k.videoSegmentStream.on("log",S.getLogTrigger_("videoSegmentStream")),k.videoSegmentStream.on("timelineStartInfo",function(Y){w&&!y.keepOriginalTimestamps&&(w.timelineStartInfo=Y,k.audioSegmentStream.setEarliestDts(Y.dts-S.baseMediaDecodeTime))}),k.videoSegmentStream.on("processedGopsInfo",S.trigger.bind(S,"gopInfo")),k.videoSegmentStream.on("segmentTimingInfo",S.trigger.bind(S,"videoSegmentTimingInfo")),k.videoSegmentStream.on("baseMediaDecodeTime",function(Y){w&&k.audioSegmentStream.setVideoBaseMediaDecodeTime(Y)}),k.videoSegmentStream.on("timingInfo",S.trigger.bind(S,"videoTimingInfo")),k.h264Stream.pipe(k.videoSegmentStream).pipe(k.coalesceStream)),w&&!k.audioSegmentStream&&(k.coalesceStream.numberOfTracks++,k.audioSegmentStream=new Zh(w,y),k.audioSegmentStream.on("log",S.getLogTrigger_("audioSegmentStream")),k.audioSegmentStream.on("timingInfo",S.trigger.bind(S,"audioTimingInfo")),k.audioSegmentStream.on("segmentTimingInfo",S.trigger.bind(S,"audioSegmentTimingInfo")),k.adtsStream.pipe(k.audioSegmentStream).pipe(k.coalesceStream)),S.trigger("trackinfo",{hasAudio:!!w,hasVideo:!!T})}}),k.coalesceStream.on("data",this.trigger.bind(this,"data")),k.coalesceStream.on("id3Frame",function(D){D.dispatchType=k.metadataStream.dispatchType,S.trigger("id3Frame",D)}),k.coalesceStream.on("caption",this.trigger.bind(this,"caption")),k.coalesceStream.on("done",this.trigger.bind(this,"done")),d8(this,k)},this.setBaseMediaDecodeTime=function(k){var D=this.transmuxPipeline_;y.keepOriginalTimestamps||(this.baseMediaDecodeTime=k),w&&(w.timelineStartInfo.dts=void 0,w.timelineStartInfo.pts=void 0,sr.clearDtsInfo(w),D.audioTimestampRolloverStream&&D.audioTimestampRolloverStream.discontinuity()),T&&(D.videoSegmentStream&&(D.videoSegmentStream.gopCache_=[]),T.timelineStartInfo.dts=void 0,T.timelineStartInfo.pts=void 0,sr.clearDtsInfo(T),D.captionStream.reset()),D.timestampRolloverStream&&D.timestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(k){w&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(k)},this.setRemux=function(k){var D=this.transmuxPipeline_;y.remux=k,D&&D.coalesceStream&&D.coalesceStream.setRemux(k)},this.alignGopsWith=function(k){T&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(k)},this.getLogTrigger_=function(k){var D=this;return function(P){P.stream=k,D.trigger("log",P)}},this.push=function(k){if(C){var D=vz(k);D&&this.transmuxPipeline_.type!=="aac"?this.setupAacPipeline():!D&&this.transmuxPipeline_.type!=="ts"&&this.setupTsPipeline(),C=!1}this.transmuxPipeline_.headOfPipeline.push(k)},this.flush=function(){C=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.endTimeline=function(){this.transmuxPipeline_.headOfPipeline.endTimeline()},this.reset=function(){this.transmuxPipeline_.headOfPipeline&&this.transmuxPipeline_.headOfPipeline.reset()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}},sm.prototype=new em;var Sz={Transmuxer:sm},Tz=function(y){return y>>>0},Cz=function(y){return("00"+y.toString(16)).slice(-2)},rm={toUnsigned:Tz,toHexString:Cz},Rz=function(y){var S="";return S+=String.fromCharCode(y[0]),S+=String.fromCharCode(y[1]),S+=String.fromCharCode(y[2]),S+=String.fromCharCode(y[3]),S},p8=Rz,Iz=rm.toUnsigned,wz=p8,m8=function(y,S){var C=[],T,w,k,D,P;if(!S.length)return null;for(T=0;T<y.byteLength;)w=Iz(y[T]<<24|y[T+1]<<16|y[T+2]<<8|y[T+3]),k=wz(y.subarray(T+4,T+8)),D=w>1?T+w:y.byteLength,k===S[0]&&(S.length===1?C.push(y.subarray(T+8,D)):(P=m8(y.subarray(T+8,D),S.slice(1)),P.length&&(C=C.concat(P)))),T=D;return C},Zb=m8,_z=rm.toUnsigned,xz=r.getUint64,Nz=function(y){var S={version:y[0],flags:new Uint8Array(y.subarray(1,4))};return S.version===1?S.baseMediaDecodeTime=xz(y.subarray(4)):S.baseMediaDecodeTime=_z(y[4]<<24|y[5]<<16|y[6]<<8|y[7]),S},Pb=Nz,Vz=function(y){var S=new DataView(y.buffer,y.byteOffset,y.byteLength),C={version:y[0],flags:new Uint8Array(y.subarray(1,4)),trackId:S.getUint32(4)},T=C.flags[2]&1,w=C.flags[2]&2,k=C.flags[2]&8,D=C.flags[2]&16,P=C.flags[2]&32,Y=C.flags[0]&65536,z=C.flags[0]&131072,ie;return ie=8,T&&(ie+=4,C.baseDataOffset=S.getUint32(12),ie+=4),w&&(C.sampleDescriptionIndex=S.getUint32(ie),ie+=4),k&&(C.defaultSampleDuration=S.getUint32(ie),ie+=4),D&&(C.defaultSampleSize=S.getUint32(ie),ie+=4),P&&(C.defaultSampleFlags=S.getUint32(ie)),Y&&(C.durationIsEmpty=!0),!T&&z&&(C.baseDataOffsetIsMoof=!0),C},g8=Vz,Lz=function(y){return{isLeading:(y[0]&12)>>>2,dependsOn:y[0]&3,isDependedOn:(y[1]&192)>>>6,hasRedundancy:(y[1]&48)>>>4,paddingValue:(y[1]&14)>>>1,isNonSyncSample:y[1]&1,degradationPriority:y[2]<<8|y[3]}},kz=Lz,y8=kz,Fz=function(y){var S={version:y[0],flags:new Uint8Array(y.subarray(1,4)),samples:[]},C=new DataView(y.buffer,y.byteOffset,y.byteLength),T=S.flags[2]&1,w=S.flags[2]&4,k=S.flags[1]&1,D=S.flags[1]&2,P=S.flags[1]&4,Y=S.flags[1]&8,z=C.getUint32(4),ie=8,Se;for(T&&(S.dataOffset=C.getInt32(ie),ie+=4),w&&z&&(Se={flags:y8(y.subarray(ie,ie+4))},ie+=4,k&&(Se.duration=C.getUint32(ie),ie+=4),D&&(Se.size=C.getUint32(ie),ie+=4),Y&&(S.version===1?Se.compositionTimeOffset=C.getInt32(ie):Se.compositionTimeOffset=C.getUint32(ie),ie+=4),S.samples.push(Se),z--);z--;)Se={},k&&(Se.duration=C.getUint32(ie),ie+=4),D&&(Se.size=C.getUint32(ie),ie+=4),P&&(Se.flags=y8(y.subarray(ie,ie+4)),ie+=4),Y&&(S.version===1?Se.compositionTimeOffset=C.getInt32(ie):Se.compositionTimeOffset=C.getUint32(ie),ie+=4),S.samples.push(Se);return S},b8=Fz,v8={tfdt:Pb,trun:b8},E8={parseTfdt:v8.tfdt,parseTrun:v8.trun},Uz=function(y){for(var S=0,C=String.fromCharCode(y[S]),T="";C!=="\0";)T+=C,S++,C=String.fromCharCode(y[S]);return T+=C,T},Bz={uint8ToCString:Uz},am=Bz.uint8ToCString,Wz=r.getUint64,Gz=function(y){var S=4,C=y[0],T,w,k,D,P,Y,z,ie;if(C===0){T=am(y.subarray(S)),S+=T.length,w=am(y.subarray(S)),S+=w.length;var Se=new DataView(y.buffer);k=Se.getUint32(S),S+=4,P=Se.getUint32(S),S+=4,Y=Se.getUint32(S),S+=4,z=Se.getUint32(S),S+=4}else if(C===1){var Se=new DataView(y.buffer);k=Se.getUint32(S),S+=4,D=Wz(y.subarray(S)),S+=8,Y=Se.getUint32(S),S+=4,z=Se.getUint32(S),S+=4,T=am(y.subarray(S)),S+=T.length,w=am(y.subarray(S)),S+=w.length}ie=new Uint8Array(y.subarray(S,y.byteLength));var Ze={scheme_id_uri:T,value:w,timescale:k||1,presentation_time:D,presentation_time_delta:P,event_duration:Y,id:z,message_data:ie};return Mz(C,Ze)?Ze:void 0},Dz=function(y,S,C,T){return y||y===0?y/S:T+C/S},Mz=function(y,S){var C=S.scheme_id_uri!=="\0",T=y===0&&A8(S.presentation_time_delta)&&C,w=y===1&&A8(S.presentation_time)&&C;return!(y>1)&&T||w},A8=function(y){return y!==void 0||y!==null},Zz={parseEmsgBox:Gz,scaleTime:Dz},Ph;typeof window<"u"?Ph=window:typeof t<"u"?Ph=t:typeof self<"u"?Ph=self:Ph={};var S8=Ph,om=rm.toUnsigned,Oh=rm.toHexString,Ii=Zb,Yc=p8,Ob=Zz,Pz=g8,Oz=b8,Xz=Pb,Yz=r.getUint64,T8,C8,R8,I8,w8,Xb,_8,Yb=S8,$z=Q9.parseId3Frames;T8=function(y){var S={},C=Ii(y,["moov","trak"]);return C.reduce(function(T,w){var k,D,P,Y,z;return k=Ii(w,["tkhd"])[0],!k||(D=k[0],P=D===0?12:20,Y=om(k[P]<<24|k[P+1]<<16|k[P+2]<<8|k[P+3]),z=Ii(w,["mdia","mdhd"])[0],!z)?null:(D=z[0],P=D===0?12:20,T[Y]=om(z[P]<<24|z[P+1]<<16|z[P+2]<<8|z[P+3]),T)},S)},C8=function(y,S){var C;C=Ii(S,["moof","traf"]);var T=C.reduce(function(w,k){var D=Ii(k,["tfhd"])[0],P=om(D[4]<<24|D[5]<<16|D[6]<<8|D[7]),Y=y[P]||9e4,z=Ii(k,["tfdt"])[0],ie=new DataView(z.buffer,z.byteOffset,z.byteLength),Se;z[0]===1?Se=Yz(z.subarray(4,12)):Se=ie.getUint32(4);let Ze;return typeof Se=="bigint"?Ze=Se/Yb.BigInt(Y):typeof Se=="number"&&!isNaN(Se)&&(Ze=Se/Y),Ze<Number.MAX_SAFE_INTEGER&&(Ze=Number(Ze)),Ze<w&&(w=Ze),w},1/0);return typeof T=="bigint"||isFinite(T)?T:0},R8=function(y,S){var C=Ii(S,["moof","traf"]),T=0,w=0,k;if(C&&C.length){var D=Ii(C[0],["tfhd"])[0],P=Ii(C[0],["trun"])[0],Y=Ii(C[0],["tfdt"])[0];if(D){var z=Pz(D);k=z.trackId}if(Y){var ie=Xz(Y);T=ie.baseMediaDecodeTime}if(P){var Se=Oz(P);Se.samples&&Se.samples.length&&(w=Se.samples[0].compositionTimeOffset||0)}}var Ze=y[k]||9e4;typeof T=="bigint"&&(w=Yb.BigInt(w),Ze=Yb.BigInt(Ze));var _e=(T+w)/Ze;return typeof _e=="bigint"&&_e<Number.MAX_SAFE_INTEGER&&(_e=Number(_e)),_e},I8=function(y){var S=Ii(y,["moov","trak"]),C=[];return S.forEach(function(T){var w=Ii(T,["mdia","hdlr"]),k=Ii(T,["tkhd"]);w.forEach(function(D,P){var Y=Yc(D.subarray(8,12)),z=k[P],ie,Se,Ze;Y==="vide"&&(ie=new DataView(z.buffer,z.byteOffset,z.byteLength),Se=ie.getUint8(0),Ze=Se===0?ie.getUint32(12):ie.getUint32(20),C.push(Ze))})}),C},Xb=function(y){var S=y[0],C=S===0?12:20;return om(y[C]<<24|y[C+1]<<16|y[C+2]<<8|y[C+3])},w8=function(y){var S=Ii(y,["moov","trak"]),C=[];return S.forEach(function(T){var w={},k=Ii(T,["tkhd"])[0],D,P;k&&(D=new DataView(k.buffer,k.byteOffset,k.byteLength),P=D.getUint8(0),w.id=P===0?D.getUint32(12):D.getUint32(20));var Y=Ii(T,["mdia","hdlr"])[0];if(Y){var z=Yc(Y.subarray(8,12));z==="vide"?w.type="video":z==="soun"?w.type="audio":w.type=z}var ie=Ii(T,["mdia","minf","stbl","stsd"])[0];if(ie){var Se=ie.subarray(8);w.codec=Yc(Se.subarray(4,8));var Ze=Ii(Se,[w.codec])[0],_e,ze;Ze&&(/^[asm]vc[1-9]$/i.test(w.codec)?(_e=Ze.subarray(78),ze=Yc(_e.subarray(4,8)),ze==="avcC"&&_e.length>11?(w.codec+=".",w.codec+=Oh(_e[9]),w.codec+=Oh(_e[10]),w.codec+=Oh(_e[11])):w.codec="avc1.4d400d"):/^mp4[a,v]$/i.test(w.codec)?(_e=Ze.subarray(28),ze=Yc(_e.subarray(4,8)),ze==="esds"&&_e.length>20&&_e[19]!==0?(w.codec+="."+Oh(_e[19]),w.codec+="."+Oh(_e[20]>>>2&63).replace(/^0/,"")):w.codec="mp4a.40.2"):w.codec=w.codec.toLowerCase())}var ft=Ii(T,["mdia","mdhd"])[0];ft&&(w.timescale=Xb(ft)),C.push(w)}),C},_8=function(y,S=0){var C=Ii(y,["emsg"]);return C.map(T=>{var w=Ob.parseEmsgBox(new Uint8Array(T)),k=$z(w.message_data);return{cueTime:Ob.scaleTime(w.presentation_time,w.timescale,w.presentation_time_delta,S),duration:Ob.scaleTime(w.event_duration,w.timescale),frames:k}})};var Xh={findBox:Ii,parseType:Yc,timescale:T8,startTime:C8,compositionStartTime:R8,videoTrackIds:I8,tracks:w8,getTimescaleFromMediaHeader:Xb,getEmsgID3:_8};const{parseTrun:Kz}=E8,{findBox:x8}=Xh;var N8=S8,zz=function(y){var S=x8(y,["moof","traf"]),C=x8(y,["mdat"]),T=[];return C.forEach(function(w,k){var D=S[k];T.push({mdat:w,traf:D})}),T},Jz=function(y,S,C){var T=S,w=C.defaultSampleDuration||0,k=C.defaultSampleSize||0,D=C.trackId,P=[];return y.forEach(function(Y){var z=Kz(Y),ie=z.samples;ie.forEach(function(Se){Se.duration===void 0&&(Se.duration=w),Se.size===void 0&&(Se.size=k),Se.trackId=D,Se.dts=T,Se.compositionTimeOffset===void 0&&(Se.compositionTimeOffset=0),typeof T=="bigint"?(Se.pts=T+N8.BigInt(Se.compositionTimeOffset),T+=N8.BigInt(Se.duration)):(Se.pts=T+Se.compositionTimeOffset,T+=Se.duration)}),P=P.concat(ie)}),P},V8={getMdatTrafPairs:zz,parseSamples:Jz},jz=K9.discardEmulationPreventionBytes,Hz=z9.CaptionStream,$b=Zb,Qz=Pb,qz=g8,{getMdatTrafPairs:eJ,parseSamples:tJ}=V8,iJ=function(y,S){for(var C=y,T=0;T<S.length;T++){var w=S[T];if(C<w.size)return w;C-=w.size}return null},nJ=function(y,S,C){var T=new DataView(y.buffer,y.byteOffset,y.byteLength),w={logs:[],seiNals:[]},k,D,P,Y;for(D=0;D+4<y.length;D+=P)if(P=T.getUint32(D),D+=4,!(P<=0))switch(y[D]&31){case 6:var z=y.subarray(D+1,D+1+P),ie=iJ(D,S);if(k={nalUnitType:"sei_rbsp",size:P,data:z,escapedRBSP:jz(z),trackId:C},ie)k.pts=ie.pts,k.dts=ie.dts,Y=ie;else if(Y)k.pts=Y.pts,k.dts=Y.dts;else{w.logs.push({level:"warn",message:"We've encountered a nal unit without data at "+D+" for trackId "+C+". See mux.js#223."});break}w.seiNals.push(k);break}return w},sJ=function(y,S){var C={},T=eJ(y);return T.forEach(function(w){var k=w.mdat,D=w.traf,P=$b(D,["tfhd"]),Y=qz(P[0]),z=Y.trackId,ie=$b(D,["tfdt"]),Se=ie.length>0?Qz(ie[0]).baseMediaDecodeTime:0,Ze=$b(D,["trun"]),_e,ze;S===z&&Ze.length>0&&(_e=tJ(Ze,Se,Y),ze=nJ(k,_e,z),C[z]||(C[z]={seiNals:[],logs:[]}),C[z].seiNals=C[z].seiNals.concat(ze.seiNals),C[z].logs=C[z].logs.concat(ze.logs))}),C},rJ=function(y,S,C){var T;if(S===null)return null;T=sJ(y,S);var w=T[S]||{};return{seiNals:w.seiNals,logs:w.logs,timescale:C}},aJ=function(){var y=!1,S,C,T,w,k,D;this.isInitialized=function(){return y},this.init=function(P){S=new Hz,y=!0,D=P?P.isPartial:!1,S.on("data",function(Y){Y.startTime=Y.startPts/w,Y.endTime=Y.endPts/w,k.captions.push(Y),k.captionStreams[Y.stream]=!0}),S.on("log",function(Y){k.logs.push(Y)})},this.isNewInit=function(P,Y){return P&&P.length===0||Y&&typeof Y=="object"&&Object.keys(Y).length===0?!1:T!==P[0]||w!==Y[T]},this.parse=function(P,Y,z){var ie;if(this.isInitialized()){if(!Y||!z)return null;if(this.isNewInit(Y,z))T=Y[0],w=z[T];else if(T===null||!w)return C.push(P),null}else return null;for(;C.length>0;){var Se=C.shift();this.parse(Se,Y,z)}return ie=rJ(P,T,w),ie&&ie.logs&&(k.logs=k.logs.concat(ie.logs)),ie===null||!ie.seiNals?k.logs.length?{logs:k.logs,captions:[],captionStreams:[]}:null:(this.pushNals(ie.seiNals),this.flushStream(),k)},this.pushNals=function(P){if(!this.isInitialized()||!P||P.length===0)return null;P.forEach(function(Y){S.push(Y)})},this.flushStream=function(){if(!this.isInitialized())return null;D?S.partialFlush():S.flush()},this.clearParsedCaptions=function(){k.captions=[],k.captionStreams={},k.logs=[]},this.resetCaptionStream=function(){if(!this.isInitialized())return null;S.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){C=[],T=null,w=null,k?this.clearParsedCaptions():k={captions:[],captionStreams:{},logs:[]},this.resetCaptionStream()},this.reset()},oJ=aJ;const{parseTfdt:lJ}=E8,Io=Zb,{getTimescaleFromMediaHeader:cJ}=Xh,{parseSamples:uJ,getMdatTrafPairs:dJ}=V8;var L8=function(){let y=9e4;this.init=function(S){const C=Io(S,["moov","trak","mdia","mdhd"])[0];C&&(y=cJ(C))},this.parseSegment=function(S){const C=[],T=dJ(S);let w=0;return T.forEach(function(k){const D=k.mdat,P=k.traf,Y=Io(P,["tfdt"])[0],z=Io(P,["tfhd"])[0],ie=Io(P,["trun"]);if(Y&&(w=lJ(Y).baseMediaDecodeTime),ie.length&&z){const Se=uJ(ie,w,z);let Ze=0;Se.forEach(function(_e){const ze="utf-8",ft=new TextDecoder(ze),Ki=D.slice(Ze,Ze+_e.size);if(Io(Ki,["vtte"])[0]){Ze+=_e.size;return}Io(Ki,["vttc"]).forEach(function(Yh){const $h=Io(Yh,["payl"])[0],Kh=Io(Yh,["sttg"])[0],zh=_e.pts/y,um=(_e.pts+_e.duration)/y;let ei,Jh;if($h)try{ei=ft.decode($h)}catch(rr){console.error(rr)}if(Kh)try{Jh=ft.decode(Kh)}catch(rr){console.error(rr)}_e.duration&&ei&&C.push({cueText:ei,start:zh,end:um,settings:Jh})}),Ze+=_e.size})}}),C}},Kb=X0,k8=function(y){var S=y[1]&31;return S<<=8,S|=y[2],S},lm=function(y){return!!(y[1]&64)},cm=function(y){var S=0;return(y[3]&48)>>>4>1&&(S+=y[4]+1),S},hJ=function(y,S){var C=k8(y);return C===0?"pat":C===S?"pmt":S?"pes":null},fJ=function(y){var S=lm(y),C=4+cm(y);return S&&(C+=y[C]+1),(y[C+10]&31)<<8|y[C+11]},pJ=function(y){var S={},C=lm(y),T=4+cm(y);if(C&&(T+=y[T]+1),!!(y[T+5]&1)){var w,k,D;w=(y[T+1]&15)<<8|y[T+2],k=3+w-4,D=(y[T+10]&15)<<8|y[T+11];for(var P=12+D;P<k;){var Y=T+P;S[(y[Y+1]&31)<<8|y[Y+2]]=y[Y],P+=((y[Y+3]&15)<<8|y[Y+4])+5}return S}},mJ=function(y,S){var C=k8(y),T=S[C];switch(T){case Kb.H264_STREAM_TYPE:return"video";case Kb.ADTS_STREAM_TYPE:return"audio";case Kb.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},gJ=function(y){var S=lm(y);if(!S)return null;var C=4+cm(y);if(C>=y.byteLength)return null;var T=null,w;return w=y[C+7],w&192&&(T={},T.pts=(y[C+9]&14)<<27|(y[C+10]&255)<<20|(y[C+11]&254)<<12|(y[C+12]&255)<<5|(y[C+13]&254)>>>3,T.pts*=4,T.pts+=(y[C+13]&6)>>>1,T.dts=T.pts,w&64&&(T.dts=(y[C+14]&14)<<27|(y[C+15]&255)<<20|(y[C+16]&254)<<12|(y[C+17]&255)<<5|(y[C+18]&254)>>>3,T.dts*=4,T.dts+=(y[C+18]&6)>>>1)),T},zb=function(y){switch(y){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},yJ=function(y){for(var S=4+cm(y),C=y.subarray(S),T=0,w=0,k=!1,D;w<C.byteLength-3;w++)if(C[w+2]===1){T=w+5;break}for(;T<C.byteLength;)switch(C[T]){case 0:if(C[T-1]!==0){T+=2;break}else if(C[T-2]!==0){T++;break}w+3!==T-2&&(D=zb(C[w+3]&31),D==="slice_layer_without_partitioning_rbsp_idr"&&(k=!0));do T++;while(C[T]!==1&&T<C.length);w=T-2,T+=3;break;case 1:if(C[T-1]!==0||C[T-2]!==0){T+=3;break}D=zb(C[w+3]&31),D==="slice_layer_without_partitioning_rbsp_idr"&&(k=!0),w=T-2,T+=3;break;default:T+=3;break}return C=C.subarray(w),T-=w,w=0,C&&C.byteLength>3&&(D=zb(C[w+3]&31),D==="slice_layer_without_partitioning_rbsp_idr"&&(k=!0)),k},bJ={parseType:hJ,parsePat:fJ,parsePmt:pJ,parsePayloadUnitStartIndicator:lm,parsePesType:mJ,parsePesTime:gJ,videoPacketContainsKeyFrame:yJ},F8=X0,$c=j9.handleRollover,Bt={};Bt.ts=bJ,Bt.aac=Mb;var Il=N.ONE_SECOND_IN_TS,Ln=188,xr=71,vJ=function(y,S){for(var C=0,T=Ln,w,k;T<y.byteLength;){if(y[C]===xr&&y[T]===xr){switch(w=y.subarray(C,T),k=Bt.ts.parseType(w,S.pid),k){case"pat":S.pid=Bt.ts.parsePat(w);break;case"pmt":var D=Bt.ts.parsePmt(w);S.table=S.table||{},Object.keys(D).forEach(function(P){S.table[P]=D[P]});break}C+=Ln,T+=Ln;continue}C++,T++}},U8=function(y,S,C){for(var T=0,w=Ln,k,D,P,Y,z,ie=!1;w<=y.byteLength;){if(y[T]===xr&&(y[w]===xr||w===y.byteLength)){switch(k=y.subarray(T,w),D=Bt.ts.parseType(k,S.pid),D){case"pes":P=Bt.ts.parsePesType(k,S.table),Y=Bt.ts.parsePayloadUnitStartIndicator(k),P==="audio"&&Y&&(z=Bt.ts.parsePesTime(k),z&&(z.type="audio",C.audio.push(z),ie=!0));break}if(ie)break;T+=Ln,w+=Ln;continue}T++,w++}for(w=y.byteLength,T=w-Ln,ie=!1;T>=0;){if(y[T]===xr&&(y[w]===xr||w===y.byteLength)){switch(k=y.subarray(T,w),D=Bt.ts.parseType(k,S.pid),D){case"pes":P=Bt.ts.parsePesType(k,S.table),Y=Bt.ts.parsePayloadUnitStartIndicator(k),P==="audio"&&Y&&(z=Bt.ts.parsePesTime(k),z&&(z.type="audio",C.audio.push(z),ie=!0));break}if(ie)break;T-=Ln,w-=Ln;continue}T--,w--}},EJ=function(y,S,C){for(var T=0,w=Ln,k,D,P,Y,z,ie,Se,Ze,_e=!1,ze={data:[],size:0};w<y.byteLength;){if(y[T]===xr&&y[w]===xr){switch(k=y.subarray(T,w),D=Bt.ts.parseType(k,S.pid),D){case"pes":if(P=Bt.ts.parsePesType(k,S.table),Y=Bt.ts.parsePayloadUnitStartIndicator(k),P==="video"&&(Y&&!_e&&(z=Bt.ts.parsePesTime(k),z&&(z.type="video",C.video.push(z),_e=!0)),!C.firstKeyFrame)){if(Y&&ze.size!==0){for(ie=new Uint8Array(ze.size),Se=0;ze.data.length;)Ze=ze.data.shift(),ie.set(Ze,Se),Se+=Ze.byteLength;if(Bt.ts.videoPacketContainsKeyFrame(ie)){var ft=Bt.ts.parsePesTime(ie);ft?(C.firstKeyFrame=ft,C.firstKeyFrame.type="video"):console.warn("Failed to extract PTS/DTS from PES at first keyframe. This could be an unusual TS segment, or else mux.js did not parse your TS segment correctly. If you know your TS segments do contain PTS/DTS on keyframes please file a bug report! You can try ffprobe to double check for yourself.")}ze.size=0}ze.data.push(k),ze.size+=k.byteLength}break}if(_e&&C.firstKeyFrame)break;T+=Ln,w+=Ln;continue}T++,w++}for(w=y.byteLength,T=w-Ln,_e=!1;T>=0;){if(y[T]===xr&&y[w]===xr){switch(k=y.subarray(T,w),D=Bt.ts.parseType(k,S.pid),D){case"pes":P=Bt.ts.parsePesType(k,S.table),Y=Bt.ts.parsePayloadUnitStartIndicator(k),P==="video"&&Y&&(z=Bt.ts.parsePesTime(k),z&&(z.type="video",C.video.push(z),_e=!0));break}if(_e)break;T-=Ln,w-=Ln;continue}T--,w--}},AJ=function(y,S){if(y.audio&&y.audio.length){var C=S;(typeof C>"u"||isNaN(C))&&(C=y.audio[0].dts),y.audio.forEach(function(k){k.dts=$c(k.dts,C),k.pts=$c(k.pts,C),k.dtsTime=k.dts/Il,k.ptsTime=k.pts/Il})}if(y.video&&y.video.length){var T=S;if((typeof T>"u"||isNaN(T))&&(T=y.video[0].dts),y.video.forEach(function(k){k.dts=$c(k.dts,T),k.pts=$c(k.pts,T),k.dtsTime=k.dts/Il,k.ptsTime=k.pts/Il}),y.firstKeyFrame){var w=y.firstKeyFrame;w.dts=$c(w.dts,T),w.pts=$c(w.pts,T),w.dtsTime=w.dts/Il,w.ptsTime=w.pts/Il}}},SJ=function(y){for(var S=!1,C=0,T=null,w=null,k=0,D=0,P;y.length-D>=3;){var Y=Bt.aac.parseType(y,D);switch(Y){case"timed-metadata":if(y.length-D<10){S=!0;break}if(k=Bt.aac.parseId3TagSize(y,D),k>y.length){S=!0;break}w===null&&(P=y.subarray(D,D+k),w=Bt.aac.parseAacTimestamp(P)),D+=k;break;case"audio":if(y.length-D<7){S=!0;break}if(k=Bt.aac.parseAdtsSize(y,D),k>y.length){S=!0;break}T===null&&(P=y.subarray(D,D+k),T=Bt.aac.parseSampleRate(P)),C++,D+=k;break;default:D++;break}if(S)return null}if(T===null||w===null)return null;var z=Il/T,ie={audio:[{type:"audio",dts:w,pts:w},{type:"audio",dts:w+C*1024*z,pts:w+C*1024*z}]};return ie},TJ=function(y){var S={pid:null,table:null},C={};vJ(y,S);for(var T in S.table)if(S.table.hasOwnProperty(T)){var w=S.table[T];switch(w){case F8.H264_STREAM_TYPE:C.video=[],EJ(y,S,C),C.video.length===0&&delete C.video;break;case F8.ADTS_STREAM_TYPE:C.audio=[],U8(y,S,C),C.audio.length===0&&delete C.audio;break}}return C},CJ=function(y,S){var C=Bt.aac.isLikelyAacData(y),T;return C?T=SJ(y):T=TJ(y),!T||!T.audio&&!T.video?null:(AJ(T,S),T)},RJ={inspect:CJ,parseAudioPes_:U8};const IJ=function(y,S){S.on("data",function(C){const T=C.initSegment;C.initSegment={data:T.buffer,byteOffset:T.byteOffset,byteLength:T.byteLength};const w=C.data;C.data=w.buffer,y.postMessage({action:"data",segment:C,byteOffset:w.byteOffset,byteLength:w.byteLength},[C.data])}),S.on("done",function(C){y.postMessage({action:"done"})}),S.on("gopInfo",function(C){y.postMessage({action:"gopInfo",gopInfo:C})}),S.on("videoSegmentTimingInfo",function(C){const T={start:{decode:N.videoTsToSeconds(C.start.dts),presentation:N.videoTsToSeconds(C.start.pts)},end:{decode:N.videoTsToSeconds(C.end.dts),presentation:N.videoTsToSeconds(C.end.pts)},baseMediaDecodeTime:N.videoTsToSeconds(C.baseMediaDecodeTime)};C.prependedContentDuration&&(T.prependedContentDuration=N.videoTsToSeconds(C.prependedContentDuration)),y.postMessage({action:"videoSegmentTimingInfo",videoSegmentTimingInfo:T})}),S.on("audioSegmentTimingInfo",function(C){const T={start:{decode:N.videoTsToSeconds(C.start.dts),presentation:N.videoTsToSeconds(C.start.pts)},end:{decode:N.videoTsToSeconds(C.end.dts),presentation:N.videoTsToSeconds(C.end.pts)},baseMediaDecodeTime:N.videoTsToSeconds(C.baseMediaDecodeTime)};C.prependedContentDuration&&(T.prependedContentDuration=N.videoTsToSeconds(C.prependedContentDuration)),y.postMessage({action:"audioSegmentTimingInfo",audioSegmentTimingInfo:T})}),S.on("id3Frame",function(C){y.postMessage({action:"id3Frame",id3Frame:C})}),S.on("caption",function(C){y.postMessage({action:"caption",caption:C})}),S.on("trackinfo",function(C){y.postMessage({action:"trackinfo",trackInfo:C})}),S.on("audioTimingInfo",function(C){y.postMessage({action:"audioTimingInfo",audioTimingInfo:{start:N.videoTsToSeconds(C.start),end:N.videoTsToSeconds(C.end)}})}),S.on("videoTimingInfo",function(C){y.postMessage({action:"videoTimingInfo",videoTimingInfo:{start:N.videoTsToSeconds(C.start),end:N.videoTsToSeconds(C.end)}})}),S.on("log",function(C){y.postMessage({action:"log",log:C})})};class B8{constructor(S,C){this.options=C||{},this.self=S,this.init()}init(){this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Sz.Transmuxer(this.options),IJ(this.self,this.transmuxer)}pushMp4Captions(S){this.captionParser||(this.captionParser=new oJ,this.captionParser.init());const C=new Uint8Array(S.data,S.byteOffset,S.byteLength),T=this.captionParser.parse(C,S.trackIds,S.timescales);this.self.postMessage({action:"mp4Captions",captions:T&&T.captions||[],logs:T&&T.logs||[],data:C.buffer},[C.buffer])}initMp4WebVttParser(S){this.webVttParser||(this.webVttParser=new L8);const C=new Uint8Array(S.data,S.byteOffset,S.byteLength);this.webVttParser.init(C)}getMp4WebVttText(S){this.webVttParser||(this.webVttParser=new L8);const C=new Uint8Array(S.data,S.byteOffset,S.byteLength),T=this.webVttParser.parseSegment(C);this.self.postMessage({action:"getMp4WebVttText",mp4VttCues:T||[],data:C.buffer},[C.buffer])}probeMp4StartTime({timescales:S,data:C}){const T=Xh.startTime(S,C);this.self.postMessage({action:"probeMp4StartTime",startTime:T,data:C},[C.buffer])}probeMp4Tracks({data:S}){const C=Xh.tracks(S);this.self.postMessage({action:"probeMp4Tracks",tracks:C,data:S},[S.buffer])}probeEmsgID3({data:S,offset:C}){const T=Xh.getEmsgID3(S,C);this.self.postMessage({action:"probeEmsgID3",id3Frames:T,emsgData:S},[S.buffer])}probeTs({data:S,baseStartTime:C}){const T=typeof C=="number"&&!isNaN(C)?C*N.ONE_SECOND_IN_TS:void 0,w=RJ.inspect(S,T);let k=null;w&&(k={hasVideo:w.video&&w.video.length===2||!1,hasAudio:w.audio&&w.audio.length===2||!1},k.hasVideo&&(k.videoStart=w.video[0].ptsTime),k.hasAudio&&(k.audioStart=w.audio[0].ptsTime)),this.self.postMessage({action:"probeTs",result:k,data:S},[S.buffer])}clearAllMp4Captions(){this.captionParser&&this.captionParser.clearAllCaptions()}clearParsedMp4Captions(){this.captionParser&&this.captionParser.clearParsedCaptions()}push(S){const C=new Uint8Array(S.data,S.byteOffset,S.byteLength);this.transmuxer.push(C)}reset(){this.transmuxer.reset()}setTimestampOffset(S){const C=S.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(N.secondsToVideoTs(C)))}setAudioAppendStart(S){this.transmuxer.setAudioAppendStart(Math.ceil(N.secondsToVideoTs(S.appendStart)))}setRemux(S){this.transmuxer.setRemux(S.remux)}flush(S){this.transmuxer.flush(),self.postMessage({action:"done",type:"transmuxed"})}endTimeline(){this.transmuxer.endTimeline(),self.postMessage({action:"endedtimeline",type:"transmuxed"})}alignGopsWith(S){this.transmuxer.alignGopsWith(S.gopsToAlignWith.slice())}}self.onmessage=function(y){if(y.data.action==="init"&&y.data.options){this.messageHandlers=new B8(self,y.data.options);return}this.messageHandlers||(this.messageHandlers=new B8(self)),y.data&&y.data.action&&y.data.action!=="init"&&this.messageHandlers[y.data.action]&&this.messageHandlers[y.data.action](y.data)}}));var z_e=bX(K_e);const J_e=(t,e,i)=>{const{type:n,initSegment:s,captions:r,captionStreams:a,metadata:o,videoFrameDtsTime:l,videoFramePtsTime:c}=t.data.segment;e.buffer.push({captions:r,captionStreams:a,metadata:o});const u=t.data.segment.boxes||{data:t.data.segment.data},d={type:n,data:new Uint8Array(u.data,u.data.byteOffset,u.data.byteLength),initSegment:new Uint8Array(s.data,s.byteOffset,s.byteLength)};typeof l<"u"&&(d.videoFrameDtsTime=l),typeof c<"u"&&(d.videoFramePtsTime=c),i(d)},j_e=({transmuxedData:t,callback:e})=>{t.buffer=[],e(t)},H_e=(t,e)=>{e.gopInfo=t.data.gopInfo},AX=t=>{const{transmuxer:e,bytes:i,audioAppendStart:n,gopsToAlignWith:s,remux:r,onData:a,onTrackInfo:o,onAudioTimingInfo:l,onVideoTimingInfo:c,onVideoSegmentTimingInfo:u,onAudioSegmentTimingInfo:d,onId3:h,onCaptions:f,onDone:p,onEndedTimeline:m,onTransmuxerLog:v,isEndOfTimeline:g,segment:E,triggerSegmentEventFn:A}=t,R={buffer:[]};let I=g;const L=B=>{e.currentTransmux===t&&(B.data.action==="data"&&J_e(B,R,a),B.data.action==="trackinfo"&&o(B.data.trackInfo),B.data.action==="gopInfo"&&H_e(B,R),B.data.action==="audioTimingInfo"&&l(B.data.audioTimingInfo),B.data.action==="videoTimingInfo"&&c(B.data.videoTimingInfo),B.data.action==="videoSegmentTimingInfo"&&u(B.data.videoSegmentTimingInfo),B.data.action==="audioSegmentTimingInfo"&&d(B.data.audioSegmentTimingInfo),B.data.action==="id3Frame"&&h([B.data.id3Frame],B.data.id3Frame.dispatchType),B.data.action==="caption"&&f(B.data.caption),B.data.action==="endedtimeline"&&(I=!1,m()),B.data.action==="log"&&v(B.data.log),B.data.type==="transmuxed"&&(I||(e.onmessage=null,j_e({transmuxedData:R,callback:p}),SX(e))))},F=()=>{const B={message:"Received an error message from the transmuxer worker",metadata:{errorType:he.Error.StreamingFailedToTransmuxSegment,segmentInfo:Ol({segment:E})}};p(null,B)};if(e.onmessage=L,e.onerror=F,n&&e.postMessage({action:"setAudioAppendStart",appendStart:n}),Array.isArray(s)&&e.postMessage({action:"alignGopsWith",gopsToAlignWith:s}),typeof r<"u"&&e.postMessage({action:"setRemux",remux:r}),i.byteLength){const B=i instanceof ArrayBuffer?i:i.buffer,G=i instanceof ArrayBuffer?0:i.byteOffset;A({type:"segmenttransmuxingstart",segment:E}),e.postMessage({action:"push",data:B,byteOffset:G,byteLength:i.byteLength},[B])}g&&e.postMessage({action:"endTimeline"}),e.postMessage({action:"flush"})},SX=t=>{t.currentTransmux=null,t.transmuxQueue.length&&(t.currentTransmux=t.transmuxQueue.shift(),typeof t.currentTransmux=="function"?t.currentTransmux():AX(t.currentTransmux))},wV=(t,e)=>{t.postMessage({action:e}),SX(t)},TX=(t,e)=>{if(!e.currentTransmux){e.currentTransmux=t,wV(e,t);return}e.transmuxQueue.push(wV.bind(null,e,t))},Q_e=t=>{TX("reset",t)},q_e=t=>{TX("endTimeline",t)},CX=t=>{if(!t.transmuxer.currentTransmux){t.transmuxer.currentTransmux=t,AX(t);return}t.transmuxer.transmuxQueue.push(t)},exe=t=>{const e=new z_e;e.currentTransmux=null,e.transmuxQueue=[];const i=e.terminate;return e.terminate=()=>(e.currentTransmux=null,e.transmuxQueue.length=0,i.call(e)),e.postMessage({action:"init",options:t}),e};var GE={reset:Q_e,endTimeline:q_e,transmux:CX,createTransmuxer:exe};const rd=function(t){const e=t.transmuxer,i=t.endAction||t.action,n=t.callback,s=Li({},t,{endAction:null,transmuxer:null,callback:null}),r=a=>{a.data.action===i&&(e.removeEventListener("message",r),a.data.data&&(a.data.data=new Uint8Array(a.data.data,t.byteOffset||0,t.byteLength||a.data.data.byteLength),t.data&&(t.data=a.data.data)),n(a.data))};if(e.addEventListener("message",r),t.data){const a=t.data instanceof ArrayBuffer;s.byteOffset=a?0:t.data.byteOffset,s.byteLength=t.data.byteLength;const o=[a?t.data:t.data.buffer];e.postMessage(s,o)}else e.postMessage(s)},na={FAILURE:2,TIMEOUT:-101,ABORTED:-102},RX="wvtt",$S=t=>{t.forEach(e=>{e.abort()})},txe=t=>({bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}),ixe=t=>{const e=t.target,n={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-e.requestTime||0};return n.bytesReceived=t.loaded,n.bandwidth=Math.floor(n.bytesReceived/n.roundTripTime*8*1e3),n},$4=(t,e)=>{const{requestType:i}=e,n=pc({requestType:i,request:e,error:t});return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:na.TIMEOUT,xhr:e,metadata:n}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:na.ABORTED,xhr:e,metadata:n}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:na.FAILURE,xhr:e,metadata:n}:e.responseType==="arraybuffer"&&e.response.byteLength===0?{status:e.status,message:"Empty HLS response at URL: "+e.uri,code:na.FAILURE,xhr:e,metadata:n}:null},_V=(t,e,i,n)=>(s,r)=>{const a=r.response,o=$4(s,r);if(o)return i(o,t);if(a.byteLength!==16)return i({status:r.status,message:"Invalid HLS key at URL: "+r.uri,code:na.FAILURE,xhr:r},t);const l=new DataView(a),c=new Uint32Array([l.getUint32(0),l.getUint32(4),l.getUint32(8),l.getUint32(12)]);for(let d=0;d<e.length;d++)e[d].bytes=c;const u={uri:r.uri};return n({type:"segmentkeyloadcomplete",segment:t,keyInfo:u}),i(null,t)},nxe=(t,e)=>{e===RX&&t.transmuxer.postMessage({action:"initMp4WebVttParser",data:t.map.bytes})},sxe=(t,e,i)=>{e===RX&&rd({action:"getMp4WebVttText",data:t.bytes,transmuxer:t.transmuxer,callback:({data:n,mp4VttCues:s})=>{t.bytes=n,i(null,t,{mp4VttCues:s})}})},IX=(t,e)=>{const i=g4(t.map.bytes);if(i!=="mp4"){const n=t.map.resolvedUri||t.map.uri,s=i||"unknown";return e({internal:!0,message:`Found unsupported ${s} container for initialization segment at URL: ${n}`,code:na.FAILURE,metadata:{mediaType:s}})}rd({action:"probeMp4Tracks",data:t.map.bytes,transmuxer:t.transmuxer,callback:({tracks:n,data:s})=>(t.map.bytes=s,n.forEach(function(r){t.map.tracks=t.map.tracks||{},!t.map.tracks[r.type]&&(t.map.tracks[r.type]=r,typeof r.id=="number"&&r.timescale&&(t.map.timescales=t.map.timescales||{},t.map.timescales[r.id]=r.timescale),r.type==="text"&&nxe(t,r.codec))}),e(null))})},rxe=({segment:t,finishProcessingFn:e,triggerSegmentEventFn:i})=>(n,s)=>{const r=$4(n,s);if(r)return e(r,t);const a=new Uint8Array(s.response);if(i({type:"segmentloaded",segment:t}),t.map.key)return t.map.encryptedBytes=a,e(null,t);t.map.bytes=a,IX(t,function(o){if(o)return o.xhr=s,o.status=s.status,e(o,t);e(null,t)})},axe=({segment:t,finishProcessingFn:e,responseType:i,triggerSegmentEventFn:n})=>(s,r)=>{const a=$4(s,r);if(a)return e(a,t);n({type:"segmentloaded",segment:t});const o=i==="arraybuffer"||!r.responseText?r.response:Y_e(r.responseText.substring(t.lastReachedChar||0));return t.stats=txe(r),t.key?t.encryptedBytes=new Uint8Array(o):t.bytes=new Uint8Array(o),e(null,t)},oxe=({segment:t,bytes:e,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})=>{const p=t.map&&t.map.tracks||{},m=!!(p.audio&&p.video);let v=n.bind(null,t,"audio","start");const g=n.bind(null,t,"audio","end");let E=n.bind(null,t,"video","start");const A=n.bind(null,t,"video","end"),R=()=>CX({bytes:e,transmuxer:t.transmuxer,audioAppendStart:t.audioAppendStart,gopsToAlignWith:t.gopsToAlignWith,remux:m,onData:I=>{I.type=I.type==="combined"?"video":I.type,u(t,I)},onTrackInfo:I=>{i&&(m&&(I.isMuxed=!0),i(t,I))},onAudioTimingInfo:I=>{v&&typeof I.start<"u"&&(v(I.start),v=null),g&&typeof I.end<"u"&&g(I.end)},onVideoTimingInfo:I=>{E&&typeof I.start<"u"&&(E(I.start),E=null),A&&typeof I.end<"u"&&A(I.end)},onVideoSegmentTimingInfo:I=>{const L={pts:{start:I.start.presentation,end:I.end.presentation},dts:{start:I.start.decode,end:I.end.decode}};f({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:L}),s(I)},onAudioSegmentTimingInfo:I=>{const L={pts:{start:I.start.pts,end:I.end.pts},dts:{start:I.start.dts,end:I.end.dts}};f({type:"segmenttransmuxingtiminginfoavailable",segment:t,timingInfo:L}),r(I)},onId3:(I,L)=>{a(t,I,L)},onCaptions:I=>{o(t,[I])},isEndOfTimeline:l,onEndedTimeline:()=>{c()},onTransmuxerLog:h,onDone:(I,L)=>{d&&(I.type=I.type==="combined"?"video":I.type,f({type:"segmenttransmuxingcomplete",segment:t}),d(L,t,I))},segment:t,triggerSegmentEventFn:f});rd({action:"probeTs",transmuxer:t.transmuxer,data:e,baseStartTime:t.baseStartTime,callback:I=>{t.bytes=e=I.data;const L=I.result;L&&(i(t,{hasAudio:L.hasAudio,hasVideo:L.hasVideo,isMuxed:m}),i=null),R()}})},wX=({segment:t,bytes:e,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})=>{let p=new Uint8Array(e);if(_6e(p)){t.isFmp4=!0;const{tracks:m}=t.map;if(m.text&&(!m.audio||!m.video)){u(t,{data:p,type:"text"}),sxe(t,m.text.codec,d);return}const g={isFmp4:!0,hasVideo:!!m.video,hasAudio:!!m.audio};m.audio&&m.audio.codec&&m.audio.codec!=="enca"&&(g.audioCodec=m.audio.codec),m.video&&m.video.codec&&m.video.codec!=="encv"&&(g.videoCodec=m.video.codec),m.video&&m.audio&&(g.isMuxed=!0),i(t,g);const E=(A,R)=>{u(t,{data:p,type:g.hasAudio&&!g.isMuxed?"audio":"video"}),R&&R.length&&a(t,R),A&&A.length&&o(t,A),d(null,t,{})};rd({action:"probeMp4StartTime",timescales:t.map.timescales,data:p,transmuxer:t.transmuxer,callback:({data:A,startTime:R})=>{e=A.buffer,t.bytes=p=A,g.hasAudio&&!g.isMuxed&&n(t,"audio","start",R),g.hasVideo&&n(t,"video","start",R),rd({action:"probeEmsgID3",data:p,transmuxer:t.transmuxer,offset:R,callback:({emsgData:I,id3Frames:L})=>{if(e=I.buffer,t.bytes=p=I,!m.video||!I.byteLength||!t.transmuxer){E(void 0,L);return}rd({action:"pushMp4Captions",endAction:"mp4Captions",transmuxer:t.transmuxer,data:p,timescales:t.map.timescales,trackIds:[m.video.id],callback:F=>{e=F.data.buffer,t.bytes=p=F.data,F.logs.forEach(function(B){h(Vt(B,{stream:"mp4CaptionParser"}))}),E(F.captions,L)}})}})}});return}if(!t.transmuxer){d(null,t,{});return}if(typeof t.container>"u"&&(t.container=g4(p)),t.container!=="ts"&&t.container!=="aac"){i(t,{hasAudio:!1,hasVideo:!1}),d(null,t,{});return}oxe({segment:t,bytes:e,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})},_X=function({id:t,key:e,encryptedBytes:i,decryptionWorker:n,segment:s,doneFn:r},a){const o=c=>{if(c.data.source===t){n.removeEventListener("message",o);const u=c.data.decrypted;a(new Uint8Array(u.bytes,u.byteOffset,u.byteLength))}};n.onerror=()=>{const c="An error occurred in the decryption worker",u=Ol({segment:s}),d={message:c,metadata:{error:new Error(c),errorType:he.Error.StreamingFailedToDecryptSegment,segmentInfo:u,keyInfo:{uri:s.key.resolvedUri||s.map.key.resolvedUri}}};r(d,s)},n.addEventListener("message",o);let l;e.bytes.slice?l=e.bytes.slice():l=new Uint32Array(Array.prototype.slice.call(e.bytes)),n.postMessage(hX({source:t,encrypted:i,key:l,iv:e.iv}),[i.buffer,l.buffer])},lxe=({decryptionWorker:t,segment:e,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})=>{f({type:"segmentdecryptionstart"}),_X({id:e.requestId,key:e.key,encryptedBytes:e.encryptedBytes,decryptionWorker:t,segment:e,doneFn:d},p=>{e.bytes=p,f({type:"segmentdecryptioncomplete",segment:e}),wX({segment:e,bytes:e.bytes,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})})},cxe=({activeXhrs:t,decryptionWorker:e,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})=>{let p=0,m=!1;return(v,g)=>{if(!m){if(v)return m=!0,$S(t),d(v,g);if(p+=1,p===t.length){const E=function(){if(g.encryptedBytes)return lxe({decryptionWorker:e,segment:g,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f});wX({segment:g,bytes:g.bytes,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u,doneFn:d,onTransmuxerLog:h,triggerSegmentEventFn:f})};if(g.endOfAllRequests=Date.now(),g.map&&g.map.encryptedBytes&&!g.map.bytes)return f({type:"segmentdecryptionstart",segment:g}),_X({decryptionWorker:e,id:g.requestId+"-init",encryptedBytes:g.map.encryptedBytes,key:g.map.key,segment:g,doneFn:d},A=>{g.map.bytes=A,f({type:"segmentdecryptioncomplete",segment:g}),IX(g,R=>{if(R)return $S(t),d(R,g);E()})});E()}}}},uxe=({loadendState:t,abortFn:e})=>i=>{i.target.aborted&&e&&!t.calledAbortFn&&(e(),t.calledAbortFn=!0)},dxe=({segment:t,progressFn:e,trackInfoFn:i,timingInfoFn:n,videoSegmentTimingInfoFn:s,audioSegmentTimingInfoFn:r,id3Fn:a,captionsFn:o,isEndOfTimeline:l,endedTimelineFn:c,dataFn:u})=>d=>{if(!d.target.aborted)return t.stats=Vt(t.stats,ixe(d)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(d,t)},hxe=({xhr:t,xhrOptions:e,decryptionWorker:i,segment:n,abortFn:s,progressFn:r,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:u,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:f,dataFn:p,doneFn:m,onTransmuxerLog:v,triggerSegmentEventFn:g})=>{const E=[],A=cxe({activeXhrs:E,decryptionWorker:i,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:u,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:f,dataFn:p,doneFn:m,onTransmuxerLog:v,triggerSegmentEventFn:g});if(n.key&&!n.key.bytes){const B=[n.key];n.map&&!n.map.bytes&&n.map.key&&n.map.key.resolvedUri===n.key.resolvedUri&&B.push(n.map.key);const G=Vt(e,{uri:n.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),Z=_V(n,B,A,g),j={uri:n.key.resolvedUri};g({type:"segmentkeyloadstart",segment:n,keyInfo:j});const pe=t(G,Z);E.push(pe)}if(n.map&&!n.map.bytes){if(n.map.key&&(!n.key||n.key.resolvedUri!==n.map.key.resolvedUri)){const pe=Vt(e,{uri:n.map.key.resolvedUri,responseType:"arraybuffer",requestType:"segment-key"}),J=_V(n,[n.map.key],A,g),me={uri:n.map.key.resolvedUri};g({type:"segmentkeyloadstart",segment:n,keyInfo:me});const de=t(pe,J);E.push(de)}const G=Vt(e,{uri:n.map.resolvedUri,responseType:"arraybuffer",headers:XS(n.map),requestType:"segment-media-initialization"}),Z=rxe({segment:n,finishProcessingFn:A,triggerSegmentEventFn:g});g({type:"segmentloadstart",segment:n});const j=t(G,Z);E.push(j)}const R=Vt(e,{uri:n.part&&n.part.resolvedUri||n.resolvedUri,responseType:"arraybuffer",headers:XS(n),requestType:"segment"}),I=axe({segment:n,finishProcessingFn:A,responseType:R.responseType,triggerSegmentEventFn:g});g({type:"segmentloadstart",segment:n});const L=t(R,I);L.addEventListener("progress",dxe({segment:n,progressFn:r,trackInfoFn:a,timingInfoFn:o,videoSegmentTimingInfoFn:l,audioSegmentTimingInfoFn:c,id3Fn:u,captionsFn:d,isEndOfTimeline:h,endedTimelineFn:f,dataFn:p})),E.push(L);const F={};return E.forEach(B=>{B.addEventListener("loadend",uxe({loadendState:F,abortFn:s}))}),()=>$S(E)},fxe=ir("CodecUtils"),pxe=function(t){const e=t.attributes||{};if(e.CODECS)return Pr(e.CODECS)},xX=(t,e)=>{const i=e.attributes||{};return t&&t.mediaGroups&&t.mediaGroups.AUDIO&&i.AUDIO&&t.mediaGroups.AUDIO[i.AUDIO]},mxe=(t,e)=>{if(!xX(t,e))return!0;const i=e.attributes||{},n=t.mediaGroups.AUDIO[i.AUDIO];for(const s in n)if(!n[s].uri&&!n[s].playlists)return!0;return!1},B2=function(t){const e={};return t.forEach(({mediaType:i,type:n,details:s})=>{e[i]=e[i]||[],e[i].push(DZ(`${n}${s}`))}),Object.keys(e).forEach(function(i){if(e[i].length>1){fxe(`multiple ${i} codecs found as attributes: ${e[i].join(", ")}. Setting playlist codecs to null so that we wait for mux.js to probe segments for real codecs.`),e[i]=null;return}e[i]=e[i][0]}),e},xV=function(t){let e=0;return t.audio&&e++,t.video&&e++,e},sp=function(t,e){const i=e.attributes||{},n=B2(pxe(e)||[]);if(xX(t,e)&&!n.audio&&!mxe(t,e)){const s=B2(x8e(t,i.AUDIO)||[]);s.audio&&(n.audio=s.audio)}return n},Jm=ir("PlaylistSelector"),NV=function(t){if(!t||!t.playlist)return;const e=t.playlist;return JSON.stringify({id:e.id,bandwidth:t.bandwidth,width:t.width,height:t.height,codecs:e.attributes&&e.attributes.CODECS||""})},W2=function(t,e){if(!t)return"";const i=K.getComputedStyle(t);return i?i[e]:""},ad=function(t,e){const i=t.slice();t.sort(function(n,s){const r=e(n,s);return r===0?i.indexOf(n)-i.indexOf(s):r})},K4=function(t,e){let i,n;return t.attributes.BANDWIDTH&&(i=t.attributes.BANDWIDTH),i=i||K.Number.MAX_VALUE,e.attributes.BANDWIDTH&&(n=e.attributes.BANDWIDTH),n=n||K.Number.MAX_VALUE,i-n},gxe=function(t,e){let i,n;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(i=t.attributes.RESOLUTION.width),i=i||K.Number.MAX_VALUE,e.attributes.RESOLUTION&&e.attributes.RESOLUTION.width&&(n=e.attributes.RESOLUTION.width),n=n||K.Number.MAX_VALUE,i===n&&t.attributes.BANDWIDTH&&e.attributes.BANDWIDTH?t.attributes.BANDWIDTH-e.attributes.BANDWIDTH:i-n};let NX=function(t,e,i,n,s,r){if(!t)return;const a={bandwidth:e,width:i,height:n,limitRenditionByPlayerDimensions:s};let o=t.playlists;ts.isAudioOnly(t)&&(o=r.getAudioTrackPlaylists_(),a.audioOnly=!0);let l=o.map(I=>{let L;const F=I.attributes&&I.attributes.RESOLUTION&&I.attributes.RESOLUTION.width,B=I.attributes&&I.attributes.RESOLUTION&&I.attributes.RESOLUTION.height;return L=I.attributes&&I.attributes.BANDWIDTH,L=L||K.Number.MAX_VALUE,{bandwidth:L,width:F,height:B,playlist:I}});ad(l,(I,L)=>I.bandwidth-L.bandwidth),l=l.filter(I=>!ts.isIncompatible(I.playlist));let c=l.filter(I=>ts.isEnabled(I.playlist));c.length||(c=l.filter(I=>!ts.isDisabled(I.playlist)));const u=c.filter(I=>I.bandwidth*qi.BANDWIDTH_VARIANCE<e);let d=u[u.length-1];const h=u.filter(I=>I.bandwidth===d.bandwidth)[0];if(s===!1){const I=h||c[0]||l[0];if(I&&I.playlist){let L="sortedPlaylistReps";return h&&(L="bandwidthBestRep"),c[0]&&(L="enabledPlaylistReps"),Jm(`choosing ${NV(I)} using ${L} with options`,a),I.playlist}return Jm("could not choose a playlist with options",a),null}const f=u.filter(I=>I.width&&I.height);ad(f,(I,L)=>I.width-L.width);const p=f.filter(I=>I.width===i&&I.height===n);d=p[p.length-1];const m=p.filter(I=>I.bandwidth===d.bandwidth)[0];let v,g,E;m||(v=f.filter(I=>I.width>i||I.height>n),g=v.filter(I=>I.width===v[0].width&&I.height===v[0].height),d=g[g.length-1],E=g.filter(I=>I.bandwidth===d.bandwidth)[0]);let A;if(r.leastPixelDiffSelector){const I=f.map(L=>(L.pixelDiff=Math.abs(L.width-i)+Math.abs(L.height-n),L));ad(I,(L,F)=>L.pixelDiff===F.pixelDiff?F.bandwidth-L.bandwidth:L.pixelDiff-F.pixelDiff),A=I[0]}const R=A||E||m||h||c[0]||l[0];if(R&&R.playlist){let I="sortedPlaylistReps";return A?I="leastPixelDiffRep":E?I="resolutionPlusOneRep":m?I="resolutionBestRep":h?I="bandwidthBestRep":c[0]&&(I="enabledPlaylistReps"),Jm(`choosing ${NV(R)} using ${I} with options`,a),R.playlist}return Jm("could not choose a playlist with options",a),null};const VV=function(){let t=this.useDevicePixelRatio&&K.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(t=this.customPixelRatio),NX(this.playlists.main,this.systemBandwidth,parseInt(W2(this.tech_.el(),"width"),10)*t,parseInt(W2(this.tech_.el(),"height"),10)*t,this.limitRenditionByPlayerDimensions,this.playlistController_)},yxe=function(t){let e=-1,i=-1;if(t<0||t>1)throw new Error("Moving average bandwidth decay must be between 0 and 1.");return function(){let n=this.useDevicePixelRatio&&K.devicePixelRatio||1;return isNaN(this.customPixelRatio)||(n=this.customPixelRatio),e<0&&(e=this.systemBandwidth,i=this.systemBandwidth),this.systemBandwidth>0&&this.systemBandwidth!==i&&(e=t*this.systemBandwidth+(1-t)*e,i=this.systemBandwidth),NX(this.playlists.main,e,parseInt(W2(this.tech_.el(),"width"),10)*n,parseInt(W2(this.tech_.el(),"height"),10)*n,this.limitRenditionByPlayerDimensions,this.playlistController_)}},bxe=function(t){const{main:e,currentTime:i,bandwidth:n,duration:s,segmentDuration:r,timeUntilRebuffer:a,currentTimeline:o,syncController:l}=t,c=e.playlists.filter(p=>!ts.isIncompatible(p));let u=c.filter(ts.isEnabled);u.length||(u=c.filter(p=>!ts.isDisabled(p)));const h=u.filter(ts.hasAttribute.bind(null,"BANDWIDTH")).map(p=>{const v=l.getSyncPoint(p,s,o,i)?1:2,E=ts.estimateSegmentRequestTime(r,n,p)*v-a;return{playlist:p,rebufferingImpact:E}}),f=h.filter(p=>p.rebufferingImpact<=0);return ad(f,(p,m)=>K4(m.playlist,p.playlist)),f.length?f[0]:(ad(h,(p,m)=>p.rebufferingImpact-m.rebufferingImpact),h[0]||null)},vxe=function(){const t=this.playlists.main.playlists.filter(ts.isEnabled);return ad(t,(i,n)=>K4(i,n)),t.filter(i=>!!sp(this.playlists.main,i).video)[0]||null},Exe=t=>{let e=0,i;return t.bytes&&(i=new Uint8Array(t.bytes),t.segments.forEach(n=>{i.set(n,e),e+=n.byteLength})),i};function VX(t){try{return new URL(t).pathname.split("/").slice(-2).join("/")}catch{return""}}const Axe=function(t,e,i){if(!t[i]){e.trigger({type:"usage",name:"vhs-608"});let n=i;/^cc708_/.test(i)&&(n="SERVICE"+i.split("_")[1]);const s=e.textTracks().getTrackById(n);if(s)t[i]=s;else{const r=e.options_.vhs&&e.options_.vhs.captionServices||{};let a=i,o=i,l=!1;const c=r[n];c&&(a=c.label,o=c.language,l=c.default),t[i]=e.addRemoteTextTrack({kind:"captions",id:n,default:l,label:a,language:o},!1).track}}},Sxe=function({inbandTextTracks:t,captionArray:e,timestampOffset:i}){if(!e)return;const n=K.WebKitDataCue||K.VTTCue;e.forEach(s=>{const r=s.stream;s.content?s.content.forEach(a=>{const o=new n(s.startTime+i,s.endTime+i,a.text);o.line=a.line,o.align="left",o.position=a.position,o.positionAlign="line-left",t[r].addCue(o)}):t[r].addCue(new n(s.startTime+i,s.endTime+i,s.text))})},Txe=function(t){Object.defineProperties(t.frame,{id:{get(){return he.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get(){return he.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get(){return he.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})},Cxe=({inbandTextTracks:t,metadataArray:e,timestampOffset:i,videoDuration:n})=>{if(!e)return;const s=K.WebKitDataCue||K.VTTCue,r=t.metadataTrack_;if(!r||(e.forEach(u=>{const d=u.cueTime+i;typeof d!="number"||K.isNaN(d)||d<0||!(d<1/0)||!u.frames||!u.frames.length||u.frames.forEach(h=>{const f=new s(d,d,h.value||h.url||h.data||"");f.frame=h,f.value=h,Txe(f),r.addCue(f)})}),!r.cues||!r.cues.length))return;const a=r.cues,o=[];for(let u=0;u<a.length;u++)a[u]&&o.push(a[u]);const l=o.reduce((u,d)=>{const h=u[d.startTime]||[];return h.push(d),u[d.startTime]=h,u},{}),c=Object.keys(l).sort((u,d)=>Number(u)-Number(d));c.forEach((u,d)=>{const h=l[u],f=isFinite(n)?n:u,p=Number(c[d+1])||f;h.forEach(m=>{m.endTime=p})})},Rxe={id:"ID",class:"CLASS",startDate:"START-DATE",duration:"DURATION",endDate:"END-DATE",endOnNext:"END-ON-NEXT",plannedDuration:"PLANNED-DURATION",scte35Out:"SCTE35-OUT",scte35In:"SCTE35-IN"},Ixe=new Set(["id","class","startDate","duration","endDate","endOnNext","startTime","endTime","processDateRange"]),wxe=({inbandTextTracks:t,dateRanges:e})=>{const i=t.metadataTrack_;if(!i)return;const n=K.WebKitDataCue||K.VTTCue;e.forEach(s=>{for(const r of Object.keys(s)){if(Ixe.has(r))continue;const a=new n(s.startTime,s.endTime,"");a.id=s.id,a.type="com.apple.quicktime.HLS",a.value={key:Rxe[r],data:s[r]},(r==="scte35Out"||r==="scte35In")&&(a.value.data=new Uint8Array(a.value.data.match(/[\da-f]{2}/gi)).buffer),i.addCue(a)}s.processDateRange()})},LV=(t,e,i)=>{t.metadataTrack_||(t.metadataTrack_=i.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,he.browser.IS_ANY_SAFARI||(t.metadataTrack_.inBandMetadataTrackDispatchType=e))},Df=function(t,e,i){let n,s;if(i&&i.cues)for(n=i.cues.length;n--;)s=i.cues[n],s.startTime>=t&&s.endTime<=e&&i.removeCue(s)},_xe=function(t){const e=t.cues;if(!e)return;const i={};for(let n=e.length-1;n>=0;n--){const s=e[n],r=`${s.startTime}-${s.endTime}-${s.text}`;i[r]?t.removeCue(s):i[r]=s}},xxe=(t,e,i)=>{if(typeof e>"u"||e===null||!t.length)return[];const n=Math.ceil((e-i+3)*Hl.ONE_SECOND_IN_TS);let s;for(s=0;s<t.length&&!(t[s].pts>n);s++);return t.slice(s)},Nxe=(t,e,i)=>{if(!e.length)return t;if(i)return e.slice();const n=e[0].pts;let s=0;for(s;s<t.length&&!(t[s].pts>=n);s++);return t.slice(0,s).concat(e)},Vxe=(t,e,i,n)=>{const s=Math.ceil((e-n)*Hl.ONE_SECOND_IN_TS),r=Math.ceil((i-n)*Hl.ONE_SECOND_IN_TS),a=t.slice();let o=t.length;for(;o--&&!(t[o].pts<=r););if(o===-1)return a;let l=o+1;for(;l--&&!(t[l].pts<=s););return l=Math.max(l,0),a.splice(l,o-l+1),a},Lxe=function(t,e){if(!t&&!e||!t&&e||t&&!e)return!1;if(t===e)return!0;const i=Object.keys(t).sort(),n=Object.keys(e).sort();if(i.length!==n.length)return!1;for(let s=0;s<i.length;s++){const r=i[s];if(r!==n[s]||t[r]!==e[r])return!1}return!0},kxe=function(t,e,i){e=e||[];const n=[];let s=0;for(let r=0;r<e.length;r++){const a=e[r];if(t===a.timeline&&(n.push(r),s+=a.duration,s>i))return r}return n.length===0?0:n[n.length-1]},yf=1,Fxe=500,kV=t=>typeof t=="number"&&isFinite(t),jm=1/60,Uxe=(t,e,i)=>t!=="main"||!e||!i?null:!i.hasAudio&&!i.hasVideo?"Neither audio nor video found in segment.":e.hasVideo&&!i.hasVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!e.hasVideo&&i.hasVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null,Bxe=(t,e,i)=>{let n=e-qi.BACK_BUFFER_LENGTH;t.length&&(n=Math.max(n,t.start(0)));const s=e-i;return Math.min(s,n)},cu=t=>{const{startOfSegment:e,duration:i,segment:n,part:s,playlist:{mediaSequence:r,id:a,segments:o=[]},mediaIndex:l,partIndex:c,timeline:u}=t,d=o.length-1;let h="mediaIndex/partIndex increment";t.getMediaInfoForTime?h=`getMediaInfoForTime (${t.getMediaInfoForTime})`:t.isSyncRequest&&(h="getSyncSegmentCandidate (isSyncRequest)"),t.independent&&(h+=` with independent ${t.independent}`);const f=typeof c=="number",p=t.segment.uri?"segment":"pre-segment",m=f?jO({preloadSegment:n})-1:0;return`${p} [${r+l}/${r+d}]`+(f?` part [${c}/${m}]`:"")+` segment start/end [${n.start} => ${n.end}]`+(f?` part start/end [${s.start} => ${s.end}]`:"")+` startOfSegment [${e}] duration [${i}] timeline [${u}] selected by [${h}] playlist [${a}]`},FV=t=>`${t}TimingInfo`,Wxe=({segmentTimeline:t,currentTimeline:e,startOfSegment:i,buffered:n,overrideCheck:s})=>!s&&t===e?null:t<e?i:n.length?n.end(n.length-1):i,KS=({timelineChangeController:t,currentTimeline:e,segmentTimeline:i,loaderType:n,audioDisabled:s})=>{if(e===i)return!1;if(n==="audio"){const r=t.lastTimelineChange({type:"main"});return!r||r.to!==i}if(n==="main"&&s){const r=t.pendingTimelineChange({type:"audio"});return!(r&&r.to===i)}return!1},Gxe=t=>{if(!t)return!1;const e=t.pendingTimelineChange({type:"audio"}),i=t.pendingTimelineChange({type:"main"}),n=e&&i,s=n&&e.to!==i.to;return!!(n&&e.from!==-1&&i.from!==-1&&s)},Dxe=t=>{const e=t.timelineChangeController_.pendingTimelineChange({type:"audio"}),i=t.timelineChangeController_.pendingTimelineChange({type:"main"});return e&&i&&e.to<i.to},Uo=t=>{const e=t.pendingSegment_;if(!e)return;if(KS({timelineChangeController:t.timelineChangeController_,currentTimeline:t.currentTimeline_,segmentTimeline:e.timeline,loaderType:t.loaderType_,audioDisabled:t.audioDisabled_})&&Gxe(t.timelineChangeController_)){if(Dxe(t)){t.timelineChangeController_.trigger("audioTimelineBehind");return}t.timelineChangeController_.trigger("fixBadTimelineChange")}},Mxe=t=>{let e=0;return["video","audio"].forEach(function(i){const n=t[`${i}TimingInfo`];if(!n)return;const{start:s,end:r}=n;let a;typeof s=="bigint"||typeof r=="bigint"?a=K.BigInt(r)-K.BigInt(s):typeof s=="number"&&typeof r=="number"&&(a=r-s),typeof a<"u"&&a>e&&(e=a)}),typeof e=="bigint"&&e<Number.MAX_SAFE_INTEGER&&(e=Number(e)),e},UV=({segmentDuration:t,maxDuration:e})=>t?Math.round(t)>e+ta:!1,Zxe=(t,e)=>{if(e!=="hls")return null;const i=Mxe({audioTimingInfo:t.audioTimingInfo,videoTimingInfo:t.videoTimingInfo});if(!i)return null;const n=t.playlist.targetDuration,s=UV({segmentDuration:i,maxDuration:n*2}),r=UV({segmentDuration:i,maxDuration:n}),a=`Segment with index ${t.mediaIndex} from playlist ${t.playlist.id} has a duration of ${i} when the reported duration is ${t.duration} and the target duration is ${n}. For HLS content, a duration in excess of the target duration may result in playback issues. See the HLS specification section on EXT-X-TARGETDURATION for more details: https://tools.ietf.org/html/draft-pantos-http-live-streaming-23#section-4.3.3.1`;return s||r?{severity:s?"warn":"info",message:a}:null},Ol=({type:t,segment:e})=>{if(!e)return;const i=!!(e.key||e.map&&e.map.ke),n=!!(e.map&&!e.map.bytes),s=e.startOfSegment===void 0?e.start:e.startOfSegment;return{type:t||e.type,uri:e.resolvedUri||e.uri,start:s,duration:e.duration,isEncrypted:i,isMediaInitialization:n}};class zS extends he.EventTarget{constructor(e,i={}){if(super(),!e)throw new TypeError("Initialization settings are required");if(typeof e.currentTime!="function")throw new TypeError("No currentTime getter specified");if(!e.mediaSource)throw new TypeError("No MediaSource specified");this.bandwidth=e.bandwidth,this.throughput={rate:0,count:0},this.roundTrip=NaN,this.resetStats_(),this.mediaIndex=null,this.partIndex=null,this.hasPlayed_=e.hasPlayed,this.currentTime_=e.currentTime,this.seekable_=e.seekable,this.seeking_=e.seeking,this.duration_=e.duration,this.mediaSource_=e.mediaSource,this.vhs_=e.vhs,this.loaderType_=e.loaderType,this.currentMediaInfo_=void 0,this.startingMediaInfo_=void 0,this.segmentMetadataTrack_=e.segmentMetadataTrack,this.goalBufferLength_=e.goalBufferLength,this.sourceType_=e.sourceType,this.sourceUpdater_=e.sourceUpdater,this.inbandTextTracks_=e.inbandTextTracks,this.state_="INIT",this.timelineChangeController_=e.timelineChangeController,this.shouldSaveSegmentTimingInfo_=!0,this.parse708captions_=e.parse708captions,this.useDtsForTimestampOffset_=e.useDtsForTimestampOffset,this.captionServices_=e.captionServices,this.exactManifestTimings=e.exactManifestTimings,this.addMetadataToTextTrack=e.addMetadataToTextTrack,this.checkBufferTimeout_=null,this.error_=void 0,this.currentTimeline_=-1,this.shouldForceTimestampOffsetAfterResync_=!1,this.pendingSegment_=null,this.xhrOptions_=null,this.pendingSegments_=[],this.audioDisabled_=!1,this.isPendingTimestampOffset_=!1,this.gopBuffer_=[],this.timeMapping_=0,this.safeAppend_=!1,this.appendInitSegment_={audio:!0,video:!0},this.playlistOfLastInitSegment_={audio:null,video:null},this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_={id3:[],caption:[]},this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=null,this.activeInitSegmentId_=null,this.initSegments_={},this.cacheEncryptionKeys_=e.cacheEncryptionKeys,this.keyCache_={},this.decrypter_=e.decrypter,this.syncController_=e.syncController,this.syncPoint_={segmentIndex:0,time:0},this.transmuxer_=this.createTransmuxer_(),this.triggerSyncInfoUpdate_=()=>this.trigger("syncinfoupdate"),this.syncController_.on("syncinfoupdate",this.triggerSyncInfoUpdate_),this.mediaSource_.addEventListener("sourceopen",()=>{this.isEndOfStream_()||(this.ended_=!1)}),this.fetchAtBuffer_=!1,this.logger_=ir(`SegmentLoader[${this.loaderType_}]`),Object.defineProperty(this,"state",{get(){return this.state_},set(n){n!==this.state_&&(this.logger_(`${this.state_} -> ${n}`),this.state_=n,this.trigger("statechange"))}}),this.sourceUpdater_.on("ready",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Uo(this)}),this.sourceUpdater_.on("codecschange",n=>{this.trigger(Li({type:"codecschange"},n))}),this.loaderType_==="main"&&this.timelineChangeController_.on("pendingtimelinechange",()=>{this.hasEnoughInfoToAppend_()?this.processCallQueue_():Uo(this)}),this.loaderType_==="audio"&&this.timelineChangeController_.on("timelinechange",n=>{this.trigger(Li({type:"timelinechange"},n)),this.hasEnoughInfoToLoad_()?this.processLoadQueue_():Uo(this),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Uo(this)})}get mediaSequenceSync_(){return this.syncController_.getMediaSequenceSync(this.loaderType_)}createTransmuxer_(){return GE.createTransmuxer({remux:!1,alignGopsAtEnd:this.safeAppend_,keepOriginalTimestamps:!0,parse708captions:this.parse708captions_,captionServices:this.captionServices_})}resetStats_(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0,this.mediaAppends=0}dispose(){this.trigger("dispose"),this.state="DISPOSED",this.pause(),this.abort_(),this.transmuxer_&&this.transmuxer_.terminate(),this.resetStats_(),this.checkBufferTimeout_&&K.clearTimeout(this.checkBufferTimeout_),this.syncController_&&this.triggerSyncInfoUpdate_&&this.syncController_.off("syncinfoupdate",this.triggerSyncInfoUpdate_),this.off()}setAudio(e){this.audioDisabled_=!e,e?this.appendInitSegment_.audio=!0:this.sourceUpdater_.removeAudio(0,this.duration_())}abort(){if(this.state!=="WAITING"){this.pendingSegment_&&(this.pendingSegment_=null),this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_);return}this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()}abort_(){this.pendingSegment_&&this.pendingSegment_.abortRequests&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null,this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.timelineChangeController_.clearPendingTimelineChange(this.loaderType_),this.waitingOnRemove_=!1,K.clearTimeout(this.quotaExceededErrorRetryTimeout_),this.quotaExceededErrorRetryTimeout_=null}checkForAbort_(e){return this.state==="APPENDING"&&!this.pendingSegment_?(this.state="READY",!0):!this.pendingSegment_||this.pendingSegment_.requestId!==e}error(e){return typeof e<"u"&&(this.logger_("error occurred:",e),this.error_=e),this.pendingSegment_=null,this.error_}endOfStream(){this.ended_=!0,this.transmuxer_&&GE.reset(this.transmuxer_),this.gopBuffer_.length=0,this.pause(),this.trigger("ended")}buffered_(){const e=this.getMediaInfo_();if(!this.sourceUpdater_||!e)return sn();if(this.loaderType_==="main"){const{hasAudio:i,hasVideo:n,isMuxed:s}=e;if(n&&i&&!this.audioDisabled_&&!s)return this.sourceUpdater_.buffered();if(n)return this.sourceUpdater_.videoBuffered()}return this.sourceUpdater_.audioBuffered()}initSegmentForMap(e,i=!1){if(!e)return null;const n=U2(e);let s=this.initSegments_[n];return i&&!s&&e.bytes&&(this.initSegments_[n]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:e.bytes,tracks:e.tracks,timescales:e.timescales}),s||e}segmentKey(e,i=!1){if(!e)return null;const n=fX(e);let s=this.keyCache_[n];this.cacheEncryptionKeys_&&i&&!s&&e.bytes&&(this.keyCache_[n]=s={resolvedUri:e.resolvedUri,bytes:e.bytes});const r={resolvedUri:(s||e).resolvedUri};return s&&(r.bytes=s.bytes),r}couldBeginLoading_(){return this.playlist_&&!this.paused()}load(){if(this.monitorBuffer_(),!!this.playlist_){if(this.state==="INIT"&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||this.state!=="READY"&&this.state!=="INIT"||(this.state="READY")}}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}playlist(e,i={}){if(!e||this.playlist_&&this.playlist_.endList&&e.endList&&this.playlist_.uri===e.uri)return;const n=this.playlist_,s=this.pendingSegment_;this.playlist_=e,this.xhrOptions_=i,this.state==="INIT"&&(e.syncInfo={mediaSequence:e.mediaSequence,time:0},this.loaderType_==="main"&&this.syncController_.setDateTimeMappingForStart(e));let r=null;if(n&&(n.id?r=n.id:n.uri&&(r=n.uri)),this.logger_(`playlist update [${r} => ${e.id||e.uri}]`),this.mediaSequenceSync_&&(this.mediaSequenceSync_.update(e,this.currentTime_()),this.logger_(`Playlist update:
currentTime: ${this.currentTime_()}
bufferedEnd: ${BE(this.buffered_())}
`,this.mediaSequenceSync_.diagnostics)),this.trigger("syncinfoupdate"),this.state==="INIT"&&this.couldBeginLoading_())return this.init_();if(!n||n.uri!==e.uri){this.mediaIndex!==null&&(!e.endList&&typeof e.partTargetDuration=="number"?this.resetLoader():this.resyncLoader()),this.currentMediaInfo_=void 0,this.trigger("playlistupdate");return}const a=e.mediaSequence-n.mediaSequence;if(this.logger_(`live window shift [${a}]`),this.mediaIndex!==null)if(this.mediaIndex-=a,this.mediaIndex<0)this.mediaIndex=null,this.partIndex=null;else{const o=this.playlist_.segments[this.mediaIndex];if(this.partIndex&&(!o.parts||!o.parts.length||!o.parts[this.partIndex])){const l=this.mediaIndex;this.logger_(`currently processing part (index ${this.partIndex}) no longer exists.`),this.resetLoader(),this.mediaIndex=l}}s&&(s.mediaIndex-=a,s.mediaIndex<0?(s.mediaIndex=null,s.partIndex=null):(s.mediaIndex>=0&&(s.segment=e.segments[s.mediaIndex]),s.partIndex>=0&&s.segment.parts&&(s.part=s.segment.parts[s.partIndex]))),this.syncController_.saveExpiredSegmentInfo(n,e)}pause(){this.checkBufferTimeout_&&(K.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}paused(){return this.checkBufferTimeout_===null}resetEverything(e){this.ended_=!1,this.activeInitSegmentId_=null,this.appendInitSegment_={audio:!0,video:!0},this.resetLoader(),this.remove(0,1/0,e),this.transmuxer_&&(this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),this.transmuxer_.postMessage({action:"reset"}))}resetLoader(){this.fetchAtBuffer_=!1,this.mediaSequenceSync_&&this.mediaSequenceSync_.resetAppendedStatus(),this.resyncLoader()}resyncLoader(){this.transmuxer_&&GE.reset(this.transmuxer_),this.mediaIndex=null,this.partIndex=null,this.syncPoint_=null,this.isPendingTimestampOffset_=!1;const e=this.currentMediaInfo_&&this.currentMediaInfo_.isFmp4;this.sourceType_==="hls"&&!e&&(this.shouldForceTimestampOffsetAfterResync_=!0),this.callQueue_=[],this.loadQueue_=[],this.metadataQueue_.id3=[],this.metadataQueue_.caption=[],this.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}remove(e,i,n=()=>{},s=!1){if(i===1/0&&(i=this.duration_()),i<=e){this.logger_("skipping remove because end ${end} is <= start ${start}");return}if(!this.sourceUpdater_||!this.getMediaInfo_()){this.logger_("skipping remove because no source updater or starting media info");return}let r=1;const a=()=>{r--,r===0&&n()};(s||!this.audioDisabled_)&&(r++,this.sourceUpdater_.removeAudio(e,i,a)),(s||this.loaderType_==="main")&&(this.gopBuffer_=Vxe(this.gopBuffer_,e,i,this.timeMapping_),r++,this.sourceUpdater_.removeVideo(e,i,a));for(const o in this.inbandTextTracks_)Df(e,i,this.inbandTextTracks_[o]);Df(e,i,this.segmentMetadataTrack_),a()}monitorBuffer_(){this.checkBufferTimeout_&&K.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=K.setTimeout(this.monitorBufferTick_.bind(this),1)}monitorBufferTick_(){this.state==="READY"&&this.fillBuffer_(),this.checkBufferTimeout_&&K.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=K.setTimeout(this.monitorBufferTick_.bind(this),Fxe)}fillBuffer_(){if(this.sourceUpdater_.updating())return;const e=this.chooseNextRequest_();if(!e)return;const i={segmentInfo:Ol({type:this.loaderType_,segment:e})};this.trigger({type:"segmentselected",metadata:i}),typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!1,this.timelineChangeController_.pendingTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline})),this.loadSegment_(e)}isEndOfStream_(e=this.mediaIndex,i=this.playlist_,n=this.partIndex){if(!i||!this.mediaSource_)return!1;const s=typeof e=="number"&&i.segments[e],r=e+1===i.segments.length,a=!s||!s.parts||n+1===s.parts.length;return i.endList&&this.mediaSource_.readyState==="open"&&r&&a}chooseNextRequest_(){const e=this.buffered_(),i=BE(e)||0,n=P4(e,this.currentTime_()),s=!this.hasPlayed_()&&n>=1,r=n>=this.goalBufferLength_(),a=this.playlist_.segments;if(!a.length||s||r)return null;this.syncPoint_=this.syncPoint_||this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_(),this.loaderType_);const o={partIndex:null,mediaIndex:null,startOfSegment:null,playlist:this.playlist_,isSyncRequest:!this.syncPoint_};if(o.isSyncRequest)o.mediaIndex=kxe(this.currentTimeline_,a,i),this.logger_(`choose next request. Can not find sync point. Fallback to media Index: ${o.mediaIndex}`);else if(this.mediaIndex!==null){const h=a[this.mediaIndex],f=typeof this.partIndex=="number"?this.partIndex:-1;o.startOfSegment=h.end?h.end:i,h.parts&&h.parts[f+1]?(o.mediaIndex=this.mediaIndex,o.partIndex=f+1):o.mediaIndex=this.mediaIndex+1}else{let h,f,p;const m=this.fetchAtBuffer_?i:this.currentTime_();if(this.mediaSequenceSync_&&this.logger_(`chooseNextRequest_ request after Quality Switch:
For TargetTime: ${m}.
CurrentTime: ${this.currentTime_()}
BufferedEnd: ${i}
Fetch At Buffer: ${this.fetchAtBuffer_}
`,this.mediaSequenceSync_.diagnostics),this.mediaSequenceSync_&&this.mediaSequenceSync_.isReliable){const v=this.getSyncInfoFromMediaSequenceSync_(m);if(!v){const g="No sync info found while using media sequence sync";return this.error({message:g,metadata:{errorType:he.Error.StreamingFailedToSelectNextSegment,error:new Error(g)}}),this.logger_("chooseNextRequest_ - no sync info found using media sequence sync"),null}this.logger_(`chooseNextRequest_ mediaSequence syncInfo (${v.start} --> ${v.end})`),h=v.segmentIndex,f=v.partIndex,p=v.start}else{this.logger_("chooseNextRequest_ - fallback to a regular segment selection algorithm, based on a syncPoint.");const v=ts.getMediaInfoForTime({exactManifestTimings:this.exactManifestTimings,playlist:this.playlist_,currentTime:m,startingPartIndex:this.syncPoint_.partIndex,startingSegmentIndex:this.syncPoint_.segmentIndex,startTime:this.syncPoint_.time});h=v.segmentIndex,f=v.partIndex,p=v.startTime}o.getMediaInfoForTime=this.fetchAtBuffer_?`bufferedEnd ${m}`:`currentTime ${m}`,o.mediaIndex=h,o.startOfSegment=p,o.partIndex=f,this.logger_(`choose next request. Playlist switched and we have a sync point. Media Index: ${o.mediaIndex} `)}const l=a[o.mediaIndex];let c=l&&typeof o.partIndex=="number"&&l.parts&&l.parts[o.partIndex];if(!l||typeof o.partIndex=="number"&&!c)return null;typeof o.partIndex!="number"&&l.parts&&(o.partIndex=0,c=l.parts[0]);const u=this.vhs_.playlists&&this.vhs_.playlists.main&&this.vhs_.playlists.main.independentSegments||this.playlist_.independentSegments;if(!n&&c&&!u&&!c.independent)if(o.partIndex===0){const h=a[o.mediaIndex-1],f=h.parts&&h.parts.length&&h.parts[h.parts.length-1];f&&f.independent&&(o.mediaIndex-=1,o.partIndex=h.parts.length-1,o.independent="previous segment")}else l.parts[o.partIndex-1].independent&&(o.partIndex-=1,o.independent="previous part");const d=this.mediaSource_&&this.mediaSource_.readyState==="ended";return o.mediaIndex>=a.length-1&&d&&!this.seeking_()?null:(this.shouldForceTimestampOffsetAfterResync_&&(this.shouldForceTimestampOffsetAfterResync_=!1,o.forceTimestampOffset=!0,this.logger_("choose next request. Force timestamp offset after loader resync")),this.generateSegmentInfo_(o))}getSyncInfoFromMediaSequenceSync_(e){if(!this.mediaSequenceSync_)return null;const i=Math.max(e,this.mediaSequenceSync_.start);e!==i&&this.logger_(`getSyncInfoFromMediaSequenceSync_. Pulled target time from ${e} to ${i}`);const n=this.mediaSequenceSync_.getSyncInfoForTime(i);if(!n)return null;if(!n.isAppended)return n;const s=this.mediaSequenceSync_.getSyncInfoForTime(n.end);return s?(s.isAppended&&this.logger_("getSyncInfoFromMediaSequenceSync_: We encounter unexpected scenario where next media sequence sync info is also appended!"),s):null}generateSegmentInfo_(e){const{independent:i,playlist:n,mediaIndex:s,startOfSegment:r,isSyncRequest:a,partIndex:o,forceTimestampOffset:l,getMediaInfoForTime:c}=e,u=n.segments[s],d=typeof o=="number"&&u.parts[o],h={requestId:"segment-loader-"+Math.random(),uri:d&&d.resolvedUri||u.resolvedUri,mediaIndex:s,partIndex:d?o:null,isSyncRequest:a,startOfSegment:r,playlist:n,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:u.timeline,duration:d&&d.duration||u.duration,segment:u,part:d,byteLength:0,transmuxer:this.transmuxer_,getMediaInfoForTime:c,independent:i},f=typeof l<"u"?l:this.isPendingTimestampOffset_;h.timestampOffset=this.timestampOffsetForSegment_({segmentTimeline:u.timeline,currentTimeline:this.currentTimeline_,startOfSegment:r,buffered:this.buffered_(),overrideCheck:f});const p=BE(this.sourceUpdater_.audioBuffered());return typeof p=="number"&&(h.audioAppendStart=p-this.sourceUpdater_.audioTimestampOffset()),this.sourceUpdater_.videoBuffered().length&&(h.gopsToAlignWith=xxe(this.gopBuffer_,this.currentTime_()-this.sourceUpdater_.videoTimestampOffset(),this.timeMapping_)),h}timestampOffsetForSegment_(e){return Wxe(e)}earlyAbortWhenNeeded_(e){if(this.vhs_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH||Date.now()-(e.firstBytesReceivedAt||Date.now())<1e3)return;const i=this.currentTime_(),n=e.bandwidth,s=this.pendingSegment_.duration,r=ts.estimateSegmentRequestTime(s,n,this.playlist_,e.bytesReceived),a=s_e(this.buffered_(),i,this.vhs_.tech_.playbackRate())-1;if(r<=a)return;const o=bxe({main:this.vhs_.playlists.main,currentTime:i,bandwidth:n,duration:this.duration_(),segmentDuration:s,timeUntilRebuffer:a,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(!o)return;const c=r-a-o.rebufferingImpact;let u=.5;a<=ta&&(u=1),!(!o.playlist||o.playlist.uri===this.playlist_.uri||c<u)&&(this.bandwidth=o.playlist.attributes.BANDWIDTH*qi.BANDWIDTH_VARIANCE+1,this.trigger("earlyabort"))}handleAbort_(e){this.logger_(`Aborting ${cu(e)}`),this.mediaRequestsAborted+=1}handleProgress_(e,i){this.earlyAbortWhenNeeded_(i.stats),!this.checkForAbort_(i.requestId)&&this.trigger("progress")}handleTrackInfo_(e,i){const{hasAudio:n,hasVideo:s}=i,r={segmentInfo:Ol({type:this.loaderType_,segment:e}),trackInfo:{hasAudio:n,hasVideo:s}};this.trigger({type:"segmenttransmuxingtrackinfoavailable",metadata:r}),this.earlyAbortWhenNeeded_(e.stats),!this.checkForAbort_(e.requestId)&&(this.checkForIllegalMediaSwitch(i)||(i=i||{},Lxe(this.currentMediaInfo_,i)||(this.appendInitSegment_={audio:!0,video:!0},this.startingMediaInfo_=i,this.currentMediaInfo_=i,this.logger_("trackinfo update",i),this.trigger("trackinfo")),!this.checkForAbort_(e.requestId)&&(this.pendingSegment_.trackInfo=i,this.hasEnoughInfoToAppend_()?this.processCallQueue_():Uo(this))))}handleTimingInfo_(e,i,n,s){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;const r=this.pendingSegment_,a=FV(i);r[a]=r[a]||{},r[a][n]=s,this.logger_(`timinginfo: ${i} - ${n} - ${s}`),this.hasEnoughInfoToAppend_()?this.processCallQueue_():Uo(this)}handleCaptions_(e,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(i.length===0){this.logger_("SegmentLoader received no captions from a caption event");return}if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.caption.push(this.handleCaptions_.bind(this,e,i));return}const s=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset(),r={};i.forEach(a=>{r[a.stream]=r[a.stream]||{startTime:1/0,captions:[],endTime:0};const o=r[a.stream];o.startTime=Math.min(o.startTime,a.startTime+s),o.endTime=Math.max(o.endTime,a.endTime+s),o.captions.push(a)}),Object.keys(r).forEach(a=>{const{startTime:o,endTime:l,captions:c}=r[a],u=this.inbandTextTracks_;this.logger_(`adding cues from ${o} -> ${l} for ${a}`),Axe(u,this.vhs_.tech_,a),Df(o,l,u[a]),Sxe({captionArray:c,inbandTextTracks:u,timestampOffset:s})}),this.transmuxer_&&this.transmuxer_.postMessage({action:"clearParsedMp4Captions"})}handleId3_(e,i,n){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(!this.pendingSegment_.hasAppendedData_){this.metadataQueue_.id3.push(this.handleId3_.bind(this,e,i,n));return}this.addMetadataToTextTrack(n,i,this.duration_())}processMetadataQueue_(){this.metadataQueue_.id3.forEach(e=>e()),this.metadataQueue_.caption.forEach(e=>e()),this.metadataQueue_.id3=[],this.metadataQueue_.caption=[]}processCallQueue_(){const e=this.callQueue_;this.callQueue_=[],e.forEach(i=>i())}processLoadQueue_(){const e=this.loadQueue_;this.loadQueue_=[],e.forEach(i=>i())}hasEnoughInfoToLoad_(){if(this.loaderType_!=="audio")return!0;const e=this.pendingSegment_;return e?this.getCurrentMediaInfo_()?!KS({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}):!0:!1}getCurrentMediaInfo_(e=this.pendingSegment_){return e&&e.trackInfo||this.currentMediaInfo_}getMediaInfo_(e=this.pendingSegment_){return this.getCurrentMediaInfo_(e)||this.startingMediaInfo_}getPendingSegmentPlaylist(){return this.pendingSegment_?this.pendingSegment_.playlist:null}hasEnoughInfoToAppend_(){if(!this.sourceUpdater_.ready()||this.waitingOnRemove_||this.quotaExceededErrorRetryTimeout_)return!1;const e=this.pendingSegment_,i=this.getCurrentMediaInfo_();if(!e||!i)return!1;const{hasAudio:n,hasVideo:s,isMuxed:r}=i;return!(s&&!e.videoTimingInfo||n&&!this.audioDisabled_&&!r&&!e.audioTimingInfo||KS({timelineChangeController:this.timelineChangeController_,currentTimeline:this.currentTimeline_,segmentTimeline:e.timeline,loaderType:this.loaderType_,audioDisabled:this.audioDisabled_}))}handleData_(e,i){if(this.earlyAbortWhenNeeded_(e.stats),this.checkForAbort_(e.requestId))return;if(this.callQueue_.length||!this.hasEnoughInfoToAppend_()){Uo(this),this.callQueue_.push(this.handleData_.bind(this,e,i));return}const n=this.pendingSegment_;if(this.setTimeMapping_(n.timeline),this.updateMediaSecondsLoaded_(n.part||n.segment),this.mediaSource_.readyState!=="closed"){if(e.map&&(e.map=this.initSegmentForMap(e.map,!0),n.segment.map=e.map),e.key&&this.segmentKey(e.key,!0),n.isFmp4=e.isFmp4,n.timingInfo=n.timingInfo||{},n.isFmp4)this.trigger("fmp4"),n.timingInfo.start=n[FV(i.type)].start;else{const s=this.getCurrentMediaInfo_(),r=this.loaderType_==="main"&&s&&s.hasVideo;let a;r&&(a=n.videoTimingInfo.start),n.timingInfo.start=this.trueSegmentStart_({currentStart:n.timingInfo.start,playlist:n.playlist,mediaIndex:n.mediaIndex,currentVideoTimestampOffset:this.sourceUpdater_.videoTimestampOffset(),useVideoTimingInfo:r,firstVideoFrameTimeForData:a,videoTimingInfo:n.videoTimingInfo,audioTimingInfo:n.audioTimingInfo})}if(this.updateAppendInitSegmentStatus(n,i.type),this.updateSourceBufferTimestampOffset_(n),n.isSyncRequest){this.updateTimingInfoEnd_(n),this.syncController_.saveSegmentTimingInfo({segmentInfo:n,shouldSaveTimelineMapping:this.loaderType_==="main"});const s=this.chooseNextRequest_();if(s.mediaIndex!==n.mediaIndex||s.partIndex!==n.partIndex){this.logger_("sync segment was incorrect, not appending");return}this.logger_("sync segment was correct, appending")}n.hasAppendedData_=!0,this.processMetadataQueue_(),this.appendData_(n,i)}}updateAppendInitSegmentStatus(e,i){this.loaderType_==="main"&&typeof e.timestampOffset=="number"&&!e.changedTimestampOffset&&(this.appendInitSegment_={audio:!0,video:!0}),this.playlistOfLastInitSegment_[i]!==e.playlist&&(this.appendInitSegment_[i]=!0)}getInitSegmentAndUpdateState_({type:e,initSegment:i,map:n,playlist:s}){if(n){const r=U2(n);if(this.activeInitSegmentId_===r)return null;i=this.initSegmentForMap(n,!0).bytes,this.activeInitSegmentId_=r}return i&&this.appendInitSegment_[e]?(this.playlistOfLastInitSegment_[e]=s,this.appendInitSegment_[e]=!1,this.activeInitSegmentId_=null,i):null}handleQuotaExceededError_({segmentInfo:e,type:i,bytes:n},s){const r=this.sourceUpdater_.audioBuffered(),a=this.sourceUpdater_.videoBuffered();r.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the audio buffer: "+Ql(r).join(", ")),a.length>1&&this.logger_("On QUOTA_EXCEEDED_ERR, found gaps in the video buffer: "+Ql(a).join(", "));const o=r.length?r.start(0):0,l=r.length?r.end(r.length-1):0,c=a.length?a.start(0):0,u=a.length?a.end(a.length-1):0;if(l-o<=yf&&u-c<=yf){this.logger_(`On QUOTA_EXCEEDED_ERR, single segment too large to append to buffer, triggering an error. Appended byte length: ${n.byteLength}, audio buffer: ${Ql(r).join(", ")}, video buffer: ${Ql(a).join(", ")}, `),this.error({message:"Quota exceeded error with append of a single segment of content",excludeUntil:1/0}),this.trigger("error");return}this.waitingOnRemove_=!0,this.callQueue_.push(this.appendToSourceBuffer_.bind(this,{segmentInfo:e,type:i,bytes:n}));const h=this.currentTime_()-yf;this.logger_(`On QUOTA_EXCEEDED_ERR, removing audio/video from 0 to ${h}`),this.remove(0,h,()=>{this.logger_(`On QUOTA_EXCEEDED_ERR, retrying append in ${yf}s`),this.waitingOnRemove_=!1,this.quotaExceededErrorRetryTimeout_=K.setTimeout(()=>{this.logger_("On QUOTA_EXCEEDED_ERR, re-processing call queue"),this.quotaExceededErrorRetryTimeout_=null,this.processCallQueue_()},yf*1e3)},!0)}handleAppendError_({segmentInfo:e,type:i,bytes:n},s){if(s){if(s.code===oX){this.handleQuotaExceededError_({segmentInfo:e,type:i,bytes:n});return}this.logger_("Received non QUOTA_EXCEEDED_ERR on append",s),this.error({message:`${i} append of ${n.length}b failed for segment #${e.mediaIndex} in playlist ${e.playlist.id}`,metadata:{errorType:he.Error.StreamingFailedToAppendSegment}}),this.trigger("appenderror")}}appendToSourceBuffer_({segmentInfo:e,type:i,initSegment:n,data:s,bytes:r}){if(!r){const o=[s];let l=s.byteLength;n&&(o.unshift(n),l+=n.byteLength),r=Exe({bytes:l,segments:o})}const a={segmentInfo:Ol({type:this.loaderType_,segment:e})};this.trigger({type:"segmentappendstart",metadata:a}),this.sourceUpdater_.appendBuffer({segmentInfo:e,type:i,bytes:r},this.handleAppendError_.bind(this,{segmentInfo:e,type:i,bytes:r}))}handleSegmentTimingInfo_(e,i,n){if(!this.pendingSegment_||i!==this.pendingSegment_.requestId)return;const s=this.pendingSegment_.segment,r=`${e}TimingInfo`;s[r]||(s[r]={}),s[r].transmuxerPrependedSeconds=n.prependedContentDuration||0,s[r].transmuxedPresentationStart=n.start.presentation,s[r].transmuxedDecodeStart=n.start.decode,s[r].transmuxedPresentationEnd=n.end.presentation,s[r].transmuxedDecodeEnd=n.end.decode,s[r].baseMediaDecodeTime=n.baseMediaDecodeTime}appendData_(e,i){const{type:n,data:s}=i;if(!s||!s.byteLength||n==="audio"&&this.audioDisabled_)return;const r=this.getInitSegmentAndUpdateState_({type:n,initSegment:i.initSegment,playlist:e.playlist,map:e.isFmp4?e.segment.map:null});this.appendToSourceBuffer_({segmentInfo:e,type:n,initSegment:r,data:s})}loadSegment_(e){if(this.state="WAITING",this.pendingSegment_=e,this.trimBackBuffer_(e),typeof e.timestampOffset=="number"&&this.transmuxer_&&this.transmuxer_.postMessage({action:"clearAllMp4Captions"}),!this.hasEnoughInfoToLoad_()){Uo(this),this.loadQueue_.push(()=>{const i=Li({},e,{forceTimestampOffset:!0});Li(e,this.generateSegmentInfo_(i)),this.isPendingTimestampOffset_=!1,this.updateTransmuxerAndRequestSegment_(e)});return}this.updateTransmuxerAndRequestSegment_(e)}updateTransmuxerAndRequestSegment_(e){this.shouldUpdateTransmuxerTimestampOffset_(e.timestampOffset)&&(this.gopBuffer_.length=0,e.gopsToAlignWith=[],this.timeMapping_=0,this.transmuxer_.postMessage({action:"reset"}),this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:e.timestampOffset}));const i=this.createSimplifiedSegmentObj_(e),n=this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex),s=this.mediaIndex!==null,r=e.timeline!==this.currentTimeline_&&e.timeline>0,a=n||s&&r;this.logger_(`Requesting
${VX(e.uri)}
${cu(e)}`),i.map&&!i.map.bytes&&(this.logger_("going to request init segment."),this.appendInitSegment_={video:!0,audio:!0}),e.abortRequests=hxe({xhr:this.vhs_.xhr,xhrOptions:this.xhrOptions_,decryptionWorker:this.decrypter_,segment:i,abortFn:this.handleAbort_.bind(this,e),progressFn:this.handleProgress_.bind(this),trackInfoFn:this.handleTrackInfo_.bind(this),timingInfoFn:this.handleTimingInfo_.bind(this),videoSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"video",e.requestId),audioSegmentTimingInfoFn:this.handleSegmentTimingInfo_.bind(this,"audio",e.requestId),captionsFn:this.handleCaptions_.bind(this),isEndOfTimeline:a,endedTimelineFn:()=>{this.logger_("received endedtimeline callback")},id3Fn:this.handleId3_.bind(this),dataFn:this.handleData_.bind(this),doneFn:this.segmentRequestFinished_.bind(this),onTransmuxerLog:({message:o,level:l,stream:c})=>{this.logger_(`${cu(e)} logged from transmuxer stream ${c} as a ${l}: ${o}`)},triggerSegmentEventFn:({type:o,segment:l,keyInfo:c,trackInfo:u,timingInfo:d})=>{const f={segmentInfo:Ol({segment:l})};c&&(f.keyInfo=c),u&&(f.trackInfo=u),d&&(f.timingInfo=d),this.trigger({type:o,metadata:f})}})}trimBackBuffer_(e){const i=Bxe(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);i>0&&this.remove(0,i)}createSimplifiedSegmentObj_(e){const i=e.segment,n=e.part,s=e.segment.key||e.segment.map&&e.segment.map.key,r=e.segment.map&&!e.segment.map.bytes,a={resolvedUri:n?n.resolvedUri:i.resolvedUri,byterange:n?n.byterange:i.byterange,requestId:e.requestId,transmuxer:e.transmuxer,audioAppendStart:e.audioAppendStart,gopsToAlignWith:e.gopsToAlignWith,part:e.part,type:this.loaderType_,start:e.startOfSegment,duration:e.duration,isEncrypted:s,isMediaInitialization:r},o=e.playlist.segments[e.mediaIndex-1];if(o&&o.timeline===i.timeline&&(o.videoTimingInfo?a.baseStartTime=o.videoTimingInfo.transmuxedDecodeEnd:o.audioTimingInfo&&(a.baseStartTime=o.audioTimingInfo.transmuxedDecodeEnd)),i.key){const l=i.key.iv||new Uint32Array([0,0,0,e.mediaIndex+e.playlist.mediaSequence]);a.key=this.segmentKey(i.key),a.key.iv=l}return i.map&&(a.map=this.initSegmentForMap(i.map)),a}saveTransferStats_(e){this.mediaRequests+=1,e&&(this.mediaBytesTransferred+=e.bytesReceived,this.mediaTransferDuration+=e.roundTripTime)}saveBandwidthRelatedStats_(e,i){if(this.pendingSegment_.byteLength=i.bytesReceived,e<jm){this.logger_(`Ignoring segment's bandwidth because its duration of ${e} is less than the min to record ${jm}`);return}const n={bandwidthInfo:{from:this.bandwidth,to:i.bandwidth}};this.trigger({type:"bandwidthupdated",metadata:n}),this.bandwidth=i.bandwidth,this.roundTrip=i.roundTripTime}handleTimeout_(){this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,this.trigger("bandwidthupdate"),this.trigger("timeout")}segmentRequestFinished_(e,i,n){if(this.callQueue_.length){this.callQueue_.push(this.segmentRequestFinished_.bind(this,e,i,n));return}if(this.saveTransferStats_(i.stats),!this.pendingSegment_||i.requestId!==this.pendingSegment_.requestId)return;if(e){if(this.pendingSegment_=null,this.state="READY",e.code===na.ABORTED)return;if(this.pause(),e.code===na.TIMEOUT){this.handleTimeout_();return}this.mediaRequestsErrored+=1,this.error(e),this.trigger("error");return}const s=this.pendingSegment_;this.saveBandwidthRelatedStats_(s.duration,i.stats),s.endOfAllRequests=i.endOfAllRequests,n.gopInfo&&(this.gopBuffer_=Nxe(this.gopBuffer_,n.gopInfo,this.safeAppend_)),this.state="APPENDING",this.trigger("appending"),this.waitForAppendsToComplete_(s)}setTimeMapping_(e){const i=this.syncController_.mappingForTimeline(e);i!==null&&(this.timeMapping_=i)}updateMediaSecondsLoaded_(e){typeof e.start=="number"&&typeof e.end=="number"?this.mediaSecondsLoaded+=e.end-e.start:this.mediaSecondsLoaded+=e.duration}shouldUpdateTransmuxerTimestampOffset_(e){return e===null?!1:this.loaderType_==="main"&&e!==this.sourceUpdater_.videoTimestampOffset()||!this.audioDisabled_&&e!==this.sourceUpdater_.audioTimestampOffset()}trueSegmentStart_({currentStart:e,playlist:i,mediaIndex:n,firstVideoFrameTimeForData:s,currentVideoTimestampOffset:r,useVideoTimingInfo:a,videoTimingInfo:o,audioTimingInfo:l}){if(typeof e<"u")return e;if(!a)return l.start;const c=i.segments[n-1];return n===0||!c||typeof c.start>"u"||c.end!==s+r?s:o.start}waitForAppendsToComplete_(e){const i=this.getCurrentMediaInfo_(e);if(!i){this.error({message:"No starting media returned, likely due to an unsupported media format.",playlistExclusionDuration:1/0}),this.trigger("error");return}const{hasAudio:n,hasVideo:s,isMuxed:r}=i,a=this.loaderType_==="main"&&s,o=!this.audioDisabled_&&n&&!r;if(e.waitingOnAppends=0,!e.hasAppendedData_){!e.timingInfo&&typeof e.timestampOffset=="number"&&(this.isPendingTimestampOffset_=!0),e.timingInfo={start:0},e.waitingOnAppends++,this.isPendingTimestampOffset_||(this.updateSourceBufferTimestampOffset_(e),this.processMetadataQueue_()),this.checkAppendsDone_(e);return}a&&e.waitingOnAppends++,o&&e.waitingOnAppends++,a&&this.sourceUpdater_.videoQueueCallback(this.checkAppendsDone_.bind(this,e)),o&&this.sourceUpdater_.audioQueueCallback(this.checkAppendsDone_.bind(this,e))}checkAppendsDone_(e){this.checkForAbort_(e.requestId)||(e.waitingOnAppends--,e.waitingOnAppends===0&&this.handleAppendsDone_())}checkForIllegalMediaSwitch(e){const i=Uxe(this.loaderType_,this.getCurrentMediaInfo_(),e);return i?(this.error({message:i,playlistExclusionDuration:1/0}),this.trigger("error"),!0):!1}updateSourceBufferTimestampOffset_(e){if(e.timestampOffset===null||typeof e.timingInfo.start!="number"||e.changedTimestampOffset||this.loaderType_!=="main")return;let i=!1;e.timestampOffset-=this.getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e.segment.videoTimingInfo,audioTimingInfo:e.segment.audioTimingInfo,timingInfo:e.timingInfo}),e.changedTimestampOffset=!0,e.timestampOffset!==this.sourceUpdater_.videoTimestampOffset()&&(this.sourceUpdater_.videoTimestampOffset(e.timestampOffset),i=!0),e.timestampOffset!==this.sourceUpdater_.audioTimestampOffset()&&(this.sourceUpdater_.audioTimestampOffset(e.timestampOffset),i=!0),i&&this.trigger("timestampoffset")}getSegmentStartTimeForTimestampOffsetCalculation_({videoTimingInfo:e,audioTimingInfo:i,timingInfo:n}){return this.useDtsForTimestampOffset_?e&&typeof e.transmuxedDecodeStart=="number"?e.transmuxedDecodeStart:i&&typeof i.transmuxedDecodeStart=="number"?i.transmuxedDecodeStart:n.start:n.start}updateTimingInfoEnd_(e){e.timingInfo=e.timingInfo||{};const i=this.getMediaInfo_(),s=this.loaderType_==="main"&&i&&i.hasVideo&&e.videoTimingInfo?e.videoTimingInfo:e.audioTimingInfo;s&&(e.timingInfo.end=typeof s.end=="number"?s.end:s.start+e.duration)}handleAppendsDone_(){if(this.pendingSegment_){const l={segmentInfo:Ol({type:this.loaderType_,segment:this.pendingSegment_})};this.trigger({type:"appendsdone",metadata:l})}if(!this.pendingSegment_){this.state="READY",this.paused()||this.monitorBuffer_();return}const e=this.pendingSegment_;e.part&&e.part.syncInfo?e.part.syncInfo.markAppended():e.segment.syncInfo&&e.segment.syncInfo.markAppended(),this.updateTimingInfoEnd_(e),this.shouldSaveSegmentTimingInfo_&&this.syncController_.saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:this.loaderType_==="main"});const i=Zxe(e,this.sourceType_);if(i&&(i.severity==="warn"?he.log.warn(i.message):this.logger_(i.message)),this.recordThroughput_(e),this.pendingSegment_=null,this.state="READY",e.isSyncRequest&&(this.trigger("syncinfoupdate"),!e.hasAppendedData_)){this.logger_(`Throwing away un-appended sync request ${cu(e)}`);return}this.logger_(`Appended ${cu(e)}`),this.addSegmentMetadataCue_(e),this.fetchAtBuffer_=!0,this.currentTimeline_!==e.timeline&&(this.timelineChangeController_.lastTimelineChange({type:this.loaderType_,from:this.currentTimeline_,to:e.timeline}),this.loaderType_==="main"&&!this.audioDisabled_&&this.timelineChangeController_.lastTimelineChange({type:"audio",from:this.currentTimeline_,to:e.timeline})),this.currentTimeline_=e.timeline,this.trigger("syncinfoupdate");const n=e.segment,s=e.part,r=n.end&&this.currentTime_()-n.end>e.playlist.targetDuration*3,a=s&&s.end&&this.currentTime_()-s.end>e.playlist.partTargetDuration*3;if(r||a){this.logger_(`bad ${r?"segment":"part"} ${cu(e)}`),this.resetEverything();return}this.mediaIndex!==null&&this.trigger("bandwidthupdate"),this.trigger("progress"),this.mediaIndex=e.mediaIndex,this.partIndex=e.partIndex,this.isEndOfStream_(e.mediaIndex,e.playlist,e.partIndex)&&this.endOfStream(),this.trigger("appended"),e.hasAppendedData_&&this.mediaAppends++,this.paused()||this.monitorBuffer_()}recordThroughput_(e){if(e.duration<jm){this.logger_(`Ignoring segment's throughput because its duration of ${e.duration} is less than the min to record ${jm}`);return}const i=this.throughput.rate,n=Date.now()-e.endOfAllRequests+1,s=Math.floor(e.byteLength/n*8*1e3);this.throughput.rate+=(s-i)/++this.throughput.count}addSegmentMetadataCue_(e){if(!this.segmentMetadataTrack_)return;const i=e.segment,n=i.start,s=i.end;if(!kV(n)||!kV(s))return;Df(n,s,this.segmentMetadataTrack_);const r=K.WebKitDataCue||K.VTTCue,a={custom:i.custom,dateTimeObject:i.dateTimeObject,dateTimeString:i.dateTimeString,programDateTime:i.programDateTime,bandwidth:e.playlist.attributes.BANDWIDTH,resolution:e.playlist.attributes.RESOLUTION,codecs:e.playlist.attributes.CODECS,byteLength:e.byteLength,uri:e.uri,timeline:e.timeline,playlist:e.playlist.id,start:n,end:s},o=JSON.stringify(a),l=new r(n,s,o);l.value=a,this.segmentMetadataTrack_.addCue(l)}}function Xa(){}const LX=function(t){return typeof t!="string"?t:t.replace(/./,e=>e.toUpperCase())},Pxe=["video","audio"],JS=(t,e)=>{const i=e[`${t}Buffer`];return i&&i.updating||e.queuePending[t]},Oxe=(t,e)=>{for(let i=0;i<e.length;i++){const n=e[i];if(n.type==="mediaSource")return null;if(n.type===t)return i}return null},od=(t,e)=>{if(e.queue.length===0)return;let i=0,n=e.queue[i];if(n.type==="mediaSource"){!e.updating()&&e.mediaSource.readyState!=="closed"&&(e.queue.shift(),n.action(e),n.doneFn&&n.doneFn(),od("audio",e),od("video",e));return}if(t!=="mediaSource"&&!(!e.ready()||e.mediaSource.readyState==="closed"||JS(t,e))){if(n.type!==t){if(i=Oxe(t,e.queue),i===null)return;n=e.queue[i]}if(e.queue.splice(i,1),e.queuePending[t]=n,n.action(t,e),!n.doneFn){e.queuePending[t]=null,od(t,e);return}}},kX=(t,e)=>{const i=e[`${t}Buffer`],n=LX(t);i&&(i.removeEventListener("updateend",e[`on${n}UpdateEnd_`]),i.removeEventListener("error",e[`on${n}Error_`]),e.codecs[t]=null,e[`${t}Buffer`]=null)},zr=(t,e)=>t&&e&&Array.prototype.indexOf.call(t.sourceBuffers,e)!==-1,ms={appendBuffer:(t,e,i)=>(n,s)=>{const r=s[`${n}Buffer`];if(zr(s.mediaSource,r)){s.logger_(`Appending segment ${e.mediaIndex}'s ${t.length} bytes to ${n}Buffer`);try{r.appendBuffer(t)}catch(a){s.logger_(`Error with code ${a.code} `+(a.code===oX?"(QUOTA_EXCEEDED_ERR) ":"")+`when appending segment ${e.mediaIndex} to ${n}Buffer`),s.queuePending[n]=null,i(a)}}},remove:(t,e)=>(i,n)=>{const s=n[`${i}Buffer`];if(zr(n.mediaSource,s)){n.logger_(`Removing ${t} to ${e} from ${i}Buffer`);try{s.remove(t,e)}catch{n.logger_(`Remove ${t} to ${e} from ${i}Buffer failed`)}}},timestampOffset:t=>(e,i)=>{const n=i[`${e}Buffer`];zr(i.mediaSource,n)&&(i.logger_(`Setting ${e}timestampOffset to ${t}`),n.timestampOffset=t)},callback:t=>(e,i)=>{t()},endOfStream:t=>e=>{if(e.mediaSource.readyState==="open"){e.logger_(`Calling mediaSource endOfStream(${t||""})`);try{e.mediaSource.endOfStream(t)}catch(i){he.log.warn("Failed to call media source endOfStream",i)}}},duration:t=>e=>{e.logger_(`Setting mediaSource duration to ${t}`);try{e.mediaSource.duration=t}catch(i){he.log.warn("Failed to set media source duration",i)}},abort:()=>(t,e)=>{if(e.mediaSource.readyState!=="open")return;const i=e[`${t}Buffer`];if(zr(e.mediaSource,i)){e.logger_(`calling abort on ${t}Buffer`);try{i.abort()}catch(n){he.log.warn(`Failed to abort on ${t}Buffer`,n)}}},addSourceBuffer:(t,e)=>i=>{const n=LX(t),s=Bd(e);i.logger_(`Adding ${t}Buffer with codec ${e} to mediaSource`);const r=i.mediaSource.addSourceBuffer(s);r.addEventListener("updateend",i[`on${n}UpdateEnd_`]),r.addEventListener("error",i[`on${n}Error_`]),i.codecs[t]=e,i[`${t}Buffer`]=r},removeSourceBuffer:t=>e=>{const i=e[`${t}Buffer`];if(kX(t,e),!!zr(e.mediaSource,i)){e.logger_(`Removing ${t}Buffer with codec ${e.codecs[t]} from mediaSource`);try{e.mediaSource.removeSourceBuffer(i)}catch(n){he.log.warn(`Failed to removeSourceBuffer ${t}Buffer`,n)}}},changeType:t=>(e,i)=>{const n=i[`${e}Buffer`],s=Bd(t);if(!zr(i.mediaSource,n))return;const r=t.substring(0,t.indexOf(".")),a=i.codecs[e];if(a.substring(0,a.indexOf("."))===r)return;const l={codecsChangeInfo:{from:a,to:t}};i.trigger({type:"codecschange",metadata:l}),i.logger_(`changing ${e}Buffer codec from ${a} to ${t}`);try{n.changeType(s),i.codecs[e]=t}catch(c){l.errorType=he.Error.StreamingCodecsChangeError,l.error=c,c.metadata=l,i.error_=c,i.trigger("error"),he.log.warn(`Failed to changeType on ${e}Buffer`,c)}}},gs=({type:t,sourceUpdater:e,action:i,doneFn:n,name:s})=>{e.queue.push({type:t,action:i,doneFn:n,name:s}),od(t,e)},BV=(t,e)=>i=>{const n=e[`${t}Buffered`](),s=t_e(n);if(e.logger_(`received "updateend" event for ${t} Source Buffer: `,s),e.queuePending[t]){const r=e.queuePending[t].doneFn;e.queuePending[t]=null,r&&r(e[`${t}Error_`])}od(t,e)};class FX extends he.EventTarget{constructor(e){super(),this.mediaSource=e,this.sourceopenListener_=()=>od("mediaSource",this),this.mediaSource.addEventListener("sourceopen",this.sourceopenListener_),this.logger_=ir("SourceUpdater"),this.audioTimestampOffset_=0,this.videoTimestampOffset_=0,this.queue=[],this.queuePending={audio:null,video:null},this.delayedAudioAppendQueue_=[],this.videoAppendQueued_=!1,this.codecs={},this.onVideoUpdateEnd_=BV("video",this),this.onAudioUpdateEnd_=BV("audio",this),this.onVideoError_=i=>{this.videoError_=i},this.onAudioError_=i=>{this.audioError_=i},this.createdSourceBuffers_=!1,this.initializedEme_=!1,this.triggeredReady_=!1}initializedEme(){this.initializedEme_=!0,this.triggerReady()}hasCreatedSourceBuffers(){return this.createdSourceBuffers_}hasInitializedAnyEme(){return this.initializedEme_}ready(){return this.hasCreatedSourceBuffers()&&this.hasInitializedAnyEme()}createSourceBuffers(e){this.hasCreatedSourceBuffers()||(this.addOrChangeSourceBuffers(e),this.createdSourceBuffers_=!0,this.trigger("createdsourcebuffers"),this.triggerReady())}triggerReady(){this.ready()&&!this.triggeredReady_&&(this.triggeredReady_=!0,this.trigger("ready"))}addSourceBuffer(e,i){gs({type:"mediaSource",sourceUpdater:this,action:ms.addSourceBuffer(e,i),name:"addSourceBuffer"})}abort(e){gs({type:e,sourceUpdater:this,action:ms.abort(e),name:"abort"})}removeSourceBuffer(e){if(!this.canRemoveSourceBuffer()){he.log.error("removeSourceBuffer is not supported!");return}gs({type:"mediaSource",sourceUpdater:this,action:ms.removeSourceBuffer(e),name:"removeSourceBuffer"})}canRemoveSourceBuffer(){return!he.browser.IS_FIREFOX&&K.MediaSource&&K.MediaSource.prototype&&typeof K.MediaSource.prototype.removeSourceBuffer=="function"}static canChangeType(){return K.SourceBuffer&&K.SourceBuffer.prototype&&typeof K.SourceBuffer.prototype.changeType=="function"}canChangeType(){return this.constructor.canChangeType()}changeType(e,i){if(!this.canChangeType()){he.log.error("changeType is not supported!");return}gs({type:e,sourceUpdater:this,action:ms.changeType(i),name:"changeType"})}addOrChangeSourceBuffers(e){if(!e||typeof e!="object"||Object.keys(e).length===0)throw new Error("Cannot addOrChangeSourceBuffers to undefined codecs");Object.keys(e).forEach(i=>{const n=e[i];if(!this.hasCreatedSourceBuffers())return this.addSourceBuffer(i,n);this.canChangeType()&&this.changeType(i,n)})}appendBuffer(e,i){const{segmentInfo:n,type:s,bytes:r}=e;if(this.processedAppend_=!0,s==="audio"&&this.videoBuffer&&!this.videoAppendQueued_){this.delayedAudioAppendQueue_.push([e,i]),this.logger_(`delayed audio append of ${r.length} until video append`);return}const a=i;if(gs({type:s,sourceUpdater:this,action:ms.appendBuffer(r,n||{mediaIndex:-1},a),doneFn:i,name:"appendBuffer"}),s==="video"){if(this.videoAppendQueued_=!0,!this.delayedAudioAppendQueue_.length)return;const o=this.delayedAudioAppendQueue_.slice();this.logger_(`queuing delayed audio ${o.length} appendBuffers`),this.delayedAudioAppendQueue_.length=0,o.forEach(l=>{this.appendBuffer.apply(this,l)})}}audioBuffered(){return zr(this.mediaSource,this.audioBuffer)&&this.audioBuffer.buffered?this.audioBuffer.buffered:sn()}videoBuffered(){return zr(this.mediaSource,this.videoBuffer)&&this.videoBuffer.buffered?this.videoBuffer.buffered:sn()}buffered(){const e=zr(this.mediaSource,this.videoBuffer)?this.videoBuffer:null,i=zr(this.mediaSource,this.audioBuffer)?this.audioBuffer:null;return i&&!e?this.audioBuffered():e&&!i?this.videoBuffered():n_e(this.audioBuffered(),this.videoBuffered())}setDuration(e,i=Xa){gs({type:"mediaSource",sourceUpdater:this,action:ms.duration(e),name:"duration",doneFn:i})}endOfStream(e=null,i=Xa){typeof e!="string"&&(e=void 0),gs({type:"mediaSource",sourceUpdater:this,action:ms.endOfStream(e),name:"endOfStream",doneFn:i})}removeAudio(e,i,n=Xa){if(!this.audioBuffered().length||this.audioBuffered().end(0)===0){n();return}gs({type:"audio",sourceUpdater:this,action:ms.remove(e,i),doneFn:n,name:"remove"})}removeVideo(e,i,n=Xa){if(!this.videoBuffered().length||this.videoBuffered().end(0)===0){n();return}gs({type:"video",sourceUpdater:this,action:ms.remove(e,i),doneFn:n,name:"remove"})}updating(){return!!(JS("audio",this)||JS("video",this))}audioTimestampOffset(e){return typeof e<"u"&&this.audioBuffer&&this.audioTimestampOffset_!==e&&(gs({type:"audio",sourceUpdater:this,action:ms.timestampOffset(e),name:"timestampOffset"}),this.audioTimestampOffset_=e),this.audioTimestampOffset_}videoTimestampOffset(e){return typeof e<"u"&&this.videoBuffer&&this.videoTimestampOffset_!==e&&(gs({type:"video",sourceUpdater:this,action:ms.timestampOffset(e),name:"timestampOffset"}),this.videoTimestampOffset_=e),this.videoTimestampOffset_}audioQueueCallback(e){this.audioBuffer&&gs({type:"audio",sourceUpdater:this,action:ms.callback(e),name:"callback"})}videoQueueCallback(e){this.videoBuffer&&gs({type:"video",sourceUpdater:this,action:ms.callback(e),name:"callback"})}dispose(){this.trigger("dispose"),Pxe.forEach(e=>{this.abort(e),this.canRemoveSourceBuffer()?this.removeSourceBuffer(e):this[`${e}QueueCallback`](()=>kX(e,this))}),this.videoAppendQueued_=!1,this.delayedAudioAppendQueue_.length=0,this.sourceopenListener_&&this.mediaSource.removeEventListener("sourceopen",this.sourceopenListener_),this.off()}}const WV=t=>decodeURIComponent(escape(String.fromCharCode.apply(null,t))),Xxe=t=>{const e=new Uint8Array(t);return Array.from(e).map(i=>i.toString(16).padStart(2,"0")).join("")},GV=new Uint8Array(`

`.split("").map(t=>t.charCodeAt(0)));class Yxe extends Error{constructor(){super("Trying to parse received VTT cues, but there is no WebVTT. Make sure vtt.js is loaded.")}}class $xe extends zS{constructor(e,i={}){super(e,i),this.mediaSource_=null,this.subtitlesTrack_=null,this.featuresNativeTextTracks_=e.featuresNativeTextTracks,this.loadVttJs=e.loadVttJs,this.shouldSaveSegmentTimingInfo_=!1}buffered_(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues||!this.subtitlesTrack_.cues.length)return sn();const e=this.subtitlesTrack_.cues,i=e[0].startTime,n=e[e.length-1].startTime;return sn([[i,n]])}initSegmentForMap(e,i=!1){if(!e)return null;const n=U2(e);let s=this.initSegments_[n];if(i&&!s&&e.bytes){const r=GV.byteLength+e.bytes.byteLength,a=new Uint8Array(r);a.set(e.bytes),a.set(GV,e.bytes.byteLength),this.initSegments_[n]=s={resolvedUri:e.resolvedUri,byterange:e.byterange,bytes:a}}return s||e}couldBeginLoading_(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}init_(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}track(e){return typeof e>"u"?this.subtitlesTrack_:(this.subtitlesTrack_=e,this.state==="INIT"&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}remove(e,i){Df(e,i,this.subtitlesTrack_)}fillBuffer_(){const e=this.chooseNextRequest_();if(e){if(this.syncController_.timestampOffsetForTimeline(e.timeline)===null){const i=()=>{this.state="READY",this.paused()||this.monitorBuffer_()};this.syncController_.one("timestampoffset",i),this.state="WAITING_ON_TIMELINE";return}this.loadSegment_(e)}}timestampOffsetForSegment_(){return null}chooseNextRequest_(){return this.skipEmptySegments_(super.chooseNextRequest_())}skipEmptySegments_(e){for(;e&&e.segment.empty;){if(e.mediaIndex+1>=e.playlist.segments.length){e=null;break}e=this.generateSegmentInfo_({playlist:e.playlist,mediaIndex:e.mediaIndex+1,startOfSegment:e.startOfSegment+e.duration,isSyncRequest:e.isSyncRequest})}return e}stopForError(e){this.error(e),this.state="READY",this.pause(),this.trigger("error")}segmentRequestFinished_(e,i,n){if(!this.subtitlesTrack_){this.state="READY";return}if(this.saveTransferStats_(i.stats),!this.pendingSegment_){this.state="READY",this.mediaRequestsAborted+=1;return}if(e){e.code===na.TIMEOUT&&this.handleTimeout_(),e.code===na.ABORTED?this.mediaRequestsAborted+=1:this.mediaRequestsErrored+=1,this.stopForError(e);return}const s=this.pendingSegment_,r=n.mp4VttCues&&n.mp4VttCues.length;r&&(s.mp4VttCues=n.mp4VttCues),this.saveBandwidthRelatedStats_(s.duration,i.stats),i.key&&this.segmentKey(i.key,!0),this.state="APPENDING",this.trigger("appending");const a=s.segment;if(a.map&&(a.map.bytes=i.map.bytes),s.bytes=i.bytes,typeof K.WebVTT!="function"&&typeof this.loadVttJs=="function"){this.state="WAITING_ON_VTTJS",this.loadVttJs().then(()=>this.segmentRequestFinished_(e,i,n),()=>this.stopForError({message:"Error loading vtt.js"}));return}a.requested=!0;try{this.parseVTTCues_(s)}catch(o){this.stopForError({message:o.message,metadata:{errorType:he.Error.StreamingVttParserError,error:o}});return}if(r||this.updateTimeMapping_(s,this.syncController_.timelines[s.timeline],this.playlist_),s.cues.length?s.timingInfo={start:s.cues[0].startTime,end:s.cues[s.cues.length-1].endTime}:s.timingInfo={start:s.startOfSegment,end:s.startOfSegment+s.duration},s.isSyncRequest){this.trigger("syncinfoupdate"),this.pendingSegment_=null,this.state="READY";return}s.byteLength=s.bytes.byteLength,this.mediaSecondsLoaded+=a.duration,s.cues.forEach(o=>{this.subtitlesTrack_.addCue(this.featuresNativeTextTracks_?new K.VTTCue(o.startTime,o.endTime,o.text):o)}),_xe(this.subtitlesTrack_),this.handleAppendsDone_()}handleData_(e,i){const n=e&&e.type==="vtt",s=i&&i.type==="text";n&&s&&super.handleData_(e,i)}updateTimingInfoEnd_(){}parseMp4VttCues_(e){const i=this.sourceUpdater_.videoTimestampOffset()===null?this.sourceUpdater_.audioTimestampOffset():this.sourceUpdater_.videoTimestampOffset();e.mp4VttCues.forEach(n=>{const s=n.start+i,r=n.end+i,a=new K.VTTCue(s,r,n.cueText);n.settings&&n.settings.split(" ").forEach(o=>{const l=o.split(":"),c=l[0],u=l[1];a[c]=isNaN(u)?u:Number(u)}),e.cues.push(a)})}parseVTTCues_(e){let i,n=!1;if(typeof K.WebVTT!="function")throw new Yxe;if(e.cues=[],e.timestampmap={MPEGTS:0,LOCAL:0},e.mp4VttCues){this.parseMp4VttCues_(e);return}typeof K.TextDecoder=="function"?i=new K.TextDecoder("utf8"):(i=K.WebVTT.StringDecoder(),n=!0);const s=new K.WebVTT.Parser(K,K.vttjs,i);if(s.oncue=e.cues.push.bind(e.cues),s.ontimestampmap=a=>{e.timestampmap=a},s.onparsingerror=a=>{he.log.warn("Error encountered when parsing cues: "+a.message)},e.segment.map){let a=e.segment.map.bytes;n&&(a=WV(a)),s.parse(a)}let r=e.bytes;n&&(r=WV(r)),s.parse(r),s.flush()}updateTimeMapping_(e,i,n){const s=e.segment;if(!i)return;if(!e.cues.length){s.empty=!0;return}const{MPEGTS:r,LOCAL:a}=e.timestampmap,l=r/Hl.ONE_SECOND_IN_TS-a+i.mapping;if(e.cues.forEach(c=>{const u=c.endTime-c.startTime,d=this.handleRollover_(c.startTime+l,i.time);c.startTime=Math.max(d,0),c.endTime=Math.max(d+u,0)}),!n.syncInfo){const c=e.cues[0].startTime,u=e.cues[e.cues.length-1].startTime;n.syncInfo={mediaSequence:n.mediaSequence+e.mediaIndex,time:Math.min(c,u-s.duration)}}}handleRollover_(e,i){if(i===null)return e;let n=e*Hl.ONE_SECOND_IN_TS;const s=i*Hl.ONE_SECOND_IN_TS;let r;for(s<n?r=-8589934592:r=8589934592;Math.abs(n-s)>4294967296;)n+=r;return n/Hl.ONE_SECOND_IN_TS}}const Kxe=function(t,e){const i=t.cues;for(let n=0;n<i.length;n++){const s=i[n];if(e>=s.adStartTime&&e<=s.adEndTime)return s}return null},zxe=function(t,e,i=0){if(!t.segments)return;let n=i,s;for(let r=0;r<t.segments.length;r++){const a=t.segments[r];if(s||(s=Kxe(e,n+a.duration/2)),s){if("cueIn"in a){s.endTime=n,s.adEndTime=n,n+=a.duration,s=null;continue}if(n<s.endTime){n+=a.duration;continue}s.endTime+=a.duration}else if("cueOut"in a&&(s=new K.VTTCue(n,n+a.duration,a.cueOut),s.adStartTime=n,s.adEndTime=n+parseFloat(a.cueOut),e.addCue(s)),"cueOutCont"in a){const[o,l]=a.cueOutCont.split("/").map(parseFloat);s=new K.VTTCue(n,n+a.duration,""),s.adStartTime=n-o,s.adEndTime=s.adStartTime+l,e.addCue(s)}n+=a.duration}};class DV{constructor({start:e,end:i,segmentIndex:n,partIndex:s=null,appended:r=!1}){this.start_=e,this.end_=i,this.segmentIndex_=n,this.partIndex_=s,this.appended_=r}isInRange(e){return e>=this.start&&e<this.end}markAppended(){this.appended_=!0}resetAppendedStatus(){this.appended_=!1}get isAppended(){return this.appended_}get start(){return this.start_}get end(){return this.end_}get segmentIndex(){return this.segmentIndex_}get partIndex(){return this.partIndex_}}class Jxe{constructor(e,i=[]){this.segmentSyncInfo_=e,this.partsSyncInfo_=i}get segmentSyncInfo(){return this.segmentSyncInfo_}get partsSyncInfo(){return this.partsSyncInfo_}get hasPartsSyncInfo(){return this.partsSyncInfo_.length>0}resetAppendStatus(){this.segmentSyncInfo_.resetAppendedStatus(),this.partsSyncInfo_.forEach(e=>e.resetAppendedStatus())}}class UX{constructor(){this.storage_=new Map,this.diagnostics_="",this.isReliable_=!1,this.start_=-1/0,this.end_=1/0}get start(){return this.start_}get end(){return this.end_}get diagnostics(){return this.diagnostics_}get isReliable(){return this.isReliable_}resetAppendedStatus(){this.storage_.forEach(e=>e.resetAppendStatus())}update(e,i){const{mediaSequence:n,segments:s}=e;if(this.isReliable_=this.isReliablePlaylist_(n,s),!!this.isReliable_)return this.updateStorage_(s,n,this.calculateBaseTime_(n,s,i))}getSyncInfoForTime(e){for(const{segmentSyncInfo:i,partsSyncInfo:n}of this.storage_.values())if(n.length){for(const s of n)if(s.isInRange(e))return s}else if(i.isInRange(e))return i;return null}getSyncInfoForMediaSequence(e){return this.storage_.get(e)}updateStorage_(e,i,n){const s=new Map;let r=`
`,a=n,o=i;this.start_=a,e.forEach((l,c)=>{const u=this.storage_.get(o),d=a,h=d+l.duration,f=!!(u&&u.segmentSyncInfo&&u.segmentSyncInfo.isAppended),p=new DV({start:d,end:h,appended:f,segmentIndex:c});l.syncInfo=p;let m=a;const v=(l.parts||[]).map((g,E)=>{const A=m,R=m+g.duration,I=!!(u&&u.partsSyncInfo&&u.partsSyncInfo[E]&&u.partsSyncInfo[E].isAppended),L=new DV({start:A,end:R,appended:I,segmentIndex:c,partIndex:E});return m=R,r+=`Media Sequence: ${o}.${E} | Range: ${A} --> ${R} | Appended: ${I}
`,g.syncInfo=L,L});s.set(o,new Jxe(p,v)),r+=`${VX(l.resolvedUri)} | Media Sequence: ${o} | Range: ${d} --> ${h} | Appended: ${f}
`,o++,a=h}),this.end_=a,this.storage_=s,this.diagnostics_=r}calculateBaseTime_(e,i,n){if(!this.storage_.size)return 0;if(this.storage_.has(e))return this.storage_.get(e).segmentSyncInfo.start;const s=Math.min(...this.storage_.keys());if(e<s){const r=s-e;let a=this.storage_.get(s).segmentSyncInfo.start;for(let o=0;o<r;o++){const l=i[o];a-=l.duration}return a}return n}isReliablePlaylist_(e,i){return e!=null&&Array.isArray(i)&&i.length}}class MV extends UX{constructor(e){super(),this.parent_=e}calculateBaseTime_(e,i,n){if(!this.storage_.size){const s=this.parent_.getSyncInfoForMediaSequence(e);return s?s.segmentSyncInfo.start:0}return super.calculateBaseTime_(e,i,n)}}const jxe=86400,DE=[{name:"VOD",run:(t,e,i,n,s)=>i!==1/0?{time:0,segmentIndex:0,partIndex:null}:null},{name:"MediaSequence",run:(t,e,i,n,s,r)=>{const a=t.getMediaSequenceSync(r);if(!a||!a.isReliable)return null;const o=a.getSyncInfoForTime(s);return o?{time:o.start,partIndex:o.partIndex,segmentIndex:o.segmentIndex}:null}},{name:"ProgramDateTime",run:(t,e,i,n,s)=>{if(!Object.keys(t.timelineToDatetimeMappings).length)return null;let r=null,a=null;const o=DS(e);s=s||0;for(let l=0;l<o.length;l++){const c=e.endList||s===0?l:o.length-(l+1),u=o[c],d=u.segment,h=t.timelineToDatetimeMappings[d.timeline];if(!h||!d.dateTimeObject)continue;let p=d.dateTimeObject.getTime()/1e3+h;if(d.parts&&typeof u.partIndex=="number")for(let v=0;v<u.partIndex;v++)p+=d.parts[v].duration;const m=Math.abs(s-p);if(a!==null&&(m===0||a<m))break;a=m,r={time:p,segmentIndex:u.segmentIndex,partIndex:u.partIndex}}return r}},{name:"Segment",run:(t,e,i,n,s)=>{let r=null,a=null;s=s||0;const o=DS(e);for(let l=0;l<o.length;l++){const c=e.endList||s===0?l:o.length-(l+1),u=o[c],d=u.segment,h=u.part&&u.part.start||d&&d.start;if(d.timeline===n&&typeof h<"u"){const f=Math.abs(s-h);if(a!==null&&a<f)break;(!r||a===null||a>=f)&&(a=f,r={time:h,segmentIndex:u.segmentIndex,partIndex:u.partIndex})}}return r}},{name:"Discontinuity",run:(t,e,i,n,s)=>{let r=null;if(s=s||0,e.discontinuityStarts&&e.discontinuityStarts.length){let a=null;for(let o=0;o<e.discontinuityStarts.length;o++){const l=e.discontinuityStarts[o],c=e.discontinuitySequence+o+1,u=t.discontinuities[c];if(u){const d=Math.abs(s-u.time);if(a!==null&&a<d)break;(!r||a===null||a>=d)&&(a=d,r={time:u.time,segmentIndex:l,partIndex:null})}}}return r}},{name:"Playlist",run:(t,e,i,n,s)=>e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence,partIndex:null}:null}];class Hxe extends he.EventTarget{constructor(e={}){super(),this.timelines=[],this.discontinuities=[],this.timelineToDatetimeMappings={};const i=new UX,n=new MV(i),s=new MV(i);this.mediaSequenceStorage_={main:i,audio:n,vtt:s},this.logger_=ir("SyncController")}getMediaSequenceSync(e){return this.mediaSequenceStorage_[e]||null}getSyncPoint(e,i,n,s,r){if(i!==1/0)return DE.find(({name:l})=>l==="VOD").run(this,e,i);const a=this.runStrategies_(e,i,n,s,r);if(!a.length)return null;for(const o of a){const{syncPoint:l,strategy:c}=o,{segmentIndex:u,time:d}=l;if(u<0)continue;const h=e.segments[u],f=d,p=f+h.duration;if(this.logger_(`Strategy: ${c}. Current time: ${s}. selected segment: ${u}. Time: [${f} -> ${p}]}`),s>=f&&s<p)return this.logger_("Found sync point with exact match: ",l),l}return this.selectSyncPoint_(a,{key:"time",value:s})}getExpiredTime(e,i){if(!e||!e.segments)return null;const n=this.runStrategies_(e,i,e.discontinuitySequence,0);if(!n.length)return null;const s=this.selectSyncPoint_(n,{key:"segmentIndex",value:0});return s.segmentIndex>0&&(s.time*=-1),Math.abs(s.time+np({defaultDuration:e.targetDuration,durationList:e.segments,startIndex:s.segmentIndex,endIndex:0}))}runStrategies_(e,i,n,s,r){const a=[];for(let o=0;o<DE.length;o++){const l=DE[o],c=l.run(this,e,i,n,s,r);c&&(c.strategy=l.name,a.push({strategy:l.name,syncPoint:c}))}return a}selectSyncPoint_(e,i){let n=e[0].syncPoint,s=Math.abs(e[0].syncPoint[i.key]-i.value),r=e[0].strategy;for(let a=1;a<e.length;a++){const o=Math.abs(e[a].syncPoint[i.key]-i.value);o<s&&(s=o,n=e[a].syncPoint,r=e[a].strategy)}return this.logger_(`syncPoint for [${i.key}: ${i.value}] chosen with strategy [${r}]: [time:${n.time}, segmentIndex:${n.segmentIndex}`+(typeof n.partIndex=="number"?`,partIndex:${n.partIndex}`:"")+"]"),n}saveExpiredSegmentInfo(e,i){const n=i.mediaSequence-e.mediaSequence;if(n>jxe){he.log.warn(`Not saving expired segment info. Media sequence gap ${n} is too large.`);return}for(let s=n-1;s>=0;s--){const r=e.segments[s];if(r&&typeof r.start<"u"){i.syncInfo={mediaSequence:e.mediaSequence+s,time:r.start},this.logger_(`playlist refresh sync: [time:${i.syncInfo.time}, mediaSequence: ${i.syncInfo.mediaSequence}]`),this.trigger("syncinfoupdate");break}}}setDateTimeMappingForStart(e){if(this.timelineToDatetimeMappings={},e.segments&&e.segments.length&&e.segments[0].dateTimeObject){const i=e.segments[0],n=i.dateTimeObject.getTime()/1e3;this.timelineToDatetimeMappings[i.timeline]=-n}}saveSegmentTimingInfo({segmentInfo:e,shouldSaveTimelineMapping:i}){const n=this.calculateSegmentTimeMapping_(e,e.timingInfo,i),s=e.segment;n&&(this.saveDiscontinuitySyncInfo_(e),e.playlist.syncInfo||(e.playlist.syncInfo={mediaSequence:e.playlist.mediaSequence+e.mediaIndex,time:s.start}));const r=s.dateTimeObject;s.discontinuity&&i&&r&&(this.timelineToDatetimeMappings[s.timeline]=-(r.getTime()/1e3))}timestampOffsetForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].time}mappingForTimeline(e){return typeof this.timelines[e]>"u"?null:this.timelines[e].mapping}calculateSegmentTimeMapping_(e,i,n){const s=e.segment,r=e.part;let a=this.timelines[e.timeline],o,l;if(typeof e.timestampOffset=="number")a={time:e.startOfSegment,mapping:e.startOfSegment-i.start},n&&(this.timelines[e.timeline]=a,this.trigger("timestampoffset"),this.logger_(`time mapping for timeline ${e.timeline}: [time: ${a.time}] [mapping: ${a.mapping}]`)),o=e.startOfSegment,l=i.end+a.mapping;else if(a)o=i.start+a.mapping,l=i.end+a.mapping;else return!1;return r&&(r.start=o,r.end=l),(!s.start||o<s.start)&&(s.start=o),s.end=l,!0}saveDiscontinuitySyncInfo_(e){const i=e.playlist,n=e.segment;if(n.discontinuity)this.discontinuities[n.timeline]={time:n.start,accuracy:0};else if(i.discontinuityStarts&&i.discontinuityStarts.length)for(let s=0;s<i.discontinuityStarts.length;s++){const r=i.discontinuityStarts[s],a=i.discontinuitySequence+s+1,o=r-e.mediaIndex,l=Math.abs(o);if(!this.discontinuities[a]||this.discontinuities[a].accuracy>l){let c;o<0?c=n.start-np({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:e.mediaIndex,endIndex:r}):c=n.end+np({defaultDuration:i.targetDuration,durationList:i.segments,startIndex:e.mediaIndex+1,endIndex:r}),this.discontinuities[a]={time:c,accuracy:l}}}}dispose(){this.trigger("dispose"),this.off()}}class Qxe extends he.EventTarget{constructor(){super(),this.pendingTimelineChanges_={},this.lastTimelineChanges_={}}clearPendingTimelineChange(e){this.pendingTimelineChanges_[e]=null,this.trigger("pendingtimelinechange")}pendingTimelineChange({type:e,from:i,to:n}){return typeof i=="number"&&typeof n=="number"&&(this.pendingTimelineChanges_[e]={type:e,from:i,to:n},this.trigger("pendingtimelinechange")),this.pendingTimelineChanges_[e]}lastTimelineChange({type:e,from:i,to:n}){if(typeof i=="number"&&typeof n=="number"){this.lastTimelineChanges_[e]={type:e,from:i,to:n},delete this.pendingTimelineChanges_[e];const s={timelineChangeInfo:{from:i,to:n}};this.trigger({type:"timelinechange",metadata:s})}return this.lastTimelineChanges_[e]}dispose(){this.trigger("dispose"),this.pendingTimelineChanges_={},this.lastTimelineChanges_={},this.off()}}const qxe=vX(EX(function(){var t=function(){function m(){this.listeners={}}var v=m.prototype;return v.on=function(E,A){this.listeners[E]||(this.listeners[E]=[]),this.listeners[E].push(A)},v.off=function(E,A){if(!this.listeners[E])return!1;var R=this.listeners[E].indexOf(A);return this.listeners[E]=this.listeners[E].slice(0),this.listeners[E].splice(R,1),R>-1},v.trigger=function(E){var A=this.listeners[E];if(A)if(arguments.length===2)for(var R=A.length,I=0;I<R;++I)A[I].call(this,arguments[1]);else for(var L=Array.prototype.slice.call(arguments,1),F=A.length,B=0;B<F;++B)A[B].apply(this,L)},v.dispose=function(){this.listeners={}},v.pipe=function(E){this.on("data",function(A){E.push(A)})},m}();/*! @name pkcs7 @version 1.0.4 @license Apache-2.0 */function e(m){return m.subarray(0,m.byteLength-m[m.byteLength-1])}/*! @name aes-decrypter @version 4.0.2 @license Apache-2.0 */const i=function(){const m=[[[],[],[],[],[]],[[],[],[],[],[]]],v=m[0],g=m[1],E=v[4],A=g[4];let R,I,L;const F=[],B=[];let G,Z,j,pe,J,me;for(R=0;R<256;R++)B[(F[R]=R<<1^(R>>7)*283)^R]=R;for(I=L=0;!E[I];I^=G||1,L=B[L]||1)for(pe=L^L<<1^L<<2^L<<3^L<<4,pe=pe>>8^pe&255^99,E[I]=pe,A[pe]=I,j=F[Z=F[G=F[I]]],me=j*16843009^Z*65537^G*257^I*16843008,J=F[pe]*257^pe*16843008,R=0;R<4;R++)v[R][I]=J=J<<24^J>>>8,g[R][pe]=me=me<<24^me>>>8;for(R=0;R<5;R++)v[R]=v[R].slice(0),g[R]=g[R].slice(0);return m};let n=null;class s{constructor(v){n||(n=i()),this._tables=[[n[0][0].slice(),n[0][1].slice(),n[0][2].slice(),n[0][3].slice(),n[0][4].slice()],[n[1][0].slice(),n[1][1].slice(),n[1][2].slice(),n[1][3].slice(),n[1][4].slice()]];let g,E,A;const R=this._tables[0][4],I=this._tables[1],L=v.length;let F=1;if(L!==4&&L!==6&&L!==8)throw new Error("Invalid aes key size");const B=v.slice(0),G=[];for(this._key=[B,G],g=L;g<4*L+28;g++)A=B[g-1],(g%L===0||L===8&&g%L===4)&&(A=R[A>>>24]<<24^R[A>>16&255]<<16^R[A>>8&255]<<8^R[A&255],g%L===0&&(A=A<<8^A>>>24^F<<24,F=F<<1^(F>>7)*283)),B[g]=B[g-L]^A;for(E=0;g;E++,g--)A=B[E&3?g:g-4],g<=4||E<4?G[E]=A:G[E]=I[0][R[A>>>24]]^I[1][R[A>>16&255]]^I[2][R[A>>8&255]]^I[3][R[A&255]]}decrypt(v,g,E,A,R,I){const L=this._key[1];let F=v^L[0],B=A^L[1],G=E^L[2],Z=g^L[3],j,pe,J;const me=L.length/4-2;let de,ye=4;const Le=this._tables[1],ge=Le[0],H=Le[1],ee=Le[2],we=Le[3],M=Le[4];for(de=0;de<me;de++)j=ge[F>>>24]^H[B>>16&255]^ee[G>>8&255]^we[Z&255]^L[ye],pe=ge[B>>>24]^H[G>>16&255]^ee[Z>>8&255]^we[F&255]^L[ye+1],J=ge[G>>>24]^H[Z>>16&255]^ee[F>>8&255]^we[B&255]^L[ye+2],Z=ge[Z>>>24]^H[F>>16&255]^ee[B>>8&255]^we[G&255]^L[ye+3],ye+=4,F=j,B=pe,G=J;for(de=0;de<4;de++)R[(3&-de)+I]=M[F>>>24]<<24^M[B>>16&255]<<16^M[G>>8&255]<<8^M[Z&255]^L[ye++],j=F,F=B,B=G,G=Z,Z=j}}class r extends t{constructor(){super(t),this.jobs=[],this.delay=1,this.timeout_=null}processJob_(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null}push(v){this.jobs.push(v),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))}}const a=function(m){return m<<24|(m&65280)<<8|(m&16711680)>>8|m>>>24},o=function(m,v,g){const E=new Int32Array(m.buffer,m.byteOffset,m.byteLength>>2),A=new s(Array.prototype.slice.call(v)),R=new Uint8Array(m.byteLength),I=new Int32Array(R.buffer);let L,F,B,G,Z,j,pe,J,me;for(L=g[0],F=g[1],B=g[2],G=g[3],me=0;me<E.length;me+=4)Z=a(E[me]),j=a(E[me+1]),pe=a(E[me+2]),J=a(E[me+3]),A.decrypt(Z,j,pe,J,I,me),I[me]=a(I[me]^L),I[me+1]=a(I[me+1]^F),I[me+2]=a(I[me+2]^B),I[me+3]=a(I[me+3]^G),L=Z,F=j,B=pe,G=J;return R};class l{constructor(v,g,E,A){const R=l.STEP,I=new Int32Array(v.buffer),L=new Uint8Array(v.byteLength);let F=0;for(this.asyncStream_=new r,this.asyncStream_.push(this.decryptChunk_(I.subarray(F,F+R),g,E,L)),F=R;F<I.length;F+=R)E=new Uint32Array([a(I[F-4]),a(I[F-3]),a(I[F-2]),a(I[F-1])]),this.asyncStream_.push(this.decryptChunk_(I.subarray(F,F+R),g,E,L));this.asyncStream_.push(function(){A(null,e(L))})}static get STEP(){return 32e3}decryptChunk_(v,g,E,A){return function(){const R=o(v,g,E);A.set(R,v.byteOffset)}}}var c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Tc<"u"?Tc:typeof self<"u"?self:{},u;typeof window<"u"?u=window:typeof c<"u"?u=c:typeof self<"u"?u=self:u={};var d=u,h=function(v){return ArrayBuffer.isView==="function"?ArrayBuffer.isView(v):v&&v.buffer instanceof ArrayBuffer},f=d.BigInt||Number;f("0x1"),f("0x100"),f("0x10000"),f("0x1000000"),f("0x100000000"),f("0x10000000000"),f("0x1000000000000"),f("0x100000000000000"),f("0x10000000000000000"),function(){var m=new Uint16Array([65484]),v=new Uint8Array(m.buffer,m.byteOffset,m.byteLength);return v[0]===255?"big":v[0]===204?"little":"unknown"}();const p=function(m){const v={};return Object.keys(m).forEach(g=>{const E=m[g];h(E)?v[g]={bytes:E.buffer,byteOffset:E.byteOffset,byteLength:E.byteLength}:v[g]=E}),v};self.onmessage=function(m){const v=m.data,g=new Uint8Array(v.encrypted.bytes,v.encrypted.byteOffset,v.encrypted.byteLength),E=new Uint32Array(v.key.bytes,v.key.byteOffset,v.key.byteLength/4),A=new Uint32Array(v.iv.bytes,v.iv.byteOffset,v.iv.byteLength/4);new l(g,E,A,function(R,I){self.postMessage(p({source:v.source,decrypted:I}),[I.buffer])})}}));var eNe=bX(qxe);const tNe=t=>{let e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},BX=(t,e)=>{t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},jS=(t,e)=>{e.activePlaylistLoader=t,t.load()},iNe=(t,e)=>()=>{const{segmentLoaders:{[t]:i,main:n},mediaTypes:{[t]:s}}=e,r=s.activeTrack(),a=s.getActiveGroup(),o=s.activePlaylistLoader,l=s.lastGroup_;if(!(a&&l&&a.id===l.id)&&(s.lastGroup_=a,s.lastTrack_=r,BX(i,s),!(!a||a.isMainPlaylist))){if(!a.playlistLoader){o&&n.resetEverything();return}i.resyncLoader(),jS(a.playlistLoader,s)}},nNe=(t,e)=>()=>{const{segmentLoaders:{[t]:i},mediaTypes:{[t]:n}}=e;n.lastGroup_=null,i.abort(),i.pause()},sNe=(t,e)=>()=>{const{mainPlaylistLoader:i,segmentLoaders:{[t]:n,main:s},mediaTypes:{[t]:r}}=e,a=r.activeTrack(),o=r.getActiveGroup(),l=r.activePlaylistLoader,c=r.lastTrack_;if(!(c&&a&&c.id===a.id)&&(r.lastGroup_=o,r.lastTrack_=a,BX(n,r),!!o)){if(o.isMainPlaylist){if(!a||!c||a.id===c.id)return;const u=e.vhs.playlistController_,d=u.selectPlaylist();if(u.media()===d)return;r.logger_(`track change. Switching main audio from ${c.id} to ${a.id}`),i.pause(),s.resetEverything(),u.fastQualityChange_(d);return}if(t==="AUDIO"){if(!o.playlistLoader){s.setAudio(!0),s.resetEverything();return}n.setAudio(!0),s.setAudio(!1)}if(l===o.playlistLoader){jS(o.playlistLoader,r);return}n.track&&n.track(a),n.resetEverything(),jS(o.playlistLoader,r)}},G2={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:i},excludePlaylist:n}=e,s=i.activeTrack(),r=i.activeGroup(),a=(r.filter(l=>l.default)[0]||r[0]).id,o=i.tracks[a];if(s===o){n({error:{message:"Problem encountered loading the default audio track."}});return}he.log.warn("Problem encountered loading the alternate audio track.Switching back to default.");for(const l in i.tracks)i.tracks[l].enabled=i.tracks[l]===o;i.onTrackChanged()},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:i}}=e;he.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track.");const n=i.activeTrack();n&&(n.mode="disabled"),i.onTrackChanged()}},ZV={AUDIO:(t,e,i)=>{if(!e)return;const{tech:n,requestOptions:s,segmentLoaders:{[t]:r}}=i;e.on("loadedmetadata",()=>{const a=e.media();r.playlist(a,s),(!n.paused()||a.endList&&n.preload()!=="none")&&r.load()}),e.on("loadedplaylist",()=>{r.playlist(e.media(),s),n.paused()||r.load()}),e.on("error",G2[t](t,i))},SUBTITLES:(t,e,i)=>{const{tech:n,requestOptions:s,segmentLoaders:{[t]:r},mediaTypes:{[t]:a}}=i;e.on("loadedmetadata",()=>{const o=e.media();r.playlist(o,s),r.track(a.activeTrack()),(!n.paused()||o.endList&&n.preload()!=="none")&&r.load()}),e.on("loadedplaylist",()=>{r.playlist(e.media(),s),n.paused()||r.load()}),e.on("error",G2[t](t,i))}},rNe={AUDIO:(t,e)=>{const{vhs:i,sourceType:n,segmentLoaders:{[t]:s},requestOptions:r,main:{mediaGroups:a},mediaTypes:{[t]:{groups:o,tracks:l,logger_:c}},mainPlaylistLoader:u}=e,d=k0(u.main);(!a[t]||Object.keys(a[t]).length===0)&&(a[t]={main:{default:{default:!0}}},d&&(a[t].main.default.playlists=u.main.playlists));for(const h in a[t]){o[h]||(o[h]=[]);for(const f in a[t][h]){let p=a[t][h][f],m;if(d?(c(`AUDIO group '${h}' label '${f}' is a main playlist`),p.isMainPlaylist=!0,m=null):n==="vhs-json"&&p.playlists?m=new Du(p.playlists[0],i,r):p.resolvedUri?m=new Du(p.resolvedUri,i,r):p.playlists&&n==="dash"?m=new YS(p.playlists[0],i,r,u):m=null,p=Vt({id:f,playlistLoader:m},p),ZV[t](t,p.playlistLoader,e),o[h].push(p),typeof l[f]>"u"){const v=new he.AudioTrack({id:f,kind:tNe(p),enabled:!1,language:p.language,default:p.default,label:f});l[f]=v}}}s.on("error",G2[t](t,e))},SUBTITLES:(t,e)=>{const{tech:i,vhs:n,sourceType:s,segmentLoaders:{[t]:r},requestOptions:a,main:{mediaGroups:o},mediaTypes:{[t]:{groups:l,tracks:c}},mainPlaylistLoader:u}=e;for(const d in o[t]){l[d]||(l[d]=[]);for(const h in o[t][d]){if(!n.options_.useForcedSubtitles&&o[t][d][h].forced)continue;let f=o[t][d][h],p;if(s==="hls")p=new Du(f.resolvedUri,n,a);else if(s==="dash"){if(!f.playlists.filter(v=>v.excludeUntil!==1/0).length)return;p=new YS(f.playlists[0],n,a,u)}else s==="vhs-json"&&(p=new Du(f.playlists?f.playlists[0]:f.resolvedUri,n,a));if(f=Vt({id:h,playlistLoader:p},f),ZV[t](t,f.playlistLoader,e),l[d].push(f),typeof c[h]>"u"){const m=i.addRemoteTextTrack({id:h,kind:"subtitles",default:f.default&&f.autoselect,language:f.language,label:h},!1).track;c[h]=m}}}r.on("error",G2[t](t,e))},"CLOSED-CAPTIONS":(t,e)=>{const{tech:i,main:{mediaGroups:n},mediaTypes:{[t]:{groups:s,tracks:r}}}=e;for(const a in n[t]){s[a]||(s[a]=[]);for(const o in n[t][a]){const l=n[t][a][o];if(!/^(?:CC|SERVICE)/.test(l.instreamId))continue;const c=i.options_.vhs&&i.options_.vhs.captionServices||{};let u={label:o,language:l.language,instreamId:l.instreamId,default:l.default&&l.autoselect};if(c[u.instreamId]&&(u=Vt(u,c[u.instreamId])),u.default===void 0&&delete u.default,s[a].push(Vt({id:o},l)),typeof r[o]>"u"){const d=i.addRemoteTextTrack({id:u.instreamId,kind:"captions",default:u.default,language:u.language,label:u.label},!1).track;r[o]=d}}}}},WX=(t,e)=>{for(let i=0;i<t.length;i++)if(Y4(e,t[i])||t[i].playlists&&WX(t[i].playlists,e))return!0;return!1},aNe=(t,e)=>i=>{const{mainPlaylistLoader:n,mediaTypes:{[t]:{groups:s}}}=e,r=n.media();if(!r)return null;let a=null;r.attributes[t]&&(a=s[r.attributes[t]]);const o=Object.keys(s);if(!a)if(t==="AUDIO"&&o.length>1&&k0(e.main))for(let l=0;l<o.length;l++){const c=s[o[l]];if(WX(c,r)){a=c;break}}else s.main?a=s.main:o.length===1&&(a=s[o[0]]);return typeof i>"u"?a:i===null||!a?null:a.filter(l=>l.id===i.id)[0]||null},oNe={AUDIO:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:i}}}=e;for(const n in i)if(i[n].enabled)return i[n];return null},SUBTITLES:(t,e)=>()=>{const{mediaTypes:{[t]:{tracks:i}}}=e;for(const n in i)if(i[n].mode==="showing"||i[n].mode==="hidden")return i[n];return null}},lNe=(t,{mediaTypes:e})=>()=>{const i=e[t].activeTrack();return i?e[t].activeGroup(i):null},cNe=t=>{["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(c=>{rNe[c](c,t)});const{mediaTypes:e,mainPlaylistLoader:i,tech:n,vhs:s,segmentLoaders:{["AUDIO"]:r,main:a}}=t;["AUDIO","SUBTITLES"].forEach(c=>{e[c].activeGroup=aNe(c,t),e[c].activeTrack=oNe[c](c,t),e[c].onGroupChanged=iNe(c,t),e[c].onGroupChanging=nNe(c,t),e[c].onTrackChanged=sNe(c,t),e[c].getActiveGroup=lNe(c,t)});const o=e.AUDIO.activeGroup();if(o){const c=(o.filter(d=>d.default)[0]||o[0]).id;e.AUDIO.tracks[c].enabled=!0,e.AUDIO.onGroupChanged(),e.AUDIO.onTrackChanged(),e.AUDIO.getActiveGroup().playlistLoader?(a.setAudio(!1),r.setAudio(!0)):a.setAudio(!0)}i.on("mediachange",()=>{["AUDIO","SUBTITLES"].forEach(c=>e[c].onGroupChanged())}),i.on("mediachanging",()=>{["AUDIO","SUBTITLES"].forEach(c=>e[c].onGroupChanging())});const l=()=>{e.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"vhs-audio-change"})};n.audioTracks().addEventListener("change",l),n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),s.on("dispose",()=>{n.audioTracks().removeEventListener("change",l),n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),n.clearTracks("audio");for(const c in e.AUDIO.tracks)n.audioTracks().addTrack(e.AUDIO.tracks[c])},uNe=()=>{const t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Xa,activeTrack:Xa,getActiveGroup:Xa,onGroupChanged:Xa,onTrackChanged:Xa,lastTrack_:null,logger_:ir(`MediaGroups[${e}]`)}}),t};class PV{constructor(){this.priority_=[],this.pathwayClones_=new Map}set version(e){e===1&&(this.version_=e)}set ttl(e){this.ttl_=e||300}set reloadUri(e){e&&(this.reloadUri_=qn(this.reloadUri_,e))}set priority(e){e&&e.length&&(this.priority_=e)}set pathwayClones(e){e&&e.length&&(this.pathwayClones_=new Map(e.map(i=>[i.ID,i])))}get version(){return this.version_}get ttl(){return this.ttl_}get reloadUri(){return this.reloadUri_}get priority(){return this.priority_}get pathwayClones(){return this.pathwayClones_}}let dNe=class extends he.EventTarget{constructor(e,i){super(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=!1,this.availablePathways_=new Set,this.steeringManifest=new PV,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.currentPathwayClones=new Map,this.nextPathwayClones=new Map,this.excludedSteeringManifestURLs=new Set,this.logger_=ir("Content Steering"),this.xhr_=e,this.getBandwidth_=i}assignTagProperties(e,i){this.manifestType_=i.serverUri?"HLS":"DASH";const n=i.serverUri||i.serverURL;if(!n){this.logger_(`steering manifest URL is ${n}, cannot request steering manifest.`),this.trigger("error");return}if(n.startsWith("data:")){this.decodeDataUriManifest_(n.substring(n.indexOf(",")+1));return}this.steeringManifest.reloadUri=qn(e,n),this.defaultPathway=i.pathwayId||i.defaultServiceLocation,this.queryBeforeStart=i.queryBeforeStart,this.proxyServerUrl_=i.proxyServerURL,this.defaultPathway&&!this.queryBeforeStart&&this.trigger("content-steering")}requestSteeringManifest(e){const i=this.steeringManifest.reloadUri;if(!i)return;const n=e?i:this.getRequestURI(i);if(!n){this.logger_("No valid content steering manifest URIs. Stopping content steering."),this.trigger("error"),this.dispose();return}const s={contentSteeringInfo:{uri:n}};this.trigger({type:"contentsteeringloadstart",metadata:s}),this.request_=this.xhr_({uri:n,requestType:"content-steering-manifest"},(r,a)=>{if(r){if(a.status===410){this.logger_(`manifest request 410 ${r}.`),this.logger_(`There will be no more content steering requests to ${n} this session.`),this.excludedSteeringManifestURLs.add(n);return}if(a.status===429){const c=a.responseHeaders["retry-after"];this.logger_(`manifest request 429 ${r}.`),this.logger_(`content steering will retry in ${c} seconds.`),this.startTTLTimeout_(parseInt(c,10));return}this.logger_(`manifest failed to load ${r}.`),this.startTTLTimeout_();return}this.trigger({type:"contentsteeringloadcomplete",metadata:s});let o;try{o=JSON.parse(this.request_.responseText)}catch(c){const u={errorType:he.Error.StreamingContentSteeringParserError,error:c};this.trigger({type:"error",metadata:u})}this.assignSteeringProperties_(o);const l={contentSteeringInfo:s.contentSteeringInfo,contentSteeringManifest:{version:this.steeringManifest.version,reloadUri:this.steeringManifest.reloadUri,priority:this.steeringManifest.priority}};this.trigger({type:"contentsteeringparsed",metadata:l}),this.startTTLTimeout_()})}setProxyServerUrl_(e){const i=new K.URL(e),n=new K.URL(this.proxyServerUrl_);return n.searchParams.set("url",encodeURI(i.toString())),this.setSteeringParams_(n.toString())}decodeDataUriManifest_(e){const i=JSON.parse(K.atob(e));this.assignSteeringProperties_(i)}setSteeringParams_(e){const i=new K.URL(e),n=this.getPathway(),s=this.getBandwidth_();if(n){const r=`_${this.manifestType_}_pathway`;i.searchParams.set(r,n)}if(s){const r=`_${this.manifestType_}_throughput`;i.searchParams.set(r,s)}return i.toString()}assignSteeringProperties_(e){if(this.steeringManifest.version=e.VERSION,!this.steeringManifest.version){this.logger_(`manifest version is ${e.VERSION}, which is not supported.`),this.trigger("error");return}this.steeringManifest.ttl=e.TTL,this.steeringManifest.reloadUri=e["RELOAD-URI"],this.steeringManifest.priority=e["PATHWAY-PRIORITY"]||e["SERVICE-LOCATION-PRIORITY"],this.steeringManifest.pathwayClones=e["PATHWAY-CLONES"],this.nextPathwayClones=this.steeringManifest.pathwayClones,this.availablePathways_.size||(this.logger_("There are no available pathways for content steering. Ending content steering."),this.trigger("error"),this.dispose());const n=(s=>{for(const r of s)if(this.availablePathways_.has(r))return r;return[...this.availablePathways_][0]})(this.steeringManifest.priority);this.currentPathway!==n&&(this.currentPathway=n,this.trigger("content-steering"))}getPathway(){return this.currentPathway||this.defaultPathway}getRequestURI(e){if(!e)return null;const i=s=>this.excludedSteeringManifestURLs.has(s);if(this.proxyServerUrl_){const s=this.setProxyServerUrl_(e);if(!i(s))return s}const n=this.setSteeringParams_(e);return i(n)?null:n}startTTLTimeout_(e=this.steeringManifest.ttl){const i=e*1e3;this.ttlTimeout_=K.setTimeout(()=>{this.requestSteeringManifest()},i)}clearTTLTimeout_(){K.clearTimeout(this.ttlTimeout_),this.ttlTimeout_=null}abort(){this.request_&&this.request_.abort(),this.request_=null}dispose(){this.off("content-steering"),this.off("error"),this.abort(),this.clearTTLTimeout_(),this.currentPathway=null,this.defaultPathway=null,this.queryBeforeStart=null,this.proxyServerUrl_=null,this.manifestType_=null,this.ttlTimeout_=null,this.request_=null,this.excludedSteeringManifestURLs=new Set,this.availablePathways_=new Set,this.steeringManifest=new PV}addAvailablePathway(e){e&&this.availablePathways_.add(e)}clearAvailablePathways(){this.availablePathways_.clear()}excludePathway(e){return this.availablePathways_.delete(e)}didDASHTagChange(e,i){return!i&&this.steeringManifest.reloadUri||i&&(qn(e,i.serverURL)!==this.steeringManifest.reloadUri||i.defaultServiceLocation!==this.defaultPathway||i.queryBeforeStart!==this.queryBeforeStart||i.proxyServerURL!==this.proxyServerUrl_)}getAvailablePathways(){return this.availablePathways_}};const hNe=(t,e)=>{let i=null;return(...n)=>{clearTimeout(i),i=setTimeout(()=>{t.apply(null,n)},e)}},fNe=10;let Bo;const pNe=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred","mediaAppends"],mNe=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},gNe=function({currentPlaylist:t,buffered:e,currentTime:i,nextPlaylist:n,bufferLowWaterLine:s,bufferHighWaterLine:r,duration:a,bufferBasedABR:o,log:l}){if(!n)return he.log.warn("We received no playlist to switch to. Please check your stream."),!1;const c=`allowing switch ${t&&t.id||"null"} -> ${n.id}`;if(!t)return l(`${c} as current playlist is not set`),!0;if(n.id===t.id)return!1;const u=!!Gu(e,i).length;if(!t.endList)return!u&&typeof t.partTargetDuration=="number"?(l(`not ${c} as current playlist is live llhls, but currentTime isn't in buffered.`),!1):(l(`${c} as current playlist is live`),!0);const d=P4(e,i),h=o?qi.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE:qi.MAX_BUFFER_LOW_WATER_LINE;if(a<h)return l(`${c} as duration < max low water line (${a} < ${h})`),!0;const f=n.attributes.BANDWIDTH,p=t.attributes.BANDWIDTH;if(f<p&&(!o||d<r)){let m=`${c} as next bandwidth < current bandwidth (${f} < ${p})`;return o&&(m+=` and forwardBuffer < bufferHighWaterLine (${d} < ${r})`),l(m),!0}if((!o||f>p)&&d>=s){let m=`${c} as forwardBuffer >= bufferLowWaterLine (${d} >= ${s})`;return o&&(m+=` and next bandwidth > current bandwidth (${f} > ${p})`),l(m),!0}return l(`not ${c} as no switching criteria met`),!1};class yNe extends he.EventTarget{constructor(e){super(),this.fastQualityChange_=hNe(this.fastQualityChange_.bind(this),100);const{src:i,withCredentials:n,tech:s,bandwidth:r,externVhs:a,useCueTags:o,playlistExclusionDuration:l,enableLowInitialPlaylist:c,sourceType:u,cacheEncryptionKeys:d,bufferBasedABR:h,leastPixelDiffSelector:f,captionServices:p,experimentalUseMMS:m}=e;if(!i)throw new Error("A non-empty playlist URL or JSON manifest string is required");let{maxPlaylistRetries:v}=e;(v===null||typeof v>"u")&&(v=1/0),Bo=a,this.bufferBasedABR=!!h,this.leastPixelDiffSelector=!!f,this.withCredentials=n,this.tech_=s,this.vhs_=s.vhs,this.player_=e.player_,this.sourceType_=u,this.useCueTags_=o,this.playlistExclusionDuration=l,this.maxPlaylistRetries=v,this.enableLowInitialPlaylist=c,this.usingManagedMediaSource_=!1,this.useCueTags_&&(this.cueTagsTrack_=this.tech_.addTextTrack("metadata","ad-cues"),this.cueTagsTrack_.inBandMetadataTrackDispatchType=""),this.requestOptions_={withCredentials:n,maxPlaylistRetries:v,timeout:null},this.on("error",this.pauseLoading),this.mediaTypes_=uNe(),m&&K.ManagedMediaSource?(this.tech_.el_.disableRemotePlayback=!0,this.mediaSource=new K.ManagedMediaSource,this.usingManagedMediaSource_=!0,he.log("Using ManagedMediaSource")):K.MediaSource&&(this.mediaSource=new K.MediaSource),this.handleDurationChange_=this.handleDurationChange_.bind(this),this.handleSourceOpen_=this.handleSourceOpen_.bind(this),this.handleSourceEnded_=this.handleSourceEnded_.bind(this),this.load=this.load.bind(this),this.pause=this.pause.bind(this),this.mediaSource.addEventListener("durationchange",this.handleDurationChange_),this.mediaSource.addEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.addEventListener("sourceended",this.handleSourceEnded_),this.mediaSource.addEventListener("startstreaming",this.load),this.mediaSource.addEventListener("endstreaming",this.pause),this.seekable_=sn(),this.hasPlayed_=!1,this.syncController_=new Hxe(e),this.segmentMetadataTrack_=s.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,this.decrypter_=new eNe,this.sourceUpdater_=new FX(this.mediaSource),this.inbandTextTracks_={},this.timelineChangeController_=new Qxe,this.keyStatusMap_=new Map;const g={vhs:this.vhs_,parse708captions:e.parse708captions,useDtsForTimestampOffset:e.useDtsForTimestampOffset,captionServices:p,mediaSource:this.mediaSource,currentTime:this.tech_.currentTime.bind(this.tech_),seekable:()=>this.seekable(),seeking:()=>this.tech_.seeking(),duration:()=>this.duration(),hasPlayed:()=>this.hasPlayed_,goalBufferLength:()=>this.goalBufferLength(),bandwidth:r,syncController:this.syncController_,decrypter:this.decrypter_,sourceType:this.sourceType_,inbandTextTracks:this.inbandTextTracks_,cacheEncryptionKeys:d,sourceUpdater:this.sourceUpdater_,timelineChangeController:this.timelineChangeController_,exactManifestTimings:e.exactManifestTimings,addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)};this.mainPlaylistLoader_=this.sourceType_==="dash"?new YS(i,this.vhs_,Vt(this.requestOptions_,{addMetadataToTextTrack:this.addMetadataToTextTrack.bind(this)})):new Du(i,this.vhs_,Vt(this.requestOptions_,{addDateRangesToTextTrack:this.addDateRangesToTextTrack_.bind(this)})),this.setupMainPlaylistLoaderListeners_(),this.mainSegmentLoader_=new zS(Vt(g,{segmentMetadataTrack:this.segmentMetadataTrack_,loaderType:"main"}),e),this.audioSegmentLoader_=new zS(Vt(g,{loaderType:"audio"}),e),this.subtitleSegmentLoader_=new $xe(Vt(g,{loaderType:"vtt",featuresNativeTextTracks:this.tech_.featuresNativeTextTracks,loadVttJs:()=>new Promise((R,I)=>{function L(){s.off("vttjserror",F),R()}function F(){s.off("vttjsloaded",L),I()}s.one("vttjsloaded",L),s.one("vttjserror",F),s.addWebVttScript_()})}),e);const E=()=>this.mainSegmentLoader_.bandwidth;this.contentSteeringController_=new dNe(this.vhs_.xhr,E),this.setupSegmentLoaderListeners_(),this.bufferBasedABR&&(this.mainPlaylistLoader_.one("loadedplaylist",()=>this.startABRTimer_()),this.tech_.on("pause",()=>this.stopABRTimer_()),this.tech_.on("play",()=>this.startABRTimer_())),pNe.forEach(R=>{this[R+"_"]=mNe.bind(this,R)}),this.logger_=ir("pc"),this.triggeredFmp4Usage=!1,this.tech_.preload()==="none"?(this.loadOnPlay_=()=>{this.loadOnPlay_=null,this.mainPlaylistLoader_.load()},this.tech_.one("play",this.loadOnPlay_)):this.mainPlaylistLoader_.load(),this.timeToLoadedData__=-1,this.mainAppendsToLoadedData__=-1,this.audioAppendsToLoadedData__=-1;const A=this.tech_.preload()==="none"?"play":"loadstart";this.tech_.one(A,()=>{const R=Date.now();this.tech_.one("loadeddata",()=>{this.timeToLoadedData__=Date.now()-R,this.mainAppendsToLoadedData__=this.mainSegmentLoader_.mediaAppends,this.audioAppendsToLoadedData__=this.audioSegmentLoader_.mediaAppends})})}mainAppendsToLoadedData_(){return this.mainAppendsToLoadedData__}audioAppendsToLoadedData_(){return this.audioAppendsToLoadedData__}appendsToLoadedData_(){const e=this.mainAppendsToLoadedData_(),i=this.audioAppendsToLoadedData_();return e===-1||i===-1?-1:e+i}timeToLoadedData_(){return this.timeToLoadedData__}checkABR_(e="abr"){const i=this.selectPlaylist();i&&this.shouldSwitchToMedia_(i)&&this.switchMedia_(i,e)}switchMedia_(e,i,n){const s=this.media(),r=s&&(s.id||s.uri),a=e&&(e.id||e.uri);if(r&&r!==a){this.logger_(`switch media ${r} -> ${a} from ${i}`);const o={renditionInfo:{id:a,bandwidth:e.attributes.BANDWIDTH,resolution:e.attributes.RESOLUTION,codecs:e.attributes.CODECS},cause:i};this.trigger({type:"renditionselected",metadata:o}),this.tech_.trigger({type:"usage",name:`vhs-rendition-change-${i}`})}this.mainPlaylistLoader_.media(e,n)}switchMediaForDASHContentSteering_(){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(e=>{const i=this.mediaTypes_[e],n=i?i.activeGroup():null,s=this.contentSteeringController_.getPathway();if(n&&s){const a=(n.length?n[0].playlists:n.playlists).filter(o=>o.attributes.serviceLocation===s);a.length&&this.mediaTypes_[e].activePlaylistLoader.media(a[0])}})}startABRTimer_(){this.stopABRTimer_(),this.abrTimer_=K.setInterval(()=>this.checkABR_(),250)}stopABRTimer_(){this.tech_.scrubbing&&this.tech_.scrubbing()||(K.clearInterval(this.abrTimer_),this.abrTimer_=null)}getAudioTrackPlaylists_(){const e=this.main(),i=e&&e.playlists||[];if(!e||!e.mediaGroups||!e.mediaGroups.AUDIO)return i;const n=e.mediaGroups.AUDIO,s=Object.keys(n);let r;if(Object.keys(this.mediaTypes_.AUDIO.groups).length)r=this.mediaTypes_.AUDIO.activeTrack();else{const o=n.main||s.length&&n[s[0]];for(const l in o)if(o[l].default){r={label:l};break}}if(!r)return i;const a=[];for(const o in n)if(n[o][r.label]){const l=n[o][r.label];if(l.playlists&&l.playlists.length)a.push.apply(a,l.playlists);else if(l.uri)a.push(l);else if(e.playlists.length)for(let c=0;c<e.playlists.length;c++){const u=e.playlists[c];u.attributes&&u.attributes.AUDIO&&u.attributes.AUDIO===o&&a.push(u)}}return a.length?a:i}setupMainPlaylistLoaderListeners_(){this.mainPlaylistLoader_.on("loadedmetadata",()=>{const i=this.mainPlaylistLoader_.media(),n=i.targetDuration*1.5*1e3;MS(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,i.endList&&this.tech_.preload()!=="none"&&(this.mainSegmentLoader_.playlist(i,this.requestOptions_),this.mainSegmentLoader_.load()),cNe({sourceType:this.sourceType_,segmentLoaders:{AUDIO:this.audioSegmentLoader_,SUBTITLES:this.subtitleSegmentLoader_,main:this.mainSegmentLoader_},tech:this.tech_,requestOptions:this.requestOptions_,mainPlaylistLoader:this.mainPlaylistLoader_,vhs:this.vhs_,main:this.main(),mediaTypes:this.mediaTypes_,excludePlaylist:this.excludePlaylist.bind(this)}),this.triggerPresenceUsage_(this.main(),i),this.setupFirstPlay(),!this.mediaTypes_.AUDIO.activePlaylistLoader||this.mediaTypes_.AUDIO.activePlaylistLoader.media()?this.trigger("selectedinitialmedia"):this.mediaTypes_.AUDIO.activePlaylistLoader.one("loadedmetadata",()=>{this.trigger("selectedinitialmedia")})}),this.mainPlaylistLoader_.on("loadedplaylist",()=>{this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_);let i=this.mainPlaylistLoader_.media();if(!i){this.attachContentSteeringListeners_(),this.initContentSteeringController_(),this.excludeUnsupportedVariants_();let n;if(this.enableLowInitialPlaylist&&(n=this.selectInitialPlaylist()),n||(n=this.selectPlaylist()),!n||!this.shouldSwitchToMedia_(n)||(this.initialMedia_=n,this.switchMedia_(this.initialMedia_,"initial"),!(this.sourceType_==="vhs-json"&&this.initialMedia_.segments)))return;i=this.initialMedia_}this.handleUpdatedMediaPlaylist(i)}),this.mainPlaylistLoader_.on("error",()=>{const i=this.mainPlaylistLoader_.error;this.excludePlaylist({playlistToExclude:i.playlist,error:i})}),this.mainPlaylistLoader_.on("mediachanging",()=>{this.mainSegmentLoader_.abort(),this.mainSegmentLoader_.pause()}),this.mainPlaylistLoader_.on("mediachange",()=>{const i=this.mainPlaylistLoader_.media(),n=i.targetDuration*1.5*1e3;MS(this.mainPlaylistLoader_.main,this.mainPlaylistLoader_.media())?this.requestOptions_.timeout=0:this.requestOptions_.timeout=n,this.sourceType_==="dash"&&this.mainPlaylistLoader_.isPaused&&this.mainPlaylistLoader_.load(),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(i,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_?this.runFastQualitySwitch_():this.mainSegmentLoader_.load(),this.tech_.trigger({type:"mediachange",bubbles:!0})}),this.mainPlaylistLoader_.on("playlistunchanged",()=>{const i=this.mainPlaylistLoader_.media();if(i.lastExcludeReason_==="playlist-unchanged")return;this.stuckAtPlaylistEnd_(i)&&(this.excludePlaylist({error:{message:"Playlist no longer updating.",reason:"playlist-unchanged"}}),this.tech_.trigger("playliststuck"))}),this.mainPlaylistLoader_.on("renditiondisabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-disabled"})}),this.mainPlaylistLoader_.on("renditionenabled",()=>{this.tech_.trigger({type:"usage",name:"vhs-rendition-enabled"})}),["manifestrequeststart","manifestrequestcomplete","manifestparsestart","manifestparsecomplete","playlistrequeststart","playlistrequestcomplete","playlistparsestart","playlistparsecomplete","renditiondisabled","renditionenabled"].forEach(i=>{this.mainPlaylistLoader_.on(i,n=>{this.player_.trigger(Li({},n))})})}handleUpdatedMediaPlaylist(e){this.useCueTags_&&this.updateAdCues_(e),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.playlist(e,this.requestOptions_),this.waitingForFastQualityPlaylistReceived_&&this.runFastQualitySwitch_(),this.updateDuration(!e.endList),this.tech_.paused()||(this.mainSegmentLoader_.load(),this.audioSegmentLoader_&&this.audioSegmentLoader_.load())}triggerPresenceUsage_(e,i){const n=e.mediaGroups||{};let s=!0;const r=Object.keys(n.AUDIO);for(const a in n.AUDIO)for(const o in n.AUDIO[a])n.AUDIO[a][o].uri||(s=!1);s&&this.tech_.trigger({type:"usage",name:"vhs-demuxed"}),Object.keys(n.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"vhs-webvtt"}),Bo.Playlist.isAes(i)&&this.tech_.trigger({type:"usage",name:"vhs-aes"}),r.length&&Object.keys(n.AUDIO[r[0]]).length>1&&this.tech_.trigger({type:"usage",name:"vhs-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"vhs-playlist-cue-tags"})}shouldSwitchToMedia_(e){const i=this.mainPlaylistLoader_.media()||this.mainPlaylistLoader_.pendingMedia_,n=this.tech_.currentTime(),s=this.bufferLowWaterLine(),r=this.bufferHighWaterLine(),a=this.tech_.buffered();return gNe({buffered:a,currentTime:n,currentPlaylist:i,nextPlaylist:e,bufferLowWaterLine:s,bufferHighWaterLine:r,duration:this.duration(),bufferBasedABR:this.bufferBasedABR,log:this.logger_})}setupSegmentLoaderListeners_(){this.mainSegmentLoader_.on("bandwidthupdate",()=>{this.checkABR_("bandwidthupdate"),this.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("timeout",()=>{this.bufferBasedABR&&this.mainSegmentLoader_.load()}),this.bufferBasedABR||this.mainSegmentLoader_.on("progress",()=>{this.trigger("progress")}),this.mainSegmentLoader_.on("error",()=>{const n=this.mainSegmentLoader_.error();this.excludePlaylist({playlistToExclude:n.playlist,error:n})}),this.mainSegmentLoader_.on("appenderror",()=>{this.error=this.mainSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",()=>{this.tech_.trigger({type:"usage",name:"vhs-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",()=>{this.onSyncInfoUpdate_()}),this.audioSegmentLoader_.on("appenderror",()=>{this.error=this.audioSegmentLoader_.error_,this.trigger("error")}),this.mainSegmentLoader_.on("ended",()=>{this.logger_("main segment loader ended"),this.onEndOfStream()}),this.timelineChangeController_.on("audioTimelineBehind",()=>{const n=this.audioSegmentLoader_.pendingSegment_;if(!n||!n.segment||!n.segment.syncInfo)return;const s=n.segment.syncInfo.end+.01;this.tech_.setCurrentTime(s)}),this.timelineChangeController_.on("fixBadTimelineChange",()=>{this.logger_("Fix bad timeline change. Restarting al segment loaders..."),this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}),this.mainSegmentLoader_.on("earlyabort",n=>{this.bufferBasedABR||(this.delegateLoaders_("all",["abort"]),this.excludePlaylist({error:{message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},playlistExclusionDuration:fNe}))});const e=()=>{if(!this.sourceUpdater_.hasCreatedSourceBuffers())return this.tryToCreateSourceBuffers_();const n=this.getCodecsOrExclude_();n&&this.sourceUpdater_.addOrChangeSourceBuffers(n)};this.mainSegmentLoader_.on("trackinfo",e),this.audioSegmentLoader_.on("trackinfo",e),this.mainSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("fmp4",()=>{this.triggeredFmp4Usage||(this.tech_.trigger({type:"usage",name:"vhs-fmp4"}),this.triggeredFmp4Usage=!0)}),this.audioSegmentLoader_.on("ended",()=>{this.logger_("audioSegmentLoader ended"),this.onEndOfStream()}),["segmentselected","segmentloadstart","segmentloaded","segmentkeyloadstart","segmentkeyloadcomplete","segmentdecryptionstart","segmentdecryptioncomplete","segmenttransmuxingstart","segmenttransmuxingcomplete","segmenttransmuxingtrackinfoavailable","segmenttransmuxingtiminginfoavailable","segmentappendstart","appendsdone","bandwidthupdated","timelinechange","codecschange"].forEach(n=>{this.mainSegmentLoader_.on(n,s=>{this.player_.trigger(Li({},s))}),this.audioSegmentLoader_.on(n,s=>{this.player_.trigger(Li({},s))}),this.subtitleSegmentLoader_.on(n,s=>{this.player_.trigger(Li({},s))})})}mediaSecondsLoaded_(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}load(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}pause(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}fastQualityChange_(e=this.selectPlaylist()){if(e&&e===this.mainPlaylistLoader_.media()){this.logger_("skipping fastQualityChange because new media is same as old");return}this.switchMedia_(e,"fast-quality"),this.waitingForFastQualityPlaylistReceived_=!0}runFastQualitySwitch_(){this.waitingForFastQualityPlaylistReceived_=!1,this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}play(){if(this.setupFirstPlay())return;this.tech_.ended()&&this.tech_.setCurrentTime(0),this.hasPlayed_&&this.load();const e=this.tech_.seekable();if(this.tech_.duration()===1/0&&this.tech_.currentTime()<e.start(0))return this.tech_.setCurrentTime(e.end(e.length-1))}setupFirstPlay(){const e=this.mainPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_)return!1;if(!e.endList||e.start){const i=this.seekable();if(!i.length)return!1;const n=i.end(0);let s=n;if(e.start){const r=e.start.timeOffset;r<0?s=Math.max(n+r,i.start(0)):s=Math.min(n,r)}this.trigger("firstplay"),this.tech_.setCurrentTime(s)}return this.hasPlayed_=!0,this.load(),!0}handleSourceOpen_(){if(this.tryToCreateSourceBuffers_(),this.tech_.autoplay()){const e=this.tech_.play();typeof e<"u"&&typeof e.then=="function"&&e.then(null,i=>{})}this.trigger("sourceopen")}handleSourceEnded_(){if(!this.inbandTextTracks_.metadataTrack_)return;const e=this.inbandTextTracks_.metadataTrack_.cues;if(!e||!e.length)return;const i=this.duration();e[e.length-1].endTime=isNaN(i)||Math.abs(i)===1/0?Number.MAX_VALUE:i}handleDurationChange_(){this.tech_.trigger("durationchange")}onEndOfStream(){let e=this.mainSegmentLoader_.ended_;if(this.mediaTypes_.AUDIO.activePlaylistLoader){const i=this.mainSegmentLoader_.getCurrentMediaInfo_();!i||i.hasVideo?e=e&&this.audioSegmentLoader_.ended_:e=this.audioSegmentLoader_.ended_}e&&(this.stopABRTimer_(),this.sourceUpdater_.endOfStream())}stuckAtPlaylistEnd_(e){if(!this.seekable().length)return!1;const n=this.syncController_.getExpiredTime(e,this.duration());if(n===null)return!1;const s=Bo.Playlist.playlistEnd(e,n),r=this.tech_.currentTime(),a=this.tech_.buffered();if(!a.length)return s-r<=ia;const o=a.end(a.length-1);return o-r<=ia&&s-o<=ia}excludePlaylist({playlistToExclude:e=this.mainPlaylistLoader_.media(),error:i={},playlistExclusionDuration:n}){if(e=e||this.mainPlaylistLoader_.media(),n=n||i.playlistExclusionDuration||this.playlistExclusionDuration,!e){this.error=i,this.mediaSource.readyState!=="open"?this.trigger("error"):this.sourceUpdater_.endOfStream("network");return}e.playlistErrors_++;const s=this.mainPlaylistLoader_.main.playlists,r=s.filter(Eb),a=r.length===1&&r[0]===e;if(s.length===1&&n!==1/0)return he.log.warn(`Problem encountered with playlist ${e.id}. Trying again since it is the only playlist.`),this.tech_.trigger("retryplaylist"),this.mainPlaylistLoader_.load(a);if(a){if(this.main().contentSteering){const p=this.pathwayAttribute_(e),m=this.contentSteeringController_.steeringManifest.ttl*1e3;this.contentSteeringController_.excludePathway(p),this.excludeThenChangePathway_(),setTimeout(()=>{this.contentSteeringController_.addAvailablePathway(p)},m);return}let f=!1;s.forEach(p=>{if(p===e)return;const m=p.excludeUntil;typeof m<"u"&&m!==1/0&&(f=!0,delete p.excludeUntil)}),f&&(he.log.warn("Removing other playlists from the exclusion list because the last rendition is about to be excluded."),this.tech_.trigger("retryplaylist"))}let o;e.playlistErrors_>this.maxPlaylistRetries?o=1/0:o=Date.now()+n*1e3,e.excludeUntil=o,i.reason&&(e.lastExcludeReason_=i.reason),this.tech_.trigger("excludeplaylist"),this.tech_.trigger({type:"usage",name:"vhs-rendition-excluded"});const l=this.selectPlaylist();if(!l){this.error="Playback cannot continue. No available working or supported playlists.",this.trigger("error");return}const c=i.internal?this.logger_:he.log.warn,u=i.message?" "+i.message:"";c(`${i.internal?"Internal problem":"Problem"} encountered with playlist ${e.id}.${u} Switching to playlist ${l.id}.`),l.attributes.AUDIO!==e.attributes.AUDIO&&this.delegateLoaders_("audio",["abort","pause"]),l.attributes.SUBTITLES!==e.attributes.SUBTITLES&&this.delegateLoaders_("subtitle",["abort","pause"]),this.delegateLoaders_("main",["abort","pause"]);const d=l.targetDuration/2*1e3||5*1e3,h=typeof l.lastRequest=="number"&&Date.now()-l.lastRequest<=d;return this.switchMedia_(l,"exclude",a||h)}pauseLoading(){this.delegateLoaders_("all",["abort","pause"]),this.stopABRTimer_()}delegateLoaders_(e,i){const n=[],s=e==="all";(s||e==="main")&&n.push(this.mainPlaylistLoader_);const r=[];(s||e==="audio")&&r.push("AUDIO"),(s||e==="subtitle")&&(r.push("CLOSED-CAPTIONS"),r.push("SUBTITLES")),r.forEach(a=>{const o=this.mediaTypes_[a]&&this.mediaTypes_[a].activePlaylistLoader;o&&n.push(o)}),["main","audio","subtitle"].forEach(a=>{const o=this[`${a}SegmentLoader_`];o&&(e===a||e==="all")&&n.push(o)}),n.forEach(a=>i.forEach(o=>{typeof a[o]=="function"&&a[o]()}))}setCurrentTime(e){const i=Gu(this.tech_.buffered(),e);if(!(this.mainPlaylistLoader_&&this.mainPlaylistLoader_.media())||!this.mainPlaylistLoader_.media().segments)return 0;if(i&&i.length)return e;this.mainSegmentLoader_.pause(),this.mainSegmentLoader_.resetEverything(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.pause(),this.audioSegmentLoader_.resetEverything()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.pause(),this.subtitleSegmentLoader_.resetEverything()),this.load()}duration(){if(!this.mainPlaylistLoader_)return 0;const e=this.mainPlaylistLoader_.media();return e?e.endList?this.mediaSource?this.mediaSource.duration:Bo.Playlist.duration(e):1/0:0}seekable(){return this.seekable_}getSeekableRange_(e,i){const n=e.media();if(!n)return null;const s=this.syncController_.getMediaSequenceSync(i);if(s&&s.isReliable){const o=s.start,l=s.end;if(!isFinite(o)||!isFinite(l))return null;const c=Bo.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,n),u=Math.max(0,l-c);return u<o?null:sn([[o,u]])}const r=this.syncController_.getExpiredTime(n,this.duration());if(r===null)return null;const a=Bo.Playlist.seekable(n,r,Bo.Playlist.liveEdgeDelay(this.mainPlaylistLoader_.main,n));return a.length?a:null}computeFinalSeekable_(e,i){if(!i)return e;const n=e.start(0),s=e.end(0),r=i.start(0),a=i.end(0);return r>s||n>a?e:sn([[Math.max(n,r),Math.min(s,a)]])}onSyncInfoUpdate_(){if(!this.mainPlaylistLoader_)return;const e=this.getSeekableRange_(this.mainPlaylistLoader_,"main");if(!e)return;let i;if(this.mediaTypes_.AUDIO.activePlaylistLoader&&(i=this.getSeekableRange_(this.mediaTypes_.AUDIO.activePlaylistLoader,"audio"),!i))return;const n=this.seekable_;if(this.seekable_=this.computeFinalSeekable_(e,i),!this.seekable_||n&&n.length&&this.seekable_.length&&n.start(0)===this.seekable_.start(0)&&n.end(0)===this.seekable_.end(0))return;this.logger_(`seekable updated [${zO(this.seekable_)}]`);const s={seekableRanges:this.seekable_};this.trigger({type:"seekablerangeschanged",metadata:s}),this.tech_.trigger("seekablechanged")}updateDuration(e){if(this.updateDuration_&&(this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.updateDuration_=null),this.mediaSource.readyState!=="open"){this.updateDuration_=this.updateDuration.bind(this,e),this.mediaSource.addEventListener("sourceopen",this.updateDuration_);return}if(e){const s=this.seekable();if(!s.length)return;(isNaN(this.mediaSource.duration)||this.mediaSource.duration<s.end(s.length-1))&&this.sourceUpdater_.setDuration(s.end(s.length-1));return}const i=this.tech_.buffered();let n=Bo.Playlist.duration(this.mainPlaylistLoader_.media());i.length>0&&(n=Math.max(n,i.end(i.length-1))),this.mediaSource.duration!==n&&this.sourceUpdater_.setDuration(n)}dispose(){this.trigger("dispose"),this.decrypter_.terminate(),this.mainPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),this.contentSteeringController_.dispose(),this.keyStatusMap_.clear(),this.loadOnPlay_&&this.tech_.off("play",this.loadOnPlay_),["AUDIO","SUBTITLES"].forEach(e=>{const i=this.mediaTypes_[e].groups;for(const n in i)i[n].forEach(s=>{s.playlistLoader&&s.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose(),this.sourceUpdater_.dispose(),this.timelineChangeController_.dispose(),this.stopABRTimer_(),this.updateDuration_&&this.mediaSource.removeEventListener("sourceopen",this.updateDuration_),this.mediaSource.removeEventListener("durationchange",this.handleDurationChange_),this.mediaSource.removeEventListener("sourceopen",this.handleSourceOpen_),this.mediaSource.removeEventListener("sourceended",this.handleSourceEnded_),this.off()}main(){return this.mainPlaylistLoader_.main}media(){return this.mainPlaylistLoader_.media()||this.initialMedia_}areMediaTypesKnown_(){const e=!!this.mediaTypes_.AUDIO.activePlaylistLoader,i=!!this.mainSegmentLoader_.getCurrentMediaInfo_(),n=e?!!this.audioSegmentLoader_.getCurrentMediaInfo_():!0;return!(!i||!n)}getCodecsOrExclude_(){const e={main:this.mainSegmentLoader_.getCurrentMediaInfo_()||{},audio:this.audioSegmentLoader_.getCurrentMediaInfo_()||{}},i=this.mainSegmentLoader_.getPendingSegmentPlaylist()||this.media();e.video=e.main;const n=sp(this.main(),i),s={},r=!!this.mediaTypes_.AUDIO.activePlaylistLoader;if(e.main.hasVideo&&(s.video=n.video||e.main.videoCodec||V8e),e.main.isMuxed&&(s.video+=`,${n.audio||e.main.audioCodec||T7}`),(e.main.hasAudio&&!e.main.isMuxed||e.audio.hasAudio||r)&&(s.audio=n.audio||e.main.audioCodec||e.audio.audioCodec||T7,e.audio.isFmp4=e.main.hasAudio&&!e.main.isMuxed?e.main.isFmp4:e.audio.isFmp4),!s.audio&&!s.video){this.excludePlaylist({playlistToExclude:i,error:{message:"Could not determine codecs for playlist."},playlistExclusionDuration:1/0});return}const a=(c,u)=>c?qf(u,this.usingManagedMediaSource_):SE(u),o={};let l;if(["video","audio"].forEach(function(c){if(s.hasOwnProperty(c)&&!a(e[c].isFmp4,s[c])){const u=e[c].isFmp4?"browser":"muxer";o[u]=o[u]||[],o[u].push(s[c]),c==="audio"&&(l=u)}}),r&&l&&i.attributes.AUDIO){const c=i.attributes.AUDIO;this.main().playlists.forEach(u=>{(u.attributes&&u.attributes.AUDIO)===c&&u!==i&&(u.excludeUntil=1/0)}),this.logger_(`excluding audio group ${c} as ${l} does not support codec(s): "${s.audio}"`)}if(Object.keys(o).length){const c=Object.keys(o).reduce((u,d)=>(u&&(u+=", "),u+=`${d} does not support codec(s): "${o[d].join(",")}"`,u),"")+".";this.excludePlaylist({playlistToExclude:i,error:{internal:!0,message:c},playlistExclusionDuration:1/0});return}if(this.sourceUpdater_.hasCreatedSourceBuffers()&&!this.sourceUpdater_.canChangeType()){const c=[];if(["video","audio"].forEach(u=>{const d=(Pr(this.sourceUpdater_.codecs[u]||"")[0]||{}).type,h=(Pr(s[u]||"")[0]||{}).type;d&&h&&d.toLowerCase()!==h.toLowerCase()&&c.push(`"${this.sourceUpdater_.codecs[u]}" -> "${s[u]}"`)}),c.length){this.excludePlaylist({playlistToExclude:i,error:{message:`Codec switching not supported: ${c.join(", ")}.`,internal:!0},playlistExclusionDuration:1/0});return}}return s}tryToCreateSourceBuffers_(){if(this.mediaSource.readyState!=="open"||this.sourceUpdater_.hasCreatedSourceBuffers()||!this.areMediaTypesKnown_())return;const e=this.getCodecsOrExclude_();if(!e)return;this.sourceUpdater_.createSourceBuffers(e);const i=[e.video,e.audio].filter(Boolean).join(",");this.excludeIncompatibleVariants_(i)}excludeUnsupportedVariants_(){const e=this.main().playlists,i=[];Object.keys(e).forEach(n=>{const s=e[n];if(i.indexOf(s.id)!==-1)return;i.push(s.id);const r=sp(this.main,s),a=[];r.audio&&!SE(r.audio)&&!qf(r.audio,this.usingManagedMediaSource_)&&a.push(`audio codec ${r.audio}`),r.video&&!SE(r.video)&&!qf(r.video,this.usingManagedMediaSource_)&&a.push(`video codec ${r.video}`),r.text&&r.text==="stpp.ttml.im1t"&&a.push(`text codec ${r.text}`),a.length&&(s.excludeUntil=1/0,this.logger_(`excluding ${s.id} for unsupported: ${a.join(", ")}`))})}excludeIncompatibleVariants_(e){const i=[],n=this.main().playlists,s=B2(Pr(e)),r=xV(s),a=s.video&&Pr(s.video)[0]||null,o=s.audio&&Pr(s.audio)[0]||null;Object.keys(n).forEach(l=>{const c=n[l];if(i.indexOf(c.id)!==-1||c.excludeUntil===1/0)return;i.push(c.id);const u=[],d=sp(this.mainPlaylistLoader_.main,c),h=xV(d);if(!(!d.audio&&!d.video)){if(h!==r&&u.push(`codec count "${h}" !== "${r}"`),!this.sourceUpdater_.canChangeType()){const f=d.video&&Pr(d.video)[0]||null,p=d.audio&&Pr(d.audio)[0]||null;f&&a&&f.type.toLowerCase()!==a.type.toLowerCase()&&u.push(`video codec "${f.type}" !== "${a.type}"`),p&&o&&p.type.toLowerCase()!==o.type.toLowerCase()&&u.push(`audio codec "${p.type}" !== "${o.type}"`)}u.length&&(c.excludeUntil=1/0,this.logger_(`excluding ${c.id}: ${u.join(" && ")}`))}})}updateAdCues_(e){let i=0;const n=this.seekable();n.length&&(i=n.start(0)),zxe(e,this.cueTagsTrack_,i)}goalBufferLength(){const e=this.tech_.currentTime(),i=qi.GOAL_BUFFER_LENGTH,n=qi.GOAL_BUFFER_LENGTH_RATE,s=Math.max(i,qi.MAX_GOAL_BUFFER_LENGTH);return Math.min(i+e*n,s)}bufferLowWaterLine(){const e=this.tech_.currentTime(),i=qi.BUFFER_LOW_WATER_LINE,n=qi.BUFFER_LOW_WATER_LINE_RATE,s=Math.max(i,qi.MAX_BUFFER_LOW_WATER_LINE),r=Math.max(i,qi.EXPERIMENTAL_MAX_BUFFER_LOW_WATER_LINE);return Math.min(i+e*n,this.bufferBasedABR?r:s)}bufferHighWaterLine(){return qi.BUFFER_HIGH_WATER_LINE}addDateRangesToTextTrack_(e){LV(this.inbandTextTracks_,"com.apple.streaming",this.tech_),wxe({inbandTextTracks:this.inbandTextTracks_,dateRanges:e})}addMetadataToTextTrack(e,i,n){const s=this.sourceUpdater_.videoBuffer?this.sourceUpdater_.videoTimestampOffset():this.sourceUpdater_.audioTimestampOffset();LV(this.inbandTextTracks_,e,this.tech_),Cxe({inbandTextTracks:this.inbandTextTracks_,metadataArray:i,timestampOffset:s,videoDuration:n})}pathwayAttribute_(e){return e.attributes["PATHWAY-ID"]||e.attributes.serviceLocation}initContentSteeringController_(){const e=this.main();if(e.contentSteering){for(const i of e.playlists)this.contentSteeringController_.addAvailablePathway(this.pathwayAttribute_(i));if(this.contentSteeringController_.assignTagProperties(e.uri,e.contentSteering),this.contentSteeringController_.queryBeforeStart){this.contentSteeringController_.requestSteeringManifest(!0);return}this.tech_.one("canplay",()=>{this.contentSteeringController_.requestSteeringManifest()})}}resetContentSteeringController_(){this.contentSteeringController_.clearAvailablePathways(),this.contentSteeringController_.dispose(),this.initContentSteeringController_()}attachContentSteeringListeners_(){this.contentSteeringController_.on("content-steering",this.excludeThenChangePathway_.bind(this)),["contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"].forEach(i=>{this.contentSteeringController_.on(i,n=>{this.trigger(Li({},n))})}),this.sourceType_==="dash"&&this.mainPlaylistLoader_.on("loadedplaylist",()=>{const i=this.main();(this.contentSteeringController_.didDASHTagChange(i.uri,i.contentSteering)||(()=>{const r=this.contentSteeringController_.getAvailablePathways(),a=[];for(const o of i.playlists){const l=o.attributes.serviceLocation;if(l&&(a.push(l),!r.has(l)))return!0}return!!(!a.length&&r.size)})())&&this.resetContentSteeringController_()})}excludeThenChangePathway_(){const e=this.contentSteeringController_.getPathway();if(!e)return;this.handlePathwayClones_();const n=this.main().playlists,s=new Set;let r=!1;Object.keys(n).forEach(a=>{const o=n[a],l=this.pathwayAttribute_(o),c=l&&e!==l;o.excludeUntil===1/0&&o.lastExcludeReason_==="content-steering"&&!c&&(delete o.excludeUntil,delete o.lastExcludeReason_,r=!0);const d=!o.excludeUntil&&o.excludeUntil!==1/0;!s.has(o.id)&&c&&d&&(s.add(o.id),o.excludeUntil=1/0,o.lastExcludeReason_="content-steering",this.logger_(`excluding ${o.id} for ${o.lastExcludeReason_}`))}),this.contentSteeringController_.manifestType_==="DASH"&&Object.keys(this.mediaTypes_).forEach(a=>{const o=this.mediaTypes_[a];if(o.activePlaylistLoader){const l=o.activePlaylistLoader.media_;l&&l.attributes.serviceLocation!==e&&(r=!0)}}),r&&this.changeSegmentPathway_()}handlePathwayClones_(){const i=this.main().playlists,n=this.contentSteeringController_.currentPathwayClones,s=this.contentSteeringController_.nextPathwayClones;if(n&&n.size||s&&s.size){for(const[a,o]of n.entries())s.get(a)||(this.mainPlaylistLoader_.updateOrDeleteClone(o),this.contentSteeringController_.excludePathway(a));for(const[a,o]of s.entries()){const l=n.get(a);if(!l){i.filter(u=>u.attributes["PATHWAY-ID"]===o["BASE-ID"]).forEach(u=>{this.mainPlaylistLoader_.addClonePathway(o,u)}),this.contentSteeringController_.addAvailablePathway(a);continue}this.equalPathwayClones_(l,o)||(this.mainPlaylistLoader_.updateOrDeleteClone(o,!0),this.contentSteeringController_.addAvailablePathway(a))}this.contentSteeringController_.currentPathwayClones=new Map(JSON.parse(JSON.stringify([...s])))}}equalPathwayClones_(e,i){if(e["BASE-ID"]!==i["BASE-ID"]||e.ID!==i.ID||e["URI-REPLACEMENT"].HOST!==i["URI-REPLACEMENT"].HOST)return!1;const n=e["URI-REPLACEMENT"].PARAMS,s=i["URI-REPLACEMENT"].PARAMS;for(const r in n)if(n[r]!==s[r])return!1;for(const r in s)if(n[r]!==s[r])return!1;return!0}changeSegmentPathway_(){const e=this.selectPlaylist();this.pauseLoading(),this.contentSteeringController_.manifestType_==="DASH"&&this.switchMediaForDASHContentSteering_(),this.switchMedia_(e,"content-steering")}excludeNonUsablePlaylistsByKeyId_(){if(!this.mainPlaylistLoader_||!this.mainPlaylistLoader_.main)return;let e=0;const i="non-usable";this.mainPlaylistLoader_.main.playlists.forEach(n=>{const s=this.mainPlaylistLoader_.getKeyIdSet(n);!s||!s.size||s.forEach(r=>{const a="usable",o=this.keyStatusMap_.has(r)&&this.keyStatusMap_.get(r)===a,l=n.lastExcludeReason_===i&&n.excludeUntil===1/0;o?o&&l&&(delete n.excludeUntil,delete n.lastExcludeReason_,this.logger_(`enabling playlist ${n.id} because key ID ${r} is ${a}`)):(n.excludeUntil!==1/0&&n.lastExcludeReason_!==i&&(n.excludeUntil=1/0,n.lastExcludeReason_=i,this.logger_(`excluding playlist ${n.id} because the key ID ${r} doesn't exist in the keyStatusMap or is not ${a}`)),e++)})}),e>=this.mainPlaylistLoader_.main.playlists.length&&this.mainPlaylistLoader_.main.playlists.forEach(n=>{const s=n&&n.attributes&&n.attributes.RESOLUTION&&n.attributes.RESOLUTION.height<720,r=n.excludeUntil===1/0&&n.lastExcludeReason_===i;s&&r&&(delete n.excludeUntil,he.log.warn(`enabling non-HD playlist ${n.id} because all playlists were excluded due to ${i} key IDs`))})}addKeyStatus_(e,i){const r=(typeof e=="string"?e:Xxe(e)).slice(0,32).toLowerCase();this.logger_(`KeyStatus '${i}' with key ID ${r} added to the keyStatusMap`),this.keyStatusMap_.set(r,i)}updatePlaylistByKeyStatus(e,i){this.addKeyStatus_(e,i),this.waitingForFastQualityPlaylistReceived_||this.excludeNonUsableThenChangePlaylist_(),this.mainPlaylistLoader_.off("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this)),this.mainPlaylistLoader_.on("loadedplaylist",this.excludeNonUsableThenChangePlaylist_.bind(this))}excludeNonUsableThenChangePlaylist_(){this.excludeNonUsablePlaylistsByKeyId_(),this.fastQualityChange_()}}const bNe=(t,e,i)=>n=>{const s=t.main.playlists[e],r=X4(s),a=Eb(s);if(typeof n>"u")return a;n?delete s.disabled:s.disabled=!0;const o={renditionInfo:{id:e,bandwidth:s.attributes.BANDWIDTH,resolution:s.attributes.RESOLUTION,codecs:s.attributes.CODECS},cause:"fast-quality"};return n!==a&&!r&&(n?(i(s),t.trigger({type:"renditionenabled",metadata:o})):t.trigger({type:"renditiondisabled",metadata:o})),n};class vNe{constructor(e,i,n){const{playlistController_:s}=e,r=s.fastQualityChange_.bind(s);if(i.attributes){const a=i.attributes.RESOLUTION;this.width=a&&a.width,this.height=a&&a.height,this.bandwidth=i.attributes.BANDWIDTH,this.frameRate=i.attributes["FRAME-RATE"]}this.codecs=sp(s.main(),i),this.playlist=i,this.id=n,this.enabled=bNe(e.playlists,i.id,r)}}const ENe=function(t){t.representations=()=>{const e=t.playlistController_.main(),i=k0(e)?t.playlistController_.getAudioTrackPlaylists_():e.playlists;return i?i.filter(n=>!X4(n)).map((n,s)=>new vNe(t,n,n.id)):[]}},OV=["seeking","seeked","pause","playing","error"];class ANe extends he.EventTarget{constructor(e){super(),this.playlistController_=e.playlistController,this.tech_=e.tech,this.seekable=e.seekable,this.allowSeeksWithinUnsafeLiveWindow=e.allowSeeksWithinUnsafeLiveWindow,this.liveRangeSafeTimeDelta=e.liveRangeSafeTimeDelta,this.media=e.media,this.playedRanges_=[],this.consecutiveUpdates=0,this.lastRecordedTime=null,this.checkCurrentTimeTimeout_=null,this.logger_=ir("PlaybackWatcher"),this.logger_("initialize");const i=()=>this.monitorCurrentTime_(),n=()=>this.monitorCurrentTime_(),s=()=>this.techWaiting_(),r=()=>this.resetTimeUpdate_(),a=this.playlistController_,o=["main","subtitle","audio"],l={};o.forEach(u=>{l[u]={reset:()=>this.resetSegmentDownloads_(u),updateend:()=>this.checkSegmentDownloads_(u)},a[`${u}SegmentLoader_`].on("appendsdone",l[u].updateend),a[`${u}SegmentLoader_`].on("playlistupdate",l[u].reset),this.tech_.on(["seeked","seeking"],l[u].reset)});const c=u=>{["main","audio"].forEach(d=>{a[`${d}SegmentLoader_`][u]("appended",this.seekingAppendCheck_)})};this.seekingAppendCheck_=()=>{this.fixesBadSeeks_()&&(this.consecutiveUpdates=0,this.lastRecordedTime=this.tech_.currentTime(),c("off"))},this.clearSeekingAppendCheck_=()=>c("off"),this.watchForBadSeeking_=()=>{this.clearSeekingAppendCheck_(),c("on")},this.tech_.on("seeked",this.clearSeekingAppendCheck_),this.tech_.on("seeking",this.watchForBadSeeking_),this.tech_.on("waiting",s),this.tech_.on(OV,r),this.tech_.on("canplay",n),this.tech_.one("play",i),this.dispose=()=>{this.clearSeekingAppendCheck_(),this.logger_("dispose"),this.tech_.off("waiting",s),this.tech_.off(OV,r),this.tech_.off("canplay",n),this.tech_.off("play",i),this.tech_.off("seeking",this.watchForBadSeeking_),this.tech_.off("seeked",this.clearSeekingAppendCheck_),o.forEach(u=>{a[`${u}SegmentLoader_`].off("appendsdone",l[u].updateend),a[`${u}SegmentLoader_`].off("playlistupdate",l[u].reset),this.tech_.off(["seeked","seeking"],l[u].reset)}),this.checkCurrentTimeTimeout_&&K.clearTimeout(this.checkCurrentTimeTimeout_),this.resetTimeUpdate_()}}monitorCurrentTime_(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&K.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=K.setTimeout(this.monitorCurrentTime_.bind(this),250)}resetSegmentDownloads_(e){const i=this.playlistController_[`${e}SegmentLoader_`];this[`${e}StalledDownloads_`]>0&&this.logger_(`resetting possible stalled download count for ${e} loader`),this[`${e}StalledDownloads_`]=0,this[`${e}Buffered_`]=i.buffered_()}checkSegmentDownloads_(e){const i=this.playlistController_,n=i[`${e}SegmentLoader_`],s=n.buffered_(),r=r_e(this[`${e}Buffered_`],s);if(this[`${e}Buffered_`]=s,r){const a={bufferedRanges:s};i.trigger({type:"bufferedrangeschanged",metadata:a}),this.resetSegmentDownloads_(e);return}this[`${e}StalledDownloads_`]++,this.logger_(`found #${this[`${e}StalledDownloads_`]} ${e} appends that did not increase buffer (possible stalled download)`,{playlistId:n.playlist_&&n.playlist_.id,buffered:Ql(s)}),!(this[`${e}StalledDownloads_`]<10)&&(this.logger_(`${e} loader stalled download exclusion`),this.resetSegmentDownloads_(e),this.tech_.trigger({type:"usage",name:`vhs-${e}-download-exclusion`}),e!=="subtitle"&&i.excludePlaylist({error:{message:`Excessive ${e} segment downloading detected.`},playlistExclusionDuration:1/0}))}checkCurrentTime_(){if(this.tech_.paused()||this.tech_.seeking())return;const e=this.tech_.currentTime(),i=this.tech_.buffered();if(this.lastRecordedTime===e&&(!i.length||e+ia>=i.end(i.length-1)))return this.techWaiting_();if(this.consecutiveUpdates>=5&&e===this.lastRecordedTime)this.consecutiveUpdates++,this.waiting_();else if(e===this.lastRecordedTime)this.consecutiveUpdates++;else{this.playedRanges_.push(sn([this.lastRecordedTime,e]));const n={playedRanges:this.playedRanges_};this.playlistController_.trigger({type:"playedrangeschanged",metadata:n}),this.consecutiveUpdates=0,this.lastRecordedTime=e}}resetTimeUpdate_(){this.consecutiveUpdates=0}fixesBadSeeks_(){if(!this.tech_.seeking())return!1;const i=this.seekable(),n=this.tech_.currentTime(),s=this.afterSeekableWindow_(i,n,this.media(),this.allowSeeksWithinUnsafeLiveWindow);let r;if(s&&(r=i.end(i.length-1)),this.beforeSeekableWindow_(i,n)){const p=i.start(0);r=p+(p===i.end(0)?0:ia)}if(typeof r<"u")return this.logger_(`Trying to seek outside of seekable at time ${n} with seekable range ${zO(i)}. Seeking to ${r}.`),this.tech_.setCurrentTime(r),!0;const a=this.playlistController_.sourceUpdater_,o=this.tech_.buffered(),l=a.audioBuffer?a.audioBuffered():null,c=a.videoBuffer?a.videoBuffered():null,u=this.media(),d=u.partTargetDuration?u.partTargetDuration:(u.targetDuration-ta)*2,h=[l,c];for(let p=0;p<h.length;p++){if(!h[p])continue;if(P4(h[p],n)<d)return!1}const f=zm(o,n);return f.length===0?!1:(r=f.start(0)+ia,this.logger_(`Buffered region starts (${f.start(0)})  just beyond seek point (${n}). Seeking to ${r}.`),this.tech_.setCurrentTime(r),!0)}waiting_(){if(this.techWaiting_())return;const e=this.tech_.currentTime(),i=this.tech_.buffered(),n=Gu(i,e);if(n.length&&e+3<=n.end(0)){this.resetTimeUpdate_(),this.tech_.setCurrentTime(e),this.logger_(`Stopped at ${e} while inside a buffered region [${n.start(0)} -> ${n.end(0)}]. Attempting to resume playback by seeking to the current time.`),this.tech_.trigger({type:"usage",name:"vhs-unknown-waiting"});return}}techWaiting_(){const e=this.seekable(),i=this.tech_.currentTime();if(this.tech_.seeking())return!0;if(this.beforeSeekableWindow_(e,i)){const o=e.end(e.length-1);return this.logger_(`Fell out of live window at time ${i}. Seeking to live point (seekable end) ${o}`),this.resetTimeUpdate_(),this.tech_.setCurrentTime(o),this.tech_.trigger({type:"usage",name:"vhs-live-resync"}),!0}const n=this.tech_.vhs.playlistController_.sourceUpdater_,s=this.tech_.buffered();if(this.videoUnderflow_({audioBuffered:n.audioBuffered(),videoBuffered:n.videoBuffered(),currentTime:i}))return this.resetTimeUpdate_(),this.tech_.setCurrentTime(i),this.tech_.trigger({type:"usage",name:"vhs-video-underflow"}),!0;const a=zm(s,i);return a.length>0?(this.logger_(`Stopped at ${i} and seeking to ${a.start(0)}`),this.resetTimeUpdate_(),this.skipTheGap_(i),!0):!1}afterSeekableWindow_(e,i,n,s=!1){if(!e.length)return!1;let r=e.end(e.length-1)+ia;const a=!n.endList,o=typeof n.partTargetDuration=="number";return a&&(o||s)&&(r=e.end(e.length-1)+n.targetDuration*3),i>r}beforeSeekableWindow_(e,i){return!!(e.length&&e.start(0)>0&&i<e.start(0)-this.liveRangeSafeTimeDelta)}videoUnderflow_({videoBuffered:e,audioBuffered:i,currentTime:n}){if(!e)return;let s;if(e.length&&i.length){const r=Gu(e,n-3),a=Gu(e,n),o=Gu(i,n);o.length&&!a.length&&r.length&&(s={start:r.end(0),end:o.end(0)})}else zm(e,n).length||(s=this.gapFromVideoUnderflow_(e,n));return s?(this.logger_(`Encountered a gap in video from ${s.start} to ${s.end}. Seeking to current time ${n}`),!0):!1}skipTheGap_(e){const i=this.tech_.buffered(),n=this.tech_.currentTime(),s=zm(i,n);if(this.resetTimeUpdate_(),s.length===0||n!==e)return;this.logger_("skipTheGap_:","currentTime:",n,"scheduled currentTime:",e,"nextRange start:",s.start(0)),this.tech_.setCurrentTime(s.start(0)+ta);const r={gapInfo:{from:n,to:s.start(0)}};this.playlistController_.trigger({type:"gapjumped",metadata:r}),this.tech_.trigger({type:"usage",name:"vhs-gap-skip"})}gapFromVideoUnderflow_(e,i){const n=i_e(e);for(let s=0;s<n.length;s++){const r=n.start(s),a=n.end(s);if(i-r<4&&i-r>2)return{start:r,end:a}}return null}}const SNe={errorInterval:30,getSource(t){const i=this.tech({IWillNotUseThisInPlugins:!0}).currentSource_||this.currentSource();return t(i)}},GX=function(t,e){let i=0,n=0;const s=Vt(SNe,e);t.ready(()=>{t.trigger({type:"usage",name:"vhs-error-reload-initialized"})});const r=function(){n&&t.currentTime(n)},a=function(u){u!=null&&(n=t.duration()!==1/0&&t.currentTime()||0,t.one("loadedmetadata",r),t.src(u),t.trigger({type:"usage",name:"vhs-error-reload"}),t.play())},o=function(){if(Date.now()-i<s.errorInterval*1e3){t.trigger({type:"usage",name:"vhs-error-reload-canceled"});return}if(!s.getSource||typeof s.getSource!="function"){he.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!");return}return i=Date.now(),s.getSource.call(t,a)},l=function(){t.off("loadedmetadata",r),t.off("error",o),t.off("dispose",l)},c=function(u){l(),GX(t,u)};t.on("error",o),t.on("dispose",l),t.reloadSourceOnError=c},TNe=function(t){GX(this,t)};var DX="3.16.2",CNe="7.1.0",RNe="1.3.1",INe="7.2.0",wNe="4.0.2";const yi={PlaylistLoader:Du,Playlist:ts,utils:x_e,STANDARD_PLAYLIST_SELECTOR:VV,INITIAL_PLAYLIST_SELECTOR:vxe,lastBandwidthSelector:VV,movingAverageBandwidthSelector:yxe,comparePlaylistBandwidth:K4,comparePlaylistResolution:gxe,xhr:dX()};Object.keys(qi).forEach(t=>{Object.defineProperty(yi,t,{get(){return he.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),qi[t]},set(e){if(he.log.warn(`using Vhs.${t} is UNSAFE be sure you know what you are doing`),typeof e!="number"||e<0){he.log.warn(`value of Vhs.${t} must be greater than or equal to 0`);return}qi[t]=e}})});const MX="videojs-vhs",ZX=function(t,e){const i=e.media();let n=-1;for(let s=0;s<t.length;s++)if(t[s].id===i.id){n=s;break}t.selectedIndex_=n,t.trigger({selectedIndex:n,type:"change"})},_Ne=function(t,e){e.representations().forEach(i=>{t.addQualityLevel(i)}),ZX(t,e.playlists)};yi.canPlaySource=function(){return he.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};const xNe=(t,e,i)=>{if(!t)return t;let n={};e&&e.attributes&&e.attributes.CODECS&&(n=B2(Pr(e.attributes.CODECS))),i&&i.attributes&&i.attributes.CODECS&&(n.audio=i.attributes.CODECS);const s=Bd(n.video),r=Bd(n.audio),a={};for(const o in t)a[o]={},r&&(a[o].audioContentType=r),s&&(a[o].videoContentType=s),e.contentProtection&&e.contentProtection[o]&&e.contentProtection[o].pssh&&(a[o].pssh=e.contentProtection[o].pssh),typeof t[o]=="string"&&(a[o].url=t[o]);return Vt(t,a)},NNe=(t,e)=>t.reduce((i,n)=>{if(!n.contentProtection)return i;const s=e.reduce((r,a)=>{const o=n.contentProtection[a];return o&&o.pssh&&(r[a]={pssh:o.pssh}),r},{});return Object.keys(s).length&&i.push(s),i},[]),VNe=({player:t,sourceKeySystems:e,audioMedia:i,mainPlaylists:n})=>{if(!t.eme.initializeMediaKeys)return Promise.resolve();const s=i?n.concat([i]):n,r=NNe(s,Object.keys(e)),a=[],o=[];return r.forEach(l=>{o.push(new Promise((c,u)=>{t.tech_.one("keysessioncreated",c)})),a.push(new Promise((c,u)=>{t.eme.initializeMediaKeys({keySystems:l},d=>{if(d){u(d);return}c()})}))}),Promise.race([Promise.all(a),Promise.race(o)])},LNe=({player:t,sourceKeySystems:e,media:i,audioMedia:n})=>{const s=xNe(e,i,n);return s?(t.currentSource().keySystems=s,s&&!t.eme?(he.log.warn("DRM encrypted source cannot be decrypted without a DRM plugin"),!1):!0):!1},PX=()=>{if(!K.localStorage)return null;const t=K.localStorage.getItem(MX);if(!t)return null;try{return JSON.parse(t)}catch{return null}},kNe=t=>{if(!K.localStorage)return!1;let e=PX();e=e?Vt(e,t):t;try{K.localStorage.setItem(MX,JSON.stringify(e))}catch{return!1}return e},FNe=t=>t.toLowerCase().indexOf("data:application/vnd.videojs.vhs+json,")===0?JSON.parse(t.substring(t.indexOf(",")+1)):t,OX=(t,e)=>{t._requestCallbackSet||(t._requestCallbackSet=new Set),t._requestCallbackSet.add(e)},XX=(t,e)=>{t._responseCallbackSet||(t._responseCallbackSet=new Set),t._responseCallbackSet.add(e)},YX=(t,e)=>{t._requestCallbackSet&&(t._requestCallbackSet.delete(e),t._requestCallbackSet.size||delete t._requestCallbackSet)},$X=(t,e)=>{t._responseCallbackSet&&(t._responseCallbackSet.delete(e),t._responseCallbackSet.size||delete t._responseCallbackSet)};yi.supportsNativeHls=function(){if(!Fe||!Fe.createElement)return!1;const t=Fe.createElement("video");return he.getTech("Html5").isSupported()?["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(i){return/maybe|probably/i.test(t.canPlayType(i))}):!1}();yi.supportsNativeDash=function(){return!Fe||!Fe.createElement||!he.getTech("Html5").isSupported()?!1:/maybe|probably/i.test(Fe.createElement("video").canPlayType("application/dash+xml"))}();yi.supportsTypeNatively=t=>t==="hls"?yi.supportsNativeHls:t==="dash"?yi.supportsNativeDash:!1;yi.isSupported=function(){return he.log.warn("VHS is no longer a tech. Please remove it from your player's techOrder.")};yi.xhr.onRequest=function(t){OX(yi.xhr,t)};yi.xhr.onResponse=function(t){XX(yi.xhr,t)};yi.xhr.offRequest=function(t){YX(yi.xhr,t)};yi.xhr.offResponse=function(t){$X(yi.xhr,t)};const UNe=he.getComponent("Component");class KX extends UNe{constructor(e,i,n){if(super(i,n.vhs),typeof n.initialBandwidth=="number"&&(this.options_.bandwidth=n.initialBandwidth),this.logger_=ir("VhsHandler"),i.options_&&i.options_.playerId){const s=he.getPlayer(i.options_.playerId);this.player_=s}if(this.tech_=i,this.source_=e,this.stats={},this.ignoreNextSeekingEvent_=!1,this.setOptions_(),this.options_.overrideNative&&i.overrideNativeAudioTracks&&i.overrideNativeVideoTracks)i.overrideNativeAudioTracks(!0),i.overrideNativeVideoTracks(!0);else if(this.options_.overrideNative&&(i.featuresNativeVideoTracks||i.featuresNativeAudioTracks))throw new Error("Overriding native VHS requires emulated tracks. See https://git.io/vMpjB");this.on(Fe,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],s=>{const r=Fe.fullscreenElement||Fe.webkitFullscreenElement||Fe.mozFullScreenElement||Fe.msFullscreenElement;r&&r.contains(this.tech_.el())?this.playlistController_.fastQualityChange_():this.playlistController_.checkABR_()}),this.on(this.tech_,"seeking",function(){if(this.ignoreNextSeekingEvent_){this.ignoreNextSeekingEvent_=!1;return}this.setCurrentTime(this.tech_.currentTime())}),this.on(this.tech_,"error",function(){this.tech_.error()&&this.playlistController_&&this.playlistController_.pauseLoading()}),this.on(this.tech_,"play",this.play)}setOptions_(e={}){if(this.options_=Vt(this.options_,e),this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions!==!1,this.options_.useDevicePixelRatio=this.options_.useDevicePixelRatio||!1,this.options_.useBandwidthFromLocalStorage=typeof this.source_.useBandwidthFromLocalStorage<"u"?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,this.options_.useForcedSubtitles=this.options_.useForcedSubtitles||!1,this.options_.useNetworkInformationApi=this.options_.useNetworkInformationApi||!1,this.options_.useDtsForTimestampOffset=this.options_.useDtsForTimestampOffset||!1,this.options_.customTagParsers=this.options_.customTagParsers||[],this.options_.customTagMappers=this.options_.customTagMappers||[],this.options_.cacheEncryptionKeys=this.options_.cacheEncryptionKeys||!1,this.options_.llhls=this.options_.llhls!==!1,this.options_.bufferBasedABR=this.options_.bufferBasedABR||!1,typeof this.options_.playlistExclusionDuration!="number"&&(this.options_.playlistExclusionDuration=60),typeof this.options_.bandwidth!="number"&&this.options_.useBandwidthFromLocalStorage){const n=PX();n&&n.bandwidth&&(this.options_.bandwidth=n.bandwidth,this.tech_.trigger({type:"usage",name:"vhs-bandwidth-from-local-storage"})),n&&n.throughput&&(this.options_.throughput=n.throughput,this.tech_.trigger({type:"usage",name:"vhs-throughput-from-local-storage"}))}typeof this.options_.bandwidth!="number"&&(this.options_.bandwidth=qi.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===qi.INITIAL_BANDWIDTH,["withCredentials","useDevicePixelRatio","customPixelRatio","limitRenditionByPlayerDimensions","bandwidth","customTagParsers","customTagMappers","cacheEncryptionKeys","playlistSelector","initialPlaylistSelector","bufferBasedABR","liveRangeSafeTimeDelta","llhls","useForcedSubtitles","useNetworkInformationApi","useDtsForTimestampOffset","exactManifestTimings","leastPixelDiffSelector"].forEach(n=>{typeof this.source_[n]<"u"&&(this.options_[n]=this.source_[n])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions,this.useDevicePixelRatio=this.options_.useDevicePixelRatio;const i=this.options_.customPixelRatio;typeof i=="number"&&i>=0&&(this.customPixelRatio=i)}setOptions(e={}){this.setOptions_(e)}src(e,i){if(!e)return;this.setOptions_(),this.options_.src=FNe(this.source_.src),this.options_.tech=this.tech_,this.options_.externVhs=yi,this.options_.sourceType=ZZ(i),this.options_.seekTo=r=>{this.tech_.setCurrentTime(r)},this.options_.player_=this.player_,this.playlistController_=new yNe(this.options_);const n=Vt({liveRangeSafeTimeDelta:ia},this.options_,{seekable:()=>this.seekable(),media:()=>this.playlistController_.media(),playlistController:this.playlistController_});this.playbackWatcher_=new ANe(n),this.attachStreamingEventListeners_(),this.playlistController_.on("error",()=>{const r=he.players[this.tech_.options_.playerId];let a=this.playlistController_.error;typeof a=="object"&&!a.code?a.code=3:typeof a=="string"&&(a={message:a,code:3}),r.error(a)});const s=this.options_.bufferBasedABR?yi.movingAverageBandwidthSelector(.55):yi.STANDARD_PLAYLIST_SELECTOR;this.playlistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):s.bind(this),this.playlistController_.selectInitialPlaylist=yi.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.playlistController_.mainPlaylistLoader_,this.mediaSource=this.playlistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get(){return this.playlistController_.selectPlaylist},set(r){this.playlistController_.selectPlaylist=r.bind(this)}},throughput:{get(){return this.playlistController_.mainSegmentLoader_.throughput.rate},set(r){this.playlistController_.mainSegmentLoader_.throughput.rate=r,this.playlistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get(){let r=this.playlistController_.mainSegmentLoader_.bandwidth;const a=K.navigator.connection||K.navigator.mozConnection||K.navigator.webkitConnection,o=1e7;if(this.options_.useNetworkInformationApi&&a){const l=a.downlink*1e3*1e3;l>=o&&r>=o?r=Math.max(r,l):r=l}return r},set(r){this.playlistController_.mainSegmentLoader_.bandwidth=r,this.playlistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get(){const r=1/(this.bandwidth||1);let a;return this.throughput>0?a=1/this.throughput:a=0,Math.floor(1/(r+a))},set(){he.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:()=>this.bandwidth||0,enumerable:!0},mediaRequests:{get:()=>this.playlistController_.mediaRequests_()||0,enumerable:!0},mediaRequestsAborted:{get:()=>this.playlistController_.mediaRequestsAborted_()||0,enumerable:!0},mediaRequestsTimedout:{get:()=>this.playlistController_.mediaRequestsTimedout_()||0,enumerable:!0},mediaRequestsErrored:{get:()=>this.playlistController_.mediaRequestsErrored_()||0,enumerable:!0},mediaTransferDuration:{get:()=>this.playlistController_.mediaTransferDuration_()||0,enumerable:!0},mediaBytesTransferred:{get:()=>this.playlistController_.mediaBytesTransferred_()||0,enumerable:!0},mediaSecondsLoaded:{get:()=>this.playlistController_.mediaSecondsLoaded_()||0,enumerable:!0},mediaAppends:{get:()=>this.playlistController_.mediaAppends_()||0,enumerable:!0},mainAppendsToLoadedData:{get:()=>this.playlistController_.mainAppendsToLoadedData_()||0,enumerable:!0},audioAppendsToLoadedData:{get:()=>this.playlistController_.audioAppendsToLoadedData_()||0,enumerable:!0},appendsToLoadedData:{get:()=>this.playlistController_.appendsToLoadedData_()||0,enumerable:!0},timeToLoadedData:{get:()=>this.playlistController_.timeToLoadedData_()||0,enumerable:!0},buffered:{get:()=>Ql(this.tech_.buffered()),enumerable:!0},currentTime:{get:()=>this.tech_.currentTime(),enumerable:!0},currentSource:{get:()=>this.tech_.currentSource_,enumerable:!0},currentTech:{get:()=>this.tech_.name_,enumerable:!0},duration:{get:()=>this.tech_.duration(),enumerable:!0},main:{get:()=>this.playlists.main,enumerable:!0},playerDimensions:{get:()=>this.tech_.currentDimensions(),enumerable:!0},seekable:{get:()=>Ql(this.tech_.seekable()),enumerable:!0},timestamp:{get:()=>Date.now(),enumerable:!0},videoPlaybackQuality:{get:()=>this.tech_.getVideoPlaybackQuality(),enumerable:!0}}),this.tech_.one("canplay",this.playlistController_.setupFirstPlay.bind(this.playlistController_)),this.tech_.on("bandwidthupdate",()=>{this.options_.useBandwidthFromLocalStorage&&kNe({bandwidth:this.bandwidth,throughput:Math.round(this.throughput)})}),this.playlistController_.on("selectedinitialmedia",()=>{ENe(this)}),this.playlistController_.sourceUpdater_.on("createdsourcebuffers",()=>{this.setupEme_()}),this.on(this.playlistController_,"progress",function(){this.tech_.trigger("progress")}),this.on(this.playlistController_,"firstplay",function(){this.ignoreNextSeekingEvent_=!0}),this.setupQualityLevels_(),this.tech_.el()&&(this.mediaSourceUrl_=K.URL.createObjectURL(this.playlistController_.mediaSource),(he.browser.IS_ANY_SAFARI||he.browser.IS_IOS)&&this.options_.overrideNative&&this.options_.sourceType==="hls"&&typeof this.tech_.addSourceElement=="function"?(this.tech_.addSourceElement(this.mediaSourceUrl_),this.tech_.addSourceElement(this.source_.src)):this.tech_.src(this.mediaSourceUrl_))}createKeySessions_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader;this.logger_("waiting for EME key session creation"),VNe({player:this.player_,sourceKeySystems:this.source_.keySystems,audioMedia:e&&e.media(),mainPlaylists:this.playlists.main.playlists}).then(()=>{this.logger_("created EME key session"),this.playlistController_.sourceUpdater_.initializedEme()}).catch(i=>{this.logger_("error while creating EME key session",i),this.player_.error({message:"Failed to initialize media keys for EME",code:3})})}handleWaitingForKey_(){this.logger_("waitingforkey fired, attempting to create any new key sessions"),this.createKeySessions_()}setupEme_(){const e=this.playlistController_.mediaTypes_.AUDIO.activePlaylistLoader,i=LNe({player:this.player_,sourceKeySystems:this.source_.keySystems,media:this.playlists.media(),audioMedia:e&&e.media()});if(this.player_.tech_.on("keystatuschange",n=>{this.playlistController_.updatePlaylistByKeyStatus(n.keyId,n.status)}),this.handleWaitingForKey_=this.handleWaitingForKey_.bind(this),this.player_.tech_.on("waitingforkey",this.handleWaitingForKey_),!i){this.playlistController_.sourceUpdater_.initializedEme();return}this.createKeySessions_()}setupQualityLevels_(){const e=he.players[this.tech_.options_.playerId];!e||!e.qualityLevels||this.qualityLevels_||(this.qualityLevels_=e.qualityLevels(),this.playlistController_.on("selectedinitialmedia",()=>{_Ne(this.qualityLevels_,this)}),this.playlists.on("mediachange",()=>{ZX(this.qualityLevels_,this.playlists)}))}static version(){return{"@videojs/http-streaming":DX,"mux.js":CNe,"mpd-parser":RNe,"m3u8-parser":INe,"aes-decrypter":wNe}}version(){return this.constructor.version()}canChangeType(){return FX.canChangeType()}play(){this.playlistController_.play()}setCurrentTime(e){this.playlistController_.setCurrentTime(e)}duration(){return this.playlistController_.duration()}seekable(){return this.playlistController_.seekable()}dispose(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.playlistController_&&this.playlistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.tech_&&this.tech_.vhs&&delete this.tech_.vhs,this.mediaSourceUrl_&&K.URL.revokeObjectURL&&(K.URL.revokeObjectURL(this.mediaSourceUrl_),this.mediaSourceUrl_=null),this.tech_&&this.tech_.off("waitingforkey",this.handleWaitingForKey_),super.dispose()}convertToProgramTime(e,i){return B_e({playlist:this.playlistController_.media(),time:e,callback:i})}seekToProgramTime(e,i,n=!0,s=2){return gX({programTime:e,playlist:this.playlistController_.media(),retryCount:s,pauseAfterSeek:n,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:i})}setupXhrHooks_(){this.xhr.onRequest=e=>{OX(this.xhr,e)},this.xhr.onResponse=e=>{XX(this.xhr,e)},this.xhr.offRequest=e=>{YX(this.xhr,e)},this.xhr.offResponse=e=>{$X(this.xhr,e)},this.player_.trigger("xhr-hooks-ready")}attachStreamingEventListeners_(){const e=["seekablerangeschanged","bufferedrangeschanged","contentsteeringloadstart","contentsteeringloadcomplete","contentsteeringparsed"],i=["gapjumped","playedrangeschanged"];e.forEach(n=>{this.playlistController_.on(n,s=>{this.player_.trigger(Li({},s))})}),i.forEach(n=>{this.playbackWatcher_.on(n,s=>{this.player_.trigger(Li({},s))})})}}const D2={name:"videojs-http-streaming",VERSION:DX,canHandleSource(t,e={}){const i=Vt(he.options,e);return!i.vhs.experimentalUseMMS&&!qf("avc1.4d400d,mp4a.40.2",!1)?!1:D2.canPlayType(t.type,i)},handleSource(t,e,i={}){const n=Vt(he.options,i);return e.vhs=new KX(t,e,n),e.vhs.xhr=dX(),e.vhs.setupXhrHooks_(),e.vhs.src(t.src,t.type),e.vhs},canPlayType(t,e){const i=ZZ(t);if(!i)return"";const n=D2.getOverrideNative(e);return!yi.supportsTypeNatively(i)||n?"maybe":""},getOverrideNative(t={}){const{vhs:e={}}=t,i=!(he.browser.IS_ANY_SAFARI||he.browser.IS_IOS),{overrideNative:n=i}=e;return n}},BNe=()=>qf("avc1.4d400d,mp4a.40.2",!0);BNe()&&he.getTech("Html5").registerSourceHandler(D2,0);he.VhsHandler=KX;he.VhsSourceHandler=D2;he.Vhs=yi;he.use||he.registerComponent("Vhs",yi);he.options.vhs=he.options.vhs||{};(!he.getPlugin||!he.getPlugin("reloadSourceOnError"))&&he.registerPlugin("reloadSourceOnError",TNe);class WNe{constructor(e){this.id=e.getAttribute("id"),this.allowMultipleAds=e.getAttribute("allowMultipleAds"),this.followRedirects=e.getAttribute("followRedirects"),this.vastAdData=null,this.adTagURI=null,this.customData=null;for(const i in e.childNodes){const n=e.childNodes[i];switch(n.localName){case"AdTagURI":this.adTagURI={templateType:n.getAttribute("templateType"),uri:(n.textContent||n.text||"").trim()};break;case"VASTAdData":for(this.vastAdData=n.firstChild;this.vastAdData&&this.vastAdData.nodeType!==1;)this.vastAdData=this.vastAdData.nextSibling;break;case"CustomAdData":this.customData=n;break}}}}function zX(t,e){const i=[];for(const n in t.childNodes){const s=t.childNodes[n];(s.nodeName===e||e===`vmap:${s.nodeName}`||s.nodeName===`vmap:${e}`)&&i.push(s)}return i}function GNe(t){if(!t||!t.childNodes)return{};const e=t.childNodes,i=[];for(const s in e){const r=e[s];r.nodeName==="#cdata-section"&&i.push(r)}if(i&&i.length>0)try{return JSON.parse(i[0].data)}catch{}let n="";for(const s in e){const r=e[s];switch(r.nodeName){case"#text":n+=r.textContent.trim();break;case"#cdata-section":n+=r.data;break}}return n}function z4(t){const e={attributes:{},children:{},value:{}};e.value=GNe(t);const i=t.attributes;if(i)for(const s in i){const r=i[s];r.nodeName&&r.nodeValue!==void 0&&r.nodeValue!==null&&(e.attributes[r.nodeName]=r.nodeValue)}const n=t.childNodes;if(n)for(const s in n){const r=n[s];r.nodeName&&r.nodeName.substring(0,1)!=="#"&&(e.children[r.nodeName]=z4(r))}return e}class DNe{constructor(e){this.timeOffset=e.getAttribute("timeOffset"),this.breakType=e.getAttribute("breakType"),this.breakId=e.getAttribute("breakId"),this.repeatAfter=e.getAttribute("repeatAfter"),this.adSource=null,this.trackingEvents=[],this.extensions=[];for(const i in e.childNodes){const n=e.childNodes[i];switch(n.localName){case"AdSource":this.adSource=new WNe(n);break;case"TrackingEvents":for(const s in n.childNodes){const r=n.childNodes[s];r.localName==="Tracking"&&this.trackingEvents.push({event:r.getAttribute("event"),uri:(r.textContent||r.text||"").trim()})}break;case"Extensions":this.extensions=zX(n,"Extension").map(s=>z4(s));break}}}track(e,i){for(const n in this.trackingEvents){const s=this.trackingEvents[n];if(s.event===e){let{uri:r}=s;s.event==="error"&&(r=r.replace("[ERRORCODE]",i)),this.tracker(r)}}}tracker(e){if(typeof window<"u"&&window!==null){const i=new Image;i.src=e}}}class MNe{constructor(e){if(!e||!e.documentElement||e.documentElement.localName!=="VMAP")throw new Error("Not a VMAP document");this.version=e.documentElement.getAttribute("version"),this.adBreaks=[],this.extensions=[];for(const i in e.documentElement.childNodes){const n=e.documentElement.childNodes[i];switch(n.localName){case"AdBreak":this.adBreaks.push(new DNe(n));break;case"Extensions":this.extensions=zX(n,"Extension").map(s=>z4(s));break}}}}const ZNe=(t,e)=>{const i=goog.pal,n=new i.ConsentSettings;n.allowStorage=!1;const s=new i.NonceLoader(n);return async()=>{try{const r=new URL(e),a=new i.NonceRequest;let o=localStorage.getItem("sl-device-id")||Ho(),l=sessionStorage.getItem("sl-ad-session-id");l||(l=Ho(),sessionStorage.setItem("sl-ad-session-id",l)),nZ(o)||(o=h2(`https://${o}`,h2.URL)),r.searchParams.get("url")||r.searchParams.set("url","https://streamlayer.io"),r.searchParams.get("description_url")||r.searchParams.set("description_url","https://streamlayer.io"),a.adWillAutoPlay=r.searchParams.get("vpa")==="auto",a.adWillPlayMuted=r.searchParams.get("vpmute")==="1",a.continuousPlayback=!0,a.descriptionUrl=r.searchParams.get("description_url"),a.iconsSupported=!0,a.sessionId=o,a.supportedApiFrameworks="2,7,9",a.videoHeight=t.clientHeight,a.videoWidth=t.clientWidth;const c=await s.loadNonceManager(a);return r.searchParams.get("is_lat")==="[placeholder]"&&r.searchParams.set("is_lat","1"),r.searchParams.get("rdid")==="[placeholder]"&&r.searchParams.set("rdid",o),r.searchParams.get("correlator")==="[placeholder]"&&r.searchParams.set("correlator",l),r.searchParams.set("wta","1"),r.searchParams.set("givn",c.getNonce()),{url:r,manager:c}}catch(r){console.log("AdsManager could not be started",r);return}}},PNe=new d9e,ONe=t=>t.creatives.find(e=>e.mediaFiles),XNe=t=>{var e;const i=t==null?void 0:t.mediaFiles;return i!=null&&i.length&&((e=i.find(n=>n.fileURL))==null?void 0:e.fileURL)||""},bf=wM({ads:[],autoplay:!0,muted:!1,nonceManager:void 0}),YNe=(t,e)=>{const[i,n]=x.useState(),s=x.useRef(Date.now()),r=x.useRef(Date.now());return x.useEffect(()=>{if(!e||!(t!=null&&t.current))return;const a=ZNe(t.current,e),o=Date.now();s.current=o,bf.set({ads:[],autoplay:!0,muted:!1,nonceManager:void 0}),a().then(l=>{s.current===o&&l&&(n(l.url),bf.set({ads:[],autoplay:!0,muted:!1,nonceManager:l.manager}))}).catch(l=>{console.error(l)})},[t,e]),x.useEffect(()=>{const a=async(o,l)=>{let c=[];if(o.searchParams.get("output")==="vmap"){const f=await fetch(o.toString()),p=new DOMParser,m=await f.text(),v=p.parseFromString(m,"text/xml");c=new MNe(v).adBreaks.map(g=>g.adSource.adTagURI.uri)}else c=[o.toString()];const u=await Promise.all(c.map((f,p)=>PNe.get(f).then(m=>{if(r.current===l){const v=m.ads.find(A=>A.creatives.length>0);if(!v)return;const g=ONe(v),E=XNe(g);return{creative:g,order:p,mediaFileUrl:E,ad:v,raw:m}}}))),d=o.searchParams.get("vpa")!=="click",h=o.searchParams.get("vpmute")==="1";bf.set({...bf.get(),ads:u.filter(f=>!!f),autoplay:d,muted:h})};if(i){const o=Date.now();r.current=o,a(i,o)}return()=>{r.current=0}},[i]),bf},$Ne=t=>{const e=x.useRef();return x.useEffect(()=>{if(!e.current&&t.current){const i=document.createElement("video-js");i.classList.add("vjs-big-play-centered"),t.current.appendChild(i),e.current=he(i,{controls:!1,playsinline:!0})}return()=>{e.current&&(e.current.dispose(),e.current=void 0)}},[]),e},JX={time:0,adCount:0,adPosition:0,skipDelay:0,playing:!1,paused:!1,reset:()=>{},whyThisAd:null,hasAdUrl:!1,adAction:t=>{},playMuted:!1,muted:!1,autoplay:!0},ti=XR(JX),XV=t=>{if(!t)return 0;const e=t.duration(),i=t.currentTime();return e===void 0||isNaN(e)||i===void 0||isNaN(i)?0:Math.round(e-i)},KNe=(t,e)=>{const i=YNe(t,e),n=$Ne(t),s=x.useRef(),r=x.useRef(!1),a=x.useRef(!1),o=x.useCallback(()=>{if(a.current)return;const f=i.get().nonceManager;if(f&&r.current)try{f.sendPlaybackEnd()}catch(p){console.warn("[PAL] sendPlaybackEnd failed",p)}a.current=!0},[i]),l=x.useCallback(()=>{o(),n.current&&(n.current.pause(),n.current.src(void 0)),s.current=void 0,ti.set({...JX,reset:l})},[n,o]);x.useEffect(()=>{ti.setKey("reset",l)},[l]);const c=x.useCallback(()=>{var f,p,m;const{adPosition:v,adCount:g}=ti.get();if(n.current){if(v<g){const E=v+1,{ads:A,muted:R,autoplay:I,nonceManager:L}=i.get(),F=A[E-1];if(F){(f=s.current)==null||f.complete(),s.current=new h9e(null,F.ad,F.creative),s.current.on("clickthrough",B=>{if(L)try{L.sendAdClick()}catch(G){console.warn("[PAL] sendAdClick failed",G)}window.open(B,"_blank")}),ti.setKey("adPosition",E),ti.setKey("playMuted",R),ti.setKey("skipDelay",F.creative.skipDelay||0),ti.setKey("time",0),ti.setKey("adAction",B=>{s.current&&s.current.click(null,{CLICKPOS:[B.clientX,B.clientY]})}),ti.setKey("whyThisAd",F.creative.icons.find(B=>B.program==="GoogleWhyThisAd")||null),ti.setKey("hasAdUrl",!!((p=F.creative.videoClickThroughURLTemplate)!=null&&p.url)),n.current.src(F.mediaFileUrl),ti.setKey("playing",!0),v===0?(ti.setKey("muted",R),ti.setKey("autoplay",I),R&&n.current.muted(!0),I?n.current.play():(n.current.pause(),ti.setKey("paused",!0))):n.current.play();return}}(m=s.current)==null||m.complete(),l()}},[n,l,i]),u=x.useCallback(()=>{if(!n.current)return;const f=n.current.muted();n.current.muted(!f),ti.setKey("muted",!f),s.current&&s.current.setMuted(!f)},[n]),d=x.useCallback(()=>{n.current&&(n.current.paused()?(n.current.play(),s.current&&s.current.setPaused(!1)):(n.current.pause(),s.current&&s.current.setPaused(!0)))},[n]),h=x.useCallback(()=>{n.current&&(s.current&&s.current.skip(),c())},[c,n]);return x.useEffect(()=>{const f=n.current;if(!f)return()=>{};const p=I=>{if(ti.setKey("playing",!0),ti.setKey("paused",!1),ti.setKey("time",XV(I.target.player)),!r.current){const L=i.get().nonceManager;if(L)try{L.sendPlaybackStart(),r.current=!0,a.current=!1}catch(F){console.warn("[PAL] sendPlaybackStart failed",F)}}},m=()=>{var I;(I=s.current)==null||I.complete(),c()},v=I=>{ti.setKey("muted",I.target.player.muted())},g=()=>{ti.setKey("paused",!0)},E=I=>{I.target.tagName==="VIDEO"&&(ti.get().autoplay||d())},A=I=>{ti.setKey("time",XV(I.target.player)),s.current&&s.current.setProgress(I.target.player.currentTime())},R=()=>{l()};return f.on("play",p),f.on("ended",m),f.on("muted",v),f.on("pause",g),f.on("click",E),f.on("timeupdate",A),f.on("error",R),()=>{f.off("play",p),f.off("ended",m),f.off("muted",v),f.off("pause",g),f.off("click",E),f.off("timeupdate",A),f.off("error",R)}},[d,c,n,l,i]),x.useEffect(()=>i.subscribe(f=>{f&&(r.current=!1,a.current=!1,ti.setKey("adCount",f.ads.length),ti.setKey("adPosition",0),c())}),[i,n,c]),x.useEffect(()=>()=>{l()},[l]),[ti,u,d,h,s]},zNe=({promotion:t,onClose:e,promotionId:i,externalAd:n,skipAutoClose:s})=>{var r,a,o,l,c;const u=x.useRef(null),[d,h,f,p]=KNe(u,n==null?void 0:n.url),{time:m,adCount:v,adPosition:g,skipDelay:E,playing:A,paused:R,reset:I,muted:L,playMuted:F,autoplay:B,whyThisAd:G,hasAdUrl:Z,adAction:j}=dt(d),pe=((r=t.sponsor)==null?void 0:r.logo)&&t.logoMode===xf.CENTER;return b.jsxs(cZ,{className:"PromoOverlay",children:[b.jsxs(uZ,{children:[b.jsx(dZ,{className:Ot(!pe&&hZ),children:b.jsx(pZ,{style:{transform:"scale(1.5)"},children:"Ad"})}),b.jsxs(z4e,{children:[b.jsx(D4e,{time:m,adCount:v,adPosition:g}),!!E&&A&&b.jsx(Up,{timerClassName:"SkipTimerCount",className:"ClosePromoIcon",close:()=>{p()},duration:E,isPlaying:!R,skipIcon:!0}),s&&b.jsx(Up,{className:"ClosePromoIcon",close:()=>{I(),e==null||e()}})]})]}),b.jsx(fZ,{className:Ot(QN,A&&qN,!A&&e7),children:b.jsxs(K4e,{ref:u,children:[G&&b.jsx(Z4e,{whyThisAd:G}),b.jsxs(P4e,{style:(G==null?void 0:G.xPosition)==="right"?{left:"8px"}:{right:"8px"},children:[F&&b.jsx(X4e,{className:Ot(!L&&"muted"),onClick:()=>h()}),R&&!B&&b.jsx($4e,{onClick:()=>f()})]})]})}),Z&&b.jsx(mZ,{className:Ot(QN,A&&qN,!A&&e7),children:b.jsx(gZ,{as:"button",onClick:j,style:{backgroundColor:((o=(a=t.banner)==null?void 0:a.ctaButton)==null?void 0:o.color)||"#009dc4",color:((c=(l=t.banner)==null?void 0:l.ctaButton)==null?void 0:c.textColor)||"#fff"},"data-a":"button","data-promo-id":i,"data-promo-type":t.type,target:"_blank",children:"Show more"})})]})},YV=t=>{var e,i,n,s,r,a,o,l,c,u,d,h,f,p,m,v,g,E,A,R,I,L,F,B,G,Z,j,pe,J,me;const{promotion:de,open:ye,advertisementPaused:Le,togglePause:ge,controlVideo:H,skipAutoClose:ee,promotionId:we,onClose:M,markAsViewed:Q,externalAd:se,isEventFired:ne,fireEvent:Ie,muted:ke}=t,De=de.type===at.INGAME_IAB11_LBAR||de.type===at.INGAME_IAB11||de.type===at.INGAME_IAB11_SIDEBAR,$e=((e=de.sponsor)==null?void 0:e.logo)&&de.logoMode===xf.CENTER,Je=!!((n=(i=de.banner)==null?void 0:i.video)!=null&&n.url),ce=de.autoPlayVideo===Kg.ENABLED,$=de.playVideoMuted===nG.ENABLED;if(x.useEffect(()=>{ge==null||ge(Je||ce),ye==null||ye()},[]),x.useEffect(()=>{we&&de.type&&Q&&Q()},[we,de.type,Q]),x.useEffect(()=>()=>{H==null||H({muted:!1})},[H]),se)return b.jsx(zNe,{...t,externalAd:se});let te=(s=de.banner)==null?void 0:s.url;te&&te.indexOf("http")!==0&&(te=`https://${te}`);let ue=!0;return Je&&(!Le||!ce?ue=!0:ue=!1),b.jsxs(cZ,{className:"PromoOverlay",children:[b.jsxs("div",{children:[b.jsxs(uZ,{children:[b.jsxs(dZ,{className:Ot(!$e&&hZ),children:[((r=de.sponsor)==null?void 0:r.logo)&&de.logoMode===xf.LEFT&&b.jsx(JN,{className:"PromoSponsorLogo",src:(a=de.sponsor)==null?void 0:a.logo,alt:"promo"}),b.jsxs(L4e,{style:{paddingLeft:(o=de.sponsor)!=null&&o.logo&&de.logoMode===xf.LEFT?"0px":"8px"},children:[((l=de.sponsor)==null?void 0:l.logo)&&de.logoMode===xf.LEFT&&b.jsx(_4e,{children:(c=de.sponsor)==null?void 0:c.name}),b.jsxs(k4e,{className:"SponsorText",children:[b.jsx(pZ,{children:"AD"}),b.jsx(F4e,{children:"SPONSORED"})]})]})]}),b.jsx(Up,{className:"ClosePromoIcon",close:M,autoClose:(u=de.closeTimer)==null?void 0:u.auto,duration:ee?0:(d=de.closeTimer)==null?void 0:d.seconds,isPlaying:ue})]}),b.jsxs(fZ,{children:[$e&&b.jsx(JN,{className:N4e,src:(h=de.sponsor)==null?void 0:h.logo,alt:"promo"}),b.jsx(jN,{children:(p=(f=de.banner)==null?void 0:f.video)!=null&&p.url?b.jsx(Eh,{source:(v=(m=de.banner)==null?void 0:m.video)==null?void 0:v.url,poster:(E=(g=de.banner)==null?void 0:g.video)==null?void 0:E.thumbnailUrl,aspectRatio:De?"1/1":"2/1",onRender:()=>{ne!=null&&ne("video-rendered")||(di.emit("advertisement",{action:"videoRendered",payload:{id:we,type:de.type}}),Ie==null||Ie("video-rendered"))},onQuartile:be=>{ne!=null&&ne(`video-quartile-${be}`)||(di.emit("advertisement",{action:"quartileCompleted",payload:{id:we,type:de.type,quartile:be}}),Ie==null||Ie(`video-quartile-${be}`))},onMute:be=>{const xe=be?"muted":"unmuted";ne!=null&&ne(xe)||(di.emit("advertisement",{action:be?"videoMuted":"videoUnmuted",payload:{id:we,type:de.type}}),Ie==null||Ie(xe))},onPause:()=>{ce&&(ge==null||ge(!0))},onReplay:()=>{ne!=null&&ne("replayed")||(di.emit("advertisement",{action:"videoReplayed",payload:{id:we,type:de.type}}),Ie==null||Ie("replayed"))},onPlay:()=>{ne!=null&&ne("played")||(di.emit("advertisement",{action:"videoPlay",payload:{id:we,type:de.type}}),Ie==null||Ie("played")),ge==null||ge(!1),ne!=null&&ne("played")&&ne!=null&&ne("ended")&&!(ne!=null&&ne("replayed"))&&(di.emit("advertisement",{action:"videoReplayed",payload:{id:we,type:de.type}}),Ie==null||Ie("replayed"))},onEnd:()=>{ne!=null&&ne("ended")||(di.emit("advertisement",{action:"videoEnd",payload:{id:we,type:de.type}}),Ie==null||Ie("ended"))},controlVideo:H,autoPlay:ce,playMuted:$,muted:ke}):(A=de.banner)!=null&&A.imageUrl?b.jsx(x4e,{style:De?{aspectRatio:"1/1"}:{},src:(R=de.banner)==null?void 0:R.imageUrl,alt:"promo"}):null}),!De&&b.jsxs(jN,{children:[((I=de.banner)==null?void 0:I.title)&&b.jsx(U4e,{className:Ot("AdvTitle",$e&&B4e),children:(L=de.banner)==null?void 0:L.title}),((F=de.banner)==null?void 0:F.body)&&b.jsx(V4e,{className:"AdvDescription",children:(B=de.banner)==null?void 0:B.body})]})]})]}),de.buttonType===vee.BASIC&&b.jsx(mZ,{children:b.jsx(gZ,{href:te,style:{backgroundColor:((Z=(G=de.banner)==null?void 0:G.ctaButton)==null?void 0:Z.color)||"#009dc4",color:((pe=(j=de.banner)==null?void 0:j.ctaButton)==null?void 0:pe.textColor)||"#fff"},"data-a":"button","data-promo-id":we,"data-promo-type":de.type,target:"_blank",children:(me=(J=de.banner)==null?void 0:J.ctaButton)==null?void 0:me.label})})]})},JNe=V("div")({name:"SidebarContainer",class:"s1abskp8",propsAsIs:!1}),jNe=({children:t,direction:e,style:i,className:n,hiding:s})=>b.jsx(zR,{direction:e,style:i,hiding:s,className:n,children:b.jsx(JNe,{children:t})}),$V=t=>(t==null?void 0:t.type)===at.INGAME_IAB11_LBAR||(t==null?void 0:t.type)===at.INGAME_IAB21_LBAR,HNe=t=>(t==null?void 0:t.type)===at.INGAME_IAB11_SIDEBAR||(t==null?void 0:t.type)===at.INGAME_IAB21_SIDEBAR,QNe=t=>(t==null?void 0:t.type)===at.INGAME_IAB11||(t==null?void 0:t.type)===at.INGAME_IAB21,qNe=({advertisement:t,close:e,skipTypeCheck:i,skipAutoClose:n,layoutMode:s="side-by-side",sidebar:r,isNotification:a,banner:o,markAsViewed:l,open:c,externalAd:u,controlVideo:d,advertisementPaused:h,togglePause:f,isEventFired:p,fireEvent:m,muted:v})=>t.promotion?a&&t.notification?b.jsx(I4e,{open:()=>c==null?void 0:c({fromNotification:!0}),notification:t.notification,promotionId:t.question.id,close:e}):!r&&!o&&(i||QNe(t.promotion))?b.jsx(w4e,{className:"PromoOverlayContainer",children:b.jsx(YV,{markAsViewed:l,promotionId:t.question.id,promotion:t.promotion,onClose:e,open:c,skipAutoClose:n,externalAd:u,controlVideo:d,advertisementPaused:h,togglePause:f,isEventFired:p,fireEvent:m,muted:v})}):r&&(i||$V(t.promotion)||HNe(t.promotion)||u)?b.jsx(jNe,{className:"PromoSidebarContainer",direction:r,hiding:!1,children:b.jsx(YV,{markAsViewed:l,promotionId:t.question.id,promotion:t.promotion,externalAd:u,onClose:e,open:c,controlVideo:d,skipAutoClose:n,advertisementPaused:h,togglePause:f,isEventFired:p,fireEvent:m,muted:v})}):o&&$V(t.promotion)?b.jsx(sZ,{promotionId:t.question.id,hiding:!1,promotion:t.promotion,direction:o,isEventFired:p,fireEvent:m}):null:null,KV=V("div")({name:"AdvertisementUIWrap",class:"aa6pjif",propsAsIs:!1}),e7e=t=>{const e=t.target;if(e instanceof HTMLAnchorElement&&e.target==="_blank"){const i=e.getAttribute("data-promo-id")||"",n=e.getAttribute("data-promo-type")||at.UNSET;e.getAttribute("data-a")==="button"&&di.emit("advertisement",{action:"buttonSelect",payload:{id:i,type:n}}),e.getAttribute("data-a")==="banner"&&di.emit("advertisement",{action:"bannerSelect",payload:{id:i,type:n}})}},t7e=({gamification:t,advertisement:e,layoutMode:i,skipAutoClose:n,skipTypeCheck:s,sidebar:r,banner:a,notification:o,isMobileScreen:l,persistent:c,containerId:u,externalAd:d,controlVideo:h,muted:f})=>{var p,m,v,g,E,A,R,I,L,F,B,G,Z,j,pe,J,me,de,ye,Le,ge;const H=x.useRef(null),ee=dt(e.$store),we=dt(t.openedQuestion.$store);xM(H,{enabled:!!ee.data,event:"click",listener:e7e});const M=((v=(m=(p=ee.data)==null?void 0:p.question)==null?void 0:m.backgroundImage)==null?void 0:v.landscapeUrl)||((E=(g=ee.data)==null?void 0:g.promotion)==null?void 0:E.backgroundImageLandscapeUrl),Q=((I=(R=(A=ee.data)==null?void 0:A.question)==null?void 0:R.backgroundImage)==null?void 0:I.portraitUrl)||((F=(L=ee.data)==null?void 0:L.promotion)==null?void 0:F.backgroundImagePortraitUrl),se=pM({containerId:u,landscapeUrl:M,portraitUrl:Q});if(((B=we==null?void 0:we.attributes)==null?void 0:B.adUnit)===fn.STANDART&&(j=(Z=(G=we==null?void 0:we.attributes)==null?void 0:G.adPromotion)==null?void 0:Z.banner)!=null&&j.imageUrl)return a?b.jsx(KV,{ref:H,style:{height:"100%"},className:Ot("SL-AdvertisementUIWrap",l&&"mobile-view"),children:b.jsx(BRe,{cardId:we.id,promotion:{...(pe=we==null?void 0:we.attributes)==null?void 0:pe.adPromotion,adUnit:(J=we==null?void 0:we.attributes)==null?void 0:J.adUnit}})}):null;const ne=!a&&!r;if(ee.data===void 0||!c&&ee.isViewed)return null;const Ie=((ye=(de=(me=ee==null?void 0:ee.data)==null?void 0:me.notification)==null?void 0:de.promotion)==null?void 0:ye.mode)===tG.LOWER_THIRD;return b.jsxs(KV,{ref:H,style:{height:ne?"auto":"100%"},className:Ot("SL-AdvertisementUIWrap",l&&"mobile-view",Ie&&"SL-AdvertisementUIWrap--lower-third"),children:[!o&&se,b.jsx(qNe,{skipTypeCheck:s,sidebar:r,banner:a,advertisement:ee.data,advertisementPaused:!!ee.isPaused,togglePause:ee.togglePause,isEventFired:ee.isEventFired,fireEvent:ee.fireEvent,close:ee.close,externalAd:d?ee.externalAd:void 0,markAsViewed:(Le=t.advertisement)==null?void 0:Le.markAsViewed,open:(ge=t.advertisement)==null?void 0:ge.open,layoutMode:i,isNotification:o,skipAutoClose:n,controlVideo:h,muted:f})]})},i7e=({sdk:t,sidebar:e,externalAd:i,banner:n,skipAutoClose:s,skipTypeCheck:r,layoutMode:a,isMobileScreen:o,persistent:l,notification:c,muted:u})=>{const d=dt(t.featuresList.getStore()),[h,f]=x.useState(!i),p=dt(t.options);if(x.useEffect(()=>{if(i){const v=document.createElement("script");v.async=!0,v.src="https://imasdk.googleapis.com/pal/sdkloader/pal.js",document.body.appendChild(v),v.onload=()=>{f(!0)}}},[i]),e&&n)return b.jsx("div",{style:{color:"red"},children:"define either sidebar or banner, not both."});if(n&&i)return b.jsx("div",{style:{color:"red"},children:"externalAd is not supported with banner"});if(!d)return null;const m=t.getFeature(ot.GAMES);return!(m!=null&&m.advertisement)||i&&!h?null:b.jsx(t7e,{gamification:m,advertisement:m.advertisement,sidebar:e,banner:n,layoutMode:a,isMobileScreen:o,persistent:l,notification:c,skipTypeCheck:r,skipAutoClose:s,externalAd:i,controlVideo:t.controlVideoPlayer,containerId:p.containerId,muted:u})},uu=({event:t,sidebar:e,banner:i,isMobileScreen:n,skipAutoClose:s,persistent:r,theme:a,notification:o,skipTypeCheck:l,externalAd:c,muted:u=!1})=>{const d=So(),h=Th(),f=Mc();return d?c&&!h.promotionExternalAd?t!==void 0&&b.jsx(Mo,{event:t}):!c&&h.promotionExternalAd?t!==void 0&&b.jsx(Mo,{event:t}):e&&!h.promotionSidebar?t!==void 0&&b.jsx(Mo,{event:t}):i&&!h.promotionBanner?t!==void 0&&b.jsx(Mo,{event:t}):o&&!h.promotionNotification?t!==void 0&&b.jsx(Mo,{event:t}):!i&&!e&&!o&&!h.promotionOverlay&&!l?t!==void 0&&b.jsx(Mo,{event:t}):b.jsxs("div",{className:"StreamLayerSDK",children:[b.jsx(Zc,{customTheme:a??f.theme,themeMode:f.themeMode,children:b.jsx(i7e,{sdk:d,sidebar:e,banner:i,isMobileScreen:n,persistent:r,notification:o,skipTypeCheck:l,skipAutoClose:s,layoutMode:"side-by-side",externalAd:c,muted:u})}),t!==void 0&&b.jsx(Mo,{event:t})]}):null};var zV;function Jt(t){var e=t.width,i=t.height;if(e<0)throw new Error("Negative width is not allowed for Size");if(i<0)throw new Error("Negative height is not allowed for Size");return{width:e,height:i}}function mc(t,e){return t.width===e.width&&t.height===e.height}var n7e=function(){function t(e){var i=this;this._resolutionListener=function(){return i._onResolutionChanged()},this._resolutionMediaQueryList=null,this._observers=[],this._window=e,this._installResolutionListener()}return t.prototype.dispose=function(){this._uninstallResolutionListener(),this._window=null},Object.defineProperty(t.prototype,"value",{get:function(){return this._window.devicePixelRatio},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(e){var i=this,n={next:e};return this._observers.push(n),{unsubscribe:function(){i._observers=i._observers.filter(function(s){return s!==n})}}},t.prototype._installResolutionListener=function(){if(this._resolutionMediaQueryList!==null)throw new Error("Resolution listener is already installed");var e=this._window.devicePixelRatio;this._resolutionMediaQueryList=this._window.matchMedia("all and (resolution: ".concat(e,"dppx)")),this._resolutionMediaQueryList.addListener(this._resolutionListener)},t.prototype._uninstallResolutionListener=function(){this._resolutionMediaQueryList!==null&&(this._resolutionMediaQueryList.removeListener(this._resolutionListener),this._resolutionMediaQueryList=null)},t.prototype._reinstallResolutionListener=function(){this._uninstallResolutionListener(),this._installResolutionListener()},t.prototype._onResolutionChanged=function(){var e=this;this._observers.forEach(function(i){return i.next(e._window.devicePixelRatio)}),this._reinstallResolutionListener()},t}();function s7e(t){return new n7e(t)}var r7e=function(){function t(e,i,n){var s;this._canvasElement=null,this._bitmapSizeChangedListeners=[],this._suggestedBitmapSize=null,this._suggestedBitmapSizeChangedListeners=[],this._devicePixelRatioObservable=null,this._canvasElementResizeObserver=null,this._canvasElement=e,this._canvasElementClientSize=Jt({width:this._canvasElement.clientWidth,height:this._canvasElement.clientHeight}),this._transformBitmapSize=i??function(r){return r},this._allowResizeObserver=(s=n==null?void 0:n.allowResizeObserver)!==null&&s!==void 0?s:!0,this._chooseAndInitObserver()}return t.prototype.dispose=function(){var e,i;if(this._canvasElement===null)throw new Error("Object is disposed");(e=this._canvasElementResizeObserver)===null||e===void 0||e.disconnect(),this._canvasElementResizeObserver=null,(i=this._devicePixelRatioObservable)===null||i===void 0||i.dispose(),this._devicePixelRatioObservable=null,this._suggestedBitmapSizeChangedListeners.length=0,this._bitmapSizeChangedListeners.length=0,this._canvasElement=null},Object.defineProperty(t.prototype,"canvasElement",{get:function(){if(this._canvasElement===null)throw new Error("Object is disposed");return this._canvasElement},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canvasElementClientSize",{get:function(){return this._canvasElementClientSize},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bitmapSize",{get:function(){return Jt({width:this.canvasElement.width,height:this.canvasElement.height})},enumerable:!1,configurable:!0}),t.prototype.resizeCanvasElement=function(e){this._canvasElementClientSize=Jt(e),this.canvasElement.style.width="".concat(this._canvasElementClientSize.width,"px"),this.canvasElement.style.height="".concat(this._canvasElementClientSize.height,"px"),this._invalidateBitmapSize()},t.prototype.subscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeBitmapSizeChanged=function(e){this._bitmapSizeChangedListeners=this._bitmapSizeChangedListeners.filter(function(i){return i!==e})},Object.defineProperty(t.prototype,"suggestedBitmapSize",{get:function(){return this._suggestedBitmapSize},enumerable:!1,configurable:!0}),t.prototype.subscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners.push(e)},t.prototype.unsubscribeSuggestedBitmapSizeChanged=function(e){this._suggestedBitmapSizeChangedListeners=this._suggestedBitmapSizeChangedListeners.filter(function(i){return i!==e})},t.prototype.applySuggestedBitmapSize=function(){if(this._suggestedBitmapSize!==null){var e=this._suggestedBitmapSize;this._suggestedBitmapSize=null,this._resizeBitmap(e),this._emitSuggestedBitmapSizeChanged(e,this._suggestedBitmapSize)}},t.prototype._resizeBitmap=function(e){var i=this.bitmapSize;mc(i,e)||(this.canvasElement.width=e.width,this.canvasElement.height=e.height,this._emitBitmapSizeChanged(i,e))},t.prototype._emitBitmapSizeChanged=function(e,i){var n=this;this._bitmapSizeChangedListeners.forEach(function(s){return s.call(n,e,i)})},t.prototype._suggestNewBitmapSize=function(e){var i=this._suggestedBitmapSize,n=Jt(this._transformBitmapSize(e,this._canvasElementClientSize)),s=mc(this.bitmapSize,n)?null:n;i===null&&s===null||i!==null&&s!==null&&mc(i,s)||(this._suggestedBitmapSize=s,this._emitSuggestedBitmapSizeChanged(i,s))},t.prototype._emitSuggestedBitmapSizeChanged=function(e,i){var n=this;this._suggestedBitmapSizeChangedListeners.forEach(function(s){return s.call(n,e,i)})},t.prototype._chooseAndInitObserver=function(){var e=this;if(!this._allowResizeObserver){this._initDevicePixelRatioObservable();return}o7e().then(function(i){return i?e._initResizeObserver():e._initDevicePixelRatioObservable()})},t.prototype._initDevicePixelRatioObservable=function(){var e=this;if(this._canvasElement!==null){var i=JV(this._canvasElement);if(i===null)throw new Error("No window is associated with the canvas");this._devicePixelRatioObservable=s7e(i),this._devicePixelRatioObservable.subscribe(function(){return e._invalidateBitmapSize()}),this._invalidateBitmapSize()}},t.prototype._invalidateBitmapSize=function(){var e,i;if(this._canvasElement!==null){var n=JV(this._canvasElement);if(n!==null){var s=(i=(e=this._devicePixelRatioObservable)===null||e===void 0?void 0:e.value)!==null&&i!==void 0?i:n.devicePixelRatio,r=this._canvasElement.getClientRects(),a=r[0]!==void 0?l7e(r[0],s):Jt({width:this._canvasElementClientSize.width*s,height:this._canvasElementClientSize.height*s});this._suggestNewBitmapSize(a)}}},t.prototype._initResizeObserver=function(){var e=this;this._canvasElement!==null&&(this._canvasElementResizeObserver=new ResizeObserver(function(i){var n=i.find(function(a){return a.target===e._canvasElement});if(!(!n||!n.devicePixelContentBoxSize||!n.devicePixelContentBoxSize[0])){var s=n.devicePixelContentBoxSize[0],r=Jt({width:s.inlineSize,height:s.blockSize});e._suggestNewBitmapSize(r)}}),this._canvasElementResizeObserver.observe(this._canvasElement,{box:"device-pixel-content-box"}))},t}();function a7e(t,e){return new r7e(t,e.transform,e.options)}function JV(t){return t.ownerDocument.defaultView}function o7e(){return new Promise(function(t){var e=new ResizeObserver(function(i){t(i.every(function(n){return"devicePixelContentBoxSize"in n})),e.disconnect()});e.observe(document.body,{box:"device-pixel-content-box"})}).catch(function(){return!1})}function l7e(t,e){return Jt({width:Math.round(t.left*e+t.width*e)-Math.round(t.left*e),height:Math.round(t.top*e+t.height*e)-Math.round(t.top*e)})}var c7e=function(){function t(e,i,n){if(i.width===0||i.height===0)throw new TypeError("Rendering target could only be created on a media with positive width and height");if(this._mediaSize=i,n.width===0||n.height===0)throw new TypeError("Rendering target could only be created using a bitmap with positive integer width and height");this._bitmapSize=n,this._context=e}return t.prototype.useMediaCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),this._context.scale(this._horizontalPixelRatio,this._verticalPixelRatio),e({context:this._context,mediaSize:this._mediaSize})}finally{this._context.restore()}},t.prototype.useBitmapCoordinateSpace=function(e){try{return this._context.save(),this._context.setTransform(1,0,0,1,0,0),e({context:this._context,mediaSize:this._mediaSize,bitmapSize:this._bitmapSize,horizontalPixelRatio:this._horizontalPixelRatio,verticalPixelRatio:this._verticalPixelRatio})}finally{this._context.restore()}},Object.defineProperty(t.prototype,"_horizontalPixelRatio",{get:function(){return this._bitmapSize.width/this._mediaSize.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_verticalPixelRatio",{get:function(){return this._bitmapSize.height/this._mediaSize.height},enumerable:!1,configurable:!0}),t}();function xc(t,e){var i=t.canvasElementClientSize;if(i.width===0||i.height===0)return null;var n=t.bitmapSize;if(n.width===0||n.height===0)return null;var s=t.canvasElement.getContext("2d",e);return s===null?null:new c7e(s,i,n)}/*!
 * @license
 * TradingView Lightweight Charts v5.1.0
 * Copyright (c) 2025 TradingView, Inc.
 * Licensed under Apache License 2.0 https://www.apache.org/licenses/LICENSE-2.0
 */const jX={title:"",visible:!0,lastValueVisible:!0,priceLineVisible:!0,priceLineSource:0,priceLineWidth:1,priceLineColor:"",priceLineStyle:2,baseLineVisible:!0,baseLineWidth:1,baseLineColor:"#B2B5BE",baseLineStyle:0,priceFormat:{type:"price",precision:2,minMove:.01}};var jV,HS;function Nc(t,e){const i={0:[],1:[t.lineWidth,t.lineWidth],2:[2*t.lineWidth,2*t.lineWidth],3:[6*t.lineWidth,6*t.lineWidth],4:[t.lineWidth,4*t.lineWidth]}[e];t.setLineDash(i)}function HX(t,e,i,n){t.beginPath();const s=t.lineWidth%2?.5:0;t.moveTo(i,e+s),t.lineTo(n,e+s),t.stroke()}function gn(t,e){if(!t)throw new Error("Assertion failed"+(e?": "+e:""))}function ls(t){if(t===void 0)throw new Error("Value is undefined");return t}function Be(t){if(t===null)throw new Error("Value is null");return t}function qo(t){return Be(ls(t))}(function(t){t[t.Simple=0]="Simple",t[t.WithSteps=1]="WithSteps",t[t.Curved=2]="Curved"})(jV||(jV={})),function(t){t[t.Solid=0]="Solid",t[t.Dotted=1]="Dotted",t[t.Dashed=2]="Dashed",t[t.LargeDashed=3]="LargeDashed",t[t.SparseDotted=4]="SparseDotted"}(HS||(HS={}));let ki=class{constructor(){this.t=[]}i(e,i,n){const s={h:e,l:i,o:n===!0};this.t.push(s)}_(e){const i=this.t.findIndex(n=>e===n.h);i>-1&&this.t.splice(i,1)}u(e){this.t=this.t.filter(i=>i.l!==e)}p(e,i,n){const s=[...this.t];this.t=this.t.filter(r=>!r.o),s.forEach(r=>r.h(e,i,n))}v(){return this.t.length>0}m(){this.t=[]}};function Cs(t,...e){for(const i of e)for(const n in i)i[n]!==void 0&&Object.prototype.hasOwnProperty.call(i,n)&&!["__proto__","constructor","prototype"].includes(n)&&(typeof i[n]!="object"||t[n]===void 0||Array.isArray(i[n])?t[n]=i[n]:Cs(t[n],i[n]));return t}function Jd(t){return typeof t=="number"&&isFinite(t)}function Yp(t){return typeof t=="number"&&t%1==0}function F0(t){return typeof t=="string"}function Hm(t){return typeof t=="boolean"}function eo(t){const e=t;if(!e||typeof e!="object")return e;let i,n,s;for(n in i=Array.isArray(e)?[]:{},e)e.hasOwnProperty(n)&&(s=e[n],i[n]=s&&typeof s=="object"?eo(s):s);return i}function HV(t){return t!==null}function QS(t){return t===null?void 0:t}const QX="-apple-system, BlinkMacSystemFont, 'Trebuchet MS', Roboto, Ubuntu, sans-serif";function M2(t,e,i){return e===void 0&&(e=QX),`${i=i!==void 0?`${i} `:""}${t}px ${e}`}class u7e{constructor(e){this.M={S:1,C:5,k:NaN,P:"",T:"",R:"",D:"",I:0,V:0,B:0,A:0,L:0},this.O=e}N(){const e=this.M,i=this.F(),n=this.W();return e.k===i&&e.T===n||(e.k=i,e.T=n,e.P=M2(i,n),e.A=2.5/12*i,e.I=e.A,e.V=i/12*e.C,e.B=i/12*e.C,e.L=0),e.R=this.H(),e.D=this.U(),this.M}H(){return this.O.N().layout.textColor}U(){return this.O.$()}F(){return this.O.N().layout.fontSize}W(){return this.O.N().layout.fontFamily}}function ME(t){return t<0?0:t>255?255:Math.round(t)||0}function QV(t){return .199*t[0]+.687*t[1]+.114*t[2]}class d7e{constructor(e,i){this.q=new Map,this.j=e,i&&(this.q=i)}Y(e,i){if(e==="transparent")return e;const n=this.K(e),s=n[3];return`rgba(${n[0]}, ${n[1]}, ${n[2]}, ${i*s})`}Z(e){const i=this.K(e);return{G:`rgb(${i[0]}, ${i[1]}, ${i[2]})`,X:QV(i)>160?"black":"white"}}J(e){return QV(this.K(e))}tt(e,i,n){const[s,r,a,o]=this.K(e),[l,c,u,d]=this.K(i),h=[ME(s+n*(l-s)),ME(r+n*(c-r)),ME(a+n*(u-a)),(f=o+n*(d-o),f<=0||f>1?Math.min(Math.max(f,0),1):Math.round(1e4*f)/1e4)];var f;return`rgba(${h[0]}, ${h[1]}, ${h[2]}, ${h[3]})`}K(e){const i=this.q.get(e);if(i)return i;const n=function(a){const o=document.createElement("div");o.style.display="none",document.body.appendChild(o),o.style.color=a;const l=window.getComputedStyle(o).color;return document.body.removeChild(o),l}(e),s=n.match(/^rgba?\s*\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d+))?\)$/);if(!s){if(this.j.length)for(const a of this.j){const o=a(e);if(o)return this.q.set(e,o),o}throw new Error(`Failed to parse color: ${e}`)}const r=[parseInt(s[1],10),parseInt(s[2],10),parseInt(s[3],10),s[4]?parseFloat(s[4]):1];return this.q.set(e,r),r}}class h7e{constructor(){this.it=[]}st(e){this.it=e}nt(e,i,n){this.it.forEach(s=>{s.nt(e,i,n)})}}class Lh{nt(e,i,n){e.useBitmapCoordinateSpace(s=>this.et(s,i,n))}}let f7e=class extends Lh{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et({context:e,horizontalPixelRatio:i,verticalPixelRatio:n}){if(this.rt===null||this.rt.lt===null)return;const s=this.rt.lt,r=this.rt,a=Math.max(1,Math.floor(i))%2/2,o=l=>{e.beginPath();for(let c=s.to-1;c>=s.from;--c){const u=r.ot[c],d=Math.round(u._t*i)+a,h=u.ut*n,f=l*n+a;e.moveTo(d,h),e.arc(d,h,f,0,2*Math.PI)}e.fill()};r.ct>0&&(e.fillStyle=r.dt,o(r.ft+r.ct)),e.fillStyle=r.vt,o(r.ft)}};function p7e(){return{ot:[{_t:0,ut:0,wt:0,gt:0}],vt:"",dt:"",ft:0,ct:0,lt:null}}const m7e={from:0,to:1};let g7e=class{constructor(e,i,n){this.Mt=new h7e,this.bt=[],this.St=[],this.xt=!0,this.O=e,this.Ct=i,this.yt=n,this.Mt.st(this.bt)}kt(e){this.Pt(),this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Mt}Pt(){const e=this.yt.Dt();e.length!==this.bt.length&&(this.St=e.map(p7e),this.bt=this.St.map(i=>{const n=new f7e;return n.ht(i),n}),this.Mt.st(this.bt))}Rt(){const e=this.Ct.N().mode===2||!this.Ct.It(),i=this.yt.Vt(),n=this.Ct.Bt(),s=this.O.Et();this.Pt(),i.forEach((r,a)=>{const o=this.St[a],l=r.At(n),c=r.Lt();!e&&l!==null&&r.It()&&c!==null?(o.vt=l.zt,o.ft=l.ft,o.ct=l.Ot,o.ot[0].gt=l.gt,o.ot[0].ut=r.Ft().Nt(l.gt,c.Wt),o.dt=l.Ht??this.O.Ut(o.ot[0].ut/r.Ft().$t()),o.ot[0].wt=n,o.ot[0]._t=s.qt(n),o.lt=m7e):o.lt=null})}};class y7e extends Lh{constructor(e){super(),this.jt=e}et({context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.jt===null)return;const r=this.jt.Yt.It,a=this.jt.Kt.It;if(!r&&!a)return;const o=Math.round(this.jt._t*n),l=Math.round(this.jt.ut*s);e.lineCap="butt",r&&o>=0&&(e.lineWidth=Math.floor(this.jt.Yt.ct*n),e.strokeStyle=this.jt.Yt.R,e.fillStyle=this.jt.Yt.R,Nc(e,this.jt.Yt.Zt),function(c,u,d,h){c.beginPath();const f=c.lineWidth%2?.5:0;c.moveTo(u+f,d),c.lineTo(u+f,h),c.stroke()}(e,o,0,i.height)),a&&l>=0&&(e.lineWidth=Math.floor(this.jt.Kt.ct*s),e.strokeStyle=this.jt.Kt.R,e.fillStyle=this.jt.Kt.R,Nc(e,this.jt.Kt.Zt),HX(e,l,0,i.width))}}let b7e=class{constructor(e,i){this.xt=!0,this.Gt={Yt:{ct:1,Zt:0,R:"",It:!1},Kt:{ct:1,Zt:0,R:"",It:!1},_t:0,ut:0},this.Xt=new y7e(this.Gt),this.Jt=e,this.yt=i}kt(){this.xt=!0}Tt(e){return this.xt&&(this.Rt(),this.xt=!1),this.Xt}Rt(){const e=this.Jt.It(),i=this.yt.Qt().N().crosshair,n=this.Gt;if(i.mode===2)return n.Kt.It=!1,void(n.Yt.It=!1);n.Kt.It=e&&this.Jt.ti(this.yt),n.Yt.It=e&&this.Jt.ii(),n.Kt.ct=i.horzLine.width,n.Kt.Zt=i.horzLine.style,n.Kt.R=i.horzLine.color,n.Yt.ct=i.vertLine.width,n.Yt.Zt=i.vertLine.style,n.Yt.R=i.vertLine.color,n._t=this.Jt.si(),n.ut=this.Jt.ni()}};function Ab(t,e,i,n,s,r){t.save(),t.globalCompositeOperation="copy",t.fillStyle=r,t.fillRect(e,i,n,s),t.restore()}function qV(t,e,i,n,s,r){t.beginPath(),t.roundRect?t.roundRect(e,i,n,s,r):(t.lineTo(e+n-r[1],i),r[1]!==0&&t.arcTo(e+n,i,e+n,i+r[1],r[1]),t.lineTo(e+n,i+s-r[2]),r[2]!==0&&t.arcTo(e+n,i+s,e+n-r[2],i+s,r[2]),t.lineTo(e+r[3],i+s),r[3]!==0&&t.arcTo(e,i+s,e,i+s-r[3],r[3]),t.lineTo(e,i+r[0]),r[0]!==0&&t.arcTo(e,i,e+r[0],i,r[0]))}function eL(t,e,i,n,s,r,a=0,o=[0,0,0,0],l=""){if(t.save(),!a||!l||l===r)return qV(t,e,i,n,s,o),t.fillStyle=r,t.fill(),void t.restore();const c=a/2;var u;qV(t,e+c,i+c,n-a,s-a,(u=-c,o.map(d=>d===0?d:d+u))),r!=="transparent"&&(t.fillStyle=r,t.fill()),l!=="transparent"&&(t.lineWidth=a,t.strokeStyle=l,t.closePath(),t.stroke()),t.restore()}function qX(t,e,i,n,s,r,a){t.save(),t.globalCompositeOperation="copy";const o=t.createLinearGradient(0,0,0,s);o.addColorStop(0,r),o.addColorStop(1,a),t.fillStyle=o,t.fillRect(e,i,n,s),t.restore()}let tL=class{constructor(e,i){this.ht(e,i)}ht(e,i){this.jt=e,this.ei=i}$t(e,i){return this.jt.It?e.k+e.A+e.I:0}nt(e,i,n,s){if(!this.jt.It||this.jt.ri.length===0)return;const r=this.jt.R,a=this.ei.G,o=e.useBitmapCoordinateSpace(l=>{const c=l.context;c.font=i.P;const u=this.hi(l,i,n,s),d=u.ai;return u.li?eL(c,d.oi,d._i,d.ui,d.ci,a,d.di,[d.ft,0,0,d.ft],a):eL(c,d.fi,d._i,d.ui,d.ci,a,d.di,[0,d.ft,d.ft,0],a),this.jt.pi&&(c.fillStyle=r,c.fillRect(d.fi,d.mi,d.wi-d.fi,d.gi)),this.jt.Mi&&(c.fillStyle=i.D,c.fillRect(u.li?d.bi-d.di:0,d._i,d.di,d.Si-d._i)),u});e.useMediaCoordinateSpace(({context:l})=>{const c=o.xi;l.font=i.P,l.textAlign=o.li?"right":"left",l.textBaseline="middle",l.fillStyle=r,l.fillText(this.jt.ri,c.Ci,(c._i+c.Si)/2+c.yi)})}hi(e,i,n,s){const{context:r,bitmapSize:a,mediaSize:o,horizontalPixelRatio:l,verticalPixelRatio:c}=e,u=this.jt.pi||!this.jt.ki?i.C:0,d=this.jt.Pi?i.S:0,h=i.A+this.ei.Ti,f=i.I+this.ei.Ri,p=i.V,m=i.B,v=this.jt.ri,g=i.k,E=n.Di(r,v),A=Math.ceil(n.Ii(r,v)),R=g+h+f,I=i.S+p+m+A+u,L=Math.max(1,Math.floor(c));let F=Math.round(R*c);F%2!=L%2&&(F+=1);const B=d>0?Math.max(1,Math.floor(d*l)):0,G=Math.round(I*l),Z=Math.round(u*l),j=this.ei.Vi??this.ei.Bi??this.ei.Ei,pe=Math.round(j*c)-Math.floor(.5*c),J=Math.floor(pe+L/2-F/2),me=J+F,de=s==="right",ye=de?o.width-d:d,Le=de?a.width-B:B;let ge,H,ee;return de?(ge=Le-G,H=Le-Z,ee=ye-u-p-d):(ge=Le+G,H=Le+Z,ee=ye+u+p),{li:de,ai:{_i:J,mi:pe,Si:me,ui:G,ci:F,ft:2*l,di:B,oi:ge,fi:Le,wi:H,gi:L,bi:a.width},xi:{_i:J/c,Si:me/c,Ci:ee,yi:E}}}};class Sb{constructor(e){this.Ai={Ei:0,G:"#000",Ri:0,Ti:0},this.Li={ri:"",It:!1,pi:!0,ki:!1,Ht:"",R:"#FFF",Mi:!1,Pi:!1},this.zi={ri:"",It:!1,pi:!1,ki:!0,Ht:"",R:"#FFF",Mi:!0,Pi:!0},this.xt=!0,this.Oi=new(e||tL)(this.Li,this.Ai),this.Ni=new(e||tL)(this.zi,this.Ai)}ri(){return this.Fi(),this.Li.ri}Ei(){return this.Fi(),this.Ai.Ei}kt(){this.xt=!0}$t(e,i=!1){return Math.max(this.Oi.$t(e,i),this.Ni.$t(e,i))}Wi(){return this.Ai.Vi??null}Hi(){return this.Ai.Vi??this.Ai.Bi??this.Ei()}Ui(e){this.Ai.Bi=e??void 0}$i(){return this.Fi(),this.Li.It||this.zi.It}qi(){return this.Fi(),this.Li.It}Tt(e){return this.Fi(),this.Li.pi=this.Li.pi&&e.N().ticksVisible,this.zi.pi=this.zi.pi&&e.N().ticksVisible,this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Oi}ji(){return this.Fi(),this.Oi.ht(this.Li,this.Ai),this.Ni.ht(this.zi,this.Ai),this.Ni}Fi(){this.xt&&(this.Li.pi=!0,this.zi.pi=!1,this.Yi(this.Li,this.zi,this.Ai))}}class v7e extends Sb{constructor(e,i,n){super(),this.Jt=e,this.Ki=i,this.Zi=n}Yi(e,i,n){if(e.It=!1,this.Jt.N().mode===2)return;const s=this.Jt.N().horzLine;if(!s.labelVisible)return;const r=this.Ki.Lt();if(!this.Jt.It()||this.Ki.Gi()||r===null)return;const a=this.Ki.Xi().Z(s.labelBackgroundColor);n.G=a.G,e.R=a.X;const o=2/12*this.Ki.k();n.Ti=o,n.Ri=o;const l=this.Zi(this.Ki);n.Ei=l.Ei,e.ri=this.Ki.Ji(l.gt,r),e.It=!0}}const E7e=/[1-9]/g;class eY{constructor(){this.jt=null}ht(e){this.jt=e}nt(e,i){if(this.jt===null||this.jt.It===!1||this.jt.ri.length===0)return;const n=e.useMediaCoordinateSpace(({context:h})=>(h.font=i.P,Math.round(i.Qi.Ii(h,Be(this.jt).ri,E7e))));if(n<=0)return;const s=i.ts,r=n+2*s,a=r/2,o=this.jt.ss;let l=this.jt.Ei,c=Math.floor(l-a)+.5;c<0?(l+=Math.abs(0-c),c=Math.floor(l-a)+.5):c+r>o&&(l-=Math.abs(o-(c+r)),c=Math.floor(l-a)+.5);const u=c+r,d=Math.ceil(0+i.S+i.C+i.A+i.k+i.I);e.useBitmapCoordinateSpace(({context:h,horizontalPixelRatio:f,verticalPixelRatio:p})=>{const m=Be(this.jt);h.fillStyle=m.G;const v=Math.round(c*f),g=Math.round(0*p),E=Math.round(u*f),A=Math.round(d*p),R=Math.round(2*f);if(h.beginPath(),h.moveTo(v,g),h.lineTo(v,A-R),h.arcTo(v,A,v+R,A,R),h.lineTo(E-R,A),h.arcTo(E,A,E,A-R,R),h.lineTo(E,g),h.fill(),m.pi){const I=Math.round(m.Ei*f),L=g,F=Math.round((L+i.C)*p);h.fillStyle=m.R;const B=Math.max(1,Math.floor(f)),G=Math.floor(.5*f);h.fillRect(I-G,L,B,F-L)}}),e.useMediaCoordinateSpace(({context:h})=>{const f=Be(this.jt),p=0+i.S+i.C+i.A+i.k/2;h.font=i.P,h.textAlign="left",h.textBaseline="middle",h.fillStyle=f.R;const m=i.Qi.Di(h,"Apr0");h.translate(c+s,p+m),h.fillText(f.ri,0,0)})}}class A7e{constructor(e,i,n){this.xt=!0,this.Xt=new eY,this.Gt={It:!1,G:"#4c525e",R:"white",ri:"",ss:0,Ei:NaN,pi:!0},this.Ct=e,this.ns=i,this.Zi=n}kt(){this.xt=!0}Tt(){return this.xt&&(this.Rt(),this.xt=!1),this.Xt.ht(this.Gt),this.Xt}Rt(){const e=this.Gt;if(e.It=!1,this.Ct.N().mode===2)return;const i=this.Ct.N().vertLine;if(!i.labelVisible)return;const n=this.ns.Et();if(n.Gi())return;e.ss=n.ss();const s=this.Zi();if(s===null)return;e.Ei=s.Ei;const r=n.es(this.Ct.Bt());e.ri=n.rs(Be(r)),e.It=!0;const a=this.ns.Xi().Z(i.labelBackgroundColor);e.G=a.G,e.R=a.X,e.pi=n.N().ticksVisible}}class tY{constructor(){this.hs=null,this.ls=0}_s(){return this.ls}us(e){this.ls=e}Ft(){return this.hs}cs(e){this.hs=e}ds(e){return[]}fs(){return[]}It(){return!0}}var iL;(function(t){t[t.Normal=0]="Normal",t[t.Magnet=1]="Magnet",t[t.Hidden=2]="Hidden",t[t.MagnetOHLC=3]="MagnetOHLC"})(iL||(iL={}));class S7e extends tY{constructor(e,i){super(),this.yt=null,this.ps=NaN,this.vs=0,this.ws=!1,this.gs=new Map,this.Ms=!1,this.bs=new WeakMap,this.Ss=new WeakMap,this.xs=NaN,this.Cs=NaN,this.ys=NaN,this.ks=NaN,this.ns=e,this.Ps=i,this.Ts=((s,r)=>a=>{const o=r(),l=s();if(a===Be(this.yt).Rs())return{gt:l,Ei:o};{const c=Be(a.Lt());return{gt:a.Ds(o,c),Ei:o}}})(()=>this.ps,()=>this.Cs);const n=((s,r)=>()=>{const a=this.ns.Et().Is(s()),o=r();return a&&Number.isFinite(o)?{wt:a,Ei:o}:null})(()=>this.vs,()=>this.si());this.Vs=new A7e(this,e,n)}N(){return this.Ps}Bs(e,i){this.ys=e,this.ks=i}Es(){this.ys=NaN,this.ks=NaN}As(){return this.ys}Ls(){return this.ks}zs(e,i,n){this.Ms||(this.Ms=!0),this.ws=!0,this.Os(e,i,n)}Bt(){return this.vs}si(){return this.xs}ni(){return this.Cs}It(){return this.ws}Ns(){this.ws=!1,this.Fs(),this.ps=NaN,this.xs=NaN,this.Cs=NaN,this.yt=null,this.Es(),this.Ws()}Hs(e){if(!this.Ps.doNotSnapToHiddenSeriesIndices)return e;const i=this.ns,n=i.Et();let s=null,r=null;for(const c of i.Us()){const u=c.qs().$s(e,-1);if(u){if(u.js===e)return e;(s===null||u.js>s)&&(s=u.js)}const d=c.qs().$s(e,1);if(d){if(d.js===e)return e;(r===null||d.js<r)&&(r=d.js)}}const a=[s,r].filter(HV);if(a.length===0)return e;const o=n.qt(e),l=a.map(c=>Math.abs(o-n.qt(c)));return a[l.indexOf(Math.min(...l))]}Ys(e){let i=this.bs.get(e);i||(i=new b7e(this,e),this.bs.set(e,i));let n=this.Ss.get(e);return n||(n=new g7e(this.ns,this,e),this.Ss.set(e,n)),[i,n]}ti(e){return e===this.yt&&this.Ps.horzLine.visible}ii(){return this.Ps.vertLine.visible}Ks(e,i){this.ws&&this.yt===e||this.gs.clear();const n=[];return this.yt===e&&n.push(this.Zs(this.gs,i,this.Ts)),n}fs(){return this.ws?[this.Vs]:[]}Gs(){return this.yt}Ws(){this.ns.Xs().forEach(e=>{var i,n;(i=this.bs.get(e))==null||i.kt(),(n=this.Ss.get(e))==null||n.kt()}),this.gs.forEach(e=>e.kt()),this.Vs.kt()}Js(e){return e&&!e.Rs().Gi()?e.Rs():null}Os(e,i,n){this.Qs(e,i,n)&&this.Ws()}Qs(e,i,n){const s=this.xs,r=this.Cs,a=this.ps,o=this.vs,l=this.yt,c=this.Js(n);this.vs=e,this.xs=isNaN(e)?NaN:this.ns.Et().qt(e),this.yt=n;const u=c!==null?c.Lt():null;return c!==null&&u!==null?(this.ps=i,this.Cs=c.Nt(i,u)):(this.ps=NaN,this.Cs=NaN),s!==this.xs||r!==this.Cs||o!==this.vs||a!==this.ps||l!==this.yt}Fs(){const e=this.ns.tn().map(n=>n.qs().sn()).filter(HV),i=e.length===0?null:Math.max(...e);this.vs=i!==null?i:NaN}Zs(e,i,n){let s=e.get(i);return s===void 0&&(s=new v7e(this,i,n),e.set(i,s)),s}}function Tb(t){return t==="left"||t==="right"}let Jn=class qS{constructor(e){this.nn=new Map,this.en=[],this.rn=e}hn(e,i){const n=function(s,r){return s===void 0?r:{an:Math.max(s.an,r.an),ln:s.ln||r.ln}}(this.nn.get(e),i);this.nn.set(e,n)}_n(){return this.rn}un(e){const i=this.nn.get(e);return i===void 0?{an:this.rn}:{an:Math.max(this.rn,i.an),ln:i.ln}}cn(){this.dn(),this.en=[{fn:0}]}pn(e){this.dn(),this.en=[{fn:1,Wt:e}]}vn(e){this.mn(),this.en.push({fn:5,Wt:e})}dn(){this.mn(),this.en.push({fn:6})}wn(){this.dn(),this.en=[{fn:4}]}gn(e){this.dn(),this.en.push({fn:2,Wt:e})}Mn(e){this.dn(),this.en.push({fn:3,Wt:e})}bn(){return this.en}Sn(e){for(const i of e.en)this.xn(i);this.rn=Math.max(this.rn,e.rn),e.nn.forEach((i,n)=>{this.hn(n,i)})}static Cn(){return new qS(2)}static yn(){return new qS(3)}xn(e){switch(e.fn){case 0:this.cn();break;case 1:this.pn(e.Wt);break;case 2:this.gn(e.Wt);break;case 3:this.Mn(e.Wt);break;case 4:this.wn();break;case 5:this.vn(e.Wt);break;case 6:this.mn()}}mn(){const e=this.en.findIndex(i=>i.fn===5);e!==-1&&this.en.splice(e,1)}},iY=class{formatTickmarks(e){return e.map(i=>this.format(i))}};const nL=".";function to(t,e){if(!Jd(t))return"n/a";if(!Yp(e))throw new TypeError("invalid length");if(e<0||e>16)throw new TypeError("invalid length");return e===0?t.toString():("0000000000000000"+t.toString()).slice(-e)}class Cb extends iY{constructor(e,i){if(super(),i||(i=1),Jd(e)&&Yp(e)||(e=100),e<0)throw new TypeError("invalid base");this.Ki=e,this.kn=i,this.Pn()}format(e){const i=e<0?"":"";return e=Math.abs(e),i+this.Tn(e)}Pn(){if(this.Rn=0,this.Ki>0&&this.kn>0){let e=this.Ki;for(;e>1;)e/=10,this.Rn++}}Tn(e){const i=this.Ki/this.kn;let n=Math.floor(e),s="";const r=this.Rn!==void 0?this.Rn:NaN;if(i>1){let a=+(Math.round(e*i)-n*i).toFixed(this.Rn);a>=i&&(a-=i,n+=1),s=nL+to(+a.toFixed(this.Rn)*this.kn,r)}else n=Math.round(n*i)/i,r>0&&(s=nL+to(0,r));return n.toFixed(0)+s}}class nY extends Cb{constructor(e=100){super(e)}format(e){return`${super.format(e)}%`}}class T7e extends iY{constructor(e){super(),this.Dn=e}format(e){let i="";return e<0&&(i="-",e=-e),e<995?i+this.In(e):e<999995?i+this.In(e/1e3)+"K":e<999999995?(e=1e3*Math.round(e/1e3),i+this.In(e/1e6)+"M"):(e=1e6*Math.round(e/1e6),i+this.In(e/1e9)+"B")}In(e){let i;const n=Math.pow(10,this.Dn);return i=(e=Math.round(e*n)/n)>=1e-15&&e<1?e.toFixed(this.Dn).replace(/\.?0+$/,""):String(e),i.replace(/(\.[1-9]*)0+$/,(s,r)=>r)}}const C7e=/[2-9]/g;class Z2{constructor(e=50){this.Vn=0,this.Bn=1,this.En=1,this.An={},this.Ln=new Map,this.zn=e}On(){this.Vn=0,this.Ln.clear(),this.Bn=1,this.En=1,this.An={}}Ii(e,i,n){return this.Nn(e,i,n).width}Di(e,i,n){const s=this.Nn(e,i,n);return((s.actualBoundingBoxAscent||0)-(s.actualBoundingBoxDescent||0))/2}Nn(e,i,n){const s=n||C7e,r=String(i).replace(s,"0");if(this.Ln.has(r))return ls(this.Ln.get(r)).Fn;if(this.Vn===this.zn){const o=this.An[this.En];delete this.An[this.En],this.Ln.delete(o),this.En++,this.Vn--}e.save(),e.textBaseline="middle";const a=e.measureText(r);return e.restore(),a.width===0&&i.length||(this.Ln.set(r,{Fn:a,Wn:this.Bn}),this.An[this.Bn]=r,this.Vn++,this.Bn++),a}}class R7e{constructor(e){this.Hn=null,this.M=null,this.Un="right",this.$n=e}qn(e,i,n){this.Hn=e,this.M=i,this.Un=n}nt(e){this.M!==null&&this.Hn!==null&&this.Hn.nt(e,this.M,this.$n,this.Un)}}class sY{constructor(e,i,n){this.jn=e,this.$n=new Z2(50),this.Yn=i,this.O=n,this.F=-1,this.Xt=new R7e(this.$n)}Tt(){const e=this.O.Kn(this.Yn);if(e===null)return null;const i=e.Zn(this.Yn)?e.Gn():this.Yn.Ft();if(i===null)return null;const n=e.Xn(i);if(n==="overlay")return null;const s=this.O.Jn();return s.k!==this.F&&(this.F=s.k,this.$n.On()),this.Xt.qn(this.jn.ji(),s,n),this.Xt}}class I7e extends Lh{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}Qn(e,i){var n;if(!((n=this.jt)!=null&&n.It))return null;const{ut:s,ct:r,te:a}=this.jt;return i>=s-r-7&&i<=s+r+7?{ie:this.jt,te:a}:null}et({context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.jt===null||this.jt.It===!1)return;const r=Math.round(this.jt.ut*s);r<0||r>i.height||(e.lineCap="butt",e.strokeStyle=this.jt.R,e.lineWidth=Math.floor(this.jt.ct*n),Nc(e,this.jt.Zt),HX(e,r,0,i.width))}}class J4{constructor(e){this.se={ut:0,R:"rgba(0, 0, 0, 0)",ct:1,Zt:0,It:!1},this.ne=new I7e,this.xt=!0,this.ee=e,this.re=e.Qt(),this.ne.ht(this.se)}kt(){this.xt=!0}Tt(){return this.ee.It()?(this.xt&&(this.he(),this.xt=!1),this.ne):null}}class w7e extends J4{constructor(e){super(e)}he(){this.se.It=!1;const e=this.ee.Ft(),i=e.ae().ae;if(i!==2&&i!==3)return;const n=this.ee.N();if(!n.baseLineVisible||!this.ee.It())return;const s=this.ee.Lt();s!==null&&(this.se.It=!0,this.se.ut=e.Nt(s.Wt,s.Wt),this.se.R=n.baseLineColor,this.se.ct=n.baseLineWidth,this.se.Zt=n.baseLineStyle)}}class _7e extends Lh{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}le(){return this.jt}et({context:e,horizontalPixelRatio:i,verticalPixelRatio:n}){const s=this.jt;if(s===null)return;const r=Math.max(1,Math.floor(i)),a=r%2/2,o=Math.round(s.oe.x*i)+a,l=s.oe.y*n;e.fillStyle=s._e,e.beginPath();const c=Math.max(2,1.5*s.ue)*i;e.arc(o,l,c,0,2*Math.PI,!1),e.fill(),e.fillStyle=s.ce,e.beginPath(),e.arc(o,l,s.ft*i,0,2*Math.PI,!1),e.fill(),e.lineWidth=r,e.strokeStyle=s.de,e.beginPath(),e.arc(o,l,s.ft*i+r/2,0,2*Math.PI,!1),e.stroke()}}const x7e=[{fe:0,pe:.25,ve:4,me:10,we:.25,ge:0,Me:.4,be:.8},{fe:.25,pe:.525,ve:10,me:14,we:0,ge:0,Me:.8,be:0},{fe:.525,pe:1,ve:14,me:14,we:0,ge:0,Me:0,be:0}];class N7e{constructor(e){this.Xt=new _7e,this.xt=!0,this.Se=!0,this.xe=performance.now(),this.Ce=this.xe-1,this.ye=e}ke(){this.Ce=this.xe-1,this.kt()}Pe(){if(this.kt(),this.ye.N().lastPriceAnimation===2){const e=performance.now(),i=this.Ce-e;if(i>0)return void(i<650&&(this.Ce+=2600));this.xe=e,this.Ce=e+2600}}kt(){this.xt=!0}Te(){this.Se=!0}It(){return this.ye.N().lastPriceAnimation!==0}Re(){switch(this.ye.N().lastPriceAnimation){case 0:return!1;case 1:return!0;case 2:return performance.now()<=this.Ce}}Tt(){return this.xt?(this.Rt(),this.xt=!1,this.Se=!1):this.Se&&(this.De(),this.Se=!1),this.Xt}Rt(){this.Xt.ht(null);const e=this.ye.Qt().Et(),i=e.Ie(),n=this.ye.Lt();if(i===null||n===null)return;const s=this.ye.Ve(!0);if(s.Be||!i.Ee(s.js))return;const r={x:e.qt(s.js),y:this.ye.Ft().Nt(s.gt,n.Wt)},a=s.R,o=this.ye.N().lineWidth,l=this.Ae(this.Le(),a);this.Xt.ht({_e:a,ue:o,ce:l.ce,de:l.de,ft:l.ft,oe:r})}De(){const e=this.Xt.le();if(e!==null){const i=this.Ae(this.Le(),e._e);e.ce=i.ce,e.de=i.de,e.ft=i.ft}}Le(){return this.Re()?performance.now()-this.xe:2599}ze(e,i,n,s){const r=n+(s-n)*i;return this.ye.Qt().Xi().Y(e,r)}Ae(e,i){const n=e%2600/2600;let s;for(const c of x7e)if(n>=c.fe&&n<=c.pe){s=c;break}gn(s!==void 0,"Last price animation internal logic error");const r=(n-s.fe)/(s.pe-s.fe);return{ce:this.ze(i,r,s.we,s.ge),de:this.ze(i,r,s.Me,s.be),ft:(a=r,o=s.ve,l=s.me,o+(l-o)*a)};var a,o,l}}class V7e extends J4{constructor(e){super(e)}he(){const e=this.se;e.It=!1;const i=this.ee.N();if(!i.priceLineVisible||!this.ee.It())return;const n=this.ee.Ve(i.priceLineSource===0);n.Be||(e.It=!0,e.ut=n.Ei,e.R=this.ee.Oe(n.R),e.ct=i.priceLineWidth,e.Zt=i.priceLineStyle)}}class L7e extends Sb{constructor(e){super(),this.Jt=e}Yi(e,i,n){e.It=!1,i.It=!1;const s=this.Jt;if(!s.It())return;const r=s.N(),a=r.lastValueVisible,o=s.Ne()!=="",l=r.seriesLastValueMode===0,c=s.Ve(!1);if(c.Be)return;a&&(e.ri=this.Fe(c,a,l),e.It=e.ri.length!==0),(o||l)&&(i.ri=this.We(c,a,o,l),i.It=i.ri.length>0);const u=s.Oe(c.R),d=this.Jt.Qt().Xi().Z(u);n.G=d.G,n.Ei=c.Ei,i.Ht=s.Qt().Ut(c.Ei/s.Ft().$t()),e.Ht=u,e.R=d.X,i.R=d.X}We(e,i,n,s){let r="";const a=this.Jt.Ne();return n&&a.length!==0&&(r+=`${a} `),i&&s&&(r+=this.Jt.Ft().He()?e.Ue:e.$e),r.trim()}Fe(e,i,n){return i?n?this.Jt.Ft().He()?e.$e:e.Ue:e.ri:""}}function sL(t,e,i,n){const s=Number.isFinite(e),r=Number.isFinite(i);return s&&r?t(e,i):s||r?s?e:i:n}class Xn{constructor(e,i){this.qe=e,this.je=i}Ye(e){return e!==null&&this.qe===e.qe&&this.je===e.je}Ke(){return new Xn(this.qe,this.je)}Ze(){return this.qe}Ge(){return this.je}Xe(){return this.je-this.qe}Gi(){return this.je===this.qe||Number.isNaN(this.je)||Number.isNaN(this.qe)}Sn(e){return e===null?this:new Xn(sL(Math.min,this.Ze(),e.Ze(),-1/0),sL(Math.max,this.Ge(),e.Ge(),1/0))}Je(e){if(!Jd(e)||this.je-this.qe===0)return;const i=.5*(this.je+this.qe);let n=this.je-i,s=this.qe-i;n*=e,s*=e,this.je=i+n,this.qe=i+s}Qe(e){Jd(e)&&(this.je+=e,this.qe+=e)}tr(){return{minValue:this.qe,maxValue:this.je}}static ir(e){return e===null?null:new Xn(e.minValue,e.maxValue)}}class P2{constructor(e,i){this.sr=e,this.nr=i||null}er(){return this.sr}rr(){return this.nr}tr(){return{priceRange:this.sr===null?null:this.sr.tr(),margins:this.nr||void 0}}static ir(e){return e===null?null:new P2(Xn.ir(e.priceRange),e.margins)}}const k7e=[2,4,8,16,32,64,128,256,512],F7e="Custom series with conflation reducer must have a priceValueBuilder method";class U7e extends J4{constructor(e,i){super(e),this.hr=i}he(){const e=this.se;e.It=!1;const i=this.hr.N();if(!this.ee.It()||!i.lineVisible)return;const n=this.hr.ar();n!==null&&(e.It=!0,e.ut=n,e.R=i.color,e.ct=i.lineWidth,e.Zt=i.lineStyle,e.te=this.hr.N().id)}}class B7e extends Sb{constructor(e,i){super(),this.ye=e,this.hr=i}Yi(e,i,n){e.It=!1,i.It=!1;const s=this.hr.N(),r=s.axisLabelVisible,a=s.title!=="",o=this.ye;if(!r||!o.It())return;const l=this.hr.ar();if(l===null)return;a&&(i.ri=s.title,i.It=!0),i.Ht=o.Qt().Ut(l/o.Ft().$t()),e.ri=this.lr(s.price),e.It=!0;const c=this.ye.Qt().Xi().Z(s.axisLabelColor||s.color);n.G=c.G;const u=s.axisLabelTextColor||c.X;e.R=u,i.R=u,n.Ei=l}lr(e){const i=this.ye.Lt();return i===null?"":this.ye.Ft().Ji(e,i.Wt)}}class W7e{constructor(e,i){this.ye=e,this.Ps=i,this._r=new U7e(e,this),this.jn=new B7e(e,this),this.ur=new sY(this.jn,e,e.Qt())}cr(e){Cs(this.Ps,e),this.kt(),this.ye.Qt().dr()}N(){return this.Ps}pr(){return this._r}vr(){return this.ur}mr(){return this.jn}kt(){this._r.kt(),this.jn.kt()}ar(){const e=this.ye,i=e.Ft();if(e.Qt().Et().Gi()||i.Gi())return null;const n=e.Lt();return n===null?null:i.Nt(this.Ps.price,n.Wt)}}class G7e{constructor(){this.wr=new WeakMap}gr(e,i,n){const s=1/i*n;if(e>=s)return 1;const r=s/e,a=Math.pow(2,Math.floor(Math.log2(r)));return Math.min(a,512)}Mr(e,i,n,s=!1,r){if(e.length===0||i<=1)return e;const a=this.br(i);if(a<=1)return e;const o=this.Sr(e);let l=o.Cr.get(a);return l!==void 0||(l=this.yr(e,a,n,s,r,o.Cr),o.Cr.set(a,l)),l}kr(e,i,n,s,r=!1,a){if(n<1||e.length===0)return e;const o=this.Sr(e),l=o.Cr.get(n);if(!l)return this.Mr(e,n,s,r,a);const c=this.Pr(e,i,n,l,r,s,a);return o.Cr.set(n,c),c}br(e){if(e<=2)return 2;for(const i of k7e)if(e<=i)return i;return 512}Tr(e){if(e.length===0)return 0;const i=e[0],n=e[e.length-1];return 31*e.length+17*i.js+13*n.js}yr(e,i,n,s=!1,r,a=new Map){if(i===2)return this.Rr(e,2,n,s,r);const o=i/2;let l=a.get(o);return l||(l=this.yr(e,o,n,s,r,a),a.set(o,l)),this.Dr(l,n,s,r)}Rr(e,i,n,s=!1,r){const a=this.Ir(e,i,n,s,r);return this.Vr(a,s)}Dr(e,i,n=!1,s){const r=this.Ir(e,2,i,n,s);return this.Vr(r,n)}Ir(e,i,n,s=!1,r){const a=[];for(let o=0;o<e.length;o+=i)if(e.length-o>=i){const l=this.Br(e[o],e[o+1],n,s,r);l.Er=!1,a.push(l)}else if(a.length===0)a.push(this.Ar(e[o],!0));else{const l=a[a.length-1];a[a.length-1]=this.Lr(l,e[o],n,s,r)}return a}zr(e,i){return(e??1)+(i??1)}Br(e,i,n,s=!1,r){if(!s||!n||!r){const c=e.Wt[1]>i.Wt[1]?e.Wt[1]:i.Wt[1],u=e.Wt[2]<i.Wt[2]?e.Wt[2]:i.Wt[2];return{Or:e.js,Nr:i.js,Fr:e.wt,Wr:i.wt,Hr:e.Wt[0],Ur:c,$r:u,qr:i.Wt[3],jr:this.zr(e.jr,i.jr),Yr:void 0,Er:!1}}const a=n(this.Kr(e,r),this.Kr(i,r)),o=r(a),l=o.length?o[o.length-1]:0;return{Or:e.js,Nr:i.js,Fr:e.wt,Wr:i.wt,Hr:e.Wt[0],Ur:Math.max(e.Wt[1],l),$r:Math.min(e.Wt[2],l),qr:l,jr:this.zr(e.jr,i.jr),Yr:a,Er:!1}}Lr(e,i,n,s=!1,r){if(!s||!n||!r)return{Or:e.Or,Nr:i.js,Fr:e.Fr,Wr:i.wt,Hr:e.Hr,Ur:e.Ur>i.Wt[1]?e.Ur:i.Wt[1],$r:e.$r<i.Wt[2]?e.$r:i.Wt[2],qr:i.Wt[3],jr:e.jr+(i.jr??1),Yr:e.Yr,Er:!1};const a=e.Yr,o=this.Kr(i,r),l=a?{data:a,index:e.Or,originalTime:e.Fr,time:e.Fr,priceValues:r(a)}:null,c=l?n(l,o):o.data,u=l?r(c):o.priceValues,d=u.length?u[u.length-1]:0;return{Or:e.Or,Nr:i.js,Fr:e.Fr,Wr:i.wt,Hr:e.Hr,Ur:Math.max(e.Ur,d),$r:Math.min(e.$r,d),qr:d,jr:e.jr+(i.jr??1),Yr:c,Er:!1}}Zr(e,i,n,s,r,a,o=!1,l){const c=i===s?r:e[i];if(n-i==1)return this.Ar(c,!0);const u=i+1===s?r:e[i+1];let d=this.Br(c,u,a,o,l);for(let h=i+2;h<n;h++){const f=h===s?r:e[h];d=this.Lr(d,f,a,o,l)}return d}Kr(e,i){const n=e.le??{};return{data:e.le,index:e.js,originalTime:e.Gr,time:e.wt,priceValues:i(n)}}Xr(e,i=!1){const n=i===!0,s=!!e.Yr;return{js:e.Or,wt:e.Fr,Gr:e.Fr,Wt:[n?e.qr:e.Hr,e.Ur,e.$r,e.qr],jr:e.jr,le:n?s?e.Yr:{wt:e.Fr}:void 0}}Vr(e,i=!1){return e.map(n=>this.Xr(n,i))}Pr(e,i,n,s,r=!1,a,o){if(s.length===0)return s;const l=e.length-1,c=Math.floor(l/n)*n;if(Math.min(c+n,e.length)-c<n&&e.length>n){const u=e.slice();return u[u.length-1]=i,this.Mr(u,n,a,r,o)}if(Math.floor((l-1)/n)===Math.floor(l/n)||s.length===1){const u=Math.min(c+n,e.length),d=u-c;if(d<=0)return s;const h=d===1?this.Ar(c===l?i:e[c],!0):this.Zr(e,c,u,l,i,a,r,o);return s[s.length-1]=this.Xr(h,r),s}{const u=e.slice();return u[u.length-1]=i,this.Mr(u,n,a,r,o)}}Ar(e,i=!1){return{Or:e.js,Nr:e.js,Fr:e.wt,Wr:e.wt,Hr:e.Wt[0],Ur:e.Wt[1],$r:e.Wt[2],qr:e.Wt[3],jr:e.jr??1,Yr:e.le,Er:i}}Sr(e){const i=this.Jr(e),n=this.Tr(e);return i.Qr!==n&&(i.Cr.clear(),i.Qr=n),i}Jr(e){let i=this.wr.get(e);return i===void 0&&(i={Qr:this.Tr(e),Cr:new Map},this.wr.set(e,i)),i}}class D7e extends tY{constructor(e){super(),this.ns=e}Qt(){return this.ns}}const M7e={Bar:(t,e,i,n)=>{const s=e.upColor,r=e.downColor,a=Be(t(i,n)),o=qo(a.Wt[0])<=qo(a.Wt[3]);return{th:a.R??(o?s:r)}},Candlestick:(t,e,i,n)=>{const s=e.upColor,r=e.downColor,a=e.borderUpColor,o=e.borderDownColor,l=e.wickUpColor,c=e.wickDownColor,u=Be(t(i,n)),d=qo(u.Wt[0])<=qo(u.Wt[3]);return{th:u.R??(d?s:r),ih:u.Ht??(d?a:o),sh:u.nh??(d?l:c)}},Custom:(t,e,i,n)=>({th:Be(t(i,n)).R??e.color}),Area:(t,e,i,n)=>{const s=Be(t(i,n));return{th:s.vt??e.lineColor,vt:s.vt??e.lineColor,eh:s.eh??e.topColor,rh:s.rh??e.bottomColor}},Baseline:(t,e,i,n)=>{const s=Be(t(i,n));return{th:s.Wt[3]>=e.baseValue.price?e.topLineColor:e.bottomLineColor,hh:s.hh??e.topLineColor,ah:s.ah??e.bottomLineColor,oh:s.oh??e.topFillColor1,_h:s._h??e.topFillColor2,uh:s.uh??e.bottomFillColor1,dh:s.dh??e.bottomFillColor2}},Line:(t,e,i,n)=>{const s=Be(t(i,n));return{th:s.R??e.color,vt:s.R??e.color}},Histogram:(t,e,i,n)=>({th:Be(t(i,n)).R??e.color})};class Z7e{constructor(e){this.fh=(i,n)=>n!==void 0?n.Wt:this.ye.qs().ph(i),this.ye=e,this.mh=M7e[e.wh()]}gh(e,i){return this.mh(this.fh,this.ye.N(),e,i)}}function rY(t,e,i,n,s=0,r=e.length){let a=r-s;for(;0<a;){const o=a>>1,l=s+o;n(e[l],i)===t?(s=l+1,a-=o+1):a=o}return s}const jd=rY.bind(null,!0),aY=rY.bind(null,!1);var rL;(function(t){t[t.NearestLeft=-1]="NearestLeft",t[t.None=0]="None",t[t.NearestRight=1]="NearestRight"})(rL||(rL={}));const Wo=30;class P7e{constructor(){this.Mh=[],this.bh=new Map,this.Sh=new Map,this.xh=[]}Ch(){return this.yh()>0?this.Mh[this.Mh.length-1]:null}kh(){return this.yh()>0?this.Ph(0):null}sn(){return this.yh()>0?this.Ph(this.Mh.length-1):null}yh(){return this.Mh.length}Gi(){return this.yh()===0}Ee(e){return this.Th(e,0)!==null}ph(e){return this.$s(e)}$s(e,i=0){const n=this.Th(e,i);return n===null?null:{...this.Rh(n),js:this.Ph(n)}}Dh(){return this.Mh}Ih(e,i,n){if(this.Gi())return null;let s=null;for(const r of n)s=Qm(s,this.Vh(e,i,r));return s}ht(e){this.Sh.clear(),this.bh.clear(),this.Mh=e,this.xh=e.map(i=>i.js)}Bh(){return this.xh}Ph(e){return this.Mh[e].js}Rh(e){return this.Mh[e]}Th(e,i){const n=this.Eh(e);if(n===null&&i!==0)switch(i){case-1:return this.Ah(e);case 1:return this.Lh(e);default:throw new TypeError("Unknown search mode")}return n}Ah(e){let i=this.zh(e);return i>0&&(i-=1),i!==this.Mh.length&&this.Ph(i)<e?i:null}Lh(e){const i=this.Oh(e);return i!==this.Mh.length&&e<this.Ph(i)?i:null}Eh(e){const i=this.zh(e);return i===this.Mh.length||e<this.Mh[i].js?null:i}zh(e){return jd(this.Mh,e,(i,n)=>i.js<n)}Oh(e){return aY(this.Mh,e,(i,n)=>i.js>n)}Nh(e,i,n){let s=null;for(let r=e;r<i;r++){const a=this.Mh[r].Wt[n];Number.isNaN(a)||(s===null?s={Fh:a,Wh:a}:(a<s.Fh&&(s.Fh=a),a>s.Wh&&(s.Wh=a)))}return s}Vh(e,i,n){if(this.Gi())return null;let s=null;const r=Be(this.kh()),a=Be(this.sn()),o=Math.max(e,r),l=Math.min(i,a),c=Math.ceil(o/Wo)*Wo,u=Math.max(c,Math.floor(l/Wo)*Wo);{const h=this.zh(o),f=this.Oh(Math.min(l,c,i));s=Qm(s,this.Nh(h,f,n))}let d=this.bh.get(n);d===void 0&&(d=new Map,this.bh.set(n,d));for(let h=Math.max(c+1,o);h<u;h+=Wo){const f=Math.floor(h/Wo);let p=d.get(f);if(p===void 0){const m=this.zh(f*Wo),v=this.Oh((f+1)*Wo-1);p=this.Nh(m,v,n),d.set(f,p)}s=Qm(s,p)}{const h=this.zh(u),f=this.Oh(l);s=Qm(s,this.Nh(h,f,n))}return s}}function Qm(t,e){return t===null?e:e===null?t:{Fh:Math.min(t.Fh,e.Fh),Wh:Math.max(t.Wh,e.Wh)}}function ZE(){return new P7e}const O2={setLineStyle:Nc};class O7e{constructor(e){this.Hh=e}nt(e,i,n){this.Hh.draw(e,O2)}Uh(e,i,n){var s,r;(r=(s=this.Hh).drawBackground)==null||r.call(s,e,O2)}}class X7e{constructor(e){this.Ln=null,this.$h=e}Tt(){var e;const i=this.$h.renderer();if(i===null)return null;if(((e=this.Ln)==null?void 0:e.qh)===i)return this.Ln.jh;const n=new O7e(i);return this.Ln={qh:i,jh:n},n}Yh(){var e,i;return((i=(e=this.$h).zOrder)==null?void 0:i.call(e))??"normal"}}class oY{constructor(e){this.Kh=null,this.Zh=e}Gh(){return this.Zh}Ws(){var e,i;(i=(e=this.Zh).updateAllViews)==null||i.call(e)}Ys(){var e,i,n;const s=((i=(e=this.Zh).paneViews)==null?void 0:i.call(e))??[];if(((n=this.Kh)==null?void 0:n.qh)===s)return this.Kh.jh;const r=s.map(a=>new X7e(a));return this.Kh={qh:s,jh:r},r}Qn(e,i){var n,s;return((s=(n=this.Zh).hitTest)==null?void 0:s.call(n,e,i))??null}}let Y7e=class extends oY{ds(){return[]}};class $7e{constructor(e){this.Hh=e}nt(e,i,n){this.Hh.draw(e,O2)}Uh(e,i,n){var s,r;(r=(s=this.Hh).drawBackground)==null||r.call(s,e,O2)}}class aL{constructor(e){this.Ln=null,this.$h=e}Tt(){var e;const i=this.$h.renderer();if(i===null)return null;if(((e=this.Ln)==null?void 0:e.qh)===i)return this.Ln.jh;const n=new $7e(i);return this.Ln={qh:i,jh:n},n}Yh(){var e,i;return((i=(e=this.$h).zOrder)==null?void 0:i.call(e))??"normal"}}function lY(t){var e,i,n;return{ri:t.text(),Ei:t.coordinate(),Vi:(e=t.fixedCoordinate)==null?void 0:e.call(t),R:t.textColor(),G:t.backColor(),It:((i=t.visible)==null?void 0:i.call(t))??!0,pi:((n=t.tickVisible)==null?void 0:n.call(t))??!0}}class K7e{constructor(e,i){this.Xt=new eY,this.Xh=e,this.Jh=i}Tt(){return this.Xt.ht({ss:this.Jh.ss(),...lY(this.Xh)}),this.Xt}}class z7e extends Sb{constructor(e,i){super(),this.Xh=e,this.Ki=i}Yi(e,i,n){const s=lY(this.Xh);n.G=s.G,e.R=s.R;const r=2/12*this.Ki.k();n.Ti=r,n.Ri=r,n.Ei=s.Ei,n.Vi=s.Vi,e.ri=s.ri,e.It=s.It,e.pi=s.pi}}class J7e extends oY{constructor(e,i){super(e),this.Qh=null,this.ta=null,this.ia=null,this.sa=null,this.ye=i}fs(){var e,i,n;const s=((i=(e=this.Zh).timeAxisViews)==null?void 0:i.call(e))??[];if(((n=this.Qh)==null?void 0:n.qh)===s)return this.Qh.jh;const r=this.ye.Qt().Et(),a=s.map(o=>new K7e(o,r));return this.Qh={qh:s,jh:a},a}Ks(){var e,i,n;const s=((i=(e=this.Zh).priceAxisViews)==null?void 0:i.call(e))??[];if(((n=this.ta)==null?void 0:n.qh)===s)return this.ta.jh;const r=this.ye.Ft(),a=s.map(o=>new z7e(o,r));return this.ta={qh:s,jh:a},a}na(){var e,i,n;const s=((i=(e=this.Zh).priceAxisPaneViews)==null?void 0:i.call(e))??[];if(((n=this.ia)==null?void 0:n.qh)===s)return this.ia.jh;const r=s.map(a=>new aL(a));return this.ia={qh:s,jh:r},r}ea(){var e,i,n;const s=((i=(e=this.Zh).timeAxisPaneViews)==null?void 0:i.call(e))??[];if(((n=this.sa)==null?void 0:n.qh)===s)return this.sa.jh;const r=s.map(a=>new aL(a));return this.sa={qh:s,jh:r},r}ra(e,i){var n,s;return((s=(n=this.Zh).autoscaleInfo)==null?void 0:s.call(n,e,i))??null}}function PE(t,e,i,n){t.forEach(s=>{e(s).forEach(r=>{r.Yh()===i&&n.push(r)})})}function OE(t){return t.Ys()}function j7e(t){return t.na()}function H7e(t){return t.ea()}const Q7e=["Area","Line","Baseline"];class Rb extends D7e{constructor(e,i,n,s,r){super(e),this.jt=ZE(),this._r=new V7e(this),this.ha=[],this.aa=new w7e(this),this.la=null,this.oa=null,this._a=null,this.ua=[],this.ca=new G7e,this.da=new Map,this.fa=null,this.Ps=n,this.pa=i;const a=new L7e(this);if(this.gs=[a],this.ur=new sY(a,this,e),Q7e.includes(this.pa)&&(this.la=new N7e(this)),this.va(),this.$h=s(this,this.Qt(),r),this.pa==="Custom"){const o=this.$h;o.ma&&this.wa(o.ma)}}m(){this._a!==null&&clearTimeout(this._a)}Oe(e){return this.Ps.priceLineColor||e}Ve(e){const i={Be:!0},n=this.Ft();if(this.Qt().Et().Gi()||n.Gi()||this.jt.Gi())return i;const s=this.Qt().Et().Ie(),r=this.Lt();if(s===null||r===null)return i;let a,o;if(e){const d=this.jt.Ch();if(d===null)return i;a=d,o=d.js}else{const d=this.jt.$s(s.bi(),-1);if(d===null||(a=this.jt.ph(d.js),a===null))return i;o=d.js}const l=a.Wt[3],c=this.ga().gh(o,{Wt:a}),u=n.Nt(l,r.Wt);return{Be:!1,gt:l,ri:n.Ji(l,r.Wt),Ue:n.Ma(l),$e:n.ba(l,r.Wt),R:c.th,Ei:u,js:o}}ga(){return this.oa!==null||(this.oa=new Z7e(this)),this.oa}N(){return this.Ps}cr(e){const i=this.Qt(),{priceScaleId:n,visible:s,priceFormat:r}=e;n!==void 0&&n!==this.Ps.priceScaleId&&i.Sa(this,n),s!==void 0&&s!==this.Ps.visible&&i.xa();const a=e.conflationThresholdFactor!==void 0;Cs(this.Ps,e),a&&(this.da.clear(),this.Qt().dr()),r!==void 0&&(this.va(),i.Ca()),i.ya(this),i.ka(),this.$h.kt("options")}ht(e,i){this.jt.ht(e),this.da.clear();const n=this.Qt().Et().N();n.enableConflation&&n.precomputeConflationOnInit&&this.Pa(n.precomputeConflationPriority),this.$h.kt("data"),this.la!==null&&(i&&i.Ta?this.la.Pe():e.length===0&&this.la.ke());const s=this.Qt().Kn(this);this.Qt().Ra(s),this.Qt().ya(this),this.Qt().ka(),this.Qt().dr()}Da(e){const i=new W7e(this,e);return this.ha.push(i),this.Qt().ya(this),i}Ia(e){const i=this.ha.indexOf(e);i!==-1&&this.ha.splice(i,1),this.Qt().ya(this)}Va(){return this.ha}wh(){return this.pa}Lt(){const e=this.Ba();return e===null?null:{Wt:e.Wt[3],Ea:e.wt}}Ba(){const e=this.Qt().Et().Ie();if(e===null)return null;const i=e.Aa();return this.jt.$s(i,1)}qs(){return this.jt}wa(e){this.fa=e,this.da.clear()}La(){return!!this.Qt().Et().N().enableConflation&&this.za()>1}kr(e){if(!this.La())return;const i=this.za();if(!this.da.has(i))return;const n=this.pa==="Custom",s=n&&this.fa||void 0,r=n&&this.$h.Oa?l=>{const c=l,u=this.$h.Oa(c);return Array.isArray(u)?u:[typeof u=="number"?u:0]}:void 0,a=this.ca.kr(this.jt.Dh(),e,i,s,n,r),o=ZE();o.ht(a),this.da.set(i,o)}Na(){const e=this.Qt().Et().N().enableConflation;if(this.pa==="Custom"&&this.fa===null)return this.jt;if(!e)return this.jt;const i=this.za(),n=this.da.get(i);return n||(this.Fa(i),this.da.get(i)??this.jt)}Wa(e){const i=this.jt.ph(e);return i===null?null:this.pa==="Bar"||this.pa==="Candlestick"||this.pa==="Custom"?{Hr:i.Wt[0],Ur:i.Wt[1],$r:i.Wt[2],qr:i.Wt[3]}:i.Wt[3]}Ha(e){const i=[];PE(this.ua,OE,"top",i);const n=this.la;return n!==null&&n.It()&&(this._a===null&&n.Re()&&(this._a=setTimeout(()=>{this._a=null,this.Qt().Ua()},0)),n.Te(),i.unshift(n)),i}Ys(){const e=[];this.$a()||e.push(this.aa),e.push(this.$h,this._r);const i=this.ha.map(n=>n.pr());return e.push(...i),PE(this.ua,OE,"normal",e),e}qa(){return this.ja(OE,"bottom")}Ya(e){return this.ja(j7e,e)}Ka(e){return this.ja(H7e,e)}Za(e,i){return this.ua.map(n=>n.Qn(e,i)).filter(n=>n!==null)}ds(){return[this.ur,...this.ha.map(e=>e.vr())]}Ks(e,i){if(i!==this.hs&&!this.$a())return[];const n=[...this.gs];for(const s of this.ha)n.push(s.mr());return this.ua.forEach(s=>{n.push(...s.Ks())}),n}fs(){const e=[];return this.ua.forEach(i=>{e.push(...i.fs())}),e}ra(e,i){if(this.Ps.autoscaleInfoProvider!==void 0){const n=this.Ps.autoscaleInfoProvider(()=>{const s=this.Ga(e,i);return s===null?null:s.tr()});return P2.ir(n)}return this.Ga(e,i)}qh(){const e=this.Ps.priceFormat;return e.base??1/e.minMove}Xa(){return this.Ja}Ws(){var e;this.$h.kt();for(const i of this.gs)i.kt();for(const i of this.ha)i.kt();this._r.kt(),this.aa.kt(),(e=this.la)==null||e.kt(),this.ua.forEach(i=>i.Ws())}Ft(){return Be(super.Ft())}At(e){if(!((this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline")&&this.Ps.crosshairMarkerVisible))return null;const i=this.jt.ph(e);return i===null?null:{gt:i.Wt[3],ft:this.Qa(),Ht:this.tl(),Ot:this.il(),zt:this.sl(e)}}Ne(){return this.Ps.title}It(){return this.Ps.visible}nl(e){this.ua.push(new J7e(e,this))}el(e){this.ua=this.ua.filter(i=>i.Gh()!==e)}rl(){if(this.pa==="Custom")return e=>this.$h.Oa(e)}hl(){if(this.pa==="Custom")return e=>this.$h.al(e)}ll(){return this.jt.Bh()}$a(){return!Tb(this.Ft().ol())}Ga(e,i){if(!Yp(e)||!Yp(i)||this.jt.Gi())return null;const n=this.pa==="Line"||this.pa==="Area"||this.pa==="Baseline"||this.pa==="Histogram"?[3]:[2,1],s=this.jt.Ih(e,i,n);let r=s!==null?new Xn(s.Fh,s.Wh):null,a=null;if(this.wh()==="Histogram"){const o=this.Ps.base,l=new Xn(o,o);r=r!==null?r.Sn(l):l}return this.ua.forEach(o=>{const l=o.ra(e,i);if(l!=null&&l.priceRange){const c=new Xn(l.priceRange.minValue,l.priceRange.maxValue);r=r!==null?r.Sn(c):c}l!=null&&l.margins&&(a=l.margins)}),new P2(r,a)}Qa(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerRadius}return 0}tl(){switch(this.pa){case"Line":case"Area":case"Baseline":{const e=this.Ps.crosshairMarkerBorderColor;if(e.length!==0)return e}}return null}il(){switch(this.pa){case"Line":case"Area":case"Baseline":return this.Ps.crosshairMarkerBorderWidth}return 0}sl(e){switch(this.pa){case"Line":case"Area":case"Baseline":{const i=this.Ps.crosshairMarkerBackgroundColor;if(i.length!==0)return i}}return this.ga().gh(e).th}va(){switch(this.Ps.priceFormat.type){case"custom":{const e=this.Ps.priceFormat.formatter;this.Ja={format:e,formatTickmarks:this.Ps.priceFormat.tickmarksFormatter??(i=>i.map(e))};break}case"volume":this.Ja=new T7e(this.Ps.priceFormat.precision);break;case"percent":this.Ja=new nY(this.Ps.priceFormat.precision);break;default:{const e=Math.pow(10,this.Ps.priceFormat.precision);this.Ja=new Cb(e,this.Ps.priceFormat.minMove*e)}}this.hs!==null&&this.hs._l()}ja(e,i){const n=[];return PE(this.ua,e,i,n),n}za(){const{ul:e,cl:i,dl:n}=this.fl();return this.ca.gr(e,i,n)}fl(){const e=this.Qt().Et(),i=e.ul(),n=window.devicePixelRatio||1,s=e.N().conflationThresholdFactor;return{ul:i,cl:n,dl:this.Ps.conflationThresholdFactor??s??1}}pl(e){const i=this.jt.Dh();let n;if(this.pa==="Custom"&&this.fa!==null){const r=this.rl();if(!r)throw new Error(F7e);n=this.ca.Mr(i,e,this.fa,!0,a=>r(a))}else n=this.ca.Mr(i,e);const s=ZE();return s.ht(n),s}Fa(e){const i=this.pl(e);this.da.set(e,i)}Pa(e){var i;if(this.pa==="Custom"&&(this.fa===null||!this.rl()))return;this.da.clear();const n=this.Qt().Et().vl();for(const s of n){const r=()=>{this.ml(s)},a=typeof window=="object"&&window||typeof self=="object"&&self;(i=a==null?void 0:a.gl)!=null&&i.wl?a.gl.wl(()=>{r()},{Ml:e}):Promise.resolve().then(()=>r())}}ml(e){if(this.da.has(e)||this.jt.Dh().length===0)return;const i=this.pl(e);this.da.set(e,i)}}const q7e=[3],eVe=[0,1,2,3];class tVe{constructor(e){this.Ps=e}bl(e,i,n){let s=e;if(this.Ps.mode===0)return s;const r=n.Rs(),a=r.Lt();if(a===null)return s;const o=r.Nt(e,a),l=n.Sl().filter(u=>u instanceof Rb).reduce((u,d)=>{if(n.Zn(d)||!d.It())return u;const h=d.Ft(),f=d.qs();if(h.Gi()||!f.Ee(i))return u;const p=f.ph(i);if(p===null)return u;const m=qo(d.Lt()),v=this.Ps.mode===3?eVe:q7e;return u.concat(v.map(g=>h.Nt(p.Wt[g],m.Wt)))},[]);if(l.length===0)return s;l.sort((u,d)=>Math.abs(u-o)-Math.abs(d-o));const c=l[0];return s=r.Ds(c,a),s}}function rp(t,e,i){return Math.min(Math.max(t,e),i)}function qm(t,e,i){return e-t<=i}class iVe extends Lh{constructor(){super(...arguments),this.jt=null}ht(e){this.jt=e}et({context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:s}){if(this.jt===null)return;const r=Math.max(1,Math.floor(n));e.lineWidth=r,function(a,o){a.save(),a.lineWidth%2&&a.translate(.5,.5),o(),a.restore()}(e,()=>{const a=Be(this.jt);if(a.xl){e.strokeStyle=a.Cl,Nc(e,a.yl),e.beginPath();for(const o of a.kl){const l=Math.round(o.Pl*n);e.moveTo(l,-r),e.lineTo(l,i.height+r)}e.stroke()}if(a.Tl){e.strokeStyle=a.Rl,Nc(e,a.Dl),e.beginPath();for(const o of a.Il){const l=Math.round(o.Pl*s);e.moveTo(-r,l),e.lineTo(i.width+r,l)}e.stroke()}})}}class nVe{constructor(e){this.Xt=new iVe,this.xt=!0,this.yt=e}kt(){this.xt=!0}Tt(){if(this.xt){const e=this.yt.Qt().N().grid,i={Tl:e.horzLines.visible,xl:e.vertLines.visible,Rl:e.horzLines.color,Cl:e.vertLines.color,Dl:e.horzLines.style,yl:e.vertLines.style,Il:this.yt.Rs().Vl(),kl:(this.yt.Qt().Et().Vl()||[]).map(n=>({Pl:n.coord}))};this.Xt.ht(i),this.xt=!1}return this.Xt}}class sVe{constructor(e){this.$h=new nVe(e)}pr(){return this.$h}}const XE={Bl:4,El:1e-4};function Mu(t,e){const i=100*(t-e)/e;return e<0?-i:i}function rVe(t,e){const i=Mu(t.Ze(),e),n=Mu(t.Ge(),e);return new Xn(i,n)}function ap(t,e){const i=100*(t-e)/e+100;return e<0?-i:i}function aVe(t,e){const i=ap(t.Ze(),e),n=ap(t.Ge(),e);return new Xn(i,n)}function X2(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.log10(i+e.El)+e.Bl;return t<0?-n:n}function op(t,e){const i=Math.abs(t);if(i<1e-15)return 0;const n=Math.pow(10,i-e.Bl)-e.El;return t<0?-n:n}function vf(t,e){if(t===null)return null;const i=X2(t.Ze(),e),n=X2(t.Ge(),e);return new Xn(i,n)}function Zu(t,e){if(t===null)return null;const i=op(t.Ze(),e),n=op(t.Ge(),e);return new Xn(i,n)}function YE(t){if(t===null)return XE;const e=Math.abs(t.Ge()-t.Ze());if(e>=1||e<1e-15)return XE;const i=Math.ceil(Math.abs(Math.log10(e))),n=XE.Bl+i;return{Bl:n,El:1/Math.pow(10,n)}}class $E{constructor(e,i){if(this.Al=e,this.Ll=i,function(n){if(n<0)return!1;if(n>1e18)return!0;for(let s=n;s>1;s/=10)if(s%10!=0)return!1;return!0}(this.Al))this.zl=[2,2.5,2];else{this.zl=[];for(let n=this.Al;n!==1;){if(n%2==0)this.zl.push(2),n/=2;else{if(n%5!=0)throw new Error("unexpected base");this.zl.push(2,2.5),n/=5}if(this.zl.length>100)throw new Error("something wrong with base")}}}Ol(e,i,n){const s=this.Al===0?0:1/this.Al;let r=Math.pow(10,Math.max(0,Math.ceil(Math.log10(e-i)))),a=0,o=this.Ll[0];for(;;){const d=qm(r,s,1e-14)&&r>s+1e-14,h=qm(r,n*o,1e-14),f=qm(r,1,1e-14);if(!(d&&h&&f))break;r/=o,o=this.Ll[++a%this.Ll.length]}if(r<=s+1e-14&&(r=s),r=Math.max(1,r),this.zl.length>0&&(l=r,c=1,u=1e-14,Math.abs(l-c)<u))for(a=0,o=this.zl[0];qm(r,n*o,1e-14)&&r>s+1e-14;)r/=o,o=this.zl[++a%this.zl.length];var l,c,u;return r}}class oL{constructor(e,i,n,s){this.Nl=[],this.Ki=e,this.Al=i,this.Fl=n,this.Wl=s}Ol(e,i){if(e<i)throw new Error("high < low");const n=this.Ki.$t(),s=(e-i)*this.Hl()/n,r=new $E(this.Al,[2,2.5,2]),a=new $E(this.Al,[2,2,2.5]),o=new $E(this.Al,[2.5,2,2]),l=[];return l.push(r.Ol(e,i,s),a.Ol(e,i,s),o.Ol(e,i,s)),function(c){if(c.length<1)throw Error("array is empty");let u=c[0];for(let d=1;d<c.length;++d)c[d]<u&&(u=c[d]);return u}(l)}Ul(){const e=this.Ki,i=e.Lt();if(i===null)return void(this.Nl=[]);const n=e.$t(),s=this.Fl(n-1,i),r=this.Fl(0,i),a=this.Ki.N().entireTextOnly?this.$l()/2:0,o=a,l=n-1-a,c=Math.max(s,r),u=Math.min(s,r);if(c===u)return void(this.Nl=[]);const d=this.Ol(c,u);if(this.ql(i,d,c,u,o,l),e.jl()&&this.Yl(d,u,c)){const p=this.Ki.Kl();this.Zl(i,d,o,l,p,2*p)}const h=this.Nl.map(p=>p.Gl),f=this.Ki.Xl(h);for(let p=0;p<this.Nl.length;p++)this.Nl[p].Jl=f[p]}Vl(){return this.Nl}$l(){return this.Ki.k()}Hl(){return Math.ceil(2.5*this.$l())}ql(e,i,n,s,r,a){const o=this.Nl,l=this.Ki;let c=n%i;c+=c<0?i:0;const u=n>=s?1:-1;let d=null,h=0;for(let f=n-c;f>s;f-=i){const p=this.Wl(f,e,!0);d!==null&&Math.abs(p-d)<this.Hl()||p<r||p>a||(h<o.length?(o[h].Pl=p,o[h].Jl=l.Ql(f),o[h].Gl=f):o.push({Pl:p,Jl:l.Ql(f),Gl:f}),h++,d=p,l.io()&&(i=this.Ol(f*u,s)))}o.length=h}Zl(e,i,n,s,r,a){const o=this.Nl,l=this.so(e,n,r,a),c=this.so(e,s,-a,-r),u=this.Wl(0,e,!0)-this.Wl(i,e,!0);o.length>0&&o[0].Pl-l.Pl<u/2&&o.shift(),o.length>0&&c.Pl-o[o.length-1].Pl<u/2&&o.pop(),o.unshift(l),o.push(c)}so(e,i,n,s){const r=(n+s)/2,a=this.Fl(i+n,e),o=this.Fl(i+s,e),l=Math.min(a,o),c=Math.max(a,o),u=Math.max(.1,this.Ol(c,l)),d=this.Fl(i+r,e),h=d-d%u,f=this.Wl(h,e,!0);return{Jl:this.Ki.Ql(h),Pl:f,Gl:h}}Yl(e,i,n){let s=qo(this.Ki.er());return this.Ki.io()&&(s=Zu(s,this.Ki.no())),s.Ze()-i<e&&n-s.Ge()<e}}function cY(t){return t.slice().sort((e,i)=>Be(e._s())-Be(i._s()))}var lL;(function(t){t[t.Normal=0]="Normal",t[t.Logarithmic=1]="Logarithmic",t[t.Percentage=2]="Percentage",t[t.IndexedTo100=3]="IndexedTo100"})(lL||(lL={}));const cL=new nY,uL=new Cb(100,1);class oVe{constructor(e,i,n,s,r){this.eo=0,this.ro=null,this.sr=null,this.ho=null,this.ao={lo:!1,oo:null},this._o=!1,this.uo=0,this.co=0,this.do=new ki,this.fo=new ki,this.po=[],this.vo=null,this.mo=null,this.wo=null,this.Mo=null,this.bo=null,this.Ja=uL,this.So=YE(null),this.xo=e,this.Ps=i,this.Co=n,this.yo=s,this.ko=r,this.Po=new oL(this,100,this.To.bind(this),this.Ro.bind(this))}ol(){return this.xo}N(){return this.Ps}cr(e){if(Cs(this.Ps,e),this._l(),e.mode!==void 0&&this.Do({ae:e.mode}),e.scaleMargins!==void 0){const i=ls(e.scaleMargins.top),n=ls(e.scaleMargins.bottom);if(i<0||i>1)throw new Error(`Invalid top margin - expect value between 0 and 1, given=${i}`);if(n<0||n>1)throw new Error(`Invalid bottom margin - expect value between 0 and 1, given=${n}`);if(i+n>1)throw new Error(`Invalid margins - sum of margins must be less than 1, given=${i+n}`);this.Io(),this.wo=null}}Vo(){return this.Ps.autoScale}Bo(){return this._o}io(){return this.Ps.mode===1}He(){return this.Ps.mode===2}Eo(){return this.Ps.mode===3}no(){return this.So}ae(){return{ln:this.Ps.autoScale,Ao:this.Ps.invertScale,ae:this.Ps.mode}}Do(e){const i=this.ae();let n=null;e.ln!==void 0&&(this.Ps.autoScale=e.ln),e.ae!==void 0&&(this.Ps.mode=e.ae,e.ae!==2&&e.ae!==3||(this.Ps.autoScale=!0),this.ao.lo=!1),i.ae===1&&e.ae!==i.ae&&(function(r,a){if(r===null)return!1;const o=op(r.Ze(),a),l=op(r.Ge(),a);return isFinite(o)&&isFinite(l)}(this.sr,this.So)?(n=Zu(this.sr,this.So),n!==null&&this.Lo(n)):this.Ps.autoScale=!0),e.ae===1&&e.ae!==i.ae&&(n=vf(this.sr,this.So),n!==null&&this.Lo(n));const s=i.ae!==this.Ps.mode;s&&(i.ae===2||this.He())&&this._l(),s&&(i.ae===3||this.Eo())&&this._l(),e.Ao!==void 0&&i.Ao!==e.Ao&&(this.Ps.invertScale=e.Ao,this.zo()),this.fo.p(i,this.ae())}Oo(){return this.fo}k(){return this.Co.fontSize}$t(){return this.eo}No(e){this.eo!==e&&(this.eo=e,this.Io(),this.wo=null)}Fo(){if(this.ro)return this.ro;const e=this.$t()-this.Wo()-this.Ho();return this.ro=e,e}er(){return this.Uo(),this.sr}Lo(e,i){const n=this.sr;(i||n===null&&e!==null||n!==null&&!n.Ye(e))&&(this.wo=null,this.sr=e)}$o(e){this.Lo(e),this.qo(e!==null)}Gi(){return this.Uo(),this.eo===0||!this.sr||this.sr.Gi()}jo(e){return this.Ao()?e:this.$t()-1-e}Nt(e,i){return this.He()?e=Mu(e,i):this.Eo()&&(e=ap(e,i)),this.Ro(e,i)}Yo(e,i,n){this.Uo();const s=this.Ho(),r=Be(this.er()),a=r.Ze(),o=r.Ge(),l=this.Fo()-1,c=this.Ao(),u=l/(o-a),d=n===void 0?0:n.from,h=n===void 0?e.length:n.to,f=this.Ko();for(let p=d;p<h;p++){const m=e[p],v=m.gt;if(isNaN(v))continue;let g=v;f!==null&&(g=f(m.gt,i));const E=s+u*(g-a),A=c?E:this.eo-1-E;m.ut=A}}Zo(e,i,n){this.Uo();const s=this.Ho(),r=Be(this.er()),a=r.Ze(),o=r.Ge(),l=this.Fo()-1,c=this.Ao(),u=l/(o-a),d=n===void 0?0:n.from,h=n===void 0?e.length:n.to,f=this.Ko();for(let p=d;p<h;p++){const m=e[p];let v=m.Hr,g=m.Ur,E=m.$r,A=m.qr;f!==null&&(v=f(m.Hr,i),g=f(m.Ur,i),E=f(m.$r,i),A=f(m.qr,i));let R=s+u*(v-a),I=c?R:this.eo-1-R;m.Go=I,R=s+u*(g-a),I=c?R:this.eo-1-R,m.Xo=I,R=s+u*(E-a),I=c?R:this.eo-1-R,m.Jo=I,R=s+u*(A-a),I=c?R:this.eo-1-R,m.Qo=I}}Ds(e,i){const n=this.To(e,i);return this.t_(n,i)}t_(e,i){let n=e;return this.He()?n=function(s,r){return r<0&&(s=-s),s/100*r+r}(n,i):this.Eo()&&(n=function(s,r){return s-=100,r<0&&(s=-s),s/100*r+r}(n,i)),n}Sl(){return this.po}Dt(){return this.mo||(this.mo=cY(this.po)),this.mo}i_(e){this.po.indexOf(e)===-1&&(this.po.push(e),this._l(),this.s_())}n_(e){const i=this.po.indexOf(e);if(i===-1)throw new Error("source is not attached to scale");this.po.splice(i,1),this.po.length===0&&(this.Do({ln:!0}),this.Lo(null)),this._l(),this.s_()}Lt(){let e=null;for(const i of this.po){const n=i.Lt();n!==null&&(e===null||n.Ea<e.Ea)&&(e=n)}return e===null?null:e.Wt}Ao(){return this.Ps.invertScale}Vl(){const e=this.Lt()===null;if(this.wo!==null&&(e||this.wo.e_===e))return this.wo.Vl;this.Po.Ul();const i=this.Po.Vl();return this.wo={Vl:i,e_:e},this.do.p(),i}r_(){return this.do}h_(e){this.He()||this.Eo()||this.Mo===null&&this.ho===null&&(this.Gi()||(this.Mo=this.eo-e,this.ho=Be(this.er()).Ke()))}a_(e){if(this.He()||this.Eo()||this.Mo===null)return;this.Do({ln:!1}),(e=this.eo-e)<0&&(e=0);let i=(this.Mo+.2*(this.eo-1))/(e+.2*(this.eo-1));const n=Be(this.ho).Ke();i=Math.max(i,.1),n.Je(i),this.Lo(n)}l_(){this.He()||this.Eo()||(this.Mo=null,this.ho=null)}o_(e){this.Vo()||this.bo===null&&this.ho===null&&(this.Gi()||(this.bo=e,this.ho=Be(this.er()).Ke()))}__(e){if(this.Vo()||this.bo===null)return;const i=Be(this.er()).Xe()/(this.Fo()-1);let n=e-this.bo;this.Ao()&&(n*=-1);const s=n*i,r=Be(this.ho).Ke();r.Qe(s),this.Lo(r,!0),this.wo=null}u_(){this.Vo()||this.bo!==null&&(this.bo=null,this.ho=null)}Xa(){return this.Ja||this._l(),this.Ja}Ji(e,i){switch(this.Ps.mode){case 2:return this.c_(Mu(e,i));case 3:return this.Xa().format(ap(e,i));default:return this.lr(e)}}Ql(e){switch(this.Ps.mode){case 2:return this.c_(e);case 3:return this.Xa().format(e);default:return this.lr(e)}}Xl(e){switch(this.Ps.mode){case 2:return this.d_(e);case 3:return this.Xa().formatTickmarks(e);default:return this.f_(e)}}Ma(e){return this.lr(e,Be(this.vo).Xa())}ba(e,i){return e=Mu(e,i),this.c_(e,cL)}p_(){return this.po}v_(e){this.ao={oo:e,lo:!1}}Ws(){this.po.forEach(e=>e.Ws())}jl(){return this.Ps.ensureEdgeTickMarksVisible&&this.Vo()}Kl(){return this.k()/2}_l(){this.wo=null;let e=1/0;this.vo=null;for(const n of this.po)n._s()<e&&(e=n._s(),this.vo=n);let i=100;this.vo!==null&&(i=Math.round(this.vo.qh())),this.Ja=uL,this.He()?(this.Ja=cL,i=100):this.Eo()?(this.Ja=new Cb(100,1),i=100):this.vo!==null&&(this.Ja=this.vo.Xa()),this.Po=new oL(this,i,this.To.bind(this),this.Ro.bind(this)),this.Po.Ul()}s_(){this.mo=null}m_(){return this.vo===null||this.He()||this.Eo()?1:1/this.vo.qh()}Xi(){return this.ko}qo(e){this._o=e}Wo(){return this.Ao()?this.Ps.scaleMargins.bottom*this.$t()+this.co:this.Ps.scaleMargins.top*this.$t()+this.uo}Ho(){return this.Ao()?this.Ps.scaleMargins.top*this.$t()+this.uo:this.Ps.scaleMargins.bottom*this.$t()+this.co}Uo(){this.ao.lo||(this.ao.lo=!0,this.w_())}Io(){this.ro=null}Ro(e,i){if(this.Uo(),this.Gi())return 0;e=this.io()&&e?X2(e,this.So):e;const n=Be(this.er()),s=this.Ho()+(this.Fo()-1)*(e-n.Ze())/n.Xe();return this.jo(s)}To(e,i){if(this.Uo(),this.Gi())return 0;const n=this.jo(e),s=Be(this.er()),r=s.Ze()+s.Xe()*((n-this.Ho())/(this.Fo()-1));return this.io()?op(r,this.So):r}zo(){this.wo=null,this.Po.Ul()}w_(){if(this.Bo()&&!this.Vo())return;const e=this.ao.oo;if(e===null)return;let i=null;const n=this.p_();let s=0,r=0;for(const l of n){if(!l.It())continue;const c=l.Lt();if(c===null)continue;const u=l.ra(e.Aa(),e.bi());let d=u&&u.er();if(d!==null){switch(this.Ps.mode){case 1:d=vf(d,this.So);break;case 2:d=rVe(d,c.Wt);break;case 3:d=aVe(d,c.Wt)}if(i=i===null?d:i.Sn(Be(d)),u!==null){const h=u.rr();h!==null&&(s=Math.max(s,h.above),r=Math.max(r,h.below))}}}if(this.jl()&&(s=Math.max(s,this.Kl()),r=Math.max(r,this.Kl())),s===this.uo&&r===this.co||(this.uo=s,this.co=r,this.wo=null,this.Io()),i!==null){if(i.Ze()===i.Ge()){const l=5*this.m_();this.io()&&(i=Zu(i,this.So)),i=new Xn(i.Ze()-l,i.Ge()+l),this.io()&&(i=vf(i,this.So))}if(this.io()){const l=Zu(i,this.So),c=YE(l);if(a=c,o=this.So,a.Bl!==o.Bl||a.El!==o.El){const u=this.ho!==null?Zu(this.ho,this.So):null;this.So=c,i=vf(l,c),u!==null&&(this.ho=vf(u,c))}}this.Lo(i)}else this.sr===null&&(this.Lo(new Xn(-.5,.5)),this.So=YE(null));var a,o}Ko(){return this.He()?Mu:this.Eo()?ap:this.io()?e=>X2(e,this.So):null}g_(e,i,n){return i===void 0?(n===void 0&&(n=this.Xa()),n.format(e)):i(e)}M_(e,i,n){return i===void 0?(n===void 0&&(n=this.Xa()),n.formatTickmarks(e)):i(e)}lr(e,i){return this.g_(e,this.yo.priceFormatter,i)}f_(e,i){const n=this.yo.priceFormatter;return this.M_(e,this.yo.tickmarksPriceFormatter??(n?s=>s.map(n):void 0),i)}c_(e,i){return this.g_(e,this.yo.percentageFormatter,i)}d_(e,i){const n=this.yo.percentageFormatter;return this.M_(e,this.yo.tickmarksPercentageFormatter??(n?s=>s.map(n):void 0),i)}}function dL(t){return t instanceof Rb}class hL{constructor(e,i){this.po=[],this.b_=new Map,this.eo=0,this.S_=0,this.x_=1,this.mo=null,this.C_=!1,this.y_=new ki,this.ua=[],this.Jh=e,this.ns=i,this.k_=new sVe(this);const n=i.N();this.P_=this.T_("left",n.leftPriceScale),this.R_=this.T_("right",n.rightPriceScale),this.P_.Oo().i(this.D_.bind(this,this.P_),this),this.R_.Oo().i(this.D_.bind(this,this.R_),this),this.I_(n)}I_(e){if(e.leftPriceScale&&this.P_.cr(e.leftPriceScale),e.rightPriceScale&&this.R_.cr(e.rightPriceScale),e.localization&&(this.P_._l(),this.R_._l()),e.overlayPriceScales){const i=Array.from(this.b_.values());for(const n of i){const s=Be(n[0].Ft());s.cr(e.overlayPriceScales),e.localization&&s._l()}}}V_(e){switch(e){case"left":return this.P_;case"right":return this.R_}return this.b_.has(e)?ls(this.b_.get(e))[0].Ft():null}m(){this.Qt().B_().u(this),this.P_.Oo().u(this),this.R_.Oo().u(this),this.po.forEach(e=>{e.m&&e.m()}),this.ua=this.ua.filter(e=>{const i=e.Gh();return i.detached&&i.detached(),!1}),this.y_.p()}E_(){return this.x_}A_(e){this.x_=e}Qt(){return this.ns}ss(){return this.S_}$t(){return this.eo}L_(e){this.S_=e,this.z_()}No(e){this.eo=e,this.P_.No(e),this.R_.No(e),this.po.forEach(i=>{if(this.Zn(i)){const n=i.Ft();n!==null&&n.No(e)}}),this.z_()}O_(e){this.C_=e}N_(){return this.C_}F_(){return this.po.filter(dL)}Sl(){return this.po}Zn(e){const i=e.Ft();return i===null||this.P_!==i&&this.R_!==i}i_(e,i,n){this.W_(e,i,n?e._s():this.po.length)}n_(e,i){const n=this.po.indexOf(e);gn(n!==-1,"removeDataSource: invalid data source"),this.po.splice(n,1),i||this.po.forEach((a,o)=>a.us(o));const s=Be(e.Ft()).ol();if(this.b_.has(s)){const a=ls(this.b_.get(s)),o=a.indexOf(e);o!==-1&&(a.splice(o,1),a.length===0&&this.b_.delete(s))}const r=e.Ft();r&&r.Sl().indexOf(e)>=0&&(r.n_(e),this.H_(r)),this.mo=null}Xn(e){return e===this.P_?"left":e===this.R_?"right":"overlay"}U_(){return this.P_}q_(){return this.R_}j_(e,i){e.h_(i)}Y_(e,i){e.a_(i),this.z_()}K_(e){e.l_()}Z_(e,i){e.o_(i)}G_(e,i){e.__(i),this.z_()}X_(e){e.u_()}z_(){this.po.forEach(e=>{e.Ws()})}Rs(){let e=null;return this.ns.N().rightPriceScale.visible&&this.R_.Sl().length!==0?e=this.R_:this.ns.N().leftPriceScale.visible&&this.P_.Sl().length!==0?e=this.P_:this.po.length!==0&&(e=this.po[0].Ft()),e===null&&(e=this.R_),e}Gn(){let e=null;return this.ns.N().rightPriceScale.visible?e=this.R_:this.ns.N().leftPriceScale.visible&&(e=this.P_),e}H_(e){e!==null&&e.Vo()&&this.J_(e)}Q_(e){const i=this.Jh.Ie();e.Do({ln:!0}),i!==null&&e.v_(i),this.z_()}tu(){this.J_(this.P_),this.J_(this.R_)}iu(){this.H_(this.P_),this.H_(this.R_),this.po.forEach(e=>{this.Zn(e)&&this.H_(e.Ft())}),this.z_(),this.ns.dr()}Dt(){return this.mo===null&&(this.mo=cY(this.po)),this.mo}su(e,i){i=rp(i,0,this.po.length-1);const n=this.po.indexOf(e);gn(n!==-1,"setSeriesOrder: invalid data source"),this.po.splice(n,1),this.po.splice(i,0,e),this.po.forEach((s,r)=>s.us(r)),this.mo=null;for(const s of[this.P_,this.R_])s.s_(),s._l();this.ns.dr()}Vt(){return this.Dt().filter(dL)}nu(){return this.y_}eu(){return this.k_}nl(e){this.ua.push(new Y7e(e))}el(e){this.ua=this.ua.filter(i=>i.Gh()!==e),e.detached&&e.detached(),this.ns.dr()}ru(){return this.ua}Za(e,i){return this.ua.map(n=>n.Qn(e,i)).filter(n=>n!==null)}J_(e){const i=e.p_();if(i&&i.length>0&&!this.Jh.Gi()){const n=this.Jh.Ie();n!==null&&e.v_(n)}e.Ws()}W_(e,i,n){let s=this.V_(i);if(s===null&&(s=this.T_(i,this.ns.N().overlayPriceScales)),this.po.splice(n,0,e),!Tb(i)){const r=this.b_.get(i)||[];r.push(e),this.b_.set(i,r)}e.us(n),s.i_(e),e.cs(s),this.H_(s),this.mo=null}D_(e,i,n){i.ae!==n.ae&&this.J_(e)}T_(e,i){const n={visible:!0,autoScale:!0,...eo(i)},s=new oVe(e,n,this.ns.N().layout,this.ns.N().localization,this.ns.Xi());return s.No(this.$t()),s}}function e1(t){return{hu:t.hu,au:{te:t.lu.externalId},ou:t.lu.cursorStyle}}function lVe(t,e,i,n){for(const s of t){const r=s.Tt(n);if(r!==null&&r.Qn){const a=r.Qn(e,i);if(a!==null)return{_u:s,au:a}}}return null}function cVe(t){return t.Ys!==void 0}function uY(t,e,i){const n=[t,...t.Dt()],s=function(r,a,o){var l;let c,u;for(const f of r){const p=((l=f.Za)==null?void 0:l.call(f,a,o))??[];for(const m of p)d=m.zOrder,h=c==null?void 0:c.zOrder,(!h||d==="top"&&h!=="top"||d==="normal"&&h==="bottom")&&(c=m,u=f)}var d,h;return c&&u?{lu:c,hu:u}:null}(n,e,i);if((s==null?void 0:s.lu.zOrder)==="top")return e1(s);for(const r of n){if(s&&s.hu===r&&s.lu.zOrder!=="bottom"&&!s.lu.isBackground)return e1(s);if(cVe(r)){const a=lVe(r.Ys(t),e,i,t);if(a!==null)return{hu:r,_u:a._u,au:a.au}}if(s&&s.hu===r&&s.lu.zOrder!=="bottom"&&s.lu.isBackground)return e1(s)}return s!=null&&s.lu?e1(s):null}class uVe{constructor(e,i,n=50){this.Vn=0,this.Bn=1,this.En=1,this.Ln=new Map,this.An=new Map,this.uu=e,this.cu=i,this.zn=n}du(e){const i=e.time,n=this.cu.cacheKey(i),s=this.Ln.get(n);if(s!==void 0)return s.fu;if(this.Vn===this.zn){const a=this.An.get(this.En);this.An.delete(this.En),this.Ln.delete(ls(a)),this.En++,this.Vn--}const r=this.uu(e);return this.Ln.set(n,{fu:r,Wn:this.Bn}),this.An.set(this.Bn,n),this.Vn++,this.Bn++,r}}class lp{constructor(e,i){gn(e<=i,"right should be >= left"),this.pu=e,this.vu=i}Aa(){return this.pu}bi(){return this.vu}mu(){return this.vu-this.pu+1}Ee(e){return this.pu<=e&&e<=this.vu}Ye(e){return this.pu===e.Aa()&&this.vu===e.bi()}}function fL(t,e){return t===null||e===null?t===e:t.Ye(e)}class dVe{constructor(){this.wu=new Map,this.Ln=null,this.gu=!1}Mu(e){this.gu=e,this.Ln=null}bu(e,i){this.Su(i),this.Ln=null;for(let n=i;n<e.length;++n){const s=e[n];let r=this.wu.get(s.timeWeight);r===void 0&&(r=[],this.wu.set(s.timeWeight,r)),r.push({index:n,time:s.time,weight:s.timeWeight,originalTime:s.originalTime})}}xu(e,i,n,s,r){const a=Math.ceil(i/e);return this.Ln!==null&&this.Ln.Cu===a&&r===this.Ln.yu&&n===this.Ln.ku||(this.Ln={yu:r,ku:n,Vl:this.Pu(a,n,s),Cu:a}),this.Ln.Vl}Su(e){if(e===0)return void this.wu.clear();const i=[];this.wu.forEach((n,s)=>{e<=n[0].index?i.push(s):n.splice(jd(n,e,r=>r.index<e),1/0)});for(const n of i)this.wu.delete(n)}Pu(e,i,n){let s=[];const r=a=>!i||n.has(a.index);for(const a of Array.from(this.wu.keys()).sort((o,l)=>l-o)){if(!this.wu.get(a))continue;const o=s;s=[];const l=o.length;let c=0;const u=ls(this.wu.get(a)),d=u.length;let h=1/0,f=-1/0;for(let p=0;p<d;p++){const m=u[p],v=m.index;for(;c<l;){const g=o[c],E=g.index;if(!(E<v&&r(g))){h=E;break}c++,s.push(g),f=E,h=1/0}if(h-v>=e&&v-f>=e&&r(m))s.push(m),f=v;else if(this.gu)return o}for(;c<l;c++)r(o[c])&&s.push(o[c])}return s}}class ld{constructor(e){this.Tu=e}Ru(){return this.Tu===null?null:new lp(Math.floor(this.Tu.Aa()),Math.ceil(this.Tu.bi()))}Du(){return this.Tu}static Iu(){return new ld(null)}}function hVe(t,e){return t.weight>e.weight?t:e}class fVe{constructor(e,i,n,s){this.S_=0,this.Vu=null,this.Bu=[],this.bo=null,this.Mo=null,this.Eu=new dVe,this.Au=new Map,this.Lu=ld.Iu(),this.zu=!0,this.Ou=new ki,this.Nu=new ki,this.Fu=new ki,this.Wu=null,this.Hu=null,this.Uu=new Map,this.$u=-1,this.qu=[],this.ju=1,this.Ps=i,this.yo=n,this.Yu=i.rightOffset,this.Ku=i.barSpacing,this.ns=e,this.Zu(i),this.cu=s,this.Gu(),this.Eu.Mu(i.uniformDistribution),this.Xu(),this.Ju()}N(){return this.Ps}Qu(e){Cs(this.yo,e),this.tc(),this.Gu()}cr(e,i){Cs(this.Ps,e),this.Ps.fixLeftEdge&&this.sc(),this.Ps.fixRightEdge&&this.nc(),e.barSpacing!==void 0&&this.ns.gn(e.barSpacing),e.rightOffset!==void 0&&this.ns.Mn(e.rightOffset),this.Zu(e),e.minBarSpacing===void 0&&e.maxBarSpacing===void 0||this.ns.gn(e.barSpacing??this.Ku),e.ignoreWhitespaceIndices!==void 0&&e.ignoreWhitespaceIndices!==this.Ps.ignoreWhitespaceIndices&&this.Ju(),this.tc(),this.Gu(),e.enableConflation===void 0&&e.conflationThresholdFactor===void 0||this.Xu(),this.Fu.p()}Is(e){var i;return((i=this.Bu[e])==null?void 0:i.time)??null}es(e){return this.Bu[e]??null}ec(e,i){if(this.Bu.length<1)return null;if(this.cu.key(e)>this.cu.key(this.Bu[this.Bu.length-1].time))return i?this.Bu.length-1:null;const n=jd(this.Bu,this.cu.key(e),(s,r)=>this.cu.key(s.time)<r);return this.cu.key(e)<this.cu.key(this.Bu[n].time)?i?n:null:n}Gi(){return this.S_===0||this.Bu.length===0||this.Vu===null}rc(){return this.Bu.length>0}Ie(){return this.hc(),this.Lu.Ru()}ac(){return this.hc(),this.Lu.Du()}lc(){const e=this.Ie();if(e===null)return null;const i={from:e.Aa(),to:e.bi()};return this.oc(i)}oc(e){const i=Math.round(e.from),n=Math.round(e.to),s=Be(this._c()),r=Be(this.uc());return{from:Be(this.es(Math.max(s,i))),to:Be(this.es(Math.min(r,n)))}}cc(e){return{from:Be(this.ec(e.from,!0)),to:Be(this.ec(e.to,!0))}}ss(){return this.S_}L_(e){if(!isFinite(e)||e<=0||this.S_===e)return;const i=this.ac(),n=this.S_;if(this.S_=e,this.zu=!0,this.Ps.lockVisibleTimeRangeOnResize&&n!==0){const s=this.Ku*e/n;this.Ku=s}if(this.Ps.fixLeftEdge&&i!==null&&i.Aa()<=0){const s=n-e;this.Yu-=Math.round(s/this.Ku)+1,this.zu=!0}this.dc(),this.fc()}qt(e){if(this.Gi()||!Yp(e))return 0;const i=this.vc()+this.Yu-e;return this.S_-(i+.5)*this.Ku-1}mc(e,i){const n=this.vc(),s=i===void 0?0:i.from,r=i===void 0?e.length:i.to;for(let a=s;a<r;a++){const o=e[a].wt,l=n+this.Yu-o,c=this.S_-(l+.5)*this.Ku-1;e[a]._t=c}}wc(e,i){const n=Math.ceil(this.gc(e));return i&&this.Ps.ignoreWhitespaceIndices&&!this.Mc(n)?this.bc(n):n}Mn(e){this.zu=!0,this.Yu=e,this.fc(),this.ns.Sc(),this.ns.dr()}ul(){return this.Ku}gn(e){const i=this.Ku;if(this.xc(e),this.Ps.rightOffsetPixels!==void 0&&i!==0){const n=this.Yu*i/this.Ku;this.Yu=n}this.fc(),this.ns.Sc(),this.ns.dr()}Cc(){return this.Yu}Vl(){if(this.Gi())return null;if(this.Hu!==null)return this.Hu;const e=this.Ku,i=5*(this.ns.N().layout.fontSize+4)/8*(this.Ps.tickMarkMaxCharacterLength||8),n=Math.round(i/e),s=Be(this.Ie()),r=Math.max(s.Aa(),s.Aa()-n),a=Math.max(s.bi(),s.bi()-n),o=this.Eu.xu(e,i,this.Ps.ignoreWhitespaceIndices,this.Uu,this.$u),l=this._c()+n,c=this.uc()-n,u=this.yc(),d=this.Ps.fixLeftEdge||u,h=this.Ps.fixRightEdge||u;let f=0;for(const p of o){if(!(r<=p.index&&p.index<=a))continue;let m;f<this.qu.length?(m=this.qu[f],m.coord=this.qt(p.index),m.label=this.kc(p),m.weight=p.weight):(m={needAlignCoordinate:!1,coord:this.qt(p.index),label:this.kc(p),weight:p.weight},this.qu.push(m)),this.Ku>i/2&&!u?m.needAlignCoordinate=!1:m.needAlignCoordinate=d&&p.index<=l||h&&p.index>=c,f++}return this.qu.length=f,this.Hu=this.qu,this.qu}Pc(){let e;this.zu=!0,this.gn(this.Ps.barSpacing),e=this.Ps.rightOffsetPixels!==void 0?this.Ps.rightOffsetPixels/this.ul():this.Ps.rightOffset,this.Mn(e)}Tc(e){this.zu=!0,this.Vu=e,this.fc(),this.sc()}Rc(e,i){const n=this.gc(e),s=this.ul(),r=s+i*(s/10);this.gn(r),this.Ps.rightBarStaysOnScroll||this.Mn(this.Cc()+(n-this.gc(e)))}h_(e){this.bo&&this.u_(),this.Mo===null&&this.Wu===null&&(this.Gi()||(this.Mo=e,this.Dc()))}a_(e){if(this.Wu===null)return;const i=rp(this.S_-e,0,this.S_),n=rp(this.S_-Be(this.Mo),0,this.S_);i!==0&&n!==0&&this.gn(this.Wu.ul*i/n)}l_(){this.Mo!==null&&(this.Mo=null,this.Ic())}o_(e){this.bo===null&&this.Wu===null&&(this.Gi()||(this.bo=e,this.Dc()))}__(e){if(this.bo===null)return;const i=(this.bo-e)/this.ul();this.Yu=Be(this.Wu).Cc+i,this.zu=!0,this.fc()}u_(){this.bo!==null&&(this.bo=null,this.Ic())}Vc(){this.Bc(this.Ps.rightOffset)}Bc(e,i=400){if(!isFinite(e))throw new RangeError("offset is required and must be finite number");if(!isFinite(i)||i<=0)throw new RangeError("animationDuration (optional) must be finite positive number");const n=this.Yu,s=performance.now();this.ns.vn({Ec:r=>(r-s)/i>=1,Ac:r=>{const a=(r-s)/i;return a>=1?e:n+(e-n)*a}})}kt(e,i){this.zu=!0,this.Bu=e,this.Eu.bu(e,i),this.fc()}Lc(){return this.Ou}zc(){return this.Nu}Oc(){return this.Fu}vc(){return this.Vu||0}Nc(e,i){const n=e.mu(),s=i&&this.Ps.rightOffsetPixels||0;this.xc((this.S_-s)/n),this.Yu=e.bi()-this.vc(),i&&(this.Yu=s?s/this.ul():this.Ps.rightOffset),this.fc(),this.zu=!0,this.ns.Sc(),this.ns.dr()}Fc(){const e=this._c(),i=this.uc();if(e===null||i===null)return;const n=!this.Ps.rightOffsetPixels&&this.Ps.rightOffset||0;this.Nc(new lp(e,i+n),!0)}Wc(e){const i=new lp(e.from,e.to);this.Nc(i)}rs(e){return this.yo.timeFormatter!==void 0?this.yo.timeFormatter(e.originalTime):this.cu.formatHorzItem(e.time)}Ju(){if(!this.Ps.ignoreWhitespaceIndices)return;this.Uu.clear();const e=this.ns.tn();for(const i of e)for(const n of i.ll())this.Uu.set(n,!0);this.$u++}Hc(){return this.ju}vl(){const e=1/(window.devicePixelRatio||1),i=this.Ps.minBarSpacing;if(i>=e)return[1];const n=[1];let s=2;for(;s<=512;)i<e/s&&n.push(s),s*=2;return n}yc(){const e=this.ns.N().handleScroll,i=this.ns.N().handleScale;return!(e.horzTouchDrag||e.mouseWheel||e.pressedMouseMove||e.vertTouchDrag||i.axisDoubleClickReset.time||i.axisPressedMouseMove.time||i.mouseWheel||i.pinch)}_c(){return this.Bu.length===0?null:0}uc(){return this.Bu.length===0?null:this.Bu.length-1}Uc(e){return(this.S_-1-e)/this.Ku}gc(e){const i=this.Uc(e),n=this.vc()+this.Yu-i;return Math.round(1e6*n)/1e6}xc(e){const i=this.Ku;this.Ku=e,this.dc(),i!==this.Ku&&(this.zu=!0,this.$c(),this.Xu())}hc(){if(!this.zu)return;if(this.zu=!1,this.Gi())return void this.qc(ld.Iu());const e=this.vc(),i=this.S_/this.Ku,n=this.Yu+e,s=new lp(n-i+1,n);this.qc(new ld(s))}dc(){const e=rp(this.Ku,this.jc(),this.Yc());this.Ku!==e&&(this.Ku=e,this.zu=!0)}Yc(){return this.Ps.maxBarSpacing>0?this.Ps.maxBarSpacing:.5*this.S_}jc(){return this.Ps.fixLeftEdge&&this.Ps.fixRightEdge&&this.Bu.length!==0?this.S_/this.Bu.length:this.Ps.minBarSpacing}Xu(){if(!this.Ps.enableConflation)return void(this.ju=1);const e=1/(window.devicePixelRatio||1)*(this.Ps.conflationThresholdFactor??1);if(this.Ku>=e)return void(this.ju=1);const i=e/this.Ku,n=Math.pow(2,Math.floor(Math.log2(i)));this.ju=Math.min(n,512)}fc(){const e=this.Kc();e!==null&&this.Yu<e&&(this.Yu=e,this.zu=!0);const i=this.Zc();this.Yu>i&&(this.Yu=i,this.zu=!0)}Kc(){const e=this._c(),i=this.Vu;return e===null||i===null?null:e-i-1+(this.Ps.fixLeftEdge?this.S_/this.Ku:Math.min(2,this.Bu.length))}Zc(){return this.Ps.fixRightEdge?0:this.S_/this.Ku-Math.min(2,this.Bu.length)}Dc(){this.Wu={ul:this.ul(),Cc:this.Cc()}}Ic(){this.Wu=null}kc(e){let i=this.Au.get(e.weight);return i===void 0&&(i=new uVe(n=>this.Gc(n),this.cu),this.Au.set(e.weight,i)),i.du(e)}Gc(e){return this.cu.formatTickmark(e,this.yo)}qc(e){const i=this.Lu;this.Lu=e,fL(i.Ru(),this.Lu.Ru())||this.Ou.p(),fL(i.Du(),this.Lu.Du())||this.Nu.p(),this.$c()}$c(){this.Hu=null}tc(){this.$c(),this.Au.clear()}Gu(){this.cu.updateFormatter(this.yo)}sc(){if(!this.Ps.fixLeftEdge)return;const e=this._c();if(e===null)return;const i=this.Ie();if(i===null)return;const n=i.Aa()-e;if(n<0){const s=this.Yu-n-1;this.Mn(s)}this.dc()}nc(){this.fc(),this.dc()}Mc(e){return!this.Ps.ignoreWhitespaceIndices||this.Uu.get(e)||!1}bc(e){const i=function*(s){const r=Math.round(s),a=r<s;let o=1;for(;;)a?(yield r+o,yield r-o):(yield r-o,yield r+o),o++}(e),n=this.uc();for(;n;){const s=i.next().value;if(this.Uu.get(s))return s;if(s<0||s>n)break}return e}Zu(e){if(e.rightOffsetPixels!==void 0){const i=e.rightOffsetPixels/(e.barSpacing||this.Ku);this.ns.Mn(i)}}}var pL,mL,gL,eT,yL;(function(t){t[t.OnTouchEnd=0]="OnTouchEnd",t[t.OnNextTap=1]="OnNextTap"})(pL||(pL={}));class pVe{constructor(e,i,n){this.Xc=[],this.Jc=[],this.Qc=null,this.S_=0,this.td=null,this.sd=new ki,this.nd=new ki,this.ed=null,this.rd=e,this.Ps=i,this.cu=n,this.ko=new d7e(this.Ps.layout.colorParsers),this.hd=new u7e(this),this.Jh=new fVe(this,i.timeScale,this.Ps.localization,n),this.Ct=new S7e(this,i.crosshair),this.ad=new tVe(i.crosshair),i.addDefaultPane&&(this.ld(0),this.Xc[0].A_(2)),this.od=this._d(0),this.ud=this._d(1)}Ca(){this.dd(Jn.yn())}dr(){this.dd(Jn.Cn())}Ua(){this.dd(new Jn(1))}ya(e){const i=this.fd(e);this.dd(i)}pd(){return this.td}vd(e){var i,n,s,r;if(((i=this.td)==null?void 0:i.hu)===(e==null?void 0:e.hu)&&((s=(n=this.td)==null?void 0:n.au)==null?void 0:s.te)===((r=e==null?void 0:e.au)==null?void 0:r.te))return;const a=this.td;this.td=e,a!==null&&this.ya(a.hu),e!==null&&e.hu!==(a==null?void 0:a.hu)&&this.ya(e.hu)}N(){return this.Ps}cr(e){Cs(this.Ps,e),this.Xc.forEach(i=>i.I_(e)),e.timeScale!==void 0&&this.Jh.cr(e.timeScale),e.localization!==void 0&&this.Jh.Qu(e.localization),(e.leftPriceScale||e.rightPriceScale)&&this.sd.p(),this.od=this._d(0),this.ud=this._d(1),this.Ca()}md(e,i,n=0){const s=this.Xc[n];if(s===void 0)return;if(e==="left")return Cs(this.Ps,{leftPriceScale:i}),s.I_({leftPriceScale:i}),this.sd.p(),void this.Ca();if(e==="right")return Cs(this.Ps,{rightPriceScale:i}),s.I_({rightPriceScale:i}),this.sd.p(),void this.Ca();const r=this.wd(e,n);r!==null&&(r.Ft.cr(i),this.sd.p())}wd(e,i){const n=this.Xc[i];if(n===void 0)return null;const s=n.V_(e);return s!==null?{Gs:n,Ft:s}:null}Et(){return this.Jh}Xs(){return this.Xc}gd(){return this.Ct}Md(){return this.nd}bd(e,i){e.No(i),this.Sc()}L_(e){this.S_=e,this.Jh.L_(this.S_),this.Xc.forEach(i=>i.L_(e)),this.Sc()}Sd(e){this.Xc.length!==1&&(gn(e>=0&&e<this.Xc.length,"Invalid pane index"),this.Xc.splice(e,1),this.Ca())}xd(e,i){if(this.Xc.length<2)return;gn(e>=0&&e<this.Xc.length,"Invalid pane index");const n=this.Xc[e],s=this.Xc.reduce((d,h)=>d+h.E_(),0),r=this.Xc.reduce((d,h)=>d+h.$t(),0),a=r-30*(this.Xc.length-1);i=Math.min(a,Math.max(30,i));const o=s/r,l=n.$t();n.A_(i*o);let c=i-l,u=this.Xc.length-1;for(const d of this.Xc)if(d!==n){const h=Math.min(a,Math.max(30,d.$t()-c/u));c-=d.$t()-h,u-=1;const f=h*o;d.A_(f)}this.Ca()}Cd(e,i){gn(e>=0&&e<this.Xc.length&&i>=0&&i<this.Xc.length,"Invalid pane index");const n=this.Xc[e],s=this.Xc[i];this.Xc[e]=s,this.Xc[i]=n,this.Ca()}yd(e,i){if(gn(e>=0&&e<this.Xc.length&&i>=0&&i<this.Xc.length,"Invalid pane index"),e===i)return;const[n]=this.Xc.splice(e,1);this.Xc.splice(i,0,n),this.Ca()}j_(e,i,n){e.j_(i,n)}Y_(e,i,n){e.Y_(i,n),this.ka(),this.dd(this.kd(e,2))}K_(e,i){e.K_(i),this.dd(this.kd(e,2))}Z_(e,i,n){i.Vo()||e.Z_(i,n)}G_(e,i,n){i.Vo()||(e.G_(i,n),this.ka(),this.dd(this.kd(e,2)))}X_(e,i){i.Vo()||(e.X_(i),this.dd(this.kd(e,2)))}Q_(e,i){e.Q_(i),this.dd(this.kd(e,2))}Pd(e){this.Jh.h_(e)}Td(e,i){const n=this.Et();if(n.Gi()||i===0)return;const s=n.ss();e=Math.max(1,Math.min(e,s)),n.Rc(e,i),this.Sc()}Rd(e){this.Dd(0),this.Id(e),this.Vd()}Bd(e){this.Jh.a_(e),this.Sc()}Ed(){this.Jh.l_(),this.dr()}Dd(e){this.Jh.o_(e)}Id(e){this.Jh.__(e),this.Sc()}Vd(){this.Jh.u_(),this.dr()}tn(){return this.Jc}Us(){return this.Qc===null&&(this.Qc=this.Jc.filter(e=>e.It())),this.Qc}xa(){this.Qc=null}Ad(e,i,n,s,r){this.Ct.Bs(e,i);let a=NaN,o=this.Jh.wc(e,!0);const l=this.Jh.Ie();l!==null&&(o=Math.min(Math.max(l.Aa(),o),l.bi())),o=this.Ct.Hs(o);const c=s.Rs(),u=c.Lt();if(u!==null&&(a=c.Ds(i,u)),a=this.ad.bl(a,o,s),this.Ct.zs(o,a,s),this.Ua(),!r){const d=uY(s,e,i);this.vd(d&&{hu:d.hu,au:d.au,ou:d.ou||null}),this.nd.p(this.Ct.Bt(),{x:e,y:i},n)}}Ld(e,i,n){const s=n.Rs(),r=s.Lt(),a=s.Nt(e,Be(r)),o=this.Jh.ec(i,!0),l=this.Jh.qt(Be(o));this.Ad(l,a,null,n,!0)}zd(e){this.gd().Ns(),this.Ua(),e||this.nd.p(null,null,null)}ka(){const e=this.Ct.Gs();if(e!==null){const i=this.Ct.As(),n=this.Ct.Ls();this.Ad(i,n,null,e)}this.Ct.Ws()}Od(e,i,n){const s=this.Jh.Is(0);i!==void 0&&n!==void 0&&this.Jh.kt(i,n);const r=this.Jh.Is(0),a=this.Jh.vc(),o=this.Jh.Ie();if(o!==null&&s!==null&&r!==null){const l=o.Ee(a),c=this.cu.key(s)>this.cu.key(r),u=e!==null&&e>a&&!c,d=this.Jh.N().allowShiftVisibleRangeOnWhitespaceReplacement,h=l&&(n!==void 0||d)&&this.Jh.N().shiftVisibleRangeOnNewBar;if(u&&!h){const f=e-a;this.Jh.Mn(this.Jh.Cc()-f)}}this.Jh.Tc(e)}Ra(e){e!==null&&e.iu()}Kn(e){if(function(n){return n instanceof hL}(e))return e;const i=this.Xc.find(n=>n.Dt().includes(e));return i===void 0?null:i}Sc(){this.Xc.forEach(e=>e.iu()),this.ka()}m(){this.Xc.forEach(e=>e.m()),this.Xc.length=0,this.Ps.localization.priceFormatter=void 0,this.Ps.localization.percentageFormatter=void 0,this.Ps.localization.timeFormatter=void 0}Nd(){return this.hd}Jn(){return this.hd.N()}B_(){return this.sd}Fd(e,i){const n=this.ld(i);this.Wd(e,n),this.Jc.push(e),this.xa(),this.Jc.length===1?this.Ca():this.dr()}Hd(e){const i=this.Kn(e),n=this.Jc.indexOf(e);gn(n!==-1,"Series not found");const s=Be(i);this.Jc.splice(n,1),s.n_(e),e.m&&e.m(),this.xa(),this.Jh.Ju(),this.Ud(s)}Sa(e,i){const n=Be(this.Kn(e));n.n_(e,!0),n.i_(e,i,!0)}Fc(){const e=Jn.Cn();e.cn(),this.dd(e)}$d(e){const i=Jn.Cn();i.pn(e),this.dd(i)}wn(){const e=Jn.Cn();e.wn(),this.dd(e)}gn(e){const i=Jn.Cn();i.gn(e),this.dd(i)}Mn(e){const i=Jn.Cn();i.Mn(e),this.dd(i)}vn(e){const i=Jn.Cn();i.vn(e),this.dd(i)}dn(){const e=Jn.Cn();e.dn(),this.dd(e)}qd(){return this.Ps.rightPriceScale.visible?"right":"left"}jd(e,i){if(gn(i>=0,"Index should be greater or equal to 0"),i===this.Yd(e))return;const n=Be(this.Kn(e));n.n_(e);const s=this.ld(i);this.Wd(e,s),n.Sl().length===0&&this.Ud(n),this.Ca()}Kd(){return this.ud}$(){return this.od}Ut(e){const i=this.ud,n=this.od;if(i===n)return i;if(e=Math.max(0,Math.min(100,Math.round(100*e))),this.ed===null||this.ed.eh!==n||this.ed.rh!==i)this.ed={eh:n,rh:i,Zd:new Map};else{const r=this.ed.Zd.get(e);if(r!==void 0)return r}const s=this.ko.tt(n,i,e/100);return this.ed.Zd.set(e,s),s}Gd(e){return this.Xc.indexOf(e)}Xi(){return this.ko}Xd(){return this.Jd()}Jd(e){const i=new hL(this.Jh,this);this.Xc.push(i);const n=e??this.Xc.length-1,s=Jn.yn();return s.hn(n,{an:0,ln:!0}),this.dd(s),i}ld(e){return gn(e>=0,"Index should be greater or equal to 0"),(e=Math.min(this.Xc.length,e))<this.Xc.length?this.Xc[e]:this.Jd(e)}Yd(e){return this.Xc.findIndex(i=>i.F_().includes(e))}kd(e,i){const n=new Jn(i);if(e!==null){const s=this.Xc.indexOf(e);n.hn(s,{an:i})}return n}fd(e,i){return i===void 0&&(i=2),this.kd(this.Kn(e),i)}dd(e){this.rd&&this.rd(e),this.Xc.forEach(i=>i.eu().pr().kt())}Wd(e,i){const n=e.N().priceScaleId,s=n!==void 0?n:this.qd();i.i_(e,s),Tb(s)||e.cr(e.N())}_d(e){const i=this.Ps.layout;return i.background.type==="gradient"?e===0?i.background.topColor:i.background.bottomColor:i.background.color}Ud(e){!e.N_()&&e.Sl().length===0&&this.Xc.length>1&&this.Xc.splice(this.Gd(e),1)}}function dY(t){if(t>=1)return 0;let e=0;for(;e<8;e++){const i=Math.round(t);if(Math.abs(i-t)<1e-8)return e;t*=10}return e}function tT(t){return!Jd(t)&&!F0(t)}function hY(t){return Jd(t)}(function(t){t[t.Disabled=0]="Disabled",t[t.Continuous=1]="Continuous",t[t.OnDataUpdate=2]="OnDataUpdate"})(mL||(mL={})),function(t){t[t.LastBar=0]="LastBar",t[t.LastVisible=1]="LastVisible"}(gL||(gL={})),function(t){t.Solid="solid",t.VerticalGradient="gradient"}(eT||(eT={})),function(t){t[t.Year=0]="Year",t[t.Month=1]="Month",t[t.DayOfMonth=2]="DayOfMonth",t[t.Time=3]="Time",t[t.TimeWithSeconds=4]="TimeWithSeconds"}(yL||(yL={}));const bL=t=>t.getUTCFullYear();function mVe(t,e,i){return e.replace(/yyyy/g,(n=>to(bL(n),4))(t)).replace(/yy/g,(n=>to(bL(n)%100,2))(t)).replace(/MMMM/g,((n,s)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(s,{month:"long"}))(t,i)).replace(/MMM/g,((n,s)=>new Date(n.getUTCFullYear(),n.getUTCMonth(),1).toLocaleString(s,{month:"short"}))(t,i)).replace(/MM/g,(n=>to((s=>s.getUTCMonth()+1)(n),2))(t)).replace(/dd/g,(n=>to((s=>s.getUTCDate())(n),2))(t))}class fY{constructor(e="yyyy-MM-dd",i="default"){this.Qd=e,this.tf=i}du(e){return mVe(e,this.Qd,this.tf)}}class gVe{constructor(e){this.if=e||"%h:%m:%s"}du(e){return this.if.replace("%h",to(e.getUTCHours(),2)).replace("%m",to(e.getUTCMinutes(),2)).replace("%s",to(e.getUTCSeconds(),2))}}const yVe={sf:"yyyy-MM-dd",nf:"%h:%m:%s",ef:" ",rf:"default"};class bVe{constructor(e={}){const i={...yVe,...e};this.hf=new fY(i.sf,i.rf),this.af=new gVe(i.nf),this.lf=i.ef}du(e){return`${this.hf.du(e)}${this.lf}${this.af.du(e)}`}}function t1(t){return 60*t*60*1e3}function KE(t){return 60*t*1e3}const i1=[{_f:(vL=1,1e3*vL),uf:10},{_f:KE(1),uf:20},{_f:KE(5),uf:21},{_f:KE(30),uf:22},{_f:t1(1),uf:30},{_f:t1(3),uf:31},{_f:t1(6),uf:32},{_f:t1(12),uf:33}];var vL;function EL(t,e){if(t.getUTCFullYear()!==e.getUTCFullYear())return 70;if(t.getUTCMonth()!==e.getUTCMonth())return 60;if(t.getUTCDate()!==e.getUTCDate())return 50;for(let i=i1.length-1;i>=0;--i)if(Math.floor(e.getTime()/i1[i]._f)!==Math.floor(t.getTime()/i1[i]._f))return i1[i].uf;return 0}function zE(t){let e=t;if(F0(t)&&(e=j4(t)),!tT(e))throw new Error("time must be of type BusinessDay");const i=new Date(Date.UTC(e.year,e.month-1,e.day,0,0,0,0));return{cf:Math.round(i.getTime()/1e3),df:e}}function AL(t){if(!hY(t))throw new Error("time must be of type isUTCTimestamp");return{cf:t}}function j4(t){const e=new Date(t);if(isNaN(e.getTime()))throw new Error(`Invalid date string=${t}, expected format=yyyy-mm-dd`);return{day:e.getUTCDate(),month:e.getUTCMonth()+1,year:e.getUTCFullYear()}}function SL(t){F0(t.time)&&(t.time=j4(t.time))}class TL{options(){return this.Ps}setOptions(e){this.Ps=e,this.updateFormatter(e.localization)}preprocessData(e){Array.isArray(e)?function(i){i.forEach(SL)}(e):SL(e)}createConverterToInternalObj(e){return Be(function(i){return i.length===0?null:tT(i[0].time)||F0(i[0].time)?zE:AL}(e))}key(e){return typeof e=="object"&&"cf"in e?e.cf:this.key(this.convertHorzItemToInternal(e))}cacheKey(e){const i=e;return i.df===void 0?new Date(1e3*i.cf).getTime():new Date(Date.UTC(i.df.year,i.df.month-1,i.df.day)).getTime()}convertHorzItemToInternal(e){return hY(i=e)?AL(i):tT(i)?zE(i):zE(j4(i));var i}updateFormatter(e){if(!this.Ps)return;const i=e.dateFormat;this.Ps.timeScale.timeVisible?this.ff=new bVe({sf:i,nf:this.Ps.timeScale.secondsVisible?"%h:%m:%s":"%h:%m",ef:"   ",rf:e.locale}):this.ff=new fY(i,e.locale)}formatHorzItem(e){const i=e;return this.ff.du(new Date(1e3*i.cf))}formatTickmark(e,i){const n=function(r,a,o){switch(r){case 0:case 10:return a?o?4:3:2;case 20:case 21:case 22:case 30:case 31:case 32:case 33:return a?3:2;case 50:return 2;case 60:return 1;case 70:return 0}}(e.weight,this.Ps.timeScale.timeVisible,this.Ps.timeScale.secondsVisible),s=this.Ps.timeScale;if(s.tickMarkFormatter!==void 0){const r=s.tickMarkFormatter(e.originalTime,n,i.locale);if(r!==null)return r}return function(r,a,o){const l={};switch(a){case 0:l.year="numeric";break;case 1:l.month="short";break;case 2:l.day="numeric";break;case 3:l.hour12=!1,l.hour="2-digit",l.minute="2-digit";break;case 4:l.hour12=!1,l.hour="2-digit",l.minute="2-digit",l.second="2-digit"}const c=r.df===void 0?new Date(1e3*r.cf):new Date(Date.UTC(r.df.year,r.df.month-1,r.df.day));return new Date(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate(),c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()).toLocaleString(o,l)}(e.time,n,i.locale)}maxTickMarkWeight(e){let i=e.reduce(hVe,e[0]).weight;return i>30&&i<50&&(i=30),i}fillWeightsForPoints(e,i){(function(n,s=0){if(n.length===0)return;let r=s===0?null:n[s-1].time.cf,a=r!==null?new Date(1e3*r):null,o=0;for(let l=s;l<n.length;++l){const c=n[l],u=new Date(1e3*c.time.cf);a!==null&&(c.timeWeight=EL(u,a)),o+=c.time.cf-(r||c.time.cf),r=c.time.cf,a=u}if(s===0&&n.length>1){const l=Math.ceil(o/(n.length-1)),c=new Date(1e3*(n[0].time.cf-l));n[0].timeWeight=EL(new Date(1e3*n[0].time.cf),c)}})(e,i)}static pf(e){return Cs({localization:{dateFormat:"dd MMM 'yy"}},e??{})}}const Hd=typeof window<"u";function CL(){return!!Hd&&window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1}function JE(){return!!Hd&&/iPhone|iPad|iPod/.test(window.navigator.platform)}function iT(t){return t+t%2}function vVe(t){Hd&&window.chrome!==void 0&&t.addEventListener("mousedown",e=>{if(e.button===1)return e.preventDefault(),!1})}class Ib{constructor(e,i,n){this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY},this.Sf=null,this.xf=!1,this.Cf=null,this.yf=null,this.kf=!1,this.Pf=!1,this.Tf=!1,this.Rf=null,this.Df=null,this.If=null,this.Vf=null,this.Bf=null,this.Ef=null,this.Af=null,this.Lf=0,this.zf=!1,this.Of=!1,this.Nf=!1,this.Ff=0,this.Wf=null,this.Hf=!JE(),this.Uf=s=>{this.$f(s)},this.qf=s=>{if(this.jf(s)){const r=this.Yf(s);if(++this.gf,this.Mf&&this.gf>1){const{Kf:a}=this.Zf(Lr(s),this.bf);a<30&&!this.Tf&&this.Gf(r,this.Jf.Xf),this.Qf()}}else{const r=this.Yf(s);if(++this.vf,this.mf&&this.vf>1){const{Kf:a}=this.Zf(Lr(s),this.wf);a<5&&!this.Pf&&this.tp(r,this.Jf.ip),this.sp()}}},this.np=e,this.Jf=i,this.Ps=n,this.ep()}m(){this.Rf!==null&&(this.Rf(),this.Rf=null),this.Df!==null&&(this.Df(),this.Df=null),this.Vf!==null&&(this.Vf(),this.Vf=null),this.Bf!==null&&(this.Bf(),this.Bf=null),this.Ef!==null&&(this.Ef(),this.Ef=null),this.If!==null&&(this.If(),this.If=null),this.rp(),this.sp()}hp(e){this.Vf&&this.Vf();const i=this.ap.bind(this);if(this.Vf=()=>{this.np.removeEventListener("mousemove",i)},this.np.addEventListener("mousemove",i),this.jf(e))return;const n=this.Yf(e);this.tp(n,this.Jf.lp),this.Hf=!0}sp(){this.mf!==null&&clearTimeout(this.mf),this.vf=0,this.mf=null,this.wf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}Qf(){this.Mf!==null&&clearTimeout(this.Mf),this.gf=0,this.Mf=null,this.bf={_t:Number.NEGATIVE_INFINITY,ut:Number.POSITIVE_INFINITY}}ap(e){if(this.Nf||this.yf!==null||this.jf(e))return;const i=this.Yf(e);this.tp(i,this.Jf.op),this.Hf=!0}_p(e){const i=jE(e.changedTouches,Be(this.Wf));if(i===null||(this.Ff=n1(e),this.Af!==null)||this.Of)return;this.zf=!0;const n=this.Zf(Lr(i),Be(this.yf)),{up:s,cp:r,Kf:a}=n;if(this.kf||!(a<5)){if(!this.kf){const o=.5*s,l=r>=o&&!this.Ps.dp(),c=o>r&&!this.Ps.fp();l||c||(this.Of=!0),this.kf=!0,this.Tf=!0,this.rp(),this.Qf()}if(!this.Of){const o=this.Yf(e,i);this.Gf(o,this.Jf.pp),du(e)}}}vp(e){if(e.button!==0)return;const i=this.Zf(Lr(e),Be(this.Cf)),{Kf:n}=i;if(n>=5&&(this.Pf=!0,this.sp()),this.Pf){const s=this.Yf(e);this.tp(s,this.Jf.mp)}}Zf(e,i){const n=Math.abs(i._t-e._t),s=Math.abs(i.ut-e.ut);return{up:n,cp:s,Kf:n+s}}wp(e){let i=jE(e.changedTouches,Be(this.Wf));if(i===null&&e.touches.length===0&&(i=e.changedTouches[0]),i===null)return;this.Wf=null,this.Ff=n1(e),this.rp(),this.yf=null,this.Ef&&(this.Ef(),this.Ef=null);const n=this.Yf(e,i);if(this.Gf(n,this.Jf.gp),++this.gf,this.Mf&&this.gf>1){const{Kf:s}=this.Zf(Lr(i),this.bf);s<30&&!this.Tf&&this.Gf(n,this.Jf.Xf),this.Qf()}else this.Tf||(this.Gf(n,this.Jf.Mp),this.Jf.Mp&&du(e));this.gf===0&&du(e),e.touches.length===0&&this.xf&&(this.xf=!1,du(e))}$f(e){if(e.button!==0)return;const i=this.Yf(e);if(this.Cf=null,this.Nf=!1,this.Bf&&(this.Bf(),this.Bf=null),CL()&&this.np.ownerDocument.documentElement.removeEventListener("mouseleave",this.Uf),!this.jf(e))if(this.tp(i,this.Jf.bp),++this.vf,this.mf&&this.vf>1){const{Kf:n}=this.Zf(Lr(e),this.wf);n<5&&!this.Pf&&this.tp(i,this.Jf.ip),this.sp()}else this.Pf||this.tp(i,this.Jf.Sp)}rp(){this.Sf!==null&&(clearTimeout(this.Sf),this.Sf=null)}xp(e){if(this.Wf!==null)return;const i=e.changedTouches[0];this.Wf=i.identifier,this.Ff=n1(e);const n=this.np.ownerDocument.documentElement;this.Tf=!1,this.kf=!1,this.Of=!1,this.yf=Lr(i),this.Ef&&(this.Ef(),this.Ef=null);{const r=this._p.bind(this),a=this.wp.bind(this);this.Ef=()=>{n.removeEventListener("touchmove",r),n.removeEventListener("touchend",a)},n.addEventListener("touchmove",r,{passive:!1}),n.addEventListener("touchend",a,{passive:!1}),this.rp(),this.Sf=setTimeout(this.Cp.bind(this,e),240)}const s=this.Yf(e,i);this.Gf(s,this.Jf.yp),this.Mf||(this.gf=0,this.Mf=setTimeout(this.Qf.bind(this),500),this.bf=Lr(i))}kp(e){if(e.button!==0)return;const i=this.np.ownerDocument.documentElement;CL()&&i.addEventListener("mouseleave",this.Uf),this.Pf=!1,this.Cf=Lr(e),this.Bf&&(this.Bf(),this.Bf=null);{const s=this.vp.bind(this),r=this.$f.bind(this);this.Bf=()=>{i.removeEventListener("mousemove",s),i.removeEventListener("mouseup",r)},i.addEventListener("mousemove",s),i.addEventListener("mouseup",r)}if(this.Nf=!0,this.jf(e))return;const n=this.Yf(e);this.tp(n,this.Jf.Pp),this.mf||(this.vf=0,this.mf=setTimeout(this.sp.bind(this),500),this.wf=Lr(e))}ep(){this.np.addEventListener("mouseenter",this.hp.bind(this)),this.np.addEventListener("touchcancel",this.rp.bind(this));{const e=this.np.ownerDocument,i=n=>{this.Jf.Tp&&(n.composed&&this.np.contains(n.composedPath()[0])||n.target&&this.np.contains(n.target)||this.Jf.Tp())};this.Df=()=>{e.removeEventListener("touchstart",i)},this.Rf=()=>{e.removeEventListener("mousedown",i)},e.addEventListener("mousedown",i),e.addEventListener("touchstart",i,{passive:!0})}JE()&&(this.If=()=>{this.np.removeEventListener("dblclick",this.qf)},this.np.addEventListener("dblclick",this.qf)),this.np.addEventListener("mouseleave",this.Rp.bind(this)),this.np.addEventListener("touchstart",this.xp.bind(this),{passive:!0}),vVe(this.np),this.np.addEventListener("mousedown",this.kp.bind(this)),this.Dp(),this.np.addEventListener("touchmove",()=>{},{passive:!1})}Dp(){this.Jf.Ip===void 0&&this.Jf.Vp===void 0&&this.Jf.Bp===void 0||(this.np.addEventListener("touchstart",e=>this.Ep(e.touches),{passive:!0}),this.np.addEventListener("touchmove",e=>{if(e.touches.length===2&&this.Af!==null&&this.Jf.Vp!==void 0){const i=RL(e.touches[0],e.touches[1])/this.Lf;this.Jf.Vp(this.Af,i),du(e)}},{passive:!1}),this.np.addEventListener("touchend",e=>{this.Ep(e.touches)}))}Ep(e){e.length===1&&(this.zf=!1),e.length!==2||this.zf||this.xf?this.Ap():this.Lp(e)}Lp(e){const i=this.np.getBoundingClientRect()||{left:0,top:0};this.Af={_t:(e[0].clientX-i.left+(e[1].clientX-i.left))/2,ut:(e[0].clientY-i.top+(e[1].clientY-i.top))/2},this.Lf=RL(e[0],e[1]),this.Jf.Ip!==void 0&&this.Jf.Ip(),this.rp()}Ap(){this.Af!==null&&(this.Af=null,this.Jf.Bp!==void 0&&this.Jf.Bp())}Rp(e){if(this.Vf&&this.Vf(),this.jf(e)||!this.Hf)return;const i=this.Yf(e);this.tp(i,this.Jf.zp),this.Hf=!JE()}Cp(e){const i=jE(e.touches,Be(this.Wf));if(i===null)return;const n=this.Yf(e,i);this.Gf(n,this.Jf.Op),this.Tf=!0,this.xf=!0}jf(e){return e.sourceCapabilities&&e.sourceCapabilities.firesTouchEvents!==void 0?e.sourceCapabilities.firesTouchEvents:n1(e)<this.Ff+500}Gf(e,i){i&&i.call(this.Jf,e)}tp(e,i){i&&i.call(this.Jf,e)}Yf(e,i){const n=i||e,s=this.np.getBoundingClientRect()||{left:0,top:0};return{clientX:n.clientX,clientY:n.clientY,pageX:n.pageX,pageY:n.pageY,screenX:n.screenX,screenY:n.screenY,localX:n.clientX-s.left,localY:n.clientY-s.top,ctrlKey:e.ctrlKey,altKey:e.altKey,shiftKey:e.shiftKey,metaKey:e.metaKey,Np:!e.type.startsWith("mouse")&&e.type!=="contextmenu"&&e.type!=="click",Fp:e.type,Wp:n.target,_u:e.view,Hp:()=>{e.type!=="touchstart"&&du(e)}}}}function RL(t,e){const i=t.clientX-e.clientX,n=t.clientY-e.clientY;return Math.sqrt(i*i+n*n)}function du(t){t.cancelable&&t.preventDefault()}function Lr(t){return{_t:t.pageX,ut:t.pageY}}function n1(t){return t.timeStamp||performance.now()}function jE(t,e){for(let i=0;i<t.length;++i)if(t[i].identifier===e)return t[i];return null}class EVe{constructor(e,i,n){this.Up=null,this.$p=null,this.qp=!0,this.jp=null,this.Yp=e,this.Kp=e.Zp()[i],this.Gp=e.Zp()[n],this.Xp=document.createElement("tr"),this.Xp.style.height="1px",this.Jp=document.createElement("td"),this.Jp.style.position="relative",this.Jp.style.padding="0",this.Jp.style.margin="0",this.Jp.setAttribute("colspan","3"),this.Qp(),this.Xp.appendChild(this.Jp),this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up=null,this.$p=null)}m(){this.$p!==null&&this.$p.m()}iv(){return this.Xp}sv(){return Jt({width:this.Kp.sv().width,height:1})}nv(){return Jt({width:this.Kp.nv().width,height:1*window.devicePixelRatio})}ev(e,i,n){const s=this.nv();e.fillStyle=this.Yp.N().layout.panes.separatorColor,e.fillRect(i,n,s.width,s.height)}kt(){this.Qp(),this.Yp.N().layout.panes.enableResize!==this.qp&&(this.qp=this.Yp.N().layout.panes.enableResize,this.qp?this.tv():(this.Up!==null&&(this.Jp.removeChild(this.Up.rv),this.Jp.removeChild(this.Up.hv),this.Up=null),this.$p!==null&&(this.$p.m(),this.$p=null)))}tv(){const e=document.createElement("div"),i=e.style;i.position="fixed",i.display="none",i.zIndex="49",i.top="0",i.left="0",i.width="100%",i.height="100%",i.cursor="row-resize",this.Jp.appendChild(e);const n=document.createElement("div"),s=n.style;s.position="absolute",s.zIndex="50",s.top="-4px",s.height="9px",s.width="100%",s.backgroundColor="",s.cursor="row-resize",this.Jp.appendChild(n);const r={lp:this.av.bind(this),zp:this.lv.bind(this),Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this)};this.$p=new Ib(n,r,{dp:()=>!1,fp:()=>!0}),this.Up={hv:n,rv:e}}Qp(){this.Jp.style.background=this.Yp.N().layout.panes.separatorColor}av(e){this.Up!==null&&(this.Up.hv.style.backgroundColor=this.Yp.N().layout.panes.separatorHoverColor)}lv(e){this.Up!==null&&this.jp===null&&(this.Up.hv.style.backgroundColor="")}ov(e){if(this.Up===null)return;const i=this.Kp.cv().E_()+this.Gp.cv().E_(),n=i/(this.Kp.sv().height+this.Gp.sv().height),s=30*n;i<=2*s||(this.jp={dv:e.pageY,fv:this.Kp.cv().E_(),pv:i-s,vv:i,mv:n,wv:s},this.Up.rv.style.display="block")}_v(e){const i=this.jp;if(i===null)return;const n=(e.pageY-i.dv)*i.mv,s=rp(i.fv+n,i.wv,i.pv);this.Kp.cv().A_(s),this.Gp.cv().A_(i.vv-s),this.Yp.Qt().Ca()}uv(e){this.jp!==null&&this.Up!==null&&(this.jp=null,this.Up.rv.style.display="none")}}function HE(t,e){return t.gv-e.gv}function QE(t,e,i){const n=(t.gv-e.gv)/(t.wt-e.wt);return Math.sign(n)*Math.min(Math.abs(n),i)}class AVe{constructor(e,i,n,s){this.Mv=null,this.bv=null,this.Sv=null,this.xv=null,this.Cv=null,this.yv=0,this.kv=0,this.Pv=e,this.Tv=i,this.Rv=n,this.kn=s}Dv(e,i){if(this.Mv!==null){if(this.Mv.wt===i)return void(this.Mv.gv=e);if(Math.abs(this.Mv.gv-e)<this.kn)return}this.xv=this.Sv,this.Sv=this.bv,this.bv=this.Mv,this.Mv={wt:i,gv:e}}fe(e,i){if(this.Mv===null||this.bv===null||i-this.Mv.wt>50)return;let n=0;const s=QE(this.Mv,this.bv,this.Tv),r=HE(this.Mv,this.bv),a=[s],o=[r];if(n+=r,this.Sv!==null){const c=QE(this.bv,this.Sv,this.Tv);if(Math.sign(c)===Math.sign(s)){const u=HE(this.bv,this.Sv);if(a.push(c),o.push(u),n+=u,this.xv!==null){const d=QE(this.Sv,this.xv,this.Tv);if(Math.sign(d)===Math.sign(s)){const h=HE(this.Sv,this.xv);a.push(d),o.push(h),n+=h}}}}let l=0;for(let c=0;c<a.length;++c)l+=o[c]/n*a[c];Math.abs(l)<this.Pv||(this.Cv={gv:e,wt:i},this.kv=l,this.yv=function(c,u){const d=Math.log(u);return Math.log(1*d/-c)/d}(Math.abs(l),this.Rv))}Ac(e){const i=Be(this.Cv),n=e-i.wt;return i.gv+this.kv*(Math.pow(this.Rv,n)-1)/Math.log(this.Rv)}Ec(e){return this.Cv===null||this.Iv(e)===this.yv}Iv(e){const i=e-Be(this.Cv).wt;return Math.min(i,this.yv)}}class SVe{constructor(e,i){this.Vv=void 0,this.Bv=void 0,this.Ev=void 0,this.ws=!1,this.Av=e,this.Lv=i,this.zv()}kt(){this.zv()}Ov(){this.Vv&&this.Av.removeChild(this.Vv),this.Bv&&this.Av.removeChild(this.Bv),this.Vv=void 0,this.Bv=void 0}Nv(){return this.ws!==this.Fv()||this.Ev!==this.Wv()}Wv(){return this.Lv.Qt().Xi().J(this.Lv.N().layout.textColor)>160?"dark":"light"}Fv(){return this.Lv.N().layout.attributionLogo}Hv(){const e=new URL(location.href);return e.hostname?"&utm_source="+e.hostname+e.pathname:""}zv(){this.Nv()&&(this.Ov(),this.ws=this.Fv(),this.ws&&(this.Ev=this.Wv(),this.Bv=document.createElement("style"),this.Bv.innerText="a#tv-attr-logo{--fill:#131722;--stroke:#fff;position:absolute;left:10px;bottom:10px;height:19px;width:35px;margin:0;padding:0;border:0;z-index:3;}a#tv-attr-logo[data-dark]{--fill:#D1D4DC;--stroke:#131722;}",this.Vv=document.createElement("a"),this.Vv.href=`https://www.tradingview.com/?utm_medium=lwc-link&utm_campaign=lwc-chart${this.Hv()}`,this.Vv.title="Charting by TradingView",this.Vv.id="tv-attr-logo",this.Vv.target="_blank",this.Vv.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="35" height="19" fill="none"><g fill-rule="evenodd" clip-path="url(#a)" clip-rule="evenodd"><path fill="var(--stroke)" d="M2 0H0v10h6v9h21.4l.5-1.3 6-15 1-2.7H23.7l-.5 1.3-.2.6a5 5 0 0 0-7-.9V0H2Zm20 17h4l5.2-13 .8-2h-7l-1 2.5-.2.5-1.5 3.8-.3.7V17Zm-.8-10a3 3 0 0 0 .7-2.7A3 3 0 1 0 16.8 7h4.4ZM14 7V2H2v6h6v9h4V7h2Z"/><path fill="var(--fill)" d="M14 2H2v6h6v9h6V2Zm12 15h-7l6-15h7l-6 15Zm-7-9a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"/></g><defs><clipPath id="a"><path fill="var(--stroke)" d="M0 0h35v19H0z"/></clipPath></defs></svg>',this.Vv.toggleAttribute("data-dark",this.Ev==="dark"),this.Av.appendChild(this.Bv),this.Av.appendChild(this.Vv)))}}function Vc(t,e){const i=Be(t.ownerDocument).createElement("canvas");t.appendChild(i);const n=a7e(i,{options:{allowResizeObserver:!0},transform:(s,r)=>({width:Math.max(s.width,r.width),height:Math.max(s.height,r.height)})});return n.resizeCanvasElement(e),n}function Lc(t){var e;t.width=1,t.height=1,(e=t.getContext("2d"))==null||e.clearRect(0,0,1,1)}function nT(t,e,i,n){t.Uh&&t.Uh(e,i,n)}function eg(t,e,i,n){t.nt(e,i,n)}function sT(t,e,i,n){const s=t(i,n);for(const r of s){const a=r.Tt(n);a!==null&&e(a)}}function qE(t,e){return i=>{var n,s;return function(r){return r.Ft!==void 0}(i)?(((n=i.Ft())==null?void 0:n.ol())??"")!==e?[]:((s=i.Ya)==null?void 0:s.call(i,t))??[]:[]}}function IL(t,e,i,n){if(!t.length)return;let s=0;const r=t[0].$t(n,!0);let a=e===1?i/2-(t[0].Hi()-r/2):t[0].Hi()-r/2-i/2;a=Math.max(0,a);for(let o=1;o<t.length;o++){const l=t[o],c=t[o-1],u=c.$t(n,!1),d=l.Hi(),h=c.Hi();if(e===1?d>h-u:d<h+u){const f=h-u*e;l.Ui(f);const p=f-e*u/2;if((e===1?p<0:p>i)&&a>0){const m=e===1?-1-p:p-i,v=Math.min(m,a);for(let g=s;g<t.length;g++)t[g].Ui(t[g].Hi()+e*v);a-=v}}else s=o,a=e===1?h-u-d:d-(h+u)}}class wL{constructor(e,i,n,s){this.Ki=null,this.Uv=null,this.$v=!1,this.qv=new Z2(200),this.jv=null,this.Yv=0,this.Kv=!1,this.Zv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.Xv=()=>{this.Kv||this.yt.Gv().Qt().dr()},this.yt=e,this.Ps=i,this.Co=i.layout,this.hd=n,this.Jv=s==="left",this.Qv=qE("normal",s),this.tm=qE("top",s),this.im=qE("bottom",s),this.Jp=document.createElement("div"),this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.Jp.style.width="25px",this.Jp.style.left="0",this.Jp.style.position="relative",this.sm=Vc(this.Jp,Jt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const r=this.sm.canvasElement;r.style.position="absolute",r.style.zIndex="1",r.style.left="0",r.style.top="0",this.nm=Vc(this.Jp,Jt({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const a=this.nm.canvasElement;a.style.position="absolute",a.style.zIndex="2",a.style.left="0",a.style.top="0";const o={Pp:this.ov.bind(this),yp:this.ov.bind(this),mp:this._v.bind(this),pp:this._v.bind(this),Tp:this.rm.bind(this),bp:this.uv.bind(this),gp:this.uv.bind(this),ip:this.hm.bind(this),Xf:this.hm.bind(this),lp:this.am.bind(this),zp:this.lv.bind(this)};this.$p=new Ib(this.nm.canvasElement,o,{dp:()=>!this.Ps.handleScroll.vertTouchDrag,fp:()=>!0})}m(){this.$p.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Lc(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Lc(this.sm.canvasElement),this.sm.dispose(),this.Ki!==null&&this.Ki.r_().u(this),this.Ki=null}iv(){return this.Jp}k(){return this.Co.fontSize}lm(){const e=this.hd.N();return this.jv!==e.P&&(this.qv.On(),this.jv=e.P),e}om(){if(this.Ki===null)return 0;let e=0;const i=this.lm(),n=Be(this.sm.canvasElement.getContext("2d",{colorSpace:this.yt.Gv().N().layout.colorSpace}));n.save();const s=this.Ki.Vl();n.font=this._m(),s.length>0&&(e=Math.max(this.qv.Ii(n,s[0].Jl),this.qv.Ii(n,s[s.length-1].Jl)));const r=this.um();for(let c=r.length;c--;){const u=this.qv.Ii(n,r[c].ri());u>e&&(e=u)}const a=this.Ki.Lt();if(a!==null&&this.Uv!==null&&(o=this.Ps.crosshair).mode!==2&&o.horzLine.visible&&o.horzLine.labelVisible){const c=this.Ki.Ds(1,a),u=this.Ki.Ds(this.Uv.height-2,a);e=Math.max(e,this.qv.Ii(n,this.Ki.Ji(Math.floor(Math.min(c,u))+.11111111111111,a)),this.qv.Ii(n,this.Ki.Ji(Math.ceil(Math.max(c,u))-.11111111111111,a)))}var o;n.restore();const l=e||34;return iT(Math.ceil(i.S+i.C+i.V+i.B+5+l))}dm(e){this.Uv!==null&&mc(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`)}fm(){return Be(this.Uv).width}cs(e){this.Ki!==e&&(this.Ki!==null&&this.Ki.r_().u(this),this.Ki=e,e.r_().i(this.do.bind(this),this))}Ft(){return this.Ki}On(){const e=this.yt.cv();this.yt.Gv().Qt().Q_(e,Be(this.Ft()))}pm(e){if(this.Uv===null)return;const i={colorSpace:this.yt.Gv().N().layout.colorSpace};if(e!==1){this.vm(),this.sm.applySuggestedBitmapSize();const s=xc(this.sm,i);s!==null&&(s.useBitmapCoordinateSpace(r=>{this.wm(r),this.gm(r)}),this.yt.Mm(s,this.im),this.bm(s),this.yt.Mm(s,this.Qv),this.Sm(s))}this.nm.applySuggestedBitmapSize();const n=xc(this.nm,i);n!==null&&(n.useBitmapCoordinateSpace(({context:s,bitmapSize:r})=>{s.clearRect(0,0,r.width,r.height)}),this.xm(n),this.yt.Mm(n,this.tm))}nv(){return this.sm.bitmapSize}ev(e,i,n,s){const r=this.nv();if(r.width>0&&r.height>0&&(e.drawImage(this.sm.canvasElement,i,n),s)){const a=this.nm.canvasElement;e.drawImage(a,i,n)}}kt(){var e;(e=this.Ki)==null||e.Vl()}ov(e){if(this.Ki===null||this.Ki.Gi()||!this.Ps.handleScale.axisPressedMouseMove.price)return;const i=this.yt.Gv().Qt(),n=this.yt.cv();this.$v=!0,i.j_(n,this.Ki,e.localY)}_v(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const i=this.yt.Gv().Qt(),n=this.yt.cv(),s=this.Ki;i.Y_(n,s,e.localY)}rm(){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const e=this.yt.Gv().Qt(),i=this.yt.cv(),n=this.Ki;this.$v&&(this.$v=!1,e.K_(i,n))}uv(e){if(this.Ki===null||!this.Ps.handleScale.axisPressedMouseMove.price)return;const i=this.yt.Gv().Qt(),n=this.yt.cv();this.$v=!1,i.K_(n,this.Ki)}hm(e){this.Ps.handleScale.axisDoubleClickReset.price&&this.On()}am(e){this.Ki!==null&&(!this.yt.Gv().Qt().N().handleScale.axisPressedMouseMove.price||this.Ki.He()||this.Ki.Eo()||this.Cm(1))}lv(e){this.Cm(0)}um(){const e=[],i=this.Ki===null?void 0:this.Ki;return(n=>{for(let s=0;s<n.length;++s){const r=n[s].Ks(this.yt.cv(),i);for(let a=0;a<r.length;a++)e.push(r[a])}})(this.yt.cv().Dt()),e}wm({context:e,bitmapSize:i}){const{width:n,height:s}=i,r=this.yt.cv().Qt(),a=r.$(),o=r.Kd();a===o?Ab(e,0,0,n,s,a):qX(e,0,0,n,s,a,o)}gm({context:e,bitmapSize:i,horizontalPixelRatio:n}){if(this.Uv===null||this.Ki===null||!this.Ki.N().borderVisible)return;e.fillStyle=this.Ki.N().borderColor;const s=Math.max(1,Math.floor(this.lm().S*n));let r;r=this.Jv?i.width-s:0,e.fillRect(r,0,s,i.height)}bm(e){if(this.Uv===null||this.Ki===null)return;const i=this.Ki.Vl(),n=this.Ki.N(),s=this.lm(),r=this.Jv?this.Uv.width-s.C:0;n.borderVisible&&n.ticksVisible&&e.useBitmapCoordinateSpace(({context:a,horizontalPixelRatio:o,verticalPixelRatio:l})=>{a.fillStyle=n.borderColor;const c=Math.max(1,Math.floor(l)),u=Math.floor(.5*l),d=Math.round(s.C*o);a.beginPath();for(const h of i)a.rect(Math.floor(r*o),Math.round(h.Pl*l)-u,d,c);a.fill()}),e.useMediaCoordinateSpace(({context:a})=>{a.font=this._m(),a.fillStyle=n.textColor??this.Co.textColor,a.textAlign=this.Jv?"right":"left",a.textBaseline="middle";const o=this.Jv?Math.round(r-s.V):Math.round(r+s.C+s.V),l=i.map(c=>this.qv.Di(a,c.Jl));for(let c=i.length;c--;){const u=i[c];a.fillText(u.Jl,o,u.Pl+l[c])}})}vm(){if(this.Uv===null||this.Ki===null)return;let e=this.Uv.height/2;const i=[],n=this.Ki.Dt().slice(),s=this.yt.cv(),r=this.lm();this.Ki===s.Gn()&&this.yt.cv().Dt().forEach(l=>{s.Zn(l)&&n.push(l)});const a=this.Ki.Sl()[0],o=this.Ki;n.forEach(l=>{const c=l.Ks(s,o);c.forEach(u=>{u.$i()&&u.Wi()===null&&(u.Ui(null),i.push(u))}),a===l&&c.length>0&&(e=c[0].Ei())}),this.Ki.N().alignLabels&&this.ym(i,r,e)}ym(e,i,n){if(this.Uv===null)return;const s=e.filter(a=>a.Ei()<=n),r=e.filter(a=>a.Ei()>n);s.sort((a,o)=>o.Ei()-a.Ei()),s.length&&r.length&&r.push(s[0]),r.sort((a,o)=>a.Ei()-o.Ei());for(const a of e){const o=Math.floor(a.$t(i)/2),l=a.Ei();l>-o&&l<o&&a.Ui(o),l>this.Uv.height-o&&l<this.Uv.height+o&&a.Ui(this.Uv.height-o)}IL(s,1,this.Uv.height,i),IL(r,-1,this.Uv.height,i)}Sm(e){if(this.Uv===null)return;const i=this.um(),n=this.lm(),s=this.Jv?"right":"left";i.forEach(r=>{r.qi()&&r.Tt(Be(this.Ki)).nt(e,n,this.qv,s)})}xm(e){if(this.Uv===null||this.Ki===null)return;const i=this.yt.Gv().Qt(),n=[],s=this.yt.cv(),r=i.gd().Ks(s,this.Ki);r.length&&n.push(r);const a=this.lm(),o=this.Jv?"right":"left";n.forEach(l=>{l.forEach(c=>{c.Tt(Be(this.Ki)).nt(e,a,this.qv,o)})})}Cm(e){this.Jp.style.cursor=e===1?"ns-resize":"default"}do(){const e=this.om();this.Yv<e&&this.yt.Gv().Qt().Ca(),this.Yv=e}_m(){return M2(this.Co.fontSize,this.Co.fontFamily)}}function TVe(t,e){var i;return((i=t.qa)==null?void 0:i.call(t,e))??[]}function _L(t,e){var i;return((i=t.Ys)==null?void 0:i.call(t,e))??[]}function xL(t,e){var i;return((i=t.ds)==null?void 0:i.call(t,e))??[]}function CVe(t,e){var i;return((i=t.Ha)==null?void 0:i.call(t,e))??[]}class H4{constructor(e,i){this.Uv=Jt({width:0,height:0}),this.km=null,this.Pm=null,this.Tm=null,this.Rm=null,this.Dm=!1,this.Im=new ki,this.Vm=new ki,this.Bm=0,this.Em=!1,this.Am=null,this.Lm=!1,this.zm=null,this.Om=null,this.Kv=!1,this.Zv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Xv=()=>{this.Kv||this.Nm===null||this.ns().dr()},this.Lv=e,this.Nm=i,this.Nm.nu().i(this.Fm.bind(this),this,!0),this.Wm=document.createElement("td"),this.Wm.style.padding="0",this.Wm.style.position="relative";const n=document.createElement("div");n.style.width="100%",n.style.height="100%",n.style.position="relative",n.style.overflow="hidden",this.Hm=document.createElement("td"),this.Hm.style.padding="0",this.Um=document.createElement("td"),this.Um.style.padding="0",this.Wm.appendChild(n),this.sm=Vc(n,Jt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const s=this.sm.canvasElement;s.style.position="absolute",s.style.zIndex="1",s.style.left="0",s.style.top="0",this.nm=Vc(n,Jt({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const r=this.nm.canvasElement;r.style.position="absolute",r.style.zIndex="2",r.style.left="0",r.style.top="0",this.Xp=document.createElement("tr"),this.Xp.appendChild(this.Hm),this.Xp.appendChild(this.Wm),this.Xp.appendChild(this.Um),this.$m(),this.$p=new Ib(this.nm.canvasElement,this,{dp:()=>this.Am===null&&!this.Lv.N().handleScroll.vertTouchDrag,fp:()=>this.Am===null&&!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.km!==null&&this.km.m(),this.Pm!==null&&this.Pm.m(),this.Tm=null,this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Lc(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Lc(this.sm.canvasElement),this.sm.dispose(),this.Nm!==null&&(this.Nm.nu().u(this),this.Nm.m()),this.$p.m()}cv(){return Be(this.Nm)}qm(e){var i;this.Nm!==null&&this.Nm.nu().u(this),this.Nm=e,this.Nm!==null&&this.Nm.nu().i(H4.prototype.Fm.bind(this),this,!0),this.$m(),this.Lv.Zp().indexOf(this)===this.Lv.Zp().length-1?(this.Tm=this.Tm??new SVe(this.Wm,this.Lv),this.Tm.kt()):((i=this.Tm)==null||i.Ov(),this.Tm=null)}Gv(){return this.Lv}iv(){return this.Xp}$m(){if(this.Nm!==null&&(this.jm(),this.ns().tn().length!==0)){if(this.km!==null){const e=this.Nm.U_();this.km.cs(Be(e))}if(this.Pm!==null){const e=this.Nm.q_();this.Pm.cs(Be(e))}}}Ym(){this.km!==null&&this.km.kt(),this.Pm!==null&&this.Pm.kt()}E_(){return this.Nm!==null?this.Nm.E_():0}A_(e){this.Nm&&this.Nm.A_(e)}lp(e){if(!this.Nm)return;this.Km();const i=e.localX,n=e.localY;this.Zm(i,n,e)}Pp(e){this.Km(),this.Gm(),this.Zm(e.localX,e.localY,e)}op(e){if(!this.Nm)return;this.Km();const i=e.localX,n=e.localY;this.Zm(i,n,e)}Sp(e){this.Nm!==null&&(this.Km(),this.Xm(e))}ip(e){this.Nm!==null&&this.Jm(this.Vm,e)}Xf(e){this.ip(e)}mp(e){this.Km(),this.Qm(e),this.Zm(e.localX,e.localY,e)}bp(e){this.Nm!==null&&(this.Km(),this.Em=!1,this.tw(e))}Mp(e){this.Nm!==null&&this.Xm(e)}Op(e){if(this.Em=!0,this.Am===null){const i={x:e.localX,y:e.localY};this.iw(i,i,e)}}zp(e){this.Nm!==null&&(this.Km(),this.Nm.Qt().vd(null),this.sw())}nw(){return this.Im}ew(){return this.Vm}Ip(){this.Bm=1,this.ns().dn()}Vp(e,i){if(!this.Lv.N().handleScale.pinch)return;const n=5*(i-this.Bm);this.Bm=i,this.ns().Td(e._t,n)}yp(e){this.Em=!1,this.Lm=this.Am!==null,this.Gm();const i=this.ns().gd();this.Am!==null&&i.It()&&(this.zm={x:i.si(),y:i.ni()},this.Am={x:e.localX,y:e.localY})}pp(e){if(this.Nm===null)return;const i=e.localX,n=e.localY;if(this.Am===null)this.Qm(e);else{this.Lm=!1;const s=Be(this.zm),r=s.x+(i-this.Am.x),a=s.y+(n-this.Am.y);this.Zm(r,a,e)}}gp(e){this.Gv().N().trackingMode.exitMode===0&&(this.Lm=!0),this.rw(),this.tw(e)}Qn(e,i){const n=this.Nm;return n===null?null:uY(n,e,i)}hw(e,i){Be(i==="left"?this.km:this.Pm).dm(Jt({width:e,height:this.Uv.height}))}sv(){return this.Uv}dm(e){mc(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Wm.style.width=e.width+"px",this.Wm.style.height=e.height+"px")}aw(){const e=Be(this.Nm);e.H_(e.U_()),e.H_(e.q_());for(const i of e.Sl())if(e.Zn(i)){const n=i.Ft();n!==null&&e.H_(n),i.Ws()}for(const i of e.ru())i.Ws()}nv(){return this.sm.bitmapSize}ev(e,i,n,s){const r=this.nv();if(r.width>0&&r.height>0&&(e.drawImage(this.sm.canvasElement,i,n),s)){const a=this.nm.canvasElement;e!==null&&e.drawImage(a,i,n)}}pm(e){if(e===0||this.Nm===null)return;e>1&&this.aw(),this.km!==null&&this.km.pm(e),this.Pm!==null&&this.Pm.pm(e);const i={colorSpace:this.Lv.N().layout.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const s=xc(this.sm,i);s!==null&&(s.useBitmapCoordinateSpace(r=>{this.wm(r)}),this.Nm&&(this.lw(s,TVe),this.ow(s),this.lw(s,_L),this.lw(s,xL)))}this.nm.applySuggestedBitmapSize();const n=xc(this.nm,i);n!==null&&(n.useBitmapCoordinateSpace(({context:s,bitmapSize:r})=>{s.clearRect(0,0,r.width,r.height)}),this._w(n),this.lw(n,CVe),this.lw(n,xL))}uw(){return this.km}cw(){return this.Pm}Mm(e,i){this.lw(e,i)}Fm(){this.Nm!==null&&this.Nm.nu().u(this),this.Nm=null}Xm(e){this.Jm(this.Im,e)}Jm(e,i){const n=i.localX,s=i.localY;e.v()&&e.p(this.ns().Et().wc(n),{x:n,y:s},i)}wm({context:e,bitmapSize:i}){const{width:n,height:s}=i,r=this.ns(),a=r.$(),o=r.Kd();a===o?Ab(e,0,0,n,s,o):qX(e,0,0,n,s,a,o)}ow(e){const i=Be(this.Nm),n=i.eu().pr().Tt(i);n!==null&&n.nt(e,!1)}_w(e){this.dw(e,_L,eg,this.ns().gd())}lw(e,i){const n=Be(this.Nm),s=n.Dt(),r=n.ru();for(const a of r)this.dw(e,i,nT,a);for(const a of s)this.dw(e,i,nT,a);for(const a of r)this.dw(e,i,eg,a);for(const a of s)this.dw(e,i,eg,a)}dw(e,i,n,s){const r=Be(this.Nm),a=r.Qt().pd(),o=a!==null&&a.hu===s,l=a!==null&&o&&a.au!==void 0?a.au.ie:void 0;sT(i,c=>n(c,e,o,l),s,r)}jm(){if(this.Nm===null)return;const e=this.Lv,i=this.Nm.U_().N().visible,n=this.Nm.q_().N().visible;i||this.km===null||(this.Hm.removeChild(this.km.iv()),this.km.m(),this.km=null),n||this.Pm===null||(this.Um.removeChild(this.Pm.iv()),this.Pm.m(),this.Pm=null);const s=e.Qt().Nd();i&&this.km===null&&(this.km=new wL(this,e.N(),s,"left"),this.Hm.appendChild(this.km.iv())),n&&this.Pm===null&&(this.Pm=new wL(this,e.N(),s,"right"),this.Um.appendChild(this.Pm.iv()))}fw(e){return e.Np&&this.Em||this.Am!==null}Zm(e,i,n){e=Math.max(0,Math.min(e,this.Uv.width-1)),i=Math.max(0,Math.min(i,this.Uv.height-1)),this.ns().Ad(e,i,n,Be(this.Nm))}sw(){this.ns().zd()}rw(){this.Lm&&(this.Am=null,this.sw())}iw(e,i,n){this.Am=e,this.Lm=!1,this.Zm(i.x,i.y,n);const s=this.ns().gd();this.zm={x:s.si(),y:s.ni()}}ns(){return this.Lv.Qt()}tw(e){if(!this.Dm)return;const i=this.ns(),n=this.cv();if(i.X_(n,n.Rs()),this.Rm=null,this.Dm=!1,i.Vd(),this.Om!==null){const s=performance.now(),r=i.Et();this.Om.fe(r.Cc(),s),this.Om.Ec(s)||i.vn(this.Om)}}Km(){this.Am=null}Gm(){if(this.Nm){if(this.ns().dn(),document.activeElement!==document.body&&document.activeElement!==document.documentElement)Be(document.activeElement).blur();else{const e=document.getSelection();e!==null&&e.removeAllRanges()}!this.Nm.Rs().Gi()&&this.ns().Et().Gi()}}Qm(e){if(this.Nm===null)return;const i=this.ns(),n=i.Et();if(n.Gi())return;const s=this.Lv.N(),r=s.handleScroll,a=s.kineticScroll;if((!r.pressedMouseMove||e.Np)&&(!r.horzTouchDrag&&!r.vertTouchDrag||!e.Np))return;const o=this.Nm.Rs(),l=performance.now();if(this.Rm!==null||this.fw(e)||(this.Rm={x:e.clientX,y:e.clientY,cf:l,pw:e.localX,mw:e.localY}),this.Rm!==null&&!this.Dm&&(this.Rm.x!==e.clientX||this.Rm.y!==e.clientY)){if(e.Np&&a.touch||!e.Np&&a.mouse){const c=n.ul();this.Om=new AVe(.2/c,7/c,.997,15/c),this.Om.Dv(n.Cc(),this.Rm.cf)}else this.Om=null;o.Gi()||i.Z_(this.Nm,o,e.localY),i.Dd(e.localX),this.Dm=!0}this.Dm&&(o.Gi()||i.G_(this.Nm,o,e.localY),i.Id(e.localX),this.Om!==null&&this.Om.Dv(n.Cc(),l))}}class NL{constructor(e,i,n,s,r){this.xt=!0,this.Uv=Jt({width:0,height:0}),this.Zv=()=>this.pm(3),this.Jv=e==="left",this.hd=n.Nd,this.Ps=i,this.ww=s,this.gw=r,this.Jp=document.createElement("div"),this.Jp.style.width="25px",this.Jp.style.height="100%",this.Jp.style.overflow="hidden",this.sm=Vc(this.Jp,Jt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv)}m(){this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Lc(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Jp}sv(){return this.Uv}dm(e){mc(this.Uv,e)||(this.Uv=e,this.sm.resizeCanvasElement(e),this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xt=!0)}pm(e){if(e<3&&!this.xt||this.Uv.width===0||this.Uv.height===0)return;this.xt=!1,this.sm.applySuggestedBitmapSize();const i=xc(this.sm,{colorSpace:this.Ps.layout.colorSpace});i!==null&&i.useBitmapCoordinateSpace(n=>{this.wm(n),this.gm(n)})}nv(){return this.sm.bitmapSize}ev(e,i,n){const s=this.nv();s.width>0&&s.height>0&&e.drawImage(this.sm.canvasElement,i,n)}gm({context:e,bitmapSize:i,horizontalPixelRatio:n,verticalPixelRatio:s}){if(!this.ww())return;e.fillStyle=this.Ps.timeScale.borderColor;const r=Math.floor(this.hd.N().S*n),a=Math.floor(this.hd.N().S*s),o=this.Jv?i.width-r:0;e.fillRect(o,0,r,a)}wm({context:e,bitmapSize:i}){Ab(e,0,0,i.width,i.height,this.gw())}}function Q4(t){return e=>{var i;return((i=e.Ka)==null?void 0:i.call(e,t))??[]}}const RVe=Q4("normal"),IVe=Q4("top"),wVe=Q4("bottom");class _Ve{constructor(e,i){this.Mw=null,this.bw=null,this.M=null,this.Sw=!1,this.Uv=Jt({width:0,height:0}),this.xw=new ki,this.qv=new Z2(5),this.Kv=!1,this.Zv=()=>{this.Kv||this.Lv.Qt().dr()},this.Xv=()=>{this.Kv||this.Lv.Qt().dr()},this.Lv=e,this.cu=i,this.Ps=e.N().layout,this.Vv=document.createElement("tr"),this.Cw=document.createElement("td"),this.Cw.style.padding="0",this.yw=document.createElement("td"),this.yw.style.padding="0",this.Jp=document.createElement("td"),this.Jp.style.height="25px",this.Jp.style.padding="0",this.kw=document.createElement("div"),this.kw.style.width="100%",this.kw.style.height="100%",this.kw.style.position="relative",this.kw.style.overflow="hidden",this.Jp.appendChild(this.kw),this.sm=Vc(this.kw,Jt({width:16,height:16})),this.sm.subscribeSuggestedBitmapSizeChanged(this.Zv);const n=this.sm.canvasElement;n.style.position="absolute",n.style.zIndex="1",n.style.left="0",n.style.top="0",this.nm=Vc(this.kw,Jt({width:16,height:16})),this.nm.subscribeSuggestedBitmapSizeChanged(this.Xv);const s=this.nm.canvasElement;s.style.position="absolute",s.style.zIndex="2",s.style.left="0",s.style.top="0",this.Vv.appendChild(this.Cw),this.Vv.appendChild(this.Jp),this.Vv.appendChild(this.yw),this.Pw(),this.Lv.Qt().B_().i(this.Pw.bind(this),this),this.$p=new Ib(this.nm.canvasElement,this,{dp:()=>!0,fp:()=>!this.Lv.N().handleScroll.horzTouchDrag})}m(){this.$p.m(),this.Mw!==null&&this.Mw.m(),this.bw!==null&&this.bw.m(),this.nm.unsubscribeSuggestedBitmapSizeChanged(this.Xv),Lc(this.nm.canvasElement),this.nm.dispose(),this.sm.unsubscribeSuggestedBitmapSizeChanged(this.Zv),Lc(this.sm.canvasElement),this.sm.dispose()}iv(){return this.Vv}Tw(){return this.Mw}Rw(){return this.bw}Pp(e){if(this.Sw)return;this.Sw=!0;const i=this.Lv.Qt();!i.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&i.Pd(e.localX)}yp(e){this.Pp(e)}Tp(){const e=this.Lv.Qt();!e.Et().Gi()&&this.Sw&&(this.Sw=!1,this.Lv.N().handleScale.axisPressedMouseMove.time&&e.Ed())}mp(e){const i=this.Lv.Qt();!i.Et().Gi()&&this.Lv.N().handleScale.axisPressedMouseMove.time&&i.Bd(e.localX)}pp(e){this.mp(e)}bp(){this.Sw=!1;const e=this.Lv.Qt();e.Et().Gi()&&!this.Lv.N().handleScale.axisPressedMouseMove.time||e.Ed()}gp(){this.bp()}ip(){this.Lv.N().handleScale.axisDoubleClickReset.time&&this.Lv.Qt().wn()}Xf(){this.ip()}lp(){this.Lv.Qt().N().handleScale.axisPressedMouseMove.time&&this.Cm(1)}zp(){this.Cm(0)}sv(){return this.Uv}Dw(){return this.xw}Iw(e,i,n){mc(this.Uv,e)||(this.Uv=e,this.Kv=!0,this.sm.resizeCanvasElement(e),this.nm.resizeCanvasElement(e),this.Kv=!1,this.Jp.style.width=`${e.width}px`,this.Jp.style.height=`${e.height}px`,this.xw.p(e)),this.Mw!==null&&this.Mw.dm(Jt({width:i,height:e.height})),this.bw!==null&&this.bw.dm(Jt({width:n,height:e.height}))}Vw(){const e=this.Bw();return Math.ceil(e.S+e.C+e.k+e.A+e.I+e.Ew)}kt(){this.Lv.Qt().Et().Vl()}nv(){return this.sm.bitmapSize}ev(e,i,n,s){const r=this.nv();if(r.width>0&&r.height>0&&(e.drawImage(this.sm.canvasElement,i,n),s)){const a=this.nm.canvasElement;e.drawImage(a,i,n)}}pm(e){if(e===0)return;const i={colorSpace:this.Ps.colorSpace};if(e!==1){this.sm.applySuggestedBitmapSize();const s=xc(this.sm,i);s!==null&&(s.useBitmapCoordinateSpace(r=>{this.wm(r),this.gm(r),this.Aw(s,wVe)}),this.bm(s),this.Aw(s,RVe)),this.Mw!==null&&this.Mw.pm(e),this.bw!==null&&this.bw.pm(e)}this.nm.applySuggestedBitmapSize();const n=xc(this.nm,i);n!==null&&(n.useBitmapCoordinateSpace(({context:s,bitmapSize:r})=>{s.clearRect(0,0,r.width,r.height)}),this.Lw([...this.Lv.Qt().tn(),this.Lv.Qt().gd()],n),this.Aw(n,IVe))}Aw(e,i){const n=this.Lv.Qt().tn();for(const s of n)sT(i,r=>nT(r,e,!1,void 0),s,void 0);for(const s of n)sT(i,r=>eg(r,e,!1,void 0),s,void 0)}wm({context:e,bitmapSize:i}){Ab(e,0,0,i.width,i.height,this.Lv.Qt().Kd())}gm({context:e,bitmapSize:i,verticalPixelRatio:n}){if(this.Lv.N().timeScale.borderVisible){e.fillStyle=this.zw();const s=Math.max(1,Math.floor(this.Bw().S*n));e.fillRect(0,0,i.width,s)}}bm(e){const i=this.Lv.Qt().Et(),n=i.Vl();if(!n||n.length===0)return;const s=this.cu.maxTickMarkWeight(n),r=this.Bw(),a=i.N();a.borderVisible&&a.ticksVisible&&e.useBitmapCoordinateSpace(({context:o,horizontalPixelRatio:l,verticalPixelRatio:c})=>{o.strokeStyle=this.zw(),o.fillStyle=this.zw();const u=Math.max(1,Math.floor(l)),d=Math.floor(.5*l);o.beginPath();const h=Math.round(r.C*c);for(let f=n.length;f--;){const p=Math.round(n[f].coord*l);o.rect(p-d,0,u,h)}o.fill()}),e.useMediaCoordinateSpace(({context:o})=>{const l=r.S+r.C+r.A+r.k/2;o.textAlign="center",o.textBaseline="middle",o.fillStyle=this.H(),o.font=this._m();for(const c of n)if(c.weight<s){const u=c.needAlignCoordinate?this.Ow(o,c.coord,c.label):c.coord;o.fillText(c.label,u,l)}this.Lv.N().timeScale.allowBoldLabels&&(o.font=this.Nw());for(const c of n)if(c.weight>=s){const u=c.needAlignCoordinate?this.Ow(o,c.coord,c.label):c.coord;o.fillText(c.label,u,l)}})}Ow(e,i,n){const s=this.qv.Ii(e,n),r=s/2,a=Math.floor(i-r)+.5;return a<0?i+=Math.abs(0-a):a+s>this.Uv.width&&(i-=Math.abs(this.Uv.width-(a+s))),i}Lw(e,i){const n=this.Bw();for(const s of e)for(const r of s.fs())r.Tt().nt(i,n)}zw(){return this.Lv.N().timeScale.borderColor}H(){return this.Ps.textColor}F(){return this.Ps.fontSize}_m(){return M2(this.F(),this.Ps.fontFamily)}Nw(){return M2(this.F(),this.Ps.fontFamily,"bold")}Bw(){this.M===null&&(this.M={S:1,L:NaN,A:NaN,I:NaN,ts:NaN,C:5,k:NaN,P:"",Qi:new Z2,Ew:0});const e=this.M,i=this._m();if(e.P!==i){const n=this.F();e.k=n,e.P=i,e.A=3*n/12,e.I=3*n/12,e.ts=9*n/12,e.L=0,e.Ew=4*n/12,e.Qi.On()}return this.M}Cm(e){this.Jp.style.cursor=e===1?"ew-resize":"default"}Pw(){const e=this.Lv.Qt(),i=e.N();i.leftPriceScale.visible||this.Mw===null||(this.Cw.removeChild(this.Mw.iv()),this.Mw.m(),this.Mw=null),i.rightPriceScale.visible||this.bw===null||(this.yw.removeChild(this.bw.iv()),this.bw.m(),this.bw=null);const n={Nd:this.Lv.Qt().Nd()},s=()=>i.leftPriceScale.borderVisible&&e.Et().N().borderVisible,r=()=>e.Kd();i.leftPriceScale.visible&&this.Mw===null&&(this.Mw=new NL("left",i,n,s,r),this.Cw.appendChild(this.Mw.iv())),i.rightPriceScale.visible&&this.bw===null&&(this.bw=new NL("right",i,n,s,r),this.yw.appendChild(this.bw.iv()))}}const xVe=!!Hd&&!!navigator.userAgentData&&navigator.userAgentData.brands.some(t=>t.brand.includes("Chromium"))&&!!Hd&&((zV=navigator==null?void 0:navigator.userAgentData)!=null&&zV.platform?navigator.userAgentData.platform==="Windows":navigator.userAgent.toLowerCase().indexOf("win")>=0);class NVe{constructor(e,i,n){var s;this.Fw=[],this.Ww=[],this.Hw=0,this.eo=0,this.S_=0,this.Uw=0,this.$w=0,this.qw=null,this.jw=!1,this.Im=new ki,this.Vm=new ki,this.nd=new ki,this.Yw=null,this.Kw=null,this.Av=e,this.Ps=i,this.cu=n,this.Vv=document.createElement("div"),this.Vv.classList.add("tv-lightweight-charts"),this.Vv.style.overflow="hidden",this.Vv.style.direction="ltr",this.Vv.style.width="100%",this.Vv.style.height="100%",(s=this.Vv).style.userSelect="none",s.style.webkitUserSelect="none",s.style.msUserSelect="none",s.style.MozUserSelect="none",s.style.webkitTapHighlightColor="transparent",this.Zw=document.createElement("table"),this.Zw.setAttribute("cellspacing","0"),this.Vv.appendChild(this.Zw),this.Gw=this.Xw.bind(this),e5(this.Ps)&&this.Jw(!0),this.ns=new pVe(this.rd.bind(this),this.Ps,n),this.Qt().Md().i(this.Qw.bind(this),this),this.tg=new _Ve(this,this.cu),this.Zw.appendChild(this.tg.iv());const r=i.autoSize&&this.ig();let a=this.Ps.width,o=this.Ps.height;if(r||a===0||o===0){const l=e.getBoundingClientRect();a=a||l.width,o=o||l.height}this.sg(a,o),this.ng(),e.appendChild(this.Vv),this.eg(),this.ns.Et().Oc().i(this.ns.Ca.bind(this.ns),this),this.ns.B_().i(this.ns.Ca.bind(this.ns),this)}Qt(){return this.ns}N(){return this.Ps}Zp(){return this.Fw}rg(){return this.tg}m(){this.Jw(!1),this.Hw!==0&&window.cancelAnimationFrame(this.Hw),this.ns.Md().u(this),this.ns.Et().Oc().u(this),this.ns.B_().u(this),this.ns.m();for(const e of this.Fw)this.Zw.removeChild(e.iv()),e.nw().u(this),e.ew().u(this),e.m();this.Fw=[];for(const e of this.Ww)this.hg(e);this.Ww=[],Be(this.tg).m(),this.Vv.parentElement!==null&&this.Vv.parentElement.removeChild(this.Vv),this.nd.m(),this.Im.m(),this.Vm.m(),this.ag()}sg(e,i,n=!1){if(this.eo===i&&this.S_===e)return;const s=function(o){const l=Math.floor(o.width),c=Math.floor(o.height);return Jt({width:l-l%2,height:c-c%2})}(Jt({width:e,height:i}));this.eo=s.height,this.S_=s.width;const r=this.eo+"px",a=this.S_+"px";Be(this.Vv).style.height=r,Be(this.Vv).style.width=a,this.Zw.style.height=r,this.Zw.style.width=a,n?this.lg(Jn.yn(),performance.now()):this.ns.Ca()}pm(e){e===void 0&&(e=Jn.yn());for(let i=0;i<this.Fw.length;i++)this.Fw[i].pm(e.un(i).an);this.Ps.timeScale.visible&&this.tg.pm(e._n())}cr(e){var i;const n=e5(this.Ps);this.ns.cr(e);const s=e5(this.Ps);s!==n&&this.Jw(s),(i=e.layout)!=null&&i.panes&&this.og(),this.eg(),this._g(e)}nw(){return this.Im}ew(){return this.Vm}Md(){return this.nd}ug(e=!1){this.qw!==null&&(this.lg(this.qw,performance.now()),this.qw=null);const i=this.cg(null),n=document.createElement("canvas");n.width=i.width,n.height=i.height;const s=Be(n.getContext("2d"));return this.cg(s,e),n}dg(e){return e==="left"&&!this.fg()||e==="right"&&!this.pg()||this.Fw.length===0?0:Be(e==="left"?this.Fw[0].uw():this.Fw[0].cw()).fm()}vg(){return this.Ps.autoSize&&this.Yw!==null}hv(){return this.Vv}mg(e){this.Kw=e,this.Kw?this.hv().style.setProperty("cursor",e):this.hv().style.removeProperty("cursor")}wg(){return this.Kw}gg(e){return ls(this.Fw[e]).sv()}og(){this.Ww.forEach(e=>{e.kt()})}_g(e){(e.autoSize!==void 0||!this.Yw||e.width===void 0&&e.height===void 0)&&(e.autoSize&&!this.Yw&&this.ig(),e.autoSize===!1&&this.Yw!==null&&this.ag(),e.autoSize||e.width===void 0&&e.height===void 0||this.sg(e.width||this.S_,e.height||this.eo))}cg(e,i){let n=0,s=0;const r=this.Fw[0],a=(l,c)=>{let u=0;for(let d=0;d<this.Fw.length;d++){const h=this.Fw[d],f=Be(l==="left"?h.uw():h.cw()),p=f.nv();if(e!==null&&f.ev(e,c,u,i),u+=p.height,d<this.Fw.length-1){const m=this.Ww[d],v=m.nv();e!==null&&m.ev(e,c,u),u+=v.height}}};this.fg()&&(a("left",0),n+=Be(r.uw()).nv().width);for(let l=0;l<this.Fw.length;l++){const c=this.Fw[l],u=c.nv();if(e!==null&&c.ev(e,n,s,i),s+=u.height,l<this.Fw.length-1){const d=this.Ww[l],h=d.nv();e!==null&&d.ev(e,n,s),s+=h.height}}n+=r.nv().width,this.pg()&&(a("right",n),n+=Be(r.cw()).nv().width);const o=(l,c,u)=>{Be(l==="left"?this.tg.Tw():this.tg.Rw()).ev(Be(e),c,u)};if(this.Ps.timeScale.visible){const l=this.tg.nv();if(e!==null){let c=0;this.fg()&&(o("left",c,s),c=Be(r.uw()).nv().width),this.tg.ev(e,c,s,i),c+=l.width,this.pg()&&o("right",c,s)}s+=l.height}return Jt({width:n,height:s})}Mg(){let e=0,i=0,n=0;for(const v of this.Fw)this.fg()&&(i=Math.max(i,Be(v.uw()).om(),this.Ps.leftPriceScale.minimumWidth)),this.pg()&&(n=Math.max(n,Be(v.cw()).om(),this.Ps.rightPriceScale.minimumWidth)),e+=v.E_();i=iT(i),n=iT(n);const s=this.S_,r=this.eo,a=Math.max(s-i-n,0),o=1*this.Ww.length,l=this.Ps.timeScale.visible;let c=l?Math.max(this.tg.Vw(),this.Ps.timeScale.minimumHeight):0;var u;c=(u=c)+u%2;const d=o+c,h=r<d?0:r-d,f=h/e;let p=0;const m=window.devicePixelRatio||1;for(let v=0;v<this.Fw.length;++v){const g=this.Fw[v];g.qm(this.ns.Xs()[v]);let E=0,A=0;A=v===this.Fw.length-1?Math.ceil((h-p)*m)/m:Math.round(g.E_()*f*m)/m,E=Math.max(A,2),p+=E,g.dm(Jt({width:a,height:E})),this.fg()&&g.hw(i,"left"),this.pg()&&g.hw(n,"right"),g.cv()&&this.ns.bd(g.cv(),E)}this.tg.Iw(Jt({width:l?a:0,height:c}),l?i:0,l?n:0),this.ns.L_(a),this.Uw!==i&&(this.Uw=i),this.$w!==n&&(this.$w=n)}Jw(e){e?this.Vv.addEventListener("wheel",this.Gw,{passive:!1}):this.Vv.removeEventListener("wheel",this.Gw)}bg(e){switch(e.deltaMode){case e.DOM_DELTA_PAGE:return 120;case e.DOM_DELTA_LINE:return 32}return xVe?1/window.devicePixelRatio:1}Xw(e){if(!(e.deltaX!==0&&this.Ps.handleScroll.mouseWheel||e.deltaY!==0&&this.Ps.handleScale.mouseWheel))return;const i=this.bg(e),n=i*e.deltaX/100,s=-i*e.deltaY/100;if(e.cancelable&&e.preventDefault(),s!==0&&this.Ps.handleScale.mouseWheel){const r=Math.sign(s)*Math.min(1,Math.abs(s)),a=e.clientX-this.Vv.getBoundingClientRect().left;this.Qt().Td(a,r)}n!==0&&this.Ps.handleScroll.mouseWheel&&this.Qt().Rd(-80*n)}lg(e,i){var n;const s=e._n();s===3&&this.Sg(),s!==3&&s!==2||(this.xg(e),this.Cg(e,i),this.tg.kt(),this.Fw.forEach(r=>{r.Ym()}),((n=this.qw)==null?void 0:n._n())===3&&(this.qw.Sn(e),this.Sg(),this.xg(this.qw),this.Cg(this.qw,i),e=this.qw,this.qw=null)),this.pm(e)}Cg(e,i){for(const n of e.bn())this.xn(n,i)}xg(e){const i=this.ns.Xs();for(let n=0;n<i.length;n++)e.un(n).ln&&i[n].tu()}xn(e,i){const n=this.ns.Et();switch(e.fn){case 0:n.Fc();break;case 1:n.Wc(e.Wt);break;case 2:n.gn(e.Wt);break;case 3:n.Mn(e.Wt);break;case 4:n.Pc();break;case 5:e.Wt.Ec(i)||n.Mn(e.Wt.Ac(i))}}rd(e){this.qw!==null?this.qw.Sn(e):this.qw=e,this.jw||(this.jw=!0,this.Hw=window.requestAnimationFrame(i=>{if(this.jw=!1,this.Hw=0,this.qw!==null){const n=this.qw;this.qw=null,this.lg(n,i);for(const s of n.bn())if(s.fn===5&&!s.Wt.Ec(i)){this.Qt().vn(s.Wt);break}}}))}Sg(){this.ng()}hg(e){this.Zw.removeChild(e.iv()),e.m()}ng(){const e=this.ns.Xs(),i=e.length,n=this.Fw.length;for(let s=i;s<n;s++){const r=ls(this.Fw.pop());this.Zw.removeChild(r.iv()),r.nw().u(this),r.ew().u(this),r.m();const a=this.Ww.pop();a!==void 0&&this.hg(a)}for(let s=n;s<i;s++){const r=new H4(this,e[s]);if(r.nw().i(this.yg.bind(this,r),this),r.ew().i(this.kg.bind(this,r),this),this.Fw.push(r),s>0){const a=new EVe(this,s-1,s);this.Ww.push(a),this.Zw.insertBefore(a.iv(),this.tg.iv())}this.Zw.insertBefore(r.iv(),this.tg.iv())}for(let s=0;s<i;s++){const r=e[s],a=this.Fw[s];a.cv()!==r?a.qm(r):a.$m()}this.eg(),this.Mg()}Pg(e,i,n,s){var r;const a=new Map;e!==null&&this.ns.tn().forEach(h=>{const f=h.qs().$s(e);f!==null&&a.set(h,f)});let o;if(e!==null){const h=(r=this.ns.Et().es(e))==null?void 0:r.originalTime;h!==void 0&&(o=h)}const l=this.Qt().pd(),c=l!==null&&l.hu instanceof Rb?l.hu:void 0,u=l!==null&&l.au!==void 0?l.au.te:void 0,d=this.Tg(s);return{Gr:o,js:e??void 0,Rg:i??void 0,Dg:d!==-1?d:void 0,Ig:c,Vg:a,Bg:u,Eg:n??void 0}}Tg(e){let i=-1;if(e)i=this.Fw.indexOf(e);else{const n=this.Qt().gd().Gs();n!==null&&(i=this.Qt().Xs().indexOf(n))}return i}yg(e,i,n,s){this.Im.p(()=>this.Pg(i,n,s,e))}kg(e,i,n,s){this.Vm.p(()=>this.Pg(i,n,s,e))}Qw(e,i,n){var s;this.mg(((s=this.Qt().pd())==null?void 0:s.ou)??null),this.nd.p(()=>this.Pg(e,i,n))}eg(){const e=this.Ps.timeScale.visible?"":"none";this.tg.iv().style.display=e}fg(){return this.Fw[0].cv().U_().N().visible}pg(){return this.Fw[0].cv().q_().N().visible}ig(){return"ResizeObserver"in window&&(this.Yw=new ResizeObserver(e=>{const i=e[e.length-1];i&&this.sg(i.contentRect.width,i.contentRect.height)}),this.Yw.observe(this.Av,{box:"border-box"}),!0)}ag(){this.Yw!==null&&this.Yw.disconnect(),this.Yw=null}}function e5(t){return!!(t.handleScroll.mouseWheel||t.handleScale.mouseWheel)}function VVe(t){return t.open===void 0&&t.value===void 0}function LVe(t){return function(e){return e.open!==void 0}(t)||function(e){return e.value!==void 0}(t)}function VL(t,e,i,n){const s=i.value,r={js:e,wt:t,Wt:[s,s,s,s],Gr:n};return i.color!==void 0&&(r.R=i.color),r}function kVe(t,e,i,n){const s=i.value,r={js:e,wt:t,Wt:[s,s,s,s],Gr:n};return i.lineColor!==void 0&&(r.vt=i.lineColor),i.topColor!==void 0&&(r.eh=i.topColor),i.bottomColor!==void 0&&(r.rh=i.bottomColor),r}function FVe(t,e,i,n){const s=i.value,r={js:e,wt:t,Wt:[s,s,s,s],Gr:n};return i.topLineColor!==void 0&&(r.hh=i.topLineColor),i.bottomLineColor!==void 0&&(r.ah=i.bottomLineColor),i.topFillColor1!==void 0&&(r.oh=i.topFillColor1),i.topFillColor2!==void 0&&(r._h=i.topFillColor2),i.bottomFillColor1!==void 0&&(r.uh=i.bottomFillColor1),i.bottomFillColor2!==void 0&&(r.dh=i.bottomFillColor2),r}function UVe(t,e,i,n){const s={js:e,wt:t,Wt:[i.open,i.high,i.low,i.close],Gr:n};return i.color!==void 0&&(s.R=i.color),s}function BVe(t,e,i,n){const s={js:e,wt:t,Wt:[i.open,i.high,i.low,i.close],Gr:n};return i.color!==void 0&&(s.R=i.color),i.borderColor!==void 0&&(s.Ht=i.borderColor),i.wickColor!==void 0&&(s.nh=i.wickColor),s}function WVe(t,e,i,n,s){const r=ls(s)(i),a=Math.max(...r),o=Math.min(...r),l=r[r.length-1],c=[l,a,o,l],{time:u,color:d,...h}=i;return{js:e,wt:t,Wt:c,Gr:n,le:h,R:d}}function hu(t){return t.Wt!==void 0}function LL(t,e){return e.customValues!==void 0&&(t.Ag=e.customValues),t}function Nl(t){return(e,i,n,s,r,a)=>function(o,l){return l?l(o):VVe(o)}(n,a)?LL({wt:e,js:i,Gr:s},n):LL(t(e,i,n,s,r),n)}function kL(t){return{Candlestick:Nl(BVe),Bar:Nl(UVe),Area:Nl(kVe),Baseline:Nl(FVe),Histogram:Nl(VL),Line:Nl(VL),Custom:Nl(WVe)}[t]}function FL(t){return{js:0,Lg:new Map,Ea:t}}function UL(t,e){if(t!==void 0&&t.length!==0)return{zg:e.key(t[0].wt),Og:e.key(t[t.length-1].wt)}}function BL(t){let e;return t.forEach(i=>{e===void 0&&(e=i.Gr)}),ls(e)}class GVe{constructor(e){this.Ng=new Map,this.Fg=new Map,this.Wg=new Map,this.Hg=[],this.cu=e}m(){this.Ng.clear(),this.Fg.clear(),this.Wg.clear(),this.Hg=[]}Ug(e,i){let n=this.Ng.size!==0,s=!1;const r=this.Fg.get(e);if(r!==void 0)if(this.Fg.size===1)n=!1,s=!0,this.Ng.clear();else for(const l of this.Hg)l.pointData.Lg.delete(e)&&(s=!0);let a=[];if(i.length!==0){const l=i.map(f=>f.time),c=this.cu.createConverterToInternalObj(i),u=kL(e.wh()),d=e.rl(),h=e.hl();a=i.map((f,p)=>{const m=c(f.time),v=this.cu.key(m);let g=this.Ng.get(v);g===void 0&&(g=FL(m),this.Ng.set(v,g),s=!0);const E=u(m,g.js,f,l[p],d,h);return g.Lg.set(e,E),E})}n&&this.$g(),this.qg(e,a);let o=-1;if(s){const l=[];this.Ng.forEach(c=>{l.push({timeWeight:0,time:c.Ea,pointData:c,originalTime:BL(c.Lg)})}),l.sort((c,u)=>this.cu.key(c.time)-this.cu.key(u.time)),o=this.jg(l)}return this.Yg(e,o,function(l,c,u){const d=UL(l,u),h=UL(c,u);if(d!==void 0&&h!==void 0)return{Kg:!1,Ta:d.Og>=h.Og&&d.zg>=h.zg}}(this.Fg.get(e),r,this.cu))}Hd(e){return this.Ug(e,[])}Zg(e,i,n){if(n&&e.La())throw new Error("Historical updates are not supported when conflation is enabled. Conflation requires data to be processed in order.");const s=i;(function(g){g.Gr===void 0&&(g.Gr=g.time)})(s),this.cu.preprocessData(i);const r=this.cu.createConverterToInternalObj([i])(i.time),a=this.Wg.get(e);if(!n&&a!==void 0&&this.cu.key(r)<this.cu.key(a))throw new Error(`Cannot update oldest data, last time=${a}, new time=${r}`);let o=this.Ng.get(this.cu.key(r));if(n&&o===void 0)throw new Error("Cannot update non-existing data point when historicalUpdate is true");const l=o===void 0;o===void 0&&(o=FL(r),this.Ng.set(this.cu.key(r),o));const c=kL(e.wh()),u=e.rl(),d=e.hl(),h=c(r,o.js,i,s.Gr,u,d),f=!n&&!l&&a!==void 0&&this.cu.key(r)===this.cu.key(a);o.Lg.set(e,h),n?this.Gg(e,h,o.js):f&&e.La()&&hu(h)?(e.kr(h),this.Xg(e,h)):this.Xg(e,h);const p={Ta:hu(h),Kg:n};if(!l)return this.Yg(e,-1,p);const m={timeWeight:0,time:o.Ea,pointData:o,originalTime:BL(o.Lg)},v=jd(this.Hg,this.cu.key(m.time),(g,E)=>this.cu.key(g.time)<E);this.Hg.splice(v,0,m);for(let g=v;g<this.Hg.length;++g)s1(this.Hg[g].pointData,g);return this.cu.fillWeightsForPoints(this.Hg,v),this.Yg(e,v,p)}Jg(e,i){const n=this.Fg.get(e);if(n===void 0||i<=0)return[[],this.Qg()];i=Math.min(i,n.length);const s=n.splice(-i).reverse();n.length===0?this.Wg.delete(e):this.Wg.set(e,n[n.length-1].wt);for(const r of s){const a=this.Ng.get(this.cu.key(r.wt));if(a&&(a.Lg.delete(e),a.Lg.size===0)){this.Ng.delete(this.cu.key(a.Ea)),this.Hg.splice(a.js,1);for(let o=a.js;o<this.Hg.length;++o)s1(this.Hg[o].pointData,o)}}return[s,this.Yg(e,this.Hg.length-1,{Kg:!1,Ta:!1})]}Xg(e,i){let n=this.Fg.get(e);n===void 0&&(n=[],this.Fg.set(e,n));const s=n.length!==0?n[n.length-1]:null;s===null||this.cu.key(i.wt)>this.cu.key(s.wt)?hu(i)&&n.push(i):hu(i)?n[n.length-1]=i:n.splice(-1,1),this.Wg.set(e,i.wt)}Gg(e,i,n){const s=this.Fg.get(e);if(s===void 0)return;const r=jd(s,n,(a,o)=>a.js<o);hu(i)?s[r]=i:s.splice(r,1)}qg(e,i){i.length!==0?(this.Fg.set(e,i.filter(hu)),this.Wg.set(e,i[i.length-1].wt)):(this.Fg.delete(e),this.Wg.delete(e))}$g(){for(const e of this.Hg)e.pointData.Lg.size===0&&this.Ng.delete(this.cu.key(e.time))}jg(e){let i=-1;for(let n=0;n<this.Hg.length&&n<e.length;++n){const s=this.Hg[n],r=e[n];if(this.cu.key(s.time)!==this.cu.key(r.time)){i=n;break}r.timeWeight=s.timeWeight,s1(r.pointData,n)}if(i===-1&&this.Hg.length!==e.length&&(i=Math.min(this.Hg.length,e.length)),i===-1)return-1;for(let n=i;n<e.length;++n)s1(e[n].pointData,n);return this.cu.fillWeightsForPoints(e,i),this.Hg=e,i}tM(){if(this.Fg.size===0)return null;let e=0;return this.Fg.forEach(i=>{i.length!==0&&(e=Math.max(e,i[i.length-1].js))}),e}Yg(e,i,n){const s=this.Qg();if(i!==-1)this.Fg.forEach((r,a)=>{s.F_.set(a,{le:r,iM:a===e?n:void 0})}),this.Fg.has(e)||s.F_.set(e,{le:[],iM:n}),s.Et.sM=this.Hg,s.Et.nM=i;else{const r=this.Fg.get(e);s.F_.set(e,{le:r||[],iM:n})}return s}Qg(){return{F_:new Map,Et:{vc:this.tM()}}}}function s1(t,e){t.js=e,t.Lg.forEach(i=>{i.js=e})}function DVe(t,e){return t.wt<e}function MVe(t,e){return e<t.wt}function ZVe(t,e,i){const n=e.Aa(),s=e.bi(),r=jd(t,n,DVe),a=aY(t,s,MVe);if(!i)return{from:r,to:a};let o=r,l=a;return r>0&&r<t.length&&t[r].wt>=n&&(o=r-1),a>0&&a<t.length&&t[a-1].wt<=s&&(l=a+1),{from:o,to:l}}class pY{constructor(e,i,n){this.eM=!0,this.rM=!0,this.hM=!0,this.aM=[],this.lM=null,this.oM=-1,this.ee=e,this.re=i,this._M=n}kt(e){this.eM=!0,e==="data"&&(this.rM=!0),e==="options"&&(this.hM=!0)}Tt(){return this.ee.It()?(this.uM(),this.lM===null?null:this.cM):null}dM(){this.aM=this.aM.map(e=>({...e,...this.ee.ga().gh(e.wt)}))}fM(){this.lM=null}uM(){const e=this.re.Et(),i=e.N().enableConflation?e.Hc():0;i!==this.oM&&(this.rM=!0,this.oM=i),this.rM&&(this.pM(),this.rM=!1),this.hM&&(this.dM(),this.hM=!1),this.eM&&(this.vM(),this.eM=!1)}vM(){const e=this.ee.Ft(),i=this.re.Et();if(this.fM(),i.Gi()||e.Gi())return;const n=i.Ie();if(n===null||this.ee.qs().yh()===0)return;const s=this.ee.Lt();s!==null&&(this.lM=ZVe(this.aM,n,this._M),this.mM(e,i,s.Wt),this.wM())}}class PVe{constructor(e,i){this.gM=e,this.Ki=i}nt(e,i,n){this.gM.draw(e,this.Ki,i,n)}}class OVe extends pY{constructor(e,i,n){super(e,i,!1),this.$h=n,this.cM=new PVe(this.$h.renderer(),s=>{const r=e.Lt();return r===null?null:e.Ft().Nt(s,r.Wt)})}get ma(){return this.$h.conflationReducer}Oa(e){return this.$h.priceValueBuilder(e)}al(e){return this.$h.isWhitespace(e)}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(i=>({wt:i.js,_t:NaN,...e.gh(i.js),MM:i.le}))}mM(e,i){i.mc(this.aM,QS(this.lM))}wM(){this.$h.update({bars:this.aM.map(XVe),barSpacing:this.re.Et().ul(),visibleRange:this.lM,conflationFactor:this.re.Et().Hc()},this.ee.N())}}function XVe(t){return{x:t._t,time:t.wt,originalData:t.MM,barColor:t.th}}const YVe={color:"#2196f3"},$Ve=(t,e,i)=>{const n=qo(i);return new OVe(t,e,n)};function q4(t){const e={value:t.Wt[3],time:t.Gr};return t.Ag!==void 0&&(e.customValues=t.Ag),e}function WL(t){const e=q4(t);return t.R!==void 0&&(e.color=t.R),e}function KVe(t){const e=q4(t);return t.vt!==void 0&&(e.lineColor=t.vt),t.eh!==void 0&&(e.topColor=t.eh),t.rh!==void 0&&(e.bottomColor=t.rh),e}function zVe(t){const e=q4(t);return t.hh!==void 0&&(e.topLineColor=t.hh),t.ah!==void 0&&(e.bottomLineColor=t.ah),t.oh!==void 0&&(e.topFillColor1=t.oh),t._h!==void 0&&(e.topFillColor2=t._h),t.uh!==void 0&&(e.bottomFillColor1=t.uh),t.dh!==void 0&&(e.bottomFillColor2=t.dh),e}function mY(t){const e={open:t.Wt[0],high:t.Wt[1],low:t.Wt[2],close:t.Wt[3],time:t.Gr};return t.Ag!==void 0&&(e.customValues=t.Ag),e}function JVe(t){const e=mY(t);return t.R!==void 0&&(e.color=t.R),e}function jVe(t){const e=mY(t),{R:i,Ht:n,nh:s}=t;return i!==void 0&&(e.color=i),n!==void 0&&(e.borderColor=n),s!==void 0&&(e.wickColor=s),e}function tg(t){return{Area:KVe,Line:WL,Baseline:zVe,Histogram:WL,Bar:JVe,Candlestick:jVe,Custom:HVe}[t]}function HVe(t){const e=t.Gr;return{...t.le,time:e}}const QVe={vertLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},horzLine:{color:"#9598A1",width:1,style:3,visible:!0,labelVisible:!0,labelBackgroundColor:"#131722"},mode:1,doNotSnapToHiddenSeriesIndices:!1},qVe={vertLines:{color:"#D6DCDE",style:0,visible:!0},horzLines:{color:"#D6DCDE",style:0,visible:!0}},eLe={background:{type:"solid",color:"#FFFFFF"},textColor:"#191919",fontSize:12,fontFamily:QX,panes:{enableResize:!0,separatorColor:"#E0E3EB",separatorHoverColor:"rgba(178, 181, 189, 0.2)"},attributionLogo:!0,colorSpace:"srgb",colorParsers:[]},t5={autoScale:!0,mode:0,invertScale:!1,alignLabels:!0,borderVisible:!0,borderColor:"#2B2B43",entireTextOnly:!1,visible:!1,ticksVisible:!1,scaleMargins:{bottom:.1,top:.2},minimumWidth:0,ensureEdgeTickMarksVisible:!1},tLe={rightOffset:0,barSpacing:6,minBarSpacing:.5,maxBarSpacing:0,fixLeftEdge:!1,fixRightEdge:!1,lockVisibleTimeRangeOnResize:!1,rightBarStaysOnScroll:!1,borderVisible:!0,borderColor:"#2B2B43",visible:!0,timeVisible:!1,secondsVisible:!0,shiftVisibleRangeOnNewBar:!0,allowShiftVisibleRangeOnWhitespaceReplacement:!1,ticksVisible:!1,uniformDistribution:!1,minimumHeight:0,allowBoldLabels:!0,ignoreWhitespaceIndices:!1,enableConflation:!1,conflationThresholdFactor:1,precomputeConflationOnInit:!1,precomputeConflationPriority:"background"};function GL(){return{addDefaultPane:!0,width:0,height:0,autoSize:!1,layout:eLe,crosshair:QVe,grid:qVe,overlayPriceScales:{...t5},leftPriceScale:{...t5,visible:!1},rightPriceScale:{...t5,visible:!0},timeScale:tLe,localization:{locale:Hd?navigator.language:"",dateFormat:"dd MMM 'yy"},handleScroll:{mouseWheel:!0,pressedMouseMove:!0,horzTouchDrag:!0,vertTouchDrag:!0},handleScale:{axisPressedMouseMove:{time:!0,price:!0},axisDoubleClickReset:{time:!0,price:!0},mouseWheel:!0,pinch:!0},kineticScroll:{mouse:!1,touch:!0},trackingMode:{exitMode:1}}}class gY{constructor(e,i,n){this.Yp=e,this.bM=i,this.SM=n??0}applyOptions(e){this.Yp.Qt().md(this.bM,e,this.SM)}options(){return this.Ki().N()}width(){return Tb(this.bM)?this.Yp.dg(this.bM):0}setVisibleRange(e){this.setAutoScale(!1),this.Ki().$o(new Xn(e.from,e.to))}getVisibleRange(){let e,i,n=this.Ki().er();if(n===null)return null;if(this.Ki().io()){const s=this.Ki().m_(),r=dY(s);n=Zu(n,this.Ki().no()),e=Number((Math.round(n.Ze()/s)*s).toFixed(r)),i=Number((Math.round(n.Ge()/s)*s).toFixed(r))}else e=n.Ze(),i=n.Ge();return{from:e,to:i}}setAutoScale(e){this.applyOptions({autoScale:e})}Ki(){return Be(this.Yp.Qt().wd(this.bM,this.SM)).Ft}}class iLe{constructor(e,i,n,s){this.Yp=e,this.yt=n,this.xM=i,this.CM=s}getHeight(){return this.yt.$t()}setHeight(e){const i=this.Yp.Qt(),n=i.Gd(this.yt);i.xd(n,e)}getStretchFactor(){return this.yt.E_()}setStretchFactor(e){this.yt.A_(e),this.Yp.Qt().Ca()}paneIndex(){return this.Yp.Qt().Gd(this.yt)}moveTo(e){const i=this.paneIndex();i!==e&&(gn(e>=0&&e<this.Yp.Zp().length,"Invalid pane index"),this.Yp.Qt().yd(i,e))}getSeries(){return this.yt.F_().map(e=>this.xM(e))??[]}getHTMLElement(){const e=this.Yp.Zp();return e&&e.length!==0&&e[this.paneIndex()]?e[this.paneIndex()].iv():null}attachPrimitive(e){this.yt.nl(e),e.attached&&e.attached({chart:this.CM,requestUpdate:()=>this.yt.Qt().Ca()})}detachPrimitive(e){this.yt.el(e)}priceScale(e){if(this.yt.V_(e)===null)throw new Error(`Cannot find price scale with id: ${e}`);return new gY(this.Yp,e,this.paneIndex())}setPreserveEmptyPane(e){this.yt.O_(e)}preserveEmptyPane(){return this.yt.N_()}addCustomSeries(e,i={},n=0){return this.CM.addCustomSeries(e,i,n)}addSeries(e,i={}){return this.CM.addSeries(e,i,this.paneIndex())}}const nLe={color:"#FF0000",price:0,lineStyle:2,lineWidth:1,lineVisible:!0,axisLabelVisible:!0,title:"",axisLabelColor:"",axisLabelTextColor:""};class DL{constructor(e){this.hr=e}applyOptions(e){this.hr.cr(e)}options(){return this.hr.N()}yM(){return this.hr}}class sLe{constructor(e,i,n,s,r,a){this.kM=new ki,this.ee=e,this.PM=i,this.TM=n,this.cu=r,this.CM=s,this.RM=a}m(){this.kM.m()}priceFormatter(){return this.ee.Xa()}priceToCoordinate(e){const i=this.ee.Lt();return i===null?null:this.ee.Ft().Nt(e,i.Wt)}coordinateToPrice(e){const i=this.ee.Lt();return i===null?null:this.ee.Ft().Ds(e,i.Wt)}barsInLogicalRange(e){if(e===null)return null;const i=new ld(new lp(e.from,e.to)).Ru(),n=this.ee.qs();if(n.Gi())return null;const s=n.$s(i.Aa(),1),r=n.$s(i.bi(),-1),a=Be(n.kh()),o=Be(n.sn());if(s!==null&&r!==null&&s.js>r.js)return{barsBefore:e.from-a,barsAfter:o-e.to};const l={barsBefore:s===null||s.js===a?e.from-a:s.js-a,barsAfter:r===null||r.js===o?o-e.to:o-r.js};return s!==null&&r!==null&&(l.from=s.Gr,l.to=r.Gr),l}setData(e){this.cu,this.ee.wh(),this.PM.DM(this.ee,e),this.IM("full")}update(e,i=!1){this.ee.wh(),this.PM.VM(this.ee,e,i),this.IM("update")}pop(e=1){const i=this.PM.BM(this.ee,e);i.length!==0&&this.IM("update");const n=tg(this.seriesType());return i.map(s=>n(s))}dataByIndex(e,i){const n=this.ee.qs().$s(e,i);return n===null?null:tg(this.seriesType())(n)}data(){const e=tg(this.seriesType());return this.ee.qs().Dh().map(i=>e(i))}subscribeDataChanged(e){this.kM.i(e)}unsubscribeDataChanged(e){this.kM._(e)}applyOptions(e){this.ee.cr(e)}options(){return eo(this.ee.N())}priceScale(){return this.TM.priceScale(this.ee.Ft().ol(),this.getPane().paneIndex())}createPriceLine(e){const i=Cs(eo(nLe),e),n=this.ee.Da(i);return new DL(n)}removePriceLine(e){this.ee.Ia(e.yM())}priceLines(){return this.ee.Va().map(e=>new DL(e))}seriesType(){return this.ee.wh()}lastValueData(e){const i=this.ee.Ve(e);return i.Be?{noData:!0}:{noData:!1,price:i.gt,color:i.R}}attachPrimitive(e){this.ee.nl(e),e.attached&&e.attached({chart:this.CM,series:this,requestUpdate:()=>this.ee.Qt().Ca(),horzScaleBehavior:this.cu})}detachPrimitive(e){this.ee.el(e),e.detached&&e.detached(),this.ee.Qt().Ca()}getPane(){const e=this.ee,i=Be(this.ee.Qt().Kn(e));return this.RM(i)}moveToPane(e){this.ee.Qt().jd(this.ee,e)}seriesOrder(){const e=this.ee.Qt().Kn(this.ee);return e===null?-1:e.F_().indexOf(this.ee)}setSeriesOrder(e){const i=this.ee.Qt().Kn(this.ee);i!==null&&i.su(this.ee,e)}IM(e){this.kM.v()&&this.kM.p(e)}}class rLe{constructor(e,i,n){this.EM=new ki,this.Nu=new ki,this.xw=new ki,this.ns=e,this.Jh=e.Et(),this.tg=i,this.Jh.Lc().i(this.AM.bind(this)),this.Jh.zc().i(this.LM.bind(this)),this.tg.Dw().i(this.zM.bind(this)),this.cu=n}m(){this.Jh.Lc().u(this),this.Jh.zc().u(this),this.tg.Dw().u(this),this.EM.m(),this.Nu.m(),this.xw.m()}scrollPosition(){return this.Jh.Cc()}scrollToPosition(e,i){i?this.Jh.Bc(e,1e3):this.ns.Mn(e)}scrollToRealTime(){this.Jh.Vc()}getVisibleRange(){const e=this.Jh.lc();return e===null?null:{from:e.from.originalTime,to:e.to.originalTime}}setVisibleRange(e){const i={from:this.cu.convertHorzItemToInternal(e.from),to:this.cu.convertHorzItemToInternal(e.to)},n=this.Jh.cc(i);this.ns.$d(n)}getVisibleLogicalRange(){const e=this.Jh.ac();return e===null?null:{from:e.Aa(),to:e.bi()}}setVisibleLogicalRange(e){gn(e.from<=e.to,"The from index cannot be after the to index."),this.ns.$d(e)}resetTimeScale(){this.ns.wn()}fitContent(){this.ns.Fc()}logicalToCoordinate(e){const i=this.ns.Et();return i.Gi()?null:i.qt(e)}coordinateToLogical(e){return this.Jh.Gi()?null:this.Jh.wc(e)}timeToIndex(e,i){const n=this.cu.convertHorzItemToInternal(e);return this.Jh.ec(n,i)}timeToCoordinate(e){const i=this.timeToIndex(e,!1);return i===null?null:this.Jh.qt(i)}coordinateToTime(e){const i=this.ns.Et(),n=i.wc(e),s=i.es(n);return s===null?null:s.originalTime}width(){return this.tg.sv().width}height(){return this.tg.sv().height}subscribeVisibleTimeRangeChange(e){this.EM.i(e)}unsubscribeVisibleTimeRangeChange(e){this.EM._(e)}subscribeVisibleLogicalRangeChange(e){this.Nu.i(e)}unsubscribeVisibleLogicalRangeChange(e){this.Nu._(e)}subscribeSizeChange(e){this.xw.i(e)}unsubscribeSizeChange(e){this.xw._(e)}applyOptions(e){this.Jh.cr(e)}options(){return{...eo(this.Jh.N()),barSpacing:this.Jh.ul()}}AM(){this.EM.v()&&this.EM.p(this.getVisibleRange())}LM(){this.Nu.v()&&this.Nu.p(this.getVisibleLogicalRange())}zM(e){this.xw.p(e.width,e.height)}}function ML(t){return function(e){if(Hm(e.handleScale)){const n=e.handleScale;e.handleScale={axisDoubleClickReset:{time:n,price:n},axisPressedMouseMove:{time:n,price:n},mouseWheel:n,pinch:n}}else if(e.handleScale!==void 0){const{axisPressedMouseMove:n,axisDoubleClickReset:s}=e.handleScale;Hm(n)&&(e.handleScale.axisPressedMouseMove={time:n,price:n}),Hm(s)&&(e.handleScale.axisDoubleClickReset={time:s,price:s})}const i=e.handleScroll;Hm(i)&&(e.handleScroll={horzTouchDrag:i,vertTouchDrag:i,mouseWheel:i,pressedMouseMove:i})}(t),t}class aLe{constructor(e,i,n){this.OM=new Map,this.NM=new Map,this.FM=new ki,this.WM=new ki,this.HM=new ki,this.Xc=new WeakMap,this.UM=new GVe(i);const s=n===void 0?eo(GL()):Cs(eo(GL()),ML(n));this.$M=i,this.Yp=new NVe(e,s,i),this.Yp.nw().i(a=>{this.FM.v()&&this.FM.p(this.qM(a()))},this),this.Yp.ew().i(a=>{this.WM.v()&&this.WM.p(this.qM(a()))},this),this.Yp.Md().i(a=>{this.HM.v()&&this.HM.p(this.qM(a()))},this);const r=this.Yp.Qt();this.jM=new rLe(r,this.Yp.rg(),this.$M)}remove(){this.Yp.nw().u(this),this.Yp.ew().u(this),this.Yp.Md().u(this),this.jM.m(),this.Yp.m(),this.OM.clear(),this.NM.clear(),this.FM.m(),this.WM.m(),this.HM.m(),this.UM.m()}resize(e,i,n){this.autoSizeActive()||this.Yp.sg(e,i,n)}addCustomSeries(e,i={},n=0){const s=(r=>({type:"Custom",isBuiltIn:!1,defaultOptions:{...YVe,...r.defaultOptions()},YM:$Ve,KM:r}))(qo(e));return this.ZM(s,i,n)}addSeries(e,i={},n=0){return this.ZM(e,i,n)}removeSeries(e){const i=ls(this.OM.get(e)),n=this.UM.Hd(i);this.Yp.Qt().Hd(i),this.GM(n),this.OM.delete(e),this.NM.delete(i)}DM(e,i){this.GM(this.UM.Ug(e,i))}VM(e,i,n){this.GM(this.UM.Zg(e,i,n))}BM(e,i){const[n,s]=this.UM.Jg(e,i);return n.length!==0&&this.GM(s),n}subscribeClick(e){this.FM.i(e)}unsubscribeClick(e){this.FM._(e)}subscribeCrosshairMove(e){this.HM.i(e)}unsubscribeCrosshairMove(e){this.HM._(e)}subscribeDblClick(e){this.WM.i(e)}unsubscribeDblClick(e){this.WM._(e)}priceScale(e,i=0){return new gY(this.Yp,e,i)}timeScale(){return this.jM}applyOptions(e){this.Yp.cr(ML(e))}options(){return this.Yp.N()}takeScreenshot(e=!1,i=!1){let n,s;try{i||(n=this.Yp.Qt().N().crosshair.mode,this.Yp.cr({crosshair:{mode:2}})),s=this.Yp.ug(e)}finally{i||n===void 0||this.Yp.Qt().cr({crosshair:{mode:n}})}return s}addPane(e=!1){const i=this.Yp.Qt().Xd();return i.O_(e),this.XM(i)}removePane(e){this.Yp.Qt().Sd(e)}swapPanes(e,i){this.Yp.Qt().Cd(e,i)}autoSizeActive(){return this.Yp.vg()}chartElement(){return this.Yp.hv()}panes(){return this.Yp.Qt().Xs().map(e=>this.XM(e))}paneSize(e=0){const i=this.Yp.gg(e);return{height:i.height,width:i.width}}setCrosshairPosition(e,i,n){const s=this.OM.get(n);if(s===void 0)return;const r=this.Yp.Qt().Kn(s);r!==null&&this.Yp.Qt().Ld(e,i,r)}clearCrosshairPosition(){this.Yp.Qt().zd(!0)}horzBehaviour(){return this.$M}ZM(e,i={},n=0){gn(e.YM!==void 0),function(l){if(l===void 0||l.type==="custom")return;const c=l;c.minMove!==void 0&&c.precision===void 0&&(c.precision=dY(c.minMove))}(i.priceFormat),e.type==="Candlestick"&&function(l){l.borderColor!==void 0&&(l.borderUpColor=l.borderColor,l.borderDownColor=l.borderColor),l.wickColor!==void 0&&(l.wickUpColor=l.wickColor,l.wickDownColor=l.wickColor)}(i);const s=Cs(eo(jX),eo(e.defaultOptions),i),r=e.YM,a=new Rb(this.Yp.Qt(),e.type,s,r,e.KM);this.Yp.Qt().Fd(a,n);const o=new sLe(a,this,this,this,this.$M,l=>this.XM(l));return this.OM.set(o,a),this.NM.set(a,o),o}GM(e){const i=this.Yp.Qt();i.Od(e.Et.vc,e.Et.sM,e.Et.nM),e.F_.forEach((n,s)=>s.ht(n.le,n.iM)),i.Et().Ju(),i.Sc()}JM(e){return ls(this.NM.get(e))}qM(e){const i=new Map;e.Vg.forEach((s,r)=>{const a=r.wh(),o=tg(a)(s);if(a!=="Custom")gn(LVe(o));else{const l=r.hl();gn(!l||l(o)===!1)}i.set(this.JM(r),o)});const n=e.Ig!==void 0&&this.NM.has(e.Ig)?this.JM(e.Ig):void 0;return{time:e.Gr,logical:e.js,point:e.Rg,paneIndex:e.Dg,hoveredSeries:n,hoveredObjectId:e.Bg,seriesData:i,sourceEvent:e.Eg}}XM(e){let i=this.Xc.get(e);return i||(i=new iLe(this.Yp,n=>this.JM(n),e,this),this.Xc.set(e,i)),i}}function oLe(t){if(F0(t)){const e=document.getElementById(t);return gn(e!==null,`Cannot find element in DOM with id=${t}`),e}return t}function lLe(t,e,i){const n=oLe(t),s=new aLe(n,e,i);return e.setOptions(s.options()),s}function cLe(t,e){return lLe(t,new TL,TL.pf(e))}class uLe extends pY{constructor(e,i){super(e,i,!0)}mM(e,i,n){i.mc(this.aM,QS(this.lM)),e.Yo(this.aM,n,QS(this.lM))}QM(e,i){return{wt:e,gt:i,_t:NaN,ut:NaN}}pM(){const e=this.ee.ga();this.aM=this.ee.Na().Dh().map(i=>{let n;if((i.jr??1)>1){const s=i.Wt[1],r=i.Wt[2],a=i.Wt[3];n=Math.abs(s-a)>Math.abs(r-a)?s:r}else n=i.Wt[3];return this.tb(i.js,n,e)})}}function dLe(t,e,i,n,s,r,a){if(e.length===0||n.from>=e.length||n.to<=0)return;const{context:o,horizontalPixelRatio:l,verticalPixelRatio:c}=t,u=e[n.from];let d=r(t,u),h=u;if(n.to-n.from<2){const f=s/2;o.beginPath();const p={_t:u._t-f,ut:u.ut},m={_t:u._t+f,ut:u.ut};o.moveTo(p._t*l,p.ut*c),o.lineTo(m._t*l,m.ut*c),a(t,d,p,m)}else{const f=(m,v)=>{a(t,d,h,v),o.beginPath(),d=m,h=v};let p=h;o.beginPath(),o.moveTo(u._t*l,u.ut*c);for(let m=n.from+1;m<n.to;++m){p=e[m];const v=r(t,p);switch(i){case 0:o.lineTo(p._t*l,p.ut*c);break;case 1:o.lineTo(p._t*l,e[m-1].ut*c),v!==d&&(f(v,p),o.lineTo(p._t*l,e[m-1].ut*c)),o.lineTo(p._t*l,p.ut*c);break;case 2:{const[g,E]=hLe(e,m-1,m);o.bezierCurveTo(g._t*l,g.ut*c,E._t*l,E.ut*c,p._t*l,p.ut*c);break}}i!==1&&v!==d&&(f(v,p),o.moveTo(p._t*l,p.ut*c))}(h!==p||h===p&&i===1)&&a(t,d,h,p)}}const ZL=6;function i5(t,e){return{_t:t._t-e._t,ut:t.ut-e.ut}}function PL(t,e){return{_t:t._t/e,ut:t.ut/e}}function hLe(t,e,i){const n=Math.max(0,e-1),s=Math.min(t.length-1,i+1);var r,a;return[(r=t[e],a=PL(i5(t[i],t[n]),ZL),{_t:r._t+a._t,ut:r.ut+a.ut}),i5(t[i],PL(i5(t[s],t[e]),ZL))]}function fLe(t,e){const i=t.context;i.strokeStyle=e,i.stroke()}class pLe extends Lh{constructor(){super(...arguments),this.rt=null}ht(e){this.rt=e}et(e){if(this.rt===null)return;const{ot:i,lt:n,ib:s,sb:r,ct:a,Zt:o,nb:l}=this.rt;if(n===null)return;const c=e.context;c.lineCap="butt",c.lineWidth=a*e.verticalPixelRatio,Nc(c,o),c.lineJoin="round";const u=this.eb.bind(this);r!==void 0&&dLe(e,i,r,n,s,u,fLe),l&&function(d,h,f,p,m){if(p.to-p.from<=0)return;const{horizontalPixelRatio:v,verticalPixelRatio:g,context:E}=d;let A=null;const R=Math.max(1,Math.floor(v))%2/2,I=f*g+R;for(let L=p.to-1;L>=p.from;--L){const F=h[L];if(F){const B=m(d,F);B!==A&&(E.beginPath(),A!==null&&E.fill(),E.fillStyle=B,A=B);const G=Math.round(F._t*v)+R,Z=F.ut*g;E.moveTo(G,Z),E.arc(G,Z,I,0,2*Math.PI)}}E.fill()}(e,i,l,n,u)}}class mLe extends pLe{eb(e,i){return i.vt}}let gLe=class extends uLe{constructor(){super(...arguments),this.cM=new mLe}tb(e,i,n){return{...this.QM(e,i),...n.gh(e)}}wM(){const e=this.ee.N(),i={ot:this.aM,Zt:e.lineStyle,sb:e.lineVisible?e.lineType:void 0,ct:e.lineWidth,nb:e.pointMarkersVisible?e.pointMarkersRadius||e.lineWidth/2+2:void 0,lt:this.lM,ib:this.re.Et().ul()};this.cM.ht(i)}};const yLe={type:"Line",isBuiltIn:!0,defaultOptions:{color:"#2196f3",lineStyle:0,lineWidth:3,lineType:0,lineVisible:!0,crosshairMarkerVisible:!0,crosshairMarkerRadius:4,crosshairMarkerBorderColor:"",crosshairMarkerBorderWidth:2,crosshairMarkerBackgroundColor:"",lastPriceAnimation:0,pointMarkersVisible:!1},YM:(t,e)=>new gLe(t,e)};({...jX});const bLe=V("div")({name:"Container",class:"c16uapq7",propsAsIs:!1}),vLe=V("div")({name:"Header",class:"h1bkiv31",propsAsIs:!1}),ELe=V("img")({name:"Logo",class:"l58x1zx",propsAsIs:!1}),ALe=V("span")({name:"AdTitle",class:"aje8tdj",propsAsIs:!1}),SLe=V("div")({name:"Vol",class:"v1b9hkhr",propsAsIs:!1}),TLe=V("div")({name:"Teams",class:"t103i3ll",propsAsIs:!1}),CLe=V("div")({name:"Team",class:"tv6559o",propsAsIs:!1}),RLe=V("img")({name:"TeamLogo",class:"td9fhm",propsAsIs:!1}),ILe=V("span")({name:"TeamName",class:"t1bg0qru",propsAsIs:!1}),wLe=V("span")({name:"TeamPercentage",class:"t1k3nqya",propsAsIs:!1}),_Le=V("div")({name:"Draw",class:"du878ld",propsAsIs:!1}),xLe=V("span")({name:"DrawPercentage",class:"d11m2h7g",propsAsIs:!1}),NLe=V("div")({name:"Chart",class:"cpgwa9e",propsAsIs:!1}),VLe=t=>`${(t/1e3).toFixed(1)}`,OL=t=>t&&!t.startsWith("#")?`#${t}`:t??"#fff",LLe=({logo:t,volume:e,drawProbabilityPct:i,teams:n,drawColor:s,chartData:r})=>{var a;const o=x.useRef(null);return x.useEffect(()=>{var l;const c=o.current;if(!c||!r||r.length===0)return;let u=0;r.forEach(E=>{E.points.forEach(A=>{const R=A.p*100;R>u&&(u=R)})});const d=Math.floor(u/10)*10,h=0,f=((l=r[0])==null?void 0:l.points)||[];let p="day";if(f.length>=2){const E=new Date(f[0].t).getTime()/1e3,A=new Date(f[1].t).getTime()/1e3-E;A>=20*60*60?p="day":A>=60*60?p="hour":p="minute"}const m=cLe(c,{layout:{background:{type:eT.Solid,color:"transparent"},textColor:"rgba(255, 255, 255, 0.5)",fontSize:12},grid:{vertLines:{visible:!1},horzLines:{color:"rgba(255, 255, 255, 0.2)",style:HS.Dashed}},crosshair:{mode:0,vertLine:{visible:!1,labelVisible:!1},horzLine:{visible:!1,labelVisible:!1}},width:c.clientWidth,handleScroll:!1,handleScale:!1,height:300,localization:{timeFormatter:E=>{const A=new Date(E*1e3);if(p==="day"){const R=A.getUTCDate(),I=A.toLocaleDateString("en-US",{month:"short",timeZone:"UTC"});return`${R} ${I}`}else{if(p==="hour")return`${A.getUTCHours()}h`;{const R=A.getUTCHours(),I=A.getUTCMinutes(),L=R>=12?"pm":"am";return`${R%12||12}:${I.toString().padStart(2,"0")}${L}`}}}},timeScale:{timeVisible:!0,secondsVisible:!1,barSpacing:30,minBarSpacing:8,rightOffset:15,allowBoldLabels:!1,borderColor:"rgba(255, 255, 255, 0.5)",fixLeftEdge:!0,fixRightEdge:!0,tickMarkFormatter:E=>{const A=new Date(E*1e3);if(!f.slice(-4).map(R=>Math.floor(new Date(R.t).getTime()/1e3)).includes(E))return"";if(p==="day"){const R=A.getUTCDate(),I=A.toLocaleDateString("en-US",{month:"short",timeZone:"UTC"});return`${R} ${I}`}else{if(p==="hour")return`${A.getUTCHours()}h`;{const R=A.getUTCHours(),I=A.getUTCMinutes(),L=R>=12?"pm":"am";return`${R%12||12}:${I.toString().padStart(2,"0")}${L}`}}}},rightPriceScale:{visible:!0,borderVisible:!1,autoScale:!1},leftPriceScale:{visible:!1}}),v=[];if(r.forEach(E=>{var A;const R=m.addSeries(yLe,{color:E.color,lineWidth:4,lastValueVisible:!1,priceLineVisible:!1,priceFormat:{type:"custom",formatter:F=>`${Math.round(F)}%`},autoscaleInfoProvider:()=>({priceRange:{minValue:h,maxValue:d}})}),I=(A=E.points)==null?void 0:A.map(F=>({time:Math.floor(new Date(F.t).getTime()/1e3),value:F.p*100})),L=I==null?void 0:I.filter((F,B,G)=>B===0||F.time!==G[B-1].time);R.setData(L),L.length>0&&v.push({series:R,lastPoint:L[L.length-1],color:E.color})}),f.length>=4){const E=f.slice(-4),A=Math.floor(new Date(E[0].t).getTime()/1e3),R=Math.floor(new Date(E[3].t).getTime()/1e3),I=R-A,L=I*.02,F=I*.03;m.timeScale().setVisibleRange({from:A-L,to:R+F})}else m.timeScale().fitContent();setTimeout(()=>{const E=c.querySelector(".tv-lightweight-charts");if(!E)return;E.style.position="relative";const A=E.querySelector("table");A&&(A.style.position="relative",A.style.zIndex="1",A.style.pointerEvents="none"),v.forEach(({series:R,lastPoint:I,color:L})=>{const F=R.priceToCoordinate(I.value),B=m.timeScale().timeToCoordinate(I.time);if(F!==null&&B!==null){const G=document.createElement("div");G.style.cssText=`
            position: absolute !important;
            width: 40px !important;
            height: 40px !important;
            border-radius: 50% !important;
            background-color: ${L} !important;
            border: 10px solid rgba(26, 26, 26, 0.75) !important;
            left: ${B-20}px !important;
            top: ${F-20}px !important;
            pointer-events: none !important;
            display: block !important;
            visibility: visible !important;
            opacity: 1 !important;
          `,G.className="chart-endpoint-marker",E.appendChild(G)}})},100);const g=()=>{c&&m.applyOptions({width:c.clientWidth})};return window.addEventListener("resize",g),()=>{window.removeEventListener("resize",g);const E=c.querySelector(".tv-lightweight-charts");E&&E.querySelectorAll(".chart-endpoint-marker").forEach(A=>A.remove()),m.remove()}},[r]),b.jsxs(bLe,{children:[b.jsxs(vLe,{children:[b.jsx(ELe,{src:t}),b.jsx(ALe,{children:"Ad"})]}),b.jsxs(SLe,{children:["$",VLe(e),"k Vol."]}),b.jsx(TLe,{children:n==null?void 0:n.map(({teamLogo:l,teamName:c,probabilityPct:u,teamColor:d},h)=>{var f;return b.jsxs(CLe,{children:[b.jsx(RLe,{src:l}),b.jsx(ILe,{children:c}),b.jsxs(wLe,{style:{color:d?OL(d):((f=r==null?void 0:r[h])==null?void 0:f.color)??"#fff"},children:[Math.round(u),"%"]})]},c)})}),b.jsxs(_Le,{children:["Draw"," ",b.jsxs(xLe,{style:{color:s?OL(s):((a=r==null?void 0:r[(n==null?void 0:n.length)??0])==null?void 0:a.color)??"#fff"},children:[Math.round(i),"%"]})]}),b.jsx(NLe,{ref:o})]})},kLe=V("div")({name:"Container",class:"claeaeg",propsAsIs:!1}),FLe=V("button")({name:"Button",class:"bi136qd",propsAsIs:!1}),ULe=({sdk:t})=>{const e=Th();return b.jsx(FLe,{className:"SLPolymarketButton",onClick:()=>e.polymarket?t.uiHandlers.disablePolymarket():t.uiHandlers.enablePolymarket()})},BLe=({sdk:t,webos:e})=>{var i,n;const s=dt(t.polymarket.marketWithSeries);if(!s.data&&!s.loading)return b.jsx("i",{children:"no polymarket data"});const r=((i=s.data)==null?void 0:i.outcomes)??[],{teams:a,chartData:o}=r.reduce((u,d)=>{const h=d.points[d.points.length-1],f=h?h.p*100:d.probabilityPct;return u.teams.push({teamName:d.label,probabilityPct:f,teamColor:d.color??"",teamLogo:d.rawMetadata.teamLogo??"",isDraw:d.type===2}),u.chartData.push({label:d.label,color:d.rawMetadata.teamColor??`#${d.color??""}`,points:d.points}),u},{teams:[],chartData:[]}),{drawTeam:l,teamsWithoutDraw:c}=a.reduce((u,d)=>(d.isDraw?u.drawTeam=d:u.teamsWithoutDraw.push(d),u),{drawTeam:void 0,teamsWithoutDraw:[]});return b.jsx(kLe,{className:Ot(e&&"SL-CardWebOs"),children:b.jsx(LLe,{logo:"https://cdn.streamlayer.io/sdk-web/polymarket.png",volume:((n=s.data)==null?void 0:n.volume)??0,drawProbabilityPct:(l==null?void 0:l.probabilityPct)??0,drawColor:(l==null?void 0:l.teamColor)??"",teams:c,chartData:o})})},WLe=({theme:t})=>{const e=So(),i=Mc();return e?b.jsx("div",{className:"StreamLayerSDK",children:b.jsx(Zc,{customTheme:t??i.theme,themeMode:i.themeMode,children:b.jsx(ULe,{sdk:e})})}):null},GLe=({theme:t})=>{const e=So(),i=Mc(),n=Th();return!e||!n.polymarket?null:b.jsx("div",{className:"StreamLayerSDK",children:b.jsx(Zc,{customTheme:t??i.theme,themeMode:i.themeMode,children:b.jsx(BLe,{sdk:e})})})},yY=new TextEncoder,XL=new TextDecoder,Y2=2**32;function U0(...t){const e=t.reduce((s,{length:r})=>s+r,0),i=new Uint8Array(e);let n=0;for(const s of t)i.set(s,n),n+=s.length;return i}function rT(t,e,i){if(e<0||e>=Y2)throw new RangeError(`value must be >= 0 and <= ${Y2-1}. Received ${e}`);t.set([e>>>24,e>>>16,e>>>8,e&255],i)}function DLe(t){const e=Math.floor(t/Y2),i=t%Y2,n=new Uint8Array(8);return rT(n,e,0),rT(n,i,4),n}function e9(t){const e=new Uint8Array(4);return rT(e,t),e}function cp(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++){const n=t.charCodeAt(i);if(n>127)throw new TypeError("non-ASCII string encountered in encode()");e[i]=n}return e}function MLe(t){if(Uint8Array.prototype.toBase64)return t.toBase64();const e=32768,i=[];for(let n=0;n<t.length;n+=e)i.push(String.fromCharCode.apply(null,t.subarray(n,n+e)));return btoa(i.join(""))}function ZLe(t){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(t);const e=atob(t),i=new Uint8Array(e.length);for(let n=0;n<e.length;n++)i[n]=e.charCodeAt(n);return i}function bY(t){if(Uint8Array.fromBase64)return Uint8Array.fromBase64(typeof t=="string"?t:XL.decode(t),{alphabet:"base64url"});let e=t;e instanceof Uint8Array&&(e=XL.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/");try{return ZLe(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}}function Ps(t){let e=t;return typeof e=="string"&&(e=yY.encode(e)),Uint8Array.prototype.toBase64?e.toBase64({alphabet:"base64url",omitPadding:!0}):MLe(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}class t9 extends Error{constructor(i,n){var s;super(i,n);Sa(this,"code","ERR_JOSE_GENERIC");this.name=this.constructor.name,(s=Error.captureStackTrace)==null||s.call(Error,this,this.constructor)}}Sa(t9,"code","ERR_JOSE_GENERIC");class In extends t9{constructor(){super(...arguments);Sa(this,"code","ERR_JOSE_NOT_SUPPORTED")}}Sa(In,"code","ERR_JOSE_NOT_SUPPORTED");class Ya extends t9{constructor(){super(...arguments);Sa(this,"code","ERR_JWE_INVALID")}}Sa(Ya,"code","ERR_JWE_INVALID");function vY(t){switch(t){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new In(`Unsupported JWE Algorithm: ${t}`)}}const PLe=t=>crypto.getRandomValues(new Uint8Array(vY(t)>>3));function OLe(t,e){if(e.length<<3!==vY(t))throw new Ya("Invalid Initialization Vector length")}function YL(t,e){const i=t.byteLength<<3;if(i!==e)throw new Ya(`Invalid Content Encryption Key length. Expected ${e} bits, got ${i} bits`)}const Go=(t,e="algorithm.name")=>new TypeError(`CryptoKey does not support this operation, its ${e} must be ${t}`),r1=(t,e)=>t.name===e;function XLe(t){return parseInt(t.name.slice(4),10)}function YLe(t,e){if(e&&!t.usages.includes(e))throw new TypeError(`CryptoKey does not support this operation, its usages must include ${e}.`)}function Qd(t,e,i){switch(e){case"A128GCM":case"A192GCM":case"A256GCM":{if(!r1(t.algorithm,"AES-GCM"))throw Go("AES-GCM");const n=parseInt(e.slice(1,4),10);if(t.algorithm.length!==n)throw Go(n,"algorithm.length");break}case"A128KW":case"A192KW":case"A256KW":{if(!r1(t.algorithm,"AES-KW"))throw Go("AES-KW");const n=parseInt(e.slice(1,4),10);if(t.algorithm.length!==n)throw Go(n,"algorithm.length");break}case"ECDH":{switch(t.algorithm.name){case"ECDH":case"X25519":break;default:throw Go("ECDH or X25519")}break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!r1(t.algorithm,"PBKDF2"))throw Go("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{if(!r1(t.algorithm,"RSA-OAEP"))throw Go("RSA-OAEP");const n=parseInt(e.slice(9),10)||1;if(XLe(t.algorithm.hash)!==n)throw Go(`SHA-${n}`,"algorithm.hash");break}default:throw new TypeError("CryptoKey does not support this operation")}YLe(t,i)}function EY(t,e,...i){var n;if(i=i.filter(Boolean),i.length>2){const s=i.pop();t+=`one of type ${i.join(", ")}, or ${s}.`}else i.length===2?t+=`one of type ${i[0]} or ${i[1]}.`:t+=`of type ${i[0]}.`;return e==null?t+=` Received ${e}`:typeof e=="function"&&e.name?t+=` Received function ${e.name}`:typeof e=="object"&&e!=null&&(n=e.constructor)!=null&&n.name&&(t+=` Received an instance of ${e.constructor.name}`),t}const i9=(t,...e)=>EY("Key must be ",t,...e),AY=(t,e,...i)=>EY(`Key for the ${t} algorithm must be `,e,...i);function $L(t){if(!B0(t))throw new Error("CryptoKey instance expected")}const B0=t=>{if((t==null?void 0:t[Symbol.toStringTag])==="CryptoKey")return!0;try{return t instanceof CryptoKey}catch{return!1}},n9=t=>(t==null?void 0:t[Symbol.toStringTag])==="KeyObject",SY=t=>B0(t)||n9(t);function $Le(...t){const e=t.filter(Boolean);if(e.length===0||e.length===1)return!0;let i;for(const n of e){const s=Object.keys(n);if(!i||i.size===0){i=new Set(s);continue}for(const r of s){if(i.has(r))return!1;i.add(r)}}return!0}const KLe=t=>typeof t=="object"&&t!==null;function s9(t){if(!KLe(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function zLe(t,e){if(t.algorithm.length!==parseInt(e.slice(1,4),10))throw new TypeError(`Invalid key size for alg: ${e}`)}function JLe(t,e,i){return t instanceof Uint8Array?crypto.subtle.importKey("raw",t,"AES-KW",!0,[i]):(Qd(t,e,i),t)}async function aT(t,e,i){const n=await JLe(e,t,"wrapKey");zLe(n,t);const s=await crypto.subtle.importKey("raw",i,{hash:"SHA-256",name:"HMAC"},!0,["sign"]);return new Uint8Array(await crypto.subtle.wrapKey("raw",s,n,"AES-KW"))}async function jLe(t,e){const i=`SHA-${t.slice(-3)}`;return new Uint8Array(await crypto.subtle.digest(i,e))}function n5(t){return U0(e9(t.length),t)}async function HLe(t,e,i){const n=e>>3,s=32,r=Math.ceil(n/s),a=new Uint8Array(r*s);for(let o=1;o<=r;o++){const l=new Uint8Array(4+t.length+i.length);l.set(e9(o),0),l.set(t,4),l.set(i,4+t.length);const c=await jLe("sha256",l);a.set(c,(o-1)*s)}return a.slice(0,n)}async function QLe(t,e,i,n,s=new Uint8Array,r=new Uint8Array){Qd(t,"ECDH"),Qd(e,"ECDH","deriveBits");const a=n5(cp(i)),o=n5(s),l=n5(r),c=e9(n),u=new Uint8Array,d=U0(a,o,l,c,u),h=new Uint8Array(await crypto.subtle.deriveBits({name:t.algorithm.name,public:t},e,qLe(t)));return HLe(h,n,d)}function qLe(t){return t.algorithm.name==="X25519"?256:Math.ceil(parseInt(t.algorithm.namedCurve.slice(-3),10)/8)<<3}function eke(t){switch(t.algorithm.namedCurve){case"P-256":case"P-384":case"P-521":return!0;default:return t.algorithm.name==="X25519"}}function tke(t,e){return t instanceof Uint8Array?crypto.subtle.importKey("raw",t,"PBKDF2",!1,["deriveBits"]):(Qd(t,e,"deriveBits"),t)}const ike=(t,e)=>U0(cp(t),Uint8Array.of(0),e);async function nke(t,e,i,n){if(!(t instanceof Uint8Array)||t.length<8)throw new Ya("PBES2 Salt Input must be 8 or more octets");const s=ike(e,t),r=parseInt(e.slice(13,16),10),a={hash:`SHA-${e.slice(8,11)}`,iterations:i,name:"PBKDF2",salt:s},o=await tke(n,e);return new Uint8Array(await crypto.subtle.deriveBits(a,o,r))}async function ske(t,e,i,n=2048,s=crypto.getRandomValues(new Uint8Array(16))){const r=await nke(s,t,n,e);return{encryptedKey:await aT(t.slice(-6),r,i),p2c:n,p2s:Ps(s)}}function rke(t,e){if(t.startsWith("RS")||t.startsWith("PS")){const{modulusLength:i}=e.algorithm;if(typeof i!="number"||i<2048)throw new TypeError(`${t} requires key modulusLength to be 2048 bits or larger`)}}const ake=t=>{switch(t){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new In(`alg ${t} is not supported either by JOSE or your javascript runtime`)}};async function oke(t,e,i){return Qd(e,t,"encrypt"),rke(t,e),new Uint8Array(await crypto.subtle.encrypt(ake(t),e,i))}function TY(t){switch(t){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new In(`Unsupported JWE Algorithm: ${t}`)}}const Ef=t=>crypto.getRandomValues(new Uint8Array(TY(t)>>3));function lke(t){let e,i;switch(t.kty){case"AKP":{switch(t.alg){case"ML-DSA-44":case"ML-DSA-65":case"ML-DSA-87":e={name:t.alg},i=t.priv?["sign"]:["verify"];break;default:throw new In('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"RSA":{switch(t.alg){case"PS256":case"PS384":case"PS512":e={name:"RSA-PSS",hash:`SHA-${t.alg.slice(-3)}`},i=t.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":e={name:"RSASSA-PKCS1-v1_5",hash:`SHA-${t.alg.slice(-3)}`},i=t.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":e={name:"RSA-OAEP",hash:`SHA-${parseInt(t.alg.slice(-3),10)||1}`},i=t.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new In('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"EC":{switch(t.alg){case"ES256":e={name:"ECDSA",namedCurve:"P-256"},i=t.d?["sign"]:["verify"];break;case"ES384":e={name:"ECDSA",namedCurve:"P-384"},i=t.d?["sign"]:["verify"];break;case"ES512":e={name:"ECDSA",namedCurve:"P-521"},i=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:"ECDH",namedCurve:t.crv},i=t.d?["deriveBits"]:[];break;default:throw new In('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}case"OKP":{switch(t.alg){case"Ed25519":case"EdDSA":e={name:"Ed25519"},i=t.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":e={name:t.crv},i=t.d?["deriveBits"]:[];break;default:throw new In('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break}default:throw new In('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:e,keyUsages:i}}async function ig(t){if(!t.alg)throw new TypeError('"alg" argument is required when "jwk.alg" is not present');const{algorithm:e,keyUsages:i}=lke(t),n={...t};return n.kty!=="AKP"&&delete n.alg,delete n.use,crypto.subtle.importKey("jwk",n,e,t.ext??!(t.d||t.priv),t.key_ops??i)}async function cke(t,e,i){if(!s9(t))throw new TypeError("JWK must be an object");let n;switch(e??(e=t.alg),n??(n=t.ext),t.kty){case"oct":if(typeof t.k!="string"||!t.k)throw new TypeError('missing "k" (Key Value) Parameter value');return bY(t.k);case"RSA":if("oth"in t&&t.oth!==void 0)throw new In('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');return ig({...t,alg:e,ext:n});case"AKP":{if(typeof t.alg!="string"||!t.alg)throw new TypeError('missing "alg" (Algorithm) Parameter value');if(e!==void 0&&e!==t.alg)throw new TypeError("JWK alg and alg option value mismatch");return ig({...t,ext:n})}case"EC":case"OKP":return ig({...t,alg:e,ext:n});default:throw new In('Unsupported "kty" (Key Type) Parameter value')}}async function uke(t,e,i,n,s){if(!(i instanceof Uint8Array))throw new TypeError(i9(i,"Uint8Array"));const r=parseInt(t.slice(1,4),10),a=await crypto.subtle.importKey("raw",i.subarray(r>>3),"AES-CBC",!1,["encrypt"]),o=await crypto.subtle.importKey("raw",i.subarray(0,r>>3),{hash:`SHA-${r<<1}`,name:"HMAC"},!1,["sign"]),l=new Uint8Array(await crypto.subtle.encrypt({iv:n,name:"AES-CBC"},a,e)),c=U0(s,n,l,DLe(s.length<<3)),u=new Uint8Array((await crypto.subtle.sign("HMAC",o,c)).slice(0,r>>3));return{ciphertext:l,tag:u,iv:n}}async function dke(t,e,i,n,s){let r;i instanceof Uint8Array?r=await crypto.subtle.importKey("raw",i,"AES-GCM",!1,["encrypt"]):(Qd(i,t,"encrypt"),r=i);const a=new Uint8Array(await crypto.subtle.encrypt({additionalData:s,iv:n,name:"AES-GCM",tagLength:128},r,e)),o=a.slice(-16);return{ciphertext:a.slice(0,-16),tag:o,iv:n}}async function CY(t,e,i,n,s){if(!B0(i)&&!(i instanceof Uint8Array))throw new TypeError(i9(i,"CryptoKey","KeyObject","Uint8Array","JSON Web Key"));switch(n?OLe(t,n):n=PLe(t),t){case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return i instanceof Uint8Array&&YL(i,parseInt(t.slice(-3),10)),uke(t,e,i,n,s);case"A128GCM":case"A192GCM":case"A256GCM":return i instanceof Uint8Array&&YL(i,parseInt(t.slice(1,4),10)),dke(t,e,i,n,s);default:throw new In("Unsupported JWE Content Encryption Algorithm")}}async function hke(t,e,i,n){const s=t.slice(0,7),r=await CY(s,i,e,n,new Uint8Array);return{encryptedKey:r.ciphertext,iv:Ps(r.iv),tag:Ps(r.tag)}}function fke(t,e,i,n,s){if(s.crit!==void 0&&(n==null?void 0:n.crit)===void 0)throw new t('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||n.crit===void 0)return new Set;if(!Array.isArray(n.crit)||n.crit.length===0||n.crit.some(a=>typeof a!="string"||a.length===0))throw new t('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');let r;i!==void 0?r=new Map([...Object.entries(i),...e.entries()]):r=e;for(const a of n.crit){if(!r.has(a))throw new In(`Extension Header Parameter "${a}" is not recognized`);if(s[a]===void 0)throw new t(`Extension Header Parameter "${a}" is missing`);if(r.get(a)&&n[a]===void 0)throw new t(`Extension Header Parameter "${a}" MUST be integrity protected`)}return new Set(n.crit)}const r9=t=>s9(t)&&typeof t.kty=="string",pke=t=>t.kty!=="oct"&&(t.kty==="AKP"&&typeof t.priv=="string"||typeof t.d=="string"),mke=t=>t.kty!=="oct"&&t.d===void 0&&t.priv===void 0,gke=t=>t.kty==="oct"&&typeof t.k=="string";let cd;const KL=async(t,e,i,n=!1)=>{cd||(cd=new WeakMap);let s=cd.get(t);if(s!=null&&s[i])return s[i];const r=await ig({...e,alg:i});return n&&Object.freeze(t),s?s[i]=r:cd.set(t,{[i]:r}),r},yke=(t,e)=>{var a;cd||(cd=new WeakMap);let i=cd.get(t);if(i!=null&&i[e])return i[e];const n=t.type==="public",s=!!n;let r;if(t.asymmetricKeyType==="x25519"){switch(e){case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}r=t.toCryptoKey(t.asymmetricKeyType,s,n?[]:["deriveBits"])}if(t.asymmetricKeyType==="ed25519"){if(e!=="EdDSA"&&e!=="Ed25519")throw new TypeError("given KeyObject instance cannot be used for this algorithm");r=t.toCryptoKey(t.asymmetricKeyType,s,[n?"verify":"sign"])}switch(t.asymmetricKeyType){case"ml-dsa-44":case"ml-dsa-65":case"ml-dsa-87":{if(e!==t.asymmetricKeyType.toUpperCase())throw new TypeError("given KeyObject instance cannot be used for this algorithm");r=t.toCryptoKey(t.asymmetricKeyType,s,[n?"verify":"sign"])}}if(t.asymmetricKeyType==="rsa"){let o;switch(e){case"RSA-OAEP":o="SHA-1";break;case"RS256":case"PS256":case"RSA-OAEP-256":o="SHA-256";break;case"RS384":case"PS384":case"RSA-OAEP-384":o="SHA-384";break;case"RS512":case"PS512":case"RSA-OAEP-512":o="SHA-512";break;default:throw new TypeError("given KeyObject instance cannot be used for this algorithm")}if(e.startsWith("RSA-OAEP"))return t.toCryptoKey({name:"RSA-OAEP",hash:o},s,n?["encrypt"]:["decrypt"]);r=t.toCryptoKey({name:e.startsWith("PS")?"RSA-PSS":"RSASSA-PKCS1-v1_5",hash:o},s,[n?"verify":"sign"])}if(t.asymmetricKeyType==="ec"){const l=new Map([["prime256v1","P-256"],["secp384r1","P-384"],["secp521r1","P-521"]]).get((a=t.asymmetricKeyDetails)==null?void 0:a.namedCurve);if(!l)throw new TypeError("given KeyObject instance cannot be used for this algorithm");e==="ES256"&&l==="P-256"&&(r=t.toCryptoKey({name:"ECDSA",namedCurve:l},s,[n?"verify":"sign"])),e==="ES384"&&l==="P-384"&&(r=t.toCryptoKey({name:"ECDSA",namedCurve:l},s,[n?"verify":"sign"])),e==="ES512"&&l==="P-521"&&(r=t.toCryptoKey({name:"ECDSA",namedCurve:l},s,[n?"verify":"sign"])),e.startsWith("ECDH-ES")&&(r=t.toCryptoKey({name:"ECDH",namedCurve:l},s,n?[]:["deriveBits"]))}if(!r)throw new TypeError("given KeyObject instance cannot be used for this algorithm");return i?i[e]=r:cd.set(t,{[e]:r}),r};async function RY(t,e){if(t instanceof Uint8Array||B0(t))return t;if(n9(t)){if(t.type==="secret")return t.export();if("toCryptoKey"in t&&typeof t.toCryptoKey=="function")try{return yke(t,e)}catch(n){if(n instanceof TypeError)throw n}let i=t.export({format:"jwk"});return KL(t,i,e)}if(r9(t))return t.k?bY(t.k):KL(t,t,e,!0);throw new Error("unreachable")}const Eu=t=>t==null?void 0:t[Symbol.toStringTag],oT=(t,e,i)=>{var n,s;if(e.use!==void 0){let r;switch(i){case"sign":case"verify":r="sig";break;case"encrypt":case"decrypt":r="enc";break}if(e.use!==r)throw new TypeError(`Invalid key for this operation, its "use" must be "${r}" when present`)}if(e.alg!==void 0&&e.alg!==t)throw new TypeError(`Invalid key for this operation, its "alg" must be "${t}" when present`);if(Array.isArray(e.key_ops)){let r;switch(!0){case i==="verify":case t==="dir":case t.includes("CBC-HS"):r=i;break;case t.startsWith("PBES2"):r="deriveBits";break;case/^A\d{3}(?:GCM)?(?:KW)?$/.test(t):!t.includes("GCM")&&t.endsWith("KW")?r="wrapKey":r=i;break;case t.startsWith("RSA"):r="wrapKey";break;case i==="decrypt":r=t.startsWith("RSA")?"unwrapKey":"deriveBits";break}if(r&&((s=(n=e.key_ops)==null?void 0:n.includes)==null?void 0:s.call(n,r))===!1)throw new TypeError(`Invalid key for this operation, its "key_ops" must include "${r}" when present`)}return!0},bke=(t,e,i)=>{if(!(e instanceof Uint8Array)){if(r9(e)){if(gke(e)&&oT(t,e,i))return;throw new TypeError('JSON Web Key for symmetric algorithms must have JWK "kty" (Key Type) equal to "oct" and the JWK "k" (Key Value) present')}if(!SY(e))throw new TypeError(AY(t,e,"CryptoKey","KeyObject","JSON Web Key","Uint8Array"));if(e.type!=="secret")throw new TypeError(`${Eu(e)} instances for symmetric algorithms must be of type "secret"`)}},vke=(t,e,i)=>{if(r9(e))switch(i){case"decrypt":case"sign":if(pke(e)&&oT(t,e,i))return;throw new TypeError("JSON Web Key for this operation must be a private JWK");case"encrypt":case"verify":if(mke(e)&&oT(t,e,i))return;throw new TypeError("JSON Web Key for this operation must be a public JWK")}if(!SY(e))throw new TypeError(AY(t,e,"CryptoKey","KeyObject","JSON Web Key"));if(e.type==="secret")throw new TypeError(`${Eu(e)} instances for asymmetric algorithms must not be of type "secret"`);if(e.type==="public")switch(i){case"sign":throw new TypeError(`${Eu(e)} instances for asymmetric algorithm signing must be of type "private"`);case"decrypt":throw new TypeError(`${Eu(e)} instances for asymmetric algorithm decryption must be of type "private"`)}if(e.type==="private")switch(i){case"verify":throw new TypeError(`${Eu(e)} instances for asymmetric algorithm verifying must be of type "public"`);case"encrypt":throw new TypeError(`${Eu(e)} instances for asymmetric algorithm encryption must be of type "public"`)}};function Eke(t,e,i){switch(t.substring(0,2)){case"A1":case"A2":case"di":case"HS":case"PB":bke(t,e,i);break;default:vke(t,e,i)}}const Ake=Symbol();async function Ske(t){if(n9(t))if(t.type==="secret")t=t.export();else return t.export({format:"jwk"});if(t instanceof Uint8Array)return{kty:"oct",k:Ps(t)};if(!B0(t))throw new TypeError(i9(t,"CryptoKey","KeyObject","Uint8Array"));if(!t.extractable)throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");const{ext:e,key_ops:i,alg:n,use:s,...r}=await crypto.subtle.exportKey("jwk",t);return r.kty==="AKP"&&(r.alg=n),r}async function Tke(t){return Ske(t)}async function Cke(t,e,i,n,s={}){let r,a,o;switch(t){case"dir":{o=i;break}case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":{if($L(i),!eke(i))throw new In("ECDH with the provided key is not allowed or not supported by your javascript runtime");const{apu:l,apv:c}=s;let u;s.epk?u=await RY(s.epk,t):u=(await crypto.subtle.generateKey(i.algorithm,!0,["deriveBits"])).privateKey;const{x:d,y:h,crv:f,kty:p}=await Tke(u),m=await QLe(i,u,t==="ECDH-ES"?e:t,t==="ECDH-ES"?TY(e):parseInt(t.slice(-5,-2),10),l,c);if(a={epk:{x:d,crv:f,kty:p}},p==="EC"&&(a.epk.y=h),l&&(a.apu=Ps(l)),c&&(a.apv=Ps(c)),t==="ECDH-ES"){o=m;break}o=n||Ef(e);const v=t.slice(-6);r=await aT(v,m,o);break}case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":{o=n||Ef(e),$L(i),r=await oke(t,i,o);break}case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":{o=n||Ef(e);const{p2c:l,p2s:c}=s;({encryptedKey:r,...a}=await ske(t,i,o,l,c));break}case"A128KW":case"A192KW":case"A256KW":{o=n||Ef(e),r=await aT(t,i,o);break}case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":{o=n||Ef(e);const{iv:l}=s;({encryptedKey:r,...a}=await hke(t,i,o,l));break}default:throw new In('Invalid or unsupported "alg" (JWE Algorithm) header value')}return{cek:o,encryptedKey:r,parameters:a}}var n0,Un,$r,ys,pd,tc,md,gd;class Rke{constructor(e){Oi(this,n0);Oi(this,Un);Oi(this,$r);Oi(this,ys);Oi(this,pd);Oi(this,tc);Oi(this,md);Oi(this,gd);if(!(e instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");Si(this,n0,e)}setKeyManagementParameters(e){if(We(this,gd))throw new TypeError("setKeyManagementParameters can only be called once");return Si(this,gd,e),this}setProtectedHeader(e){if(We(this,Un))throw new TypeError("setProtectedHeader can only be called once");return Si(this,Un,e),this}setSharedUnprotectedHeader(e){if(We(this,$r))throw new TypeError("setSharedUnprotectedHeader can only be called once");return Si(this,$r,e),this}setUnprotectedHeader(e){if(We(this,ys))throw new TypeError("setUnprotectedHeader can only be called once");return Si(this,ys,e),this}setAdditionalAuthenticatedData(e){return Si(this,pd,e),this}setContentEncryptionKey(e){if(We(this,tc))throw new TypeError("setContentEncryptionKey can only be called once");return Si(this,tc,e),this}setInitializationVector(e){if(We(this,md))throw new TypeError("setInitializationVector can only be called once");return Si(this,md,e),this}async encrypt(e,i){if(!We(this,Un)&&!We(this,ys)&&!We(this,$r))throw new Ya("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");if(!$Le(We(this,Un),We(this,ys),We(this,$r)))throw new Ya("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");const n={...We(this,Un),...We(this,ys),...We(this,$r)};if(fke(Ya,new Map,i==null?void 0:i.crit,We(this,Un),n),n.zip!==void 0)throw new In('JWE "zip" (Compression Algorithm) Header Parameter is not supported.');const{alg:s,enc:r}=n;if(typeof s!="string"||!s)throw new Ya('JWE "alg" (Algorithm) Header Parameter missing or invalid');if(typeof r!="string"||!r)throw new Ya('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');let a;if(We(this,tc)&&(s==="dir"||s==="ECDH-ES"))throw new TypeError(`setContentEncryptionKey cannot be called with JWE "alg" (Algorithm) Header ${s}`);Eke(s==="dir"?r:s,e,"encrypt");let o;{let v;const g=await RY(e,s);({cek:o,encryptedKey:a,parameters:v}=await Cke(s,r,g,We(this,tc),We(this,gd))),v&&(i&&Ake in i?We(this,ys)?Si(this,ys,{...We(this,ys),...v}):this.setUnprotectedHeader(v):We(this,Un)?Si(this,Un,{...We(this,Un),...v}):this.setProtectedHeader(v))}let l,c,u,d;if(We(this,Un)?(c=Ps(JSON.stringify(We(this,Un))),u=cp(c)):(c="",u=new Uint8Array),We(this,pd)){d=Ps(We(this,pd));const v=cp(d);l=U0(u,cp("."),v)}else l=u;const{ciphertext:h,tag:f,iv:p}=await CY(r,We(this,n0),o,We(this,md),l),m={ciphertext:Ps(h)};return p&&(m.iv=Ps(p)),f&&(m.tag=Ps(f)),a&&(m.encrypted_key=Ps(a)),d&&(m.aad=d),We(this,Un)&&(m.protected=c),We(this,$r)&&(m.unprotected=We(this,$r)),We(this,ys)&&(m.header=We(this,ys)),m}}n0=new WeakMap,Un=new WeakMap,$r=new WeakMap,ys=new WeakMap,pd=new WeakMap,tc=new WeakMap,md=new WeakMap,gd=new WeakMap;const Vl=t=>Math.floor(t.getTime()/1e3),IY=60,wY=IY*60,a9=wY*24,Ike=a9*7,wke=a9*365.25,_ke=/^(\+|\-)? ?(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)(?: (ago|from now))?$/i;function s5(t){const e=_ke.exec(t);if(!e||e[4]&&e[1])throw new TypeError("Invalid time period format");const i=parseFloat(e[2]),n=e[3].toLowerCase();let s;switch(n){case"sec":case"secs":case"second":case"seconds":case"s":s=Math.round(i);break;case"minute":case"minutes":case"min":case"mins":case"m":s=Math.round(i*IY);break;case"hour":case"hours":case"hr":case"hrs":case"h":s=Math.round(i*wY);break;case"day":case"days":case"d":s=Math.round(i*a9);break;case"week":case"weeks":case"w":s=Math.round(i*Ike);break;default:s=Math.round(i*wke);break}return e[1]==="-"||e[4]==="ago"?-s:s}function Ll(t,e){if(!Number.isFinite(e))throw new TypeError(`Invalid ${t} input`);return e}var Ti;class xke{constructor(e){Oi(this,Ti);if(!s9(e))throw new TypeError("JWT Claims Set MUST be an object");Si(this,Ti,structuredClone(e))}data(){return yY.encode(JSON.stringify(We(this,Ti)))}get iss(){return We(this,Ti).iss}set iss(e){We(this,Ti).iss=e}get sub(){return We(this,Ti).sub}set sub(e){We(this,Ti).sub=e}get aud(){return We(this,Ti).aud}set aud(e){We(this,Ti).aud=e}set jti(e){We(this,Ti).jti=e}set nbf(e){typeof e=="number"?We(this,Ti).nbf=Ll("setNotBefore",e):e instanceof Date?We(this,Ti).nbf=Ll("setNotBefore",Vl(e)):We(this,Ti).nbf=Vl(new Date)+s5(e)}set exp(e){typeof e=="number"?We(this,Ti).exp=Ll("setExpirationTime",e):e instanceof Date?We(this,Ti).exp=Ll("setExpirationTime",Vl(e)):We(this,Ti).exp=Vl(new Date)+s5(e)}set iat(e){e===void 0?We(this,Ti).iat=Vl(new Date):e instanceof Date?We(this,Ti).iat=Ll("setIssuedAt",Vl(e)):typeof e=="string"?We(this,Ti).iat=Ll("setIssuedAt",Vl(new Date)+s5(e)):We(this,Ti).iat=Ll("setIssuedAt",e)}}Ti=new WeakMap;var Ga;class Nke{constructor(e){Oi(this,Ga);Si(this,Ga,new Rke(e))}setContentEncryptionKey(e){return We(this,Ga).setContentEncryptionKey(e),this}setInitializationVector(e){return We(this,Ga).setInitializationVector(e),this}setProtectedHeader(e){return We(this,Ga).setProtectedHeader(e),this}setKeyManagementParameters(e){return We(this,Ga).setKeyManagementParameters(e),this}async encrypt(e,i){const n=await We(this,Ga).encrypt(e,i);return[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join(".")}}Ga=new WeakMap;var ic,nc,sc,Da,yd,bd,vd,Bn;class Vke{constructor(e={}){Oi(this,ic);Oi(this,nc);Oi(this,sc);Oi(this,Da);Oi(this,yd);Oi(this,bd);Oi(this,vd);Oi(this,Bn);Si(this,Bn,new xke(e))}setIssuer(e){return We(this,Bn).iss=e,this}setSubject(e){return We(this,Bn).sub=e,this}setAudience(e){return We(this,Bn).aud=e,this}setJti(e){return We(this,Bn).jti=e,this}setNotBefore(e){return We(this,Bn).nbf=e,this}setExpirationTime(e){return We(this,Bn).exp=e,this}setIssuedAt(e){return We(this,Bn).iat=e,this}setProtectedHeader(e){if(We(this,Da))throw new TypeError("setProtectedHeader can only be called once");return Si(this,Da,e),this}setKeyManagementParameters(e){if(We(this,sc))throw new TypeError("setKeyManagementParameters can only be called once");return Si(this,sc,e),this}setContentEncryptionKey(e){if(We(this,ic))throw new TypeError("setContentEncryptionKey can only be called once");return Si(this,ic,e),this}setInitializationVector(e){if(We(this,nc))throw new TypeError("setInitializationVector can only be called once");return Si(this,nc,e),this}replicateIssuerAsHeader(){return Si(this,yd,!0),this}replicateSubjectAsHeader(){return Si(this,bd,!0),this}replicateAudienceAsHeader(){return Si(this,vd,!0),this}async encrypt(e,i){const n=new Nke(We(this,Bn).data());return We(this,Da)&&(We(this,yd)||We(this,bd)||We(this,vd))&&Si(this,Da,{...We(this,Da),iss:We(this,yd)?We(this,Bn).iss:void 0,sub:We(this,bd)?We(this,Bn).sub:void 0,aud:We(this,vd)?We(this,Bn).aud:void 0}),n.setProtectedHeader(We(this,Da)),We(this,nc)&&n.setInitializationVector(We(this,nc)),We(this,ic)&&n.setContentEncryptionKey(We(this,ic)),We(this,sc)&&n.setKeyManagementParameters(We(this,sc)),n.encrypt(e,i)}}ic=new WeakMap,nc=new WeakMap,sc=new WeakMap,Da=new WeakMap,yd=new WeakMap,bd=new WeakMap,vd=new WeakMap,Bn=new WeakMap;var Lke=Object.defineProperty,kke=(t,e,i)=>e in t?Lke(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,Dn=(t,e,i)=>kke(t,typeof e!="symbol"?e+"":e,i);function Fke(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _Y={exports:{}},Wi=_Y.exports={},Or,Xr;function lT(){throw new Error("setTimeout has not been defined")}function cT(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Or=setTimeout:Or=lT}catch{Or=lT}try{typeof clearTimeout=="function"?Xr=clearTimeout:Xr=cT}catch{Xr=cT}})();function xY(t){if(Or===setTimeout)return setTimeout(t,0);if((Or===lT||!Or)&&setTimeout)return Or=setTimeout,setTimeout(t,0);try{return Or(t,0)}catch{try{return Or.call(null,t,0)}catch{return Or.call(this,t,0)}}}function Uke(t){if(Xr===clearTimeout)return clearTimeout(t);if((Xr===cT||!Xr)&&clearTimeout)return Xr=clearTimeout,clearTimeout(t);try{return Xr(t)}catch{try{return Xr.call(null,t)}catch{return Xr.call(this,t)}}}var io=[],ud=!1,ql,ng=-1;function Bke(){!ud||!ql||(ud=!1,ql.length?io=ql.concat(io):ng=-1,io.length&&NY())}function NY(){if(!ud){var t=xY(Bke);ud=!0;for(var e=io.length;e;){for(ql=io,io=[];++ng<e;)ql&&ql[ng].run();ng=-1,e=io.length}ql=null,ud=!1,Uke(t)}}Wi.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];io.push(new VY(t,e)),io.length===1&&!ud&&xY(NY)};function VY(t,e){this.fun=t,this.array=e}VY.prototype.run=function(){this.fun.apply(null,this.array)};Wi.title="browser";Wi.browser=!0;Wi.env={};Wi.argv=[];Wi.version="";Wi.versions={};function Co(){}Wi.on=Co;Wi.addListener=Co;Wi.once=Co;Wi.off=Co;Wi.removeListener=Co;Wi.removeAllListeners=Co;Wi.emit=Co;Wi.prependListener=Co;Wi.prependOnceListener=Co;Wi.listeners=function(t){return[]};Wi.binding=function(t){throw new Error("process.binding is not supported")};Wi.cwd=function(){return"/"};Wi.chdir=function(t){throw new Error("process.chdir is not supported")};Wi.umask=function(){return 0};var Wke=_Y.exports;const r5=Fke(Wke);var o9={exports:{}};function Gke(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var Dke=Mke;function Mke(t,e,i){var n=i&&i.stringify||Gke,s=1;if(typeof t=="object"&&t!==null){var r=e.length+s;if(r===1)return t;var a=new Array(r);a[0]=n(t);for(var o=1;o<r;o++)a[o]=n(e[o]);return a.join(" ")}if(typeof t!="string")return t;var l=e.length;if(l===0)return t;for(var c="",u=1-s,d=-1,h=t&&t.length||0,f=0;f<h;){if(t.charCodeAt(f)===37&&f+1<h){switch(d=d>-1?d:0,t.charCodeAt(f+1)){case 100:case 102:if(u>=l||e[u]==null)break;d<f&&(c+=t.slice(d,f)),c+=Number(e[u]),d=f+2,f++;break;case 105:if(u>=l||e[u]==null)break;d<f&&(c+=t.slice(d,f)),c+=Math.floor(Number(e[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=l||e[u]===void 0)break;d<f&&(c+=t.slice(d,f));var p=typeof e[u];if(p==="string"){c+="'"+e[u]+"'",d=f+2,f++;break}if(p==="function"){c+=e[u].name||"<anonymous>",d=f+2,f++;break}c+=n(e[u]),d=f+2,f++;break;case 115:if(u>=l)break;d<f&&(c+=t.slice(d,f)),c+=String(e[u]),d=f+2,f++;break;case 37:d<f&&(c+=t.slice(d,f)),c+="%",d=f+2,f++,u--;break}++u}++f}return d===-1?t:(d<h&&(c+=t.slice(d)),c)}const zL=Dke;o9.exports=yo;const $p=tFe().console||{},Zke={mapHttpRequest:a1,mapHttpResponse:a1,wrapRequestSerializer:a5,wrapResponseSerializer:a5,wrapErrorSerializer:a5,req:a1,res:a1,err:jL,errWithCause:jL};function $2(t,e){return t==="silent"?1/0:e.levels.values[t]}const l9=Symbol("pino.logFuncs"),uT=Symbol("pino.hierarchy"),Pke={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function JL(t,e){const i={logger:e,parent:t[uT]};e[uT]=i}function Oke(t,e,i){const n={};e.forEach(s=>{n[s]=i[s]?i[s]:$p[s]||$p[Pke[s]||"log"]||dd}),t[l9]=n}function Xke(t,e){return Array.isArray(t)?t.filter(function(n){return n!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function yo(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const i=t.browser.write||$p;t.browser.write&&(t.browser.asObject=!0);const n=t.serializers||{},s=Xke(t.browser.serialize,n);let r=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(r=!1);const a=Object.keys(t.customLevels||{}),o=["error","fatal","warn","info","debug","trace"].concat(a);typeof i=="function"&&o.forEach(function(m){i[m]=i}),(t.enabled===!1||t.browser.disabled)&&(t.level="silent");const l=t.level||"info",c=Object.create(i);c.log||(c.log=dd),Oke(c,o,i),JL({},c),Object.defineProperty(c,"levelVal",{get:d}),Object.defineProperty(c,"level",{get:h,set:f});const u={transmit:e,serialize:s,asObject:t.browser.asObject,formatters:t.browser.formatters,levels:o,timestamp:Qke(t),messageKey:t.messageKey||"msg",onChild:t.onChild||dd};c.levels=Yke(t),c.level=l,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=dd,c.serializers=n,c._serialize=s,c._stdErrSerialize=r,c.child=function(...m){return p.call(this,u,...m)},e&&(c._logEvent=dT());function d(){return $2(this.level,this)}function h(){return this._level}function f(m){if(m!=="silent"&&!this.levels.values[m])throw Error("unknown level "+m);this._level=m,kl(this,u,c,"error"),kl(this,u,c,"fatal"),kl(this,u,c,"warn"),kl(this,u,c,"info"),kl(this,u,c,"debug"),kl(this,u,c,"trace"),a.forEach(v=>{kl(this,u,c,v)})}function p(m,v,g){if(!v)throw new Error("missing bindings for child Pino");g=g||{},s&&v.serializers&&(g.serializers=v.serializers);const E=g.serializers;if(s&&E){var A=Object.assign({},n,E),R=t.browser.serialize===!0?Object.keys(A):s;delete v.serializers,c9([v],R,A,this._stdErrSerialize)}function I(F){this._childLevel=(F._childLevel|0)+1,this.bindings=v,A&&(this.serializers=A,this._serialize=R),e&&(this._logEvent=dT([].concat(F._logEvent.bindings,v)))}I.prototype=this;const L=new I(this);return JL(this,L),L.child=function(...F){return p.call(this,m,...F)},L.level=g.level||this.level,m.onChild(L),L}return c}function Yke(t){const e=t.customLevels||{},i=Object.assign({},yo.levels.values,e),n=Object.assign({},yo.levels.labels,$ke(e));return{values:i,labels:n}}function $ke(t){const e={};return Object.keys(t).forEach(function(i){e[t[i]]=i}),e}yo.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};yo.stdSerializers=Zke;yo.stdTimeFunctions=Object.assign({},{nullTime:LY,epochTime:kY,unixTime:qke,isoTime:eFe});function Kke(t){const e=[];t.bindings&&e.push(t.bindings);let i=t[uT];for(;i.parent;)i=i.parent,i.logger.bindings&&e.push(i.logger.bindings);return e.reverse()}function kl(t,e,i,n){if(Object.defineProperty(t,n,{value:$2(t.level,i)>$2(n,i)?dd:i[l9][n],writable:!0,enumerable:!0,configurable:!0}),t[n]===dd){if(!e.transmit)return;const r=e.transmit.level||t.level,a=i.levels.values[r];if(i.levels.values[n]<a)return}t[n]=Jke(t,e,i,n);const s=Kke(t);s.length!==0&&(t[n]=zke(s,t[n]))}function zke(t,e){return function(){return e.apply(this,[...t,...arguments])}}function Jke(t,e,i,n){return function(s){return function(){const a=e.timestamp(),o=new Array(arguments.length),l=Object.getPrototypeOf&&Object.getPrototypeOf(this)===$p?$p:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];var u=!1;if(e.serialize&&(c9(o,this._serialize,this.serializers,this._stdErrSerialize),u=!0),e.asObject||e.formatters?s.call(l,jke(this,n,o,a,e)):s.apply(l,o),e.transmit){const d=e.transmit.level||t._level,h=i.levels.values[d],f=i.levels.values[n];if(f<h)return;Hke(this,{ts:a,methodLevel:n,methodValue:f,transmitValue:i.levels.values[e.transmit.level||t._level],send:e.transmit.send,val:$2(t._level,i)},o,u)}}}(t[l9][n])}function jke(t,e,i,n,s){const{level:r,log:a=h=>h}=s.formatters||{},o=i.slice();let l=o[0];const c={};if(n&&(c.time=n),r){const h=r(e,t.levels.values[e]);Object.assign(c,h)}else c.level=t.levels.values[e];let u=(t._childLevel|0)+1;if(u<1&&(u=1),l!==null&&typeof l=="object"){for(;u--&&typeof o[0]=="object";)Object.assign(c,o.shift());l=o.length?zL(o.shift(),o):void 0}else typeof l=="string"&&(l=zL(o.shift(),o));return l!==void 0&&(c[s.messageKey]=l),a(c)}function c9(t,e,i,n){for(const s in t)if(n&&t[s]instanceof Error)t[s]=yo.stdSerializers.err(t[s]);else if(typeof t[s]=="object"&&!Array.isArray(t[s])&&e)for(const r in t[s])e.indexOf(r)>-1&&r in i&&(t[s][r]=i[r](t[s][r]))}function Hke(t,e,i,n=!1){const s=e.send,r=e.ts,a=e.methodLevel,o=e.methodValue,l=e.val,c=t._logEvent.bindings;n||c9(i,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=r,t._logEvent.messages=i.filter(function(u){return c.indexOf(u)===-1}),t._logEvent.level.label=a,t._logEvent.level.value=o,s(a,t._logEvent,l),t._logEvent=dT(c)}function dT(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function jL(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const i in t)e[i]===void 0&&(e[i]=t[i]);return e}function Qke(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?LY:kY}function a1(){return{}}function a5(t){return t}function dd(){}function LY(){return!1}function kY(){return Date.now()}function qke(){return Math.round(Date.now()/1e3)}function eFe(){return new Date(Date.now()).toISOString()}function tFe(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}o9.exports.default=yo;var iFe=o9.exports.pino=yo;const nFe=iFe({level:"trace",enabled:typeof window<"u"&&!!window.localStorage.getItem("SL_DEBUG"),browser:{write:t=>{console.log(t)}}}),W0=(t,e)=>nFe.child({name:t},e);W0("event-bus");function K2(t){let e=!1;const i=[];for(let n=0;n<t.length;n++){let s=t.charAt(n);switch(s){case"_":e=!0;break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":i.push(s),e=!1;break;default:e&&(e=!1,s=s.toUpperCase()),i.push(s);break}}return i.join("")}const sFe=new Set(["constructor","toString","toJSON","valueOf"]);function Kp(t){return sFe.has(t)?t+"$":t}function rFe(){let t=0,e=0;for(let n=0;n<28;n+=7){let s=this.buf[this.pos++];if(t|=(s&127)<<n,!(s&128))return this.assertBounds(),[t,e]}let i=this.buf[this.pos++];if(t|=(i&15)<<28,e=(i&112)>>4,!(i&128))return this.assertBounds(),[t,e];for(let n=3;n<=31;n+=7){let s=this.buf[this.pos++];if(e|=(s&127)<<n,!(s&128))return this.assertBounds(),[t,e]}throw new Error("invalid varint")}const sg=4294967296;function HL(t){const e=t[0]==="-";e&&(t=t.slice(1));const i=1e6;let n=0,s=0;function r(a,o){const l=Number(t.slice(a,o));s*=i,n=n*i+l,n>=sg&&(s=s+(n/sg|0),n=n%sg)}return r(-24,-18),r(-18,-12),r(-12,-6),r(-6),e?UY(n,s):u9(n,s)}function aFe(t,e){let i=u9(t,e);const n=i.hi&2147483648;n&&(i=UY(i.lo,i.hi));const s=FY(i.lo,i.hi);return n?"-"+s:s}function FY(t,e){if({lo:t,hi:e}=oFe(t,e),e<=2097151)return String(sg*e+t);const i=t&16777215,n=(t>>>24|e<<8)&16777215,s=e>>16&65535;let r=i+n*6777216+s*6710656,a=n+s*8147497,o=s*2;const l=1e7;return r>=l&&(a+=Math.floor(r/l),r%=l),a>=l&&(o+=Math.floor(a/l),a%=l),o.toString()+QL(a)+QL(r)}function oFe(t,e){return{lo:t>>>0,hi:e>>>0}}function u9(t,e){return{lo:t|0,hi:e|0}}function UY(t,e){return e=~e,t?t=~t+1:e+=1,u9(t,e)}const QL=t=>{const e=String(t);return"0000000".slice(e.length)+e};function lFe(){let t=this.buf[this.pos++],e=t&127;if(!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<7,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<14,!(t&128))return this.assertBounds(),e;if(t=this.buf[this.pos++],e|=(t&127)<<21,!(t&128))return this.assertBounds(),e;t=this.buf[this.pos++],e|=(t&15)<<28;for(let i=5;t&128&&i<10;i++)t=this.buf[this.pos++];if(t&128)throw new Error("invalid varint");return this.assertBounds(),e>>>0}const bn=cFe();function cFe(){const t=new DataView(new ArrayBuffer(8));if(typeof BigInt=="function"&&typeof t.getBigInt64=="function"&&typeof t.getBigUint64=="function"&&typeof t.setBigInt64=="function"&&typeof t.setBigUint64=="function"&&(typeof r5!="object"||typeof r5.env!="object"||r5.env.BUF_BIGINT_DISABLE!=="1")){const i=BigInt("-9223372036854775808"),n=BigInt("9223372036854775807"),s=BigInt("0"),r=BigInt("18446744073709551615");return{zero:BigInt(0),supported:!0,parse(a){const o=typeof a=="bigint"?a:BigInt(a);if(o>n||o<i)throw new Error(`invalid int64: ${a}`);return o},uParse(a){const o=typeof a=="bigint"?a:BigInt(a);if(o>r||o<s)throw new Error(`invalid uint64: ${a}`);return o},enc(a){return t.setBigInt64(0,this.parse(a),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},uEnc(a){return t.setBigInt64(0,this.uParse(a),!0),{lo:t.getInt32(0,!0),hi:t.getInt32(4,!0)}},dec(a,o){return t.setInt32(0,a,!0),t.setInt32(4,o,!0),t.getBigInt64(0,!0)},uDec(a,o){return t.setInt32(0,a,!0),t.setInt32(4,o,!0),t.getBigUint64(0,!0)}}}return{zero:"0",supported:!1,parse(i){return typeof i!="string"&&(i=i.toString()),qL(i),i},uParse(i){return typeof i!="string"&&(i=i.toString()),ek(i),i},enc(i){return typeof i!="string"&&(i=i.toString()),qL(i),HL(i)},uEnc(i){return typeof i!="string"&&(i=i.toString()),ek(i),HL(i)},dec(i,n){return aFe(i,n)},uDec(i,n){return FY(i,n)}}}function qL(t){if(!/^-?[0-9]+$/.test(t))throw new Error("invalid int64: "+t)}function ek(t){if(!/^[0-9]+$/.test(t))throw new Error("invalid uint64: "+t)}var Ve;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(Ve||(Ve={}));function zp(t,e){switch(t){case Ve.STRING:return"";case Ve.BOOL:return!1;default:return 0;case Ve.DOUBLE:case Ve.FLOAT:return 0;case Ve.INT64:case Ve.UINT64:case Ve.SFIXED64:case Ve.FIXED64:case Ve.SINT64:return e?"0":bn.zero;case Ve.BYTES:return new Uint8Array(0)}}function uFe(t,e){switch(t){case Ve.BOOL:return e===!1;case Ve.STRING:return e==="";case Ve.BYTES:return e instanceof Uint8Array&&!e.byteLength;default:return e==0}}const BY=2,no=Symbol.for("reflect unsafe local");function dFe(t,e){const i=t[e.localName].case;return i===void 0?i:e.fields.find(n=>n.localName===i)}function hFe(t,e){const i=e.localName;if(e.oneof)return t[e.oneof.localName].case===i;if(e.presence!=BY)return t[i]!==void 0&&Object.prototype.hasOwnProperty.call(t,i);switch(e.fieldKind){case"list":return t[i].length>0;case"map":return Object.keys(t[i]).length>0;case"scalar":return!uFe(e.scalar,t[i]);case"enum":return t[i]!==e.enum.values[0].number}throw new Error("message field with implicit presence")}function Jp(t,e){return Object.prototype.hasOwnProperty.call(t,e)&&t[e]!==void 0}function fFe(t,e){if(e.oneof){const i=t[e.oneof.localName];return i.case===e.localName?i.value:void 0}return t[e.localName]}function pFe(t,e,i){e.oneof?t[e.oneof.localName]={case:e.localName,value:i}:t[e.localName]=i}function mFe(t,e){const i=e.localName;if(e.oneof){const n=e.oneof.localName;t[n].case===i&&(t[n]={case:void 0})}else if(e.presence!=BY)delete t[i];else switch(e.fieldKind){case"map":t[i]={};break;case"list":t[i]=[];break;case"enum":t[i]=e.enum.values[0].number;break;case"scalar":t[i]=zp(e.scalar,e.longAsString);break}}function d9(t){for(const e of t.field)Jp(e,"jsonName")||(e.jsonName=K2(e.name));t.nestedType.forEach(d9)}function gFe(t,e){const i=t.values.find(n=>n.name===e);if(!i)throw new Error(`cannot parse ${t} default value: ${e}`);return i.number}function yFe(t,e){switch(t){case Ve.STRING:return e;case Ve.BYTES:{const i=bFe(e);if(i===!1)throw new Error(`cannot parse ${Ve[t]} default value: ${e}`);return i}case Ve.INT64:case Ve.SFIXED64:case Ve.SINT64:return bn.parse(e);case Ve.UINT64:case Ve.FIXED64:return bn.uParse(e);case Ve.DOUBLE:case Ve.FLOAT:switch(e){case"inf":return Number.POSITIVE_INFINITY;case"-inf":return Number.NEGATIVE_INFINITY;case"nan":return Number.NaN;default:return parseFloat(e)}case Ve.BOOL:return e==="true";case Ve.INT32:case Ve.UINT32:case Ve.SINT32:case Ve.FIXED32:case Ve.SFIXED32:return parseInt(e,10)}}function bFe(t){const e=[],i={tail:t,c:"",next(){return this.tail.length==0?!1:(this.c=this.tail[0],this.tail=this.tail.substring(1),!0)},take(n){if(this.tail.length>=n){const s=this.tail.substring(0,n);return this.tail=this.tail.substring(n),s}return!1}};for(;i.next();)switch(i.c){case"\\":if(i.next())switch(i.c){case"\\":e.push(i.c.charCodeAt(0));break;case"b":e.push(8);break;case"f":e.push(12);break;case"n":e.push(10);break;case"r":e.push(13);break;case"t":e.push(9);break;case"v":e.push(11);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":{const n=i.c,s=i.take(2);if(s===!1)return!1;const r=parseInt(n+s,8);if(isNaN(r))return!1;e.push(r);break}case"x":{const n=i.c,s=i.take(2);if(s===!1)return!1;const r=parseInt(n+s,16);if(isNaN(r))return!1;e.push(r);break}case"u":{const n=i.c,s=i.take(4);if(s===!1)return!1;const r=parseInt(n+s,16);if(isNaN(r))return!1;const a=new Uint8Array(4);new DataView(a.buffer).setInt32(0,r,!0),e.push(a[0],a[1],a[2],a[3]);break}case"U":{const n=i.c,s=i.take(8);if(s===!1)return!1;const r=bn.uEnc(n+s),a=new Uint8Array(8),o=new DataView(a.buffer);o.setInt32(0,r.lo,!0),o.setInt32(4,r.hi,!0),e.push(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]);break}}break;default:e.push(i.c.charCodeAt(0))}return new Uint8Array(e)}function*hT(t){switch(t.kind){case"file":for(const e of t.messages)yield e,yield*hT(e);yield*t.enums,yield*t.services,yield*t.extensions;break;case"message":for(const e of t.nestedMessages)yield e,yield*hT(e);yield*t.nestedEnums,yield*t.nestedExtensions;break}}function WY(...t){const e=vFe();if(!t.length)return e;if("$typeName"in t[0]&&t[0].$typeName=="google.protobuf.FileDescriptorSet"){for(const i of t[0].file)nk(i,e);return e}if("$typeName"in t[0]){let i=function(a){const o=[];for(const l of a.dependency){if(e.getFile(l)!=null||r.has(l))continue;const c=s(l);if(!c)throw new Error(`Unable to resolve ${l}, imported by ${a.name}`);"kind"in c?e.addFile(c,!1,!0):(r.add(c.name),o.push(c))}return o.concat(...o.map(i))};const n=t[0],s=t[1],r=new Set;for(const a of[n,...i(n)].reverse())nk(a,e)}else for(const i of t)for(const n of i.files)e.addFile(n);return e}function vFe(){const t=new Map,e=new Map,i=new Map;return{kind:"registry",types:t,extendees:e,[Symbol.iterator](){return t.values()},get files(){return i.values()},addFile(n,s,r){if(i.set(n.proto.name,n),!s)for(const a of hT(n))this.add(a);if(r)for(const a of n.dependencies)this.addFile(a,s,r)},add(n){if(n.kind=="extension"){let s=e.get(n.extendee.typeName);s||e.set(n.extendee.typeName,s=new Map),s.set(n.number,n)}t.set(n.typeName,n)},get(n){return t.get(n)},getFile(n){return i.get(n)},getMessage(n){const s=t.get(n);return(s==null?void 0:s.kind)=="message"?s:void 0},getEnum(n){const s=t.get(n);return(s==null?void 0:s.kind)=="enum"?s:void 0},getExtension(n){const s=t.get(n);return(s==null?void 0:s.kind)=="extension"?s:void 0},getExtensionFor(n,s){var r;return(r=e.get(n.typeName))===null||r===void 0?void 0:r.get(s)},getService(n){const s=t.get(n);return(s==null?void 0:s.kind)=="service"?s:void 0}}}const EFe=998,AFe=999,SFe=9,z2=10,up=11,TFe=12,tk=14,h9=3,CFe=2,ik=1,RFe=0,o5=1,IFe=2,wFe=3,_Fe=1,xFe=2,NFe=1,GY={998:{fieldPresence:1,enumType:2,repeatedFieldEncoding:2,utf8Validation:3,messageEncoding:1,jsonFormat:2,enforceNamingStyle:2},999:{fieldPresence:2,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2},1e3:{fieldPresence:1,enumType:1,repeatedFieldEncoding:1,utf8Validation:2,messageEncoding:1,jsonFormat:1,enforceNamingStyle:2}};function nk(t,e){var i,n;const s={kind:"file",proto:t,deprecated:(n=(i=t.options)===null||i===void 0?void 0:i.deprecated)!==null&&n!==void 0?n:!1,edition:FFe(t),name:t.name.replace(/\.proto$/,""),dependencies:UFe(t,e),enums:[],messages:[],extensions:[],services:[],toString(){return`file ${t.name}`}},r=new Map,a={get(o){return r.get(o)},add(o){var l;yr(((l=o.proto.options)===null||l===void 0?void 0:l.mapEntry)===!0),r.set(o.typeName,o)}};for(const o of t.enumType)DY(o,s,void 0,e);for(const o of t.messageType)MY(o,s,void 0,e,a);for(const o of t.service)VFe(o,s,e);fT(s,e);for(const o of r.values())pT(o,e,a);for(const o of s.messages)pT(o,e,a),fT(o,e);e.addFile(s,!0)}function fT(t,e){switch(t.kind){case"file":for(const i of t.proto.extension){const n=mT(i,t,e);t.extensions.push(n),e.add(n)}break;case"message":for(const i of t.proto.extension){const n=mT(i,t,e);t.nestedExtensions.push(n),e.add(n)}for(const i of t.nestedMessages)fT(i,e);break}}function pT(t,e,i){const n=t.proto.oneofDecl.map(r=>kFe(r,t)),s=new Set;for(const r of t.proto.field){const a=GFe(r,n),o=mT(r,t,e,a,i);t.fields.push(o),t.field[o.localName]=o,a===void 0?t.members.push(o):(a.fields.push(o),s.has(a)||(s.add(a),t.members.push(a)))}for(const r of n.filter(a=>s.has(a)))t.oneofs.push(r);for(const r of t.nestedMessages)pT(r,e,i)}function DY(t,e,i,n){var s,r,a;const o=BFe(t.name,t.value),l={kind:"enum",proto:t,deprecated:(r=(s=t.options)===null||s===void 0?void 0:s.deprecated)!==null&&r!==void 0?r:!1,file:e,parent:i,open:!0,name:t.name,typeName:wb(t,i,e),value:{},values:[],sharedPrefix:o,toString(){return`enum ${this.typeName}`}};l.open=PFe(l),n.add(l),t.value.forEach(c=>{var u,d;const h=c.name;l.values.push(l.value[c.number]={kind:"enum_value",proto:c,deprecated:(d=(u=c.options)===null||u===void 0?void 0:u.deprecated)!==null&&d!==void 0?d:!1,parent:l,name:h,localName:Kp(o==null?h:h.substring(o.length)),number:c.number,toString(){return`enum value ${l.typeName}.${h}`}})}),((a=i==null?void 0:i.nestedEnums)!==null&&a!==void 0?a:e.enums).push(l)}function MY(t,e,i,n,s){var r,a,o,l;const c={kind:"message",proto:t,deprecated:(a=(r=t.options)===null||r===void 0?void 0:r.deprecated)!==null&&a!==void 0?a:!1,file:e,parent:i,name:t.name,typeName:wb(t,i,e),fields:[],field:{},oneofs:[],members:[],nestedEnums:[],nestedMessages:[],nestedExtensions:[],toString(){return`message ${this.typeName}`}};((o=t.options)===null||o===void 0?void 0:o.mapEntry)===!0?s.add(c):(((l=i==null?void 0:i.nestedMessages)!==null&&l!==void 0?l:e.messages).push(c),n.add(c));for(const u of t.enumType)DY(u,e,c,n);for(const u of t.nestedType)MY(u,e,c,n,s)}function VFe(t,e,i){var n,s;const r={kind:"service",proto:t,deprecated:(s=(n=t.options)===null||n===void 0?void 0:n.deprecated)!==null&&s!==void 0?s:!1,file:e,name:t.name,typeName:wb(t,void 0,e),methods:[],method:{},toString(){return`service ${this.typeName}`}};e.services.push(r),i.add(r);for(const a of t.method){const o=LFe(a,r,i);r.methods.push(o),r.method[o.localName]=o}}function LFe(t,e,i){var n,s,r,a;let o;t.clientStreaming&&t.serverStreaming?o="bidi_streaming":t.clientStreaming?o="client_streaming":t.serverStreaming?o="server_streaming":o="unary";const l=i.getMessage(La(t.inputType)),c=i.getMessage(La(t.outputType));yr(l,`invalid MethodDescriptorProto: input_type ${t.inputType} not found`),yr(c,`invalid MethodDescriptorProto: output_type ${t.inputType} not found`);const u=t.name;return{kind:"rpc",proto:t,deprecated:(s=(n=t.options)===null||n===void 0?void 0:n.deprecated)!==null&&s!==void 0?s:!1,parent:e,name:u,localName:Kp(u.length?Kp(u[0].toLowerCase()+u.substring(1)):u),methodKind:o,input:l,output:c,idempotency:(a=(r=t.options)===null||r===void 0?void 0:r.idempotencyLevel)!==null&&a!==void 0?a:RFe,toString(){return`rpc ${e.typeName}.${u}`}}}function kFe(t,e){return{kind:"oneof",proto:t,deprecated:!1,parent:e,fields:[],name:t.name,localName:Kp(K2(t.name)),toString(){return`oneof ${e.typeName}.${this.name}`}}}function mT(t,e,i,n,s){var r,a,o;const l=s===void 0,c={kind:"field",proto:t,deprecated:(a=(r=t.options)===null||r===void 0?void 0:r.deprecated)!==null&&a!==void 0?a:!1,name:t.name,number:t.number,scalar:void 0,message:void 0,enum:void 0,presence:DFe(t,n,l,e),listKind:void 0,mapKind:void 0,mapKey:void 0,delimitedEncoding:void 0,packed:void 0,longAsString:!1,getDefaultValue:void 0};if(l){const f=e.kind=="file"?e:e.file,p=e.kind=="file"?void 0:e,m=wb(t,p,f);c.kind="extension",c.file=f,c.parent=p,c.oneof=void 0,c.typeName=m,c.jsonName=`[${m}]`,c.toString=()=>`extension ${m}`;const v=i.getMessage(La(t.extendee));yr(v,`invalid FieldDescriptorProto: extendee ${t.extendee} not found`),c.extendee=v}else{const f=e;yr(f.kind=="message"),c.parent=f,c.oneof=n,c.localName=n?K2(t.name):Kp(K2(t.name)),c.jsonName=t.jsonName,c.toString=()=>`field ${f.typeName}.${t.name}`}const u=t.label,d=t.type,h=(o=t.options)===null||o===void 0?void 0:o.jstype;if(u===h9){const f=d==up?s==null?void 0:s.get(La(t.typeName)):void 0;if(f){c.fieldKind="map";const{key:p,value:m}=ZFe(f);return c.mapKey=p.scalar,c.mapKind=m.fieldKind,c.message=m.message,c.delimitedEncoding=!1,c.enum=m.enum,c.scalar=m.scalar,c}switch(c.fieldKind="list",d){case up:case z2:c.listKind="message",c.message=i.getMessage(La(t.typeName)),yr(c.message),c.delimitedEncoding=sk(t,e);break;case tk:c.listKind="enum",c.enum=i.getEnum(La(t.typeName)),yr(c.enum);break;default:c.listKind="scalar",c.scalar=d,c.longAsString=h==ik;break}return c.packed=MFe(t,e),c}switch(d){case up:case z2:c.fieldKind="message",c.message=i.getMessage(La(t.typeName)),yr(c.message,`invalid FieldDescriptorProto: type_name ${t.typeName} not found`),c.delimitedEncoding=sk(t,e),c.getDefaultValue=()=>{};break;case tk:{const f=i.getEnum(La(t.typeName));yr(f!==void 0,`invalid FieldDescriptorProto: type_name ${t.typeName} not found`),c.fieldKind="enum",c.enum=i.getEnum(La(t.typeName)),c.getDefaultValue=()=>Jp(t,"defaultValue")?gFe(f,t.defaultValue):void 0;break}default:{c.fieldKind="scalar",c.scalar=d,c.longAsString=h==ik,c.getDefaultValue=()=>Jp(t,"defaultValue")?yFe(d,t.defaultValue):void 0;break}}return c}function FFe(t){switch(t.syntax){case"":case"proto2":return EFe;case"proto3":return AFe;case"editions":if(t.edition in GY)return t.edition;throw new Error(`${t.name}: unsupported edition`);default:throw new Error(`${t.name}: unsupported syntax "${t.syntax}"`)}}function UFe(t,e){return t.dependency.map(i=>{const n=e.getFile(i);if(!n)throw new Error(`Cannot find ${i}, imported by ${t.name}`);return n})}function BFe(t,e){const i=WFe(t)+"_";for(const n of e){if(!n.name.toLowerCase().startsWith(i))return;const s=n.name.substring(i.length);if(s.length==0||/^\d/.test(s))return}return i}function WFe(t){return(t.substring(0,1)+t.substring(1).replace(/[A-Z]/g,e=>"_"+e)).toLowerCase()}function wb(t,e,i){let n;return e?n=`${e.typeName}.${t.name}`:i.proto.package.length>0?n=`${i.proto.package}.${t.name}`:n=`${t.name}`,n}function La(t){return t.startsWith(".")?t.substring(1):t}function GFe(t,e){if(!Jp(t,"oneofIndex")||t.proto3Optional)return;const i=e[t.oneofIndex];return yr(i,`invalid FieldDescriptorProto: oneof #${t.oneofIndex} for field #${t.number} not found`),i}function DFe(t,e,i,n){return t.label==CFe?wFe:t.label==h9?IFe:e||t.proto3Optional||t.type==up||i?o5:qd("fieldPresence",{proto:t,parent:n})}function MFe(t,e){if(t.label!=h9)return!1;switch(t.type){case SFe:case TFe:case z2:case up:return!1}const i=t.options;return i&&Jp(i,"packed")?i.packed:_Fe==qd("repeatedFieldEncoding",{proto:t,parent:e})}function ZFe(t){const e=t.fields.find(n=>n.number===1),i=t.fields.find(n=>n.number===2);return yr(e&&e.fieldKind=="scalar"&&e.scalar!=Ve.BYTES&&e.scalar!=Ve.FLOAT&&e.scalar!=Ve.DOUBLE&&i&&i.fieldKind!="list"&&i.fieldKind!="map"),{key:e,value:i}}function PFe(t){var e;return NFe==qd("enumType",{proto:t.proto,parent:(e=t.parent)!==null&&e!==void 0?e:t.file})}function sk(t,e){return t.type==z2?!0:xFe==qd("messageEncoding",{proto:t,parent:e})}function qd(t,e){var i,n;const s=(i=e.proto.options)===null||i===void 0?void 0:i.features;if(s){const r=s[t];if(r!=0)return r}if("kind"in e){if(e.kind=="message")return qd(t,(n=e.parent)!==null&&n!==void 0?n:e.file);const r=GY[e.edition];if(!r)throw new Error(`feature default for edition ${e.edition} not found`);return r[t]}return qd(t,e.parent)}function yr(t,e){if(!t)throw new Error(e)}function OFe(t){const e=XFe(t);return e.messageType.forEach(d9),WY(e,()=>{}).getFile(e.name)}function XFe(t){return Object.assign(Object.create({syntax:"",edition:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FileDescriptorProto",dependency:[],publicDependency:[],weakDependency:[],service:[],extension:[]},t),{messageType:t.messageType.map(ZY),enumType:t.enumType.map(PY)}))}function ZY(t){var e,i,n,s,r,a,o,l;return{$typeName:"google.protobuf.DescriptorProto",name:t.name,field:(i=(e=t.field)===null||e===void 0?void 0:e.map(YFe))!==null&&i!==void 0?i:[],extension:[],nestedType:(s=(n=t.nestedType)===null||n===void 0?void 0:n.map(ZY))!==null&&s!==void 0?s:[],enumType:(a=(r=t.enumType)===null||r===void 0?void 0:r.map(PY))!==null&&a!==void 0?a:[],extensionRange:(l=(o=t.extensionRange)===null||o===void 0?void 0:o.map(c=>Object.assign({$typeName:"google.protobuf.DescriptorProto.ExtensionRange"},c)))!==null&&l!==void 0?l:[],oneofDecl:[],reservedRange:[],reservedName:[]}}function YFe(t){return Object.assign(Object.create({label:1,typeName:"",extendee:"",defaultValue:"",oneofIndex:0,jsonName:"",proto3Optional:!1}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldDescriptorProto"},t),{options:t.options?$Fe(t.options):void 0}))}function $Fe(t){var e,i,n;return Object.assign(Object.create({ctype:0,packed:!1,jstype:0,lazy:!1,unverifiedLazy:!1,deprecated:!1,weak:!1,debugRedact:!1,retention:0}),Object.assign(Object.assign({$typeName:"google.protobuf.FieldOptions"},t),{targets:(e=t.targets)!==null&&e!==void 0?e:[],editionDefaults:(n=(i=t.editionDefaults)===null||i===void 0?void 0:i.map(r=>Object.assign({$typeName:"google.protobuf.FieldOptions.EditionDefault"},r)))!==null&&n!==void 0?n:[],uninterpretedOption:[]}))}function PY(t){return{$typeName:"google.protobuf.EnumDescriptorProto",name:t.name,reservedName:[],reservedRange:[],value:t.value.map(e=>Object.assign({$typeName:"google.protobuf.EnumValueDescriptorProto"},e))}}function KFe(t){const e=JFe();let i=t.length*3/4;t[t.length-2]=="="?i-=2:t[t.length-1]=="="&&(i-=1);let n=new Uint8Array(i),s=0,r=0,a,o=0;for(let l=0;l<t.length;l++){if(a=e[t.charCodeAt(l)],a===void 0)switch(t[l]){case"=":r=0;case`
`:case"\r":case"	":case" ":continue;default:throw Error("invalid base64 string")}switch(r){case 0:o=a,r=1;break;case 1:n[s++]=o<<2|(a&48)>>4,o=a,r=2;break;case 2:n[s++]=(o&15)<<4|(a&60)>>2,o=a,r=3;break;case 3:n[s++]=(o&3)<<6|a,r=0;break}}if(r==1)throw Error("invalid base64 string");return n.subarray(0,s)}let o1,fu;function zFe(t){return o1||(o1="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),o1.slice(0,-2).concat("-","_")),o1}function JFe(){if(!fu){fu=[];const t=zFe();for(let e=0;e<t.length;e++)fu[t[e].charCodeAt(0)]=e;fu[45]=t.indexOf("+"),fu[95]=t.indexOf("/")}return fu}function OY(t,e){return t!==null&&typeof t=="object"&&"$typeName"in t&&typeof t.$typeName=="string"?e===void 0?!0:e.typeName===t.$typeName:!1}class eh extends Error{constructor(e,i,n="FieldValueInvalidError"){super(i),this.name=n,this.field=()=>e}}function th(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function f9(t,e){var i,n,s,r;if(th(t)&&no in t&&"add"in t&&"field"in t&&typeof t.field=="function"){if(e!==void 0){const a=e,o=t.field();return a.listKind==o.listKind&&a.scalar===o.scalar&&((i=a.message)===null||i===void 0?void 0:i.typeName)===((n=o.message)===null||n===void 0?void 0:n.typeName)&&((s=a.enum)===null||s===void 0?void 0:s.typeName)===((r=o.enum)===null||r===void 0?void 0:r.typeName)}return!0}return!1}function p9(t,e){var i,n,s,r;if(th(t)&&no in t&&"has"in t&&"field"in t&&typeof t.field=="function"){if(e!==void 0){const a=e,o=t.field();return a.mapKey===o.mapKey&&a.mapKind==o.mapKind&&a.scalar===o.scalar&&((i=a.message)===null||i===void 0?void 0:i.typeName)===((n=o.message)===null||n===void 0?void 0:n.typeName)&&((s=a.enum)===null||s===void 0?void 0:s.typeName)===((r=o.enum)===null||r===void 0?void 0:r.typeName)}return!0}return!1}function m9(t,e){return th(t)&&no in t&&"desc"in t&&th(t.desc)&&t.desc.kind==="message"&&(e===void 0||t.desc.typeName==e.typeName)}const l5=Symbol.for("@bufbuild/protobuf/text-encoding");function XY(){if(globalThis[l5]==null){const t=new globalThis.TextEncoder,e=new globalThis.TextDecoder;globalThis[l5]={encodeUtf8(i){return t.encode(i)},decodeUtf8(i){return e.decode(i)},checkUtf8(i){try{return encodeURIComponent(i),!0}catch{return!1}}}}return globalThis[l5]}var br;(function(t){t[t.Varint=0]="Varint",t[t.Bit64=1]="Bit64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Bit32=5]="Bit32"})(br||(br={}));const jFe=34028234663852886e22,HFe=-34028234663852886e22,QFe=4294967295,qFe=2147483647,eUe=-2147483648;class tUe{constructor(e,i=XY().decodeUtf8){this.decodeUtf8=i,this.varint64=rFe,this.uint32=lFe,this.buf=e,this.len=e.length,this.pos=0,this.view=new DataView(e.buffer,e.byteOffset,e.byteLength)}tag(){let e=this.uint32(),i=e>>>3,n=e&7;if(i<=0||n<0||n>5)throw new Error("illegal tag: field no "+i+" wire type "+n);return[i,n]}skip(e,i){let n=this.pos;switch(e){case br.Varint:for(;this.buf[this.pos++]&128;);break;case br.Bit64:this.pos+=4;case br.Bit32:this.pos+=4;break;case br.LengthDelimited:let s=this.uint32();this.pos+=s;break;case br.StartGroup:for(;;){const[r,a]=this.tag();if(a===br.EndGroup){if(i!==void 0&&r!==i)throw new Error("invalid end group tag");break}this.skip(a,r)}break;default:throw new Error("cant skip wire type "+e)}return this.assertBounds(),this.buf.subarray(n,this.pos)}assertBounds(){if(this.pos>this.len)throw new RangeError("premature EOF")}int32(){return this.uint32()|0}sint32(){let e=this.uint32();return e>>>1^-(e&1)}int64(){return bn.dec(...this.varint64())}uint64(){return bn.uDec(...this.varint64())}sint64(){let[e,i]=this.varint64(),n=-(e&1);return e=(e>>>1|(i&1)<<31)^n,i=i>>>1^n,bn.dec(e,i)}bool(){let[e,i]=this.varint64();return e!==0||i!==0}fixed32(){return this.view.getUint32((this.pos+=4)-4,!0)}sfixed32(){return this.view.getInt32((this.pos+=4)-4,!0)}fixed64(){return bn.uDec(this.sfixed32(),this.sfixed32())}sfixed64(){return bn.dec(this.sfixed32(),this.sfixed32())}float(){return this.view.getFloat32((this.pos+=4)-4,!0)}double(){return this.view.getFloat64((this.pos+=8)-8,!0)}bytes(){let e=this.uint32(),i=this.pos;return this.pos+=e,this.assertBounds(),this.buf.subarray(i,i+e)}string(){return this.decodeUtf8(this.bytes())}}function iUe(t,e){const i=t.fieldKind=="list"?f9(e,t):t.fieldKind=="map"?p9(e,t):g9(t,e);if(i===!0)return;let n;switch(t.fieldKind){case"list":n=`expected ${KY(t)}, got ${j2(e)}`;break;case"map":n=`expected ${zY(t)}, got ${j2(e)}`;break;default:n=J2(t,e,i)}return new eh(t,n)}function rk(t,e,i){const n=g9(t,i);if(n!==!0)return new eh(t,`list item #${e+1}: ${J2(t,i,n)}`)}function nUe(t,e,i){const n=YY(e,t.mapKey);if(n!==!0)return new eh(t,`invalid map key: ${J2({scalar:t.mapKey},e,n)}`);const s=g9(t,i);if(s!==!0)return new eh(t,`map entry ${j2(e)}: ${J2(t,i,s)}`)}function g9(t,e){return t.scalar!==void 0?YY(e,t.scalar):t.enum!==void 0?t.enum.open?Number.isInteger(e):t.enum.values.some(i=>i.number===e):m9(e,t.message)}function YY(t,e){switch(e){case Ve.DOUBLE:return typeof t=="number";case Ve.FLOAT:return typeof t!="number"?!1:Number.isNaN(t)||!Number.isFinite(t)?!0:t>jFe||t<HFe?`${t.toFixed()} out of range`:!0;case Ve.INT32:case Ve.SFIXED32:case Ve.SINT32:return typeof t!="number"||!Number.isInteger(t)?!1:t>qFe||t<eUe?`${t.toFixed()} out of range`:!0;case Ve.FIXED32:case Ve.UINT32:return typeof t!="number"||!Number.isInteger(t)?!1:t>QFe||t<0?`${t.toFixed()} out of range`:!0;case Ve.BOOL:return typeof t=="boolean";case Ve.STRING:return typeof t!="string"?!1:XY().checkUtf8(t)||"invalid UTF8";case Ve.BYTES:return t instanceof Uint8Array;case Ve.INT64:case Ve.SFIXED64:case Ve.SINT64:if(typeof t=="bigint"||typeof t=="number"||typeof t=="string"&&t.length>0)try{return bn.parse(t),!0}catch{return`${t} out of range`}return!1;case Ve.FIXED64:case Ve.UINT64:if(typeof t=="bigint"||typeof t=="number"||typeof t=="string"&&t.length>0)try{return bn.uParse(t),!0}catch{return`${t} out of range`}return!1}}function J2(t,e,i){return i=typeof i=="string"?`: ${i}`:`, got ${j2(e)}`,t.scalar!==void 0?`expected ${sUe(t.scalar)}`+i:t.enum!==void 0?`expected ${t.enum.toString()}`+i:`expected ${$Y(t.message)}`+i}function j2(t){switch(typeof t){case"object":return t===null?"null":t instanceof Uint8Array?`Uint8Array(${t.length})`:Array.isArray(t)?`Array(${t.length})`:f9(t)?KY(t.field()):p9(t)?zY(t.field()):m9(t)?$Y(t.desc):OY(t)?`message ${t.$typeName}`:"object";case"string":return t.length>30?"string":`"${t.split('"').join('\\"')}"`;case"boolean":return String(t);case"number":return String(t);case"bigint":return String(t)+"n";default:return typeof t}}function $Y(t){return`ReflectMessage (${t.typeName})`}function KY(t){switch(t.listKind){case"message":return`ReflectList (${t.message.toString()})`;case"enum":return`ReflectList (${t.enum.toString()})`;case"scalar":return`ReflectList (${Ve[t.scalar]})`}}function zY(t){switch(t.mapKind){case"message":return`ReflectMap (${Ve[t.mapKey]}, ${t.message.toString()})`;case"enum":return`ReflectMap (${Ve[t.mapKey]}, ${t.enum.toString()})`;case"scalar":return`ReflectMap (${Ve[t.mapKey]}, ${Ve[t.scalar]})`}}function sUe(t){switch(t){case Ve.STRING:return"string";case Ve.BOOL:return"boolean";case Ve.INT64:case Ve.SINT64:case Ve.SFIXED64:return"bigint (int64)";case Ve.UINT64:case Ve.FIXED64:return"bigint (uint64)";case Ve.BYTES:return"Uint8Array";case Ve.DOUBLE:return"number (float64)";case Ve.FLOAT:return"number (float32)";case Ve.FIXED32:case Ve.UINT32:return"number (uint32)";case Ve.INT32:case Ve.SFIXED32:case Ve.SINT32:return"number (int32)"}}function rUe(t){return JY(t.$typeName)}function aUe(t){const e=t.fields[0];return JY(t.typeName)&&e!==void 0&&e.fieldKind=="scalar"&&e.name=="value"&&e.number==1}function JY(t){return t.startsWith("google.protobuf.")&&["DoubleValue","FloatValue","Int64Value","UInt64Value","Int32Value","UInt32Value","BoolValue","StringValue","BytesValue"].includes(t.substring(16))}const oUe=999,lUe=998,rg=2;function cUe(t,e){return OY(e,t)?e:dUe(t)}const uUe=Symbol(),ak=new WeakMap;function dUe(t){let e;if(hUe(t)){const i=ak.get(t);let n,s;if(i)({prototype:n,members:s}=i);else{n={},s=new Set;for(const r of t.members)r.kind!="oneof"&&(r.fieldKind!="scalar"&&r.fieldKind!="enum"||r.presence!=rg&&(s.add(r),n[r.localName]=c5(r)));ak.set(t,{prototype:n,members:s})}e=Object.create(n),e.$typeName=t.typeName;for(const r of t.members)s.has(r)||r.kind=="field"&&(r.fieldKind=="message"||(r.fieldKind=="scalar"||r.fieldKind=="enum")&&r.presence!=rg)||(e[r.localName]=c5(r))}else{e={$typeName:t.typeName};for(const i of t.members)(i.kind=="oneof"||i.presence==rg)&&(e[i.localName]=c5(i))}return e}function hUe(t){switch(t.file.edition){case oUe:return!1;case lUe:return!0;default:return t.fields.some(e=>e.presence!=rg&&e.fieldKind!="message"&&!e.oneof)}}function c5(t){if(t.kind=="oneof")return{case:void 0};if(t.fieldKind=="list")return[];if(t.fieldKind=="map")return{};if(t.fieldKind=="message")return uUe;const e=t.getDefaultValue();return e!==void 0?t.fieldKind=="scalar"&&t.longAsString?e.toString():e:t.fieldKind=="scalar"?zp(t.scalar,t.longAsString):t.enum.values[0].number}function y9(t,e,i=!0){return new jY(t,e,i)}class jY{get sortedFields(){var e;return(e=this._sortedFields)!==null&&e!==void 0?e:this._sortedFields=this.desc.fields.concat().sort((i,n)=>i.number-n.number)}constructor(e,i,n=!0){this.lists=new Map,this.maps=new Map,this.check=n,this.desc=e,this.message=this[no]=i??cUe(e),this.fields=e.fields,this.oneofs=e.oneofs,this.members=e.members}findNumber(e){return this._fieldsByNumber||(this._fieldsByNumber=new Map(this.desc.fields.map(i=>[i.number,i]))),this._fieldsByNumber.get(e)}oneofCase(e){return Af(this.message,e),dFe(this.message,e)}isSet(e){return Af(this.message,e),hFe(this.message,e)}clear(e){Af(this.message,e),mFe(this.message,e)}get(e){Af(this.message,e);const i=fFe(this.message,e);switch(e.fieldKind){case"list":let n=this.lists.get(e);return(!n||n[no]!==i)&&this.lists.set(e,n=new fUe(e,i,this.check)),n;case"map":let s=this.maps.get(e);return(!s||s[no]!==i)&&this.maps.set(e,s=new pUe(e,i,this.check)),s;case"message":return v9(e,i,this.check);case"scalar":return i===void 0?zp(e.scalar,!1):E9(e,i);case"enum":return i??e.enum.values[0].number}}set(e,i){if(Af(this.message,e),this.check){const s=iUe(e,i);if(s)throw s}let n;e.fieldKind=="message"?n=b9(e,i):p9(i)||f9(i)?n=i[no]:n=A9(e,i),pFe(this.message,e,n)}getUnknown(){return this.message.$unknown}setUnknown(e){this.message.$unknown=e}}function Af(t,e){if(e.parent.typeName!==t.$typeName)throw new eh(e,`cannot use ${e.toString()} with message ${t.$typeName}`,"ForeignFieldError")}class fUe{field(){return this._field}get size(){return this._arr.length}constructor(e,i,n){this._field=e,this._arr=this[no]=i,this.check=n}get(e){const i=this._arr[e];return i===void 0?void 0:u5(this._field,i,this.check)}set(e,i){if(e<0||e>=this._arr.length)throw new eh(this._field,`list item #${e+1}: out of range`);if(this.check){const n=rk(this._field,e,i);if(n)throw n}this._arr[e]=ok(this._field,i)}add(e){if(this.check){const i=rk(this._field,this._arr.length,e);if(i)throw i}this._arr.push(ok(this._field,e))}clear(){this._arr.splice(0,this._arr.length)}[Symbol.iterator](){return this.values()}keys(){return this._arr.keys()}*values(){for(const e of this._arr)yield u5(this._field,e,this.check)}*entries(){for(let e=0;e<this._arr.length;e++)yield[e,u5(this._field,this._arr[e],this.check)]}}class pUe{constructor(e,i,n=!0){this.obj=this[no]=i??{},this.check=n,this._field=e}field(){return this._field}set(e,i){if(this.check){const n=nUe(this._field,e,i);if(n)throw n}return this.obj[l1(e)]=mUe(this._field,i),this}delete(e){const i=l1(e),n=Object.prototype.hasOwnProperty.call(this.obj,i);return n&&delete this.obj[i],n}clear(){for(const e of Object.keys(this.obj))delete this.obj[e]}get(e){let i=this.obj[l1(e)];return i!==void 0&&(i=d5(this._field,i,this.check)),i}has(e){return Object.prototype.hasOwnProperty.call(this.obj,l1(e))}*keys(){for(const e of Object.keys(this.obj))yield lk(e,this._field.mapKey)}*entries(){for(const e of Object.entries(this.obj))yield[lk(e[0],this._field.mapKey),d5(this._field,e[1],this.check)]}[Symbol.iterator](){return this.entries()}get size(){return Object.keys(this.obj).length}*values(){for(const e of Object.values(this.obj))yield d5(this._field,e,this.check)}forEach(e,i){for(const n of this.entries())e.call(i,n[1],n[0],this)}}function b9(t,e){return m9(e)?rUe(e.message)&&!t.oneof&&t.fieldKind=="message"?e.message.value:e.desc.typeName=="google.protobuf.Struct"&&t.parent.typeName!="google.protobuf.Value"?QY(e.message):e.message:e}function v9(t,e,i){return e!==void 0&&(aUe(t.message)&&!t.oneof&&t.fieldKind=="message"?e={$typeName:t.message.typeName,value:E9(t.message.fields[0],e)}:t.message.typeName=="google.protobuf.Struct"&&t.parent.typeName!="google.protobuf.Value"&&th(e)&&(e=HY(e))),new jY(t.message,e,i)}function ok(t,e){return t.listKind=="message"?b9(t,e):A9(t,e)}function u5(t,e,i){return t.listKind=="message"?v9(t,e,i):E9(t,e)}function mUe(t,e){return t.mapKind=="message"?b9(t,e):A9(t,e)}function d5(t,e,i){return t.mapKind=="message"?v9(t,e,i):e}function l1(t){return typeof t=="string"||typeof t=="number"?t:String(t)}function lk(t,e){switch(e){case Ve.STRING:return t;case Ve.INT32:case Ve.FIXED32:case Ve.UINT32:case Ve.SFIXED32:case Ve.SINT32:{const i=Number.parseInt(t);if(Number.isFinite(i))return i;break}case Ve.BOOL:switch(t){case"true":return!0;case"false":return!1}break;case Ve.UINT64:case Ve.FIXED64:try{return bn.uParse(t)}catch{}break;default:try{return bn.parse(t)}catch{}break}return t}function E9(t,e){switch(t.scalar){case Ve.INT64:case Ve.SFIXED64:case Ve.SINT64:"longAsString"in t&&t.longAsString&&typeof e=="string"&&(e=bn.parse(e));break;case Ve.FIXED64:case Ve.UINT64:"longAsString"in t&&t.longAsString&&typeof e=="string"&&(e=bn.uParse(e));break}return e}function A9(t,e){switch(t.scalar){case Ve.INT64:case Ve.SFIXED64:case Ve.SINT64:"longAsString"in t&&t.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=bn.parse(e));break;case Ve.FIXED64:case Ve.UINT64:"longAsString"in t&&t.longAsString?e=String(e):(typeof e=="string"||typeof e=="number")&&(e=bn.uParse(e));break}return e}function HY(t){const e={$typeName:"google.protobuf.Struct",fields:{}};if(th(t))for(const[i,n]of Object.entries(t))e.fields[i]=e$(n);return e}function QY(t){const e={};for(const[i,n]of Object.entries(t.fields))e[i]=qY(n);return e}function qY(t){switch(t.kind.case){case"structValue":return QY(t.kind.value);case"listValue":return t.kind.value.values.map(qY);case"nullValue":case void 0:return null;default:return t.kind.value}}function e$(t){const e={$typeName:"google.protobuf.Value",kind:{case:void 0}};switch(typeof t){case"number":e.kind={case:"numberValue",value:t};break;case"string":e.kind={case:"stringValue",value:t};break;case"boolean":e.kind={case:"boolValue",value:t};break;case"object":if(t===null)e.kind={case:"nullValue",value:0};else if(Array.isArray(t)){const i={$typeName:"google.protobuf.ListValue",values:[]};if(Array.isArray(t))for(const n of t)i.values.push(e$(n));e.kind={case:"listValue",value:i}}else e.kind={case:"structValue",value:HY(t)};break}return e}function gUe(t,e,...i){return i.reduce((n,s)=>n.nestedMessages[s],t.messages[e])}const t$=OFe({name:"google/protobuf/descriptor.proto",package:"google.protobuf",messageType:[{name:"FileDescriptorSet",field:[{name:"file",number:1,type:11,label:3,typeName:".google.protobuf.FileDescriptorProto"}],extensionRange:[{start:536e6,end:536000001}]},{name:"FileDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"package",number:2,type:9,label:1},{name:"dependency",number:3,type:9,label:3},{name:"public_dependency",number:10,type:5,label:3},{name:"weak_dependency",number:11,type:5,label:3},{name:"message_type",number:4,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:5,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"service",number:6,type:11,label:3,typeName:".google.protobuf.ServiceDescriptorProto"},{name:"extension",number:7,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FileOptions"},{name:"source_code_info",number:9,type:11,label:1,typeName:".google.protobuf.SourceCodeInfo"},{name:"syntax",number:12,type:9,label:1},{name:"edition",number:14,type:14,label:1,typeName:".google.protobuf.Edition"}]},{name:"DescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"field",number:2,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"extension",number:6,type:11,label:3,typeName:".google.protobuf.FieldDescriptorProto"},{name:"nested_type",number:3,type:11,label:3,typeName:".google.protobuf.DescriptorProto"},{name:"enum_type",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto"},{name:"extension_range",number:5,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ExtensionRange"},{name:"oneof_decl",number:8,type:11,label:3,typeName:".google.protobuf.OneofDescriptorProto"},{name:"options",number:7,type:11,label:1,typeName:".google.protobuf.MessageOptions"},{name:"reserved_range",number:9,type:11,label:3,typeName:".google.protobuf.DescriptorProto.ReservedRange"},{name:"reserved_name",number:10,type:9,label:3}],nestedType:[{name:"ExtensionRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ExtensionRangeOptions"}]},{name:"ReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"ExtensionRangeOptions",field:[{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"},{name:"declaration",number:2,type:11,label:3,typeName:".google.protobuf.ExtensionRangeOptions.Declaration",options:{retention:2}},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"verification",number:3,type:14,label:1,typeName:".google.protobuf.ExtensionRangeOptions.VerificationState",defaultValue:"UNVERIFIED",options:{retention:2}}],nestedType:[{name:"Declaration",field:[{name:"number",number:1,type:5,label:1},{name:"full_name",number:2,type:9,label:1},{name:"type",number:3,type:9,label:1},{name:"reserved",number:5,type:8,label:1},{name:"repeated",number:6,type:8,label:1}]}],enumType:[{name:"VerificationState",value:[{name:"DECLARATION",number:0},{name:"UNVERIFIED",number:1}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:3,type:5,label:1},{name:"label",number:4,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Label"},{name:"type",number:5,type:14,label:1,typeName:".google.protobuf.FieldDescriptorProto.Type"},{name:"type_name",number:6,type:9,label:1},{name:"extendee",number:2,type:9,label:1},{name:"default_value",number:7,type:9,label:1},{name:"oneof_index",number:9,type:5,label:1},{name:"json_name",number:10,type:9,label:1},{name:"options",number:8,type:11,label:1,typeName:".google.protobuf.FieldOptions"},{name:"proto3_optional",number:17,type:8,label:1}],enumType:[{name:"Type",value:[{name:"TYPE_DOUBLE",number:1},{name:"TYPE_FLOAT",number:2},{name:"TYPE_INT64",number:3},{name:"TYPE_UINT64",number:4},{name:"TYPE_INT32",number:5},{name:"TYPE_FIXED64",number:6},{name:"TYPE_FIXED32",number:7},{name:"TYPE_BOOL",number:8},{name:"TYPE_STRING",number:9},{name:"TYPE_GROUP",number:10},{name:"TYPE_MESSAGE",number:11},{name:"TYPE_BYTES",number:12},{name:"TYPE_UINT32",number:13},{name:"TYPE_ENUM",number:14},{name:"TYPE_SFIXED32",number:15},{name:"TYPE_SFIXED64",number:16},{name:"TYPE_SINT32",number:17},{name:"TYPE_SINT64",number:18}]},{name:"Label",value:[{name:"LABEL_OPTIONAL",number:1},{name:"LABEL_REPEATED",number:3},{name:"LABEL_REQUIRED",number:2}]}]},{name:"OneofDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"options",number:2,type:11,label:1,typeName:".google.protobuf.OneofOptions"}]},{name:"EnumDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"value",number:2,type:11,label:3,typeName:".google.protobuf.EnumValueDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumOptions"},{name:"reserved_range",number:4,type:11,label:3,typeName:".google.protobuf.EnumDescriptorProto.EnumReservedRange"},{name:"reserved_name",number:5,type:9,label:3}],nestedType:[{name:"EnumReservedRange",field:[{name:"start",number:1,type:5,label:1},{name:"end",number:2,type:5,label:1}]}]},{name:"EnumValueDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"number",number:2,type:5,label:1},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.EnumValueOptions"}]},{name:"ServiceDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"method",number:2,type:11,label:3,typeName:".google.protobuf.MethodDescriptorProto"},{name:"options",number:3,type:11,label:1,typeName:".google.protobuf.ServiceOptions"}]},{name:"MethodDescriptorProto",field:[{name:"name",number:1,type:9,label:1},{name:"input_type",number:2,type:9,label:1},{name:"output_type",number:3,type:9,label:1},{name:"options",number:4,type:11,label:1,typeName:".google.protobuf.MethodOptions"},{name:"client_streaming",number:5,type:8,label:1,defaultValue:"false"},{name:"server_streaming",number:6,type:8,label:1,defaultValue:"false"}]},{name:"FileOptions",field:[{name:"java_package",number:1,type:9,label:1},{name:"java_outer_classname",number:8,type:9,label:1},{name:"java_multiple_files",number:10,type:8,label:1,defaultValue:"false"},{name:"java_generate_equals_and_hash",number:20,type:8,label:1,options:{deprecated:!0}},{name:"java_string_check_utf8",number:27,type:8,label:1,defaultValue:"false"},{name:"optimize_for",number:9,type:14,label:1,typeName:".google.protobuf.FileOptions.OptimizeMode",defaultValue:"SPEED"},{name:"go_package",number:11,type:9,label:1},{name:"cc_generic_services",number:16,type:8,label:1,defaultValue:"false"},{name:"java_generic_services",number:17,type:8,label:1,defaultValue:"false"},{name:"py_generic_services",number:18,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:23,type:8,label:1,defaultValue:"false"},{name:"cc_enable_arenas",number:31,type:8,label:1,defaultValue:"true"},{name:"objc_class_prefix",number:36,type:9,label:1},{name:"csharp_namespace",number:37,type:9,label:1},{name:"swift_prefix",number:39,type:9,label:1},{name:"php_class_prefix",number:40,type:9,label:1},{name:"php_namespace",number:41,type:9,label:1},{name:"php_metadata_namespace",number:44,type:9,label:1},{name:"ruby_package",number:45,type:9,label:1},{name:"features",number:50,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"OptimizeMode",value:[{name:"SPEED",number:1},{name:"CODE_SIZE",number:2},{name:"LITE_RUNTIME",number:3}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"MessageOptions",field:[{name:"message_set_wire_format",number:1,type:8,label:1,defaultValue:"false"},{name:"no_standard_descriptor_accessor",number:2,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"map_entry",number:7,type:8,label:1},{name:"deprecated_legacy_json_field_conflicts",number:11,type:8,label:1,options:{deprecated:!0}},{name:"features",number:12,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"FieldOptions",field:[{name:"ctype",number:1,type:14,label:1,typeName:".google.protobuf.FieldOptions.CType",defaultValue:"STRING"},{name:"packed",number:2,type:8,label:1},{name:"jstype",number:6,type:14,label:1,typeName:".google.protobuf.FieldOptions.JSType",defaultValue:"JS_NORMAL"},{name:"lazy",number:5,type:8,label:1,defaultValue:"false"},{name:"unverified_lazy",number:15,type:8,label:1,defaultValue:"false"},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"weak",number:10,type:8,label:1,defaultValue:"false"},{name:"debug_redact",number:16,type:8,label:1,defaultValue:"false"},{name:"retention",number:17,type:14,label:1,typeName:".google.protobuf.FieldOptions.OptionRetention"},{name:"targets",number:19,type:14,label:3,typeName:".google.protobuf.FieldOptions.OptionTargetType"},{name:"edition_defaults",number:20,type:11,label:3,typeName:".google.protobuf.FieldOptions.EditionDefault"},{name:"features",number:21,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"feature_support",number:22,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],nestedType:[{name:"EditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"value",number:2,type:9,label:1}]},{name:"FeatureSupport",field:[{name:"edition_introduced",number:1,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"edition_deprecated",number:2,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"deprecation_warning",number:3,type:9,label:1},{name:"edition_removed",number:4,type:14,label:1,typeName:".google.protobuf.Edition"}]}],enumType:[{name:"CType",value:[{name:"STRING",number:0},{name:"CORD",number:1},{name:"STRING_PIECE",number:2}]},{name:"JSType",value:[{name:"JS_NORMAL",number:0},{name:"JS_STRING",number:1},{name:"JS_NUMBER",number:2}]},{name:"OptionRetention",value:[{name:"RETENTION_UNKNOWN",number:0},{name:"RETENTION_RUNTIME",number:1},{name:"RETENTION_SOURCE",number:2}]},{name:"OptionTargetType",value:[{name:"TARGET_TYPE_UNKNOWN",number:0},{name:"TARGET_TYPE_FILE",number:1},{name:"TARGET_TYPE_EXTENSION_RANGE",number:2},{name:"TARGET_TYPE_MESSAGE",number:3},{name:"TARGET_TYPE_FIELD",number:4},{name:"TARGET_TYPE_ONEOF",number:5},{name:"TARGET_TYPE_ENUM",number:6},{name:"TARGET_TYPE_ENUM_ENTRY",number:7},{name:"TARGET_TYPE_SERVICE",number:8},{name:"TARGET_TYPE_METHOD",number:9}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"OneofOptions",field:[{name:"features",number:1,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumOptions",field:[{name:"allow_alias",number:2,type:8,label:1},{name:"deprecated",number:3,type:8,label:1,defaultValue:"false"},{name:"deprecated_legacy_json_field_conflicts",number:6,type:8,label:1,options:{deprecated:!0}},{name:"features",number:7,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"EnumValueOptions",field:[{name:"deprecated",number:1,type:8,label:1,defaultValue:"false"},{name:"features",number:2,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"debug_redact",number:3,type:8,label:1,defaultValue:"false"},{name:"feature_support",number:4,type:11,label:1,typeName:".google.protobuf.FieldOptions.FeatureSupport"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"ServiceOptions",field:[{name:"features",number:34,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],extensionRange:[{start:1e3,end:536870912}]},{name:"MethodOptions",field:[{name:"deprecated",number:33,type:8,label:1,defaultValue:"false"},{name:"idempotency_level",number:34,type:14,label:1,typeName:".google.protobuf.MethodOptions.IdempotencyLevel",defaultValue:"IDEMPOTENCY_UNKNOWN"},{name:"features",number:35,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"uninterpreted_option",number:999,type:11,label:3,typeName:".google.protobuf.UninterpretedOption"}],enumType:[{name:"IdempotencyLevel",value:[{name:"IDEMPOTENCY_UNKNOWN",number:0},{name:"NO_SIDE_EFFECTS",number:1},{name:"IDEMPOTENT",number:2}]}],extensionRange:[{start:1e3,end:536870912}]},{name:"UninterpretedOption",field:[{name:"name",number:2,type:11,label:3,typeName:".google.protobuf.UninterpretedOption.NamePart"},{name:"identifier_value",number:3,type:9,label:1},{name:"positive_int_value",number:4,type:4,label:1},{name:"negative_int_value",number:5,type:3,label:1},{name:"double_value",number:6,type:1,label:1},{name:"string_value",number:7,type:12,label:1},{name:"aggregate_value",number:8,type:9,label:1}],nestedType:[{name:"NamePart",field:[{name:"name_part",number:1,type:9,label:2},{name:"is_extension",number:2,type:8,label:2}]}]},{name:"FeatureSet",field:[{name:"field_presence",number:1,type:14,label:1,typeName:".google.protobuf.FeatureSet.FieldPresence",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPLICIT",edition:900},{value:"IMPLICIT",edition:999},{value:"EXPLICIT",edition:1e3}]}},{name:"enum_type",number:2,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnumType",options:{retention:1,targets:[6,1],editionDefaults:[{value:"CLOSED",edition:900},{value:"OPEN",edition:999}]}},{name:"repeated_field_encoding",number:3,type:14,label:1,typeName:".google.protobuf.FeatureSet.RepeatedFieldEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"EXPANDED",edition:900},{value:"PACKED",edition:999}]}},{name:"utf8_validation",number:4,type:14,label:1,typeName:".google.protobuf.FeatureSet.Utf8Validation",options:{retention:1,targets:[4,1],editionDefaults:[{value:"NONE",edition:900},{value:"VERIFY",edition:999}]}},{name:"message_encoding",number:5,type:14,label:1,typeName:".google.protobuf.FeatureSet.MessageEncoding",options:{retention:1,targets:[4,1],editionDefaults:[{value:"LENGTH_PREFIXED",edition:900}]}},{name:"json_format",number:6,type:14,label:1,typeName:".google.protobuf.FeatureSet.JsonFormat",options:{retention:1,targets:[3,6,1],editionDefaults:[{value:"LEGACY_BEST_EFFORT",edition:900},{value:"ALLOW",edition:999}]}},{name:"enforce_naming_style",number:7,type:14,label:1,typeName:".google.protobuf.FeatureSet.EnforceNamingStyle",options:{retention:2,targets:[1,2,3,4,5,6,7,8,9],editionDefaults:[{value:"STYLE_LEGACY",edition:900},{value:"STYLE2024",edition:1001}]}}],enumType:[{name:"FieldPresence",value:[{name:"FIELD_PRESENCE_UNKNOWN",number:0},{name:"EXPLICIT",number:1},{name:"IMPLICIT",number:2},{name:"LEGACY_REQUIRED",number:3}]},{name:"EnumType",value:[{name:"ENUM_TYPE_UNKNOWN",number:0},{name:"OPEN",number:1},{name:"CLOSED",number:2}]},{name:"RepeatedFieldEncoding",value:[{name:"REPEATED_FIELD_ENCODING_UNKNOWN",number:0},{name:"PACKED",number:1},{name:"EXPANDED",number:2}]},{name:"Utf8Validation",value:[{name:"UTF8_VALIDATION_UNKNOWN",number:0},{name:"VERIFY",number:2},{name:"NONE",number:3}]},{name:"MessageEncoding",value:[{name:"MESSAGE_ENCODING_UNKNOWN",number:0},{name:"LENGTH_PREFIXED",number:1},{name:"DELIMITED",number:2}]},{name:"JsonFormat",value:[{name:"JSON_FORMAT_UNKNOWN",number:0},{name:"ALLOW",number:1},{name:"LEGACY_BEST_EFFORT",number:2}]},{name:"EnforceNamingStyle",value:[{name:"ENFORCE_NAMING_STYLE_UNKNOWN",number:0},{name:"STYLE2024",number:1},{name:"STYLE_LEGACY",number:2}]}],extensionRange:[{start:1e3,end:9995},{start:9995,end:1e4},{start:1e4,end:10001}]},{name:"FeatureSetDefaults",field:[{name:"defaults",number:1,type:11,label:3,typeName:".google.protobuf.FeatureSetDefaults.FeatureSetEditionDefault"},{name:"minimum_edition",number:4,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"maximum_edition",number:5,type:14,label:1,typeName:".google.protobuf.Edition"}],nestedType:[{name:"FeatureSetEditionDefault",field:[{name:"edition",number:3,type:14,label:1,typeName:".google.protobuf.Edition"},{name:"overridable_features",number:4,type:11,label:1,typeName:".google.protobuf.FeatureSet"},{name:"fixed_features",number:5,type:11,label:1,typeName:".google.protobuf.FeatureSet"}]}]},{name:"SourceCodeInfo",field:[{name:"location",number:1,type:11,label:3,typeName:".google.protobuf.SourceCodeInfo.Location"}],nestedType:[{name:"Location",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"span",number:2,type:5,label:3,options:{packed:!0}},{name:"leading_comments",number:3,type:9,label:1},{name:"trailing_comments",number:4,type:9,label:1},{name:"leading_detached_comments",number:6,type:9,label:3}]}],extensionRange:[{start:536e6,end:536000001}]},{name:"GeneratedCodeInfo",field:[{name:"annotation",number:1,type:11,label:3,typeName:".google.protobuf.GeneratedCodeInfo.Annotation"}],nestedType:[{name:"Annotation",field:[{name:"path",number:1,type:5,label:3,options:{packed:!0}},{name:"source_file",number:2,type:9,label:1},{name:"begin",number:3,type:5,label:1},{name:"end",number:4,type:5,label:1},{name:"semantic",number:5,type:14,label:1,typeName:".google.protobuf.GeneratedCodeInfo.Annotation.Semantic"}],enumType:[{name:"Semantic",value:[{name:"NONE",number:0},{name:"SET",number:1},{name:"ALIAS",number:2}]}]}]}],enumType:[{name:"Edition",value:[{name:"EDITION_UNKNOWN",number:0},{name:"EDITION_LEGACY",number:900},{name:"EDITION_PROTO2",number:998},{name:"EDITION_PROTO3",number:999},{name:"EDITION_2023",number:1e3},{name:"EDITION_2024",number:1001},{name:"EDITION_1_TEST_ONLY",number:1},{name:"EDITION_2_TEST_ONLY",number:2},{name:"EDITION_99997_TEST_ONLY",number:99997},{name:"EDITION_99998_TEST_ONLY",number:99998},{name:"EDITION_99999_TEST_ONLY",number:99999},{name:"EDITION_MAX",number:2147483647}]}]}),yUe=gUe(t$,1);var ck;(function(t){t[t.DECLARATION=0]="DECLARATION",t[t.UNVERIFIED=1]="UNVERIFIED"})(ck||(ck={}));var uk;(function(t){t[t.DOUBLE=1]="DOUBLE",t[t.FLOAT=2]="FLOAT",t[t.INT64=3]="INT64",t[t.UINT64=4]="UINT64",t[t.INT32=5]="INT32",t[t.FIXED64=6]="FIXED64",t[t.FIXED32=7]="FIXED32",t[t.BOOL=8]="BOOL",t[t.STRING=9]="STRING",t[t.GROUP=10]="GROUP",t[t.MESSAGE=11]="MESSAGE",t[t.BYTES=12]="BYTES",t[t.UINT32=13]="UINT32",t[t.ENUM=14]="ENUM",t[t.SFIXED32=15]="SFIXED32",t[t.SFIXED64=16]="SFIXED64",t[t.SINT32=17]="SINT32",t[t.SINT64=18]="SINT64"})(uk||(uk={}));var dk;(function(t){t[t.OPTIONAL=1]="OPTIONAL",t[t.REPEATED=3]="REPEATED",t[t.REQUIRED=2]="REQUIRED"})(dk||(dk={}));var hk;(function(t){t[t.SPEED=1]="SPEED",t[t.CODE_SIZE=2]="CODE_SIZE",t[t.LITE_RUNTIME=3]="LITE_RUNTIME"})(hk||(hk={}));var fk;(function(t){t[t.STRING=0]="STRING",t[t.CORD=1]="CORD",t[t.STRING_PIECE=2]="STRING_PIECE"})(fk||(fk={}));var pk;(function(t){t[t.JS_NORMAL=0]="JS_NORMAL",t[t.JS_STRING=1]="JS_STRING",t[t.JS_NUMBER=2]="JS_NUMBER"})(pk||(pk={}));var mk;(function(t){t[t.RETENTION_UNKNOWN=0]="RETENTION_UNKNOWN",t[t.RETENTION_RUNTIME=1]="RETENTION_RUNTIME",t[t.RETENTION_SOURCE=2]="RETENTION_SOURCE"})(mk||(mk={}));var gk;(function(t){t[t.TARGET_TYPE_UNKNOWN=0]="TARGET_TYPE_UNKNOWN",t[t.TARGET_TYPE_FILE=1]="TARGET_TYPE_FILE",t[t.TARGET_TYPE_EXTENSION_RANGE=2]="TARGET_TYPE_EXTENSION_RANGE",t[t.TARGET_TYPE_MESSAGE=3]="TARGET_TYPE_MESSAGE",t[t.TARGET_TYPE_FIELD=4]="TARGET_TYPE_FIELD",t[t.TARGET_TYPE_ONEOF=5]="TARGET_TYPE_ONEOF",t[t.TARGET_TYPE_ENUM=6]="TARGET_TYPE_ENUM",t[t.TARGET_TYPE_ENUM_ENTRY=7]="TARGET_TYPE_ENUM_ENTRY",t[t.TARGET_TYPE_SERVICE=8]="TARGET_TYPE_SERVICE",t[t.TARGET_TYPE_METHOD=9]="TARGET_TYPE_METHOD"})(gk||(gk={}));var yk;(function(t){t[t.IDEMPOTENCY_UNKNOWN=0]="IDEMPOTENCY_UNKNOWN",t[t.NO_SIDE_EFFECTS=1]="NO_SIDE_EFFECTS",t[t.IDEMPOTENT=2]="IDEMPOTENT"})(yk||(yk={}));var bk;(function(t){t[t.FIELD_PRESENCE_UNKNOWN=0]="FIELD_PRESENCE_UNKNOWN",t[t.EXPLICIT=1]="EXPLICIT",t[t.IMPLICIT=2]="IMPLICIT",t[t.LEGACY_REQUIRED=3]="LEGACY_REQUIRED"})(bk||(bk={}));var vk;(function(t){t[t.ENUM_TYPE_UNKNOWN=0]="ENUM_TYPE_UNKNOWN",t[t.OPEN=1]="OPEN",t[t.CLOSED=2]="CLOSED"})(vk||(vk={}));var Ek;(function(t){t[t.REPEATED_FIELD_ENCODING_UNKNOWN=0]="REPEATED_FIELD_ENCODING_UNKNOWN",t[t.PACKED=1]="PACKED",t[t.EXPANDED=2]="EXPANDED"})(Ek||(Ek={}));var Ak;(function(t){t[t.UTF8_VALIDATION_UNKNOWN=0]="UTF8_VALIDATION_UNKNOWN",t[t.VERIFY=2]="VERIFY",t[t.NONE=3]="NONE"})(Ak||(Ak={}));var Sk;(function(t){t[t.MESSAGE_ENCODING_UNKNOWN=0]="MESSAGE_ENCODING_UNKNOWN",t[t.LENGTH_PREFIXED=1]="LENGTH_PREFIXED",t[t.DELIMITED=2]="DELIMITED"})(Sk||(Sk={}));var Tk;(function(t){t[t.JSON_FORMAT_UNKNOWN=0]="JSON_FORMAT_UNKNOWN",t[t.ALLOW=1]="ALLOW",t[t.LEGACY_BEST_EFFORT=2]="LEGACY_BEST_EFFORT"})(Tk||(Tk={}));var Ck;(function(t){t[t.ENFORCE_NAMING_STYLE_UNKNOWN=0]="ENFORCE_NAMING_STYLE_UNKNOWN",t[t.STYLE2024=1]="STYLE2024",t[t.STYLE_LEGACY=2]="STYLE_LEGACY"})(Ck||(Ck={}));var Rk;(function(t){t[t.NONE=0]="NONE",t[t.SET=1]="SET",t[t.ALIAS=2]="ALIAS"})(Rk||(Rk={}));var Ik;(function(t){t[t.EDITION_UNKNOWN=0]="EDITION_UNKNOWN",t[t.EDITION_LEGACY=900]="EDITION_LEGACY",t[t.EDITION_PROTO2=998]="EDITION_PROTO2",t[t.EDITION_PROTO3=999]="EDITION_PROTO3",t[t.EDITION_2023=1e3]="EDITION_2023",t[t.EDITION_2024=1001]="EDITION_2024",t[t.EDITION_1_TEST_ONLY=1]="EDITION_1_TEST_ONLY",t[t.EDITION_2_TEST_ONLY=2]="EDITION_2_TEST_ONLY",t[t.EDITION_99997_TEST_ONLY=99997]="EDITION_99997_TEST_ONLY",t[t.EDITION_99998_TEST_ONLY=99998]="EDITION_99998_TEST_ONLY",t[t.EDITION_99999_TEST_ONLY=99999]="EDITION_99999_TEST_ONLY",t[t.EDITION_MAX=2147483647]="EDITION_MAX"})(Ik||(Ik={}));const wk={readUnknownFields:!0};function bUe(t){return t?Object.assign(Object.assign({},wk),t):wk}function vUe(t,e,i){const n=y9(t,void 0,!1);return i$(n,new tUe(e),bUe(i),!1,e.byteLength),n.message}function i$(t,e,i,n,s){var r;const a=n?e.len:e.pos+s;let o,l;const c=(r=t.getUnknown())!==null&&r!==void 0?r:[];for(;e.pos<a&&([o,l]=e.tag(),!(n&&l==br.EndGroup));){const u=t.findNumber(o);if(!u){const d=e.skip(l,o);i.readUnknownFields&&c.push({no:o,wireType:l,data:d});continue}EUe(t,e,u,l,i)}if(n&&(l!=br.EndGroup||o!==s))throw new Error("invalid end group tag");c.length>0&&t.setUnknown(c)}function EUe(t,e,i,n,s){switch(i.fieldKind){case"scalar":t.set(i,ih(e,i.scalar));break;case"enum":t.set(i,ih(e,Ve.INT32));break;case"message":t.set(i,S9(e,s,i,t.get(i)));break;case"list":SUe(e,n,t.get(i),s);break;case"map":AUe(e,t.get(i),s);break}}function AUe(t,e,i){const n=e.field();let s,r;const a=t.pos+t.uint32();for(;t.pos<a;){const[o]=t.tag();switch(o){case 1:s=ih(t,n.mapKey);break;case 2:switch(n.mapKind){case"scalar":r=ih(t,n.scalar);break;case"enum":r=t.int32();break;case"message":r=S9(t,i,n);break}break}}if(s===void 0&&(s=zp(n.mapKey,!1)),r===void 0)switch(n.mapKind){case"scalar":r=zp(n.scalar,!1);break;case"enum":r=n.enum.values[0].number;break;case"message":r=y9(n.message,void 0,!1);break}e.set(s,r)}function SUe(t,e,i,n){var s;const r=i.field();if(r.listKind==="message"){i.add(S9(t,n,r));return}const a=(s=r.scalar)!==null&&s!==void 0?s:Ve.INT32;if(!(e==br.LengthDelimited&&a!=Ve.STRING&&a!=Ve.BYTES)){i.add(ih(t,a));return}const l=t.uint32()+t.pos;for(;t.pos<l;)i.add(ih(t,a))}function S9(t,e,i,n){const s=i.delimitedEncoding,r=n??y9(i.message,void 0,!1);return i$(r,t,e,s,s?i.number:t.uint32()),r}function ih(t,e){switch(e){case Ve.STRING:return t.string();case Ve.BOOL:return t.bool();case Ve.DOUBLE:return t.double();case Ve.FLOAT:return t.float();case Ve.INT32:return t.int32();case Ve.INT64:return t.int64();case Ve.UINT64:return t.uint64();case Ve.FIXED64:return t.fixed64();case Ve.BYTES:return t.bytes();case Ve.FIXED32:return t.fixed32();case Ve.SFIXED32:return t.sfixed32();case Ve.SFIXED64:return t.sfixed64();case Ve.SINT64:return t.sint64();case Ve.UINT32:return t.uint32();case Ve.SINT32:return t.sint32()}}function T9(t,e){var i;const n=vUe(yUe,KFe(t));return n.messageType.forEach(d9),n.dependency=(i=e==null?void 0:e.map(r=>r.proto.name))!==null&&i!==void 0?i:[],WY(n,r=>e==null?void 0:e.find(a=>a.proto.name===r)).getFile(n.name)}function TUe(t,e,...i){if(i.length>0)throw new Error;return t.services[e]}const CUe=T9("CitzdHJlYW1sYXllci9jb21tb24vc3RyZWFtbGF5ZXJfY29tbW9uLnByb3RvEhJzdHJlYW1sYXllci5jb21tb24iJgoIS2V5VmFsdWUSCwoDa2V5GAEgASgJEg0KBXZhbHVlGAIgASgJKroBChNQcm9wYWdhdGlvblN0cmF0ZWd5EiAKHFBST1BBR0FUSU9OX1NUUkFURUdZX0lOVkFMSUQQABIeChpQUk9QQUdBVElPTl9TVFJBVEVHWV9VTlNFVBABEh8KG1BST1BBR0FUSU9OX1NUUkFURUdZX0lHTk9SRRACEh4KGlBST1BBR0FUSU9OX1NUUkFURUdZX0FXQUlUEAMSIAocUFJPUEFHQVRJT05fU1RSQVRFR1lfUFVCTElTSBAEKqYBChBGYWlsb3ZlclN0cmF0ZWd5Eh0KGUZBSUxPVkVSX1NUUkFURUdZX0lOVkFMSUQQABIbChdGQUlMT1ZFUl9TVFJBVEVHWV9VTlNFVBABEhwKGEZBSUxPVkVSX1NUUkFURUdZX0lHTk9SRRACEhsKF0ZBSUxPVkVSX1NUUkFURUdZX0VBUkxZEAMSGwoXRkFJTE9WRVJfU1RSQVRFR1lfR1JBQ0UQBCqsAQoWQXV0aGVudGljYXRpb25TdHJhdGVneRIjCh9BVVRIRU5USUNBVElPTl9TVFJBVEVHWV9JTlZBTElEEAASIQodQVVUSEVOVElDQVRJT05fU1RSQVRFR1lfVU5TRVQQARIkCiBBVVRIRU5USUNBVElPTl9TVFJBVEVHWV9SRVFVSVJFRBACEiQKIEFVVEhFTlRJQ0FUSU9OX1NUUkFURUdZX09QVElPTkFMEAMq2AEKC0FjY2Vzc0xldmVsEhYKEkFDQ0VTU19MRVZFTF9VTlNFVBAAEhYKEkFDQ0VTU19MRVZFTF9PV05FUhABEhcKE0FDQ0VTU19MRVZFTF9DTElFTlQQAhIbChZBQ0NFU1NfTEVWRUxfTU9ERVJBVE9SENQWEhgKE0FDQ0VTU19MRVZFTF9WSUVXRVIQuBcSGAoTQUNDRVNTX0xFVkVMX01FTUJFUhCgHxIXChJBQ0NFU1NfTEVWRUxfQURNSU4QiCcSFgoRQUNDRVNTX0xFVkVMX1JPT1QQkE4qTQoRT3JnYW5pemF0aW9uU2NvcGUSHAoYT1JHQU5JWkFUSU9OX1NDT1BFX1VOU0VUEAASGgoWT1JHQU5JWkFUSU9OX1NDT1BFX1NFVBABOkMKC3JvdXRlUHJlZml4Eh8uZ29vZ2xlLnByb3RvYnVmLlNlcnZpY2VPcHRpb25zGNGGAyABKAlSC3JvdXRlUHJlZml4OjgKBmFjdGlvbhIeLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zGOHUAyABKAlSBmFjdGlvbjp7ChNwcm9wYWdhdGlvblN0cmF0ZWd5Eh4uZ29vZ2xlLnByb3RvYnVmLk1ldGhvZE9wdGlvbnMY4tQDIAEoDjInLnN0cmVhbWxheWVyLmNvbW1vbi5Qcm9wYWdhdGlvblN0cmF0ZWd5UhNwcm9wYWdhdGlvblN0cmF0ZWd5OnIKEGZhaWxvdmVyU3RyYXRlZ3kSHi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucxjj1AMgASgOMiQuc3RyZWFtbGF5ZXIuY29tbW9uLkZhaWxvdmVyU3RyYXRlZ3lSEGZhaWxvdmVyU3RyYXRlZ3k6hAEKFmF1dGhlbnRpY2F0aW9uU3RyYXRlZ3kSHi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucxjk1AMgASgOMiouc3RyZWFtbGF5ZXIuY29tbW9uLkF1dGhlbnRpY2F0aW9uU3RyYXRlZ3lSFmF1dGhlbnRpY2F0aW9uU3RyYXRlZ3k6YwoLYWNjZXNzTGV2ZWwSHi5nb29nbGUucHJvdG9idWYuTWV0aG9kT3B0aW9ucxjl1AMgASgOMh8uc3RyZWFtbGF5ZXIuY29tbW9uLkFjY2Vzc0xldmVsUgthY2Nlc3NMZXZlbDp1ChFvcmdhbml6YXRpb25TY29wZRIeLmdvb2dsZS5wcm90b2J1Zi5NZXRob2RPcHRpb25zGObUAyABKA4yJS5zdHJlYW1sYXllci5jb21tb24uT3JnYW5pemF0aW9uU2NvcGVSEW9yZ2FuaXphdGlvblNjb3BlQogBChZjb20uc3RyZWFtbGF5ZXIuY29tbW9uQhZTdHJlYW1MYXllckNvbW1vblByb3RvUAFaS2dpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvY29tbW9uO3NsX2NvbW1vbqICBlNMX0FQSWIGcHJvdG8z",[t$]);var _k;(function(t){t[t.ONBOARDING=1]="ONBOARDING",t[t.QUESTION=2]="QUESTION",t[t.QUESTION_RESOLVED=3]="QUESTION_RESOLVED"})(_k||(_k={}));window.slStore=Object.create(null);var xk;(function(t){t.ORGANIZATION="ORGANIZATION",t.STREAM="STREAM"})(xk||(xk={}));var Nk;(function(t){t.Ready="ready",t.Suspended="suspended"})(Nk||(Nk={}));var ka;(function(t){t[t.Canceled=1]="Canceled",t[t.Unknown=2]="Unknown",t[t.InvalidArgument=3]="InvalidArgument",t[t.DeadlineExceeded=4]="DeadlineExceeded",t[t.NotFound=5]="NotFound",t[t.AlreadyExists=6]="AlreadyExists",t[t.PermissionDenied=7]="PermissionDenied",t[t.ResourceExhausted=8]="ResourceExhausted",t[t.FailedPrecondition=9]="FailedPrecondition",t[t.Aborted=10]="Aborted",t[t.OutOfRange=11]="OutOfRange",t[t.Unimplemented=12]="Unimplemented",t[t.Internal=13]="Internal",t[t.Unavailable=14]="Unavailable",t[t.DataLoss=15]="DataLoss",t[t.Unauthenticated=16]="Unauthenticated"})(ka||(ka={}));function Vk(t,e){return{id:Symbol(e==null?void 0:e.description),defaultValue:t}}window.dispatchEvent(new CustomEvent("grpc_devtools_loaded"));function RUe(t){return t instanceof DOMException&&(t.code===22||t.code===1014||t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED")}class IUe{constructor(e="main",i=window.localStorage){Dn(this,"delimiter",":"),Dn(this,"prefix"),Dn(this,"storage"),Dn(this,"clear",()=>{for(const n in window.localStorage)n.startsWith(this.prefix)&&this.storage.removeItem(n)}),Dn(this,"generateKey",n=>`${this.prefix}${this.delimiter}${n.join(this.delimiter)}`),Dn(this,"write",(...n)=>{const s=n.pop()||"",r=this.generateKey(n);try{this.storage.setItem(r,s)}catch(a){RUe(a)&&this.storage===window.sessionStorage&&(window.sessionStorage.removeItem("slstreamlogs"),this.storage.setItem(r,s))}}),Dn(this,"read",(...n)=>{const s=this.storage.getItem(this.generateKey(n));return s===null?void 0:s}),Dn(this,"remove",(...n)=>{this.storage.removeItem(this.generateKey(n))}),this.prefix=`sl-sdk${this.delimiter}${e}`,this.storage=i}}var Lk;(function(t){t.Init="init",t.Ready="ready",t.Connecting="connecting",t.Connected="connected",t.Disconnected="disconnected",t.Failed="failed",t.Reconnect="reconnect",t.Reconnecting="reconnecting"})(Lk||(Lk={}));W0("grpc:stream");ka.Unknown,ka.Internal,ka.DeadlineExceeded,ka.ResourceExhausted,ka.FailedPrecondition,ka.Unavailable,ka.DataLoss;W0("grpc:retry");Vk(10,{description:"Number of attempts to retry"}),Vk(3e4,{description:"Max delay between retries in milliseconds"});const wUe=T9("CiRzdHJlYW1sYXllci91c2Vycy91c2Vyc19jb21tb24ucHJvdG8SEXN0cmVhbWxheWVyLnVzZXJzIh4KDlB1YmxpY0NoYXRVc2VyEgwKBG5hbWUYASABKAkioAEKDlVzZXJBdHRyaWJ1dGVzEhAKCHVzZXJuYW1lGAEgASgJEgwKBG5hbWUYAiABKAkSDQoFYWxpYXMYAyABKAkSDgoGYXZhdGFyGAUgASgJEjoKC3B1YmxpY19jaGF0GAYgASgLMiEuc3RyZWFtbGF5ZXIudXNlcnMuUHVibGljQ2hhdFVzZXJCAhgBEhMKC3B1YmxpY19uYW1lGAcgASgJIjMKEFVzZXJPcmdhbml6YXRpb24SCgoCaWQYASABKAkSEwoLcGVybWlzc2lvbnMYAiADKAki/wEKDFVzZXJNZXRhZGF0YRIOCgZhdmF0YXIYAiABKAkSIAoYYXZhdGFyX2JhY2tncm91bmRfY29sb3VyGAMgASgJEhAKCHRpbWV6b25lGAQgASgJEk4KF25vdGlmaWNhdGlvbl9wcmVmZXJlbmNlGAUgASgOMi0uc3RyZWFtbGF5ZXIudXNlcnMuVXNlck5vdGlmaWNhdGlvblByZWZlcmVuY2USDgoGYWN0aXZlGAYgASgIEhIKCmZpcnN0X25hbWUYByABKAkSEQoJbGFzdF9uYW1lGAggASgJEg0KBXJvbGVzGAkgAygJEhUKDWF1ZGllbmNlX3RhZ3MYCiADKAkiegoWRXh0ZW5kZWRVc2VyQXR0cmlidXRlcxIQCgh1c2VybmFtZRgBIAEoCRIMCgRuYW1lGAIgASgJEg0KBWFsaWFzGAMgASgJEjEKCG1ldGFkYXRhGAQgASgLMh8uc3RyZWFtbGF5ZXIudXNlcnMuVXNlck1ldGFkYXRhIlcKBFVzZXISCgoCaWQYASABKAkSDAoEdHlwZRgCIAEoCRI1CgphdHRyaWJ1dGVzGAMgASgLMiEuc3RyZWFtbGF5ZXIudXNlcnMuVXNlckF0dHJpYnV0ZXMiZwoMRXh0ZW5kZWRVc2VyEgoKAmlkGAEgASgJEgwKBHR5cGUYAiABKAkSPQoKYXR0cmlidXRlcxgDIAEoCzIpLnN0cmVhbWxheWVyLnVzZXJzLkV4dGVuZGVkVXNlckF0dHJpYnV0ZXMq5gEKGlVzZXJOb3RpZmljYXRpb25QcmVmZXJlbmNlEiYKIlVTRVJfTk9USUZJQ0FUSU9OX1BSRUZFUkVOQ0VfVU5TRVQQABIrCidVU0VSX05PVElGSUNBVElPTl9QUkVGRVJFTkNFX0FMTF9FVkVOVFMQARI2CjJVU0VSX05PVElGSUNBVElPTl9QUkVGRVJFTkNFX0lNUE9SVEFOVF9FVkVOVFNfT05MWRACEjsKN1VTRVJfTk9USUZJQ0FUSU9OX1BSRUZFUkVOQ0VfREFJTFlfU1VNTUFSWV9BTkRfTUVOVElPTlMQA0KKAQoVY29tLnN0cmVhbWxheWVyLnVzZXJzQhtTdHJlYW1MYXllclVzZXJzQ29tbW9uUHJvdG9QAVpJZ2l0aHViLmNvbS9zdHJlYW1sYXllci9zbC1wcm90b2ZpbGVzLy5idWlsZC9nby9zdHJlYW1sYXllci91c2VycztzbF91c2Vyc6ICBlNMX0FQSWIGcHJvdG8z"),_Ue=T9("Ch1zdHJlYW1sYXllci91c2Vycy91c2Vycy5wcm90bxIRc3RyZWFtbGF5ZXIudXNlcnMiLAoMTG9naW5SZXF1ZXN0EgoKAmlkGAEgASgJEhAKCHBhc3N3b3JkGAIgASgJIsMBCgxBdXRoUmVzcG9uc2USQgoEbWV0YRgBIAEoCzI0LnN0cmVhbWxheWVyLnVzZXJzLkF1dGhSZXNwb25zZS5BdXRoUmVzcG9uc2VNZXRhZGF0YRIlCgRkYXRhGAIgASgLMhcuc3RyZWFtbGF5ZXIudXNlcnMuVXNlchpIChRBdXRoUmVzcG9uc2VNZXRhZGF0YRILCgNqd3QYASABKAkSEQoJZ2V0c3RyZWFtGAMgASgJSgQIAhADUgp2b3hpbXBsYW50Ih0KD1JlZ2lzdGVyUmVxdWVzdBIKCgJpZBgBIAEoCSI7CghSZWZlcnJhbBIKCgJpZBgBIAEoCRIMCgRuYW1lGAIgASgJEhUKDXdhdGNoaW5nX2dhbWUYAyABKAkiagoQUmVnaXN0ZXJSZXNwb25zZRIKCgJpZBgBIAEoCRIbChNyZXF1aXJlc19hY3RpdmF0aW9uGAIgASgIEi0KCHJlZmVycmFsGAMgASgLMhsuc3RyZWFtbGF5ZXIudXNlcnMuUmVmZXJyYWwiJAoWUmVxdWVzdFBhc3N3b3JkUmVxdWVzdBIKCgJpZBgBIAEoCSI5ChdSZXF1ZXN0UGFzc3dvcmRSZXNwb25zZRIRCglyZXF1ZXN0ZWQYASABKAgSCwoDdWlkGAIgASgJIgsKCU1lUmVxdWVzdCIzCgpNZVJlc3BvbnNlEiUKBGRhdGEYASABKAsyFy5zdHJlYW1sYXllci51c2Vycy5Vc2VyIkcKFVVwZGF0ZU1ldGFkYXRhUmVxdWVzdBISCghzZXRfbmFtZRgBIAEoCUgAEhIKCGRlbF9uYW1lGAIgASgJSABCBgoEbmFtZSJdChNVcGRhdGVBdmF0YXJSZXF1ZXN0EhAKCHVzZXJuYW1lGAEgASgJEhQKCnNldF9hdmF0YXIYAiABKAlIABIUCgpkZWxfYXZhdGFyGAMgASgJSABCCAoGYXZhdGFyIhYKFFVwZGF0ZUF2YXRhclJlc3BvbnNlIl8KG1VwZGF0ZVB1YmxpY0NoYXROYW1lUmVxdWVzdBIQCgh1c2VybmFtZRgBIAEoCRISCghzZXRfbmFtZRgCIAEoCUgAEhIKCGRlbF9uYW1lGAMgASgJSABCBgoEbmFtZSIeChxVcGRhdGVQdWJsaWNDaGF0TmFtZVJlc3BvbnNlIlsKF1VwZGF0ZVB1YmxpY05hbWVSZXF1ZXN0EhAKCHVzZXJuYW1lGAEgASgJEhIKCHNldF9uYW1lGAIgASgJSAASEgoIZGVsX25hbWUYAyABKAlIAEIGCgRuYW1lIhoKGFVwZGF0ZVB1YmxpY05hbWVSZXNwb25zZSIYChZVcGRhdGVNZXRhZGF0YVJlc3BvbnNlIocBCg1JbnZpdGVSZXF1ZXN0EgoKAmlkGAEgASgJEkEKCHJlZmVycmFsGAIgASgLMi8uc3RyZWFtbGF5ZXIudXNlcnMuSW52aXRlUmVxdWVzdC5JbnZpdGVSZWZlcnJhbBonCg5JbnZpdGVSZWZlcnJhbBIVCg13YXRjaGluZ19nYW1lGAEgASgJIhAKDkludml0ZVJlc3BvbnNlIm0KEUJ5cGFzc0F1dGhSZXF1ZXN0EhAKCHVzZXJfa2V5GAEgASgJEg4KBnNjaGVtYRgCIAEoCRIMCgRpbml0GAMgASgIEhgKC2ludml0ZXJfa2V5GAQgASgJSACIAQFCDgoMX2ludml0ZXJfa2V5IrMCChJCeXBhc3NBdXRoUmVzcG9uc2USSAoEbWV0YRgBIAEoCzI6LnN0cmVhbWxheWVyLnVzZXJzLkJ5cGFzc0F1dGhSZXNwb25zZS5BdXRoUmVzcG9uc2VNZXRhZGF0YRIqCgRkYXRhGAIgASgLMhcuc3RyZWFtbGF5ZXIudXNlcnMuVXNlckgAiAEBGp0BChRBdXRoUmVzcG9uc2VNZXRhZGF0YRIQCgNqd3QYASABKAlIAIgBARISCgV0b2tlbhgDIAEoCUgBiAEBEhEKCWdldHN0cmVhbRgEIAEoCRIYCgtpbnZpdGVyX2tleRgFIAEoCUgCiAEBQgYKBF9qd3RCCAoGX3Rva2VuQg4KDF9pbnZpdGVyX2tleUoECAIQA1IKdm94aW1wbGFudEIHCgVfZGF0YSJjChFHZXRGcmllbmRzUmVxdWVzdBIcCg9sYXN0X2NyZWF0ZWRfYXQYASABKAlIAIgBARISCgVsaW1pdBgCIAEoBUgBiAEBQhIKEF9sYXN0X2NyZWF0ZWRfYXRCCAoGX2xpbWl0IoECChJHZXRGcmllbmRzUmVzcG9uc2USPgoEZGF0YRgBIAMoCzIwLnN0cmVhbWxheWVyLnVzZXJzLkdldEZyaWVuZHNSZXNwb25zZS5GcmllbmREYXRhEkQKCG1ldGFkYXRhGAIgASgLMjIuc3RyZWFtbGF5ZXIudXNlcnMuR2V0RnJpZW5kc1Jlc3BvbnNlLlJlc3BvbnNlTWV0YRonCgxSZXNwb25zZU1ldGESFwoPbGFzdF9jcmVhdGVkX2F0GAEgASgJGjwKCkZyaWVuZERhdGESDAoEbmFtZRgBIAEoCRIRCgl0aW5vZGVfaWQYAiABKAkSDQoFc2xfaWQYAyABKAkiFwoVR2VuZXJhdGVNZmFLZXlSZXF1ZXN0IigKFkdlbmVyYXRlTWZhS2V5UmVzcG9uc2USDgoGc2VjcmV0GAEgASgJIjQKEEF0dGFjaE1mYVJlcXVlc3QSEAoIdXNlcm5hbWUYASABKAkSDgoGc2VjcmV0GAIgASgJIiQKEUF0dGFjaE1mYVJlc3BvbnNlEg8KB2VuYWJsZWQYASABKAgiMgoQRGV0YWNoTWZhUmVxdWVzdBIQCgh1c2VybmFtZRgBIAEoCRIMCgR0b3RwGAIgASgJIiQKEURldGFjaE1mYVJlc3BvbnNlEg8KB2VuYWJsZWQYASABKAgiMgoQVmVyaWZ5TWZhUmVxdWVzdBIQCgh1c2VybmFtZRgBIAEoCRIMCgR0b3RwGAIgASgJIiIKEVZlcmlmeU1mYVJlc3BvbnNlEg0KBXZhbGlkGAEgASgIMo8NCgVVc2VycxJJCgVMb2dpbhIfLnN0cmVhbWxheWVyLnVzZXJzLkxvZ2luUmVxdWVzdBofLnN0cmVhbWxheWVyLnVzZXJzLkF1dGhSZXNwb25zZRJTCghSZWdpc3RlchIiLnN0cmVhbWxheWVyLnVzZXJzLlJlZ2lzdGVyUmVxdWVzdBojLnN0cmVhbWxheWVyLnVzZXJzLlJlZ2lzdGVyUmVzcG9uc2USgQEKD1JlcXVlc3RQYXNzd29yZBIpLnN0cmVhbWxheWVyLnVzZXJzLlJlcXVlc3RQYXNzd29yZFJlcXVlc3QaKi5zdHJlYW1sYXllci51c2Vycy5SZXF1ZXN0UGFzc3dvcmRSZXNwb25zZSIXiqYdE2Rpc3Bvc2FibGUtcGFzc3dvcmQSSwoCTWUSHC5zdHJlYW1sYXllci51c2Vycy5NZVJlcXVlc3QaHS5zdHJlYW1sYXllci51c2Vycy5NZVJlc3BvbnNlIgiQph0CoKYdAhJfCgZJbnZpdGUSIC5zdHJlYW1sYXllci51c2Vycy5JbnZpdGVSZXF1ZXN0GiEuc3RyZWFtbGF5ZXIudXNlcnMuSW52aXRlUmVzcG9uc2UiEIqmHQhyZWZlcnJhbKCmHQISagoKQnlwYXNzQXV0aBIkLnN0cmVhbWxheWVyLnVzZXJzLkJ5cGFzc0F1dGhSZXF1ZXN0GiUuc3RyZWFtbGF5ZXIudXNlcnMuQnlwYXNzQXV0aFJlc3BvbnNlIg+Kph0LYXV0aC1ieXBhc3MSfQoOVXBkYXRlTWV0YWRhdGESKC5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVNZXRhZGF0YVJlcXVlc3QaKS5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVNZXRhZGF0YVJlc3BvbnNlIhaKph0OdXBkYXRlTWV0YWRhdGGgph0CEncKDFVwZGF0ZUF2YXRhchImLnN0cmVhbWxheWVyLnVzZXJzLlVwZGF0ZUF2YXRhclJlcXVlc3QaJy5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVBdmF0YXJSZXNwb25zZSIWiqYdDnVwZGF0ZU1ldGFkYXRhoKYdAhKPAQoUVXBkYXRlUHVibGljQ2hhdE5hbWUSLi5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVQdWJsaWNDaGF0TmFtZVJlcXVlc3QaLy5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVQdWJsaWNDaGF0TmFtZVJlc3BvbnNlIhaKph0OdXBkYXRlTWV0YWRhdGGgph0CEoMBChBVcGRhdGVQdWJsaWNOYW1lEiouc3RyZWFtbGF5ZXIudXNlcnMuVXBkYXRlUHVibGljTmFtZVJlcXVlc3QaKy5zdHJlYW1sYXllci51c2Vycy5VcGRhdGVQdWJsaWNOYW1lUmVzcG9uc2UiFoqmHQ51cGRhdGVNZXRhZGF0YaCmHQISbQoKR2V0RnJpZW5kcxIkLnN0cmVhbWxheWVyLnVzZXJzLkdldEZyaWVuZHNSZXF1ZXN0GiUuc3RyZWFtbGF5ZXIudXNlcnMuR2V0RnJpZW5kc1Jlc3BvbnNlIhKKph0KZ2V0RnJpZW5kc6CmHQISfQoOR2VuZXJhdGVNZmFLZXkSKC5zdHJlYW1sYXllci51c2Vycy5HZW5lcmF0ZU1mYUtleVJlcXVlc3QaKS5zdHJlYW1sYXllci51c2Vycy5HZW5lcmF0ZU1mYUtleVJlc3BvbnNlIhaKph0OZ2VuZXJhdGVNZmFLZXmgph0CEmkKCUF0dGFjaE1mYRIjLnN0cmVhbWxheWVyLnVzZXJzLkF0dGFjaE1mYVJlcXVlc3QaJC5zdHJlYW1sYXllci51c2Vycy5BdHRhY2hNZmFSZXNwb25zZSIRiqYdCWF0dGFjaE1mYaCmHQISaQoJRGV0YWNoTWZhEiMuc3RyZWFtbGF5ZXIudXNlcnMuRGV0YWNoTWZhUmVxdWVzdBokLnN0cmVhbWxheWVyLnVzZXJzLkRldGFjaE1mYVJlc3BvbnNlIhGKph0JZGV0YWNoTWZhoKYdAhJpCglWZXJpZnlNZmESIy5zdHJlYW1sYXllci51c2Vycy5WZXJpZnlNZmFSZXF1ZXN0GiQuc3RyZWFtbGF5ZXIudXNlcnMuVmVyaWZ5TWZhUmVzcG9uc2UiEYqmHQl2ZXJpZnlNZmGgph0CGgmKtRgFdXNlcnNChAEKFWNvbS5zdHJlYW1sYXllci51c2Vyc0IVU3RyZWFtTGF5ZXJVc2Vyc1Byb3RvUAFaSWdpdGh1Yi5jb20vc3RyZWFtbGF5ZXIvc2wtcHJvdG9maWxlcy8uYnVpbGQvZ28vc3RyZWFtbGF5ZXIvdXNlcnM7c2xfdXNlcnOiAgZTTF9BUEliBnByb3RvMw",[CUe,wUe]),xUe=TUe(_Ue,0),NUe=(t,e)=>{const{client:i,createRequestOptions:n}=t.createPromiseClient(xUe,{method:"bypassAuth"}),s=n({retryAttempts:0});return i.bypassAuth(e,{contextValues:s})};var Fa;(function(t){t.SCHEMA="schema",t.EXTERNAL_TOKEN="eToken",t.TOKEN="token"})(Fa||(Fa={}));class VUe extends IUe{constructor(){super("user"),Dn(this,"setSchema",e=>{this.write(Fa.SCHEMA,e)}),Dn(this,"getSchema",()=>this.read(Fa.SCHEMA)),Dn(this,"setToken",e=>{this.write(Fa.TOKEN,e)}),Dn(this,"getToken",()=>this.read(Fa.TOKEN)),Dn(this,"setExternalToken",e=>{this.write(Fa.EXTERNAL_TOKEN,e)}),Dn(this,"getExternalToken",()=>this.read(Fa.EXTERNAL_TOKEN)),Dn(this,"removeToken",()=>{this.remove(Fa.TOKEN)})}}var kk;(function(t){t.DISABLED="disabled",t.INITIALIZATION="initialization",t.READY="ready",t.FAILED="failed",t.SUSPENDED="suspended"})(kk||(kk={}));W0("deep_link");W0("bypass");const Fk=new VUe,Uk=async(t,e={})=>{var i,n;const{schemaName:s,issuer:r}={schemaName:"slra",issuer:"sdk-web",...e};t.sdk.withAuth=!0;const a=await t.stores.organizationSettings.getValue();if(!a)throw new Error("unknown organization");const o=`${(i=a.pub)==null?void 0:i.kid}`,l=`${s}:${a.id}`,u=(n=(await NUe(t.transport,{userKey:o,schema:l,init:!0})).meta)==null?void 0:n.token,d=a.pub,h=await cke({...d}),f=window.crypto.randomUUID(),p=await new Vke({"device-id":f,totp:u}).setProtectedHeader({alg:d.alg||"",enc:"A256CBC-HS512",kid:d.kid}).setIssuedAt().setIssuer(r).setAudience(a.id).setExpirationTime("2m").encrypt(h);await t.auth.login(l,p),Fk.setSchema("streamlayer:streamlayer"),Fk.setExternalToken(p)},LUe=async(t,e={})=>{try{await t.auth.reLogin({skipLogin:!0})||await Uk(t,e).catch(n=>{console.error(n,"fail anon login")})}catch(i){console.log(i,"fail anon re-login"),await Uk(t,e)}},kUe=(t,e={})=>new Promise((i,n)=>{const s=setTimeout(()=>{n(new Error("timeout"))},3e4);t.stores.status.subscribe(async r=>{if(r==="ready")try{await LUe(t,e),i(!0)}catch(a){n(a)}finally{clearTimeout(s)}})}),FUe=(t,e,i)=>{t.sdk.anonymousAuthorization=async()=>{await kUe(t,e)},i()};function UUe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function BUe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var WUe=function(){function t(i){var n=this;this._insertTag=function(s){var r;n.tags.length===0?n.insertionPoint?r=n.insertionPoint.nextSibling:n.prepend?r=n.container.firstChild:r=n.before:r=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,r),n.tags.push(s)},this.isSpeedy=i.speedy===void 0?!0:i.speedy,this.tags=[],this.ctr=0,this.nonce=i.nonce,this.key=i.key,this.container=i.container,this.prepend=i.prepend,this.insertionPoint=i.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(BUe(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var r=UUe(s);try{r.insertRule(n,r.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},t}(),Tn="-ms-",H2="-moz-",It="-webkit-",n$="comm",C9="rule",R9="decl",GUe="@import",s$="@keyframes",DUe="@layer",MUe=Math.abs,_b=String.fromCharCode,ZUe=Object.assign;function PUe(t,e){return yn(t,0)^45?(((e<<2^yn(t,0))<<2^yn(t,1))<<2^yn(t,2))<<2^yn(t,3):0}function r$(t){return t.trim()}function OUe(t,e){return(t=e.exec(t))?t[0]:t}function wt(t,e,i){return t.replace(e,i)}function gT(t,e){return t.indexOf(e)}function yn(t,e){return t.charCodeAt(e)|0}function jp(t,e,i){return t.slice(e,i)}function Jr(t){return t.length}function I9(t){return t.length}function c1(t,e){return e.push(t),t}function XUe(t,e){return t.map(e).join("")}var xb=1,nh=1,a$=0,cs=0,Di=0,kh="";function Nb(t,e,i,n,s,r,a){return{value:t,root:e,parent:i,type:n,props:s,children:r,line:xb,column:nh,length:a,return:""}}function Sf(t,e){return ZUe(Nb("",null,null,"",null,null,0),t,{length:-t.length},e)}function YUe(){return Di}function $Ue(){return Di=cs>0?yn(kh,--cs):0,nh--,Di===10&&(nh=1,xb--),Di}function Rs(){return Di=cs<a$?yn(kh,cs++):0,nh++,Di===10&&(nh=1,xb++),Di}function ua(){return yn(kh,cs)}function ag(){return cs}function G0(t,e){return jp(kh,t,e)}function Hp(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function o$(t){return xb=nh=1,a$=Jr(kh=t),cs=0,[]}function l$(t){return kh="",t}function og(t){return r$(G0(cs-1,yT(t===91?t+2:t===40?t+1:t)))}function KUe(t){for(;(Di=ua())&&Di<33;)Rs();return Hp(t)>2||Hp(Di)>3?"":" "}function zUe(t,e){for(;--e&&Rs()&&!(Di<48||Di>102||Di>57&&Di<65||Di>70&&Di<97););return G0(t,ag()+(e<6&&ua()==32&&Rs()==32))}function yT(t){for(;Rs();)switch(Di){case t:return cs;case 34:case 39:t!==34&&t!==39&&yT(Di);break;case 40:t===41&&yT(t);break;case 92:Rs();break}return cs}function JUe(t,e){for(;Rs()&&t+Di!==57;)if(t+Di===84&&ua()===47)break;return"/*"+G0(e,cs-1)+"*"+_b(t===47?t:Rs())}function jUe(t){for(;!Hp(ua());)Rs();return G0(t,cs)}function HUe(t){return l$(lg("",null,null,null,[""],t=o$(t),0,[0],t))}function lg(t,e,i,n,s,r,a,o,l){for(var c=0,u=0,d=a,h=0,f=0,p=0,m=1,v=1,g=1,E=0,A="",R=s,I=r,L=n,F=A;v;)switch(p=E,E=Rs()){case 40:if(p!=108&&yn(F,d-1)==58){gT(F+=wt(og(E),"&","&\f"),"&\f")!=-1&&(g=-1);break}case 34:case 39:case 91:F+=og(E);break;case 9:case 10:case 13:case 32:F+=KUe(p);break;case 92:F+=zUe(ag()-1,7);continue;case 47:switch(ua()){case 42:case 47:c1(QUe(JUe(Rs(),ag()),e,i),l);break;default:F+="/"}break;case 123*m:o[c++]=Jr(F)*g;case 125*m:case 59:case 0:switch(E){case 0:case 125:v=0;case 59+u:g==-1&&(F=wt(F,/\f/g,"")),f>0&&Jr(F)-d&&c1(f>32?Wk(F+";",n,i,d-1):Wk(wt(F," ","")+";",n,i,d-2),l);break;case 59:F+=";";default:if(c1(L=Bk(F,e,i,c,u,s,o,A,R=[],I=[],d),r),E===123)if(u===0)lg(F,e,L,L,R,r,d,o,I);else switch(h===99&&yn(F,3)===110?100:h){case 100:case 108:case 109:case 115:lg(t,L,L,n&&c1(Bk(t,L,L,0,0,s,o,A,s,R=[],d),I),s,I,d,o,n?R:I);break;default:lg(F,L,L,L,[""],I,0,o,I)}}c=u=f=0,m=g=1,A=F="",d=a;break;case 58:d=1+Jr(F),f=p;default:if(m<1){if(E==123)--m;else if(E==125&&m++==0&&$Ue()==125)continue}switch(F+=_b(E),E*m){case 38:g=u>0?1:(F+="\f",-1);break;case 44:o[c++]=(Jr(F)-1)*g,g=1;break;case 64:ua()===45&&(F+=og(Rs())),h=ua(),u=d=Jr(A=F+=jUe(ag())),E++;break;case 45:p===45&&Jr(F)==2&&(m=0)}}return r}function Bk(t,e,i,n,s,r,a,o,l,c,u){for(var d=s-1,h=s===0?r:[""],f=I9(h),p=0,m=0,v=0;p<n;++p)for(var g=0,E=jp(t,d+1,d=MUe(m=a[p])),A=t;g<f;++g)(A=r$(m>0?h[g]+" "+E:wt(E,/&\f/g,h[g])))&&(l[v++]=A);return Nb(t,e,i,s===0?C9:o,l,c,u)}function QUe(t,e,i){return Nb(t,e,i,n$,_b(YUe()),jp(t,2,-2),0)}function Wk(t,e,i,n){return Nb(t,e,i,R9,jp(t,0,n),jp(t,n+1,-1),n)}function hd(t,e){for(var i="",n=I9(t),s=0;s<n;s++)i+=e(t[s],s,t,e)||"";return i}function qUe(t,e,i,n){switch(t.type){case DUe:if(t.children.length)break;case GUe:case R9:return t.return=t.return||t.value;case n$:return"";case s$:return t.return=t.value+"{"+hd(t.children,n)+"}";case C9:t.value=t.props.join(",")}return Jr(i=hd(t.children,n))?t.return=t.value+"{"+i+"}":""}function eBe(t){var e=I9(t);return function(i,n,s,r){for(var a="",o=0;o<e;o++)a+=t[o](i,n,s,r)||"";return a}}function tBe(t){return function(e){e.root||(e=e.return)&&t(e)}}function c$(t){var e=Object.create(null);return function(i){return e[i]===void 0&&(e[i]=t(i)),e[i]}}var iBe=function(e,i,n){for(var s=0,r=0;s=r,r=ua(),s===38&&r===12&&(i[n]=1),!Hp(r);)Rs();return G0(e,cs)},nBe=function(e,i){var n=-1,s=44;do switch(Hp(s)){case 0:s===38&&ua()===12&&(i[n]=1),e[n]+=iBe(cs-1,i,n);break;case 2:e[n]+=og(s);break;case 4:if(s===44){e[++n]=ua()===58?"&\f":"",i[n]=e[n].length;break}default:e[n]+=_b(s)}while(s=Rs());return e},sBe=function(e,i){return l$(nBe(o$(e),i))},Gk=new WeakMap,rBe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var i=e.value,n=e.parent,s=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&i.charCodeAt(0)!==58&&!Gk.get(n))&&!s){Gk.set(e,!0);for(var r=[],a=sBe(i,r),o=n.props,l=0,c=0;l<a.length;l++)for(var u=0;u<o.length;u++,c++)e.props[c]=r[l]?a[l].replace(/&\f/g,o[u]):o[u]+" "+a[l]}}},aBe=function(e){if(e.type==="decl"){var i=e.value;i.charCodeAt(0)===108&&i.charCodeAt(2)===98&&(e.return="",e.value="")}};function u$(t,e){switch(PUe(t,e)){case 5103:return It+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return It+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return It+t+H2+t+Tn+t+t;case 6828:case 4268:return It+t+Tn+t+t;case 6165:return It+t+Tn+"flex-"+t+t;case 5187:return It+t+wt(t,/(\w+).+(:[^]+)/,It+"box-$1$2"+Tn+"flex-$1$2")+t;case 5443:return It+t+Tn+"flex-item-"+wt(t,/flex-|-self/,"")+t;case 4675:return It+t+Tn+"flex-line-pack"+wt(t,/align-content|flex-|-self/,"")+t;case 5548:return It+t+Tn+wt(t,"shrink","negative")+t;case 5292:return It+t+Tn+wt(t,"basis","preferred-size")+t;case 6060:return It+"box-"+wt(t,"-grow","")+It+t+Tn+wt(t,"grow","positive")+t;case 4554:return It+wt(t,/([^-])(transform)/g,"$1"+It+"$2")+t;case 6187:return wt(wt(wt(t,/(zoom-|grab)/,It+"$1"),/(image-set)/,It+"$1"),t,"")+t;case 5495:case 3959:return wt(t,/(image-set\([^]*)/,It+"$1$`$1");case 4968:return wt(wt(t,/(.+:)(flex-)?(.*)/,It+"box-pack:$3"+Tn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+It+t+t;case 4095:case 3583:case 4068:case 2532:return wt(t,/(.+)-inline(.+)/,It+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Jr(t)-1-e>6)switch(yn(t,e+1)){case 109:if(yn(t,e+4)!==45)break;case 102:return wt(t,/(.+:)(.+)-([^]+)/,"$1"+It+"$2-$3$1"+H2+(yn(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~gT(t,"stretch")?u$(wt(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(yn(t,e+1)!==115)break;case 6444:switch(yn(t,Jr(t)-3-(~gT(t,"!important")&&10))){case 107:return wt(t,":",":"+It)+t;case 101:return wt(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+It+(yn(t,14)===45?"inline-":"")+"box$3$1"+It+"$2$3$1"+Tn+"$2box$3")+t}break;case 5936:switch(yn(t,e+11)){case 114:return It+t+Tn+wt(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return It+t+Tn+wt(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return It+t+Tn+wt(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return It+t+Tn+t+t}return t}var oBe=function(e,i,n,s){if(e.length>-1&&!e.return)switch(e.type){case R9:e.return=u$(e.value,e.length);break;case s$:return hd([Sf(e,{value:wt(e.value,"@","@"+It)})],s);case C9:if(e.length)return XUe(e.props,function(r){switch(OUe(r,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return hd([Sf(e,{props:[wt(r,/:(read-\w+)/,":"+H2+"$1")]})],s);case"::placeholder":return hd([Sf(e,{props:[wt(r,/:(plac\w+)/,":"+It+"input-$1")]}),Sf(e,{props:[wt(r,/:(plac\w+)/,":"+H2+"$1")]}),Sf(e,{props:[wt(r,/:(plac\w+)/,Tn+"input-$1")]})],s)}return""})}},lBe=[oBe],d$=function(e){var i=e.key;if(i==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(m){var v=m.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(m),m.setAttribute("data-s",""))})}var s=e.stylisPlugins||lBe,r={},a,o=[];a=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+i+' "]'),function(m){for(var v=m.getAttribute("data-emotion").split(" "),g=1;g<v.length;g++)r[v[g]]=!0;o.push(m)});var l,c=[rBe,aBe];{var u,d=[qUe,tBe(function(m){u.insert(m)})],h=eBe(c.concat(s,d)),f=function(v){return hd(HUe(v),h)};l=function(v,g,E,A){u=E,f(v?v+"{"+g.styles+"}":g.styles),A&&(p.inserted[g.name]=!0)}}var p={key:i,sheet:new WUe({key:i,container:a,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:r,registered:{},insert:l};return p.sheet.hydrate(o),p};function cBe(t){for(var e=0,i,n=0,s=t.length;s>=4;++n,s-=4)i=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,i=(i&65535)*1540483477+((i>>>16)*59797<<16),i^=i>>>24,e=(i&65535)*1540483477+((i>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var uBe={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},dBe=/[A-Z]|^ms/g,hBe=/_EMO_([^_]+?)_([^]*?)_EMO_/g,h$=function(e){return e.charCodeAt(1)===45},Dk=function(e){return e!=null&&typeof e!="boolean"},h5=c$(function(t){return h$(t)?t:t.replace(dBe,"-$&").toLowerCase()}),Mk=function(e,i){switch(e){case"animation":case"animationName":if(typeof i=="string")return i.replace(hBe,function(n,s,r){return jr={name:s,styles:r,next:jr},s})}return uBe[e]!==1&&!h$(e)&&typeof i=="number"&&i!==0?i+"px":i};function Qp(t,e,i){if(i==null)return"";var n=i;if(n.__emotion_styles!==void 0)return n;switch(typeof i){case"boolean":return"";case"object":{var s=i;if(s.anim===1)return jr={name:s.name,styles:s.styles,next:jr},s.name;var r=i;if(r.styles!==void 0){var a=r.next;if(a!==void 0)for(;a!==void 0;)jr={name:a.name,styles:a.styles,next:jr},a=a.next;var o=r.styles+";";return o}return fBe(t,e,i)}case"function":{if(t!==void 0){var l=jr,c=i(t);return jr=l,Qp(t,e,c)}break}}var u=i;if(e==null)return u;var d=e[u];return d!==void 0?d:u}function fBe(t,e,i){var n="";if(Array.isArray(i))for(var s=0;s<i.length;s++)n+=Qp(t,e,i[s])+";";else for(var r in i){var a=i[r];if(typeof a!="object"){var o=a;e!=null&&e[o]!==void 0?n+=r+"{"+e[o]+"}":Dk(o)&&(n+=h5(r)+":"+Mk(r,o)+";")}else if(Array.isArray(a)&&typeof a[0]=="string"&&(e==null||e[a[0]]===void 0))for(var l=0;l<a.length;l++)Dk(a[l])&&(n+=h5(r)+":"+Mk(r,a[l])+";");else{var c=Qp(t,e,a);switch(r){case"animation":case"animationName":{n+=h5(r)+":"+c+";";break}default:n+=r+"{"+c+"}"}}}return n}var Zk=/label:\s*([^\s;{]+)\s*(;|$)/g,jr;function cg(t,e,i){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,s="";jr=void 0;var r=t[0];if(r==null||r.raw===void 0)n=!1,s+=Qp(i,e,r);else{var a=r;s+=a[0]}for(var o=1;o<t.length;o++)if(s+=Qp(i,e,t[o]),n){var l=r;s+=l[o]}Zk.lastIndex=0;for(var c="",u;(u=Zk.exec(s))!==null;)c+="-"+u[1];var d=cBe(s)+c;return{name:d,styles:s,next:jr}}var pBe=!0;function w9(t,e,i){var n="";return i.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(n+=s+" ")}),n}var f$=function(e,i,n){var s=e.key+"-"+i.name;(n===!1||pBe===!1)&&e.registered[s]===void 0&&(e.registered[s]=i.styles)},p$=function(e,i,n){f$(e,i,n);var s=e.key+"-"+i.name;if(e.inserted[i.name]===void 0){var r=i;do e.insert(i===r?"."+s:"",r,e.sheet,!0),r=r.next;while(r!==void 0)}};function Pk(t,e){if(t.inserted[e.name]===void 0)return t.insert("",e,t.sheet,!0)}function Ok(t,e,i){var n=[],s=w9(t,n,i);return n.length<2?i:s+e(n)}var mBe=function(e){var i=d$(e);i.sheet.speedy=function(o){this.isSpeedy=o},i.compat=!0;var n=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=cg(c,i.registered,void 0);return p$(i,d,!1),i.key+"-"+d.name},s=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=cg(c,i.registered),h="animation-"+d.name;return Pk(i,{name:d.name,styles:"@keyframes "+h+"{"+d.styles+"}"}),h},r=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var d=cg(c,i.registered);Pk(i,d)},a=function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];return Ok(i.registered,n,gBe(c))};return{css:n,cx:a,injectGlobal:r,keyframes:s,hydrate:function(l){l.forEach(function(c){i.inserted[c]=!0})},flush:function(){i.registered={},i.inserted={},i.sheet.flush()},sheet:i.sheet,cache:i,getRegisteredStyles:w9.bind(null,i.registered),merge:Ok.bind(null,i.registered,n)}},gBe=function t(e){for(var i="",n=0;n<e.length;n++){var s=e[n];if(s!=null){var r=void 0;switch(typeof s){case"boolean":break;case"object":{if(Array.isArray(s))r=t(s);else{r="";for(var a in s)s[a]&&a&&(r&&(r+=" "),r+=a)}break}default:r=s}r&&(i&&(i+=" "),i+=r)}}return i},yBe=mBe({key:"css"}),bBe=yBe.cx;const Q2=new URLSearchParams(window.location.search),m$=Q2.get("production")===null?!0:Q2.get("production")==="true",vBe=Q2.get("sdk_key")||"$SDK_KEY",bT=Q2.get("event_id")||"$EVENT_ID",EBe=m$?`https://studio.streamlayer.io/events/all/id/${bT}/moderation`:`https://studio.next.streamlayer.io/events/all/id/${bT}/moderation`;function vT(){return vT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)({}).hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},vT.apply(null,arguments)}var ABe=function(e){return e()},SBe=P8.useInsertionEffect?P8.useInsertionEffect:!1,TBe=SBe||ABe,g$=x.createContext(typeof HTMLElement<"u"?d$({key:"css"}):null);g$.Provider;var CBe=function(e){return x.forwardRef(function(i,n){var s=x.useContext(g$);return e(i,s,n)})},RBe=x.createContext({}),IBe=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,wBe=c$(function(t){return IBe.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),_Be=wBe,xBe=function(e){return e!=="theme"},Xk=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?_Be:xBe},Yk=function(e,i,n){var s;if(i){var r=i.shouldForwardProp;s=e.__emotion_forwardProp&&r?function(a){return e.__emotion_forwardProp(a)&&r(a)}:r}return typeof s!="function"&&n&&(s=e.__emotion_forwardProp),s},NBe=function(e){var i=e.cache,n=e.serialized,s=e.isStringTag;return f$(i,n,s),TBe(function(){return p$(i,n,s)}),null},VBe=function t(e,i){var n=e.__emotion_real===e,s=n&&e.__emotion_base||e,r,a;i!==void 0&&(r=i.label,a=i.target);var o=Yk(e,i,n),l=o||Xk(s),c=!l("as");return function(){var u=arguments,d=n&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(r!==void 0&&d.push("label:"+r+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{var h=u[0];d.push(h[0]);for(var f=u.length,p=1;p<f;p++)d.push(u[p],h[p])}var m=CBe(function(v,g,E){var A=c&&v.as||s,R="",I=[],L=v;if(v.theme==null){L={};for(var F in v)L[F]=v[F];L.theme=x.useContext(RBe)}typeof v.className=="string"?R=w9(g.registered,I,v.className):v.className!=null&&(R=v.className+" ");var B=cg(d.concat(I),g.registered,L);R+=g.key+"-"+B.name,a!==void 0&&(R+=" "+a);var G=c&&o===void 0?Xk(A):l,Z={};for(var j in v)c&&j==="as"||G(j)&&(Z[j]=v[j]);return Z.className=R,E&&(Z.ref=E),x.createElement(x.Fragment,null,x.createElement(NBe,{cache:g,serialized:B,isStringTag:typeof A=="string"}),x.createElement(A,Z))});return m.displayName=r!==void 0?r:"Styled("+(typeof s=="string"?s:s.displayName||s.name||"Component")+")",m.defaultProps=e.defaultProps,m.__emotion_real=m,m.__emotion_base=s,m.__emotion_styles=d,m.__emotion_forwardProp=o,Object.defineProperty(m,"toString",{value:function(){return"."+a}}),m.withComponent=function(v,g){var E=t(v,vT({},i,g,{shouldForwardProp:Yk(m,g,!0)}));return E.apply(void 0,d)},m}},LBe=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],Lt=VBe.bind(null);LBe.forEach(function(t){Lt[t]=Lt(t)});const kc=t=>`
    @media only screen and (max-width: 1024px) {
        ${t}
    }

    @media only screen and (max-width: 1366px) and (orientation: landscape) {
        ${t}
    }
`,Cr=t=>`
    @media only screen and (max-width: 1024px) and (orientation: portrait) {
        ${t}
    }
`,kBe=Lt.nav`
    position: sticky;
    z-index: 12;
    top: -40px;
    background: #fff;
    height: var(--nav-bar-height);
    width: 100%;
    padding: 6px 20px;
    box-sizing: border-box;
    display: ${({mobile:t})=>t?"none":"flex"};
    justify-content: space-between;
    align-items: center;
    z-index: 10;

    ${kc(`
        position: absolute;
        height: 40px;
    `)}

    ${Cr(`
        position: static;
        top: 0;
    `)}

    &:hover {
        top: 0;

        .ShowMenuBtn {
            display: none;
        }
    }

`,FBe=Lt.button`
    border-radius: 48px;
    background: rgba(0, 0, 0, 0.40);
    border: none;
    padding: 8px 16px;
    color: #fff;
    font-size: 14px;
    font-family: 'SF Pro Text', Arial, Helvetica, sans-serif;

    position: absolute;
    top: 46px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 10;

    &:before {
        content: '';
        display: block;
        position: absolute;
        top: 0;
        bottom: 0;
        left: -50px;
        right: -50px;
    }

    display: none;

    ${kc(`
        display: block;
    `)}

    ${Cr(`
        display: none;
    `)}
`,UBe=Lt.img`
    height: 20px;

    ${Cr(`
        width: 20px;
        object-fit: cover;
        object-position: left;
    `)}
`,BBe=Lt.a`
    text-decoration: none;
    color: #1D7BFF;
    font-size: 16px;
    font-weight: 500;
    line-height: 28px;
    letter-spacing: -0.32px;
    display: flex;
    align-items: center;
    column-gap: 8px;
    height: 100%;

    &:hover, &:visited, &:focus {
        text-decoration: none;
        color: #1D7BFF;
    }

    span {
        ${Cr(`
            display: none;
        `)}
    }
`,WBe=Lt.div`
    display: flex;
    align-items: center;
    border-radius: 50px;
    background: rgba(29, 123, 255, 0.10);

    ${Cr(`
        display: none;
    `)}
`,$k=Lt.div`
    position: relative;

    label {
        display: block;
        position: absolute;
        top: calc(50% - 3px);
        right: 16px;
        width: 10px;
        height: 6px;
        background-image: url(https://cdn.streamlayer.io/sdk-web-demo/select-arr.png);
        background-size: contain;
        background-repeat: no-repeat;
    }

    display: none;

    ${Cr(`
        display: block;
    `)}
`,Kk=Lt.select`
    display: none;
    border: none;
    font-weight: 500;
    font-size: 14px;
    padding: 0px;
    padding-left: 16px;
    padding-right: 34px;
    align-items: center;
    justify-content: center;
    gap: 4px;
    line-height: 28px;
    letter-spacing: -0.32px;
    border-radius: 50px;
    color: #fff;
    appearance: none;
    outline: none !important;
    position: relative;
    text-align: center;

    &::-ms-expand {
        display: none;
    }

    ${Cr(`
        display: flex;
    `)}

    background-blend-mode: soft-light, normal;
    background: linear-gradient(99deg, rgba(255, 255, 255, 0.00) 3.5%, rgba(255, 255, 255, 0.75) 35.2%, rgba(255, 255, 255, 0.90) 48.49%, rgba(255, 255, 255, 0.75) 66.48%, rgba(255, 255, 255, 0.00) 93.48%), #1D7BFF;
`,f5=Lt.button`
    height: 100%;
    border: none;
    color: #1D7BFF;
    cursor: pointer;
    outline: none;
    transition: all 0.3s;
    font-weight: 500;
    font-size: 14px;
    padding: 0px 16px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 4px;
    line-height: 28px;
    letter-spacing: -0.32px;
    border-radius: 50px;
    background-color: transparent;

    ${({active:t})=>!t&&`
        &:hover {
            opacity: 0.5;
        }
    `}

    &:focus {
        outline: none;
    }

    &:disabled {
        opacity: 0.5;
    }

    ${({active:t})=>t&&`
        background: linear-gradient(99deg, rgba(255, 255, 255, 0.00) 3.5%, rgba(255, 255, 255, 0.75) 35.2%, rgba(255, 255, 255, 0.90) 48.49%, rgba(255, 255, 255, 0.75) 66.48%, rgba(255, 255, 255, 0.00) 93.48%), #1D7BFF;
        background-blend-mode: soft-light, normal;
        color: #fff;
        cursor: default;
    `}
`,GBe=window.localStorage.getItem("with-theme"),DBe=({mode:t,theme:e,tabs:i,toggleMode:n,toggleTheme:s,disabled:r})=>b.jsxs(kBe,{className:"NavBarContainer",children:[b.jsx(UBe,{src:"https://cdn.streamlayer.io/sdk-web-demo/sl-logo.png"}),i&&b.jsxs(WBe,{onClick:n,children:[b.jsx(f5,{active:t==="side-panel",name:"side-panel",children:"Sidebar"}),b.jsx(f5,{active:t==="l-bar",name:"l-bar",children:"L-Bar"}),b.jsx(f5,{active:t==="overlay",disabled:r==null?void 0:r.overlay,name:"overlay",children:"Overlay"})]}),i&&b.jsxs($k,{children:[b.jsxs(Kk,{id:"select-mode",onChange:n,children:[b.jsx("option",{value:"side-panel",selected:t==="side-panel",children:"Sidebar"}),b.jsx("option",{value:"l-bar",selected:t==="l-bar",children:"L-Bar"}),b.jsx("option",{value:"overlay",selected:t==="overlay",disabled:r==null?void 0:r.overlay,children:"Overlay"})]}),b.jsx("label",{htmlFor:"select-mode"})]}),!!GBe&&b.jsxs($k,{style:{display:"block"},children:[b.jsxs(Kk,{style:{display:"flex"},id:"select-theme",onChange:s,children:[b.jsx("option",{value:"light",selected:e==="light",children:"Light"}),b.jsx("option",{value:"dark",selected:e==="dark",children:"Dark"}),b.jsx("option",{value:"tgl",selected:e==="tgl",children:"TGL"})]}),b.jsx("label",{htmlFor:"select-mode"})]}),b.jsxs(BBe,{href:EBe,target:"_blank",children:[b.jsx("img",{src:"https://cdn.streamlayer.io/assets/sdk-web/storybook-assets/studio-link.svg"}),b.jsx("span",{children:"Open Studio"})]}),b.jsx(FBe,{className:"ShowMenuBtn",children:"Show menu"})]});function MBe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var y$={exports:{}};(function(t,e){(function(i){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,s=/^(?=([^\/?#]*))\1([^]*)$/,r=/(?:\/|^)\.(?=\/)/g,a=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,o={buildAbsoluteURL:function(l,c,u){if(u=u||{},l=l.trim(),c=c.trim(),!c){if(!u.alwaysNormalize)return l;var d=o.parseURL(l);if(!d)throw new Error("Error trying to parse base URL.");return d.path=o.normalizePath(d.path),o.buildURLFromParts(d)}var h=o.parseURL(c);if(!h)throw new Error("Error trying to parse relative URL.");if(h.scheme)return u.alwaysNormalize?(h.path=o.normalizePath(h.path),o.buildURLFromParts(h)):c;var f=o.parseURL(l);if(!f)throw new Error("Error trying to parse base URL.");if(!f.netLoc&&f.path&&f.path[0]!=="/"){var p=s.exec(f.path);f.netLoc=p[1],f.path=p[2]}f.netLoc&&!f.path&&(f.path="/");var m={scheme:f.scheme,netLoc:h.netLoc,path:null,params:h.params,query:h.query,fragment:h.fragment};if(!h.netLoc&&(m.netLoc=f.netLoc,h.path[0]!=="/"))if(!h.path)m.path=f.path,h.params||(m.params=f.params,h.query||(m.query=f.query));else{var v=f.path,g=v.substring(0,v.lastIndexOf("/")+1)+h.path;m.path=o.normalizePath(g)}return m.path===null&&(m.path=u.alwaysNormalize?o.normalizePath(h.path):h.path),o.buildURLFromParts(m)},parseURL:function(l){var c=n.exec(l);return c?{scheme:c[1]||"",netLoc:c[2]||"",path:c[3]||"",params:c[4]||"",query:c[5]||"",fragment:c[6]||""}:null},normalizePath:function(l){for(l=l.split("").reverse().join("").replace(r,"");l.length!==(l=l.replace(a,"")).length;);return l.split("").reverse().join("")},buildURLFromParts:function(l){return l.scheme+l.netLoc+l.path+l.params+l.query+l.fragment}};t.exports=o})()})(y$);var _9=y$.exports;function zk(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),i.push.apply(i,n)}return i}function cn(t){for(var e=1;e<arguments.length;e++){var i=arguments[e]!=null?arguments[e]:{};e%2?zk(Object(i),!0).forEach(function(n){OBe(t,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):zk(Object(i)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(i,n))})}return t}function ZBe(t,e){if(typeof t!="object"||!t)return t;var i=t[Symbol.toPrimitive];if(i!==void 0){var n=i.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PBe(t){var e=ZBe(t,"string");return typeof e=="symbol"?e:String(e)}function OBe(t,e,i){return e=PBe(e),e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function Pi(){return Pi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},Pi.apply(this,arguments)}const Ye=Number.isFinite||function(t){return typeof t=="number"&&isFinite(t)},XBe=Number.isSafeInteger||function(t){return typeof t=="number"&&Math.abs(t)<=YBe},YBe=Number.MAX_SAFE_INTEGER||9007199254740991;let U=function(t){return t.MEDIA_ATTACHING="hlsMediaAttaching",t.MEDIA_ATTACHED="hlsMediaAttached",t.MEDIA_DETACHING="hlsMediaDetaching",t.MEDIA_DETACHED="hlsMediaDetached",t.BUFFER_RESET="hlsBufferReset",t.BUFFER_CODECS="hlsBufferCodecs",t.BUFFER_CREATED="hlsBufferCreated",t.BUFFER_APPENDING="hlsBufferAppending",t.BUFFER_APPENDED="hlsBufferAppended",t.BUFFER_EOS="hlsBufferEos",t.BUFFER_FLUSHING="hlsBufferFlushing",t.BUFFER_FLUSHED="hlsBufferFlushed",t.MANIFEST_LOADING="hlsManifestLoading",t.MANIFEST_LOADED="hlsManifestLoaded",t.MANIFEST_PARSED="hlsManifestParsed",t.LEVEL_SWITCHING="hlsLevelSwitching",t.LEVEL_SWITCHED="hlsLevelSwitched",t.LEVEL_LOADING="hlsLevelLoading",t.LEVEL_LOADED="hlsLevelLoaded",t.LEVEL_UPDATED="hlsLevelUpdated",t.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",t.LEVELS_UPDATED="hlsLevelsUpdated",t.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",t.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",t.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",t.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",t.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",t.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",t.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",t.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",t.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",t.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",t.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",t.CUES_PARSED="hlsCuesParsed",t.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",t.INIT_PTS_FOUND="hlsInitPtsFound",t.FRAG_LOADING="hlsFragLoading",t.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",t.FRAG_LOADED="hlsFragLoaded",t.FRAG_DECRYPTED="hlsFragDecrypted",t.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",t.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",t.FRAG_PARSING_METADATA="hlsFragParsingMetadata",t.FRAG_PARSED="hlsFragParsed",t.FRAG_BUFFERED="hlsFragBuffered",t.FRAG_CHANGED="hlsFragChanged",t.FPS_DROP="hlsFpsDrop",t.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",t.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",t.ERROR="hlsError",t.DESTROYING="hlsDestroying",t.KEY_LOADING="hlsKeyLoading",t.KEY_LOADED="hlsKeyLoaded",t.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",t.BACK_BUFFER_REACHED="hlsBackBufferReached",t.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",t}({}),nt=function(t){return t.NETWORK_ERROR="networkError",t.MEDIA_ERROR="mediaError",t.KEY_SYSTEM_ERROR="keySystemError",t.MUX_ERROR="muxError",t.OTHER_ERROR="otherError",t}({}),Ae=function(t){return t.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",t.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",t.KEY_SYSTEM_NO_SESSION="keySystemNoSession",t.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",t.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",t.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",t.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",t.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",t.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",t.MANIFEST_LOAD_ERROR="manifestLoadError",t.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",t.MANIFEST_PARSING_ERROR="manifestParsingError",t.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",t.LEVEL_EMPTY_ERROR="levelEmptyError",t.LEVEL_LOAD_ERROR="levelLoadError",t.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",t.LEVEL_PARSING_ERROR="levelParsingError",t.LEVEL_SWITCH_ERROR="levelSwitchError",t.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",t.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",t.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",t.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",t.FRAG_LOAD_ERROR="fragLoadError",t.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",t.FRAG_DECRYPT_ERROR="fragDecryptError",t.FRAG_PARSING_ERROR="fragParsingError",t.FRAG_GAP="fragGap",t.REMUX_ALLOC_ERROR="remuxAllocError",t.KEY_LOAD_ERROR="keyLoadError",t.KEY_LOAD_TIMEOUT="keyLoadTimeOut",t.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",t.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",t.BUFFER_APPEND_ERROR="bufferAppendError",t.BUFFER_APPENDING_ERROR="bufferAppendingError",t.BUFFER_STALLED_ERROR="bufferStalledError",t.BUFFER_FULL_ERROR="bufferFullError",t.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",t.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",t.INTERNAL_EXCEPTION="internalException",t.INTERNAL_ABORTED="aborted",t.UNKNOWN="unknown",t}({});const Ml=function(){},ET={trace:Ml,debug:Ml,log:Ml,warn:Ml,info:Ml,error:Ml};let dp=ET;function $Be(t){const e=self.console[t];return e?e.bind(self.console,`[${t}] >`):Ml}function KBe(t,...e){e.forEach(function(i){dp[i]=t[i]?t[i].bind(t):$Be(i)})}function zBe(t,e){if(typeof console=="object"&&t===!0||typeof t=="object"){KBe(t,"debug","log","info","warn","error");try{dp.log(`Debug logs enabled for "${e}" in hls.js version 1.5.20`)}catch{dp=ET}}else dp=ET}const re=dp,JBe=/^(\d+)x(\d+)$/,Jk=/(.+?)=(".*?"|.*?)(?:,|$)/g;class mi{constructor(e){typeof e=="string"&&(e=mi.parseAttrList(e)),Pi(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const i=parseInt(this[e],10);return i>Number.MAX_SAFE_INTEGER?1/0:i}hexadecimalInteger(e){if(this[e]){let i=(this[e]||"0x").slice(2);i=(i.length&1?"0":"")+i;const n=new Uint8Array(i.length/2);for(let s=0;s<i.length/2;s++)n[s]=parseInt(i.slice(s*2,s*2+2),16);return n}else return null}hexadecimalIntegerAsNumber(e){const i=parseInt(this[e],16);return i>Number.MAX_SAFE_INTEGER?1/0:i}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,i){const n=this[e];return n?parseFloat(n):i}enumeratedString(e){return this[e]}bool(e){return this[e]==="YES"}decimalResolution(e){const i=JBe.exec(this[e]);if(i!==null)return{width:parseInt(i[1],10),height:parseInt(i[2],10)}}static parseAttrList(e){let i;const n={},s='"';for(Jk.lastIndex=0;(i=Jk.exec(e))!==null;){let r=i[2];r.indexOf(s)===0&&r.lastIndexOf(s)===r.length-1&&(r=r.slice(1,-1));const a=i[1].trim();n[a]=r}return n}}function jBe(t){return t!=="ID"&&t!=="CLASS"&&t!=="START-DATE"&&t!=="DURATION"&&t!=="END-DATE"&&t!=="END-ON-NEXT"}function HBe(t){return t==="SCTE35-OUT"||t==="SCTE35-IN"}class b${constructor(e,i){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,i){const n=i.attr;for(const s in n)if(Object.prototype.hasOwnProperty.call(e,s)&&e[s]!==n[s]){re.warn(`DATERANGE tag attribute: "${s}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=s;break}e=Pi(new mi({}),n,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const n=new Date(this.attr["END-DATE"]);Ye(n.getTime())&&(this._endDate=n)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const e=this.duration;return e!==null?new Date(this._startDate.getTime()+e*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(Ye(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&Ye(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class Vb{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Gt={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class v${constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[Gt.AUDIO]:null,[Gt.VIDEO]:null,[Gt.AUDIOVIDEO]:null},this.baseurl=e}setByteRange(e,i){const n=e.split("@",2);let s;n.length===1?s=(i==null?void 0:i.byteRangeEndOffset)||0:s=parseInt(n[1]),this._byteRange=[s,parseInt(n[0])+s]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=_9.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}}class p5 extends v${constructor(e,i){super(i),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new Vb,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const i=this.levelkeys.identity;if(i)this._decryptdata=i.getDecryptData(this.sn);else{const n=Object.keys(this.levelkeys);if(n.length===1)return this._decryptdata=this.levelkeys[n[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null||!Ye(this.programDateTime))return null;const e=Ye(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const i=Object.keys(this.levelkeys),n=i.length;if(n>1||n===1&&this.levelkeys[i[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){const i=this.levelkeys[e];i&&!this._decryptdata&&(this._decryptdata=i.getDecryptData(this.sn))}}abortRequests(){var e,i;(e=this.loader)==null||e.abort(),(i=this.keyLoader)==null||i.abort()}setElementaryStreamInfo(e,i,n,s,r,a=!1){const{elementaryStreams:o}=this,l=o[e];if(!l){o[e]={startPTS:i,endPTS:n,startDTS:s,endDTS:r,partial:a};return}l.startPTS=Math.min(l.startPTS,i),l.endPTS=Math.max(l.endPTS,n),l.startDTS=Math.min(l.startDTS,s),l.endDTS=Math.max(l.endDTS,r)}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Gt.AUDIO]=null,e[Gt.VIDEO]=null,e[Gt.AUDIOVIDEO]=null}}class QBe extends v${constructor(e,i,n,s,r){super(n),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new Vb,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=i,this.index=s;const a=e.enumeratedString("BYTERANGE");a&&this.setByteRange(a,r),r&&(this.fragOffset=r.fragOffset+r.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}const qBe=10;class eWe{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const i=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!i||!this.live,this.advanced=this.endSN>e.endSN||i>0||i===0&&n>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return this.fragments.length?Ye(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||qBe}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function x9(t){return Uint8Array.from(atob(t),e=>e.charCodeAt(0))}function tWe(t){const e=AT(t).subarray(0,16),i=new Uint8Array(16);return i.set(e,16-e.length),i}function iWe(t){const e=function(n,s,r){const a=n[s];n[s]=n[r],n[r]=a};e(t,0,3),e(t,1,2),e(t,4,5),e(t,6,7)}function nWe(t){const e=t.split(":");let i=null;if(e[0]==="data"&&e.length===2){const n=e[1].split(";"),s=n[n.length-1].split(",");if(s.length===2){const r=s[0]==="base64",a=s[1];r?(n.splice(-1,1),i=x9(a)):i=tWe(a)}}return i}function AT(t){return Uint8Array.from(unescape(encodeURIComponent(t)),e=>e.charCodeAt(0))}const sh=typeof self<"u"?self:void 0;var xt={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},es={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function m5(t){switch(t){case es.FAIRPLAY:return xt.FAIRPLAY;case es.PLAYREADY:return xt.PLAYREADY;case es.WIDEVINE:return xt.WIDEVINE;case es.CLEARKEY:return xt.CLEARKEY}}var u1={CENC:"1077efecc0b24d02ace33c1e52e2fb4b",CLEARKEY:"e2719d58a985b3c9781ab030af78d30e",PLAYREADY:"9a04f07998404286ab92e65be0885f95",WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function g5(t){if(t===u1.WIDEVINE)return xt.WIDEVINE;if(t===u1.PLAYREADY)return xt.PLAYREADY;if(t===u1.CENC||t===u1.CLEARKEY)return xt.CLEARKEY}function y5(t){switch(t){case xt.FAIRPLAY:return es.FAIRPLAY;case xt.PLAYREADY:return es.PLAYREADY;case xt.WIDEVINE:return es.WIDEVINE;case xt.CLEARKEY:return es.CLEARKEY}}function d1(t){const{drmSystems:e,widevineLicenseUrl:i}=t,n=e?[xt.FAIRPLAY,xt.WIDEVINE,xt.PLAYREADY,xt.CLEARKEY].filter(s=>!!e[s]):[];return!n[xt.WIDEVINE]&&i&&n.push(xt.WIDEVINE),n}const E$=function(t){return sh!=null&&(t=sh.navigator)!=null&&t.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function sWe(t,e,i,n){let s;switch(t){case xt.FAIRPLAY:s=["cenc","sinf"];break;case xt.WIDEVINE:case xt.PLAYREADY:s=["cenc"];break;case xt.CLEARKEY:s=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${t}`)}return rWe(s,e,i,n)}function rWe(t,e,i,n){return[{initDataTypes:t,persistentState:n.persistentState||"optional",distinctiveIdentifier:n.distinctiveIdentifier||"optional",sessionTypes:n.sessionTypes||[n.sessionType||"temporary"],audioCapabilities:e.map(r=>({contentType:`audio/mp4; codecs="${r}"`,robustness:n.audioRobustness||"",encryptionScheme:n.audioEncryptionScheme||null})),videoCapabilities:i.map(r=>({contentType:`video/mp4; codecs="${r}"`,robustness:n.videoRobustness||"",encryptionScheme:n.videoEncryptionScheme||null}))}]}function A$(t){const e=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),i=String.fromCharCode.apply(null,Array.from(e)),n=i.substring(i.indexOf("<"),i.length),a=new DOMParser().parseFromString(n,"text/xml").getElementsByTagName("KID")[0];if(a){const o=a.childNodes[0]?a.childNodes[0].nodeValue:a.getAttribute("VALUE");if(o){const l=x9(o).subarray(0,16);return iWe(l),l}}return null}function gc(t,e,i){return Uint8Array.prototype.slice?t.slice(e,i):new Uint8Array(Array.prototype.slice.call(t,e,i))}const N9=(t,e)=>e+10<=t.length&&t[e]===73&&t[e+1]===68&&t[e+2]===51&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,S$=(t,e)=>e+10<=t.length&&t[e]===51&&t[e+1]===68&&t[e+2]===73&&t[e+3]<255&&t[e+4]<255&&t[e+6]<128&&t[e+7]<128&&t[e+8]<128&&t[e+9]<128,qp=(t,e)=>{const i=e;let n=0;for(;N9(t,e);){n+=10;const s=Lb(t,e+6);n+=s,S$(t,e+10)&&(n+=10),e+=n}if(n>0)return t.subarray(i,i+n)},Lb=(t,e)=>{let i=0;return i=(t[e]&127)<<21,i|=(t[e+1]&127)<<14,i|=(t[e+2]&127)<<7,i|=t[e+3]&127,i},aWe=(t,e)=>N9(t,e)&&Lb(t,e+6)+10<=t.length-e,V9=t=>{const e=C$(t);for(let i=0;i<e.length;i++){const n=e[i];if(T$(n))return hWe(n)}},T$=t=>t&&t.key==="PRIV"&&t.info==="com.apple.streaming.transportStreamTimestamp",oWe=t=>{const e=String.fromCharCode(t[0],t[1],t[2],t[3]),i=Lb(t,4),n=10;return{type:e,size:i,data:t.subarray(n,n+i)}},C$=t=>{let e=0;const i=[];for(;N9(t,e);){const n=Lb(t,e+6);e+=10;const s=e+n;for(;e+8<s;){const r=oWe(t.subarray(e)),a=lWe(r);a&&i.push(a),e+=r.size+10}S$(t,e)&&(e+=10)}return i},lWe=t=>t.type==="PRIV"?cWe(t):t.type[0]==="W"?dWe(t):uWe(t),cWe=t=>{if(t.size<2)return;const e=da(t.data,!0),i=new Uint8Array(t.data.subarray(e.length+1));return{key:t.type,info:e,data:i.buffer}},uWe=t=>{if(t.size<2)return;if(t.type==="TXXX"){let i=1;const n=da(t.data.subarray(i),!0);i+=n.length+1;const s=da(t.data.subarray(i));return{key:t.type,info:n,data:s}}const e=da(t.data.subarray(1));return{key:t.type,data:e}},dWe=t=>{if(t.type==="WXXX"){if(t.size<2)return;let i=1;const n=da(t.data.subarray(i),!0);i+=n.length+1;const s=da(t.data.subarray(i));return{key:t.type,info:n,data:s}}const e=da(t.data);return{key:t.type,data:e}},hWe=t=>{if(t.data.byteLength===8){const e=new Uint8Array(t.data),i=e[3]&1;let n=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return n/=45,i&&(n+=4772185884e-2),Math.round(n)}},da=(t,e=!1)=>{const i=fWe();if(i){const c=i.decode(t);if(e){const u=c.indexOf("\0");return u!==-1?c.substring(0,u):c}return c.replace(/\0/g,"")}const n=t.length;let s,r,a,o="",l=0;for(;l<n;){if(s=t[l++],s===0&&e)return o;if(s===0||s===3)continue;switch(s>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:o+=String.fromCharCode(s);break;case 12:case 13:r=t[l++],o+=String.fromCharCode((s&31)<<6|r&63);break;case 14:r=t[l++],a=t[l++],o+=String.fromCharCode((s&15)<<12|(r&63)<<6|(a&63)<<0);break}}return o};let b5;function fWe(){if(!navigator.userAgent.includes("PlayStation 4"))return!b5&&typeof self.TextDecoder<"u"&&(b5=new self.TextDecoder("utf-8")),b5}const Yr={hexDump:function(t){let e="";for(let i=0;i<t.length;i++){let n=t[i].toString(16);n.length<2&&(n="0"+n),e+=n}return e}},q2=Math.pow(2,32)-1,pWe=[].push,R$={video:1,audio:2,id3:3,text:4};function Xi(t){return String.fromCharCode.apply(null,t)}function I$(t,e){const i=t[e]<<8|t[e+1];return i<0?65536+i:i}function Qe(t,e){const i=w$(t,e);return i<0?4294967296+i:i}function jk(t,e){let i=Qe(t,e);return i*=Math.pow(2,32),i+=Qe(t,e+4),i}function w$(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]}function v5(t,e,i){t[e]=i>>24,t[e+1]=i>>16&255,t[e+2]=i>>8&255,t[e+3]=i&255}function mWe(t){const e=t.byteLength;for(let i=0;i<e;){const n=Qe(t,i);if(n>8&&t[i+4]===109&&t[i+5]===111&&t[i+6]===111&&t[i+7]===102)return!0;i=n>1?i+n:e}return!1}function ct(t,e){const i=[];if(!e.length)return i;const n=t.byteLength;for(let s=0;s<n;){const r=Qe(t,s),a=Xi(t.subarray(s+4,s+8)),o=r>1?s+r:n;if(a===e[0])if(e.length===1)i.push(t.subarray(s+8,o));else{const l=ct(t.subarray(s+8,o),e.slice(1));l.length&&pWe.apply(i,l)}s=o}return i}function gWe(t){const e=[],i=t[0];let n=8;const s=Qe(t,n);n+=4;let r=0,a=0;i===0?(r=Qe(t,n),a=Qe(t,n+4),n+=8):(r=jk(t,n),a=jk(t,n+8),n+=16),n+=2;let o=t.length+a;const l=I$(t,n);n+=2;for(let c=0;c<l;c++){let u=n;const d=Qe(t,u);u+=4;const h=d&2147483647;if((d&2147483648)>>>31===1)return re.warn("SIDX has hierarchical references (not supported)"),null;const p=Qe(t,u);u+=4,e.push({referenceSize:h,subsegmentDuration:p,info:{duration:p/s,start:o,end:o+h-1}}),o+=h,u+=4,n=u}return{earliestPresentationTime:r,timescale:s,version:i,referencesCount:l,references:e}}function _$(t){const e=[],i=ct(t,["moov","trak"]);for(let s=0;s<i.length;s++){const r=i[s],a=ct(r,["tkhd"])[0];if(a){let o=a[0];const l=Qe(a,o===0?12:20),c=ct(r,["mdia","mdhd"])[0];if(c){o=c[0];const u=Qe(c,o===0?12:20),d=ct(r,["mdia","hdlr"])[0];if(d){const h=Xi(d.subarray(8,12)),f={soun:Gt.AUDIO,vide:Gt.VIDEO}[h];if(f){const p=ct(r,["mdia","minf","stbl","stsd"])[0],m=yWe(p);e[l]={timescale:u,type:f},e[f]=cn({timescale:u,id:l},m)}}}}}return ct(t,["moov","mvex","trex"]).forEach(s=>{const r=Qe(s,4),a=e[r];a&&(a.default={duration:Qe(s,12),flags:Qe(s,20)})}),e}function yWe(t){const e=t.subarray(8),i=e.subarray(86),n=Xi(e.subarray(4,8));let s=n;const r=n==="enca"||n==="encv";if(r){const o=ct(e,[n])[0].subarray(n==="enca"?28:78);ct(o,["sinf"]).forEach(c=>{const u=ct(c,["schm"])[0];if(u){const d=Xi(u.subarray(4,8));if(d==="cbcs"||d==="cenc"){const h=ct(c,["frma"])[0];h&&(s=Xi(h))}}})}switch(s){case"avc1":case"avc2":case"avc3":case"avc4":{const a=ct(i,["avcC"])[0];s+="."+h1(a[1])+h1(a[2])+h1(a[3]);break}case"mp4a":{const a=ct(e,[n])[0],o=ct(a.subarray(28),["esds"])[0];if(o&&o.length>12){let l=4;if(o[l++]!==3)break;l=E5(o,l),l+=2;const c=o[l++];if(c&128&&(l+=2),c&64&&(l+=o[l++]),o[l++]!==4)break;l=E5(o,l);const u=o[l++];if(u===64)s+="."+h1(u);else break;if(l+=12,o[l++]!==5)break;l=E5(o,l);const d=o[l++];let h=(d&248)>>3;h===31&&(h+=1+((d&7)<<3)+((o[l]&224)>>5)),s+="."+h}break}case"hvc1":case"hev1":{const a=ct(i,["hvcC"])[0],o=a[1],l=["","A","B","C"][o>>6],c=o&31,u=Qe(a,2),d=(o&32)>>5?"H":"L",h=a[12],f=a.subarray(6,12);s+="."+l+c,s+="."+u.toString(16).toUpperCase(),s+="."+d+h;let p="";for(let m=f.length;m--;){const v=f[m];(v||p)&&(p="."+v.toString(16).toUpperCase()+p)}s+=p;break}case"dvh1":case"dvhe":{const a=ct(i,["dvcC"])[0],o=a[2]>>1&127,l=a[2]<<5&32|a[3]>>3&31;s+="."+kr(o)+"."+kr(l);break}case"vp09":{const a=ct(i,["vpcC"])[0],o=a[4],l=a[5],c=a[6]>>4&15;s+="."+kr(o)+"."+kr(l)+"."+kr(c);break}case"av01":{const a=ct(i,["av1C"])[0],o=a[1]>>>5,l=a[1]&31,c=a[2]>>>7?"H":"M",u=(a[2]&64)>>6,d=(a[2]&32)>>5,h=o===2&&u?d?12:10:u?10:8,f=(a[2]&16)>>4,p=(a[2]&8)>>3,m=(a[2]&4)>>2,v=a[2]&3;s+="."+o+"."+kr(l)+c+"."+kr(h)+"."+f+"."+p+m+v+"."+kr(1)+"."+kr(1)+"."+kr(1)+"."+0;break}}return{codec:s,encrypted:r}}function E5(t,e){const i=e+5;for(;t[e++]&128&&e<i;);return e}function h1(t){return("0"+t.toString(16).toUpperCase()).slice(-2)}function kr(t){return(t<10?"0":"")+t}function bWe(t,e){if(!t||!e)return t;const i=e.keyId;return i&&e.isCommonEncryption&&ct(t,["moov","trak"]).forEach(s=>{const a=ct(s,["mdia","minf","stbl","stsd"])[0].subarray(8);let o=ct(a,["enca"]);const l=o.length>0;l||(o=ct(a,["encv"])),o.forEach(c=>{const u=l?c.subarray(28):c.subarray(78);ct(u,["sinf"]).forEach(h=>{const f=x$(h);if(f){const p=f.subarray(8,24);p.some(m=>m!==0)||(re.log(`[eme] Patching keyId in 'enc${l?"a":"v"}>sinf>>tenc' box: ${Yr.hexDump(p)} -> ${Yr.hexDump(i)}`),f.set(i,8))}})})}),t}function x$(t){const e=ct(t,["schm"])[0];if(e){const i=Xi(e.subarray(4,8));if(i==="cbcs"||i==="cenc")return ct(t,["schi","tenc"])[0]}return null}function vWe(t,e){return ct(e,["moof","traf"]).reduce((i,n)=>{const s=ct(n,["tfdt"])[0],r=s[0],a=ct(n,["tfhd"]).reduce((o,l)=>{const c=Qe(l,4),u=t[c];if(u){let d=Qe(s,4);if(r===1){if(d===q2)return re.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),o;d*=q2+1,d+=Qe(s,8)}const h=u.timescale||9e4,f=d/h;if(Ye(f)&&(o===null||f<o))return f}return o},null);return a!==null&&Ye(a)&&(i===null||a<i)?a:i},null)}function EWe(t,e){let i=0,n=0,s=0;const r=ct(t,["moof","traf"]);for(let a=0;a<r.length;a++){const o=r[a],l=ct(o,["tfhd"])[0],c=Qe(l,4),u=e[c];if(!u)continue;const d=u.default,h=Qe(l,0)|(d==null?void 0:d.flags);let f=d==null?void 0:d.duration;h&8&&(h&2?f=Qe(l,12):f=Qe(l,8));const p=u.timescale||9e4,m=ct(o,["trun"]);for(let v=0;v<m.length;v++){if(i=AWe(m[v]),!i&&f){const g=Qe(m[v],4);i=f*g}u.type===Gt.VIDEO?n+=i/p:u.type===Gt.AUDIO&&(s+=i/p)}}if(n===0&&s===0){let a=1/0,o=0,l=0;const c=ct(t,["sidx"]);for(let u=0;u<c.length;u++){const d=gWe(c[u]);if(d!=null&&d.references){a=Math.min(a,d.earliestPresentationTime/d.timescale);const h=d.references.reduce((f,p)=>f+p.info.duration||0,0);o=Math.max(o,h+d.earliestPresentationTime/d.timescale),l=o-a}}if(l&&Ye(l))return l}return n||s}function AWe(t){const e=Qe(t,0);let i=8;e&1&&(i+=4),e&4&&(i+=4);let n=0;const s=Qe(t,4);for(let r=0;r<s;r++){if(e&256){const a=Qe(t,i);n+=a,i+=4}e&512&&(i+=4),e&1024&&(i+=4),e&2048&&(i+=4)}return n}function SWe(t,e,i){ct(e,["moof","traf"]).forEach(n=>{ct(n,["tfhd"]).forEach(s=>{const r=Qe(s,4),a=t[r];if(!a)return;const o=a.timescale||9e4;ct(n,["tfdt"]).forEach(l=>{const c=l[0],u=i*o;if(u){let d=Qe(l,4);if(c===0)d-=u,d=Math.max(d,0),v5(l,4,d);else{d*=Math.pow(2,32),d+=Qe(l,8),d-=u,d=Math.max(d,0);const h=Math.floor(d/(q2+1)),f=Math.floor(d%(q2+1));v5(l,4,h),v5(l,8,f)}}})})})}function TWe(t){const e={valid:null,remainder:null},i=ct(t,["moof"]);if(i.length<2)return e.remainder=t,e;const n=i[i.length-1];return e.valid=gc(t,0,n.byteOffset-8),e.remainder=gc(t,n.byteOffset-8),e}function qs(t,e){const i=new Uint8Array(t.length+e.length);return i.set(t),i.set(e,t.length),i}function Hk(t,e){const i=[],n=e.samples,s=e.timescale,r=e.id;let a=!1;return ct(n,["moof"]).map(l=>{const c=l.byteOffset-8;ct(l,["traf"]).map(d=>{const h=ct(d,["tfdt"]).map(f=>{const p=f[0];let m=Qe(f,4);return p===1&&(m*=Math.pow(2,32),m+=Qe(f,8)),m/s})[0];return h!==void 0&&(t=h),ct(d,["tfhd"]).map(f=>{const p=Qe(f,4),m=Qe(f,0)&16777215,v=(m&1)!==0,g=(m&2)!==0,E=(m&8)!==0;let A=0;const R=(m&16)!==0;let I=0;const L=(m&32)!==0;let F=8;p===r&&(v&&(F+=8),g&&(F+=4),E&&(A=Qe(f,F),F+=4),R&&(I=Qe(f,F),F+=4),L&&(F+=4),e.type==="video"&&(a=CWe(e.codec)),ct(d,["trun"]).map(B=>{const G=B[0],Z=Qe(B,0)&16777215,j=(Z&1)!==0;let pe=0;const J=(Z&4)!==0,me=(Z&256)!==0;let de=0;const ye=(Z&512)!==0;let Le=0;const ge=(Z&1024)!==0,H=(Z&2048)!==0;let ee=0;const we=Qe(B,4);let M=8;j&&(pe=Qe(B,M),M+=4),J&&(M+=4);let Q=pe+c;for(let se=0;se<we;se++){if(me?(de=Qe(B,M),M+=4):de=A,ye?(Le=Qe(B,M),M+=4):Le=I,ge&&(M+=4),H&&(G===0?ee=Qe(B,M):ee=w$(B,M),M+=4),e.type===Gt.VIDEO){let ne=0;for(;ne<Le;){const Ie=Qe(n,Q);if(Q+=4,RWe(a,n[Q])){const ke=n.subarray(Q,Q+Ie);N$(ke,a?2:1,t+ee/s,i)}Q+=Ie,ne+=Ie+4}}t+=de/s}}))})})}),i}function CWe(t){if(!t)return!1;const e=t.indexOf("."),i=e<0?t:t.substring(0,e);return i==="hvc1"||i==="hev1"||i==="dvh1"||i==="dvhe"}function RWe(t,e){if(t){const i=e>>1&63;return i===39||i===40}else return(e&31)===6}function N$(t,e,i,n){const s=V$(t);let r=0;r+=e;let a=0,o=0,l=0;for(;r<s.length;){a=0;do{if(r>=s.length)break;l=s[r++],a+=l}while(l===255);o=0;do{if(r>=s.length)break;l=s[r++],o+=l}while(l===255);const c=s.length-r;let u=r;if(o<c)r+=o;else if(o>c){re.error(`Malformed SEI payload. ${o} is too small, only ${c} bytes left to parse.`);break}if(a===4){if(s[u++]===181){const h=I$(s,u);if(u+=2,h===49){const f=Qe(s,u);if(u+=4,f===1195456820){const p=s[u++];if(p===3){const m=s[u++],v=31&m,g=64&m,E=g?2+v*3:0,A=new Uint8Array(E);if(g){A[0]=m;for(let R=1;R<E;R++)A[R]=s[u++]}n.push({type:p,payloadType:a,pts:i,bytes:A})}}}}}else if(a===5&&o>16){const d=[];for(let p=0;p<16;p++){const m=s[u++].toString(16);d.push(m.length==1?"0"+m:m),(p===3||p===5||p===7||p===9)&&d.push("-")}const h=o-16,f=new Uint8Array(h);for(let p=0;p<h;p++)f[p]=s[u++];n.push({payloadType:a,pts:i,uuid:d.join(""),userData:da(f),userDataBytes:f})}}}function V$(t){const e=t.byteLength,i=[];let n=1;for(;n<e-2;)t[n]===0&&t[n+1]===0&&t[n+2]===3?(i.push(n+2),n+=2):n++;if(i.length===0)return t;const s=e-i.length,r=new Uint8Array(s);let a=0;for(n=0;n<s;a++,n++)a===i[0]&&(a++,i.shift()),r[n]=t[a];return r}function IWe(t){const e=t[0];let i="",n="",s=0,r=0,a=0,o=0,l=0,c=0;if(e===0){for(;Xi(t.subarray(c,c+1))!=="\0";)i+=Xi(t.subarray(c,c+1)),c+=1;for(i+=Xi(t.subarray(c,c+1)),c+=1;Xi(t.subarray(c,c+1))!=="\0";)n+=Xi(t.subarray(c,c+1)),c+=1;n+=Xi(t.subarray(c,c+1)),c+=1,s=Qe(t,12),r=Qe(t,16),o=Qe(t,20),l=Qe(t,24),c=28}else if(e===1){c+=4,s=Qe(t,c),c+=4;const d=Qe(t,c);c+=4;const h=Qe(t,c);for(c+=4,a=2**32*d+h,XBe(a)||(a=Number.MAX_SAFE_INTEGER,re.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),o=Qe(t,c),c+=4,l=Qe(t,c),c+=4;Xi(t.subarray(c,c+1))!=="\0";)i+=Xi(t.subarray(c,c+1)),c+=1;for(i+=Xi(t.subarray(c,c+1)),c+=1;Xi(t.subarray(c,c+1))!=="\0";)n+=Xi(t.subarray(c,c+1)),c+=1;n+=Xi(t.subarray(c,c+1)),c+=1}const u=t.subarray(c,t.byteLength);return{schemeIdUri:i,value:n,timeScale:s,presentationTime:a,presentationTimeDelta:r,eventDuration:o,id:l,payload:u}}function wWe(t,...e){const i=e.length;let n=8,s=i;for(;s--;)n+=e[s].byteLength;const r=new Uint8Array(n);for(r[0]=n>>24&255,r[1]=n>>16&255,r[2]=n>>8&255,r[3]=n&255,r.set(t,4),s=0,n=8;s<i;s++)r.set(e[s],n),n+=e[s].byteLength;return r}function _We(t,e,i){if(t.byteLength!==16)throw new RangeError("Invalid system id");let n,s;n=0,s=new Uint8Array;let r;n>0?(r=new Uint8Array(4),e.length>0&&new DataView(r.buffer).setUint32(0,e.length,!1)):r=new Uint8Array;const a=new Uint8Array(4);return i&&i.byteLength>0&&new DataView(a.buffer).setUint32(0,i.byteLength,!1),wWe([112,115,115,104],new Uint8Array([n,0,0,0]),t,r,s,a,i||new Uint8Array)}function xWe(t){const e=[];if(t instanceof ArrayBuffer){const i=t.byteLength;let n=0;for(;n+32<i;){const s=new DataView(t,n),r=NWe(s);e.push(r),n+=r.size}}return e}function NWe(t){const e=t.getUint32(0),i=t.byteOffset,n=t.byteLength;if(n<e)return{offset:i,size:n};if(t.getUint32(4)!==1886614376)return{offset:i,size:e};const r=t.getUint32(8)>>>24;if(r!==0&&r!==1)return{offset:i,size:e};const a=t.buffer,o=Yr.hexDump(new Uint8Array(a,i+12,16)),l=t.getUint32(28);let c=null,u=null;if(r===0){if(e-32<l||l<22)return{offset:i,size:e};u=new Uint8Array(a,i+32,l)}else if(r===1){if(!l||n<i+32+l*16+16)return{offset:i,size:e};c=[];for(let d=0;d<l;d++)c.push(new Uint8Array(a,i+32+d*16,16))}return{version:r,systemId:o,kids:c,data:u,offset:i,size:e}}let f1={};class e0{static clearKeyUriToKeyIdMap(){f1={}}constructor(e,i,n,s=[1],r=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=i,this.keyFormat=n,this.keyFormatVersions=s,this.iv=r,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&e!=="AES-128"}isSupported(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case es.FAIRPLAY:case es.WIDEVINE:case es.PLAYREADY:case es.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof e!="number"&&(this.method==="AES-128"&&!this.iv&&re.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const n=VWe(e);return new e0(this.method,this.uri,"identity",this.keyFormatVersions,n)}const i=nWe(this.uri);if(i)switch(this.keyFormat){case es.WIDEVINE:this.pssh=i,i.length>=22&&(this.keyId=i.subarray(i.length-22,i.length-6));break;case es.PLAYREADY:{const n=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=_We(n,null,i),this.keyId=A$(i);break}default:{let n=i.subarray(0,16);if(n.length!==16){const s=new Uint8Array(16);s.set(n,16-n.length),n=s}this.keyId=n;break}}if(!this.keyId||this.keyId.byteLength!==16){let n=f1[this.uri];if(!n){const s=Object.keys(f1).length%Number.MAX_SAFE_INTEGER;n=new Uint8Array(16),new DataView(n.buffer,12,4).setUint32(0,s),f1[this.uri]=n}this.keyId=n}return this}}function VWe(t){const e=new Uint8Array(16);for(let i=12;i<16;i++)e[i]=t>>8*(15-i)&255;return e}const L$=/\{\$([a-zA-Z0-9-_]+)\}/g;function Qk(t){return L$.test(t)}function zn(t,e,i){if(t.variableList!==null||t.hasVariableRefs)for(let n=i.length;n--;){const s=i[n],r=e[s];r&&(e[s]=ST(t,r))}}function ST(t,e){if(t.variableList!==null||t.hasVariableRefs){const i=t.variableList;return e.replace(L$,n=>{const s=n.substring(2,n.length-1),r=i==null?void 0:i[s];return r===void 0?(t.playlistParsingError||(t.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${s}"`)),n):r})}return e}function qk(t,e,i){let n=t.variableList;n||(t.variableList=n={});let s,r;if("QUERYPARAM"in e){s=e.QUERYPARAM;try{const a=new self.URL(i).searchParams;if(a.has(s))r=a.get(s);else throw new Error(`"${s}" does not match any query parameter in URI: "${i}"`)}catch(a){t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${a.message}`))}}else s=e.NAME,r=e.VALUE;s in n?t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${s}"`)):n[s]=r||""}function LWe(t,e,i){const n=e.IMPORT;if(i&&n in i){let s=t.variableList;s||(t.variableList=s={}),s[n]=i[n]}else t.playlistParsingError||(t.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${n}"`))}function Fc(t=!0){return typeof self>"u"?void 0:(t||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function kWe(t){return typeof self<"u"&&t===self.ManagedMediaSource}const ey={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function FWe(t,e){const i=ey[e];return!!i&&!!i[t.slice(0,4)]}function A5(t,e,i=!0){return!t.split(",").some(n=>!k$(n,e,i))}function k$(t,e,i=!0){var n;const s=Fc(i);return(n=s==null?void 0:s.isTypeSupported(t0(t,e)))!=null?n:!1}function t0(t,e){return`${e}/mp4;codecs="${t}"`}function eF(t){if(t){const e=t.substring(0,4);return ey.video[e]}return 2}function ty(t){return t.split(",").reduce((e,i)=>{const n=ey.video[i];return n?(n*2+e)/(e?3:2):(ey.audio[i]+e)/(e?2:1)},0)}const S5={};function UWe(t,e=!0){if(S5[t])return S5[t];const i={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[t];for(let n=0;n<i.length;n++)if(k$(i[n],"audio",e))return S5[t]=i[n],i[n];return t}const BWe=/flac|opus/i;function iy(t,e=!0){return t.replace(BWe,i=>UWe(i.toLowerCase(),e))}function tF(t,e){return t&&t!=="mp4a"?t:e&&e.split(",")[0]}function WWe(t){const e=t.split(",");for(let i=0;i<e.length;i++){const n=e[i].split(".");if(n.length>2){let s=n.shift()+".";s+=parseInt(n.shift()).toString(16),s+=("000"+parseInt(n.shift()).toString(16)).slice(-4),e[i]=s}}return e.join(",")}const iF=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,nF=/#EXT-X-MEDIA:(.*)/g,GWe=/^#EXT(?:INF|-X-TARGETDURATION):/m,sF=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),DWe=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class sa{static findGroup(e,i){for(let n=0;n<e.length;n++){const s=e[n];if(s.id===i)return s}}static resolve(e,i){return _9.buildAbsoluteURL(i,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return GWe.test(e)}static parseMasterPlaylist(e,i){const n=Qk(e),s={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:n},r=[];iF.lastIndex=0;let a;for(;(a=iF.exec(e))!=null;)if(a[1]){var o;const c=new mi(a[1]);zn(s,c,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const u=ST(s,a[2]),d={attrs:c,bitrate:c.decimalInteger("BANDWIDTH")||c.decimalInteger("AVERAGE-BANDWIDTH"),name:c.NAME,url:sa.resolve(u,i)},h=c.decimalResolution("RESOLUTION");h&&(d.width=h.width,d.height=h.height),MWe(c.CODECS,d),(o=d.unknownCodecs)!=null&&o.length||r.push(d),s.levels.push(d)}else if(a[3]){const c=a[3],u=a[4];switch(c){case"SESSION-DATA":{const d=new mi(u);zn(s,d,["DATA-ID","LANGUAGE","VALUE","URI"]);const h=d["DATA-ID"];h&&(s.sessionData===null&&(s.sessionData={}),s.sessionData[h]=d);break}case"SESSION-KEY":{const d=rF(u,i,s);d.encrypted&&d.isSupported()?(s.sessionKeys===null&&(s.sessionKeys=[]),s.sessionKeys.push(d)):re.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${u}"`);break}case"DEFINE":{{const d=new mi(u);zn(s,d,["NAME","VALUE","QUERYPARAM"]),qk(s,d,i)}break}case"CONTENT-STEERING":{const d=new mi(u);zn(s,d,["SERVER-URI","PATHWAY-ID"]),s.contentSteering={uri:sa.resolve(d["SERVER-URI"],i),pathwayId:d["PATHWAY-ID"]||"."};break}case"START":{s.startTimeOffset=aF(u);break}}}const l=r.length>0&&r.length<s.levels.length;return s.levels=l?r:s.levels,s.levels.length===0&&(s.playlistParsingError=new Error("no levels found in manifest")),s}static parseMasterPlaylistMedia(e,i,n){let s;const r={},a=n.levels,o={AUDIO:a.map(c=>({id:c.attrs.AUDIO,audioCodec:c.audioCodec})),SUBTITLES:a.map(c=>({id:c.attrs.SUBTITLES,textCodec:c.textCodec})),"CLOSED-CAPTIONS":[]};let l=0;for(nF.lastIndex=0;(s=nF.exec(e))!==null;){const c=new mi(s[1]),u=c.TYPE;if(u){const d=o[u],h=r[u]||[];r[u]=h,zn(n,c,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const f=c.LANGUAGE,p=c["ASSOC-LANGUAGE"],m=c.CHANNELS,v=c.CHARACTERISTICS,g=c["INSTREAM-ID"],E={attrs:c,bitrate:0,id:l++,groupId:c["GROUP-ID"]||"",name:c.NAME||f||"",type:u,default:c.bool("DEFAULT"),autoselect:c.bool("AUTOSELECT"),forced:c.bool("FORCED"),lang:f,url:c.URI?sa.resolve(c.URI,i):""};if(p&&(E.assocLang=p),m&&(E.channels=m),v&&(E.characteristics=v),g&&(E.instreamId=g),d!=null&&d.length){const A=sa.findGroup(d,E.groupId)||d[0];oF(E,A,"audioCodec"),oF(E,A,"textCodec")}h.push(E)}}return r}static parseLevelPlaylist(e,i,n,s,r,a){const o=new eWe(i),l=o.fragments;let c=null,u=0,d=0,h=0,f=0,p=null,m=new p5(s,i),v,g,E,A=-1,R=!1,I=null;for(sF.lastIndex=0,o.m3u8=e,o.hasVariableRefs=Qk(e);(v=sF.exec(e))!==null;){R&&(R=!1,m=new p5(s,i),m.start=h,m.sn=u,m.cc=f,m.level=n,c&&(m.initSegment=c,m.rawProgramDateTime=c.rawProgramDateTime,c.rawProgramDateTime=null,I&&(m.setByteRange(I),I=null)));const G=v[1];if(G){m.duration=parseFloat(G);const Z=(" "+v[2]).slice(1);m.title=Z||null,m.tagList.push(Z?["INF",G,Z]:["INF",G])}else if(v[3]){if(Ye(m.duration)){m.start=h,E&&uF(m,E,o),m.sn=u,m.level=n,m.cc=f,l.push(m);const Z=(" "+v[3]).slice(1);m.relurl=ST(o,Z),lF(m,p),p=m,h+=m.duration,u++,d=0,R=!0}}else if(v[4]){const Z=(" "+v[4]).slice(1);p?m.setByteRange(Z,p):m.setByteRange(Z)}else if(v[5])m.rawProgramDateTime=(" "+v[5]).slice(1),m.tagList.push(["PROGRAM-DATE-TIME",m.rawProgramDateTime]),A===-1&&(A=l.length);else{if(v=v[0].match(DWe),!v){re.warn("No matches on slow regex match for level playlist!");continue}for(g=1;g<v.length&&!(typeof v[g]<"u");g++);const Z=(" "+v[g]).slice(1),j=(" "+v[g+1]).slice(1),pe=v[g+2]?(" "+v[g+2]).slice(1):"";switch(Z){case"PLAYLIST-TYPE":o.type=j.toUpperCase();break;case"MEDIA-SEQUENCE":u=o.startSN=parseInt(j);break;case"SKIP":{const J=new mi(j);zn(o,J,["RECENTLY-REMOVED-DATERANGES"]);const me=J.decimalInteger("SKIPPED-SEGMENTS");if(Ye(me)){o.skippedSegments=me;for(let ye=me;ye--;)l.unshift(null);u+=me}const de=J.enumeratedString("RECENTLY-REMOVED-DATERANGES");de&&(o.recentlyRemovedDateranges=de.split("	"));break}case"TARGETDURATION":o.targetduration=Math.max(parseInt(j),1);break;case"VERSION":o.version=parseInt(j);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":o.live=!1;break;case"#":(j||pe)&&m.tagList.push(pe?[j,pe]:[j]);break;case"DISCONTINUITY":f++,m.tagList.push(["DIS"]);break;case"GAP":m.gap=!0,m.tagList.push([Z]);break;case"BITRATE":m.tagList.push([Z,j]);break;case"DATERANGE":{const J=new mi(j);zn(o,J,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),zn(o,J,J.clientAttrs);const me=new b$(J,o.dateRanges[J.ID]);me.isValid||o.skippedSegments?o.dateRanges[me.id]=me:re.warn(`Ignoring invalid DATERANGE tag: "${j}"`),m.tagList.push(["EXT-X-DATERANGE",j]);break}case"DEFINE":{{const J=new mi(j);zn(o,J,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in J?LWe(o,J,a):qk(o,J,i)}break}case"DISCONTINUITY-SEQUENCE":f=parseInt(j);break;case"KEY":{const J=rF(j,i,o);if(J.isSupported()){if(J.method==="NONE"){E=void 0;break}E||(E={}),E[J.keyFormat]&&(E=Pi({},E)),E[J.keyFormat]=J}else re.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${j}"`);break}case"START":o.startTimeOffset=aF(j);break;case"MAP":{const J=new mi(j);if(zn(o,J,["BYTERANGE","URI"]),m.duration){const me=new p5(s,i);cF(me,J,n,E),c=me,m.initSegment=c,c.rawProgramDateTime&&!m.rawProgramDateTime&&(m.rawProgramDateTime=c.rawProgramDateTime)}else{const me=m.byteRangeEndOffset;if(me){const de=m.byteRangeStartOffset;I=`${me-de}@${de}`}else I=null;cF(m,J,n,E),c=m,R=!0}break}case"SERVER-CONTROL":{const J=new mi(j);o.canBlockReload=J.bool("CAN-BLOCK-RELOAD"),o.canSkipUntil=J.optionalFloat("CAN-SKIP-UNTIL",0),o.canSkipDateRanges=o.canSkipUntil>0&&J.bool("CAN-SKIP-DATERANGES"),o.partHoldBack=J.optionalFloat("PART-HOLD-BACK",0),o.holdBack=J.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const J=new mi(j);o.partTarget=J.decimalFloatingPoint("PART-TARGET");break}case"PART":{let J=o.partList;J||(J=o.partList=[]);const me=d>0?J[J.length-1]:void 0,de=d++,ye=new mi(j);zn(o,ye,["BYTERANGE","URI"]);const Le=new QBe(ye,m,i,de,me);J.push(Le),m.duration+=Le.duration;break}case"PRELOAD-HINT":{const J=new mi(j);zn(o,J,["URI"]),o.preloadHint=J;break}case"RENDITION-REPORT":{const J=new mi(j);zn(o,J,["URI"]),o.renditionReports=o.renditionReports||[],o.renditionReports.push(J);break}default:re.warn(`line parsed but not handled: ${v}`);break}}}p&&!p.relurl?(l.pop(),h-=p.duration,o.partList&&(o.fragmentHint=p)):o.partList&&(lF(m,p),m.cc=f,o.fragmentHint=m,E&&uF(m,E,o));const L=l.length,F=l[0],B=l[L-1];if(h+=o.skippedSegments*o.targetduration,h>0&&L&&B){o.averagetargetduration=h/L;const G=B.sn;o.endSN=G!=="initSegment"?G:0,o.live||(B.endList=!0),F&&(o.startCC=F.cc)}else o.endSN=0,o.startCC=0;return o.fragmentHint&&(h+=o.fragmentHint.duration),o.totalduration=h,o.endCC=f,A>0&&ZWe(l,A),o}}function rF(t,e,i){var n,s;const r=new mi(t);zn(i,r,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const a=(n=r.METHOD)!=null?n:"",o=r.URI,l=r.hexadecimalInteger("IV"),c=r.KEYFORMATVERSIONS,u=(s=r.KEYFORMAT)!=null?s:"identity";o&&r.IV&&!l&&re.error(`Invalid IV: ${r.IV}`);const d=o?sa.resolve(o,e):"",h=(c||"1").split("/").map(Number).filter(Number.isFinite);return new e0(a,d,u,h,l)}function aF(t){const i=new mi(t).decimalFloatingPoint("TIME-OFFSET");return Ye(i)?i:null}function MWe(t,e){let i=(t||"").split(/[ ,]+/).filter(n=>n);["video","audio","text"].forEach(n=>{const s=i.filter(r=>FWe(r,n));s.length&&(e[`${n}Codec`]=s.join(","),i=i.filter(r=>s.indexOf(r)===-1))}),e.unknownCodecs=i}function oF(t,e,i){const n=e[i];n&&(t[i]=n)}function ZWe(t,e){let i=t[e];for(let n=e;n--;){const s=t[n];if(!s)return;s.programDateTime=i.programDateTime-s.duration*1e3,i=s}}function lF(t,e){t.rawProgramDateTime?t.programDateTime=Date.parse(t.rawProgramDateTime):e!=null&&e.programDateTime&&(t.programDateTime=e.endProgramDateTime),Ye(t.programDateTime)||(t.programDateTime=null,t.rawProgramDateTime=null)}function cF(t,e,i,n){t.relurl=e.URI,e.BYTERANGE&&t.setByteRange(e.BYTERANGE),t.level=i,t.sn="initSegment",n&&(t.levelkeys=n),t.initSegment=null}function uF(t,e,i){t.levelkeys=e;const{encryptedFragments:n}=i;(!n.length||n[n.length-1].levelkeys!==e)&&Object.keys(e).some(s=>e[s].isCommonEncryption)&&n.push(t)}var At={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},qe={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function dF(t){const{type:e}=t;switch(e){case At.AUDIO_TRACK:return qe.AUDIO;case At.SUBTITLE_TRACK:return qe.SUBTITLE;default:return qe.MAIN}}function T5(t,e){let i=t.url;return(i===void 0||i.indexOf("data:")===0)&&(i=e.url),i}class PWe{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.LEVEL_LOADING,this.onLevelLoading,this),e.on(U.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(U.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:e}=this;e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.LEVEL_LOADING,this.onLevelLoading,this),e.off(U.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(U.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){const i=this.hls.config,n=i.pLoader,s=i.loader,r=n||s,a=new r(i);return this.loaders[e.type]=a,a}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const i=this.loaders[e];i&&i.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,i){const{url:n}=i;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:At.MANIFEST,url:n,deliveryDirectives:null})}onLevelLoading(e,i){const{id:n,level:s,pathwayId:r,url:a,deliveryDirectives:o}=i;this.load({id:n,level:s,pathwayId:r,responseType:"text",type:At.LEVEL,url:a,deliveryDirectives:o})}onAudioTrackLoading(e,i){const{id:n,groupId:s,url:r,deliveryDirectives:a}=i;this.load({id:n,groupId:s,level:null,responseType:"text",type:At.AUDIO_TRACK,url:r,deliveryDirectives:a})}onSubtitleTrackLoading(e,i){const{id:n,groupId:s,url:r,deliveryDirectives:a}=i;this.load({id:n,groupId:s,level:null,responseType:"text",type:At.SUBTITLE_TRACK,url:r,deliveryDirectives:a})}load(e){var i;const n=this.hls.config;let s=this.getInternalLoader(e);if(s){const c=s.context;if(c&&c.url===e.url&&c.level===e.level){re.trace("[playlist-loader]: playlist request ongoing");return}re.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),s.abort()}let r;if(e.type===At.MANIFEST?r=n.manifestLoadPolicy.default:r=Pi({},n.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),s=this.createInternalLoader(e),Ye((i=e.deliveryDirectives)==null?void 0:i.part)){let c;if(e.type===At.LEVEL&&e.level!==null?c=this.hls.levels[e.level].details:e.type===At.AUDIO_TRACK&&e.id!==null?c=this.hls.audioTracks[e.id].details:e.type===At.SUBTITLE_TRACK&&e.id!==null&&(c=this.hls.subtitleTracks[e.id].details),c){const u=c.partTarget,d=c.targetduration;if(u&&d){const h=Math.max(u*3,d*.8)*1e3;r=Pi({},r,{maxTimeToFirstByteMs:Math.min(h,r.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(h,r.maxTimeToFirstByteMs)})}}}const a=r.errorRetry||r.timeoutRetry||{},o={loadPolicy:r,timeout:r.maxLoadTimeMs,maxRetry:a.maxNumRetry||0,retryDelay:a.retryDelayMs||0,maxRetryDelay:a.maxRetryDelayMs||0},l={onSuccess:(c,u,d,h)=>{const f=this.getInternalLoader(d);this.resetInternalLoader(d.type);const p=c.data;if(p.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(c,d,new Error("no EXTM3U delimiter"),h||null,u);return}u.parsing.start=performance.now(),sa.isMediaPlaylist(p)?this.handleTrackOrLevelPlaylist(c,u,d,h||null,f):this.handleMasterPlaylist(c,u,d,h)},onError:(c,u,d,h)=>{this.handleNetworkError(u,d,!1,c,h)},onTimeout:(c,u,d)=>{this.handleNetworkError(u,d,!0,void 0,c)}};s.load(e,o,l)}handleMasterPlaylist(e,i,n,s){const r=this.hls,a=e.data,o=T5(e,n),l=sa.parseMasterPlaylist(a,o);if(l.playlistParsingError){this.handleManifestParsingError(e,n,l.playlistParsingError,s,i);return}const{contentSteering:c,levels:u,sessionData:d,sessionKeys:h,startTimeOffset:f,variableList:p}=l;this.variableList=p;const{AUDIO:m=[],SUBTITLES:v,"CLOSED-CAPTIONS":g}=sa.parseMasterPlaylistMedia(a,o,l);m.length&&!m.some(A=>!A.url)&&u[0].audioCodec&&!u[0].attrs.AUDIO&&(re.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new mi({}),bitrate:0,url:""})),r.trigger(U.MANIFEST_LOADED,{levels:u,audioTracks:m,subtitles:v,captions:g,contentSteering:c,url:o,stats:i,networkDetails:s,sessionData:d,sessionKeys:h,startTimeOffset:f,variableList:p})}handleTrackOrLevelPlaylist(e,i,n,s,r){const a=this.hls,{id:o,level:l,type:c}=n,u=T5(e,n),d=0,h=Ye(l)?l:Ye(o)?o:0,f=dF(n),p=sa.parseLevelPlaylist(e.data,u,h,f,d,this.variableList);if(c===At.MANIFEST){const m={attrs:new mi({}),bitrate:0,details:p,name:"",url:u};a.trigger(U.MANIFEST_LOADED,{levels:[m],audioTracks:[],url:u,stats:i,networkDetails:s,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}i.parsing.end=performance.now(),n.levelDetails=p,this.handlePlaylistLoaded(p,e,i,n,s,r)}handleManifestParsingError(e,i,n,s,r){this.hls.trigger(U.ERROR,{type:nt.NETWORK_ERROR,details:Ae.MANIFEST_PARSING_ERROR,fatal:i.type===At.MANIFEST,url:e.url,err:n,error:n,reason:n.message,response:e,context:i,networkDetails:s,stats:r})}handleNetworkError(e,i,n=!1,s,r){let a=`A network ${n?"timeout":"error"+(s?" (status "+s.code+")":"")} occurred while loading ${e.type}`;e.type===At.LEVEL?a+=`: ${e.level} id: ${e.id}`:(e.type===At.AUDIO_TRACK||e.type===At.SUBTITLE_TRACK)&&(a+=` id: ${e.id} group-id: "${e.groupId}"`);const o=new Error(a);re.warn(`[playlist-loader]: ${a}`);let l=Ae.UNKNOWN,c=!1;const u=this.getInternalLoader(e);switch(e.type){case At.MANIFEST:l=n?Ae.MANIFEST_LOAD_TIMEOUT:Ae.MANIFEST_LOAD_ERROR,c=!0;break;case At.LEVEL:l=n?Ae.LEVEL_LOAD_TIMEOUT:Ae.LEVEL_LOAD_ERROR,c=!1;break;case At.AUDIO_TRACK:l=n?Ae.AUDIO_TRACK_LOAD_TIMEOUT:Ae.AUDIO_TRACK_LOAD_ERROR,c=!1;break;case At.SUBTITLE_TRACK:l=n?Ae.SUBTITLE_TRACK_LOAD_TIMEOUT:Ae.SUBTITLE_LOAD_ERROR,c=!1;break}u&&this.resetInternalLoader(e.type);const d={type:nt.NETWORK_ERROR,details:l,fatal:c,url:e.url,loader:u,context:e,error:o,networkDetails:i,stats:r};if(s){const h=(i==null?void 0:i.url)||e.url;d.response=cn({url:h,data:void 0},s)}this.hls.trigger(U.ERROR,d)}handlePlaylistLoaded(e,i,n,s,r,a){const o=this.hls,{type:l,level:c,id:u,groupId:d,deliveryDirectives:h}=s,f=T5(i,s),p=dF(s),m=typeof s.level=="number"&&p===qe.MAIN?c:void 0;if(!e.fragments.length){const g=new Error("No Segments found in Playlist");o.trigger(U.ERROR,{type:nt.NETWORK_ERROR,details:Ae.LEVEL_EMPTY_ERROR,fatal:!1,url:f,error:g,reason:g.message,response:i,context:s,level:m,parent:p,networkDetails:r,stats:n});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const v=e.playlistParsingError;if(v){o.trigger(U.ERROR,{type:nt.NETWORK_ERROR,details:Ae.LEVEL_PARSING_ERROR,fatal:!1,url:f,error:v,reason:v.message,response:i,context:s,level:m,parent:p,networkDetails:r,stats:n});return}switch(e.live&&a&&(a.getCacheAge&&(e.ageHeader=a.getCacheAge()||0),(!a.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),l){case At.MANIFEST:case At.LEVEL:o.trigger(U.LEVEL_LOADED,{details:e,level:m||0,id:u||0,stats:n,networkDetails:r,deliveryDirectives:h});break;case At.AUDIO_TRACK:o.trigger(U.AUDIO_TRACK_LOADED,{details:e,id:u||0,groupId:d||"",stats:n,networkDetails:r,deliveryDirectives:h});break;case At.SUBTITLE_TRACK:o.trigger(U.SUBTITLE_TRACK_LOADED,{details:e,id:u||0,groupId:d||"",stats:n,networkDetails:r,deliveryDirectives:h});break}}}function F$(t,e){let i;try{i=new Event("addtrack")}catch{i=document.createEvent("Event"),i.initEvent("addtrack",!1,!1)}i.track=t,e.dispatchEvent(i)}function U$(t,e){const i=t.mode;if(i==="disabled"&&(t.mode="hidden"),t.cues&&!t.cues.getCueById(e.id))try{if(t.addCue(e),!t.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(n){re.debug(`[texttrack-utils]: ${n}`);try{const s=new self.TextTrackCue(e.startTime,e.endTime,e.text);s.id=e.id,t.addCue(s)}catch(s){re.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${s}`)}}i==="disabled"&&(t.mode=i)}function Pu(t){const e=t.mode;if(e==="disabled"&&(t.mode="hidden"),t.cues)for(let i=t.cues.length;i--;)t.removeCue(t.cues[i]);e==="disabled"&&(t.mode=e)}function TT(t,e,i,n){const s=t.mode;if(s==="disabled"&&(t.mode="hidden"),t.cues&&t.cues.length>0){const r=XWe(t.cues,e,i);for(let a=0;a<r.length;a++)(!n||n(r[a]))&&t.removeCue(r[a])}s==="disabled"&&(t.mode=s)}function OWe(t,e){if(e<t[0].startTime)return 0;const i=t.length-1;if(e>t[i].endTime)return-1;let n=0,s=i;for(;n<=s;){const r=Math.floor((s+n)/2);if(e<t[r].startTime)s=r-1;else if(e>t[r].startTime&&n<i)n=r+1;else return r}return t[n].startTime-e<e-t[s].startTime?n:s}function XWe(t,e,i){const n=[],s=OWe(t,e);if(s>-1)for(let r=s,a=t.length;r<a;r++){const o=t[r];if(o.startTime>=e&&o.endTime<=i)n.push(o);else if(o.startTime>i)return n}return n}function ug(t){const e=[];for(let i=0;i<t.length;i++){const n=t[i];(n.kind==="subtitles"||n.kind==="captions")&&n.label&&e.push(t[i])}return e}var vr={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"};const YWe=.25;function CT(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function hF(t,e,i,n,s){let r=new t(e,i,"");try{r.value=n,s&&(r.type=s)}catch{r=new t(e,i,JSON.stringify(s?cn({type:s},n):n))}return r}const p1=(()=>{const t=CT();try{t&&new t(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function C5(t,e){return t.getTime()/1e3-e}function $We(t){return Uint8Array.from(t.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class KWe{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:e}=this;e.on(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(U.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(U.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(U.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(U.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,i){this.media=i.media}onMediaDetaching(){this.id3Track&&(Pu(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const i=this.getID3Track(e.textTracks);return i.mode="hidden",i}getID3Track(e){if(this.media){for(let i=0;i<e.length;i++){const n=e[i];if(n.kind==="metadata"&&n.label==="id3")return F$(n,this.media),n}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,i){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:n,enableID3MetadataCues:s}}}=this;if(!n&&!s)return;const{samples:r}=i;this.id3Track||(this.id3Track=this.createTrack(this.media));const a=CT();if(a)for(let o=0;o<r.length;o++){const l=r[o].type;if(l===vr.emsg&&!n||!s)continue;const c=C$(r[o].data);if(c){const u=r[o].pts;let d=u+r[o].duration;d>p1&&(d=p1),d-u<=0&&(d=u+YWe);for(let f=0;f<c.length;f++){const p=c[f];if(!T$(p)){this.updateId3CueEnds(u,l);const m=hF(a,u,d,p,l);m&&this.id3Track.addCue(m)}}}}}updateId3CueEnds(e,i){var n;const s=(n=this.id3Track)==null?void 0:n.cues;if(s)for(let r=s.length;r--;){const a=s[r];a.type===i&&a.startTime<e&&a.endTime===p1&&(a.endTime=e)}}onBufferFlushing(e,{startOffset:i,endOffset:n,type:s}){const{id3Track:r,hls:a}=this;if(!a)return;const{config:{enableEmsgMetadataCues:o,enableID3MetadataCues:l}}=a;if(r&&(o||l)){let c;s==="audio"?c=u=>u.type===vr.audioId3&&l:s==="video"?c=u=>u.type===vr.emsg&&o:c=u=>u.type===vr.audioId3&&l||u.type===vr.emsg&&o,TT(r,i,n,c)}}onLevelUpdated(e,{details:i}){if(!this.media||!i.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:n,id3Track:s}=this,{dateRanges:r}=i,a=Object.keys(r);if(s){const u=Object.keys(n).filter(d=>!a.includes(d));for(let d=u.length;d--;){const h=u[d];Object.keys(n[h].cues).forEach(f=>{s.removeCue(n[h].cues[f])}),delete n[h]}}const o=i.fragments[i.fragments.length-1];if(a.length===0||!Ye(o==null?void 0:o.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const l=o.programDateTime/1e3-o.start,c=CT();for(let u=0;u<a.length;u++){const d=a[u],h=r[d],f=C5(h.startDate,l),p=n[d],m=(p==null?void 0:p.cues)||{};let v=(p==null?void 0:p.durationKnown)||!1,g=p1;const E=h.endDate;if(E)g=C5(E,l),v=!0;else if(h.endOnNext&&!v){const R=a.reduce((I,L)=>{if(L!==h.id){const F=r[L];if(F.class===h.class&&F.startDate>h.startDate&&(!I||h.startDate<I.startDate))return F}return I},null);R&&(g=C5(R.startDate,l),v=!0)}const A=Object.keys(h.attr);for(let R=0;R<A.length;R++){const I=A[R];if(!jBe(I))continue;const L=m[I];if(L)v&&!p.durationKnown&&(L.endTime=g);else if(c){let F=h.attr[I];HBe(I)&&(F=$We(F));const B=hF(c,f,g,{key:I,data:F},vr.dateRange);B&&(B.id=d,this.id3Track.addCue(B),m[I]=B)}}n[d]={cues:m,dateRange:h,durationKnown:v}}}}class zWe{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:e,levelDetails:i}=this;return e.liveMaxLatencyDuration!==void 0?e.liveMaxLatencyDuration:i?e.liveMaxLatencyDurationCount*i.targetduration:0}get targetLatency(){const{levelDetails:e}=this;if(e===null)return null;const{holdBack:i,partHoldBack:n,targetduration:s}=e,{liveSyncDuration:r,liveSyncDurationCount:a,lowLatencyMode:o}=this.config,l=this.hls.userConfig;let c=o&&n||i;(l.liveSyncDuration||l.liveSyncDurationCount||c===0)&&(c=r!==void 0?r:a*s);const u=s;return c+Math.min(this.stallCount*1,u)}get liveSyncPosition(){const e=this.estimateLiveEdge(),i=this.targetLatency,n=this.levelDetails;if(e===null||i===null||n===null)return null;const s=n.edge,r=e-i-this.edgeStalled,a=s-n.totalduration,o=s-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(a,r),o)}get drift(){const{levelDetails:e}=this;return e===null?1:e.drift}get edgeStalled(){const{levelDetails:e}=this;if(e===null)return 0;const i=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-i,0)}get forwardBufferLength(){const{media:e,levelDetails:i}=this;if(!e||!i)return 0;const n=e.buffered.length;return(n?e.buffered.end(n-1):i.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(U.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(U.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(U.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(U.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(U.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(U.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(U.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(U.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(U.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(U.ERROR,this.onError,this)}onMediaAttached(e,i){this.media=i.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:i}){this.levelDetails=i,i.advanced&&this.timeupdate(),!i.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,i){var n;i.details===Ae.BUFFER_STALLED_ERROR&&(this.stallCount++,(n=this.levelDetails)!=null&&n.live&&re.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:e,levelDetails:i}=this;if(!e||!i)return;this.currentTime=e.currentTime;const n=this.computeLatency();if(n===null)return;this._latency=n;const{lowLatencyMode:s,maxLiveSyncPlaybackRate:r}=this.config;if(!s||r===1||!i.live)return;const a=this.targetLatency;if(a===null)return;const o=n-a,l=Math.min(this.maxLatency,a+i.targetduration);if(o<l&&o>.05&&this.forwardBufferLength>1){const u=Math.min(2,Math.max(1,r)),d=Math.round(2/(1+Math.exp(-.75*o-this.edgeStalled))*20)/20;e.playbackRate=Math.min(u,Math.max(1,d))}else e.playbackRate!==1&&e.playbackRate!==0&&(e.playbackRate=1)}estimateLiveEdge(){const{levelDetails:e}=this;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}const RT=["NONE","TYPE-0","TYPE-1",null];function JWe(t){return RT.indexOf(t)>-1}const ny=["SDR","PQ","HLG"];function jWe(t){return!!t&&ny.indexOf(t)>-1}var dg={No:"",Yes:"YES",v2:"v2"};function fF(t){const{canSkipUntil:e,canSkipDateRanges:i,age:n}=t,s=n<e/2;return e&&s?i?dg.v2:dg.Yes:dg.No}class pF{constructor(e,i,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=i,this.skip=n}addDirectives(e){const i=new self.URL(e);return this.msn!==void 0&&i.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&i.searchParams.set("_HLS_part",this.part.toString()),this.skip&&i.searchParams.set("_HLS_skip",this.skip),i.href}}class rh{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(i=>!!i).map(i=>i.substring(0,4)).join(","),this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return mF(this._audioGroups,e)}hasSubtitleGroup(e){return mF(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,i){if(i){if(e==="audio"){let n=this._audioGroups;n||(n=this._audioGroups=[]),n.indexOf(i)===-1&&n.push(i)}else if(e==="text"){let n=this._subtitleGroups;n||(n=this._subtitleGroups=[]),n.indexOf(i)===-1&&n.push(i)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function mF(t,e){return!e||!t?!1:t.indexOf(e)!==-1}function R5(t,e){const i=e.startPTS;if(Ye(i)){let n=0,s;e.sn>t.sn?(n=i-t.start,s=t):(n=t.start-i,s=e),s.duration!==n&&(s.duration=n)}else e.sn>t.sn?t.cc===e.cc&&t.minEndPTS?e.start=t.start+(t.minEndPTS-t.start):e.start=t.start+t.duration:e.start=Math.max(t.start-e.duration,0)}function B$(t,e,i,n,s,r){n-i<=0&&(re.warn("Fragment should have a positive duration",e),n=i+e.duration,r=s+e.duration);let o=i,l=n;const c=e.startPTS,u=e.endPTS;if(Ye(c)){const v=Math.abs(c-i);Ye(e.deltaPTS)?e.deltaPTS=Math.max(v,e.deltaPTS):e.deltaPTS=v,o=Math.max(i,c),i=Math.min(i,c),s=Math.min(s,e.startDTS),l=Math.min(n,u),n=Math.max(n,u),r=Math.max(r,e.endDTS)}const d=i-e.start;e.start!==0&&(e.start=i),e.duration=n-e.start,e.startPTS=i,e.maxStartPTS=o,e.startDTS=s,e.endPTS=n,e.minEndPTS=l,e.endDTS=r;const h=e.sn;if(!t||h<t.startSN||h>t.endSN)return 0;let f;const p=h-t.startSN,m=t.fragments;for(m[p]=e,f=p;f>0;f--)R5(m[f],m[f-1]);for(f=p;f<m.length-1;f++)R5(m[f],m[f+1]);return t.fragmentHint&&R5(m[m.length-1],t.fragmentHint),t.PTSKnown=t.alignedSliding=!0,d}function HWe(t,e){let i=null;const n=t.fragments;for(let o=n.length-1;o>=0;o--){const l=n[o].initSegment;if(l){i=l;break}}t.fragmentHint&&delete t.fragmentHint.endPTS;let s;eGe(t,e,(o,l,c,u)=>{if(e.skippedSegments&&l.cc!==o.cc){const d=o.cc-l.cc;for(let h=c;h<u.length;h++)u[h].cc+=d}Ye(o.startPTS)&&Ye(o.endPTS)&&(l.start=l.startPTS=o.startPTS,l.startDTS=o.startDTS,l.maxStartPTS=o.maxStartPTS,l.endPTS=o.endPTS,l.endDTS=o.endDTS,l.minEndPTS=o.minEndPTS,l.duration=o.endPTS-o.startPTS,l.duration&&(s=l),e.PTSKnown=e.alignedSliding=!0),l.elementaryStreams=o.elementaryStreams,l.loader=o.loader,l.stats=o.stats,o.initSegment&&(l.initSegment=o.initSegment,i=o.initSegment)});const r=e.fragments;if(i&&(e.fragmentHint?r.concat(e.fragmentHint):r).forEach(l=>{var c;l&&(!l.initSegment||l.initSegment.relurl===((c=i)==null?void 0:c.relurl))&&(l.initSegment=i)}),e.skippedSegments){if(e.deltaUpdateFailed=r.some(o=>!o),e.deltaUpdateFailed){re.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let o=e.skippedSegments;o--;)r.shift();e.startSN=r[0].sn}else e.canSkipDateRanges&&(e.dateRanges=QWe(t.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));e.startCC=e.fragments[0].cc,e.endCC=r[r.length-1].cc}qWe(t.partList,e.partList,(o,l)=>{l.elementaryStreams=o.elementaryStreams,l.stats=o.stats}),s?B$(e,s,s.startPTS,s.endPTS,s.startDTS,s.endDTS):W$(t,e),r.length&&(e.totalduration=e.edge-r[0].start),e.driftStartTime=t.driftStartTime,e.driftStart=t.driftStart;const a=e.advancedDateTime;if(e.advanced&&a){const o=e.edge;e.driftStart||(e.driftStartTime=a,e.driftStart=o),e.driftEndTime=a,e.driftEnd=o}else e.driftEndTime=t.driftEndTime,e.driftEnd=t.driftEnd,e.advancedDateTime=t.advancedDateTime}function QWe(t,e,i){const n=Pi({},t);return i&&i.forEach(s=>{delete n[s]}),Object.keys(e).forEach(s=>{const r=new b$(e[s].attr,n[s]);r.isValid?n[s]=r:re.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[s].attr)}"`)}),n}function qWe(t,e,i){if(t&&e){let n=0;for(let s=0,r=t.length;s<=r;s++){const a=t[s],o=e[s+n];a&&o&&a.index===o.index&&a.fragment.sn===o.fragment.sn?i(a,o):n--}}}function eGe(t,e,i){const n=e.skippedSegments,s=Math.max(t.startSN,e.startSN)-e.startSN,r=(t.fragmentHint?1:0)+(n?e.endSN:Math.min(t.endSN,e.endSN))-e.startSN,a=e.startSN-t.startSN,o=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments;for(let c=s;c<=r;c++){const u=l[a+c];let d=o[c];n&&!d&&c<n&&(d=e.fragments[c]=u),u&&d&&i(u,d,c,o)}}function W$(t,e){const i=e.startSN+e.skippedSegments-t.startSN,n=t.fragments;i<0||i>=n.length||IT(e,n[i].start)}function IT(t,e){if(e){const i=t.fragments;for(let n=t.skippedSegments;n<i.length;n++)i[n].start+=e;t.fragmentHint&&(t.fragmentHint.start+=e)}}function tGe(t,e=1/0){let i=1e3*t.targetduration;if(t.updated){const n=t.fragments;if(n.length&&i*4>e){const r=n[n.length-1].duration*1e3;r<i&&(i=r)}}else i/=2;return Math.round(i)}function iGe(t,e,i){if(!(t!=null&&t.details))return null;const n=t.details;let s=n.fragments[e-n.startSN];return s||(s=n.fragmentHint,s&&s.sn===e)?s:e<n.startSN&&i&&i.sn===e?i:null}function gF(t,e,i){var n;return t!=null&&t.details?G$((n=t.details)==null?void 0:n.partList,e,i):null}function G$(t,e,i){if(t)for(let n=t.length;n--;){const s=t[n];if(s.index===i&&s.fragment.sn===e)return s}return null}function D$(t){t.forEach((e,i)=>{const{details:n}=e;n!=null&&n.fragments&&n.fragments.forEach(s=>{s.level=i})})}function sy(t){switch(t.details){case Ae.FRAG_LOAD_TIMEOUT:case Ae.KEY_LOAD_TIMEOUT:case Ae.LEVEL_LOAD_TIMEOUT:case Ae.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function yF(t,e){const i=sy(e);return t.default[`${i?"timeout":"error"}Retry`]}function L9(t,e){const i=t.backoff==="linear"?1:Math.pow(2,e);return Math.min(i*t.retryDelayMs,t.maxRetryDelayMs)}function bF(t){return cn(cn({},t),{errorRetry:null,timeoutRetry:null})}function ry(t,e,i,n){if(!t)return!1;const s=n==null?void 0:n.code,r=e<t.maxNumRetry&&(nGe(s)||!!i);return t.shouldRetry?t.shouldRetry(t,e,i,n,r):r}function nGe(t){return t===0&&navigator.onLine===!1||!!t&&(t<400||t>499)}const M$={search:function(t,e){let i=0,n=t.length-1,s=null,r=null;for(;i<=n;){s=(i+n)/2|0,r=t[s];const a=e(r);if(a>0)i=s+1;else if(a<0)n=s-1;else return r}return null}};function sGe(t,e,i){if(e===null||!Array.isArray(t)||!t.length||!Ye(e))return null;const n=t[0].programDateTime;if(e<(n||0))return null;const s=t[t.length-1].endProgramDateTime;if(e>=(s||0))return null;i=i||0;for(let r=0;r<t.length;++r){const a=t[r];if(aGe(e,i,a))return a}return null}function ay(t,e,i=0,n=0,s=.005){let r=null;if(t){r=e[t.sn-e[0].sn+1]||null;const o=t.endDTS-i;o>0&&o<15e-7&&(i+=15e-7)}else i===0&&e[0].start===0&&(r=e[0]);if(r&&((!t||t.level===r.level)&&wT(i,n,r)===0||rGe(r,t,Math.min(s,n))))return r;const a=M$.search(e,wT.bind(null,i,n));return a&&(a!==t||!r)?a:r}function rGe(t,e,i){if(e&&e.start===0&&e.level<t.level&&(e.endPTS||0)>0){const n=e.tagList.reduce((s,r)=>(r[0]==="INF"&&(s+=parseFloat(r[1])),s),i);return t.start<=n}return!1}function wT(t=0,e=0,i){if(i.start<=t&&i.start+i.duration>t)return 0;const n=Math.min(e,i.duration+(i.deltaPTS?i.deltaPTS:0));return i.start+i.duration-n<=t?1:i.start-n>t&&i.start?-1:0}function aGe(t,e,i){const n=Math.min(e,i.duration+(i.deltaPTS?i.deltaPTS:0))*1e3;return(i.endProgramDateTime||0)-n>t}function oGe(t,e){return M$.search(t,i=>i.cc<e?1:i.cc>e?-1:0)}var hn={DoNothing:0,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,RetryRequest:5},cr={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2};class lGe{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=re.log.bind(re,"[info]:"),this.warn=re.warn.bind(re,"[warning]:"),this.error=re.error.bind(re,"[error]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(U.ERROR,this.onError,this),e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(U.ERROR,this.onError,this),e.off(U.ERROR,this.onErrorOut,this),e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===qe.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,i){var n,s;if(i.fatal)return;const r=this.hls,a=i.context;switch(i.details){case Ae.FRAG_LOAD_ERROR:case Ae.FRAG_LOAD_TIMEOUT:case Ae.KEY_LOAD_ERROR:case Ae.KEY_LOAD_TIMEOUT:i.errorAction=this.getFragRetryOrSwitchAction(i);return;case Ae.FRAG_PARSING_ERROR:if((n=i.frag)!=null&&n.gap){i.errorAction={action:hn.DoNothing,flags:cr.None};return}case Ae.FRAG_GAP:case Ae.FRAG_DECRYPT_ERROR:{i.errorAction=this.getFragRetryOrSwitchAction(i),i.errorAction.action=hn.SendAlternateToPenaltyBox;return}case Ae.LEVEL_EMPTY_ERROR:case Ae.LEVEL_PARSING_ERROR:{var o,l;const c=i.parent===qe.MAIN?i.level:r.loadLevel;i.details===Ae.LEVEL_EMPTY_ERROR&&((o=i.context)!=null&&(l=o.levelDetails)!=null&&l.live)?i.errorAction=this.getPlaylistRetryOrSwitchAction(i,c):(i.levelRetry=!1,i.errorAction=this.getLevelSwitchAction(i,c))}return;case Ae.LEVEL_LOAD_ERROR:case Ae.LEVEL_LOAD_TIMEOUT:typeof(a==null?void 0:a.level)=="number"&&(i.errorAction=this.getPlaylistRetryOrSwitchAction(i,a.level));return;case Ae.AUDIO_TRACK_LOAD_ERROR:case Ae.AUDIO_TRACK_LOAD_TIMEOUT:case Ae.SUBTITLE_LOAD_ERROR:case Ae.SUBTITLE_TRACK_LOAD_TIMEOUT:if(a){const c=r.levels[r.loadLevel];if(c&&(a.type===At.AUDIO_TRACK&&c.hasAudioGroup(a.groupId)||a.type===At.SUBTITLE_TRACK&&c.hasSubtitleGroup(a.groupId))){i.errorAction=this.getPlaylistRetryOrSwitchAction(i,r.loadLevel),i.errorAction.action=hn.SendAlternateToPenaltyBox,i.errorAction.flags=cr.MoveAllAlternatesMatchingHost;return}}return;case Ae.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const c=r.levels[r.loadLevel],u=c==null?void 0:c.attrs["HDCP-LEVEL"];u?i.errorAction={action:hn.SendAlternateToPenaltyBox,flags:cr.MoveAllAlternatesMatchingHDCP,hdcpLevel:u}:this.keySystemError(i)}return;case Ae.BUFFER_ADD_CODEC_ERROR:case Ae.REMUX_ALLOC_ERROR:case Ae.BUFFER_APPEND_ERROR:i.errorAction=this.getLevelSwitchAction(i,(s=i.level)!=null?s:r.loadLevel);return;case Ae.INTERNAL_EXCEPTION:case Ae.BUFFER_APPENDING_ERROR:case Ae.BUFFER_FULL_ERROR:case Ae.LEVEL_SWITCH_ERROR:case Ae.BUFFER_STALLED_ERROR:case Ae.BUFFER_SEEK_OVER_HOLE:case Ae.BUFFER_NUDGE_ON_STALL:i.errorAction={action:hn.DoNothing,flags:cr.None};return}i.type===nt.KEY_SYSTEM_ERROR&&this.keySystemError(i)}keySystemError(e){const i=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,i)}getPlaylistRetryOrSwitchAction(e,i){const n=this.hls,s=yF(n.config.playlistLoadPolicy,e),r=this.playlistError++;if(ry(s,r,sy(e),e.response))return{action:hn.RetryRequest,flags:cr.None,retryConfig:s,retryCount:r};const o=this.getLevelSwitchAction(e,i);return s&&(o.retryConfig=s,o.retryCount=r),o}getFragRetryOrSwitchAction(e){const i=this.hls,n=this.getVariantLevelIndex(e.frag),s=i.levels[n],{fragLoadPolicy:r,keyLoadPolicy:a}=i.config,o=yF(e.details.startsWith("key")?a:r,e),l=i.levels.reduce((u,d)=>u+d.fragmentError,0);if(s&&(e.details!==Ae.FRAG_GAP&&s.fragmentError++,ry(o,l,sy(e),e.response)))return{action:hn.RetryRequest,flags:cr.None,retryConfig:o,retryCount:l};const c=this.getLevelSwitchAction(e,n);return o&&(c.retryConfig=o,c.retryCount=l),c}getLevelSwitchAction(e,i){const n=this.hls;i==null&&(i=n.loadLevel);const s=this.hls.levels[i];if(s){var r,a;const c=e.details;s.loadError++,c===Ae.BUFFER_APPEND_ERROR&&s.fragmentError++;let u=-1;const{levels:d,loadLevel:h,minAutoLevel:f,maxAutoLevel:p}=n;n.autoLevelEnabled||(n.loadLevel=-1);const m=(r=e.frag)==null?void 0:r.type,g=(m===qe.AUDIO&&c===Ae.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(c===Ae.BUFFER_ADD_CODEC_ERROR||c===Ae.BUFFER_APPEND_ERROR))&&d.some(({audioCodec:L})=>s.audioCodec!==L),A=e.sourceBufferName==="video"&&(c===Ae.BUFFER_ADD_CODEC_ERROR||c===Ae.BUFFER_APPEND_ERROR)&&d.some(({codecSet:L,audioCodec:F})=>s.codecSet!==L&&s.audioCodec===F),{type:R,groupId:I}=(a=e.context)!=null?a:{};for(let L=d.length;L--;){const F=(L+h)%d.length;if(F!==h&&F>=f&&F<=p&&d[F].loadError===0){var o,l;const B=d[F];if(c===Ae.FRAG_GAP&&m===qe.MAIN&&e.frag){const G=d[F].details;if(G){const Z=ay(e.frag,G.fragments,e.frag.start);if(Z!=null&&Z.gap)continue}}else{if(R===At.AUDIO_TRACK&&B.hasAudioGroup(I)||R===At.SUBTITLE_TRACK&&B.hasSubtitleGroup(I))continue;if(m===qe.AUDIO&&(o=s.audioGroups)!=null&&o.some(G=>B.hasAudioGroup(G))||m===qe.SUBTITLE&&(l=s.subtitleGroups)!=null&&l.some(G=>B.hasSubtitleGroup(G))||g&&s.audioCodec===B.audioCodec||!g&&s.audioCodec!==B.audioCodec||A&&s.codecSet===B.codecSet)continue}u=F;break}}if(u>-1&&n.loadLevel!==u)return e.levelRetry=!0,this.playlistError=0,{action:hn.SendAlternateToPenaltyBox,flags:cr.None,nextAutoLevel:u}}return{action:hn.SendAlternateToPenaltyBox,flags:cr.MoveAllAlternatesMatchingHost}}onErrorOut(e,i){var n;switch((n=i.errorAction)==null?void 0:n.action){case hn.DoNothing:break;case hn.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(i),!i.errorAction.resolved&&i.details!==Ae.FRAG_GAP?i.fatal=!0:/MediaSource readyState: ended/.test(i.error.message)&&(this.warn(`MediaSource ended after "${i.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break}if(i.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const i=this.hls,n=e.errorAction;if(!n)return;const{flags:s,hdcpLevel:r,nextAutoLevel:a}=n;switch(s){case cr.None:this.switchLevel(e,a);break;case cr.MoveAllAlternatesMatchingHDCP:r&&(i.maxHdcpLevel=RT[RT.indexOf(r)-1],n.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${i.maxHdcpLevel}" or lower`);break}n.resolved||this.switchLevel(e,a)}switchLevel(e,i){i!==void 0&&e.errorAction&&(this.warn(`switching to level ${i} after ${e.details}`),this.hls.nextAutoLevel=i,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}}class k9{constructor(e,i){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=re.log.bind(re,`${i}:`),this.warn=re.warn.bind(re,`${i}:`),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,i,n){const s=i==null?void 0:i.renditionReports;if(s){let r=-1;for(let a=0;a<s.length;a++){const o=s[a];let l;try{l=new self.URL(o.URI,i.url).href}catch(c){re.warn(`Could not construct new URL for Rendition Report: ${c}`),l=o.URI||""}if(l===e){r=a;break}else l===e.substring(0,l.length)&&(r=a)}if(r!==-1){const a=s[r],o=parseInt(a["LAST-MSN"])||(i==null?void 0:i.lastPartSn);let l=parseInt(a["LAST-PART"])||(i==null?void 0:i.lastPartIndex);if(this.hls.config.lowLatencyMode){const u=Math.min(i.age-i.partTarget,i.targetduration);l>=0&&u>i.partTarget&&(l+=1)}const c=n&&fF(n);return new pF(o,l>=0?l:void 0,c)}}}loadPlaylist(e){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(e)}playlistLoaded(e,i,n){const{details:s,stats:r}=i,a=self.performance.now(),o=r.loading.first?Math.max(0,a-r.loading.first):0;if(s.advancedDateTime=Date.now()-o,s.live||n!=null&&n.live){if(s.reloaded(n),n&&this.log(`live playlist ${e} ${s.advanced?"REFRESHED "+s.lastPartSn+"-"+s.lastPartIndex:s.updated?"UPDATED":"MISSED"}`),n&&s.fragments.length>0&&HWe(n,s),!this.canLoad||!s.live)return;let l,c,u;if(s.canBlockReload&&s.endSN&&s.advanced){const v=this.hls.config.lowLatencyMode,g=s.lastPartSn,E=s.endSN,A=s.lastPartIndex,R=A!==-1,I=g===E,L=v?0:A;R?(c=I?E+1:g,u=I?L:A+1):c=E+1;const F=s.age,B=F+s.ageHeader;let G=Math.min(B-s.partTarget,s.targetduration*1.5);if(G>0){if(n&&G>n.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${n.tuneInGoal} to: ${G} with playlist age: ${s.age}`),G=0;else{const Z=Math.floor(G/s.targetduration);if(c+=Z,u!==void 0){const j=Math.round(G%s.targetduration/s.partTarget);u+=j}this.log(`CDN Tune-in age: ${s.ageHeader}s last advanced ${F.toFixed(2)}s goal: ${G} skip sn ${Z} to part ${u}`)}s.tuneInGoal=G}if(l=this.getDeliveryDirectives(s,i.deliveryDirectives,c,u),v||!I){this.loadPlaylist(l);return}}else(s.canBlockReload||s.canSkipUntil)&&(l=this.getDeliveryDirectives(s,i.deliveryDirectives,c,u));const d=this.hls.mainForwardBufferInfo,h=d?d.end-d.len:0,f=(s.edge-h)*1e3,p=tGe(s,f);s.updated&&a>this.requestScheduled+p&&(this.requestScheduled=r.loading.start),c!==void 0&&s.canBlockReload?this.requestScheduled=r.loading.first+p-(s.partTarget*1e3||1e3):this.requestScheduled===-1||this.requestScheduled+p<a?this.requestScheduled=a:this.requestScheduled-a<=0&&(this.requestScheduled+=p);let m=this.requestScheduled-a;m=Math.max(0,m),this.log(`reload live playlist ${e} in ${Math.round(m)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(l),m)}else this.clearTimer()}getDeliveryDirectives(e,i,n,s){let r=fF(e);return i!=null&&i.skip&&e.deltaUpdateFailed&&(n=i.msn,s=i.part,r=dg.No),new pF(n,s,r)}checkRetry(e){const i=e.details,n=sy(e),s=e.errorAction,{action:r,retryCount:a=0,retryConfig:o}=s||{},l=!!s&&!!o&&(r===hn.RetryRequest||!s.resolved&&r===hn.SendAlternateToPenaltyBox);if(l){var c;if(this.requestScheduled=-1,a>=o.maxNumRetry)return!1;if(n&&(c=e.context)!=null&&c.deliveryDirectives)this.warn(`Retrying playlist loading ${a+1}/${o.maxNumRetry} after "${i}" without delivery-directives`),this.loadPlaylist();else{const u=L9(o,a);this.timer=self.setTimeout(()=>this.loadPlaylist(),u),this.warn(`Retrying playlist loading ${a+1}/${o.maxNumRetry} after "${i}" in ${u}ms`)}e.levelRetry=!0,s.resolved=!0}return l}}class pu{constructor(e,i=0,n=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=i,this.totalWeight_=n}sample(e,i){const n=Math.pow(this.alpha_,e);this.estimate_=i*(1-n)+n*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class cGe{constructor(e,i,n,s=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new pu(e),this.fast_=new pu(i),this.defaultTTFB_=s,this.ttfb_=new pu(e)}update(e,i){const{slow_:n,fast_:s,ttfb_:r}=this;n.halfLife!==e&&(this.slow_=new pu(e,n.getEstimate(),n.getTotalWeight())),s.halfLife!==i&&(this.fast_=new pu(i,s.getEstimate(),s.getTotalWeight())),r.halfLife!==e&&(this.ttfb_=new pu(e,r.getEstimate(),r.getTotalWeight()))}sample(e,i){e=Math.max(e,this.minDelayMs_);const n=8*i,s=e/1e3,r=n/s;this.fast_.sample(s,r),this.slow_.sample(s,r)}sampleTTFB(e){const i=e/1e3,n=Math.sqrt(2)*Math.exp(-Math.pow(i,2)/2);this.ttfb_.sample(n,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}const Z$={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},vF={};function uGe(t,e,i,n,s,r){const a=t.audioCodec?t.audioGroups:null,o=r==null?void 0:r.audioCodec,l=r==null?void 0:r.channels,c=l?parseInt(l):o?1/0:2;let u=null;if(a!=null&&a.length)try{a.length===1&&a[0]?u=e.groups[a[0]].channels:u=a.reduce((d,h)=>{if(h){const f=e.groups[h];if(!f)throw new Error(`Audio track group ${h} not found`);Object.keys(f.channels).forEach(p=>{d[p]=(d[p]||0)+f.channels[p]})}return d},{2:0})}catch{return!0}return t.videoCodec!==void 0&&(t.width>1920&&t.height>1088||t.height>1920&&t.width>1088||t.frameRate>Math.max(n,30)||t.videoRange!=="SDR"&&t.videoRange!==i||t.bitrate>Math.max(s,8e6))||!!u&&Ye(c)&&Object.keys(u).some(d=>parseInt(d)>c)}function dGe(t,e,i){const n=t.videoCodec,s=t.audioCodec;if(!n||!s||!i)return Promise.resolve(Z$);const r={width:t.width,height:t.height,bitrate:Math.ceil(Math.max(t.bitrate*.9,t.averageBitrate)),framerate:t.frameRate||30},a=t.videoRange;a!=="SDR"&&(r.transferFunction=a.toLowerCase());const o=n.split(",").map(l=>({type:"media-source",video:cn(cn({},r),{},{contentType:t0(l,"video")})}));return s&&t.audioGroups&&t.audioGroups.forEach(l=>{var c;l&&((c=e.groups[l])==null||c.tracks.forEach(u=>{if(u.groupId===l){const d=u.channels||"",h=parseFloat(d);Ye(h)&&h>2&&o.push.apply(o,s.split(",").map(f=>({type:"media-source",audio:{contentType:t0(f,"audio"),channels:""+h}})))}}))}),Promise.all(o.map(l=>{const c=hGe(l);return vF[c]||(vF[c]=i.decodingInfo(l))})).then(l=>({supported:!l.some(c=>!c.supported),configurations:o,decodingInfoResults:l})).catch(l=>({supported:!1,configurations:o,decodingInfoResults:[],error:l}))}function hGe(t){const{audio:e,video:i}=t,n=i||e;if(n){const s=n.contentType.split('"')[1];if(i)return`r${i.height}x${i.width}f${Math.ceil(i.framerate)}${i.transferFunction||"sd"}_${s}_${Math.ceil(i.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${s}`}return""}function fGe(){if(typeof matchMedia=="function"){const t=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(t.media!==e.media)return t.matches===!0}return!1}function pGe(t,e){let i=!1,n=[];return t&&(i=t!=="SDR",n=[t]),e&&(n=e.allowedVideoRanges||ny.slice(0),i=e.preferHDR!==void 0?e.preferHDR:fGe(),i?n=n.filter(s=>s!=="SDR"):n=["SDR"]),{preferHDR:i,allowedVideoRanges:n}}function mGe(t,e,i,n,s){const r=Object.keys(t),a=n==null?void 0:n.channels,o=n==null?void 0:n.audioCodec,l=a&&parseInt(a)===2;let c=!0,u=!1,d=1/0,h=1/0,f=1/0,p=0,m=[];const{preferHDR:v,allowedVideoRanges:g}=pGe(e,s);for(let I=r.length;I--;){const L=t[r[I]];c=L.channels[2]>0,d=Math.min(d,L.minHeight),h=Math.min(h,L.minFramerate),f=Math.min(f,L.minBitrate);const F=g.filter(B=>L.videoRanges[B]>0);F.length>0&&(u=!0,m=F)}d=Ye(d)?d:0,h=Ye(h)?h:0;const E=Math.max(1080,d),A=Math.max(30,h);return f=Ye(f)?f:i,i=Math.max(f,i),u||(e=void 0,m=[]),{codecSet:r.reduce((I,L)=>{const F=t[L];if(L===I)return I;if(F.minBitrate>i)return Ra(L,`min bitrate of ${F.minBitrate} > current estimate of ${i}`),I;if(!F.hasDefaultAudio)return Ra(L,"no renditions with default or auto-select sound found"),I;if(o&&L.indexOf(o.substring(0,4))%5!==0)return Ra(L,`audio codec preference "${o}" not found`),I;if(a&&!l){if(!F.channels[a])return Ra(L,`no renditions with ${a} channel sound found (channels options: ${Object.keys(F.channels)})`),I}else if((!o||l)&&c&&F.channels[2]===0)return Ra(L,"no renditions with stereo sound found"),I;return F.minHeight>E?(Ra(L,`min resolution of ${F.minHeight} > maximum of ${E}`),I):F.minFramerate>A?(Ra(L,`min framerate of ${F.minFramerate} > maximum of ${A}`),I):m.some(B=>F.videoRanges[B]>0)?F.maxScore<p?(Ra(L,`max score of ${F.maxScore} < selected max of ${p}`),I):I&&(ty(L)>=ty(I)||F.fragmentError>t[I].fragmentError)?I:(p=F.maxScore,L):(Ra(L,`no variants with VIDEO-RANGE of ${JSON.stringify(m)} found`),I)},void 0),videoRanges:m,preferHDR:v,minFramerate:h,minBitrate:f}}function Ra(t,e){re.log(`[abr] start candidates with "${t}" ignored because ${e}`)}function gGe(t){return t.reduce((e,i)=>{let n=e.groups[i.groupId];n||(n=e.groups[i.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),n.tracks.push(i);const s=i.channels||"2";return n.channels[s]=(n.channels[s]||0)+1,n.hasDefault=n.hasDefault||i.default,n.hasAutoSelect=n.hasAutoSelect||i.autoselect,n.hasDefault&&(e.hasDefaultAudio=!0),n.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function yGe(t,e,i,n){return t.slice(i,n+1).reduce((s,r)=>{if(!r.codecSet)return s;const a=r.audioGroups;let o=s[r.codecSet];o||(s[r.codecSet]=o={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!a,fragmentError:0}),o.minBitrate=Math.min(o.minBitrate,r.bitrate);const l=Math.min(r.height,r.width);return o.minHeight=Math.min(o.minHeight,l),o.minFramerate=Math.min(o.minFramerate,r.frameRate),o.maxScore=Math.max(o.maxScore,r.score),o.fragmentError+=r.fragmentError,o.videoRanges[r.videoRange]=(o.videoRanges[r.videoRange]||0)+1,a&&a.forEach(c=>{if(!c)return;const u=e.groups[c];u&&(o.hasDefaultAudio=o.hasDefaultAudio||e.hasDefaultAudio?u.hasDefault:u.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(u.channels).forEach(d=>{o.channels[d]=(o.channels[d]||0)+u.channels[d]}))}),s},{})}function ra(t,e,i){if("attrs"in t){const n=e.indexOf(t);if(n!==-1)return n}for(let n=0;n<e.length;n++){const s=e[n];if(yc(t,s,i))return n}return-1}function yc(t,e,i){const{groupId:n,name:s,lang:r,assocLang:a,default:o}=t,l=t.forced;return(n===void 0||e.groupId===n)&&(s===void 0||e.name===s)&&(r===void 0||e.lang===r)&&(r===void 0||e.assocLang===a)&&(o===void 0||e.default===o)&&(l===void 0||e.forced===l)&&(!("characteristics"in t)||bGe(t.characteristics||"",e.characteristics))&&(i===void 0||i(t,e))}function bGe(t,e=""){const i=t.split(","),n=e.split(",");return i.length===n.length&&!i.some(s=>n.indexOf(s)===-1)}function Zl(t,e){const{audioCodec:i,channels:n}=t;return(i===void 0||(e.audioCodec||"").substring(0,4)===i.substring(0,4))&&(n===void 0||n===(e.channels||"2"))}function vGe(t,e,i,n,s){const r=e[n],o=e.reduce((h,f,p)=>{const m=f.uri;return(h[m]||(h[m]=[])).push(p),h},{})[r.uri];o.length>1&&(n=Math.max.apply(Math,o));const l=r.videoRange,c=r.frameRate,u=r.codecSet.substring(0,4),d=EF(e,n,h=>{if(h.videoRange!==l||h.frameRate!==c||h.codecSet.substring(0,4)!==u)return!1;const f=h.audioGroups,p=i.filter(m=>!f||f.indexOf(m.groupId)!==-1);return ra(t,p,s)>-1});return d>-1?d:EF(e,n,h=>{const f=h.audioGroups,p=i.filter(m=>!f||f.indexOf(m.groupId)!==-1);return ra(t,p,s)>-1})}function EF(t,e,i){for(let n=e;n>-1;n--)if(i(t[n]))return n;for(let n=e+1;n<t.length;n++)if(i(t[n]))return n;return-1}class EGe{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{const{fragCurrent:i,partCurrent:n,hls:s}=this,{autoLevelEnabled:r,media:a}=s;if(!i||!a)return;const o=performance.now(),l=n?n.stats:i.stats,c=n?n.duration:i.duration,u=o-l.loading.start,d=s.minAutoLevel;if(l.aborted||l.loaded&&l.loaded===l.total||i.level<=d){this.clearTimer(),this._nextAutoLevel=-1;return}if(!r||a.paused||!a.playbackRate||!a.readyState)return;const h=s.mainForwardBufferInfo;if(h===null)return;const f=this.bwEstimator.getEstimateTTFB(),p=Math.abs(a.playbackRate);if(u<=Math.max(f,1e3*(c/(p*2))))return;const m=h.len/p,v=l.loading.first?l.loading.first-l.loading.start:-1,g=l.loaded&&v>-1,E=this.getBwEstimate(),A=s.levels,R=A[i.level],I=l.total||Math.max(l.loaded,Math.round(c*R.averageBitrate/8));let L=g?u-v:u;L<1&&g&&(L=Math.min(u,l.loaded*8/E));const F=g?l.loaded*1e3/L:0,B=F?(I-l.loaded)/F:I*8/E+f/1e3;if(B<=m)return;const G=F?F*8:E;let Z=Number.POSITIVE_INFINITY,j;for(j=i.level-1;j>d;j--){const J=A[j].maxBitrate;if(Z=this.getTimeToLoadFrag(f/1e3,G,c*J,!A[j].details),Z<m)break}if(Z>=B||Z>c*10)return;s.nextLoadLevel=s.nextAutoLevel=j,g?this.bwEstimator.sample(u-Math.min(f,v),l.loaded):this.bwEstimator.sampleTTFB(u);const pe=A[j].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>pe&&this.resetEstimator(pe),this.clearTimer(),re.warn(`[abr] Fragment ${i.sn}${n?" part "+n.index:""} of level ${i.level} is loading too slowly;
      Time to underbuffer: ${m.toFixed(3)} s
      Estimated load time for current fragment: ${B.toFixed(3)} s
      Estimated load time for down switch fragment: ${Z.toFixed(3)} s
      TTFB estimate: ${v|0} ms
      Current BW estimate: ${Ye(E)?E|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${j} @ ${pe|0} bps`),s.trigger(U.FRAG_LOAD_EMERGENCY_ABORTED,{frag:i,part:n,stats:l})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(re.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new cGe(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.FRAG_LOADING,this.onFragLoading,this),e.on(U.FRAG_LOADED,this.onFragLoaded,this),e.on(U.FRAG_BUFFERED,this.onFragBuffered,this),e.on(U.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(U.LEVEL_LOADED,this.onLevelLoaded,this),e.on(U.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(U.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(U.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.FRAG_LOADING,this.onFragLoading,this),e.off(U.FRAG_LOADED,this.onFragLoaded,this),e.off(U.FRAG_BUFFERED,this.onFragBuffered,this),e.off(U.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(U.LEVEL_LOADED,this.onLevelLoaded,this),e.off(U.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(U.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(U.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,i){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,i){const n=i.frag;if(!this.ignoreFragment(n)){if(!n.bitrateTest){var s;this.fragCurrent=n,this.partCurrent=(s=i.part)!=null?s:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,i){this.clearTimer()}onError(e,i){if(!i.fatal)switch(i.details){case Ae.BUFFER_ADD_CODEC_ERROR:case Ae.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case Ae.FRAG_LOAD_TIMEOUT:{const n=i.frag,{fragCurrent:s,partCurrent:r}=this;if(n&&s&&n.sn===s.sn&&n.level===s.level){const a=performance.now(),o=r?r.stats:n.stats,l=a-o.loading.start,c=o.loading.first?o.loading.first-o.loading.start:-1;if(o.loaded&&c>-1){const d=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(l-Math.min(d,c),o.loaded)}else this.bwEstimator.sampleTTFB(l)}break}}}getTimeToLoadFrag(e,i,n,s){const r=e+n/i,a=s?this.lastLevelLoadSec:0;return r+a}onLevelLoaded(e,i){const n=this.hls.config,{loading:s}=i.stats,r=s.end-s.start;Ye(r)&&(this.lastLevelLoadSec=r/1e3),i.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)}onFragLoaded(e,{frag:i,part:n}){const s=n?n.stats:i.stats;if(i.type===qe.MAIN&&this.bwEstimator.sampleTTFB(s.loading.first-s.loading.start),!this.ignoreFragment(i)){if(this.clearTimer(),i.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const r=n?n.duration:i.duration,a=this.hls.levels[i.level],o=(a.loaded?a.loaded.bytes:0)+s.loaded,l=(a.loaded?a.loaded.duration:0)+r;a.loaded={bytes:o,duration:l},a.realBitrate=Math.round(8*o/l)}if(i.bitrateTest){const r={stats:s,frag:i,part:n,id:i.type};this.onFragBuffered(U.FRAG_BUFFERED,r),i.bitrateTest=!1}else this.lastLoadedFragLevel=i.level}}onFragBuffered(e,i){const{frag:n,part:s}=i,r=s!=null&&s.stats.loaded?s.stats:n.stats;if(r.aborted||this.ignoreFragment(n))return;const a=r.parsing.end-r.loading.start-Math.min(r.loading.first-r.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(a,r.loaded),r.bwEstimate=this.getBwEstimate(),n.bitrateTest?this.bitrateTestDelay=a/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==qe.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:i}=this.hls,n=this.getBwEstimate(),s=this.hls.config.maxStarvationDelay,r=this.findBestLevel(n,i,e,0,s,1,1);if(r>-1)return r;const a=this.hls.firstLevel,o=Math.min(Math.max(a,i),e);return re.warn(`[abr] Could not find best starting auto level. Defaulting to first in playlist ${a} clamped to ${o}`),o}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,n=this.bwEstimator.canEstimate(),s=this.lastLoadedFragLevel>-1;if(e!==-1&&(!n||!s||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const r=n&&s?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const a=this.hls.levels;if(a.length>Math.max(e,r)&&a[e].loadError<=a[r].loadError)return e}return this._nextAutoLevel=r,this.nextAutoLevelKey=this.getAutoLevelKey(),r}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:i,hls:n}=this,{maxAutoLevel:s,config:r,minAutoLevel:a}=n,o=i?i.duration:e?e.duration:0,l=this.getBwEstimate(),c=this.getStarvationDelay();let u=r.abrBandWidthFactor,d=r.abrBandWidthUpFactor;if(c){const v=this.findBestLevel(l,a,s,c,0,u,d);if(v>=0)return v}let h=o?Math.min(o,r.maxStarvationDelay):r.maxStarvationDelay;if(!c){const v=this.bitrateTestDelay;v&&(h=(o?Math.min(o,r.maxLoadingDelay):r.maxLoadingDelay)-v,re.info(`[abr] bitrate test took ${Math.round(1e3*v)}ms, set first fragment max fetchDuration to ${Math.round(1e3*h)} ms`),u=d=1)}const f=this.findBestLevel(l,a,s,c,h,u,d);if(re.info(`[abr] ${c?"rebuffering expected":"buffer is empty"}, optimal quality level ${f}`),f>-1)return f;const p=n.levels[a],m=n.levels[n.loadLevel];return(p==null?void 0:p.bitrate)<(m==null?void 0:m.bitrate)?a:n.loadLevel}getStarvationDelay(){const e=this.hls,i=e.media;if(!i)return 1/0;const n=i&&i.playbackRate!==0?Math.abs(i.playbackRate):1,s=e.mainForwardBufferInfo;return(s?s.len:0)/n}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,i,n,s,r,a,o){var l;const c=s+r,u=this.lastLoadedFragLevel,d=u===-1?this.hls.firstLevel:u,{fragCurrent:h,partCurrent:f}=this,{levels:p,allAudioTracks:m,loadLevel:v,config:g}=this.hls;if(p.length===1)return 0;const E=p[d],A=!!(E!=null&&(l=E.details)!=null&&l.live),R=v===-1||u===-1;let I,L="SDR",F=(E==null?void 0:E.frameRate)||0;const{audioPreference:B,videoPreference:G}=g,Z=this.audioTracksByGroup||(this.audioTracksByGroup=gGe(m));if(R){if(this.firstSelection!==-1)return this.firstSelection;const de=this.codecTiers||(this.codecTiers=yGe(p,Z,i,n)),ye=mGe(de,L,e,B,G),{codecSet:Le,videoRanges:ge,minFramerate:H,minBitrate:ee,preferHDR:we}=ye;I=Le,L=we?ge[ge.length-1]:ge[0],F=H,e=Math.max(e,ee),re.log(`[abr] picked start tier ${JSON.stringify(ye)}`)}else I=E==null?void 0:E.codecSet,L=E==null?void 0:E.videoRange;const j=f?f.duration:h?h.duration:0,pe=this.bwEstimator.getEstimateTTFB()/1e3,J=[];for(let de=n;de>=i;de--){var me;const ye=p[de],Le=de>d;if(!ye)continue;if(g.useMediaCapabilities&&!ye.supportedResult&&!ye.supportedPromise){const se=navigator.mediaCapabilities;typeof(se==null?void 0:se.decodingInfo)=="function"&&uGe(ye,Z,L,F,e,B)?(ye.supportedPromise=dGe(ye,Z,se),ye.supportedPromise.then(ne=>{if(!this.hls)return;ye.supportedResult=ne;const Ie=this.hls.levels,ke=Ie.indexOf(ye);ne.error?re.warn(`[abr] MediaCapabilities decodingInfo error: "${ne.error}" for level ${ke} ${JSON.stringify(ne)}`):ne.supported||(re.warn(`[abr] Unsupported MediaCapabilities decodingInfo result for level ${ke} ${JSON.stringify(ne)}`),ke>-1&&Ie.length>1&&(re.log(`[abr] Removing unsupported level ${ke}`),this.hls.removeLevel(ke)))})):ye.supportedResult=Z$}if(I&&ye.codecSet!==I||L&&ye.videoRange!==L||Le&&F>ye.frameRate||!Le&&F>0&&F<ye.frameRate||ye.supportedResult&&!((me=ye.supportedResult.decodingInfoResults)!=null&&me[0].smooth)){J.push(de);continue}const ge=ye.details,H=(f?ge==null?void 0:ge.partTarget:ge==null?void 0:ge.averagetargetduration)||j;let ee;Le?ee=o*e:ee=a*e;const we=j&&s>=j*2&&r===0?p[de].averageBitrate:p[de].maxBitrate,M=this.getTimeToLoadFrag(pe,ee,we*H,ge===void 0);if(ee>=we&&(de===u||ye.loadError===0&&ye.fragmentError===0)&&(M<=pe||!Ye(M)||A&&!this.bitrateTestDelay||M<c)){const se=this.forcedAutoLevel;return de!==v&&(se===-1||se!==v)&&(J.length&&re.trace(`[abr] Skipped level(s) ${J.join(",")} of ${n} max with CODECS and VIDEO-RANGE:"${p[J[0]].codecs}" ${p[J[0]].videoRange}; not compatible with "${E.codecs}" ${L}`),re.info(`[abr] switch candidate:${d}->${de} adjustedbw(${Math.round(ee)})-bitrate=${Math.round(ee-we)} ttfb:${pe.toFixed(1)} avgDuration:${H.toFixed(1)} maxFetchDuration:${c.toFixed(1)} fetchDuration:${M.toFixed(1)} firstSelection:${R} codecSet:${I} videoRange:${L} hls.loadLevel:${v}`)),R&&(this.firstSelection=de),de}}return-1}set nextAutoLevel(e){const{maxAutoLevel:i,minAutoLevel:n}=this.hls,s=Math.min(Math.max(e,n),i);this._nextAutoLevel!==s&&(this.nextAutoLevelKey="",this._nextAutoLevel=s)}}class AGe{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}var en={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class SGe{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(U.BUFFER_APPENDED,this.onBufferAppended,this),e.on(U.FRAG_BUFFERED,this.onFragBuffered,this),e.on(U.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(U.BUFFER_APPENDED,this.onBufferAppended,this),e.off(U.FRAG_BUFFERED,this.onFragBuffered,this),e.off(U.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,i){const n=this.activePartLists[i];if(n)for(let s=n.length;s--;){const r=n[s];if(!r)break;const a=r.end;if(r.start<=e&&a!==null&&e<=a)return r}return this.getBufferedFrag(e,i)}getBufferedFrag(e,i){const{fragments:n}=this,s=Object.keys(n);for(let r=s.length;r--;){const a=n[s[r]];if((a==null?void 0:a.body.type)===i&&a.buffered){const o=a.body;if(o.start<=e&&e<=o.end)return o}}return null}detectEvictedFragments(e,i,n,s){this.timeRanges&&(this.timeRanges[e]=i);const r=(s==null?void 0:s.fragment.sn)||-1;Object.keys(this.fragments).forEach(a=>{const o=this.fragments[a];if(!o||r>=o.body.sn)return;if(!o.buffered&&!o.loaded){o.body.type===n&&this.removeFragment(o.body);return}const l=o.range[e];l&&l.time.some(c=>{const u=!this.isTimeBuffered(c.startPTS,c.endPTS,i);return u&&this.removeFragment(o.body),u})})}detectPartialFragments(e){const i=this.timeRanges,{frag:n,part:s}=e;if(!i||n.sn==="initSegment")return;const r=mu(n),a=this.fragments[r];if(!a||a.buffered&&n.gap)return;const o=!n.relurl;Object.keys(i).forEach(l=>{const c=n.elementaryStreams[l];if(!c)return;const u=i[l],d=o||c.partial===!0;a.range[l]=this.getBufferedTimes(n,s,d,u)}),a.loaded=null,Object.keys(a.range).length?(a.buffered=!0,(a.body.endList=n.endList||a.body.endList)&&(this.endListFragments[a.body.type]=a),m1(a)||this.removeParts(n.sn-1,n.type)):this.removeFragment(a.body)}removeParts(e,i){const n=this.activePartLists[i];n&&(this.activePartLists[i]=n.filter(s=>s.fragment.sn>=e))}fragBuffered(e,i){const n=mu(e);let s=this.fragments[n];!s&&i&&(s=this.fragments[n]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),s&&(s.loaded=null,s.buffered=!0)}getBufferedTimes(e,i,n,s){const r={time:[],partial:n},a=e.start,o=e.end,l=e.minEndPTS||o,c=e.maxStartPTS||a;for(let u=0;u<s.length;u++){const d=s.start(u)-this.bufferPadding,h=s.end(u)+this.bufferPadding;if(c>=d&&l<=h){r.time.push({startPTS:Math.max(a,s.start(u)),endPTS:Math.min(o,s.end(u))});break}else if(a<h&&o>d){const f=Math.max(a,s.start(u)),p=Math.min(o,s.end(u));p>f&&(r.partial=!0,r.time.push({startPTS:f,endPTS:p}))}else if(o<=d)break}return r}getPartialFragment(e){let i=null,n,s,r,a=0;const{bufferPadding:o,fragments:l}=this;return Object.keys(l).forEach(c=>{const u=l[c];u&&m1(u)&&(s=u.body.start-o,r=u.body.end+o,e>=s&&e<=r&&(n=Math.min(e-s,r-e),a<=n&&(i=u.body,a=n)))}),i}isEndListAppended(e){const i=this.endListFragments[e];return i!==void 0&&(i.buffered||m1(i))}getState(e){const i=mu(e),n=this.fragments[i];return n?n.buffered?m1(n)?en.PARTIAL:en.OK:en.APPENDING:en.NOT_LOADED}isTimeBuffered(e,i,n){let s,r;for(let a=0;a<n.length;a++){if(s=n.start(a)-this.bufferPadding,r=n.end(a)+this.bufferPadding,e>=s&&i<=r)return!0;if(i<=s)return!1}return!1}onFragLoaded(e,i){const{frag:n,part:s}=i;if(n.sn==="initSegment"||n.bitrateTest)return;const r=s?null:i,a=mu(n);this.fragments[a]={body:n,appendedPTS:null,loaded:r,buffered:!1,range:Object.create(null)}}onBufferAppended(e,i){const{frag:n,part:s,timeRanges:r}=i;if(n.sn==="initSegment")return;const a=n.type;if(s){let o=this.activePartLists[a];o||(this.activePartLists[a]=o=[]),o.push(s)}this.timeRanges=r,Object.keys(r).forEach(o=>{const l=r[o];this.detectEvictedFragments(o,l,a,s)})}onFragBuffered(e,i){this.detectPartialFragments(i)}hasFragment(e){const i=mu(e);return!!this.fragments[i]}hasParts(e){var i;return!!((i=this.activePartLists[e])!=null&&i.length)}removeFragmentsInRange(e,i,n,s,r){s&&!this.hasGaps||Object.keys(this.fragments).forEach(a=>{const o=this.fragments[a];if(!o)return;const l=o.body;l.type!==n||s&&!l.gap||l.start<i&&l.end>e&&(o.buffered||r)&&this.removeFragment(l)})}removeFragment(e){const i=mu(e);e.stats.loaded=0,e.clearElementaryStreamInfo();const n=this.activePartLists[e.type];if(n){const s=e.sn;this.activePartLists[e.type]=n.filter(r=>r.fragment.sn!==s)}delete this.fragments[i],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function m1(t){var e,i,n;return t.buffered&&(t.body.gap||((e=t.range.video)==null?void 0:e.partial)||((i=t.range.audio)==null?void 0:i.partial)||((n=t.range.audiovideo)==null?void 0:n.partial))}function mu(t){return`${t.type}_${t.level}_${t.sn}`}const TGe={length:0,start:()=>0,end:()=>0};class Ht{static isBuffered(e,i){try{if(e){const n=Ht.getBuffered(e);for(let s=0;s<n.length;s++)if(i>=n.start(s)&&i<=n.end(s))return!0}}catch{}return!1}static bufferInfo(e,i,n){try{if(e){const s=Ht.getBuffered(e),r=[];let a;for(a=0;a<s.length;a++)r.push({start:s.start(a),end:s.end(a)});return this.bufferedInfo(r,i,n)}}catch{}return{len:0,start:i,end:i,nextStart:void 0}}static bufferedInfo(e,i,n){i=Math.max(0,i),e.sort(function(c,u){const d=c.start-u.start;return d||u.end-c.end});let s=[];if(n)for(let c=0;c<e.length;c++){const u=s.length;if(u){const d=s[u-1].end;e[c].start-d<n?e[c].end>d&&(s[u-1].end=e[c].end):s.push(e[c])}else s.push(e[c])}else s=e;let r=0,a,o=i,l=i;for(let c=0;c<s.length;c++){const u=s[c].start,d=s[c].end;if(i+n>=u&&i<d)o=u,l=d,r=l-i;else if(i+n<u){a=u;break}}return{len:r,start:o||0,end:l||0,nextStart:a}}static getBuffered(e){try{return e.buffered}catch(i){return re.log("failed to get media.buffered",i),TGe}}}class F9{constructor(e,i,n,s=0,r=-1,a=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=g1(),this.buffering={audio:g1(),video:g1(),audiovideo:g1()},this.level=e,this.sn=i,this.id=n,this.size=s,this.part=r,this.partial=a}}function g1(){return{start:0,executeStart:0,executeEnd:0,end:0}}function hg(t,e){for(let n=0,s=t.length;n<s;n++){var i;if(((i=t[n])==null?void 0:i.cc)===e)return t[n]}return null}function CGe(t,e,i){return!!(e&&(i.endCC>i.startCC||t&&t.cc<i.startCC))}function RGe(t,e){const i=t.fragments,n=e.fragments;if(!n.length||!i.length){re.log("No fragments to align");return}const s=hg(i,n[0].cc);if(!s||s&&!s.startPTS){re.log("No frag in previous level to align on");return}return s}function AF(t,e){if(t){const i=t.start+e;t.start=t.startPTS=i,t.endPTS=i+t.duration}}function P$(t,e){const i=e.fragments;for(let n=0,s=i.length;n<s;n++)AF(i[n],t);e.fragmentHint&&AF(e.fragmentHint,t),e.alignedSliding=!0}function IGe(t,e,i){e&&(wGe(t,i,e),!i.alignedSliding&&e&&oy(i,e),!i.alignedSliding&&e&&!i.skippedSegments&&W$(e,i))}function wGe(t,e,i){if(CGe(t,i,e)){const n=RGe(i,e);n&&Ye(n.start)&&(re.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),P$(n.start,e))}}function oy(t,e){if(!t.hasProgramDateTime||!e.hasProgramDateTime)return;const i=t.fragments,n=e.fragments;if(!i.length||!n.length)return;let s,r;const a=Math.min(e.endCC,t.endCC);e.startCC<a&&t.startCC<a&&(s=hg(n,a),r=hg(i,a)),(!s||!r)&&(s=n[Math.floor(n.length/2)],r=hg(i,s.cc)||i[Math.floor(i.length/2)]);const o=s.programDateTime,l=r.programDateTime;if(!o||!l)return;const c=(l-o)/1e3-(r.start-s.start);P$(c,t)}const SF=Math.pow(2,17);class _Ge{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,i){const n=e.url;if(!n)return Promise.reject(new Ua({type:nt.NETWORK_ERROR,details:Ae.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${n?"part list":"url"}`),networkDetails:null}));this.abort();const s=this.config,r=s.fLoader,a=s.loader;return new Promise((o,l)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(f=>f[0]==="GAP")){l(CF(e));return}else e.gap=!1;const c=this.loader=e.loader=r?new r(s):new a(s),u=TF(e),d=bF(s.fragLoadPolicy.default),h={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:SF};e.stats=c.stats,c.load(u,h,{onSuccess:(f,p,m,v)=>{this.resetLoader(e,c);let g=f.data;m.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(g.slice(0,16)),g=g.slice(16)),o({frag:e,part:null,payload:g,networkDetails:v})},onError:(f,p,m,v)=>{this.resetLoader(e,c),l(new Ua({type:nt.NETWORK_ERROR,details:Ae.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:cn({url:n,data:void 0},f),error:new Error(`HTTP Error ${f.code} ${f.text}`),networkDetails:m,stats:v}))},onAbort:(f,p,m)=>{this.resetLoader(e,c),l(new Ua({type:nt.NETWORK_ERROR,details:Ae.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:m,stats:f}))},onTimeout:(f,p,m)=>{this.resetLoader(e,c),l(new Ua({type:nt.NETWORK_ERROR,details:Ae.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${h.timeout}ms`),networkDetails:m,stats:f}))},onProgress:(f,p,m,v)=>{i&&i({frag:e,part:null,payload:m,networkDetails:v})}})})}loadPart(e,i,n){this.abort();const s=this.config,r=s.fLoader,a=s.loader;return new Promise((o,l)=>{if(this.loader&&this.loader.destroy(),e.gap||i.gap){l(CF(e,i));return}const c=this.loader=e.loader=r?new r(s):new a(s),u=TF(e,i),d=bF(s.fragLoadPolicy.default),h={loadPolicy:d,timeout:d.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:SF};i.stats=c.stats,c.load(u,h,{onSuccess:(f,p,m,v)=>{this.resetLoader(e,c),this.updateStatsFromPart(e,i);const g={frag:e,part:i,payload:f.data,networkDetails:v};n(g),o(g)},onError:(f,p,m,v)=>{this.resetLoader(e,c),l(new Ua({type:nt.NETWORK_ERROR,details:Ae.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:i,response:cn({url:u.url,data:void 0},f),error:new Error(`HTTP Error ${f.code} ${f.text}`),networkDetails:m,stats:v}))},onAbort:(f,p,m)=>{e.stats.aborted=i.stats.aborted,this.resetLoader(e,c),l(new Ua({type:nt.NETWORK_ERROR,details:Ae.INTERNAL_ABORTED,fatal:!1,frag:e,part:i,error:new Error("Aborted"),networkDetails:m,stats:f}))},onTimeout:(f,p,m)=>{this.resetLoader(e,c),l(new Ua({type:nt.NETWORK_ERROR,details:Ae.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:i,error:new Error(`Timeout after ${h.timeout}ms`),networkDetails:m,stats:f}))}})})}updateStatsFromPart(e,i){const n=e.stats,s=i.stats,r=s.total;if(n.loaded+=s.loaded,r){const l=Math.round(e.duration/i.duration),c=Math.min(Math.round(n.loaded/r),l),d=(l-c)*Math.round(n.loaded/c);n.total=n.loaded+d}else n.total=Math.max(n.loaded,n.total);const a=n.loading,o=s.loading;a.start?a.first+=o.first-o.start:(a.start=o.start,a.first=o.first),a.end=o.end}resetLoader(e,i){e.loader=null,this.loader===i&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),i.destroy()}}function TF(t,e=null){const i=e||t,n={frag:t,part:e,responseType:"arraybuffer",url:i.url,headers:{},rangeStart:0,rangeEnd:0},s=i.byteRangeStartOffset,r=i.byteRangeEndOffset;if(Ye(s)&&Ye(r)){var a;let o=s,l=r;if(t.sn==="initSegment"&&((a=t.decryptdata)==null?void 0:a.method)==="AES-128"){const c=r-s;c%16&&(l=r+(16-c%16)),s!==0&&(n.resetIV=!0,o=s-16)}n.rangeStart=o,n.rangeEnd=l}return n}function CF(t,e){const i=new Error(`GAP ${t.gap?"tag":"attribute"} found`),n={type:nt.MEDIA_ERROR,details:Ae.FRAG_GAP,fatal:!1,frag:t,error:i,networkDetails:null};return e&&(n.part=e),(e||t).stats.aborted=!0,new Ua(n)}class Ua extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class xGe{constructor(e,i){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=i}decrypt(e,i){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},i,e)}}class NGe{constructor(e,i){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=i}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}function VGe(t){const e=t.byteLength,i=e&&new DataView(t.buffer).getUint8(e-1);return i?gc(t,0,e-i):t}class LGe{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const i=new DataView(e),n=new Uint32Array(4);for(let s=0;s<4;s++)n[s]=i.getUint32(s*4);return n}initTable(){const e=this.sBox,i=this.invSBox,n=this.subMix,s=n[0],r=n[1],a=n[2],o=n[3],l=this.invSubMix,c=l[0],u=l[1],d=l[2],h=l[3],f=new Uint32Array(256);let p=0,m=0,v=0;for(v=0;v<256;v++)v<128?f[v]=v<<1:f[v]=v<<1^283;for(v=0;v<256;v++){let g=m^m<<1^m<<2^m<<3^m<<4;g=g>>>8^g&255^99,e[p]=g,i[g]=p;const E=f[p],A=f[E],R=f[A];let I=f[g]*257^g*16843008;s[p]=I<<24|I>>>8,r[p]=I<<16|I>>>16,a[p]=I<<8|I>>>24,o[p]=I,I=R*16843009^A*65537^E*257^p*16843008,c[g]=I<<24|I>>>8,u[g]=I<<16|I>>>16,d[g]=I<<8|I>>>24,h[g]=I,p?(p=E^f[f[f[R^E]]],m^=f[f[m]]):p=m=1}}expandKey(e){const i=this.uint8ArrayToUint32Array_(e);let n=!0,s=0;for(;s<i.length&&n;)n=i[s]===this.key[s],s++;if(n)return;this.key=i;const r=this.keySize=i.length;if(r!==4&&r!==6&&r!==8)throw new Error("Invalid aes key size="+r);const a=this.ksRows=(r+6+1)*4;let o,l;const c=this.keySchedule=new Uint32Array(a),u=this.invKeySchedule=new Uint32Array(a),d=this.sBox,h=this.rcon,f=this.invSubMix,p=f[0],m=f[1],v=f[2],g=f[3];let E,A;for(o=0;o<a;o++){if(o<r){E=c[o]=i[o];continue}A=E,o%r===0?(A=A<<8|A>>>24,A=d[A>>>24]<<24|d[A>>>16&255]<<16|d[A>>>8&255]<<8|d[A&255],A^=h[o/r|0]<<24):r>6&&o%r===4&&(A=d[A>>>24]<<24|d[A>>>16&255]<<16|d[A>>>8&255]<<8|d[A&255]),c[o]=E=(c[o-r]^A)>>>0}for(l=0;l<a;l++)o=a-l,l&3?A=c[o]:A=c[o-4],l<4||o<=4?u[l]=A:u[l]=p[d[A>>>24]]^m[d[A>>>16&255]]^v[d[A>>>8&255]]^g[d[A&255]],u[l]=u[l]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,i,n){const s=this.keySize+6,r=this.invKeySchedule,a=this.invSBox,o=this.invSubMix,l=o[0],c=o[1],u=o[2],d=o[3],h=this.uint8ArrayToUint32Array_(n);let f=h[0],p=h[1],m=h[2],v=h[3];const g=new Int32Array(e),E=new Int32Array(g.length);let A,R,I,L,F,B,G,Z,j,pe,J,me,de,ye;const Le=this.networkToHostOrderSwap;for(;i<g.length;){for(j=Le(g[i]),pe=Le(g[i+1]),J=Le(g[i+2]),me=Le(g[i+3]),F=j^r[0],B=me^r[1],G=J^r[2],Z=pe^r[3],de=4,ye=1;ye<s;ye++)A=l[F>>>24]^c[B>>16&255]^u[G>>8&255]^d[Z&255]^r[de],R=l[B>>>24]^c[G>>16&255]^u[Z>>8&255]^d[F&255]^r[de+1],I=l[G>>>24]^c[Z>>16&255]^u[F>>8&255]^d[B&255]^r[de+2],L=l[Z>>>24]^c[F>>16&255]^u[B>>8&255]^d[G&255]^r[de+3],F=A,B=R,G=I,Z=L,de=de+4;A=a[F>>>24]<<24^a[B>>16&255]<<16^a[G>>8&255]<<8^a[Z&255]^r[de],R=a[B>>>24]<<24^a[G>>16&255]<<16^a[Z>>8&255]<<8^a[F&255]^r[de+1],I=a[G>>>24]<<24^a[Z>>16&255]<<16^a[F>>8&255]<<8^a[B&255]^r[de+2],L=a[Z>>>24]<<24^a[F>>16&255]<<16^a[B>>8&255]<<8^a[G&255]^r[de+3],E[i]=Le(A^f),E[i+1]=Le(L^p),E[i+2]=Le(I^m),E[i+3]=Le(R^v),f=j,p=pe,m=J,v=me,i=i+4}return E.buffer}}const kGe=16;class U9{constructor(e,{removePKCS7Padding:i=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=i,i)try{const n=self.crypto;n&&(this.subtle=n.subtle||n.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:i}=this;if(!e||i)return this.reset(),null;const n=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?VGe(n):n}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,i,n){return this.useSoftware?new Promise((s,r)=>{this.softwareDecrypt(new Uint8Array(e),i,n);const a=this.flush();a?s(a.buffer):r(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),i,n)}softwareDecrypt(e,i,n){const{currentIV:s,currentResult:r,remainderData:a}=this;this.logOnce("JS AES decrypt"),a&&(e=qs(a,e),this.remainderData=null);const o=this.getValidChunk(e);if(!o.length)return null;s&&(n=s);let l=this.softwareDecrypter;l||(l=this.softwareDecrypter=new LGe),l.expandKey(i);const c=r;return this.currentResult=l.decrypt(o.buffer,0,n),this.currentIV=gc(o,-16).buffer,c||null}webCryptoDecrypt(e,i,n){if(this.key!==i||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,i,n));this.key=i,this.fastAesKey=new NGe(this.subtle,i)}return this.fastAesKey.expandKey().then(s=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new xGe(this.subtle,new Uint8Array(n)).decrypt(e.buffer,s)):Promise.reject(new Error("web crypto not initialized"))).catch(s=>(re.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${s.name}: ${s.message}`),this.onWebCryptoError(e,i,n)))}onWebCryptoError(e,i,n){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,i,n);const s=this.flush();if(s)return s.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let i=e;const n=e.length-e.length%kGe;return n!==e.length&&(i=gc(e,0,n),this.remainderData=gc(e,n)),i}logOnce(e){this.logEnabled&&(re.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const FGe={toString:function(t){let e="";const i=t.length;for(let n=0;n<i;n++)e+=`[${t.start(n).toFixed(3)}-${t.end(n).toFixed(3)}]`;return e}},Ne={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class B9 extends AGe{constructor(e,i,n,s,r){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=Ne.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.buffering=!0,this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=r,this.logPrefix=s,this.log=re.log.bind(re,`${s}:`),this.warn=re.warn.bind(re,`${s}:`),this.hls=e,this.fragmentLoader=new _Ge(e.config),this.keyLoader=n,this.fragmentTracker=i,this.config=e.config,this.decrypter=new U9(e.config),e.on(U.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Ne.STOPPED}pauseBuffering(){this.buffering=!1}resumeBuffering(){this.buffering=!0}_streamEnded(e,i){if(i.live||e.nextStart||!e.end||!this.media)return!1;const n=i.partList;if(n!=null&&n.length){const r=n[n.length-1];return Ht.isBuffered(this.media,r.start+r.duration/2)}const s=i.fragments[i.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(s)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levelLastLoaded)==null?void 0:e.details}}onMediaAttached(e,i){const n=this.media=this.mediaBuffer=i.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);const s=this.config;this.levels&&s.autoStartLoad&&this.state===Ne.STOPPED&&this.startLoad(s.startPosition)}onMediaDetaching(){const e=this.media;e!=null&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:e,fragCurrent:i,media:n,mediaBuffer:s,state:r}=this,a=n?n.currentTime:0,o=Ht.bufferInfo(s||n,a,e.maxBufferHole);if(this.log(`media seeking to ${Ye(a)?a.toFixed(3):a}, state: ${r}`),this.state===Ne.ENDED)this.resetLoadingState();else if(i){const l=e.maxFragLookUpTolerance,c=i.start-l,u=i.start+i.duration+l;if(!o.len||u<o.start||c>o.end){const d=a>u;(a<c||d)&&(d&&i.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),i.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}n&&(this.fragmentTracker.removeFragmentsInRange(a,1/0,this.playlistType,!0),this.lastCurrentTime=a),!this.loadedmetadata&&!o.len&&(this.nextLoadPosition=this.startPosition=a),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,i){this.startTimeOffset=i.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off(U.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=Ne.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,i,n){this._loadFragForPlayback(e,i,n)}_loadFragForPlayback(e,i,n){const s=r=>{if(this.fragContextChanged(e)){this.warn(`Fragment ${e.sn}${r.part?" p: "+r.part.index:""} of level ${e.level} was dropped during download.`),this.fragmentTracker.removeFragment(e);return}e.stats.chunkCount++,this._handleFragmentLoadProgress(r)};this._doFragLoad(e,i,n,s).then(r=>{if(!r)return;const a=this.state;if(this.fragContextChanged(e)){(a===Ne.FRAG_LOADING||!this.fragCurrent&&a===Ne.PARSING)&&(this.fragmentTracker.removeFragment(e),this.state=Ne.IDLE);return}"payload"in r&&(this.log(`Loaded fragment ${e.sn} of level ${e.level}`),this.hls.trigger(U.FRAG_LOADED,r)),this._handleFragmentLoadComplete(r)}).catch(r=>{this.state===Ne.STOPPED||this.state===Ne.ERROR||(this.warn(`Frag error: ${(r==null?void 0:r.message)||r}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var i;const{fragmentTracker:n}=this;if(n.getState(e)===en.APPENDING){const r=e.type,a=this.getFwdBufferInfo(this.mediaBuffer,r),o=Math.max(e.duration,a?a.len:this.config.maxBufferLength),l=this.backtrackFragment;((l?e.sn-l.sn:0)===1||this.reduceMaxBufferLength(o,e.duration))&&n.removeFragment(e)}else((i=this.mediaBuffer)==null?void 0:i.buffered.length)===0?n.removeAllFragments():n.hasParts(e.type)&&(n.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),n.getState(e)===en.PARTIAL&&n.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const i=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:i,part:null,stats:i.stats,id:i.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}flushMainBuffer(e,i,n=null){if(!(e-i))return;const s={startOffset:e,endOffset:i,type:n};this.hls.trigger(U.BUFFER_FLUSHING,s)}_loadInitSegment(e,i){this._doFragLoad(e,i).then(n=>{if(!n||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return n}).then(n=>{const{hls:s}=this,{payload:r}=n,a=e.decryptdata;if(r&&r.byteLength>0&&a!=null&&a.key&&a.iv&&a.method==="AES-128"){const o=self.performance.now();return this.decrypter.decrypt(new Uint8Array(r),a.key.buffer,a.iv.buffer).catch(l=>{throw s.trigger(U.ERROR,{type:nt.MEDIA_ERROR,details:Ae.FRAG_DECRYPT_ERROR,fatal:!1,error:l,reason:l.message,frag:e}),l}).then(l=>{const c=self.performance.now();return s.trigger(U.FRAG_DECRYPTED,{frag:e,payload:l,stats:{tstart:o,tdecrypt:c}}),n.payload=l,this.completeInitSegmentLoad(n)})}return this.completeInitSegmentLoad(n)}).catch(n=>{this.state===Ne.STOPPED||this.state===Ne.ERROR||(this.warn(n),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:i}=this;if(!i)throw new Error("init load aborted, missing levels");const n=e.frag.stats;this.state=Ne.IDLE,e.frag.data=new Uint8Array(e.payload),n.parsing.start=n.buffering.start=self.performance.now(),n.parsing.end=n.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:i}=this;return!e||!i||e.sn!==i.sn||e.level!==i.level}fragBufferedComplete(e,i){var n,s,r,a;const o=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${i?" part: "+i.index:""} of ${this.playlistType===qe.MAIN?"level":"track"} ${e.level} (frag:[${((n=e.startPTS)!=null?n:NaN).toFixed(3)}-${((s=e.endPTS)!=null?s:NaN).toFixed(3)}] > buffer:${o?FGe.toString(Ht.getBuffered(o)):"(detached)"})`),e.sn!=="initSegment"){var l;if(e.type!==qe.SUBTITLE){const u=e.elementaryStreams;if(!Object.keys(u).some(d=>!!u[d])){this.state=Ne.IDLE;return}}const c=(l=this.levels)==null?void 0:l[e.level];c!=null&&c.fragmentError&&(this.log(`Resetting level fragment error count of ${c.fragmentError} on frag buffered`),c.fragmentError=0)}this.state=Ne.IDLE,o&&(!this.loadedmetadata&&e.type==qe.MAIN&&o.buffered.length&&((r=this.fragCurrent)==null?void 0:r.sn)===((a=this.fragPrevious)==null?void 0:a.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){const{transmuxer:i}=this;if(!i)return;const{frag:n,part:s,partsLoaded:r}=e,a=!r||r.length===0||r.some(l=>!l),o=new F9(n.level,n.sn,n.stats.chunkCount+1,0,s?s.index:-1,!a);i.flush(o)}_handleFragmentLoadProgress(e){}_doFragLoad(e,i,n=null,s){var r;const a=i==null?void 0:i.details;if(!this.levels||!a)throw new Error(`frag load aborted, missing level${a?"":" detail"}s`);let o=null;if(e.encrypted&&!((r=e.decryptdata)!=null&&r.key)?(this.log(`Loading key for ${e.sn} of [${a.startSN}-${a.endSN}], ${this.logPrefix==="[stream-controller]"?"level":"track"} ${e.level}`),this.state=Ne.KEY_LOADING,this.fragCurrent=e,o=this.keyLoader.load(e).then(u=>{if(!this.fragContextChanged(u.frag))return this.hls.trigger(U.KEY_LOADED,u),this.state===Ne.KEY_LOADING&&(this.state=Ne.IDLE),u}),this.hls.trigger(U.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(o=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&a.encryptedFragments.length&&this.keyLoader.loadClear(e,a.encryptedFragments),n=Math.max(e.start,n||0),this.config.lowLatencyMode&&e.sn!=="initSegment"){const u=a.partList;if(u&&s){n>e.end&&a.fragmentHint&&(e=a.fragmentHint);const d=this.getNextPart(u,e,n);if(d>-1){const h=u[d];this.log(`Loading part sn: ${e.sn} p: ${h.index} cc: ${e.cc} of playlist [${a.startSN}-${a.endSN}] parts [0-${d}-${u.length-1}] ${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(n.toFixed(3))}`),this.nextLoadPosition=h.start+h.duration,this.state=Ne.FRAG_LOADING;let f;return o?f=o.then(p=>!p||this.fragContextChanged(p.frag)?null:this.doFragPartsLoad(e,h,i,s)).catch(p=>this.handleFragLoadError(p)):f=this.doFragPartsLoad(e,h,i,s).catch(p=>this.handleFragLoadError(p)),this.hls.trigger(U.FRAG_LOADING,{frag:e,part:h,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):f}else if(!e.url||this.loadedEndOfParts(u,n))return Promise.resolve(null)}}this.log(`Loading fragment ${e.sn} cc: ${e.cc} ${a?"of ["+a.startSN+"-"+a.endSN+"] ":""}${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(n.toFixed(3))}`),Ye(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=Ne.FRAG_LOADING;const l=this.config.progressive;let c;return l&&o?c=o.then(u=>!u||this.fragContextChanged(u==null?void 0:u.frag)?null:this.fragmentLoader.load(e,s)).catch(u=>this.handleFragLoadError(u)):c=Promise.all([this.fragmentLoader.load(e,l?s:void 0),o]).then(([u])=>(!l&&u&&s&&s(u),u)).catch(u=>this.handleFragLoadError(u)),this.hls.trigger(U.FRAG_LOADING,{frag:e,targetBufferTime:n}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):c}doFragPartsLoad(e,i,n,s){return new Promise((r,a)=>{var o;const l=[],c=(o=n.details)==null?void 0:o.partList,u=d=>{this.fragmentLoader.loadPart(e,d,s).then(h=>{l[d.index]=h;const f=h.part;this.hls.trigger(U.FRAG_LOADED,h);const p=gF(n,e.sn,d.index+1)||G$(c,e.sn,d.index+1);if(p)u(p);else return r({frag:e,part:f,partsLoaded:l})}).catch(a)};u(i)})}handleFragLoadError(e){if("data"in e){const i=e.data;e.data&&i.details===Ae.INTERNAL_ABORTED?this.handleFragLoadAborted(i.frag,i.part):this.hls.trigger(U.ERROR,i)}else this.hls.trigger(U.ERROR,{type:nt.OTHER_ERROR,details:Ae.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const i=this.getCurrentContext(e);if(!i||this.state!==Ne.PARSING){!this.fragCurrent&&this.state!==Ne.STOPPED&&this.state!==Ne.ERROR&&(this.state=Ne.IDLE);return}const{frag:n,part:s,level:r}=i,a=self.performance.now();n.stats.parsing.end=a,s&&(s.stats.parsing.end=a),this.updateLevelTiming(n,s,r,e.partial)}getCurrentContext(e){const{levels:i,fragCurrent:n}=this,{level:s,sn:r,part:a}=e;if(!(i!=null&&i[s]))return this.warn(`Levels object was unset while buffering fragment ${r} of level ${s}. The current chunk will not be buffered.`),null;const o=i[s],l=a>-1?gF(o,r,a):null,c=l?l.fragment:iGe(o,r,n);return c?(n&&n!==c&&(c.stats=n.stats),{frag:c,part:l,level:o}):null}bufferFragmentData(e,i,n,s,r){var a;if(!e||this.state!==Ne.PARSING)return;const{data1:o,data2:l}=e;let c=o;if(o&&l&&(c=qs(o,l)),!((a=c)!=null&&a.length))return;const u={type:e.type,frag:i,part:n,chunkMeta:s,parent:i.type,data:c};if(this.hls.trigger(U.BUFFER_APPENDING,u),e.dropped&&e.independent&&!n){if(r)return;this.flushBufferGap(i)}}flushBufferGap(e){const i=this.media;if(!i)return;if(!Ht.isBuffered(i,i.currentTime)){this.flushMainBuffer(0,e.start);return}const n=i.currentTime,s=Ht.bufferInfo(i,n,0),r=e.duration,a=Math.min(this.config.maxFragLookUpTolerance*2,r*.25),o=Math.max(Math.min(e.start-a,s.end-a),n+a);e.start-o>a&&this.flushMainBuffer(o,e.start)}getFwdBufferInfo(e,i){const n=this.getLoadPosition();return Ye(n)?this.getFwdBufferInfoAtPos(e,n,i):null}getFwdBufferInfoAtPos(e,i,n){const{config:{maxBufferHole:s}}=this,r=Ht.bufferInfo(e,i,s);if(r.len===0&&r.nextStart!==void 0){const a=this.fragmentTracker.getBufferedFrag(i,n);if(a&&r.nextStart<a.end)return Ht.bufferInfo(e,i,Math.max(r.nextStart,s))}return r}getMaxBufferLength(e){const{config:i}=this;let n;return e?n=Math.max(8*i.maxBufferSize/e,i.maxBufferLength):n=i.maxBufferLength,Math.min(n,i.maxMaxBufferLength)}reduceMaxBufferLength(e,i){const n=this.config,s=Math.max(Math.min(e-i,n.maxBufferLength),i),r=Math.max(e-i*3,n.maxMaxBufferLength/2,s);return r>=s?(n.maxMaxBufferLength=r,this.warn(`Reduce max buffer length to ${r}s`),!0):!1}getAppendedFrag(e,i=qe.MAIN){const n=this.fragmentTracker.getAppendedFrag(e,qe.MAIN);return n&&"fragment"in n?n.fragment:n}getNextFragment(e,i){const n=i.fragments,s=n.length;if(!s)return null;const{config:r}=this,a=n[0].start;let o;if(i.live){const l=r.initialLiveManifestSize;if(s<l)return this.warn(`Not enough fragments to start playback (have: ${s}, need: ${l})`),null;(!i.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<a)&&(o=this.getInitialLiveFragment(i,n),this.startPosition=this.nextLoadPosition=o?this.hls.liveSyncPosition||o.start:e)}else e<=a&&(o=n[0]);if(!o){const l=r.lowLatencyMode?i.partEnd:i.fragmentEnd;o=this.getFragmentAtPosition(e,l,i)}return this.mapToInitFragWhenRequired(o)}isLoopLoading(e,i){const n=this.fragmentTracker.getState(e);return(n===en.OK||n===en.PARTIAL&&!!e.gap)&&this.nextLoadPosition>i}getNextFragmentLoopLoading(e,i,n,s,r){const a=e.gap,o=this.getNextFragment(this.nextLoadPosition,i);if(o===null)return o;if(e=o,a&&e&&!e.gap&&n.nextStart){const l=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,n.nextStart,s);if(l!==null&&n.len+l.len>=r)return this.log(`buffer full after gaps in "${s}" playlist starting at sn: ${e.sn}`),null}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,i,n){let s=-1,r=!1,a=!0;for(let o=0,l=e.length;o<l;o++){const c=e[o];if(a=a&&!c.independent,s>-1&&n<c.start)break;const u=c.loaded;u?s=-1:(r||c.independent||a)&&c.fragment===i&&(s=o),r=u}return s}loadedEndOfParts(e,i){const n=e[e.length-1];return n&&i>n.start&&n.loaded}getInitialLiveFragment(e,i){const n=this.fragPrevious;let s=null;if(n){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${n.programDateTime}`),s=sGe(i,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!s){const r=n.sn+1;if(r>=e.startSN&&r<=e.endSN){const a=i[r-e.startSN];n.cc===a.cc&&(s=a,this.log(`Live playlist, switching playlist, load frag with next SN: ${s.sn}`))}s||(s=oGe(i,n.cc),s&&this.log(`Live playlist, switching playlist, load frag with same CC: ${s.sn}`))}}else{const r=this.hls.liveSyncPosition;r!==null&&(s=this.getFragmentAtPosition(r,this.bitrateTest?e.fragmentEnd:e.edge,e))}return s}getFragmentAtPosition(e,i,n){const{config:s}=this;let{fragPrevious:r}=this,{fragments:a,endSN:o}=n;const{fragmentHint:l}=n,{maxFragLookUpTolerance:c}=s,u=n.partList,d=!!(s.lowLatencyMode&&u!=null&&u.length&&l);d&&l&&!this.bitrateTest&&(a=a.concat(l),o=l.sn);let h;if(e<i){const f=e>i-c?0:c;h=ay(r,a,e,f)}else h=a[a.length-1];if(h){const f=h.sn-n.startSN,p=this.fragmentTracker.getState(h);if((p===en.OK||p===en.PARTIAL&&h.gap)&&(r=h),r&&h.sn===r.sn&&(!d||u[0].fragment.sn>h.sn)&&r&&h.level===r.level){const v=a[f+1];h.sn<o&&this.fragmentTracker.getState(v)!==en.OK?h=v:h=null}}return h}synchronizeToLiveEdge(e){const{config:i,media:n}=this;if(!n)return;const s=this.hls.liveSyncPosition,r=n.currentTime,a=e.fragments[0].start,o=e.edge,l=r>=a-i.maxFragLookUpTolerance&&r<=o;if(s!==null&&n.duration>s&&(r<s||!l)){const c=i.liveMaxLatencyDuration!==void 0?i.liveMaxLatencyDuration:i.liveMaxLatencyDurationCount*e.targetduration;(!l&&n.readyState<4||r<o-c)&&(this.loadedmetadata||(this.nextLoadPosition=s),n.readyState&&(this.warn(`Playback: ${r.toFixed(3)} is located too far from the end of live sliding playlist: ${o}, reset currentTime to : ${s.toFixed(3)}`),n.currentTime=s))}}alignPlaylists(e,i,n){const s=e.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;const r=e.fragments[0].start,a=!i,o=e.alignedSliding&&Ye(r);if(a||!o&&!r){const{fragPrevious:l}=this;IGe(l,n,e);const c=e.fragments[0].start;return this.log(`Live playlist sliding: ${c.toFixed(2)} start-sn: ${i?i.startSN:"na"}->${e.startSN} prev-sn: ${l?l.sn:"na"} fragments: ${s}`),c}return r}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,i){let n=this.startPosition;if(n<i&&(n=-1),n===-1||this.lastCurrentTime===-1){const s=this.startTimeOffset!==null,r=s?this.startTimeOffset:e.startTimeOffset;r!==null&&Ye(r)?(n=i+r,r<0&&(n+=e.totalduration),n=Math.min(Math.max(i,n),i+e.totalduration),this.log(`Start time offset ${r} found in ${s?"multivariant":"media"} playlist, adjust startPosition to ${n}`),this.startPosition=n):e.live?n=this.hls.liveSyncPosition||i:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n}getLoadPosition(){const{media:e}=this;let i=0;return this.loadedmetadata&&e?i=e.currentTime:this.nextLoadPosition&&(i=this.nextLoadPosition),i}handleFragLoadAborted(e,i){this.transmuxer&&e.sn!=="initSegment"&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${i?" part "+i.index:""} of level ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==Ne.FRAG_LOADING_WAITING_RETRY)&&(this.state=Ne.IDLE)}onFragmentOrKeyLoadError(e,i){if(i.chunkMeta&&!i.frag){const u=this.getCurrentContext(i.chunkMeta);u&&(i.frag=u.frag)}const n=i.frag;if(!n||n.type!==e||!this.levels)return;if(this.fragContextChanged(n)){var s;this.warn(`Frag load error must match current frag to retry ${n.url} > ${(s=this.fragCurrent)==null?void 0:s.url}`);return}const r=i.details===Ae.FRAG_GAP;r&&this.fragmentTracker.fragBuffered(n,!0);const a=i.errorAction,{action:o,retryCount:l=0,retryConfig:c}=a||{};if(a&&o===hn.RetryRequest&&c){this.resetStartWhenNotLoaded(this.levelLastLoaded);const u=L9(c,l);this.warn(`Fragment ${n.sn} of ${e} ${n.level} errored with ${i.details}, retrying loading ${l+1}/${c.maxNumRetry} in ${u}ms`),a.resolved=!0,this.retryDate=self.performance.now()+u,this.state=Ne.FRAG_LOADING_WAITING_RETRY}else if(c&&a)if(this.resetFragmentErrors(e),l<c.maxNumRetry)!r&&o!==hn.RemoveAlternatePermanently&&(a.resolved=!0);else{re.warn(`${i.details} reached or exceeded max retry (${l})`);return}else(a==null?void 0:a.action)===hn.SendAlternateToPenaltyBox?this.state=Ne.WAITING_LEVEL:this.state=Ne.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===Ne.PARSING||this.state===Ne.PARSED){const i=e.frag,n=e.parent,s=this.getFwdBufferInfo(this.mediaBuffer,n),r=s&&s.len>.5;r&&this.reduceMaxBufferLength(s.len,(i==null?void 0:i.duration)||10);const a=!r;return a&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${n} buffer`),i&&(this.fragmentTracker.removeFragment(i),this.nextLoadPosition=i.start),this.resetLoadingState(),a}return!1}resetFragmentErrors(e){e===qe.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==Ne.STOPPED&&(this.state=Ne.IDLE)}afterBufferFlushed(e,i,n){if(!e)return;const s=Ht.getBuffered(e);this.fragmentTracker.detectEvictedFragments(i,s,n),this.state===Ne.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=Ne.IDLE}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;const i=e?e.details:null;i!=null&&i.live?(this.startPosition=-1,this.setStartPosition(i,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,i,n,s){var r;const a=n.details;if(!a){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((l,c)=>{const u=e.elementaryStreams[c];if(u){const d=u.endPTS-u.startPTS;if(d<=0)return this.warn(`Could not parse fragment ${e.sn} ${c} duration reliably (${d})`),l||!1;const h=s?0:B$(a,e,u.startPTS,u.endPTS,u.startDTS,u.endDTS);return this.hls.trigger(U.LEVEL_PTS_UPDATED,{details:a,level:n,drift:h,type:c,frag:e,start:u.startPTS,end:u.endPTS}),!0}return l},!1)&&((r=this.transmuxer)==null?void 0:r.error)===null){const l=new Error(`Found no media in fragment ${e.sn} of level ${e.level} resetting transmuxer to fallback to playlist timing`);if(n.fragmentError===0&&(n.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(l.message),this.hls.trigger(U.ERROR,{type:nt.MEDIA_ERROR,details:Ae.FRAG_PARSING_ERROR,fatal:!1,error:l,frag:e,reason:`Found no media in msn ${e.sn} of level "${n.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=Ne.PARSED,this.hls.trigger(U.FRAG_PARSED,{frag:e,part:i})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const i=this._state;i!==e&&(this._state=e,this.log(`${i}->${e}`))}get state(){return this._state}}class O${constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:i}=this;let n;if(e.length)e.length===1?n=e[0]:n=UGe(e,i);else return new Uint8Array(0);return this.reset(),n}reset(){this.chunks.length=0,this.dataLength=0}}function UGe(t,e){const i=new Uint8Array(e);let n=0;for(let s=0;s<t.length;s++){const r=t[s];i.set(r,n),n+=r.length}return i}function BGe(){return typeof __HLS_WORKER_BUNDLE__=="function"}function WGe(){const t=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(t);return{worker:new self.Worker(e),objectURL:e}}function GGe(t){const e=new self.URL(t,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}function Hr(t="",e=9e4){return{type:t,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class W9{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,i,n,s){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,i){return!1}appendFrame(e,i,n){}demux(e,i){this.cachedData&&(e=qs(this.cachedData,e),this.cachedData=null);let n=qp(e,0),s=n?n.length:0,r;const a=this._audioTrack,o=this._id3Track,l=n?V9(n):void 0,c=e.length;for((this.basePTS===null||this.frameIndex===0&&Ye(l))&&(this.basePTS=DGe(l,i,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),n&&n.length>0&&o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:vr.audioId3,duration:Number.POSITIVE_INFINITY});s<c;){if(this.canParse(e,s)){const u=this.appendFrame(a,e,s);u?(this.frameIndex++,this.lastPTS=u.sample.pts,s+=u.length,r=s):s=c}else aWe(e,s)?(n=qp(e,s),o.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:n,type:vr.audioId3,duration:Number.POSITIVE_INFINITY}),s+=n.length,r=s):s++;if(s===c&&r!==c){const u=gc(e,r);this.cachedData?this.cachedData=qs(this.cachedData,u):this.cachedData=u}}return{audioTrack:a,videoTrack:Hr(),id3Track:o,textTrack:Hr()}}demuxSampleAes(e,i,n){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const i=this.cachedData;return i&&(this.cachedData=null,this.demux(i,0)),{audioTrack:this._audioTrack,videoTrack:Hr(),id3Track:this._id3Track,textTrack:Hr()}}destroy(){}}const DGe=(t,e,i)=>{if(Ye(t))return t*90;const n=i?i.baseTime*9e4/i.timescale:0;return e*9e4+n};function MGe(t,e,i,n){let s,r,a,o;const l=navigator.userAgent.toLowerCase(),c=n,u=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];s=((e[i+2]&192)>>>6)+1;const d=(e[i+2]&60)>>>2;if(d>u.length-1){const h=new Error(`invalid ADTS sampling index:${d}`);t.emit(U.ERROR,U.ERROR,{type:nt.MEDIA_ERROR,details:Ae.FRAG_PARSING_ERROR,fatal:!0,error:h,reason:h.message});return}return a=(e[i+2]&1)<<2,a|=(e[i+3]&192)>>>6,re.log(`manifest codec:${n}, ADTS type:${s}, samplingIndex:${d}`),/firefox/i.test(l)?d>=6?(s=5,o=new Array(4),r=d-3):(s=2,o=new Array(2),r=d):l.indexOf("android")!==-1?(s=2,o=new Array(2),r=d):(s=5,o=new Array(4),n&&(n.indexOf("mp4a.40.29")!==-1||n.indexOf("mp4a.40.5")!==-1)||!n&&d>=6?r=d-3:((n&&n.indexOf("mp4a.40.2")!==-1&&(d>=6&&a===1||/vivaldi/i.test(l))||!n&&a===1)&&(s=2,o=new Array(2)),r=d)),o[0]=s<<3,o[0]|=(d&14)>>1,o[1]|=(d&1)<<7,o[1]|=a<<3,s===5&&(o[1]|=(r&14)>>1,o[2]=(r&1)<<7,o[2]|=8,o[3]=0),{config:o,samplerate:u[d],channelCount:a,codec:"mp4a.40."+s,manifestCodec:c}}function X$(t,e){return t[e]===255&&(t[e+1]&246)===240}function Y$(t,e){return t[e+1]&1?7:9}function G9(t,e){return(t[e+3]&3)<<11|t[e+4]<<3|(t[e+5]&224)>>>5}function ZGe(t,e){return e+5<t.length}function ly(t,e){return e+1<t.length&&X$(t,e)}function PGe(t,e){return ZGe(t,e)&&X$(t,e)&&G9(t,e)<=t.length-e}function OGe(t,e){if(ly(t,e)){const i=Y$(t,e);if(e+i>=t.length)return!1;const n=G9(t,e);if(n<=i)return!1;const s=e+n;return s===t.length||ly(t,s)}return!1}function $$(t,e,i,n,s){if(!t.samplerate){const r=MGe(e,i,n,s);if(!r)return;t.config=r.config,t.samplerate=r.samplerate,t.channelCount=r.channelCount,t.codec=r.codec,t.manifestCodec=r.manifestCodec,re.log(`parsed codec:${t.codec}, rate:${r.samplerate}, channels:${r.channelCount}`)}}function K$(t){return 1024*9e4/t}function XGe(t,e){const i=Y$(t,e);if(e+i<=t.length){const n=G9(t,e)-i;if(n>0)return{headerLength:i,frameLength:n}}}function z$(t,e,i,n,s){const r=K$(t.samplerate),a=n+s*r,o=XGe(e,i);let l;if(o){const{frameLength:d,headerLength:h}=o,f=h+d,p=Math.max(0,i+f-e.length);p?(l=new Uint8Array(f-h),l.set(e.subarray(i+h,e.length),0)):l=e.subarray(i+h,i+f);const m={unit:l,pts:a};return p||t.samples.push(m),{sample:m,length:f,missing:p}}const c=e.length-i;return l=new Uint8Array(c),l.set(e.subarray(i,e.length),0),{sample:{unit:l,pts:a},length:c,missing:-1}}let y1=null;const YGe=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],$Ge=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],KGe=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],zGe=[0,1,1,4];function J$(t,e,i,n,s){if(i+24>e.length)return;const r=j$(e,i);if(r&&i+r.frameLength<=e.length){const a=r.samplesPerFrame*9e4/r.sampleRate,o=n+s*a,l={unit:e.subarray(i,i+r.frameLength),pts:o,dts:o};return t.config=[],t.channelCount=r.channelCount,t.samplerate=r.sampleRate,t.samples.push(l),{sample:l,length:r.frameLength,missing:0}}}function j$(t,e){const i=t[e+1]>>3&3,n=t[e+1]>>1&3,s=t[e+2]>>4&15,r=t[e+2]>>2&3;if(i!==1&&s!==0&&s!==15&&r!==3){const a=t[e+2]>>1&1,o=t[e+3]>>6,l=i===3?3-n:n===3?3:4,c=YGe[l*14+s-1]*1e3,d=$Ge[(i===3?0:i===2?1:2)*3+r],h=o===3?1:2,f=KGe[i][n],p=zGe[n],m=f*8*p,v=Math.floor(f*c/d+a)*p;if(y1===null){const A=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);y1=A?parseInt(A[1]):0}return!!y1&&y1<=87&&n===2&&c>=224e3&&o===0&&(t[e+3]=t[e+3]|128),{sampleRate:d,channelCount:h,frameLength:v,samplesPerFrame:m}}}function D9(t,e){return t[e]===255&&(t[e+1]&224)===224&&(t[e+1]&6)!==0}function H$(t,e){return e+1<t.length&&D9(t,e)}function JGe(t,e){return D9(t,e)&&4<=t.length-e}function Q$(t,e){if(e+1<t.length&&D9(t,e)){const n=j$(t,e);let s=4;n!=null&&n.frameLength&&(s=n.frameLength);const r=e+s;return r===t.length||H$(t,r)}return!1}class jGe extends W9{constructor(e,i){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=i}resetInitSegment(e,i,n,s){super.resetInitSegment(e,i,n,s),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:i,duration:s,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const i=qp(e,0);let n=(i==null?void 0:i.length)||0;if(Q$(e,n))return!1;for(let s=e.length;n<s;n++)if(OGe(e,n))return re.log("ADTS sync word found !"),!0;return!1}canParse(e,i){return PGe(e,i)}appendFrame(e,i,n){$$(e,this.observer,i,n,e.manifestCodec);const s=z$(e,i,n,this.basePTS,this.frameIndex);if(s&&s.missing===0)return s}}const HGe=/\/emsg[-/]ID3/i;class QGe{constructor(e,i){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=i}resetTimeStamp(){}resetInitSegment(e,i,n,s){const r=this.videoTrack=Hr("video",1),a=this.audioTrack=Hr("audio",1),o=this.txtTrack=Hr("text",1);if(this.id3Track=Hr("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const l=_$(e);if(l.video){const{id:c,timescale:u,codec:d}=l.video;r.id=c,r.timescale=o.timescale=u,r.codec=d}if(l.audio){const{id:c,timescale:u,codec:d}=l.audio;a.id=c,a.timescale=u,a.codec=d}o.id=R$.text,r.sampleDuration=0,r.duration=a.duration=s}resetContiguity(){this.remainderData=null}static probe(e){return mWe(e)}demux(e,i){this.timeOffset=i;let n=e;const s=this.videoTrack,r=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=qs(this.remainderData,e));const o=TWe(n);this.remainderData=o.remainder,s.samples=o.valid||new Uint8Array}else s.samples=n;const a=this.extractID3Track(s,i);return r.samples=Hk(i,s),{videoTrack:s,audioTrack:this.audioTrack,id3Track:a,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,i=this.videoTrack,n=this.txtTrack;i.samples=this.remainderData||new Uint8Array,this.remainderData=null;const s=this.extractID3Track(i,this.timeOffset);return n.samples=Hk(e,i),{videoTrack:i,audioTrack:Hr(),id3Track:s,textTrack:Hr()}}extractID3Track(e,i){const n=this.id3Track;if(e.samples.length){const s=ct(e.samples,["emsg"]);s&&s.forEach(r=>{const a=IWe(r);if(HGe.test(a.schemeIdUri)){const o=Ye(a.presentationTime)?a.presentationTime/a.timeScale:i+a.presentationTimeDelta/a.timeScale;let l=a.eventDuration===4294967295?Number.POSITIVE_INFINITY:a.eventDuration/a.timeScale;l<=.001&&(l=Number.POSITIVE_INFINITY);const c=a.payload;n.samples.push({data:c,len:c.byteLength,dts:o,pts:o,type:vr.emsg,duration:l})}})}return n}demuxSampleAes(e,i,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}}const q$=(t,e)=>{let i=0,n=5;e+=n;const s=new Uint32Array(1),r=new Uint32Array(1),a=new Uint8Array(1);for(;n>0;){a[0]=t[e];const o=Math.min(n,8),l=8-o;r[0]=4278190080>>>24+l<<l,s[0]=(a[0]&r[0])>>l,i=i?i<<o|s[0]:s[0],e+=1,n-=o}return i};class qGe extends W9{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,i,n,s){super.resetInitSegment(e,i,n,s),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:i,duration:s,inputTimeScale:9e4,dropped:0}}canParse(e,i){return i+64<e.length}appendFrame(e,i,n){const s=eK(e,i,n,this.basePTS,this.frameIndex);if(s!==-1)return{sample:e.samples[e.samples.length-1],length:s,missing:0}}static probe(e){if(!e)return!1;const i=qp(e,0);if(!i)return!1;const n=i.length;return e[n]===11&&e[n+1]===119&&V9(i)!==void 0&&q$(e,n)<16}}function eK(t,e,i,n,s){if(i+8>e.length||e[i]!==11||e[i+1]!==119)return-1;const r=e[i+4]>>6;if(r>=3)return-1;const o=[48e3,44100,32e3][r],l=e[i+4]&63,u=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][l*3+r]*2;if(i+u>e.length)return-1;const d=e[i+6]>>5;let h=0;d===2?h+=2:(d&1&&d!==1&&(h+=2),d&4&&(h+=2));const f=(e[i+6]<<8|e[i+7])>>12-h&1,m=[2,1,2,3,3,4,4,5][d]+f,v=e[i+5]>>3,g=e[i+5]&7,E=new Uint8Array([r<<6|v<<1|g>>2,(g&3)<<6|d<<3|f<<2|l>>4,l<<4&224]),A=1536/o*9e4,R=n+s*A,I=e.subarray(i,i+u);return t.config=E,t.channelCount=m,t.samplerate=o,t.samples.push({unit:I,pts:R}),u}class eDe{constructor(){this.VideoSample=null}createVideoSample(e,i,n,s){return{key:e,frame:!1,pts:i,dts:n,units:[],debug:s,length:0}}getLastNalUnit(e){var i;let n=this.VideoSample,s;if((!n||n.units.length===0)&&(n=e[e.length-1]),(i=n)!=null&&i.units){const r=n.units;s=r[r.length-1]}return s}pushAccessUnit(e,i){if(e.units.length&&e.frame){if(e.pts===void 0){const n=i.samples,s=n.length;if(s){const r=n[s-1];e.pts=r.pts,e.dts=r.dts}else{i.dropped++;return}}i.samples.push(e)}e.debug.length&&re.log(e.pts+"/"+e.dts+":"+e.debug)}}class RF{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,i=this.bytesAvailable,n=e.byteLength-i,s=new Uint8Array(4),r=Math.min(4,i);if(r===0)throw new Error("no bytes available");s.set(e.subarray(n,n+r)),this.word=new DataView(s.buffer).getUint32(0),this.bitsAvailable=r*8,this.bytesAvailable-=r}skipBits(e){let i;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,i=e>>3,e-=i<<3,this.bytesAvailable-=i,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let i=Math.min(this.bitsAvailable,e);const n=this.word>>>32-i;if(e>32&&re.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=i,this.bitsAvailable>0)this.word<<=i;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return i=e-i,i>0&&this.bitsAvailable?n<<i|this.readBits(i):n}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let i=8,n=8,s;for(let r=0;r<e;r++)n!==0&&(s=this.readEG(),n=(i+s+256)%256),i=n===0?i:n}readSPS(){let e=0,i=0,n=0,s=0,r,a,o;const l=this.readUByte.bind(this),c=this.readBits.bind(this),u=this.readUEG.bind(this),d=this.readBoolean.bind(this),h=this.skipBits.bind(this),f=this.skipEG.bind(this),p=this.skipUEG.bind(this),m=this.skipScalingList.bind(this);l();const v=l();if(c(5),h(3),l(),p(),v===100||v===110||v===122||v===244||v===44||v===83||v===86||v===118||v===128){const L=u();if(L===3&&h(1),p(),p(),h(1),d())for(a=L!==3?8:12,o=0;o<a;o++)d()&&(o<6?m(16):m(64))}p();const g=u();if(g===0)u();else if(g===1)for(h(1),f(),f(),r=u(),o=0;o<r;o++)f();p(),h(1);const E=u(),A=u(),R=c(1);R===0&&h(1),h(1),d()&&(e=u(),i=u(),n=u(),s=u());let I=[1,1];if(d()&&d())switch(l()){case 1:I=[1,1];break;case 2:I=[12,11];break;case 3:I=[10,11];break;case 4:I=[16,11];break;case 5:I=[40,33];break;case 6:I=[24,11];break;case 7:I=[20,11];break;case 8:I=[32,11];break;case 9:I=[80,33];break;case 10:I=[18,11];break;case 11:I=[15,11];break;case 12:I=[64,33];break;case 13:I=[160,99];break;case 14:I=[4,3];break;case 15:I=[3,2];break;case 16:I=[2,1];break;case 255:{I=[l()<<8|l(),l()<<8|l()];break}}return{width:Math.ceil((E+1)*16-e*2-i*2),height:(2-R)*(A+1)*16-(R?2:4)*(n+s),pixelRatio:I}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class tDe extends eDe{parseAVCPES(e,i,n,s,r){const a=this.parseAVCNALu(e,n.data);let o=this.VideoSample,l,c=!1;n.data=null,o&&a.length&&!e.audFound&&(this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts,"")),a.forEach(u=>{var d;switch(u.type){case 1:{let m=!1;l=!0;const v=u.data;if(c&&v.length>4){const g=new RF(v).readSliceType();(g===2||g===4||g===7||g===9)&&(m=!0)}if(m){var h;(h=o)!=null&&h.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null)}o||(o=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts,"")),o.frame=!0,o.key=m;break}case 5:l=!0,(d=o)!=null&&d.frame&&!o.key&&(this.pushAccessUnit(o,e),o=this.VideoSample=null),o||(o=this.VideoSample=this.createVideoSample(!0,n.pts,n.dts,"")),o.key=!0,o.frame=!0;break;case 6:{l=!0,N$(u.data,1,n.pts,i.samples);break}case 7:{var f,p;l=!0,c=!0;const m=u.data,g=new RF(m).readSPS();if(!e.sps||e.width!==g.width||e.height!==g.height||((f=e.pixelRatio)==null?void 0:f[0])!==g.pixelRatio[0]||((p=e.pixelRatio)==null?void 0:p[1])!==g.pixelRatio[1]){e.width=g.width,e.height=g.height,e.pixelRatio=g.pixelRatio,e.sps=[m],e.duration=r;const E=m.subarray(1,4);let A="avc1.";for(let R=0;R<3;R++){let I=E[R].toString(16);I.length<2&&(I="0"+I),A+=I}e.codec=A}break}case 8:l=!0,e.pps=[u.data];break;case 9:l=!0,e.audFound=!0,o&&this.pushAccessUnit(o,e),o=this.VideoSample=this.createVideoSample(!1,n.pts,n.dts,"");break;case 12:l=!0;break;default:l=!1,o&&(o.debug+="unknown NAL "+u.type+" ");break}o&&l&&o.units.push(u)}),s&&o&&(this.pushAccessUnit(o,e),this.VideoSample=null)}parseAVCNALu(e,i){const n=i.byteLength;let s=e.naluState||0;const r=s,a=[];let o=0,l,c,u,d=-1,h=0;for(s===-1&&(d=0,h=i[0]&31,s=0,o=1);o<n;){if(l=i[o++],!s){s=l?0:1;continue}if(s===1){s=l?0:2;continue}if(!l)s=3;else if(l===1){if(c=o-s-1,d>=0){const f={data:i.subarray(d,c),type:h};a.push(f)}else{const f=this.getLastNalUnit(e.samples);f&&(r&&o<=4-r&&f.state&&(f.data=f.data.subarray(0,f.data.byteLength-r)),c>0&&(f.data=qs(f.data,i.subarray(0,c)),f.state=0))}o<n?(u=i[o]&31,d=o,h=u,s=0):s=-1}else s=0}if(d>=0&&s>=0){const f={data:i.subarray(d,n),type:h,state:s};a.push(f)}if(a.length===0){const f=this.getLastNalUnit(e.samples);f&&(f.data=qs(f.data,i))}return e.naluState=s,a}}class iDe{constructor(e,i,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new U9(i,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,i,n){const s=e[i].unit;if(s.length<=16)return;const r=s.subarray(16,s.length-s.length%16),a=r.buffer.slice(r.byteOffset,r.byteOffset+r.length);this.decryptBuffer(a).then(o=>{const l=new Uint8Array(o);s.set(l,16),this.decrypter.isSync()||this.decryptAacSamples(e,i+1,n)})}decryptAacSamples(e,i,n){for(;;i++){if(i>=e.length){n();return}if(!(e[i].unit.length<32)&&(this.decryptAacSample(e,i,n),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const i=Math.floor((e.length-48)/160)*16+16,n=new Int8Array(i);let s=0;for(let r=32;r<e.length-16;r+=160,s+=16)n.set(e.subarray(r,r+16),s);return n}getAvcDecryptedUnit(e,i){const n=new Uint8Array(i);let s=0;for(let r=32;r<e.length-16;r+=160,s+=16)e.set(n.subarray(s,s+16),r);return e}decryptAvcSample(e,i,n,s,r){const a=V$(r.data),o=this.getAvcEncryptedData(a);this.decryptBuffer(o.buffer).then(l=>{r.data=this.getAvcDecryptedUnit(a,l),this.decrypter.isSync()||this.decryptAvcSamples(e,i,n+1,s)})}decryptAvcSamples(e,i,n,s){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;i++,n=0){if(i>=e.length){s();return}const r=e[i].units;for(;!(n>=r.length);n++){const a=r[n];if(!(a.data.length<=48||a.type!==1&&a.type!==5)&&(this.decryptAvcSample(e,i,n,s,a),!this.decrypter.isSync()))return}}}}const zi=188;class Yo{constructor(e,i,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=i,this.typeSupported=n,this.videoParser=new tDe}static probe(e){const i=Yo.syncOffset(e);return i>0&&re.warn(`MPEG2-TS detected but first sync word found @ offset ${i}`),i!==-1}static syncOffset(e){const i=e.length;let n=Math.min(zi*5,i-zi)+1,s=0;for(;s<n;){let r=!1,a=-1,o=0;for(let l=s;l<i;l+=zi)if(e[l]===71&&(i-l===zi||e[l+zi]===71)){if(o++,a===-1&&(a=l,a!==0&&(n=Math.min(a+zi*99,e.length-zi)+1)),r||(r=_T(e,l)===0),r&&o>1&&(a===0&&o>2||l+zi>n))return a}else{if(o)return-1;break}s++}return-1}static createTrack(e,i){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:R$[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?i:void 0}}resetInitSegment(e,i,n,s){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Yo.createTrack("video"),this._audioTrack=Yo.createTrack("audio",s),this._id3Track=Yo.createTrack("id3"),this._txtTrack=Yo.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=i,this.videoCodec=n,this._duration=s}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:i,_id3Track:n}=this;e&&(e.pesData=null),i&&(i.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,i,n=!1,s=!1){n||(this.sampleAes=null);let r;const a=this._videoTrack,o=this._audioTrack,l=this._id3Track,c=this._txtTrack;let u=a.pid,d=a.pesData,h=o.pid,f=l.pid,p=o.pesData,m=l.pesData,v=null,g=this.pmtParsed,E=this._pmtId,A=e.length;if(this.remainderData&&(e=qs(this.remainderData,e),A=e.length,this.remainderData=null),A<zi&&!s)return this.remainderData=e,{audioTrack:o,videoTrack:a,id3Track:l,textTrack:c};const R=Math.max(0,Yo.syncOffset(e));A-=(A-R)%zi,A<e.byteLength&&!s&&(this.remainderData=new Uint8Array(e.buffer,A,e.buffer.byteLength-A));let I=0;for(let F=R;F<A;F+=zi)if(e[F]===71){const B=!!(e[F+1]&64),G=_T(e,F),Z=(e[F+3]&48)>>4;let j;if(Z>1){if(j=F+5+e[F+4],j===F+zi)continue}else j=F+4;switch(G){case u:B&&(d&&(r=gu(d))&&this.videoParser.parseAVCPES(a,c,r,!1,this._duration),d={data:[],size:0}),d&&(d.data.push(e.subarray(j,F+zi)),d.size+=F+zi-j);break;case h:if(B){if(p&&(r=gu(p)))switch(o.segmentCodec){case"aac":this.parseAACPES(o,r);break;case"mp3":this.parseMPEGPES(o,r);break;case"ac3":this.parseAC3PES(o,r);break}p={data:[],size:0}}p&&(p.data.push(e.subarray(j,F+zi)),p.size+=F+zi-j);break;case f:B&&(m&&(r=gu(m))&&this.parseID3PES(l,r),m={data:[],size:0}),m&&(m.data.push(e.subarray(j,F+zi)),m.size+=F+zi-j);break;case 0:B&&(j+=e[j]+1),E=this._pmtId=nDe(e,j);break;case E:{B&&(j+=e[j]+1);const pe=sDe(e,j,this.typeSupported,n,this.observer);u=pe.videoPid,u>0&&(a.pid=u,a.segmentCodec=pe.segmentVideoCodec),h=pe.audioPid,h>0&&(o.pid=h,o.segmentCodec=pe.segmentAudioCodec),f=pe.id3Pid,f>0&&(l.pid=f),v!==null&&!g&&(re.warn(`MPEG-TS PMT found at ${F} after unknown PID '${v}'. Backtracking to sync byte @${R} to parse all TS packets.`),v=null,F=R-188),g=this.pmtParsed=!0;break}case 17:case 8191:break;default:v=G;break}}else I++;I>0&&cy(this.observer,new Error(`Found ${I} TS packet/s that do not start with 0x47`)),a.pesData=d,o.pesData=p,l.pesData=m;const L={audioTrack:o,videoTrack:a,id3Track:l,textTrack:c};return s&&this.extractRemainingSamples(L),L}flush(){const{remainderData:e}=this;this.remainderData=null;let i;return e?i=this.demux(e,-1,!1,!0):i={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(i),this.sampleAes?this.decrypt(i,this.sampleAes):i}extractRemainingSamples(e){const{audioTrack:i,videoTrack:n,id3Track:s,textTrack:r}=e,a=n.pesData,o=i.pesData,l=s.pesData;let c;if(a&&(c=gu(a))?(this.videoParser.parseAVCPES(n,r,c,!0,this._duration),n.pesData=null):n.pesData=a,o&&(c=gu(o))){switch(i.segmentCodec){case"aac":this.parseAACPES(i,c);break;case"mp3":this.parseMPEGPES(i,c);break;case"ac3":this.parseAC3PES(i,c);break}i.pesData=null}else o!=null&&o.size&&re.log("last AAC PES packet truncated,might overlap between fragments"),i.pesData=o;l&&(c=gu(l))?(this.parseID3PES(s,c),s.pesData=null):s.pesData=l}demuxSampleAes(e,i,n){const s=this.demux(e,n,!0,!this.config.progressive),r=this.sampleAes=new iDe(this.observer,this.config,i);return this.decrypt(s,r)}decrypt(e,i){return new Promise(n=>{const{audioTrack:s,videoTrack:r}=e;s.samples&&s.segmentCodec==="aac"?i.decryptAacSamples(s.samples,0,()=>{r.samples?i.decryptAvcSamples(r.samples,0,0,()=>{n(e)}):n(e)}):r.samples&&i.decryptAvcSamples(r.samples,0,0,()=>{n(e)})})}destroy(){this._duration=0}parseAACPES(e,i){let n=0;const s=this.aacOverFlow;let r=i.data;if(s){this.aacOverFlow=null;const d=s.missing,h=s.sample.unit.byteLength;if(d===-1)r=qs(s.sample.unit,r);else{const f=h-d;s.sample.unit.set(r.subarray(0,d),f),e.samples.push(s.sample),n=s.missing}}let a,o;for(a=n,o=r.length;a<o-1&&!ly(r,a);a++);if(a!==n){let d;const h=a<o-1;if(h?d=`AAC PES did not start with ADTS header,offset:${a}`:d="No ADTS header found in AAC PES",cy(this.observer,new Error(d),h),!h)return}$$(e,this.observer,r,a,this.audioCodec);let l;if(i.pts!==void 0)l=i.pts;else if(s){const d=K$(e.samplerate);l=s.sample.pts+d}else{re.warn("[tsdemuxer]: AAC PES unknown PTS");return}let c=0,u;for(;a<o;)if(u=z$(e,r,a,l,c),a+=u.length,u.missing){this.aacOverFlow=u;break}else for(c++;a<o-1&&!ly(r,a);a++);}parseMPEGPES(e,i){const n=i.data,s=n.length;let r=0,a=0;const o=i.pts;if(o===void 0){re.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;a<s;)if(H$(n,a)){const l=J$(e,n,a,o,r);if(l)a+=l.length,r++;else break}else a++}parseAC3PES(e,i){{const n=i.data,s=i.pts;if(s===void 0){re.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const r=n.length;let a=0,o=0,l;for(;o<r&&(l=eK(e,n,o,s,a++))>0;)o+=l}}parseID3PES(e,i){if(i.pts===void 0){re.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const n=Pi({},i,{type:this._videoTrack?vr.emsg:vr.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(n)}}function _T(t,e){return((t[e+1]&31)<<8)+t[e+2]}function nDe(t,e){return(t[e+10]&31)<<8|t[e+11]}function sDe(t,e,i,n,s){const r={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},a=(t[e+1]&15)<<8|t[e+2],o=e+3+a-4,l=(t[e+10]&15)<<8|t[e+11];for(e+=12+l;e<o;){const c=_T(t,e),u=(t[e+3]&15)<<8|t[e+4];switch(t[e]){case 207:if(!n){I5("ADTS AAC");break}case 15:r.audioPid===-1&&(r.audioPid=c);break;case 21:r.id3Pid===-1&&(r.id3Pid=c);break;case 219:if(!n){I5("H.264");break}case 27:r.videoPid===-1&&(r.videoPid=c,r.segmentVideoCodec="avc");break;case 3:case 4:!i.mpeg&&!i.mp3?re.log("MPEG audio found, not supported in this browser"):r.audioPid===-1&&(r.audioPid=c,r.segmentAudioCodec="mp3");break;case 193:if(!n){I5("AC-3");break}case 129:i.ac3?r.audioPid===-1&&(r.audioPid=c,r.segmentAudioCodec="ac3"):re.log("AC-3 audio found, not supported in this browser");break;case 6:if(r.audioPid===-1&&u>0){let d=e+5,h=u;for(;h>2;){switch(t[d]){case 106:i.ac3!==!0?re.log("AC-3 audio found, not supported in this browser for now"):(r.audioPid=c,r.segmentAudioCodec="ac3");break}const p=t[d+1]+2;d+=p,h-=p}}break;case 194:case 135:return cy(s,new Error("Unsupported EC-3 in M2TS found")),r;case 36:return cy(s,new Error("Unsupported HEVC in M2TS found")),r}e+=u+5}return r}function cy(t,e,i){re.warn(`parsing error: ${e.message}`),t.emit(U.ERROR,U.ERROR,{type:nt.MEDIA_ERROR,details:Ae.FRAG_PARSING_ERROR,fatal:!1,levelRetry:i,error:e,reason:e.message})}function I5(t){re.log(`${t} with AES-128-CBC encryption found in unencrypted stream`)}function gu(t){let e=0,i,n,s,r,a;const o=t.data;if(!t||t.size===0)return null;for(;o[0].length<19&&o.length>1;)o[0]=qs(o[0],o[1]),o.splice(1,1);if(i=o[0],(i[0]<<16)+(i[1]<<8)+i[2]===1){if(n=(i[4]<<8)+i[5],n&&n>t.size-6)return null;const c=i[7];c&192&&(r=(i[9]&14)*536870912+(i[10]&255)*4194304+(i[11]&254)*16384+(i[12]&255)*128+(i[13]&254)/2,c&64?(a=(i[14]&14)*536870912+(i[15]&255)*4194304+(i[16]&254)*16384+(i[17]&255)*128+(i[18]&254)/2,r-a>60*9e4&&(re.warn(`${Math.round((r-a)/9e4)}s delta between PTS and DTS, align them`),r=a)):a=r),s=i[8];let u=s+9;if(t.size<=u)return null;t.size-=u;const d=new Uint8Array(t.size);for(let h=0,f=o.length;h<f;h++){i=o[h];let p=i.byteLength;if(u)if(u>p){u-=p;continue}else i=i.subarray(u),p-=u,u=0;d.set(i,e),e+=p}return n&&(n-=s+3),{data:d,pts:r,dts:a,len:n}}return null}class rDe extends W9{resetInitSegment(e,i,n,s){super.resetInitSegment(e,i,n,s),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:i,duration:s,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const i=qp(e,0);let n=(i==null?void 0:i.length)||0;if(i&&e[n]===11&&e[n+1]===119&&V9(i)!==void 0&&q$(e,n)<=16)return!1;for(let s=e.length;n<s;n++)if(Q$(e,n))return re.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,i){return JGe(e,i)}appendFrame(e,i,n){if(this.basePTS!==null)return J$(e,i,n,this.basePTS,this.frameIndex)}}class IF{static getSilentFrame(e,i){switch(e){case"mp4a.40.2":if(i===1)return new Uint8Array([0,200,0,128,35,128]);if(i===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(i===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(i===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(i===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(i===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(i===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(i===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(i===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const Do=Math.pow(2,32)-1;class fe{static init(){fe.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in fe.types)fe.types.hasOwnProperty(e)&&(fe.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const i=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),n=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);fe.HDLR_TYPES={video:i,audio:n};const s=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),r=new Uint8Array([0,0,0,0,0,0,0,0]);fe.STTS=fe.STSC=fe.STCO=r,fe.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),fe.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),fe.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),fe.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const a=new Uint8Array([105,115,111,109]),o=new Uint8Array([97,118,99,49]),l=new Uint8Array([0,0,0,1]);fe.FTYP=fe.box(fe.types.ftyp,a,l,a,o),fe.DINF=fe.box(fe.types.dinf,fe.box(fe.types.dref,s))}static box(e,...i){let n=8,s=i.length;const r=s;for(;s--;)n+=i[s].byteLength;const a=new Uint8Array(n);for(a[0]=n>>24&255,a[1]=n>>16&255,a[2]=n>>8&255,a[3]=n&255,a.set(e,4),s=0,n=8;s<r;s++)a.set(i[s],n),n+=i[s].byteLength;return a}static hdlr(e){return fe.box(fe.types.hdlr,fe.HDLR_TYPES[e])}static mdat(e){return fe.box(fe.types.mdat,e)}static mdhd(e,i){i*=e;const n=Math.floor(i/(Do+1)),s=Math.floor(i%(Do+1));return fe.box(fe.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,s>>24,s>>16&255,s>>8&255,s&255,85,196,0,0]))}static mdia(e){return fe.box(fe.types.mdia,fe.mdhd(e.timescale,e.duration),fe.hdlr(e.type),fe.minf(e))}static mfhd(e){return fe.box(fe.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?fe.box(fe.types.minf,fe.box(fe.types.smhd,fe.SMHD),fe.DINF,fe.stbl(e)):fe.box(fe.types.minf,fe.box(fe.types.vmhd,fe.VMHD),fe.DINF,fe.stbl(e))}static moof(e,i,n){return fe.box(fe.types.moof,fe.mfhd(e),fe.traf(n,i))}static moov(e){let i=e.length;const n=[];for(;i--;)n[i]=fe.trak(e[i]);return fe.box.apply(null,[fe.types.moov,fe.mvhd(e[0].timescale,e[0].duration)].concat(n).concat(fe.mvex(e)))}static mvex(e){let i=e.length;const n=[];for(;i--;)n[i]=fe.trex(e[i]);return fe.box.apply(null,[fe.types.mvex,...n])}static mvhd(e,i){i*=e;const n=Math.floor(i/(Do+1)),s=Math.floor(i%(Do+1)),r=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,n>>24,n>>16&255,n>>8&255,n&255,s>>24,s>>16&255,s>>8&255,s&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return fe.box(fe.types.mvhd,r)}static sdtp(e){const i=e.samples||[],n=new Uint8Array(4+i.length);let s,r;for(s=0;s<i.length;s++)r=i[s].flags,n[s+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return fe.box(fe.types.sdtp,n)}static stbl(e){return fe.box(fe.types.stbl,fe.stsd(e),fe.box(fe.types.stts,fe.STTS),fe.box(fe.types.stsc,fe.STSC),fe.box(fe.types.stsz,fe.STSZ),fe.box(fe.types.stco,fe.STCO))}static avc1(e){let i=[],n=[],s,r,a;for(s=0;s<e.sps.length;s++)r=e.sps[s],a=r.byteLength,i.push(a>>>8&255),i.push(a&255),i=i.concat(Array.prototype.slice.call(r));for(s=0;s<e.pps.length;s++)r=e.pps[s],a=r.byteLength,n.push(a>>>8&255),n.push(a&255),n=n.concat(Array.prototype.slice.call(r));const o=fe.box(fe.types.avcC,new Uint8Array([1,i[3],i[4],i[5],255,224|e.sps.length].concat(i).concat([e.pps.length]).concat(n))),l=e.width,c=e.height,u=e.pixelRatio[0],d=e.pixelRatio[1];return fe.box(fe.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l>>8&255,l&255,c>>8&255,c&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),o,fe.box(fe.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),fe.box(fe.types.pasp,new Uint8Array([u>>24,u>>16&255,u>>8&255,u&255,d>>24,d>>16&255,d>>8&255,d&255])))}static esds(e){const i=e.config.length;return new Uint8Array([0,0,0,0,3,23+i,0,1,0,4,15+i,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([i]).concat(e.config).concat([6,1,2]))}static audioStsd(e){const i=e.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,i>>8&255,i&255,0,0])}static mp4a(e){return fe.box(fe.types.mp4a,fe.audioStsd(e),fe.box(fe.types.esds,fe.esds(e)))}static mp3(e){return fe.box(fe.types[".mp3"],fe.audioStsd(e))}static ac3(e){return fe.box(fe.types["ac-3"],fe.audioStsd(e),fe.box(fe.types.dac3,e.config))}static stsd(e){return e.type==="audio"?e.segmentCodec==="mp3"&&e.codec==="mp3"?fe.box(fe.types.stsd,fe.STSD,fe.mp3(e)):e.segmentCodec==="ac3"?fe.box(fe.types.stsd,fe.STSD,fe.ac3(e)):fe.box(fe.types.stsd,fe.STSD,fe.mp4a(e)):fe.box(fe.types.stsd,fe.STSD,fe.avc1(e))}static tkhd(e){const i=e.id,n=e.duration*e.timescale,s=e.width,r=e.height,a=Math.floor(n/(Do+1)),o=Math.floor(n%(Do+1));return fe.box(fe.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,i>>24&255,i>>16&255,i>>8&255,i&255,0,0,0,0,a>>24,a>>16&255,a>>8&255,a&255,o>>24,o>>16&255,o>>8&255,o&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,s>>8&255,s&255,0,0,r>>8&255,r&255,0,0]))}static traf(e,i){const n=fe.sdtp(e),s=e.id,r=Math.floor(i/(Do+1)),a=Math.floor(i%(Do+1));return fe.box(fe.types.traf,fe.box(fe.types.tfhd,new Uint8Array([0,0,0,0,s>>24,s>>16&255,s>>8&255,s&255])),fe.box(fe.types.tfdt,new Uint8Array([1,0,0,0,r>>24,r>>16&255,r>>8&255,r&255,a>>24,a>>16&255,a>>8&255,a&255])),fe.trun(e,n.length+16+20+8+16+8+8),n)}static trak(e){return e.duration=e.duration||4294967295,fe.box(fe.types.trak,fe.tkhd(e),fe.mdia(e))}static trex(e){const i=e.id;return fe.box(fe.types.trex,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,i){const n=e.samples||[],s=n.length,r=12+16*s,a=new Uint8Array(r);let o,l,c,u,d,h;for(i+=8+r,a.set([e.type==="video"?1:0,0,15,1,s>>>24&255,s>>>16&255,s>>>8&255,s&255,i>>>24&255,i>>>16&255,i>>>8&255,i&255],0),o=0;o<s;o++)l=n[o],c=l.duration,u=l.size,d=l.flags,h=l.cts,a.set([c>>>24&255,c>>>16&255,c>>>8&255,c&255,u>>>24&255,u>>>16&255,u>>>8&255,u&255,d.isLeading<<2|d.dependsOn,d.isDependedOn<<6|d.hasRedundancy<<4|d.paddingValue<<1|d.isNonSync,d.degradPrio&61440,d.degradPrio&15,h>>>24&255,h>>>16&255,h>>>8&255,h&255],12+16*o);return fe.box(fe.types.trun,a)}static initSegment(e){fe.types||fe.init();const i=fe.moov(e);return qs(fe.FTYP,i)}}fe.types=void 0;fe.HDLR_TYPES=void 0;fe.STTS=void 0;fe.STSC=void 0;fe.STCO=void 0;fe.STSZ=void 0;fe.VMHD=void 0;fe.SMHD=void 0;fe.STSD=void 0;fe.FTYP=void 0;fe.DINF=void 0;const tK=9e4;function M9(t,e,i=1,n=!1){const s=t*e*i;return n?Math.round(s):s}function aDe(t,e,i=1,n=!1){return M9(t,e,1/i,n)}function Tf(t,e=!1){return M9(t,1e3,1/tK,e)}function oDe(t,e=1){return M9(t,tK,1/e)}const lDe=10*1e3,wF=1024,cDe=1152,uDe=1536;let yu=null,w5=null;class fg{constructor(e,i,n,s=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=i,this.typeSupported=n,this.ISGenerated=!1,yu===null){const a=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);yu=a?parseInt(a[1]):0}if(w5===null){const r=navigator.userAgent.match(/Safari\/(\d+)/i);w5=r?parseInt(r[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){re.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){re.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){re.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let i=!1;const n=e[0].pts,s=e.reduce((r,a)=>{let o=a.pts,l=o-r;return l<-4294967296&&(i=!0,o=Ws(o,n),l=o-r),l>0?r:o},n);return i&&re.debug("PTS rollover detected"),s}remux(e,i,n,s,r,a,o,l){let c,u,d,h,f,p,m=r,v=r;const g=e.pid>-1,E=i.pid>-1,A=i.samples.length,R=e.samples.length>0,I=o&&A>0||A>1;if((!g||R)&&(!E||I)||this.ISGenerated||o){if(this.ISGenerated){var F,B,G,Z;const me=this.videoTrackConfig;me&&(i.width!==me.width||i.height!==me.height||((F=i.pixelRatio)==null?void 0:F[0])!==((B=me.pixelRatio)==null?void 0:B[0])||((G=i.pixelRatio)==null?void 0:G[1])!==((Z=me.pixelRatio)==null?void 0:Z[1]))&&this.resetInitSegment()}else d=this.generateIS(e,i,r,a);const j=this.isVideoContiguous;let pe=-1,J;if(I&&(pe=dDe(i.samples),!j&&this.config.forceKeyFrameOnDiscontinuity))if(p=!0,pe>0){re.warn(`[mp4-remuxer]: Dropped ${pe} out of ${A} video samples due to a missing keyframe`);const me=this.getVideoStartPts(i.samples);i.samples=i.samples.slice(pe),i.dropped+=pe,v+=(i.samples[0].pts-me)/i.inputTimeScale,J=v}else pe===-1&&(re.warn(`[mp4-remuxer]: No keyframe found out of ${A} video samples`),p=!1);if(this.ISGenerated){if(R&&I){const me=this.getVideoStartPts(i.samples),ye=(Ws(e.samples[0].pts,me)-me)/i.inputTimeScale;m+=Math.max(0,ye),v+=Math.max(0,-ye)}if(R){if(e.samplerate||(re.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),d=this.generateIS(e,i,r,a)),u=this.remuxAudio(e,m,this.isAudioContiguous,a,E||I||l===qe.AUDIO?v:void 0),I){const me=u?u.endPTS-u.startPTS:0;i.inputTimeScale||(re.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),d=this.generateIS(e,i,r,a)),c=this.remuxVideo(i,v,j,me)}}else I&&(c=this.remuxVideo(i,v,j,0));c&&(c.firstKeyFrame=pe,c.independent=pe!==-1,c.firstKeyFramePTS=J)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(n.samples.length&&(f=iK(n,r,this._initPTS,this._initDTS)),s.samples.length&&(h=nK(s,r,this._initPTS))),{audio:u,video:c,initSegment:d,independent:p,text:h,id3:f}}generateIS(e,i,n,s){const r=e.samples,a=i.samples,o=this.typeSupported,l={},c=this._initPTS;let u=!c||s,d="audio/mp4",h,f,p;if(u&&(h=f=1/0),e.config&&r.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":o.mpeg?(d="audio/mpeg",e.codec=""):o.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}l.audio={id:"audio",container:d,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&o.mpeg?new Uint8Array(0):fe.initSegment([e]),metadata:{channelCount:e.channelCount}},u&&(p=e.inputTimeScale,!c||p!==c.timescale?h=f=r[0].pts-Math.round(p*n):u=!1)}if(i.sps&&i.pps&&a.length){if(i.timescale=i.inputTimeScale,l.video={id:"main",container:"video/mp4",codec:i.codec,initSegment:fe.initSegment([i]),metadata:{width:i.width,height:i.height}},u)if(p=i.inputTimeScale,!c||p!==c.timescale){const m=this.getVideoStartPts(a),v=Math.round(p*n);f=Math.min(f,Ws(a[0].dts,m)-v),h=Math.min(h,m-v)}else u=!1;this.videoTrackConfig={width:i.width,height:i.height,pixelRatio:i.pixelRatio}}if(Object.keys(l).length)return this.ISGenerated=!0,u?(this._initPTS={baseTime:h,timescale:p},this._initDTS={baseTime:f,timescale:p}):h=p=void 0,{tracks:l,initPTS:h,timescale:p}}remuxVideo(e,i,n,s){const r=e.inputTimeScale,a=e.samples,o=[],l=a.length,c=this._initPTS;let u=this.nextAvcDts,d=8,h=this.videoSampleDuration,f,p,m=Number.POSITIVE_INFINITY,v=Number.NEGATIVE_INFINITY,g=!1;if(!n||u===null){const H=i*r,ee=a[0].pts-Ws(a[0].dts,a[0].pts);yu&&u!==null&&Math.abs(H-ee-u)<15e3?n=!0:u=H-ee}const E=c.baseTime*r/c.timescale;for(let H=0;H<l;H++){const ee=a[H];ee.pts=Ws(ee.pts-E,u),ee.dts=Ws(ee.dts-E,u),ee.dts<a[H>0?H-1:H].dts&&(g=!0)}g&&a.sort(function(H,ee){const we=H.dts-ee.dts,M=H.pts-ee.pts;return we||M}),f=a[0].dts,p=a[a.length-1].dts;const A=p-f,R=A?Math.round(A/(l-1)):h||e.inputTimeScale/30;if(n){const H=f-u,ee=H>R,we=H<-1;if((ee||we)&&(ee?re.warn(`AVC: ${Tf(H,!0)} ms (${H}dts) hole between fragments detected at ${i.toFixed(3)}`):re.warn(`AVC: ${Tf(-H,!0)} ms (${H}dts) overlapping between fragments detected at ${i.toFixed(3)}`),!we||u>=a[0].pts||yu)){f=u;const M=a[0].pts-H;if(ee)a[0].dts=f,a[0].pts=M;else for(let Q=0;Q<a.length&&!(a[Q].dts>M);Q++)a[Q].dts-=H,a[Q].pts-=H;re.log(`Video: Initial PTS/DTS adjusted: ${Tf(M,!0)}/${Tf(f,!0)}, delta: ${Tf(H,!0)} ms`)}}f=Math.max(0,f);let I=0,L=0,F=f;for(let H=0;H<l;H++){const ee=a[H],we=ee.units,M=we.length;let Q=0;for(let se=0;se<M;se++)Q+=we[se].data.length;L+=Q,I+=M,ee.length=Q,ee.dts<F?(ee.dts=F,F+=R/4|0||1):F=ee.dts,m=Math.min(ee.pts,m),v=Math.max(ee.pts,v)}p=a[l-1].dts;const B=L+4*I+8;let G;try{G=new Uint8Array(B)}catch(H){this.observer.emit(U.ERROR,U.ERROR,{type:nt.MUX_ERROR,details:Ae.REMUX_ALLOC_ERROR,fatal:!1,error:H,bytes:B,reason:`fail allocating video mdat ${B}`});return}const Z=new DataView(G.buffer);Z.setUint32(0,B),G.set(fe.types.mdat,4);let j=!1,pe=Number.POSITIVE_INFINITY,J=Number.POSITIVE_INFINITY,me=Number.NEGATIVE_INFINITY,de=Number.NEGATIVE_INFINITY;for(let H=0;H<l;H++){const ee=a[H],we=ee.units;let M=0;for(let ne=0,Ie=we.length;ne<Ie;ne++){const ke=we[ne],De=ke.data,$e=ke.data.byteLength;Z.setUint32(d,$e),d+=4,G.set(De,d),d+=$e,M+=4+$e}let Q;if(H<l-1)h=a[H+1].dts-ee.dts,Q=a[H+1].pts-ee.pts;else{const ne=this.config,Ie=H>0?ee.dts-a[H-1].dts:R;if(Q=H>0?ee.pts-a[H-1].pts:R,ne.stretchShortVideoTrack&&this.nextAudioPts!==null){const ke=Math.floor(ne.maxBufferHole*r),De=(s?m+s*r:this.nextAudioPts)-ee.pts;De>ke?(h=De-Ie,h<0?h=Ie:j=!0,re.log(`[mp4-remuxer]: It is approximately ${De/90} ms to the next segment; using duration ${h/90} ms for the last video frame.`)):h=Ie}else h=Ie}const se=Math.round(ee.pts-ee.dts);pe=Math.min(pe,h),me=Math.max(me,h),J=Math.min(J,Q),de=Math.max(de,Q),o.push(new _F(ee.key,h,M,se))}if(o.length){if(yu){if(yu<70){const H=o[0].flags;H.dependsOn=2,H.isNonSync=0}}else if(w5&&de-J<me-pe&&R/me<.025&&o[0].cts===0){re.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let H=f;for(let ee=0,we=o.length;ee<we;ee++){const M=H+o[ee].duration,Q=H+o[ee].cts;if(ee<we-1){const se=M+o[ee+1].cts;o[ee].duration=se-Q}else o[ee].duration=ee?o[ee-1].duration:R;o[ee].cts=0,H=M}}}h=j||!h?R:h,this.nextAvcDts=u=p+h,this.videoSampleDuration=h,this.isVideoContiguous=!0;const ge={data1:fe.moof(e.sequenceNumber++,f,Pi({},e,{samples:o})),data2:G,startPTS:m/r,endPTS:(v+h)/r,startDTS:f/r,endDTS:u/r,type:"video",hasAudio:!1,hasVideo:!0,nb:o.length,dropped:e.dropped};return e.samples=[],e.dropped=0,ge}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return cDe;case"ac3":return uDe;default:return wF}}remuxAudio(e,i,n,s,r){const a=e.inputTimeScale,o=e.samplerate?e.samplerate:a,l=a/o,c=this.getSamplesPerFrame(e),u=c*l,d=this._initPTS,h=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,f=[],p=r!==void 0;let m=e.samples,v=h?0:8,g=this.nextAudioPts||-1;const E=i*a,A=d.baseTime*a/d.timescale;if(this.isAudioContiguous=n=n||m.length&&g>0&&(s&&Math.abs(E-g)<9e3||Math.abs(Ws(m[0].pts-A,E)-g)<20*u),m.forEach(function(ye){ye.pts=Ws(ye.pts-A,E)}),!n||g<0){if(m=m.filter(ye=>ye.pts>=0),!m.length)return;r===0?g=0:s&&!p?g=Math.max(0,E):g=m[0].pts}if(e.segmentCodec==="aac"){const ye=this.config.maxAudioFramesDrift;for(let Le=0,ge=g;Le<m.length;Le++){const H=m[Le],ee=H.pts,we=ee-ge,M=Math.abs(1e3*we/a);if(we<=-ye*u&&p)Le===0&&(re.warn(`Audio frame @ ${(ee/a).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*we/a)} ms.`),this.nextAudioPts=g=ge=ee);else if(we>=ye*u&&M<lDe&&p){let Q=Math.round(we/u);ge=ee-Q*u,ge<0&&(Q--,ge+=u),Le===0&&(this.nextAudioPts=g=ge),re.warn(`[mp4-remuxer]: Injecting ${Q} audio frame @ ${(ge/a).toFixed(3)}s due to ${Math.round(1e3*we/a)} ms gap.`);for(let se=0;se<Q;se++){const ne=Math.max(ge,0);let Ie=IF.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);Ie||(re.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Ie=H.unit.subarray()),m.splice(Le,0,{unit:Ie,pts:ne}),ge+=u,Le++}}H.pts=ge,ge+=u}}let R=null,I=null,L,F=0,B=m.length;for(;B--;)F+=m[B].unit.byteLength;for(let ye=0,Le=m.length;ye<Le;ye++){const ge=m[ye],H=ge.unit;let ee=ge.pts;if(I!==null){const M=f[ye-1];M.duration=Math.round((ee-I)/l)}else if(n&&e.segmentCodec==="aac"&&(ee=g),R=ee,F>0){F+=v;try{L=new Uint8Array(F)}catch(M){this.observer.emit(U.ERROR,U.ERROR,{type:nt.MUX_ERROR,details:Ae.REMUX_ALLOC_ERROR,fatal:!1,error:M,bytes:F,reason:`fail allocating audio mdat ${F}`});return}h||(new DataView(L.buffer).setUint32(0,F),L.set(fe.types.mdat,4))}else return;L.set(H,v);const we=H.byteLength;v+=we,f.push(new _F(!0,c,we,0)),I=ee}const G=f.length;if(!G)return;const Z=f[f.length-1];this.nextAudioPts=g=I+l*Z.duration;const j=h?new Uint8Array(0):fe.moof(e.sequenceNumber++,R/l,Pi({},e,{samples:f}));e.samples=[];const pe=R/a,J=g/a,de={data1:j,data2:L,startPTS:pe,endPTS:J,startDTS:pe,endDTS:J,type:"audio",hasAudio:!0,hasVideo:!1,nb:G};return this.isAudioContiguous=!0,de}remuxEmptyAudio(e,i,n,s){const r=e.inputTimeScale,a=e.samplerate?e.samplerate:r,o=r/a,l=this.nextAudioPts,c=this._initDTS,u=c.baseTime*9e4/c.timescale,d=(l!==null?l:s.startDTS*r)+u,h=s.endDTS*r+u,f=o*wF,p=Math.ceil((h-d)/f),m=IF.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(re.warn("[mp4-remuxer]: remux empty Audio"),!m){re.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}const v=[];for(let g=0;g<p;g++){const E=d+g*f;v.push({unit:m,pts:E,dts:E})}return e.samples=v,this.remuxAudio(e,i,n,!1)}}function Ws(t,e){let i;if(e===null)return t;for(e<t?i=-8589934592:i=8589934592;Math.abs(t-e)>4294967296;)t+=i;return t}function dDe(t){for(let e=0;e<t.length;e++)if(t[e].key)return e;return-1}function iK(t,e,i,n){const s=t.samples.length;if(!s)return;const r=t.inputTimeScale;for(let o=0;o<s;o++){const l=t.samples[o];l.pts=Ws(l.pts-i.baseTime*r/i.timescale,e*r)/r,l.dts=Ws(l.dts-n.baseTime*r/n.timescale,e*r)/r}const a=t.samples;return t.samples=[],{samples:a}}function nK(t,e,i){const n=t.samples.length;if(!n)return;const s=t.inputTimeScale;for(let a=0;a<n;a++){const o=t.samples[a];o.pts=Ws(o.pts-i.baseTime*s/i.timescale,e*s)/s}t.samples.sort((a,o)=>a.pts-o.pts);const r=t.samples;return t.samples=[],{samples:r}}class _F{constructor(e,i,n,s){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=i,this.size=n,this.cts=s,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:e?2:1,isNonSync:e?0:1}}}class hDe{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,i,n,s){this.audioCodec=i,this.videoCodec=n,this.generateInitSegment(bWe(e,s)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:i,videoCodec:n}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const s=this.initData=_$(e);s.audio&&(i=xF(s.audio,Gt.AUDIO)),s.video&&(n=xF(s.video,Gt.VIDEO));const r={};s.audio&&s.video?r.audiovideo={container:"video/mp4",codec:i+","+n,initSegment:e,id:"main"}:s.audio?r.audio={container:"audio/mp4",codec:i,initSegment:e,id:"audio"}:s.video?r.video={container:"video/mp4",codec:n,initSegment:e,id:"main"}:re.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=r}remux(e,i,n,s,r,a){var o,l;let{initPTS:c,lastEndTime:u}=this;const d={audio:void 0,video:void 0,text:s,id3:n,initSegment:void 0};Ye(u)||(u=this.lastEndTime=r||0);const h=i.samples;if(!(h!=null&&h.length))return d;const f={initPTS:void 0,timescale:1};let p=this.initData;if((o=p)!=null&&o.length||(this.generateInitSegment(h),p=this.initData),!((l=p)!=null&&l.length))return re.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),d;this.emitInitSegment&&(f.tracks=this.initTracks,this.emitInitSegment=!1);const m=EWe(h,p),v=vWe(p,h),g=v===null?r:v;(fDe(c,g,r,m)||f.timescale!==c.timescale&&a)&&(f.initPTS=g-r,c&&c.timescale===1&&re.warn(`Adjusting initPTS by ${f.initPTS-c.baseTime}`),this.initPTS=c={baseTime:f.initPTS,timescale:1});const E=e?g-c.baseTime/c.timescale:u,A=E+m;SWe(p,h,c.baseTime/c.timescale),m>0?this.lastEndTime=A:(re.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const R=!!p.audio,I=!!p.video;let L="";R&&(L+="audio"),I&&(L+="video");const F={data1:h,startPTS:E,startDTS:E,endPTS:A,endDTS:A,type:L,hasAudio:R,hasVideo:I,nb:1,dropped:0};return d.audio=F.type==="audio"?F:void 0,d.video=F.type!=="audio"?F:void 0,d.initSegment=f,d.id3=iK(n,r,c,c),s.samples.length&&(d.text=nK(s,r,c)),d}}function fDe(t,e,i,n){if(t===null)return!0;const s=Math.max(n,1),r=e-t.baseTime/t.timescale;return Math.abs(r-i)>s}function xF(t,e){const i=t==null?void 0:t.codec;if(i&&i.length>4)return i;if(e===Gt.AUDIO){if(i==="ec-3"||i==="ac-3"||i==="alac")return i;if(i==="fLaC"||i==="Opus")return iy(i,!1);const n="mp4a.40.5";return re.info(`Parsed audio codec "${i}" or audio object type not handled. Using "${n}"`),n}return re.warn(`Unhandled video codec "${i}"`),i==="hvc1"||i==="hev1"?"hvc1.1.6.L120.90":i==="av01"?"av01.0.04M.08":"avc1.42e01e"}let Ba;try{Ba=self.performance.now.bind(self.performance)}catch{re.debug("Unable to use Performance API on this environment"),Ba=sh==null?void 0:sh.Date.now}const pg=[{demux:QGe,remux:hDe},{demux:Yo,remux:fg},{demux:jGe,remux:fg},{demux:rDe,remux:fg}];pg.splice(2,0,{demux:qGe,remux:fg});class NF{constructor(e,i,n,s,r){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=i,this.config=n,this.vendor=s,this.id=r}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,i,n,s){const r=n.transmuxing;r.executeStart=Ba();let a=new Uint8Array(e);const{currentTransmuxState:o,transmuxConfig:l}=this;s&&(this.currentTransmuxState=s);const{contiguous:c,discontinuity:u,trackSwitch:d,accurateTimeOffset:h,timeOffset:f,initSegmentChange:p}=s||o,{audioCodec:m,videoCodec:v,defaultInitPts:g,duration:E,initSegmentData:A}=l,R=pDe(a,i);if(R&&R.method==="AES-128"){const B=this.getDecrypter();if(B.isSync()){let G=B.softwareDecrypt(a,R.key.buffer,R.iv.buffer);if(n.part>-1&&(G=B.flush()),!G)return r.executeEnd=Ba(),_5(n);a=new Uint8Array(G)}else return this.decryptionPromise=B.webCryptoDecrypt(a,R.key.buffer,R.iv.buffer).then(G=>{const Z=this.push(G,null,n);return this.decryptionPromise=null,Z}),this.decryptionPromise}const I=this.needsProbing(u,d);if(I){const B=this.configureTransmuxer(a);if(B)return re.warn(`[transmuxer] ${B.message}`),this.observer.emit(U.ERROR,U.ERROR,{type:nt.MEDIA_ERROR,details:Ae.FRAG_PARSING_ERROR,fatal:!1,error:B,reason:B.message}),r.executeEnd=Ba(),_5(n)}(u||d||p||I)&&this.resetInitSegment(A,m,v,E,i),(u||p||I)&&this.resetInitialTimestamp(g),c||this.resetContiguity();const L=this.transmux(a,R,f,h,n),F=this.currentTransmuxState;return F.contiguous=!0,F.discontinuity=!1,F.trackSwitch=!1,r.executeEnd=Ba(),L}flush(e){const i=e.transmuxing;i.executeStart=Ba();const{decrypter:n,currentTransmuxState:s,decryptionPromise:r}=this;if(r)return r.then(()=>this.flush(e));const a=[],{timeOffset:o}=s;if(n){const d=n.flush();d&&a.push(this.push(d,null,e))}const{demuxer:l,remuxer:c}=this;if(!l||!c)return i.executeEnd=Ba(),[_5(e)];const u=l.flush(o);return mg(u)?u.then(d=>(this.flushRemux(a,d,e),a)):(this.flushRemux(a,u,e),a)}flushRemux(e,i,n){const{audioTrack:s,videoTrack:r,id3Track:a,textTrack:o}=i,{accurateTimeOffset:l,timeOffset:c}=this.currentTransmuxState;re.log(`[transmuxer.ts]: Flushed fragment ${n.sn}${n.part>-1?" p: "+n.part:""} of level ${n.level}`);const u=this.remuxer.remux(s,r,a,o,c,l,!0,this.id);e.push({remuxResult:u,chunkMeta:n}),n.transmuxing.executeEnd=Ba()}resetInitialTimestamp(e){const{demuxer:i,remuxer:n}=this;!i||!n||(i.resetTimeStamp(e),n.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:i}=this;!e||!i||(e.resetContiguity(),i.resetNextTimestamp())}resetInitSegment(e,i,n,s,r){const{demuxer:a,remuxer:o}=this;!a||!o||(a.resetInitSegment(e,i,n,s),o.resetInitSegment(e,i,n,r))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,i,n,s,r){let a;return i&&i.method==="SAMPLE-AES"?a=this.transmuxSampleAes(e,i,n,s,r):a=this.transmuxUnencrypted(e,n,s,r),a}transmuxUnencrypted(e,i,n,s){const{audioTrack:r,videoTrack:a,id3Track:o,textTrack:l}=this.demuxer.demux(e,i,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(r,a,o,l,i,n,!1,this.id),chunkMeta:s}}transmuxSampleAes(e,i,n,s,r){return this.demuxer.demuxSampleAes(e,i,n).then(a=>({remuxResult:this.remuxer.remux(a.audioTrack,a.videoTrack,a.id3Track,a.textTrack,n,s,!1,this.id),chunkMeta:r}))}configureTransmuxer(e){const{config:i,observer:n,typeSupported:s,vendor:r}=this;let a;for(let h=0,f=pg.length;h<f;h++){var o;if((o=pg[h].demux)!=null&&o.probe(e)){a=pg[h];break}}if(!a)return new Error("Failed to find demuxer by probing fragment data");const l=this.demuxer,c=this.remuxer,u=a.remux,d=a.demux;(!c||!(c instanceof u))&&(this.remuxer=new u(n,i,s,r)),(!l||!(l instanceof d))&&(this.demuxer=new d(n,i,s),this.probe=d.probe)}needsProbing(e,i){return!this.demuxer||!this.remuxer||e||i}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new U9(this.config)),e}}function pDe(t,e){let i=null;return t.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(i=e),i}const _5=t=>({remuxResult:{},chunkMeta:t});function mg(t){return"then"in t&&t.then instanceof Function}class mDe{constructor(e,i,n,s,r){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=i,this.initSegmentData=n,this.duration=s,this.defaultInitPts=r||null}}class gDe{constructor(e,i,n,s,r,a){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=i,this.accurateTimeOffset=n,this.trackSwitch=s,this.timeOffset=r,this.initSegmentChange=a}}var sK={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,i="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(i=!1));function s(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function r(l,c,u,d,h){if(typeof u!="function")throw new TypeError("The listener must be a function");var f=new s(u,d||l,h),p=i?i+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],f]:l._events[p].push(f):(l._events[p]=f,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new n:delete l._events[c]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(i?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=i?i+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,f=d.length,p=new Array(f);h<f;h++)p[h]=d[h].fn;return p},o.prototype.listenerCount=function(c){var u=i?i+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,h,f,p){var m=i?i+c:c;if(!this._events[m])return!1;var v=this._events[m],g=arguments.length,E,A;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),g){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,h),!0;case 5:return v.fn.call(v.context,u,d,h,f),!0;case 6:return v.fn.call(v.context,u,d,h,f,p),!0}for(A=1,E=new Array(g-1);A<g;A++)E[A-1]=arguments[A];v.fn.apply(v.context,E)}else{var R=v.length,I;for(A=0;A<R;A++)switch(v[A].once&&this.removeListener(c,v[A].fn,void 0,!0),g){case 1:v[A].fn.call(v[A].context);break;case 2:v[A].fn.call(v[A].context,u);break;case 3:v[A].fn.call(v[A].context,u,d);break;case 4:v[A].fn.call(v[A].context,u,d,h);break;default:if(!E)for(I=1,E=new Array(g-1);I<g;I++)E[I-1]=arguments[I];v[A].fn.apply(v[A].context,E)}}return!0},o.prototype.on=function(c,u,d){return r(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return r(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,h){var f=i?i+c:c;if(!this._events[f])return this;if(!u)return a(this,f),this;var p=this._events[f];if(p.fn)p.fn===u&&(!h||p.once)&&(!d||p.context===d)&&a(this,f);else{for(var m=0,v=[],g=p.length;m<g;m++)(p[m].fn!==u||h&&!p[m].once||d&&p[m].context!==d)&&v.push(p[m]);v.length?this._events[f]=v.length===1?v[0]:v:a(this,f)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=i?i+c:c,this._events[u]&&a(this,u)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=i,o.EventEmitter=o,t.exports=o})(sK);var yDe=sK.exports,Z9=MBe(yDe);class rK{constructor(e,i,n,s){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const r=e.config;this.hls=e,this.id=i,this.useWorker=!!r.enableWorker,this.onTransmuxComplete=n,this.onFlush=s;const a=(c,u)=>{u=u||{},u.frag=this.frag,u.id=this.id,c===U.ERROR&&(this.error=u.error),this.hls.trigger(c,u)};this.observer=new Z9,this.observer.on(U.FRAG_DECRYPTED,a),this.observer.on(U.ERROR,a);const o=Fc(r.preferManagedMediaSource)||{isTypeSupported:()=>!1},l={mpeg:o.isTypeSupported("audio/mpeg"),mp3:o.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:o.isTypeSupported('audio/mp4; codecs="ac-3"')};if(this.useWorker&&typeof Worker<"u"&&(r.workerPath||BGe())){try{r.workerPath?(re.log(`loading Web Worker ${r.workerPath} for "${i}"`),this.workerContext=GGe(r.workerPath)):(re.log(`injecting Web Worker for "${i}"`),this.workerContext=WGe()),this.onwmsg=d=>this.onWorkerMessage(d);const{worker:u}=this.workerContext;u.addEventListener("message",this.onwmsg),u.onerror=d=>{const h=new Error(`${d.message}  (${d.filename}:${d.lineno})`);r.enableWorker=!1,re.warn(`Error in "${i}" Web Worker, fallback to inline`),this.hls.trigger(U.ERROR,{type:nt.OTHER_ERROR,details:Ae.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:h})},u.postMessage({cmd:"init",typeSupported:l,vendor:"",id:i,config:JSON.stringify(r)})}catch(u){re.warn(`Error setting up "${i}" Web Worker, fallback to inline`,u),this.resetWorker(),this.error=null,this.transmuxer=new NF(this.observer,l,r,"",i)}return}this.transmuxer=new NF(this.observer,l,r,"",i)}resetWorker(){if(this.workerContext){const{worker:e,objectURL:i}=this.workerContext;i&&self.URL.revokeObjectURL(i),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const i=this.transmuxer;i&&(i.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,i,n,s,r,a,o,l,c,u){var d,h;c.transmuxing.start=self.performance.now();const{transmuxer:f}=this,p=a?a.start:r.start,m=r.decryptdata,v=this.frag,g=!(v&&r.cc===v.cc),E=!(v&&c.level===v.level),A=v?c.sn-v.sn:-1,R=this.part?c.part-this.part.index:-1,I=A===0&&c.id>1&&c.id===(v==null?void 0:v.stats.chunkCount),L=!E&&(A===1||A===0&&(R===1||I&&R<=0)),F=self.performance.now();(E||A||r.stats.parsing.start===0)&&(r.stats.parsing.start=F),a&&(R||!L)&&(a.stats.parsing.start=F);const B=!(v&&((d=r.initSegment)==null?void 0:d.url)===((h=v.initSegment)==null?void 0:h.url)),G=new gDe(g,L,l,E,p,B);if(!L||g||B){re.log(`[transmuxer-interface, ${r.type}]: Starting new transmux session for sn: ${c.sn} p: ${c.part} level: ${c.level} id: ${c.id}
        discontinuity: ${g}
        trackSwitch: ${E}
        contiguous: ${L}
        accurateTimeOffset: ${l}
        timeOffset: ${p}
        initSegmentChange: ${B}`);const Z=new mDe(n,s,i,o,u);this.configureTransmuxer(Z)}if(this.frag=r,this.part=a,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:m,chunkMeta:c,state:G},e instanceof ArrayBuffer?[e]:[]);else if(f){const Z=f.push(e,m,c,G);mg(Z)?(f.async=!0,Z.then(j=>{this.handleTransmuxComplete(j)}).catch(j=>{this.transmuxerError(j,c,"transmuxer-interface push error")})):(f.async=!1,this.handleTransmuxComplete(Z))}}flush(e){e.transmuxing.start=self.performance.now();const{transmuxer:i}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(i){let n=i.flush(e);mg(n)||i.async?(mg(n)||(n=Promise.resolve(n)),n.then(r=>{this.handleFlushResult(r,e)}).catch(r=>{this.transmuxerError(r,e,"transmuxer-interface flush error")})):this.handleFlushResult(n,e)}}transmuxerError(e,i,n){this.hls&&(this.error=e,this.hls.trigger(U.ERROR,{type:nt.MEDIA_ERROR,details:Ae.FRAG_PARSING_ERROR,chunkMeta:i,frag:this.frag||void 0,fatal:!1,error:e,err:e,reason:n}))}handleFlushResult(e,i){e.forEach(n=>{this.handleTransmuxComplete(n)}),this.onFlush(i)}onWorkerMessage(e){const i=e.data;if(!(i!=null&&i.event)){re.warn(`worker message received with no ${i?"event name":"data"}`);return}const n=this.hls;if(this.hls)switch(i.event){case"init":{var s;const r=(s=this.workerContext)==null?void 0:s.objectURL;r&&self.URL.revokeObjectURL(r);break}case"transmuxComplete":{this.handleTransmuxComplete(i.data);break}case"flush":{this.onFlush(i.data);break}case"workerLog":re[i.data.logType]&&re[i.data.logType](i.data.message);break;default:{i.data=i.data||{},i.data.frag=this.frag,i.data.id=this.id,n.trigger(i.event,i.data);break}}}configureTransmuxer(e){const{transmuxer:i}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):i&&i.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}const VF=100;class bDe extends B9{constructor(e,i,n){super(e,i,n,"[audio-stream-controller]",qe.AUDIO),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:e}=this;e.on(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.LEVEL_LOADED,this.onLevelLoaded,this),e.on(U.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(U.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(U.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(U.ERROR,this.onError,this),e.on(U.BUFFER_RESET,this.onBufferReset,this),e.on(U.BUFFER_CREATED,this.onBufferCreated,this),e.on(U.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(U.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(U.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(U.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.LEVEL_LOADED,this.onLevelLoaded,this),e.off(U.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(U.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(U.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(U.ERROR,this.onError,this),e.off(U.BUFFER_RESET,this.onBufferReset,this),e.off(U.BUFFER_CREATED,this.onBufferCreated,this),e.off(U.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(U.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(U.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(U.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,{frag:i,id:n,initPTS:s,timescale:r}){if(n==="main"){const a=i.cc;this.initPTS[i.cc]={baseTime:s,timescale:r},this.log(`InitPTS for cc: ${a} found from main: ${s}`),this.videoTrackCC=a,this.state===Ne.WAITING_INIT_PTS&&this.tick()}}startLoad(e){if(!this.levels){this.startPosition=e,this.state=Ne.STOPPED;return}const i=this.lastCurrentTime;this.stopLoad(),this.setInterval(VF),i>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${i.toFixed(3)}`),e=i,this.state=Ne.IDLE):(this.loadedmetadata=!1,this.state=Ne.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case Ne.IDLE:this.doTickIdle();break;case Ne.WAITING_TRACK:{var e;const{levels:n,trackId:s}=this,r=n==null||(e=n[s])==null?void 0:e.details;if(r){if(this.waitForCdnTuneIn(r))break;this.state=Ne.WAITING_INIT_PTS}break}case Ne.FRAG_LOADING_WAITING_RETRY:{var i;const n=performance.now(),s=this.retryDate;if(!s||n>=s||(i=this.media)!=null&&i.seeking){const{levels:r,trackId:a}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((r==null?void 0:r[a])||null),this.state=Ne.IDLE}break}case Ne.WAITING_INIT_PTS:{const n=this.waitingData;if(n){const{frag:s,part:r,cache:a,complete:o}=n;if(this.initPTS[s.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=Ne.FRAG_LOADING;const l=a.flush(),c={frag:s,part:r,payload:l,networkDetails:null};this._handleFragmentLoadProgress(c),o&&super._handleFragmentLoadComplete(c)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${s.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const l=this.getLoadPosition(),c=Ht.bufferInfo(this.mediaBuffer,l,this.config.maxBufferHole);wT(c.end,this.config.maxFragLookUpTolerance,s)<0&&(this.log(`Waiting fragment cc (${s.cc}) @ ${s.start} cancelled because another fragment at ${c.end} is needed`),this.clearWaitingFragment())}}else this.state=Ne.IDLE}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=Ne.IDLE)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){const{hls:e,levels:i,media:n,trackId:s}=this,r=e.config;if(!this.buffering||!n&&(this.startFragRequested||!r.startFragPrefetch)||!(i!=null&&i[s]))return;const a=i[s],o=a.details;if(!o||o.live&&this.levelLastLoaded!==a||this.waitForCdnTuneIn(o)){this.state=Ne.WAITING_TRACK;return}const l=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&l&&(this.bufferFlushed=!1,this.afterBufferFlushed(l,Gt.AUDIO,qe.AUDIO));const c=this.getFwdBufferInfo(l,qe.AUDIO);if(c===null)return;if(!this.switchingTrack&&this._streamEnded(c,o)){e.trigger(U.BUFFER_EOS,{type:"audio"}),this.state=Ne.ENDED;return}const u=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,qe.MAIN),d=c.len,h=this.getMaxBufferLength(u==null?void 0:u.len),f=o.fragments,p=f[0].start,m=this.getLoadPosition(),v=this.flushing?m:c.end;if(this.switchingTrack&&n){const R=m;o.PTSKnown&&R<p&&(c.end>p||c.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),n.currentTime=p+.05)}if(d>=h&&!this.switchingTrack&&v<f[f.length-1].start)return;let g=this.getNextFragment(v,o),E=!1;if(g&&this.isLoopLoading(g,v)&&(E=!!g.gap,g=this.getNextFragmentLoopLoading(g,o,c,qe.MAIN,h)),!g){this.bufferFlushed=!0;return}const A=u&&g.start>u.end+o.targetduration;if(A||!(u!=null&&u.len)&&c.len){const R=this.getAppendedFrag(g.start,qe.MAIN);if(R===null||(E||(E=!!R.gap||!!A&&u.len===0),A&&!E||E&&c.nextStart&&c.nextStart<R.end))return}this.loadFragment(g,a,v)}getMaxBufferLength(e){const i=super.getMaxBufferLength();return e?Math.min(Math.max(i,e),this.config.maxMaxBufferLength):i}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(e,{audioTracks:i}){this.resetTransmuxer(),this.levels=i.map(n=>new rh(n))}onAudioTrackSwitching(e,i){const n=!!i.url;this.trackId=i.id;const{fragCurrent:s}=this;s&&(s.abortRequests(),this.removeUnbufferedFrags(s.start)),this.resetLoadingState(),n?this.setInterval(VF):this.resetTransmuxer(),n?(this.switchingTrack=i,this.state=Ne.IDLE,this.flushAudioIfNeeded(i)):(this.switchingTrack=null,this.bufferedTrack=i,this.state=Ne.STOPPED),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(e,i){this.mainDetails=i.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(U.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,i){var n;if(this.mainDetails==null){this.cachedTrackLoadedData=i;return}const{levels:s}=this,{details:r,id:a}=i;if(!s){this.warn(`Audio tracks were reset while loading level ${a}`);return}this.log(`Audio track ${a} loaded [${r.startSN},${r.endSN}]${r.lastPartSn?`[part-${r.lastPartSn}-${r.lastPartIndex}]`:""},duration:${r.totalduration}`);const o=s[a];let l=0;if(r.live||(n=o.details)!=null&&n.live){this.checkLiveUpdate(r);const u=this.mainDetails;if(r.deltaUpdateFailed||!u)return;if(!o.details&&r.hasProgramDateTime&&u.hasProgramDateTime)oy(r,u),l=r.fragments[0].start;else{var c;l=this.alignPlaylists(r,o.details,(c=this.levelLastLoaded)==null?void 0:c.details)}}o.details=r,this.levelLastLoaded=o,!this.startFragRequested&&(this.mainDetails||!r.live)&&this.setStartPosition(this.mainDetails||r,l),this.state===Ne.WAITING_TRACK&&!this.waitForCdnTuneIn(r)&&(this.state=Ne.IDLE),this.tick()}_handleFragmentLoadProgress(e){var i;const{frag:n,part:s,payload:r}=e,{config:a,trackId:o,levels:l}=this;if(!l){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const c=l[o];if(!c){this.warn("Audio track is undefined on fragment load progress");return}const u=c.details;if(!u){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(n.start);return}const d=a.defaultAudioCodec||c.audioCodec||"mp4a.40.2";let h=this.transmuxer;h||(h=this.transmuxer=new rK(this.hls,qe.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const f=this.initPTS[n.cc],p=(i=n.initSegment)==null?void 0:i.data;if(f!==void 0){const v=s?s.index:-1,g=v!==-1,E=new F9(n.level,n.sn,n.stats.chunkCount,r.byteLength,v,g);h.push(r,p,d,"",n,s,u.totalduration,!1,E,f)}else{this.log(`Unknown video PTS for cc ${n.cc}, waiting for video PTS before demuxing audio frag ${n.sn} of [${u.startSN} ,${u.endSN}],track ${o}`);const{cache:m}=this.waitingData=this.waitingData||{frag:n,part:s,cache:new O$,complete:!1};m.push(new Uint8Array(r)),this.waitingVideoCC=this.videoTrackCC,this.state=Ne.WAITING_INIT_PTS}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,i){const n=i.tracks.audio;n&&(this.mediaBuffer=n.buffer||null),i.tracks.video&&(this.videoBuffer=i.tracks.video.buffer||null)}onFragBuffered(e,i){const{frag:n,part:s}=i;if(n.type!==qe.AUDIO){if(!this.loadedmetadata&&n.type===qe.MAIN){const r=this.videoBuffer||this.media;r&&Ht.getBuffered(r).length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${s?" p: "+s.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(n.sn!=="initSegment"){this.fragPrevious=n;const r=this.switchingTrack;r&&(this.bufferedTrack=r,this.switchingTrack=null,this.hls.trigger(U.AUDIO_TRACK_SWITCHED,cn({},r)))}this.fragBufferedComplete(n,s)}onError(e,i){var n;if(i.fatal){this.state=Ne.ERROR;return}switch(i.details){case Ae.FRAG_GAP:case Ae.FRAG_PARSING_ERROR:case Ae.FRAG_DECRYPT_ERROR:case Ae.FRAG_LOAD_ERROR:case Ae.FRAG_LOAD_TIMEOUT:case Ae.KEY_LOAD_ERROR:case Ae.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(qe.AUDIO,i);break;case Ae.AUDIO_TRACK_LOAD_ERROR:case Ae.AUDIO_TRACK_LOAD_TIMEOUT:case Ae.LEVEL_PARSING_ERROR:!i.levelRetry&&this.state===Ne.WAITING_TRACK&&((n=i.context)==null?void 0:n.type)===At.AUDIO_TRACK&&(this.state=Ne.IDLE);break;case Ae.BUFFER_APPEND_ERROR:case Ae.BUFFER_FULL_ERROR:if(!i.parent||i.parent!=="audio")return;if(i.details===Ae.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(i)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case Ae.INTERNAL_EXCEPTION:this.recoverWorkerError(i);break}}onBufferFlushing(e,{type:i}){i!==Gt.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:i}){if(i!==Gt.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===Ne.ENDED&&(this.state=Ne.IDLE);const n=this.mediaBuffer||this.media;n&&(this.afterBufferFlushed(n,i,qe.AUDIO),this.tick())}}_handleTransmuxComplete(e){var i;const n="audio",{hls:s}=this,{remuxResult:r,chunkMeta:a}=e,o=this.getCurrentContext(a);if(!o){this.resetWhenMissingContext(a);return}const{frag:l,part:c,level:u}=o,{details:d}=u,{audio:h,text:f,id3:p,initSegment:m}=r;if(this.fragContextChanged(l)||!d){this.fragmentTracker.removeFragment(l);return}if(this.state=Ne.PARSING,this.switchingTrack&&h&&this.completeAudioSwitch(this.switchingTrack),m!=null&&m.tracks){const v=l.initSegment||l;this._bufferInitSegment(u,m.tracks,v,a),s.trigger(U.FRAG_PARSING_INIT_SEGMENT,{frag:v,id:n,tracks:m.tracks})}if(h){const{startPTS:v,endPTS:g,startDTS:E,endDTS:A}=h;c&&(c.elementaryStreams[Gt.AUDIO]={startPTS:v,endPTS:g,startDTS:E,endDTS:A}),l.setElementaryStreamInfo(Gt.AUDIO,v,g,E,A),this.bufferFragmentData(h,l,c,a)}if(p!=null&&(i=p.samples)!=null&&i.length){const v=Pi({id:n,frag:l,details:d},p);s.trigger(U.FRAG_PARSING_METADATA,v)}if(f){const v=Pi({id:n,frag:l,details:d},f);s.trigger(U.FRAG_PARSING_USERDATA,v)}}_bufferInitSegment(e,i,n,s){if(this.state!==Ne.PARSING)return;i.video&&delete i.video;const r=i.audio;if(!r)return;r.id="audio";const a=e.audioCodec;this.log(`Init audio buffer, container:${r.container}, codecs[level/parsed]=[${a}/${r.codec}]`),a&&a.split(",").length===1&&(r.levelCodec=a),this.hls.trigger(U.BUFFER_CODECS,i);const o=r.initSegment;if(o!=null&&o.byteLength){const l={type:"audio",frag:n,part:null,chunkMeta:s,parent:n.type,data:o};this.hls.trigger(U.BUFFER_APPENDING,l)}this.tickImmediate()}loadFragment(e,i,n){const s=this.fragmentTracker.getState(e);if(this.fragCurrent=e,this.switchingTrack||s===en.NOT_LOADED||s===en.PARTIAL){var r;if(e.sn==="initSegment")this._loadInitSegment(e,i);else if((r=i.details)!=null&&r.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=Ne.WAITING_INIT_PTS;const a=this.mainDetails;a&&a.fragments[0].start!==i.details.fragments[0].start&&oy(i.details,a)}else this.startFragRequested=!0,super.loadFragment(e,i,n)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){if(this.media&&this.bufferedTrack){const{name:i,lang:n,assocLang:s,characteristics:r,audioCodec:a,channels:o}=this.bufferedTrack;yc({name:i,lang:n,assocLang:s,characteristics:r,audioCodec:a,channels:o},e,Zl)||(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}}completeAudioSwitch(e){const{hls:i}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,i.trigger(U.AUDIO_TRACK_SWITCHED,cn({},e))}}function aK(t,e){if(t.length!==e.length)return!1;for(let i=0;i<t.length;i++)if(!i0(t[i].attrs,e[i].attrs))return!1;return!0}function i0(t,e,i){const n=t["STABLE-RENDITION-ID"];return n&&!i?n===e["STABLE-RENDITION-ID"]:!(i||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(s=>t[s]!==e[s])}function xT(t,e){return e.label.toLowerCase()===t.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(t.lang||"").toLowerCase())}class vDe extends k9{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.MANIFEST_PARSED,this.onManifestParsed,this),e.on(U.LEVEL_LOADING,this.onLevelLoading,this),e.on(U.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(U.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(U.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.MANIFEST_PARSED,this.onManifestParsed,this),e.off(U.LEVEL_LOADING,this.onLevelLoading,this),e.off(U.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(U.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(U.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,i){this.tracks=i.audioTracks||[]}onAudioTrackLoaded(e,i){const{id:n,groupId:s,details:r}=i,a=this.tracksInGroup[n];if(!a||a.groupId!==s){this.warn(`Audio track with id:${n} and group:${s} not found in active group ${a==null?void 0:a.groupId}`);return}const o=a.details;a.details=i.details,this.log(`Audio track ${n} "${a.name}" lang:${a.lang} group:${s} loaded [${r.startSN}-${r.endSN}]`),n===this.trackId&&this.playlistLoaded(n,i,o)}onLevelLoading(e,i){this.switchLevel(i.level)}onLevelSwitching(e,i){this.switchLevel(i.level)}switchLevel(e){const i=this.hls.levels[e];if(!i)return;const n=i.audioGroups||null,s=this.groupIds;let r=this.currentTrack;if(!n||(s==null?void 0:s.length)!==(n==null?void 0:n.length)||n!=null&&n.some(o=>(s==null?void 0:s.indexOf(o))===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const o=this.tracks.filter(h=>!n||n.indexOf(h.groupId)!==-1);if(o.length)this.selectDefaultTrack&&!o.some(h=>h.default)&&(this.selectDefaultTrack=!1),o.forEach((h,f)=>{h.id=f});else if(!r&&!this.tracksInGroup.length)return;this.tracksInGroup=o;const l=this.hls.config.audioPreference;if(!r&&l){const h=ra(l,o,Zl);if(h>-1)r=o[h];else{const f=ra(l,this.tracks);r=this.tracks[f]}}let c=this.findTrackId(r);c===-1&&r&&(c=this.findTrackId(null));const u={audioTracks:o};this.log(`Updating audio tracks, ${o.length} track(s) found in group(s): ${n==null?void 0:n.join(",")}`),this.hls.trigger(U.AUDIO_TRACKS_UPDATED,u);const d=this.trackId;if(c!==-1&&d===-1)this.setAudioTrack(c);else if(o.length&&d===-1){var a;const h=new Error(`No audio track selected for current audio group-ID(s): ${(a=this.groupIds)==null?void 0:a.join(",")} track count: ${o.length}`);this.warn(h.message),this.hls.trigger(U.ERROR,{type:nt.MEDIA_ERROR,details:Ae.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:h})}}else this.shouldReloadPlaylist(r)&&this.setAudioTrack(this.trackId)}onError(e,i){i.fatal||!i.context||i.context.type===At.AUDIO_TRACK&&i.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(i.context.groupId)!==-1)&&(this.requestScheduled=-1,this.checkRetry(i))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const i=this.hls;if(i.config.audioPreference=e,e){const n=this.allAudioTracks;if(this.selectDefaultTrack=!1,n.length){const s=this.currentTrack;if(s&&yc(e,s,Zl))return s;const r=ra(e,this.tracksInGroup,Zl);if(r>-1){const a=this.tracksInGroup[r];return this.setAudioTrack(r),a}else if(s){let a=i.loadLevel;a===-1&&(a=i.firstAutoLevel);const o=vGe(e,i.levels,n,a,Zl);if(o===-1)return null;i.nextLoadLevel=o}if(e.channels||e.audioCodec){const a=ra(e,n);if(a>-1)return n[a]}}}return null}setAudioTrack(e){const i=this.tracksInGroup;if(e<0||e>=i.length){this.warn(`Invalid audio track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const n=this.currentTrack,s=i[e],r=s.details&&!s.details.live;if(e===this.trackId&&s===n&&r||(this.log(`Switching to audio-track ${e} "${s.name}" lang:${s.lang} group:${s.groupId} channels:${s.channels}`),this.trackId=e,this.currentTrack=s,this.hls.trigger(U.AUDIO_TRACK_SWITCHING,cn({},s)),r))return;const a=this.switchParams(s.url,n==null?void 0:n.details,s.details);this.loadPlaylist(a)}findTrackId(e){const i=this.tracksInGroup;for(let n=0;n<i.length;n++){const s=i[n];if(!(this.selectDefaultTrack&&!s.default)&&(!e||yc(e,s,Zl)))return n}if(e){const{name:n,lang:s,assocLang:r,characteristics:a,audioCodec:o,channels:l}=e;for(let c=0;c<i.length;c++){const u=i[c];if(yc({name:n,lang:s,assocLang:r,characteristics:a,audioCodec:o,channels:l},u,Zl))return c}for(let c=0;c<i.length;c++){const u=i[c];if(i0(e.attrs,u.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return c}for(let c=0;c<i.length;c++){const u=i[c];if(i0(e.attrs,u.attrs,["LANGUAGE"]))return c}}return-1}loadPlaylist(e){const i=this.currentTrack;if(this.shouldLoadPlaylist(i)&&i){super.loadPlaylist();const n=i.id,s=i.groupId;let r=i.url;if(e)try{r=e.addDirectives(r)}catch(a){this.warn(`Could not construct new URL with HLS Delivery Directives: ${a}`)}this.log(`loading audio-track playlist ${n} "${i.name}" lang:${i.lang} group:${s}`),this.clearTimer(),this.hls.trigger(U.AUDIO_TRACK_LOADING,{url:r,id:n,groupId:s,deliveryDirectives:e||null})}}}const LF=500;class EDe extends B9{constructor(e,i,n){super(e,i,n,"[subtitle-stream-controller]",qe.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){const{hls:e}=this;e.on(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.LEVEL_LOADED,this.onLevelLoaded,this),e.on(U.ERROR,this.onError,this),e.on(U.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(U.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(U.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(U.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(U.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(U.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.LEVEL_LOADED,this.onLevelLoaded,this),e.off(U.ERROR,this.onError,this),e.off(U.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(U.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(U.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(U.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(U.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(U.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=Ne.IDLE,this.setInterval(LF),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,i){this.mainDetails=i.details}onSubtitleFragProcessed(e,i){const{frag:n,success:s}=i;if(this.fragPrevious=n,this.state=Ne.IDLE,!s)return;const r=this.tracksBuffered[this.currentTrackId];if(!r)return;let a;const o=n.start;for(let c=0;c<r.length;c++)if(o>=r[c].start&&o<=r[c].end){a=r[c];break}const l=n.start+n.duration;a?a.end=l:(a={start:o,end:l},r.push(a)),this.fragmentTracker.fragBuffered(n),this.fragBufferedComplete(n,null)}onBufferFlushing(e,i){const{startOffset:n,endOffset:s}=i;if(n===0&&s!==Number.POSITIVE_INFINITY){const r=s-1;if(r<=0)return;i.endOffsetSubtitles=Math.max(0,r),this.tracksBuffered.forEach(a=>{for(let o=0;o<a.length;){if(a[o].end<=r){a.shift();continue}else if(a[o].start<r)a[o].start=r;else break;o++}}),this.fragmentTracker.removeFragmentsInRange(n,r,qe.SUBTITLE)}}onFragBuffered(e,i){if(!this.loadedmetadata&&i.frag.type===qe.MAIN){var n;(n=this.media)!=null&&n.buffered.length&&(this.loadedmetadata=!0)}}onError(e,i){const n=i.frag;(n==null?void 0:n.type)===qe.SUBTITLE&&(i.details===Ae.FRAG_GAP&&this.fragmentTracker.fragBuffered(n,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==Ne.STOPPED&&(this.state=Ne.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:i}){if(this.levels&&aK(this.levels,i)){this.levels=i.map(n=>new rh(n));return}this.tracksBuffered=[],this.levels=i.map(n=>{const s=new rh(n);return this.tracksBuffered[s.id]=[],s}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,qe.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,i){var n;if(this.currentTrackId=i.id,!((n=this.levels)!=null&&n.length)||this.currentTrackId===-1){this.clearInterval();return}const s=this.levels[this.currentTrackId];s!=null&&s.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,s&&this.setInterval(LF)}onSubtitleTrackLoaded(e,i){var n;const{currentTrackId:s,levels:r}=this,{details:a,id:o}=i;if(!r){this.warn(`Subtitle tracks were reset while loading level ${o}`);return}const l=r[o];if(o>=r.length||!l)return;this.log(`Subtitle track ${o} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""},duration:${a.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let c=0;if(a.live||(n=l.details)!=null&&n.live){const d=this.mainDetails;if(a.deltaUpdateFailed||!d)return;const h=d.fragments[0];if(!l.details)a.hasProgramDateTime&&d.hasProgramDateTime?(oy(a,d),c=a.fragments[0].start):h&&(c=h.start,IT(a,c));else{var u;c=this.alignPlaylists(a,l.details,(u=this.levelLastLoaded)==null?void 0:u.details),c===0&&h&&(c=h.start,IT(a,c))}}l.details=a,this.levelLastLoaded=l,o===s&&(!this.startFragRequested&&(this.mainDetails||!a.live)&&this.setStartPosition(this.mainDetails||a,c),this.tick(),a.live&&!this.fragCurrent&&this.media&&this.state===Ne.IDLE&&(ay(null,a.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),l.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:i,payload:n}=e,s=i.decryptdata,r=this.hls;if(!this.fragContextChanged(i)&&n&&n.byteLength>0&&s!=null&&s.key&&s.iv&&s.method==="AES-128"){const a=performance.now();this.decrypter.decrypt(new Uint8Array(n),s.key.buffer,s.iv.buffer).catch(o=>{throw r.trigger(U.ERROR,{type:nt.MEDIA_ERROR,details:Ae.FRAG_DECRYPT_ERROR,fatal:!1,error:o,reason:o.message,frag:i}),o}).then(o=>{const l=performance.now();r.trigger(U.FRAG_DECRYPTED,{frag:i,payload:o,stats:{tstart:a,tdecrypt:l}})}).catch(o=>{this.warn(`${o.name}: ${o.message}`),this.state=Ne.IDLE})}}doTick(){if(!this.media){this.state=Ne.IDLE;return}if(this.state===Ne.IDLE){const{currentTrackId:e,levels:i}=this,n=i==null?void 0:i[e];if(!n||!i.length||!n.details)return;const{config:s}=this,r=this.getLoadPosition(),a=Ht.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],r,s.maxBufferHole),{end:o,len:l}=a,c=this.getFwdBufferInfo(this.media,qe.MAIN),u=n.details,d=this.getMaxBufferLength(c==null?void 0:c.len)+u.levelTargetDuration;if(l>d)return;const h=u.fragments,f=h.length,p=u.edge;let m=null;const v=this.fragPrevious;if(o<p){const g=s.maxFragLookUpTolerance,E=o>p-g?0:g;m=ay(v,h,Math.max(h[0].start,o),E),!m&&v&&v.start<h[0].start&&(m=h[0])}else m=h[f-1];if(!m)return;if(m=this.mapToInitFragWhenRequired(m),m.sn!=="initSegment"){const g=m.sn-u.startSN,E=h[g-1];E&&E.cc===m.cc&&this.fragmentTracker.getState(E)===en.NOT_LOADED&&(m=E)}this.fragmentTracker.getState(m)===en.NOT_LOADED&&this.loadFragment(m,n,o)}}getMaxBufferLength(e){const i=super.getMaxBufferLength();return e?Math.max(i,e):i}loadFragment(e,i,n){this.fragCurrent=e,e.sn==="initSegment"?this._loadInitSegment(e,i):(this.startFragRequested=!0,super.loadFragment(e,i,n))}get mediaBufferTimeRanges(){return new ADe(this.tracksBuffered[this.currentTrackId]||[])}}class ADe{constructor(e){this.buffered=void 0;const i=(n,s,r)=>{if(s=s>>>0,s>r-1)throw new DOMException(`Failed to execute '${n}' on 'TimeRanges': The index provided (${s}) is greater than the maximum bound (${r})`);return e[s][n]};this.buffered={get length(){return e.length},end(n){return i("end",n,e.length)},start(n){return i("start",n,e.length)}}}}class SDe extends k9{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let i=null;const n=ug(this.media.textTracks);for(let r=0;r<n.length;r++)if(n[r].mode==="hidden")i=n[r];else if(n[r].mode==="showing"){i=n[r];break}const s=this.findTrackForTextTrack(i);this.subtitleTrack!==s&&this.setSubtitleTrack(s)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.MANIFEST_PARSED,this.onManifestParsed,this),e.on(U.LEVEL_LOADING,this.onLevelLoading,this),e.on(U.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(U.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(U.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.MANIFEST_PARSED,this.onManifestParsed,this),e.off(U.LEVEL_LOADING,this.onLevelLoading,this),e.off(U.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(U.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(U.ERROR,this.onError,this)}onMediaAttached(e,i){this.media=i.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),ug(this.media.textTracks).forEach(i=>{Pu(i)}),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,i){this.tracks=i.subtitleTracks}onSubtitleTrackLoaded(e,i){const{id:n,groupId:s,details:r}=i,a=this.tracksInGroup[n];if(!a||a.groupId!==s){this.warn(`Subtitle track with id:${n} and group:${s} not found in active group ${a==null?void 0:a.groupId}`);return}const o=a.details;a.details=i.details,this.log(`Subtitle track ${n} "${a.name}" lang:${a.lang} group:${s} loaded [${r.startSN}-${r.endSN}]`),n===this.trackId&&this.playlistLoaded(n,i,o)}onLevelLoading(e,i){this.switchLevel(i.level)}onLevelSwitching(e,i){this.switchLevel(i.level)}switchLevel(e){const i=this.hls.levels[e];if(!i)return;const n=i.subtitleGroups||null,s=this.groupIds;let r=this.currentTrack;if(!n||(s==null?void 0:s.length)!==(n==null?void 0:n.length)||n!=null&&n.some(a=>(s==null?void 0:s.indexOf(a))===-1)){this.groupIds=n,this.trackId=-1,this.currentTrack=null;const a=this.tracks.filter(u=>!n||n.indexOf(u.groupId)!==-1);if(a.length)this.selectDefaultTrack&&!a.some(u=>u.default)&&(this.selectDefaultTrack=!1),a.forEach((u,d)=>{u.id=d});else if(!r&&!this.tracksInGroup.length)return;this.tracksInGroup=a;const o=this.hls.config.subtitlePreference;if(!r&&o){this.selectDefaultTrack=!1;const u=ra(o,a);if(u>-1)r=a[u];else{const d=ra(o,this.tracks);r=this.tracks[d]}}let l=this.findTrackId(r);l===-1&&r&&(l=this.findTrackId(null));const c={subtitleTracks:a};this.log(`Updating subtitle tracks, ${a.length} track(s) found in "${n==null?void 0:n.join(",")}" group-id`),this.hls.trigger(U.SUBTITLE_TRACKS_UPDATED,c),l!==-1&&this.trackId===-1&&this.setSubtitleTrack(l)}else this.shouldReloadPlaylist(r)&&this.setSubtitleTrack(this.trackId)}findTrackId(e){const i=this.tracksInGroup,n=this.selectDefaultTrack;for(let s=0;s<i.length;s++){const r=i[s];if(!(n&&!r.default||!n&&!e)&&(!e||yc(r,e)))return s}if(e){for(let s=0;s<i.length;s++){const r=i[s];if(i0(e.attrs,r.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return s}for(let s=0;s<i.length;s++){const r=i[s];if(i0(e.attrs,r.attrs,["LANGUAGE"]))return s}}return-1}findTrackForTextTrack(e){if(e){const i=this.tracksInGroup;for(let n=0;n<i.length;n++){const s=i[n];if(xT(s,e))return n}}return-1}onError(e,i){i.fatal||!i.context||i.context.type===At.SUBTITLE_TRACK&&i.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(i.context.groupId)!==-1)&&this.checkRetry(i)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){const i=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,i.length){const n=this.currentTrack;if(n&&yc(e,n))return n;const s=ra(e,this.tracksInGroup);if(s>-1){const r=this.tracksInGroup[s];return this.setSubtitleTrack(s),r}else{if(n)return null;{const r=ra(e,i);if(r>-1)return i[r]}}}}return null}loadPlaylist(e){super.loadPlaylist();const i=this.currentTrack;if(this.shouldLoadPlaylist(i)&&i){const n=i.id,s=i.groupId;let r=i.url;if(e)try{r=e.addDirectives(r)}catch(a){this.warn(`Could not construct new URL with HLS Delivery Directives: ${a}`)}this.log(`Loading subtitle playlist for id ${n}`),this.hls.trigger(U.SUBTITLE_TRACK_LOADING,{url:r,id:n,groupId:s,deliveryDirectives:e||null})}}toggleTrackModes(){const{media:e}=this;if(!e)return;const i=ug(e.textTracks),n=this.currentTrack;let s;if(n&&(s=i.filter(r=>xT(n,r))[0],s||this.warn(`Unable to find subtitle TextTrack with name "${n.name}" and language "${n.lang}"`)),[].slice.call(i).forEach(r=>{r.mode!=="disabled"&&r!==s&&(r.mode="disabled")}),s){const r=this.subtitleDisplay?"showing":"hidden";s.mode!==r&&(s.mode=r)}}setSubtitleTrack(e){const i=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=i.length||!Ye(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const n=this.currentTrack,s=i[e]||null;if(this.trackId=e,this.currentTrack=s,this.toggleTrackModes(),!s){this.hls.trigger(U.SUBTITLE_TRACK_SWITCH,{id:e});return}const r=!!s.details&&!s.details.live;if(e===this.trackId&&s===n&&r)return;this.log(`Switching to subtitle-track ${e}`+(s?` "${s.name}" lang:${s.lang} group:${s.groupId}`:""));const{id:a,groupId:o="",name:l,type:c,url:u}=s;this.hls.trigger(U.SUBTITLE_TRACK_SWITCH,{id:a,groupId:o,name:l,type:c,url:u});const d=this.switchParams(s.url,n==null?void 0:n.details,s.details);this.loadPlaylist(d)}}class TDe{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,i,n){const s=this.queues[i];s.push(e),s.length===1&&!n&&this.executeNext(i)}insertAbort(e,i){this.queues[i].unshift(e),this.executeNext(i)}appendBlocker(e){let i;const n=new Promise(r=>{i=r}),s={execute:i,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(s,e),n}executeNext(e){const i=this.queues[e];if(i.length){const n=i[0];try{n.execute()}catch(s){re.warn(`[buffer-operation-queue]: Exception executing "${e}" SourceBuffer operation: ${s}`),n.onError(s);const r=this.buffers[e];r!=null&&r.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}}const kF=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;class CDe{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=n=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=n=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{const{media:n,mediaSource:s}=this;this.log("Media source opened"),n&&(n.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(U.MEDIA_ATTACHED,{media:n,mediaSource:s})),s&&s.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:n,_objectUrl:s}=this;n!==s&&re.error(`Media element src was set while attaching MediaSource (${s} > ${n})`)},this.hls=e;const i="[buffer-controller]";this.appendSource=kWe(Fc(e.config.preferManagedMediaSource)),this.log=re.log.bind(re,i),this.warn=re.warn.bind(re,i),this.error=re.error.bind(re,i),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){const{hls:e}=this;e.on(U.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.MANIFEST_PARSED,this.onManifestParsed,this),e.on(U.BUFFER_RESET,this.onBufferReset,this),e.on(U.BUFFER_APPENDING,this.onBufferAppending,this),e.on(U.BUFFER_CODECS,this.onBufferCodecs,this),e.on(U.BUFFER_EOS,this.onBufferEos,this),e.on(U.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(U.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(U.FRAG_PARSED,this.onFragParsed,this),e.on(U.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:e}=this;e.off(U.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.MANIFEST_PARSED,this.onManifestParsed,this),e.off(U.BUFFER_RESET,this.onBufferReset,this),e.off(U.BUFFER_APPENDING,this.onBufferAppending,this),e.off(U.BUFFER_CODECS,this.onBufferCodecs,this),e.off(U.BUFFER_EOS,this.onBufferEos,this),e.off(U.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(U.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(U.FRAG_PARSED,this.onFragParsed,this),e.off(U.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new TDe(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,i){let n=2;(i.audio&&!i.video||!i.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,this.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(e,i){const n=this.media=i.media,s=Fc(this.appendSource);if(n&&s){var r;const a=this.mediaSource=new s;this.log(`created media source: ${(r=a.constructor)==null?void 0:r.name}`),a.addEventListener("sourceopen",this._onMediaSourceOpen),a.addEventListener("sourceended",this._onMediaSourceEnded),a.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(a.addEventListener("startstreaming",this._onStartStreaming),a.addEventListener("endstreaming",this._onEndStreaming));const o=this._objectUrl=self.URL.createObjectURL(a);if(this.appendSource)try{n.removeAttribute("src");const l=self.ManagedMediaSource;n.disableRemotePlayback=n.disableRemotePlayback||l&&a instanceof l,FF(n),RDe(n,o),n.load()}catch{n.src=o}else n.src=o;n.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:e,mediaSource:i,_objectUrl:n}=this;if(i){if(this.log("media source detaching"),i.readyState==="open")try{i.endOfStream()}catch(s){this.warn(`onMediaDetaching: ${s.message} while calling endOfStream`)}this.onBufferReset(),i.removeEventListener("sourceopen",this._onMediaSourceOpen),i.removeEventListener("sourceended",this._onMediaSourceEnded),i.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(i.removeEventListener("startstreaming",this._onStartStreaming),i.removeEventListener("endstreaming",this._onEndStreaming)),e&&(e.removeEventListener("emptied",this._onMediaEmptied),n&&self.URL.revokeObjectURL(n),this.mediaSrc===n?(e.removeAttribute("src"),this.appendSource&&FF(e),e.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(U.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(e=>{this.resetBuffer(e)}),this._initSourceBuffer(),this.hls.resumeBuffering()}resetBuffer(e){const i=this.sourceBuffer[e];try{if(i){var n;this.removeBufferListeners(e),this.sourceBuffer[e]=void 0,(n=this.mediaSource)!=null&&n.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(i)}}catch(s){this.warn(`onBufferReset ${e}`,s)}}onBufferCodecs(e,i){const n=this.getSourceBufferTypes().length,s=Object.keys(i);if(s.forEach(a=>{if(n){const l=this.tracks[a];if(l&&typeof l.buffer.changeType=="function"){var o;const{id:c,codec:u,levelCodec:d,container:h,metadata:f}=i[a],p=tF(l.codec,l.levelCodec),m=p==null?void 0:p.replace(kF,"$1");let v=tF(u,d);const g=(o=v)==null?void 0:o.replace(kF,"$1");if(v&&m!==g){a.slice(0,5)==="audio"&&(v=iy(v,this.appendSource));const E=`${h};codecs=${v}`;this.appendChangeType(a,E),this.log(`switching codec ${p} to ${v}`),this.tracks[a]={buffer:l.buffer,codec:u,container:h,levelCodec:d,metadata:f,id:c}}}}else this.pendingTracks[a]=i[a]}),n)return;const r=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==r&&(this.log(`${r} bufferCodec event(s) expected ${s.join(",")}`),this.bufferCodecEventsExpected=r),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks()}appendChangeType(e,i){const{operationQueue:n}=this,s={execute:()=>{const r=this.sourceBuffer[e];r&&(this.log(`changing ${e} sourceBuffer type to ${i}`),r.changeType(i)),n.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:r=>{this.warn(`Failed to change ${e} SourceBuffer type`,r)}};n.append(s,e,!!this.pendingTracks[e])}onBufferAppending(e,i){const{hls:n,operationQueue:s,tracks:r}=this,{data:a,type:o,frag:l,part:c,chunkMeta:u}=i,d=u.buffering[o],h=self.performance.now();d.start=h;const f=l.stats.buffering,p=c?c.stats.buffering:null;f.start===0&&(f.start=h),p&&p.start===0&&(p.start=h);const m=r.audio;let v=!1;o==="audio"&&(m==null?void 0:m.container)==="audio/mpeg"&&(v=!this.lastMpegAudioChunk||u.id===1||this.lastMpegAudioChunk.sn!==u.sn,this.lastMpegAudioChunk=u);const g=l.start,E={execute:()=>{if(d.executeStart=self.performance.now(),v){const A=this.sourceBuffer[o];if(A){const R=g-A.timestampOffset;Math.abs(R)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${g} (delta: ${R}) sn: ${l.sn})`),A.timestampOffset=g)}}this.appendExecutor(a,o)},onStart:()=>{},onComplete:()=>{const A=self.performance.now();d.executeEnd=d.end=A,f.first===0&&(f.first=A),p&&p.first===0&&(p.first=A);const{sourceBuffer:R}=this,I={};for(const L in R)I[L]=Ht.getBuffered(R[L]);this.appendErrors[o]=0,o==="audio"||o==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(U.BUFFER_APPENDED,{type:o,frag:l,part:c,chunkMeta:u,parent:l.type,timeRanges:I})},onError:A=>{const R={type:nt.MEDIA_ERROR,parent:l.type,details:Ae.BUFFER_APPEND_ERROR,sourceBufferName:o,frag:l,part:c,chunkMeta:u,error:A,err:A,fatal:!1};if(A.code===DOMException.QUOTA_EXCEEDED_ERR)R.details=Ae.BUFFER_FULL_ERROR;else{const I=++this.appendErrors[o];R.details=Ae.BUFFER_APPEND_ERROR,this.warn(`Failed ${I}/${n.config.appendErrorMaxRetry} times to append segment in "${o}" sourceBuffer`),I>=n.config.appendErrorMaxRetry&&(R.fatal=!0)}n.trigger(U.ERROR,R)}};s.append(E,o,!!this.pendingTracks[o])}onBufferFlushing(e,i){const{operationQueue:n}=this,s=r=>({execute:this.removeExecutor.bind(this,r,i.startOffset,i.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(U.BUFFER_FLUSHED,{type:r})},onError:a=>{this.warn(`Failed to remove from ${r} SourceBuffer`,a)}});i.type?n.append(s(i.type),i.type):this.getSourceBufferTypes().forEach(r=>{n.append(s(r),r)})}onFragParsed(e,i){const{frag:n,part:s}=i,r=[],a=s?s.elementaryStreams:n.elementaryStreams;a[Gt.AUDIOVIDEO]?r.push("audiovideo"):(a[Gt.AUDIO]&&r.push("audio"),a[Gt.VIDEO]&&r.push("video"));const o=()=>{const l=self.performance.now();n.stats.buffering.end=l,s&&(s.stats.buffering.end=l);const c=s?s.stats:n.stats;this.hls.trigger(U.FRAG_BUFFERED,{frag:n,part:s,stats:c,id:n.type})};r.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${n.type} level: ${n.level} sn: ${n.sn}`),this.blockBuffers(o,r)}onFragChanged(e,i){this.trimBuffers()}onBufferEos(e,i){this.getSourceBufferTypes().reduce((s,r)=>{const a=this.sourceBuffer[r];return a&&(!i.type||i.type===r)&&(a.ending=!0,a.ended||(a.ended=!0,this.log(`${r} sourceBuffer now EOS`))),s&&!!(!a||a.ended)},!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(r=>{const a=this.sourceBuffer[r];a&&(a.ending=!1)});const{mediaSource:s}=this;if(!s||s.readyState!=="open"){s&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${s.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),s.endOfStream()}))}onLevelUpdated(e,{details:i}){i.fragments.length&&(this.details=i,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){const{hls:e,details:i,media:n}=this;if(!n||i===null||!this.getSourceBufferTypes().length)return;const r=e.config,a=n.currentTime,o=i.levelTargetDuration,l=i.live&&r.liveBackBufferLength!==null?r.liveBackBufferLength:r.backBufferLength;if(Ye(l)&&l>0){const c=Math.max(l,o),u=Math.floor(a/o)*o-c;this.flushBackBuffer(a,o,u)}if(Ye(r.frontBufferFlushThreshold)&&r.frontBufferFlushThreshold>0){const c=Math.max(r.maxBufferLength,r.frontBufferFlushThreshold),u=Math.max(c,o),d=Math.floor(a/o)*o+u;this.flushFrontBuffer(a,o,d)}}flushBackBuffer(e,i,n){const{details:s,sourceBuffer:r}=this;this.getSourceBufferTypes().forEach(o=>{const l=r[o];if(l){const c=Ht.getBuffered(l);if(c.length>0&&n>c.start(0)){if(this.hls.trigger(U.BACK_BUFFER_REACHED,{bufferEnd:n}),s!=null&&s.live)this.hls.trigger(U.LIVE_BACK_BUFFER_REACHED,{bufferEnd:n});else if(l.ended&&c.end(c.length-1)-e<i*2){this.log(`Cannot flush ${o} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(U.BUFFER_FLUSHING,{startOffset:0,endOffset:n,type:o})}}})}flushFrontBuffer(e,i,n){const{sourceBuffer:s}=this;this.getSourceBufferTypes().forEach(a=>{const o=s[a];if(o){const l=Ht.getBuffered(o),c=l.length;if(c<2)return;const u=l.start(c-1),d=l.end(c-1);if(n>u||e>=u&&e<=d)return;if(o.ended&&e-d<2*i){this.log(`Cannot flush ${a} front buffer while SourceBuffer is in ended state`);return}this.hls.trigger(U.BUFFER_FLUSHING,{startOffset:u,endOffset:1/0,type:a})}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")return;const{details:e,hls:i,media:n,mediaSource:s}=this,r=e.fragments[0].start+e.totalduration,a=n.duration,o=Ye(s.duration)?s.duration:0;e.live&&i.config.liveDurationInfinity?(s.duration=1/0,this.updateSeekableRange(e)):(r>o&&r>a||!Ye(a))&&(this.log(`Updating Media Source duration to ${r.toFixed(3)}`),s.duration=r)}updateSeekableRange(e){const i=this.mediaSource,n=e.fragments;if(n.length&&e.live&&i!=null&&i.setLiveSeekableRange){const r=Math.max(0,n[0].start),a=Math.max(r,r+e.totalduration);this.log(`Media Source duration is set to ${i.duration}. Setting seekable range to ${r}-${a}.`),i.setLiveSeekableRange(r,a)}}checkPendingTracks(){const{bufferCodecEventsExpected:e,operationQueue:i,pendingTracks:n}=this,s=Object.keys(n).length;if(s&&(!e||s===2||"audiovideo"in n)){this.createSourceBuffers(n),this.pendingTracks={};const r=this.getSourceBufferTypes();if(r.length)this.hls.trigger(U.BUFFER_CREATED,{tracks:this.tracks}),r.forEach(a=>{i.executeNext(a)});else{const a=new Error("could not create source buffer for media codec(s)");this.hls.trigger(U.ERROR,{type:nt.MEDIA_ERROR,details:Ae.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:a,reason:a.message})}}}createSourceBuffers(e){const{sourceBuffer:i,mediaSource:n}=this;if(!n)throw Error("createSourceBuffers called when mediaSource was null");for(const r in e)if(!i[r]){var s;const a=e[r];if(!a)throw Error(`source buffer exists for track ${r}, however track does not`);let o=((s=a.levelCodec)==null?void 0:s.indexOf(","))===-1?a.levelCodec:a.codec;o&&r.slice(0,5)==="audio"&&(o=iy(o,this.appendSource));const l=`${a.container};codecs=${o}`;this.log(`creating sourceBuffer(${l})`);try{const c=i[r]=n.addSourceBuffer(l),u=r;this.addBufferListener(u,"updatestart",this._onSBUpdateStart),this.addBufferListener(u,"updateend",this._onSBUpdateEnd),this.addBufferListener(u,"error",this._onSBUpdateError),this.appendSource&&this.addBufferListener(u,"bufferedchange",(d,h)=>{const f=h.removedRanges;f!=null&&f.length&&this.hls.trigger(U.BUFFER_FLUSHED,{type:r})}),this.tracks[r]={buffer:c,codec:o,container:a.container,levelCodec:a.levelCodec,metadata:a.metadata,id:a.id}}catch(c){this.error(`error while trying to add sourceBuffer: ${c.message}`),this.hls.trigger(U.ERROR,{type:nt.MEDIA_ERROR,details:Ae.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:c,sourceBufferName:r,mimeType:l})}}}get mediaSrc(){var e,i;const n=((e=this.media)==null||(i=e.querySelector)==null?void 0:i.call(e,"source"))||this.media;return n==null?void 0:n.src}_onSBUpdateStart(e){const{operationQueue:i}=this;i.current(e).onStart()}_onSBUpdateEnd(e){var i;if(((i=this.mediaSource)==null?void 0:i.readyState)==="closed"){this.resetBuffer(e);return}const{operationQueue:n}=this;n.current(e).onComplete(),n.shiftAndExecuteNext(e)}_onSBUpdateError(e,i){var n;const s=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(n=this.mediaSource)==null?void 0:n.readyState}`);this.error(`${s}`,i),this.hls.trigger(U.ERROR,{type:nt.MEDIA_ERROR,details:Ae.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:s,fatal:!1});const r=this.operationQueue.current(e);r&&r.onError(s)}removeExecutor(e,i,n){const{media:s,mediaSource:r,operationQueue:a,sourceBuffer:o}=this,l=o[e];if(!s||!r||!l){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),a.shiftAndExecuteNext(e);return}const c=Ye(s.duration)?s.duration:1/0,u=Ye(r.duration)?r.duration:1/0,d=Math.max(0,i),h=Math.min(n,c,u);h>d&&(!l.ending||l.ended)?(l.ended=!1,this.log(`Removing [${d},${h}] from the ${e} SourceBuffer`),l.remove(d,h)):a.shiftAndExecuteNext(e)}appendExecutor(e,i){const n=this.sourceBuffer[i];if(!n){if(!this.pendingTracks[i])throw new Error(`Attempting to append to the ${i} SourceBuffer, but it does not exist`);return}n.ended=!1,n.appendBuffer(e)}blockBuffers(e,i=this.getSourceBufferTypes()){if(!i.length){this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);return}const{operationQueue:n}=this,s=i.map(r=>n.appendBlocker(r));Promise.all(s).then(()=>{e(),i.forEach(r=>{const a=this.sourceBuffer[r];a!=null&&a.updating||n.shiftAndExecuteNext(r)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,i,n){const s=this.sourceBuffer[e];if(!s)return;const r=n.bind(this,e);this.listeners[e].push({event:i,listener:r}),s.addEventListener(i,r)}removeBufferListeners(e){const i=this.sourceBuffer[e];i&&this.listeners[e].forEach(n=>{i.removeEventListener(n.event,n.listener)})}}function FF(t){const e=t.querySelectorAll("source");[].slice.call(e).forEach(i=>{t.removeChild(i)})}function RDe(t,e){const i=self.document.createElement("source");i.type="video/mp4",i.src=e,t.appendChild(i)}const IDe={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},oK=t=>String.fromCharCode(IDe[t]||t),dr=15,Ia=100,wDe={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},_De={17:2,18:4,21:6,22:8,23:10,19:13,20:15},xDe={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},NDe={25:2,26:4,29:6,30:8,31:10,27:13,28:15},VDe=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class LDe{constructor(){this.time=null,this.verboseLevel=0}log(e,i){if(this.verboseLevel>=e){const n=typeof i=="function"?i():i;re.log(`${this.time} [${e}] ${n}`)}}}const Fl=function(e){const i=[];for(let n=0;n<e.length;n++)i.push(e[n].toString(16));return i};class lK{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const i=["foreground","underline","italics","background","flash"];for(let n=0;n<i.length;n++){const s=i[n];e.hasOwnProperty(s)&&(this[s]=e[s])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class kDe{constructor(){this.uchar=" ",this.penState=new lK}reset(){this.uchar=" ",this.penState.reset()}setChar(e,i){this.uchar=e,this.penState.copy(i)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class FDe{constructor(e){this.chars=[],this.pos=0,this.currPenState=new lK,this.cueStartTime=null,this.logger=void 0;for(let i=0;i<Ia;i++)this.chars.push(new kDe);this.logger=e}equals(e){for(let i=0;i<Ia;i++)if(!this.chars[i].equals(e.chars[i]))return!1;return!0}copy(e){for(let i=0;i<Ia;i++)this.chars[i].copy(e.chars[i])}isEmpty(){let e=!0;for(let i=0;i<Ia;i++)if(!this.chars[i].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Ia&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Ia)}moveCursor(e){const i=this.pos+e;if(e>1)for(let n=this.pos+1;n<i+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(i)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const i=oK(e);if(this.pos>=Ia){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+i+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(i,this.currPenState),this.moveCursor(1)}clearFromPos(e){let i;for(i=e;i<Ia;i++)this.chars[i].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let i=!0;for(let n=0;n<Ia;n++){const s=this.chars[n].uchar;s!==" "&&(i=!1),e.push(s)}return i?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class x5{constructor(e){this.rows=[],this.currRow=dr-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let i=0;i<dr;i++)this.rows.push(new FDe(e));this.logger=e}reset(){for(let e=0;e<dr;e++)this.rows[e].clear();this.currRow=dr-1}equals(e){let i=!0;for(let n=0;n<dr;n++)if(!this.rows[n].equals(e.rows[n])){i=!1;break}return i}copy(e){for(let i=0;i<dr;i++)this.rows[i].copy(e.rows[i])}isEmpty(){let e=!0;for(let i=0;i<dr;i++)if(!this.rows[i].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+JSON.stringify(e));let i=e.row-1;if(this.nrRollUpRows&&i<this.nrRollUpRows-1&&(i=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==i){for(let o=0;o<dr;o++)this.rows[o].clear();const r=this.currRow+1-this.nrRollUpRows,a=this.lastOutputScreen;if(a){const o=a.rows[r].cueStartTime,l=this.logger.time;if(o!==null&&l!==null&&o<l)for(let c=0;c<this.nrRollUpRows;c++)this.rows[i-this.nrRollUpRows+c+1].copy(a.rows[r+c])}}this.currRow=i;const n=this.rows[this.currRow];if(e.indent!==null){const r=e.indent,a=Math.max(r-1,0);n.setCursor(e.indent),e.color=n.chars[a].penState.foreground}const s={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(s)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,i=this.rows.splice(e,1)[0];i.clear(),this.rows.splice(this.currRow,0,i),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const i=[];let n="",s=-1;for(let r=0;r<dr;r++){const a=this.rows[r].getTextString();a&&(s=r+1,e?i.push("Row "+s+": '"+a+"'"):i.push(a.trim()))}return i.length>0&&(e?n="["+i.join(" | ")+"]":n=i.join(`
`)),n}getTextAndFormat(){return this.rows}}class UF{constructor(e,i,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=i,this.mode=null,this.verbose=0,this.displayedMemory=new x5(n),this.nonDisplayedMemory=new x5(n),this.lastOutputScreen=new x5(n),this.currRollUpRow=this.displayedMemory.rows[dr-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[dr-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let n=0;n<e.length;n++)this.writeScreen.insertChar(e[n]);const i=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>i+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const i={flash:!1};if(i.underline=e%2===1,i.italics=e>=46,i.italics)i.foreground="white";else{const n=Math.floor(e/2)-16,s=["white","green","blue","cyan","red","yellow","magenta"];i.foreground=s[n]}this.logger.log(2,"MIDROW: "+JSON.stringify(i)),this.writeScreen.setPen(i)}outputDataUpdate(e=!1){const i=this.logger.time;i!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=i:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,i,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:i),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class BF{constructor(e,i,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=BDe(),this.logger=void 0;const s=this.logger=new LDe;this.channels=[null,new UF(e,i,s),new UF(e+1,n,s)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,i){this.channels[e].setHandler(i)}addData(e,i){this.logger.time=e;for(let n=0;n<i.length;n+=2){const s=i[n]&127,r=i[n+1]&127;let a=!1,o=null;if(s===0&&r===0)continue;this.logger.log(3,()=>"["+Fl([i[n],i[n+1]])+"] -> ("+Fl([s,r])+")");const l=this.cmdHistory;if(s>=16&&s<=31){if(UDe(s,r,l)){b1(null,null,l),this.logger.log(3,()=>"Repeated command ("+Fl([s,r])+") is dropped");continue}b1(s,r,this.cmdHistory),a=this.parseCmd(s,r),a||(a=this.parseMidrow(s,r)),a||(a=this.parsePAC(s,r)),a||(a=this.parseBackgroundAttributes(s,r))}else b1(null,null,l);if(!a&&(o=this.parseChars(s,r),o)){const u=this.currentChannel;u&&u>0?this.channels[u].insertChars(o):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!a&&!o&&this.logger.log(2,()=>"Couldn't parse cleaned data "+Fl([s,r])+" orig: "+Fl([i[n],i[n+1]]))}}parseCmd(e,i){const n=(e===20||e===28||e===21||e===29)&&i>=32&&i<=47,s=(e===23||e===31)&&i>=33&&i<=35;if(!(n||s))return!1;const r=e===20||e===21||e===23?1:2,a=this.channels[r];return e===20||e===21||e===28||e===29?i===32?a.ccRCL():i===33?a.ccBS():i===34?a.ccAOF():i===35?a.ccAON():i===36?a.ccDER():i===37?a.ccRU(2):i===38?a.ccRU(3):i===39?a.ccRU(4):i===40?a.ccFON():i===41?a.ccRDC():i===42?a.ccTR():i===43?a.ccRTD():i===44?a.ccEDM():i===45?a.ccCR():i===46?a.ccENM():i===47&&a.ccEOC():a.ccTO(i-32),this.currentChannel=r,!0}parseMidrow(e,i){let n=0;if((e===17||e===25)&&i>=32&&i<=47){if(e===17?n=1:n=2,n!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const s=this.channels[n];return s?(s.ccMIDROW(i),this.logger.log(3,()=>"MIDROW ("+Fl([e,i])+")"),!0):!1}return!1}parsePAC(e,i){let n;const s=(e>=17&&e<=23||e>=25&&e<=31)&&i>=64&&i<=127,r=(e===16||e===24)&&i>=64&&i<=95;if(!(s||r))return!1;const a=e<=23?1:2;i>=64&&i<=95?n=a===1?wDe[e]:xDe[e]:n=a===1?_De[e]:NDe[e];const o=this.channels[a];return o?(o.setPAC(this.interpretPAC(n,i)),this.currentChannel=a,!0):!1}interpretPAC(e,i){let n;const s={color:null,italics:!1,indent:null,underline:!1,row:e};return i>95?n=i-96:n=i-64,s.underline=(n&1)===1,n<=13?s.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(s.italics=!0,s.color="white"):s.indent=Math.floor((n-16)/2)*4,s}parseChars(e,i){let n,s=null,r=null;if(e>=25?(n=2,r=e-8):(n=1,r=e),r>=17&&r<=19){let a;r===17?a=i+80:r===18?a=i+112:a=i+144,this.logger.log(2,()=>"Special char '"+oK(a)+"' in channel "+n),s=[a]}else e>=32&&e<=127&&(s=i===0?[e]:[e,i]);return s&&this.logger.log(3,()=>"Char codes =  "+Fl(s).join(",")),s}parseBackgroundAttributes(e,i){const n=(e===16||e===24)&&i>=32&&i<=47,s=(e===23||e===31)&&i>=45&&i<=47;if(!(n||s))return!1;let r;const a={};e===16||e===24?(r=Math.floor((i-32)/2),a.background=VDe[r],i%2===1&&(a.background=a.background+"_semi")):i===45?a.background="transparent":(a.foreground="black",i===47&&(a.underline=!0));const o=e<=23?1:2;return this.channels[o].setBkgData(a),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const i=this.channels[e];i&&i.reset()}b1(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let i=0;i<this.channels.length;i++){const n=this.channels[i];n&&n.cueSplitAtTime(e)}}}function b1(t,e,i){i.a=t,i.b=e}function UDe(t,e,i){return i.a===t&&i.b===e}function BDe(){return{a:null,b:null}}class v1{constructor(e,i){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=i}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,i,n){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=i,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var P9=function(){if(sh!=null&&sh.VTTCue)return self.VTTCue;const t=["","lr","rl"],e=["start","middle","end","left","right"];function i(o,l){if(typeof l!="string"||!Array.isArray(o))return!1;const c=l.toLowerCase();return~o.indexOf(c)?c:!1}function n(o){return i(t,o)}function s(o){return i(e,o)}function r(o,...l){let c=1;for(;c<arguments.length;c++){const u=arguments[c];for(const d in u)o[d]=u[d]}return o}function a(o,l,c){const u=this,d={enumerable:!0};u.hasBeenReset=!1;let h="",f=!1,p=o,m=l,v=c,g=null,E="",A=!0,R="auto",I="start",L=50,F="middle",B=50,G="middle";Object.defineProperty(u,"id",r({},d,{get:function(){return h},set:function(Z){h=""+Z}})),Object.defineProperty(u,"pauseOnExit",r({},d,{get:function(){return f},set:function(Z){f=!!Z}})),Object.defineProperty(u,"startTime",r({},d,{get:function(){return p},set:function(Z){if(typeof Z!="number")throw new TypeError("Start time must be set to a number.");p=Z,this.hasBeenReset=!0}})),Object.defineProperty(u,"endTime",r({},d,{get:function(){return m},set:function(Z){if(typeof Z!="number")throw new TypeError("End time must be set to a number.");m=Z,this.hasBeenReset=!0}})),Object.defineProperty(u,"text",r({},d,{get:function(){return v},set:function(Z){v=""+Z,this.hasBeenReset=!0}})),Object.defineProperty(u,"region",r({},d,{get:function(){return g},set:function(Z){g=Z,this.hasBeenReset=!0}})),Object.defineProperty(u,"vertical",r({},d,{get:function(){return E},set:function(Z){const j=n(Z);if(j===!1)throw new SyntaxError("An invalid or illegal string was specified.");E=j,this.hasBeenReset=!0}})),Object.defineProperty(u,"snapToLines",r({},d,{get:function(){return A},set:function(Z){A=!!Z,this.hasBeenReset=!0}})),Object.defineProperty(u,"line",r({},d,{get:function(){return R},set:function(Z){if(typeof Z!="number"&&Z!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");R=Z,this.hasBeenReset=!0}})),Object.defineProperty(u,"lineAlign",r({},d,{get:function(){return I},set:function(Z){const j=s(Z);if(!j)throw new SyntaxError("An invalid or illegal string was specified.");I=j,this.hasBeenReset=!0}})),Object.defineProperty(u,"position",r({},d,{get:function(){return L},set:function(Z){if(Z<0||Z>100)throw new Error("Position must be between 0 and 100.");L=Z,this.hasBeenReset=!0}})),Object.defineProperty(u,"positionAlign",r({},d,{get:function(){return F},set:function(Z){const j=s(Z);if(!j)throw new SyntaxError("An invalid or illegal string was specified.");F=j,this.hasBeenReset=!0}})),Object.defineProperty(u,"size",r({},d,{get:function(){return B},set:function(Z){if(Z<0||Z>100)throw new Error("Size must be between 0 and 100.");B=Z,this.hasBeenReset=!0}})),Object.defineProperty(u,"align",r({},d,{get:function(){return G},set:function(Z){const j=s(Z);if(!j)throw new SyntaxError("An invalid or illegal string was specified.");G=j,this.hasBeenReset=!0}})),u.displayState=void 0}return a.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},a}();class WDe{decode(e,i){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function cK(t){function e(n,s,r,a){return(n|0)*3600+(s|0)*60+(r|0)+parseFloat(a||0)}const i=t.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return i?parseFloat(i[2])>59?e(i[2],i[3],0,i[4]):e(i[1],i[2],i[3],i[4]):null}class GDe{constructor(){this.values=Object.create(null)}set(e,i){!this.get(e)&&i!==""&&(this.values[e]=i)}get(e,i,n){return n?this.has(e)?this.values[e]:i[n]:this.has(e)?this.values[e]:i}has(e){return e in this.values}alt(e,i,n){for(let s=0;s<n.length;++s)if(i===n[s]){this.set(e,i);break}}integer(e,i){/^-?\d+$/.test(i)&&this.set(e,parseInt(i,10))}percent(e,i){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(i)){const n=parseFloat(i);if(n>=0&&n<=100)return this.set(e,n),!0}return!1}}function uK(t,e,i,n){const s=n?t.split(n):[t];for(const r in s){if(typeof s[r]!="string")continue;const a=s[r].split(i);if(a.length!==2)continue;const o=a[0],l=a[1];e(o,l)}}const NT=new P9(0,0,""),E1=NT.align==="middle"?"middle":"center";function DDe(t,e,i){const n=t;function s(){const o=cK(t);if(o===null)throw new Error("Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),o}function r(o,l){const c=new GDe;uK(o,function(h,f){let p;switch(h){case"region":for(let m=i.length-1;m>=0;m--)if(i[m].id===f){c.set(h,i[m].region);break}break;case"vertical":c.alt(h,f,["rl","lr"]);break;case"line":p=f.split(","),c.integer(h,p[0]),c.percent(h,p[0])&&c.set("snapToLines",!1),c.alt(h,p[0],["auto"]),p.length===2&&c.alt("lineAlign",p[1],["start",E1,"end"]);break;case"position":p=f.split(","),c.percent(h,p[0]),p.length===2&&c.alt("positionAlign",p[1],["start",E1,"end","line-left","line-right","auto"]);break;case"size":c.percent(h,f);break;case"align":c.alt(h,f,["start",E1,"end","left","right"]);break}},/:/,/\s/),l.region=c.get("region",null),l.vertical=c.get("vertical","");let u=c.get("line","auto");u==="auto"&&NT.line===-1&&(u=-1),l.line=u,l.lineAlign=c.get("lineAlign","start"),l.snapToLines=c.get("snapToLines",!0),l.size=c.get("size",100),l.align=c.get("align",E1);let d=c.get("position","auto");d==="auto"&&NT.position===50&&(d=l.align==="start"||l.align==="left"?0:l.align==="end"||l.align==="right"?100:50),l.position=d}function a(){t=t.replace(/^\s+/,"")}if(a(),e.startTime=s(),a(),t.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+n);t=t.slice(3),a(),e.endTime=s(),a(),r(t,e)}function dK(t){return t.replace(/<br(?: \/)?>/gi,`
`)}class MDe{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new WDe,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const i=this;e&&(i.buffer+=i.decoder.decode(e,{stream:!0}));function n(){let r=i.buffer,a=0;for(r=dK(r);a<r.length&&r[a]!=="\r"&&r[a]!==`
`;)++a;const o=r.slice(0,a);return r[a]==="\r"&&++a,r[a]===`
`&&++a,i.buffer=r.slice(a),o}function s(r){uK(r,function(a,o){},/:/)}try{let r="";if(i.state==="INITIAL"){if(!/\r\n|\n/.test(i.buffer))return this;r=n();const o=r.match(/^()?WEBVTT([ \t].*)?$/);if(!(o!=null&&o[0]))throw new Error("Malformed WebVTT signature.");i.state="HEADER"}let a=!1;for(;i.buffer;){if(!/\r\n|\n/.test(i.buffer))return this;switch(a?a=!1:r=n(),i.state){case"HEADER":/:/.test(r)?s(r):r||(i.state="ID");continue;case"NOTE":r||(i.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(r)){i.state="NOTE";break}if(!r)continue;if(i.cue=new P9(0,0,""),i.state="CUE",r.indexOf("-->")===-1){i.cue.id=r;continue}case"CUE":if(!i.cue){i.state="BADCUE";continue}try{DDe(r,i.cue,i.regionList)}catch{i.cue=null,i.state="BADCUE";continue}i.state="CUETEXT";continue;case"CUETEXT":{const o=r.indexOf("-->")!==-1;if(!r||o&&(a=!0)){i.oncue&&i.cue&&i.oncue(i.cue),i.cue=null,i.state="ID";continue}if(i.cue===null)continue;i.cue.text&&(i.cue.text+=`
`),i.cue.text+=r}continue;case"BADCUE":r||(i.state="ID")}}}catch{i.state==="CUETEXT"&&i.cue&&i.oncue&&i.oncue(i.cue),i.cue=null,i.state=i.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(i){e.onparsingerror&&e.onparsingerror(i)}return e.onflush&&e.onflush(),this}}const ZDe=/\r\n|\n\r|\n|\r/g,N5=function(e,i,n=0){return e.slice(n,n+i.length)===i},PDe=function(e){let i=parseInt(e.slice(-3));const n=parseInt(e.slice(-6,-4)),s=parseInt(e.slice(-9,-7)),r=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!Ye(i)||!Ye(n)||!Ye(s)||!Ye(r))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return i+=1e3*n,i+=60*1e3*s,i+=60*60*1e3*r,i},V5=function(e){let i=5381,n=e.length;for(;n;)i=i*33^e.charCodeAt(--n);return(i>>>0).toString()};function O9(t,e,i){return V5(t.toString())+V5(e.toString())+V5(i)}const ODe=function(e,i,n){let s=e[i],r=e[s.prevCC];if(!r||!r.new&&s.new){e.ccOffset=e.presentationOffset=s.start,s.new=!1;return}for(;(a=r)!=null&&a.new;){var a;e.ccOffset+=s.start-r.start,s.new=!1,s=r,r=e[s.prevCC]}e.presentationOffset=n};function XDe(t,e,i,n,s,r,a){const o=new MDe,l=da(new Uint8Array(t)).trim().replace(ZDe,`
`).split(`
`),c=[],u=e?oDe(e.baseTime,e.timescale):0;let d="00:00.000",h=0,f=0,p,m=!0;o.oncue=function(v){const g=i[n];let E=i.ccOffset;const A=(h-u)/9e4;if(g!=null&&g.new&&(f!==void 0?E=i.ccOffset=g.start:ODe(i,n,A)),A){if(!e){p=new Error("Missing initPTS for VTT MPEGTS");return}E=A-i.presentationOffset}const R=v.endTime-v.startTime,I=Ws((v.startTime+E-f)*9e4,s*9e4)/9e4;v.startTime=Math.max(I,0),v.endTime=Math.max(I+R,0);const L=v.text.trim();v.text=decodeURIComponent(encodeURIComponent(L)),v.id||(v.id=O9(v.startTime,v.endTime,L)),v.endTime>0&&c.push(v)},o.onparsingerror=function(v){p=v},o.onflush=function(){if(p){a(p);return}r(c)},l.forEach(v=>{if(m)if(N5(v,"X-TIMESTAMP-MAP=")){m=!1,v.slice(16).split(",").forEach(g=>{N5(g,"LOCAL:")?d=g.slice(6):N5(g,"MPEGTS:")&&(h=parseInt(g.slice(7)))});try{f=PDe(d)/1e3}catch(g){p=g}return}else v===""&&(m=!1);o.parse(v+`
`)}),o.flush()}const L5="stpp.ttml.im1t",hK=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,fK=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,YDe={left:"start",center:"center",right:"end",start:"start",end:"end"};function WF(t,e,i,n){const s=ct(new Uint8Array(t),["mdat"]);if(s.length===0){n(new Error("Could not parse IMSC1 mdat"));return}const r=s.map(o=>da(o)),a=aDe(e.baseTime,1,e.timescale);try{r.forEach(o=>i($De(o,a)))}catch(o){n(o)}}function $De(t,e){const s=new DOMParser().parseFromString(t,"text/xml").getElementsByTagName("tt")[0];if(!s)throw new Error("Invalid ttml");const r={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},a=Object.keys(r).reduce((d,h)=>(d[h]=s.getAttribute(`ttp:${h}`)||r[h],d),{}),o=s.getAttribute("xml:space")!=="preserve",l=GF(k5(s,"styling","style")),c=GF(k5(s,"layout","region")),u=k5(s,"body","[begin]");return[].map.call(u,d=>{const h=pK(d,o);if(!h||!d.hasAttribute("begin"))return null;const f=U5(d.getAttribute("begin"),a),p=U5(d.getAttribute("dur"),a);let m=U5(d.getAttribute("end"),a);if(f===null)throw DF(d);if(m===null){if(p===null)throw DF(d);m=f+p}const v=new P9(f-e,m-e,h);v.id=O9(v.startTime,v.endTime,v.text);const g=c[d.getAttribute("region")],E=l[d.getAttribute("style")],A=KDe(g,E,l),{textAlign:R}=A;if(R){const I=YDe[R];I&&(v.lineAlign=I),v.align=R}return Pi(v,A),v}).filter(d=>d!==null)}function k5(t,e,i){const n=t.getElementsByTagName(e)[0];return n?[].slice.call(n.querySelectorAll(i)):[]}function GF(t){return t.reduce((e,i)=>{const n=i.getAttribute("xml:id");return n&&(e[n]=i),e},{})}function pK(t,e){return[].slice.call(t.childNodes).reduce((i,n,s)=>{var r;return n.nodeName==="br"&&s?i+`
`:(r=n.childNodes)!=null&&r.length?pK(n,e):e?i+n.textContent.trim().replace(/\s+/g," "):i+n.textContent},"")}function KDe(t,e,i){const n="http://www.w3.org/ns/ttml#styling";let s=null;const r=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=t!=null&&t.hasAttribute("style")?t.getAttribute("style"):null;return a&&i.hasOwnProperty(a)&&(s=i[a]),r.reduce((o,l)=>{const c=F5(e,n,l)||F5(t,n,l)||F5(s,n,l);return c&&(o[l]=c),o},{})}function F5(t,e,i){return t&&t.hasAttributeNS(e,i)?t.getAttributeNS(e,i):null}function DF(t){return new Error(`Could not parse ttml timestamp ${t}`)}function U5(t,e){if(!t)return null;let i=cK(t);return i===null&&(hK.test(t)?i=zDe(t,e):fK.test(t)&&(i=JDe(t,e))),i}function zDe(t,e){const i=hK.exec(t),n=(i[4]|0)+(i[5]|0)/e.subFrameRate;return(i[1]|0)*3600+(i[2]|0)*60+(i[3]|0)+n/e.frameRate}function JDe(t,e){const i=fK.exec(t),n=Number(i[1]);switch(i[2]){case"h":return n*3600;case"m":return n*60;case"ms":return n*1e3;case"f":return n/e.frameRate;case"t":return n/e.tickRate}return n}class jDe{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=ZF(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(U.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(U.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(U.FRAG_LOADING,this.onFragLoading,this),e.on(U.FRAG_LOADED,this.onFragLoaded,this),e.on(U.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(U.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(U.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(U.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(U.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(U.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(U.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(U.FRAG_LOADING,this.onFragLoading,this),e.off(U.FRAG_LOADED,this.onFragLoaded,this),e.off(U.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(U.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(U.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(U.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(U.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){const e=new v1(this,"textTrack1"),i=new v1(this,"textTrack2"),n=new v1(this,"textTrack3"),s=new v1(this,"textTrack4");this.cea608Parser1=new BF(1,e,i),this.cea608Parser2=new BF(3,n,s)}}addCues(e,i,n,s,r){let a=!1;for(let o=r.length;o--;){const l=r[o],c=HDe(l[0],l[1],i,n);if(c>=0&&(l[0]=Math.min(l[0],i),l[1]=Math.max(l[1],n),a=!0,c/(n-i)>.5))return}if(a||r.push([i,n]),this.config.renderTextTracksNatively){const o=this.captionsTracks[e];this.Cues.newCue(o,i,n,s)}else{const o=this.Cues.newCue(null,i,n,s);this.hls.trigger(U.CUES_PARSED,{type:"captions",cues:o,track:e})}}onInitPtsFound(e,{frag:i,id:n,initPTS:s,timescale:r}){const{unparsedVttFrags:a}=this;n==="main"&&(this.initPTS[i.cc]={baseTime:s,timescale:r}),a.length&&(this.unparsedVttFrags=[],a.forEach(o=>{this.onFragLoaded(U.FRAG_LOADED,o)}))}getExistingTrack(e,i){const{media:n}=this;if(n)for(let s=0;s<n.textTracks.length;s++){const r=n.textTracks[s];if(MF(r,{name:e,lang:i}))return r}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:i,captionsTracks:n,media:s}=this,{label:r,languageCode:a}=i[e],o=this.getExistingTrack(r,a);if(o)n[e]=o,Pu(n[e]),F$(n[e],s);else{const l=this.createTextTrack("captions",r,a);l&&(l[e]=!0,n[e]=l)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const i=this.captionsProperties[e];if(!i)return;const n=i.label,s={_id:e,label:n,kind:"captions",default:i.media?!!i.media.default:!1,closedCaptions:i.media};this.nonNativeCaptionsTracks[e]=s,this.hls.trigger(U.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[s]})}createTextTrack(e,i,n){const s=this.media;if(s)return s.addTextTrack(e,i,n)}onMediaAttaching(e,i){this.media=i.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:e}=this;Object.keys(e).forEach(i=>{Pu(e[i]),delete e[i]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=ZF(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const i=e.textTracks;if(i)for(let n=0;n<i.length;n++)Pu(i[n])}onSubtitleTracksUpdated(e,i){const n=i.subtitleTracks||[],s=n.some(r=>r.textCodec===L5);if(this.config.enableWebVTT||s&&this.config.enableIMSC1){if(aK(this.tracks,n)){this.tracks=n;return}if(this.textTracks=[],this.tracks=n,this.config.renderTextTracksNatively){const a=this.media,o=a?ug(a.textTracks):null;if(this.tracks.forEach((l,c)=>{let u;if(o){let d=null;for(let h=0;h<o.length;h++)if(o[h]&&MF(o[h],l)){d=o[h],o[h]=null;break}d&&(u=d)}if(u)Pu(u);else{const d=mK(l);u=this.createTextTrack(d,l.name,l.lang),u&&(u.mode="disabled")}u&&this.textTracks.push(u)}),o!=null&&o.length){const l=o.filter(c=>c!==null).map(c=>c.label);l.length&&re.warn(`Media element contains unused subtitle tracks: ${l.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const a=this.tracks.map(o=>({label:o.name,kind:o.type.toLowerCase(),default:o.default,subtitleTrack:o}));this.hls.trigger(U.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:a})}}}onManifestLoaded(e,i){this.config.enableCEA708Captions&&i.captions&&i.captions.forEach(n=>{const s=/(?:CC|SERVICE)([1-4])/.exec(n.instreamId);if(!s)return;const r=`textTrack${s[1]}`,a=this.captionsProperties[r];a&&(a.label=n.name,n.lang&&(a.languageCode=n.lang),a.media=n)})}closedCaptionsForLevel(e){const i=this.hls.levels[e.level];return i==null?void 0:i.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,i){if(this.enabled&&i.frag.type===qe.MAIN){var n,s;const{cea608Parser1:r,cea608Parser2:a,lastSn:o}=this,{cc:l,sn:c}=i.frag,u=(n=(s=i.part)==null?void 0:s.index)!=null?n:-1;r&&a&&(c!==o+1||c===o&&u!==this.lastPartIndex+1||l!==this.lastCc)&&(r.reset(),a.reset()),this.lastCc=l,this.lastSn=c,this.lastPartIndex=u}}onFragLoaded(e,i){const{frag:n,payload:s}=i;if(n.type===qe.SUBTITLE)if(s.byteLength){const r=n.decryptdata,a="stats"in i;if(r==null||!r.encrypted||a){const o=this.tracks[n.level],l=this.vttCCs;l[n.cc]||(l[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),o&&o.textCodec===L5?this._parseIMSC1(n,s):this._parseVTTs(i)}}else this.hls.trigger(U.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,i){const n=this.hls;WF(i,this.initPTS[e.cc],s=>{this._appendCues(s,e.level),n.trigger(U.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},s=>{re.log(`Failed to parse IMSC1: ${s}`),n.trigger(U.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:s})})}_parseVTTs(e){var i;const{frag:n,payload:s}=e,{initPTS:r,unparsedVttFrags:a}=this,o=r.length-1;if(!r[n.cc]&&o===-1){a.push(e);return}const l=this.hls,c=(i=n.initSegment)!=null&&i.data?qs(n.initSegment.data,new Uint8Array(s)):s;XDe(c,this.initPTS[n.cc],this.vttCCs,n.cc,n.start,u=>{this._appendCues(u,n.level),l.trigger(U.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:n})},u=>{const d=u.message==="Missing initPTS for VTT MPEGTS";d?a.push(e):this._fallbackToIMSC1(n,s),re.log(`Failed to parse VTT cue: ${u}`),!(d&&o>n.cc)&&l.trigger(U.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:u})})}_fallbackToIMSC1(e,i){const n=this.tracks[e.level];n.textCodec||WF(i,this.initPTS[e.cc],()=>{n.textCodec=L5,this._parseIMSC1(e,i)},()=>{n.textCodec="wvtt"})}_appendCues(e,i){const n=this.hls;if(this.config.renderTextTracksNatively){const s=this.textTracks[i];if(!s||s.mode==="disabled")return;e.forEach(r=>U$(s,r))}else{const s=this.tracks[i];if(!s)return;const r=s.default?"default":"subtitles"+i;n.trigger(U.CUES_PARSED,{type:"subtitles",cues:e,track:r})}}onFragDecrypted(e,i){const{frag:n}=i;n.type===qe.SUBTITLE&&this.onFragLoaded(U.FRAG_LOADED,i)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,i){this.initCea608Parsers();const{cea608Parser1:n,cea608Parser2:s}=this;if(!this.enabled||!n||!s)return;const{frag:r,samples:a}=i;if(!(r.type===qe.MAIN&&this.closedCaptionsForLevel(r)==="NONE"))for(let o=0;o<a.length;o++){const l=a[o].bytes;if(l){const c=this.extractCea608Data(l);n.addData(a[o].pts,c[0]),s.addData(a[o].pts,c[1])}}}onBufferFlushing(e,{startOffset:i,endOffset:n,endOffsetSubtitles:s,type:r}){const{media:a}=this;if(!(!a||a.currentTime<n)){if(!r||r==="video"){const{captionsTracks:o}=this;Object.keys(o).forEach(l=>TT(o[l],i,n))}if(this.config.renderTextTracksNatively&&i===0&&s!==void 0){const{textTracks:o}=this;Object.keys(o).forEach(l=>TT(o[l],i,s))}}}extractCea608Data(e){const i=[[],[]],n=e[0]&31;let s=2;for(let r=0;r<n;r++){const a=e[s++],o=127&e[s++],l=127&e[s++];if(o===0&&l===0)continue;if((4&a)!==0){const u=3&a;(u===0||u===1)&&(i[u].push(o),i[u].push(l))}}return i}}function mK(t){return t.characteristics&&/transcribes-spoken-dialog/gi.test(t.characteristics)&&/describes-music-and-sound/gi.test(t.characteristics)?"captions":"subtitles"}function MF(t,e){return!!t&&t.kind===mK(e)&&xT(e,t)}function HDe(t,e,i,n){return Math.min(e,n)-Math.max(t,i)}function ZF(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}class X9{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(U.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(U.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(U.MANIFEST_PARSED,this.onManifestParsed,this),e.on(U.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(U.BUFFER_CODECS,this.onBufferCodecs,this),e.on(U.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(U.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(U.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(U.MANIFEST_PARSED,this.onManifestParsed,this),e.off(U.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(U.BUFFER_CODECS,this.onBufferCodecs,this),e.off(U.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,i){const n=this.hls.levels[i.droppedLevel];this.isLevelAllowed(n)&&this.restrictedLevels.push({bitrate:n.bitrate,height:n.height,width:n.width})}onMediaAttaching(e,i){this.media=i.media instanceof HTMLVideoElement?i.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,i){const n=this.hls;this.restrictedLevels=[],this.firstLevel=i.firstLevel,n.config.capLevelToPlayerSize&&i.video&&this.startCapping()}onLevelsUpdated(e,i){this.timer&&Ye(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,i){this.hls.config.capLevelToPlayerSize&&i.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const i=this.hls,n=this.getMaxLevel(e.length-1);n!==this.autoLevelCapping&&re.log(`Setting autoLevelCapping to ${n}: ${e[n].height}p@${e[n].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),i.autoLevelCapping=n,i.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=i.autoLevelCapping}}}getMaxLevel(e){const i=this.hls.levels;if(!i.length)return-1;const n=i.filter((s,r)=>this.isLevelAllowed(s)&&r<=e);return this.clientRect=null,X9.getMaxLevelByMediaSize(n,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,i={width:0,height:0};if(e){const n=e.getBoundingClientRect();i.width=n.width,i.height=n.height,!i.width&&!i.height&&(i.width=n.right-n.left||e.width||0,i.height=n.bottom-n.top||e.height||0)}return this.clientRect=i,i}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return e}isLevelAllowed(e){return!this.restrictedLevels.some(n=>e.bitrate===n.bitrate&&e.width===n.width&&e.height===n.height)}static getMaxLevelByMediaSize(e,i,n){if(!(e!=null&&e.length))return-1;const s=(o,l)=>l?o.width!==l.width||o.height!==l.height:!0;let r=e.length-1;const a=Math.max(i,n);for(let o=0;o<e.length;o+=1){const l=e[o];if((l.width>=a||l.height>=a)&&s(l,e[o+1])){r=o;break}}return r}}class QDe{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(U.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(U.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,i){const n=this.hls.config;if(n.capLevelOnFPSDrop){const s=i.media instanceof self.HTMLVideoElement?i.media:null;this.media=s,s&&typeof s.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}}checkFPS(e,i,n){const s=performance.now();if(i){if(this.lastTime){const r=s-this.lastTime,a=n-this.lastDroppedFrames,o=i-this.lastDecodedFrames,l=1e3*a/r,c=this.hls;if(c.trigger(U.FPS_DROP,{currentDropped:a,currentDecoded:o,totalDroppedFrames:n}),l>0&&a>c.config.fpsDroppedMonitoringThreshold*o){let u=c.currentLevel;re.warn("drop FPS ratio greater than max allowed value for currentLevel: "+u),u>0&&(c.autoLevelCapping===-1||c.autoLevelCapping>=u)&&(u=u-1,c.trigger(U.FPS_DROP_LEVEL_CAPPING,{level:u,droppedLevel:c.currentLevel}),c.autoLevelCapping=u,this.streamController.nextLevelSwitch())}}this.lastTime=s,this.lastDroppedFrames=n,this.lastDecodedFrames=i}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const i=e.getVideoPlaybackQuality();this.checkFPS(e,i.totalVideoFrames,i.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}const A1="[eme]";class fd{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=fd.CDMCleanupPromise?[fd.CDMCleanupPromise]:[],this.debug=re.debug.bind(re,A1),this.log=re.log.bind(re,A1),this.warn=re.warn.bind(re,A1),this.error=re.error.bind(re,A1),this.onMediaEncrypted=i=>{const{initDataType:n,initData:s}=i,r=`"${i.type}" event: init data type: "${n}"`;if(this.debug(r),s!==null){if(!this.keyFormatPromise){let a=Object.keys(this.keySystemAccessPromises);a.length||(a=d1(this.config));const o=a.map(y5).filter(l=>!!l);this.keyFormatPromise=this.getKeyFormatPromise(o)}this.keyFormatPromise.then(a=>{const o=m5(a);let l,c;if(n==="sinf"){if(o!==xt.FAIRPLAY){this.warn(`Ignoring unexpected "${i.type}" event with init data type: "${n}" for selected key-system ${o}`);return}const p=Xi(new Uint8Array(s));try{const m=x9(JSON.parse(p).sinf),v=x$(m);if(!v)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");l=v.subarray(8,24),c=xt.FAIRPLAY}catch(m){this.warn(`${r} Failed to parse sinf: ${m}`);return}}else{if(o!==xt.WIDEVINE&&o!==xt.PLAYREADY){this.warn(`Ignoring unexpected "${i.type}" event with init data type: "${n}" for selected key-system ${o}`);return}const p=xWe(s),m=p.filter(g=>!!g.systemId&&g5(g.systemId)===o);m.length>1&&this.warn(`${r} Using first of ${m.length} pssh found for selected key-system ${o}`);const v=m[0];if(!v){p.length===0||p.some(g=>!g.systemId)?this.warn(`${r} contains incomplete or invalid pssh data`):this.log(`ignoring ${r} for ${p.map(g=>g5(g.systemId)).join(",")} pssh data in favor of playlist keys`);return}if(c=g5(v.systemId),v.version===0&&v.data)if(c===xt.WIDEVINE){const g=v.data.length-22;l=v.data.subarray(g,g+16)}else c===xt.PLAYREADY&&(l=A$(v.data))}if(!c||!l){this.log(`Unable to handle ${r} with key-system ${o}`);return}const u=Yr.hexDump(l),{keyIdToKeySessionPromise:d,mediaKeySessions:h}=this;let f=d[u];for(let p=0;p<h.length;p++){const m=h[p],v=m.decryptdata;if(!v.keyId)continue;const g=Yr.hexDump(v.keyId);if(u===g||v.uri.replace(/-/g,"").indexOf(u)!==-1){if(f=d[g],v.pssh)break;delete d[g],v.pssh=new Uint8Array(s),v.keyId=l,f=d[u]=f.then(()=>this.generateRequestWithPreferredKeySession(m,n,s,"encrypted-event-key-match")),f.catch(E=>this.handleError(E));break}}if(!f){if(c!==o){this.log(`Ignoring "${r}" with ${c} init data for selected key-system ${o}`);return}f=d[u]=this.getKeySystemSelectionPromise([c]).then(({keySystem:p,mediaKeys:m})=>{var v;this.throwIfDestroyed();const g=new e0("ISO-23001-7",u,(v=y5(p))!=null?v:"");return g.pssh=new Uint8Array(s),g.keyId=l,this.attemptSetMediaKeys(p,m).then(()=>{this.throwIfDestroyed();const E=this.createMediaKeySessionContext({decryptdata:g,keySystem:p,mediaKeys:m});return this.generateRequestWithPreferredKeySession(E,n,s,"encrypted-event-no-match")})}),f.catch(p=>this.handleError(p))}})}},this.onWaitingForKey=i=>{this.log(`"${i.type}" event`)},this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.config=this.keyIdToKeySessionPromise=null,this.onMediaEncrypted=this.onWaitingForKey=null}registerListeners(){this.hls.on(U.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(U.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(U.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(U.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(U.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(U.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(U.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(U.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:i,widevineLicenseUrl:n}=this.config,s=i[e];if(s)return s.licenseUrl;if(e===xt.WIDEVINE&&n)return n}getLicenseServerUrlOrThrow(e){const i=this.getLicenseServerUrl(e);if(i===void 0)throw new Error(`no license server URL configured for key-system "${e}"`);return i}getServerCertificateUrl(e){const{drmSystems:i}=this.config,n=i[e];if(n)return n.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const i=this.hls.levels,n=(a,o,l)=>!!a&&l.indexOf(a)===o,s=i.map(a=>a.audioCodec).filter(n),r=i.map(a=>a.videoCodec).filter(n);return s.length+r.length===0&&r.push("avc1.42e01e"),new Promise((a,o)=>{const l=c=>{const u=c.shift();this.getMediaKeysPromise(u,s,r).then(d=>a({keySystem:u,mediaKeys:d})).catch(d=>{c.length?l(c):d instanceof Us?o(d):o(new Us({type:nt.KEY_SYSTEM_ERROR,details:Ae.KEY_SYSTEM_NO_ACCESS,error:d,fatal:!0},d.message))})};l(e)})}requestMediaKeySystemAccess(e,i){const{requestMediaKeySystemAccessFunc:n}=this.config;if(typeof n!="function"){let s=`Configured requestMediaKeySystemAccess is not a function ${n}`;return E$===null&&self.location.protocol==="http:"&&(s=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(s))}return n(e,i)}getMediaKeysPromise(e,i,n){const s=sWe(e,i,n,this.config.drmSystemOptions),r=this.keySystemAccessPromises[e];let a=r==null?void 0:r.keySystemAccess;if(!a){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(s)}`),a=this.requestMediaKeySystemAccess(e,s);const o=this.keySystemAccessPromises[e]={keySystemAccess:a};return a.catch(l=>{this.log(`Failed to obtain access to key-system "${e}": ${l}`)}),a.then(l=>{this.log(`Access for key-system "${l.keySystem}" obtained`);const c=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),o.mediaKeys=l.createMediaKeys().then(u=>(this.log(`Media-keys created for "${e}"`),c.then(d=>d?this.setMediaKeysServerCertificate(u,e,d):u))),o.mediaKeys.catch(u=>{this.error(`Failed to create media-keys for "${e}"}: ${u}`)}),o.mediaKeys})}return a.then(()=>r.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:i,mediaKeys:n}){this.log(`Creating key-system session "${i}" keyId: ${Yr.hexDump(e.keyId||[])}`);const s=n.createSession(),r={decryptdata:e,keySystem:i,mediaKeys:n,mediaKeysSession:s,keyStatus:"status-pending"};return this.mediaKeySessions.push(r),r}renewKeySession(e){const i=e.decryptdata;if(i.pssh){const n=this.createMediaKeySessionContext(e),s=this.getKeyIdString(i),r="cenc";this.keyIdToKeySessionPromise[s]=this.generateRequestWithPreferredKeySession(n,r,i.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return Yr.hexDump(e.keyId)}updateKeySession(e,i){var n;const s=e.mediaKeysSession;return this.log(`Updating key-session "${s.sessionId}" for keyID ${Yr.hexDump(((n=e.decryptdata)==null?void 0:n.keyId)||[])}
      } (data length: ${i&&i.byteLength})`),s.update(i)}selectKeySystemFormat(e){const i=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${i.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(i)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((i,n)=>{const s=d1(this.config),r=e.map(m5).filter(a=>!!a&&s.indexOf(a)!==-1);return this.getKeySystemSelectionPromise(r).then(({keySystem:a})=>{const o=y5(a);o?i(o):n(new Error(`Unable to find format for key-system "${a}"`))}).catch(n)})}loadKey(e){const i=e.keyInfo.decryptdata,n=this.getKeyIdString(i),s=`(keyId: ${n} format: "${i.keyFormat}" method: ${i.method} uri: ${i.uri})`;this.log(`Starting session for key ${s}`);let r=this.keyIdToKeySessionPromise[n];return r||(r=this.keyIdToKeySessionPromise[n]=this.getKeySystemForKeyPromise(i).then(({keySystem:a,mediaKeys:o})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${s}`),this.attemptSetMediaKeys(a,o).then(()=>{this.throwIfDestroyed();const l=this.createMediaKeySessionContext({keySystem:a,mediaKeys:o,decryptdata:i});return this.generateRequestWithPreferredKeySession(l,"cenc",i.pssh,"playlist-key")}))),r.catch(a=>this.handleError(a))),r}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof Us?this.hls.trigger(U.ERROR,e.data):this.hls.trigger(U.ERROR,{type:nt.KEY_SYSTEM_ERROR,details:Ae.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const i=this.getKeyIdString(e),n=this.keyIdToKeySessionPromise[i];if(!n){const s=m5(e.keyFormat),r=s?[s]:d1(this.config);return this.attemptKeySystemAccess(r)}return n}getKeySystemSelectionPromise(e){if(e.length||(e=d1(this.config)),e.length===0)throw new Us({type:nt.KEY_SYSTEM_ERROR,details:Ae.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}attemptSetMediaKeys(e,i){const n=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const s=Promise.all(n).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(i)});return this.setMediaKeysQueue.push(s),s.then(()=>{this.log(`Media-keys set for "${e}"`),n.push(s),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(r=>n.indexOf(r)===-1)})}generateRequestWithPreferredKeySession(e,i,n,s){var r,a;const o=(r=this.config.drmSystems)==null||(a=r[e.keySystem])==null?void 0:a.generateRequest;if(o)try{const p=o.call(this.hls,i,n,e);if(!p)throw new Error("Invalid response from configured generateRequest filter");i=p.initDataType,n=e.decryptdata.pssh=p.initData?new Uint8Array(p.initData):null}catch(p){var l;if(this.warn(p.message),(l=this.hls)!=null&&l.config.debug)throw p}if(n===null)return this.log(`Skipping key-session request for "${s}" (no initData)`),Promise.resolve(e);const c=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${s}": ${c} (init data type: ${i} length: ${n?n.byteLength:null})`);const u=new Z9,d=e._onmessage=p=>{const m=e.mediaKeysSession;if(!m){u.emit("error",new Error("invalid state"));return}const{messageType:v,message:g}=p;this.log(`"${v}" message event for session "${m.sessionId}" message size: ${g.byteLength}`),v==="license-request"||v==="license-renewal"?this.renewLicense(e,g).catch(E=>{this.handleError(E),u.emit("error",E)}):v==="license-release"?e.keySystem===xt.FAIRPLAY&&(this.updateKeySession(e,AT("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${v}"`)},h=e._onkeystatuseschange=p=>{if(!e.mediaKeysSession){u.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const v=e.keyStatus;u.emit("keyStatus",v),v==="expired"&&(this.warn(`${e.keySystem} expired for key ${c}`),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",d),e.mediaKeysSession.addEventListener("keystatuseschange",h);const f=new Promise((p,m)=>{u.on("error",m),u.on("keyStatus",v=>{v.startsWith("usable")?p():v==="output-restricted"?m(new Us({type:nt.KEY_SYSTEM_ERROR,details:Ae.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):v==="internal-error"?m(new Us({type:nt.KEY_SYSTEM_ERROR,details:Ae.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${v}"`)):v==="expired"?m(new Error("key expired while generating request")):this.warn(`unhandled key status change "${v}"`)})});return e.mediaKeysSession.generateRequest(i,n).then(()=>{var p;this.log(`Request generated for key-session "${(p=e.mediaKeysSession)==null?void 0:p.sessionId}" keyId: ${c}`)}).catch(p=>{throw new Us({type:nt.KEY_SYSTEM_ERROR,details:Ae.KEY_SYSTEM_NO_SESSION,error:p,fatal:!1},`Error generating key-session request: ${p}`)}).then(()=>f).catch(p=>{throw u.removeAllListeners(),this.removeSession(e),p}).then(()=>(u.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((i,n)=>{this.log(`key status change "${i}" for keyStatuses keyId: ${Yr.hexDump("buffer"in n?new Uint8Array(n.buffer,n.byteOffset,n.byteLength):new Uint8Array(n))} session keyId: ${Yr.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=i})}fetchServerCertificate(e){const i=this.config,n=i.loader,s=new n(i),r=this.getServerCertificateUrl(e);return r?(this.log(`Fetching server certificate for "${e}"`),new Promise((a,o)=>{const l={responseType:"arraybuffer",url:r},c=i.certLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(h,f,p,m)=>{a(h.data)},onError:(h,f,p,m)=>{o(new Us({type:nt.KEY_SYSTEM_ERROR,details:Ae.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:p,response:cn({url:l.url,data:void 0},h)},`"${e}" certificate request failed (${r}). Status: ${h.code} (${h.text})`))},onTimeout:(h,f,p)=>{o(new Us({type:nt.KEY_SYSTEM_ERROR,details:Ae.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:p,response:{url:l.url,data:void 0}},`"${e}" certificate request timed out (${r})`))},onAbort:(h,f,p)=>{o(new Error("aborted"))}};s.load(l,u,d)})):Promise.resolve()}setMediaKeysServerCertificate(e,i,n){return new Promise((s,r)=>{e.setServerCertificate(n).then(a=>{this.log(`setServerCertificate ${a?"success":"not supported by CDM"} (${n==null?void 0:n.byteLength}) on "${i}"`),s(e)}).catch(a=>{r(new Us({type:nt.KEY_SYSTEM_ERROR,details:Ae.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:a,fatal:!0},a.message))})})}renewLicense(e,i){return this.requestLicense(e,new Uint8Array(i)).then(n=>this.updateKeySession(e,new Uint8Array(n)).catch(s=>{throw new Us({type:nt.KEY_SYSTEM_ERROR,details:Ae.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:s,fatal:!0},s.message)}))}unpackPlayReadyKeyMessage(e,i){const n=String.fromCharCode.apply(null,new Uint16Array(i.buffer));if(!n.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),i;const s=new DOMParser().parseFromString(n,"application/xml"),r=s.querySelectorAll("HttpHeader");if(r.length>0){let u;for(let d=0,h=r.length;d<h;d++){var a,o;u=r[d];const f=(a=u.querySelector("name"))==null?void 0:a.textContent,p=(o=u.querySelector("value"))==null?void 0:o.textContent;f&&p&&e.setRequestHeader(f,p)}}const l=s.querySelector("Challenge"),c=l==null?void 0:l.textContent;if(!c)throw new Error("Cannot find <Challenge> in key message");return AT(atob(c))}setupLicenseXHR(e,i,n,s){const r=this.config.licenseXhrSetup;return r?Promise.resolve().then(()=>{if(!n.decryptdata)throw new Error("Key removed");return r.call(this.hls,e,i,n,s)}).catch(a=>{if(!n.decryptdata)throw a;return e.open("POST",i,!0),r.call(this.hls,e,i,n,s)}).then(a=>(e.readyState||e.open("POST",i,!0),{xhr:e,licenseChallenge:a||s})):(e.open("POST",i,!0),Promise.resolve({xhr:e,licenseChallenge:s}))}requestLicense(e,i){const n=this.config.keyLoadPolicy.default;return new Promise((s,r)=>{const a=this.getLicenseServerUrlOrThrow(e.keySystem);this.log(`Sending license request to URL: ${a}`);const o=new XMLHttpRequest;o.responseType="arraybuffer",o.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return r(new Error("invalid state"));if(o.readyState===4)if(o.status===200){this._requestLicenseFailureCount=0;let l=o.response;this.log(`License received ${l instanceof ArrayBuffer?l.byteLength:l}`);const c=this.config.licenseResponseCallback;if(c)try{l=c.call(this.hls,o,a,e)}catch(u){this.error(u)}s(l)}else{const l=n.errorRetry,c=l?l.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>c||o.status>=400&&o.status<500)r(new Us({type:nt.KEY_SYSTEM_ERROR,details:Ae.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:o,response:{url:a,data:void 0,code:o.status,text:o.statusText}},`License Request XHR failed (${a}). Status: ${o.status} (${o.statusText})`));else{const u=c-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${u} attempts left`),this.requestLicense(e,i).then(s,r)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=o,this.setupLicenseXHR(o,a,e,i).then(({xhr:l,licenseChallenge:c})=>{e.keySystem==xt.PLAYREADY&&(c=this.unpackPlayReadyKeyMessage(l,c)),l.send(c)})})}onMediaAttached(e,i){if(!this.config.emeEnabled)return;const n=i.media;this.media=n,n.removeEventListener("encrypted",this.onMediaEncrypted),n.removeEventListener("waitingforkey",this.onWaitingForKey),n.addEventListener("encrypted",this.onMediaEncrypted),n.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,i=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},e0.clearKeyUriToKeyIdMap();const n=i.length;fd.CDMCleanupPromise=Promise.all(i.map(s=>this.removeSession(s)).concat(e==null?void 0:e.setMediaKeys(null).catch(s=>{this.log(`Could not clear media keys: ${s}`)}))).then(()=>{n&&(this.log("finished closing key sessions and clearing media keys"),i.length=0)}).catch(s=>{this.log(`Could not close sessions and clear media keys: ${s}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:i}){if(!(!i||!this.config.emeEnabled)&&!this.keyFormatPromise){const n=i.reduce((s,r)=>(s.indexOf(r.keyFormat)===-1&&s.push(r.keyFormat),s),[]);this.log(`Selecting key-system from session-keys ${n.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(n)}}removeSession(e){const{mediaKeysSession:i,licenseXhr:n}=e;if(i){this.log(`Remove licenses and keys and close session ${i.sessionId}`),e._onmessage&&(i.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(i.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),n&&n.readyState!==XMLHttpRequest.DONE&&n.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const s=this.mediaKeySessions.indexOf(e);return s>-1&&this.mediaKeySessions.splice(s,1),i.remove().catch(r=>{this.log(`Could not remove session: ${r}`)}).then(()=>i.close()).catch(r=>{this.log(`Could not close session: ${r}`)})}}}fd.CDMCleanupPromise=void 0;class Us extends Error{constructor(e,i){super(i),this.data=void 0,e.error||(e.error=new Error(i)),this.data=e,e.err=e.error}}var Cn;(function(t){t.MANIFEST="m",t.AUDIO="a",t.VIDEO="v",t.MUXED="av",t.INIT="i",t.CAPTION="c",t.TIMED_TEXT="tt",t.KEY="k",t.OTHER="o"})(Cn||(Cn={}));var VT;(function(t){t.DASH="d",t.HLS="h",t.SMOOTH="s",t.OTHER="o"})(VT||(VT={}));var ec;(function(t){t.OBJECT="CMCD-Object",t.REQUEST="CMCD-Request",t.SESSION="CMCD-Session",t.STATUS="CMCD-Status"})(ec||(ec={}));const qDe={[ec.OBJECT]:["br","d","ot","tb"],[ec.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[ec.SESSION]:["cid","pr","sf","sid","st","v"],[ec.STATUS]:["bs","rtp"]};class ah{constructor(e,i){this.value=void 0,this.params=void 0,Array.isArray(e)&&(e=e.map(n=>n instanceof ah?n:new ah(n))),this.value=e,this.params=i}}class gK{constructor(e){this.description=void 0,this.description=e}}const eMe="Dict";function tMe(t){return Array.isArray(t)?JSON.stringify(t):t instanceof Map?"Map{}":t instanceof Set?"Set{}":typeof t=="object"?JSON.stringify(t):String(t)}function iMe(t,e,i,n){return new Error(`failed to ${t} "${tMe(e)}" as ${i}`,{cause:n})}const PF="Bare Item",nMe="Boolean",sMe="Byte Sequence",rMe="Decimal",aMe="Integer";function oMe(t){return t<-999999999999999||999999999999999<t}const lMe=/[\x00-\x1f\x7f]+/,cMe="Token",uMe="Key";function ga(t,e,i){return iMe("serialize",t,e,i)}function dMe(t){if(typeof t!="boolean")throw ga(t,nMe);return t?"?1":"?0"}function hMe(t){return btoa(String.fromCharCode(...t))}function fMe(t){if(ArrayBuffer.isView(t)===!1)throw ga(t,sMe);return`:${hMe(t)}:`}function yK(t){if(oMe(t))throw ga(t,aMe);return t.toString()}function pMe(t){return`@${yK(t.getTime()/1e3)}`}function bK(t,e){if(t<0)return-bK(-t,e);const i=Math.pow(10,e);if(Math.abs(t*i%1-.5)<Number.EPSILON){const s=Math.floor(t*i);return(s%2===0?s:s+1)/i}else return Math.round(t*i)/i}function mMe(t){const e=bK(t,3);if(Math.floor(Math.abs(e)).toString().length>12)throw ga(t,rMe);const i=e.toString();return i.includes(".")?i:`${i}.0`}const gMe="String";function yMe(t){if(lMe.test(t))throw ga(t,gMe);return`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function bMe(t){return t.description||t.toString().slice(7,-1)}function OF(t){const e=bMe(t);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw ga(e,cMe);return e}function LT(t){switch(typeof t){case"number":if(!Ye(t))throw ga(t,PF);return Number.isInteger(t)?yK(t):mMe(t);case"string":return yMe(t);case"symbol":return OF(t);case"boolean":return dMe(t);case"object":if(t instanceof Date)return pMe(t);if(t instanceof Uint8Array)return fMe(t);if(t instanceof gK)return OF(t);default:throw ga(t,PF)}}function kT(t){if(/^[a-z*][a-z0-9\-_.*]*$/.test(t)===!1)throw ga(t,uMe);return t}function Y9(t){return t==null?"":Object.entries(t).map(([e,i])=>i===!0?`;${kT(e)}`:`;${kT(e)}=${LT(i)}`).join("")}function vK(t){return t instanceof ah?`${LT(t.value)}${Y9(t.params)}`:LT(t)}function vMe(t){return`(${t.value.map(vK).join(" ")})${Y9(t.params)}`}function EMe(t,e={whitespace:!0}){if(typeof t!="object")throw ga(t,eMe);const i=t instanceof Map?t.entries():Object.entries(t),n=e!=null&&e.whitespace?" ":"";return Array.from(i).map(([s,r])=>{r instanceof ah||(r=new ah(r));let a=kT(s);return r.value===!0?a+=Y9(r.params):(a+="=",Array.isArray(r.value)?a+=vMe(r):a+=vK(r)),a}).join(`,${n}`)}function AMe(t,e){return EMe(t,e)}const SMe=t=>t==="ot"||t==="sf"||t==="st",TMe=t=>typeof t=="number"?Ye(t):t!=null&&t!==""&&t!==!1;function CMe(t,e){const i=new URL(t),n=new URL(e);if(i.origin!==n.origin)return t;const s=i.pathname.split("/").slice(1),r=n.pathname.split("/").slice(1,-1);for(;s[0]===r[0];)s.shift(),r.shift();for(;r.length;)r.shift(),s.unshift("..");return s.join("/")}function RMe(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),i=e.toString();return URL.revokeObjectURL(e),i.slice(i.lastIndexOf("/")+1)}catch{let i=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{const r=(i+Math.random()*16)%16|0;return i=Math.floor(i/16),(s=="x"?r:r&3|8).toString(16)})}}}const gg=t=>Math.round(t),IMe=(t,e)=>(e!=null&&e.baseUrl&&(t=CMe(t,e.baseUrl)),encodeURIComponent(t)),S1=t=>gg(t/100)*100,wMe={br:gg,d:gg,bl:S1,dl:S1,mtp:S1,nor:IMe,rtp:S1,tb:gg};function _Me(t,e){const i={};if(t==null||typeof t!="object")return i;const n=Object.keys(t).sort(),s=Pi({},wMe,e==null?void 0:e.formatters),r=e==null?void 0:e.filter;return n.forEach(a=>{if(r!=null&&r(a))return;let o=t[a];const l=s[a];l&&(o=l(o,e)),!(a==="v"&&o===1)&&(a=="pr"&&o===1||TMe(o)&&(SMe(a)&&typeof o=="string"&&(o=new gK(o)),i[a]=o))}),i}function EK(t,e={}){return t?AMe(_Me(t,e),Pi({whitespace:!1},e)):""}function xMe(t,e={}){if(!t)return{};const i=Object.entries(t),n=Object.entries(qDe).concat(Object.entries((e==null?void 0:e.customHeaderMap)||{})),s=i.reduce((r,a)=>{var o,l;const[c,u]=a,d=((o=n.find(h=>h[1].includes(c)))==null?void 0:o[0])||ec.REQUEST;return(l=r[d])!=null||(r[d]={}),r[d][c]=u,r},{});return Object.entries(s).reduce((r,[a,o])=>(r[a]=EK(o,e),r),{})}function NMe(t,e,i){return Pi(t,xMe(e,i))}const VMe="CMCD";function LMe(t,e={}){if(!t)return"";const i=EK(t,e);return`${VMe}=${encodeURIComponent(i)}`}const XF=/CMCD=[^&#]+/;function kMe(t,e,i){const n=LMe(e,i);if(!n)return t;if(XF.test(t))return t.replace(XF,n);const s=t.includes("?")?"&":"?";return`${t}${s}${n}`}class FMe{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=s=>{try{this.apply(s,{ot:Cn.MANIFEST,su:!this.initialized})}catch(r){re.warn("Could not generate manifest CMCD data.",r)}},this.applyFragmentData=s=>{try{const r=s.frag,a=this.hls.levels[r.level],o=this.getObjectType(r),l={d:r.duration*1e3,ot:o};(o===Cn.VIDEO||o===Cn.AUDIO||o==Cn.MUXED)&&(l.br=a.bitrate/1e3,l.tb=this.getTopBandwidth(o)/1e3,l.bl=this.getBufferLength(o)),this.apply(s,l)}catch(r){re.warn("Could not generate segment CMCD data.",r)}},this.hls=e;const i=this.config=e.config,{cmcd:n}=i;n!=null&&(i.pLoader=this.createPlaylistLoader(),i.fLoader=this.createFragmentLoader(),this.sid=n.sessionId||RMe(),this.cid=n.contentId,this.useHeaders=n.useHeaders===!0,this.includeKeys=n.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(U.MEDIA_DETACHED,this.onMediaDetached,this),e.on(U.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(U.MEDIA_DETACHED,this.onMediaDetached,this),e.off(U.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(e,i){this.media=i.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,i){var n,s;this.audioBuffer=(n=i.tracks.audio)==null?void 0:n.buffer,this.videoBuffer=(s=i.tracks.video)==null?void 0:s.buffer}createData(){var e;return{v:1,sf:VT.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,i={}){Pi(i,this.createData());const n=i.ot===Cn.INIT||i.ot===Cn.VIDEO||i.ot===Cn.MUXED;this.starved&&n&&(i.bs=!0,i.su=!0,this.starved=!1),i.su==null&&(i.su=this.buffering);const{includeKeys:s}=this;s&&(i=Object.keys(i).reduce((r,a)=>(s.includes(a)&&(r[a]=i[a]),r),{})),this.useHeaders?(e.headers||(e.headers={}),NMe(e.headers,i)):e.url=kMe(e.url,i)}getObjectType(e){const{type:i}=e;if(i==="subtitle")return Cn.TIMED_TEXT;if(e.sn==="initSegment")return Cn.INIT;if(i==="audio")return Cn.AUDIO;if(i==="main")return this.hls.audioTracks.length?Cn.VIDEO:Cn.MUXED}getTopBandwidth(e){let i=0,n;const s=this.hls;if(e===Cn.AUDIO)n=s.audioTracks;else{const r=s.maxAutoLevel,a=r>-1?r+1:s.levels.length;n=s.levels.slice(0,a)}for(const r of n)r.bitrate>i&&(i=r.bitrate);return i>0?i:NaN}getBufferLength(e){const i=this.hls.media,n=e===Cn.AUDIO?this.audioBuffer:this.videoBuffer;return!n||!i?NaN:Ht.bufferInfo(n,i.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,i=this.applyPlaylistData,n=e||this.config.loader;return class{constructor(r){this.loader=void 0,this.loader=new n(r)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(r,a,o){i(r),this.loader.load(r,a,o)}}}createFragmentLoader(){const{fLoader:e}=this.config,i=this.applyFragmentData,n=e||this.config.loader;return class{constructor(r){this.loader=void 0,this.loader=new n(r)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(r,a,o){i(r),this.loader.load(r,a,o)}}}}const UMe=3e5;class BMe{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=re.log.bind(re,"[content-steering]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(U.MANIFEST_PARSED,this.onManifestParsed,this),e.on(U.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(U.MANIFEST_PARSED,this.onManifestParsed,this),e.off(U.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const i=this.levels;i&&(this.levels=i.filter(n=>n!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,i){const{contentSteering:n}=i;n!==null&&(this.pathwayId=n.pathwayId,this.uri=n.uri,this.started&&this.startLoad())}onManifestParsed(e,i){this.audioTracks=i.audioTracks,this.subtitleTracks=i.subtitleTracks}onError(e,i){const{errorAction:n}=i;if((n==null?void 0:n.action)===hn.SendAlternateToPenaltyBox&&n.flags===cr.MoveAllAlternatesMatchingHost){const s=this.levels;let r=this.pathwayPriority,a=this.pathwayId;if(i.context){const{groupId:o,pathwayId:l,type:c}=i.context;o&&s?a=this.getPathwayForGroupId(o,c,a):l&&(a=l)}a in this.penalizedPathways||(this.penalizedPathways[a]=performance.now()),!r&&s&&(r=s.reduce((o,l)=>(o.indexOf(l.pathwayId)===-1&&o.push(l.pathwayId),o),[])),r&&r.length>1&&(this.updatePathwayPriority(r),n.resolved=this.pathwayId!==a),n.resolved||re.warn(`Could not resolve ${i.details} ("${i.error.message}") with content-steering for Pathway: ${a} levels: ${s&&s.length} priorities: ${JSON.stringify(r)} penalized: ${JSON.stringify(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let i=this.getLevelsForPathway(this.pathwayId);if(i.length===0){const n=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${n}"`),i=this.getLevelsForPathway(n),this.pathwayId=n}return i.length!==e.length&&this.log(`Found ${i.length}/${e.length} levels in Pathway "${this.pathwayId}"`),i}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(i=>e===i.pathwayId)}updatePathwayPriority(e){this.pathwayPriority=e;let i;const n=this.penalizedPathways,s=performance.now();Object.keys(n).forEach(r=>{s-n[r]>UMe&&delete n[r]});for(let r=0;r<e.length;r++){const a=e[r];if(a in n)continue;if(a===this.pathwayId)return;const o=this.hls.nextLoadLevel,l=this.hls.levels[o];if(i=this.getLevelsForPathway(a),i.length>0){this.log(`Setting Pathway to "${a}"`),this.pathwayId=a,D$(i),this.hls.trigger(U.LEVELS_UPDATED,{levels:i});const c=this.hls.levels[o];l&&c&&this.levels&&(c.attrs["STABLE-VARIANT-ID"]!==l.attrs["STABLE-VARIANT-ID"]&&c.bitrate!==l.bitrate&&this.log(`Unstable Pathways change from bitrate ${l.bitrate} to ${c.bitrate}`),this.hls.nextLoadLevel=o);break}}}getPathwayForGroupId(e,i,n){const s=this.getLevelsForPathway(n).concat(this.levels||[]);for(let r=0;r<s.length;r++)if(i===At.AUDIO_TRACK&&s[r].hasAudioGroup(e)||i===At.SUBTITLE_TRACK&&s[r].hasSubtitleGroup(e))return s[r].pathwayId;return n}clonePathways(e){const i=this.levels;if(!i)return;const n={},s={};e.forEach(r=>{const{ID:a,"BASE-ID":o,"URI-REPLACEMENT":l}=r;if(i.some(u=>u.pathwayId===a))return;const c=this.getLevelsForPathway(o).map(u=>{const d=new mi(u.attrs);d["PATHWAY-ID"]=a;const h=d.AUDIO&&`${d.AUDIO}_clone_${a}`,f=d.SUBTITLES&&`${d.SUBTITLES}_clone_${a}`;h&&(n[d.AUDIO]=h,d.AUDIO=h),f&&(s[d.SUBTITLES]=f,d.SUBTITLES=f);const p=AK(u.uri,d["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",l),m=new rh({attrs:d,audioCodec:u.audioCodec,bitrate:u.bitrate,height:u.height,name:u.name,url:p,videoCodec:u.videoCodec,width:u.width});if(u.audioGroups)for(let v=1;v<u.audioGroups.length;v++)m.addGroupId("audio",`${u.audioGroups[v]}_clone_${a}`);if(u.subtitleGroups)for(let v=1;v<u.subtitleGroups.length;v++)m.addGroupId("text",`${u.subtitleGroups[v]}_clone_${a}`);return m});i.push(...c),YF(this.audioTracks,n,l,a),YF(this.subtitleTracks,s,l,a)})}loadSteeringManifest(e){const i=this.hls.config,n=i.loader;this.loader&&this.loader.destroy(),this.loader=new n(i);let s;try{s=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(s.protocol!=="data:"){const u=(this.hls.bandwidthEstimate||i.abrEwmaDefaultEstimate)|0;s.searchParams.set("_HLS_pathway",this.pathwayId),s.searchParams.set("_HLS_throughput",""+u)}const r={responseType:"json",url:s.href},a=i.steeringManifestLoadPolicy.default,o=a.errorRetry||a.timeoutRetry||{},l={loadPolicy:a,timeout:a.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},c={onSuccess:(u,d,h,f)=>{this.log(`Loaded steering manifest: "${s}"`);const p=u.data;if(p.VERSION!==1){this.log(`Steering VERSION ${p.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=p.TTL;const{"RELOAD-URI":m,"PATHWAY-CLONES":v,"PATHWAY-PRIORITY":g}=p;if(m)try{this.uri=new self.URL(m,s).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${m}`);return}this.scheduleRefresh(this.uri||h.url),v&&this.clonePathways(v);const E={steeringManifest:p,url:s.toString()};this.hls.trigger(U.STEERING_MANIFEST_LOADED,E),g&&this.updatePathwayPriority(g)},onError:(u,d,h,f)=>{if(this.log(`Error loading steering manifest: ${u.code} ${u.text} (${d.url})`),this.stopLoad(),u.code===410){this.enabled=!1,this.log(`Steering manifest ${d.url} no longer available`);return}let p=this.timeToLoad*1e3;if(u.code===429){const m=this.loader;if(typeof(m==null?void 0:m.getResponseHeader)=="function"){const v=m.getResponseHeader("Retry-After");v&&(p=parseFloat(v)*1e3)}this.log(`Steering manifest ${d.url} rate limited`);return}this.scheduleRefresh(this.uri||d.url,p)},onTimeout:(u,d,h)=>{this.log(`Timeout loading steering manifest (${d.url})`),this.scheduleRefresh(this.uri||d.url)}};this.log(`Requesting steering manifest: ${s}`),this.loader.load(r,l,c)}scheduleRefresh(e,i=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var n;const s=(n=this.hls)==null?void 0:n.media;if(s&&!s.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},i)}}function YF(t,e,i,n){t&&Object.keys(e).forEach(s=>{const r=t.filter(a=>a.groupId===s).map(a=>{const o=Pi({},a);return o.details=void 0,o.attrs=new mi(o.attrs),o.url=o.attrs.URI=AK(a.url,a.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",i),o.groupId=o.attrs["GROUP-ID"]=e[s],o.attrs["PATHWAY-ID"]=n,o});t.push(...r)})}function AK(t,e,i,n){const{HOST:s,PARAMS:r,[i]:a}=n;let o;e&&(o=a==null?void 0:a[e],o&&(t=o));const l=new self.URL(t);return s&&!o&&(l.host=s),r&&Object.keys(r).sort().forEach(c=>{c&&l.searchParams.set(c,r[c])}),l.href}const WMe=/^age:\s*[\d.]+\s*$/im;class SK{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new Vb,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,i,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=i,this.callbacks=n,this.loadInternal()}loadInternal(){const{config:e,context:i}=this;if(!e||!i)return;const n=this.loader=new self.XMLHttpRequest,s=this.stats;s.loading.first=0,s.loaded=0,s.aborted=!1;const r=this.xhrSetup;r?Promise.resolve().then(()=>{if(!(this.loader!==n||this.stats.aborted))return r(n,i.url)}).catch(a=>{if(!(this.loader!==n||this.stats.aborted))return n.open("GET",i.url,!0),r(n,i.url)}).then(()=>{this.loader!==n||this.stats.aborted||this.openAndSendXhr(n,i,e)}).catch(a=>{this.callbacks.onError({code:n.status,text:a.message},i,n,s)}):this.openAndSendXhr(n,i,e)}openAndSendXhr(e,i,n){e.readyState||e.open("GET",i.url,!0);const s=i.headers,{maxTimeToFirstByteMs:r,maxLoadTimeMs:a}=n.loadPolicy;if(s)for(const o in s)e.setRequestHeader(o,s[o]);i.rangeEnd&&e.setRequestHeader("Range","bytes="+i.rangeStart+"-"+(i.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=i.responseType,self.clearTimeout(this.requestTimeout),n.timeout=r&&Ye(r)?r:a,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),n.timeout),e.send()}readystatechange(){const{context:e,loader:i,stats:n}=this;if(!e||!i)return;const s=i.readyState,r=this.config;if(!n.aborted&&s>=2&&(n.loading.first===0&&(n.loading.first=Math.max(self.performance.now(),n.loading.start),r.timeout!==r.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),r.timeout=r.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.loadPolicy.maxLoadTimeMs-(n.loading.first-n.loading.start)))),s===4)){self.clearTimeout(this.requestTimeout),i.onreadystatechange=null,i.onprogress=null;const a=i.status,o=i.responseType==="text"?i.responseText:null;if(a>=200&&a<300){const d=o??i.response;if(d!=null){n.loading.end=Math.max(self.performance.now(),n.loading.first);const h=i.responseType==="arraybuffer"?d.byteLength:d.length;if(n.loaded=n.total=h,n.bwEstimate=n.total*8e3/(n.loading.end-n.loading.first),!this.callbacks)return;const f=this.callbacks.onProgress;if(f&&f(n,e,d,i),!this.callbacks)return;const p={url:i.responseURL,data:d,code:a};this.callbacks.onSuccess(p,n,e,i);return}}const l=r.loadPolicy.errorRetry,c=n.retry,u={url:e.url,data:void 0,code:a};ry(l,c,!1,u)?this.retry(l):(re.error(`${a} while loading ${e.url}`),this.callbacks.onError({code:a,text:i.statusText},e,i,n))}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,i=this.stats.retry;if(ry(e,i,!0))this.retry(e);else{var n;re.warn(`timeout while loading ${(n=this.context)==null?void 0:n.url}`);const s=this.callbacks;s&&(this.abortInternal(),s.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:i,stats:n}=this;this.retryDelay=L9(e,n.retry),n.retry++,re.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${i==null?void 0:i.url}, retrying ${n.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const i=this.stats;i.loaded=e.loaded,e.lengthComputable&&(i.total=e.total)}getCacheAge(){let e=null;if(this.loader&&WMe.test(this.loader.getAllResponseHeaders())){const i=this.loader.getResponseHeader("age");e=i?parseFloat(i):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}function GMe(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const DMe=/(\d+)-(\d+)\/(\d+)/;class $F{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||OMe,this.controller=new self.AbortController,this.stats=new Vb}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,i,n){const s=this.stats;if(s.loading.start)throw new Error("Loader can only be used once.");s.loading.start=self.performance.now();const r=MMe(e,this.controller.signal),a=n.onProgress,o=e.responseType==="arraybuffer",l=o?"byteLength":"length",{maxTimeToFirstByteMs:c,maxLoadTimeMs:u}=i.loadPolicy;this.context=e,this.config=i,this.callbacks=n,this.request=this.fetchSetup(e,r),self.clearTimeout(this.requestTimeout),i.timeout=c&&Ye(c)?c:u,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),n.onTimeout(s,e,this.response)},i.timeout),self.fetch(this.request).then(d=>{this.response=this.loader=d;const h=Math.max(self.performance.now(),s.loading.start);if(self.clearTimeout(this.requestTimeout),i.timeout=u,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),n.onTimeout(s,e,this.response)},u-(h-s.loading.start)),!d.ok){const{status:f,statusText:p}=d;throw new XMe(p||"fetch, bad network response",f,d)}return s.loading.first=h,s.total=PMe(d.headers)||s.total,a&&Ye(i.highWaterMark)?this.loadProgressively(d,s,e,i.highWaterMark,a):o?d.arrayBuffer():e.responseType==="json"?d.json():d.text()}).then(d=>{const h=this.response;if(!h)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),s.loading.end=Math.max(self.performance.now(),s.loading.first);const f=d[l];f&&(s.loaded=s.total=f);const p={url:h.url,data:d,code:h.status};a&&!Ye(i.highWaterMark)&&a(s,e,d,h),n.onSuccess(p,s,e,h)}).catch(d=>{if(self.clearTimeout(this.requestTimeout),s.aborted)return;const h=d&&d.code||0,f=d?d.message:null;n.onError({code:h,text:f},e,d?d.details:null,s)})}getCacheAge(){let e=null;if(this.response){const i=this.response.headers.get("age");e=i?parseFloat(i):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,i,n,s=0,r){const a=new O$,o=e.body.getReader(),l=()=>o.read().then(c=>{if(c.done)return a.dataLength&&r(i,n,a.flush(),e),Promise.resolve(new ArrayBuffer(0));const u=c.value,d=u.length;return i.loaded+=d,d<s||a.dataLength?(a.push(u),a.dataLength>=s&&r(i,n,a.flush(),e)):r(i,n,u,e),l()}).catch(()=>Promise.reject());return l()}}function MMe(t,e){const i={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(Pi({},t.headers))};return t.rangeEnd&&i.headers.set("Range","bytes="+t.rangeStart+"-"+String(t.rangeEnd-1)),i}function ZMe(t){const e=DMe.exec(t);if(e)return parseInt(e[2])-parseInt(e[1])+1}function PMe(t){const e=t.get("Content-Range");if(e){const n=ZMe(e);if(Ye(n))return n}const i=t.get("Content-Length");if(i)return parseInt(i)}function OMe(t,e){return new self.Request(t.url,e)}class XMe extends Error{constructor(e,i,n){super(e),this.code=void 0,this.details=void 0,this.code=i,this.details=n}}const YMe=/\s/,$Me={newCue(t,e,i,n){const s=[];let r,a,o,l,c;const u=self.VTTCue||self.TextTrackCue;for(let h=0;h<n.rows.length;h++)if(r=n.rows[h],o=!0,l=0,c="",!r.isEmpty()){var d;for(let m=0;m<r.chars.length;m++)YMe.test(r.chars[m].uchar)&&o?l++:(c+=r.chars[m].uchar,o=!1);r.cueStartTime=e,e===i&&(i+=1e-4),l>=16?l--:l++;const f=dK(c.trim()),p=O9(e,i,f);t!=null&&(d=t.cues)!=null&&d.getCueById(p)||(a=new u(e,i,f),a.id=p,a.line=h+1,a.align="left",a.position=10+Math.min(80,Math.floor(l*8/32)*10),s.push(a))}return t&&s.length&&(s.sort((h,f)=>h.line==="auto"||f.line==="auto"?0:h.line>8&&f.line>8?f.line-h.line:h.line-f.line),s.forEach(h=>U$(t,h))),s}},KMe={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},TK=cn(cn({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:SK,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:EGe,bufferController:CDe,capLevelController:X9,errorController:lGe,fpsController:QDe,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:E$,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:KMe},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},zMe()),{},{subtitleStreamController:EDe,subtitleTrackController:SDe,timelineController:jDe,audioStreamController:bDe,audioTrackController:vDe,emeController:fd,cmcdController:FMe,contentSteeringController:BMe});function zMe(){return{cueHandler:$Me,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function JMe(t,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const i=FT(t),n=["manifest","level","frag"],s=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return n.forEach(r=>{const a=`${r==="level"?"playlist":r}LoadPolicy`,o=e[a]===void 0,l=[];s.forEach(c=>{const u=`${r}Loading${c}`,d=e[u];if(d!==void 0&&o){l.push(u);const h=i[a].default;switch(e[a]={default:h},c){case"TimeOut":h.maxLoadTimeMs=d,h.maxTimeToFirstByteMs=d;break;case"MaxRetry":h.errorRetry.maxNumRetry=d,h.timeoutRetry.maxNumRetry=d;break;case"RetryDelay":h.errorRetry.retryDelayMs=d,h.timeoutRetry.retryDelayMs=d;break;case"MaxRetryTimeout":h.errorRetry.maxRetryDelayMs=d,h.timeoutRetry.maxRetryDelayMs=d;break}}}),l.length&&re.warn(`hls.js config: "${l.join('", "')}" setting(s) are deprecated, use "${a}": ${JSON.stringify(e[a])}`)}),cn(cn({},i),e)}function FT(t){return t&&typeof t=="object"?Array.isArray(t)?t.map(FT):Object.keys(t).reduce((e,i)=>(e[i]=FT(t[i]),e),{}):t}function jMe(t){const e=t.loader;e!==$F&&e!==SK?(re.log("[config]: Custom loader detected, cannot enable progressive streaming"),t.progressive=!1):GMe()&&(t.loader=$F,t.progressive=!0,t.enableSoftwareAES=!0,re.log("[config]: Progressive streaming enabled, using FetchLoader"))}let B5;class HMe extends k9{constructor(e,i){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=i,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(U.LEVEL_LOADED,this.onLevelLoaded,this),e.on(U.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(U.FRAG_BUFFERED,this.onFragBuffered,this),e.on(U.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(U.LEVEL_LOADED,this.onLevelLoaded,this),e.off(U.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(U.FRAG_BUFFERED,this.onFragBuffered,this),e.off(U.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(i=>{i.loadError=0,i.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,i){this.resetLevels()}onManifestLoaded(e,i){const n=this.hls.config.preferManagedMediaSource,s=[],r={},a={};let o=!1,l=!1,c=!1;i.levels.forEach(u=>{var d,h;const f=u.attrs;let{audioCodec:p,videoCodec:m}=u;((d=p)==null?void 0:d.indexOf("mp4a.40.34"))!==-1&&(B5||(B5=/chrome|firefox/i.test(navigator.userAgent)),B5&&(u.audioCodec=p=void 0)),p&&(u.audioCodec=p=iy(p,n)),((h=m)==null?void 0:h.indexOf("avc1"))===0&&(m=u.videoCodec=WWe(m));const{width:v,height:g,unknownCodecs:E}=u;if(o||(o=!!(v&&g)),l||(l=!!m),c||(c=!!p),E!=null&&E.length||p&&!A5(p,"audio",n)||m&&!A5(m,"video",n))return;const{CODECS:A,"FRAME-RATE":R,"HDCP-LEVEL":I,"PATHWAY-ID":L,RESOLUTION:F,"VIDEO-RANGE":B}=f,Z=`${`${L||"."}-`}${u.bitrate}-${F}-${R}-${A}-${B}-${I}`;if(r[Z])if(r[Z].uri!==u.url&&!u.attrs["PATHWAY-ID"]){const j=a[Z]+=1;u.attrs["PATHWAY-ID"]=new Array(j+1).join(".");const pe=new rh(u);r[Z]=pe,s.push(pe)}else r[Z].addGroupId("audio",f.AUDIO),r[Z].addGroupId("text",f.SUBTITLES);else{const j=new rh(u);r[Z]=j,a[Z]=1,s.push(j)}}),this.filterAndSortMediaOptions(s,i,o,l,c)}filterAndSortMediaOptions(e,i,n,s,r){let a=[],o=[],l=e;if((n||s)&&r&&(l=l.filter(({videoCodec:p,videoRange:m,width:v,height:g})=>(!!p||!!(v&&g))&&jWe(m))),l.length===0){Promise.resolve().then(()=>{if(this.hls){i.levels.length&&this.warn(`One or more CODECS in variant not supported: ${JSON.stringify(i.levels[0].attrs)}`);const p=new Error("no level with compatible codecs found in manifest");this.hls.trigger(U.ERROR,{type:nt.MEDIA_ERROR,details:Ae.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:i.url,error:p,reason:p.message})}});return}if(i.audioTracks){const{preferManagedMediaSource:p}=this.hls.config;a=i.audioTracks.filter(m=>!m.audioCodec||A5(m.audioCodec,"audio",p)),KF(a)}i.subtitles&&(o=i.subtitles,KF(o));const c=l.slice(0);l.sort((p,m)=>{if(p.attrs["HDCP-LEVEL"]!==m.attrs["HDCP-LEVEL"])return(p.attrs["HDCP-LEVEL"]||"")>(m.attrs["HDCP-LEVEL"]||"")?1:-1;if(n&&p.height!==m.height)return p.height-m.height;if(p.frameRate!==m.frameRate)return p.frameRate-m.frameRate;if(p.videoRange!==m.videoRange)return ny.indexOf(p.videoRange)-ny.indexOf(m.videoRange);if(p.videoCodec!==m.videoCodec){const v=eF(p.videoCodec),g=eF(m.videoCodec);if(v!==g)return g-v}if(p.uri===m.uri&&p.codecSet!==m.codecSet){const v=ty(p.codecSet),g=ty(m.codecSet);if(v!==g)return g-v}return p.averageBitrate!==m.averageBitrate?p.averageBitrate-m.averageBitrate:0});let u=c[0];if(this.steering&&(l=this.steering.filterParsedLevels(l),l.length!==c.length)){for(let p=0;p<c.length;p++)if(c[p].pathwayId===l[0].pathwayId){u=c[p];break}}this._levels=l;for(let p=0;p<l.length;p++)if(l[p]===u){var d;this._firstLevel=p;const m=u.bitrate,v=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${l.length} level(s) found, first bitrate: ${m}`),((d=this.hls.userConfig)==null?void 0:d.abrEwmaDefaultEstimate)===void 0){const g=Math.min(m,this.hls.config.abrEwmaDefaultEstimateMax);g>v&&v===TK.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=g)}break}const h=r&&!s,f={levels:l,audioTracks:a,subtitleTracks:o,sessionData:i.sessionData,sessionKeys:i.sessionKeys,firstLevel:this._firstLevel,stats:i.stats,audio:r,video:s,altAudio:!h&&a.some(p=>!!p.url)};this.hls.trigger(U.MANIFEST_PARSED,f),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return this._levels.length===0?null:this._levels}get level(){return this.currentLevelIndex}set level(e){const i=this._levels;if(i.length===0)return;if(e<0||e>=i.length){const u=new Error("invalid level idx"),d=e<0;if(this.hls.trigger(U.ERROR,{type:nt.OTHER_ERROR,details:Ae.LEVEL_SWITCH_ERROR,level:e,fatal:d,error:u,reason:u.message}),d)return;e=Math.min(e,i.length-1)}const n=this.currentLevelIndex,s=this.currentLevel,r=s?s.attrs["PATHWAY-ID"]:void 0,a=i[e],o=a.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=a,n===e&&a.details&&s&&r===o)return;this.log(`Switching to level ${e} (${a.height?a.height+"p ":""}${a.videoRange?a.videoRange+" ":""}${a.codecSet?a.codecSet+" ":""}@${a.bitrate})${o?" with Pathway "+o:""} from level ${n}${r?" with Pathway "+r:""}`);const l={level:e,attrs:a.attrs,details:a.details,bitrate:a.bitrate,averageBitrate:a.averageBitrate,maxBitrate:a.maxBitrate,realBitrate:a.realBitrate,width:a.width,height:a.height,codecSet:a.codecSet,audioCodec:a.audioCodec,videoCodec:a.videoCodec,audioGroups:a.audioGroups,subtitleGroups:a.subtitleGroups,loaded:a.loaded,loadError:a.loadError,fragmentError:a.fragmentError,name:a.name,id:a.id,uri:a.uri,url:a.url,urlId:0,audioGroupIds:a.audioGroupIds,textGroupIds:a.textGroupIds};this.hls.trigger(U.LEVEL_SWITCHING,l);const c=a.details;if(!c||c.live){const u=this.switchParams(a.uri,s==null?void 0:s.details,c);this.loadPlaylist(u)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,i){i.fatal||!i.context||i.context.type===At.LEVEL&&i.context.level===this.level&&this.checkRetry(i)}onFragBuffered(e,{frag:i}){if(i!==void 0&&i.type===qe.MAIN){const n=i.elementaryStreams;if(!Object.keys(n).some(r=>!!n[r]))return;const s=this._levels[i.level];s!=null&&s.loadError&&(this.log(`Resetting level error count of ${s.loadError} on frag buffered`),s.loadError=0)}}onLevelLoaded(e,i){var n;const{level:s,details:r}=i,a=this._levels[s];if(!a){var o;this.warn(`Invalid level index ${s}`),(o=i.deliveryDirectives)!=null&&o.skip&&(r.deltaUpdateFailed=!0);return}s===this.currentLevelIndex?(a.fragmentError===0&&(a.loadError=0),this.playlistLoaded(s,i,a.details)):(n=i.deliveryDirectives)!=null&&n.skip&&(r.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist();const i=this.currentLevelIndex,n=this.currentLevel;if(n&&this.shouldLoadPlaylist(n)){let s=n.uri;if(e)try{s=e.addDirectives(s)}catch(a){this.warn(`Could not construct new URL with HLS Delivery Directives: ${a}`)}const r=n.attrs["PATHWAY-ID"];this.log(`Loading level index ${i}${(e==null?void 0:e.msn)!==void 0?" at sn "+e.msn+" part "+e.part:""} with${r?" Pathway "+r:""} ${s}`),this.clearTimer(),this.hls.trigger(U.LEVEL_LOADING,{url:s,level:i,pathwayId:n.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var i;const n=this._levels.filter((s,r)=>r!==e?!0:(this.steering&&this.steering.removeLevel(s),s===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,s.details&&s.details.fragments.forEach(a=>a.level=-1)),!1));D$(n),this._levels=n,this.currentLevelIndex>-1&&(i=this.currentLevel)!=null&&i.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(U.LEVELS_UPDATED,{levels:n})}onLevelsUpdated(e,{levels:i}){this._levels=i}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:i,maxHdcpLevel:n}=this.hls;this._maxAutoLevel!==i&&(this._maxAutoLevel=i,this.hls.trigger(U.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:i,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:n}))}}function KF(t){const e={};t.forEach(i=>{const n=i.groupId||"";i.id=e[n]=e[n]||0,e[n]++})}class QMe{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const n in this.keyUriToKeyInfo){const s=this.keyUriToKeyInfo[n].loader;if(s){var i;if(e&&e!==((i=s.context)==null?void 0:i.frag.type))return;s.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[e];(i.mediaKeySessionContext||i.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[e].loader;i&&i.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,i=Ae.KEY_LOAD_ERROR,n,s,r){return new Ua({type:nt.NETWORK_ERROR,details:i,fatal:!1,frag:e,response:r,error:n,networkDetails:s})}loadClear(e,i){if(this.emeController&&this.config.emeEnabled){const{sn:n,cc:s}=e;for(let r=0;r<i.length;r++){const a=i[r];if(s<=a.cc&&(n==="initSegment"||a.sn==="initSegment"||n<a.sn)){this.emeController.selectKeySystemFormat(a).then(o=>{a.setKeyFormat(o)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController&&this.config.emeEnabled?this.emeController.selectKeySystemFormat(e).then(i=>this.loadInternal(e,i)):this.loadInternal(e)}loadInternal(e,i){var n,s;i&&e.setKeyFormat(i);const r=e.decryptdata;if(!r){const c=new Error(i?`Expected frag.decryptdata to be defined after setting format ${i}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,Ae.KEY_LOAD_ERROR,c))}const a=r.uri;if(!a)return Promise.reject(this.createKeyLoadError(e,Ae.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${a}"`)));let o=this.keyUriToKeyInfo[a];if((n=o)!=null&&n.decryptdata.key)return r.key=o.decryptdata.key,Promise.resolve({frag:e,keyInfo:o});if((s=o)!=null&&s.keyLoadPromise){var l;switch((l=o.mediaKeySessionContext)==null?void 0:l.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return o.keyLoadPromise.then(c=>(r.key=c.keyInfo.decryptdata.key,{frag:e,keyInfo:o}))}}switch(o=this.keyUriToKeyInfo[a]={decryptdata:r,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},r.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return r.keyFormat==="identity"?this.loadKeyHTTP(o,e):this.loadKeyEME(o,e);case"AES-128":return this.loadKeyHTTP(o,e);default:return Promise.reject(this.createKeyLoadError(e,Ae.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${r.method}"`)))}}loadKeyEME(e,i){const n={frag:i,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const s=this.emeController.loadKey(n);if(s)return(e.keyLoadPromise=s.then(r=>(e.mediaKeySessionContext=r,n))).catch(r=>{throw e.keyLoadPromise=null,r})}return Promise.resolve(n)}loadKeyHTTP(e,i){const n=this.config,s=n.loader,r=new s(n);return i.keyLoader=e.loader=r,e.keyLoadPromise=new Promise((a,o)=>{const l={keyInfo:e,frag:i,responseType:"arraybuffer",url:e.decryptdata.uri},c=n.keyLoadPolicy.default,u={loadPolicy:c,timeout:c.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},d={onSuccess:(h,f,p,m)=>{const{frag:v,keyInfo:g,url:E}=p;if(!v.decryptdata||g!==this.keyUriToKeyInfo[E])return o(this.createKeyLoadError(v,Ae.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),m));g.decryptdata.key=v.decryptdata.key=new Uint8Array(h.data),v.keyLoader=null,g.loader=null,a({frag:v,keyInfo:g})},onError:(h,f,p,m)=>{this.resetLoader(f),o(this.createKeyLoadError(i,Ae.KEY_LOAD_ERROR,new Error(`HTTP Error ${h.code} loading key ${h.text}`),p,cn({url:l.url,data:void 0},h)))},onTimeout:(h,f,p)=>{this.resetLoader(f),o(this.createKeyLoadError(i,Ae.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),p))},onAbort:(h,f,p)=>{this.resetLoader(f),o(this.createKeyLoadError(i,Ae.INTERNAL_ABORTED,new Error("key loading aborted"),p))}};r.load(l,u,d)})}resetLoader(e){const{frag:i,keyInfo:n,url:s}=e,r=n.loader;i.keyLoader===r&&(i.keyLoader=null,n.loader=null),delete this.keyUriToKeyInfo[s],r&&r.destroy()}}function CK(){return self.SourceBuffer||self.WebKitSourceBuffer}function RK(){if(!Fc())return!1;const e=CK();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function qMe(){if(!RK())return!1;const t=Fc();return typeof(t==null?void 0:t.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>t.isTypeSupported(t0(e,"video")))||["mp4a.40.2","fLaC"].some(e=>t.isTypeSupported(t0(e,"audio"))))}function eZe(){var t;const e=CK();return typeof(e==null||(t=e.prototype)==null?void 0:t.changeType)=="function"}const tZe=250,yg=2,iZe=.1,nZe=.05;class sZe{constructor(e,i,n,s){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=i,this.fragmentTracker=n,this.hls=s}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,i){const{config:n,media:s,stalled:r}=this;if(s===null)return;const{currentTime:a,seeking:o}=s,l=this.seeking&&!o,c=!this.seeking&&o;if(this.seeking=o,a!==e){if(this.moved=!0,o||(this.nudgeRetry=0),r!==null){if(this.stallReported){const v=self.performance.now()-r;re.warn(`playback not stuck anymore @${a}, after ${Math.round(v)}ms`),this.stallReported=!1}this.stalled=null}return}if(c||l){this.stalled=null;return}if(s.paused&&!o||s.ended||s.playbackRate===0||!Ht.getBuffered(s).length){this.nudgeRetry=0;return}const u=Ht.bufferInfo(s,a,0),d=u.nextStart||0;if(o){const v=u.len>yg,g=!d||i&&i.start<=a||d-a>yg&&!this.fragmentTracker.getPartialFragment(a);if(v||g)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var h;if(!(u.len>0)&&!d)return;const g=Math.max(d,u.start||0)-a,E=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,R=(E==null||(h=E.details)==null?void 0:h.live)?E.details.targetduration*2:yg,I=this.fragmentTracker.getPartialFragment(a);if(g>0&&(g<=R||I)){s.paused||this._trySkipBufferHole(I);return}}const f=self.performance.now();if(r===null){this.stalled=f;return}const p=f-r;if(!o&&p>=tZe&&(this._reportStall(u),!this.media))return;const m=Ht.bufferInfo(s,a,n.maxBufferHole);this._tryFixBufferStall(m,p)}_tryFixBufferStall(e,i){const{config:n,fragmentTracker:s,media:r}=this;if(r===null)return;const a=r.currentTime,o=s.getPartialFragment(a);o&&(this._trySkipBufferHole(o)||!this.media)||(e.len>n.maxBufferHole||e.nextStart&&e.nextStart-a<n.maxBufferHole)&&i>n.highBufferWatchdogPeriod*1e3&&(re.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){const{hls:i,media:n,stallReported:s}=this;if(!s&&n){this.stallReported=!0;const r=new Error(`Playback stalling at @${n.currentTime} due to low buffer (${JSON.stringify(e)})`);re.warn(r.message),i.trigger(U.ERROR,{type:nt.MEDIA_ERROR,details:Ae.BUFFER_STALLED_ERROR,fatal:!1,error:r,buffer:e.len})}}_trySkipBufferHole(e){const{config:i,hls:n,media:s}=this;if(s===null)return 0;const r=s.currentTime,a=Ht.bufferInfo(s,r,0),o=r<a.start?a.start:a.nextStart;if(o){const l=a.len<=i.maxBufferHole,c=a.len>0&&a.len<1&&s.readyState<3,u=o-r;if(u>0&&(l||c)){if(u>i.maxBufferHole){const{fragmentTracker:h}=this;let f=!1;if(r===0){const p=h.getAppendedFrag(0,qe.MAIN);p&&o<p.end&&(f=!0)}if(!f){const p=e||h.getAppendedFrag(r,qe.MAIN);if(p){let m=!1,v=p.end;for(;v<o;){const g=h.getPartialFragment(v);if(g)v+=g.duration;else{m=!0;break}}if(m)return 0}}}const d=Math.max(o+nZe,r+iZe);if(re.warn(`skipping hole, adjusting currentTime from ${r} to ${d}`),this.moved=!0,this.stalled=null,s.currentTime=d,e&&!e.gap){const h=new Error(`fragment loaded with buffer holes, seeking from ${r} to ${d}`);n.trigger(U.ERROR,{type:nt.MEDIA_ERROR,details:Ae.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:h,reason:h.message,frag:e})}return d}}return 0}_tryNudgeBuffer(){const{config:e,hls:i,media:n,nudgeRetry:s}=this;if(n===null)return;const r=n.currentTime;if(this.nudgeRetry++,s<e.nudgeMaxRetry){const a=r+(s+1)*e.nudgeOffset,o=new Error(`Nudging 'currentTime' from ${r} to ${a}`);re.warn(o.message),n.currentTime=a,i.trigger(U.ERROR,{type:nt.MEDIA_ERROR,details:Ae.BUFFER_NUDGE_ON_STALL,error:o,fatal:!1})}else{const a=new Error(`Playhead still not moving while enough data buffered @${r} after ${e.nudgeMaxRetry} nudges`);re.error(a.message),i.trigger(U.ERROR,{type:nt.MEDIA_ERROR,details:Ae.BUFFER_STALLED_ERROR,error:a,fatal:!0})}}}const rZe=100;class aZe extends B9{constructor(e,i,n){super(e,i,n,"[stream-controller]",qe.MAIN),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(U.MANIFEST_LOADING,this.onManifestLoading,this),e.on(U.MANIFEST_PARSED,this.onManifestParsed,this),e.on(U.LEVEL_LOADING,this.onLevelLoading,this),e.on(U.LEVEL_LOADED,this.onLevelLoaded,this),e.on(U.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(U.ERROR,this.onError,this),e.on(U.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(U.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(U.BUFFER_CREATED,this.onBufferCreated,this),e.on(U.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(U.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(U.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(U.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(U.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(U.MANIFEST_LOADING,this.onManifestLoading,this),e.off(U.MANIFEST_PARSED,this.onManifestParsed,this),e.off(U.LEVEL_LOADED,this.onLevelLoaded,this),e.off(U.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(U.ERROR,this.onError,this),e.off(U.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(U.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(U.BUFFER_CREATED,this.onBufferCreated,this),e.off(U.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(U.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(U.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(e){if(this.levels){const{lastCurrentTime:i,hls:n}=this;if(this.stopLoad(),this.setInterval(rZe),this.level=-1,!this.startFragRequested){let s=n.startLevel;s===-1&&(n.config.testBandwidth&&this.levels.length>1?(s=0,this.bitrateTest=!0):s=n.firstAutoLevel),n.nextLoadLevel=s,this.level=n.loadLevel,this.loadedmetadata=!1}i>0&&e===-1&&(this.log(`Override startPosition with lastCurrentTime @${i.toFixed(3)}`),e=i),this.state=Ne.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=Ne.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case Ne.WAITING_LEVEL:{const{levels:i,level:n}=this,s=i==null?void 0:i[n],r=s==null?void 0:s.details;if(r&&(!r.live||this.levelLastLoaded===s)){if(this.waitForCdnTuneIn(r))break;this.state=Ne.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=Ne.IDLE;break}break}case Ne.FRAG_LOADING_WAITING_RETRY:{var e;const i=self.performance.now(),n=this.retryDate;if(!n||i>=n||(e=this.media)!=null&&e.seeking){const{levels:s,level:r}=this,a=s==null?void 0:s[r];this.resetStartWhenNotLoaded(a||null),this.state=Ne.IDLE}}break}this.state===Ne.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:i,levels:n,media:s}=this;if(i===null||!s&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const r=this.buffering?e.nextLoadLevel:e.loadLevel;if(!(n!=null&&n[r]))return;const a=n[r],o=this.getMainFwdBufferInfo();if(o===null)return;const l=this.getLevelDetails();if(l&&this._streamEnded(o,l)){const m={};this.altAudio&&(m.type="video"),this.hls.trigger(U.BUFFER_EOS,m),this.state=Ne.ENDED;return}if(!this.buffering)return;e.loadLevel!==r&&e.manualLevel===-1&&this.log(`Adapting to level ${r} from level ${this.level}`),this.level=e.nextLoadLevel=r;const c=a.details;if(!c||this.state===Ne.WAITING_LEVEL||c.live&&this.levelLastLoaded!==a){this.level=r,this.state=Ne.WAITING_LEVEL;return}const u=o.len,d=this.getMaxBufferLength(a.maxBitrate);if(u>=d)return;this.backtrackFragment&&this.backtrackFragment.start>o.end&&(this.backtrackFragment=null);const h=this.backtrackFragment?this.backtrackFragment.start:o.end;let f=this.getNextFragment(h,c);if(this.couldBacktrack&&!this.fragPrevious&&f&&f.sn!=="initSegment"&&this.fragmentTracker.getState(f)!==en.OK){var p;const v=((p=this.backtrackFragment)!=null?p:f).sn-c.startSN,g=c.fragments[v-1];g&&f.cc===g.cc&&(f=g,this.fragmentTracker.removeFragment(g))}else this.backtrackFragment&&o.len&&(this.backtrackFragment=null);if(f&&this.isLoopLoading(f,h)){if(!f.gap){const v=this.audioOnly&&!this.altAudio?Gt.AUDIO:Gt.VIDEO,g=(v===Gt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;g&&this.afterBufferFlushed(g,v,qe.MAIN)}f=this.getNextFragmentLoopLoading(f,c,o,qe.MAIN,d)}f&&(f.initSegment&&!f.initSegment.data&&!this.bitrateTest&&(f=f.initSegment),this.loadFragment(f,a,h))}loadFragment(e,i,n){const s=this.fragmentTracker.getState(e);this.fragCurrent=e,s===en.NOT_LOADED||s===en.PARTIAL?e.sn==="initSegment"?this._loadInitSegment(e,i):this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,i)):(this.startFragRequested=!0,super.loadFragment(e,i,n)):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,qe.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:i}=this;if(i!=null&&i.readyState){let n;const s=this.getAppendedFrag(i.currentTime);s&&s.start>1&&this.flushMainBuffer(0,s.start-1);const r=this.getLevelDetails();if(r!=null&&r.live){const o=this.getMainFwdBufferInfo();if(!o||o.len<r.targetduration*2)return}if(!i.paused&&e){const o=this.hls.nextLoadLevel,l=e[o],c=this.fragLastKbps;c&&this.fragCurrent?n=this.fragCurrent.duration*l.maxBitrate/(1e3*c)+1:n=0}else n=0;const a=this.getBufferedFrag(i.currentTime+n);if(a){const o=this.followingBufferedFrag(a);if(o){this.abortCurrentFrag();const l=o.maxStartPTS?o.maxStartPTS:o.start,c=o.duration,u=Math.max(a.end,l+Math.min(Math.max(c-this.config.maxFragLookUpTolerance,c*(this.couldBacktrack?.5:.125)),c*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(u,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case Ne.KEY_LOADING:case Ne.FRAG_LOADING:case Ne.FRAG_LOADING_WAITING_RETRY:case Ne.PARSING:case Ne.PARSED:this.state=Ne.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,i){super.flushMainBuffer(e,i,this.altAudio?"video":null)}onMediaAttached(e,i){super.onMediaAttached(e,i);const n=i.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),n.addEventListener("playing",this.onvplaying),n.addEventListener("seeked",this.onvseeked),this.gapController=new sZe(this.config,n,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const e=this.media,i=e?e.currentTime:null;Ye(i)&&this.log(`Media seeked to ${i.toFixed(3)}`);const n=this.getMainFwdBufferInfo();if(n===null||n.len===0){this.warn(`Main forward buffer length on "seeked" event ${n?n.len:"empty"})`);return}this.tick()}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(U.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(e,i){let n=!1,s=!1;i.levels.forEach(r=>{const a=r.audioCodec;a&&(n=n||a.indexOf("mp4a.40.2")!==-1,s=s||a.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=n&&s&&!eZe(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=i.levels,this.startFragRequested=!1}onLevelLoading(e,i){const{levels:n}=this;if(!n||this.state!==Ne.IDLE)return;const s=n[i.level];(!s.details||s.details.live&&this.levelLastLoaded!==s||this.waitForCdnTuneIn(s.details))&&(this.state=Ne.WAITING_LEVEL)}onLevelLoaded(e,i){var n;const{levels:s}=this,r=i.level,a=i.details,o=a.totalduration;if(!s){this.warn(`Levels were reset while loading level ${r}`);return}this.log(`Level ${r} loaded [${a.startSN},${a.endSN}]${a.lastPartSn?`[part-${a.lastPartSn}-${a.lastPartIndex}]`:""}, cc [${a.startCC}, ${a.endCC}] duration:${o}`);const l=s[r],c=this.fragCurrent;c&&(this.state===Ne.FRAG_LOADING||this.state===Ne.FRAG_LOADING_WAITING_RETRY)&&c.level!==i.level&&c.loader&&this.abortCurrentFrag();let u=0;if(a.live||(n=l.details)!=null&&n.live){var d;if(this.checkLiveUpdate(a),a.deltaUpdateFailed)return;u=this.alignPlaylists(a,l.details,(d=this.levelLastLoaded)==null?void 0:d.details)}if(l.details=a,this.levelLastLoaded=l,this.hls.trigger(U.LEVEL_UPDATED,{details:a,level:r}),this.state===Ne.WAITING_LEVEL){if(this.waitForCdnTuneIn(a))return;this.state=Ne.IDLE}this.startFragRequested?a.live&&this.synchronizeToLiveEdge(a):this.setStartPosition(a,u),this.tick()}_handleFragmentLoadProgress(e){var i;const{frag:n,part:s,payload:r}=e,{levels:a}=this;if(!a){this.warn(`Levels were reset while fragment load was in progress. Fragment ${n.sn} of level ${n.level} will not be buffered`);return}const o=a[n.level],l=o.details;if(!l){this.warn(`Dropping fragment ${n.sn} of level ${n.level} after level details were reset`),this.fragmentTracker.removeFragment(n);return}const c=o.videoCodec,u=l.PTSKnown||!l.live,d=(i=n.initSegment)==null?void 0:i.data,h=this._getAudioCodec(o),f=this.transmuxer=this.transmuxer||new rK(this.hls,qe.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),p=s?s.index:-1,m=p!==-1,v=new F9(n.level,n.sn,n.stats.chunkCount,r.byteLength,p,m),g=this.initPTS[n.cc];f.push(r,d,h,c,n,s,l.totalduration,u,v,g)}onAudioTrackSwitching(e,i){const n=this.altAudio;if(!!!i.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const a=this.fragCurrent;a&&(this.log("Switching to main audio track, cancel main fragment load"),a.abortRequests(),this.fragmentTracker.removeFragment(a)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const r=this.hls;n&&(r.trigger(U.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),r.trigger(U.AUDIO_TRACK_SWITCHED,i)}}onAudioTrackSwitched(e,i){const n=i.id,s=!!this.hls.audioTracks[n].url;if(s){const r=this.videoBuffer;r&&this.mediaBuffer!==r&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=r)}this.altAudio=s,this.tick()}onBufferCreated(e,i){const n=i.tracks;let s,r,a=!1;for(const o in n){const l=n[o];if(l.id==="main"){if(r=o,s=l,o==="video"){const c=n[o];c&&(this.videoBuffer=c.buffer)}}else a=!0}a&&s?(this.log(`Alternate track found, use ${r}.buffered to schedule main fragment loading`),this.mediaBuffer=s.buffer):this.mediaBuffer=this.media}onFragBuffered(e,i){const{frag:n,part:s}=i;if(n&&n.type!==qe.MAIN)return;if(this.fragContextChanged(n)){this.warn(`Fragment ${n.sn}${s?" p: "+s.index:""} of level ${n.level} finished buffering, but was aborted. state: ${this.state}`),this.state===Ne.PARSED&&(this.state=Ne.IDLE);return}const r=s?s.stats:n.stats;this.fragLastKbps=Math.round(8*r.total/(r.buffering.end-r.loading.first)),n.sn!=="initSegment"&&(this.fragPrevious=n),this.fragBufferedComplete(n,s)}onError(e,i){var n;if(i.fatal){this.state=Ne.ERROR;return}switch(i.details){case Ae.FRAG_GAP:case Ae.FRAG_PARSING_ERROR:case Ae.FRAG_DECRYPT_ERROR:case Ae.FRAG_LOAD_ERROR:case Ae.FRAG_LOAD_TIMEOUT:case Ae.KEY_LOAD_ERROR:case Ae.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(qe.MAIN,i);break;case Ae.LEVEL_LOAD_ERROR:case Ae.LEVEL_LOAD_TIMEOUT:case Ae.LEVEL_PARSING_ERROR:!i.levelRetry&&this.state===Ne.WAITING_LEVEL&&((n=i.context)==null?void 0:n.type)===At.LEVEL&&(this.state=Ne.IDLE);break;case Ae.BUFFER_APPEND_ERROR:case Ae.BUFFER_FULL_ERROR:if(!i.parent||i.parent!=="main")return;if(i.details===Ae.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(i)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case Ae.INTERNAL_EXCEPTION:this.recoverWorkerError(i);break}}checkBuffer(){const{media:e,gapController:i}=this;if(!(!e||!i||!e.readyState)){if(this.loadedmetadata||!Ht.getBuffered(e).length){const n=this.state!==Ne.IDLE?this.fragCurrent:null;i.poll(this.lastCurrentTime,n)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=Ne.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,{type:i}){if(i!==Gt.AUDIO||this.audioOnly&&!this.altAudio){const n=(i===Gt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(n,i,qe.MAIN),this.tick()}}onLevelsUpdated(e,i){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=i.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const i=e.currentTime;let n=this.startPosition;if(n>=0&&i<n){if(e.seeking){this.log(`could not seek to ${n}, already seeking at ${i}`);return}const s=Ht.getBuffered(e),a=(s.length?s.start(0):0)-n;a>0&&(a<this.config.maxBufferHole||a<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${a} to match buffer start`),n+=a,this.startPosition=n),this.log(`seek to target start position ${n} from current time ${i}`),e.currentTime=n}}_getAudioCodec(e){let i=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&i&&(this.log("Swapping audio codec"),i.indexOf("mp4a.40.5")!==-1?i="mp4a.40.2":i="mp4a.40.5"),i}_loadBitrateTestFrag(e,i){e.bitrateTest=!0,this._doFragLoad(e,i).then(n=>{const{hls:s}=this;if(!n||this.fragContextChanged(e))return;i.fragmentError=0,this.state=Ne.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const r=e.stats;r.parsing.start=r.parsing.end=r.buffering.start=r.buffering.end=self.performance.now(),s.trigger(U.FRAG_LOADED,n),e.bitrateTest=!1})}_handleTransmuxComplete(e){var i;const n="main",{hls:s}=this,{remuxResult:r,chunkMeta:a}=e,o=this.getCurrentContext(a);if(!o){this.resetWhenMissingContext(a);return}const{frag:l,part:c,level:u}=o,{video:d,text:h,id3:f,initSegment:p}=r,{details:m}=u,v=this.altAudio?void 0:r.audio;if(this.fragContextChanged(l)){this.fragmentTracker.removeFragment(l);return}if(this.state=Ne.PARSING,p){if(p!=null&&p.tracks){const A=l.initSegment||l;this._bufferInitSegment(u,p.tracks,A,a),s.trigger(U.FRAG_PARSING_INIT_SEGMENT,{frag:A,id:n,tracks:p.tracks})}const g=p.initPTS,E=p.timescale;Ye(g)&&(this.initPTS[l.cc]={baseTime:g,timescale:E},s.trigger(U.INIT_PTS_FOUND,{frag:l,id:n,initPTS:g,timescale:E}))}if(d&&m&&l.sn!=="initSegment"){const g=m.fragments[l.sn-1-m.startSN],E=l.sn===m.startSN,A=!g||l.cc>g.cc;if(r.independent!==!1){const{startPTS:R,endPTS:I,startDTS:L,endDTS:F}=d;if(c)c.elementaryStreams[d.type]={startPTS:R,endPTS:I,startDTS:L,endDTS:F};else if(d.firstKeyFrame&&d.independent&&a.id===1&&!A&&(this.couldBacktrack=!0),d.dropped&&d.independent){const B=this.getMainFwdBufferInfo(),G=(B?B.end:this.getLoadPosition())+this.config.maxBufferHole,Z=d.firstKeyFramePTS?d.firstKeyFramePTS:R;if(!E&&G<Z-this.config.maxBufferHole&&!A){this.backtrack(l);return}else A&&(l.gap=!0);l.setElementaryStreamInfo(d.type,l.start,I,l.start,F,!0)}else E&&R>yg&&(l.gap=!0);l.setElementaryStreamInfo(d.type,R,I,L,F),this.backtrackFragment&&(this.backtrackFragment=l),this.bufferFragmentData(d,l,c,a,E||A)}else if(E||A)l.gap=!0;else{this.backtrack(l);return}}if(v){const{startPTS:g,endPTS:E,startDTS:A,endDTS:R}=v;c&&(c.elementaryStreams[Gt.AUDIO]={startPTS:g,endPTS:E,startDTS:A,endDTS:R}),l.setElementaryStreamInfo(Gt.AUDIO,g,E,A,R),this.bufferFragmentData(v,l,c,a)}if(m&&f!=null&&(i=f.samples)!=null&&i.length){const g={id:n,frag:l,details:m,samples:f.samples};s.trigger(U.FRAG_PARSING_METADATA,g)}if(m&&h){const g={id:n,frag:l,details:m,samples:h.samples};s.trigger(U.FRAG_PARSING_USERDATA,g)}}_bufferInitSegment(e,i,n,s){if(this.state!==Ne.PARSING)return;this.audioOnly=!!i.audio&&!i.video,this.altAudio&&!this.audioOnly&&delete i.audio;const{audio:r,video:a,audiovideo:o}=i;if(r){let l=e.audioCodec;const c=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){l&&(l.indexOf("mp4a.40.5")!==-1?l="mp4a.40.2":l="mp4a.40.5");const u=r.metadata;u&&"channelCount"in u&&(u.channelCount||1)!==1&&c.indexOf("firefox")===-1&&(l="mp4a.40.5")}l&&l.indexOf("mp4a.40.5")!==-1&&c.indexOf("android")!==-1&&r.container!=="audio/mpeg"&&(l="mp4a.40.2",this.log(`Android: force audio codec to ${l}`)),e.audioCodec&&e.audioCodec!==l&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${l}"`),r.levelCodec=l,r.id="main",this.log(`Init audio buffer, container:${r.container}, codecs[selected/level/parsed]=[${l||""}/${e.audioCodec||""}/${r.codec}]`)}a&&(a.levelCodec=e.videoCodec,a.id="main",this.log(`Init video buffer, container:${a.container}, codecs[level/parsed]=[${e.videoCodec||""}/${a.codec}]`)),o&&this.log(`Init audiovideo buffer, container:${o.container}, codecs[level/parsed]=[${e.codecs}/${o.codec}]`),this.hls.trigger(U.BUFFER_CODECS,i),Object.keys(i).forEach(l=>{const u=i[l].initSegment;u!=null&&u.byteLength&&this.hls.trigger(U.BUFFER_APPENDING,{type:l,data:u,frag:n,part:null,chunkMeta:s,parent:n.type})}),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,qe.MAIN)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=Ne.IDLE}checkFragmentChanged(){const e=this.media;let i=null;if(e&&e.readyState>1&&e.seeking===!1){const n=e.currentTime;if(Ht.isBuffered(e,n)?i=this.getAppendedFrag(n):Ht.isBuffered(e,n+.1)&&(i=this.getAppendedFrag(n+.1)),i){this.backtrackFragment=null;const s=this.fragPlaying,r=i.level;(!s||i.sn!==s.sn||s.level!==r)&&(this.fragPlaying=i,this.hls.trigger(U.FRAG_CHANGED,{frag:i}),(!s||s.level!==r)&&this.hls.trigger(U.LEVEL_SWITCHED,{level:r}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){const e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){const e=this.media;if(e){const i=e.currentTime,n=this.currentFrag;if(n&&Ye(i)&&Ye(n.programDateTime)){const s=n.programDateTime+(i-n.start)*1e3;return new Date(s)}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class el{static get version(){return"1.5.20"}static isMSESupported(){return RK()}static isSupported(){return qMe()}static getMediaSource(){return Fc()}static get Events(){return U}static get ErrorTypes(){return nt}static get ErrorDetails(){return Ae}static get DefaultConfig(){return el.defaultConfig?el.defaultConfig:TK}static set DefaultConfig(e){el.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new Z9,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,zBe(e.debug||!1,"Hls instance");const i=this.config=JMe(el.DefaultConfig,e);this.userConfig=e,i.progressive&&jMe(i);const{abrController:n,bufferController:s,capLevelController:r,errorController:a,fpsController:o}=i,l=new a(this),c=this.abrController=new n(this),u=this.bufferController=new s(this),d=this.capLevelController=new r(this),h=new o(this),f=new PWe(this),p=new KWe(this),m=i.contentSteeringController,v=m?new m(this):null,g=this.levelController=new HMe(this,v),E=new SGe(this),A=new QMe(this.config),R=this.streamController=new aZe(this,E,A);d.setStreamController(R),h.setStreamController(R);const I=[f,g,R];v&&I.splice(1,0,v),this.networkControllers=I;const L=[c,u,d,h,p,E];this.audioTrackController=this.createController(i.audioTrackController,I);const F=i.audioStreamController;F&&I.push(new F(this,E,A)),this.subtitleTrackController=this.createController(i.subtitleTrackController,I);const B=i.subtitleStreamController;B&&I.push(new B(this,E,A)),this.createController(i.timelineController,L),A.emeController=this.emeController=this.createController(i.emeController,L),this.cmcdController=this.createController(i.cmcdController,L),this.latencyController=this.createController(zWe,L),this.coreComponents=L,I.push(l);const G=l.onErrorOut;typeof G=="function"&&this.on(U.ERROR,G,l)}createController(e,i){if(e){const n=new e(this);return i&&i.push(n),n}return null}on(e,i,n=this){this._emitter.on(e,i,n)}once(e,i,n=this){this._emitter.once(e,i,n)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,i,n=this,s){this._emitter.off(e,i,n,s)}listeners(e){return this._emitter.listeners(e)}emit(e,i,n){return this._emitter.emit(e,i,n)}trigger(e,i){if(this.config.debug)return this.emit(e,e,i);try{return this.emit(e,e,i)}catch(n){if(re.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),!this.triggeringException){this.triggeringException=!0;const s=e===U.ERROR;this.trigger(U.ERROR,{type:nt.OTHER_ERROR,details:Ae.INTERNAL_EXCEPTION,fatal:s,event:e,error:n}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){re.log("destroy"),this.trigger(U.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(i=>i.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(i=>i.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){re.log("attachMedia"),this._media=e,this.trigger(U.MEDIA_ATTACHING,{media:e})}detachMedia(){re.log("detachMedia"),this.trigger(U.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const i=this.media,n=this.url,s=this.url=_9.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,re.log(`loadSource:${s}`),i&&n&&(n!==s||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(i)),this.trigger(U.MANIFEST_LOADING,{url:e})}startLoad(e=-1){re.log(`startLoad(${e})`),this.started=!0,this.resumeBuffering();for(let i=0;i<this.networkControllers.length&&(this.networkControllers[i].startLoad(e),!(!this.started||!this.networkControllers));i++);}stopLoad(){re.log("stopLoad"),this.started=!1;for(let e=0;e<this.networkControllers.length&&(this.networkControllers[e].stopLoad(),!(this.started||!this.networkControllers));e++);}resumeBuffering(){re.log("resume buffering"),this.networkControllers.forEach(e=>{e.resumeBuffering&&e.resumeBuffering()})}pauseBuffering(){re.log("pause buffering"),this.networkControllers.forEach(e=>{e.pauseBuffering&&e.pauseBuffering()})}swapAudioCodec(){re.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){re.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e){this.levelController.removeLevel(e)}get levels(){const e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){re.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){re.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){re.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){re.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){re.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const i=!!e;i!==this.config.capLevelToPlayerSize&&(i?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=i)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(re.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){JWe(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:i}}=this;if(!e)return 0;const n=e.length;for(let s=0;s<n;s++)if(e[s].maxBitrate>=i)return s;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:i,maxHdcpLevel:n}=this;let s;if(i===-1&&e!=null&&e.length?s=e.length-1:s=i,n)for(let r=s;r--;){const a=e[r].attrs["HDCP-LEVEL"];if(a&&a<=n)return r}return s}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(e){var i;return(i=this.audioTrackController)==null?void 0:i.setAudioOption(e)}setSubtitleOption(e){var i;return(i=this.subtitleTrackController)==null||i.setSubtitleOption(e),null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const i=this.audioTrackController;i&&(i.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const i=this.subtitleTrackController;i&&(i.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const i=this.subtitleTrackController;i&&(i.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}el.defaultConfig=void 0;const oZe=Lt.video`
    object-fit: contain;
    width: 100%;
    height: 100%;
`,lZe=Lt.iframe`
    object-fit: contain;
    width: 100%;
    height: 100%;
    border: none;
    margin: 0;
    padding: 0;
`,cZe=Lt.div`
    width: 100%;
    padding-top: 28.125%;
    padding-bottom: 28.125%;
    text-align: center;

    > img {
        width: 60px;
        height: 60px;

        animation: spin 2s linear infinite;

        @keyframes spin {
            from {
                transform:rotate(0deg);
            }
            to {
                transform:rotate(360deg);
            }
        }
    }
`,uZe=Lt.div`
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, .7);
    backdrop-filter: blur(1px);
    cursor: pointer;

    display: flex;
    align-items: center;
    justify-content: center;
`,dZe=Lt.button`
  position: absolute;
  top: 20px;
  right: 20px;
`,hZe=V("div")({name:"PauseAdOverlay",class:"pw9gih8",propsAsIs:!1}),fZe=V("div")({name:"PauseAdContent",class:"p8lpomy",propsAsIs:!1}),pZe=V("div")({name:"PauseAdTopLeft",class:"pv7u167",propsAsIs:!1}),mZe=V("h2")({name:"PauseAdTitle",class:"p1kh2yb0",propsAsIs:!1}),gZe=V("p")({name:"PauseAdCaption",class:"pl8f94x",propsAsIs:!1}),yZe=V("div")({name:"PauseAdBottomLeft",class:"p1m6zmrt",propsAsIs:!1}),bZe=V("button")({name:"PauseAdPlayButton",class:"pm3vwfa",propsAsIs:!1}),vZe=V("div")({name:"PauseAdSidebarGradient",class:"p1tibuhw",propsAsIs:!1}),EZe=V("div")({name:"PauseAdSidebar",class:"ptqqrqd",propsAsIs:!1}),AZe=V("span")({name:"PauseAdTitleDescription",class:"p14estxv",propsAsIs:!1}),zF=V("img")({name:"ExternalAdContainer",class:"e1dpvfl1",propsAsIs:!1}),SZe=({vastUrl:t,isDesktop:e,content:i})=>(x.useEffect(()=>{i.imageSrc&&i.id&&di.emit("exposedPauseAd",{action:"rendered",payload:{id:i.id,parentId:i.parentId}})},[i,t]),i!=null&&i.imageSrc?!i.adUrl||!e?b.jsx(zF,{src:i.imageSrc}):b.jsx("a",{onClick:()=>{di.emit("exposedPauseAd",{action:"navigated",payload:{id:i.id,parentId:i.parentId}})},href:i.adUrl,target:"_blank",rel:"noopener noreferrer",children:b.jsx(zF,{src:i.imageSrc})}):null),TZe=({isClosing:t,content:e,externalPauseAdStore:i,title:n,caption:s,onPlay:r,onClose:a,vastUrl:o,options:l,isDesktop:c})=>{const u=(l==null?void 0:l.showPauseButton)??!0,{ref:d,focusSelf:h}=sM.useFocusable({focusKey:"sl-pause-ad-play",onEnterRelease:r,isFocusBoundary:!0,forceFocus:!0});return x.useEffect(()=>()=>{i.revalidate()},[i]),x.useEffect(()=>{d.current&&h()},[d,h]),x.useEffect(()=>{if(!a)return()=>{};const f=p=>{const m=p.keyCode;if(m===461||m===10009||m===27||m===8){p.preventDefault(),p.stopPropagation(),p.stopImmediatePropagation(),a();return}};return window.addEventListener("keydown",f,{capture:!0}),()=>window.removeEventListener("keydown",f,{capture:!0})},[a]),b.jsx(hZe,{className:Ot("SL_PauseAd",t&&"pause-ad-closing"),children:b.jsxs(fZe,{children:[b.jsxs(pZe,{children:[b.jsx(mZe,{children:n}),b.jsx(gZe,{children:s})]}),u&&b.jsx(yZe,{children:b.jsx(bZe,{ref:d,onClick:r,onMouseEnter:()=>d.current.focus(),"aria-label":"Resume playback"})}),b.jsx(vZe,{className:"SL_PauseAdSidebar",children:b.jsxs(EZe,{children:[o&&b.jsx(SZe,{content:e,isDesktop:c,vastUrl:o}),b.jsx(AZe,{children:"ADVERTISEMENT"})]})})]})})},CZe=({showPauseAd:t,vastUrls:e,title:i,caption:n,sdk:s,onClose:r,onRender:a,options:o,isDesktop:l})=>{const c=(o==null?void 0:o.pauseAdDelay)??0,u=(o==null?void 0:o.pauseAdRefetchInterval)??1e3*60*50,[d,h]=x.useState(!1),[f,p]=x.useState(!1),m=x.useRef(),v=e==null?void 0:e[0].url,g=x.useRef(v),E=x.useRef(""),A=x.useRef("");g.current=v;const[R,I]=s.advertisement.getExternalPauseAd(v,{refetchInterval:u,$enabled:c===0||!!t,prefetch:c===0&&u>0}),L=dt(R),F=x.useCallback(()=>{if(r){A.current=g.current;const G=R.get().data;di.emit("exposedPauseAd",{action:"closed",payload:(G==null?void 0:G.url)===A.current?{id:G==null?void 0:G.id,parentId:G==null?void 0:G.parentId}:{}}),r()}},[r,R]),B=x.useCallback(()=>{s.controlVideoPlayer({play:!0})},[s]);return x.useEffect(()=>{I===g.current&&L.error&&(console.log("error",L.error),clearTimeout(m.current),F==null||F())},[L,F,I]),x.useEffect(()=>{if(t&&v){E.current=g.current,A.current="";const G=R.get().data;di.emit("exposedPauseAd",{action:"enabled",payload:(G==null?void 0:G.url)===E.current?{id:G==null?void 0:G.id,parentId:G==null?void 0:G.parentId}:{}});const Z=()=>{const j=R.get(),pe=j.data;(pe==null?void 0:pe.url)===g.current&&(!j.loading&&pe!=null&&pe.imageSrc?(clearTimeout(m.current),p(!1),h(!0)):j.loading&&(m.current=setTimeout(()=>{console.log("checkAndAllowRender timeout"),Z()},200)))};clearTimeout(m.current),m.current=setTimeout(()=>{Z()},c)}else{if(A.current!==g.current){const G=R.get().data;A.current="",E.current!==""&&(di.emit("exposedPauseAd",{action:"disabled",payload:E.current===(G==null?void 0:G.url)?{id:G==null?void 0:G.id,parentId:G==null?void 0:G.parentId}:{}}),E.current="")}p(!0),m.current=setTimeout(()=>{h(!1)},400)}return()=>{m.current&&clearTimeout(m.current)}},[R,F,c,t,v]),x.useEffect(()=>{a==null||a({rendered:d})},[d,a]),x.useEffect(()=>()=>{a==null||a({rendered:!1})},[a]),!d||!L.data?null:b.jsx(TZe,{onClose:F,isClosing:f,title:i,caption:n,onPlay:B,vastUrl:v,options:o,isDesktop:l,externalPauseAdStore:R,content:L.data})},RZe=({showPauseAd:t,pauseAdVastUrl:e,videoPlayerController:i,onRenderPauseAd:n,onClosePauseAd:s,children:r,options:a})=>{const o=So(),l=Mc(),c=x.useRef();return x.useEffect(()=>o?(i&&(c.current=i,o.addVideoPlayerController(c.current)),()=>{c.current&&o.removeVideoPlayerController(c.current)}):()=>{},[o,i]),o?b.jsx("div",{className:"StreamLayerSDK",children:b.jsxs(Zc,{style:r?{position:"relative"}:{},customTheme:l.theme,themeMode:l.themeMode,children:[r,e&&b.jsx(CZe,{sdk:o,showPauseAd:t,vastUrls:e,onClose:s,onRender:n,options:a,isDesktop:!0})]})}):r};class IZe extends x.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(e,i){console.error(e,i.componentStack)}render(){return this.state.hasError?this.props.children:b.jsx(RZe,{...this.props})}}const wZe=({interacted:t,setInteracted:e,muted:i,setMuted:n})=>{const[s,r]=x.useState(!1),[a,o]=x.useState(!1),l=x.useRef(null),c=x.useRef(),u=So(),[d,h]=x.useState(""),[f,p]=x.useState(""),[m,v]=x.useState(!1),g=x.useCallback(()=>{r(!1)},[]),E=x.useCallback(F=>{o(F.rendered)},[]),A=x.useCallback(()=>{r(!1)},[]),R=x.useCallback(()=>{r(!0)},[]);x.useEffect(()=>{if(u)return u.streamSummary().subscribe(F=>{var B,G,Z,j,pe;(G=(B=F.data)==null?void 0:B.summary)!=null&&G.stream&&h(F.data.summary.stream),(pe=(j=(Z=F.data)==null?void 0:Z.summary)==null?void 0:j.pauseAdUrl)!=null&&pe[0]&&p(F.data.summary.pauseAdUrl[0])})},[u]),x.useEffect(()=>()=>{c.current&&clearTimeout(c.current)},[]),x.useEffect(()=>{if(d&&d.includes("m3u8"))if(el.isSupported()&&l.current){const F=new el({debug:!1});F.loadSource(d),F.attachMedia(l.current)}else h("");l.current&&(l.current.volume=.1,l.current.play().then(()=>e(!0)).catch(()=>{v(!0)}))},[d]),x.useEffect(()=>{var F;t&&m&&((F=l.current)==null||F.play())},[t,m]);const I=!a,L=x.useCallback(F=>{const B=l.current;B&&F.play===!0&&(r(!1),B.play())},[]);return d?d.includes("player.castr.com")?b.jsx(lZe,{src:`${d}?loop=on&fullscreen=off&airplay=off&cast=off&pip=off`,width:"100%",height:"100%",frameBorder:"0",scrolling:"no",allow:"autoplay"}):b.jsxs(b.Fragment,{children:[b.jsx(IZe,{showPauseAd:s,onRenderPauseAd:E,onClosePauseAd:g,videoPlayerController:L,pauseAdVastUrl:f?[{template:"default",url:f}]:void 0,children:b.jsx(oZe,{src:d,ref:l,muted:i,onPlay:A,onPause:R,onEnded:R,autoPlay:!0,loop:!0,playsInline:!0,controls:I,controlsList:"nodownload nofullscreen noremoteplayback"})}),I&&b.jsx(dZe,{onClick:()=>n(F=>!F),children:i?"unmute":"mute"}),!t&&m&&b.jsx(uZe,{children:"Click to start"})]}):b.jsx(cZe,{children:b.jsx("img",{src:"https://cdn.streamlayer.io/sdk-web-demo/loader.png"})})};var _Ze={};const Tl=_Ze.SL_DEBUG==="true",xZe=Lt.div`
  ${Tl&&"background: green;"}
  width: 100%;
  height: 100%;

  display: flex;

  --banner-height: 155px;
  --banner-padding: 17px;
  --sidebar-width: 450px;
  --video-player-position: absolute;
  --transition-duration: .5s;

  --show-in-animation: show-in .3s ease forwards var(--transition-duration);

  @keyframes show-in {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
  }

  ${kc(`
    --banner-height: 95px;
    --banner-padding: 10px;
    --sidebar-width: 300px;
  `)}

  ${Cr(`
    flex-direction: column;
    height: auto;

    --video-player-position: static;
    --banner-height: 0px;
    --banner-padding: 0px;
    --sidebar-width: 0px;
  `)}
`,NZe=Lt.div`
  ${Tl&&"background: blue;"}
  flex: 1 0 auto;
  display: flex;
  flex-direction: column;

  transition: width .5s ease;
`,VZe=Lt.div`
  ${Tl&&"background: orange;"}
  overflow: hidden;

  transition: width .5s ease;
`,LZe=Lt.div`
  ${Tl&&"background: purple;"}
  margin: auto;
  width: 100%;
  max-width: 450px;
  display: block;
  padding: 10px;
  box-sizing: border-box;

  @keyframes grow-in-sidebar {
      from {
          max-width: 0px;
      }
      to {
          max-width: 450px;
      }
  }
`,kZe=Lt.div`
  ${Tl&&"background: yellow;"}
  width: 100%;

  transition: height .5s ease;
  box-sizing: border-box;
`,FZe=Lt.div`
  ${Tl&&"background: red;"}
  flex: 1 0 auto;
  display: flex;
  align-items: center;
  justify-content: center;

  transition: height .5s ease;
`,UZe=Lt.div`
  width: 100%;
  aspect-ratio: 16/9;
  position: relative;
`,BZe=Lt.div`
  ${Tl&&"background: black;"}
  position: var(--video-player-position);
  height: 100%;
  inset: 0;
`,WZe=Lt.div`
   position: absolute;
    bottom: 41px;
    left: 56px;
    z-index: 11;
    background: transparent;
    flex-shrink: 0;
    max-width: 450px;
    max-height: min(640px, 100%);
    display: flex;
    border-radius: 24px;
    overflow: hidden;
    width: 100%;

    .PromoOverlayContainer {
        animation: grow-in-overlay .3s ease forwards;
        transform-origin: bottom;

        @keyframes grow-in-overlay {
            from {
                transform: scaleY(0);
            }
            to {
                transform: scaleY(1);
            }
        }

        > div {
            opacity: 0;
            animation: show-in-overlay .3s ease forwards .3s;

            @keyframes show-in-overlay {
                from {
                    opacity: 0;
                }
                to {
                    opacity: 1;
                }
            }
        }
    }

    > div {
        max-width: 100%;
        width: 100%;
    }

    .PromoOverlay {
        max-height: 640px;

        ${kc(`
            max-height: min(377px, calc(100dvh - 16px));
        `)}
    }

    ${kc(`
        max-width: 300px;
        max-height: min(377px, calc(100dvh - 16px));
        left: 16px;
        bottom: 8px;
    `)}
`,GZe=Lt.div`
  position: absolute;
  width: 100%;
  bottom: 0;
  left: 0;

  ${Tl&&"background: brown;"}

  ${Cr(`
      position: static;
      margin-top: -4px;
  `)}

  .SL_Rich_Notification {
    margin-left: 56px;
    margin-bottom: 20px;

    ${kc(`
      margin-left: 32px;
      margin-bottom: -4px;
    `)}

    ${Cr(`
        margin-top: -35px;
        margin-left: 8px;
        margin-right: 8px;
    `)}
  }

  .SL_Lower_Third_Notification {
    ${Cr(`
      transform: translateY(-100%);
    `)}

    @media only screen and (max-width: 768px) and (orientation: portrait) {
      transform: translateY(0);
    }
  }
`,DZe=Lt.div`
  position: absolute;
  top: 15px;
  left: 15px;
`,MZe=Lt.div`
  position: absolute;
  bottom: 20px;
  left: 20px;
`,ZZe=()=>{const[t,e]=x.useState("desktop");return x.useEffect(()=>{const i=u2(()=>{const n=window.innerWidth,s=window.innerHeight,r=n>s?"landscape":"portrait";e(n<1024&&r==="portrait"?"mobile":"desktop")},200);return i(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[]),t},PZe=({mode:t,interacted:e,points:i,sidebar:n,overlay:s,appNotification:r,adNotification:a,banner:o,video:l})=>{const c=Th(),u=x.useRef(null),d=x.useRef(null),h=x.useCallback(()=>{const R=d.current,I=u.current;if(!R||!I)return;const{width:L,height:F}=R.getBoundingClientRect(),{width:B,height:G}=I.getBoundingClientRect();(L>B||F>G)&&(R.style.width==="100%"?(R.style.height="100%",R.style.width="auto"):(R.style.width="100%",R.style.height="auto"))},[]);x.useEffect(()=>{if(u.current){const R=new ResizeObserver(I=>{for(const L of I)L.contentBoxSize&&h()});return R.observe(u.current),()=>{R.disconnect()}}},[]),x.useEffect(h);const f=ZZe();let p=(t==="l-bar"||t==="side-panel")&&(c.app||c.promotionSidebar||c.appSidebar||c.polymarket),m=t==="overlay"&&(c.promotionOverlay||c.promotionSidebar||c.appSidebar||c.polymarket);const v=t==="l-bar"&&(c.promotionBanner||c.appBanner),g=c.promotionNotification&&!c.onboardingNotification,E=c.appNotification||c.onboardingNotification;let A=c.promotionBanner||c.promotionOverlay||c.promotionSidebar||c.promotionNotification;return!e&&c.promotionExternalAd&&(p=!1,m=!1,A=!1),b.jsxs(xZe,{id:(p||m)&&f==="mobile"?void 0:"SLDemoContainer",className:"Container",children:[b.jsxs(NZe,{className:"ContentContainer",style:{width:p?"calc(100% - var(--sidebar-width))":"100%"},children:[b.jsx(FZe,{className:"VideoContainer",ref:u,style:{height:t==="l-bar"?"calc(100% - var(--banner-height))":"100%"},children:b.jsxs(UZe,{ref:d,className:"VideoBox",children:[b.jsx(BZe,{className:"VideoPlayer",children:l}),!A&&b.jsx(DZe,{children:i}),E&&r&&b.jsx(MZe,{children:r})]})}),b.jsx(kZe,{className:"Banner",style:{height:v?"var(--banner-height)":"0px",padding:v?"var(--banner-padding)":"0px"},children:v&&o}),g&&a&&b.jsx(GZe,{children:a}),m&&f==="desktop"&&b.jsx(WZe,{className:"Overlay",children:s})]}),f==="desktop"&&b.jsx(VZe,{style:{width:p?"var(--sidebar-width)":"0px"},className:"Sidebar",children:p&&n}),(p||m)&&f==="mobile"&&b.jsx(LZe,{id:"SLDemoContainer",className:"Demo-SideBarOverlay",children:s})]})},OZe=()=>{const t=So();return x.useEffect(()=>{t==null||t.anonymousAuthorization()},[t]),null},XZe=Lt.div`
    width: 100dvw;
    height: 100dvh;
    background: rgba(0, 22, 43, 0.90);
`,YZe=Lt.div`
    height: calc(100% - var(--nav-bar-height));

    .SL-AdvertisementUIWrap {
        font-size: 24px !important;

        ${kc(`
            font-size: 16px !important;
        `)}
    }

    .SLPolymarketButton {
        position: absolute;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1000;
    }
`,$Ze=Lt.div`
    backdrop-filter: blur(1px);
`,KZe=new Set([FUe]);function zZe(){const[t,e]=x.useState("side-panel"),[i,n]=x.useState("dark"),[s,r]=x.useState(!1),[a,o]=x.useState(!1),[l,c]=x.useState(!1),u=x.useCallback(p=>{p.target instanceof HTMLButtonElement&&e(p.target.name),p.target instanceof HTMLSelectElement&&e(p.target.value)},[]),d=x.useCallback(p=>{p.target instanceof HTMLButtonElement&&n(p.target.name),p.target instanceof HTMLSelectElement&&n(p.target.value)},[]),h=({stage:p,type:m})=>{console.log("onContentActivate",{stage:p,type:m}),r(p==="activate"&&m==="advertisement")},f=({muted:p})=>{console.log("videoPlayerController",p),o(p??!1)};return x.useEffect(()=>{const p=window.localStorage.getItem("with-theme"),m=window.localStorage.getItem("SL_DEBUG");p&&window.localStorage.setItem("with-theme",p),m&&window.localStorage.setItem("SL_DEBUG",m)},[]),b.jsxs(XZe,{className:bBe("app-container",i),onClick:()=>c(!0),children:[b.jsx(DBe,{mode:t,tabs:s,toggleMode:u,theme:i,toggleTheme:d}),b.jsxs(xEe,{containerId:"SLDemoContainer",themeMode:i==="dark"?"dark":"light",videoPlayerController:f,onContentActivate:h,plugins:KZe,withAdNotification:!0,sdkKey:vBe,theme:"custom-theme",production:m$,event:bT,children:[b.jsx(OZe,{}),b.jsx(YZe,{children:b.jsx(PZe,{mode:t,interacted:l,points:b.jsx($Ze,{children:b.jsx(mRe,{})}),sidebar:b.jsxs(b.Fragment,{children:[b.jsx(YN,{withSidebarNotification:!1}),b.jsx(uu,{sidebar:"right",muted:!a,persistent:!0,skipTypeCheck:!0}),b.jsx(GLe,{}),l&&b.jsx(uu,{sidebar:"right",persistent:!0,skipTypeCheck:!0,externalAd:!0})]}),banner:b.jsx(uu,{banner:"bottom",persistent:!0}),video:b.jsxs(b.Fragment,{children:[b.jsx(wZe,{setInteracted:c,muted:a,setMuted:o,interacted:l}),b.jsx(WLe,{})]}),overlay:b.jsxs(b.Fragment,{children:[b.jsx(YN,{withSidebarNotification:!1}),b.jsx(uu,{muted:!a,persistent:!0,skipTypeCheck:!0}),l&&b.jsx(uu,{muted:!a,persistent:!0,skipTypeCheck:!0,externalAd:!0})]}),appNotification:b.jsx(iTe,{}),adNotification:b.jsx(uu,{notification:!0,persistent:!0})})})]})]})}W5.createRoot(document.getElementById("root")).render(b.jsx(zZe,{}));const IK=Object.freeze(Object.defineProperty({__proto__:null,default:HTe},Symbol.toStringTag,{value:"Module"}));
